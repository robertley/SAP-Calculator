"use strict";(self.webpackChunksap_calculator=self.webpackChunksap_calculator||[]).push([[792],{91(fe,K,w){w.d(K,{D:()=>T});const T="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},129(fe,K,w){w.d(K,{A:()=>ne});var T=w(1685),m=w(554);const ne=function ee(te){if(!(0,m.A)(te))return!1;var le=(0,T.A)(te);return"[object Function]"==le||"[object GeneratorFunction]"==le||"[object AsyncFunction]"==le||"[object Proxy]"==le}},135(fe,K,w){w.d(K,{i:()=>ce});var T=w(4385),m=w(8253),q=w(7765),p=w(5722),ne=w(5253),te=w(5998),le=w(1456);const ce=me=>{if(me&&"function"==typeof me[p.s])return(me=>Ee=>{const He=me[p.s]();if("function"!=typeof He.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return He.subscribe(Ee)})(me);if((0,ne.X)(me))return(0,T.v)(me);if((0,te.y)(me))return(me=>Ee=>(me.then(He=>{Ee.closed||(Ee.next(He),Ee.complete())},He=>Ee.error(He)).then(null,m.T),Ee))(me);if(me&&"function"==typeof me[q.lJ])return(me=>Ee=>{const He=me[q.lJ]();for(;;){let Je;try{Je=He.next()}catch(Qe){return Ee.error(Qe),Ee}if(Je.done){Ee.complete();break}if(Ee.next(Je.value),Ee.closed)break}return"function"==typeof He.return&&Ee.add(()=>{He.return&&He.return()}),Ee})(me);{const He=`You provided ${(0,le.G)(me)?"an invalid object":`'${me}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(He)}}},178(fe,K,w){w.d(K,{I:()=>x});var T=w(614),m=w(8253);const x={closed:!0,next(q){},error(q){if(T.$.useDeprecatedSynchronousErrorHandling)throw q;(0,m.T)(q)},complete(){}}},219(fe,K,w){w.d(K,{A:()=>x});var T=w(3746);const x=function m(q){var P=(0,T.A)(this,q).delete(q);return this.size-=P?1:0,P}},253(fe,K,w){w.d(K,{A:()=>P});var T=w(1685),m=w(2661);const P=function q(p){return(0,m.A)(p)&&"[object Arguments]"==(0,T.A)(p)}},259(fe,K,w){w.d(K,{A:()=>te});var T=w(1860),m=w(5554),x="object"==typeof exports&&exports&&!exports.nodeType&&exports,q=x&&"object"==typeof module&&module&&!module.nodeType&&module,p=q&&q.exports===x?T.A.Buffer:void 0;const te=(p?p.isBuffer:void 0)||m.A},309(fe,K,w){w.d(K,{A:()=>m});const m=function T(x){var q=typeof x;return"string"==q||"number"==q||"symbol"==q||"boolean"==q?"__proto__"!==x:null===x}},336(fe,K,w){w.d(K,{A:()=>x});var T=w(1319);const x=function m(q,P){for(var p=q.length;p--;)if((0,T.A)(q[p][0],P))return p;return-1}},340(fe,K,w){w.d(K,{A:()=>m});const m=function T(x){return this.__data__.get(x)}},355(fe,K,w){w.d(K,{A:()=>P});var T=w(336),x=Array.prototype.splice;const P=function q(p){var ee=this.__data__,ne=(0,T.A)(ee,p);return!(ne<0||(ne==ee.length-1?ee.pop():x.call(ee,ne,1),--this.size,0))}},467(fe,K,w){function T(x,q,P,p,ee,ne,te){try{var le=x[ne](te),ce=le.value}catch(me){return void P(me)}le.done?q(ce):Promise.resolve(ce).then(p,ee)}function m(x){return function(){var q=this,P=arguments;return new Promise(function(p,ee){var ne=x.apply(q,P);function te(ce){T(ne,p,ee,te,le,"next",ce)}function le(ce){T(ne,p,ee,te,le,"throw",ce)}te(void 0)})}}w.d(K,{A:()=>m})},554(fe,K,w){w.d(K,{A:()=>m});const m=function T(x){var q=typeof x;return null!=x&&("object"==q||"function"==q)}},563(fe,K,w){w.d(K,{A:()=>m});const m=function T(x,q){for(var P=-1,p=q.length,ee=x.length;++P<p;)x[ee+P]=q[P];return x}},568(fe,K,w){w.d(K,{A:()=>mi});var T=w(1685),m=w(5481),x=w(2661),yt={};yt["[object Float32Array]"]=yt["[object Float64Array]"]=yt["[object Int8Array]"]=yt["[object Int16Array]"]=yt["[object Int32Array]"]=yt["[object Uint8Array]"]=yt["[object Uint8ClampedArray]"]=yt["[object Uint16Array]"]=yt["[object Uint32Array]"]=!0,yt["[object Arguments]"]=yt["[object Array]"]=yt["[object ArrayBuffer]"]=yt["[object Boolean]"]=yt["[object DataView]"]=yt["[object Date]"]=yt["[object Error]"]=yt["[object Function]"]=yt["[object Map]"]=yt["[object Number]"]=yt["[object Object]"]=yt["[object RegExp]"]=yt["[object Set]"]=yt["[object String]"]=yt["[object WeakMap]"]=!1;const mi=function Li(Ut){return(0,x.A)(Ut)&&(0,m.A)(Ut.length)&&!!yt[(0,T.A)(Ut)]}},590(fe,K,w){w.d(K,{A:()=>x});var T=w(336);const x=function m(q,P){var p=this.__data__,ee=(0,T.A)(p,q);return ee<0?(++this.size,p.push([q,P])):p[ee][1]=P,this}},614(fe,K,w){w.d(K,{$:()=>m});let T=!1;const m={Promise:void 0,set useDeprecatedSynchronousErrorHandling(x){if(x){const q=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+q.stack)}else T&&console.log("RxJS: Back to a better error behavior. Thank you. <3");T=x},get useDeprecatedSynchronousErrorHandling(){return T}}},618(fe,K,w){w.d(K,{A:()=>x});var T=w(5152);const x=function m(q,P){var p=P?(0,T.A)(q.buffer):q.buffer;return new q.constructor(p,q.byteOffset,q.byteLength)}},712(fe,K,w){w.d(K,{A:()=>q});var T=w(9898),m=w(2697);const q=function x(P,p){return(0,T.A)(P,(0,m.A)(P),p)}},762(fe,K,w){w.d(K,{v:()=>ee});var T=w(8099),m=w(178),x=w(1805),q=w(91),P=w(614),p=w(8253);class ee extends x.y{constructor(le,ce,me){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=m.I;break;case 1:if(!le){this.destination=m.I;break}if("object"==typeof le){le instanceof ee?(this.syncErrorThrowable=le.syncErrorThrowable,this.destination=le,le.add(this)):(this.syncErrorThrowable=!0,this.destination=new ne(this,le));break}default:this.syncErrorThrowable=!0,this.destination=new ne(this,le,ce,me)}}[q.D](){return this}static create(le,ce,me){const Ee=new ee(le,ce,me);return Ee.syncErrorThrowable=!1,Ee}next(le){this.isStopped||this._next(le)}error(le){this.isStopped||(this.isStopped=!0,this._error(le))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(le){this.destination.next(le)}_error(le){this.destination.error(le),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:le}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=le,this}}class ne extends ee{constructor(le,ce,me,Ee){super(),this._parentSubscriber=le;let He,Je=this;(0,T.T)(ce)?He=ce:ce&&(He=ce.next,me=ce.error,Ee=ce.complete,ce!==m.I&&(Je=Object.create(ce),(0,T.T)(Je.unsubscribe)&&this.add(Je.unsubscribe.bind(Je)),Je.unsubscribe=this.unsubscribe.bind(this))),this._context=Je,this._next=He,this._error=me,this._complete=Ee}next(le){if(!this.isStopped&&this._next){const{_parentSubscriber:ce}=this;P.$.useDeprecatedSynchronousErrorHandling&&ce.syncErrorThrowable?this.__tryOrSetError(ce,this._next,le)&&this.unsubscribe():this.__tryOrUnsub(this._next,le)}}error(le){if(!this.isStopped){const{_parentSubscriber:ce}=this,{useDeprecatedSynchronousErrorHandling:me}=P.$;if(this._error)me&&ce.syncErrorThrowable?(this.__tryOrSetError(ce,this._error,le),this.unsubscribe()):(this.__tryOrUnsub(this._error,le),this.unsubscribe());else if(ce.syncErrorThrowable)me?(ce.syncErrorValue=le,ce.syncErrorThrown=!0):(0,p.T)(le),this.unsubscribe();else{if(this.unsubscribe(),me)throw le;(0,p.T)(le)}}}complete(){if(!this.isStopped){const{_parentSubscriber:le}=this;if(this._complete){const ce=()=>this._complete.call(this._context);P.$.useDeprecatedSynchronousErrorHandling&&le.syncErrorThrowable?(this.__tryOrSetError(le,ce),this.unsubscribe()):(this.__tryOrUnsub(ce),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(le,ce){try{le.call(this._context,ce)}catch(me){if(this.unsubscribe(),P.$.useDeprecatedSynchronousErrorHandling)throw me;(0,p.T)(me)}}__tryOrSetError(le,ce,me){if(!P.$.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ce.call(this._context,me)}catch(Ee){return P.$.useDeprecatedSynchronousErrorHandling?(le.syncErrorValue=Ee,le.syncErrorThrown=!0,!0):((0,p.T)(Ee),!0)}return!1}_unsubscribe(){const{_parentSubscriber:le}=this;this._context=null,this._parentSubscriber=null,le.unsubscribe()}}},778(fe,K,w){w.d(K,{A:()=>m});const m=function T(x){return function(q){return x(q)}}},1080(fe,K,w){w.d(K,{b:()=>q});var T=w(8189);const q=new(w(6228).q)(T.R)},1178(fe,K,w){w.d(K,{A:()=>P});var T=w(7901),m=w(8010),x=w(5776);const P=function q(p){return"function"!=typeof p.constructor||(0,x.A)(p)?{}:(0,T.A)((0,m.A)(p))}},1259(fe,K,w){w.d(K,{Y:()=>m});var T=w(1805);class m extends T.y{constructor(q,P){super(),this.subject=q,this.subscriber=P,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const q=this.subject,P=q.observers;if(this.subject=null,!P||0===P.length||q.isStopped||q.closed)return;const p=P.indexOf(this.subscriber);-1!==p&&P.splice(p,1)}}},1270(fe,K,w){w.d(K,{A:()=>ee});var T=w(554),m=w(5776),x=w(3600),P=Object.prototype.hasOwnProperty;const ee=function p(ne){if(!(0,T.A)(ne))return(0,x.A)(ne);var te=(0,m.A)(ne),le=[];for(var ce in ne)"constructor"==ce&&(te||!P.call(ne,ce))||le.push(ce);return le}},1287(fe,K,w){w.d(K,{A:()=>q});var T=w(129),m=w(5481);const q=function x(P){return null!=P&&(0,m.A)(P.length)&&!(0,T.A)(P)}},1319(fe,K,w){w.d(K,{A:()=>m});const m=function T(x,q){return x===q||x!=x&&q!=q}},1374(fe,K,w){w.d(K,{A:()=>p});var T=w(7107),q=Object.prototype.hasOwnProperty;const p=function P(ee){var ne=this.__data__;if(T.A){var te=ne[ee];return"__lodash_hash_undefined__"===te?void 0:te}return q.call(ne,ee)?ne[ee]:void 0}},1387(fe,K,w){w.d(K,{A:()=>x});var T=w(7107);const x=function m(){this.__data__=T.A?(0,T.A)(null):{},this.size=0}},1456(fe,K,w){function T(m){return null!==m&&"object"==typeof m}w.d(K,{G:()=>T})},1679(fe,K,w){let T;function m(){return T}function x(ne){const te=T;return T=ne,te}w.d(K,{Af:()=>m,c4:()=>ee,mu:()=>x});const P=Symbol("NotFound");function ee(ne){return ne===P||"\u0275NotFound"===ne?.name}Error},1685(fe,K,w){w.d(K,{A:()=>ne});var T=w(6944),m=w(6756),x=w(3811),p=T.A?T.A.toStringTag:void 0;const ne=function ee(te){return null==te?void 0===te?"[object Undefined]":"[object Null]":p&&p in Object(te)?(0,m.A)(te):(0,x.A)(te)}},1795(fe,K,w){w.d(K,{A:()=>p});var T=w(2619),m=w(778),x=w(3340),q=x.A&&x.A.isMap;const p=q?(0,m.A)(q):T.A},1805(fe,K,w){w.d(K,{y:()=>P});var ee,T=w(7354),m=w(1456),x=w(8099),q=w(9379);class P{constructor(ne){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ne&&(this._ctorUnsubscribe=!0,this._unsubscribe=ne)}unsubscribe(){let ne;if(this.closed)return;let{_parentOrParents:te,_ctorUnsubscribe:le,_unsubscribe:ce,_subscriptions:me}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,te instanceof P)te.remove(this);else if(null!==te)for(let Ee=0;Ee<te.length;++Ee)te[Ee].remove(this);if((0,x.T)(ce)){le&&(this._unsubscribe=void 0);try{ce.call(this)}catch(Ee){ne=Ee instanceof q.Z?p(Ee.errors):[Ee]}}if((0,T.c)(me)){let Ee=-1,He=me.length;for(;++Ee<He;){const Je=me[Ee];if((0,m.G)(Je))try{Je.unsubscribe()}catch(Qe){ne=ne||[],Qe instanceof q.Z?ne=ne.concat(p(Qe.errors)):ne.push(Qe)}}}if(ne)throw new q.Z(ne)}add(ne){let te=ne;if(!ne)return P.EMPTY;switch(typeof ne){case"function":te=new P(ne);case"object":if(te===this||te.closed||"function"!=typeof te.unsubscribe)return te;if(this.closed)return te.unsubscribe(),te;if(!(te instanceof P)){const me=te;te=new P,te._subscriptions=[me]}break;default:throw new Error("unrecognized teardown "+ne+" added to Subscription.")}let{_parentOrParents:le}=te;if(null===le)te._parentOrParents=this;else if(le instanceof P){if(le===this)return te;te._parentOrParents=[le,this]}else{if(-1!==le.indexOf(this))return te;le.push(this)}const ce=this._subscriptions;return null===ce?this._subscriptions=[te]:ce.push(te),te}remove(ne){const te=this._subscriptions;if(te){const le=te.indexOf(ne);-1!==le&&te.splice(le,1)}}}function p(ee){return ee.reduce((ne,te)=>ne.concat(te instanceof q.Z?te.errors:te),[])}P.EMPTY=((ee=new P).closed=!0,ee)},1827(fe,K,w){w.d(K,{A:()=>x});var T=w(2365);const x=function m(q,P,p){"__proto__"==P&&T.A?(0,T.A)(q,P,{configurable:!0,enumerable:!0,value:p,writable:!0}):q[P]=p}},1860(fe,K,w){w.d(K,{A:()=>q});var T=w(7133),m="object"==typeof self&&self&&self.Object===Object&&self;const q=T.A||m||Function("return this")()},1861(fe,K,w){w.d(K,{A:()=>m});const m=function T(x,q){for(var P=-1,p=null==x?0:x.length,ee=0,ne=[];++P<p;){var te=x[P];q(te,P,x)&&(ne[ee++]=te)}return ne}},1885(fe,K,w){w.d(K,{A:()=>m});const m=function T(x,q){return x?.[q]}},1984(fe,K,w){w.d(K,{A:()=>p});var T=w(1827),m=w(1319),q=Object.prototype.hasOwnProperty;const p=function P(ee,ne,te){var le=ee[ne];(!q.call(ee,ne)||!(0,m.A)(le,te)||void 0===te&&!(ne in ee))&&(0,T.A)(ee,ne,te)}},2063(fe,K,w){w.d(K,{A:()=>q});var T=w(5525),m=w(1860);const q=(0,T.A)(m.A,"Promise")},2145(fe,K,w){w.d(K,{P:()=>m});const m=(()=>{function x(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return x.prototype=Object.create(Error.prototype),x})()},2173(fe,K,w){w.d(K,{A:()=>p});var T=w(5042),m=w(778),x=w(3340),q=x.A&&x.A.isSet;const p=q?(0,m.A)(q):T.A},2234(fe,K,w){function T(m){return m&&"function"==typeof m.schedule}w.d(K,{m:()=>T})},2365(fe,K,w){w.d(K,{A:()=>x});var T=w(5525);const x=function(){try{var q=(0,T.A)(Object,"defineProperty");return q({},"",{}),q}catch{}}()},2495(fe,K,w){w.d(K,{A:()=>m});const m=function T(x){var q=this.has(x)&&delete this.__data__[x];return this.size-=q?1:0,q}},2496(fe,K,w){w.d(K,{V:()=>x});var T=w(7389),m=w(1805);function x(q,P){return new T.c(p=>{const ee=new m.y;let ne=0;return ee.add(P.schedule(function(){ne!==q.length?(p.next(q[ne++]),p.closed||ee.add(this.schedule())):p.complete()})),ee})}},2619(fe,K,w){w.d(K,{A:()=>P});var T=w(3080),m=w(2661);const P=function q(p){return(0,m.A)(p)&&"[object Map]"==(0,T.A)(p)}},2661(fe,K,w){w.d(K,{A:()=>m});const m=function T(x){return null!=x&&"object"==typeof x}},2697(fe,K,w){w.d(K,{A:()=>ee});var T=w(1861),m=w(6032),q=Object.prototype.propertyIsEnumerable,P=Object.getOwnPropertySymbols;const ee=P?function(ne){return null==ne?[]:(ne=Object(ne),(0,T.A)(P(ne),function(te){return q.call(ne,te)}))}:m.A},2917(fe,K,w){w.d(K,{A:()=>p});var T=w(5776),m=w(7939),q=Object.prototype.hasOwnProperty;const p=function P(ee){if(!(0,T.A)(ee))return(0,m.A)(ee);var ne=[];for(var te in Object(ee))q.call(ee,te)&&"constructor"!=te&&ne.push(te);return ne}},2943(fe,K,w){w.d(K,{A:()=>P});var T=w(9320),m=w(3180),x=w(6568);const P=function q(){this.size=0,this.__data__={hash:new T.A,map:new(x.A||m.A),string:new T.A}}},3004(fe,K,w){w.d(K,{gn:()=>p,tS:()=>ne,zA:()=>q});var T=w(762),m=w(7389),x=w(135);class q extends T.v{constructor(le){super(),this.parent=le}_next(le){this.parent.notifyNext(le)}_error(le){this.parent.notifyError(le),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class p extends T.v{notifyNext(le){this.destination.next(le)}notifyError(le){this.destination.error(le)}notifyComplete(){this.destination.complete()}}function ne(te,le){if(le.closed)return;if(te instanceof m.c)return te.subscribe(le);let ce;try{ce=(0,x.i)(te)(le)}catch(me){le.error(me)}return ce}},3080(fe,K,w){w.d(K,{A:()=>Ye});var T=w(8257),m=w(6568),x=w(2063),q=w(4226),P=w(5756),p=w(1685),ee=w(8736),ne="[object Map]",le="[object Promise]",ce="[object Set]",me="[object WeakMap]",Ee="[object DataView]",He=(0,ee.A)(T.A),Je=(0,ee.A)(m.A),Qe=(0,ee.A)(x.A),At=(0,ee.A)(q.A),tt=(0,ee.A)(P.A),mt=p.A;(T.A&&mt(new T.A(new ArrayBuffer(1)))!=Ee||m.A&&mt(new m.A)!=ne||x.A&&mt(x.A.resolve())!=le||q.A&&mt(new q.A)!=ce||P.A&&mt(new P.A)!=me)&&(mt=function(Nt){var Zt=(0,p.A)(Nt),kt="[object Object]"==Zt?Nt.constructor:void 0,ii=kt?(0,ee.A)(kt):"";if(ii)switch(ii){case He:return Ee;case Je:return ne;case Qe:return le;case At:return ce;case tt:return me}return Zt});const Ye=mt},3117(fe,K,w){function T(x,q){q=encodeURIComponent(q);for(const P of x.split(";")){const p=P.indexOf("="),[ee,ne]=-1==p?[P,""]:[P.slice(0,p),P.slice(p+1)];if(ee.trim()===q)return decodeURIComponent(ne)}return null}w.d(K,{N:()=>m,b:()=>T});class m{}},3126(fe,K,w){w.d(K,{A:()=>Ee});var T=w(129),m=w(4541),x=w(554),q=w(8736),p=/^\[object .+?Constructor\]$/,ce=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Ee=function me(He){return!(!(0,x.A)(He)||(0,m.A)(He))&&((0,T.A)(He)?ce:p).test((0,q.A)(He))}},3180(fe,K,w){w.d(K,{A:()=>ee});var T=w(3527),m=w(355),x=w(4402),q=w(4166),P=w(590);function p(ne){var te=-1,le=null==ne?0:ne.length;for(this.clear();++te<le;){var ce=ne[te];this.set(ce[0],ce[1])}}p.prototype.clear=T.A,p.prototype.delete=m.A,p.prototype.get=x.A,p.prototype.has=q.A,p.prototype.set=P.A;const ee=p},3276(fe){fe.exports=JSON.parse('[{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and Spooked until next turn to the nearest friend ahead."},{"Level":2,"About":"End turn: Give +2 attack and Spooked until next turn to the nearest friend ahead."},{"Level":3,"About":"End turn: Give +3 attack and Spooked until next turn to the nearest friend ahead."}],"Id":"624","Name":"???","NameId":"Leafling","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Jump attack the second enemy for 3 damage."},{"Level":2,"About":"Start of battle: Jump attack the second enemy for 6 damage."},{"Level":3,"About":"Start of battle: Jump attack the second enemy for 9 damage."}],"Id":"388","Name":"African Wild Dog","NameId":"AfricanWildDog","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend ahead +1 mana."},{"Level":2,"About":"Start of battle: Give the nearest friend ahead +2 mana."},{"Level":3,"About":"Start of battle: Give the nearest friend ahead +3 mana."}],"Id":"626","Name":"Alchemedes","NameId":"AlchemistBug","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Give one random friend +1 attack and +1 health."},{"Level":2,"About":"Faint: Give one random friend +2 attack and +2 health."},{"Level":3,"About":"Faint: Give one random friend +3 attack and +3 health."}],"Id":"0","Name":"Ant","NameId":"Ant","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"End turn: If turn number is even, replace random ailments with +1 health on two friends."},{"Level":2,"About":"End turn: If turn number is even, replace random ailments with +2 health on two friends."},{"Level":3,"About":"End turn: If turn number is even, replace random ailments with +3 health on two friends."}],"Id":"628","Name":"Baku","NameId":"Baku","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make the last perk-less enemy Spooked."},{"Level":2,"About":"Start of battle: Make the two last perk-less enemies Spooked."},{"Level":3,"About":"Start of battle: Make the three last perk-less enemies Spooked."}],"Id":"621","Name":"Barghest","NameId":"Barghest","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Give two random friends +1 attack."},{"Level":2,"About":"Sell: Give two random friends +2 attack."},{"Level":3,"About":"Sell: Give two random friends +3 attack."}],"Id":"3","Name":"Beaver","NameId":"Beaver","Tier":1,"TierMax":2147483647,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"4","Name":"Bee","NameId":"Bee","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give Walnut perk to nearest friend behind."},{"Level":2,"About":"Start of battle: Give Walnut perk with double effect to nearest friend behind."},{"Level":3,"About":"Start of battle: Give Walnut perk with triple effect to nearest friend behind."}],"Id":"88","Name":"Beetle","NameId":"Beetle","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Block 2 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Give one random friend +1 attack."},{"Level":2,"About":"End turn: Give one random friend +2 attack."},{"Level":3,"About":"End turn: Give one random friend +3 attack."}],"Id":"89","Name":"Bluebird","NameId":"Bluebird","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Two enemy attacks: Deal 1 damage to the first enemy. Works 2 times per battle."},{"Level":2,"About":"Two enemy attacks: Deal 2 damage to the first enemy. Works 2 times per battle."},{"Level":3,"About":"Two enemy attacks: Deal 3 damage to the first enemy. Works 2 times per battle."}],"Id":"401","Name":"Bombus Dahlbomii","NameId":"BombusDahlbomii","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain the Popcorn perk and +1 health."},{"Level":2,"About":"Start of battle: Gain the Popcorn perk and +2 health."},{"Level":3,"About":"Start of battle: Gain the Popcorn perk and +3 health."}],"Id":"775","Name":"Budgie","NameId":"Budgie","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks","Summon"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"After first attack: Gain +2 attack."},{"Level":2,"About":"After first attack: Gain +4 attack."},{"Level":3,"About":"After first attack: Gain +6 attack."}],"Id":"189","Name":"Bulldog","NameId":"Bulldog","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 health for each roll (max 2)."},{"Level":2,"About":"Start of battle: Gain +2 health for each roll (max 2)."},{"Level":3,"About":"Start of battle: Gain +3 health for each roll (max 2)."}],"Id":"601","Name":"Bunyip","NameId":"Bunyip","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"85","Name":"Bus","NameId":"Bus","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"13","Name":"Chick","NameId":"Chick","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Push the most healthy enemy one space forward."},{"Level":2,"About":"Start of battle: Push the most healthy enemy two spaces forward."},{"Level":3,"About":"Start of battle: Push the most healthy enemy three spaces forward."}],"Id":"541","Name":"Chihuahua","NameId":"Chihuahua","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Summon one 2/2 level 1 Loyal Chinchilla."},{"Level":2,"About":"Sell: Summon one 4/4 level 2 Loyal Chinchilla."},{"Level":3,"About":"Sell: Summon one 6/6 level 3 Loyal Chinchilla."}],"Id":"161","Name":"Chinchilla","NameId":"Chinchilla","Tier":1,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Stock one free copy of this pet\'s food perk."},{"Level":2,"About":"Sell: Stock two free copies of this pet\'s food perk."},{"Level":3,"About":"Sell: Stock three free copies of this pet\'s food perk."}],"Id":"184","Name":"Chipmunk","NameId":"Chipmunk","Tier":1,"TierMax":2147483647,"Packs":["Pack2","Pack4"],"PacksRequired":["Pack2","Pack4"],"Rollable":true,"CustomArchetypes":["Perks","Mvp"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Cockroach and give it +1 experience."},{"Level":2,"About":"Faint: Summon one 1/1 Cockroach and give it +2 experience."},{"Level":3,"About":"Faint: Summon one 1/1 Cockroach and give it +3 experience."}],"Id":"18","Name":"Cockroach","NameId":"Cockroach","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels","Summon"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend behind +2 health."},{"Level":2,"About":"Start of battle: Give the nearest friend behind +4 health."},{"Level":3,"About":"Start of battle: Give the nearest friend behind +6 health."}],"Id":"272","Name":"Cone Snail","NameId":"ConeSnail","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Does not provide shop rewards on level-up."},{"Level":2,"About":"Does not provide shop rewards on level-up."},{"Level":3,"About":"Does not provide shop rewards on level-up."}],"Id":"710","Name":"Cooked Roach","NameId":"CockroachToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"647","Name":"Cracked Egg","NameId":"EggLadCracked","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Cricket."},{"Level":2,"About":"Faint: Summon one 2/2 Cricket."},{"Level":3,"About":"Faint: Summon one 3/3 Cricket."}],"Id":"17","Name":"Cricket","NameId":"Cricket","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Attack and health can\'t go over 1."},{"Level":2,"About":"Attack and health can\'t go over 1."},{"Level":3,"About":"Attack and health can\'t go over 1."}],"Id":"788","Name":"Cuckoo Chick","NameId":"CuckooBaby","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Choose one witch toy that breaks after 2 turns."},{"Level":2,"About":"Sell: Choose one witch toy that breaks after 4 turns."},{"Level":3,"About":"Sell: Choose one witch toy that breaks after 6 turns."}],"Id":"611","Name":"Cuddle Toad","NameId":"CuddleToad","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"641","Name":"Daycrawler","NameId":"DayCrawler","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"58","Name":"Dirty Rat","NameId":"RatToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Give shop pets +1 health."},{"Level":2,"About":"Sell: Give shop pets +2 health."},{"Level":3,"About":"Sell: Give shop pets +3 health."}],"Id":"26","Name":"Duck","NameId":"Duck","Tier":1,"TierMax":2147483647,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Give left-most shop pet +2 health."},{"Level":2,"About":"Sell: Give left-most shop pet +4 health."},{"Level":3,"About":"Sell: Give left-most shop pet +6 health."}],"Id":"113","Name":"Duckling","NameId":"BabyDuck","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Remove 1 attack from the first enemy."},{"Level":2,"About":"Faint: Remove 1 attack from the first two enemies."},{"Level":3,"About":"Faint: Remove 1 attack from the first three enemies."}],"Id":"406","Name":"Ethiopian Wolf","NameId":"EthiopianWolf","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Takes 1 less damage. Works 2 times per turn."},{"Level":2,"About":"Takes 2 less damage. Works 2 times per turn."},{"Level":3,"About":"Takes 3 less damage. Works 2 times per turn."}],"Id":"408","Name":"Fan Mussel","NameId":"FanMussel","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Feed one Corncob to the nearest friend behind."},{"Level":2,"About":"Faint: Feed one Corncob to the nearest two friends behind."},{"Level":3,"About":"Faint: Feed one Corncob to the nearest three friends behind."}],"Id":"693","Name":"Farmer Mouse","NameId":"FarmerMouse","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Ferret toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Ferret toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Ferret toy."}],"Id":"172","Name":"Ferret","NameId":"Ferret","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"343","Name":"Fire Pup","NameId":"FirePup","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Deal 1 damage to ALL pets within one space."},{"Level":2,"About":"Faint: Deal 1 damage to ALL pets within two spaces."},{"Level":3,"About":"Faint: Deal 1 damage to ALL pets within three spaces."}],"Id":"548","Name":"Firefly","NameId":"Firefly","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Level-up: Give two friends +1 attack and +1 health."},{"Level":2,"About":"Level-up: Give two friends +2 attack and +2 health."},{"Level":3,"About":"No ability."}],"Id":"32","Name":"Fish","NameId":"Fish","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack and +1 health per Faint friend."},{"Level":2,"About":"Start of battle: Gain +2 attack and +2 health per Faint friend."},{"Level":3,"About":"Start of battle: Gain +3 attack and +3 health per Faint friend."}],"Id":"198","Name":"Frilled Dragon","NameId":"FrilledDragon","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: If both adjacent friends are tier 2 or lower, swap their stats."},{"Level":2,"About":"Sell: If both adjacent friends are tier 4 or lower, swap their stats."},{"Level":3,"About":"Sell: If both adjacent friends are tier 6 or lower, swap their stats."}],"Id":"139","Name":"Frog","NameId":"Frog","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Mvp"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: If you have a toy, gain +2 health."},{"Level":2,"About":"Start of battle: If you have a toy, gain +4 health."},{"Level":3,"About":"Start of battle: If you have a toy, gain +6 health."}],"Id":"229","Name":"Gecko","NameId":"Gecko","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"644","Name":"Giant Eyes Dog","NameId":"GiantEyesDog","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Shop tier upgraded: Give the two nearest pets behind +1 health."},{"Level":2,"About":"Shop tier upgraded: Give the two nearest pets behind +2 health."},{"Level":3,"About":"Shop tier upgraded: Give the two nearest pets behind +3 health."}],"Id":"550","Name":"Gibbon","NameId":"Gibbon","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"648","Name":"Goat","NameId":"ChimeraGoat","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Always there for his friends!"},{"Level":2,"About":"Always there for his friends!"},{"Level":3,"About":"Always there for his friends!"}],"Id":"188","Name":"Golden Retriever","NameId":"GoldenRetriever","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give friends plenty of useful perks!"},{"Level":2,"About":"Start of battle: Give friends silly amounts of useful perks!"},{"Level":3,"About":"Start of battle: Give friends silly amounts of useful perks!"}],"Id":"658","Name":"Good Dog","NameId":"GoodDog","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Remove 1 attack from the first enemy."},{"Level":2,"About":"Start of battle: Remove 2 attack from the first enemy."},{"Level":3,"About":"Start of battle: Remove 3 attack from the first enemy."}],"Id":"232","Name":"Goose","NameId":"Goose","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":7,"Health":13,"Abilities":[{"Level":1,"About":"Summoned: Deal 5 damage to ALL other pets."},{"Level":2,"About":"Summoned: Deal 10 damage to ALL other pets."},{"Level":3,"About":"Summoned: Deal 15 damage to ALL other pets."}],"Id":"335","Name":"Great One","NameId":"Cthulu","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Gain +1 trumpet."},{"Level":2,"About":"Faint: Gain +2 trumpets."},{"Level":3,"About":"Faint: Gain +3 trumpets."}],"Id":"233","Name":"Groundhog","NameId":"Groundhog","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 attack until next turn."},{"Level":2,"About":"Friend summoned: Give it +2 attack until next turn."},{"Level":3,"About":"Friend summoned: Give it +3 attack until next turn."}],"Id":"39","Name":"Horse","NameId":"Horse","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Give Strawberry perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Strawberry perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Strawberry perk to the three nearest friends behind."}],"Id":"138","Name":"Hummingbird","NameId":"Hummingbird","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Perks"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"643","Name":"Head","NameId":"HydraHead","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Friend transformed: Give it +1 to its highest stat until next turn."},{"Level":2,"About":"Friend transformed: Give it +2 to its highest stat until next turn."},{"Level":3,"About":"Friend transformed: Give it +3 to its highest stat until next turn."}],"Id":"417","Name":"Ili Pika","NameId":"IliPika","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Before battle: Transform into ANY useful level 1 pet from tier 1."},{"Level":2,"About":"Before battle: Transform into ANY useful level 1 pet from tier 2."},{"Level":3,"About":"Before battle: Transform into ANY useful level 1 pet from tier 3."}],"Id":"418","Name":"Iriomote Cat","NameId":"IriomoteCat","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Hurt & Sell: Give the back-most friendly Strawberry pet +1 attack."},{"Level":2,"About":"Hurt & Sell: Give the back-most friendly Strawberry pet +2 attack."},{"Level":3,"About":"Hurt & Sell: Give the back-most friendly Strawberry pet +3 attack."}],"Id":"131","Name":"Kiwi","NameId":"Kiwi","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friendly gained perk: Gain +2 attack until next turn."},{"Level":2,"About":"Friendly gained perk: Gain +4 attack until next turn."},{"Level":3,"About":"Friendly gained perk: Gain +6 attack until next turn."}],"Id":"92","Name":"Ladybug","NameId":"Ladybug","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Gain +1 gold next turn."},{"Level":2,"About":"Sell: Gain +2 gold next turn."},{"Level":3,"About":"Sell: Gain +3 gold next turn."}],"Id":"555","Name":"Lemming","NameId":"Lemming","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"650","Name":"Lion","NameId":"ChimeraLion","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"282","Name":"Lizard Tail","NameId":"LizardToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"183","Name":"Loyal Chinchilla","NameId":"ChinchillaToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Spend up to 1 gold and gain it back next turn."},{"Level":2,"About":"End turn: Spend up to 2 gold and gain it back next turn."},{"Level":3,"About":"End turn: Spend up to 3 gold and gain it back next turn."}],"Id":"239","Name":"Magpie","NameId":"Magpie","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Gain +1 health. Works 3 times per turn."},{"Level":2,"About":"Adjacent friend attacked: Gain +2 health. Works 3 times per turn."},{"Level":3,"About":"Adjacent friend attacked: Gain +3 health. Works 3 times per turn."}],"Id":"421","Name":"Malay Tapir","NameId":"MalayTapir","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Your next roll is free."},{"Level":2,"About":"Sell: Your next two rolls are free."},{"Level":3,"About":"Sell: Your next three rolls are free."}],"Id":"204","Name":"Marmoset","NameId":"Marmoset","Tier":1,"TierMax":2147483647,"Packs":["Pack3","Custom"],"PacksRequired":["Pack3","Custom"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Attack for double damage."},{"Level":2,"About":"Attack for triple damage."},{"Level":3,"About":"Attack for quadruple damage."}],"Id":"384","Name":"Monty","NameId":"WhiteKillerRabbit","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Deal 1 damage to one random enemy."},{"Level":2,"About":"Start of battle: Deal 1 damage to two random enemies."},{"Level":3,"About":"Start of battle: Deal 1 damage to three random enemies."}],"Id":"47","Name":"Mosquito","NameId":"Mosquito","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give front-most friendly pet +2 attack."},{"Level":2,"About":"Start of battle: Give front-most friendly pet +4 attack."},{"Level":3,"About":"Start of battle: Give front-most friendly pet +6 attack."}],"Id":"141","Name":"Moth","NameId":"Moth","Tier":1,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Replace shop food with one free Apple."},{"Level":2,"About":"Sell: Replace shop food with one free Better Apple."},{"Level":3,"About":"Sell: Replace shop food with one free Best Apple."}],"Id":"48","Name":"Mouse","NameId":"Mouse","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Friend gained experience: Gain +1 attack until next turn."},{"Level":2,"About":"Friend gained experience: Gain +2 attack until next turn."},{"Level":3,"About":"Friend gained experience: Gain +3 attack until next turn."}],"Id":"362","Name":"Murmel","NameId":"Murloc","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Egg perk has regular effect."},{"Level":2,"About":"Egg perk has double effect."},{"Level":3,"About":"Egg perk has triple effect."}],"Id":"508","Name":"Nest","NameId":"Nest","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: If there are no friendly duplicates, gain +3 attack and +1 health."},{"Level":2,"About":"Start of battle: If there are no friendly duplicates, gain +6 attack and +2 health."},{"Level":3,"About":"Start of battle: If there are no friendly duplicates, gain +9 attack and +3 health."}],"Id":"757","Name":"Nudibranch","NameId":"Nudibranchs","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Give one random Faint pet in the shop +1 attack and +1 health."},{"Level":2,"About":"Sell: Give one random Faint pet in the shop +2 attack and +2 health."},{"Level":3,"About":"Sell: Give one random Faint pet in the shop +3 attack and +3 health."}],"Id":"187","Name":"Opossum","NameId":"Opossum","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Give one random friend +1 health."},{"Level":2,"About":"Buy: Give two random friends +1 health."},{"Level":3,"About":"Buy: Give three random friends +1 health."}],"Id":"51","Name":"Otter","NameId":"Otter","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Make adjacent perk-less pets Spooked."},{"Level":2,"About":"Faint: Make adjacent perk-less pets Spooked with double effect."},{"Level":3,"About":"Faint: Make adjacent perk-less pets Spooked with triple effect."}],"Id":"745","Name":"Peacock Spider","NameId":"PeacockSpider","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Gains mana: Gain 2 bonus mana. Works 2 times per turn."},{"Level":2,"About":"Gains mana: Gain 4 bonus mana. Works 2 times per turn."},{"Level":3,"About":"Gains mana: Gain 6 bonus mana. Works 2 times per turn."}],"Id":"627","Name":"Pengobble","NameId":"Pengobble","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Friend summoned: Give it the Strawberry perk until next turn. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Give it the Strawberry perk until next turn. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Give it the Strawberry perk until next turn. Works 3 times per turn."}],"Id":"558","Name":"Pheasant","NameId":"Pheasant","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Perks"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Spend 1 trumpet to deal 3 damage to one random enemy."},{"Level":2,"About":"Faint: Spend 1 trumpet to deal 3 damage to two random enemies."},{"Level":3,"About":"Faint: Spend 1 trumpet to deal 3 damage to three random enemies."}],"Id":"251","Name":"Pied Tamarin","NameId":"PiedTamarin","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"],"Random":true},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Sell: Gain +1 gold."},{"Level":2,"About":"Sell: Gain +2 gold."},{"Level":3,"About":"Sell: Gain +3 gold."}],"Id":"59","Name":"Pig","NameId":"Pig","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Sell: Stock one free Bread Crumbs."},{"Level":2,"About":"Sell: Stock two free Bread Crumbs."},{"Level":3,"About":"Sell: Stock three free Bread Crumbs."}],"Id":"559","Name":"Pigeon","NameId":"Pigeon","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Stock one free Sleeping Pill."},{"Level":2,"About":"Sell: Stock two free Sleeping Pills."},{"Level":3,"About":"Sell: Stock three free Sleeping Pills."}],"Id":"149","Name":"Pillbug","NameId":"Pillbug","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give three random friends +1 attack and +1 health and remove this."},{"Level":2,"About":"Start of battle: Give three random friends +2 attack and +2 health and remove this."},{"Level":3,"About":"Start of battle: Give three random friends +3 attack and +3 health and remove this."}],"Id":"761","Name":"Pygmy Seahorse","NameId":"PygmySeahorse","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Cycle"],"Random":true},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Choose one tier 1 food to stock at 1 gold."},{"Level":2,"About":"Sell: Choose one tier 1 food to stock at 1 gold. Stock two copies."},{"Level":3,"About":"Sell: Choose one tier 1 food to stock at 1 gold. Stock three copies."}],"Id":"704","Name":"Quoll","NameId":"Quoll","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Food","Perks"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"62","Name":"Ram","NameId":"Ram","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"638","Name":"Rock","NameId":"Rock","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Friend ahead hurt: Give it +1 health. Works 2 times per turn."},{"Level":2,"About":"Friend ahead hurt: Give it +2 health. Works 2 times per turn."},{"Level":3,"About":"Friend ahead hurt: Give it +3 health. Works 2 times per turn."}],"Id":"260","Name":"Silkmoth","NameId":"Silkmoth","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Sells for +2 gold extra, but lose 1 next turn."},{"Level":2,"About":"Sell: Sells for +4 gold extra, but lose 2 next turn."},{"Level":3,"About":"Sell: Sells for +6 gold extra, but lose 3 next turn."}],"Id":"566","Name":"Silverfish","NameId":"Silverfish","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Has no special ability. Is kind of lame combat-wise. But he truly believes in you!"},{"Level":2,"About":"Has no special ability. Is kind of lame combat-wise. But he truly believes in you!"},{"Level":3,"About":"Has no special ability. Is kind of lame combat-wise. But he truly believes in you!"}],"Id":"71","Name":"Sloth","NameId":"Sloth","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"642","Name":"Smaller Slime","NameId":"SmallerSlime","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Smallest Slug."},{"Level":2,"About":"Faint: Summon one 2/2 Smallest Slug."},{"Level":3,"About":"Faint: Summon one 3/3 Smallest Slug."}],"Id":"270","Name":"Smaller Slug","NameId":"SlugToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"477","Name":"Smallest Slug","NameId":"SlugToken2","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"649","Name":"Snake","NameId":"ChimeraSnake","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Faint and summon one 4/2 Cracked Egg."},{"Level":2,"About":"Start of battle: Faint and summon one 8/4 Cracked Egg."},{"Level":3,"About":"Start of battle: Faint and summon one 12/6 Cracked Egg."}],"Id":"617","Name":"Sneaky Egg","NameId":"EggLadCovered","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Set attack to the current shop tier + 1."},{"Level":2,"About":"Start of turn: Set attack to the current shop tier + 2."},{"Level":3,"About":"Start of turn: Set attack to the current shop tier + 3."}],"Id":"571","Name":"Termite","NameId":"Termite","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give one random enemy +1 health."},{"Level":2,"About":"Faint: Give one random enemy +1 health."},{"Level":3,"About":"Faint: Give one random enemy +1 health."}],"Id":"713","Name":"Togian Babirusa","NameId":"TogianBabirusa","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Sell: Stock one free Seed Pile."},{"Level":2,"About":"Sell: Stock two free Seed Pile."},{"Level":3,"About":"Sell: Stock three free Seed Pile."}],"Id":"438","Name":"Tooth Billed Pigeon","NameId":"ToothBilledPigeon","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Jump to the front space and gain +1 experience."},{"Level":2,"About":"Start of battle: Jump to the front space and gain +2 experience."},{"Level":3,"About":"Start of battle: Jump to the front space and gain +3 experience."}],"Id":"379","Name":"Tsuchinoko","NameId":"Tsuchinoko","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Guard"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Make the nearest friend ahead Dazed."},{"Level":2,"About":"End turn: Make the two nearest friends ahead Dazed."},{"Level":3,"About":"End turn: Make the three nearest friends ahead Dazed."}],"Id":"746","Name":"Umbrella Bird","NameId":"LongWattledUmbrellabird","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"PerkNote":"Prevent ability from activating.","CustomArchetypes":["Ailments"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Make one random perk-less enemy Toasty."},{"Level":2,"About":"Faint: Make two random perk-less enemies Toasty."},{"Level":3,"About":"Faint: Make three random perk-less enemies Toasty."}],"Id":"440","Name":"Volcano Snail","NameId":"VolcanoSnail","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friendly ate food: Give them +1 attack until next turn. Works 3 times per turn."},{"Level":2,"About":"Friendly ate food: Give them +2 attack until next turn. Works 3 times per turn."},{"Level":3,"About":"Friendly ate food: Give them +3 attack until next turn. Works 3 times per turn."}],"Id":"708","Name":"Weevil","NameId":"Weevil","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"646","Name":"Young Phoenix","NameId":"BabyPhoenix","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"86","Name":"Zombie Cricket","NameId":"CricketToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"31","Name":"Zombie Fly","NameId":"FlyToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Give three random friends +1 attack."},{"Level":2,"About":"Buy: Give three random friends +2 attack."},{"Level":3,"About":"Buy: Give three random friends +3 attack."}],"Id":"210","Name":"African Penguin","NameId":"AfricanPenguin","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Replace shop food with three random food and discount them by 1 gold."},{"Level":2,"About":"Sell: Replace shop food with three random food and discount them by 2 gold."},{"Level":3,"About":"Sell: Replace shop food with three random food and discount them by 3 gold."}],"Id":"686","Name":"Albino Squirrel","NameId":"AlbinoSquirrel","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give the nearest friend ahead +1 attack on odd turns and +1 health on even."},{"Level":2,"About":"End turn: Give the nearest friend ahead +2 attack on odd turns and +2 health on even."},{"Level":3,"About":"End turn: Give the nearest friend ahead +3 attack on odd turns and +3 health on even."}],"Id":"811","Name":"Amphisbaena","NameId":"Amphisbaena","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Really angry!"},{"Level":2,"About":"Really angry!"},{"Level":3,"About":"Really angry!"}],"Id":"821","Name":"Angry Pygmy Hog","NameId":"AngryPygmyHog","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friend jumped or transformed: Gain +3 health until next turn. Works 2 times per turn."},{"Level":2,"About":"Friend jumped or transformed: Gain +6 health until next turn. Works 2 times per turn."},{"Level":3,"About":"Friend jumped or transformed: Gain +9 health until next turn. Works 2 times per turn."}],"Id":"394","Name":"Araripe Manakin","NameId":"AraripeManakin","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Guard"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Friendly attacked: Remove its Strawberry perk to deal 2 damage to the last enemy."},{"Level":2,"About":"Friendly attacked: Remove its Strawberry perk to deal 4 damage to the last enemy."},{"Level":3,"About":"Friendly attacked: Remove its Strawberry perk to deal 6 damage to the last enemy."}],"Id":"132","Name":"Atlantic Puffin","NameId":"AtlanticPuffin","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint & Sell: Give one level 2 <b>Sell</b> friend +1 experience."},{"Level":2,"About":"Faint & Sell: Give one level 2 <b>Sell</b> friend +2 experience."},{"Level":3,"About":"Faint & Sell: Give one level 2 <b>Sell</b> friend +3 experience."}],"Id":"537","Name":"Bass","NameId":"Bass","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Before attack: Make one random enemy Weak. Works 1 time per battle."},{"Level":2,"About":"Before attack: Make one random enemy Weak. Works 2 times per battle."},{"Level":3,"About":"Before attack: Make one random enemy Weak. Works 3 times per battle."}],"Id":"87","Name":"Bat","NameId":"Bat","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments"],"Random":true},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/3 Dolphin in the back and give it Rice."},{"Level":2,"About":"Faint: Summon two 2/3 Dolphins in the back and give them Rice."},{"Level":3,"About":"Faint: Summon three 2/3 Dolphins in the back and give them Rice."}],"Id":"213","Name":"Beluga Sturgeon","NameId":"BelugaSturgeon","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Sell for +2 gold.","CustomArchetypes":["Summon"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Gain one free roll next turn."},{"Level":2,"About":"Faint: Gain two free rolls next turn."},{"Level":3,"About":"Faint: Gain three free rolls next turn."}],"Id":"334","Name":"Bigfoot","NameId":"Bigfoot","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend lost perk: Give it Garlic. Works 1 time per turn."},{"Level":2,"About":"Friend lost perk: Give it Garlic. Works 2 times per turn."},{"Level":3,"About":"Friend lost perk: Give it Garlic. Works 3 times per turn."}],"Id":"758","Name":"Bilby","NameId":"Bilby","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Takes 2 less damage.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Gain +2 trumpets."},{"Level":2,"About":"Faint: Gain +4 trumpets."},{"Level":3,"About":"Faint: Gain +6 trumpets."}],"Id":"215","Name":"Black Necked Stilt","NameId":"BlackNeckedStilt","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Knock out: Give +1 health to one random friend. Triggers 2 times."},{"Level":2,"About":"Knock out: Give +1 health to one random friend. Triggers 4 times."},{"Level":3,"About":"Knock out: Give +1 health to one random friend. Triggers 6 times."}],"Id":"339","Name":"Chupacabra","NameId":"Chupacabra","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain health equal to 25% of the most healthy friend."},{"Level":2,"About":"Start of battle: Gain health equal to 50% of the most healthy friend."},{"Level":3,"About":"Start of battle: Gain health equal to 75% of the most healthy friend."}],"Id":"16","Name":"Crab","NameId":"Crab","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Enemy hurt: Jump-attack it, or the first enemy. Works 1 time per battle."},{"Level":2,"About":"Enemy hurt: Jump-attack it, or the first enemy. Works 2 times per battle."},{"Level":3,"About":"Enemy hurt: Jump-attack it, or the first enemy. Works 3 times per battle."}],"Id":"404","Name":"Darwin\'s Fox","NameId":"DarwinsFox","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Before attack: Spend 1 trumpet to transform into a level 1 <b>Faint</b> pet from one tier above."},{"Level":2,"About":"Before attack: Spend 1 trumpet to transform into a level 1 <b>Faint</b> pet from two tiers above."},{"Level":3,"About":"Before attack: Spend 1 trumpet to transform into a level 1 <b>Faint</b> pet from three tiers above."}],"Id":"768","Name":"Desert Rain Frog","NameId":"DesertRainFrog","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and gain +4 health in battle."},{"Level":2,"About":"Empty front space: Jump to the front and gain +8 health in battle."},{"Level":3,"About":"Empty front space: Jump to the front and gain +12 health in battle."}],"Id":"220","Name":"Door Head Ant","NameId":"DoorHeadAnt","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Activate three friendly Strawberries."},{"Level":2,"About":"Faint: Activate three friendly Strawberries with double effect."},{"Level":3,"About":"Faint: Activate three friendly Strawberries with triple effect."}],"Id":"24","Name":"Dove","NameId":"Dove","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Give the two left-most shop pets +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give the two left-most shop pets +2 attack and +2 health."},{"Level":3,"About":"Start of turn: Give the two left-most shop pets +3 attack and +3 health."}],"Id":"104","Name":"Dromedary","NameId":"Dromedary","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and deal 3 damage to the last enemy in battle."},{"Level":2,"About":"Empty front space: Jump to the front and deal 6 damage to the last enemy in battle."},{"Level":3,"About":"Empty front space: Jump to the front and deal 9 damage to the last enemy in battle."}],"Id":"341","Name":"Drop Bear","NameId":"DropBear","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Roll 3 times: Stock ANY food from the 3 last unlocked tiers and discount it by 1 gold."},{"Level":2,"About":"Roll 3 times: Stock ANY food from the 3 last unlocked tiers and discount it by 2 gold."},{"Level":3,"About":"Roll 3 times: Stock ANY food from the 3 last unlocked tiers and discount it by 3 gold."}],"Id":"545","Name":"Dumbo Octopus","NameId":"DumboOctopus","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Deal 3 damage to the least healthy enemy for each food eaten this turn, up to 3 food."},{"Level":2,"About":"Faint: Deal 6 damage to the least healthy enemy for each food eaten this turn, up to 3 food."},{"Level":3,"About":"Faint: Deal 9 damage to the least healthy enemy for each food eaten this turn, up to 3 food."}],"Id":"721","Name":"Dung Beetle","NameId":"DungBeetle","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption","Food"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Give adjacent friends +1 attack. Works 5 times per turn."},{"Level":2,"About":"Adjacent friend attacked: Give adjacent friends +2 attack. Works 5 times per turn."},{"Level":3,"About":"Adjacent friend attacked: Give adjacent friends +3 attack. Works 5 times per turn."}],"Id":"407","Name":"European Mink","NameId":"EuropeanMink","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Feed one Corncob to the nearest friend ahead."},{"Level":2,"About":"End turn: Feed one Corncob to the nearest two friends ahead."},{"Level":3,"About":"End turn: Feed one Corncob to the nearest three friends ahead."}],"Id":"690","Name":"Farmer Chicken","NameId":"FarmerChicken","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Give the two nearest friends behind +1 attack and +1 health."},{"Level":2,"About":"Faint: Give the two nearest friends behind +2 attack and +2 health."},{"Level":3,"About":"Faint: Give the two nearest friends behind +3 attack and +3 health."}],"Id":"29","Name":"Flamingo","NameId":"Flamingo","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Friend gained ailment: Give it Rice. Works 1 time per turn."},{"Level":2,"About":"Friend gained ailment: Give it Rice. Works 2 times per turn."},{"Level":3,"About":"Friend gained ailment: Give it Rice. Works 3 times per turn."}],"Id":"137","Name":"Frigatebird","NameId":"Frigatebird","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Sell for +2 gold.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Make the first enemy Cold."},{"Level":2,"About":"Faint: Make the first enemy Cold twice for double effect."},{"Level":3,"About":"Faint: Make the first enemy Cold thrice for triple effect."}],"Id":"344","Name":"Frost Wolf","NameId":"FrostWolf","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take +5 damage, once.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give Blueberry perk to the opposite enemy and deal 2 damage to it."},{"Level":2,"About":"Start of battle: Give Blueberry perk to the opposite enemy and deal 4 damage to it."},{"Level":3,"About":"Start of battle: Give Blueberry perk to the opposite enemy and deal 6 damage to it."}],"Id":"695","Name":"Fruit Fly","NameId":"FruitFly","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give the nearest friend behind +2 health. Spend mana to give 1 more per mana."},{"Level":2,"About":"Faint: Give the nearest friend behind +4 health. Spend mana to give 2 more per mana."},{"Level":3,"About":"Faint: Give the nearest friend behind +6 health. Spend mana to give 3 more per mana."}],"Id":"345","Name":"Gargoyle","NameId":"Gargoyle","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Takes 3 less damage from abilities."},{"Level":2,"About":"Takes 6 less damage from abilities."},{"Level":3,"About":"Takes 9 less damage from abilities."}],"Id":"346","Name":"Ghost Kitten","NameId":"GhostKitten","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"After attack: Copy perk to the back-most pets from BOTH teams. Works 1 time per battle."},{"Level":2,"About":"After attack: Copy perk to the back-most pets from BOTH teams. Works 2 times per battle."},{"Level":3,"About":"After attack: Copy perk to the back-most pets from BOTH teams. Works 3 times per battle."}],"Id":"800","Name":"Giant Squirrel","NameId":"GiantSquirrel","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Increase sell value by 1 gold."},{"Level":2,"About":"Start of turn: Increase sell value by 2 gold."},{"Level":3,"About":"Start of turn: Increase sell value by 3 gold."}],"Id":"121","Name":"Gold Fish","NameId":"GoldFish","Tier":2,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Gain +1 gold. Triple if attack is at least 10."},{"Level":2,"About":"Sell: Gain +2 gold. Triple if attack is at least 10."},{"Level":3,"About":"Sell: Gain +3 gold. Triple if attack is at least 10."}],"Id":"634","Name":"Golden Beetle","NameId":"DwarvenBeetle","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Cycle","Gold"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Summon one 1/1 Guinea Pig."},{"Level":2,"About":"Buy: Summon one 2/2 Guinea Pig."},{"Level":3,"About":"Buy: Summon one 3/3 Guinea Pig."}],"Id":"109","Name":"Guinea Pig","NameId":"GuineaPig","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Deal 2 damage to ALL pets."},{"Level":2,"About":"Faint: Deal 4 damage to ALL pets."},{"Level":3,"About":"Faint: Deal 6 damage to ALL pets."}],"Id":"37","Name":"Hedgehog","NameId":"Hedgehog","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Sell: Give friends +1 attack for each battle this has fought evenly spread."},{"Level":2,"About":"Sell: Give friends +2 attack for each battle this has fought evenly spread."},{"Level":3,"About":"Sell: Give friends +3 attack for each battle this has fought evenly spread."}],"Id":"234","Name":"Hercules Beetle","NameId":"HerculesBeetle","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: If current perk is tier 2 or lower, copy it to the Golden Retriever when summoned."},{"Level":2,"About":"Start of battle: If current perk is tier 4 or lower, copy it to the Golden Retriever when summoned."},{"Level":3,"About":"Start of battle: If current perk is tier 6 or lower, copy it to the Golden Retriever when summoned."}],"Id":"783","Name":"Hermit Crab","NameId":"HermitCrab","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 trumpet for one friend of each tier."},{"Level":2,"About":"Start of battle: Gain +2 trumpets for one friend of each tier."},{"Level":3,"About":"Start of battle: Gain +3 trumpets for one friend of each tier."}],"Id":"726","Name":"Honduran White Bat","NameId":"HonduranWhiteBat","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Enemy summoned or pushed: Deal 2 damage to it."},{"Level":2,"About":"Enemy summoned or pushed: Deal 4 damage to it."},{"Level":3,"About":"Enemy summoned or pushed: Deal 6 damage to it."}],"Id":"147","Name":"Iguana","NameId":"Iguana","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it +1 attack. Double if it jumped. Works 3 times per battle."},{"Level":2,"About":"Before friend attacks: Give it +2 attack. Double if it jumped. Works 3 times per battle."},{"Level":3,"About":"Before friend attacks: Give it +3 attack. Double if it jumped. Works 3 times per battle."}],"Id":"353","Name":"Jackalope","NameId":"Jackalope","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friend level-up: Gain +1 attack and +1 health."},{"Level":2,"About":"Friend level-up: Gain +2 attack and +2 health."},{"Level":3,"About":"Friend level-up: Gain +3 attack and +3 health."}],"Id":"122","Name":"Jellyfish","NameId":"Jellyfish","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Gain +1 attack and +1 health."},{"Level":2,"About":"Friend ahead attacks: Gain +2 attack and +2 health."},{"Level":3,"About":"Friend ahead attacks: Gain +3 attack and +3 health."}],"Id":"40","Name":"Kangaroo","NameId":"Kangaroo","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Friend hurt: Give it the Eucalyptus perk. Works 1 time per turn."},{"Level":2,"About":"Friend hurt: Give it the Eucalyptus perk. Works 2 times per turn."},{"Level":3,"About":"Friend hurt: Give it the Eucalyptus perk. Works 3 times per turn."}],"Id":"112","Name":"Koala","NameId":"Koala","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Block 4 enemy damage, once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Lemur toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Lemur toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Lemur toy."}],"Id":"236","Name":"Lemur","NameId":"Lemur","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Hurt: Summon one 3/1 Lizard Tail. Works 2 times per turn."},{"Level":2,"About":"Hurt: Summon one 6/2 Lizard Tail. Works 2 times per turn."},{"Level":3,"About":"Hurt: Summon one 9/3 Lizard Tail. Works 2 times per turn."}],"Id":"237","Name":"Lizard","NameId":"Lizard","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Before attack: Replace own ailment with +2 attack and +2 health."},{"Level":2,"About":"Before attack: Replace own ailment with +4 attack and +4 health."},{"Level":3,"About":"Before attack: Replace own ailment with +6 attack and +6 health."}],"Id":"724","Name":"Mandarinfish","NameId":"Mandarinfish","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Break friendly tier 2 or lower toy."},{"Level":2,"About":"Faint: Break friendly tier 4 or lower toy."},{"Level":3,"About":"Faint: Break friendly tier 6 or lower toy."}],"Id":"405","Name":"Mandrill","NameId":"Drill","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give adjacent friends +1 attack for every 4 gold spent this turn."},{"Level":2,"About":"Start of battle: Give adjacent friends +2 attack for every 4 gold spent this turn."},{"Level":3,"About":"Start of battle: Give adjacent friends +3 attack for every 4 gold spent this turn."}],"Id":"203","Name":"Meerkat","NameId":"Meerkat","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Gain ANY useful perk from the previous tier."},{"Level":2,"About":"Start of battle: Gain ANY useful perk from the previous tier with double effect."},{"Level":3,"About":"Start of battle: Gain ANY useful perk from the previous tier with triple effect."}],"Id":"700","Name":"Mink","NameId":"Mink","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Anyone gained ailment: Gain +1 attack and +1 health until next turn. Works 5 times per turn."},{"Level":2,"About":"Anyone gained ailment: Gain +2 attack and +2 health until next turn. Works 5 times per turn."},{"Level":3,"About":"Anyone gained ailment: Gain +3 attack and +3 health until next turn. Works 5 times per turn."}],"Id":"604","Name":"Mothman","NameId":"Mothman","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Summon one Crawler with 3 attack, and +1 health for each friend summoned this turn."},{"Level":2,"About":"Faint: Summon one Crawler with 6 attack, and +2 health for each friend summoned this turn."},{"Level":3,"About":"Faint: Summon one Crawler with 9 attack, and +3 health for each friend summoned this turn."}],"Id":"605","Name":"Nightcrawler","NameId":"NightCrawler","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend +1 experience."},{"Level":2,"About":"Start of battle: Give the two front-most friends +1 experience."},{"Level":3,"About":"Start of battle: Give the three front-most friends +1 experience."}],"Id":"639","Name":"Ogopogo","NameId":"Ogopogo","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Make one random enemy Spooked and multiply the effect once for each roll this turn."},{"Level":2,"About":"Faint: Make one random enemy Spooked and multiply the effect twice for each roll this turn."},{"Level":3,"About":"Faint: Make one random enemy Spooked and multiply the effect thrice for each roll this turn."}],"Id":"725","Name":"Olm","NameId":"Olm","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments","Roll"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Faint to give 50% attack and health to the nearest friend ahead."},{"Level":2,"About":"Start of battle: Faint to give 100% attack and health to the nearest friend ahead."},{"Level":3,"About":"Start of battle: Faint to give 150% attack and health to the nearest friend ahead."}],"Id":"107","Name":"Panda","NameId":"Panda","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Hurt: Gain +3 attack."},{"Level":2,"About":"Hurt: Gain +6 attack."},{"Level":3,"About":"Hurt: Gain +9 attack."}],"Id":"54","Name":"Peacock","NameId":"Peacock","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Activate <b>End Turn</b> on one random tier 2 or lower friend."},{"Level":2,"About":"Faint: Activate <b>End Turn</b> on one random tier 4 or lower friend."},{"Level":3,"About":"Faint: Activate <b>End Turn</b> on one random tier 6 or lower friend."}],"Id":"732","Name":"Pink Robin","NameId":"PinkRobin","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Transform the nearest friend ahead into another pet from the same tier."},{"Level":2,"About":"Start of turn: Transform the nearest two friends ahead into other pets from the same tier."},{"Level":3,"About":"Start of turn: Transform the nearest three friends ahead into other pets from the same tier."}],"Id":"425","Name":"Proboscis Monkey","NameId":"ProboscisMonkey","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Five enemy attacks: Transform into an Angry Hog with Garlic and at least 5 attack and health."},{"Level":2,"About":"Five enemy attacks: Transform into an Angry Hog with Garlic and at least 10 attack and health."},{"Level":3,"About":"Five enemy attacks: Transform into an Angry Hog with Garlic and at least 15 attack and health."}],"Id":"427","Name":"Pygmy Hog","NameId":"PygmyHog","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Takes 2 less damage.","CustomArchetypes":["Transform","Summon"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Dirty Rat up front for the opponent.","FinePrint":"Doesn\'t trigger any summon abilities."},{"Level":2,"About":"Faint: Summon two 1/1 Dirty Rats up front for the opponent.","FinePrint":"Doesn\'t trigger any summon abilities."},{"Level":3,"About":"Faint: Summon three 1/1 Dirty Rats up front for the opponent.","FinePrint":"Doesn\'t trigger any summon abilities."}],"Id":"57","Name":"Rat","NameId":"Rat","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give Strawberry perk and +2 attack to the nearest friend ahead."},{"Level":2,"About":"Start of battle: Give Strawberry perk and +2 attack to the two nearest friends ahead."},{"Level":3,"About":"Start of battle: Give Strawberry perk and +2 attack to the three nearest friends ahead."}],"Id":"765","Name":"Roadrunner","NameId":"Roadrunner","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Faint: Give the back-most friend +1 attack and +1 health.","CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 2/3 level 1 Nest and give it Egg perk."},{"Level":2,"About":"Start of battle: Summon one 4/6 level 2 Nest and give it Egg perk."},{"Level":3,"About":"Start of battle: Summon one 6/9 level 3 Nest and give it Egg perk."}],"Id":"255","Name":"Robin","NameId":"Robin","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Before attack: Deal 2 damage to target, once.","CustomArchetypes":["Cycle"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Before attack: If outnumbered, gain +2 attack and +2 health. Works 3 times per turn."},{"Level":2,"About":"Before attack: If outnumbered, gain +4 attack and +4 health. Works 3 times per turn."},{"Level":3,"About":"Before attack: If outnumbered, gain +6 attack and +6 health. Works 3 times per turn."}],"Id":"430","Name":"Saker Falcon","NameId":"SakerFalcon","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack and +1 health for each level of each Sell friend."},{"Level":2,"About":"Start of battle: Gain +2 attack and +2 health for each level of each Sell friend."},{"Level":3,"About":"Start of battle: Gain +3 attack and +3 health for each level of each Sell friend."}],"Id":"164","Name":"Salamander","NameId":"Salamander","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give the highest attack friend -1 attack and +2 health."},{"Level":2,"About":"End turn: Give the two highest attack friends -1 attack and +2 health."},{"Level":3,"About":"End turn: Give the three highest attack friends -1 attack and +2 health."}],"Id":"431","Name":"Saola","NameId":"Saola","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +2 health until next turn."},{"Level":2,"About":"Friend summoned: Give it +4 health until next turn."},{"Level":3,"About":"Friend summoned: Give it +6 health until next turn."}],"Id":"191","Name":"Sea Turtle","NameId":"SeaTurtle","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Remove 5 health from the first enemy."},{"Level":2,"About":"Faint: Remove 5 health from the first two enemies."},{"Level":3,"About":"Faint: Remove 5 health from the first three enemies."}],"Id":"258","Name":"Sea Urchin","NameId":"SeaUrchin","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Push the last enemy one space forward."},{"Level":2,"About":"Start of battle: Push the last enemy two spaces forward."},{"Level":3,"About":"Start of battle: Push the last enemy three spaces forward."}],"Id":"152","Name":"Seahorse","NameId":"Seahorse","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Friend faints: If it had a Strawberry, summon one 2/2 friend in its place. Works 2 times per turn."},{"Level":2,"About":"Friend faints: If it had a Strawberry, summon one 4/4 friend in its place. Works 2 times per turn."},{"Level":3,"About":"Friend faints: If it had a Strawberry, summon one 6/6 friend in its place. Works 2 times per turn."}],"Id":"803","Name":"Shima Enaga","NameId":"ShimaEnaga","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friend sold: Give one random friend +1 health. Works 3 times per turn."},{"Level":2,"About":"Friend sold: Give one random friend +2 health. Works 3 times per turn."},{"Level":3,"About":"Friend sold: Give one random friend +3 health. Works 3 times per turn."}],"Id":"67","Name":"Shrimp","NameId":"Shrimp","Tier":2,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Cycle"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: If you lost last battle, give the three nearest friends ahead +1 attack."},{"Level":2,"About":"End turn: If you lost last battle, give the three nearest friends ahead +2 attack."},{"Level":3,"About":"End turn: If you lost last battle, give the three nearest friends ahead +3 attack."}],"Id":"72","Name":"Snail","NameId":"Snail","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 adventurous toy."},{"Level":2,"About":"Buy: Choose one level 2 adventurous toy."},{"Level":3,"About":"Buy: Choose one level 3 adventurous toy."}],"Id":"376","Name":"Sphinx","NameId":"Sphinx","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one tier 3 pet as a 2/2 level 1."},{"Level":2,"About":"Faint: Summon one tier 3 pet as a 4/4 level 2."},{"Level":3,"About":"Faint: Summon one tier 3 pet as a 6/6 level 3."}],"Id":"74","Name":"Spider","NameId":"Spider","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon","Mvp","Mvp"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Stock one random canned ailment."},{"Level":2,"About":"Start of turn: Stock two random canned ailments to choose from."},{"Level":3,"About":"Start of turn: Stock three random canned ailments to choose from."}],"Id":"735","Name":"Spotted Handfish","NameId":"SpottedHandfish","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Spend 1 trumpet to make the first enemy Inked."},{"Level":2,"About":"Faint: Spend 1 trumpet to make the two first enemies Inked."},{"Level":3,"About":"Faint: Spend 1 trumpet to make the three first enemies Inked."}],"Id":"177","Name":"Squid","NameId":"Squid","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":["Trumpets"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Summon one level 1 pet from your current tier as a 1/1."},{"Level":2,"About":"Sell: Summon one level 2 pet from your current tier as a 1/1."},{"Level":3,"About":"Sell: Summon one level 3 pet from your current tier as a 1/1."}],"Id":"263","Name":"Stoat","NameId":"Stoat","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle","Mvp"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Summon ANY one level 1 pet from the previous shop tier as a 2/2."},{"Level":2,"About":"Faint: Summon ANY one level 2 pet from the previous shop tier as a 4/4."},{"Level":3,"About":"Faint: Summon ANY one level 3 pet from the previous shop tier as a 6/6."}],"Id":"136","Name":"Stork","NameId":"Stork","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Gain +1 gold."},{"Level":2,"About":"Start of turn: Gain +2 gold."},{"Level":3,"About":"Start of turn: Gain +3 gold."}],"Id":"76","Name":"Swan","NameId":"Swan","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friendly gained perk: Give two random friends +1 health until next turn."},{"Level":2,"About":"Friendly gained perk: Give two random friends +2 health until next turn."},{"Level":3,"About":"Friendly gained perk: Give two random friends +3 health until next turn."}],"Id":"99","Name":"Tabby Cat","NameId":"TabbyCat","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Transform into a level 1 Frog and gain +2 experience."},{"Level":2,"About":"Start of battle: Transform into a level 1 Frog and gain +4 experience."},{"Level":3,"About":"Start of battle: Transform into a level 1 Frog and gain +6 experience."}],"Id":"805","Name":"Tadpole","NameId":"Tadpole","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Transform","Levels"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Transform into a level 1 Weasel."},{"Level":2,"About":"Start of battle: Transform into a level 2 Weasel."},{"Level":3,"About":"Start of battle: Transform into a level 3 Weasel."}],"Id":"435","Name":"Taita Shrew","NameId":"TaitaShrew","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Gold"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/2 African Wild Dog that jump-attacks the second enemy."},{"Level":2,"About":"Faint: Summon one 6/4 African Wild Dog that jump-attacks the second enemy."},{"Level":3,"About":"Faint: Summon one 9/6 African Wild Dog that jump-attacks the second enemy."}],"Id":"715","Name":"Takhi","NameId":"Takhi","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Deal 3 damage to one random enemy and prioritize those with ailments."},{"Level":2,"About":"Faint: Deal 6 damage to one random enemy and prioritize those with ailments."},{"Level":3,"About":"Faint: Deal 9 damage to one random enemy and prioritize those with ailments."}],"Id":"731","Name":"Thorny Dragon","NameId":"ThornyDragon","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the second nearest friend ahead +3 mana."},{"Level":2,"About":"Start of battle: Give the second nearest friend ahead +6 mana."},{"Level":3,"About":"Start of battle: Give the second nearest friend ahead +9 mana."}],"Id":"610","Name":"Thunderbird","NameId":"Thunderbird","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Summon one level 1 Microwave Oven."},{"Level":2,"About":"Start of turn: Summon one level 2 Microwave Oven."},{"Level":3,"About":"Start of turn: Summon one level 3 Microwave Oven."}],"Id":"707","Name":"Vervet","NameId":"Vervet","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Toys","Summon"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Gains mana: Deal 1 damage to one random enemy. Triple on the first trigger each battle."},{"Level":2,"About":"Gains mana: Deal 2 damage to one random enemy. Triple on the first trigger each battle."},{"Level":3,"About":"Gains mana: Deal 3 damage to one random enemy. Triple on the first trigger each battle."}],"Id":"382","Name":"Warf","NameId":"Warg","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"],"Random":true},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give Meat Bone to the friend ahead."},{"Level":2,"About":"Start of battle: Give Meat Bone to the friend ahead with double effect."},{"Level":3,"About":"Start of battle: Give Meat Bone to the friend ahead with triple effect."}],"Id":"441","Name":"White-Bellied Heron","NameId":"WhiteBelliedHeron","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Before attack: Transform into the first <b>Faint</b> enemy at level 1."},{"Level":2,"About":"Before attack: Transform into the first <b>Faint</b> enemy at level 2."},{"Level":3,"About":"Before attack: Transform into the first <b>Faint</b> enemy at level 3."}],"Id":"207","Name":"Wombat","NameId":"Wombat","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Stock one 2-gold Apple."},{"Level":2,"About":"Start of turn: Stock one 2-gold Better Apple."},{"Level":3,"About":"Start of turn: Stock one 2-gold Best Apple."}],"Id":"82","Name":"Worm","NameId":"Worm","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friendly level-up: Gain 1 extra shop reward."},{"Level":2,"About":"Friendly level-up: Gain 2 extra shop reward."},{"Level":3,"About":"Friendly level-up: Gain 3 extra shop reward."}],"Id":"385","Name":"Wyvern","NameId":"Wyvern","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Take 1 damage and gain +2 attack."},{"Level":2,"About":"End turn: Take 2 damage and gain +4 attack."},{"Level":3,"About":"End turn: Take 3 damage and gain +6 attack."}],"Id":"163","Name":"Yak","NameId":"Yak","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Enemy summoned: Gain +1 attack and +3 health."},{"Level":2,"About":"Enemy summoned: Gain +2 attack and +6 health."},{"Level":3,"About":"Enemy summoned: Gain +3 attack and +9 health."}],"Id":"193","Name":"Aardvark","NameId":"Aardvark","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack permanently and jump-attack the highest attack enemy."},{"Level":2,"About":"Start of battle: Gain +2 attack permanently and jump-attack the highest attack enemy."},{"Level":3,"About":"Start of battle: Gain +3 attack permanently and jump-attack the highest attack enemy."}],"Id":"389","Name":"Amami Rabbit","NameId":"AmamiRabbit","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 level 3 Ant."},{"Level":2,"About":"Faint: Summon two 1/1 level 3 Ants."},{"Level":3,"About":"Faint: Summon three 1/1 level 3 Ants."}],"Id":"105","Name":"Anteater","NameId":"Anteater","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Before any attack: If opponent has duplicates, deal 2 damage to all enemies. Works 1 time per battle."},{"Level":2,"About":"Before any attack: If opponent has duplicates, deal 4 damage to all enemies. Works 1 time per battle."},{"Level":3,"About":"Before any attack: If opponent has duplicates, deal 6 damage to all enemies. Works 1 time per battle."}],"Id":"377","Name":"Axehandle Hound","NameId":"AxehandleHound","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Give one random friend from the current or higher shop tier +1 attack and +1 health."},{"Level":2,"About":"End turn: Give one random friend from the current or higher shop tier +2 attack and +2 health."},{"Level":3,"About":"End turn: Give one random friend from the current or higher shop tier +3 attack and +3 health."}],"Id":"171","Name":"Baboon","NameId":"Baboon","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Remove 4 health from the first enemy."},{"Level":2,"About":"Faint: Remove 4 health from the first two enemies."},{"Level":3,"About":"Faint: Remove 4 health from the first three enemies."}],"Id":"822","Name":"Baby Urchin","NameId":"BabySeaUrchin","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":6,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Deal 50% attack damage to adjacent pets."},{"Level":2,"About":"Faint: Deal 100% attack damage to adjacent pets."},{"Level":3,"About":"Faint: Deal 150% attack damage to adjacent pets."}],"Id":"2","Name":"Badger","NameId":"Badger","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"End turn: If you did not roll this turn, gain +1 experience."},{"Level":2,"About":"End turn: If you did not roll this turn, gain +2 experience."},{"Level":3,"About":"End turn: If you did not roll this turn, gain +3 experience."}],"Id":"796","Name":"Barnacle","NameId":"Barnacle","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Levels"],"Random":true},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Transform the nearest pet ahead to Rock with +5 health."},{"Level":2,"About":"Start of battle: Transform the nearest pet ahead to Rock with +5 health. Double on friendly pets."},{"Level":3,"About":"Start of battle: Transform the nearest pet ahead to Rock with +5 health. Triple on friendly pets."}],"Id":"332","Name":"Basilisk","NameId":"Basilisk","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Transform","Disruption"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Honey perk to all pets within one space."},{"Level":2,"About":"Faint: Give Honey perk to all pets within two spaces."},{"Level":3,"About":"Faint: Give Honey perk to all pets within three spaces."}],"Id":"140","Name":"Bear","NameId":"Bear","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Faint: Summon one 1/1 Bee.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Friend lost perk: Give it the Guava perk. Works on one friend per turn."},{"Level":2,"About":"Friend lost perk: Give it the Guava perk. Works on two different friends per turn."},{"Level":3,"About":"Friend lost perk: Give it the Guava perk. Works on three different friends per turn."}],"Id":"214","Name":"Betta Fish","NameId":"BettaFish","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 3 damage, and attack for +3 damage, once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 trumpet for each friend behind and give friends ahead +1 mana."},{"Level":2,"About":"Start of battle: Gain +2 trumpets for each friend behind and give friends ahead +2 mana."},{"Level":3,"About":"Start of battle: Gain +3 trumpets for each friend behind and give friends ahead +3 mana."}],"Id":"728","Name":"Blue Dragon","NameId":"GlaucusAtlanticus","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4","Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Trumpets"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend transformed: If it is ahead, give it +3 attack until next turn. Otherwise give health."},{"Level":2,"About":"Friend transformed: If it is ahead, give it +6 attack until next turn. Otherwise give health."},{"Level":3,"About":"Friend transformed: If it is ahead, give it +9 attack until next turn. Otherwise give health."}],"Id":"400","Name":"Blue-Throated Macaw","NameId":"BlueThroatedMacaw","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and gain +2 attack and Melon perk in battle."},{"Level":2,"About":"Empty front space: Jump to the front and gain +4 attack and Melon perk in battle."},{"Level":3,"About":"Empty front space: Jump to the front and gain +6 attack and Melon perk in battle."}],"Id":"349","Name":"Brain Cramp","NameId":"Headcrab","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Guard","Perks"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Randomly redistribute stats of the highest health enemy."},{"Level":2,"About":"Start of battle: Randomly redistribute stats of the two highest health enemies."},{"Level":3,"About":"Start of battle: Randomly redistribute stats of the three highest health enemies."}],"Id":"798","Name":"Brazillian Treehopper","NameId":"BrazillianTreehopper","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Before friend attacks: Replace 3 mana on it with +2 attack and +2 health."},{"Level":2,"About":"Before friend attacks: Replace 3 mana on it with +4 attack and +4 health."},{"Level":3,"About":"Before friend attacks: Replace 3 mana on it with +6 attack and +6 health."}],"Id":"786","Name":"Caladrius","NameId":"Caladrius","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Spend mana to remove 1 health per mana from the two most healthy enemies."},{"Level":2,"About":"Faint: Spend mana to remove 2 health per mana from the two most healthy enemies."},{"Level":3,"About":"Faint: Spend mana to remove 3 health per mana from the two most healthy enemies."}],"Id":"336","Name":"Calygreyhound","NameId":"Calygreyhound","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Hurt: Give the nearest friend behind +1 attack and +2 health."},{"Level":2,"About":"Hurt: Give the nearest friend behind +2 attack and +4 health."},{"Level":3,"About":"Hurt: Give the nearest friend behind +3 attack and +6 health."}],"Id":"10","Name":"Camel","NameId":"Camel","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Roll & Sell: Give newly rolled shop pets +1 attack and +1 health."},{"Level":2,"About":"Roll & Sell: Give newly rolled shop pets +2 attack and +2 health."},{"Level":3,"About":"Roll & Sell: Give newly rolled shop pets +3 attack and +3 health."}],"Id":"154","Name":"Capybara","NameId":"Capybara","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Copy and stock the nearest perk ahead and discount it by 1 gold.","FinePrint":"Skips over perks from locked tiers."},{"Level":2,"About":"End turn: Copy and stock the nearest perk ahead and discount it by 2 gold.","FinePrint":"Skips over perks from locked tiers."},{"Level":3,"About":"End turn: Copy and stock the nearest perk ahead and discount it by 3 gold.","FinePrint":"Skips over perks from locked tiers."}],"Id":"539","Name":"Cardinal","NameId":"Cardinal","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Friendly gained strawberry: Gain +1 health. Also gain +1 attack until next turn."},{"Level":2,"About":"Friendly gained strawberry: Gain +2 health. Also gain +2 attack until next turn."},{"Level":3,"About":"Friendly gained strawberry: Gain +3 health. Also gain +3 attack until next turn."}],"Id":"133","Name":"Cassowary","NameId":"Cassowary","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Friend bought: Gain +1 attack and +1 health times its tier until next turn. Works 1 time per turn."},{"Level":2,"About":"Friend bought: Gain +2 attack and +2 health times its tier until next turn. Works 1 time per turn."},{"Level":3,"About":"Friend bought: Gain +3 attack and +3 health times its tier until next turn. Works 1 time per turn."}],"Id":"540","Name":"Centipede","NameId":"Centipede","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Knock out the nearest friend ahead and stock one free Bacon."},{"Level":2,"About":"End turn: Knock out the nearest friend ahead and stock two free Bacons."},{"Level":3,"About":"End turn: Knock out the nearest friend ahead and stock three free Bacons."}],"Id":"651","Name":"Deer Lord","NameId":"Wendigo","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mvp"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 5/5 friend if able. Otherwise give friends +1 attack and +1 health."},{"Level":2,"About":"Start of battle: Summon one 10/10 friend if able. Otherwise give friends +2 attack and +2 health."},{"Level":3,"About":"Start of battle: Summon one 15/15 friend if able. Otherwise give friends +3 attack and +3 health."}],"Id":"543","Name":"Dimetrodon","NameId":"Dimetrodon","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give 50% of attack to the nearest friend ahead."},{"Level":2,"About":"Start of battle: Give 100% of attack to the nearest friend ahead."},{"Level":3,"About":"Start of battle: Give 150% of attack to the nearest friend ahead."}],"Id":"21","Name":"Dodo","NameId":"Dodo","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: Gain +2 attack and +1 health until next turn."},{"Level":2,"About":"Friend summoned: Gain +4 attack and +2 health until next turn."},{"Level":3,"About":"Friend summoned: Gain +6 attack and +3 health until next turn."}],"Id":"22","Name":"Dog","NameId":"Dog","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Deal 4 damage to the lowest health enemy."},{"Level":2,"About":"Start of battle: Deal 4 damage to the lowest health enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 4 damage to the lowest health enemy. Triggers 3 times."}],"Id":"23","Name":"Dolphin","NameId":"Dolphin","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give friends that aren\'t from your pack +2 attack and +2 health."},{"Level":2,"About":"Faint: Give friends that aren\'t from your pack +4 attack and +4 health."},{"Level":3,"About":"Faint: Give friends that aren\'t from your pack +6 attack and +6 health."}],"Id":"544","Name":"Dugong","NameId":"Dugong","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Gain +50% health."},{"Level":2,"About":"Start of battle: Gain +100% health."},{"Level":3,"About":"Start of battle: Gain +150% health."}],"Id":"120","Name":"Eel","NameId":"Eel","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"After attack: Deal 1 damage to the nearest friend behind."},{"Level":2,"About":"After attack: Deal 1 damage to the nearest friend behind. Triggers 2 times."},{"Level":3,"About":"After attack: Deal 1 damage to the nearest friend behind. Triggers 3 times."}],"Id":"28","Name":"Elephant","NameId":"Elephant","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Sell: Give 33% attack and health to the leftmost shop pet."},{"Level":2,"About":"Sell: Give 66% attack and health to the leftmost shop pet."},{"Level":3,"About":"Sell: Give 100% attack and health to the leftmost shop pet."}],"Id":"197","Name":"Emperor Tamarin","NameId":"EmperorTamarin","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Feed adjacent friends one Corncob with double effect."},{"Level":2,"About":"Start of battle: Feed adjacent friends two Corncobs with double effect."},{"Level":3,"About":"Start of battle: Feed adjacent friends three Corncobs with double effect."}],"Id":"694","Name":"Farmer Pig","NameId":"FarmerPig","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Make the most healthy enemy Weak."},{"Level":2,"About":"Faint: Make the two most healthy enemies Weak."},{"Level":3,"About":"Faint: Make the three most healthy enemies Weak."}],"Id":"225","Name":"Flea","NameId":"Flea","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments","Mvp"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: If in battle, give it +2 experience. Works 2 times per turn."},{"Level":2,"About":"Friend summoned: If in battle, give it +4 experience. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: If in battle, give it +6 experience. Works 2 times per turn."}],"Id":"226","Name":"Flying Fish","NameId":"FlyingFish","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon","Mvp","Mvp"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friendly toy broke: Gain +2 attack and re-summon the toy at up to level 1."},{"Level":2,"About":"Friendly toy broke: Gain +4 attack and re-summon the toy at up to level 2."},{"Level":3,"About":"Friendly toy broke: Gain +6 attack and re-summon the toy at up to level 3."}],"Id":"227","Name":"Flying Squirrel","NameId":"FlyingSquirrel","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Buy: Give future shop pets from the next tier permanent +2 health."},{"Level":2,"About":"Buy: Give future shop pets from the next tier permanent +4 health."},{"Level":3,"About":"Buy: Give future shop pets from the next tier permanent +6 health."}],"Id":"625","Name":"Foo Dog","NameId":"FuLion","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Rambutan perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Rambutan perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Rambutan perk to the three nearest friends behind."}],"Id":"653","Name":"Fur-Bearing Trout","NameId":"FurBearingTrout","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Before attack: Gain +3 mana.","CustomArchetypes":["Mana","Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Remove the highest tier perk from one enemy."},{"Level":2,"About":"Start of battle: Remove the highest tier perks from two enemies."},{"Level":3,"About":"Start of battle: Remove the highest tier perks from three enemies."}],"Id":"740","Name":"Gerenuk","NameId":"Gerenuk","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Gharial toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Gharial toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Gharial toy."}],"Id":"231","Name":"Gharial","NameId":"Gharial","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Give the nearest friend ahead +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give the nearest two friends ahead +1 attack and +1 health."},{"Level":3,"About":"Start of turn: Give the nearest three friends ahead +1 attack and +1 health."}],"Id":"33","Name":"Giraffe","NameId":"Giraffe","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Anyone hurt: If nobody has attacked, gain +2 health until next turn. Works 5 times per turn."},{"Level":2,"About":"Anyone hurt: If nobody has attacked, gain +4 health until next turn. Works 5 times per turn."},{"Level":3,"About":"Anyone hurt: If nobody has attacked, gain +6 health until next turn. Works 5 times per turn."}],"Id":"697","Name":"Great Potoo","NameId":"GreatPotoo","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 toy from Griffin\'s collection."},{"Level":2,"About":"Buy: Choose one level 2 toy from Griffin\'s collection."},{"Level":3,"About":"Buy: Choose one level 3 toy from Griffin\'s collection."}],"Id":"348","Name":"Griffin","NameId":"Griffin","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Hurt: Gain +2 trumpets."},{"Level":2,"About":"Hurt: Gain +4 trumpets."},{"Level":3,"About":"Hurt: Gain +6 trumpets."}],"Id":"228","Name":"Guineafowl","NameId":"FowlBird","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Hurt"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Before attack: Copy a useful food perk from one random enemy. Works 1 time per battle."},{"Level":2,"About":"Before attack: Copy a useful food perk from one random enemy. Works 2 times per battle."},{"Level":3,"About":"Before attack: Copy a useful food perk from one random enemy. Works 3 times per battle."}],"Id":"551","Name":"Hare","NameId":"Hare","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give the nearest friend ahead +3 attack and +3 health until next turn.","FinePrint":"Will give permanent stats at level 2."},{"Level":2,"About":"End turn: Give the nearest friend ahead +2 attack and +2 health.","FinePrint":"Will give experience at level 3."},{"Level":3,"About":"End turn: Give the nearest friend ahead +1 experience."}],"Id":"91","Name":"Hatching Chick","NameId":"HatchingChick","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff","Levels","Mvp"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 4/3 Ethiopian Wolf."},{"Level":2,"About":"Faint: Summon two 4/3 Ethiopian Wolves."},{"Level":3,"About":"Faint: Summon three 4/3 Ethiopian Wolves."}],"Id":"717","Name":"Hirola","NameId":"Hirola","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Deal 2 damage to the first and last enemy."},{"Level":2,"About":"Faint: Deal 4 damage to the first and last enemy."},{"Level":3,"About":"Faint: Deal 6 damage to the first and last enemy."}],"Id":"235","Name":"Hoopoe Bird","NameId":"HoopoeBird","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Spend 2 trumpets to increase sell value of the two back-most friends permanently by 1 gold."},{"Level":2,"About":"Faint: Spend 2 trumpets to increase sell value of the two back-most friends permanently by 2 gold."},{"Level":3,"About":"Faint: Spend 2 trumpets to increase sell value of the two back-most friends permanently by 3 gold."}],"Id":"736","Name":"Jewel Caterpillar","NameId":"JewelCaterpillar","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Deal 1 damage to the nearest friend ahead and gain damage as health."},{"Level":2,"About":"End turn: Deal 2 damage to the nearest friend ahead and gain damage as health."},{"Level":3,"About":"End turn: Deal 3 damage to the nearest friend ahead and gain damage as health."}],"Id":"165","Name":"Leech","NameId":"Leech","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt","Mvp"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Level-up: Gain +2 attack and +2 health now and +2 gold next turn."},{"Level":2,"About":"Level-up: Gain +4 attack and +4 health now and +4 gold next turn."},{"Level":3,"About":"No ability."}],"Id":"623","Name":"Lucky Cat","NameId":"LuckyCat","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend ahead +2 mana for each roll this turn, up to 3 rolls."},{"Level":2,"About":"Start of battle: Give the nearest friend ahead +4 mana for each roll this turn, up to 3 rolls."},{"Level":3,"About":"Start of battle: Give the nearest friend ahead +6 mana for each roll this turn, up to 3 rolls."}],"Id":"635","Name":"Mana Hound","NameId":"ManaHound","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Roll"],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make one tier 2 or lower enemy Dazed and prioritize <b>Faint</b> pets."},{"Level":2,"About":"Start of battle: Make one tier 4 or lower enemy Dazed and prioritize <b>Faint</b> pets."},{"Level":3,"About":"Start of battle: Make one tier 6 or lower enemy Dazed and prioritize <b>Faint</b> pets."}],"Id":"357","Name":"Mandrake","NameId":"Mandrake","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Prevent ability from activating.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Remove the two nearest friendly perks to summon one 6/6 Mole."},{"Level":2,"About":"Faint: Remove the two nearest friendly perks to summon one 12/12 Mole."},{"Level":3,"About":"Faint: Remove the two nearest friendly perks to summon one 18/18 Mole."}],"Id":"168","Name":"Mole","NameId":"Mole","Tier":3,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Anyone behind hurt: Give two random friendly pets +1 attack and +2 health. Works 2 times per battle."},{"Level":2,"About":"Anyone behind hurt: Give two random friendly pets +2 attack and +4 health. Works 2 times per battle."},{"Level":3,"About":"Anyone behind hurt: Give two random friendly pets +3 attack and +6 health. Works 2 times per battle."}],"Id":"422","Name":"Monkey-Faced Bat","NameId":"MonkeyFacedBat","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend ahead faints: Gain +1 attack and +2 health until next turn."},{"Level":2,"About":"Friend ahead faints: Gain +2 attack and +4 health until next turn."},{"Level":3,"About":"Friend ahead faints: Gain +3 attack and +6 health until next turn."}],"Id":"245","Name":"Musk Ox","NameId":"MuskOx","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Roll: Gain +1 attack and +1 health until next turn. Works 5 times per turn."},{"Level":2,"About":"Roll: Gain +2 attack and +2 health until next turn. Works 5 times per turn."},{"Level":3,"About":"Roll: Gain +3 attack and +3 health until next turn. Works 5 times per turn."}],"Id":"130","Name":"Okapi","NameId":"Okapi","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give the lowest health friendly pet +3 health."},{"Level":2,"About":"End turn: Give the lowest health friendly pet +6 health."},{"Level":3,"About":"End turn: Give the lowest health friendly pet +9 health."}],"Id":"157","Name":"Orangutan","NameId":"Orangutan","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/1 Groundhog."},{"Level":2,"About":"Faint: Summon two 2/1 Groundhogs."},{"Level":3,"About":"Faint: Summon three 2/1 Groundhogs."}],"Id":"247","Name":"Osprey","NameId":"Osprey","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Roll: Give new shop pets +1 attack and +1 health until next turn for each roll, up to 5 rolls.","FinePrint":"Exclude pets that already have temp stats."},{"Level":2,"About":"Roll: Give new shop pets +2 attack and +2 health until next turn for each roll, up to 5 rolls.","FinePrint":"Exclude pets that already have temp stats."},{"Level":3,"About":"Roll: Give new shop pets +3 attack and +3 health until next turn for each roll, up to 5 rolls.","FinePrint":"Exclude pets that already have temp stats."}],"Id":"364","Name":"Ouroboros","NameId":"Ouroboros","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Summon one level 1 Mouse."},{"Level":2,"About":"Start of turn: Summon one level 2 Mouse."},{"Level":3,"About":"Start of turn: Summon one level 3 Mouse."}],"Id":"95","Name":"Owl","NameId":"Owl","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle","Mvp"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead faints: Gain Melon perk and +1 attack. Works 1 time per turn."},{"Level":2,"About":"Friend ahead faints: Gain Melon perk and +1 attack. Works 2 times per turn."},{"Level":3,"About":"Friend ahead faints: Gain Melon perk and +1 attack. Works 3 times per turn."}],"Id":"52","Name":"Ox","NameId":"Ox","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Copy ailment (or Spooked) to the first enemy."},{"Level":2,"About":"Start of battle: Copy ailment (or Spooked) to the first enemy with double effect."},{"Level":3,"About":"Start of battle: Copy ailment (or Spooked) to the first enemy with triple effect."}],"Id":"701","Name":"Pangasius","NameId":"Pangasius","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: If you have a toy, give the nearest friend behind +4 health."},{"Level":2,"About":"Faint: If you have a toy, give the nearest friend behind +8 health."},{"Level":3,"About":"Faint: If you have a toy, give the nearest friend behind +12 health."}],"Id":"249","Name":"Pangolin","NameId":"Pangolin","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +4 trumpets and summon the Golden Retriever immediately."},{"Level":2,"About":"Faint: Gain +8 trumpets and summon the Golden Retriever immediately."},{"Level":3,"About":"Faint: Gain +12 trumpets and summon the Golden Retriever immediately."}],"Id":"733","Name":"Patagonian Mara","NameId":"PatagonianMara","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Summon"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Knock out: Feed the nearest friend behind with one Better Apple."},{"Level":2,"About":"Knock out: Feed the nearest friend behind with two Better Apples."},{"Level":3,"About":"Knock out: Feed the nearest friend behind with three Better Apples."}],"Id":"560","Name":"Pony","NameId":"Pony","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Deal 3 damage directly back."},{"Level":2,"About":"Hurt: Deal 6 damage directly back."},{"Level":3,"About":"Hurt: Deal 9 damage directly back."}],"Id":"169","Name":"Porcupine","NameId":"Porcupine","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend ahead +1 experience."},{"Level":2,"About":"Start of battle: Give the nearest friend ahead +2 experience."},{"Level":3,"About":"Start of battle: Give the nearest friend ahead +3 experience."}],"Id":"145","Name":"Pug","NameId":"Pug","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: Activate and disable its <b>Start of turn</b> ability until next turn. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Activate and disable its <b>Start of turn</b> ability until next turn. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Activate and disable its <b>Start of turn</b> ability until next turn. Works 3 times per turn."}],"Id":"744","Name":"Purple Frog","NameId":"PurpleFrog","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":7,"Abilities":[{"Level":1,"About":"Five enemy attacks: Deal 33% of health as damage to the least healthy enemy."},{"Level":2,"About":"Five enemy attacks: Deal 33% of health as damage to the two least healthy enemies."},{"Level":3,"About":"Five enemy attacks: Deal 33% of health as damage to the three least healthy enemies."}],"Id":"426","Name":"Pygmy Hippo","NameId":"PygmyHippo","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Transformed: Give front-most friend +2 attack and +2 health. Double in battle."},{"Level":2,"About":"Transformed: Give front-most friend +4 attack and +4 health. Double in battle."},{"Level":3,"About":"Transformed: Give front-most friend +6 attack and +6 health. Double in battle."}],"Id":"702","Name":"Quail","NameId":"Quail","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Eats food: Transform and give front-most friend +2 attack and +2 health. Double in battle."},{"Level":2,"About":"Eats food: Transform and give front-most friend +4 attack and +4 health. Double in battle."},{"Level":3,"About":"Eats food: Transform and give front-most friend +6 attack and +6 health. Double in battle."}],"Id":"778","Name":"Quail Chick","NameId":"QuailChick","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Transform","Food"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Bee summoned: Give it +3 attack and +3 health and remove ALL other Queen Bees.","FinePrint":"There can bee only one!"},{"Level":2,"About":"Bee summoned: Give it +6 attack and +6 health and remove ALL other Queen Bees.","FinePrint":"There can bee only one!"},{"Level":3,"About":"Bee summoned: Give it +9 attack and +9 health and remove ALL other Queen Bees.","FinePrint":"There can bee only one!"}],"Id":"703","Name":"Queen Bee","NameId":"QueenBee","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give the pet that knocked this out and its friends +1 attack and +1 health."},{"Level":2,"About":"Faint: Give the pet that knocked this out and its friends +2 attack and +2 health."},{"Level":3,"About":"Faint: Give the pet that knocked this out and its friends +3 attack and +3 health."}],"Id":"751","Name":"Quetzalcoatlus","NameId":"Quetzalcoatlus","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Friendly ate food: Give them +1 health. Works 3 times per turn."},{"Level":2,"About":"Friendly ate food: Give them +2 health. Works 3 times per turn."},{"Level":3,"About":"Friendly ate food: Give them +3 health. Works 3 times per turn."}],"Id":"60","Name":"Rabbit","NameId":"Rabbit","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Transform two friends ahead into ANY useful level 1 <b>Hurt</b> pets from tier 3 or lower."},{"Level":2,"About":"Start of battle: Transform two friends ahead into ANY useful level 2 <b>Hurt</b> pets from tier 3 or lower."},{"Level":3,"About":"Start of battle: Transform two friends ahead into ANY useful level 3 <b>Hurt</b> pets from tier 3 or lower."}],"Id":"429","Name":"Roloway Monkey","NameId":"RolowayMonkey","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Hurt"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Three enemies faint: Deal 4 damage to one random enemy."},{"Level":2,"About":"Three enemies faint: Deal 8 damage to one random enemy."},{"Level":3,"About":"Three enemies faint: Deal 12 damage to one random enemy."}],"Id":"256","Name":"Royal Flycatcher","NameId":"RoyalFlycatcher","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Sell friend: Remove its Strawberry perk to gain +3 gold. Works 1 time per turn."},{"Level":2,"About":"Sell friend: Remove its Strawberry perk to gain +3 gold. Works 2 times per turn."},{"Level":3,"About":"Sell friend: Remove its Strawberry perk to gain +3 gold. Works 3 times per turn."}],"Id":"531","Name":"Sage-Grouse","NameId":"GreaterSageGrouse","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"Eats food: Swallow the left-most shop pet. Summon a 1/1 level 1 copy up front for the opponent on faint."},{"Level":2,"About":"Eats food: Swallow the left-most shop pet. Summon a 1/1 level 2 copy up front for the opponent on faint."},{"Level":3,"About":"Eats food: Swallow the left-most shop pet. Summon a 1/1 level 3 copy up front for the opponent on faint."}],"Id":"763","Name":"Sarcastic Fringehead","NameId":"SarcasticFringehead","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon two 2/2 Rams."},{"Level":2,"About":"Faint: Summon two 4/4 Rams."},{"Level":3,"About":"Faint: Summon two 6/6 Rams."}],"Id":"68","Name":"Sheep","NameId":"Sheep","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Friend gained ailment: Give it a random tier 1 perk. Works 2 times per turn."},{"Level":2,"About":"Friend gained ailment: Give it a random tier 2 perk. Works 2 times per turn."},{"Level":3,"About":"Friend gained ailment: Give it a random tier 3 perk. Works 2 times per turn."}],"Id":"722","Name":"Silkie Chicken","NameId":"SilkieChicken","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give one random friend permanent +1 attack and +1 health."},{"Level":2,"About":"Faint: Give two random friends permanent +1 attack and +1 health."},{"Level":3,"About":"Faint: Give three random friends permanent +1 attack and +1 health."}],"Id":"374","Name":"Skeleton Dog","NameId":"SkeletonDog","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/2 Slime for each two battles fought."},{"Level":2,"About":"Faint: Summon one 4/4 Slime for each two battles fought."},{"Level":3,"About":"Faint: Summon one 6/6 Slime for each two battles fought."}],"Id":"375","Name":"Slime","NameId":"Slime","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Give the nearest friend behind +2 to their lowest stat."},{"Level":2,"About":"Start of turn: Give the nearest two friends behind +2 to their lowest stat."},{"Level":3,"About":"Start of turn: Give the nearest three friends behind +2 to their lowest stat."}],"Id":"433","Name":"Spoon-Billed Sandpiper","NameId":"SpoonBilledSandpiper","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Stock one free Cupcake."},{"Level":2,"About":"Start of turn: Stock one free Cupcake with double effect."},{"Level":3,"About":"Start of turn: Stock one free Cupcake with triple effect."}],"Id":"705","Name":"Sugar Glider","NameId":"SugarGlider","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Spend 2 trumpets to give the two nearest friends behind +4 health."},{"Level":2,"About":"Faint: Spend 2 trumpets to give the two nearest friends behind +8 health."},{"Level":3,"About":"Faint: Spend 2 trumpets to give the two nearest friends behind +12 health."}],"Id":"264","Name":"Surgeon Fish","NameId":"SurgeonFish","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Friend ahead hurt: Gain +1 attack and +2 health until next turn."},{"Level":2,"About":"Friend ahead hurt: Gain +2 attack and +4 health until next turn."},{"Level":3,"About":"Friend ahead hurt: Gain +3 attack and +6 health until next turn."}],"Id":"719","Name":"Takin","NameId":"Takin","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Hurt"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead faints: Deal 2 damage to the first enemy. Double if the friend was level 3."},{"Level":2,"About":"Friend ahead faints: Deal 4 damage to the first enemy. Double if the friend was level 3."},{"Level":3,"About":"Friend ahead faints: Deal 6 damage to the first enemy. Double if the friend was level 3."}],"Id":"654","Name":"Tatzelwurm","NameId":"Tatzelwurm","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Enemy hurt: Make it Weak. Works 2 times per battle."},{"Level":2,"About":"Enemy hurt: Make it Weak. Works 4 times per battle."},{"Level":3,"About":"Enemy hurt: Make it Weak. Works 6 times per battle."}],"Id":"162","Name":"Toad","NameId":"Toad","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Before first attack: Copy tier 5 or lower perk (or Egg) to the nearest friend behind."},{"Level":2,"About":"Before first attack: Copy tier 5 or lower perk (or Egg) to the two nearest friends behind."},{"Level":3,"About":"Before first attack: Copy tier 5 or lower perk (or Egg) to the three nearest friends behind."}],"Id":"151","Name":"Toucan","NameId":"Toucan","Tier":3,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: If this has 6 or less attack, gain Coconut perk."},{"Level":2,"About":"Start of battle: If this has 12 or less attack, gain Coconut perk."},{"Level":3,"About":"Start of battle: If this has 18 or less attack, gain Coconut perk."}],"Id":"378","Name":"Tree","NameId":"TreeEnt","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Make the last perk-less enemy Silly and activate it."},{"Level":2,"About":"Start of battle: Make the last perk-less enemy Silly and activate it twice."},{"Level":3,"About":"Start of battle: Make the last perk-less enemy Silly and activate it thrice."}],"Id":"534","Name":"Tree Kangaroo","NameId":"TreeKangaroo","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Ability has random targets in battle.","CustomArchetypes":["Ailments"],"Random":true},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Give adjacent friends +1 health."},{"Level":2,"About":"Start of turn: Give adjacent friends +2 health."},{"Level":3,"About":"Start of turn: Give adjacent friends +3 health."}],"Id":"100","Name":"Tropical Fish","NameId":"TropicalFish","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Push the back-most friend to the front and give it +3 attack and +3 health in battle."},{"Level":2,"About":"Faint: Push the back-most friend to the front and give it +6 attack and +6 health in battle."},{"Level":3,"About":"Faint: Push the back-most friend to the front and give it +9 attack and +9 health in battle."}],"Id":"439","Name":"Tucuxi","NameId":"Tucuxi","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give one random friend +1 attack and +1 health for each time this was hurt."},{"Level":2,"About":"Faint: Give one random friend +2 attack and +2 health for each time this was hurt."},{"Level":3,"About":"Faint: Give one random friend +3 attack and +3 health for each time this was hurt."}],"Id":"572","Name":"Tuna","NameId":"Tuna","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"],"Random":true},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack and +2 health for each friendly pet with a different ailment."},{"Level":2,"About":"Start of battle: Gain +2 attack and +4 health for each friendly pet with a different ailment."},{"Level":3,"About":"Start of battle: Gain +3 attack and +6 health for each friendly pet with a different ailment."}],"Id":"791","Name":"Vampire Parrot","NameId":"VampireParrot","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Shop tier upgraded: Gain +50% attack."},{"Level":2,"About":"Shop tier upgraded: Gain +100% attack."},{"Level":3,"About":"Shop tier upgraded: Gain +150% attack."}],"Id":"160","Name":"Wasp","NameId":"Wasp","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +1 gold on next turn."},{"Level":2,"About":"Faint: Gain +2 gold on next turn."},{"Level":3,"About":"Faint: Gain +3 gold on next turn."}],"Id":"173","Name":"Weasel","NameId":"Weasel","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Swallow and copy the left-most unfrozen shop pet until next turn."},{"Level":2,"About":"End turn: Swallow and copy the two left-most unfrozen and different shop pets until next turn."},{"Level":3,"About":"End turn: Swallow and copy the three left-most unfrozen and different shop pets until next turn."}],"Id":"373","Name":"Abomination","NameId":"Shoggoth","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Summon one level 1 Ocarina."},{"Level":2,"About":"End turn: Summon one level 2 Ocarina."},{"Level":3,"About":"End turn: Summon one level 3 Ocarina."}],"Id":"785","Name":"Ahuizotl","NameId":"Ahuizotl","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Deal 3 damage to its target, or gain +3 attack."},{"Level":2,"About":"Adjacent friend attacked: Deal 6 damage to its target, or gain +6 attack."},{"Level":3,"About":"Adjacent friend attacked: Deal 9 damage to its target, or gain +9 attack."}],"Id":"390","Name":"Amazon River Dolphin","NameId":"AmazonRiverDolphin","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Remove the most healthy unfrozen shop pet to gain 50% of its stats until next turn."},{"Level":2,"About":"End turn: Remove the most healthy unfrozen shop pet to gain 100% of its stats until next turn."},{"Level":3,"About":"End turn: Remove the most healthy unfrozen shop pet to gain 150% of its stats until next turn."}],"Id":"730","Name":"Andrewsarchus","NameId":"Andrewsarchus","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give friends +1 to their highest stat."},{"Level":2,"About":"End turn: Give friends +2 to their highest stat."},{"Level":3,"About":"End turn: Give friends +3 to their highest stat."}],"Id":"392","Name":"Angelshark","NameId":"Angelshark","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Activate two Faint friends from tier 2 or lower front-to-back."},{"Level":2,"About":"Start of battle: Activate two Faint friends from tier 4 or lower front-to-back."},{"Level":3,"About":"Start of battle: Activate two Faint friends from tier 6 or lower front-to-back."}],"Id":"331","Name":"Anubis","NameId":"Anubis","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"End turn: If this has a level 3 friend, gain +1 attack and +2 health."},{"Level":2,"About":"End turn: If this has a level 3 friend, gain +2 attack and +4 health."},{"Level":3,"About":"End turn: If this has a level 3 friend, gain +3 attack and +6 health."}],"Id":"5","Name":"Bison","NameId":"Bison","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: Stock one copy of it. Works 1 time per turn."},{"Level":2,"About":"Friend sold: Stock one copy of it. Works 2 times per turn."},{"Level":3,"About":"Friend sold: Stock one copy of it. Works 3 times per turn."}],"Id":"797","Name":"Bloodhound","NameId":"Bloodhound","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Deal 3 damage to one random enemy."},{"Level":2,"About":"Hurt: Deal 6 damage to one random enemy."},{"Level":3,"About":"Hurt: Deal 9 damage to one random enemy."}],"Id":"7","Name":"Blowfish","NameId":"Blowfish","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Hurt"],"Random":true},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Spend 4 trumpets to give nearest friend behind permanent Melon Slice."},{"Level":2,"About":"Faint: Spend 4 trumpets to give nearest friend behind permanent Melon Slice that works twice."},{"Level":3,"About":"Faint: Spend 4 trumpets to give nearest friend behind permanent Melon Slice that works thrice."}],"Id":"530","Name":"Blue-Footed Booby","NameId":"BlueFootedBooby","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Transform into the front-most friend."},{"Level":2,"About":"Start of turn: Transform into the front-most friend."},{"Level":3,"About":"Start of turn: Transform into the front-most friend."}],"Id":"402","Name":"Bonobo","NameId":"Bonobo","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Levels","Mvp"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: Gain +2 attack and +2 health until next turn."},{"Level":2,"About":"Friend sold: Gain +4 attack and +4 health until next turn."},{"Level":3,"About":"Friend sold: Gain +6 attack and +6 health until next turn."}],"Id":"8","Name":"Buffalo","NameId":"Buffalo","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Transformed: Copy 33% attack and health from the strongest enemy."},{"Level":2,"About":"Transformed: Copy 66% attack and health from the strongest enemy."},{"Level":3,"About":"Transformed: Copy 100% attack and health from the strongest enemy."}],"Id":"9","Name":"Butterfly","NameId":"Butterfly","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Gain +1 experience.","FinePrint":"Will copy an enemy\'s stats at level 3."},{"Level":2,"About":"Start of turn: Gain +1 experience.","FinePrint":"Will copy an enemy\'s stats at level 3."},{"Level":3,"About":"Start of battle: Transform into a 1/1 Butterfly and copy stats of the strongest enemy."}],"Id":"12","Name":"Caterpillar","NameId":"Caterpillar","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Levels","Transform"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Copy friendly toy ability at up to level 1 until next turn.","FinePrint":"Break abilities trigger on faint instead."},{"Level":2,"About":"End turn: Copy friendly toy ability at up to level 2 until next turn.","FinePrint":"Break abilities trigger on faint instead."},{"Level":3,"About":"End turn: Copy friendly toy ability at up to level 3 until next turn.","FinePrint":"Break abilities trigger on faint instead."}],"Id":"216","Name":"Chameleon","NameId":"Chameleon","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 pet. Spend mana to give it +1 attack and +2 health per 2 mana."},{"Level":2,"About":"Faint: Summon two 3/3 pets. Spend mana to give them +1 attack and +2 health per 2 mana."},{"Level":3,"About":"Faint: Summon three 3/3 pets. Spend mana to give them +1 attack and +2 health per 2 mana."}],"Id":"338","Name":"Chimera","NameId":"Chimera","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friendly level-up: Give it +2 attack and +2 health."},{"Level":2,"About":"Friendly level-up: Give it +4 attack and +4 health."},{"Level":3,"About":"Friendly level-up: Give it +6 attack and +6 health."}],"Id":"117","Name":"Clownfish","NameId":"ClownFish","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Buy: Give the highest tier friend +2 attack and +2 health."},{"Level":2,"About":"Buy: Give the highest tier friend +4 attack and +4 health."},{"Level":3,"About":"Buy: Give the highest tier friend +6 attack and +6 health."}],"Id":"218","Name":"Cockatoo","NameId":"Cockatoo","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Stock one Chocolate."},{"Level":2,"About":"Sell: Stock one Better Chocolate."},{"Level":3,"About":"Sell: Stock one Best Chocolate."}],"Id":"195","Name":"Crow","NameId":"Crow","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels","Mvp"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Enemy faints: Summon 1/1 bad Chicks up front for the enemy early. Can summon up to 2 per battle."},{"Level":2,"About":"Enemy faints: Summon 1/1 bad Chicks up front for the enemy early. Can summon up to 4 per battle."},{"Level":3,"About":"Enemy faints: Summon 1/1 bad Chicks up front for the enemy early. Can summon up to 6 per battle."}],"Id":"787","Name":"Cuckoo","NameId":"Cuckoo","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":8,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Remove 3 health from the last enemy and make it Inked."},{"Level":2,"About":"Faint: Remove 3 health from the last two enemies and make them Inked."},{"Level":3,"About":"Faint: Remove 3 health from the last three enemies and make them Inked."}],"Id":"176","Name":"Cuttlefish","NameId":"Cuddlefish","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Friend level-up: Give it +2 mana. Also give +1 experience on the first trigger this turn."},{"Level":2,"About":"Friend level-up: Give it +4 mana. Also give +1 experience on the first two triggers this turn."},{"Level":3,"About":"Friend level-up: Give it +6 mana. Also give +1 experience on the first three triggers this turn."}],"Id":"630","Name":"Cyclops","NameId":"Cyclops","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Mana"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 5/3 Bus with Chili."},{"Level":2,"About":"Faint: Summon one 10/6 Bus with Chili."},{"Level":3,"About":"Faint: Summon one 15/9 Bus with Chili."}],"Id":"20","Name":"Deer","NameId":"Deer","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Attack second enemy for 5 damage.","CustomArchetypes":["Summon"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"Ailments on this work in reverse.","FinePrint":"Weak and Spooked works 3 times."},{"Level":2,"About":"Ailments on this work in reverse and are two times better.","FinePrint":"Weak and Spooked works 3 times."},{"Level":3,"About":"Ailments on this work in reverse and are three times better.","FinePrint":"Weak and Spooked works 3 times."}],"Id":"748","Name":"Deinocheirus","NameId":"Deinocheirus","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +8 attack. If all friends are higher tiers, also gain Coconut perk."},{"Level":2,"About":"Start of battle: Gain +16 attack. If all friends are higher tiers, also gain Coconut perk."},{"Level":3,"About":"Start of battle: Gain +24 attack. If all friends are higher tiers, also gain Coconut perk."}],"Id":"273","Name":"Doberman","NameId":"Doberman","Tier":4,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Perks"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Friend faints: Push the last enemy to the front and remove 3 attack. Works 1 time per battle."},{"Level":2,"About":"Friend faints: Push the last enemy to the front and remove 3 attack. Works 2 times per battle."},{"Level":3,"About":"Friend faints: Push the last enemy to the front and remove 3 attack. Works 3 times per battle."}],"Id":"111","Name":"Donkey","NameId":"Donkey","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Increase sell value of one random <b>Sell</b> friend by 2 gold.","FinePrint":"Max gold limit is 30."},{"Level":2,"About":"End turn: Increase sell value of one random <b>Sell</b> friend by 4 gold.","FinePrint":"Max gold limit is 30."},{"Level":3,"About":"End turn: Increase sell value of one random <b>Sell</b> friend by 6 gold.","FinePrint":"Max gold limit is 30."}],"Id":"546","Name":"Elk","NameId":"Elk","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Gold"],"Random":true},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 wondrous toy."},{"Level":2,"About":"Buy: Choose one level 2 wondrous toy."},{"Level":3,"About":"Buy: Choose one level 3 wondrous toy."}],"Id":"342","Name":"Fairy","NameId":"Fairy","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: If still standing, gain permanent +2 health and transform into a protected ball."},{"Level":2,"About":"Hurt: If still standing, gain permanent +4 health and transform into a protected ball."},{"Level":3,"About":"Hurt: If still standing, gain permanent +6 health and transform into a protected ball."}],"Id":"547","Name":"Fairy Armadillo","NameId":"FairyArmadillo","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Transform","Hurt"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Takes 2 less damage."},{"Level":2,"About":"Takes 4 less damage."},{"Level":3,"About":"Takes 6 less damage."}],"Id":"771","Name":"Fairy Ball","NameId":"FairyArmadilloBall","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Knock out: Summon one 3/3 level 1 copy of it. Works 3 times per battle.","FinePrint":"Does not summon other Falcons."},{"Level":2,"About":"Knock out: Summon one 6/6 level 2 copy of it. Works 3 times per battle.","FinePrint":"Does not summon other Falcons."},{"Level":3,"About":"Knock out: Summon one 9/9 level 3 copy of it. Works 3 times per battle.","FinePrint":"Does not summon other Falcons."}],"Id":"224","Name":"Falcon","NameId":"Falcon","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Feed friends one Corncob."},{"Level":2,"About":"Buy: Feed friends two Corncobs."},{"Level":3,"About":"Buy: Feed friends three Corncobs."}],"Id":"689","Name":"Farmer Cat","NameId":"FarmerCat","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Remove 1 health from the two first enemies for each roll this turn."},{"Level":2,"About":"Start of battle: Remove 2 health from the two first enemies for each roll this turn."},{"Level":3,"About":"Start of battle: Remove 3 health from the two first enemies for each roll this turn."}],"Id":"549","Name":"Fossa","NameId":"Fossa","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Gain +2 attack and +1 health until next turn for each gold over 10."},{"Level":2,"About":"Start of turn: Gain +4 attack and +2 health until next turn for each gold over 10."},{"Level":3,"About":"Start of turn: Gain +6 attack and +3 health until next turn for each gold over 10."}],"Id":"185","Name":"Gazelle","NameId":"Gazelle","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Eats two food: Transform and feed one Pear to each friend."},{"Level":2,"About":"Eats two food: Transform and feed two Pears to each friend."},{"Level":3,"About":"Eats two food: Transform and feed three Pears to each friend."}],"Id":"696","Name":"Gelada","NameId":"Gelada","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food","Transform"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Before battle: Give friends +2 attack and +5 health until after the first non-jump attack."},{"Level":2,"About":"Before battle: Give friends +4 attack and +10 health until after the first non-jump attack."},{"Level":3,"About":"Before battle: Give friends +6 attack and +15 health until after the first non-jump attack."}],"Id":"410","Name":"Giant Otter","NameId":"GiantOtter","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Gain +2 health, and set attack to 4. Health can go to 100!"},{"Level":2,"About":"End turn: Gain +4 health, and set attack to 8. Health can go to 100!"},{"Level":3,"About":"End turn: Gain +6 health, and set attack to 12. Health can go to 100!"}],"Id":"412","Name":"Giant Tortoise","NameId":"GiantTortoise","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":6,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Swallow the first enemy with 6 health or less. Release it with 1 health on faint."},{"Level":2,"About":"Start of battle: Swallow the first enemy with 12 health or less. Release it with 1 health on faint."},{"Level":3,"About":"Start of battle: Swallow the first enemy with 18 health or less. Release it with 1 health on faint."}],"Id":"754","Name":"Goblin Shark","NameId":"GoblinShark","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Before battle: Transform into ANY useful level 1 <b>Start of Battle</b> pet from tier 5."},{"Level":2,"About":"Before battle: Transform into ANY useful level 2 <b>Start of Battle</b> pet from tier 5."},{"Level":3,"About":"Before battle: Transform into ANY useful level 3 <b>Start of Battle</b> pet from tier 5."}],"Id":"720","Name":"Golden Tamarin","NameId":"GoldenTamarin","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Deal 7 damage to the opposite enemy."},{"Level":2,"About":"Start of battle: Deal 14 damage to the opposite enemy."},{"Level":3,"About":"Start of battle: Deal 21 damage to the opposite enemy."}],"Id":"127","Name":"Hawk","NameId":"Hawk","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Knock out: Gain +3 attack and +3 health. Works 3 times per battle."},{"Level":2,"About":"Knock out: Gain +6 attack and +6 health. Works 3 times per battle."},{"Level":3,"About":"Knock out: Gain +9 attack and +9 health. Works 3 times per battle."}],"Id":"38","Name":"Hippo","NameId":"Hippo","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Remove friendly strawberries to gain +3 trumpets for each."},{"Level":2,"About":"Start of battle: Remove friendly strawberries to gain +6 trumpets for each."},{"Level":3,"About":"Start of battle: Remove friendly strawberries to gain +9 trumpets for each."}],"Id":"755","Name":"Hoatzin","NameId":"Hoatzin","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Trumpets"]},{"Attack":6,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Remove 30% attack from the highest attack enemy."},{"Level":2,"About":"Start of battle: Remove 60% attack from the highest attack enemy."},{"Level":3,"About":"Start of battle: Remove 90% attack from the highest attack enemy."}],"Id":"416","Name":"Humphead Wrasse","NameId":"HumpheadWrasse","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Eats apple: Give friends +1 attack and +1 health. Works 1 time per turn."},{"Level":2,"About":"Eats apple: Give friends +2 attack and +2 health. Works 1 time per turn."},{"Level":3,"About":"Eats apple: Give friends +3 attack and +3 health. Works 1 time per turn."}],"Id":"199","Name":"Jerboa","NameId":"Jerboa","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"After first attack: Make the highest attack enemy Spooked and push it to the back."},{"Level":2,"About":"After first attack: Make the two highest attack enemies Spooked and push them to the back."},{"Level":3,"About":"After first attack: Make the three highest attack enemies Spooked and push them to the back."}],"Id":"419","Name":"Kakapo","NameId":"Kakapo","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments","Disruption"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Remove 15% health from ALL other pets."},{"Level":2,"About":"Start of battle: Remove 30% health from ALL other pets."},{"Level":3,"About":"Start of battle: Remove 45% health from ALL other pets."}],"Id":"355","Name":"Kraken","NameId":"Kraken","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Give random ailments to ANY three random pets. Double the effect on enemies."},{"Level":2,"About":"Faint: Give random ailments to ANY six random pets. Double the effect on enemies."},{"Level":3,"About":"Faint: Give random ailments to ANY nine random pets. Double the effect on enemies."}],"Id":"750","Name":"Leaf Gecko","NameId":"SatanicLeafTailedGecko","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":7,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give adjacent friends 1 experience and remove this."},{"Level":2,"About":"Start of battle: Give adjacent friends 2 experience and remove this."},{"Level":3,"About":"Start of battle: Give adjacent friends 3 experience and remove this."}],"Id":"723","Name":"Leafy Sea Dragon","NameId":"LeafySeaDragon","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Cycle","Levels"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"End turn: If there is an empty space, gain +1 attack and +2 health."},{"Level":2,"About":"End turn: If there is an empty space, gain +2 attack and +4 health."},{"Level":3,"About":"End turn: If there is an empty space, gain +3 attack and +6 health."}],"Id":"44","Name":"Llama","NameId":"Llama","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friend summoned: If outside battle, give it +1 attack and +2 health."},{"Level":2,"About":"Friend summoned: If outside battle, give it +2 attack and +4 health."},{"Level":3,"About":"Friend summoned: If outside battle, give it +3 attack and +6 health."}],"Id":"93","Name":"Lobster","NameId":"Lobster","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one friend and feed it with random food for every food eaten this turn."},{"Level":2,"About":"Faint: Summon two friends and feed them with random food for every food eaten this turn."},{"Level":3,"About":"Faint: Summon three friends and feed them with random food for every food eaten this turn."}],"Id":"698","Name":"Locust","NameId":"Locust","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Summon","Food"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Five enemy attacks: Gain +4 health and remove 4 health from all enemies."},{"Level":2,"About":"Five enemy attacks: Gain +8 health and remove 8 health from all enemies."},{"Level":3,"About":"Five enemy attacks: Gain +12 health and remove 12 health from all enemies."}],"Id":"420","Name":"Longcomb Sawfish","NameId":"LongcombSawfish","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Deal damage to one random enemy equal to the sum of all friendly levels."},{"Level":2,"About":"Start of battle: Deal damage to two random enemies equal to the sum of all friendly levels."},{"Level":3,"About":"Start of battle: Deal damage to three random enemies equal to the sum of all friendly levels."}],"Id":"200","Name":"Lynx","NameId":"Lynx","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels","Disruption"],"Random":true},{"Attack":2,"Health":11,"Abilities":[{"Level":1,"About":"End turn: Take 5 damage and give the nearest friend ahead +2 attack and +1 health."},{"Level":2,"About":"End turn: Take 5 damage and give the nearest friend ahead +4 attack and +2 health."},{"Level":3,"About":"End turn: Take 5 damage and give the nearest friend ahead +6 attack and +3 health."}],"Id":"192","Name":"Manatee","NameId":"Manatee","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"End turn: If there is an empty space, gain +2 gold next turn."},{"Level":2,"About":"End turn: If there is an empty space, gain +4 gold next turn."},{"Level":3,"About":"End turn: If there is an empty space, gain +6 gold next turn."}],"Id":"240","Name":"Manta Ray","NameId":"MantaRay","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Make ALL pets within 3 spaces Weak."},{"Level":2,"About":"Faint: Make ALL pets within 6 spaces Weak."},{"Level":3,"About":"Faint: Make ALL pets within 9 spaces Weak."}],"Id":"94","Name":"Microbe","NameId":"Microbe","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Three friends faint: Gain +1 gold on next turn."},{"Level":2,"About":"Three friends faint: Gain +2 gold on next turn."},{"Level":3,"About":"Three friends faint: Gain +3 gold on next turn."}],"Id":"359","Name":"Mimic","NameId":"Mimic","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Gold","Summon"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Gain +1 attack and +1 health for each of the friend\'s level."},{"Level":2,"About":"Friend ahead attacks: Gain +2 attack and +2 health for each of the friend\'s level."},{"Level":3,"About":"Friend ahead attacks: Gain +3 attack and +3 health for each of the friend\'s level."}],"Id":"360","Name":"Minotaur","NameId":"Minotaur","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 nostalgic toy."},{"Level":2,"About":"Start of turn: Choose one level 2 nostalgic toy."},{"Level":3,"About":"Start of turn: Choose one level 3 nostalgic toy."}],"Id":"612","Name":"Old Mouse","NameId":"OldMouse","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"],"Random":true},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Copy ability from the nearest pet ahead as level 1 until next turn."},{"Level":2,"About":"End turn: Copy ability from the nearest pet ahead as level 2 until next turn."},{"Level":3,"About":"End turn: Copy ability from the nearest pet ahead as level 3 until next turn."}],"Id":"53","Name":"Parrot","NameId":"Parrot","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Mvp","Mvp"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend summoned: Give three friends +1 attack until next turn."},{"Level":2,"About":"Friend summoned: Give three friends +2 attack until next turn."},{"Level":3,"About":"Friend summoned: Give three friends +3 attack until next turn."}],"Id":"365","Name":"Pegasus","NameId":"Pegasus","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Give two level 2 or higher friends +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give two level 2 or higher friends +2 attack and +2 health."},{"Level":3,"About":"Start of turn: Give two level 2 or higher friends +3 attack and +3 health."}],"Id":"56","Name":"Penguin","NameId":"Penguin","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 trumpet for each roll (max 8) this turn."},{"Level":2,"About":"Start of battle: Gain +2 trumpets for each roll (max 8) this turn."},{"Level":3,"About":"Start of battle: Gain +3 trumpets for each roll (max 8) this turn."}],"Id":"734","Name":"Platybelodon","NameId":"Platybelodon","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Roll"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint & Sell: Summon one 3/2 level 1 Duck and Beaver."},{"Level":2,"About":"Faint & Sell: Summon one 6/4 level 2 Duck and Beaver."},{"Level":3,"About":"Faint & Sell: Summon one 9/6 level 3 Duck and Beaver."}],"Id":"159","Name":"Platypus","NameId":"Platypus","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Cycle","Summon"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Friend ahead faints: Deal 4 damage to the highest health enemy."},{"Level":2,"About":"Friend ahead faints: Deal 8 damage to the highest health enemy."},{"Level":3,"About":"Friend ahead faints: Deal 12 damage to the highest health enemy."}],"Id":"252","Name":"Poison Dart Frog","NameId":"PoisonDartFrog","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Friend transformed: Give it +3 experience. Works 1 time per battle."},{"Level":2,"About":"Friend transformed: Give it +3 experience. Works 2 times per battle."},{"Level":3,"About":"Friend transformed: Give it +3 experience. Works 3 times per battle."}],"Id":"729","Name":"Poodle Moth","NameId":"PoodleMoth","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels","Transform"]},{"Attack":7,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Deal 50 damage to adjacent friends and gain +2 attack and +2 health."},{"Level":2,"About":"Start of turn: Deal 50 damage to adjacent friends and gain +4 attack and +4 health."},{"Level":3,"About":"Start of turn: Deal 50 damage to adjacent friends and gain +6 attack and +6 health."}],"Id":"126","Name":"Praying Mantis","NameId":"PrayingMantis","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff","Mvp"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Puppy toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Puppy toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Puppy toy."}],"Id":"97","Name":"Puppy","NameId":"Puppy","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it the Strawberry perk and +5 attack. Works 1 time per battle."},{"Level":2,"About":"Before friend attacks: Give it the Strawberry perk and +5 attack. Works 2 times per battle."},{"Level":3,"About":"Before friend attacks: Give it the Strawberry perk and +5 attack. Works 3 times per battle."}],"Id":"760","Name":"Racket Tail","NameId":"WhiteBootedRacketTail","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Transform the opposite enemy into ANY random <b>Faint</b> pet from one tier below."},{"Level":2,"About":"Start of battle: Transform the opposite enemy into ANY random <b>Faint</b> pet from two tiers below."},{"Level":3,"About":"Start of battle: Transform the opposite enemy into ANY random <b>Faint</b> pet from three tiers below."}],"Id":"742","Name":"Red Lipped Batfish","NameId":"RedLippedBatfish","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Give one friend ahead +2 mana. Repeat 3 times and spread evenly."},{"Level":2,"About":"Start of battle: Give one friend ahead +2 mana. Repeat 6 times and spread evenly."},{"Level":3,"About":"Start of battle: Give one friend ahead +2 mana. Repeat 9 times and spread evenly."}],"Id":"369","Name":"Roc","NameId":"Roc","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":1,"Health":8,"Abilities":[{"Level":1,"About":"End turn: Give two friends with less health than this +1 attack and +1 health."},{"Level":2,"About":"End turn: Give two friends with less health than this +2 attack and +2 health."},{"Level":3,"About":"End turn: Give two friends with less health than this +3 attack and +3 health."}],"Id":"622","Name":"Rootling","NameId":"Rootler","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Replace friendly strawberries with +4 mana."},{"Level":2,"About":"Start of battle: Replace friendly strawberries with +8 mana."},{"Level":3,"About":"Start of battle: Replace friendly strawberries with +12 mana."}],"Id":"802","Name":"Ruspoli\'s Turaco","NameId":"RuspolisTuraco","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Mana"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Two friends faint: Gain +3 trumpets."},{"Level":2,"About":"Two friends faint: Gain +6 trumpets."},{"Level":3,"About":"Two friends faint: Gain +9 trumpets."}],"Id":"257","Name":"Saiga Antelope","NameId":"SaigaAntelope","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Summon"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: If it was a Sell pet, give one random friend +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Friend sold: If it was a Sell pet, give one random friend +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Friend sold: If it was a Sell pet, give one random friend +3 attack and +3 health. Works 3 times per turn."}],"Id":"563","Name":"Sea Anemone","NameId":"SeaAnemone","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Cycle"],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Friend summoned: Copy this pet\'s food perk to it. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Copy this pet\'s food perk to it. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Copy this pet\'s food perk to it. Works 3 times per turn."}],"Id":"128","Name":"Seagull","NameId":"Seagull","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks","Summon"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give friends behind +1 attack and friends ahead +1 health."},{"Level":2,"About":"End turn: Give friends behind +2 attack and friends ahead +2 health."},{"Level":3,"About":"End turn: Give friends behind +3 attack and friends ahead +3 health."}],"Id":"175","Name":"Sealion","NameId":"Sealion","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Give adjacent pets +1 attack. Also +1 health if the shop has discounted food."},{"Level":2,"About":"End turn: Give adjacent pets +2 attack. Also +2 health if the shop has discounted food."},{"Level":3,"About":"End turn: Give adjacent pets +3 attack. Also +3 health if the shop has discounted food."}],"Id":"565","Name":"Siamese","NameId":"Siamese","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Remove 33% health from the highest health enemy."},{"Level":2,"About":"Start of battle: Remove 66% health from the highest health enemy."},{"Level":3,"About":"Start of battle: Remove 99% health from the highest health enemy."}],"Id":"70","Name":"Skunk","NameId":"Skunk","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Transformed: Feed one Pear to each friend."},{"Level":2,"About":"Transformed: Feed two Pears to each friend."},{"Level":3,"About":"Transformed: Feed three Pears to each friend."}],"Id":"780","Name":"Sleeping Gelada","NameId":"GeladaSleeping","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/2 Smaller Slug that summons one 1/1 Smallest Slug."},{"Level":2,"About":"Faint: Summon one 4/4 Smaller Slug that summons one 2/2 Smallest Slug."},{"Level":3,"About":"Faint: Summon one 6/6 Smaller Slug that summons one 3/3 Smallest Slug."}],"Id":"262","Name":"Slug","NameId":"Slug","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon","Guard"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friendly Strawberries block 5 damage twice, or ailments once."},{"Level":2,"About":"Friendly Strawberries block 10 damage twice, or ailments once."},{"Level":3,"About":"Friendly Strawberries block 15 damage twice, or ailments once."}],"Id":"567","Name":"Sparrow","NameId":"Sparrow","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":1,"Health":5,"Abilities":[{"Level":1,"About":"Friend attacks: Give it +4 health and move it far back. Works on one friend per turn."},{"Level":2,"About":"Friend attacks: Give it +4 health and move it far back. Works on two different friends per turn."},{"Level":3,"About":"Friend attacks: Give it +4 health and move it far back. Works on three different friends per turn."}],"Id":"727","Name":"Spider Crab","NameId":"SpiderCrab","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Deal 1 damage to two random enemies and multiply damage by the distance."},{"Level":2,"About":"Faint: Deal 2 damage to two random enemies and multiply damage by the distance."},{"Level":3,"About":"Faint: Deal 3 damage to two random enemies and multiply damage by the distance."}],"Id":"804","Name":"Spiny Bush Viper","NameId":"SpinyBushViper","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of turn: Discount all shop food by 1 gold."},{"Level":2,"About":"Start of turn: Discount all shop food by 2 gold."},{"Level":3,"About":"Start of turn: Discount all shop food by 3 gold."}],"Id":"75","Name":"Squirrel","NameId":"Squirrel","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give Mild Chili perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Mild Chili perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Mild Chili perk to the three nearest friends behind."}],"Id":"393","Name":"Tahr","NameId":"ArabianTahr","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Attack second enemy for 4 damage.","CustomArchetypes":["Perks"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Transformed: Summon a level 1 Thunder Hammer."},{"Level":2,"About":"Transformed: Summon a level 2 Thunder Hammer."},{"Level":3,"About":"Transformed: Summon a level 3 Thunder Hammer."}],"Id":"819","Name":"Tand and Tand","NameId":"ThorGoats","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":6,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give one random friendly Tandgrisner +3 health. Can also..."},{"Level":2,"About":"End turn: Give one random friendly Tandgrisner +6 health. Can also..."},{"Level":3,"About":"End turn: Give one random friendly Tandgrisner +9 health. Can also..."}],"Id":"607","Name":"Tandgnost","NameId":"ThorGoat1","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Give one random friendly Tandgnost +3 attack. Can also..."},{"Level":2,"About":"End turn: Give one random friendly Tandgnost +6 attack. Can also..."},{"Level":3,"About":"End turn: Give one random friendly Tandgnost +9 attack. Can also..."}],"Id":"608","Name":"Tandgrisner","NameId":"ThorGoat2","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 level 1 Tardigrade and make it Dazed."},{"Level":2,"About":"Faint: Summon one 6/6 level 2 Tardigrade and make it Dazed."},{"Level":3,"About":"Faint: Summon one 9/9 level 3 Tardigrade and make it Dazed."}],"Id":"570","Name":"Tardigrade","NameId":"Tardigrade","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"PerkNote":"Prevent ability from activating.","CustomArchetypes":["Summon","Ailments"]},{"Attack":1,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Make the lowest attack enemy 5x\xa0Spooked and jump-attack it."},{"Level":2,"About":"Start of battle: Make the lowest attack enemy 10x\xa0Spooked and jump-attack it."},{"Level":3,"About":"Start of battle: Make the lowest attack enemy 15x\xa0Spooked and jump-attack it."}],"Id":"437","Name":"Tasmanian Devil","NameId":"TasmanianDevil","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Guard","Ailments"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and deal 3 damage to the two first enemies."},{"Level":2,"About":"Empty front space: Jump to the front and deal 6 damage to the two first enemies."},{"Level":3,"About":"Empty front space: Jump to the front and deal 9 damage to the two first enemies."}],"Id":"330","Name":"Tiger Bug","NameId":"AntLion","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: If it was sold for at least 3 gold, gain +1 attack and +2 health."},{"Level":2,"About":"Friend sold: If it was sold for at least 3 gold, gain +2 attack and +4 health."},{"Level":3,"About":"Friend sold: If it was sold for at least 3 gold, gain +3 attack and +6 health."}],"Id":"706","Name":"Trout","NameId":"Trout","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Melon perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Melon perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Melon perk to the three nearest friends behind."}],"Id":"80","Name":"Turtle","NameId":"Turtle","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend gained ailment: Replace it with permanent +2 attack and +2 health. Works 1 time per turn."},{"Level":2,"About":"Friend gained ailment: Replace it with permanent +2 attack and +2 health. Works 2 times per turn."},{"Level":3,"About":"Friend gained ailment: Replace it with permanent +2 attack and +2 health. Works 3 times per turn."}],"Id":"380","Name":"Unicorn","NameId":"Unicorn","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +50% trumpets, and minimum +4 trumpets."},{"Level":2,"About":"Faint: Gain +100% trumpets, and minimum +8 trumpets."},{"Level":3,"About":"Faint: Gain +150% trumpets, and minimum +12 trumpets."}],"Id":"265","Name":"Vaquita","NameId":"Vaquita","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Make ALL pets within one space Icky."},{"Level":2,"About":"Faint: Make ALL pets within two spaces Icky."},{"Level":3,"About":"Faint: Make ALL pets within three spaces Icky."}],"Id":"386","Name":"Visitor","NameId":"Xenomorph","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take double damage, twice.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Swallow the nearest friend ahead and release it at level 1 on faint."},{"Level":2,"About":"Start of battle: Swallow the nearest friend ahead and release it at level 2 on faint."},{"Level":3,"About":"Start of battle: Swallow the nearest friend ahead and release it at level 3 on faint."}],"Id":"81","Name":"Whale","NameId":"Whale","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Gain perk or ailment: Remove it and gain +1 attack and +1 health. Triple in battle."},{"Level":2,"About":"Gain perk or ailment: Remove it and gain +2 attack and +2 health. Triple in battle."},{"Level":3,"About":"Gain perk or ailment: Remove it and gain +3 attack and +3 health. Triple in battle."}],"Id":"267","Name":"Whale Shark","NameId":"WhaleShark","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks","Ailments"]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Give adjacent friends +1 attack and +1 health for every 4 roll, up to 8 rolls."},{"Level":2,"About":"End turn: Give adjacent friends +2 attack and +2 health for every 4 roll, up to 8 rolls."},{"Level":3,"About":"End turn: Give adjacent friends +3 attack and +3 health for every 4 roll, up to 8 rolls."}],"Id":"371","Name":"Worm of Sand","NameId":"Sandworm","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Pet lost perk: Give it Melon Slice if friendly, or deal 6 damage if enemy. Works 1 time per battle."},{"Level":2,"About":"Pet lost perk: Give it Melon Slice if friendly, or deal 6 damage if enemy. Works 2 times per battle."},{"Level":3,"About":"Pet lost perk: Give it Melon Slice if friendly, or deal 6 damage if enemy. Works 3 times per battle."}],"Id":"756","Name":"Yeti Crab","NameId":"YetiCrab","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block 10 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Transformed: Give two back-most friends 1 experience."},{"Level":2,"About":"Transformed: Give two back-most friends 2 experience."},{"Level":3,"About":"Transformed: Give two back-most friends 3 experience."}],"Id":"777","Name":"Adult Flounder","NameId":"FlounderAdult","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +3 attack and +4 mana and Spooked. Works 2 times per turn."},{"Level":2,"About":"Friend summoned: Give it +6 attack and +8 mana and Spooked. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Give it +9 attack and +12 mana and Spooked. Works 2 times per turn."}],"Id":"631","Name":"Amalgamation","NameId":"Amalgam","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Ailments","Summon"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Give ALL pets +8 health."},{"Level":2,"About":"Start of battle: Give ALL pets +16 health."},{"Level":3,"About":"Start of battle: Give ALL pets +24 health."}],"Id":"166","Name":"Armadillo","NameId":"Armadillo","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Friendly gained perk: Give it permanent +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Friendly gained perk: Give it permanent +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Friendly gained perk: Give it permanent +3 attack and +3 health. Works 3 times per turn."}],"Id":"212","Name":"Axolotl","NameId":"Axolotl","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Seven enemy attacks: Summon two Lemurs and give all friends +3 attack and +3 health."},{"Level":2,"About":"Seven enemy attacks: Summon two Lemurs and give all friends +6 attack and +6 health."},{"Level":3,"About":"Seven enemy attacks: Summon two Lemurs and give all friends +9 attack and +9 health."}],"Id":"395","Name":"Aye-aye","NameId":"AyeAye","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 toy that brings doom and chaos!"},{"Level":2,"About":"Buy: Choose one level 2 toy that brings doom and chaos!"},{"Level":3,"About":"Buy: Choose one level 3 toy that brings doom and chaos!"}],"Id":"613","Name":"Bad Dog","NameId":"BadDog","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys","Disruption"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Remove 6 attack from ALL other pets to a minimum of 4 attack."},{"Level":2,"About":"Start of battle: Remove 12 attack from ALL other pets to a minimum of 4 attack."},{"Level":3,"About":"Start of battle: Remove 18 attack from ALL other pets to a minimum of 4 attack."}],"Id":"396","Name":"Banggai Cardinalfish","NameId":"BanggaiCardinalfish","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Eats food: Swallow the left-most shop pet and summon it at level 1 with base stats on faint."},{"Level":2,"About":"Eats food: Swallow the left-most shop pet and summon it at level 2 with double stats on faint."},{"Level":3,"About":"Eats food: Swallow the left-most shop pet and summon it at level 3 with triple stats on faint."}],"Id":"182","Name":"Beluga Whale","NameId":"WhiteWhale","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon","Mvp"]},{"Attack":2,"Health":10,"Abilities":[{"Level":1,"About":"Faint: Give the nearest friend behind +1 experience. Give to one more friend in battle."},{"Level":2,"About":"Faint: Give the nearest friend behind +2 experience. Give to one more friend in battle."},{"Level":3,"About":"Faint: Give the nearest friend behind +3 experience. Give to one more friend in battle."}],"Id":"150","Name":"Blobfish","NameId":"Blobfish","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give three random friends +1 attack and +1 health for each food this has eaten this turn."},{"Level":2,"About":"Faint: Give three random friends +2 attack and +2 health for each food this has eaten this turn."},{"Level":3,"About":"Faint: Give three random friends +3 attack and +3 health for each food this has eaten this turn."}],"Id":"774","Name":"Blue Jay","NameId":"BlueJay","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Give friends +1 attack and +1 health."},{"Level":2,"About":"Buy: Give friends +2 attack and +2 health."},{"Level":3,"About":"Buy: Give friends +3 attack and +3 health."}],"Id":"271","Name":"Blue Ringed Octopus","NameId":"BlueRingedOctopus","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":2,"Health":12,"Abilities":[{"Level":1,"About":"Before attack: Make the target Crisp. Works 2 times per battle."},{"Level":2,"About":"Before attack: Make the target Crisp. Works 4 times per battle."},{"Level":3,"About":"Before attack: Make the target Crisp. Works 6 times per battle."}],"Id":"656","Name":"Boitata","NameId":"Boitata","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give three friends that dealt damage this battle permanent +1 attack and +1 health."},{"Level":2,"About":"Faint: Give three friends that dealt damage this battle permanent +2 attack and +2 health."},{"Level":3,"About":"Faint: Give three friends that dealt damage this battle permanent +3 attack and +3 health."}],"Id":"688","Name":"Brahma Chicken","NameId":"BrahmaChicken","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Give future shop pets +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give future shop pets +2 attack and +2 health."},{"Level":3,"About":"Start of turn: Give future shop pets +3 attack and +3 health."}],"Id":"14","Name":"Chicken","NameId":"Chicken","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Buy: Replace shop food with two free Milk."},{"Level":2,"About":"Buy: Replace shop food with two free Better Milk."},{"Level":3,"About":"Buy: Replace shop food with two free Best Milk."}],"Id":"15","Name":"Cow","NameId":"Cow","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food","Cycle"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Friend ahead hurt: Give it Melon perk and +5 attack. Works 1 time per turn."},{"Level":2,"About":"Friend ahead hurt: Give it Melon perk and +5 attack. Works 2 times per turn."},{"Level":3,"About":"Friend ahead hurt: Give it Melon perk and +5 attack. Works 3 times per turn."}],"Id":"219","Name":"Crane","NameId":"Crane","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":8,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Deal 8 damage to the last enemy."},{"Level":2,"About":"Start of battle: Deal 8 damage to the last enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 8 damage to the last enemy. Triggers 3 times."}],"Id":"19","Name":"Crocodile","NameId":"Crocodile","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and +1 health to one friend of each level."},{"Level":2,"About":"End turn: Give +2 attack and +2 health to one friend of each level."},{"Level":3,"About":"End turn: Give +3 attack and +3 health to one friend of each level."}],"Id":"196","Name":"Dragonfly","NameId":"Dragonfly","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one 5/5 level 1 pet from the next shop tier."},{"Level":2,"About":"Faint: Summon one 10/10 level 2 pet from the next shop tier."},{"Level":3,"About":"Faint: Summon one 15/15 level 3 pet from the next shop tier."}],"Id":"27","Name":"Eagle","NameId":"Eagle","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Summon","Mvp","Mvp"]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Knock out: Activate ability on the nearest Faint friend behind. Works 1 time per battle."},{"Level":2,"About":"Knock out: Activate ability on the nearest Faint friend behind. Works 2 times per battle."},{"Level":3,"About":"Knock out: Activate ability on the nearest Faint friend behind. Works 3 times per battle."}],"Id":"221","Name":"Egyptian Vulture","NameId":"EgyptianVulture","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Empty front space: Give nearest friend ahead +4 health and move it to the front in battle."},{"Level":2,"About":"Empty front space: Give nearest friend ahead +8 health and move it to the front in battle."},{"Level":3,"About":"Empty front space: Give nearest friend ahead +12 health and move it to the front in battle."}],"Id":"223","Name":"Emu","NameId":"Emu","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 friend with +1 attack and +1 health for each ailment gained."},{"Level":2,"About":"Faint: Summon two 3/3 friends with +1 attack and +1 health for each ailment gained."},{"Level":3,"About":"Faint: Summon three 3/3 friends with +1 attack and +1 health for each ailment gained."}],"Id":"770","Name":"Estemmenosuchus","NameId":"Estemmenosuchus","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments","Summon"]},{"Attack":6,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Feed three Corncobs with triple effect to the nearest friend behind."},{"Level":2,"About":"Faint: Feed three Corncobs with triple effect to the nearest two friends behind."},{"Level":3,"About":"Faint: Feed three Corncobs with triple effect to the nearest three friends behind."}],"Id":"691","Name":"Farmer Crow","NameId":"FarmerCrow","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give attack to the highest tier friend."},{"Level":2,"About":"Faint: Give attack to the two highest tier friends."},{"Level":3,"About":"Faint: Give attack to the three highest tier friends."}],"Id":"274","Name":"Fire Ant","NameId":"FireAnt","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Eats two food: Transform and give the two back-most friends 1 experience."},{"Level":2,"About":"Eats two food: Transform and give the two back-most friends 2 experience."},{"Level":3,"About":"Eats two food: Transform and give the two back-most friends 3 experience."}],"Id":"776","Name":"Flounder","NameId":"FlounderYoung","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":6,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Steal the right-most shop food."},{"Level":2,"About":"End turn: Steal the right-most shop food and double its attack and health effects."},{"Level":3,"About":"End turn: Steal the right-most shop food and triple its attack and health effects."}],"Id":"106","Name":"Fox","NameId":"Fox","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":10,"Abilities":[{"Level":1,"About":"Hurt: Deal 33% of damage taken as damage to one random enemy."},{"Level":2,"About":"Hurt: Deal 66% of damage taken as damage to one random enemy."},{"Level":3,"About":"Hurt: Deal 100% of damage taken as damage to one random enemy."}],"Id":"409","Name":"Geometric Tortoise","NameId":"GeometricTortoise","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Hurt"],"Random":true},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give friends +2 health. Spend 2 trumpets to give 1 more health in the future."},{"Level":2,"About":"Faint: Give friends +4 health. Spend 2 trumpets to give 2 more health in the future."},{"Level":3,"About":"Faint: Give friends +6 health. Spend 2 trumpets to give 3 more health in the future."}],"Id":"752","Name":"Giant Isopod","NameId":"GiantIsopod","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Deal 4 damage to one random enemy for each friendly transformation this turn."},{"Level":2,"About":"Faint: Deal 8 damage to one random enemy for each friendly transformation this turn."},{"Level":3,"About":"Faint: Deal 12 damage to one random enemy for each friendly transformation this turn."}],"Id":"411","Name":"Giant Pangasius","NameId":"GiantPangasius","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Disruption","Transform"],"Random":true},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Friend bought: Gain +1 gold. Works 2 times per turn."},{"Level":2,"About":"Friend bought: Gain +2 gold. Works 2 times per turn."},{"Level":3,"About":"Friend bought: Gain +3 gold. Works 2 times per turn."}],"Id":"34","Name":"Goat","NameId":"Goat","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle","Gold"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Roll: Gain one free roll. Works 2 times per turn."},{"Level":2,"About":"Roll: Gain one free roll. Works 4 times per turn."},{"Level":3,"About":"Roll: Gain one free roll. Works 6 times per turn."}],"Id":"110","Name":"Hamster","NameId":"Hamster","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Give three random friends that fainted last battle +2 health."},{"Level":2,"About":"Start of turn: Give three random friends that fainted last battle +4 health."},{"Level":3,"About":"Start of turn: Give three random friends that fainted last battle +6 health."}],"Id":"414","Name":"Hawaiian Monk Seal","NameId":"HawaiianMonkSeal","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Friend ahead faints: Gain +1 mana for each roll this turn."},{"Level":2,"About":"Friend ahead faints: Gain +2 mana for each roll this turn."},{"Level":3,"About":"Friend ahead faints: Gain +3 mana for each roll this turn."}],"Id":"350","Name":"Hippocampus","NameId":"Hippocampus","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll","Guard","Mana"],"Random":true},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Swap attack and health of ALL pets.","FinePrint":"Will shuffle positions of all pets at level 2."},{"Level":2,"About":"Start of battle: Shuffle positions of ALL pets.","FinePrint":"Will swap stats and shuffe positions of all pets at level 3."},{"Level":3,"About":"Start of battle: Swap attack and health and shuffle positions of ALL pets."}],"Id":"167","Name":"Hyena","NameId":"Hyena","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":6,"Health":7,"Abilities":[{"Level":1,"About":"Enemy hurt or pushed: Remove 70% health from it. Works on one enemy per battle."},{"Level":2,"About":"Enemy hurt or pushed: Remove 70% health from it. Works on two different enemies per battle."},{"Level":3,"About":"Enemy hurt or pushed: Remove 70% health from it. Works on three different enemies per battle."}],"Id":"553","Name":"Ibex","NameId":"Ibex","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Pet flung: Set attack and health to 13."},{"Level":2,"About":"Pet flung: Set attack and health to 26."},{"Level":3,"About":"Pet flung: Set attack and health to 39."}],"Id":"554","Name":"Jackal","NameId":"Jackal","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one random 14/16 pet from tier 3 up front for you and the opponent."},{"Level":2,"About":"Faint: Summon two random 14/16 pets from tier 3 up front for you and the opponent."},{"Level":3,"About":"Faint: Summon three random 14/16 pets from tier 3 up front for you and the opponent."}],"Id":"655","Name":"Kappa","NameId":"Kappa","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"],"Random":true},{"Attack":2,"Health":7,"Abilities":[{"Level":1,"About":"Friend faints: Transfer all friendly mana + 2 to nearest friend ahead."},{"Level":2,"About":"Friend faints: Transfer all friendly mana + 4 to nearest friend ahead."},{"Level":3,"About":"Friend faints: Transfer all friendly mana + 6 to nearest friend ahead."}],"Id":"354","Name":"Kitsune","NameId":"Kitsune","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":1,"Health":5,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it +1 attack and +2 health once. Permanent if it jumped."},{"Level":2,"About":"Before friend attacks: Give it +2 attack and +4 health once. Permanent if it jumped."},{"Level":3,"About":"Before friend attacks: Give it +3 attack and +6 health once. Permanent if it jumped."}],"Id":"640","Name":"Loveland Frogman","NameId":"LovelandFrogman","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Spend mana to remove 1 attack and health per mana from one random enemy."},{"Level":2,"About":"Faint: Spend mana to remove 1 attack and health per mana from two random enemies."},{"Level":3,"About":"Faint: Spend mana to remove 1 attack and health per mana from three random enemies."}],"Id":"808","Name":"Lusca","NameId":"Lusca","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 12/12 Orangutan with the same food perk as this."},{"Level":2,"About":"Start of battle: Summon one 24/24 Orangutan with the same food perk as this."},{"Level":3,"About":"Start of battle: Summon one 36/36 Orangutan with the same food perk as this."}],"Id":"238","Name":"Macaque","NameId":"Macaque","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Convert trumpets into double mana and spread it evenly to friends."},{"Level":2,"About":"Faint: Convert trumpets into triple mana and spread it evenly to friends."},{"Level":3,"About":"Faint: Convert trumpets into quadruple mana and spread it evenly to friends."}],"Id":"556","Name":"Maltese","NameId":"Maltese","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Mana"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it Melon. Works on one friend per turn."},{"Level":2,"About":"Before friend attacks: Give it Melon. Works on two different friends per turn."},{"Level":3,"About":"Before friend attacks: Give it Melon. Works on three different friends per turn."}],"Id":"532","Name":"Marine Iguana","NameId":"MarineIguana","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give front-most friendly pet +2 attack and +2 health."},{"Level":2,"About":"End turn: Give front-most friendly pet +4 attack and +4 health."},{"Level":3,"About":"End turn: Give front-most friendly pet +6 attack and +6 health."}],"Id":"46","Name":"Monkey","NameId":"Monkey","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Unfreeze shop and give one random friend +3 health for each tier 1 shop pet."},{"Level":2,"About":"End turn: Unfreeze shop and give one random friend +6 health for each tier 1 shop pet."},{"Level":3,"About":"End turn: Unfreeze shop and give one random friend +9 health for each tier 1 shop pet."}],"Id":"202","Name":"Moose","NameId":"Moose","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Friendly toy broke: Give adjacent friends +2 attack and +3 health."},{"Level":2,"About":"Friendly toy broke: Give adjacent friends +4 attack and +6 health."},{"Level":3,"About":"Friendly toy broke: Give adjacent friends +6 attack and +9 health."}],"Id":"242","Name":"Mosasaurus","NameId":"Mosasaurus","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Spend mana to gain 1 trumpet for each mana."},{"Level":2,"About":"Faint: Spend mana to gain 2 trumpets for each mana."},{"Level":3,"About":"Faint: Spend mana to gain 3 trumpets for each mana."}],"Id":"784","Name":"Namazu","NameId":"Namazu","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Trumpets"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 Boat. If it\'s your first Boat this battle, give it +1 and +1 for each roll."},{"Level":2,"About":"Faint: Summon one 6/6 Boat. If it\'s your first Boat this battle, give it +2 and +2 for each roll."},{"Level":3,"About":"Faint: Summon one 9/9 Boat. If it\'s your first Boat this battle, give it +3 and +3 for each roll."}],"Id":"363","Name":"Nessie","NameId":"Nessie","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"614","Name":"Nessie?","NameId":"FakeNessie","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Takes 4 less damage. Works 3 times per turn."},{"Level":2,"About":"Takes 8 less damage. Works 3 times per turn."},{"Level":3,"About":"Takes 12 less damage. Works 3 times per turn."}],"Id":"657","Name":"Nurikabe","NameId":"Nurikabe","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Faint: Spend up to 6 trumpets and deal triple as damage to one random enemy."},{"Level":2,"About":"Faint: Spend up to 6 trumpets and deal triple as damage to two random enemies."},{"Level":3,"About":"Faint: Spend up to 6 trumpets and deal triple as damage to three random enemies."}],"Id":"276","Name":"Nurse Shark","NameId":"NurseShark","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"],"Random":true},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +8 trumpets."},{"Level":2,"About":"Faint: Gain +16 trumpets."},{"Level":3,"About":"Faint: Gain +24 trumpets."}],"Id":"246","Name":"Nyala","NameId":"Nyala","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":8,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Summon one Mantis with 40% attack and health of this."},{"Level":2,"About":"Start of battle: Summon one Mantis with 80% attack and health of this."},{"Level":3,"About":"Start of battle: Summon one Mantis with 120% attack and health of this."}],"Id":"557","Name":"Orchid Mantis","NameId":"OrchidMantis","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +4 attack and +4 health for each friend that sells for at least 3 gold."},{"Level":2,"About":"Start of battle: Gain +8 attack and +8 health for each friend that sells for at least 3 gold."},{"Level":3,"About":"Start of battle: Gain +12 attack and +12 health for each friend that sells for at least 3 gold."}],"Id":"801","Name":"Pacific Fanfish","NameId":"PacificFanfish","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give White Okra perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give White Okra perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give White Okra perk to the three nearest friends behind."}],"Id":"423","Name":"Painted Terrapin","NameId":"PaintedTerrapin","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Block 10 damage twice or ailment once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Perks are two times stronger on this in battle."},{"Level":2,"About":"Perks are three times stronger on this in battle."},{"Level":3,"About":"Perks are four times stronger on this in battle."}],"Id":"250","Name":"Panther","NameId":"Panther","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Swallow one Strawberry friend ahead and turn it into a Salmon on faint."},{"Level":2,"About":"Start of battle: Swallow two Strawberry friends ahead and turn them into Salmons on faint."},{"Level":3,"About":"Start of battle: Swallow three Strawberry friends ahead and turn them into Salmons on faint."}],"Id":"129","Name":"Pelican","NameId":"Pelican","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Summon"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Spend 4 mana to gain +3 gold next turn."},{"Level":2,"About":"Faint: Spend 4 mana to gain +6 gold next turn."},{"Level":3,"About":"Faint: Spend 4 mana to gain +9 gold next turn."}],"Id":"619","Name":"Pixiu","NameId":"Pixiu","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Start of turn: Give one random frozen shop pet +4 attack and +4 health."},{"Level":2,"About":"Start of turn: Give one random frozen shop pet +8 attack and +8 health."},{"Level":3,"About":"Start of turn: Give one random frozen shop pet +12 attack and +12 health."}],"Id":"108","Name":"Polar Bear","NameId":"PolarBear","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Before attack: Steal food perk from target. Works 1 time per battle."},{"Level":2,"About":"Before attack: Steal food perk from target. Works 2 times per battle."},{"Level":3,"About":"Before attack: Steal food perk from target. Works 3 times per battle."}],"Id":"158","Name":"Raccoon","NameId":"Racoon","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Make the last enemy Crisp."},{"Level":2,"About":"Start of battle: Make the two last enemies Crisp."},{"Level":3,"About":"Start of battle: Make the three last enemies Crisp."}],"Id":"368","Name":"Red Dragon","NameId":"RedDragon","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Anyone attacks: Take 6 damage, once.","CustomArchetypes":["Ailments"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Choose and transform into a pet from the next shop tier from ANY pack."},{"Level":2,"About":"Buy: Choose and transform into a pet from the next shop tier from ANY pack."},{"Level":3,"About":"Buy: Choose and transform into a pet from the next shop tier from ANY pack."}],"Id":"428","Name":"Red Panda","NameId":"RedPanda","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":6,"Health":7,"Abilities":[{"Level":1,"About":"Knock out: Deal 4 damage to the first enemy. Double against tier 1 pets."},{"Level":2,"About":"Knock out: Deal 8 damage to the first enemy. Double against tier 1 pets."},{"Level":3,"About":"Knock out: Deal 12 damage to the first enemy. Double against tier 1 pets."}],"Id":"55","Name":"Rhino","NameId":"Rhino","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one Chick with 1 health and 50% attack of this."},{"Level":2,"About":"Faint: Summon two Chicks with 1 health and 50% attack of this."},{"Level":3,"About":"Faint: Summon three Chicks with 1 health and 50% attack of this."}],"Id":"63","Name":"Rooster","NameId":"Rooster","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Summoned: Deal 5 damage to one random enemy. Repeat for every 25 health this has."},{"Level":2,"About":"Summoned: Deal 10 damage to one random enemy. Repeat for every 25 health this has."},{"Level":3,"About":"Summoned: Deal 15 damage to one random enemy. Repeat for every 25 health this has."}],"Id":"562","Name":"Salmon","NameId":"Salmon","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[],"Random":true},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give the two front-most friends AND enemies +2 experience."},{"Level":2,"About":"Start of battle: Give the two front-most friends AND enemies +4 experience."},{"Level":3,"About":"Start of battle: Give the two front-most friends AND enemies +6 experience."}],"Id":"370","Name":"Salmon of Knowledge","NameId":"SalmonofWisdom","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Summoned: Gain Peanut perk."},{"Level":2,"About":"Summoned: Gain Peanut perk."},{"Level":3,"About":"Summoned: Gain Peanut perk."}],"Id":"65","Name":"Scorpion","NameId":"Scorpion","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Make one random enemy Tasty."},{"Level":2,"About":"Start of battle: Make two random enemies Tasty."},{"Level":3,"About":"Start of battle: Make three random enemies Tasty."}],"Id":"564","Name":"Sea Cucumber","NameId":"SeaCucumber","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Faint: Give one random enemy permanent +2 attack and +2 health.","CustomArchetypes":["Ailments"],"Random":true},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Eats food: Give three random friends +1 attack."},{"Level":2,"About":"Eats food: Give three random friends +2 attack."},{"Level":3,"About":"Eats food: Give three random friends +3 attack."}],"Id":"66","Name":"Seal","NameId":"Seal","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"],"Random":true},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Two friends faint: Give the nearest friend ahead +3 attack and +4 health."},{"Level":2,"About":"Two friends faint: Give the nearest friend ahead +6 attack and +8 health."},{"Level":3,"About":"Two friends faint: Give the nearest friend ahead +9 attack and +12 health."}],"Id":"259","Name":"Secretary Bird","NameId":"SecretaryBird","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friend faints: Gain +2 attack and +2 health."},{"Level":2,"About":"Friend faints: Gain +4 attack and +4 health."},{"Level":3,"About":"Friend faints: Gain +6 attack and +6 health."}],"Id":"69","Name":"Shark","NameId":"Shark","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Replace the nearest Strawberry ahead with +4 attack and +4 health."},{"Level":2,"About":"Start of turn: Replace the nearest Strawberry ahead with +8 attack and +8 health."},{"Level":3,"About":"Start of turn: Replace the nearest Strawberry ahead with +12 attack and +12 health."}],"Id":"134","Name":"Shoebill","NameId":"Shoebill","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Give three random friends with no food perks +1 attack and +1 health."},{"Level":2,"About":"End turn: Give three random friends with no food perks +2 attack and +2 health."},{"Level":3,"About":"End turn: Give three random friends with no food perks +3 attack and +3 health."}],"Id":"146","Name":"Siberian Husky","NameId":"SiberianHusky","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Gain +1 gold on next turn. Works 3 times per battle."},{"Level":2,"About":"Before attack: Gain +2 gold on next turn. Works 3 times per battle."},{"Level":3,"About":"Before attack: Gain +3 gold on next turn. Works 3 times per battle."}],"Id":"261","Name":"Silver Fox","NameId":"SilverFox","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Skewer perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Skewer perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Skewer perk to the three nearest friends behind."}],"Id":"277","Name":"Snapping Turtle","NameId":"SnappingJawTurtle","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Attack second and third enemy for 3 damage.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Gain +5 attack and +5 health and jump-attack one random enemy."},{"Level":2,"About":"Start of battle: Gain +10 attack and +10 health and jump-attack one random enemy."},{"Level":3,"About":"Start of battle: Gain +15 attack and +15 health and jump-attack one random enemy."}],"Id":"716","Name":"Snow Leopard","NameId":"SnowLeopard","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"],"Random":true},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Level 3 friend sold: Give friends +1 attack and +1 health. Triple if sold pet had at least 10 attack."},{"Level":2,"About":"Level 3 friend sold: Give friends +2 attack and +2 health. Triple if sold pet had at least 10 attack."},{"Level":3,"About":"Level 3 friend sold: Give friends +3 attack and +3 health. Triple if sold pet had at least 10 attack."}],"Id":"153","Name":"Starfish","NameId":"Starfish","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Sting Ray toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Sting Ray toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Sting Ray toy."}],"Id":"178","Name":"Sting Ray","NameId":"Stingray","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Deal attack damage directly back to whoever knocked this out."},{"Level":2,"About":"Faint: Deal double attack damage directly back to whoever knocked this out."},{"Level":3,"About":"Faint: Deal triple attack damage directly back to whoever knocked this out."}],"Id":"278","Name":"Stonefish","NameId":"Stonefish","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":6,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Deal 100% attack damage to the most healthy enemy and itself."},{"Level":2,"About":"Start of battle: Deal 200% attack damage to the most healthy enemy and itself."},{"Level":3,"About":"Start of battle: Deal 300% attack damage to the most healthy enemy and itself."}],"Id":"119","Name":"Swordfish","NameId":"SwordFish","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Give friends +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Adjacent friend attacked: Give friends +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Adjacent friend attacked: Give friends +3 attack and +3 health. Works 3 times per turn."}],"Id":"436","Name":"Taita Thrush","NameId":"TaitaThrush","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":10,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Remove 1 health from all enemies. Repeat for every 10 attack this has."},{"Level":2,"About":"Start of battle: Remove 2 health from all enemies. Repeat for every 10 attack this has."},{"Level":3,"About":"Start of battle: Remove 3 health from all enemies. Repeat for every 10 attack this has."}],"Id":"569","Name":"Tarantula Hawk","NameId":"TarantulaHawk","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Remove 25% of all stats and divide them out. Socialism!"},{"Level":2,"About":"Start of battle: Remove 50% of all stats and divide them out. Socialism!"},{"Level":3,"About":"Start of battle: Remove 75% of all stats and divide them out. Socialism!"}],"Id":"812","Name":"Tarasque","NameId":"Tarasque","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Give one random friend +3 attack and +3 health."},{"Level":2,"About":"Hurt: Give one random friend +6 attack and +6 health."},{"Level":3,"About":"Hurt: Give one random friend +9 attack and +9 health."}],"Id":"142","Name":"Triceratops","NameId":"Triceratops","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"],"Random":true},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +3 attack and +1 health."},{"Level":2,"About":"Friend summoned: Give it +6 attack and +2 health."},{"Level":3,"About":"Friend summoned: Give it +9 attack and +3 health."}],"Id":"79","Name":"Turkey","NameId":"Turkey","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Enemy gained ailment: Deal 4 damage to it and gain damage as health. Works 2 times per battle."},{"Level":2,"About":"Enemy gained ailment: Deal 8 damage to it and gain damage as health. Works 2 times per battle."},{"Level":3,"About":"Enemy gained ailment: Deal 12 damage to it and gain damage as health. Works 2 times per battle."}],"Id":"381","Name":"Vampire Bat","NameId":"VampireBat","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":2,"Health":7,"Abilities":[{"Level":1,"About":"Sell: Choose one remaining pet from last battle to stock at 2 gold.","FinePrint":"Can\'t stock itself or Anglerfish."},{"Level":2,"About":"Sell: Choose one remaining pet from last battle to stock at 2 gold, twice.","FinePrint":"Can\'t stock itself or Anglerfish."},{"Level":3,"About":"Sell: Choose one remaining pet from last battle to stock at 2 gold, thrice.","FinePrint":"Can\'t stock itself or Anglerfish."}],"Id":"573","Name":"Venus Flytrap","NameId":"VenusFlytrap","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Two friends faint: Deal 4 damage to one random enemy."},{"Level":2,"About":"Two friends faint: Deal 8 damage to one random enemy."},{"Level":3,"About":"Two friends faint: Deal 12 damage to one random enemy."}],"Id":"135","Name":"Vulture","NameId":"Vulture","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption","Summon"],"Random":true},{"Attack":7,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: If turn number is even, gain +50% attack and health. Otherwise gain 6 mana."},{"Level":2,"About":"Start of battle: If turn number is even, gain +100% attack and health. Otherwise gain 12 mana."},{"Level":3,"About":"Start of battle: If turn number is even, gain +150% attack and health. Otherwise gain 18 mana."}],"Id":"383","Name":"Werewolf","NameId":"Werewolf","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Summon three 3/2 Pigs."},{"Level":2,"About":"Faint: Summon three 6/4 Pigs."},{"Level":3,"About":"Faint: Summon three 9/6 Pigs."}],"Id":"170","Name":"Wolf","NameId":"Wolf","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Deal 1 damage to nearest two pets ahead two times. Double against enemies."},{"Level":2,"About":"Start of battle: Deal 1 damage to nearest two pets ahead four times. Double against enemies."},{"Level":3,"About":"Start of battle: Deal 1 damage to nearest two pets ahead six times. Double against enemies."}],"Id":"156","Name":"Woodpecker","NameId":"Woodpecker","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt","Disruption"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Deal 4 damage for each different friendly ailment to the first enemy."},{"Level":2,"About":"Start of battle: Deal 4 damage for each different friendly ailment to the first two enemies."},{"Level":3,"About":"Start of battle: Deal 4 damage for each different friendly ailment to the first three enemies."}],"Id":"807","Name":"Woolly Rhino","NameId":"WoollyRhino","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Buy & Sell: Give one random friend +2 attack and +2 health."},{"Level":2,"About":"Buy & Sell: Give one random friend +4 attack and +4 health."},{"Level":3,"About":"Buy & Sell: Give one random friend +6 attack and +6 health."}],"Id":"155","Name":"Zebra","NameId":"Zebra","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Cycle"],"Random":true},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Faint: Spend 2 mana to give the nearest friend behind permanent +3 attack and +3 health."},{"Level":2,"About":"Faint: Spend 2 mana to give the nearest friend behind permanent +6 attack and +6 health."},{"Level":3,"About":"Faint: Spend 2 mana to give the nearest friend behind permanent +9 attack and +9 health."}],"Id":"782","Name":"Akhlut","NameId":"Akhlut","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Adjacent tier 4 or lower friends deals 3 ability damage extra."},{"Level":2,"About":"Adjacent tier 4 or lower friends deals 6 ability damage extra."},{"Level":3,"About":"Adjacent tier 4 or lower friends deals 9 ability damage extra."}],"Id":"535","Name":"Albatross","NameId":"Albatross","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 experience. Triple in battle. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Give it +1 experience. Triple in battle. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Give it +1 experience. Triple in battle. Works 3 times per turn."}],"Id":"194","Name":"Alpaca","NameId":"Alpaca","Tier":6,"TierMax":2147483647,"Packs":["Pack3","Custom"],"PacksRequired":["Pack3","Custom"],"Rollable":true,"CustomArchetypes":["Levels","Summon"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Friend hurt: Restore its health. Can restore up to 15 health per turn."},{"Level":2,"About":"Friend hurt: Restore its health. Can restore up to 30 health per turn."},{"Level":3,"About":"Friend hurt: Restore its health. Can restore up to 45 health per turn."}],"Id":"772","Name":"Amargasaurus","NameId":"Amargasaurus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Transform friend behind into a level 1 Mimic Octopus. Give it +1 XP in battle for every 2 roll."},{"Level":2,"About":"Faint: Transform friend behind into a level 1 Mimic Octopus. Give it +2 XP in battle for every 2 roll."},{"Level":3,"About":"Faint: Transform friend behind into a level 1 Mimic Octopus. Give it +3 XP in battle for every 2 roll."}],"Id":"536","Name":"Ammonite","NameId":"Ammonite","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Transform","Levels","Roll"],"Random":true},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Friend transformed: Give it permanent +2 attack and +2 health. Works 2 times per turn."},{"Level":2,"About":"Friend transformed: Give it permanent +4 attack and +4 health. Works 2 times per turn."},{"Level":3,"About":"Friend transformed: Give it permanent +6 attack and +6 health. Works 2 times per turn."}],"Id":"391","Name":"Amsterdam Albatross","NameId":"AmsterdamAlbatross","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Choose one free pet from your last opponent to stock."},{"Level":2,"About":"Buy: Choose one free pet from your last opponent to stock twice."},{"Level":3,"About":"Buy: Choose one free pet from your last opponent to stock thrice."}],"Id":"180","Name":"Anglerfish","NameId":"Anglerfish","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make the highest attack enemy Sleepy."},{"Level":2,"About":"Start of battle: Make the two highest attack enemies Sleepy."},{"Level":3,"About":"Start of battle: Make the three highest attack enemies Sleepy."}],"Id":"603","Name":"Bakunawa","NameId":"Bakunawa","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Attack with half damage, once.","CustomArchetypes":["Ailments"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon ANY one useful <b>Start of Battle</b> pet from tier 4 and activate its ability."},{"Level":2,"About":"Faint: Summon ANY two useful <b>Start of Battle</b> pets from tier 4 and activate their abilities."},{"Level":3,"About":"Faint: Summon ANY three useful <b>Start of Battle</b> pets from tier 4 and activate their abilities."}],"Id":"397","Name":"Bay Cat","NameId":"BayCat","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":12,"Health":12,"Abilities":[{"Level":1,"About":"End turn: Gain +2 attack and +2 health. Attack and health can go up to 100!"},{"Level":2,"About":"End turn: Gain +4 attack and +4 health. Attack and health can go up to 100!"},{"Level":3,"About":"End turn: Gain +6 attack and +6 health. Attack and health can go up to 100!"}],"Id":"333","Name":"Behemoth","NameId":"Behemoth","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff","Mvp"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Spend 7 gold: Give three random friends +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Spend 7 gold: Give three random friends +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Spend 7 gold: Give three random friends +3 attack and +3 health. Works 3 times per turn."}],"Id":"181","Name":"Bird of Paradise","NameId":"ParadiseBird","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff","Gold"],"Random":true},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Remove 4 health from one random enemy for each food this has eaten this turn."},{"Level":2,"About":"Faint: Remove 8 health from one random enemy for each food this has eaten this turn."},{"Level":3,"About":"Faint: Remove 12 health from one random enemy for each food this has eaten this turn."}],"Id":"687","Name":"Black Bear","NameId":"BlackBear","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption","Food"],"Random":true},{"Attack":5,"Health":9,"Abilities":[{"Level":1,"About":"Seven enemy attacks: Deal 30 damage to the most healthy enemy."},{"Level":2,"About":"Seven enemy attacks: Deal 30 damage to the two most healthy enemies."},{"Level":3,"About":"Seven enemy attacks: Deal 30 damage to the three most healthy enemies."}],"Id":"398","Name":"Black Rhino","NameId":"BlackRhino","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":12,"Health":12,"Abilities":[{"Level":1,"About":"Start of turn: Sell friends for +2 extra gold each and give future shop pets +2 attack and +2 health."},{"Level":2,"About":"Start of turn: Sell friends for +2 extra gold each and give future shop pets +4 attack and +4 health."},{"Level":3,"About":"Start of turn: Sell friends for +2 extra gold each and give future shop pets +6 attack and +6 health."}],"Id":"399","Name":"Blue Whale","NameId":"BlueWhale","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Gain +4 attack and +2 health."},{"Level":2,"About":"Before attack: Gain +8 attack and +4 health."},{"Level":3,"About":"Before attack: Gain +12 attack and +6 health."}],"Id":"103","Name":"Boar","NameId":"Boar","Tier":6,"TierMax":2147483647,"Packs":["Pack1","Custom"],"PacksRequired":["Pack1","Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Friend transformed: Gain its level 1 ability. Works 2 times per battle."},{"Level":2,"About":"Friend transformed: Gain its level 2 ability. Works 2 times per battle."},{"Level":3,"About":"Friend transformed: Gain its level 3 ability. Works 2 times per battle."}],"Id":"403","Name":"California Condor","NameId":"CaliforniaCondor","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Shop food gives two times attack and health. Works 2 times per turn.","FinePrint":"Does not include perks."},{"Level":2,"About":"Shop food gives three times attack and health. Works 2 times per turn.","FinePrint":"Does not include perks."},{"Level":3,"About":"Shop food gives four times attack and health. Works 2 times per turn.","FinePrint":"Does not include perks."}],"Id":"11","Name":"Cat","NameId":"Cat","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff","Food","Mvp"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Activate Buy ability on the nearest friend ahead once, or give it +4 health."},{"Level":2,"About":"Start of turn: Activate Buy ability on the nearest friend ahead twice, or give it +8 health."},{"Level":3,"About":"Start of turn: Activate Buy ability on the nearest friend ahead thrice, or give it +12 health."}],"Id":"174","Name":"Catfish","NameId":"Catfish","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":9,"Health":9,"Abilities":[{"Level":1,"About":"Empty front space: Summon one 8/8 Fire Pup at level 3 up front. Works 1 time per battle."},{"Level":2,"About":"Empty front space: Summon one 8/8 Fire Pup at level 3 up front. Works 2 times per battle."},{"Level":3,"About":"Empty front space: Summon one 8/8 Fire Pup at level 3 up front. Works 3 times per battle."}],"Id":"337","Name":"Cerberus","NameId":"Cerberus","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard","Summon"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Friend ate corncob: Give them +1 attack and +1 health."},{"Level":2,"About":"Friend ate corncob: Give them +2 attack and +2 health."},{"Level":3,"About":"Friend ate corncob: Give them +3 attack and +3 health."}],"Id":"542","Name":"Chimpanzee","NameId":"Chimpanzee","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":12,"Health":6,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Deal 20% attack damage to one random enemy."},{"Level":2,"About":"Friend ahead attacks: Deal 40% attack damage to one random enemy."},{"Level":3,"About":"Friend ahead attacks: Deal 60% attack damage to one random enemy."}],"Id":"217","Name":"Cobra","NameId":"Cobra","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Disruption","Guard"],"Random":true},{"Attack":6,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Transform the back-most level 1 or lower enemy to rock."},{"Level":2,"About":"Start of battle: Transform the back-most level 2 or lower enemy to rock."},{"Level":3,"About":"Start of battle: Transform the back-most level 3 or lower enemy to rock."}],"Id":"340","Name":"Cockatrice","NameId":"Cockatrice","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Eats two food: Gain Coconut perk until next turn."},{"Level":2,"About":"Eats two food: Gain Coconut perk that works twice until next turn."},{"Level":3,"About":"Eats two food: Gain Coconut perk that works thrice until next turn."}],"Id":"779","Name":"Coconut Crab","NameId":"CoconutCrab","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Food"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Tier 1 friend bought: Give friends +1 attack and +1 health. Works 4 times per turn."},{"Level":2,"About":"Tier 1 friend bought: Give friends +2 attack and +2 health. Works 4 times per turn."},{"Level":3,"About":"Tier 1 friend bought: Give friends +3 attack and +3 health. Works 4 times per turn."}],"Id":"25","Name":"Dragon","NameId":"Dragon","Tier":6,"TierMax":2147483647,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":["Buff","Cycle"]},{"Attack":6,"Health":8,"Abilities":[{"Level":1,"About":"Before attack: Move ailment to the first two enemies."},{"Level":2,"About":"Before attack: Move ailment to the first two enemies with double effect."},{"Level":3,"About":"Before attack: Move ailment to the first two enemies with triple effect."}],"Id":"769","Name":"Dunkleosteus","NameId":"Dunkleosteus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give three random friends +1 attack and +1 health for each battle this has fought."},{"Level":2,"About":"Faint: Give three random friends +2 attack and +2 health for each battle this has fought."},{"Level":3,"About":"Faint: Give three random friends +3 attack and +3 health for each battle this has fought."}],"Id":"781","Name":"Eagle Owl","NameId":"EagleOwl","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Gain perk: Give three friends +4 attack and +4 health until next turn. Works 1 time per turn."},{"Level":2,"About":"Gain perk: Give three friends +8 attack and +8 health until next turn. Works 1 time per turn."},{"Level":3,"About":"Gain perk: Give three friends +12 attack and +12 health until next turn. Works 1 time per turn."}],"Id":"222","Name":"Elephant Seal","NameId":"ElephantSeal","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Feed one Corncob to all friends."},{"Level":2,"About":"End turn: Feed two Corncobs to all friends."},{"Level":3,"About":"End turn: Feed three Corncobs to all friends."}],"Id":"692","Name":"Farmer Dog","NameId":"FarmerDog","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend faints: Summon one 4/4 fly in its place. Works 3 times per turn."},{"Level":2,"About":"Friend faints: Summon one 8/8 fly in its place. Works 3 times per turn."},{"Level":3,"About":"Friend faints: Summon one 12/12 fly in its place. Works 3 times per turn."}],"Id":"30","Name":"Fly","NameId":"Fly","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Friend summoned: Give 25% of attack to it until next turn."},{"Level":2,"About":"Friend summoned: Give 50% of attack to it until next turn."},{"Level":3,"About":"Friend summoned: Give 75% of attack to it until next turn."}],"Id":"230","Name":"German Shepherd","NameId":"GermanShepard","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":7,"Health":10,"Abilities":[{"Level":1,"About":"Hurt: Gain Coconut perk. Works 1 time per turn."},{"Level":2,"About":"Hurt: Gain Coconut perk. Works 2 times per turn."},{"Level":3,"About":"Hurt: Gain Coconut perk. Works 3 times per turn."}],"Id":"36","Name":"Gorilla","NameId":"Gorilla","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Hurt"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Five enemy attacks: Give all friendly pets Melon that blocks 20 damage. Works 1 time per turn."},{"Level":2,"About":"Five enemy attacks: Give all friendly pets Melon that blocks 40 damage. Works 1 time per turn."},{"Level":3,"About":"Five enemy attacks: Give all friendly pets Melon that blocks 60 damage. Works 1 time per turn."}],"Id":"413","Name":"Green Sea Turtle","NameId":"GreenSeaTurtle","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Perks","Summon"]},{"Attack":6,"Health":8,"Abilities":[{"Level":1,"About":"Five friendly attacks: Deal 6 damage to two random enemies."},{"Level":2,"About":"Five friendly attacks: Deal 12 damage to two random enemies."},{"Level":3,"About":"Five friendly attacks: Deal 18 damage to two random enemies."}],"Id":"275","Name":"Grizzly Bear","NameId":"GrizzlyBear","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Disruption","Summon"],"Random":true},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of turn: If this has a level 3 friend, gain +3 gold."},{"Level":2,"About":"Start of turn: If this has a level 3 friend, gain +6 gold."},{"Level":3,"About":"Start of turn: If this has a level 3 friend, gain +9 gold."}],"Id":"123","Name":"Hammerhead Shark","NameId":"Hammershark","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Gold","Levels"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Summon one random 5/5 pet from tier 1. Works 3 times per turn."},{"Level":2,"About":"Hurt: Summon one random 10/10 pet from tier 1. Works 3 times per turn."},{"Level":3,"About":"Hurt: Summon one random 15/15 pet from tier 1. Works 3 times per turn."}],"Id":"552","Name":"Harpy Eagle","NameId":"HarpyEagle","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Summon"],"Random":true},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give three friends +2 to their lowest stat."},{"Level":2,"About":"End turn: Give three friends +4 to their lowest stat."},{"Level":3,"About":"End turn: Give three friends +6 to their lowest stat."}],"Id":"415","Name":"Helmeted Hornbill","NameId":"HelmetedHornbill","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Start of battle: Gain +4 trumpets and 1 more for each 3 health this has."},{"Level":2,"About":"Start of battle: Gain +8 trumpets and 2 more for each 3 health this has."},{"Level":3,"About":"Start of battle: Gain +12 trumpets and 3 more for each 3 health this has."}],"Id":"186","Name":"Highland Cow","NameId":"HighlandCow","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":9,"Abilities":[{"Level":1,"About":"Friend transformed: Transform it back and down to level 1. Works 2 times per turn."},{"Level":2,"About":"Friend transformed: Transform it back and down to level 2. Works 2 times per turn."},{"Level":3,"About":"Friend transformed: Transform it back and down to level 3. Works 2 times per turn."}],"Id":"753","Name":"Hooded Seal","NameId":"HoodedSeal","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 5/5 Head for each 10 attack this has."},{"Level":2,"About":"Faint: Summon one 10/10 Head for each 10 attack this has."},{"Level":3,"About":"Faint: Summon one 15/15 Head for each 10 attack this has."}],"Id":"352","Name":"Hydra","NameId":"Hydra","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 attack and +1 health until next turn for each level 3 pet sold this game (max 5)."},{"Level":2,"About":"Friend summoned: Give it +2 attack and +2 health until next turn for each level 3 pet sold this game (max 5)."},{"Level":3,"About":"Friend summoned: Give it +3 attack and +3 health until next turn for each level 3 pet sold this game (max 5)."}],"Id":"652","Name":"Jersey Devil","NameId":"JerseyDevil","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Summon"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Give friends ahead +1 attack and +1 health and then shuffle their positions."},{"Level":2,"About":"End turn: Give friends ahead +2 attack and +2 health and then shuffle their positions."},{"Level":3,"About":"End turn: Give friends ahead +3 attack and +3 health and then shuffle their positions."}],"Id":"124","Name":"Komodo","NameId":"Komodo","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Friend faints: Deal 1 damage to the nearest friend ahead."},{"Level":2,"About":"Friend faints: Deal 1 damage to the nearest two friends ahead."},{"Level":3,"About":"Friend faints: Deal 1 damage to the nearest three friends ahead."}],"Id":"749","Name":"Lamprey","NameId":"Lamprey","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":10,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Deal 50% attack damage to one random enemy."},{"Level":2,"About":"Start of battle: Deal 50% attack damage to two random enemies."},{"Level":3,"About":"Start of battle: Deal 50% attack damage to three random enemies."}],"Id":"41","Name":"Leopard","NameId":"Leopard","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":6,"Health":10,"Abilities":[{"Level":1,"About":"Start of turn: Summon one 6/6 Fish and give it +2 experience."},{"Level":2,"About":"Start of turn: Summon one 12/12 Fish and give it +4 experience."},{"Level":3,"About":"Start of turn: Summon one 18/18 Fish and give it +6 experience."}],"Id":"356","Name":"Leviathan","NameId":"Leviathan","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Cycle"]},{"Attack":7,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: If this is your highest tier pet, gain +50% attack and health."},{"Level":2,"About":"Start of battle: If this is your highest tier pet, gain +100% attack and health."},{"Level":3,"About":"Start of battle: If this is your highest tier pet, gain +150% attack and health."}],"Id":"42","Name":"Lion","NameId":"Lion","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Pet sold: Give future shop pets of the same tier +1 attack and +1 health. Works 2 times per turn."},{"Level":2,"About":"Pet sold: Give future shop pets of the same tier +2 attack and +2 health. Works 2 times per turn."},{"Level":3,"About":"Pet sold: Give future shop pets of the same tier +3 attack and +3 health. Works 2 times per turn."}],"Id":"114","Name":"Lioness","NameId":"Lioness","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":10,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Deal 3 damage to one random enemy. Repeat for each 10 attack this has."},{"Level":2,"About":"Faint: Deal 6 damage to one random enemy. Repeat for each 10 attack this has."},{"Level":3,"About":"Faint: Deal 9 damage to one random enemy. Repeat for each 10 attack this has."}],"Id":"201","Name":"Lionfish","NameId":"Lionfish","Tier":6,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":4,"Health":12,"Abilities":[{"Level":1,"About":"Faint: Give friends +2 attack and +2 health."},{"Level":2,"About":"Faint: Give friends +4 attack and +4 health."},{"Level":3,"About":"Faint: Give friends +6 attack and +6 health."}],"Id":"45","Name":"Mammoth","NameId":"Mammoth","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Enemy ailments are two times worse."},{"Level":2,"About":"Enemy ailments are three times worse."},{"Level":3,"About":"Enemy ailments are four times worse."}],"Id":"358","Name":"Manticore","NameId":"Manticore","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":9,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Deal 10 damage to the first enemy."},{"Level":2,"About":"Start of battle: Deal 10 damage to the first enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 10 damage to the first enemy. Triggers 3 times."}],"Id":"190","Name":"Mantis Shrimp","NameId":"ShrimpMantis","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Spend 4 trumpets to give friends permanent +4 attack and +4 health evenly spread."},{"Level":2,"About":"Faint: Spend 4 trumpets to give friends permanent +8 attack and +8 health evenly spread."},{"Level":3,"About":"Faint: Spend 4 trumpets to give friends permanent +12 attack and +12 health evenly spread."}],"Id":"743","Name":"Markhor","NameId":"Markhor","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"After attack: Deal 4 damage to the least healthy enemy."},{"Level":2,"About":"After attack: Deal 4 damage to the two least healthy enemies."},{"Level":3,"About":"After attack: Deal 4 damage to the three least healthy enemies."}],"Id":"712","Name":"Mimic Octopus","NameId":"MimicOctopus","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":7,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Mongoose toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Mongoose toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Mongoose toy."}],"Id":"241","Name":"Mongoose","NameId":"Mongoose","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"After attack: Deal 6 damage to one random enemy."},{"Level":2,"About":"After attack: Deal 6 damage to two random enemies."},{"Level":3,"About":"After attack: Deal 6 damage to three random enemies."}],"Id":"50","Name":"Octopus","NameId":"Octopus","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Faint: Summon one random Faint pet from ANY pack as 6/6."},{"Level":2,"About":"Faint: Summon two random Faint pets from ANY pack as 6/6."},{"Level":3,"About":"Faint: Summon three random Faint pets from ANY pack as 6/6."}],"Id":"116","Name":"Orca","NameId":"Orca","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon"],"Random":true},{"Attack":6,"Health":7,"Abilities":[{"Level":1,"About":"Roll: If 4 shop pets are the same tier, re-roll and give friends +2 health. Works 4 times per turn."},{"Level":2,"About":"Roll: If 4 shop pets are the same tier, re-roll and give friends +4 health. Works 4 times per turn."},{"Level":3,"About":"Roll: If 4 shop pets are the same tier, re-roll and give friends +6 health. Works 4 times per turn."}],"Id":"125","Name":"Ostrich","NameId":"Ostrich","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll","Buff"],"Random":true},{"Attack":2,"Health":10,"Abilities":[{"Level":1,"About":"Sell: Gain +3 gold."},{"Level":2,"About":"Sell: Gain +6 gold."},{"Level":3,"About":"Sell: Gain +9 gold."}],"Id":"248","Name":"Oyster","NameId":"Oyster","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":7,"Health":6,"Abilities":[{"Level":1,"About":"Anyone jumped: Give one random friendly pet +4 attack and +4 health."},{"Level":2,"About":"Anyone jumped: Give one random friendly pet +8 attack and +8 health."},{"Level":3,"About":"Anyone jumped: Give one random friendly pet +12 attack and +12 health."}],"Id":"424","Name":"Philippine Eagle","NameId":"PhilippineEagle","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"],"Random":true},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"Faint: Make ANY three random pets Crisp, then summon one 4/4 Young Phoenix."},{"Level":2,"About":"Faint: Make ANY six random pets Crisp, then summon one 8/8 Young Phoenix."},{"Level":3,"About":"Faint: Make ANY nine random pets Crisp, then summon one 12/12 Young Phoenix."}],"Id":"366","Name":"Phoenix","NameId":"Phoenix","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Anyone attacks: Take 6 damage, once.","CustomArchetypes":["Ailments"],"Random":true},{"Attack":10,"Health":4,"Abilities":[{"Level":1,"About":"Hurt: Give friends +3 attack."},{"Level":2,"About":"Hurt: Give friends +6 attack."},{"Level":3,"About":"Hurt: Give friends +9 attack."}],"Id":"118","Name":"Piranha","NameId":"Piranha","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and +1 health to one friend of each tier."},{"Level":2,"About":"End turn: Give +2 attack and +2 health to one friend of each tier."},{"Level":3,"About":"End turn: Give +3 attack and +3 health to one friend of each tier."}],"Id":"96","Name":"Poodle","NameId":"Poodle","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Friend faints: Re-summon it behind this as a 1/1. Works 1 time per battle.","FinePrint":"Does not summon other Pteranodons."},{"Level":2,"About":"Friend faints: Re-summon it behind this as a 1/1. Works 2 times per battle.","FinePrint":"Does not summon other Pteranodons."},{"Level":3,"About":"Friend faints: Re-summon it behind this as a 1/1. Works 3 times per battle.","FinePrint":"Does not summon other Pteranodons."}],"Id":"253","Name":"Pteranodon","NameId":"Pteranodon","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Friendly toy repeats its ability as level 1."},{"Level":2,"About":"Friendly toy repeats its ability as level 2."},{"Level":3,"About":"Friendly toy repeats its ability as level 3."}],"Id":"254","Name":"Puma","NameId":"Puma","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":7,"Health":9,"Abilities":[{"Level":1,"About":"Sell: Choose one level 1 king toy."},{"Level":2,"About":"Sell: Choose one level 2 king toy."},{"Level":3,"About":"Sell: Choose one level 3 king toy."}],"Id":"616","Name":"Questing Beast","NameId":"QuestingBeast","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"End turn: Give one random tier 3 or lower friend +2 experience."},{"Level":2,"About":"End turn: Give one random tier 3 or lower friend +2 experience. Triggers 2 times."},{"Level":3,"About":"End turn: Give one random tier 3 or lower friend +2 experience. Triggers 3 times."}],"Id":"367","Name":"Quetzalcoatl","NameId":"Quetzalcoatl","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"],"Random":true},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Friend lost perk: Return its perk. Works on one friend per turn."},{"Level":2,"About":"Friend lost perk: Return its perk. Works on two different friends per turn."},{"Level":3,"About":"Friend lost perk: Return its perk. Works on three different friends per turn."}],"Id":"561","Name":"Real Velociraptor","NameId":"RealVelociraptor","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":9,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Gain Melon perk. Works 1 time per battle."},{"Level":2,"About":"Before attack: Gain Melon perk. Works 2 times per battle."},{"Level":3,"About":"Before attack: Gain Melon perk. Works 3 times per battle."}],"Id":"205","Name":"Reindeer","NameId":"Reindeer","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and gain +12 trumpets. Works 1 time per battle."},{"Level":2,"About":"Empty front space: Jump to the front and gain +24 trumpets. Works 1 time per battle."},{"Level":3,"About":"Empty front space: Jump to the front and gain +36 trumpets. Works 1 time per battle."}],"Id":"533","Name":"Rockhopper Penguin","NameId":"SouthernRockhopperPenguin","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard","Trumpets"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one Mammoth with +2 attack and +3 health for each time this was hurt."},{"Level":2,"About":"Faint: Summon two Mammoths with +2 attack and +3 health for each time this was hurt."},{"Level":3,"About":"Faint: Summon three Mammoths with +2 attack and +3 health for each time this was hurt."}],"Id":"148","Name":"Sabertooth Tiger","NameId":"SabertoothTiger","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon","Hurt"]},{"Attack":4,"Health":12,"Abilities":[{"Level":1,"About":"Friendly gained perk: Gain +1 gold next turn. Works 3 times per turn."},{"Level":2,"About":"Friendly gained perk: Gain +2 gold next turn. Works 3 times per turn."},{"Level":3,"About":"Friendly gained perk: Gain +3 gold next turn. Works 3 times per turn."}],"Id":"98","Name":"Sauropod","NameId":"Sauropod","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Gold","Perks"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"This pet\'s mana damage hits the most healthy enemy and one extra enemy."},{"Level":2,"About":"This pet\'s mana damage hits the most healthy enemy and two extra enemies."},{"Level":3,"About":"This pet\'s mana damage hits the most healthy enemy and three extra enemies."}],"Id":"372","Name":"Sea Serpent","NameId":"SeaSerpent","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Disruption"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Start of battle: Transform two friends behind into ANY useful level 1 <b>Faint</b> pets from tier 6."},{"Level":2,"About":"Start of battle: Transform two friends behind into ANY useful level 2 <b>Faint</b> pets from tier 6."},{"Level":3,"About":"Start of battle: Transform two friends behind into ANY useful level 3 <b>Faint</b> pets from tier 6."}],"Id":"432","Name":"Silky Sifaka","NameId":"SilkySifaka","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":8,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend +1 mana for each 2 attack this has."},{"Level":2,"About":"Start of battle: Give the two front-most friends +1 mana for each 2 attack this has."},{"Level":3,"About":"Start of battle: Give the three front-most friends +1 mana for each 2 attack this has."}],"Id":"606","Name":"Sleipnir","NameId":"Sleipnir","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Summoned: Deal 2 damage to ALL other pets. Double against enemies."},{"Level":2,"About":"Summoned: Deal 2 damage to ALL other pets. Double against enemies. Triggers 2 times."},{"Level":3,"About":"Summoned: Deal 2 damage to ALL other pets. Double against enemies. Triggers 3 times."}],"Id":"773","Name":"Small One","NameId":"BabyCthulhu","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Deal 5 damage to one random enemy. Works 5 times per battle."},{"Level":2,"About":"Friend ahead attacks: Deal 10 damage to one random enemy. Works 5 times per battle."},{"Level":3,"About":"Friend ahead attacks: Deal 15 damage to one random enemy. Works 5 times per battle."}],"Id":"73","Name":"Snake","NameId":"Snake","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Guard"],"Random":true},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend faints: Give one random friend +2 attack and +3 health."},{"Level":2,"About":"Friend faints: Give one random friend +4 attack and +6 health."},{"Level":3,"About":"Friend faints: Give one random friend +6 attack and +9 health."}],"Id":"143","Name":"Spinosaurus","NameId":"Spinosaurus","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon","Mvp"],"Random":true},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Give one perk-less friend +10 attack and +10 health."},{"Level":2,"About":"Start of battle: Give one perk-less friend +20 attack and +20 health."},{"Level":3,"About":"Start of battle: Give one perk-less friend +30 attack and +30 health."}],"Id":"144","Name":"Stegosaurus","NameId":"Stegosaurus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":9,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Jump-attack the opposite enemy."},{"Level":2,"About":"Start of battle: Jump-attack the opposite enemy and deal 6 damage to adjacent enemies."},{"Level":3,"About":"Start of battle: Jump-attack the opposite enemy and deal 12 damage to adjacent enemies."}],"Id":"434","Name":"Sumatran Tiger","NameId":"SumatranTiger","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":4,"Health":10,"Abilities":[{"Level":1,"About":"Start of battle: If turn number is odd, deal 4 damage to ALL pets ahead."},{"Level":2,"About":"Start of battle: If turn number is odd, deal 8 damage to ALL pets ahead."},{"Level":3,"About":"Start of battle: If turn number is odd, deal 12 damage to ALL pets ahead."}],"Id":"568","Name":"Sunfish","NameId":"Sunfish","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 10/10 level 1 copy of the back-most friend."},{"Level":2,"About":"Start of battle: Summon one 20/20 level 2 copy of the back-most friend."},{"Level":3,"About":"Start of battle: Summon one 30/30 level 3 copy of the back-most friend."}],"Id":"208","Name":"Tapir","NameId":"Tapir","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Friend level-up: Give friends +1 attack and +1 health."},{"Level":2,"About":"Friend level-up: Give friends +2 attack and +2 health."},{"Level":3,"About":"Friend level-up: Give friends +3 attack and +3 health."}],"Id":"636","Name":"Team Spirit","NameId":"TeamSpirit","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give Peanut perk to the front-most Strawberry friend."},{"Level":2,"About":"Start of battle: Give Peanut perk to the two front-most Strawberry friends."},{"Level":3,"About":"Start of battle: Give Peanut perk to the three front-most Strawberry friends."}],"Id":"806","Name":"Terror Bird","NameId":"TerrorBird","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this.","CustomArchetypes":["Strawberry"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Give Coconut perk to the front-most Strawberry friend."},{"Level":2,"About":"Start of battle: Give Coconut perk to the two front-most Strawberry friends."},{"Level":3,"About":"Start of battle: Give Coconut perk to the three front-most Strawberry friends."}],"Id":"759","Name":"Therizinosaurus","NameId":"Therizinosaurus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Strawberry"]},{"Attack":6,"Health":4,"Abilities":[{"Level":1,"About":"The friend ahead repeats their ability in battle as if they were level 1."},{"Level":2,"About":"The friend ahead repeats their ability in battle as if they were level 2."},{"Level":3,"About":"The friend ahead repeats their ability in battle as if they were level 3."}],"Id":"77","Name":"Tiger","NameId":"Tiger","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Mvp","Mvp"]},{"Attack":7,"Health":7,"Abilities":[{"Level":1,"About":"Start of turn: Give two tier 5 friends or higher +2 attack and +2 health."},{"Level":2,"About":"Start of turn: Give two tier 5 friends or higher +4 attack and +4 health."},{"Level":3,"About":"Start of turn: Give two tier 5 friends or higher +6 attack and +6 health."}],"Id":"78","Name":"Tyrannosaurus","NameId":"Tyrannosaurus","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and +2 health to each friend with a different ailment."},{"Level":2,"About":"End turn: Give +2 attack and +4 health to each friend with a different ailment."},{"Level":3,"About":"End turn: Give +3 attack and +6 health to each friend with a different ailment."}],"Id":"711","Name":"Vampire Squid","NameId":"VampireSquid","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Friend attacks: Steal friendly Strawberry ahead to give friends +2 attack and +3 health."},{"Level":2,"About":"Friend attacks: Steal friendly Strawberry ahead to give friends +4 attack and +6 health."},{"Level":3,"About":"Friend attacks: Steal friendly Strawberry ahead to give friends +6 attack and +9 health."}],"Id":"115","Name":"Velociraptor","NameId":"Velociraptor","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Peanut Butter perk to one random friend."},{"Level":2,"About":"Faint: Give Peanut Butter perk to two random friends."},{"Level":3,"About":"Faint: Give Peanut Butter perk to three random friends."}],"Id":"209","Name":"Walrus","NameId":"Walrus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this, once.","CustomArchetypes":["Perks"],"Random":true},{"Attack":9,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give random friends +1 attack and +1 health for every 3 attack this has."},{"Level":2,"About":"Faint: Give random friends +2 attack and +2 health for every 3 attack this has."},{"Level":3,"About":"Faint: Give random friends +3 attack and +3 health for every 3 attack this has."}],"Id":"266","Name":"Warthog","NameId":"Warthog","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend behind +3 experience."},{"Level":2,"About":"Start of battle: Give the two nearest friends behind +3 experience."},{"Level":3,"About":"Start of battle: Give the three nearest friends behind +3 experience."}],"Id":"206","Name":"White Tiger","NameId":"WhiteTiger","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":8,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Spend 2 trumpets to gain Coconut perk. Works 1 time per battle."},{"Level":2,"About":"Before attack: Spend 2 trumpets to gain Coconut perk. Works 2 times per battle."},{"Level":3,"About":"Before attack: Spend 2 trumpets to gain Coconut perk. Works 3 times per battle."}],"Id":"268","Name":"Wildebeest","NameId":"Wildebeest","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Trumpets"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"End turn: Give the nearest two friends ahead 5 mana."},{"Level":2,"About":"End turn: Give the nearest two friends ahead 10 mana."},{"Level":3,"About":"End turn: Give the nearest two friends ahead 15 mana."}],"Id":"633","Name":"Winter Spirit","NameId":"ForestSpirit","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Four friends hurt: Remove 3 health from all enemies."},{"Level":2,"About":"Four friends hurt: Remove 6 health from all enemies."},{"Level":3,"About":"Four friends hurt: Remove 9 health from all enemies."}],"Id":"269","Name":"Wolverine","NameId":"Wolverine","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Set attack and health of the most healthy pet from ANY team to 20."},{"Level":2,"About":"Faint: Set attack and health of the two most healthy pets from ANY team to 20."},{"Level":3,"About":"Faint: Set attack and health of the three most healthy pets from ANY team to 20."}],"Id":"766","Name":"Yellow Boxfish","NameId":"YellowBoxFish","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":9,"Abilities":[{"Level":1,"About":"Start of turn: Roll four times while freezing pet copies and tier 6 food."},{"Level":2,"About":"Start of turn: Roll eight times while freezing pet copies and tier 6 food."},{"Level":3,"About":"Start of turn: Roll twelve times while freezing pet copies and tier 6 food."}],"Id":"387","Name":"Yeti","NameId":"Yeti","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"648","Name":"Chimera Goat","NameId":"ChimeraGoat","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"650","Name":"Chimera Lion","NameId":"ChimeraLion","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"649","Name":"Chimera Snake","NameId":"ChimeraSnake","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"614","Name":"Fake Nessie","NameId":"FakeNessie","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Remove this."},{"Level":2,"About":"Start of battle: Remove this. Summoned: Remove this."},{"Level":3,"About":"Start of battle: Remove this. Summoned: Remove this."}],"Id":"823","Name":"Moby Dick","NameId":"MochaDick","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"Before battle: If pack has no pets/food from the tab, remove 1 XP from three random enemies."},{"Level":2,"About":"Before battle: If pack has no pets/food from the tab, remove 2 XP from three random enemies."},{"Level":3,"About":"Before battle: If pack has no pets/food from the tab, remove 3 XP from three random enemies."}],"Id":"824","Name":"Tanystropheus","NameId":"Tanystropheus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]}]')},3340(fe,K,w){w.d(K,{A:()=>ee});var T=w(7133),m="object"==typeof exports&&exports&&!exports.nodeType&&exports,x=m&&"object"==typeof module&&module&&!module.nodeType&&module,P=x&&x.exports===m&&T.A.process;const ee=function(){try{return x&&x.require&&x.require("util").types||P&&P.binding&&P.binding("util")}catch{}}()},3446(fe,K,w){w.d(K,{A:()=>P});var T=w(6080);const P=function q(p){return(0,T.A)(p,5)}},3507(fe,K,w){w.d(K,{A:()=>q});var T=w(9898),m=w(4238);const q=function x(P,p){return P&&(0,T.A)(p,(0,m.A)(p),P)}},3527(fe,K,w){w.d(K,{A:()=>m});const m=function T(){this.__data__=[],this.size=0}},3600(fe,K,w){w.d(K,{A:()=>m});const m=function T(x){var q=[];if(null!=x)for(var P in Object(x))q.push(P);return q}},3632(fe,K,w){w.d(K,{A:()=>p});var T=w(3180),m=w(6568),x=w(8308);const p=function P(ee,ne){var te=this.__data__;if(te instanceof T.A){var le=te.__data__;if(!m.A||le.length<199)return le.push([ee,ne]),this.size=++te.size,this;te=this.__data__=new x.A(le)}return te.set(ee,ne),this.size=te.size,this}},3744(fe,K,w){w.d(K,{A:()=>m});const m=Array.isArray},3746(fe,K,w){w.d(K,{A:()=>x});var T=w(309);const x=function m(q,P){var p=q.__data__;return(0,T.A)(P)?p["string"==typeof P?"string":"hash"]:p.map}},3811(fe,K,w){w.d(K,{A:()=>q});var m=Object.prototype.toString;const q=function x(P){return m.call(P)}},4166(fe,K,w){w.d(K,{A:()=>x});var T=w(336);const x=function m(q){return(0,T.A)(this.__data__,q)>-1}},4173(fe,K,w){w.d(K,{A:()=>x});var T=w(3180);const x=function m(){this.__data__=new T.A,this.size=0}},4226(fe,K,w){w.d(K,{A:()=>q});var T=w(5525),m=w(1860);const q=(0,T.A)(m.A,"Set")},4238(fe,K,w){w.d(K,{A:()=>P});var T=w(6792),m=w(1270),x=w(1287);const P=function q(p){return(0,x.A)(p)?(0,T.A)(p,!0):(0,m.A)(p)}},4279(fe,K,w){w.d(K,{c:()=>q});var T=w(7389),m=w(4385),x=w(2496);function q(P,p){return p?(0,x.V)(P,p):new T.c((0,m.v)(P))}},4314(fe,K,w){w.d(K,{A:()=>x});var T=w(5152);const x=function m(q,P){var p=P?(0,T.A)(q.buffer):q.buffer;return new q.constructor(p,q.byteOffset,q.length)}},4385(fe,K,w){w.d(K,{v:()=>T});const T=m=>x=>{for(let q=0,P=m.length;q<P&&!x.closed;q++)x.next(m[q]);x.complete()}},4402(fe,K,w){w.d(K,{A:()=>x});var T=w(336);const x=function m(q){var P=this.__data__,p=(0,T.A)(P,q);return p<0?void 0:P[p][1]}},4421(fe,K,w){w.d(K,{of:()=>q});var T=w(2234),m=w(4279),x=w(2496);function q(...P){let p=P[P.length-1];return(0,T.m)(p)?(P.pop(),(0,x.V)(P,p)):(0,m.c)(P)}},4429(fe,K,w){w.d(K,{A:()=>P});var T=w(6792),m=w(2917),x=w(1287);const P=function q(p){return(0,x.A)(p)?(0,T.A)(p):(0,m.A)(p)}},4528(fe,K,w){w.d(K,{A:()=>m});const m=function T(x,q){var P=-1,p=x.length;for(q||(q=Array(p));++P<p;)q[P]=x[P];return q}},4541(fe,K,w){w.d(K,{A:()=>q});var P,T=w(9748),m=(P=/[^.]+$/.exec(T.A&&T.A.keys&&T.A.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"";const q=function x(P){return!!m&&m in P}},4608(fe,K,w){w.d(K,{A:()=>p});var T=w(568),m=w(778),x=w(3340),q=x.A&&x.A.isTypedArray;const p=q?(0,m.A)(q):T.A},4746(fe,K,w){w.d(K,{A:()=>x});var T=w(3746);const x=function m(q){return(0,T.A)(this,q).get(q)}},4787(fe,K,w){w.d(K,{H:()=>Je});var T=w(7389),m=w(135),x=w(1805),q=w(5722),ee=w(2496),ne=w(7765),ce=w(5998),me=w(5253);function Je(Qe,At){return At?function He(Qe,At){if(null!=Qe){if(function le(Qe){return Qe&&"function"==typeof Qe[q.s]}(Qe))return function P(Qe,At){return new T.c(tt=>{const mt=new x.y;return mt.add(At.schedule(()=>{const Ye=Qe[q.s]();mt.add(Ye.subscribe({next(Nt){mt.add(At.schedule(()=>tt.next(Nt)))},error(Nt){mt.add(At.schedule(()=>tt.error(Nt)))},complete(){mt.add(At.schedule(()=>tt.complete()))}}))})),mt})}(Qe,At);if((0,ce.y)(Qe))return function p(Qe,At){return new T.c(tt=>{const mt=new x.y;return mt.add(At.schedule(()=>Qe.then(Ye=>{mt.add(At.schedule(()=>{tt.next(Ye),mt.add(At.schedule(()=>tt.complete()))}))},Ye=>{mt.add(At.schedule(()=>tt.error(Ye)))}))),mt})}(Qe,At);if((0,me.X)(Qe))return(0,ee.V)(Qe,At);if(function Ee(Qe){return Qe&&"function"==typeof Qe[ne.lJ]}(Qe)||"string"==typeof Qe)return function te(Qe,At){if(!Qe)throw new Error("Iterable cannot be null");return new T.c(tt=>{const mt=new x.y;let Ye;return mt.add(()=>{Ye&&"function"==typeof Ye.return&&Ye.return()}),mt.add(At.schedule(()=>{Ye=Qe[ne.lJ](),mt.add(At.schedule(function(){if(tt.closed)return;let Nt,Zt;try{const kt=Ye.next();Nt=kt.value,Zt=kt.done}catch(kt){return void tt.error(kt)}Zt?tt.complete():(tt.next(Nt),this.schedule())}))})),mt})}(Qe,At)}throw new TypeError((null!==Qe&&typeof Qe||Qe)+" is not observable")}(Qe,At):Qe instanceof T.c?Qe:new T.c((0,m.i)(Qe))}},4937(fe,K,w){w.d(K,{s:()=>m});var T=w(7868);let m=(()=>{class x{key="sapData";constructor(){}getStorage(){return window.localStorage.getItem(this.key),window.localStorage.getItem(this.key)}setFormStorage(P){this.setStorage(P.value)}setStorage(P){if("object"==typeof P&&null!==P){const p=new Set,ee=(ne,te)=>{if("equipment"===ne&&te&&"object"==typeof te&&te.name)return{name:te.name};if(!["parent","logService","abilityService","gameService","petService"].includes(ne)){if("object"==typeof te&&null!==te){if(p.has(te))return;p.add(te)}return te}};try{const ne=JSON.stringify(P,ee);window.localStorage.setItem(this.key,ne)}catch(ne){console.error("Could not stringify value for local storage",ne)}}else"string"==typeof P&&window.localStorage.setItem(this.key,P)}clearStorage(){window.localStorage.removeItem(this.key)}static \u0275fac=function(p){return new(p||x)};static \u0275prov=T.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})()},5006(fe,K,w){w.d(K,{T:()=>m});var T=w(762);function m(P,p){return function(ne){if("function"!=typeof P)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ne.lift(new x(P,p))}}class x{constructor(p,ee){this.project=p,this.thisArg=ee}call(p,ee){return ee.subscribe(new q(p,this.project,this.thisArg))}}class q extends T.v{constructor(p,ee,ne){super(p),this.project=ee,this.count=0,this.thisArg=ne||this}_next(p){let ee;try{ee=this.project.call(this.thisArg,p,this.count++)}catch(ne){return void this.destination.error(ne)}this.destination.next(ee)}}},5030(fe,K,w){w.d(K,{A:()=>x});var T=w(3746);const x=function m(q,P){var p=(0,T.A)(this,q),ee=p.size;return p.set(q,P),this.size+=p.size==ee?0:1,this}},5042(fe,K,w){w.d(K,{A:()=>P});var T=w(3080),m=w(2661);const P=function q(p){return(0,m.A)(p)&&"[object Set]"==(0,T.A)(p)}},5119(fe,K,w){w.d(K,{Zm:()=>Nn,me:()=>Oe,Yp:()=>yr,MJ:()=>Dn,JD:()=>zt,gE:()=>Ti,j4:()=>en,YN:()=>kd,zX:()=>Ac,VZ:()=>br,BC:()=>vi,cb:()=>mn,vS:()=>to,xH:()=>oa,Q0:()=>X,X1:()=>Ws,YS:()=>io,wz:()=>nr,k0:()=>ge,qT:()=>aa,y7:()=>Ta});var T=w(5547),m=w(7868),q=(w(467),w(5824));function ce(C,I){return(0,q.KZ)(C,I?.equal)}Error,Error;var yt=w(7705),Li=w(6494),mi=w(4787),Ut=w(7389),Ui=w(7354),kn=w(5006),ei=w(1456);function Wi(C,I){return new Ut.c(k=>{const G=C.length;if(0===G)return void k.complete();const Z=new Array(G);let We=0,ct=0;for(let qt=0;qt<G;qt++){const zi=(0,mi.H)(C[qt]);let Ir=!1;k.add(zi.subscribe({next:lr=>{Ir||(Ir=!0,ct++),Z[qt]=lr},error:lr=>k.error(lr),complete:()=>{We++,(We===G||!Ir)&&(ct===G&&k.next(I?I.reduce((lr,_c,wd)=>(lr[_c]=Z[wd],lr),{}):Z),k.complete())}}))}})}var Vi=w(5286);let rn=(()=>{class C{_renderer;_elementRef;onChange=k=>{};onTouched=()=>{};constructor(k,G){this._renderer=k,this._elementRef=G}setProperty(k,G){this._renderer.setProperty(this._elementRef.nativeElement,k,G)}registerOnTouched(k){this.onTouched=k}registerOnChange(k){this.onChange=k}setDisabledState(k){this.setProperty("disabled",k)}static \u0275fac=function(G){return new(G||C)(T.rXU(T.sFG),T.rXU(T.aKT))};static \u0275dir=T.FsC({type:C})}return C})(),Mi=(()=>{class C extends rn{static \u0275fac=(()=>{let k;return function(Z){return(k||(k=T.xGo(C)))(Z||C)}})();static \u0275dir=T.FsC({type:C,features:[T.Vt3]})}return C})();const vt=new m.nKC(""),it={provide:vt,useExisting:(0,m.Rfq)(()=>Nn),multi:!0};let Nn=(()=>{class C extends Mi{writeValue(k){this.setProperty("checked",k)}static \u0275fac=(()=>{let k;return function(Z){return(k||(k=T.xGo(C)))(Z||C)}})();static \u0275dir=T.FsC({type:C,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(G,Z){1&G&&T.bIt("change",function(ct){return Z.onChange(ct.target.checked)})("blur",function(){return Z.onTouched()})},standalone:!1,features:[T.Jv_([it]),T.Vt3]})}return C})();const pr={provide:vt,useExisting:(0,m.Rfq)(()=>Oe),multi:!0},ut=new m.nKC("");let Oe=(()=>{class C extends rn{_compositionMode;_composing=!1;constructor(k,G,Z){super(k,G),this._compositionMode=Z,null==this._compositionMode&&(this._compositionMode=!function Ji(){const C=(0,Li.rb)()?(0,Li.rb)().getUserAgent():"";return/android (\d+)/.test(C.toLowerCase())}())}writeValue(k){this.setProperty("value",k??"")}_handleInput(k){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(k)}_compositionStart(){this._composing=!0}_compositionEnd(k){this._composing=!1,this._compositionMode&&this.onChange(k)}static \u0275fac=function(G){return new(G||C)(T.rXU(T.sFG),T.rXU(T.aKT),T.rXU(ut,8))};static \u0275dir=T.FsC({type:C,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(G,Z){1&G&&T.bIt("input",function(ct){return Z._handleInput(ct.target.value)})("blur",function(){return Z.onTouched()})("compositionstart",function(){return Z._compositionStart()})("compositionend",function(ct){return Z._compositionEnd(ct.target.value)})},standalone:!1,features:[T.Jv_([pr]),T.Vt3]})}return C})();function Wt(C){return null==C||0===pn(C)}function pn(C){return null==C?null:Array.isArray(C)||"string"==typeof C?C.length:C instanceof Set?C.size:null}const lt=new m.nKC(""),Ni=new m.nKC(""),wt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ge{static min(I){return Be(I)}static max(I){return Ke(I)}static required(I){return ke(I)}static requiredTrue(I){return function rt(C){return!0===C.value?null:{required:!0}}(I)}static email(I){return function Yt(C){return Wt(C.value)||wt.test(C.value)?null:{email:!0}}(I)}static minLength(I){return function Jt(C){return I=>{const k=I.value?.length??pn(I.value);return null===k||0===k?null:k<C?{minlength:{requiredLength:C,actualLength:k}}:null}}(I)}static maxLength(I){return function _i(C){return I=>{const k=I.value?.length??pn(I.value);return null!==k&&k>C?{maxlength:{requiredLength:C,actualLength:k}}:null}}(I)}static pattern(I){return function ni(C){if(!C)return Ht;let I,k;return"string"==typeof C?(k="","^"!==C.charAt(0)&&(k+="^"),k+=C,"$"!==C.charAt(C.length-1)&&(k+="$"),I=new RegExp(k)):(k=C.toString(),I=C),G=>{if(Wt(G.value))return null;const Z=G.value;return I.test(Z)?null:{pattern:{requiredPattern:k,actualValue:Z}}}}(I)}static nullValidator(I){return null}static compose(I){return sn(I)}static composeAsync(I){return xi(I)}}function Be(C){return I=>{if(null==I.value||null==C)return null;const k=parseFloat(I.value);return!isNaN(k)&&k<C?{min:{min:C,actual:I.value}}:null}}function Ke(C){return I=>{if(null==I.value||null==C)return null;const k=parseFloat(I.value);return!isNaN(k)&&k>C?{max:{max:C,actual:I.value}}:null}}function ke(C){return Wt(C.value)?{required:!0}:null}function Ht(C){return null}function Fn(C){return null!=C}function an(C){return(0,T.yLl)(C)?(0,mi.H)(C):C}function gn(C){let I={};return C.forEach(k=>{I=null!=k?{...I,...k}:I}),0===Object.keys(I).length?null:I}function on(C,I){return I.map(k=>k(C))}function Oi(C){return C.map(I=>function Fi(C){return!C.validate}(I)?I:k=>I.validate(k))}function sn(C){if(!C)return null;const I=C.filter(Fn);return 0==I.length?null:function(k){return gn(on(k,I))}}function Xn(C){return null!=C?sn(Oi(C)):null}function xi(C){if(!C)return null;const I=C.filter(Fn);return 0==I.length?null:function(k){return function Xi(...C){if(1===C.length){const I=C[0];if((0,Ui.c)(I))return Wi(I,null);if((0,ei.G)(I)&&Object.getPrototypeOf(I)===Object.prototype){const k=Object.keys(I);return Wi(k.map(G=>I[G]),k)}}if("function"==typeof C[C.length-1]){const I=C.pop();return Wi(C=1===C.length&&(0,Ui.c)(C[0])?C[0]:C,null).pipe((0,kn.T)(k=>I(...k)))}return Wi(C,null)}(on(k,I).map(an)).pipe((0,kn.T)(gn))}}function di(C){return null!=C?xi(Oi(C)):null}function Ii(C,I){return null===C?[I]:Array.isArray(C)?[...C,I]:[C,I]}function gr(C){return C._rawValidators}function On(C){return C._rawAsyncValidators}function wn(C){return C?Array.isArray(C)?C:[C]:[]}function Tn(C,I){return Array.isArray(C)?C.includes(I):C===I}function ln(C,I){const k=wn(I);return wn(C).forEach(Z=>{Tn(k,Z)||k.push(Z)}),k}function ar(C,I){return wn(I).filter(k=>!Tn(C,k))}class Hi{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(I){this._rawValidators=I||[],this._composedValidatorFn=Xn(this._rawValidators)}_setAsyncValidators(I){this._rawAsyncValidators=I||[],this._composedAsyncValidatorFn=di(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(I){this._onDestroyCallbacks.push(I)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(I=>I()),this._onDestroyCallbacks=[]}reset(I=void 0){this.control&&this.control.reset(I)}hasError(I,k){return!!this.control&&this.control.hasError(I,k)}getError(I,k){return this.control?this.control.getError(I,k):null}}class ri extends Hi{name;get formDirective(){return null}get path(){return null}}class Bi extends Hi{_parent=null;name=null;valueAccessor=null}class Qi{_cd;constructor(I){this._cd=I}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let vi=(()=>{class C extends Qi{constructor(k){super(k)}static \u0275fac=function(G){return new(G||C)(T.rXU(Bi,2))};static \u0275dir=T.FsC({type:C,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(G,Z){2&G&&T.AVh("ng-untouched",Z.isUntouched)("ng-touched",Z.isTouched)("ng-pristine",Z.isPristine)("ng-dirty",Z.isDirty)("ng-valid",Z.isValid)("ng-invalid",Z.isInvalid)("ng-pending",Z.isPending)},standalone:!1,features:[T.Vt3]})}return C})(),mn=(()=>{class C extends Qi{constructor(k){super(k)}static \u0275fac=function(G){return new(G||C)(T.rXU(ri,10))};static \u0275dir=T.FsC({type:C,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(G,Z){2&G&&T.AVh("ng-untouched",Z.isUntouched)("ng-touched",Z.isTouched)("ng-pristine",Z.isPristine)("ng-dirty",Z.isDirty)("ng-valid",Z.isValid)("ng-invalid",Z.isInvalid)("ng-pending",Z.isPending)("ng-submitted",Z.isSubmitted)},standalone:!1,features:[T.Vt3]})}return C})();const ie="VALID",Ae="INVALID",Pe="PENDING",Te="DISABLED";class Ge{}class gt extends Ge{value;source;constructor(I,k){super(),this.value=I,this.source=k}}class Xe extends Ge{pristine;source;constructor(I,k){super(),this.pristine=I,this.source=k}}class hi extends Ge{touched;source;constructor(I,k){super(),this.touched=I,this.source=k}}class Ri extends Ge{status;source;constructor(I,k){super(),this.status=I,this.source=k}}class ti extends Ge{source;constructor(I){super(),this.source=I}}class Qt extends Ge{source;constructor(I){super(),this.source=I}}function cn(C){return(Pt(C)?C.validators:C)||null}function wi(C,I){return(Pt(I)?I.asyncValidators:C)||null}function Pt(C){return null!=C&&!Array.isArray(C)&&"object"==typeof C}function pi(C,I,k){const G=C.controls;if(!(I?Object.keys(G):G).length)throw new m.buA(1e3,"");if(!G[k])throw new m.buA(1001,"")}function bi(C,I,k){C._forEachChild((G,Z)=>{if(void 0===k[Z])throw new m.buA(1002,"")})}class Tt{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(I,k){this._assignValidators(I),this._assignAsyncValidators(k)}get validator(){return this._composedValidatorFn}set validator(I){this._rawValidators=this._composedValidatorFn=I}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(I){this._rawAsyncValidators=this._composedAsyncValidatorFn=I}get parent(){return this._parent}get status(){return(0,m.O8t)(this.statusReactive)}set status(I){(0,m.O8t)(()=>this.statusReactive.set(I))}_status=ce(()=>this.statusReactive());statusReactive=(0,m.vPA)(void 0);get valid(){return this.status===ie}get invalid(){return this.status===Ae}get pending(){return this.status==Pe}get disabled(){return this.status===Te}get enabled(){return this.status!==Te}errors;get pristine(){return(0,m.O8t)(this.pristineReactive)}set pristine(I){(0,m.O8t)(()=>this.pristineReactive.set(I))}_pristine=ce(()=>this.pristineReactive());pristineReactive=(0,m.vPA)(!0);get dirty(){return!this.pristine}get touched(){return(0,m.O8t)(this.touchedReactive)}set touched(I){(0,m.O8t)(()=>this.touchedReactive.set(I))}_touched=ce(()=>this.touchedReactive());touchedReactive=(0,m.vPA)(!1);get untouched(){return!this.touched}_events=new Vi.B7;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(I){this._assignValidators(I)}setAsyncValidators(I){this._assignAsyncValidators(I)}addValidators(I){this.setValidators(ln(I,this._rawValidators))}addAsyncValidators(I){this.setAsyncValidators(ln(I,this._rawAsyncValidators))}removeValidators(I){this.setValidators(ar(I,this._rawValidators))}removeAsyncValidators(I){this.setAsyncValidators(ar(I,this._rawAsyncValidators))}hasValidator(I){return Tn(this._rawValidators,I)}hasAsyncValidator(I){return Tn(this._rawAsyncValidators,I)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(I={}){const k=!1===this.touched;this.touched=!0;const G=I.sourceControl??this;this._parent&&!I.onlySelf&&this._parent.markAsTouched({...I,sourceControl:G}),k&&!1!==I.emitEvent&&this._events.next(new hi(!0,G))}markAllAsDirty(I={}){this.markAsDirty({onlySelf:!0,emitEvent:I.emitEvent,sourceControl:this}),this._forEachChild(k=>k.markAllAsDirty(I))}markAllAsTouched(I={}){this.markAsTouched({onlySelf:!0,emitEvent:I.emitEvent,sourceControl:this}),this._forEachChild(k=>k.markAllAsTouched(I))}markAsUntouched(I={}){const k=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const G=I.sourceControl??this;this._forEachChild(Z=>{Z.markAsUntouched({onlySelf:!0,emitEvent:I.emitEvent,sourceControl:G})}),this._parent&&!I.onlySelf&&this._parent._updateTouched(I,G),k&&!1!==I.emitEvent&&this._events.next(new hi(!1,G))}markAsDirty(I={}){const k=!0===this.pristine;this.pristine=!1;const G=I.sourceControl??this;this._parent&&!I.onlySelf&&this._parent.markAsDirty({...I,sourceControl:G}),k&&!1!==I.emitEvent&&this._events.next(new Xe(!1,G))}markAsPristine(I={}){const k=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const G=I.sourceControl??this;this._forEachChild(Z=>{Z.markAsPristine({onlySelf:!0,emitEvent:I.emitEvent})}),this._parent&&!I.onlySelf&&this._parent._updatePristine(I,G),k&&!1!==I.emitEvent&&this._events.next(new Xe(!0,G))}markAsPending(I={}){this.status=Pe;const k=I.sourceControl??this;!1!==I.emitEvent&&(this._events.next(new Ri(this.status,k)),this.statusChanges.emit(this.status)),this._parent&&!I.onlySelf&&this._parent.markAsPending({...I,sourceControl:k})}disable(I={}){const k=this._parentMarkedDirty(I.onlySelf);this.status=Te,this.errors=null,this._forEachChild(Z=>{Z.disable({...I,onlySelf:!0})}),this._updateValue();const G=I.sourceControl??this;!1!==I.emitEvent&&(this._events.next(new gt(this.value,G)),this._events.next(new Ri(this.status,G)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...I,skipPristineCheck:k},this),this._onDisabledChange.forEach(Z=>Z(!0))}enable(I={}){const k=this._parentMarkedDirty(I.onlySelf);this.status=ie,this._forEachChild(G=>{G.enable({...I,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:I.emitEvent}),this._updateAncestors({...I,skipPristineCheck:k},this),this._onDisabledChange.forEach(G=>G(!1))}_updateAncestors(I,k){this._parent&&!I.onlySelf&&(this._parent.updateValueAndValidity(I),I.skipPristineCheck||this._parent._updatePristine({},k),this._parent._updateTouched({},k))}setParent(I){this._parent=I}getRawValue(){return this.value}updateValueAndValidity(I={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const G=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ie||this.status===Pe)&&this._runAsyncValidator(G,I.emitEvent)}const k=I.sourceControl??this;!1!==I.emitEvent&&(this._events.next(new gt(this.value,k)),this._events.next(new Ri(this.status,k)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!I.onlySelf&&this._parent.updateValueAndValidity({...I,sourceControl:k})}_updateTreeValidity(I={emitEvent:!0}){this._forEachChild(k=>k._updateTreeValidity(I)),this.updateValueAndValidity({onlySelf:!0,emitEvent:I.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Te:ie}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(I,k){if(this.asyncValidator){this.status=Pe,this._hasOwnPendingAsyncValidator={emitEvent:!1!==k,shouldHaveEmitted:!1!==I};const G=an(this.asyncValidator(this));this._asyncValidationSubscription=G.subscribe(Z=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Z,{emitEvent:k,shouldHaveEmitted:I})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const I=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,I}return!1}setErrors(I,k={}){this.errors=I,this._updateControlsErrors(!1!==k.emitEvent,this,k.shouldHaveEmitted)}get(I){let k=I;return null==k||(Array.isArray(k)||(k=k.split(".")),0===k.length)?null:k.reduce((G,Z)=>G&&G._find(Z),this)}getError(I,k){const G=k?this.get(k):this;return G&&G.errors?G.errors[I]:null}hasError(I,k){return!!this.getError(I,k)}get root(){let I=this;for(;I._parent;)I=I._parent;return I}_updateControlsErrors(I,k,G){this.status=this._calculateStatus(),I&&this.statusChanges.emit(this.status),(I||G)&&this._events.next(new Ri(this.status,k)),this._parent&&this._parent._updateControlsErrors(I,k,G)}_initObservables(){this.valueChanges=new m.bkB,this.statusChanges=new m.bkB}_calculateStatus(){return this._allControlsDisabled()?Te:this.errors?Ae:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pe)?Pe:this._anyControlsHaveStatus(Ae)?Ae:ie}_anyControlsHaveStatus(I){return this._anyControls(k=>k.status===I)}_anyControlsDirty(){return this._anyControls(I=>I.dirty)}_anyControlsTouched(){return this._anyControls(I=>I.touched)}_updatePristine(I,k){const G=!this._anyControlsDirty(),Z=this.pristine!==G;this.pristine=G,this._parent&&!I.onlySelf&&this._parent._updatePristine(I,k),Z&&this._events.next(new Xe(this.pristine,k))}_updateTouched(I={},k){this.touched=this._anyControlsTouched(),this._events.next(new hi(this.touched,k)),this._parent&&!I.onlySelf&&this._parent._updateTouched(I,k)}_onDisabledChange=[];_registerOnCollectionChange(I){this._onCollectionChange=I}_setUpdateStrategy(I){Pt(I)&&null!=I.updateOn&&(this._updateOn=I.updateOn)}_parentMarkedDirty(I){return!I&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(I){return null}_assignValidators(I){this._rawValidators=Array.isArray(I)?I.slice():I,this._composedValidatorFn=function Vt(C){return Array.isArray(C)?Xn(C):C||null}(this._rawValidators)}_assignAsyncValidators(I){this._rawAsyncValidators=Array.isArray(I)?I.slice():I,this._composedAsyncValidatorFn=function ft(C){return Array.isArray(C)?di(C):C||null}(this._rawAsyncValidators)}}class Ti extends Tt{constructor(I,k,G){super(cn(k),wi(G,k)),this.controls=I,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(I,k){return this.controls[I]?this.controls[I]:(this.controls[I]=k,k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange),k)}addControl(I,k,G={}){this.registerControl(I,k),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}removeControl(I,k={}){this.controls[I]&&this.controls[I]._registerOnCollectionChange(()=>{}),delete this.controls[I],this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}setControl(I,k,G={}){this.controls[I]&&this.controls[I]._registerOnCollectionChange(()=>{}),delete this.controls[I],k&&this.registerControl(I,k),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}contains(I){return this.controls.hasOwnProperty(I)&&this.controls[I].enabled}setValue(I,k={}){bi(this,0,I),Object.keys(I).forEach(G=>{pi(this,!0,G),this.controls[G].setValue(I[G],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(I,k={}){null!=I&&(Object.keys(I).forEach(G=>{const Z=this.controls[G];Z&&Z.patchValue(I[G],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(I={},k={}){this._forEachChild((G,Z)=>{G.reset(I?I[Z]:null,{...k,onlySelf:!0})}),this._updatePristine(k,this),this._updateTouched(k,this),this.updateValueAndValidity(k),!1!==k?.emitEvent&&this._events.next(new Qt(this))}getRawValue(){return this._reduceChildren({},(I,k,G)=>(I[G]=k.getRawValue(),I))}_syncPendingControls(){let I=this._reduceChildren(!1,(k,G)=>!!G._syncPendingControls()||k);return I&&this.updateValueAndValidity({onlySelf:!0}),I}_forEachChild(I){Object.keys(this.controls).forEach(k=>{const G=this.controls[k];G&&I(G,k)})}_setUpControls(){this._forEachChild(I=>{I.setParent(this),I._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(I){for(const[k,G]of Object.entries(this.controls))if(this.contains(k)&&I(G))return!0;return!1}_reduceValue(){return this._reduceChildren({},(k,G,Z)=>((G.enabled||this.disabled)&&(k[Z]=G.value),k))}_reduceChildren(I,k){let G=I;return this._forEachChild((Z,We)=>{G=k(G,Z,We)}),G}_allControlsDisabled(){for(const I of Object.keys(this.controls))if(this.controls[I].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(I){return this.controls.hasOwnProperty(I)?this.controls[I]:null}}const vn=new m.nKC("",{factory:()=>Zi}),Zi="always";function fr(C,I){return[...I.path,C]}function or(C,I,k=Zi){er(C,I),I.valueAccessor.writeValue(C.value),(C.disabled||"always"===k)&&I.valueAccessor.setDisabledState?.(C.disabled),function Sa(C,I){I.valueAccessor.registerOnChange(k=>{C._pendingValue=k,C._pendingChange=!0,C._pendingDirty=!0,"change"===C.updateOn&&Q(C,I)})}(C,I),function j(C,I){const k=(G,Z)=>{I.valueAccessor.writeValue(G),Z&&I.viewToModelUpdate(G)};C.registerOnChange(k),I._registerOnDestroy(()=>{C._unregisterOnChange(k)})}(C,I),function F(C,I){I.valueAccessor.registerOnTouched(()=>{C._pendingTouched=!0,"blur"===C.updateOn&&C._pendingChange&&Q(C,I),"submit"!==C.updateOn&&C.markAsTouched()})}(C,I),function Vr(C,I){if(I.valueAccessor.setDisabledState){const k=G=>{I.valueAccessor.setDisabledState(G)};C.registerOnDisabledChange(k),I._registerOnDestroy(()=>{C._unregisterOnDisabledChange(k)})}}(C,I)}function bn(C,I,k=!0){const G=()=>{};I.valueAccessor&&(I.valueAccessor.registerOnChange(G),I.valueAccessor.registerOnTouched(G)),Cn(C,I),C&&(I._invokeOnDestroyCallbacks(),C._registerOnCollectionChange(()=>{}))}function An(C,I){C.forEach(k=>{k.registerOnValidatorChange&&k.registerOnValidatorChange(I)})}function er(C,I){const k=gr(C);null!==I.validator?C.setValidators(Ii(k,I.validator)):"function"==typeof k&&C.setValidators([k]);const G=On(C);null!==I.asyncValidator?C.setAsyncValidators(Ii(G,I.asyncValidator)):"function"==typeof G&&C.setAsyncValidators([G]);const Z=()=>C.updateValueAndValidity();An(I._rawValidators,Z),An(I._rawAsyncValidators,Z)}function Cn(C,I){let k=!1;if(null!==C){if(null!==I.validator){const Z=gr(C);if(Array.isArray(Z)&&Z.length>0){const We=Z.filter(ct=>ct!==I.validator);We.length!==Z.length&&(k=!0,C.setValidators(We))}}if(null!==I.asyncValidator){const Z=On(C);if(Array.isArray(Z)&&Z.length>0){const We=Z.filter(ct=>ct!==I.asyncValidator);We.length!==Z.length&&(k=!0,C.setAsyncValidators(We))}}}const G=()=>{};return An(I._rawValidators,G),An(I._rawAsyncValidators,G),k}function Q(C,I){C._pendingDirty&&C.markAsDirty(),C.setValue(C._pendingValue,{emitModelToViewChange:!1}),I.viewToModelUpdate(C._pendingValue),C._pendingChange=!1}function jt(C,I){if(!C.hasOwnProperty("model"))return!1;const k=C.model;return!!k.isFirstChange()||!Object.is(I,k.currentValue)}function Kt(C,I){if(!I)return null;let k,G,Z;return Array.isArray(I),I.forEach(We=>{We.constructor===Oe?k=We:function Et(C){return Object.getPrototypeOf(C.constructor)===Mi}(We)?G=We:Z=We}),Z||G||k||null}function jn(C,I){const k=C.indexOf(I);k>-1&&C.splice(k,1)}function Cr(C){return"object"==typeof C&&null!==C&&2===Object.keys(C).length&&"value"in C&&"disabled"in C}Promise.resolve();const Dn=class extends Tt{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(I=null,k,G){super(cn(k),wi(G,k)),this._applyFormState(I),this._setUpdateStrategy(k),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pt(k)&&(k.nonNullable||k.initialValueIsDefault)&&(this.defaultValue=Cr(I)?I.value:I)}setValue(I,k={}){this.value=this._pendingValue=I,this._onChange.length&&!1!==k.emitModelToViewChange&&this._onChange.forEach(G=>G(this.value,!1!==k.emitViewToModelChange)),this.updateValueAndValidity(k)}patchValue(I,k={}){this.setValue(I,k)}reset(I=this.defaultValue,k={}){this._applyFormState(I),this.markAsPristine(k),this.markAsUntouched(k),this.setValue(this.value,k),k.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,!1!==k?.emitEvent&&this._events.next(new Qt(this))}_updateValue(){}_anyControls(I){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(I){this._onChange.push(I)}_unregisterOnChange(I){jn(this._onChange,I)}registerOnDisabledChange(I){this._onDisabledChange.push(I)}_unregisterOnDisabledChange(I){jn(this._onDisabledChange,I)}_forEachChild(I){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(I){Cr(I)?(this.value=this._pendingValue=I.value,I.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=I}},vc={provide:Bi,useExisting:(0,m.Rfq)(()=>to)},_a=Promise.resolve();let to=(()=>{class C extends Bi{_changeDetectorRef;callSetDisabledState;control=new Dn;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new m.bkB;constructor(k,G,Z,We,ct,qt){super(),this._changeDetectorRef=ct,this.callSetDisabledState=qt,this._parent=k,this._setValidators(G),this._setAsyncValidators(Z),this.valueAccessor=Kt(0,We)}ngOnChanges(k){if(this._checkForErrors(),!this._registered||"name"in k){if(this._registered&&(this._checkName(),this.formDirective)){const G=k.name.previousValue;this.formDirective.removeControl({name:G,path:this._getPath(G)})}this._setUpControl()}"isDisabled"in k&&this._updateDisabled(k),jt(k,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){or(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(k){_a.then(()=>{this.control.setValue(k,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(k){const G=k.isDisabled.currentValue,Z=0!==G&&(0,yt.L39)(G);_a.then(()=>{Z&&!this.control.disabled?this.control.disable():!Z&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(k){return this._parent?fr(k,this._parent):[k]}static \u0275fac=function(G){return new(G||C)(T.rXU(ri,9),T.rXU(lt,10),T.rXU(Ni,10),T.rXU(vt,10),T.rXU(yt.gRc,8),T.rXU(vn,8))};static \u0275dir=T.FsC({type:C,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[T.Jv_([vc]),T.Vt3,T.OA$]})}return C})(),aa=(()=>{class C{static \u0275fac=function(G){return new(G||C)};static \u0275dir=T.FsC({type:C,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return C})();const Ct={provide:vt,useExisting:(0,m.Rfq)(()=>X),multi:!0};let X=(()=>{class C extends Mi{writeValue(k){this.setProperty("value",k??"")}registerOnChange(k){this.onChange=G=>{k(""==G?null:parseFloat(G))}}static \u0275fac=(()=>{let k;return function(Z){return(k||(k=T.xGo(C)))(Z||C)}})();static \u0275dir=T.FsC({type:C,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(G,Z){1&G&&T.bIt("input",function(ct){return Z.onChange(ct.target.value)})("blur",function(){return Z.onTouched()})},standalone:!1,features:[T.Jv_([Ct]),T.Vt3]})}return C})();class yr extends Tt{constructor(I,k,G){super(cn(k),wi(G,k)),this.controls=I,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(I){return this.controls[this._adjustIndex(I)]}push(I,k={}){Array.isArray(I)?I.forEach(G=>{this.controls.push(G),this._registerControl(G)}):(this.controls.push(I),this._registerControl(I)),this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}insert(I,k,G={}){this.controls.splice(I,0,k),this._registerControl(k),this.updateValueAndValidity({emitEvent:G.emitEvent})}removeAt(I,k={}){let G=this._adjustIndex(I);G<0&&(G=0),this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),this.controls.splice(G,1),this.updateValueAndValidity({emitEvent:k.emitEvent})}setControl(I,k,G={}){let Z=this._adjustIndex(I);Z<0&&(Z=0),this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),this.controls.splice(Z,1),k&&(this.controls.splice(Z,0,k),this._registerControl(k)),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(I,k={}){bi(this,0,I),I.forEach((G,Z)=>{pi(this,!1,Z),this.at(Z).setValue(G,{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(I,k={}){null!=I&&(I.forEach((G,Z)=>{this.at(Z)&&this.at(Z).patchValue(G,{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(I=[],k={}){this._forEachChild((G,Z)=>{G.reset(I[Z],{...k,onlySelf:!0})}),this._updatePristine(k,this),this._updateTouched(k,this),this.updateValueAndValidity(k),!1!==k?.emitEvent&&this._events.next(new Qt(this))}getRawValue(){return this.controls.map(I=>I.getRawValue())}clear(I={}){this.controls.length<1||(this._forEachChild(k=>k._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:I.emitEvent}))}_adjustIndex(I){return I<0?I+this.length:I}_syncPendingControls(){let I=this.controls.reduce((k,G)=>!!G._syncPendingControls()||k,!1);return I&&this.updateValueAndValidity({onlySelf:!0}),I}_forEachChild(I){this.controls.forEach((k,G)=>{I(k,G)})}_updateValue(){this.value=this.controls.filter(I=>I.enabled||this.disabled).map(I=>I.value)}_anyControls(I){return this.controls.some(k=>k.enabled&&I(k))}_setUpControls(){this._forEachChild(I=>this._registerControl(I))}_allControlsDisabled(){for(const I of this.controls)if(I.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(I){I.setParent(this),I._registerOnCollectionChange(this._onCollectionChange)}_find(I){return this.at(I)??null}}let $=(()=>{class C extends ri{callSetDisabledState;get submitted(){return(0,m.O8t)(this._submittedReactive)}set submitted(k){this._submittedReactive.set(k)}_submitted=ce(()=>this._submittedReactive());_submittedReactive=(0,m.vPA)(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(k,G,Z){super(),this.callSetDisabledState=Z,this._setValidators(k),this._setAsyncValidators(G)}ngOnChanges(k){this.onChanges(k)}ngOnDestroy(){this.onDestroy()}onChanges(k){this._checkFormPresent(),k.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(Cn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(k){const G=this.form.get(k.path);return or(G,k,this.callSetDisabledState),G.updateValueAndValidity({emitEvent:!1}),this.directives.push(k),G}getControl(k){return this.form.get(k.path)}removeControl(k){bn(k.control||null,k,!1),function li(C,I){const k=C.indexOf(I);k>-1&&C.splice(k,1)}(this.directives,k)}addFormGroup(k){this._setUpFormContainer(k)}removeFormGroup(k){this._cleanUpFormContainer(k)}getFormGroup(k){return this.form.get(k.path)}getFormArray(k){return this.form.get(k.path)}addFormArray(k){this._setUpFormContainer(k)}removeFormArray(k){this._cleanUpFormContainer(k)}updateModel(k,G){this.form.get(k.path).setValue(G)}onReset(){this.resetForm()}resetForm(k=void 0,G={}){this.form.reset(k,G),this._submittedReactive.set(!1)}onSubmit(k){return this.submitted=!0,function fi(C,I){C._syncPendingControls(),I.forEach(k=>{const G=k.control;"submit"===G.updateOn&&G._pendingChange&&(k.viewToModelUpdate(G._pendingValue),G._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(k),this.form._events.next(new ti(this.control)),"dialog"===k?.target?.method}_updateDomValue(){this.directives.forEach(k=>{const G=k.control,Z=this.form.get(k.path);G!==Z&&(bn(G||null,k),(C=>C instanceof Dn)(Z)&&(or(Z,k,this.callSetDisabledState),k.control=Z))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(k){const G=this.form.get(k.path);(function W(C,I){er(C,I)})(G,k),G.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(k){if(this.form){const G=this.form.get(k.path);G&&function de(C,I){return Cn(C,I)}(G,k)&&G.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){er(this.form,this),this._oldForm&&Cn(this._oldForm,this)}_checkFormPresent(){}static \u0275fac=function(G){return new(G||C)(T.rXU(lt,10),T.rXU(Ni,10),T.rXU(vn,8))};static \u0275dir=T.FsC({type:C,features:[T.Vt3,T.OA$]})}return C})();const J=new m.nKC(""),st={provide:Bi,useExisting:(0,m.Rfq)(()=>zt)};let zt=(()=>{class C extends Bi{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(k){}model;update=new m.bkB;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(k,G,Z,We,ct){super(),this._ngModelWarningConfig=ct,this._parent=k,this._setValidators(G),this._setAsyncValidators(Z),this.valueAccessor=Kt(0,We)}ngOnChanges(k){this._added||this._setUpControl(),jt(k,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}get path(){return fr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(G){return new(G||C)(T.rXU(ri,13),T.rXU(lt,10),T.rXU(Ni,10),T.rXU(vt,10),T.rXU(J,8))};static \u0275dir=T.FsC({type:C,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[T.Jv_([st]),T.Vt3,T.OA$]})}return C})();const Ki={provide:ri,useExisting:(0,m.Rfq)(()=>en)};let en=(()=>{class C extends ${form=null;ngSubmit=new m.bkB;get control(){return this.form}static \u0275fac=(()=>{let k;return function(Z){return(k||(k=T.xGo(C)))(Z||C)}})();static \u0275dir=T.FsC({type:C,selectors:[["","formGroup",""]],hostBindings:function(G,Z){1&G&&T.bIt("submit",function(ct){return Z.onSubmit(ct)})("reset",function(){return Z.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[T.Jv_([Ki]),T.Vt3]})}return C})();const Ai={provide:vt,useExisting:(0,m.Rfq)(()=>nr),multi:!0};function Ci(C,I){return null==C?`${I}`:(I&&"object"==typeof I&&(I="Object"),`${C}: ${I}`.slice(0,50))}let nr=(()=>{class C extends Mi{value;_optionMap=new Map;_idCounter=0;set compareWith(k){this._compareWith=k}_compareWith=Object.is;appRefInjector=(0,m.WQX)(T.o8S).injector;destroyRef=(0,m.WQX)(m.abz);cdr=(0,m.WQX)(yt.gRc);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,(0,T.mal)({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(k){this.cdr.markForCheck(),this.value=k;const Z=Ci(this._getOptionId(k),k);this.setProperty("value",Z)}registerOnChange(k){this.onChange=G=>{this.value=this._getOptionValue(G),k(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(k){for(const G of this._optionMap.keys())if(this._compareWith(this._optionMap.get(G),k))return G;return null}_getOptionValue(k){const G=function Xr(C){return C.split(":")[0]}(k);return this._optionMap.has(G)?this._optionMap.get(G):k}static \u0275fac=(()=>{let k;return function(Z){return(k||(k=T.xGo(C)))(Z||C)}})();static \u0275dir=T.FsC({type:C,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(G,Z){1&G&&T.bIt("change",function(ct){return Z.onChange(ct.target.value)})("blur",function(){return Z.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[T.Jv_([Ai]),T.Vt3]})}return C})(),oa=(()=>{class C{_element;_renderer;_select;id;constructor(k,G,Z){this._element=k,this._renderer=G,this._select=Z,this._select&&(this.id=this._select._registerOption())}set ngValue(k){null!=this._select&&(this._select._optionMap.set(this.id,k),this._setElementValue(Ci(this.id,k)),this._select._writeValueAfterRender())}set value(k){this._setElementValue(k),this._select&&this._select._writeValueAfterRender()}_setElementValue(k){this._renderer.setProperty(this._element.nativeElement,"value",k)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(G){return new(G||C)(T.rXU(T.aKT),T.rXU(T.sFG),T.rXU(nr,9))};static \u0275dir=T.FsC({type:C,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return C})();const Jr={provide:vt,useExisting:(0,m.Rfq)(()=>vr),multi:!0};function No(C,I){return null==C?`${I}`:("string"==typeof I&&(I=`'${I}'`),I&&"object"==typeof I&&(I="Object"),`${C}: ${I}`.slice(0,50))}let vr=(()=>{class C extends Mi{value;_optionMap=new Map;_idCounter=0;set compareWith(k){this._compareWith=k}_compareWith=Object.is;writeValue(k){let G;if(this.value=k,Array.isArray(k)){const Z=k.map(We=>this._getOptionId(We));G=(We,ct)=>{We._setSelected(Z.indexOf(ct.toString())>-1)}}else G=(Z,We)=>{Z._setSelected(!1)};this._optionMap.forEach(G)}registerOnChange(k){this.onChange=G=>{const Z=[],We=G.selectedOptions;if(void 0!==We){const ct=We;for(let qt=0;qt<ct.length;qt++){const Ir=this._getOptionValue(ct[qt].value);Z.push(Ir)}}else{const ct=G.options;for(let qt=0;qt<ct.length;qt++){const zi=ct[qt];if(zi.selected){const Ir=this._getOptionValue(zi.value);Z.push(Ir)}}}this.value=Z,k(Z)}}_registerOption(k){const G=(this._idCounter++).toString();return this._optionMap.set(G,k),G}_getOptionId(k){for(const G of this._optionMap.keys())if(this._compareWith(this._optionMap.get(G)._value,k))return G;return null}_getOptionValue(k){const G=function wa(C){return C.split(":")[0]}(k);return this._optionMap.has(G)?this._optionMap.get(G)._value:k}static \u0275fac=(()=>{let k;return function(Z){return(k||(k=T.xGo(C)))(Z||C)}})();static \u0275dir=T.FsC({type:C,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(G,Z){1&G&&T.bIt("change",function(ct){return Z.onChange(ct.target)})("blur",function(){return Z.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[T.Jv_([Jr]),T.Vt3]})}return C})(),Ta=(()=>{class C{_element;_renderer;_select;id;_value;constructor(k,G,Z){this._element=k,this._renderer=G,this._select=Z,this._select&&(this.id=this._select._registerOption(this))}set ngValue(k){null!=this._select&&(this._value=k,this._setElementValue(No(this.id,k)),this._select.writeValue(this._select.value))}set value(k){this._select?(this._value=k,this._setElementValue(No(this.id,k)),this._select.writeValue(this._select.value)):this._setElementValue(k)}_setElementValue(k){this._renderer.setProperty(this._element.nativeElement,"value",k)}_setSelected(k){this._renderer.setProperty(this._element.nativeElement,"selected",k)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(G){return new(G||C)(T.rXU(T.aKT),T.rXU(T.sFG),T.rXU(vr,9))};static \u0275dir=T.FsC({type:C,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return C})();function qs(C){return"number"==typeof C?C:parseFloat(C)}let Qr=(()=>{class C{_validator=Ht;_onChange;_enabled;ngOnChanges(k){if(this.inputName in k){const G=this.normalizeInput(k[this.inputName].currentValue);this._enabled=this.enabled(G),this._validator=this._enabled?this.createValidator(G):Ht,this._onChange&&this._onChange()}}validate(k){return this._validator(k)}registerOnValidatorChange(k){this._onChange=k}enabled(k){return null!=k}static \u0275fac=function(G){return new(G||C)};static \u0275dir=T.FsC({type:C,features:[T.OA$]})}return C})();const bc={provide:lt,useExisting:(0,m.Rfq)(()=>Ac),multi:!0};let Ac=(()=>{class C extends Qr{max;inputName="max";normalizeInput=k=>qs(k);createValidator=k=>Ke(k);static \u0275fac=(()=>{let k;return function(Z){return(k||(k=T.xGo(C)))(Z||C)}})();static \u0275dir=T.FsC({type:C,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(G,Z){2&G&&T.BMQ("max",Z._enabled?Z.max:null)},inputs:{max:"max"},standalone:!1,features:[T.Jv_([bc]),T.Vt3]})}return C})();const FA={provide:lt,useExisting:(0,m.Rfq)(()=>br),multi:!0};let br=(()=>{class C extends Qr{min;inputName="min";normalizeInput=k=>qs(k);createValidator=k=>Be(k);static \u0275fac=(()=>{let k;return function(Z){return(k||(k=T.xGo(C)))(Z||C)}})();static \u0275dir=T.FsC({type:C,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(G,Z){2&G&&T.BMQ("min",Z._enabled?Z.min:null)},inputs:{min:"min"},standalone:!1,features:[T.Jv_([FA]),T.Vt3]})}return C})();const Sc={provide:lt,useExisting:(0,m.Rfq)(()=>io),multi:!0};let io=(()=>{class C extends Qr{required;inputName="required";normalizeInput=yt.L39;createValidator=k=>ke;enabled(k){return k}static \u0275fac=(()=>{let k;return function(Z){return(k||(k=T.xGo(C)))(Z||C)}})();static \u0275dir=T.FsC({type:C,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(G,Z){2&G&&T.BMQ("required",Z._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[T.Jv_([Sc]),T.Vt3]})}return C})(),ao=(()=>{class C{static \u0275fac=function(G){return new(G||C)};static \u0275mod=T.$C({type:C});static \u0275inj=m.G2t({})}return C})(),kd=(()=>{class C{static withConfig(k){return{ngModule:C,providers:[{provide:vn,useValue:k.callSetDisabledState??Zi}]}}static \u0275fac=function(G){return new(G||C)};static \u0275mod=T.$C({type:C});static \u0275inj=m.G2t({imports:[ao]})}return C})(),Ws=(()=>{class C{static withConfig(k){return{ngModule:C,providers:[{provide:J,useValue:k.warnOnNgModelWithFormControl??"always"},{provide:vn,useValue:k.callSetDisabledState??Zi}]}}static \u0275fac=function(G){return new(G||C)};static \u0275mod=T.$C({type:C});static \u0275inj=m.G2t({imports:[ao]})}return C})()},5152(fe,K,w){w.d(K,{A:()=>x});var T=w(6509);const x=function m(q){var P=new q.constructor(q.byteLength);return new T.A(P).set(new T.A(q)),P}},5241(fe,K,w){function T(m){return m}w.d(K,{D:()=>T})},5253(fe,K,w){w.d(K,{X:()=>T});const T=m=>m&&"number"==typeof m.length&&"function"!=typeof m},5267(fe,K,w){w.d(K,{A:()=>P});var T=w(6944),m=T.A?T.A.prototype:void 0,x=m?m.valueOf:void 0;const P=function q(p){return x?Object(x.call(p)):{}}},5286(fe,K,w){w.d(K,{B7:()=>ne});var T=w(7389),m=w(762),x=w(1805),q=w(2145),P=w(1259),p=w(91);class ee extends m.v{constructor(ce){super(ce),this.destination=ce}}let ne=(()=>{class le extends T.c{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p.D](){return new ee(this)}lift(me){const Ee=new te(this,this);return Ee.operator=me,Ee}next(me){if(this.closed)throw new q.P;if(!this.isStopped){const{observers:Ee}=this,He=Ee.length,Je=Ee.slice();for(let Qe=0;Qe<He;Qe++)Je[Qe].next(me)}}error(me){if(this.closed)throw new q.P;this.hasError=!0,this.thrownError=me,this.isStopped=!0;const{observers:Ee}=this,He=Ee.length,Je=Ee.slice();for(let Qe=0;Qe<He;Qe++)Je[Qe].error(me);this.observers.length=0}complete(){if(this.closed)throw new q.P;this.isStopped=!0;const{observers:me}=this,Ee=me.length,He=me.slice();for(let Je=0;Je<Ee;Je++)He[Je].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(me){if(this.closed)throw new q.P;return super._trySubscribe(me)}_subscribe(me){if(this.closed)throw new q.P;return this.hasError?(me.error(this.thrownError),x.y.EMPTY):this.isStopped?(me.complete(),x.y.EMPTY):(this.observers.push(me),new P.Y(this,me))}asObservable(){const me=new T.c;return me.source=this,me}}return le.create=(ce,me)=>new te(ce,me),le})();class te extends ne{constructor(ce,me){super(),this.destination=ce,this.source=me}next(ce){const{destination:me}=this;me&&me.next&&me.next(ce)}error(ce){const{destination:me}=this;me&&me.error&&this.destination.error(ce)}complete(){const{destination:ce}=this;ce&&ce.complete&&this.destination.complete()}_subscribe(ce){const{source:me}=this;return me?this.source.subscribe(ce):x.y.EMPTY}}},5481(fe,K,w){w.d(K,{A:()=>x});const x=function m(q){return"number"==typeof q&&q>-1&&q%1==0&&q<=9007199254740991}},5525(fe,K,w){w.d(K,{A:()=>q});var T=w(3126),m=w(1885);const q=function x(P,p){var ee=(0,m.A)(P,p);return(0,T.A)(ee)?ee:void 0}},5547(fe,K,w){w.d(K,{$C:()=>GP,$Ln:()=>cp,$o8:()=>Yr,AVh:()=>Xu,Ab1:()=>Po,Agw:()=>L,B4B:()=>km,BIS:()=>J,BMQ:()=>Cu,C4Q:()=>rs,C5r:()=>wg,C7A:()=>r_,Co$:()=>NP,DH7:()=>Dk,DNE:()=>iy,DUP:()=>M,DkB:()=>Kv,EFF:()=>og,EJ8:()=>jP,Ef8:()=>ut,FsC:()=>HP,GBs:()=>bb,H1s:()=>A_,HbH:()=>vk,Hgh:()=>$u,JRh:()=>dg,Jt5:()=>Fp,Jv_:()=>Nk,KED:()=>O0,LHq:()=>Qu,LVR:()=>E_,Lme:()=>Ju,NCX:()=>vh,NOj:()=>nS,NSC:()=>ic,NYb:()=>XC,OA$:()=>ei,Ocv:()=>fA,PLl:()=>$,PeT:()=>ny,R50:()=>ed,R7$:()=>Mm,RV6:()=>q_,SpI:()=>hg,TFI:()=>ql,UQu:()=>gA,VBU:()=>BP,VeQ:()=>Se,Vt3:()=>ey,VzW:()=>FP,XpG:()=>Yp,Y8G:()=>$v,YEm:()=>Mr,Zhj:()=>ZE,_9s:()=>Fr,_9u:()=>Hs,_jY:()=>_n,_qm:()=>Pt,_ys:()=>hS,a8H:()=>bl,aCM:()=>Lr,aKT:()=>Tt,bH1:()=>OP,bIt:()=>Vu,bVm:()=>Gu,c1b:()=>Gh,cDI:()=>n_,cdK:()=>up,czy:()=>Qd,d80:()=>K0,dOL:()=>y_,dfE:()=>kT,e6s:()=>K_,eHC:()=>$h,eq3:()=>Sg,eux:()=>xp,gXe:()=>Ar,j41:()=>Mp,k0s:()=>Zl,kBR:()=>ju,kS0:()=>Ae,lJ4:()=>Fk,lJT:()=>S_,lsd:()=>lk,mGM:()=>Xp,mS5:()=>Oe,mY:()=>pe,mal:()=>Lm,mxI:()=>td,nrm:()=>Gv,nv$:()=>mp,o8S:()=>wu,ozJ:()=>Ll,pl0:()=>QC,qex:()=>tc,rXU:()=>Oa,rj2:()=>ec,rpG:()=>cw,s1E:()=>Ok,sFG:()=>Vn,sZ2:()=>yr,sdS:()=>uk,sgu:()=>Yf,uiO:()=>Ye,utN:()=>wE,vDg:()=>hP,w6W:()=>LP,xGo:()=>Ur,xc7:()=>kb,xe9:()=>uw,yLl:()=>Oy,ypd:()=>$y,ziG:()=>Yb,zoo:()=>Zd});var T=w(467),m=w(7868),x=w(5824),q=w(5286),P=w(1805),p=w(5006);function ee(o){return{toString:o}.toString()}const ne="__annotations__",te="__parameters__",le="__prop__metadata__";function ce(o,l,d,g,f){return ee(()=>{const y=me(l);function v(...A){if(this instanceof v)return y.call(this,...A),this;const _=new v(...A);return function(O){return f&&f(O,...A),(O.hasOwnProperty(ne)?O[ne]:Object.defineProperty(O,ne,{value:[]})[ne]).push(_),O}}return d&&(v.prototype=Object.create(d.prototype)),v.prototype.ngMetadataName=o,v.annotationCls=v,v})}function me(o){return function(...d){if(o){const g=o(...d);for(const f in g)this[f]=g[f]}}}function Ee(o,l,d){return ee(()=>{const g=me(l);function f(...y){if(this instanceof f)return g.apply(this,y),this;const v=new f(...y);return A.annotation=v,A;function A(_,R,O){const V=_.hasOwnProperty(te)?_[te]:Object.defineProperty(_,te,{value:[]})[te];for(;V.length<=O;)V.push(null);return(V[O]=V[O]||[]).push(v),_}}return f.prototype.ngMetadataName=o,f.annotationCls=f,f})}const Je=(0,m.z6V)(Ee("Inject",o=>({token:o})),-1),Qe=(0,m.z6V)(Ee("Optional"),8),At=(0,m.z6V)(Ee("Self"),2),tt=(0,m.z6V)(Ee("SkipSelf"),4),mt=(0,m.z6V)(Ee("Host"),1);function Ye(o){const l=m.laP.ng;if(l&&l.\u0275compilerFacade)return l.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const Nt={\u0275\u0275defineInjectable:m.jDH,\u0275\u0275defineInjector:m.G2t,\u0275\u0275inject:m.KVO,\u0275\u0275invalidFactoryDep:m.dmw,resolveForwardRef:m.nl4},Zt=Function;function kt(o){return"function"==typeof o}const ii=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,It=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,si=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,xt=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class Li{_reflect;constructor(l){this._reflect=l||m.laP.Reflect}factory(l){return(...d)=>new l(...d)}_zipTypesAndAnnotations(l,d){let g;g=(0,m.WfI)(typeof l>"u"?d.length:l.length);for(let f=0;f<g.length;f++)g[f]=typeof l>"u"?[]:l[f]&&l[f]!=Object?[l[f]]:[],d&&null!=d[f]&&(g[f]=g[f].concat(d[f]));return g}_ownParameters(l,d){if(function yt(o){return ii.test(o)||xt.test(o)||It.test(o)&&!si.test(o)}(l.toString()))return null;if(l.parameters&&l.parameters!==d.parameters)return l.parameters;const f=l.ctorParameters;if(f&&f!==d.ctorParameters){const A="function"==typeof f?f():f,_=A.map(O=>O&&O.type),R=A.map(O=>O&&mi(O.decorators));return this._zipTypesAndAnnotations(_,R)}const y=l.hasOwnProperty(te)&&l[te],v=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",l);return v||y?this._zipTypesAndAnnotations(v,y):(0,m.WfI)(l.length)}parameters(l){if(!kt(l))return[];const d=Ut(l);let g=this._ownParameters(l,d);return!g&&d!==Object&&(g=this.parameters(d)),g||[]}_ownAnnotations(l,d){if(l.annotations&&l.annotations!==d.annotations){let g=l.annotations;return"function"==typeof g&&g.annotations&&(g=g.annotations),g}return l.decorators&&l.decorators!==d.decorators?mi(l.decorators):l.hasOwnProperty(ne)?l[ne]:null}annotations(l){if(!kt(l))return[];const d=Ut(l),g=this._ownAnnotations(l,d)||[];return(d!==Object?this.annotations(d):[]).concat(g)}_ownPropMetadata(l,d){if(l.propMetadata&&l.propMetadata!==d.propMetadata){let g=l.propMetadata;return"function"==typeof g&&g.propMetadata&&(g=g.propMetadata),g}if(l.propDecorators&&l.propDecorators!==d.propDecorators){const g=l.propDecorators,f={};return Object.keys(g).forEach(y=>{f[y]=mi(g[y])}),f}return l.hasOwnProperty(le)?l[le]:null}propMetadata(l){if(!kt(l))return{};const d=Ut(l),g={};if(d!==Object){const y=this.propMetadata(d);Object.keys(y).forEach(v=>{g[v]=y[v]})}const f=this._ownPropMetadata(l,d);return f&&Object.keys(f).forEach(y=>{const v=[];g.hasOwnProperty(y)&&v.push(...g[y]),v.push(...f[y]),g[y]=v}),g}ownPropMetadata(l){return kt(l)&&this._ownPropMetadata(l,Ut(l))||{}}hasLifecycleHook(l,d){return l instanceof Zt&&d in l.prototype}}function mi(o){return o?o.map(l=>new(0,l.type.annotationCls)(...l.args?l.args:[])):[]}function Ut(o){const l=o.prototype?Object.getPrototypeOf(o.prototype):null;return(l?l.constructor:null)||Object}function Ui(o,l,d,g){null!==l?l.applyValueToInputSignal(l,g):o[d]=g}class kn{previousValue;currentValue;firstChange;constructor(l,d,g){this.previousValue=l,this.currentValue=d,this.firstChange=g}isFirstChange(){return this.firstChange}}const ei=(()=>{const o=()=>Xi;return o.ngInherit=!0,o})();function Xi(o){return o.type.prototype.ngOnChanges&&(o.setInput=Vi),Wi}function Wi(){const o=Mi(this),l=o?.current;if(l){const d=o.previous;if(d===m.MZA)o.previous=l;else for(let g in l)d[g]=l[g];o.current=null,this.ngOnChanges(l)}}function Vi(o,l,d,g,f){const y=this.declaredInputs[g],v=Mi(o)||function vt(o,l){return o[rn]=l}(o,{previous:m.MZA,current:null}),A=v.current||(v.current={}),_=v.previous,R=_[y];A[y]=new kn(R&&R.currentValue,d,_===m.MZA),Ui(o,l,f,d)}const rn="__ngSimpleChanges__";function Mi(o){return o[rn]||null}const it=[],ut=function(o,l=null,d){for(let g=0;g<it.length;g++)(0,it[g])(o,l,d)};var Oe=function(o){return o[o.TemplateCreateStart=0]="TemplateCreateStart",o[o.TemplateCreateEnd=1]="TemplateCreateEnd",o[o.TemplateUpdateStart=2]="TemplateUpdateStart",o[o.TemplateUpdateEnd=3]="TemplateUpdateEnd",o[o.LifecycleHookStart=4]="LifecycleHookStart",o[o.LifecycleHookEnd=5]="LifecycleHookEnd",o[o.OutputStart=6]="OutputStart",o[o.OutputEnd=7]="OutputEnd",o[o.BootstrapApplicationStart=8]="BootstrapApplicationStart",o[o.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",o[o.BootstrapComponentStart=10]="BootstrapComponentStart",o[o.BootstrapComponentEnd=11]="BootstrapComponentEnd",o[o.ChangeDetectionStart=12]="ChangeDetectionStart",o[o.ChangeDetectionEnd=13]="ChangeDetectionEnd",o[o.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",o[o.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",o[o.AfterRenderHooksStart=16]="AfterRenderHooksStart",o[o.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",o[o.ComponentStart=18]="ComponentStart",o[o.ComponentEnd=19]="ComponentEnd",o[o.DeferBlockStateStart=20]="DeferBlockStateStart",o[o.DeferBlockStateEnd=21]="DeferBlockStateEnd",o[o.DynamicComponentStart=22]="DynamicComponentStart",o[o.DynamicComponentEnd=23]="DynamicComponentEnd",o[o.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",o[o.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",o}(Oe||{});function pn(o,l){for(let d=l.directiveStart,g=l.directiveEnd;d<g;d++){const y=o.data[d].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:A,ngAfterViewInit:_,ngAfterViewChecked:R,ngOnDestroy:O}=y;v&&(o.contentHooks??=[]).push(-d,v),A&&((o.contentHooks??=[]).push(d,A),(o.contentCheckHooks??=[]).push(d,A)),_&&(o.viewHooks??=[]).push(-d,_),R&&((o.viewHooks??=[]).push(d,R),(o.viewCheckHooks??=[]).push(d,R)),null!=O&&(o.destroyHooks??=[]).push(d,O)}}function lt(o,l,d){ge(o,l,3,d)}function Ni(o,l,d,g){(3&o[m.Wg1])===d&&ge(o,l,d,g)}function wt(o,l){let d=o[m.Wg1];(3&d)===l&&(d&=16383,d+=1,o[m.Wg1]=d)}function ge(o,l,d,g){const y=g??-1,v=l.length-1;let A=0;for(let _=void 0!==g?65535&o[m.wVl]:0;_<v;_++)if("number"==typeof l[_+1]){if(A=l[_],null!=g&&A>=g)break}else l[_]<0&&(o[m.wVl]+=65536),(A<y||-1==y)&&(Ke(o,d,l,_),o[m.wVl]=(4294901760&o[m.wVl])+_+2),_++}function Be(o,l){ut(Oe.LifecycleHookStart,o,l);const d=(0,x.Ht)(null);try{l.call(o)}finally{(0,x.Ht)(d),ut(Oe.LifecycleHookEnd,o,l)}}function Ke(o,l,d,g){const f=d[g]<0,y=d[g+1],A=o[f?-d[g]:d[g]];f?o[m.Wg1]>>14<o[m.wVl]>>16&&(3&o[m.Wg1])===l&&(o[m.Wg1]+=16384,Be(A,y)):Be(A,y)}class rt{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(l,d,g,f){this.factory=l,this.name=f,this.canSeeViewProviders=d,this.injectImpl=g}}function Jt(o){return null!=o&&"object"==typeof o&&(null===o.insertBeforeIndex||"number"==typeof o.insertBeforeIndex||Array.isArray(o.insertBeforeIndex))}function on(o){return 3===o||4===o||6===o}function Fi(o){return 64===o.charCodeAt(0)}function Oi(o,l){if(null!==l&&0!==l.length)if(null===o||0===o.length)o=l.slice();else{let d=-1;for(let g=0;g<l.length;g++){const f=l[g];"number"==typeof f?d=f:0===d||sn(o,d,f,0,-1===d||2===d?l[++g]:null)}}return o}function sn(o,l,d,g,f){let y=0,v=o.length;if(-1===l)v=-1;else for(;y<o.length;){const A=o[y++];if("number"==typeof A){if(A===l){v=-1;break}if(A>l){v=y-1;break}}}for(;y<o.length;){const A=o[y];if("number"==typeof A)break;if(A===d)return void(null!==f&&(o[y+1]=f));y++,null!==f&&y++}-1!==v&&(o.splice(v,0,l),y=v+1),o.splice(y++,0,d),null!==f&&o.splice(y++,0,f)}function Xn(o){return-1!==o}function xi(o){return 32767&o}function Ii(o,l){let d=function di(o){return o>>16}(o),g=l;for(;d>0;)g=g[m.X5O],d--;return g}let gr=!0;function On(o){const l=gr;return gr=o,l}let ar=0;const Hi={};function Bi(o,l){const d=Jn(o,l);if(-1!==d)return d;const g=l[m.eDl];g.firstCreatePass&&(o.injectorIndex=l.length,Qi(g.data,o),Qi(l,null),Qi(g.blueprint,null));const f=vi(o,l),y=o.injectorIndex;if(Xn(f)){const v=xi(f),A=Ii(f,l),_=A[m.eDl].data;for(let R=0;R<8;R++)l[y+R]=A[v+R]|_[v+R]}return l[y+8]=f,y}function Qi(o,l){o.push(0,0,0,0,0,0,0,0,l)}function Jn(o,l){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===l[o.injectorIndex+8]?-1:o.injectorIndex}function vi(o,l){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let d=0,g=null,f=l;for(;null!==f;){if(g=ie(f),null===g)return-1;if(d++,f=f[m.X5O],-1!==g.injectorIndex)return g.injectorIndex|d<<16}return-1}function mn(o,l,d){!function ri(o,l,d){let g;"string"==typeof d?g=d.charCodeAt(0)||0:d.hasOwnProperty(m.p9y)&&(g=d[m.p9y]),null==g&&(g=d[m.p9y]=ar++);const f=255&g;l.data[o+(f>>5)]|=1<<f}(o,l,d)}function Qn(o,l,d){if(8&d||void 0!==o)return o;(0,m.$Hz)(l,"NodeInjector")}function Hr(o,l,d,g){if(8&d&&void 0===g&&(g=null),!(3&d)){const f=o[m.YEL],y=(0,m.a2B)(void 0);try{return f?f.get(l,g,8&d):(0,m.MzJ)(l,g,8&d)}finally{(0,m.a2B)(y)}}return Qn(g,l,d)}function ki(o,l,d,g=0,f){if(null!==o){if(2048&l[m.Wg1]&&!(2&g)){const v=function oe(o,l,d,g,f){let y=o,v=l;for(;null!==y&&null!==v&&2048&v[m.Wg1]&&!(0,m.EFk)(v);){const A=yn(y,v,d,2|g,Hi);if(A!==Hi)return A;let _=y.parent;if(!_){const R=v[m.oMQ];if(R){const O=R.get(d,Hi,g);if(O!==Hi)return O}_=ie(v),v=v[m.X5O]}y=_}return f}(o,l,d,g,Hi);if(v!==Hi)return v}const y=yn(o,l,d,g,Hi);if(y!==Hi)return y}return Hr(l,d,g,f)}function yn(o,l,d,g,f){const y=function jr(o){if("string"==typeof o)return o.charCodeAt(0)||0;const l=o.hasOwnProperty(m.p9y)?o[m.p9y]:void 0;return"number"==typeof l?l>=0?255&l:qr:l}(d);if("function"==typeof y){if(!(0,m.ihb)(l,o,g))return 1&g?Qn(f,d,g):Hr(l,d,g,f);try{let v;if(v=y(g),null!=v||8&g)return v;(0,m.$Hz)(d)}finally{(0,m.niQ)()}}else if("number"==typeof y){let v=null,A=Jn(o,l),_=-1,R=1&g?l[m.b5C][m.qlT]:null;for((-1===A||4&g)&&(_=-1===A?vi(o,l):l[A+8],-1!==_&&Io(g,!1)?(v=l[m.eDl],A=xi(_),l=Ii(_,l)):A=-1);-1!==A;){const O=l[m.eDl];if(Aa(y,A,O.data)){const V=Tr(A,l,d,v,g,R);if(V!==Hi)return V}_=l[A+8],-1!==_&&Io(g,l[m.eDl].data[A+8]===R)&&Aa(y,A,l)?(v=O,A=xi(_),l=Ii(_,l)):A=-1}}return f}function Tr(o,l,d,g,f,y){const v=l[m.eDl],A=v.data[o+8],O=Zn(A,v,d,null==g?(0,m.Qs1)(A)&&gr:g!=v&&!!(3&A.type),1&f&&y===A);return null!==O?En(l,v,O,A,f):Hi}function Zn(o,l,d,g,f){const y=o.providerIndexes,v=l.data,A=1048575&y,_=o.directiveStart,O=y>>20,re=f?A+O:o.directiveEnd;for(let ae=g?A:A+O;ae<re;ae++){const ve=v[ae];if(ae<_&&d===ve||ae>=_&&ve.type===d)return ae}if(f){const ae=v[_];if(ae&&(0,m.JlV)(ae)&&ae.type===d)return _}return null}function En(o,l,d,g,f){let y=o[d];const v=l.data;if(y instanceof rt){const A=y;if(A.resolving){const ae=(0,m.PP7)(v[d]);throw(0,m.PQT)(ae)}const _=On(A.canSeeViewProviders);A.resolving=!0;const V=A.injectImpl?(0,m.a2B)(A.injectImpl):null;(0,m.ihb)(o,g,0);try{y=o[d]=A.factory(void 0,f,v,o,g),l.firstCreatePass&&d>=g.directiveStart&&function Wt(o,l,d){const{ngOnChanges:g,ngOnInit:f,ngDoCheck:y}=l.type.prototype;if(g){const v=Xi(l);(d.preOrderHooks??=[]).push(o,v),(d.preOrderCheckHooks??=[]).push(o,v)}f&&(d.preOrderHooks??=[]).push(0-o,f),y&&((d.preOrderHooks??=[]).push(o,y),(d.preOrderCheckHooks??=[]).push(o,y))}(d,v[d],l)}finally{null!==V&&(0,m.a2B)(V),On(_),A.resolving=!1,(0,m.niQ)()}}return y}function Aa(o,l,d){return!!(d[l+(o>>5)]&1<<o)}function Io(o,l){return!(2&o||1&o&&l)}class ai{_tNode;_lView;constructor(l,d){this._tNode=l,this._lView=d}get(l,d,g){return ki(this._tNode,this._lView,l,(0,m.hjC)(g),d)}}function qr(){return new ai((0,m.Mx4)(),(0,m.OAn)())}function Ur(o){return ee(()=>{const l=o.prototype.constructor,d=l[m.zSs]||z(l),g=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==g;){const y=f[m.zSs]||z(f);if(y&&y!==d)return y;f=Object.getPrototypeOf(f)}return y=>new y})}function z(o){return(0,m.Jzi)(o)?()=>{const l=z((0,m.nl4)(o));return l&&l()}:(0,m.wGu)(o)}function ie(o){const l=o[m.eDl],d=l.type;return 2===d?l.declTNode:1===d?o[m.qlT]:null}function Ae(o){return function fn(o,l){if("class"===l)return o.classes;if("style"===l)return o.styles;const d=o.attrs;if(d){const g=d.length;let f=0;for(;f<g;){const y=d[f];if(on(y))break;if(0===y)f+=2;else if("number"==typeof y)for(f++;f<g&&"string"==typeof d[f];)f++;else{if(y===l)return d[f+1];f+=2}}}return null}((0,m.Mx4)(),o)}const Pe=Ee("Attribute",o=>({attributeName:o,__NG_ELEMENT_ID__:()=>Ae(o)}));let Te=null;function gt(o){return Xe(function Ge(){return Te=Te||new Li}().parameters(o))}function Xe(o){return o.map(l=>function hi(o){const l={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(o)&&o.length>0)for(let d=0;d<o.length;d++){const g=o[d];if(void 0===g)continue;const f=Object.getPrototypeOf(g);if(g instanceof Qe||"Optional"===f.ngMetadataName)l.optional=!0;else if(g instanceof tt||"SkipSelf"===f.ngMetadataName)l.skipSelf=!0;else if(g instanceof At||"Self"===f.ngMetadataName)l.self=!0;else if(g instanceof mt||"Host"===f.ngMetadataName)l.host=!0;else if(g instanceof Je)l.token=g.token;else if(g instanceof Pe){if(void 0===g.attributeName)throw new m.buA(204,!1);l.attribute=g.attributeName}else l.token=g}else l.token=void 0===o||Array.isArray(o)&&0===o.length?null:o;return l}(l))}const ti=(0,m.kLh)({provide:String,useValue:m.kLh});function Qt(o){return void 0!==o.useClass}function Vt(o){return void 0!==o.useFactory}const Pt=ce("Injectable",void 0,void 0,0,(o,l)=>function Ri(o,l){let d=null,g=null;o.hasOwnProperty(m.yAH)||Object.defineProperty(o,m.yAH,{get:()=>(null===d&&(d=Ye().compileInjectable(Nt,`ng:///${o.name}/\u0275prov.js`,function ft(o,l){const d=l||{providedIn:null},g={name:o.name,type:o,typeArgumentCount:0,providedIn:d.providedIn};return(Qt(d)||Vt(d))&&void 0!==d.deps&&(g.deps=Xe(d.deps)),Qt(d)?g.useClass=d.useClass:function cn(o){return ti in o}(d)?g.useValue=d.useValue:Vt(d)?g.useFactory=d.useFactory:function wi(o){return void 0!==o.useExisting}(d)&&(g.useExisting=d.useExisting),g}(o,l))),d)}),o.hasOwnProperty(m.zSs)||Object.defineProperty(o,m.zSs,{get:()=>{if(null===g){const f=Ye();g=f.compileFactory(Nt,`ng:///${o.name}/\u0275fac.js`,{name:o.name,type:o,typeArgumentCount:0,deps:gt(o),target:f.FactoryTarget.Injectable})}return g},configurable:!0})}(o,l));function pi(){return bi((0,m.Mx4)(),(0,m.OAn)())}function bi(o,l){return new Tt((0,m.d31)(o,l))}let Tt=(()=>class o{nativeElement;constructor(d){this.nativeElement=d}static __NG_ELEMENT_ID__=pi})();function Ti(o){return o instanceof Tt?o.nativeElement:o}function un(){return this._results[Symbol.iterator]()}class $i{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new q.B7}constructor(l=!1){this._emitDistinctChangesOnly=l}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,d){return this._results.reduce(l,d)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,d){this.dirty=!1;const g=(0,m.Bqz)(l);(this._changesDetected=!(0,m.ng7)(this._results,g,d))&&(this._results=g,this.length=g.length,this.last=g[this.length-1],this.first=g[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(l){this._onDirty=l}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=un}function Zi(o){return!(128&~o.flags)}var bn=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(bn||{});const An=new Map;let Vr=0;function F(o){An.delete(o[m.ID])}const Ne="__ngContext__";function $e(o,l){(0,m.q$2)(l)?(o[Ne]=l[m.ID],function Cn(o){An.set(o[m.ID],o)}(l)):o[Ne]=l}function Dn(o){return Qa(o[m.EJG])}function Pa(o){return Qa(o[m.K29])}function Qa(o){for(;null!==o&&!(0,m.A0l)(o);)o=o[m.K29];return o}let Dr;function Hs(o){Dr=o}function Mr(){if(void 0!==Dr)return Dr;if(typeof document<"u")return document;throw new m.buA(210,!1)}const yr=new m.nKC("",{factory:()=>Lo}),Lo="ng",Yr={provide:m.Z63,multi:!0,useValue:()=>{const o=(0,m.WQX)(yr);if(!/^[a-zA-Z0-9\-_]+$/.test(o))throw new m.buA(211,`APP_ID value "${o}" is not alphanumeric. The APP_ID must be a string of alphanumeric characters. (a-zA-Z0-9), hyphens (-) and underscores (_) are allowed.`)}},$=new m.nKC(""),L=new m.nKC("",{providedIn:"platform",factory:()=>"unknown"}),J=new m.nKC("",{factory:()=>(0,m.WQX)(m.qQL).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),pe={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},Se=new m.nKC("",{factory:()=>pe});let Fe=(()=>{class o{static \u0275prov=(0,m.jDH)({token:o,providedIn:"root",factory:()=>{const d=new o;return d.store=function nt(o,l){const d=o.getElementById(l+"-state");if(d?.textContent)try{return JSON.parse(d.textContent)}catch(g){console.warn("Exception while restoring TransferState for app "+l,g)}return{}}((0,m.WQX)(m.qQL),(0,m.WQX)(yr)),d}});store={};onSerializeCallbacks={};get(d,g){return void 0!==this.store[d]?this.store[d]:g}set(d,g){this.store[d]=g}remove(d){delete this.store[d]}hasKey(d){return this.store.hasOwnProperty(d)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(d,g){this.onSerializeCallbacks[d]=g}toJson(){for(const d in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(d))try{this.store[d]=this.onSerializeCallbacks[d]()}catch(g){console.warn("Exception in onSerialize callback: ",g)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return o})();const Qr=new m.nKC("",{factory:()=>!1}),Sc=new m.nKC(""),sa={passive:!0,capture:!0},Fo=new WeakMap,Ea=new WeakMap,xr=new WeakMap,la=["click","keydown"],no=["mouseenter","mouseover","focusin"],qn=new Map;class Ca{callbacks=new Set;listener=()=>{for(const l of this.callbacks)l()}}function ro(o,l){let d=Ea.get(o);if(!d){d=new Ca,Ea.set(o,d);for(const g of la)o.addEventListener(g,d.listener,sa)}return d.callbacks.add(l),()=>{const{callbacks:g,listener:f}=d;if(g.delete(l),0===g.size){Ea.delete(o);for(const y of la)o.removeEventListener(y,f,sa)}}}function Pd(o,l){let d=Fo.get(o);if(!d){d=new Ca,Fo.set(o,d);for(const g of no)o.addEventListener(g,d.listener,sa)}return d.callbacks.add(l),()=>{const{callbacks:g,listener:f}=d;if(g.delete(l),0===g.size){for(const y of no)o.removeEventListener(y,f,sa);Fo.delete(o)}}}function ao(o){return o?`${o.rootMargin}/${"number"==typeof o.threshold?o.threshold:o.threshold?.join("\n")}`:""}const zi=new m.nKC("");function lr(o){return!(32&~o.flags)}function Cd(o){let l=o._lView;return 2===l[m.eDl].type?null:((0,m.EFk)(l)&&(l=l[m.Yw1]),l)}function dm(o){return o.get(Sc,!1,{optional:!0})}function il(o,l){const d=o.contentQueries;if(null!==d){const g=(0,x.Ht)(null);try{for(let f=0;f<d.length;f+=2){const v=d[f+1];if(-1!==v){const A=o.data[v];(0,m.GA0)(d[f]),A.contentQueries(2,l[v],v)}}}finally{(0,x.Ht)(g)}}}function Ic(o,l,d){(0,m.GA0)(0);const g=(0,x.Ht)(null);try{l(o,d)}finally{(0,x.Ht)(g)}}function Rc(o,l,d){if((0,m.srX)(l)){const g=(0,x.Ht)(null);try{const y=l.directiveEnd;for(let v=l.directiveStart;v<y;v++){const A=o.data[v];A.contentQueries&&A.contentQueries(1,d[v],v)}}finally{(0,x.Ht)(g)}}}var Ar=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o[o.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",o}(Ar||{});let Vo,uo;function sl(){if(void 0===Vo&&(Vo=null,m.laP.trustedTypes))try{Vo=m.laP.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Vo}function tn(o){return sl()?.createHTML(o)||o}function Da(){if(void 0===uo&&(uo=null,m.laP.trustedTypes))try{uo=m.laP.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return uo}function ll(o){return Da()?.createHTML(o)||o}function Bc(o){return Da()?.createScript(o)||o}function Fd(o){return Da()?.createScriptURL(o)||o}class Od{changingThisBreaksApplicationSecurity;constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${m.ok8})`}}function Lr(o){return o instanceof Od?o.changingThisBreaksApplicationSecurity:o}function zo(o,l){const d=function Yo(o){return o instanceof Od&&o.getTypeName()||null}(o);if(null!=d&&d!==l){if("ResourceURL"===d&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${d} (see ${m.ok8})`)}return d===l}function Am(o){const l=new Gc(o);return function Mn(){try{return!!(new window.DOMParser).parseFromString(tn(""),"text/html")}catch{return!1}}()?new zA(l):l}class zA{inertDocumentHelper;constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const d=(new window.DOMParser).parseFromString(tn(l),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(l):(d.firstChild?.remove(),d)}catch{return null}}}class Gc{defaultDoc;inertDocument;constructor(l){this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(l){const d=this.inertDocument.createElement("template");return d.innerHTML=tn(l),d}}const Gd=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Hc(o){return(o=String(o)).match(Gd)?o:"unsafe:"+o}function Zr(o){const l={};for(const d of o.split(","))l[d]=!0;return l}function ho(...o){const l={};for(const d of o)for(const g in d)d.hasOwnProperty(g)&&(l[g]=!0);return l}const ca=Zr("area,br,col,hr,img,wbr"),ul=Zr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dl=Zr("rp,rt"),jc=ho(ca,ho(ul,Zr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ho(dl,Zr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ho(dl,ul)),Ce=Zr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),E=ho(Ce,Zr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),jd=Zr("script,style,template");class qc{sanitizedSomething=!1;buf=[];sanitizeChildren(l){let d=l.firstChild,g=!0,f=[];for(;d;)if(d.nodeType===Node.ELEMENT_NODE?g=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,g&&d.firstChild)f.push(d),d=Xo(d);else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let y=Sm(d);if(y){d=y;break}d=f.pop()}return this.buf.join("")}startElement(l){const d=po(l).toLowerCase();if(!jc.hasOwnProperty(d))return this.sanitizedSomething=!0,!jd.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const g=l.attributes;for(let f=0;f<g.length;f++){const y=g.item(f),v=y.name,A=v.toLowerCase();if(!E.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let _=y.value;Ce[A]&&(_=Hc(_)),this.buf.push(" ",v,'="',Wd(_),'"')}return this.buf.push(">"),!0}endElement(l){const d=po(l).toLowerCase();jc.hasOwnProperty(d)&&!ca.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(l){this.buf.push(Wd(l))}}function Sm(o){const l=o.nextSibling;if(l&&o!==l.previousSibling)throw ua(l);return l}function Xo(o){const l=o.firstChild;if(l&&function qd(o,l){return(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(o,l))throw ua(l);return l}function po(o){const l=o.nodeName;return"string"==typeof l?l:"FORM"}function ua(o){return new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`)}const Uc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ud=/([^\#-~ |!])/g;function Wd(o){return o.replace(/&/g,"&amp;").replace(Uc,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Ud,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let rr;function Bt(o){return"content"in o&&function Pn(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}const Pm=/^>|^->|<!--|-->|--!>|<!-$/g,Jo=/(<|>)/g;function N(o,l){return o.createText(l)}function U(o,l,d){o.setValue(l,d)}function se(o,l){return o.createComment(function S(o){return o.replace(Pm,l=>l.replace(Jo,"\u200b$1\u200b"))}(l))}function be(o,l,d){return o.createElement(l,d)}function xe(o,l,d,g,f){o.insertBefore(l,d,g,f)}function ze(o,l,d){o.appendChild(l,d)}function ci(o,l,d,g,f){null!==g?xe(o,l,d,g,f):ze(o,l,d)}function pt(o,l,d,g){o.removeChild(null,l,d,g)}function JA(o,l,d){const{mergedAttrs:g,classes:f,styles:y}=d;null!==g&&function gn(o,l,d){let g=0;for(;g<d.length;){const f=d[g];if("number"==typeof f){if(0!==f)break;g++;const y=d[g++],v=d[g++],A=d[g++];o.setAttribute(l,v,A,y)}else{const y=f,v=d[++g];Fi(y)?o.setProperty(l,y,v):o.setAttribute(l,y,v),g++}}}(o,l,g),null!==f&&function sT(o,l,d){""===d?o.removeAttribute(l,"class"):o.setAttribute(l,"class",d)}(o,l,f),null!==y&&function xa(o,l,d){o.setAttribute(l,"style",d)}(o,l,y)}var pl=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(pl||{});function km(o){const l=gl();return l?l.sanitize(pl.URL,o)||"":zo(o,"URL")?Lr(o):Hc((0,m.eFE)(o))}function QA(o){const l=gl();if(l)return Fd(l.sanitize(pl.RESOURCE_URL,o)||"");if(zo(o,"ResourceURL"))return Fd(Lr(o));throw new m.buA(904,!1)}const gT=new Set(["embed","frame","iframe","media","script"]),mT=new Set(["base","link","script"]);function gl(){const o=(0,m.OAn)();return o&&o[m.M0L].sanitizer}const Vd=new Set(["attributename"]),vT={iframe:new Set(["sandbox","allow","allowfullscreen","referrerpolicy","csp","fetchpriority"]),animate:Vd,set:Vd,animatemotion:Vd,animatetransform:Vd};function da(o){return o instanceof Function?o():o}function kT(o){if(nS(o),!(0,m.xUg)(o).standalone)throw new m.buA(907,`The ${(0,m.PP7)(o)} component is not marked as standalone, but Angular expects to have a standalone component here. Please make sure the ${(0,m.PP7)(o)} component does not have the \`standalone: false\` flag in the decorator.`)}function nS(o){if(!(0,m.xUg)(o))throw new m.buA(906,`The ${(0,m.PP7)(o)} is not an Angular component, make sure it has the \`@Component\` decorator.`)}function wT(o,l,d){let g=o.length;for(;;){const f=o.indexOf(l,d);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const y=l.length;if(f+y===g||o.charCodeAt(f+y)<=32)return f}d=f+1}}const oS="ng-template";function TT(o,l,d,g){let f=0;if(g){for(;f<l.length&&"string"==typeof l[f];f+=2)if("class"===l[f]&&-1!==wT(l[f+1].toLowerCase(),d,0))return!0}else if(wm(o))return!1;if(f=l.indexOf(1,f),f>-1){let y;for(;++f<l.length&&"string"==typeof(y=l[f]);)if(y.toLowerCase()===d)return!0}return!1}function wm(o){return 4===o.type&&o.value!==oS}function Kd(o,l,d){return l===(4!==o.type||d?o.value:oS)}function ml(o,l,d){let g=4;const f=o.attrs,y=null!==f?function Wc(o){for(let l=0;l<o.length;l++)if(on(o[l]))return l;return o.length}(f):0;let v=!1;for(let A=0;A<l.length;A++){const _=l[A];if("number"!=typeof _){if(!v)if(4&g){if(g=2|1&g,""!==_&&!Kd(o,_,d)||""===_&&1===l.length){if(Sr(g))return!1;v=!0}}else if(8&g){if(null===f||!TT(o,f,_,d)){if(Sr(g))return!1;v=!0}}else{const R=l[++A],O=ET(_,f,wm(o),d);if(-1===O){if(Sr(g))return!1;v=!0;continue}if(""!==R){let V;if(V=O>y?"":f[O+1].toLowerCase(),2&g&&R!==V){if(Sr(g))return!1;v=!0}}}}else{if(!v&&!Sr(g)&&!Sr(_))return!1;if(v&&Sr(_))continue;v=!1,g=_|1&g}}return Sr(g)||v}function Sr(o){return!(1&o)}function ET(o,l,d,g){if(null===l)return-1;let f=0;if(g||!d){let y=!1;for(;f<l.length;){const v=l[f];if(v===o)return f;if(3===v||6===v)y=!0;else{if(1===v||2===v){let A=l[++f];for(;"string"==typeof A;)A=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=y?1:2}return-1}return function sS(o,l){let d=o.indexOf(4);if(d>-1)for(d++;d<o.length;){const g=o[d];if("number"==typeof g)return-1;if(g===l)return d;d++}return-1}(l,o)}function Tm(o,l,d=!1){for(let g=0;g<l.length;g++)if(ml(o,l[g],d))return!0;return!1}function CT(o,l){e:for(let d=0;d<l.length;d++){const g=l[d];if(o.length===g.length){for(let f=0;f<o.length;f++)if(o[f]!==g[f])continue e;return!0}}return!1}function Yd(o,l){return o?":not("+l.trim()+")":l}function Em(o){let l=o[0],d=1,g=2,f="",y=!1;for(;d<o.length;){let v=o[d];if("string"==typeof v)if(2&g){const A=o[++d];f+="["+v+(A.length>0?'="'+A+'"':"")+"]"}else 8&g?f+="."+v:4&g&&(f+=" "+v);else""!==f&&!Sr(v)&&(l+=Yd(y,f),f=""),g=v,y=y||!Sr(g);d++}return""!==f&&(l+=Yd(y,f)),l}const Xt={};function Vc(o,l,d,g,f,y,v,A,_,R,O){const V=m.Yw1+g,re=V+f,ae=function Kc(o,l){const d=[];for(let g=0;g<l;g++)d.push(g<o?null:Xt);return d}(V,re),ve="function"==typeof R?R():R;return ae[m.eDl]={type:o,blueprint:ae,template:d,queries:null,viewQuery:A,declTNode:l,data:ae.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:_,consts:ve,incompleteFirstPass:!1,ssrId:O}}function Xd(o){const l=o.tView;return null===l||l.incompleteFirstPass?o.tView=Vc(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):l}function fl(o,l,d,g,f,y,v,A,_,R,O){const V=l.blueprint.slice();return V[m.jgP]=f,V[m.Wg1]=1228|g,(null!==R||o&&2048&o[m.Wg1])&&(V[m.Wg1]|=2048),(0,m.HUe)(V),V[m.f7T]=V[m.X5O]=o,V[m.SKP]=d,V[m.M0L]=v||o&&o[m.M0L],V[m.GpT]=A||o&&o[m.GpT],V[m.YEL]=_||o&&o[m.YEL]||null,V[m.qlT]=y,V[m.ID]=function er(){return Vr++}(),V[m.tcA]=O,V[m.oMQ]=R,V[m.b5C]=2==l.type?o[m.b5C]:V,V}function Jd(o){let l=16;return o.signals?l=4096:o.onPush&&(l=64),l}function zc(o,l,d,g){if(0===d)return-1;const f=l.length;for(let y=0;y<d;y++)l.push(g),o.blueprint.push(g),o.data.push(null);return f}function Yc(o,l){return o[m.EJG]?o[m.Yrj][m.K29]=l:o[m.EJG]=l,o[m.Yrj]=l,l}function Mm(o=1){xm((0,m.klJ)(),(0,m.OAn)(),(0,m._px)()+o,!1)}function xm(o,l,d,g){if(!g)if(3&~l[m.Wg1]){const y=o.preOrderHooks;null!==y&&Ni(l,y,0,d)}else{const y=o.preOrderCheckHooks;null!==y&&lt(l,y,d)}(0,m.ypq)(d)}var yl=function(o){return o[o.None=0]="None",o[o.SignalBased=1]="SignalBased",o[o.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",o}(yl||{});function Qo(o,l,d,g){const f=(0,x.Ht)(null);try{const[y,v,A]=o.inputs[d];let _=null;0!==(v&yl.SignalBased)&&(_=l[y][x.bh]),null!==_&&void 0!==_.transformFn?g=_.transformFn(g):null!==A&&(g=A.call(l,g)),null!==o.setInput?o.setInput(l,_,g,d,y):Ui(l,_,y,g)}finally{(0,x.Ht)(f)}}var Qd=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(Qd||{});let Im;function Zo(o,l){return Im(o,l)}function Xc(o){if(!o)return 0;const l=o.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(o)*l}function mo(o,l){return o.getPropertyValue(l).split(",").map(g=>g.trim())}function Rm(o,l){return void 0!==o&&o.duration>l.duration}function lS(o){return(null!=o.animationName||null!=o.propertyName)&&o.duration>0}function cS(o,l,d){if(!d)return;const g=o.getAnimations();return 0===g.length?function IT(o,l){const d=getComputedStyle(o),g=function xT(o){const l=mo(o,"animation-name"),d=mo(o,"animation-delay"),g=mo(o,"animation-duration"),f={animationName:"",propertyName:void 0,duration:0};for(let y=0;y<l.length;y++){const v=Xc(d[y])+Xc(g[y]);v>f.duration&&(f.animationName=l[y],f.duration=v)}return f}(d),f=function Jc(o){const l=mo(o,"transition-property"),d=mo(o,"transition-duration"),g=mo(o,"transition-delay"),f={propertyName:"",duration:0,animationName:void 0};for(let y=0;y<l.length;y++){const v=Xc(g[y])+Xc(d[y]);v>f.duration&&(f.propertyName=l[y],f.duration=v)}return f}(d),y=g.duration>f.duration?g:f;Rm(l.get(o),y)||lS(y)&&l.set(o,y)}(o,l):function RT(o,l,d){let g={animationName:void 0,propertyName:void 0,duration:0};for(const f of d){const y=f.effect?.getTiming(),v="number"==typeof y?.duration?y.duration:0;let _,R,A=(y?.delay??0)+v;f.animationName?R=f.animationName:_=f.transitionProperty,A>=g.duration&&(g={animationName:R,propertyName:_,duration:A})}Rm(l.get(o),g)||lS(g)&&l.set(o,g)}(o,l,g)}const M=new Set;var vl=function(o){return o[o.CHANGE_DETECTION=0]="CHANGE_DETECTION",o[o.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",o}(vl||{});const bl=new m.nKC(""),uS=new Set;function _n(o){uS.has(o)||(uS.add(o),performance?.mark?.("mark_feature_usage",{detail:{feature:o}}))}let dS=(()=>{class o{impl=null;execute(){this.impl?.execute()}static \u0275prov=(0,m.jDH)({token:o,providedIn:"root",factory:()=>new o})}return o})();const Zd=[0,1,2,3];let LT=(()=>{class o{ngZone=(0,m.WQX)(m.SKi);scheduler=(0,m.WQX)(m.hk6);errorHandler=(0,m.WQX)(m.zcH,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){(0,m.WQX)(bl,{optional:!0})}execute(){const d=this.sequences.size>0;d&&ut(Oe.AfterRenderHooksStart),this.executing=!0;for(const g of Zd)for(const f of this.sequences)if(!f.erroredOrDestroyed&&f.hooks[g])try{f.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,f.hooks[g])(f.pipelinedValue),f.snapshot))}catch(y){f.erroredOrDestroyed=!0,this.errorHandler?.handleError(y)}this.executing=!1;for(const g of this.sequences)g.afterRun(),g.once&&(this.sequences.delete(g),g.destroy());for(const g of this.deferredRegistrations)this.sequences.add(g);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),d&&ut(Oe.AfterRenderHooksEnd)}register(d){const{view:g}=d;void 0!==g?((g[m.JEi]??=[]).push(d),(0,m.blu)(g),g[m.Wg1]|=8192):this.executing?this.deferredRegistrations.add(d):this.addSequence(d)}addSequence(d){this.sequences.add(d),this.scheduler.notify(7)}unregister(d){this.executing&&this.sequences.has(d)?(d.erroredOrDestroyed=!0,d.pipelinedValue=void 0,d.once=!0):(this.sequences.delete(d),this.deferredRegistrations.delete(d))}maybeTrace(d,g){return g?g.run(vl.AFTER_NEXT_RENDER,d):d()}static \u0275prov=(0,m.jDH)({token:o,providedIn:"root",factory:()=>new o})}return o})();class hS{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(l,d,g,f,y,v=null){this.impl=l,this.hooks=d,this.view=g,this.once=f,this.snapshot=v,this.unregisterOnDestroy=y?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const l=this.view?.[m.JEi];l&&(this.view[m.JEi]=l.filter(d=>d!==this))}}function Lm(o,l){const d=l?.injector??(0,m.WQX)(m.zZn);return _n("NgAfterNextRender"),pS(o,d,l,!0)}function pS(o,l,d,g){const f=l.get(dS);f.impl??=l.get(LT);const y=l.get(bl,null,{optional:!0}),v=!0!==d?.manualCleanup?l.get(m.abz):null,A=l.get(m.r4V,null,{optional:!0}),_=new hS(f.impl,function FT(o){return o instanceof Function?[void 0,void 0,o,void 0]:[o.earlyRead,o.write,o.mixedReadWrite,o.read]}(o),A?.view,g,v,y?.snapshot(null));return f.impl.register(_),_}const ha=new m.nKC("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:(0,m.WQX)(m.uvJ)})});function es(o,l,d){const g=o.get(ha);if(Array.isArray(l))for(const f of l)g.queue.add(f),d?.detachedLeaveAnimationFns?.push(f);else g.queue.add(l),d?.detachedLeaveAnimationFns?.push(l);g.scheduler&&g.scheduler(o)}function eh(o){const l=o.get(ha);l.isScheduled||(Lm(()=>{l.isScheduled=!1;for(let d of l.queue)d();l.queue.clear()},{injector:l.injector}),l.isScheduled=!0)}function fo(o){const l=o.get(ha);l.scheduler=eh,l.scheduler(o)}function Al(o,l){for(const[d,g]of l)es(o,g.animateFns)}function th(o,l,d,g){const f=o?.[m.Isx]?.enter;null!==l&&f&&f.has(d.index)&&Al(g,f)}function Sl(o,l,d,g,f,y,v,A){if(null!=f){let _,R=!1;(0,m.A0l)(f)?_=f:(0,m.q$2)(f)&&(R=!0,f=f[m.jgP]);const O=(0,m.IvY)(f);0===o&&null!==g?(th(A,g,y,d),null==v?ze(l,g,O):xe(l,g,O,v||null,!0)):1===o&&null!==g?(th(A,g,y,d),xe(l,g,O,v||null,!0)):2===o?gS(A,y,d,V=>{pt(l,O,R,V)}):3===o&&gS(A,y,d,()=>{l.destroyNode(O)}),null!=_&&function GT(o,l,d,g,f,y,v){const A=g[m.s6P];A!==(0,m.IvY)(g)&&Sl(l,o,d,y,A,f,v);for(let R=m.Y20;R<g.length;R++){const O=g[R];sh(O[m.eDl],O,o,l,y,A)}}(l,o,d,_,y,g,v)}}function Fm(o,l){Zc(o,l),l[m.jgP]=null,l[m.qlT]=null}function Zc(o,l){l[m.M0L].changeDetectionScheduler?.notify(9),sh(o,l,l[m.GpT],2,null,null)}function ih(o,l){const d=o[m.nfM],g=d.indexOf(l);d.splice(g,1)}function eu(o,l){if((0,m.EPY)(l))return;const d=l[m.GpT];d.destroyNode&&sh(o,l,d,3,null,null),function Om(o){let l=o[m.EJG];if(!l)return nh(o[m.eDl],o);for(;l;){let d=null;if((0,m.q$2)(l))d=l[m.EJG];else{const g=l[m.Y20];g&&(d=g)}if(!d){for(;l&&!l[m.K29]&&l!==o;)(0,m.q$2)(l)&&nh(l[m.eDl],l),l=l[m.f7T];null===l&&(l=o),(0,m.q$2)(l)&&nh(l[m.eDl],l),d=l&&l[m.K29]}l=d}}(l)}function nh(o,l){if((0,m.EPY)(l))return;const d=(0,x.Ht)(null);try{l[m.Wg1]&=-129,l[m.Wg1]|=256,l[m.Iaj]&&(0,x.XR)(l[m.Iaj]),function mS(o,l){let d;if(null!=o&&null!=(d=o.destroyHooks))for(let g=0;g<d.length;g+=2){const f=l[d[g]];if(!(f instanceof rt)){const y=d[g+1];if(Array.isArray(y))for(let v=0;v<y.length;v+=2){const A=f[y[v]],_=y[v+1];ut(Oe.LifecycleHookStart,A,_);try{_.call(A)}finally{ut(Oe.LifecycleHookEnd,A,_)}}else{ut(Oe.LifecycleHookStart,f,y);try{y.call(f)}finally{ut(Oe.LifecycleHookEnd,f,y)}}}}}(o,l),function $T(o,l){const d=o.cleanup,g=l[m.VVG];if(null!==d)for(let v=0;v<d.length-1;v+=2)if("string"==typeof d[v]){const A=d[v+3];A>=0?g[A]():g[-A].unsubscribe(),v+=2}else d[v].call(g[d[v+1]]);null!==g&&(l[m.VVG]=null);const f=l[m.Czx];if(null!==f){l[m.Czx]=null;for(let v=0;v<f.length;v++)(0,f[v])()}const y=l[m.tQN];if(null!==y){l[m.tQN]=null;for(const v of y)v.destroy()}}(o,l),1===l[m.eDl].type&&l[m.GpT].destroy();const g=l[m.rQE];if(null!==g&&(0,m.A0l)(l[m.f7T])){g!==l[m.f7T]&&ih(g,l);const f=l[m.Ds7];null!==f&&f.detachView(o)}F(l)}finally{(0,x.Ht)(d)}}function gS(o,l,d,g){const f=o?.[m.Isx];if(null==f||null==f.leave||!f.leave.has(l.index))return g(!1);o&&M.add(o[m.ID]),es(d,()=>{if(f.leave&&f.leave.has(l.index)){const v=f.leave.get(l.index),A=[];if(v){for(let _=0;_<v.animateFns.length;_++){const R=v.animateFns[_],{promise:O}=R();A.push(O)}f.detachedLeaveAnimationFns=void 0}f.running=Promise.allSettled(A),function BT(o,l){const d=o[m.Isx]?.running;d?d.then(()=>{o[m.Isx].running=void 0,M.delete(o[m.ID]),l(!0)}):l(!1)}(o,g)}else o&&M.delete(o[m.ID]),g(!1)},f)}function Bm(o,l,d){return fS(o,l.parent,d)}function fS(o,l,d){let g=l;for(;null!==g&&168&g.type;)g=(l=g).parent;if(null===g)return d[m.jgP];if((0,m.Qs1)(g)){const{encapsulation:f}=o.data[g.directiveStart+g.componentOffset];if(f===Ar.None||f===Ar.Emulated)return null}return(0,m.d31)(g,d)}function rh(o,l,d){return vS(o,l,d)}function yS(o,l,d){return 40&o.type?(0,m.d31)(o,d):null}let ah,vS=yS;function bS(o,l){vS=o,ah=l}function $m(o,l,d,g){const f=Bm(o,g,l),y=l[m.GpT],A=rh(g.parent||l[m.qlT],g,l);if(null!=f)if(Array.isArray(d))for(let _=0;_<d.length;_++)ci(y,f,d[_],A,!1);else ci(y,f,d,A,!1);void 0!==ah&&ah(y,g,l,d,f)}function Pl(o,l){if(null!==l){const d=l.type;if(3&d)return(0,m.d31)(l,o);if(4&d)return In(-1,o[l.index]);if(8&d){const g=l.child;if(null!==g)return Pl(o,g);{const f=o[l.index];return(0,m.A0l)(f)?In(-1,f):(0,m.IvY)(f)}}if(128&d)return Pl(o,l.next);if(32&d)return Zo(l,o)()||(0,m.IvY)(o[l.index]);{const g=oh(o,l);return null!==g?Array.isArray(g)?g[0]:Pl((0,m._0$)(o[m.b5C]),g):Pl(o,l.next)}}return null}function oh(o,l){return null!==l?o[m.b5C][m.qlT].projection[l.projection]:null}function In(o,l){const d=m.Y20+o+1;if(d<l.length){const g=l[d],f=g[m.eDl].firstChild;if(null!==f)return Pl(g,f)}return l[m.s6P]}function tu(o,l,d,g,f,y,v){for(;null!=d;){const A=g[m.YEL];if(128===d.type){d=d.next;continue}const _=g[d.index],R=d.type;if(v&&0===l&&(_&&$e((0,m.IvY)(_),g),d.flags|=2),!lr(d))if(8&R)tu(o,l,d.child,g,f,y,!1),Sl(l,o,A,f,_,d,y,g);else if(32&R){const O=Zo(d,g);let V;for(;V=O();)Sl(l,o,A,f,V,d,y,g);Sl(l,o,A,f,_,d,y,g)}else 16&R?AS(o,l,g,d,f,y):Sl(l,o,A,f,_,d,y,g);d=v?d.projectionNext:d.next}}function sh(o,l,d,g,f,y){tu(d,g,o.firstChild,l,f,y,!1)}function AS(o,l,d,g,f,y){const v=d[m.b5C],_=v[m.qlT].projection[g.projection];if(Array.isArray(_))for(let R=0;R<_.length;R++)Sl(l,o,d[m.YEL],f,_[R],g,y,d);else{let R=_;const O=v[m.f7T];Zi(g)&&(R.flags|=128),tu(o,l,R,O,f,y,!0)}}function Pr(o,l,d,g,f){const y=(0,m._px)(),v=2&g;try{(0,m.ypq)(-1),v&&l.length>m.Yw1&&xm(o,l,m.Yw1,!1),ut(v?Oe.TemplateUpdateStart:Oe.TemplateCreateStart,f,d),d(g,f)}finally{(0,m.ypq)(y),ut(v?Oe.TemplateUpdateEnd:Oe.TemplateCreateEnd,f,d)}}function nu(o,l,d){(function qT(o,l,d){const g=d.directiveStart,f=d.directiveEnd;(0,m.Qs1)(d)&&function DT(o,l,d){const g=(0,m.d31)(l,o),f=Xd(d),y=o[m.M0L].rendererFactory,v=Yc(o,fl(o,f,null,Jd(d),g,l,null,y.createRenderer(g,d),null,null,null));o[l.index]=v}(l,d,o.data[g+d.componentOffset]),o.firstCreatePass||Bi(d,l);const y=d.initialInputs;for(let v=g;v<f;v++){const A=o.data[v],_=En(l,o,v,d);$e(_,l),null!==y&&Gi(0,v-g,_,A,0,y),(0,m.JlV)(A)&&((0,m.KdJ)(d.index,l)[m.SKP]=En(l,o,v,d))}})(o,l,d),!(64&~d.flags)&&function qm(o,l,d){const g=d.directiveStart,f=d.directiveEnd,y=d.index,v=(0,m.Z9v)();try{(0,m.ypq)(y);for(let A=g;A<f;A++){const _=o.data[A],R=l[A];(0,m.RZ9)(A),(null!==_.hostBindings||0!==_.hostVars||null!==_.hostAttrs)&&PS(_,R)}}finally{(0,m.ypq)(-1),(0,m.RZ9)(v)}}(o,l,d)}function _l(o,l,d=m.d31){const g=l.localNames;if(null!==g){let f=l.index+1;for(let y=0;y<g.length;y+=2){const v=g[y+1],A=-1===v?d(l,o):o[v];o[f++]=A}}}let Ia=()=>null;function kl(o,l,d,g,f,y){uh(o,l[m.eDl],l,d,g)?(0,m.Qs1)(o)&&ch(l,o.index):(3&o.type&&(d=function Hm(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d)),ru(o,l,d,g,f,y))}function ru(o,l,d,g,f,y){if(3&o.type){const v=(0,m.d31)(o,l);g=null!=y?y(g,o.value||"",d):g,f.setProperty(v,d,g)}}function ch(o,l){const d=(0,m.KdJ)(l,o);16&d[m.Wg1]||(d[m.Wg1]|=64)}function PS(o,l){null!==o.hostBindings&&o.hostBindings(1,l)}function au(o,l){const d=o.directiveRegistry;let g=null;if(d)for(let f=0;f<d.length;f++){const y=d[f];Tm(l,y.selectors,!1)&&(g??=[],(0,m.JlV)(y)?g.unshift(y):g.push(y))}return g}function wl(o,l,d,g,f,y,v){if(null==y)o.removeAttribute(l,f,d);else{const A=null==v?(0,m.eFE)(y):v(y,g||"",f);o.setAttribute(l,f,A,d)}}function Gi(o,l,d,g,f,y){const v=y[l];if(null!==v)for(let A=0;A<v.length;A+=2)Qo(g,d,v[A],v[A+1])}function Wn(o,l,d,g,f){const y=m.Yw1+d,v=l[m.eDl],A=f(v,l,o,g,d);l[y]=A,(0,m.iMd)(o,!0);const _=2===o.type;return _?(JA(l[m.GpT],A,o),(0===(0,m.znI)()||(0,m.yoD)(o))&&$e(A,l),(0,m.Fje)()):$e(A,l),(0,m.SX7)()&&(!_||!lr(o))&&$m(v,l,A,o),o}function yo(o){let l=o;return(0,m.YWB)()?(0,m.Pfq)():(l=l.parent,(0,m.iMd)(l,!1)),l}function Lt(o,l,d){return(null===o||(0,m.JlV)(o))&&(d=(0,m.zAe)(d[l.index])),d[m.GpT]}function Ra(o,l){const d=o[m.YEL];if(!d)return;let g;try{g=d.get(m.ZTf,null)}catch{g=null}g?.(l)}function uh(o,l,d,g,f){const y=o.inputs?.[g],v=o.hostDirectiveInputs?.[g];let A=!1;if(v)for(let _=0;_<v.length;_+=2){const R=v[_];Qo(l.data[R],d[R],v[_+1],f),A=!0}if(y)for(const _ of y)Qo(l.data[_],d[_],g,f),A=!0;return A}function UT(o,l){const d=(0,m.KdJ)(l,o),g=d[m.eDl];!function Wm(o,l){for(let d=l.length;d<o.blueprint.length;d++)l.push(o.blueprint[d])}(g,d);const f=d[m.jgP];null!==f&&null===d[m.tcA]&&(d[m.tcA]=null),ut(Oe.ComponentStart);try{ou(g,d,d[m.SKP])}finally{ut(Oe.ComponentEnd,d[m.SKP])}}function ou(o,l,d){(0,m.ID8)(l);try{const g=o.viewQuery;null!==g&&Ic(1,g,d);const f=o.template;null!==f&&Pr(o,l,f,1,d),o.firstCreatePass&&(o.firstCreatePass=!1),l[m.Ds7]?.finishViewCreation(o),o.staticContentQueries&&il(o,l),o.staticViewQueries&&Ic(2,o.viewQuery,d);const y=o.components;null!==y&&function Vm(o,l){for(let d=0;d<l.length;d++)UT(o,l[d])}(l,y)}catch(g){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),g}finally{l[m.Wg1]&=-5,(0,m.bll)()}}function is(o,l,d,g){const f=(0,x.Ht)(null);try{const y=l.tView,_=fl(o,y,d,4096&o[m.Wg1]?4096:16,null,l,null,null,g?.injector??null,g?.embeddedViewInjector??null,g?.dehydratedView??null);_[m.rQE]=o[l.index];const O=o[m.Ds7];return null!==O&&(_[m.Ds7]=O.createEmbeddedView(y)),ou(y,_,d),_}finally{(0,x.Ht)(f)}}function La(o,l){return!l||null===l.firstChild||Zi(o)}function su(o,l,d,g,f=!1){for(;null!==d;){if(128===d.type){d=f?d.projectionNext:d.next;continue}const y=l[d.index];null!==y&&g.push((0,m.IvY)(y)),(0,m.A0l)(y)&&Km(y,g);const v=d.type;if(8&v)su(o,l,d.child,g);else if(32&v){const A=Zo(d,l);let _;for(;_=A();)g.push(_)}else if(16&v){const A=oh(l,d);if(Array.isArray(A))g.push(...A);else{const _=(0,m._0$)(l[m.b5C]);su(_[m.eDl],_,A,g,!0)}}d=f?d.projectionNext:d.next}return g}function Km(o,l){for(let d=m.Y20;d<o.length;d++){const g=o[d],f=g[m.eDl].firstChild;null!==f&&su(g[m.eDl],g,f,l)}o[m.s6P]!==o[m.jgP]&&l.push(o[m.s6P])}function kS(o){if(null!==o[m.JEi]){for(const l of o[m.JEi])l.impl.addSequence(l);o[m.JEi].length=0}}let dh=[];const Ym={...x.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:o=>{(0,m.blu)(o.lView)},consumerOnSignalRead(){this.lView[m.Iaj]=this}},Xm={...x.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:o=>{let l=(0,m._0$)(o.lView);for(;l&&!Jm(l[m.eDl]);)l=(0,m._0$)(l);l&&(0,m.HAh)(l)},consumerOnSignalRead(){this.lView[m.Iaj]=this}};function Jm(o){return 2!==o.type}function hh(o){if(null===o[m.tQN])return;let l=!0;for(;l;){let d=!1;for(const g of o[m.tQN])g.dirty&&(d=!0,null===g.zone||Zone.current===g.zone?g.run():g.zone.run(()=>g.run()));l=d&&!!(8192&o[m.Wg1])}}function Tl(o,l=0){const g=o[m.M0L].rendererFactory;g.begin?.();try{!function YT(o,l){const d=(0,m.yP_)();try{(0,m.cBl)(!0),lu(o,l);let g=0;for(;(0,m.dMS)(o);){if(100===g)throw new m.buA(103,!1);g++,lu(o,1)}}finally{(0,m.cBl)(d)}}(o,l)}finally{g.end?.()}}function TS(o,l,d,g){if((0,m.EPY)(l))return;const f=l[m.Wg1];(0,m.ID8)(l);let A=!0,_=null,R=null;Jm(o)?(R=function WT(o){return o[m.Iaj]??function zm(o){const l=dh.pop()??Object.create(Ym);return l.lView=o,l}(o)}(l),_=(0,x.Bg)(R)):null===(0,x.nR)()?(A=!1,R=function KT(o){const l=o[m.Iaj]??Object.create(Xm);return l.lView=o,l}(l),_=(0,x.Bg)(R)):l[m.Iaj]&&((0,x.XR)(l[m.Iaj]),l[m.Iaj]=null);try{(0,m.HUe)(l),(0,m.Kw3)(o.bindingStartIndex),null!==d&&Pr(o,l,d,2,g);const O=!(3&~f);if(O){const ae=o.preOrderCheckHooks;null!==ae&&lt(l,ae,null)}else{const ae=o.preOrderHooks;null!==ae&&Ni(l,ae,0,null),wt(l,0)}if(function XT(o){for(let l=Dn(o);null!==l;l=Pa(l)){if(!(2&l[m.Wg1]))continue;const d=l[m.nfM];for(let g=0;g<d.length;g++)(0,m.HAh)(d[g])}}(l),hh(l),ph(l,0),null!==o.contentQueries&&il(o,l),O){const ae=o.contentCheckHooks;null!==ae&&lt(l,ae)}else{const ae=o.contentHooks;null!==ae&&Ni(l,ae,1),wt(l,1)}!function Zm(o,l){const d=o.hostBindingOpCodes;if(null!==d)try{for(let g=0;g<d.length;g++){const f=d[g];if(f<0)(0,m.ypq)(~f);else{const y=f,v=d[++g],A=d[++g];(0,m.vQI)(v,y);const _=l[y];ut(Oe.HostBindingsUpdateStart,_);try{A(2,_)}finally{ut(Oe.HostBindingsUpdateEnd,_)}}}}finally{(0,m.ypq)(-1)}}(o,l);const V=o.components;null!==V&&gh(l,V,0);const re=o.viewQuery;if(null!==re&&Ic(2,re,g),O){const ae=o.viewCheckHooks;null!==ae&&lt(l,ae)}else{const ae=o.viewHooks;null!==ae&&Ni(l,ae,2),wt(l,2)}if(!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),l[m.pcR]){for(const ae of l[m.pcR])ae();l[m.pcR]=null}kS(l),l[m.Wg1]&=-73}catch(O){throw(0,m.blu)(l),O}finally{null!==R&&((0,x.Wu)(R,_),A&&function VT(o){o.lView[m.Iaj]!==o&&(o.lView=null,dh.push(o))}(R)),(0,m.bll)()}}function ph(o,l){for(let d=Dn(o);null!==d;d=Pa(d))for(let g=m.Y20;g<d.length;g++)ES(d[g],l)}function Qm(o,l,d){ut(Oe.ComponentStart);const g=(0,m.KdJ)(l,o);try{ES(g,d)}finally{ut(Oe.ComponentEnd,g[m.SKP])}}function ES(o,l){(0,m.F1c)(o)&&lu(o,l)}function lu(o,l){const g=o[m.eDl],f=o[m.Wg1],y=o[m.Iaj];let v=!!(0===l&&16&f);if(v||=!!(64&f&&0===l),v||=!!(1024&f),v||=!(!y?.dirty||!(0,x.si)(y)),v||=!1,y&&(y.dirty=!1),o[m.Wg1]&=-9217,v)TS(g,o,g.template,o[m.SKP]);else if(8192&f){const A=(0,x.Ht)(null);try{hh(o),ph(o,1);const _=g.components;null!==_&&gh(o,_,1),kS(o)}finally{(0,x.Ht)(A)}}}function gh(o,l,d){for(let g=0;g<l.length;g++)Qm(o,l[g],d)}function El(o,l){const d=(0,m.yP_)()?64:1088;for(o[m.M0L].changeDetectionScheduler?.notify(l);o;){o[m.Wg1]|=d;const g=(0,m._0$)(o);if((0,m.EFk)(o)&&!g)return o;o=g}return null}function mh(o,l,d,g){return[o,!0,0,l,null,g,null,d,null,null]}function CS(o,l){const d=m.Y20+l;if(d<o.length)return o[d]}function vo(o,l,d,g=!0){const f=l[m.eDl];if(function JT(o,l,d,g){const f=m.Y20+g,y=d.length;g>0&&(d[f-1][m.K29]=l),g<y-m.Y20?(l[m.K29]=d[f],(0,m.EYC)(d,m.Y20+g,l)):(d.push(l),l[m.K29]=null),l[m.f7T]=d;const v=l[m.rQE];null!==v&&d!==v&&yh(v,l);const A=l[m.Ds7];null!==A&&A.insertView(o),(0,m._gW)(l),l[m.Wg1]|=128}(f,l,o,d),g){const v=In(d,o),A=l[m.GpT],_=A.parentNode(o[m.s6P]);null!==_&&function OT(o,l,d,g,f,y){g[m.jgP]=f,g[m.qlT]=l,sh(o,g,d,1,f,y)}(f,o[m.qlT],A,l,_,v)}const y=l[m.tcA];null!==y&&null!==y.firstChild&&(y.firstChild=null)}function fh(o,l){const d=ns(o,l);return void 0!==d&&eu(d[m.eDl],d),d}function ns(o,l){if(o.length<=m.Y20)return;const d=m.Y20+l,g=o[d];if(g){const f=g[m.rQE];null!==f&&f!==o&&ih(f,g),l>0&&(o[d-1][m.K29]=g[m.K29]);const y=(0,m.E6O)(o,m.Y20+l);Fm(g[m.eDl],g);const v=y[m.Ds7];null!==v&&v.detachView(y[m.eDl]),g[m.f7T]=null,g[m.K29]=null,g[m.Wg1]&=-129}return g}function yh(o,l){const d=o[m.nfM],g=l[m.f7T];((0,m.q$2)(g)||l[m.b5C]!==g[m.f7T][m.b5C])&&(o[m.Wg1]|=2),null===d?o[m.nfM]=[l]:d.push(l)}class vh{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const l=this._lView,d=l[m.eDl];return su(d,l,d.firstChild,[])}constructor(l,d){this._lView=l,this._cdRefInjectingView=d}get context(){return this._lView[m.SKP]}set context(l){this._lView[m.SKP]=l}get destroyed(){return(0,m.EPY)(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[m.f7T];if((0,m.A0l)(l)){const d=l[m.bm_],g=d?d.indexOf(this):-1;g>-1&&(ns(l,g),(0,m.E6O)(d,g))}this._attachedToViewContainer=!1}eu(this._lView[m.eDl],this._lView)}onDestroy(l){(0,m.ik5)(this._lView,l)}markForCheck(){El(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[m.Wg1]&=-129}reattach(){(0,m._gW)(this._lView),this._lView[m.Wg1]|=128}detectChanges(){this._lView[m.Wg1]|=1024,Tl(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new m.buA(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const l=(0,m.EFk)(this._lView),d=this._lView[m.rQE];null!==d&&!l&&ih(d,this._lView),Zc(this._lView[m.eDl],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new m.buA(902,!1);this._appRef=l;const d=(0,m.EFk)(this._lView),g=this._lView[m.rQE];null!==g&&!d&&yh(g,this._lView),(0,m._gW)(this._lView)}}let rs=(()=>class o{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=QT;constructor(d,g,f){this._declarationLView=d,this._declarationTContainer=g,this.elementRef=f}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(d,g){return this.createEmbeddedViewImpl(d,g)}createEmbeddedViewImpl(d,g,f){const y=is(this._declarationLView,this._declarationTContainer,d,{embeddedViewInjector:g,dehydratedView:f});return new vh(y)}})();function QT(){return Cl((0,m.Mx4)(),(0,m.OAn)())}function Cl(o,l){return 4&o.type?new rs(l,o,bi(o,l)):null}function bh(o,l,d){const g=l.insertBeforeIndex,f=Array.isArray(g)?g[0]:g;return null===f?yS(o,0,d):(0,m.IvY)(d[f])}function OS(o,l,d,g,f){const y=l.insertBeforeIndex;if(Array.isArray(y)){let v=g,A=null;if(3&l.type||(A=v,v=f),null!==v&&-1===l.componentOffset)for(let _=1;_<y.length;_++)xe(o,v,d[y[_]],A,!1)}}function Na(o,l,d,g,f){let y=o.data[l];if(null===y)y=lf(o,l,d,g,f),(0,m.JjR)()&&(y.flags|=32);else if(64&y.type){y.type=d,y.value=g,y.attrs=f;const v=(0,m.Ab)();y.injectorIndex=null===v?-1:v.injectorIndex}return(0,m.iMd)(y,!0),y}function lf(o,l,d,g,f){const y=(0,m.veI)(),v=(0,m.YWB)(),_=o.data[l]=function $S(o,l,d,g,f,y){let v=l?l.injectorIndex:-1,A=0;return(0,m.KtD)()&&(A|=128),{type:d,index:g,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:A,providerIndexes:0,value:f,attrs:y,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?y:y&&y.parent,d,l,g,f);return function BS(o,l,d,g){null===o.firstChild&&(o.firstChild=l),null!==d&&(g?null==d.child&&null!==l.parent&&(d.child=l):null===d.next&&(d.next=l,l.prev=d))}(o,_,y,v),_}function cf(o,l){if(o.push(l),o.length>1)for(let d=o.length-2;d>=0;d--){const g=o[d];Ah(g)||eE(g,l)&&null===uf(g)&&df(g,l.index)}}function Ah(o){return!(64&o.type)}function eE(o,l){return Ah(l)||o.index>l.index}function uf(o){const l=o.insertBeforeIndex;return Array.isArray(l)?l[0]:l}function df(o,l){const d=o.insertBeforeIndex;Array.isArray(d)?d[0]=l:(bS(bh,OS),o.insertBeforeIndex=l)}function ss(o,l){const d=o.data[l];return null===d||"string"==typeof d?null:d.hasOwnProperty("currentCaseLViewIndex")?d:d.value}function pf(o,l,d){const g=lf(o,d,64,null,null);return cf(l,g),g}function Sh(o,l){const d=l[o.currentCaseLViewIndex];return null===d?d:d<0?~d:d}function Ph(o){return o>>>17}function GS(o){return(131070&o)>>>1}function gf(o,l,d){o.index=0;const g=Sh(l,d);o.removes=null!==g?l.remove[g]:m.Mlv}function Ml(o){if(o.index<o.removes.length){const l=o.removes[o.index++];return l>0?o.lView[l]:(o.stack.push(o.index,o.removes),gf(o,o.lView[m.eDl].data[~l],o.lView),Ml(o))}return 0===o.stack.length?(o.lView=void 0,null):(o.removes=o.stack.pop(),o.index=o.stack.pop(),Ml(o))}function iE(){const o={stack:[],index:-1};return function l(d,g){for(o.lView=g;o.stack.length;)o.stack.pop();return gf(o,d.value,g),Ml.bind(null,o)}}function uE(o,l,d){for(const g of d.node.cases[d.case]){const f=l.get(g.index-m.Yw1);f&&pt(o,f,!1)}}function xl(o){const l=o[m.qFA]??[],g=o[m.f7T][m.GpT],f=[];for(const y of l)void 0!==y.data.di?f.push(y):Dh(y,g);o[m.qFA]=f}function dE(o){const{lContainer:l}=o,d=l[m.qFA];if(null===d)return;const f=l[m.f7T][m.GpT];for(const y of d)Dh(y,f)}function Dh(o,l){let d=0,g=o.firstChild;if(g){const f=o.data.r;for(;d<f;){const y=g.nextSibling;pt(l,g,!1),g=y,d++}}}function Mh(o){xl(o);const l=o[m.jgP];(0,m.q$2)(l)&&Il(l);for(let d=m.Y20;d<o.length;d++)Il(o[d])}function Il(o){!function Ef(o){const l=o[m.tcA];if(l){const{i18nNodes:d,dehydratedIcuData:g}=l;if(d&&g){const f=o[m.GpT];for(const y of g.values())uE(f,d,y)}l.i18nNodes=void 0,l.dehydratedIcuData=void 0}}(o);const l=o[m.eDl];for(let d=m.Yw1;d<l.bindingStartIndex;d++)(0,m.A0l)(o[d])?Mh(o[d]):(0,m.q$2)(o[d])&&Il(o[d])}let rP=class{},mu=class{};class aP{resolveComponentFactory(l){throw new m.buA(917,!1)}}let Ih=class{static NULL=new aP};class Fr{}let Vn=(()=>class o{destroyNode=null;static __NG_ELEMENT_ID__=()=>function mE(){const o=(0,m.OAn)(),l=(0,m.Mx4)(),d=(0,m.KdJ)(l.index,o);return((0,m.q$2)(d)?d:o)[m.GpT]}()})(),fE=(()=>{class o{static \u0275prov=(0,m.jDH)({token:o,providedIn:"root",factory:()=>null})}return o})();function Df(o){return void 0!==o.ngModule}function Rl(o){return!!(0,m.phH)(o)}function Rh(o){return!!(0,m.oyA)(o)}function Or(o){return!!(0,m.HaV)(o)}function ds(o){return!!(0,m.xUg)(o)}function HR(o,l){if((0,m.Jzi)(o)&&!(o=(0,m.nl4)(o)))throw new Error(`Expected forwardRef function, imported from "${(0,m.PP7)(l)}", to return a standalone entity or NgModule but got "${(0,m.PP7)(o)||o}".`);if(null==(0,m.phH)(o)){const d=(0,m.xUg)(o)||(0,m.HaV)(o)||(0,m.oyA)(o);if(null==d)throw Df(o)?new Error(`A module with providers was imported from "${(0,m.PP7)(l)}". Modules with providers are not supported in standalone components imports.`):new Error(`The "${(0,m.PP7)(o)}" type, imported from "${(0,m.PP7)(l)}", must be a standalone component / directive / pipe or an NgModule. Did you forget to add the required @Component / @Directive / @Pipe or @NgModule annotation?`);if(!d.standalone){const g=function Mf(o){return(0,m.xUg)(o)?"component":(0,m.HaV)(o)?"directive":(0,m.oyA)(o)?"pipe":"type"}(o);throw new Error(`The "${(0,m.PP7)(o)}" ${g}, imported from "${(0,m.PP7)(l)}", is not standalone. Does the ${g} have the standalone: false flag?`)}}}class jR{ownerNgModule=new Map;ngModulesWithSomeUnresolvedDecls=new Set;ngModulesScopeCache=new Map;standaloneComponentsScopeCache=new Map;resolveNgModulesDecls(){if(0!==this.ngModulesWithSomeUnresolvedDecls.size){for(const l of this.ngModulesWithSomeUnresolvedDecls){const d=(0,m.phH)(l);if(d?.declarations)for(const g of da(d.declarations))ds(g)&&this.ownerNgModule.set(g,l)}this.ngModulesWithSomeUnresolvedDecls.clear()}}getComponentDependencies(l,d){this.resolveNgModulesDecls();const g=(0,m.xUg)(l);if(null===g)throw new Error(`Attempting to get component dependencies for a type that is not a component: ${l}`);if(g.standalone){const f=this.getStandaloneComponentScope(l,d);return f.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...f.compilation.directives,...f.compilation.pipes,...f.compilation.ngModules]}}{if(!this.ownerNgModule.has(l))return{dependencies:[]};const f=this.getNgModuleScope(this.ownerNgModule.get(l));return f.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...f.compilation.directives,...f.compilation.pipes]}}}registerNgModule(l,d){if(!Rl(l))throw new Error(`Attempting to register a Type which is not NgModule as NgModule: ${l}`);this.ngModulesWithSomeUnresolvedDecls.add(l)}clearScopeCacheFor(l){this.ngModulesScopeCache.delete(l),this.standaloneComponentsScopeCache.delete(l)}getNgModuleScope(l){if(this.ngModulesScopeCache.has(l))return this.ngModulesScopeCache.get(l);const d=this.computeNgModuleScope(l);return this.ngModulesScopeCache.set(l,d),d}computeNgModuleScope(l){const d=(0,m.WbQ)(l),g={exported:{directives:new Set,pipes:new Set},compilation:{directives:new Set,pipes:new Set}};for(const f of da(d.imports))if(Rl(f)){const y=this.getNgModuleScope(f);hs(y.exported.directives,g.compilation.directives),hs(y.exported.pipes,g.compilation.pipes)}else{if(!(0,m.QuC)(f)){g.compilation.isPoisoned=!0;break}if(Or(f)||ds(f))g.compilation.directives.add(f);else{if(!Rh(f))throw new m.buA(980,"The standalone imported type is neither a component nor a directive nor a pipe");g.compilation.pipes.add(f)}}if(!g.compilation.isPoisoned)for(const f of da(d.declarations)){if(Rl(f)||(0,m.QuC)(f)){g.compilation.isPoisoned=!0;break}Rh(f)?g.compilation.pipes.add(f):g.compilation.directives.add(f)}for(const f of da(d.exports))if(Rl(f)){const y=this.getNgModuleScope(f);hs(y.exported.directives,g.exported.directives),hs(y.exported.pipes,g.exported.pipes),hs(y.exported.directives,g.compilation.directives),hs(y.exported.pipes,g.compilation.pipes)}else Rh(f)?g.exported.pipes.add(f):g.exported.directives.add(f);return g}getStandaloneComponentScope(l,d){if(this.standaloneComponentsScopeCache.has(l))return this.standaloneComponentsScopeCache.get(l);const g=this.computeStandaloneComponentScope(l,d);return this.standaloneComponentsScopeCache.set(l,g),g}computeStandaloneComponentScope(l,d){const g={compilation:{directives:new Set([l]),pipes:new Set,ngModules:new Set}};for(const f of(0,m.Bqz)(d??[])){const y=(0,m.nl4)(f);try{HR(y,l)}catch{return g.compilation.isPoisoned=!0,g}if(Rl(y)){g.compilation.ngModules.add(y);const v=this.getNgModuleScope(y);if(v.exported.isPoisoned)return g.compilation.isPoisoned=!0,g;hs(v.exported.directives,g.compilation.directives),hs(v.exported.pipes,g.compilation.pipes)}else if(Rh(y))g.compilation.pipes.add(y);else{if(!Or(y)&&!ds(y))return g.compilation.isPoisoned=!0,g;g.compilation.directives.add(y)}}return g}isOrphanComponent(l){const d=(0,m.xUg)(l);return!(!d||d.standalone||(this.resolveNgModulesDecls(),this.ownerNgModule.has(l)))}}function hs(o,l){for(const d of o)l.add(d)}const Lh=new jR,oP={};class Ao{injector;parentInjector;constructor(l,d){this.injector=l,this.parentInjector=d}get(l,d,g){const f=this.injector.get(l,oP,g);return f!==oP||d===oP?f:this.parentInjector.get(l,d,g)}}function xf(o,l,d){let g=d?o.styles:null,f=d?o.classes:null,y=0;if(null!==l)for(let v=0;v<l.length;v++){const A=l[v];if("number"==typeof A)y=A;else if(1==y)f=(0,m.n$e)(f,A);else if(2==y){const R=l[++v];g=(0,m.n$e)(g,A+": "+R+";")}}d?o.styles=g:o.stylesWithoutHost=g,d?o.classes=f:o.classesWithoutHost=f}function Oa(o,l=0){const d=(0,m.OAn)();return null===d?(0,m.KVO)(o,l):ki((0,m.Mx4)(),d,(0,m.nl4)(o),l)}function sP(o,l,d,g,f){const y=null===g?null:{"":-1},v=f(o,d);if(null!==v){let A=v,_=null,R=null;for(const O of v)if(null!==O.resolveHostDirectives){[A,_,R]=O.resolveHostDirectives(v);break}!function vE(o,l,d,g,f,y,v){const A=g.length;let _=null;for(let re=0;re<A;re++){const ae=g[re];null===_&&(0,m.JlV)(ae)&&(_=ae,If(o,d,re)),mn(Bi(d,l),o,ae.type)}(function _E(o,l,d){o.flags|=1,o.directiveStart=l,o.directiveEnd=l+d,o.providerIndexes=l})(d,o.data.length,A),_?.viewProvidersResolver&&_.viewProvidersResolver(_);for(let re=0;re<A;re++){const ae=g[re];ae.providersResolver&&ae.providersResolver(ae)}let R=!1,O=!1,V=zc(o,l,A,null);A>0&&(d.directiveToIndex=new Map);for(let re=0;re<A;re++){const ae=g[re];if(d.mergedAttrs=Oi(d.mergedAttrs,ae.hostAttrs),cP(o,d,l,V,ae),PE(V,ae,f),null!==v&&v.has(ae)){const[Me,Ue]=v.get(ae);d.directiveToIndex.set(ae.type,[V,Me+d.directiveStart,Ue+d.directiveStart])}else(null===y||!y.has(ae))&&d.directiveToIndex.set(ae.type,V);null!==ae.contentQueries&&(d.flags|=4),(null!==ae.hostBindings||null!==ae.hostAttrs||0!==ae.hostVars)&&(d.flags|=64);const ve=ae.type.prototype;!R&&(ve.ngOnChanges||ve.ngOnInit||ve.ngDoCheck)&&((o.preOrderHooks??=[]).push(d.index),R=!0),!O&&(ve.ngOnChanges||ve.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(d.index),O=!0),V++}!function bE(o,l,d){for(let g=l.directiveStart;g<l.directiveEnd;g++){const f=o.data[g];if(null!==d&&d.has(f)){const y=d.get(f);lP(0,l,y,g),lP(1,l,y,g),Nh(l,g,!0)}else Rf(0,l,f,g),Rf(1,l,f,g),Nh(l,g,!1)}}(o,d,y)}(o,l,d,A,y,_,R)}null!==y&&null!==g&&function Ba(o,l,d){const g=o.localNames=[];for(let f=0;f<l.length;f+=2){const y=d[l[f+1]];if(null==y)throw new m.buA(-301,!1);g.push(l[f],y)}}(d,g,y)}function If(o,l,d){l.componentOffset=d,(o.components??=[]).push(l.index)}function Rf(o,l,d,g){const f=0===o?d.inputs:d.outputs;for(const y in f)if(f.hasOwnProperty(y)){let v;v=0===o?l.inputs??={}:l.outputs??={},v[y]??=[],v[y].push(g),Lf(l,y)}}function lP(o,l,d,g){const f=0===o?d.inputs:d.outputs;for(const y in f)if(f.hasOwnProperty(y)){const v=f[y];let A;A=0===o?l.hostDirectiveInputs??={}:l.hostDirectiveOutputs??={},A[v]??=[],A[v].push(g,y),Lf(l,v)}}function Lf(o,l){"class"===l?o.flags|=8:"style"===l&&(o.flags|=16)}function Nh(o,l,d){const{attrs:g,inputs:f,hostDirectiveInputs:y}=o;if(null===g||!d&&null===f||d&&null===y||wm(o))return o.initialInputs??=[],void o.initialInputs.push(null);let v=null,A=0;for(;A<g.length;){const _=g[A];if(0!==_)if(5!==_){if("number"==typeof _)break;if(!d&&f.hasOwnProperty(_)){const R=f[_];for(const O of R)if(O===l){v??=[],v.push(_,g[A+1]);break}}else if(d&&y.hasOwnProperty(_)){const R=y[_];for(let O=0;O<R.length;O+=2)if(R[O]===l){v??=[],v.push(R[O+1],g[A+1]);break}}A+=2}else A+=2;else A+=4}o.initialInputs??=[],o.initialInputs.push(v)}function cP(o,l,d,g,f){o.data[g]=f;const y=f.factory||(f.factory=(0,m.wGu)(f.type,!0)),v=new rt(y,(0,m.JlV)(f),Oa,null);o.blueprint[g]=v,d[g]=v,function AE(o,l,d,g,f){const y=f.hostBindings;if(y){let v=o.hostBindingOpCodes;null===v&&(v=o.hostBindingOpCodes=[]);const A=~l.index;(function SE(o){let l=o.length;for(;l>0;){const d=o[--l];if("number"==typeof d&&d<0)return d}return 0})(v)!=A&&v.push(A),v.push(d,g,y)}}(o,l,g,zc(o,d,f.hostVars,Xt),f)}function PE(o,l,d){if(d){if(l.exportAs)for(let g=0;g<l.exportAs.length;g++)d[l.exportAs[g]]=o;(0,m.JlV)(l)&&(d[""]=o)}}function fu(o,l,d,g,f,y,v,A){const _=l[m.eDl],R=_.consts,V=Na(_,o,d,g,(0,m.db4)(R,v));return y&&sP(_,l,V,(0,m.db4)(R,A),f),V.mergedAttrs=Oi(V.mergedAttrs,V.attrs),null!==V.attrs&&xf(V,V.attrs,!1),null!==V.mergedAttrs&&xf(V,V.mergedAttrs,!0),null!==_.queries&&_.queries.elementStart(_,V),V}function Fh(o,l){pn(o,l),(0,m.srX)(l)&&o.queries.elementEnd(l)}function dP(o,l,d,g,f,y){const v=l.consts,_=Na(l,o,d,g,(0,m.db4)(v,f));if(_.mergedAttrs=Oi(_.mergedAttrs,_.attrs),null!=y){const R=(0,m.db4)(v,y);_.localNames=[];for(let O=0;O<R.length;O+=2)_.localNames.push(R[O],-1)}return null!==_.attrs&&xf(_,_.attrs,!1),null!==_.mergedAttrs&&xf(_,_.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,_),_}function Ll(o){return!!hP(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function wE(o,l){if(Array.isArray(o))for(let d=0;d<o.length;d++)l(o[d]);else{const d=o[Symbol.iterator]();let g;for(;!(g=d.next()).done;)l(g.value)}}function hP(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function pa(o,l,d){return o[l]=d}function Nl(o,l){return o[l]}function Si(o,l,d){return d!==Xt&&(!Object.is(o[l],d)&&(o[l]=d,!0))}function ps(o,l,d,g){const f=Si(o,l,d);return Si(o,l+1,g)||f}function Oh(o,l,d,g,f){const y=ps(o,l,d,g);return Si(o,l+2,f)||y}function _r(o,l,d,g,f,y){const v=ps(o,l,d,g);return ps(o,l+2,f,y)||v}const pP=Symbol("CONTROL");function $a(o,l,d){return function g(f){El((0,m.Qs1)(o)?(0,m.KdJ)(o.index,l):l,5);const v=l[m.SKP];let A=gP(l,v,d,f),_=g.__ngNextListenerFn__;for(;_;)A=gP(l,v,_,f)&&A,_=_.__ngNextListenerFn__;return A}}function gP(o,l,d,g){const f=(0,x.Ht)(null);try{return ut(Oe.OutputStart,l,d),!1!==d(g)}catch(y){return Ra(o,y),!1}finally{ut(Oe.OutputEnd,l,d),(0,x.Ht)(f)}}function Bh(o,l,d,g,f,y,v,A){const _=(0,m.yoD)(o);let R=!1,O=null;if(!g&&_&&(O=function mP(o,l,d,g){const f=o.cleanup;if(null!=f)for(let y=0;y<f.length-1;y+=2){const v=f[y];if(v===d&&f[y+1]===g){const A=l[m.VVG],_=f[y+2];return A&&A.length>_?A[_]:null}"string"==typeof v&&(y+=2)}return null}(l,d,y,o.index)),null!==O)(O.__ngLastListenerFn__||O).__ngNextListenerFn__=v,O.__ngLastListenerFn__=v,R=!0;else{const V=(0,m.d31)(o,d),re=g?g(V):V,ae=f.listen(re,y,A);(function EE(o){return o.startsWith("animation")||o.startsWith("transition")})(y)||fP(g?Me=>g((0,m.IvY)(Me[o.index])):o.index,l,d,y,A,ae,!1)}return R}function fP(o,l,d,g,f,y,v){const A=l.firstCreatePass?(0,m.vNG)(l):null,_=(0,m.d_l)(d),R=_.length;_.push(f,y),A&&A.push(g,o,R,(R+1)*(v?-1:1))}function Fl(o,l,d,g,f,y){const A=l[m.eDl],V=l[d][A.data[d].outputs[g]].subscribe(y);fP(o.index,A,l,f,y,V,!0)}const Ga=Symbol("BINDING");class bP extends Ih{ngModule;constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const d=(0,m.xUg)(l);return new $h(d,this.ngModule)}}class $h extends mu{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function NE(o){return Object.keys(o).map(l=>{const[d,g,f]=o[l],y={propName:d,templateName:l,isSignal:0!==(g&yl.SignalBased)};return f&&(y.transform=f),y})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function FE(o){return Object.keys(o).map(l=>({propName:o[l],templateName:l}))}(this.componentDef.outputs),this.cachedOutputs}constructor(l,d){super(),this.componentDef=l,this.ngModule=d,this.componentType=l.type,this.selector=function Cm(o){return o.map(Em).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors??[],this.isBoundToModule=!!d}create(l,d,g,f,y,v){ut(Oe.DynamicComponentStart);const A=(0,x.Ht)(null);try{const _=this.componentDef,R=function HE(o,l,d,g){const f=o?["ng-version","21.1.1"]:function Dm(o){const l=[],d=[];let g=1,f=2;for(;g<o.length;){let y=o[g];if("string"==typeof y)2===f?""!==y&&l.push(y,o[++g]):8===f&&d.push(y);else{if(!Sr(f))break;f=y}g++}return d.length&&l.push(1,...d),l}(l.selectors[0]);let y=null,v=null,A=0;if(d)for(const O of d)A+=O[Ga].requiredVars,O.create&&(O.targetIdx=0,(y??=[]).push(O)),O.update&&(O.targetIdx=0,(v??=[]).push(O));if(g)for(let O=0;O<g.length;O++){const V=g[O];if("function"!=typeof V)for(const re of V.bindings){A+=re[Ga].requiredVars;const ae=O+1;re.create&&(re.targetIdx=ae,(y??=[]).push(re)),re.update&&(re.targetIdx=ae,(v??=[]).push(re))}}const _=[l];if(g)for(const O of g){const re=(0,m.HaV)("function"==typeof O?O:O.type);_.push(re)}return Vc(0,null,function jE(o,l){return o||l?d=>{if(1&d&&o)for(const g of o)g.create();if(2&d&&l)for(const g of l)g.update()}:null}(y,v),1,A,_,null,null,null,[f],null)}(g,_,v,y),O=function OE(o,l,d){let g=l instanceof m.uvJ?l:l?.injector;return g&&null!==o.getStandaloneInjector&&(g=o.getStandaloneInjector(g)||g),g?new Ao(d,g):d}(_,f||this.ngModule,l),V=function BE(o){const l=o.get(Fr,null);if(null===l)throw new m.buA(407,!1);return{rendererFactory:l,sanitizer:o.get(fE,null),changeDetectionScheduler:o.get(m.hk6,null),ngReflect:!1}}(O),re=V.rendererFactory.createRenderer(null,_),ae=g?function jT(o,l,d,g){const y=g.get(Qr,!1)||d===Ar.ShadowDom||d===Ar.ExperimentalIsolatedShadowDom,v=o.selectRootElement(l,y);return function Gm(o){Ia(o)}(v),v}(re,g,_.encapsulation,O):function $E(o,l){const d=function GE(o){return(o.selectors[0][0]||"div").toLowerCase()}(o);return be(l,d,"svg"===d?m.jNX:"math"===d?m.rJ1:null)}(_,re),ve=v?.some(AP)||y?.some(et=>"function"!=typeof et&&et.bindings.some(AP)),Me=fl(null,R,null,512|Jd(_),null,null,V,re,O,null,null);Me[m.Yw1]=ae,(0,m.ID8)(Me);let Ue=null;try{const et=fu(m.Yw1,Me,2,"#host",()=>R.directiveRegistry,!0,0);JA(re,ae,et),$e(ae,Me),nu(R,Me,et),Rc(R,et,Me),Fh(R,et),void 0!==d&&function UE(o,l,d){const g=o.projection=[];for(let f=0;f<l.length;f++){const y=d[f];g.push(null!=y&&y.length?Array.from(y):null)}}(et,this.ngContentSelectors,d),Ue=(0,m.KdJ)(et.index,Me),Me[m.SKP]=Ue[m.SKP],ou(R,Me,null)}catch(et){throw null!==Ue&&F(Ue),F(Me),et}finally{ut(Oe.DynamicComponentEnd),(0,m.bll)()}return new qE(this.componentType,Me,!!ve)}finally{(0,x.Ht)(A)}}}function AP(o){const l=o[Ga].kind;return"input"===l||"twoWay"===l}class qE extends rP{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(l,d,g){super(),this._rootLView=d,this._hasInputBindings=g,this._tNode=(0,m.XRZ)(d[m.eDl],m.Yw1),this.location=bi(this._tNode,d),this.instance=(0,m.KdJ)(this._tNode.index,d)[m.SKP],this.hostView=this.changeDetectorRef=new vh(d,void 0),this.componentType=l}setInput(l,d){const g=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(l)&&Object.is(this.previousInputValues.get(l),d))return;const f=this._rootLView;uh(g,f[m.eDl],f,l,d),this.previousInputValues.set(l,d),El((0,m.KdJ)(g.index,f),1)}get injector(){return new ai(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}let Gh=(()=>class o{static __NG_ELEMENT_ID__=ea})();function ea(){return _P((0,m.Mx4)(),(0,m.OAn)())}const VR=Gh,SP=class extends VR{_lContainer;_hostTNode;_hostLView;constructor(l,d,g){super(),this._lContainer=l,this._hostTNode=d,this._hostLView=g}get element(){return bi(this._hostTNode,this._hostLView)}get injector(){return new ai(this._hostTNode,this._hostLView)}get parentInjector(){const l=vi(this._hostTNode,this._hostLView);if(Xn(l)){const d=Ii(l,this._hostLView),g=xi(l);return new ai(d[m.eDl].data[g+8],d)}return new ai(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const d=PP(this._lContainer);return null!==d&&d[l]||null}get length(){return this._lContainer.length-m.Y20}createEmbeddedView(l,d,g){let f,y;"number"==typeof g?f=g:null!=g&&(f=g.index,y=g.injector);const A=l.createEmbeddedViewImpl(d||{},y,null);return this.insertImpl(A,f,La(this._hostTNode,null)),A}createComponent(l,d,g,f,y,v,A){const _=l&&!kt(l);let R;if(_)R=d;else{const Ue=d||{};R=Ue.index,g=Ue.injector,f=Ue.projectableNodes,y=Ue.environmentInjector||Ue.ngModuleRef,v=Ue.directives,A=Ue.bindings}const O=_?l:new $h((0,m.xUg)(l)),V=g||this.parentInjector;if(!y&&null==O.ngModule){const et=(_?V:this.parentInjector).get(m.uvJ,null);et&&(y=et)}(0,m.xUg)(O.componentType??{});const Me=O.create(V,f,null,y,v,A);return this.insertImpl(Me.hostView,R,La(this._hostTNode,null)),Me}insert(l,d){return this.insertImpl(l,d,!0)}insertImpl(l,d,g){const f=l._lView;if((0,m.ITl)(f)){const A=this.indexOf(l);if(-1!==A)this.detach(A);else{const _=f[m.f7T],R=new SP(_,_[m.qlT],_[m.f7T]);R.detach(R.indexOf(l))}}const y=this._adjustIndex(d),v=this._lContainer;return vo(v,f,y,g),l.attachToViewContainerRef(),(0,m.EYC)(Nf(v),y,l),l}move(l,d){return this.insert(l,d)}indexOf(l){const d=PP(this._lContainer);return null!==d?d.indexOf(l):-1}remove(l){const d=this._adjustIndex(l,-1),g=ns(this._lContainer,d);g&&((0,m.E6O)(Nf(this._lContainer),d),eu(g[m.eDl],g))}detach(l){const d=this._adjustIndex(l,-1),g=ns(this._lContainer,d);return g&&null!=(0,m.E6O)(Nf(this._lContainer),d)?new vh(g):null}_adjustIndex(l,d=0){return l??this.length+d}};function PP(o){return o[m.bm_]}function Nf(o){return o[m.bm_]||(o[m.bm_]=[])}function _P(o,l){let d;const g=l[o.index];return(0,m.A0l)(g)?d=g:(d=mh(g,l,null,o),l[o.index]=d,Yc(l,d)),Ff(d,l,o,g),new SP(d,o,l)}let Ff=function wP(o,l,d,g){if(o[m.s6P])return;let f;f=8&d.type?(0,m.IvY)(g):function Ol(o,l){const d=o[m.GpT],g=d.createComment(""),f=(0,m.d31)(l,o),y=d.parentNode(f);return xe(d,y,g,d.nextSibling(f),!1),g}(l,d),o[m.s6P]=f};class Bf{queryList;matches=null;constructor(l){this.queryList=l}clone(){return new Bf(this.queryList)}setDirty(){this.queryList.setDirty()}}class $f{queries;constructor(l=[]){this.queries=l}createEmbeddedView(l){const d=l.queries;if(null!==d){const g=null!==l.contentQueries?l.contentQueries[0]:d.length,f=[];for(let y=0;y<g;y++){const v=d.getByIndex(y);f.push(this.queries[v.indexInDeclarationView].clone())}return new $f(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}finishViewCreation(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let d=0;d<this.queries.length;d++)null!==Uf(l,d).matches&&this.queries[d].setDirty()}}class TP{flags;read;predicate;constructor(l,d,g=null){this.flags=d,this.read=g,this.predicate="string"==typeof l?function XE(o){return o.split(",").map(l=>l.trim())}(l):l}}class Gf{queries;constructor(l=[]){this.queries=l}elementStart(l,d){for(let g=0;g<this.queries.length;g++)this.queries[g].elementStart(l,d)}elementEnd(l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(l)}embeddedTView(l){let d=null;for(let g=0;g<this.length;g++){const f=null!==d?d.length:0,y=this.getByIndex(g).embeddedTView(l,f);y&&(y.indexInDeclarationView=g,null!==d?d.push(y):d=[y])}return null!==d?new Gf(d):null}template(l,d){for(let g=0;g<this.queries.length;g++)this.queries[g].template(l,d)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Hf{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(l,d=-1){this.metadata=l,this._declarationNodeIndex=d}elementStart(l,d){this.isApplyingToNode(d)&&this.matchTNode(l,d)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,d){this.elementStart(l,d)}embeddedTView(l,d){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,d),new Hf(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1&~this.metadata.flags){const d=this._declarationNodeIndex;let g=l.parent;for(;null!==g&&8&g.type&&g.index!==d;)g=g.parent;return d===(null!==g?g.index:-1)}return this._appliesToNextNode}matchTNode(l,d){const g=this.metadata.predicate;if(Array.isArray(g))for(let f=0;f<g.length;f++){const y=g[f];this.matchTNodeWithReadOption(l,d,KE(d,y)),this.matchTNodeWithReadOption(l,d,Zn(d,l,y,!1,!1))}else g===rs?4&d.type&&this.matchTNodeWithReadOption(l,d,-1):this.matchTNodeWithReadOption(l,d,Zn(d,l,g,!1,!1))}matchTNodeWithReadOption(l,d,g){if(null!==g){const f=this.metadata.read;if(null!==f)if(f===Tt||f===Gh||f===rs&&4&d.type)this.addMatch(d.index,-2);else{const y=Zn(d,l,f,!1,!1);null!==y&&this.addMatch(d.index,y)}else this.addMatch(d.index,g)}}addMatch(l,d){null===this.matches?this.matches=[l,d]:this.matches.push(l,d)}}function KE(o,l){const d=o.localNames;if(null!==d)for(let g=0;g<d.length;g+=2)if(d[g]===l)return d[g+1];return null}function YE(o,l,d,g){return-1===d?function zE(o,l){return 11&o.type?bi(o,l):4&o.type?Cl(o,l):null}(l,o):-2===d?function jf(o,l,d){return d===Tt?bi(l,o):d===rs?Cl(l,o):d===Gh?_P(l,o):void 0}(o,l,g):En(o,o[m.eDl],d,l)}function EP(o,l,d,g){const f=l[m.Ds7].queries[g];if(null===f.matches){const y=o.data,v=d.matches,A=[];for(let _=0;null!==v&&_<v.length;_+=2){const R=v[_];A.push(R<0?null:YE(l,y[R],v[_+1],d.metadata.read))}f.matches=A}return f.matches}function qf(o,l,d,g){const f=o.queries.getByIndex(d),y=f.matches;if(null!==y){const v=EP(o,l,f,d);for(let A=0;A<y.length;A+=2){const _=y[A];if(_>0)g.push(v[A/2]);else{const R=y[A+1],O=l[-_];for(let V=m.Y20;V<O.length;V++){const re=O[V];re[m.rQE]===re[m.f7T]&&qf(re[m.eDl],re,R,g)}if(null!==O[m.nfM]){const V=O[m.nfM];for(let re=0;re<V.length;re++){const ae=V[re];qf(ae[m.eDl],ae,R,g)}}}}}return g}function gs(o,l){return o[m.Ds7].queries[l].queryList}function CP(o,l,d){const g=new $i(!(4&~d));return(0,m.B22)(o,l,g,g.destroy),(l[m.Ds7]??=new $f).queries.push(new Bf(g))-1}function DP(o,l,d){const g=(0,m.klJ)();return g.firstCreatePass&&(Hh(g,new TP(o,l,d),-1),!(2&~l)&&(g.staticViewQueries=!0)),CP(g,(0,m.OAn)(),l)}function MP(o,l,d,g){const f=(0,m.klJ)();if(f.firstCreatePass){const y=(0,m.Mx4)();Hh(f,new TP(l,d,g),y.index),function JE(o,l){const d=o.contentQueries||(o.contentQueries=[]);l!==(d.length?d[d.length-1]:-1)&&d.push(o.queries.length-1,l)}(f,o),!(2&~d)&&(f.staticContentQueries=!0)}return CP(f,(0,m.OAn)(),d)}function Hh(o,l,d){null===o.queries&&(o.queries=new Gf),o.queries.track(new Hf(l,d))}function Uf(o,l){return o.queries.getByIndex(l)}function xP(o,l){const d=o[m.eDl],g=Uf(d,l);return g.crossesNgTemplate?qf(d,o,l,[]):EP(d,o,g,l)}function Vf(o,l){const d=o[x.bh];d._lView=(0,m.OAn)(),d._queryIndex=l,d._queryList=gs(d._lView,l),d._queryList.onDirty(()=>d._dirtyCounter.update(g=>g+1))}let ms=new Map;const yu=new Set;function ZE(o){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,T.A)(function*(o){const l=ms;ms=new Map;const d=new Map;function g(y){const v=d.get(y);if(v)return v;const A=o(y).then(_=>function iC(o,l){return Xf.apply(this,arguments)}(y,_));return d.set(y,A),A}const f=Array.from(l).map(function(){var y=(0,T.A)(function*([v,A]){if(A.styleUrl&&A.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");const _=[];A.templateUrl&&_.push(g(A.templateUrl).then(re=>{A.template=re}));const R="string"==typeof A.styles?[A.styles]:A.styles??[];A.styles=R;let{styleUrl:O,styleUrls:V}=A;if(O&&(V=[O],A.styleUrl=void 0),V?.length){const re=Promise.all(V.map(ae=>g(ae))).then(ae=>{R.push(...ae),A.styleUrls=void 0});_.push(re)}yield Promise.all(_),yu.delete(v)});return function(v){return y.apply(this,arguments)}}());yield Promise.all(f)}),Kf.apply(this,arguments)}function Yf(){return 0===ms.size}function Xf(){return(Xf=(0,T.A)(function*(o,l){if("string"==typeof l)return l;if(void 0!==l.status&&200!==l.status)throw new m.buA(918,!1);return l.text()})).apply(this,arguments)}const Jf=new Map;function jh(o,l){(function nC(o,l,d){if(l&&l!==d)throw new m.buA(921,!1)})(0,Jf.get(l)||null,o),Jf.set(l,o)}let Po=class{},rC=class{};function LP(o,l){return new Qf(o,l??null,[])}class Qf extends Po{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new bP(this);constructor(l,d,g,f=!0){super(),this.ngModuleType=l,this._parent=d;const y=(0,m.phH)(l);this._bootstrapComponents=da(y.bootstrap),this._r3Injector=(0,m.Pz9)(l,d,[{provide:Po,useValue:this},{provide:Ih,useValue:this.componentFactoryResolver},...g],(0,m.AsM)(l),new Set(["environment"])),f&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class NP extends rC{moduleType;constructor(l){super(),this.moduleType=l}create(l){return new Qf(this.moduleType,l,[])}}function FP(o,l,d){return new Qf(o,l,d,!1)}class OP extends Po{injector;componentFactoryResolver=new bP(this);instance=null;constructor(l){super();const d=new m.e5P([...l.providers,{provide:Po,useValue:this},{provide:Ih,useValue:this.componentFactoryResolver}],l.parent||(0,m.WB9)(),l.debugName,new Set(["environment"]));this.injector=d,l.runEnvironmentInitializers&&d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function vu(o,l,d=null){return new OP({providers:o,parent:l,debugName:d,runEnvironmentInitializers:!0}).injector}let aC=(()=>{class o{_injector;cachedInjectors=new Map;constructor(d){this._injector=d}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d)){const g=(0,m.jXY)(!1,d.type),f=g.length>0?vu([g],this._injector,""):null;this.cachedInjectors.set(d,f)}return this.cachedInjectors.get(d)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,m.jDH)({token:o,providedIn:"environment",factory:()=>new o((0,m.KVO)(m.uvJ))})}return o})();function BP(o){return ee(()=>{const l=qP(o),d={...l,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===bn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:l.standalone&&o.dependencies||null,getStandaloneInjector:l.standalone?f=>f.get(aC).getOrCreateStandaloneInjector(d):null,getExternalStyles:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||Ar.Emulated,styles:o.styles||m.Mlv,_:null,schemas:o.schemas||null,tView:null,id:""};l.standalone&&_n("NgStandalone"),fs(d);const g=o.dependencies;return d.directiveDefs=_o(g,$P),d.pipeDefs=_o(g,m.oyA),d.id=function cC(o){let l=0;const g=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,"function"==typeof o.consts?"":o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery];for(const y of g.join("|"))l=Math.imul(31,l)+y.charCodeAt(0)|0;return l+=2147483648,"c"+l}(d),d})}function $P(o){return(0,m.xUg)(o)||(0,m.HaV)(o)}function GP(o){return ee(()=>({type:o.type,bootstrap:o.bootstrap||m.Mlv,declarations:o.declarations||m.Mlv,imports:o.imports||m.Mlv,exports:o.exports||m.Mlv,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function oC(o,l){if(null==o)return m.MZA;const d={};for(const g in o)if(o.hasOwnProperty(g)){const f=o[g];let y,v,A,_;Array.isArray(f)?(A=f[0],y=f[1],v=f[2]??y,_=f[3]||null):(y=f,v=f,A=yl.None,_=null),d[y]=[g,A,_],l[y]=v}return d}function sC(o){if(null==o)return m.MZA;const l={};for(const d in o)o.hasOwnProperty(d)&&(l[o[d]]=d);return l}function HP(o){return ee(()=>{const l=qP(o);return fs(l),l})}function jP(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:o.standalone??!0,onDestroy:o.type.prototype.ngOnDestroy||null}}function qP(o){const l={};return{type:o.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:l,inputConfig:o.inputs||m.MZA,exportAs:o.exportAs||null,standalone:o.standalone??!0,signals:!0===o.signals,selectors:o.selectors||m.Mlv,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:oC(o.inputs,l),outputs:sC(o.outputs),debugInfo:null}}function fs(o){o.features?.forEach(l=>l(o))}function _o(o,l){return o?()=>{const d="function"==typeof o?o():o,g=[];for(const f of d){const y=l(f);null!==y&&g.push(y)}return g}:null}function dC(o){const l=[];let d=!1,g=null,f=null;for(let y=0;y<o.length;y++){const v=o[y];if(null!==v.hostDirectives){const A=l.length;g??=new Map,f??=new Map,ys(v,l,g),f.set(v,[A,l.length-1])}0===y&&(0,m.JlV)(v)&&(d=!0,l.push(v))}for(let y=d?1:0;y<o.length;y++)l.push(o[y]);return[l,g,f]}function ys(o,l,d){if(null!==o.hostDirectives)for(const g of o.hostDirectives)if("function"==typeof g){const f=g();for(const y of f)UP(ui(y),l,d)}else UP(g,l,d)}function UP(o,l,d){const g=(0,m.HaV)(o.directive);(function hC(o,l){for(const d in l)l.hasOwnProperty(d)&&(o[l[d]]=o[d])})(g.declaredInputs,o.inputs),ys(g,l,d),d.set(g,o),l.push(g)}function ui(o){return"function"==typeof o?{directive:(0,m.nl4)(o),inputs:m.MZA,outputs:m.MZA}:{directive:(0,m.nl4)(o.directive),inputs:at(o.inputs),outputs:at(o.outputs)}}function at(o){if(void 0===o||0===o.length)return m.MZA;const l={};for(let d=0;d<o.length;d+=2)l[o[d]]=o[d+1];return l}function ey(o){let l=function Zf(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),d=!0;const g=[o];for(;l;){let f;if((0,m.JlV)(o))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new m.buA(903,!1);f=l.\u0275dir}if(f){if(d){g.push(f);const v=o;v.inputs=ty(o.inputs),v.declaredInputs=ty(o.declaredInputs),v.outputs=ty(o.outputs);const A=f.hostBindings;A&&yC(o,A);const _=f.viewQuery,R=f.contentQueries;if(_&&mC(o,_),R&&fC(o,R),pC(o,f),(0,m.dwj)(o.outputs,f.outputs),(0,m.JlV)(f)&&f.data.animation){const O=o.data;O.animation=(O.animation||[]).concat(f.data.animation)}}const y=f.features;if(y)for(let v=0;v<y.length;v++){const A=y[v];A&&A.ngInherit&&A(o),A===ey&&(d=!1)}}l=Object.getPrototypeOf(l)}!function gC(o){let l=0,d=null;for(let g=o.length-1;g>=0;g--){const f=o[g];f.hostVars=l+=f.hostVars,f.hostAttrs=Oi(f.hostAttrs,d=Oi(d,f.hostAttrs))}}(g)}function pC(o,l){for(const d in l.inputs){if(!l.inputs.hasOwnProperty(d)||o.inputs.hasOwnProperty(d))continue;const g=l.inputs[d];void 0!==g&&(o.inputs[d]=g,o.declaredInputs[d]=l.declaredInputs[d])}}function ty(o){return o===m.MZA?{}:o===m.Mlv?[]:o}function mC(o,l){const d=o.viewQuery;o.viewQuery=d?(g,f)=>{l(g,f),d(g,f)}:l}function fC(o,l){const d=o.contentQueries;o.contentQueries=d?(g,f,y)=>{l(g,f,y),d(g,f,y)}:l}function yC(o,l){const d=o.hostBindings;o.hostBindings=d?(g,f)=>{l(g,f),d(g,f)}:l}function KP(o,l,d,g,f,y,v,A){if(d.firstCreatePass){o.mergedAttrs=Oi(o.mergedAttrs,o.attrs);const O=o.tView=Vc(2,o,f,y,v,d.directiveRegistry,d.pipeRegistry,null,d.schemas,d.consts,null);null!==d.queries&&(d.queries.template(d,o),O.queries=d.queries.embeddedTView(o))}A&&(o.flags|=A),(0,m.iMd)(o,!1);const _=zP(d,l,o,g);(0,m.SX7)()&&$m(d,l,_,o),$e(_,l);const R=mh(_,l,_,o);l[g+m.Yw1]=R,Yc(l,R)}function vs(o,l,d,g,f,y,v,A,_,R,O){const V=d+m.Yw1;let re;if(l.firstCreatePass){if(re=Na(l,V,4,v||null,A||null),null!=R){const ae=(0,m.db4)(l.consts,R);re.localNames=[];for(let ve=0;ve<ae.length;ve+=2)re.localNames.push(ae[ve],-1)}}else re=l.data[V];return KP(re,o,l,d,g,f,y,_),null!=R&&_l(o,re,O),re}function iy(o,l,d,g,f,y,v,A){const _=(0,m.OAn)(),R=(0,m.klJ)();return function vC(o,l,d,g,f,y,v,A,_,R,O){const V=d+m.Yw1;let re;l.firstCreatePass?(re=Na(l,V,4,v||null,A||null),(0,m.ckz)()&&sP(l,o,re,(0,m.db4)(l.consts,R),au),pn(l,re)):re=l.data[V],KP(re,o,l,d,g,f,y,_),(0,m.yoD)(re)&&nu(l,o,re),null!=R&&_l(o,re,O)}(_,R,o,l,d,g,f,(0,m.db4)(R.consts,y),void 0,v,A),iy}function ny(o,l,d,g,f,y,v,A){const _=(0,m.OAn)(),R=(0,m.klJ)();return vs(_,R,o,l,d,g,f,(0,m.db4)(R.consts,y),void 0,v,A),ny}let zP=function YP(o,l,d,g){return(0,m.m7n)(!0),l[m.GpT].createComment("")};var ji=function(o){return o[o.NOT_STARTED=0]="NOT_STARTED",o[o.IN_PROGRESS=1]="IN_PROGRESS",o[o.COMPLETE=2]="COMPLETE",o[o.FAILED=3]="FAILED",o}(ji||{}),gi=function(o){return o[o.Placeholder=0]="Placeholder",o[o.Loading=1]="Loading",o[o.Complete=2]="Complete",o[o.Error=3]="Error",o}(gi||{}),bs=function(o){return o[o.Initial=-1]="Initial",o}(bs||{}),Wh=function(o){return o[o.Manual=0]="Manual",o[o.Playthrough=1]="Playthrough",o}(Wh||{});function bu(o,l,d){const g=Vh(o);null===l[g]&&(l[g]=[]),l[g].push(d)}function $l(o,l){const d=Vh(o),g=l[d];if(null!==g){for(const f of g)f();l[d]=null}}function JP(o){$l(1,o),$l(0,o),$l(2,o)}function Vh(o){let l=4;return 1===o?l=5:2===o&&(l=9),l}function Au(o){return o+1}function ur(o,l){return o[Au(l.index)]}function Rn(o,l){const d=Au(l.index);return o.data[d]}function oy(o,l){return l===gi.Placeholder?o.placeholderBlockConfig?.[0]??null:l===gi.Loading?o.loadingBlockConfig?.[0]??null:null}function Kh(o){return o.loadingBlockConfig?.[1]??null}function QP(o,l){if(!o||0===o.length)return l;const d=new Set(o);for(const g of l)d.add(g);return o.length===d.size?o:Array.from(d)}function Yh(o,l,d,g){const f=d.get(m.SKi);return function sm(o,l,d,g){const f=ao(g);let y=xr.get(o)?.get(f);qn.has(f)||qn.set(f,{observer:d(g),count:0});const v=qn.get(f);if(!y){y=new Ca,v.observer.observe(o);let A=xr.get(o);A?A.set(f,y):(A=new Map,xr.set(o,A)),A.set(f,y),v.count++}return y.callbacks.add(l),()=>{if(xr.get(o)?.has(f)){if(y.callbacks.delete(l),0===y.callbacks.size){v.observer.unobserve(o),v.count--;const A=xr.get(o);A&&(A.delete(f),0===A.size&&xr.delete(o))}0===v.count&&(v.observer.disconnect(),qn.delete(f))}}}(o,()=>f.run(l),y=>f.runOutsideAngular(()=>function om(o){const l=ao(o);return new IntersectionObserver(d=>{for(const g of d)g.isIntersecting&&xr.has(g.target)&&xr.get(g.target)?.get(l)?.listener()},o)}(y)),g)}function Su(o,l,d,g,f,y,v,A){const _=o[m.YEL],R=_.get(m.SKi);let O;O=function NT(o,l){const d=l?.injector??(0,m.WQX)(m.zZn);return _n("NgAfterRender"),pS(o,d,l,!1)}({read:function V(){if((0,m.EPY)(o))return void O.destroy();const re=ur(o,l),ae=re[1];if(ae!==bs.Initial&&ae!==gi.Placeholder)return void O.destroy();const ve=function wC(o,l,d){return null==d?o:d>=0?(0,m.jRZ)(d,o):o[l.index][m.Y20]??null}(o,l,g);if(!ve||(O.destroy(),(0,m.EPY)(ve)))return;const Me=function e_(o,l){return(0,m.vaC)(m.Yw1+l,o)}(ve,d),Ue=f(Me,()=>{R.run(()=>{o!==ve&&(0,m.DyX)(ve,Ue),y()})},_,A);o!==ve&&(0,m.ik5)(ve,Ue),bu(v,re,Ue)}},{injector:_})}function Xh(o,l){const d=l.get(ly);return d.add(o),()=>d.remove(o)}let ly=(()=>{class o{executingCallbacks=!1;idleId=null;current=new Set;deferred=new Set;ngZone=(0,m.WQX)(m.SKi);requestIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout)().bind(globalThis);cancelIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?cancelIdleCallback:clearTimeout)().bind(globalThis);add(d){(this.executingCallbacks?this.deferred:this.current).add(d),null===this.idleId&&this.scheduleIdleCallback()}remove(d){const{current:g,deferred:f}=this;g.delete(d),f.delete(d),0===g.size&&0===f.size&&this.cancelIdleCallback()}scheduleIdleCallback(){const d=()=>{this.cancelIdleCallback(),this.executingCallbacks=!0;for(const g of this.current)g();if(this.current.clear(),this.executingCallbacks=!1,this.deferred.size>0){for(const g of this.deferred)this.current.add(g);this.deferred.clear(),this.scheduleIdleCallback()}};this.idleId=this.requestIdleCallbackFn(()=>this.ngZone.run(d))}cancelIdleCallback(){null!==this.idleId&&(this.cancelIdleCallbackFn(this.idleId),this.idleId=null)}ngOnDestroy(){this.cancelIdleCallback(),this.current.clear(),this.deferred.clear()}static \u0275prov=(0,m.jDH)({token:o,providedIn:"root",factory:()=>new o})}return o})();function Jh(o){return(l,d)=>cy(o,l,d)}function cy(o,l,d){const g=d.get(EC),f=d.get(m.SKi);return g.add(o,l,f),()=>g.remove(l)}let EC=(()=>{class o{executingCallbacks=!1;timeoutId=null;invokeTimerAt=null;current=[];deferred=[];add(d,g,f){this.addToQueue(this.executingCallbacks?this.deferred:this.current,Date.now()+d,g),this.scheduleTimer(f)}remove(d){const{current:g,deferred:f}=this;-1===this.removeFromQueue(g,d)&&this.removeFromQueue(f,d),0===g.length&&0===f.length&&this.clearTimeout()}addToQueue(d,g,f){let y=d.length;for(let v=0;v<d.length;v+=2)if(d[v]>g){y=v;break}(0,m.llW)(d,y,g,f)}removeFromQueue(d,g){let f=-1;for(let y=0;y<d.length;y+=2)if(d[y+1]===g){f=y;break}return f>-1&&(0,m.gsJ)(d,f,2),f}scheduleTimer(d){const g=()=>{this.clearTimeout(),this.executingCallbacks=!0;const y=[...this.current],v=Date.now();for(let _=0;_<y.length;_+=2){const O=y[_+1];if(!(y[_]<=v))break;O()}let A=-1;for(let _=0;_<this.current.length&&this.current[_]<=v;_+=2)A=_+1;if(A>=0&&(0,m.gsJ)(this.current,0,A+1),this.executingCallbacks=!1,this.deferred.length>0){for(let _=0;_<this.deferred.length;_+=2)this.addToQueue(this.current,this.deferred[_],this.deferred[_+1]);this.deferred.length=0}this.scheduleTimer(d)};if(this.current.length>0){const y=Date.now(),v=this.current[0];if(null===this.timeoutId||this.invokeTimerAt&&this.invokeTimerAt-v>16){this.clearTimeout();const A=Math.max(v-y,16);this.invokeTimerAt=v,this.timeoutId=d.runOutsideAngular(()=>setTimeout(()=>d.run(g),A))}}}clearTimeout(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}ngOnDestroy(){this.clearTimeout(),this.current.length=0,this.deferred.length=0}static \u0275prov=(0,m.jDH)({token:o,providedIn:"root",factory:()=>new o})}return o})(),uy=(()=>{class o{cachedInjectors=new Map;getOrCreateInjector(d,g,f,y){if(!this.cachedInjectors.has(d)){const v=f.length>0?vu(f,g,y):null;this.cachedInjectors.set(d,v)}return this.cachedInjectors.get(d)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,m.jDH)({token:o,providedIn:"environment",factory:()=>new o})}return o})();const dy=new m.nKC("");function hy(o,l,d){return o.get(uy).getOrCreateInjector(l,o,d,"")}function ga(o,l,d,g=!1){const f=d[m.f7T],y=f[m.eDl];if((0,m.EPY)(f))return;const v=ur(f,l),_=v[7];if(!(null!==_&&o<_)&&fy(v[1],o)&&fy(v[0]??-1,o)){const R=Rn(y,l),V=g||null===Kh(R)&&null===oy(R,gi.Loading)&&!oy(R,gi.Placeholder)?t_:vy;try{V(o,v,d,l,f)}catch(re){Ra(f,re)}}}function t_(o,l,d,g,f){ut(Oe.DeferBlockStateStart);const y=function ay(o,l,d){const f=Rn(l[m.eDl],d);switch(o){case gi.Complete:return f.primaryTmplIndex;case gi.Loading:return f.loadingTmplIndex;case gi.Error:return f.errorTmplIndex;case gi.Placeholder:return f.placeholderTmplIndex;default:return null}}(o,f,g);if(null!==y){l[1]=o;const v=f[m.eDl],_=(0,m.XRZ)(v,y+m.Yw1),R=0;let O;if(fh(d,R),o===gi.Complete){const ve=Rn(v,g),Me=ve.providers;Me&&Me.length>0&&(O=function py(o,l,d){if(o instanceof Ao){const f=o.injector,v=hy(o.parentInjector,l,d);return new Ao(f,v)}const g=o.get(m.uvJ);if(g!==o){const f=hy(g,l,d);return new Ao(o,f)}return hy(o,l,d)}(f[m.YEL],ve,Me))}const{dehydratedView:V,dehydratedViewIx:re}=function gy(o,l){const d=o[m.qFA]?.findIndex(f=>f.data.s===l[1])??-1;return{dehydratedView:d>-1?o[m.qFA][d]:null,dehydratedViewIx:d}}(d,l),ae=is(f,_,null,{injector:O,dehydratedView:V});if(vo(d,ae,R,La(_,V)),El(ae,2),re>-1&&d[m.qFA]?.splice(re,1),(o===gi.Complete||o===gi.Error)&&Array.isArray(l[8])){for(const ve of l[8])ve();l[8]=null}}ut(Oe.DeferBlockStateEnd)}function my(o,l,d,g,f){const y=Date.now(),A=Rn(f[m.eDl],g);if(null===l[2]||l[2]<=y){l[2]=null;const _=Kh(A),R=null!==l[3];if(o!==gi.Loading||null===_||R){o>gi.Loading&&R&&(l[3](),l[3]=null,l[0]=null),t_(o,l,d,g,f);const O=oy(A,o);null!==O&&(l[2]=y+O,i_(O,l,g,d,f))}else{l[0]=o;const O=i_(_,l,g,d,f);l[3]=O}}else l[0]=o}function i_(o,l,d,g,f){return cy(o,()=>{const v=l[0];l[2]=null,l[0]=null,null!==v&&ga(v,d,g)},f[m.YEL])}function fy(o,l){return o<l}function Gl(o,l){ga(gi.Placeholder,l,o[l.index])}function yy(o,l,d){o.loadingPromise.then(()=>{o.loadingState===ji.COMPLETE?ga(gi.Complete,l,d):o.loadingState===ji.FAILED&&ga(gi.Error,l,d)})}let vy=null;function n_(o,l,d,g){return ee(()=>{const f=o;null!==l&&(f.hasOwnProperty("decorators")&&void 0!==f.decorators?f.decorators.push(...l):f.decorators=l),null!==d&&(f.ctorParameters=d),null!==g&&(f.propDecorators=f.hasOwnProperty("propDecorators")&&void 0!==f.propDecorators?{...f.propDecorators,...g}:g)})}let r_=(()=>{class o{log(d){console.log(d)}warn(d){console.warn(d)}static \u0275fac=function(g){return new(g||o)};static \u0275prov=(0,m.jDH)({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();function Py(o){return function l_(o){return"function"==typeof o&&void 0!==o[x.bh]}(o)&&"function"==typeof o.set}const y_=new m.nKC(""),cp=new m.nKC("");let ku,XC=(()=>{class o{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(d,g,f){this._ngZone=d,this.registry=g,(0,m.M6u)()&&(this._destroyRef=(0,m.WQX)(m.abz,{optional:!0})??void 0),ku||(function JC(o){ku=o}(f),f.addToWindow(g)),this._watchAngularEvents(),d.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const d=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),g=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{m.SKi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{d.unsubscribe(),g.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb()}});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(g=>!g.updateCb||!g.updateCb(d)||(clearTimeout(g.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,g,f){let y=-1;g&&g>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==y),d()},g)),this._callbacks.push({doneCb:d,timeoutId:y,updateCb:f})}whenStable(d,g,f){if(f&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,g,f),this._runCallbacksIfReady()}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,g,f){return[]}static \u0275fac=function(g){return new(g||o)((0,m.KVO)(m.SKi),(0,m.KVO)(Fy),(0,m.KVO)(cp))};static \u0275prov=(0,m.jDH)({token:o,factory:o.\u0275fac})}return o})(),Fy=(()=>{class o{_applications=new Map;registerApplication(d,g){this._applications.set(d,g)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,g=!0){return ku?.findTestabilityInTree(this,d,g)??null}static \u0275fac=function(g){return new(g||o)};static \u0275prov=(0,m.jDH)({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();function Oy(o){return!!o&&"function"==typeof o.then}function up(o){return!!o&&"function"==typeof o.subscribe}const v_=new m.nKC("");let A_=(()=>{class o{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((d,g)=>{this.resolve=d,this.reject=g});appInits=(0,m.WQX)(v_,{optional:!0})??[];injector=(0,m.WQX)(m.zZn);constructor(){}runInitializers(){if(this.initialized)return;const d=[];for(const f of this.appInits){const y=(0,m.N4e)(this.injector,f);if(Oy(y))d.push(y);else if(up(y)){const v=new Promise((A,_)=>{y.subscribe({complete:A,error:_})});d.push(v)}}const g=()=>{this.done=!0,this.resolve()};Promise.all(d).then(()=>{g()}).catch(f=>{this.reject(f)}),0===d.length&&g(),this.initialized=!0}static \u0275fac=function(g){return new(g||o)};static \u0275prov=(0,m.jDH)({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const By=new m.nKC("");function QC(){}function $y(){(0,x.KO)(()=>{throw new m.buA(600,"")})}function S_(o,l){return Array.isArray(l)?l.reduce(S_,o):{...o,...l}}let wu=(()=>{class o{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=(0,m.WQX)(m.ZTf);afterRenderManager=(0,m.WQX)(dS);zonelessEnabled=(0,m.WQX)(m.Evm);rootEffectScheduler=(0,m.WQX)(m.VML);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new q.B7;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=(0,m.WQX)(m.rev);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe((0,p.T)(d=>!d))}constructor(){(0,m.WQX)(bl,{optional:!0})}whenStable(){let d;return new Promise(g=>{d=this.isStable.subscribe({next:f=>{f&&g()}})}).finally(()=>{d.unsubscribe()})}_injector=(0,m.WQX)(m.uvJ);_rendererFactory=null;get injector(){return this._injector}bootstrap(d,g){return this.bootstrapImpl(d,g)}bootstrapImpl(d,g,f=m.zZn.NULL){return this._injector.get(m.SKi).run(()=>{ut(Oe.BootstrapComponentStart);const v=d instanceof mu;if(!this._injector.get(A_).done)throw new m.buA(405,"");let _;_=v?d:this._injector.get(Ih).resolveComponentFactory(d),this.componentTypes.push(_.componentType);const R=function ZC(o){return o.isBoundToModule}(_)?void 0:this._injector.get(Po),V=_.create(f,[],g||_.selector,R),re=V.location.nativeElement,ae=V.injector.get(y_,null);return ae?.registerApplication(re),V.onDestroy(()=>{this.detachView(V.hostView),ql(this.components,V),ae?.unregisterApplication(re)}),this._loadComponent(V),ut(Oe.BootstrapComponentEnd,V),V})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ut(Oe.ChangeDetectionStart),null!==this.tracingSnapshot?this.tracingSnapshot.run(vl.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw ut(Oe.ChangeDetectionEnd),new m.buA(101,!1);const d=(0,x.Ht)(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,(0,x.Ht)(d),this.afterTick.next(),ut(Oe.ChangeDetectionEnd)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Fr,null,{optional:!0}));let d=0;for(;0!==this.dirtyFlags&&d++<10;){ut(Oe.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{ut(Oe.ChangeDetectionSyncEnd)}}}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let d=!1;if(7&this.dirtyFlags){const g=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:f}of this.allViews)(g||(0,m.dMS)(f))&&(Tl(f,g&&!this.zonelessEnabled?0:1),d=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}d||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:d})=>(0,m.dMS)(d))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(d){const g=d;this._views.push(g),g.attachToAppRef(this)}detachView(d){const g=d;ql(this._views,g),g.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView);try{this.tick()}catch(f){this.internalErrorHandler(f)}this.components.push(d),this._injector.get(By,[]).forEach(f=>f(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>ql(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new m.buA(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(g){return new(g||o)};static \u0275prov=(0,m.jDH)({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function ql(o,l){const d=o.indexOf(l);d>-1&&o.splice(d,1)}function Hy(){let o,l;return{promise:new Promise((g,f)=>{o=g,l=f}),resolve:o,reject:l}}function dp(o){const l=(0,m.OAn)(),d=(0,m.Mx4)();if(Gl(l,d),!jy(0,l))return;const g=l[m.YEL];bu(0,ur(l,d),o(()=>qa(0,l,d),g))}function P_(o){const l=(0,m.OAn)(),d=l[m.YEL],g=(0,m.Mx4)(),y=Rn(l[m.eDl],g);y.loadingState===ji.NOT_STARTED&&bu(1,ur(l,g),o(()=>Ps(y,l,g),d))}function hp(o,l,d){const g=l[m.YEL],f=ur(l,d),y=f[6];bu(2,f,o(()=>_s(g,y),g))}function Ps(o,l,d){Tu(o,l,d)}function Tu(o,l,d){const g=l[m.YEL],f=l[m.eDl];if(o.loadingState!==ji.NOT_STARTED)return o.loadingPromise??Promise.resolve();const y=ur(l,d),v=function sy(o,l){return(0,m.XRZ)(o,l.primaryTmplIndex+m.Yw1)}(f,o);o.loadingState=ji.IN_PROGRESS,$l(1,y);let A=o.dependencyResolverFn;const _=g.get(m.u5s).add();return A?(o.loadingPromise=Promise.allSettled(A()).then(R=>{let O=!1;const V=[],re=[];for(const ae of R){if("fulfilled"!==ae.status){O=!0;break}{const ve=ae.value,Me=(0,m.xUg)(ve)||(0,m.HaV)(ve);if(Me)V.push(Me);else{const Ue=(0,m.oyA)(ve);Ue&&re.push(Ue)}}}if(O){if(o.loadingState=ji.FAILED,null===o.errorTmplIndex){const ve=new m.buA(-750,!1);Ra(l,ve)}}else{o.loadingState=ji.COMPLETE;const ae=v.tView;if(V.length>0){ae.directiveRegistry=QP(ae.directiveRegistry,V);const ve=V.map(Ue=>Ue.type),Me=(0,m.jXY)(!1,...ve);o.providers=Me}re.length>0&&(ae.pipeRegistry=QP(ae.pipeRegistry,re))}}),o.loadingPromise.finally(()=>{o.loadingPromise=null,_()})):(o.loadingPromise=Promise.resolve().then(()=>{o.loadingPromise=null,o.loadingState=ji.COMPLETE,_()}),o.loadingPromise)}function jy(o,l){return l[m.YEL].get(dy,null,{optional:!0})?.behavior!==Wh.Manual}function qa(o,l,d){const g=l[m.eDl],f=l[d.index];if(!jy(0,l))return;const y=ur(l,d),v=Rn(g,d);switch(JP(y),v.loadingState){case ji.NOT_STARTED:ga(gi.Loading,d,f),Tu(v,l,d),v.loadingState===ji.IN_PROGRESS&&yy(v,d,f);break;case ji.IN_PROGRESS:ga(gi.Loading,d,f),yy(v,d,f);break;case ji.COMPLETE:ga(gi.Complete,d,f);break;case ji.FAILED:ga(gi.Error,d,f)}}function _s(o,l,d){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,T.A)(function*(o,l,d){const g=o.get(zi);if(g.hydrating.has(l))return;const{parentBlockPromise:y,hydrationQueue:v}=function jo(o,l){const d=l.get(zi),f=l.get(Fe).get("__nghDeferData__",{});let y=!1,v=o,A=null;const _=[];for(;!y&&v;){y=d.has(v);const R=d.hydrating.get(v);if(null===A&&null!=R){A=R.promise;break}_.unshift(v),v=f[v].p}return{parentBlockPromise:A,hydrationQueue:_}}(l,o);if(0===v.length)return;null!==y&&v.shift(),function w_(o,l){for(let d of l)o.hydrating.set(d,Hy())}(g,v),null!==y&&(yield y);const A=v[0];g.has(A)?yield __(o,v,d):g.awaitParentBlock(A,(0,T.A)(function*(){return yield __(o,v,d)}))})).apply(this,arguments)}function __(o,l,d){return pp.apply(this,arguments)}function pp(){return(pp=(0,T.A)(function*(o,l,d){const g=o.get(zi),f=g.hydrating,y=o.get(m.rev),v=y.add();for(let _=0;_<l.length;_++){const R=l[_],O=g.get(R);if(null==O){qy(_,l,g),k_(l.slice(_),g);break}if(yield Uy(O),yield t1(o),e1(O)){dE(O),k_(l.slice(_),g);break}f.get(R).resolve()}const A=l[l.length-1];yield f.get(A)?.promise,y.remove(v),d&&d(l),function hE(o,l,d,g){null!==o&&(d.cleanup(l),Mh(o.lContainer),function Mt(o){const l=o._views;for(const d of l){const g=Cd(d);null!==g&&null!==g[m.jgP]&&((0,m.q$2)(g)?Il(g):Mh(g))}}(g))}(g.get(A),l,g,o.get(wu))})).apply(this,arguments)}function e1(o){return ur(o.lView,o.tNode)[1]===gi.Error}function qy(o,l,d){const g=o-1,f=g>-1?d.get(l[g]):null;f&&Mh(f.lContainer)}function k_(o,l){const d=l.hydrating;for(const g in o)d.get(g)?.reject();l.cleanup(o)}function t1(o){return new Promise(l=>Lm(l,{injector:o}))}function Uy(o){return Wy.apply(this,arguments)}function Wy(){return(Wy=(0,T.A)(function*(o){const{tNode:l,lView:d}=o,g=ur(d,l);return new Promise(f=>{(function Vy(o,l){Array.isArray(o[8])||(o[8]=[]),o[8].push(l)})(g,f),qa(0,d,l)})})).apply(this,arguments)}function qi(o,l,d){return 0===o?T_(l,d):2!==o||!T_(l,d)}function T_(o,l){const d=o[m.YEL],g=Rn(o[m.eDl],l),f=dm(d),y=function Ky(o){return null!=o&&!(1&~o)}(g.flags),A=null!==ur(o,l)[6];return!(y&&A&&f)}function ma(o,l){const d=Rn(o,l);return d.hydrateTriggers??=new Map}function mp(o,l,d,g,f,y,v,A,_,R){const O=(0,m.OAn)(),V=(0,m.klJ)(),re=o+m.Yw1,ae=vs(O,V,o,null,0,0),ve=O[m.YEL],Me=dm(ve);if(V.firstCreatePass){_n("NgDefer");const za={primaryTmplIndex:l,loadingTmplIndex:g??null,placeholderTmplIndex:f??null,errorTmplIndex:y??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:d??null,loadingState:ji.NOT_STARTED,loadingPromise:null,providers:null,hydrateTriggers:null,debug:null,flags:R??0};_?.(V,za,A,v),function kC(o,l,d){const g=Au(l);o.data[g]=d}(V,re,za)}const Ue=O[re];let et=null,Re=null;if(Ue[m.qFA]?.length>0){const za=Ue[m.qFA][0].data;Re=za.di??null,et=za.s}const $t=[null,bs.Initial,null,null,null,null,Re,et,null,null];!function _C(o,l,d){o[Au(l)]=d}(O,re,$t);let Ln=null;null!==Re&&Me&&(Ln=ve.get(zi),Ln.add(Re,{lView:O,tNode:ae,lContainer:Ue}));const Pi=()=>{JP($t),null!==Re&&Ln?.cleanup([Re])};bu(0,$t,()=>(0,m.DyX)(O,Pi)),(0,m.ik5)(O,Pi)}function E_(o){const l=(0,m.OAn)(),d=(0,m.CpD)();if(qi(0,l,d)&&Si(l,(0,m.xbp)(),o)){const f=(0,x.Ht)(null);try{const y=!!o,A=ur(l,d)[1];!1===y&&A===bs.Initial?Gl(l,d):!0===y&&(A===bs.Initial||A===gi.Placeholder)&&qa(0,l,d)}finally{(0,x.Ht)(f)}}}function Cu(o,l,d,g){const f=(0,m.OAn)();return Si(f,(0,m.xbp)(),l)&&((0,m.klJ)(),function ts(o,l,d,g,f,y){const v=(0,m.d31)(o,l);wl(l[m.GpT],v,y,o.value,d,g,f)}((0,m.CpD)(),f,o,l,d,g)),Cu}const g1=new m.nKC("",{factory:()=>!1}),ov=new m.nKC("",{factory:()=>m1}),m1=4e3,ks=typeof document<"u"&&"function"==typeof document?.documentElement?.getAnimations;function Ul(o){return o[m.YEL].get(g1,!1)}function Du(o){const l=wo.get(o);if(l){for(const d of l.cleanupFns)d();wo.delete(o)}ws.delete(o)}const x_=()=>{},wo=new WeakMap,ws=new WeakMap,To=new WeakMap;function lv(o,l){const d=To.get(o);if(d&&d.length>0){const g=d.findIndex(f=>f===l);g>-1&&d.splice(g,1)}0===d?.length&&To.delete(o)}function Wl(o,l){const d=To.get(o)?.shift(),g=l[m.rQE];if(g){const y=In(o.index,g)?.previousSibling;d&&y&&d===y&&d.dispatchEvent(new CustomEvent("animationend",{detail:{cancel:!0}}))}}function fp(o,l){To.has(o)?To.get(o)?.push(l):To.set(o,[l])}function Vl(o){const l=o[m.Isx]??={};return l.enter??=new Map}function Ua(o){const l=o[m.Isx]??={};return l.leave??=new Map}function yp(o){const l="function"==typeof o?o():o;let d=Array.isArray(l)?l:null;return"string"==typeof l&&(d=l.trim().split(/\s+/).filter(g=>g)),d}function I_(o,l){const d=ws.get(l);return void 0===d||l===o.target&&(void 0!==d.animationName&&o.animationName===d.animationName||void 0!==d.propertyName&&o.propertyName===d.propertyName)}function Kl(o,l,d){const g=o.get(l.index)??{animateFns:[]};g.animateFns.push(d),o.set(l.index,g)}function uv(o,l){if(o)for(const d of o)d();for(const d of l)d()}function Mu(o,l){const d=Ua(o).get(l.index);d&&(d.resolvers=void 0)}function vp(o,l,d,g,f){lv(l,d),uv(g,f),Mu(o,l)}function Pp(o,l){const d=o.fieldIndex;return-1===d?void 0:l[d]}function Iu(o,l){return function N_(o,l){return l in o.inputs}(o,l)&&F_(o,l+"Change")}function F_(o,l){return l in o.outputs}function _p(o,l,d,g){const f=(0,m.klJ)(),y=l.customControlIndex,v=g+"Change";Fl(l,o,y,v,v,$a(l,o,R=>d.state().setControlValue(R)));const _="touchedChange";F_(f.data[y],_)&&Fl(l,o,y,_,_,$a(l,o,()=>d.state().markAsTouched()))}function O_(o,l,d,g){const f=(0,m.klJ)(),y=o.customControlIndex,v=l[y],A=f.data[y],_=d.state(),R=Xl(l),O=_.controlValue();Jl(R,Cv,O)&&Qo(A,v,g,O);const V=!!(8192&o.flags),re=V?(0,m.d31)(o,l):null,ae=l[m.GpT];for(const ve of Dv){const Me=_[ve]?.();if(Jl(R,ve,Me)){const Ue=Yl[ve];Ru(o,l,Ue,Me),V&&!(Ue in A.inputs)&&Sv(o,ae,re,ve,Me,Ue)}}}function Ru(o,l,d,g){const f=o.inputs?.[d];if(f){const y=(0,m.klJ)();for(const v of f)Qo(y.data[v],l[v],d,g);return!0}return!1}function Sv(o,l,d,g,f,y){switch(g){case Tv:l.setAttribute(d,y,f);break;case Tp:case L1:case Ev:!function N1(o,l,d,g){g?o.setAttribute(l,d,""):o.removeAttribute(l,d)}(l,d,y,f);break;case kv:case wv:16384&o.flags&&Ep(l,d,y,f);break;case I1:case R1:32768&o.flags&&Ep(l,d,y,f)}}function kp(o){return null===o||o instanceof Date}function wp(o,l){isNaN(l)?o.value="":o.valueAsNumber=l}const Tp=(0,m.kLh)({disabled:m.kLh}),kv=(0,m.kLh)({max:m.kLh}),I1=(0,m.kLh)({maxLength:m.kLh}),wv=(0,m.kLh)({min:m.kLh}),R1=(0,m.kLh)({minLength:m.kLh}),Tv=(0,m.kLh)({name:m.kLh}),L1=(0,m.kLh)({readonly:m.kLh}),Ev=(0,m.kLh)({required:m.kLh}),Cv=(0,m.kLh)({controlValue:m.kLh}),Yl={disabled:"disabled",disabledReasons:"disabledReasons",dirty:"dirty",errors:"errors",hidden:"hidden",invalid:"invalid",max:"max",maxLength:"maxLength",min:"min",minLength:"minLength",name:"name",pattern:"pattern",pending:"pending",readonly:"readonly",required:"required",touched:"touched"},Dv=Object.keys(Yl);function Xl(o){const l=(0,m.c$7)();let d=o[l];return d===Xt&&(d=o[l]={}),d}function Jl(o,l,d){return!Object.is(o[l],d)&&(o[l]=d,!0)}function Mv(o,l,d){return!Object.is(o[l],d)&&(o[l]=d,!0)}function Ep(o,l,d,g){void 0!==g?o.setAttribute(l,d,g.toString()):o.removeAttribute(l,d)}class F1{destroy(l){}updateValue(l,d){}swap(l,d){const g=Math.min(l,d),f=Math.max(l,d),y=this.detach(f);if(f-g>1){const v=this.detach(g);this.attach(g,y),this.attach(f,v)}else this.attach(g,y)}move(l,d){this.attach(d,this.detach(l))}}function Lu(o,l,d,g,f){return o===d&&Object.is(l,g)?1:Object.is(f(o,l),f(d,g))?-1:0}function Iv(o,l,d,g){return!(void 0===l||!l.has(g)||(o.attach(d,l.get(g)),l.delete(g),0))}function Cp(o,l,d,g,f){if(Iv(o,l,g,d(g,f)))o.updateValue(g,f);else{const y=o.create(g,f);o.attach(g,y)}}function Nu(o,l,d,g){const f=new Set;for(let y=l;y<=d;y++)f.add(g(y,o.at(y)));return f}class Dp{kvMap=new Map;_vMap=void 0;has(l){return this.kvMap.has(l)}delete(l){if(!this.has(l))return!1;const d=this.kvMap.get(l);return void 0!==this._vMap&&this._vMap.has(d)?(this.kvMap.set(l,this._vMap.get(d)),this._vMap.delete(d)):this.kvMap.delete(l),!0}get(l){return this.kvMap.get(l)}set(l,d){if(this.kvMap.has(l)){let g=this.kvMap.get(l);void 0===this._vMap&&(this._vMap=new Map);const f=this._vMap;for(;f.has(g);)g=f.get(g);f.set(g,d)}else this.kvMap.set(l,d)}forEach(l){for(let[d,g]of this.kvMap)if(l(g,d),void 0!==this._vMap){const f=this._vMap;for(;f.has(g);)g=f.get(g),l(g,d)}}}function Fu(o,l,d,g,f,y,v,A){_n("NgControlFlow");const _=(0,m.OAn)(),R=(0,m.klJ)();return vs(_,R,o,l,d,g,f,(0,m.db4)(R.consts,y),512,v,A),Fu}class Lv{lContainer;$implicit;$index;constructor(l,d,g){this.lContainer=l,this.$implicit=d,this.$index=g}get $count(){return this.lContainer.length-m.Y20}}class Nv{hasEmptyBlock;trackByFn;liveCollection;constructor(l,d,g){this.hasEmptyBlock=l,this.trackByFn=d,this.liveCollection=g}}class Fv extends F1{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(l,d,g){super(),this.lContainer=l,this.hostLView=d,this.templateTNode=g}get length(){return this.lContainer.length-m.Y20}at(l){return this.getLView(l)[m.SKP].$implicit}attach(l,d){const g=d[m.tcA];this.needsIndexUpdate||=l!==this.length,vo(this.lContainer,d,l,La(this.templateTNode,g)),function $1(o,l){if(o.length<=m.Y20)return;const g=o[m.Y20+l],f=g?g[m.Isx]:void 0;g&&f&&f.detachedLeaveAnimationFns&&f.detachedLeaveAnimationFns.length>0&&(function Qc(o,l){const d=o.get(ha);if(l.detachedLeaveAnimationFns){for(const g of l.detachedLeaveAnimationFns)d.queue.delete(g);l.detachedLeaveAnimationFns=void 0}}(g[m.YEL],f),M.delete(g[m.ID]),f.detachedLeaveAnimationFns=void 0)}(this.lContainer,l)}detach(l){return this.needsIndexUpdate||=l!==this.length-1,function G1(o,l){if(o.length<=m.Y20)return;const g=o[m.Y20+l],f=g?g[m.Isx]:void 0;f&&f.leave&&f.leave.size>0&&(f.detachedLeaveAnimationFns=[])}(this.lContainer,l),function Bv(o,l){return ns(o,l)}(this.lContainer,l)}create(l,d){return is(this.hostLView,this.templateTNode,new Lv(this.lContainer,d,l),{dehydratedView:null})}destroy(l){eu(l[m.eDl],l)}updateValue(l,d){this.getLView(l)[m.SKP].$implicit=d}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let l=0;l<this.length;l++)this.getLView(l)[m.SKP].$index=l}getLView(l){return function H_(o,l){return CS(o,l)}(this.lContainer,l)}}function Ql(o,l){return o[l]}function Ou(o,l){return(0,m.XRZ)(o,l)}function $v(o,l,d){const g=(0,m.OAn)();return Si(g,(0,m.xbp)(),l)&&((0,m.klJ)(),kl((0,m.CpD)(),g,o,l,g[m.GpT],d)),$v}function Bu(o,l,d,g,f){uh(l,o,d,f?"class":"style",g)}function Mp(o,l,d,g){const f=(0,m.OAn)(),y=f[m.eDl],v=o+m.Yw1,A=y.firstCreatePass?fu(v,f,2,l,au,(0,m.ckz)(),d,g):y.data[v];if(Wn(A,f,o,l,Hv),(0,m.yoD)(A)){const _=f[m.eDl];nu(_,f,A),Rc(_,A,f)}return null!=g&&_l(f,A),Mp}function Zl(){const o=(0,m.klJ)(),d=yo((0,m.Mx4)());return o.firstCreatePass&&Fh(o,d),(0,m.UhH)(d)&&(0,m.krE)(),(0,m.N79)(),null!=d.classesWithoutHost&&function ni(o){return!!(8&o.flags)}(d)&&Bu(o,d,(0,m.OAn)(),d.classesWithoutHost,!0),null!=d.stylesWithoutHost&&function Ht(o){return!!(16&o.flags)}(d)&&Bu(o,d,(0,m.OAn)(),d.stylesWithoutHost,!1),Zl}function Gv(o,l,d,g){return Mp(o,l,d,g),Zl(),Gv}function ec(o,l,d,g){const f=(0,m.OAn)(),y=f[m.eDl],v=o+m.Yw1,A=y.firstCreatePass?dP(v,y,2,l,d,g):y.data[v];return Wn(A,f,o,l,Hv),null!=g&&_l(f,A),ec}function xp(){const l=yo((0,m.Mx4)());return(0,m.UhH)(l)&&(0,m.krE)(),(0,m.N79)(),xp}function $u(o,l,d,g){return ec(o,l,d,g),xp(),$u}let Hv=(o,l,d,g,f)=>((0,m.m7n)(!0),be(l[m.GpT],g,(0,m.UaU)()));function tc(o,l,d){const g=(0,m.OAn)(),f=g[m.eDl],y=o+m.Yw1,v=f.firstCreatePass?fu(y,g,8,"ng-container",au,(0,m.ckz)(),l,d):f.data[y];if(Wn(v,g,o,"ng-container",Hu),(0,m.yoD)(v)){const A=g[m.eDl];nu(A,g,v),Rc(A,v,g)}return null!=d&&_l(g,v),tc}function Gu(){const o=(0,m.klJ)(),d=yo((0,m.Mx4)());return o.firstCreatePass&&Fh(o,d),Gu}function qv(o,l,d){const g=(0,m.OAn)(),f=g[m.eDl],y=o+m.Yw1,v=f.firstCreatePass?dP(y,f,8,"ng-container",l,d):f.data[y];return Wn(v,g,o,"ng-container",Hu),null!=d&&_l(g,v),qv}function Rp(){return yo((0,m.Mx4)()),Gu}let Hu=(o,l,d,g,f)=>((0,m.m7n)(!0),se(l[m.GpT],""));function q_(){return(0,m.OAn)()}const Ts=void 0;var Uv=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ts,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ts,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202fa","h:mm:ss\u202fa","h:mm:ss\u202fa z","h:mm:ss\u202fa zzzz"],["{1}, {0}",Ts,Ts,Ts],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function j1(o){const l=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Es={};function ju(o){const l=function Wv(o){return o.toLowerCase().replace(/_/g,"-")}(o);let d=W_(l);if(d)return d;const g=l.split("-")[0];if(d=W_(g),d)return d;if("en"===g)return Uv;throw new m.buA(701,!1)}function Fp(o){return ju(o)[ic.PluralCase]}function W_(o){return o in Es||(Es[o]=m.laP.ng&&m.laP.ng.common&&m.laP.ng.common.locales&&m.laP.ng.common.locales[o]),Es[o]}var ic=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(ic||{});const q1=["zero","one","two","few","many"],Kv="en-US",Op={marker:"element"},nc={marker:"ICU"};var hr=function(o){return o[o.SHIFT=2]="SHIFT",o[o.APPEND_EAGERLY=1]="APPEND_EAGERLY",o[o.COMMENT=2]="COMMENT",o}(hr||{});let Bp=Kv;function K_(o){"string"==typeof o&&(Bp=o.toLowerCase().replace(/_/g,"-"))}let qu=0,Cs=0;let Ds=(o,l,d,g)=>((0,m.m7n)(!0),function z_(o,l,d){const g=o[m.GpT];switch(d){case Node.COMMENT_NODE:return se(g,l);case Node.TEXT_NODE:return N(g,l);case Node.ELEMENT_NODE:return be(g,l,null)}}(o,d,g));function $p(o,l,d,g){const f=d[m.GpT];let v,y=null;for(let A=0;A<l.length;A++){const _=l[A];if("string"==typeof _){const R=l[++A];null===d[R]&&(d[R]=Ds(d,0,_,Node.TEXT_NODE))}else if("number"==typeof _)switch(1&_){case 0:const R=Ph(_);let O,V;if(null===y&&(y=R,v=f.parentNode(g)),R===y?(O=g,V=v):(O=null,V=(0,m.IvY)(d[R])),null!==V){const Me=GS(_);xe(f,V,d[Me],O,!1);const et=ss(o,Me);if(null!==et&&"object"==typeof et){const Re=Sh(et,d);null!==Re&&$p(o,et.create[Re],d,d[et.anchorIdx])}}break;case 1:const ae=l[++A],ve=l[++A];wl(f,(0,m.vaC)(_>>>1,d),null,null,ae,ve,null)}else switch(_){case nc:const R=l[++A],O=l[++A];null===d[O]&&$e(d[O]=Ds(d,0,R,Node.COMMENT_NODE),d);break;case Op:const V=l[++A],re=l[++A];null===d[re]&&$e(d[re]=Ds(d,0,V,Node.ELEMENT_NODE),d)}}}function X_(o,l,d,g,f){for(let y=0;y<d.length;y++){const v=d[y],A=d[++y];if(v&f){let _="";for(let R=y+1;R<=y+A;R++){const O=d[R];if("string"==typeof O)_+=O;else if("number"==typeof O)if(O<0)_+=(0,m.eFE)(l[g-O]);else{const V=O>>>2;switch(3&O){case 1:const re=d[++R],ae=d[++R],ve=o.data[V];"string"==typeof ve?wl(l[m.GpT],l[V],null,ve,re,_,ae):kl(ve,l,re,_,l[m.GpT],ae);break;case 0:const Me=l[V];null!==Me&&U(l[m.GpT],Me,_);break;case 2:K1(o,ss(o,V),l,_);break;case 3:Gp(o,ss(o,V),g,l)}}}}else{const _=d[y+1];if(_>0&&!(3&~_)){const O=ss(o,_>>>2);l[O.currentCaseLViewIndex]<0&&Gp(o,O,g,l)}}y+=A}}function Gp(o,l,d,g){let f=g[l.currentCaseLViewIndex];if(null!==f){let y=qu;f<0&&(f=g[l.currentCaseLViewIndex]=~f,y=-1),X_(o,g,l.update[f],d,y)}}function K1(o,l,d,g){const f=function z1(o,l){let d=o.cases.indexOf(l);if(-1===d)switch(o.type){case 1:{const g=function Vv(o,l){const d=Fp(l)(parseInt(o,10)),g=q1[d];return void 0!==g?g:"other"}(l,function Yv(){return Bp}());d=o.cases.indexOf(g),-1===d&&"other"!==g&&(d=o.cases.indexOf("other"));break}case 0:d=o.cases.indexOf("other")}return-1===d?null:d}(l,g);if(Sh(l,d)!==f&&(Hp(o,l,d),d[l.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const v=d[l.anchorIdx];v&&$p(o,l.create[f],d,v)}}function Hp(o,l,d){let g=Sh(l,d);if(null!==g){const f=l.remove[g];for(let y=0;y<f.length;y++){const v=f[y];if(v>0){const A=(0,m.vaC)(v,d);null!==A&&pt(d[m.GpT],A)}else Hp(o,ss(o,~v),d)}}}const qp=/\ufffd(\d+):?\d*\ufffd/gi,Jv=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,Z_=/\ufffd(\d+)\ufffd/,Qv=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Y1=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Zv=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,X1=/\uE500/g;function tk(o,l,d,g,f,y,v){const A=zc(o,g,1,null);let _=A<<hr.SHIFT,R=(0,m.Ab)();l===R&&(R=null),null===R&&(_|=hr.APPEND_EAGERLY),v&&(_|=hr.COMMENT,function MT(o){void 0===Im&&(Im=o())}(iE)),f.push(_,null===y?"":y);const O=lf(o,A,v?32:1,null===y?"":y,null);cf(d,O);const V=O.index;return(0,m.iMd)(O,!1),null!==R&&l!==R&&function tE(o,l){let d=o.insertBeforeIndex;null===d?(bS(bh,OS),d=o.insertBeforeIndex=[null,l]):((0,m.Xln)(Array.isArray(d),!0,"Expecting array here"),d.push(l))}(R,V),O}function ib(o,l,d,g,f,y,v,A){const _=A.match(qp),O=tk(l,d,g,v,f,_?null:A,!1).index;_&&xs(y,A,O,null,0,null),o.push({kind:0,index:O})}function xs(o,l,d,g,f,y){const v=o.length,A=v+1;o.push(null,null);const _=v+2,R=l.split(qp);let O=0;for(let V=0;V<R.length;V++){const re=R[V];if(1&V){const ae=f+parseInt(re,10);o.push(-1-ae),O|=Up(ae)}else""!==re&&o.push(re)}return o.push(d<<2|(g?1:0)),g&&o.push(g,y),o[v]=O,o[A]=o.length-_,O}function Q1(o){let l=0;for(let d=0;d<o.length;d++){const g=o[d];"number"==typeof g&&g<0&&l++}return l}function Up(o){return 1<<Math.min(o,31)}function ik(o){let l,y,d="",g=0,f=!1;for(;null!==(l=Y1.exec(o));)f?l[0]===`\ufffd/*${y}\ufffd`&&(g=l.index,f=!1):(d+=o.substring(g,l.index+l[0].length),y=l[1],f=!0);return d+=o.slice(g),d}function nk(o,l,d,g,f,y,v){let A=0;const _={type:y.type,currentCaseLViewIndex:zc(l,d,1,null),anchorIdx:v,cases:[],create:[],remove:[],update:[]};(function lb(o,l,d){o.push(Up(l.mainBinding),2,-1-l.mainBinding,d<<2|2)})(g,y,v),function hf(o,l,d){const g=o.data[l];null===g?o.data[l]=d:g.value=d}(l,v,_);const R=y.values,O=[];for(let V=0;V<R.length;V++){const re=R[V],ae=[];for(let Me=0;Me<re.length;Me++){const Ue=re[Me];if("string"!=typeof Ue){const et=ae.push(Ue)-1;re[Me]=`\x3c!--\ufffd${et}\ufffd--\x3e`}}const ve=[];O.push(ve),A=ob(ve,l,_,d,g,f,y.cases[V],re.join(""),ae)|A}A&&function Z1(o,l,d){o.push(l,1,d<<2|3)}(g,A,v),o.push({kind:3,index:v,cases:O,currentCaseLViewIndex:_.currentCaseLViewIndex})}function rb(o){const l=[],d=[];let g=1,f=0;const y=ab(o=o.replace(Qv,function(v,A,_){return g="select"===_?0:1,f=parseInt(A.slice(1),10),""}));for(let v=0;v<y.length;){let A=y[v++].trim();1===g&&(A=A.replace(/\s*(?:=)?(\w+)\s*/,"$1")),A.length&&l.push(A);const _=ab(y[v++]);l.length>d.length&&d.push(_)}return{type:g,mainBinding:f,cases:l,values:d}}function ab(o){if(!o)return[];let l=0;const d=[],g=[],f=/[{}]/g;let y;for(f.lastIndex=0;y=f.exec(o);){const A=y.index;if("}"==y[0]){if(d.pop(),0==d.length){const _=o.substring(l,A);Qv.test(_)?g.push(rb(_)):g.push(_),l=A+1}}else{if(0==d.length){const _=o.substring(l,A);g.push(_),l=A+1}d.push("{")}}const v=o.substring(l);return g.push(v),g}function ob(o,l,d,g,f,y,v,A,_){const R=[],O=[],V=[];d.cases.push(v),d.create.push(R),d.remove.push(O),d.update.push(V);const ae=Am(Mr()).getInertBodyElement(A),ve=Bt(ae)||ae;return ve?Uu(o,l,d,g,f,R,O,V,ve,y,_,0):0}function Uu(o,l,d,g,f,y,v,A,_,R,O,V){let re=0,ae=_.firstChild;for(;ae;){const ve=zc(l,g,1,null);switch(ae.nodeType){case Node.ELEMENT_NODE:const Me=ae,Ue=Me.tagName.toLowerCase();if(jc.hasOwnProperty(Ue)){Wu(y,Op,Ue,R,ve),l.data[ve]=Ue;const Ln=Me.attributes;for(let za=0;za<Ln.length;za++){const Ya=Ln.item(za),hw=Ya.name.toLowerCase();Ya.value.match(qp)?E.hasOwnProperty(hw)&&xs(A,Ya.value,ve,Ya.name,0,Ce[hw]?Hc:null):e0(y,ve,Ya)}const Pi={kind:1,index:ve,children:[]};o.push(Pi),re=Uu(Pi.children,l,d,g,f,y,v,A,ae,ve,O,V+1)|re,Wp(v,ve,V)}break;case Node.TEXT_NODE:const et=ae.textContent||"",Re=et.match(qp);Wu(y,null,Re?"":et,R,ve),Wp(v,ve,V),Re&&(re=xs(A,et,ve,null,0,null)|re),o.push({kind:0,index:ve});break;case Node.COMMENT_NODE:const $t=Z_.exec(ae.textContent||"");if($t){const Pi=O[parseInt($t[1],10)];Wu(y,nc,"",R,ve),nk(o,l,g,f,R,Pi,ve),sb(v,ve,V)}}ae=ae.nextSibling}return re}function Wp(o,l,d){0===d&&o.push(l)}function sb(o,l,d){0===d&&(o.push(~l),o.push(l))}function Wu(o,l,d,g,f){null!==l&&o.push(l),o.push(d,f,function HS(o,l,d){return o|l<<17|d<<1}(0,g,f))}function e0(o,l,d){o.push(l<<1|1,d.name,d.value)}const t0=/\[(\ufffd.+?\ufffd?)\]/,cb=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,n0=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,ub=/{([A-Z0-9_]+)}/g,r0=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,db=/\/\*/,a0=/\d+\:(\d+)/;function rk(o,l,d=-1){const g=(0,m.klJ)(),f=(0,m.OAn)(),y=m.Yw1+o,v=(0,m.db4)(g.consts,l),A=(0,m.Ab)();g.firstCreatePass&&function tb(o,l,d,g,f,y){const v=(0,m.Ab)(),A=[],_=[],R=[[]],O=[[]];f=function nb(o,l){if(function kh(o){return-1===o}(l))return ik(o);{const d=o.indexOf(`:${l}\ufffd`)+2+l.toString().length,g=o.search(new RegExp(`\ufffd\\/\\*\\d+:${l}\ufffd`));return ik(o.substring(d,g))}}(f,y);const V=function eb(o){return o.replace(X1," ")}(f).split(Zv);for(let re=0;re<V.length;re++){let ae=V[re];if(1&re){const ve=47===ae.charCodeAt(0),Me=ae.charCodeAt(ve?1:0),Ue=m.Yw1+Number.parseInt(ae.substring(ve?2:1));if(ve)R.shift(),O.shift(),(0,m.iMd)((0,m.Ab)(),!1);else{const et=pf(o,R[0],Ue);R.unshift([]),(0,m.iMd)(et,!0);const Re={kind:2,index:Ue,children:[],type:35===Me?0:1};O[0].push(Re),O.unshift(Re.children)}}else{const ve=ab(ae);for(let Me=0;Me<ve.length;Me++){let Ue=ve[Me];if(1&Me){const et=Ue;if("object"!=typeof et)throw new Error(`Unable to parse ICU expression in "${f}" message.`);const $t=tk(o,v,R[0],d,A,"",!0).index;nk(O[0],o,d,_,l,et,$t)}else""!==Ue&&ib(O[0],o,v,R[0],A,_,d,Ue)}}}o.data[g]={create:A,update:_,ast:O[0],parentTNodeIndex:l}}(g,null===A?0:A.index,f,y,v,d),2===g.type?f[m.b5C][m.Wg1]|=32:f[m.Wg1]|=32;const _=g.data[y],O=fS(g,A===f[m.qlT]?null:A,f);(function V1(o,l,d,g){const f=o[m.GpT];for(let y=0;y<l.length;y++){const v=l[y++],R=(v&hr.APPEND_EAGERLY)===hr.APPEND_EAGERLY,O=v>>>hr.SHIFT;let V=o[O],re=!1;null===V&&(V=o[O]=Ds(o,0,l[y],(v&hr.COMMENT)===hr.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),re=(0,m.SX7)()),R&&null!==d&&re&&xe(f,d,V,g,!1)}})(f,_.create,O,A&&8&A.type?f[A.index]:null),(0,m.xyx)(!0)}function Kp(){(0,m.xyx)(!1)}function Vu(o,l,d){const g=(0,m.OAn)(),f=(0,m.klJ)(),y=(0,m.Mx4)();return fb(f,g,g[m.GpT],y,o,l,d),Vu}function fb(o,l,d,g,f,y,v){let A=!0,_=null;if((3&g.type||v)&&(_??=$a(g,l,y),Bh(g,o,l,v,d,f,y,_)&&(A=!1)),A){const R=g.outputs?.[f],O=g.hostDirectiveOutputs?.[f];if(O&&O.length)for(let V=0;V<O.length;V+=2){const re=O[V],ae=O[V+1];_??=$a(g,l,y),Fl(g,l,re,ae,f,_)}if(R&&R.length)for(const V of R)_??=$a(g,l,y),Fl(g,l,V,f,f,_)}}function Yp(o=1){return(0,m.jvu)(o)}function s0(o,l){let d=null;const g=function zd(o){const l=o.attrs;if(null!=l){const d=l.indexOf(5);if(!(1&d))return l[d+1]}return null}(o);for(let f=0;f<l.length;f++){const y=l[f];if("*"!==y){if(null===g?Tm(o,y,!0):CT(g,y))return f}else d=f}return d}function bb(o,l,d){return DP(o,l,d),bb}function Xp(o){const l=(0,m.OAn)(),d=(0,m.klJ)(),g=(0,m.w7Z)();(0,m.GA0)(g+1);const f=Uf(d,g);if(o.dirty&&(0,m.vOT)(l)===!(2&~f.metadata.flags)){if(null===f.matches)o.reset([]);else{const y=xP(l,g);o.reset(y,Ti),o.notifyOnChanges()}return!0}return!1}function lk(){return gs((0,m.OAn)(),(0,m.w7Z)())}function uk(o){const l=(0,m.VPL)();return(0,m.Hh6)(l,m.Yw1+o)}function rc(o,l){return o<<17|l<<2}function Is(o){return o>>17&32767}function Ku(o){return 2|o}function ac(o){return(131068&o)>>2}function zu(o,l){return-131069&o|l<<2}function Yu(o){return 1|o}function Qp(o,l,d,g){const f=o[d+1],y=null===l;let v=g?Is(f):ac(f),A=!1;for(;0!==v&&(!1===A||y);){const R=o[v+1];h0(o[v],l)&&(A=!0,o[v+1]=g?Yu(R):Ku(R)),v=g?Is(R):ac(R)}A&&(o[d+1]=g?Ku(f):Yu(f))}function h0(o,l){return null===o||null==l||(Array.isArray(o)?o[1]:o)===l||!(!Array.isArray(o)||"string"!=typeof l)&&(0,m.FRF)(o,l)>=0}const Yi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hk(o){return o.substring(Yi.key,Yi.keyEnd)}function pk(o){return o.substring(Yi.value,Yi.valueEnd)}function Zp(o,l){const d=Yi.textEnd;return d===l?-1:(l=Yi.keyEnd=function m0(o,l,d){for(;l<d&&o.charCodeAt(l)>32;)l++;return l}(o,Yi.key=l,d),Eo(o,l,d))}function eg(o,l){const d=Yi.textEnd;let g=Yi.key=Eo(o,l,d);return d===g?-1:(g=Yi.keyEnd=function Pb(o,l,d){let g;for(;l<d&&(45===(g=o.charCodeAt(l))||95===g||(-33&g)>=65&&(-33&g)<=90||g>=48&&g<=57);)l++;return l}(o,g,d),g=mk(o,g,d),g=Yi.value=Eo(o,g,d),g=Yi.valueEnd=function _b(o,l,d){let g=-1,f=-1,y=-1,v=l,A=v;for(;v<d;){const _=o.charCodeAt(v++);if(59===_)return A;34===_||39===_?A=v=fk(o,_,v,d):l===v-4&&85===y&&82===f&&76===g&&40===_?A=v=fk(o,41,v,d):_>32&&(A=v),y=f,f=g,g=-33&_}return A}(o,g,d),mk(o,g,d))}function gk(o){Yi.key=0,Yi.keyEnd=0,Yi.value=0,Yi.valueEnd=0,Yi.textEnd=o.length}function Eo(o,l,d){for(;l<d&&o.charCodeAt(l)<=32;)l++;return l}function mk(o,l,d,g){return(l=Eo(o,l,d))<d&&l++,l}function fk(o,l,d,g){let f=-1,y=d;for(;y<g;){const v=o.charCodeAt(y++);if(v==l&&92!==f)return y;f=92==v&&92===f?0:v}throw new Error}function kb(o,l,d){return bk(o,l,d,!1),kb}function Xu(o,l){return bk(o,l,null,!0),Xu}function wb(o,l){for(let d=function g0(o){return gk(o),eg(o,Eo(o,0,Yi.textEnd))}(l);d>=0;d=eg(l,d))ng(o,hk(l),pk(l))}function vk(o){tg(A0,Tb,o,!0)}function Tb(o,l){for(let d=function p0(o){return gk(o),Zp(o,Eo(o,0,Yi.textEnd))}(l);d>=0;d=Zp(l,d))(0,m.ezK)(o,hk(l),!0)}function bk(o,l,d,g){const f=(0,m.OAn)(),y=(0,m.klJ)(),v=(0,m.b$O)(2);y.firstUpdatePass&&ig(y,o,v,g),l!==Xt&&Si(f,v,l)&&Sk(y,y.data[(0,m._px)()],f,f[m.GpT],o,f[v+1]=function xb(o,l){return null==o||""===o||("string"==typeof l?o+=l:"object"==typeof o&&(o=(0,m.AsM)(Lr(o)))),o}(l,d),g,v)}function tg(o,l,d,g){const f=(0,m.klJ)(),y=(0,m.b$O)(2);f.firstUpdatePass&&ig(f,null,y,g);const v=(0,m.OAn)();if(d!==Xt&&Si(v,y,d)){const A=f.data[(0,m._px)()];if(Pk(A,g)&&!Ak(f,y)){let _=g?A.classesWithoutHost:A.stylesWithoutHost;null!==_&&(d=(0,m.n$e)(_,d||"")),Bu(f,A,v,d,g)}else!function Mb(o,l,d,g,f,y,v,A){f===Xt&&(f=m.Mlv);let _=0,R=0,O=0<f.length?f[0]:null,V=0<y.length?y[0]:null;for(;null!==O||null!==V;){const re=_<f.length?f[_+1]:void 0,ae=R<y.length?y[R+1]:void 0;let Me,ve=null;O===V?(_+=2,R+=2,re!==ae&&(ve=V,Me=ae)):null===V||null!==O&&O<V?(_+=2,ve=O):(R+=2,ve=V,Me=ae),null!==ve&&Sk(o,l,d,g,ve,Me,v,A),O=_<f.length?f[_]:null,V=R<y.length?y[R]:null}}(f,A,v,v[m.GpT],v[y+1],v[y+1]=function b0(o,l,d){if(null==d||""===d)return m.Mlv;const g=[],f=Lr(d);if(Array.isArray(f))for(let y=0;y<f.length;y++)o(g,f[y],!0);else if(f instanceof Set)for(const y of f)o(g,y,!0);else if("object"==typeof f)for(const y in f)f.hasOwnProperty(y)&&o(g,y,f[y]);else"string"==typeof f&&l(g,f);return g}(o,l,d),g,y)}}function Ak(o,l){return l>=o.expandoStartIndex}function ig(o,l,d,g){const f=o.data;if(null===f[d+1]){const y=f[(0,m._px)()],v=Ak(o,d);Pk(y,g)&&null===l&&!v&&(l=!1),l=function y0(o,l,d,g){const f=(0,m.MT)(o);let y=g?l.residualClasses:l.residualStyles;if(null===f)0===(g?l.classBindings:l.styleBindings)&&(d=Rs(d=Db(null,o,l,d,g),l.attrs,g),y=null);else{const v=l.directiveStylingLast;if(-1===v||o[v]!==f)if(d=Db(f,o,l,d,g),null===y){let _=function Eb(o,l,d){const g=d?l.classBindings:l.styleBindings;if(0!==ac(g))return o[Is(g)]}(o,l,g);void 0!==_&&Array.isArray(_)&&(_=Db(null,o,l,_[1],g),_=Rs(_,l.attrs,g),function v0(o,l,d,g){o[Is(d?l.classBindings:l.styleBindings)]=g}(o,l,g,_))}else y=function Cb(o,l,d){let g;const f=l.directiveEnd;for(let y=1+l.directiveStylingLast;y<f;y++)g=Rs(g,o[y].hostAttrs,d);return Rs(g,l.attrs,d)}(o,l,g)}return void 0!==y&&(g?l.residualClasses=y:l.residualStyles=y),d}(f,y,l,g),function dk(o,l,d,g,f,y){let v=y?l.classBindings:l.styleBindings,A=Is(v),_=ac(v);o[g]=d;let O,R=!1;if(Array.isArray(d)?(O=d[1],(null===O||(0,m.FRF)(d,O)>0)&&(R=!0)):O=d,f)if(0!==_){const re=Is(o[A+1]);o[g+1]=rc(re,A),0!==re&&(o[re+1]=zu(o[re+1],g)),o[A+1]=function c0(o,l){return 131071&o|l<<17}(o[A+1],g)}else o[g+1]=rc(A,0),0!==A&&(o[A+1]=zu(o[A+1],g)),A=g;else o[g+1]=rc(_,0),0===A?A=g:o[_+1]=zu(o[_+1],g),_=g;R&&(o[g+1]=Ku(o[g+1])),Qp(o,O,g,!0),Qp(o,O,g,!1),function d0(o,l,d,g,f){const y=f?o.residualClasses:o.residualStyles;null!=y&&"string"==typeof l&&(0,m.FRF)(y,l)>=0&&(d[g+1]=Yu(d[g+1]))}(l,O,o,g,y),v=rc(A,_),y?l.classBindings=v:l.styleBindings=v}(f,y,l,d,v,g)}}function Db(o,l,d,g,f){let y=null;const v=d.directiveEnd;let A=d.directiveStylingLast;for(-1===A?A=d.directiveStart:A++;A<v&&(y=l[A],g=Rs(g,y.hostAttrs,f),y!==o);)A++;return null!==o&&(d.directiveStylingLast=A),g}function Rs(o,l,d){const g=d?1:2;let f=-1;if(null!==l)for(let y=0;y<l.length;y++){const v=l[y];"number"==typeof v?f=v:f===g&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),(0,m.ezK)(o,v,!!d||l[++y]))}return void 0===o?null:o}function ng(o,l,d){(0,m.ezK)(o,l,Lr(d))}function A0(o,l,d){const g=String(l);""!==g&&!g.includes(" ")&&(0,m.ezK)(o,g,d)}function Sk(o,l,d,g,f,y,v,A){if(!(3&l.type))return;const _=o.data,R=_[A+1],O=function u0(o){return!(1&~o)}(R)?rg(_,l,d,f,ac(R),v):void 0;ag(O)||(ag(y)||function Sb(o){return!(2&~o)}(R)&&(y=rg(_,null,d,f,A,v)),function HT(o,l,d,g,f){if(l)f?o.addClass(d,g):o.removeClass(d,g);else{let y=-1===g.indexOf("-")?void 0:Qd.DashCase;null==f?o.removeStyle(d,g,y):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),y|=Qd.Important),o.setStyle(d,g,f,y))}}(g,v,(0,m.vaC)((0,m._px)(),d),f,y))}function rg(o,l,d,g,f,y){const v=null===l;let A;for(;f>0;){const _=o[f],R=Array.isArray(_),O=R?_[1]:_,V=null===O;let re=d[f+1];re===Xt&&(re=V?m.Mlv:void 0);let ae=V?(0,m.K7h)(re,g):O===g?re:void 0;if(R&&!ag(ae)&&(ae=(0,m.K7h)(_,g)),ag(ae)&&(A=ae,v))return A;const ve=o[f+1];f=v?Is(ve):ac(ve)}if(null!==l){let _=y?l.residualClasses:l.residualStyles;null!=_&&(A=(0,m.K7h)(_,g))}return A}function ag(o){return void 0!==o}function Pk(o,l){return!!(o.flags&(l?8:16))}function og(o,l=""){const d=(0,m.OAn)(),g=(0,m.klJ)(),f=o+m.Yw1,y=g.firstCreatePass?Na(g,f,1,l,null):g.data[f],v=_k(g,d,y,l,o);d[f]=v,(0,m.SX7)()&&$m(g,d,v,y),(0,m.iMd)(y,!1)}let _k=(o,l,d,g,f)=>((0,m.m7n)(!0),N(l[m.GpT],g));function sg(o,l){let d=!1,g=(0,m.c$7)();for(let y=1;y<l.length;y+=2)d=Si(o,g++,l[y])||d;if((0,m.Kw3)(g),!d)return Xt;let f=l[0];for(let y=1;y<l.length;y+=2)f+=(0,m.eFE)(l[y])+(y+1!==l.length?l[y+1]:"");return f}function kk(o,l,d,g=""){return Si(o,(0,m.xbp)(),d)?l+(0,m.eFE)(d)+g:Xt}function lg(o,l,d,g,f,y=""){const A=ps(o,(0,m.c$7)(),d,f);return(0,m.b$O)(2),A?l+(0,m.eFE)(d)+g+(0,m.eFE)(f)+y:Xt}function wk(o,l,d,g,f,y,v,A=""){const R=Oh(o,(0,m.c$7)(),d,f,v);return(0,m.b$O)(3),R?l+(0,m.eFE)(d)+g+(0,m.eFE)(f)+y+(0,m.eFE)(v)+A:Xt}function cg(o,l,d,g,f,y,v,A,_,R=""){const V=_r(o,(0,m.c$7)(),d,f,v,_);return(0,m.b$O)(4),V?l+(0,m.eFE)(d)+g+(0,m.eFE)(f)+y+(0,m.eFE)(v)+A+(0,m.eFE)(_)+R:Xt}function Tk(o,l,d,g,f,y,v,A,_,R,O,V=""){const re=(0,m.c$7)();let ae=_r(o,re,d,f,v,_);return ae=Si(o,re+4,O)||ae,(0,m.b$O)(5),ae?l+(0,m.eFE)(d)+g+(0,m.eFE)(f)+y+(0,m.eFE)(v)+A+(0,m.eFE)(_)+R+(0,m.eFE)(O)+V:Xt}function ug(o,l,d,g,f,y,v,A,_,R,O,V,re,ae=""){const ve=(0,m.c$7)();let Me=_r(o,ve,d,f,v,_);return Me=ps(o,ve+4,O,re)||Me,(0,m.b$O)(6),Me?l+(0,m.eFE)(d)+g+(0,m.eFE)(f)+y+(0,m.eFE)(v)+A+(0,m.eFE)(_)+R+(0,m.eFE)(O)+V+(0,m.eFE)(re)+ae:Xt}function Rb(o,l,d,g,f,y,v,A,_,R,O,V,re,ae,ve,Me=""){const Ue=(0,m.c$7)();let et=_r(o,Ue,d,f,v,_);return et=Oh(o,Ue+4,O,re,ve)||et,(0,m.b$O)(7),et?l+(0,m.eFE)(d)+g+(0,m.eFE)(f)+y+(0,m.eFE)(v)+A+(0,m.eFE)(_)+R+(0,m.eFE)(O)+V+(0,m.eFE)(re)+ae+(0,m.eFE)(ve)+Me:Xt}function Lb(o,l,d,g,f,y,v,A,_,R,O,V,re,ae,ve,Me,Ue,et=""){const Re=(0,m.c$7)();let $t=_r(o,Re,d,f,v,_);return $t=_r(o,Re+4,O,re,ve,Ue)||$t,(0,m.b$O)(8),$t?l+(0,m.eFE)(d)+g+(0,m.eFE)(f)+y+(0,m.eFE)(v)+A+(0,m.eFE)(_)+R+(0,m.eFE)(O)+V+(0,m.eFE)(re)+ae+(0,m.eFE)(ve)+Me+(0,m.eFE)(Ue)+et:Xt}function dg(o){return hg("",o),dg}function hg(o,l,d){const g=(0,m.OAn)(),f=kk(g,o,l,d);return f!==Xt&&Wa(g,(0,m._px)(),f),hg}function Ju(o,l,d,g,f){const y=(0,m.OAn)(),v=lg(y,o,l,d,g,f);return v!==Xt&&Wa(y,(0,m._px)(),v),Ju}function Qu(o,l,d,g,f,y,v,A,_){const R=(0,m.OAn)(),O=cg(R,o,l,d,g,f,y,v,A,_);return O!==Xt&&Wa(R,(0,m._px)(),O),Qu}function Wa(o,l,d){const g=(0,m.vaC)(l,o);U(o[m.GpT],g,d)}function ed(o,l,d){Py(l)&&(l=l());const g=(0,m.OAn)();return Si(g,(0,m.xbp)(),l)&&((0,m.klJ)(),kl((0,m.CpD)(),g,o,l,g[m.GpT],d)),ed}function Dk(o,l){const d=Py(o);return d&&o.set(l),d}function td(o,l){const d=(0,m.OAn)(),g=(0,m.klJ)(),f=(0,m.Mx4)();return fb(g,d,d[m.GpT],f,o,l),td}const Mk={};function Ik(o,l,d){const g=(0,m.klJ)();g.firstCreatePass&&yg(l,g.data,g.blueprint,(0,m.JlV)(o),d)}function yg(o,l,d,g,f){if(o=(0,m.nl4)(o),Array.isArray(o))for(let y=0;y<o.length;y++)yg(o[y],l,d,g,f);else{const y=(0,m.klJ)(),v=(0,m.OAn)(),A=(0,m.Mx4)();let _=(0,m.Y3W)(o)?o:(0,m.nl4)(o.provide);const R=(0,m.Rc9)(o),O=1048575&A.providerIndexes,V=A.directiveStart,re=A.providerIndexes>>20;if((0,m.Y3W)(o)||!o.multi){const ae=new rt(R,f,Oa,null),ve=jb(_,l,f?O:O+re,V);-1===ve?(mn(Bi(A,v),y,_),Hb(y,o,l.length),l.push(_),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),d.push(ae),v.push(ae)):(d[ve]=ae,v[ve]=ae)}else{const ae=jb(_,l,O+re,V),ve=jb(_,l,O,O+re),Ue=ve>=0&&d[ve];if(f&&!Ue||!f&&!(ae>=0&&d[ae])){mn(Bi(A,v),y,_);const et=function Wb(o,l,d,g,f){const v=new rt(o,d,Oa,null);return v.multi=[],v.index=l,v.componentProviders=0,vg(v,f,g&&!d),v}(f?Rk:qb,d.length,f,g,R);!f&&Ue&&(d[ve].providerFactory=et),Hb(y,o,l.length,0),l.push(_),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),d.push(et),v.push(et)}else Hb(y,o,ae>-1?ae:ve,vg(d[f?ve:ae],R,!f&&g));!f&&g&&Ue&&d[ve].componentProviders++}}}function Hb(o,l,d,g){const f=(0,m.Y3W)(l),y=(0,m.MME)(l);if(f||y){const _=(y?(0,m.nl4)(l.useClass):l).prototype.ngOnDestroy;if(_){const R=o.destroyHooks||(o.destroyHooks=[]);if(!f&&l.multi){const O=R.indexOf(d);-1===O?R.push(d,[g,_]):R[O+1].push(g,_)}else R.push(d,_)}}}function vg(o,l,d){return d&&o.componentProviders++,o.multi.push(l)-1}function jb(o,l,d,g){for(let f=d;f<g;f++)if(l[f]===o)return f;return-1}function qb(o,l,d,g,f){return Ub(this.multi,[])}function Rk(o,l,d,g,f){const y=this.multi;let v;if(this.providerFactory){const A=this.providerFactory.componentProviders,_=En(g,g[m.eDl],this.providerFactory.index,f);v=_.slice(0,A),Ub(y,v);for(let R=A;R<_.length;R++)v.push(_[R])}else v=[],Ub(y,v);return v}function Ub(o,l){for(let d=0;d<o.length;d++)l.push((0,o[d])());return l}function Nk(o,l){return d=>{d.providersResolver=(g,f)=>Ik(g,f?f(o):o,!1),l&&(d.viewProvidersResolver=(g,f)=>Ik(g,f?f(l):l,!0))}}function bg(o){if("function"==typeof o)return o;const l=(0,m.Bqz)(o);return l.some(m.Jzi)?()=>l.map(m.nl4).map(Ag):l.map(Ag)}function Ag(o){return Df(o)?o.ngModule:o}function Fk(o,l){const d=(0,m.gxQ)()+o,g=(0,m.OAn)();return g[d]===Xt?pa(g,d,l()):Nl(g,d)}function Sg(o,l,d){return Pg((0,m.OAn)(),(0,m.gxQ)(),o,l,d)}function Yb(o,l,d,g,f,y,v){return kg((0,m.OAn)(),(0,m.gxQ)(),o,l,d,g,f,y)}function Ok(o,l,d,g,f,y,v){const A=(0,m.gxQ)()+o,_=(0,m.OAn)(),R=_r(_,A,d,g,f,y);return Si(_,A+4,v)||R?pa(_,A+5,l(d,g,f,y,v)):Nl(_,A+5)}function id(o,l){const d=o[l];return d===Xt?void 0:d}function Pg(o,l,d,g,f,y){const v=l+d;return Si(o,v,f)?pa(o,v+1,y?g.call(y,f):g(f)):id(o,v+1)}function $k(o,l,d,g,f,y,v){const A=l+d;return ps(o,A,f,y)?pa(o,A+2,v?g.call(v,f,y):g(f,y)):id(o,A+2)}function _g(o,l,d,g,f,y,v,A){const _=l+d;return Oh(o,_,f,y,v)?pa(o,_+3,A?g.call(A,f,y,v):g(f,y,v)):id(o,_+3)}function kg(o,l,d,g,f,y,v,A,_){const R=l+d;return _r(o,R,f,y,v,A)?pa(o,R+4,_?g.call(_,f,y,v,A):g(f,y,v,A)):id(o,R+4)}function Gk(o,l,d,g,f,y){let v=l+d,A=!1;for(let _=0;_<f.length;_++)Si(o,v++,f[_])&&(A=!0);return A?pa(o,v,g.apply(y,f)):id(o,v)}function nd(o,l){return o[m.eDl].data[l].pure}function wg(o,l){return Cl(o,l)}function oc(o,l,d,g,f){const y=f[m.eDl];if(y!==g.tView)for(let v=m.Yw1;v<y.bindingStartIndex;v++){const A=f[v];if((0,m.A0l)(A)){(0,m.q$2)(A[m.jgP])&&oc(o,l,d,g,A[m.jgP]);for(let _=m.Y20;_<A.length;_++)oc(o,l,d,g,A[_])}else(0,m.q$2)(A)&&oc(o,l,d,g,A)}else!function nA(o,l,d,g,f){const y=f[m.SKP];let v=f[m.jgP];const A=f[m.f7T],_=f[m.qlT],R=f[m.YEL].get(m.SKi,null),O=()=>{if(g.encapsulation===Ar.ShadowDom||g.encapsulation===Ar.ExperimentalIsolatedShadowDom){const ve=v.cloneNode(!1);v.replaceWith(ve),v=ve}const V=Xd(d),re=fl(A,V,y,Jd(d),v,_,null,null,null,null,null);(function rA(o,l,d,g){for(let f=m.Yw1;f<o[m.eDl].bindingStartIndex;f++){const y=o[f];if(((0,m.q$2)(y)||(0,m.A0l)(y))&&y[m.K29]===l){y[m.K29]=d;break}}o[m.EJG]===l&&(o[m.EJG]=d),o[m.Yrj]===l&&(o[m.Yrj]=d),d[m.K29]=l[m.K29],l[m.K29]=null,o[g]=d})(A,f,re,_.index),eu(f[m.eDl],f);const ae=f[m.M0L].rendererFactory;(function N0(o,l){o.componentReplaced?.(l.id)})(ae,g),re[m.GpT]=ae.createRenderer(v,d),Fm(f[m.eDl],f),function F0(o){if(null!==o.projection){for(const l of o.projection)Jt(l)&&(l.projectionNext=null,l.flags&=-3);o.projection=null}}(_),ou(V,re,y),TS(V,re,V.template,y)};null===R?Uk(o,l,O):R.run(()=>Uk(o,l,O))}(o,l,d,g,f)}function Uk(o,l,d){try{d()}catch(g){if(null!==l&&g.message){const y=g.message+(g.stack?"\n"+g.stack:"");o?.hot?.send?.("angular:invalidate",{id:l,message:y,error:!0})}throw g}}const Va={\u0275\u0275animateEnter:function zl(o){if(_n("NgAnimateEnter"),!ks)return zl;const l=(0,m.OAn)();if(Ul(l))return zl;const d=(0,m.Mx4)();return Wl(d,l),Kl(Vl(l),d,()=>function R_(o,l,d){const g=(0,m.d31)(l,o),f=o[m.GpT],y=o[m.YEL].get(m.SKi),v=yp(d),A=[],_=O=>{if(O.target!==g)return;const V=O instanceof AnimationEvent?"animationend":"transitionend";y.runOutsideAngular(()=>{f.listen(g,V,R)})},R=O=>{O.target===g&&function dv(o,l,d){const g=wo.get(l);if(o.target===l&&g&&I_(o,l)){o.stopImmediatePropagation();for(const f of g.classList)d.removeClass(l,f);Du(l)}}(O,g,f)};if(v&&v.length>0){y.runOutsideAngular(()=>{A.push(f.listen(g,"animationstart",_)),A.push(f.listen(g,"transitionstart",_))}),function f1(o,l,d){const g=wo.get(o);if(g){for(const f of l)g.classList.push(f);for(const f of d)g.cleanupFns.push(f)}else wo.set(o,{classList:l,cleanupFns:d})}(g,v,A);for(const O of v)f.addClass(g,O);y.runOutsideAngular(()=>{requestAnimationFrame(()=>{if(cS(g,ws,ks),!ws.has(g)){for(const O of v)f.removeClass(g,O);Du(g)}})})}}(l,d,o)),fo(l[m.YEL]),Al(l[m.YEL],Vl(l)),zl},\u0275\u0275animateEnterListener:function bp(o){if(_n("NgAnimateEnter"),!ks)return bp;const l=(0,m.OAn)();if(Ul(l))return bp;const d=(0,m.Mx4)();return Wl(d,l),Kl(Vl(l),d,()=>function hv(o,l,d){const g=(0,m.d31)(l,o);d.call(o[m.SKP],{target:g,animationComplete:x_})}(l,d,o)),fo(l[m.YEL]),Al(l[m.YEL],Vl(l)),bp},\u0275\u0275animateLeave:function Ap(o){if(_n("NgAnimateLeave"),!ks)return Ap;const l=(0,m.OAn)();if(Ul(l))return Ap;const g=(0,m.Mx4)();return Wl(g,l),Kl(Ua(l),g,()=>function pv(o,l,d){const{promise:g,resolve:f}=Hy(),y=(0,m.d31)(l,o),v=o[m.GpT],A=o[m.YEL].get(m.SKi);M.add(o[m.ID]),(Ua(o).get(l.index).resolvers??=[]).push(f);const _=yp(d);return _&&_.length>0?function v1(o,l,d,g,f,y){!function y1(o,l){if(!ks)return;const d=wo.get(o);if(d&&d.classList.length>0&&function cv(o,l){for(const d of l)if(o.classList.contains(d))return!0;return!1}(o,d.classList))for(const g of d.classList)l.removeClass(o,g);Du(o)}(o,f);const v=[],A=Ua(d).get(l.index)?.resolvers,_=R=>{if(R.target===o&&(R instanceof CustomEvent||I_(R,o))){if(R.stopImmediatePropagation(),ws.delete(o),lv(l,o),Array.isArray(l.projection))for(const O of g)f.removeClass(o,O);uv(A,v),Mu(d,l)}};y.runOutsideAngular(()=>{v.push(f.listen(o,"animationend",_)),v.push(f.listen(o,"transitionend",_))}),fp(l,o);for(const R of g)f.addClass(o,R);y.runOutsideAngular(()=>{requestAnimationFrame(()=>{cS(o,ws,ks),ws.has(o)||(lv(l,o),uv(A,v),Mu(d,l))})})}(y,l,o,_,v,A):f(),{promise:g,resolve:f}}(l,g,o)),fo(l[m.YEL]),Ap},\u0275\u0275animateLeaveListener:function xu(o){if(_n("NgAnimateLeave"),!ks)return xu;const l=(0,m.OAn)(),d=(0,m.Mx4)();return Wl(d,l),M.add(l[m.ID]),Kl(Ua(l),d,()=>function b1(o,l,d){const{promise:g,resolve:f}=Hy(),y=(0,m.d31)(l,o),v=[],A=o[m.GpT],_=Ul(o),R=o[m.YEL].get(m.SKi),O=o[m.YEL].get(ov);(Ua(o).get(l.index).resolvers??=[]).push(f);const V=Ua(o).get(l.index)?.resolvers;if(_)vp(o,l,y,V,v);else{const re=setTimeout(()=>vp(o,l,y,V,v),O),ae={target:y,animationComplete:()=>{vp(o,l,y,V,v),clearTimeout(re)}};fp(l,y),R.runOutsideAngular(()=>{v.push(A.listen(y,"animationend",()=>{vp(o,l,y,V,v),clearTimeout(re)},{once:!0}))}),d.call(o[m.SKP],ae)}return{promise:g,resolve:f}}(l,d,o)),fo(l[m.YEL]),xu},\u0275\u0275attribute:Cu,\u0275\u0275defineComponent:BP,\u0275\u0275defineDirective:HP,\u0275\u0275defineInjectable:m.jDH,\u0275\u0275defineInjector:m.G2t,\u0275\u0275defineNgModule:GP,\u0275\u0275definePipe:jP,\u0275\u0275directiveInject:Oa,\u0275\u0275getInheritedFactory:Ur,\u0275\u0275inject:m.KVO,\u0275\u0275injectAttribute:Ae,\u0275\u0275invalidFactory:function yE(){throw new Error("invalid")},\u0275\u0275invalidFactoryDep:m.dmw,\u0275\u0275templateRefExtractor:wg,\u0275\u0275resetView:m.Njj,\u0275\u0275HostDirectivesFeature:function uC(o){const l=d=>{const g=Array.isArray(o);null===d.hostDirectives?(d.resolveHostDirectives=dC,d.hostDirectives=g?o.map(ui):[o]):g?d.hostDirectives.unshift(...o.map(ui)):d.hostDirectives.unshift(o)};return l.ngInherit=!0,l},\u0275\u0275NgOnChangesFeature:ei,\u0275\u0275ProvidersFeature:Nk,\u0275\u0275InheritDefinitionFeature:ey,\u0275\u0275ExternalStylesFeature:function Vb(o){return l=>{o.length<1||(l.getExternalStyles=d=>o.map(f=>f+"?ngcomp"+(d?"="+encodeURIComponent(d):"")+"&e="+l.encapsulation))}},\u0275\u0275nextContext:Yp,\u0275\u0275namespaceHTML:m.joV,\u0275\u0275namespaceMathML:m.By9,\u0275\u0275namespaceSVG:m.qSk,\u0275\u0275enableBindings:m.cSN,\u0275\u0275disableBindings:m.fuf,\u0275\u0275elementStart:Mp,\u0275\u0275elementEnd:Zl,\u0275\u0275element:Gv,\u0275\u0275elementContainerStart:tc,\u0275\u0275elementContainerEnd:Gu,\u0275\u0275domElement:$u,\u0275\u0275domElementStart:ec,\u0275\u0275domElementEnd:xp,\u0275\u0275domElementContainer:function Lp(o,l,d){return qv(o,l,d),Rp(),Lp},\u0275\u0275domElementContainerStart:qv,\u0275\u0275domElementContainerEnd:Rp,\u0275\u0275domTemplate:ny,\u0275\u0275domListener:function zp(o,l,d){const g=(0,m.OAn)(),f=(0,m.klJ)(),y=(0,m.Mx4)();return(3&y.type||d)&&Bh(y,f,g,d,g[m.GpT],o,l,$a(y,g,l)),zp},\u0275\u0275elementContainer:function Ip(o,l,d){return tc(o,l,d),Gu(),Ip},\u0275\u0275pureFunction0:Fk,\u0275\u0275pureFunction1:Sg,\u0275\u0275pureFunction2:function C0(o,l,d,g){return $k((0,m.OAn)(),(0,m.gxQ)(),o,l,d,g)},\u0275\u0275pureFunction3:function zb(o,l,d,g,f){return _g((0,m.OAn)(),(0,m.gxQ)(),o,l,d,g,f)},\u0275\u0275pureFunction4:Yb,\u0275\u0275pureFunction5:Ok,\u0275\u0275pureFunction6:function Xb(o,l,d,g,f,y,v,A){const _=(0,m.gxQ)()+o,R=(0,m.OAn)(),O=_r(R,_,d,g,f,y);return ps(R,_+4,v,A)||O?pa(R,_+6,l(d,g,f,y,v,A)):Nl(R,_+6)},\u0275\u0275pureFunction7:function Bk(o,l,d,g,f,y,v,A,_){const R=(0,m.gxQ)()+o,O=(0,m.OAn)();let V=_r(O,R,d,g,f,y);return Oh(O,R+4,v,A,_)||V?pa(O,R+7,l(d,g,f,y,v,A,_)):Nl(O,R+7)},\u0275\u0275pureFunction8:function D0(o,l,d,g,f,y,v,A,_,R){const O=(0,m.gxQ)()+o,V=(0,m.OAn)(),re=_r(V,O,d,g,f,y);return _r(V,O+4,v,A,_,R)||re?pa(V,O+8,l(d,g,f,y,v,A,_,R)):Nl(V,O+8)},\u0275\u0275pureFunctionV:function Jb(o,l,d){return Gk((0,m.OAn)(),(0,m.gxQ)(),o,l,d)},\u0275\u0275getCurrentView:q_,\u0275\u0275restoreView:m.eBV,\u0275\u0275listener:Vu,\u0275\u0275projection:function l0(o,l=0,d,g,f,y){const v=(0,m.OAn)(),A=(0,m.klJ)(),_=g?o+1:null;null!==_&&vs(v,A,_,g,f,y,null,d);const R=Na(A,m.Yw1+o,16,null,d||null);null===R.projection&&(R.projection=l),(0,m.Pfq)();const V=!v[m.tcA]||(0,m.KtD)();null===v[m.b5C][m.qlT].projection[R.projection]&&null!==_?function vb(o,l,d){const g=m.Yw1+d,f=l.data[g],y=o[g];vo(y,is(o,f,void 0,{dehydratedView:null}),0,La(f,null))}(v,A,_):V&&!lr(R)&&function iu(o,l,d){AS(l[m.GpT],0,l,d,Bm(o,d,l),rh(d.parent||l[m.qlT],d,l))}(A,v,R)},\u0275\u0275syntheticHostProperty:function U_(o,l,d){const g=(0,m.OAn)();if(Si(g,(0,m.xbp)(),l)){const y=(0,m.klJ)(),v=(0,m.CpD)();ru(v,g,o,l,Lt((0,m.MT)(y.data),v,g),d)}return U_},\u0275\u0275syntheticHostListener:function ok(o,l){const d=(0,m.Mx4)(),g=(0,m.OAn)(),f=(0,m.klJ)();return fb(f,g,Lt((0,m.MT)(f.data),d,g),d,o,l),ok},\u0275\u0275pipeBind1:function Zb(o,l,d){const g=o+m.Yw1,f=(0,m.OAn)(),y=(0,m.Hh6)(f,g);return nd(f,g)?Pg(f,(0,m.gxQ)(),l,y.transform,d,y):y.transform(d)},\u0275\u0275pipeBind2:function jk(o,l,d,g){const f=o+m.Yw1,y=(0,m.OAn)(),v=(0,m.Hh6)(y,f);return nd(y,f)?$k(y,(0,m.gxQ)(),l,v.transform,d,g,v):v.transform(d,g)},\u0275\u0275pipeBind3:function eA(o,l,d,g,f){const y=o+m.Yw1,v=(0,m.OAn)(),A=(0,m.Hh6)(v,y);return nd(v,y)?_g(v,(0,m.gxQ)(),l,A.transform,d,g,f,A):A.transform(d,g,f)},\u0275\u0275pipeBind4:function x0(o,l,d,g,f,y){const v=o+m.Yw1,A=(0,m.OAn)(),_=(0,m.Hh6)(A,v);return nd(A,v)?kg(A,(0,m.gxQ)(),l,_.transform,d,g,f,y,_):_.transform(d,g,f,y)},\u0275\u0275pipeBindV:function tA(o,l,d){const g=o+m.Yw1,f=(0,m.OAn)(),y=(0,m.Hh6)(f,g);return nd(f,g)?Gk(f,(0,m.gxQ)(),l,y.transform,d,y):y.transform.apply(y,d)},\u0275\u0275projectionDef:function yb(o){const l=(0,m.OAn)()[m.b5C][m.qlT];if(!l.projection){const g=l.projection=(0,m.WfI)(o?o.length:1,null),f=g.slice();let y=l.child;for(;null!==y;){if(128!==y.type){const v=o?s0(y,o):0;null!==v&&(f[v]?f[v].projectionNext=y:g[v]=y,f[v]=y)}y=y.next}}},\u0275\u0275domProperty:function Np(o,l,d){const g=(0,m.OAn)();return Si(g,(0,m.xbp)(),l)&&((0,m.klJ)(),ru((0,m.CpD)(),g,o,l,g[m.GpT],d)),Np},\u0275\u0275ariaProperty:function D_(o,l){const d=(0,m.OAn)();if(Si(d,(0,m.xbp)(),l)){const f=(0,m.klJ)(),y=(0,m.CpD)();if(uh(y,f,d,o,l))(0,m.Qs1)(y)&&ch(d,y.index);else{const A=(0,m.d31)(y,d);wl(d[m.GpT],A,null,y.value,o,l,null)}}return D_},\u0275\u0275property:$v,\u0275\u0275control:function mv(o,l,d){const g=(0,m.OAn)(),f=(0,m.CpD)();Si(g,(0,m.xbp)(),o)&&((0,m.klJ)(),kl(f,g,l,o,g[m.GpT],d)),function Sp(o,l){const d=Pp(l,o);d&&(function bv(o,l,d){if(d.classes){const g=Xl(o);g.classes??={},d.state();const f=o[m.GpT],y=(0,m.d31)(l,o);for(const[v,A]of d.classes){const _=A();Mv(g.classes,v,_)&&(_?f.addClass(y,v):f.removeClass(y,v))}}}(o,l,d),1024&l.flags?O_(l,o,d,"value"):2048&l.flags?O_(l,o,d,"checked"):4096&l.flags?function Av(o,l,d){const g=d.\u0275interopControl,f=Xl(l),y=d.state(),v=!!(8192&o.flags),A=v?(0,m.d31)(o,l):null,_=l[m.GpT],R=y.value();Jl(f,Cv,R)&&(0,m.O8t)(()=>g.writeValue(R));for(const O of Dv){const V=y[O]?.();if(Jl(f,O,V)){const re=Yl[O],ae=Ru(o,l,re,V);O===Tp?g.setDisabledState&&(0,m.O8t)(()=>g.setDisabledState(V)):v&&!ae&&Sv(o,_,A,O,V,re)}}}(l,o,d):function D1(o,l,d){const g=(0,m.d31)(o,l),f=l[m.GpT],y=d.state(),v=Xl(l),A=y.controlValue();Jl(v,Cv,A)&&function _v(o,l){switch(o.type){case"checkbox":return void(o.checked=l);case"radio":return void(o.checked=l===o.value);case"number":case"range":case"datetime-local":if("number"==typeof l)return void wp(o,l);break;case"date":case"month":case"time":case"week":if(kp(l))return void(o.valueAsDate=l);if("number"==typeof l)return void wp(o,l)}o.value=l}(g,A);for(const _ of Dv){const R=y[_]?.();if(Jl(v,_,R)){const O=Yl[_];Sv(o,f,g,_,R,O),Ru(o,l,O,R)}}}(l,o,d)),(0,m.xbp)()}(g,f)},\u0275\u0275controlCreate:function A1(){const o=(0,m.OAn)(),l=(0,m.klJ)(),d=(0,m.Mx4)();l.firstCreatePass&&function P1(o,l,d){const g=l.inputs?.formField;if(!g||(0,m.Qs1)(l)&&g.includes(l.directiveStart+l.componentOffset))return;const f=g.find(v=>pP in d[v]);if(void 0===f)return;l.fieldIndex=f;const y=function _1(o,l){return!!l[o.fieldIndex].\u0275interopControl&&(o.flags|=4096,!0)}(l,d)||function fv(o,l){for(let d=l.directiveStart;d<l.directiveEnd;d++){const g=o.data[d];if(Iu(g,"value"))return l.flags|=1024,l.customControlIndex=d,!0;if(Iu(g,"checked"))return l.flags|=2048,l.customControlIndex=d,!0}return!1}(o,l);if(!function k1(o){return!!function yv(o){if(2!==o.type)return!1;const l=o.value;return"input"===l||"textarea"===l||"select"===l}(o)&&(o.flags|=8192,function M1(o){if(!o.attrs||"input"!==o.value)return!1;for(let l=0;l<o.attrs.length;l+=2){const d=o.attrs[l];if(on(d))break;if("type"===d){const g=o.attrs[l+1];return"date"===g||"datetime-local"===g||"month"===g||"number"===g||"range"===g||"time"===g||"week"===g}}return!1}(o)&&(o.flags|=16384),function Pv(o){return"select"!==o.value}(o)&&(o.flags|=32768),!0)}(l)&&!y)throw new m.buA(318,!1)}(l,d,o);const g=Pp(d,o);g&&(_n("NgSignalForms"),1024&d.flags?_p(o,d,g,"value"):2048&d.flags?_p(o,d,g,"checked"):4096&d.flags?function T1(o){const l=o.\u0275interopControl;l.registerOnChange(d=>o.state().setControlValue(d)),l.registerOnTouched(()=>o.state().markAsTouched())}(g):8192&d.flags&&function E1(o,l,d){const g=(0,m.klJ)(),f=o[m.GpT],y=(0,m.d31)(l,o),v=()=>{const _=d.state();_.setControlValue(function x1(o,l){switch(o.type){case"checkbox":return o.checked;case"number":case"range":case"datetime-local":if("number"==typeof l())return o.valueAsNumber;break;case"date":case"month":case"time":case"week":const d=l();if(kp(d))return o.valueAsDate;if("number"==typeof d)return o.valueAsNumber}return o.value}(y,_.value))};Bh(l,g,o,void 0,f,"input",v,$a(l,o,v));const A=()=>{d.state().markAsTouched()};if(Bh(l,g,o,void 0,f,"blur",A,$a(l,o,A)),2===l.type&&"select"===l.value&&"function"==typeof MutationObserver){const _=function vv(o,l){const d=new MutationObserver(g=>{g.some(f=>function C1(o){if("childList"===o.type||"characterData"===o.type){if(o.target instanceof Comment)return!1;for(const l of o.addedNodes)if(!(l instanceof Comment))return!0;for(const l of o.removedNodes)if(!(l instanceof Comment))return!0;return!1}return"attributes"===o.type&&o.target instanceof HTMLOptionElement}(f))&&(o.value=l.state().value())});return d.observe(o,{attributes:!0,attributeFilter:["value"],characterData:!0,childList:!0,subtree:!0}),d}(y,d);(0,m.B22)(g,o,_,_.disconnect)}}(o,d,g),g.registerAsBinding(function w1(o,l){const d=o.customControlIndex;return-1===d?void 0:l[d]}(d,o)))},\u0275\u0275pipe:function Qb(o,l){const d=(0,m.klJ)();let g;const f=o+m.Yw1;d.firstCreatePass?(g=function M0(o,l){if(l)for(let d=l.length-1;d>=0;d--){const g=l[d];if(o===g.name)return g}}(l,d.pipeRegistry),d.data[f]=g,g.onDestroy&&(d.destroyHooks??=[]).push(f,g.onDestroy)):g=d.data[f];const y=g.factory||(g.factory=(0,m.wGu)(g.type,!0)),A=(0,m.a2B)(Oa);try{const _=On(!1),R=y();return On(_),(0,m.M_e)(d,(0,m.OAn)(),f,R),R}finally{(0,m.a2B)(A)}},\u0275\u0275queryRefresh:Xp,\u0275\u0275queryAdvance:function Ab(o=1){(0,m.GA0)((0,m.w7Z)()+o)},\u0275\u0275viewQuery:bb,\u0275\u0275viewQuerySignal:function ck(o,l,d,g){return Vf(o,DP(l,d,g)),ck},\u0275\u0275loadQuery:lk,\u0275\u0275contentQuery:function sk(o,l,d,g){return MP(o,l,d,g),sk},\u0275\u0275contentQuerySignal:function Jp(o,l,d,g,f){return Vf(l,MP(o,d,g,f)),Jp},\u0275\u0275reference:uk,\u0275\u0275classMap:vk,\u0275\u0275styleMap:function f0(o){tg(ng,wb,o,!1)},\u0275\u0275styleProp:kb,\u0275\u0275classProp:Xu,\u0275\u0275advance:Mm,\u0275\u0275template:iy,\u0275\u0275conditional:function O1(o,l){_n("NgControlFlow");const d=(0,m.OAn)(),g=(0,m.xbp)(),f=d[g]!==Xt?d[g]:-1,y=-1!==f?Ql(d,m.Yw1+f):void 0;if(Si(d,g,o)){const A=(0,x.Ht)(null);try{if(void 0!==y&&fh(y,0),-1!==o){const _=m.Yw1+o,R=Ql(d,_),O=Ou(d[m.eDl],_),V=null;vo(R,is(d,O,l,{dehydratedView:V}),0,La(O,V))}}finally{(0,x.Ht)(A)}}else if(void 0!==y){const A=CS(y,0);void 0!==A&&(A[m.SKP]=l)}},\u0275\u0275conditionalCreate:function Rv(o,l,d,g,f,y,v,A){_n("NgControlFlow");const _=(0,m.OAn)(),R=(0,m.klJ)();return vs(_,R,o,l,d,g,f,(0,m.db4)(R.consts,y),256,v,A),Fu},\u0275\u0275conditionalBranchCreate:Fu,\u0275\u0275defer:mp,\u0275\u0275deferWhen:E_,\u0275\u0275deferOnIdle:function a1(){qi(0,(0,m.OAn)(),(0,m.Mx4)())&&dp(Xh)},\u0275\u0275deferOnImmediate:function s1(){const o=(0,m.OAn)(),l=(0,m.Mx4)();qi(0,o,l)&&(null===Rn(o[m.eDl],l).loadingTmplIndex&&Gl(o,l),qa(0,o,l))},\u0275\u0275deferOnTimer:function l1(o){qi(0,(0,m.OAn)(),(0,m.Mx4)())&&dp(Jh(o))},\u0275\u0275deferOnHover:function tv(o,l){const d=(0,m.OAn)(),g=(0,m.Mx4)();qi(0,d,g)&&(Gl(d,g),Su(d,g,o,l,Pd,()=>qa(0,d,g),0))},\u0275\u0275deferOnInteraction:function d1(o,l){const d=(0,m.OAn)(),g=(0,m.Mx4)();qi(0,d,g)&&(Gl(d,g),Su(d,g,o,l,ro,()=>qa(0,d,g),0))},\u0275\u0275deferOnViewport:function rv(o,l,d){const g=(0,m.OAn)(),f=(0,m.Mx4)();qi(0,g,f)&&(Gl(g,f),Su(g,f,o,l,Yh,()=>qa(0,g,f),0,d))},\u0275\u0275deferPrefetchWhen:function Xy(o){const l=(0,m.OAn)(),d=(0,m.CpD)();if(qi(1,l,d)&&Si(l,(0,m.xbp)(),o)){const f=(0,x.Ht)(null);try{const y=!!o,A=Rn(l[m.eDl],d);!0===y&&A.loadingState===ji.NOT_STARTED&&Ps(A,l,d)}finally{(0,x.Ht)(f)}}},\u0275\u0275deferPrefetchOnIdle:function Qy(){qi(1,(0,m.OAn)(),(0,m.Mx4)())&&P_(Xh)},\u0275\u0275deferPrefetchOnImmediate:function Zy(){const o=(0,m.OAn)(),l=(0,m.Mx4)();if(!qi(1,o,l))return;const g=Rn(o[m.eDl],l);g.loadingState===ji.NOT_STARTED&&Tu(g,o,l)},\u0275\u0275deferPrefetchOnTimer:function ev(o){qi(1,(0,m.OAn)(),(0,m.Mx4)())&&P_(Jh(o))},\u0275\u0275deferPrefetchOnHover:function u1(o,l){const d=(0,m.OAn)(),g=(0,m.Mx4)();if(!qi(1,d,g))return;const y=Rn(d[m.eDl],g);y.loadingState===ji.NOT_STARTED&&Su(d,g,o,l,Pd,()=>Ps(y,d,g),1)},\u0275\u0275deferPrefetchOnInteraction:function nv(o,l){const d=(0,m.OAn)(),g=(0,m.Mx4)();if(!qi(1,d,g))return;const y=Rn(d[m.eDl],g);y.loadingState===ji.NOT_STARTED&&Su(d,g,o,l,ro,()=>Ps(y,d,g),1)},\u0275\u0275deferPrefetchOnViewport:function p1(o,l,d){const g=(0,m.OAn)(),f=(0,m.Mx4)();if(!qi(1,g,f))return;const v=Rn(g[m.eDl],f);v.loadingState===ji.NOT_STARTED&&Su(g,f,o,l,Yh,()=>Ps(v,g,f),1,d)},\u0275\u0275deferHydrateWhen:function r1(o){const l=(0,m.OAn)(),d=(0,m.CpD)();if(!qi(2,l,d))return;const g=(0,m.xbp)();if(ma((0,m.klJ)(),d).set(6,null),Si(l,g,o)){const v=l[m.YEL],A=(0,x.Ht)(null);try{1==!!o&&_s(v,ur(l,d)[6])}finally{(0,x.Ht)(A)}}},\u0275\u0275deferHydrateNever:function Jy(){const o=(0,m.OAn)(),l=(0,m.Mx4)();qi(2,o,l)&&ma((0,m.klJ)(),l).set(7,null)},\u0275\u0275deferHydrateOnIdle:function o1(){const o=(0,m.OAn)(),l=(0,m.Mx4)();qi(2,o,l)&&(ma((0,m.klJ)(),l).set(0,null),hp(Xh,o,l))},\u0275\u0275deferHydrateOnImmediate:function C_(){const o=(0,m.OAn)(),l=(0,m.Mx4)();qi(2,o,l)&&(ma((0,m.klJ)(),l).set(1,null),_s(o[m.YEL],ur(o,l)[6]))},\u0275\u0275deferHydrateOnTimer:function c1(o){const l=(0,m.OAn)(),d=(0,m.Mx4)();qi(2,l,d)&&(ma((0,m.klJ)(),d).set(5,{type:5,delay:o}),hp(Jh(o),l,d))},\u0275\u0275deferHydrateOnHover:function iv(){const o=(0,m.OAn)(),l=(0,m.Mx4)();qi(2,o,l)&&ma((0,m.klJ)(),l).set(4,null)},\u0275\u0275deferHydrateOnInteraction:function h1(){const o=(0,m.OAn)(),l=(0,m.Mx4)();qi(2,o,l)&&ma((0,m.klJ)(),l).set(3,null)},\u0275\u0275deferHydrateOnViewport:function av(o){const l=(0,m.OAn)(),d=(0,m.Mx4)();qi(2,l,d)&&ma((0,m.klJ)(),d).set(2,o?{type:2,intersectionObserverOptions:o}:null)},\u0275\u0275deferEnableTimerScheduling:function CC(o,l,d,g){const f=o.consts;null!=d&&(l.placeholderBlockConfig=(0,m.db4)(f,d)),null!=g&&(l.loadingBlockConfig=(0,m.db4)(f,g)),null===vy&&(vy=my)},\u0275\u0275repeater:function Ov(o){const l=(0,x.Ht)(null),d=(0,m._px)();try{const g=(0,m.OAn)(),f=g[m.eDl],y=g[d],v=d+1,A=Ql(g,v);if(void 0===y.liveCollection){const R=Ou(f,v);y.liveCollection=new Fv(A,g,R)}else y.liveCollection.reset();const _=y.liveCollection;if(function xv(o,l,d,g){let f,y,v=0,A=o.length-1;if(Array.isArray(l)){(0,x.Ht)(g);let R=l.length-1;for((0,x.Ht)(null);v<=A&&v<=R;){const O=o.at(v),V=l[v],re=Lu(v,O,v,V,d);if(0!==re){re<0&&o.updateValue(v,V),v++;continue}const ae=o.at(A),ve=l[R],Me=Lu(A,ae,R,ve,d);if(0!==Me){Me<0&&o.updateValue(A,ve),A--,R--;continue}const Ue=d(v,O),et=d(A,ae),Re=d(v,V);if(Object.is(Re,et)){const $t=d(R,ve);Object.is($t,Ue)?(o.swap(v,A),o.updateValue(A,ve),R--,A--):o.move(A,v),o.updateValue(v,V),v++;continue}if(f??=new Dp,y??=Nu(o,v,A,d),Iv(o,f,v,Re))o.updateValue(v,V),v++,A++;else if(y.has(Re))f.set(Ue,o.detach(v)),A--;else{const $t=o.create(v,l[v]);o.attach(v,$t),v++,A++}}for(;v<=R;)Cp(o,f,d,v,l[v]),v++}else if(null!=l){(0,x.Ht)(g);const R=l[Symbol.iterator]();(0,x.Ht)(null);let O=R.next();for(;!O.done&&v<=A;){const V=o.at(v),re=O.value,ae=Lu(v,V,v,re,d);if(0!==ae)ae<0&&o.updateValue(v,re),v++,O=R.next();else{f??=new Dp,y??=Nu(o,v,A,d);const ve=d(v,re);if(Iv(o,f,v,ve))o.updateValue(v,re),v++,A++,O=R.next();else if(y.has(ve)){const Me=d(v,V);f.set(Me,o.detach(v)),A--}else o.attach(v,o.create(v,re)),v++,A++,O=R.next()}}for(;!O.done;)Cp(o,f,d,o.length,O.value),O=R.next()}for(;v<=A;)o.destroy(o.detach(A--));f?.forEach(R=>{o.destroy(R)})}(_,o,y.trackByFn,l),_.updateIndexes(),y.hasEmptyBlock){const R=(0,m.xbp)(),O=0===_.length;if(Si(g,R,O)){const V=d+2,re=Ql(g,V);if(O){const ae=Ou(f,V),ve=null;vo(re,is(g,ae,void 0,{dehydratedView:ve}),0,La(ae,ve))}else f.firstUpdatePass&&xl(re),fh(re,0)}}}finally{(0,x.Ht)(l)}},\u0275\u0275repeaterCreate:function $_(o,l,d,g,f,y,v,A,_,R,O,V,re){_n("NgControlFlow");const ae=(0,m.OAn)(),ve=(0,m.klJ)(),Me=void 0!==_,Ue=(0,m.OAn)(),et=A?v.bind(Ue[m.b5C][m.SKP]):v,Re=new Nv(Me,et);Ue[m.Yw1+o]=Re,vs(ae,ve,o+1,l,d,g,f,(0,m.db4)(ve.consts,y),256),Me&&vs(ae,ve,o+2,_,R,O,V,(0,m.db4)(ve.consts,re),512)},\u0275\u0275repeaterTrackByIndex:function B_(o){return o},\u0275\u0275repeaterTrackByIdentity:function B1(o,l){return l},\u0275\u0275componentInstance:function gv(){return(0,m.OAn)()[m.b5C][m.SKP]},\u0275\u0275text:og,\u0275\u0275textInterpolate:dg,\u0275\u0275textInterpolate1:hg,\u0275\u0275textInterpolate2:Ju,\u0275\u0275textInterpolate3:function Ek(o,l,d,g,f,y,v){const A=(0,m.OAn)(),_=wk(A,o,l,d,g,f,y,v);return _!==Xt&&Wa(A,(0,m._px)(),_),Ek},\u0275\u0275textInterpolate4:Qu,\u0275\u0275textInterpolate5:function Ck(o,l,d,g,f,y,v,A,_,R,O){const V=(0,m.OAn)(),re=Tk(V,o,l,d,g,f,y,v,A,_,R,O);return re!==Xt&&Wa(V,(0,m._px)(),re),Ck},\u0275\u0275textInterpolate6:function pg(o,l,d,g,f,y,v,A,_,R,O,V,re){const ae=(0,m.OAn)(),ve=ug(ae,o,l,d,g,f,y,v,A,_,R,O,V,re);return ve!==Xt&&Wa(ae,(0,m._px)(),ve),pg},\u0275\u0275textInterpolate7:function gg(o,l,d,g,f,y,v,A,_,R,O,V,re,ae,ve){const Me=(0,m.OAn)(),Ue=Rb(Me,o,l,d,g,f,y,v,A,_,R,O,V,re,ae,ve);return Ue!==Xt&&Wa(Me,(0,m._px)(),Ue),gg},\u0275\u0275textInterpolate8:function Zu(o,l,d,g,f,y,v,A,_,R,O,V,re,ae,ve,Me,Ue){const et=(0,m.OAn)(),Re=Lb(et,o,l,d,g,f,y,v,A,_,R,O,V,re,ae,ve,Me,Ue);return Re!==Xt&&Wa(et,(0,m._px)(),Re),Zu},\u0275\u0275textInterpolateV:function mg(o){const l=(0,m.OAn)(),d=sg(l,o);return d!==Xt&&Wa(l,(0,m._px)(),d),mg},\u0275\u0275i18n:function pb(o,l,d){rk(o,l,d),Kp()},\u0275\u0275i18nAttributes:function gb(o,l){const d=(0,m.klJ)(),g=(0,m.db4)(d.consts,l);!function J1(o,l,d){const f=(0,m.Mx4)().index,y=[];if(o.firstCreatePass&&null===o.data[l]){for(let v=0;v<d.length;v+=2){const A=d[v],_=d[v+1];if(""!==_){if(Jv.test(_))throw new Error(`ICU expressions are not supported in attributes. Message: "${_}".`);xs(y,_,f,A,Q1(y),null)}}o.data[l]=y}}(d,o+m.Yw1,g)},\u0275\u0275i18nExp:function ak(o){return function U1(o){o&&(qu|=1<<Math.min(Cs,31)),Cs++}(Si((0,m.OAn)(),(0,m.xbp)(),o)),ak},\u0275\u0275i18nStart:rk,\u0275\u0275i18nEnd:Kp,\u0275\u0275i18nApply:function mb(o){!function Xv(o,l,d){if(Cs>0){const g=o.data[d];X_(o,l,Array.isArray(g)?g:g.update,(0,m.c$7)()-Cs-1,qu)}qu=0,Cs=0}((0,m.klJ)(),(0,m.OAn)(),o+m.Yw1)},\u0275\u0275i18nPostprocess:function o0(o,l={}){return function hb(o,l={}){let d=o;if(t0.test(o)){const g={},f=[0];d=d.replace(cb,(y,v,A)=>{const _=v||A,R=g[_]||[];if(R.length||(_.split("|").forEach(Me=>{const Ue=Me.match(a0),et=Ue?parseInt(Ue[1],10):0,Re=db.test(Me);R.push([et,Re,Me])}),g[_]=R),!R.length)throw new Error(`i18n postprocess: unmatched placeholder - ${_}`);const O=f[f.length-1];let V=0;for(let Me=0;Me<R.length;Me++)if(R[Me][0]===O){V=Me;break}const[re,ae,ve]=R[V];return ae?f.pop():O!==re&&f.push(re),R.splice(V,1),ve})}return Object.keys(l).length&&(d=d.replace(n0,(g,f,y,v,A,_)=>l.hasOwnProperty(y)?`${f}${l[y]}${_}`:g),d=d.replace(ub,(g,f)=>l.hasOwnProperty(f)?l[f]:g),d=d.replace(r0,(g,f)=>{if(l.hasOwnProperty(f)){const y=l[f];if(!y.length)throw new Error(`i18n postprocess: unmatched ICU - ${g} with key: ${f}`);return y.shift()}return g})),d}(o,l)},\u0275\u0275resolveWindow:function _T(o){return o.ownerDocument.defaultView},\u0275\u0275resolveDocument:function go(o){return o.ownerDocument},\u0275\u0275resolveBody:function tS(o){return o.ownerDocument.body},\u0275\u0275setComponentScope:function E0(o,l,d){const g=o.\u0275cmp;g.directiveDefs=_o(l,$P),g.pipeDefs=_o(d,m.oyA)},\u0275\u0275setNgModuleScope:function Kb(o,l){return ee(()=>{const d=(0,m.WbQ)(o);d.declarations=bg(l.declarations||m.Mlv),d.imports=bg(l.imports||m.Mlv),d.exports=bg(l.exports||m.Mlv),l.bootstrap&&(d.bootstrap=bg(l.bootstrap)),Lh.registerNgModule(o,l)})},\u0275\u0275registerNgModuleType:jh,\u0275\u0275getComponentDepsFactory:function I0(o,l){return()=>{try{return Lh.getComponentDependencies(o,l).dependencies}catch(d){throw console.error(`Computing dependencies in local compilation mode for the component "${o.name}" failed with the exception:`,d),d}}},\u0275setClassDebugInfo:function qk(o,l){const d=(0,m.xUg)(o);null!==d&&(d.debugInfo=l)},\u0275\u0275declareLet:function fg(o){_n("NgLet");const l=(0,m.klJ)(),d=(0,m.OAn)(),g=o+m.Yw1,f=Na(l,g,128,null,null);return(0,m.iMd)(f,!1),(0,m.M_e)(l,d,g,Mk),fg},\u0275\u0275storeLet:function S0(o){const l=(0,m.klJ)(),d=(0,m.OAn)(),g=(0,m._px)();return(0,m.M_e)(l,d,g,o),o},\u0275\u0275readContextLet:function Nb(o){const l=(0,m.VPL)(),d=(0,m.Hh6)(l,m.Yw1+o);if(d===Mk)throw new m.buA(314,!1);return d},\u0275\u0275attachSourceLocations:function P0(o,l){const d=(0,m.klJ)(),g=(0,m.OAn)(),f=g[m.GpT],y="data-ng-source-location";for(const[v,A,_,R]of l){(0,m.XRZ)(d,v+m.Yw1);const V=(0,m.vaC)(v+m.Yw1,g);V.hasAttribute(y)||f.setAttribute(V,y,`${o}@o:${A},l:${_},c:${R}`)}},\u0275\u0275interpolate:function Fb(o){return Si((0,m.OAn)(),(0,m.xbp)(),o)?(0,m.eFE)(o):Xt},\u0275\u0275interpolate1:function _0(o,l,d=""){return kk((0,m.OAn)(),o,l,d)},\u0275\u0275interpolate2:function Ob(o,l,d,g,f=""){return lg((0,m.OAn)(),o,l,d,g,f)},\u0275\u0275interpolate3:function k0(o,l,d,g,f,y,v=""){return wk((0,m.OAn)(),o,l,d,g,f,y,v)},\u0275\u0275interpolate4:function Bb(o,l,d,g,f,y,v,A,_=""){return cg((0,m.OAn)(),o,l,d,g,f,y,v,A,_)},\u0275\u0275interpolate5:function xk(o,l,d,g,f,y,v,A,_,R,O=""){return Tk((0,m.OAn)(),o,l,d,g,f,y,v,A,_,R,O)},\u0275\u0275interpolate6:function w0(o,l,d,g,f,y,v,A,_,R,O,V,re=""){return ug((0,m.OAn)(),o,l,d,g,f,y,v,A,_,R,O,V,re)},\u0275\u0275interpolate7:function $b(o,l,d,g,f,y,v,A,_,R,O,V,re,ae,ve=""){return Rb((0,m.OAn)(),o,l,d,g,f,y,v,A,_,R,O,V,re,ae,ve)},\u0275\u0275interpolate8:function T0(o,l,d,g,f,y,v,A,_,R,O,V,re,ae,ve,Me,Ue=""){return Lb((0,m.OAn)(),o,l,d,g,f,y,v,A,_,R,O,V,re,ae,ve,Me,Ue)},\u0275\u0275interpolateV:function Gb(o){return sg((0,m.OAn)(),o)},\u0275\u0275sanitizeHtml:function cT(o){const l=gl();return l?ll(l.sanitize(pl.HTML,o)||""):zo(o,"HTML")?ll(Lr(o)):function Ot(o,l){let d=null;try{rr=rr||Am(o);let g=l?String(l):"";d=rr.getInertBodyElement(g);let f=5,y=g;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,g=y,y=d.innerHTML,d=rr.getInertBodyElement(g)}while(g!==y);return tn((new qc).sanitizeChildren(Bt(d)||d))}finally{if(d){const g=Bt(d)||d;for(;g.firstChild;)g.firstChild.remove()}}}(Mr(),(0,m.eFE)(o))},\u0275\u0275sanitizeStyle:function uT(o){const l=gl();return l?l.sanitize(pl.STYLE,o)||"":zo(o,"Style")?Lr(o):(0,m.eFE)(o)},\u0275\u0275sanitizeResourceUrl:QA,\u0275\u0275sanitizeScript:function dT(o){const l=gl();if(l)return Bc(l.sanitize(pl.SCRIPT,o)||"");if(zo(o,"Script"))return Bc(Lr(o));throw new m.buA(905,!1)},\u0275\u0275validateAttribute:function bT(o,l,d){const g=l.toLowerCase(),f=d.toLowerCase();if(!vT[g]?.has(f))return o;const y=(0,m.CpD)();if(2!==y.type)return o;const v=(0,m.OAn)();throw"iframe"===g&&function lT(o){const l=(0,m.OAn)();o.src="",o.srcdoc=tn(""),pt(l[m.GpT],o)}((0,m.d31)(y,v)),new m.buA(-910,!1)},\u0275\u0275sanitizeUrl:km,\u0275\u0275sanitizeUrlOrResourceUrl:function yT(o,l,d){return function fT(o,l){return"src"===l&&gT.has(o)||"href"===l&&mT.has(o)||"xlink:href"===l&&"script"===o?QA:km}(l,d)(o)},\u0275\u0275trustConstantHtml:function hT(o){return tn(o[0])},\u0275\u0275trustConstantResourceUrl:function pT(o){return function nn(o){return sl()?.createScriptURL(o)||o}(o[0])},forwardRef:m.Rfq,resolveForwardRef:m.nl4,\u0275\u0275twoWayProperty:ed,\u0275\u0275twoWayBindingSet:Dk,\u0275\u0275twoWayListener:td,\u0275\u0275replaceMetadata:function iA(o,l,d,g,f=null,y=null){const v=(0,m.xUg)(o);l.apply(null,[o,d,...g]);const{newDef:A,oldDef:_}=function L0(o,l){const d={...o};return{newDef:Object.assign(o,l,{directiveDefs:d.directiveDefs,pipeDefs:d.pipeDefs,setInput:d.setInput,type:d.type}),oldDef:d}}(v,(0,m.xUg)(o));if(o[m.CQl]=A,_.tView){const R=function Q(){return An}().values();for(const O of R)(0,m.EFk)(O)&&null===O[m.f7T]&&oc(f,y,A,_,O)}},\u0275\u0275getReplaceMetadataURL:function R0(o,l,d){const g=`./@ng/component?c=${o}&t=${encodeURIComponent(l)}`;return new URL(g,d).href}};let Ls=null;function O0(o){null!==Ls&&(o.defaultEncapsulation!==Ls.defaultEncapsulation||o.preserveWhitespaces!==Ls.preserveWhitespaces)||(Ls=o)}const sc=[];function xg(o){return Df(o)?o.ngModule:o}const gA=ce("NgModule",o=>o,void 0,0,(o,l)=>function G0(o,l={}){(function oA(o,l){const g=(0,m.Bqz)(l.declarations||m.Mlv);let f=null;Object.defineProperty(o,m.hmW,{configurable:!0,get:()=>(null===f&&(f=Ye().compileNgModule(Va,`ng:///${o.name}/\u0275mod.js`,{type:o,bootstrap:(0,m.Bqz)(l.bootstrap||m.Mlv).map(m.nl4),declarations:g.map(m.nl4),imports:(0,m.Bqz)(l.imports||m.Mlv).map(m.nl4).map(xg),exports:(0,m.Bqz)(l.exports||m.Mlv).map(m.nl4).map(xg),schemas:l.schemas?(0,m.Bqz)(l.schemas):null,id:l.id||null}),f.schemas||(f.schemas=[])),f)});let y=null;Object.defineProperty(o,m.zSs,{get:()=>{if(null===y){const A=Ye();y=A.compileFactory(Va,`ng:///${o.name}/\u0275fac.js`,{name:o.name,type:o,deps:gt(o),target:A.FactoryTarget.NgModule,typeArgumentCount:0})}return y},configurable:!1});let v=null;Object.defineProperty(o,m.ONQ,{get:()=>{if(null===v){const A={name:o.name,type:o,providers:l.providers||m.Mlv,imports:[(l.imports||m.Mlv).map(m.nl4),(l.exports||m.Mlv).map(m.nl4)]};v=Ye().compileInjector(Va,`ng:///${o.name}/\u0275inj.js`,A)}return v},configurable:!1})})(o,l),void 0!==l.id&&jh(o,l.id),function B0(o,l){sc.push({moduleType:o,ngModule:l})}(o,l)}(o,l)),K0=new m.nKC("");let z0=(()=>{class o{applicationErrorHandler=(0,m.WQX)(m.ZTf);appRef=(0,m.WQX)(wu);taskService=(0,m.WQX)(m.rev);ngZone=(0,m.WQX)(m.SKi);zonelessEnabled=(0,m.WQX)(m.Evm);tracing=(0,m.WQX)(bl,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new P.y;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(m.AbJ):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&((0,m.WQX)(m.AQb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{const d=this.taskService.add();this.runningTick||(this.cleanup(),this.zonelessEnabled&&!this.appRef.includeAllTestViews)?(this.switchToMicrotaskScheduler(),this.taskService.remove(d)):this.taskService.remove(d)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{const d=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(d)})})}notify(d){if(!this.zonelessEnabled&&5===d)return;switch(d){case 0:case 6:case 13:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 12:this.appRef.dirtyFlags|=16;break;case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;const g=this.useMicrotaskScheduler?m.uiq:m.l4E;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>g(()=>this.tick())):this.ngZone.runOutsideAngular(()=>g(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(m.AbJ+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const d=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(g){this.applicationErrorHandler(g)}finally{this.taskService.remove(d),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const d=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(d)}}static \u0275fac=function(g){return new(g||o)};static \u0275prov=(0,m.jDH)({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function cw(){return[{provide:m.hk6,useExisting:z0},{provide:m.SKi,useClass:m.myG},{provide:m.Evm,useValue:!0}]}const uw=new m.nKC("",{factory:()=>(0,m.WQX)(uw,{optional:!0,skipSelf:!0})||function mA(){return typeof $localize<"u"&&$localize.locale||Kv}()}),fA=new m.nKC("",{factory:()=>"USD"})},5554(fe,K,w){w.d(K,{A:()=>m});const m=function T(){return!1}},5722(fe,K,w){w.d(K,{s:()=>T});const T="function"==typeof Symbol&&Symbol.observable||"@@observable"},5738(fe,K,w){w.d(K,{A:()=>P});var T=w(7107),x=Object.prototype.hasOwnProperty;const P=function q(p){var ee=this.__data__;return T.A?void 0!==ee[p]:x.call(ee,p)}},5756(fe,K,w){w.d(K,{A:()=>q});var T=w(5525),m=w(1860);const q=(0,T.A)(m.A,"WeakMap")},5776(fe,K,w){w.d(K,{A:()=>x});var T=Object.prototype;const x=function m(q){var P=q&&q.constructor;return q===("function"==typeof P&&P.prototype||T)}},5824(fe,K,w){w.d(K,{Ag:()=>Ui,Bg:()=>tt,EF:()=>ei,H8:()=>mi,Ht:()=>p,JC:()=>Ee,KE:()=>ne,KO:()=>Mi,KZ:()=>Ut,Ny:()=>kn,O8:()=>lt,TO:()=>At,Wu:()=>Ye,XR:()=>kt,a7:()=>xt,bh:()=>P,j2:()=>Ji,lh:()=>wt,mC:()=>ut,mK:()=>ce,n5:()=>it,nR:()=>ee,pL:()=>le,s0:()=>Wt,si:()=>Zt,vX:()=>Ni});let T=null,m=!1,x=1;const P=Symbol("SIGNAL");function p(ge){const Be=T;return T=ge,Be}function ee(){return T}function ne(){return m}const le={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ce(ge){if(m)throw new Error("");if(null===T)return;T.consumerOnSignalRead(ge);const Be=T.producersTail;if(void 0!==Be&&Be.producer===ge)return;let Ke;const ke=T.recomputing;if(ke&&(Ke=void 0!==Be?Be.nextProducer:T.producers,void 0!==Ke&&Ke.producer===ge))return T.producersTail=Ke,void(Ke.lastReadVersion=ge.version);const rt=ge.consumersTail;if(void 0!==rt&&rt.consumer===T&&(!ke||function Li(ge,Be){const Ke=Be.producersTail;if(void 0!==Ke){let ke=Be.producers;do{if(ke===ge)return!0;if(ke===Ke)break;ke=ke.nextProducer}while(void 0!==ke)}return!1}(rt,T)))return;const Yt=si(T),Jt={producer:ge,consumer:T,nextProducer:Ke,prevConsumer:rt,lastReadVersion:ge.version,nextConsumer:void 0};T.producersTail=Jt,void 0!==Be?Be.nextProducer=Jt:T.producers=Jt,Yt&&ii(ge,Jt)}function Ee(ge){if((!si(ge)||ge.dirty)&&(ge.dirty||ge.lastCleanEpoch!==x)){if(!ge.producerMustRecompute(ge)&&!Zt(ge))return void At(ge);ge.producerRecomputeValue(ge),At(ge)}}function He(ge){if(void 0===ge.consumers)return;const Be=m;m=!0;try{for(let Ke=ge.consumers;void 0!==Ke;Ke=Ke.nextConsumer){const ke=Ke.consumer;ke.dirty||Qe(ke)}}finally{m=Be}}function Je(){return!1!==T?.consumerAllowSignalWrites}function Qe(ge){ge.dirty=!0,He(ge),ge.consumerMarkedDirty?.(ge)}function At(ge){ge.dirty=!1,ge.lastCleanEpoch=x}function tt(ge){return ge&&function mt(ge){ge.producersTail=void 0,ge.recomputing=!0}(ge),p(ge)}function Ye(ge,Be){p(Be),ge&&function Nt(ge){ge.recomputing=!1;const Be=ge.producersTail;let Ke=void 0!==Be?Be.nextProducer:ge.producers;if(void 0!==Ke){if(si(ge))do{Ke=It(Ke)}while(void 0!==Ke);void 0!==Be?Be.nextProducer=void 0:ge.producers=void 0}}(ge)}function Zt(ge){for(let Be=ge.producers;void 0!==Be;Be=Be.nextProducer){const Ke=Be.producer,ke=Be.lastReadVersion;if(ke!==Ke.version||(Ee(Ke),ke!==Ke.version))return!0}return!1}function kt(ge){if(si(ge)){let Be=ge.producers;for(;void 0!==Be;)Be=It(Be)}ge.producers=void 0,ge.producersTail=void 0,ge.consumers=void 0,ge.consumersTail=void 0}function ii(ge,Be){const Ke=ge.consumersTail,ke=si(ge);if(void 0!==Ke?(Be.nextConsumer=Ke.nextConsumer,Ke.nextConsumer=Be):(Be.nextConsumer=void 0,ge.consumers=Be),Be.prevConsumer=Ke,ge.consumersTail=Be,!ke)for(let rt=ge.producers;void 0!==rt;rt=rt.nextProducer)ii(rt.producer,rt)}function It(ge){const Be=ge.producer,Ke=ge.nextProducer,ke=ge.nextConsumer,rt=ge.prevConsumer;if(ge.nextConsumer=void 0,ge.prevConsumer=void 0,void 0!==ke?ke.prevConsumer=rt:Be.consumersTail=rt,void 0!==rt)rt.nextConsumer=ke;else if(Be.consumers=ke,!si(Be)){let Yt=Be.producers;for(;void 0!==Yt;)Yt=It(Yt)}return Ke}function si(ge){return ge.consumerIsAlwaysLive||void 0!==ge.consumers}function xt(ge){}function mi(ge,Be){return Object.is(ge,Be)}function Ut(ge,Be){const Ke=Object.create(Xi);Ke.computation=ge,void 0!==Be&&(Ke.equal=Be);const ke=()=>{if(Ee(Ke),ce(Ke),Ke.value===ei)throw Ke.error;return Ke.value};return ke[P]=Ke,ke}const Ui=Symbol("UNSET"),kn=Symbol("COMPUTING"),ei=Symbol("ERRORED"),Xi={...le,value:Ui,dirty:!0,error:null,equal:mi,kind:"computed",producerMustRecompute:ge=>ge.value===Ui||ge.value===kn,producerRecomputeValue(ge){if(ge.value===kn)throw new Error("");const Be=ge.value;ge.value=kn;const Ke=tt(ge);let ke,rt=!1;try{ke=ge.computation(),p(null),rt=Be!==Ui&&Be!==ei&&ke!==ei&&ge.equal(Be,ke)}catch(Yt){ke=ei,ge.error=Yt}finally{Ye(ge,Ke)}rt?ge.value=Be:(ge.value=ke,ge.version++)}};let Vi=function Wi(){throw new Error};function rn(ge){Vi(ge)}function Mi(ge){Vi=ge}function it(ge,Be){const Ke=Object.create(Wt);Ke.value=ge,void 0!==Be&&(Ke.equal=Be);const ke=()=>function pr(ge){return ce(ge),ge.value}(Ke);return ke[P]=Ke,[ke,Jt=>Ji(Ke,Jt),Jt=>ut(Ke,Jt)]}function Ji(ge,Be){Je()||rn(ge),ge.equal(ge.value,Be)||(ge.value=Be,function pn(ge){ge.version++,function me(){x++}(),He(ge)}(ge))}function ut(ge,Be){Je()||rn(ge),Ji(ge,Be(ge.value))}const Wt={...le,equal:mi,value:void 0,kind:"signal"};function lt(ge){const Be=p(null);try{return ge()}finally{p(Be)}}const Ni={...le,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"};function wt(ge){if(ge.dirty=!1,ge.version>0&&!Zt(ge))return;ge.version++;const Be=tt(ge);try{ge.cleanup(),ge.fn()}finally{Ye(ge,Be)}}},5998(fe,K,w){function T(m){return!!m&&"function"!=typeof m.subscribe&&"function"==typeof m.then}w.d(K,{y:()=>T})},6032(fe,K,w){w.d(K,{A:()=>m});const m=function T(){return[]}},6080(fe,K,w){w.d(K,{A:()=>Ke});var T=w(7302),m=w(9162),x=w(1984),q=w(9452),P=w(3507),p=w(9933),ee=w(4528),ne=w(712),te=w(9975),le=w(7895),ce=w(7372),me=w(3080),Ee=w(7104),He=w(7850),Je=w(1178),Qe=w(3744),At=w(259),tt=w(1795),mt=w(554),Ye=w(2173),Nt=w(4429),Zt=w(4238),si="[object Arguments]",Ut="[object Function]",Xi="[object Object]",ge={};ge[si]=ge["[object Array]"]=ge["[object ArrayBuffer]"]=ge["[object DataView]"]=ge["[object Boolean]"]=ge["[object Date]"]=ge["[object Float32Array]"]=ge["[object Float64Array]"]=ge["[object Int8Array]"]=ge["[object Int16Array]"]=ge["[object Int32Array]"]=ge["[object Map]"]=ge["[object Number]"]=ge[Xi]=ge["[object RegExp]"]=ge["[object Set]"]=ge["[object String]"]=ge["[object Symbol]"]=ge["[object Uint8Array]"]=ge["[object Uint8ClampedArray]"]=ge["[object Uint16Array]"]=ge["[object Uint32Array]"]=!0,ge["[object Error]"]=ge[Ut]=ge["[object WeakMap]"]=!1;const Ke=function Be(ke,rt,Yt,Jt,_i,ni){var Ht,Fn=1&rt,an=2&rt,gn=4&rt;if(Yt&&(Ht=_i?Yt(ke,Jt,_i,ni):Yt(ke)),void 0!==Ht)return Ht;if(!(0,mt.A)(ke))return ke;var on=(0,Qe.A)(ke);if(on){if(Ht=(0,Ee.A)(ke),!Fn)return(0,ee.A)(ke,Ht)}else{var Fi=(0,me.A)(ke),Oi=Fi==Ut||"[object GeneratorFunction]"==Fi;if((0,At.A)(ke))return(0,p.A)(ke,Fn);if(Fi==Xi||Fi==si||Oi&&!_i){if(Ht=an||Oi?{}:(0,Je.A)(ke),!Fn)return an?(0,te.A)(ke,(0,P.A)(Ht,ke)):(0,ne.A)(ke,(0,q.A)(Ht,ke))}else{if(!ge[Fi])return _i?ke:{};Ht=(0,He.A)(ke,Fi,Fn)}}ni||(ni=new T.A);var sn=ni.get(ke);if(sn)return sn;ni.set(ke,Ht),(0,Ye.A)(ke)?ke.forEach(function(di){Ht.add(Be(di,rt,Yt,di,ke,ni))}):(0,tt.A)(ke)&&ke.forEach(function(di,Ii){Ht.set(Ii,Be(di,rt,Yt,Ii,ke,ni))});var xi=on?void 0:(gn?an?ce.A:le.A:an?Zt.A:Nt.A)(ke);return(0,m.A)(xi||ke,function(di,Ii){xi&&(di=ke[Ii=di]),(0,x.A)(Ht,Ii,Be(di,rt,Yt,Ii,ke,ni))}),Ht}},6228(fe,K,w){w.d(K,{q:()=>m});let T=(()=>{class x{constructor(P,p=x.now){this.SchedulerAction=P,this.now=p}schedule(P,p=0,ee){return new this.SchedulerAction(this,P).schedule(ee,p)}}return x.now=()=>Date.now(),x})();class m extends T{constructor(q,P=T.now){super(q,()=>m.delegate&&m.delegate!==this?m.delegate.now():P()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(q,P=0,p){return m.delegate&&m.delegate!==this?m.delegate.schedule(q,P,p):super.schedule(q,P,p)}flush(q){const{actions:P}=this;if(this.active)return void P.push(q);let p;this.active=!0;do{if(p=q.execute(q.state,q.delay))break}while(q=P.shift());if(this.active=!1,p){for(;q=P.shift();)q.unsubscribe();throw p}}}},6494(fe,K,w){w.d(K,{Vw:()=>p,ig:()=>q,qj:()=>P,rb:()=>x});var T=w(7868);let m=null;function x(){return m}function q(te){m??=te}class P{}let p=(()=>{class te{historyGo(ce){throw new Error("")}static \u0275fac=function(me){return new(me||te)};static \u0275prov=T.jDH({token:te,factory:()=>(0,T.WQX)(ne),providedIn:"platform"})}return te})(),ne=(()=>{class te extends p{_location;_history;_doc=(0,T.WQX)(T.qQL);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(ce){const me=x().getGlobalEventTarget(this._doc,"window");return me.addEventListener("popstate",ce,!1),()=>me.removeEventListener("popstate",ce)}onHashChange(ce){const me=x().getGlobalEventTarget(this._doc,"window");return me.addEventListener("hashchange",ce,!1),()=>me.removeEventListener("hashchange",ce)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(ce){this._location.pathname=ce}pushState(ce,me,Ee){this._history.pushState(ce,me,Ee)}replaceState(ce,me,Ee){this._history.replaceState(ce,me,Ee)}forward(){this._history.forward()}back(){this._history.back()}historyGo(ce=0){this._history.go(ce)}getState(){return this._history.state}static \u0275fac=function(me){return new(me||te)};static \u0275prov=T.jDH({token:te,factory:()=>new te,providedIn:"platform"})}return te})()},6509(fe,K,w){w.d(K,{A:()=>x});const x=w(1860).A.Uint8Array},6542(fe,K,w){w.d(K,{A:()=>x});var T=w(3746);const x=function m(q){return(0,T.A)(this,q).has(q)}},6568(fe,K,w){w.d(K,{A:()=>q});var T=w(5525),m=w(1860);const q=(0,T.A)(m.A,"Map")},6658(fe,K,w){w.d(K,{A:()=>q});var T=w(563),m=w(3744);const q=function x(P,p,ee){var ne=p(P);return(0,m.A)(P)?ne:(0,T.A)(ne,ee(P))}},6756(fe,K,w){w.d(K,{A:()=>ee});var T=w(6944),m=Object.prototype,x=m.hasOwnProperty,q=m.toString,P=T.A?T.A.toStringTag:void 0;const ee=function p(ne){var te=x.call(ne,P),le=ne[P];try{ne[P]=void 0;var ce=!0}catch{}var me=q.call(ne);return ce&&(te?ne[P]=le:delete ne[P]),me}},6792(fe,K,w){w.d(K,{A:()=>le});var T=w(9659),m=w(7061),x=w(3744),q=w(259),P=w(8606),p=w(4608),ne=Object.prototype.hasOwnProperty;const le=function te(ce,me){var Ee=(0,x.A)(ce),He=!Ee&&(0,m.A)(ce),Je=!Ee&&!He&&(0,q.A)(ce),Qe=!Ee&&!He&&!Je&&(0,p.A)(ce),At=Ee||He||Je||Qe,tt=At?(0,T.A)(ce.length,String):[],mt=tt.length;for(var Ye in ce)(me||ne.call(ce,Ye))&&(!At||!("length"==Ye||Je&&("offset"==Ye||"parent"==Ye)||Qe&&("buffer"==Ye||"byteLength"==Ye||"byteOffset"==Ye)||(0,P.A)(Ye,mt)))&&tt.push(Ye);return tt}},6944(fe,K,w){w.d(K,{A:()=>x});const x=w(1860).A.Symbol},6980(fe,K,w){w.d(K,{Qq:()=>sn,Lr:()=>Je,$R:()=>Tr,Sx:()=>En}),w(467);var m=w(7868),x=w(5547),q=w(9090),P=w(7312),p=w(8456),ne=w(8728),te=w(5006),le=w(7389),me=(w(4787),w(4421)),Ee=w(3117),He=w(6494);class Je{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(oe){oe?"string"==typeof oe?this.lazyInit=()=>{this.headers=new Map,oe.split("\n").forEach(ie=>{const Ae=ie.indexOf(":");if(Ae>0){const Pe=ie.slice(0,Ae),Te=ie.slice(Ae+1).trim();this.addHeaderEntry(Pe,Te)}})}:typeof Headers<"u"&&oe instanceof Headers?(this.headers=new Map,oe.forEach((ie,Ae)=>{this.addHeaderEntry(Ae,ie)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(oe).forEach(([ie,Ae])=>{this.setHeaderEntries(ie,Ae)})}:this.headers=new Map}has(oe){return this.init(),this.headers.has(oe.toLowerCase())}get(oe){this.init();const ie=this.headers.get(oe.toLowerCase());return ie&&ie.length>0?ie[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(oe){return this.init(),this.headers.get(oe.toLowerCase())||null}append(oe,ie){return this.clone({name:oe,value:ie,op:"a"})}set(oe,ie){return this.clone({name:oe,value:ie,op:"s"})}delete(oe,ie){return this.clone({name:oe,value:ie,op:"d"})}maybeSetNormalizedName(oe,ie){this.normalizedNames.has(ie)||this.normalizedNames.set(ie,oe)}init(){this.lazyInit&&(this.lazyInit instanceof Je?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(oe=>this.applyUpdate(oe)),this.lazyUpdate=null))}copyFrom(oe){oe.init(),Array.from(oe.headers.keys()).forEach(ie=>{this.headers.set(ie,oe.headers.get(ie)),this.normalizedNames.set(ie,oe.normalizedNames.get(ie))})}clone(oe){const ie=new Je;return ie.lazyInit=this.lazyInit&&this.lazyInit instanceof Je?this.lazyInit:this,ie.lazyUpdate=(this.lazyUpdate||[]).concat([oe]),ie}applyUpdate(oe){const ie=oe.name.toLowerCase();switch(oe.op){case"a":case"s":let Ae=oe.value;if("string"==typeof Ae&&(Ae=[Ae]),0===Ae.length)return;this.maybeSetNormalizedName(oe.name,ie);const Pe=("a"===oe.op?this.headers.get(ie):void 0)||[];Pe.push(...Ae),this.headers.set(ie,Pe);break;case"d":const Te=oe.value;if(Te){let Ge=this.headers.get(ie);if(!Ge)return;Ge=Ge.filter(gt=>-1===Te.indexOf(gt)),0===Ge.length?(this.headers.delete(ie),this.normalizedNames.delete(ie)):this.headers.set(ie,Ge)}else this.headers.delete(ie),this.normalizedNames.delete(ie)}}addHeaderEntry(oe,ie){const Ae=oe.toLowerCase();this.maybeSetNormalizedName(oe,Ae),this.headers.has(Ae)?this.headers.get(Ae).push(ie):this.headers.set(Ae,[ie])}setHeaderEntries(oe,ie){const Ae=(Array.isArray(ie)?ie:[ie]).map(Te=>Te.toString()),Pe=oe.toLowerCase();this.headers.set(Pe,Ae),this.maybeSetNormalizedName(oe,Pe)}forEach(oe){this.init(),Array.from(this.normalizedNames.keys()).forEach(ie=>oe(this.normalizedNames.get(ie),this.headers.get(ie)))}}class tt{map=new Map;set(oe,ie){return this.map.set(oe,ie),this}get(oe){return this.map.has(oe)||this.map.set(oe,oe.defaultValue()),this.map.get(oe)}delete(oe){return this.map.delete(oe),this}has(oe){return this.map.has(oe)}keys(){return this.map.keys()}}class mt{encodeKey(oe){return kt(oe)}encodeValue(oe){return kt(oe)}decodeKey(oe){return decodeURIComponent(oe)}decodeValue(oe){return decodeURIComponent(oe)}}const Nt=/%(\d[a-f0-9])/gi,Zt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function kt(z){return encodeURIComponent(z).replace(Nt,(oe,ie)=>Zt[ie]??oe)}function ii(z){return`${z}`}class It{map;encoder;updates=null;cloneFrom=null;constructor(oe={}){if(this.encoder=oe.encoder||new mt,oe.fromString){if(oe.fromObject)throw new m.buA(2805,!1);this.map=function Ye(z,oe){const ie=new Map;return z.length>0&&z.replace(/^\?/,"").split("&").forEach(Pe=>{const Te=Pe.indexOf("="),[Ge,gt]=-1==Te?[oe.decodeKey(Pe),""]:[oe.decodeKey(Pe.slice(0,Te)),oe.decodeValue(Pe.slice(Te+1))],Xe=ie.get(Ge)||[];Xe.push(gt),ie.set(Ge,Xe)}),ie}(oe.fromString,this.encoder)}else oe.fromObject?(this.map=new Map,Object.keys(oe.fromObject).forEach(ie=>{const Ae=oe.fromObject[ie],Pe=Array.isArray(Ae)?Ae.map(ii):[ii(Ae)];this.map.set(ie,Pe)})):this.map=null}has(oe){return this.init(),this.map.has(oe)}get(oe){this.init();const ie=this.map.get(oe);return ie?ie[0]:null}getAll(oe){return this.init(),this.map.get(oe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(oe,ie){return this.clone({param:oe,value:ie,op:"a"})}appendAll(oe){const ie=[];return Object.keys(oe).forEach(Ae=>{const Pe=oe[Ae];Array.isArray(Pe)?Pe.forEach(Te=>{ie.push({param:Ae,value:Te,op:"a"})}):ie.push({param:Ae,value:Pe,op:"a"})}),this.clone(ie)}set(oe,ie){return this.clone({param:oe,value:ie,op:"s"})}delete(oe,ie){return this.clone({param:oe,value:ie,op:"d"})}toString(){return this.init(),this.keys().map(oe=>{const ie=this.encoder.encodeKey(oe);return this.map.get(oe).map(Ae=>ie+"="+this.encoder.encodeValue(Ae)).join("&")}).filter(oe=>""!==oe).join("&")}clone(oe){const ie=new It({encoder:this.encoder});return ie.cloneFrom=this.cloneFrom||this,ie.updates=(this.updates||[]).concat(oe),ie}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(oe=>this.map.set(oe,this.cloneFrom.map.get(oe))),this.updates.forEach(oe=>{switch(oe.op){case"a":case"s":const ie=("a"===oe.op?this.map.get(oe.param):void 0)||[];ie.push(ii(oe.value)),this.map.set(oe.param,ie);break;case"d":if(void 0===oe.value){this.map.delete(oe.param);break}{let Ae=this.map.get(oe.param)||[];const Pe=Ae.indexOf(ii(oe.value));-1!==Pe&&Ae.splice(Pe,1),Ae.length>0?this.map.set(oe.param,Ae):this.map.delete(oe.param)}}}),this.cloneFrom=this.updates=null)}}function xt(z){return typeof ArrayBuffer<"u"&&z instanceof ArrayBuffer}function yt(z){return typeof Blob<"u"&&z instanceof Blob}function Li(z){return typeof FormData<"u"&&z instanceof FormData}const Ut="Content-Type",kn="text/plain",ei="application/json",Xi=`${ei}, ${kn}, */*`;class Wi{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(oe,ie,Ae,Pe){let Te;if(this.url=ie,this.method=oe.toUpperCase(),function si(z){switch(z){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Pe?(this.body=void 0!==Ae?Ae:null,Te=Pe):Te=Ae,Te){if(this.reportProgress=!!Te.reportProgress,this.withCredentials=!!Te.withCredentials,this.keepalive=!!Te.keepalive,Te.responseType&&(this.responseType=Te.responseType),Te.headers&&(this.headers=Te.headers),Te.context&&(this.context=Te.context),Te.params&&(this.params=Te.params),Te.priority&&(this.priority=Te.priority),Te.cache&&(this.cache=Te.cache),Te.credentials&&(this.credentials=Te.credentials),"number"==typeof Te.timeout){if(Te.timeout<1||!Number.isInteger(Te.timeout))throw new m.buA(2822,"");this.timeout=Te.timeout}Te.mode&&(this.mode=Te.mode),Te.redirect&&(this.redirect=Te.redirect),Te.integrity&&(this.integrity=Te.integrity),Te.referrer&&(this.referrer=Te.referrer),Te.referrerPolicy&&(this.referrerPolicy=Te.referrerPolicy),this.transferCache=Te.transferCache}if(this.headers??=new Je,this.context??=new tt,this.params){const Ge=this.params.toString();if(0===Ge.length)this.urlWithParams=ie;else{const gt=ie.indexOf("?");this.urlWithParams=ie+(-1===gt?"?":gt<ie.length-1?"&":"")+Ge}}else this.params=new It,this.urlWithParams=ie}serializeBody(){return null===this.body?null:"string"==typeof this.body||xt(this.body)||yt(this.body)||Li(this.body)||function mi(z){return typeof URLSearchParams<"u"&&z instanceof URLSearchParams}(this.body)?this.body:this.body instanceof It?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Li(this.body)?null:yt(this.body)?this.body.type||null:xt(this.body)?null:"string"==typeof this.body?kn:this.body instanceof It?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?ei:null}clone(oe={}){const ie=oe.method||this.method,Ae=oe.url||this.url,Pe=oe.responseType||this.responseType,Te=oe.keepalive??this.keepalive,Ge=oe.priority||this.priority,gt=oe.cache||this.cache,Xe=oe.mode||this.mode,hi=oe.redirect||this.redirect,Ri=oe.credentials||this.credentials,ti=oe.referrer||this.referrer,Qt=oe.integrity||this.integrity,cn=oe.referrerPolicy||this.referrerPolicy,Vt=oe.transferCache??this.transferCache,wi=oe.timeout??this.timeout,ft=void 0!==oe.body?oe.body:this.body,Pt=oe.withCredentials??this.withCredentials,pi=oe.reportProgress??this.reportProgress;let bi=oe.headers||this.headers,Tt=oe.params||this.params;const Ti=oe.context??this.context;return void 0!==oe.setHeaders&&(bi=Object.keys(oe.setHeaders).reduce((un,$i)=>un.set($i,oe.setHeaders[$i]),bi)),oe.setParams&&(Tt=Object.keys(oe.setParams).reduce((un,$i)=>un.set($i,oe.setParams[$i]),Tt)),new Wi(ie,Ae,ft,{params:Tt,headers:bi,context:Ti,reportProgress:pi,responseType:Pe,withCredentials:Pt,transferCache:Vt,keepalive:Te,cache:gt,priority:Ge,timeout:wi,mode:Xe,redirect:hi,credentials:Ri,referrer:ti,integrity:Qt,referrerPolicy:cn})}}var Vi=function(z){return z[z.Sent=0]="Sent",z[z.UploadProgress=1]="UploadProgress",z[z.ResponseHeader=2]="ResponseHeader",z[z.DownloadProgress=3]="DownloadProgress",z[z.Response=4]="Response",z[z.User=5]="User",z}(Vi||{});class rn{headers;status;statusText;url;ok;type;redirected;responseType;constructor(oe,ie=200,Ae="OK"){this.headers=oe.headers||new Je,this.status=void 0!==oe.status?oe.status:ie,this.statusText=oe.statusText||Ae,this.url=oe.url||null,this.redirected=oe.redirected,this.responseType=oe.responseType,this.ok=this.status>=200&&this.status<300}}class Mi extends rn{constructor(oe={}){super(oe)}type=Vi.ResponseHeader;clone(oe={}){return new Mi({headers:oe.headers||this.headers,status:void 0!==oe.status?oe.status:this.status,statusText:oe.statusText||this.statusText,url:oe.url||this.url||void 0})}}class vt extends rn{body;constructor(oe={}){super(oe),this.body=void 0!==oe.body?oe.body:null}type=Vi.Response;clone(oe={}){return new vt({body:void 0!==oe.body?oe.body:this.body,headers:oe.headers||this.headers,status:void 0!==oe.status?oe.status:this.status,statusText:oe.statusText||this.statusText,url:oe.url||this.url||void 0,redirected:oe.redirected??this.redirected,responseType:oe.responseType??this.responseType})}}class it extends rn{name="HttpErrorResponse";message;error;ok=!1;constructor(oe){super(oe,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${oe.url||"(unknown url)"}`:`Http failure response for ${oe.url||"(unknown url)"}: ${oe.status} ${oe.statusText}`,this.error=oe.error||null}}const Oe=new m.nKC(""),ge=/^\)\]\}',?\n/;let Ke=(()=>{class z{xhrFactory;tracingService=(0,m.WQX)(x.a8H,{optional:!0});constructor(ie){this.xhrFactory=ie}maybePropagateTrace(ie){return this.tracingService?.propagate?this.tracingService.propagate(ie):ie}handle(ie){if("JSONP"===ie.method)throw new m.buA(-2800,!1);const Ae=this.xhrFactory;return(0,me.of)(null).pipe((0,q.n)(()=>new le.c(Te=>{const Ge=Ae.build();if(Ge.open(ie.method,ie.urlWithParams),ie.withCredentials&&(Ge.withCredentials=!0),ie.headers.forEach((ft,Pt)=>Ge.setRequestHeader(ft,Pt.join(","))),ie.headers.has("Accept")||Ge.setRequestHeader("Accept",Xi),!ie.headers.has(Ut)){const ft=ie.detectContentTypeHeader();null!==ft&&Ge.setRequestHeader(Ut,ft)}if(ie.timeout&&(Ge.timeout=ie.timeout),ie.responseType){const ft=ie.responseType.toLowerCase();Ge.responseType="json"!==ft?ft:"text"}const gt=ie.serializeBody();let Xe=null;const hi=()=>{if(null!==Xe)return Xe;const ft=Ge.statusText||"OK",Pt=new Je(Ge.getAllResponseHeaders());return Xe=new Mi({headers:Pt,status:Ge.status,statusText:ft,url:Ge.responseURL||ie.url}),Xe},Ri=this.maybePropagateTrace(()=>{let{headers:ft,status:Pt,statusText:pi,url:bi}=hi(),Tt=null;204!==Pt&&(Tt=typeof Ge.response>"u"?Ge.responseText:Ge.response),0===Pt&&(Pt=Tt?200:0);let Ti=Pt>=200&&Pt<300;if("json"===ie.responseType&&"string"==typeof Tt){const un=Tt;Tt=Tt.replace(ge,"");try{Tt=""!==Tt?JSON.parse(Tt):null}catch($i){Tt=un,Ti&&(Ti=!1,Tt={error:$i,text:Tt})}}Ti?(Te.next(new vt({body:Tt,headers:ft,status:Pt,statusText:pi,url:bi||void 0})),Te.complete()):Te.error(new it({error:Tt,headers:ft,status:Pt,statusText:pi,url:bi||void 0}))}),ti=this.maybePropagateTrace(ft=>{const{url:Pt}=hi(),pi=new it({error:ft,status:Ge.status||0,statusText:Ge.statusText||"Unknown Error",url:Pt||void 0});Te.error(pi)});let Qt=ti;ie.timeout&&(Qt=this.maybePropagateTrace(ft=>{const{url:Pt}=hi(),pi=new it({error:new DOMException("Request timed out","TimeoutError"),status:Ge.status||0,statusText:Ge.statusText||"Request timeout",url:Pt||void 0});Te.error(pi)}));let cn=!1;const Vt=this.maybePropagateTrace(ft=>{cn||(Te.next(hi()),cn=!0);let Pt={type:Vi.DownloadProgress,loaded:ft.loaded};ft.lengthComputable&&(Pt.total=ft.total),"text"===ie.responseType&&Ge.responseText&&(Pt.partialText=Ge.responseText),Te.next(Pt)}),wi=this.maybePropagateTrace(ft=>{let Pt={type:Vi.UploadProgress,loaded:ft.loaded};ft.lengthComputable&&(Pt.total=ft.total),Te.next(Pt)});return Ge.addEventListener("load",Ri),Ge.addEventListener("error",ti),Ge.addEventListener("timeout",Qt),Ge.addEventListener("abort",ti),ie.reportProgress&&(Ge.addEventListener("progress",Vt),null!==gt&&Ge.upload&&Ge.upload.addEventListener("progress",wi)),Ge.send(gt),Te.next({type:Vi.Sent}),()=>{Ge.removeEventListener("error",ti),Ge.removeEventListener("abort",ti),Ge.removeEventListener("load",Ri),Ge.removeEventListener("timeout",Qt),ie.reportProgress&&(Ge.removeEventListener("progress",Vt),null!==gt&&Ge.upload&&Ge.upload.removeEventListener("progress",wi)),Ge.readyState!==Ge.DONE&&Ge.abort()}})))}static \u0275fac=function(Ae){return new(Ae||z)(m.KVO(Ee.N))};static \u0275prov=m.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})();function ke(z,oe){return oe(z)}function rt(z,oe){return(ie,Ae)=>oe.intercept(ie,{handle:Pe=>z(Pe,Ae)})}const Jt=new m.nKC(""),_i=new m.nKC("",{factory:()=>[]}),ni=new m.nKC(""),Ht=new m.nKC("",{factory:()=>!0});function Fn(){let z=null;return(oe,ie)=>{null===z&&(z=((0,m.WQX)(Jt,{optional:!0})??[]).reduceRight(rt,ke));const Ae=(0,m.WQX)(m.u5s);if((0,m.WQX)(Ht)){const Te=Ae.add();return z(oe,ie).pipe((0,P.j)(Te))}return z(oe,ie)}}let an=(()=>{class z{static \u0275fac=function(Ae){return new(Ae||z)};static \u0275prov=m.jDH({token:z,factory:function(Ae){let Pe=null;return Pe=Ae?new(Ae||z):m.KVO(Ke),Pe},providedIn:"root"})}return z})(),on=(()=>{class z{backend;injector;chain=null;pendingTasks=(0,m.WQX)(m.u5s);contributeToStability=(0,m.WQX)(Ht);constructor(ie,Ae){this.backend=ie,this.injector=Ae}handle(ie){if(null===this.chain){const Ae=Array.from(new Set([...this.injector.get(_i),...this.injector.get(ni,[])]));this.chain=Ae.reduceRight((Pe,Te)=>function Yt(z,oe,ie){return(Ae,Pe)=>(0,m.N4e)(ie,()=>oe(Ae,Te=>z(Te,Pe)))}(Pe,Te,this.injector),ke)}if(this.contributeToStability){const Ae=this.pendingTasks.add();return this.chain(ie,Pe=>this.backend.handle(Pe)).pipe((0,P.j)(Ae))}return this.chain(ie,Ae=>this.backend.handle(Ae))}static \u0275fac=function(Ae){return new(Ae||z)(m.KVO(an),m.KVO(m.uvJ))};static \u0275prov=m.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})(),Fi=(()=>{class z{static \u0275fac=function(Ae){return new(Ae||z)};static \u0275prov=m.jDH({token:z,factory:function(Ae){let Pe=null;return Pe=Ae?new(Ae||z):m.KVO(on),Pe},providedIn:"root"})}return z})();function Oi(z,oe){return{body:oe,headers:z.headers,context:z.context,observe:z.observe,params:z.params,reportProgress:z.reportProgress,responseType:z.responseType,withCredentials:z.withCredentials,credentials:z.credentials,transferCache:z.transferCache,timeout:z.timeout,keepalive:z.keepalive,priority:z.priority,cache:z.cache,mode:z.mode,redirect:z.redirect,integrity:z.integrity,referrer:z.referrer,referrerPolicy:z.referrerPolicy}}let sn=(()=>{class z{handler;constructor(ie){this.handler=ie}request(ie,Ae,Pe={}){let Te;if(ie instanceof Wi)Te=ie;else{let Xe,hi;Xe=Pe.headers instanceof Je?Pe.headers:new Je(Pe.headers),Pe.params&&(hi=Pe.params instanceof It?Pe.params:new It({fromObject:Pe.params})),Te=new Wi(ie,Ae,void 0!==Pe.body?Pe.body:null,{headers:Xe,context:Pe.context,params:hi,reportProgress:Pe.reportProgress,responseType:Pe.responseType||"json",withCredentials:Pe.withCredentials,transferCache:Pe.transferCache,keepalive:Pe.keepalive,priority:Pe.priority,cache:Pe.cache,mode:Pe.mode,redirect:Pe.redirect,credentials:Pe.credentials,referrer:Pe.referrer,referrerPolicy:Pe.referrerPolicy,integrity:Pe.integrity,timeout:Pe.timeout})}const Ge=(0,me.of)(Te).pipe(function ee(z,oe){return(0,p.ZZ)(z,oe,1)}(Xe=>this.handler.handle(Xe)));if(ie instanceof Wi||"events"===Pe.observe)return Ge;const gt=Ge.pipe((0,ne.p)(Xe=>Xe instanceof vt));switch(Pe.observe||"body"){case"body":switch(Te.responseType){case"arraybuffer":return gt.pipe((0,te.T)(Xe=>{if(null!==Xe.body&&!(Xe.body instanceof ArrayBuffer))throw new m.buA(2806,!1);return Xe.body}));case"blob":return gt.pipe((0,te.T)(Xe=>{if(null!==Xe.body&&!(Xe.body instanceof Blob))throw new m.buA(2807,!1);return Xe.body}));case"text":return gt.pipe((0,te.T)(Xe=>{if(null!==Xe.body&&"string"!=typeof Xe.body)throw new m.buA(2808,!1);return Xe.body}));default:return gt.pipe((0,te.T)(Xe=>Xe.body))}case"response":return gt;default:throw new m.buA(2809,!1)}}delete(ie,Ae={}){return this.request("DELETE",ie,Ae)}get(ie,Ae={}){return this.request("GET",ie,Ae)}head(ie,Ae={}){return this.request("HEAD",ie,Ae)}jsonp(ie,Ae){return this.request("JSONP",ie,{params:(new It).append(Ae,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ie,Ae={}){return this.request("OPTIONS",ie,Ae)}patch(ie,Ae,Pe={}){return this.request("PATCH",ie,Oi(Pe,Ae))}post(ie,Ae,Pe={}){return this.request("POST",ie,Oi(Pe,Ae))}put(ie,Ae,Pe={}){return this.request("PUT",ie,Oi(Pe,Ae))}static \u0275fac=function(Ae){return new(Ae||z)(m.KVO(Fi))};static \u0275prov=m.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})();const ri=new m.nKC("",{factory:()=>!0}),Qi=new m.nKC("",{factory:()=>"XSRF-TOKEN"}),vi=new m.nKC("",{factory:()=>"X-XSRF-TOKEN"});let mn=(()=>{class z{cookieName=(0,m.WQX)(Qi);doc=(0,m.WQX)(m.qQL);lastCookieString="";lastToken=null;parseCount=0;getToken(){const ie=this.doc.cookie||"";return ie!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Ee.b)(ie,this.cookieName),this.lastCookieString=ie),this.lastToken}static \u0275fac=function(Ae){return new(Ae||z)};static \u0275prov=m.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})(),fn=(()=>{class z{static \u0275fac=function(Ae){return new(Ae||z)};static \u0275prov=m.jDH({token:z,factory:function(Ae){let Pe=null;return Pe=Ae?new(Ae||z):m.KVO(mn),Pe},providedIn:"root"})}return z})();function Qn(z,oe){if(!(0,m.WQX)(ri)||"GET"===z.method||"HEAD"===z.method)return oe(z);try{const Pe=(0,m.WQX)(He.Vw).href,{origin:Te}=new URL(Pe),{origin:Ge}=new URL(z.url,Te);if(Te!==Ge)return oe(z)}catch{return oe(z)}const ie=(0,m.WQX)(fn).getToken(),Ae=(0,m.WQX)(vi);return null!=ie&&!z.headers.has(Ae)&&(z=z.clone({headers:z.headers.set(Ae,ie)})),oe(z)}var ki=function(z){return z[z.Interceptors=0]="Interceptors",z[z.LegacyInterceptors=1]="LegacyInterceptors",z[z.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",z[z.NoXsrfProtection=3]="NoXsrfProtection",z[z.JsonpSupport=4]="JsonpSupport",z[z.RequestsMadeViaParent=5]="RequestsMadeViaParent",z[z.Fetch=6]="Fetch",z}(ki||{});function Tr(...z){const oe=[sn,on,{provide:Fi,useExisting:on},{provide:an,useFactory:()=>(0,m.WQX)(Oe,{optional:!0})??(0,m.WQX)(Ke)},{provide:_i,useValue:Qn,multi:!0}];for(const ie of z)oe.push(...ie.\u0275providers);return(0,m.EmA)(oe)}const Er=new m.nKC("");function En(){return function yn(z,oe){return{\u0275kind:z,\u0275providers:oe}}(ki.LegacyInterceptors,[{provide:Er,useFactory:Fn},{provide:_i,useExisting:Er,multi:!0}])}},7061(fe,K,w){w.d(K,{A:()=>ee});var T=w(253),m=w(2661),x=Object.prototype,q=x.hasOwnProperty,P=x.propertyIsEnumerable,p=(0,T.A)(function(){return arguments}())?T.A:function(ne){return(0,m.A)(ne)&&q.call(ne,"callee")&&!P.call(ne,"callee")};const ee=p},7104(fe,K,w){w.d(K,{A:()=>q});var m=Object.prototype.hasOwnProperty;const q=function x(P){var p=P.length,ee=new P.constructor(p);return p&&"string"==typeof P[0]&&m.call(P,"index")&&(ee.index=P.index,ee.input=P.input),ee}},7107(fe,K,w){w.d(K,{A:()=>x});const x=(0,w(5525).A)(Object,"create")},7133(fe,K,w){w.d(K,{A:()=>m});const m="object"==typeof global&&global&&global.Object===Object&&global},7191(fe,K,w){var T={};w.r(T),w.d(T,{afterMain:()=>$2,afterRead:()=>F2,afterWrite:()=>j2,applyStyles:()=>RI,arrow:()=>X2,auto:()=>xw,basePlacements:()=>jg,beforeMain:()=>O2,beforeRead:()=>L2,beforeWrite:()=>G2,bottom:()=>ta,clippingParents:()=>I2,computeStyles:()=>OI,createPopper:()=>UI,createPopperBase:()=>b5,createPopperLite:()=>P5,detectOverflow:()=>zg,end:()=>qg,eventListeners:()=>BI,flip:()=>iN,hide:()=>aN,left:()=>wr,main:()=>B2,modifierPhases:()=>q2,offset:()=>oN,placements:()=>xI,popper:()=>Ug,popperGenerator:()=>Fw,popperOffsets:()=>qI,preventOverflow:()=>sN,read:()=>N2,reference:()=>R2,right:()=>ia,start:()=>dd,top:()=>kr,variationPlacements:()=>MI,viewport:()=>DI,write:()=>H2});var m=w(467),x=w(6494),q=w(3117),P=w(7868),p=w(5547),ee=w(7705);const le="browser",si=a=>a.src,xt=new P.nKC("",{factory:()=>si}),sn=/^((\s*\d+w\s*(,|$)){1,})$/,Ii=[1,2];let vi=(()=>{class a{imageLoader=(0,P.WQX)(xt);config=function mn(a){let e={};return a.breakpoints&&(e.breakpoints=a.breakpoints.sort((t,i)=>t-i)),Object.assign({},p.mY,a,e)}((0,P.WQX)(p.VeQ));renderer=(0,P.WQX)(p.sFG);imgElement=(0,P.WQX)(p.aKT).nativeElement;injector=(0,P.WQX)(P.zZn);destroyRef=(0,P.WQX)(P.abz);lcpObserver;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;decoding;loading;priority=!1;loaderParams;disableOptimizedSrcset=!1;fill=!1;placeholder;placeholderConfig;src;srcset;constructor(){}ngOnInit(){(0,p._jY)("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("decoding",this.getDecoding()),this.setHostAttribute("ng-img","true"),this.updateSrcAndSrcset(),this.sizes?"lazy"===this.getLoadingBehavior()?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&sn.test(this.ngSrcset)&&"lazy"===this.getLoadingBehavior()&&this.setHostAttribute("sizes","auto, 100vw")}ngOnChanges(t){t.ngSrc&&!t.ngSrc.isFirstChange()&&this.updateSrcAndSrcset(!0)}callImageLoader(t){let i=t;return this.loaderParams&&(i.loaderParams=this.loaderParams),this.imageLoader(i)}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getDecoding(){return this.priority?"sync":this.decoding??"auto"}getRewrittenSrc(){return this._renderedSrc||(this._renderedSrc=this.callImageLoader({src:this.ngSrc})),this._renderedSrc}getRewrittenSrcset(){const t=sn.test(this.ngSrcset);return this.ngSrcset.split(",").filter(n=>""!==n).map(n=>{n=n.trim();const s=t?parseFloat(n):parseFloat(n)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:s})} ${n}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){const{breakpoints:t}=this.config;let i=t;return"100vw"===this.sizes?.trim()&&(i=t.filter(s=>s>=640)),i.map(s=>`${this.callImageLoader({src:this.ngSrc,width:s})} ${s}w`).join(", ")}updateSrcAndSrcset(t=!1){t&&(this._renderedSrc=null);const i=this.getRewrittenSrc();let n;return this.setHostAttribute("src",i),this.ngSrcset?n=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(n=this.getAutomaticSrcset()),n&&this.setHostAttribute("srcset",n),n}getFixedSrcset(){return Ii.map(i=>`${this.callImageLoader({src:this.ngSrc,width:this.width*i})} ${i}x`).join(", ")}shouldGenerateAutomaticSrcset(){let t=!1;return this.sizes||(t=this.width>1920||this.height>1080),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==si&&!t}generatePlaceholder(t){const{placeholderResolution:i}=this.config;return!0===t?`url(${this.callImageLoader({src:this.ngSrc,width:i,isPlaceholder:!0})})`:"string"==typeof t?`url(${t})`:null}shouldBlurPlaceholder(t){return!t||!t.hasOwnProperty("blur")||!!t.blur}removePlaceholderOnLoad(t){const i=()=>{const r=this.injector.get(ee.gRc);n(),s(),this.placeholder=!1,r.markForCheck()},n=this.renderer.listen(t,"load",i),s=this.renderer.listen(t,"error",i);this.destroyRef.onDestroy(()=>{n(),s()}),function Ri(a,e){a.complete&&a.naturalWidth&&e()}(t,i)}setHostAttribute(t,i){this.renderer.setAttribute(this.imgElement,t,i)}static \u0275fac=function(i){return new(i||a)};static \u0275dir=p.FsC({type:a,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(i,n){2&i&&p.xc7("position",n.fill?"absolute":null)("width",n.fill?"100%":null)("height",n.fill?"100%":null)("inset",n.fill?"0":null)("background-size",n.placeholder?"cover":null)("background-position",n.placeholder?"50% 50%":null)("background-repeat",n.placeholder?"no-repeat":null)("background-image",n.placeholder?n.generatePlaceholder(n.placeholder):null)("filter",n.placeholder&&n.shouldBlurPlaceholder(n.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",Qt],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",ee.Udg],height:[2,"height","height",ee.Udg],decoding:"decoding",loading:"loading",priority:[2,"priority","priority",ee.L39],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",ee.L39],fill:[2,"fill","fill",ee.L39],placeholder:[2,"placeholder","placeholder",cn],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[p.OA$]})}return a})();function Qt(a){return"string"==typeof a?a:(0,p.aCM)(a)}function cn(a){return"string"==typeof a&&"true"!==a&&"false"!==a&&""!==a?a:(0,ee.L39)(a)}class Vt{_doc;constructor(e){this._doc=e}manager}let wi=(()=>{class a extends Vt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,n,s){return t.addEventListener(i,n,s),()=>this.removeEventListener(t,i,n,s)}removeEventListener(t,i,n,s){return t.removeEventListener(i,n,s)}static \u0275fac=function(i){return new(i||a)(P.KVO(P.qQL))};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac})}return a})();const ft=new P.nKC("");let Pt=(()=>{class a{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(r=>{r.manager=this});const n=t.filter(r=>!(r instanceof wi));this._plugins=n.slice().reverse();const s=t.find(r=>r instanceof wi);s&&this._plugins.push(s)}addEventListener(t,i,n,s){return this._findPluginFor(i).addEventListener(t,i,n,s)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new P.buA(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||a)(P.KVO(ft),P.KVO(P.SKi))};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac})}return a})();const pi="ng-app-id";function bi(a){for(const e of a)e.remove()}function Tt(a,e){const t=e.createElement("style");return t.textContent=a,t}function un(a,e){const t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",a),t}let $i=(()=>{class a{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,i,n,s={}){this.doc=t,this.appId=i,this.nonce=n,function Ti(a,e,t,i){const n=a.head?.querySelectorAll(`style[${pi}="${e}"],link[${pi}="${e}"]`);if(n)for(const s of n)s.removeAttribute(pi),s instanceof HTMLLinkElement?i.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&t.set(s.textContent,{usage:0,elements:[s]})}(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(const n of t)this.addUsage(n,this.inline,Tt);i?.forEach(n=>this.addUsage(n,this.external,un))}removeStyles(t,i){for(const n of t)this.removeUsage(n,this.inline);i?.forEach(n=>this.removeUsage(n,this.external))}addUsage(t,i,n){const s=i.get(t);s?s.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(r=>this.addElement(r,n(t,this.doc)))})}removeUsage(t,i){const n=i.get(t);n&&(n.usage--,n.usage<=0&&(bi(n.elements),i.delete(t)))}ngOnDestroy(){for(const[,{elements:t}]of[...this.inline,...this.external])bi(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(const[i,{elements:n}]of this.inline)n.push(this.addElement(t,Tt(i,this.doc)));for(const[i,{elements:n}]of this.external)n.push(this.addElement(t,un(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),t.appendChild(i)}static \u0275fac=function(i){return new(i||a)(P.KVO(P.qQL),P.KVO(p.sZ2),P.KVO(p.BIS,8),P.KVO(p.Agw))};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac})}return a})();const Wr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Gn=/%COMP%/g,An=new P.nKC("",{factory:()=>!0});function Cn(a,e){return e.map(t=>t.replace(Gn,a))}let F=(()=>{class a{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(t,i,n,s,r,c,u=null,h=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=n,this.removeStylesOnCompDestroy=s,this.doc=r,this.ngZone=c,this.nonce=u,this.tracingService=h,this.defaultRenderer=new Q(t,r,c,this.tracingService)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const n=this.getOrCreateRenderer(t,i);return n instanceof $e?n.applyToHost(t):n instanceof Ne&&n.applyStyles(),n}getOrCreateRenderer(t,i){const n=this.rendererByCompId;let s=n.get(i.id);if(!s){const r=this.doc,c=this.ngZone,u=this.eventManager,h=this.sharedStylesHost,b=this.removeStylesOnCompDestroy,D=this.tracingService;switch(i.encapsulation){case p.gXe.Emulated:s=new $e(u,h,i,this.appId,b,r,c,D);break;case p.gXe.ShadowDom:return new we(u,t,i,r,c,this.nonce,D,h);case p.gXe.ExperimentalIsolatedShadowDom:return new we(u,t,i,r,c,this.nonce,D);default:s=new Ne(u,h,i,b,r,c,D)}n.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||a)(P.KVO(Pt),P.KVO($i),P.KVO(p.sZ2),P.KVO(An),P.KVO(P.qQL),P.KVO(P.SKi),P.KVO(p.BIS),P.KVO(p.a8H,8))};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac})}return a})();class Q{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,i,n){this.eventManager=e,this.doc=t,this.ngZone=i,this.tracingService=n}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Wr[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(de(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(de(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new P.buA(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,n){if(n){t=n+":"+t;const s=Wr[n];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const n=Wr[i];n?e.removeAttributeNS(n,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,n){n&(p.czy.DashCase|p.czy.Important)?e.style.setProperty(t,i,n&p.czy.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&p.czy.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){null!=e&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i,n){if("string"==typeof e&&!(e=(0,x.rb)().getGlobalEventTarget(this.doc,e)))throw new P.buA(5102,!1);let s=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,t,s)),this.eventManager.addEventListener(e,t,s,n)}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&t.preventDefault()}}}function de(a){return"TEMPLATE"===a.tagName&&void 0!==a.content}class we extends Q{hostEl;sharedStylesHost;shadowRoot;constructor(e,t,i,n,s,r,c,u){super(e,n,s,c),this.hostEl=t,this.sharedStylesHost=u,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=Cn(i.id,h);for(const D of h){const H=document.createElement("style");r&&H.setAttribute("nonce",r),H.textContent=D,this.shadowRoot.appendChild(H)}const b=i.getExternalStyles?.();if(b)for(const D of b){const H=un(D,n);r&&H.setAttribute("nonce",r),this.shadowRoot.appendChild(H)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ne extends Q{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,i,n,s,r,c,u){super(e,s,r,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=n;let h=i.styles;this.styles=u?Cn(u,h):h,this.styleUrls=i.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&0===p.DUP.size&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class $e extends Ne{contentAttr;hostAttr;constructor(e,t,i,n,s,r,c,u){const h=n+"-"+i.id;super(e,t,i,s,r,c,u,h),this.contentAttr=function Vr(a){return"_ngcontent-%COMP%".replace(Gn,a)}(h),this.hostAttr=function er(a){return"_nghost-%COMP%".replace(Gn,a)}(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Ft extends x.qj{supportsDOMEvents=!0;static makeCurrent(){(0,x.ig)(new Ft)}onAndCancel(e,t,i,n){return e.addEventListener(t,i,n),()=>{e.removeEventListener(t,i,n)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function jt(){return Rt=Rt||document.head.querySelector("base"),Rt?Rt.getAttribute("href"):null}();return null==t?null:function Et(a){return new URL(a,document.baseURI).pathname}(t)}resetBaseElement(){Rt=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,q.b)(document.cookie,e)}}let Rt=null,Kt=(()=>{class a{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||a)};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac})}return a})();const li=["alt","control","meta","shift"],tr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Hn={alt:a=>a.altKey,control:a=>a.ctrlKey,meta:a=>a.metaKey,shift:a=>a.shiftKey};let Sn=(()=>{class a extends Vt{constructor(t){super(t)}supports(t){return null!=a.parseEventName(t)}addEventListener(t,i,n,s){const r=a.parseEventName(i),c=a.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,x.rb)().onAndCancel(t,r.domEventName,c,s))}static parseEventName(t){const i=t.toLowerCase().split("."),n=i.shift();if(0===i.length||"keydown"!==n&&"keyup"!==n)return null;const s=a._normalizeKey(i.pop());let r="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),r="code."),li.forEach(h=>{const b=i.indexOf(h);b>-1&&(i.splice(b,1),r+=h+".")}),r+=s,0!=i.length||0===s.length)return null;const u={};return u.domEventName=n,u.fullKey=r,u}static matchEventFullKeyCode(t,i){let n=tr[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(n=t.code,s="code."),!(null==n||!n)&&(n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),li.forEach(r=>{r!==n&&(0,Hn[r])(t)&&(s+=r+".")}),s+=n,s===i)}static eventCallback(t,i,n){return s=>{a.matchEventFullKeyCode(s,t)&&n.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static \u0275fac=function(i){return new(i||a)(P.KVO(P.qQL))};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac})}return a})();function jn(){return(jn=(0,m.A)(function*(a,e,t){const i={rootComponent:a,...Pa(e,t)};return(0,ee.TL3)(i)})).apply(this,arguments)}function Pa(a,e){return{platformRef:e?.platformRef,appProviders:[...to,...a?.providers??[]],platformProviders:Ro}}const Ro=[{provide:p.Agw,useValue:le},{provide:p.PLl,useValue:function Za(){Ft.makeCurrent()},multi:!0},{provide:P.qQL,useFactory:function Kr(){return(0,p._9u)(document),document}}],to=[{provide:P.GBX,useValue:"root"},{provide:P.zcH,useFactory:function ra(){return new P.zcH}},{provide:ft,useClass:wi,multi:!0},{provide:ft,useClass:Sn,multi:!0},F,$i,Pt,{provide:p._9s,useExisting:F},{provide:q.N,useClass:Kt},[]];var aa=w(6980),Ct=w(9769),X=w(5119),_t=w(5286),ir=w(7389),zr=w(2234),Dr=w(8456),Hs=w(5241);function Mr(a=Number.POSITIVE_INFINITY){return(0,Dr.ZZ)(Hs.D,a)}var yr=w(4279);function Lo(...a){let e=Number.POSITIVE_INFINITY,t=null,i=a[a.length-1];return(0,zr.m)(i)?(t=a.pop(),a.length>1&&"number"==typeof a[a.length-1]&&(e=a.pop())):"number"==typeof i&&(e=a.pop()),null===t&&1===a.length&&a[0]instanceof ir.c?a[0]:Mr(e)((0,yr.c)(a,t))}var Yr=w(1805),$=w(1080),L=w(7354);function B(a){return!(0,L.c)(a)&&a-parseFloat(a)+1>=0}function pe(a){const{subscriber:e,counter:t,period:i}=a;e.next(t),this.schedule({subscriber:e,counter:t+1,period:i},i)}var Se=w(8189),Fe=w(6228);const ot=new class nt extends Fe.q{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let i,n=-1,s=t.length;e=e||t.shift();do{if(i=e.execute(e.state,e.delay))break}while(++n<s&&(e=t.shift()));if(this.active=!1,i){for(;++n<s&&(e=t.shift());)e.unsubscribe();throw i}}}(class De extends Se.R{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});var st=w(9928);let zt;function Ki(a){if(function Ei(){if(null==zt){const a=typeof document<"u"?document.head:null;zt=!(!a||!a.createShadowRoot&&!a.attachShadow)}return zt}()){const e=a.getRootNode?a.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Ai(a){return a.composedPath?a.composedPath()[0]:a.target}const Ci=new WeakMap;let Xr=(()=>{class a{_appRef;_injector=(0,P.WQX)(P.zZn);_environmentInjector=(0,P.WQX)(P.uvJ);load(t){const i=this._appRef=this._appRef||this._injector.get(p.o8S);let n=Ci.get(i);n||(n={loaders:new Set,refs:[]},Ci.set(i,n),i.onDestroy(()=>{Ci.get(i)?.refs.forEach(s=>s.destroy()),Ci.delete(i)})),n.loaders.has(t)||(n.loaders.add(t),n.refs.push((0,ee.a0P)(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||a)};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var Jr=w(4421);let No=1;const wa=Promise.resolve(),vr={};function Ta(a){return a in vr&&(delete vr[a],!0)}const js={setImmediate(a){const e=No++;return vr[e]=!0,wa.then(()=>Ta(e)&&a()),e},clearImmediate(a){Ta(a)}};new class bc extends Fe.q{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let i,n=-1,s=t.length;e=e||t.shift();do{if(i=e.execute(e.state,e.delay))break}while(++n<s&&(e=t.shift()));if(this.active=!1,i){for(;++n<s&&(e=t.shift());)e.unsubscribe();throw i}}}(class Qr extends Se.R{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=js.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(js.clearImmediate(t),e.scheduled=void 0)}});var br=w(3004);class Pc{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new io(e,this.durationSelector))}}class io extends br.gn{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let t;try{const{durationSelector:n}=this;t=n(e)}catch(n){return this.destination.error(n)}const i=(0,br.tS)(t,new br.zA(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:e,hasValue:t,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Fo(a){const{index:e,period:t,subscriber:i}=a;if(i.next(e),!i.closed){if(-1===t)return i.complete();a.index=e+1,this.schedule(a,t)}}function Ea(a,e=$.b){return function Sc(a){return function(t){return t.lift(new Pc(a))}}(()=>function sa(a=0,e,t){let i=-1;return B(e)?i=Number(e)<1?1:Number(e):(0,zr.m)(e)&&(t=e),(0,zr.m)(t)||(t=$.b),new ir.c(n=>{const s=B(a)?a:+a-t.now();return t.schedule(Fo,s,{index:0,period:i,subscriber:n})})}(a,e))}var xr=w(8728);function la(a,e=0){return function no(a){return!isNaN(parseFloat(a))&&!isNaN(Number(a))}(a)?Number(a):2===arguments.length?e:0}function qn(a){return a instanceof p.aKT?a.nativeElement:a}let Ca;try{Ca=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ca=!1}let ro=(()=>{class a{_platformId=(0,P.WQX)(p.Agw);isBrowser=this._platformId?function me(a){return a===le}(this._platformId):"object"==typeof document&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!(!window.chrome&&!Ca)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||a)};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),_d=(()=>{class a{_ngZone=(0,P.WQX)(P.SKi);_platform=(0,P.WQX)(ro);_renderer=(0,P.WQX)(p._9s).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new _t.B7;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ir.c(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));const n=t>0?this._scrolled.pipe(Ea(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):(0,Jr.of)()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const n=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe((0,xr.p)(s=>!s||n.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((n,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_scrollableContainsElement(t,i){let n=qn(i),s=t.getElementRef().nativeElement;do{if(n==s)return!0}while(n=n.parentElement);return!1}static \u0275fac=function(i){return new(i||a)};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),C=(()=>{class a{_platform=(0,P.WQX)(ro);_listeners;_viewportSize=null;_change=new _t.B7;_document=(0,P.WQX)(P.qQL);constructor(){const t=(0,P.WQX)(P.SKi),i=(0,P.WQX)(p._9s).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){const n=s=>this._change.next(s);this._listeners=[i.listen("window","resize",n),i.listen("window","orientationchange",n)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+i,height:n,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),n=t.documentElement,s=n.getBoundingClientRect();return{top:-s.top||t.body?.scrollTop||i.scrollY||n.scrollTop||0,left:-s.left||t.body?.scrollLeft||i.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Ea(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||a)};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),_c=(()=>{class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=p.$C({type:a});static \u0275inj=P.G2t({})}return a})();function Un(a){return e=>e.lift(new Vs(a))}class Vs{constructor(e){this.notifier=e}call(e,t){const i=new Td(e),n=(0,br.tS)(this.notifier,new br.zA(i));return n&&!i.seenValue?(i.add(n),t.subscribe(i)):i}}class Td extends br.gn{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}var Ks=w(5006),zs=w(762);const Ed=(()=>{function a(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return a.prototype=Object.create(Error.prototype),a})(),cm=new ir.c(a=>a.complete());class um{constructor(e){if(this.total=e,this.total<0)throw new Ed}call(e,t){return t.subscribe(new dt(e,this.total))}}class dt extends zs.v{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,i=++this.count;i<=t&&(this.destination.next(e),i===t&&(this.destination.complete(),this.unsubscribe()))}}function cr(){}var Oo=w(8099);class BA{constructor(e,t,i){this.nextOrObserver=e,this.error=t,this.complete=i}call(e,t){return t.subscribe(new $A(e,this.nextOrObserver,this.error,this.complete))}}class $A extends zs.v{constructor(e,t,i,n){super(e),this._tapNext=cr,this._tapError=cr,this._tapComplete=cr,this._tapError=i||cr,this._tapComplete=n||cr,(0,Oo.T)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||cr,this._tapError=t.error||cr,this._tapComplete=t.complete||cr)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}var GA=w(9090);function Md(...a){return function Bo(){return Mr(1)}()((0,Jr.of)(...a))}function $o(...a){const e=a[a.length-1];return(0,zr.m)(e)?(a.pop(),t=>Md(a,t,e)):t=>Md(a,t)}const wc=new P.nKC("cdk-dir-doc",{providedIn:"root",factory:()=>(0,P.WQX)(P.qQL)}),dm=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let hm=(()=>{class a{get value(){return this.valueSignal()}valueSignal=(0,P.vPA)("ltr");change=new P.bkB;constructor(){const t=(0,P.WQX)(wc,{optional:!0});t&&this.valueSignal.set(function Tc(a){const e=a?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?dm.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||a)};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const Js={};class Go{_appId=(0,P.WQX)(p.sZ2);static _infix=`a${Math.floor(1e5*Math.random()).toString()}`;getId(e,t=!1){return"ng"!==this._appId&&(e+=this._appId),Js.hasOwnProperty(e)||(Js[e]=0),`${e}${t?Go._infix+"-":""}${Js[e]++}`}static \u0275fac=function(t){return new(t||Go)};static \u0275prov=P.jDH({token:Go,factory:Go.\u0275fac,providedIn:"root"})}function Ec(a){const e=a.cloneNode(!0),t=e.querySelectorAll("[id]"),i=a.nodeName.toLowerCase();e.removeAttribute("id");for(let n=0;n<t.length;n++)t[n].removeAttribute("id");return"canvas"===i?Ho(a,e):("input"===i||"select"===i||"textarea"===i)&&Cc(a,e),Qs("canvas",a,e,Ho),Qs("input, textarea, select",a,e,Cc),e}function Qs(a,e,t,i){const n=e.querySelectorAll(a);if(n.length){const s=t.querySelectorAll(a);for(let r=0;r<n.length;r++)i(n[r],s[r])}}let Zs=0;function Cc(a,e){"file"!==e.type&&(e.value=a.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${Zs++}`)}function Ho(a,e){const t=e.getContext("2d");if(t)try{t.drawImage(a,0,0)}catch{}}function oo(a){const e=a.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function Dc(a,e,t){const{top:i,bottom:n,left:s,right:r}=a;return t>=i&&t<=n&&e>=s&&e<=r}function jo(a,e,t){a.top+=e,a.bottom=a.top+a.height,a.left+=t,a.right=a.left+a.width}function Id(a,e,t,i){const{top:n,right:s,bottom:r,left:c,width:u,height:h}=a,b=u*e,D=h*e;return i>n-D&&i<r+D&&t>c-b&&t<s+b}class pm{_document;positions=new Map;constructor(e){this._document=e}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:oo(t)})})}handleScroll(e){const t=Ai(e),i=this.positions.get(t);if(!i)return null;const n=i.scrollPosition;let s,r;if(t===this._document){const h=this.getViewportScrollPosition();s=h.top,r=h.left}else s=t.scrollTop,r=t.scrollLeft;const c=n.top-s,u=n.left-r;return this.positions.forEach((h,b)=>{h.clientRect&&t!==b&&t.contains(b)&&jo(h.clientRect,c,u)}),n.top=s,n.left=r,{top:c,left:u}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Mc(a,e){const t=a.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const i=e.createElement("div");return t.forEach(n=>i.appendChild(n)),i}function qo(a,e,t){for(let i in e)if(e.hasOwnProperty(i)){const n=e[i];n?a.setProperty(i,n,t?.has(i)?"important":""):a.removeProperty(i)}return a}function Uo(a,e){const t=e?"":"none";qo(a.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function Rd(a,e,t){qo(a.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function el(a,e){return e&&"none"!=e?a+" "+e:a}function Ld(a,e){a.style.width=`${e.width}px`,a.style.height=`${e.height}px`,a.style.transform=Wo(e.left,e.top)}function Wo(a,e){return`translate3d(${Math.round(a)}px, ${Math.round(e)}px, 0)`}const so={capture:!0},xc={passive:!1,capture:!0};let jA=(()=>{class a{static \u0275fac=function(i){return new(i||a)};static \u0275cmp=p.VBU({type:a,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(i,n){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}\n"],encapsulation:2,changeDetection:0})}return a})(),lo=(()=>{class a{_ngZone=(0,P.WQX)(P.SKi);_document=(0,P.WQX)(P.qQL);_styleLoader=(0,P.WQX)(Xr);_renderer=(0,P.WQX)(p._9s).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new _t.B7;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=(0,P.vPA)([]);_globalListeners;_draggingPredicate=t=>t.isDragging();_domNodesToDirectives=null;pointerMove=new _t.B7;pointerUp=new _t.B7;constructor(){}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,xc)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._cleanupDocumentTouchmove?.()}startDragging(t,i){if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._styleLoader.load(jA),this._activeDragInstances.update(n=>[...n,t]),1===this._activeDragInstances().length)){const n=i.type.startsWith("touch"),s=c=>this.pointerUp.next(c),r=[["scroll",c=>this._scroll.next(c),so],["selectstart",this._preventDefaultWhileDragging,xc]];n?r.push(["touchend",s,so],["touchcancel",s,so]):r.push(["mouseup",s,so]),n||r.push(["mousemove",c=>this.pointerMove.next(c),xc]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=r.map(([c,u,h])=>this._renderer.listen(this._document,c,u,h))})}}stopDragging(t){this._activeDragInstances.update(i=>{const n=i.indexOf(t);return n>-1?(i.splice(n,1),[...i]):i}),0===this._activeDragInstances().length&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances().indexOf(t)>-1}scrolled(t){const i=[this._scroll];return t&&t!==this._document&&i.push(new ir.c(n=>this._ngZone.runOutsideAngular(()=>{const s=this._renderer.listen(t,"scroll",r=>{this._activeDragInstances().length&&n.next(r)},so);return()=>{s()}}))),Lo(...i)}registerDirectiveNode(t,i){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(t,i)}removeDirectiveNode(t){this._domNodesToDirectives?.delete(t)}getDragDirectiveForNode(t){return this._domNodesToDirectives?.get(t)||null}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=t=>{this._activeDragInstances().length>0&&t.preventDefault()};_persistentTouchmoveListener=t=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))};_clearGlobalListeners(){this._globalListeners?.forEach(t=>t()),this._globalListeners=void 0}static \u0275fac=function(i){return new(i||a)};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function tl(a){const e=a.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(a)*e}function il(a,e){return a.getPropertyValue(e).split(",").map(i=>i.trim())}const Ic=new Set(["position"]);class Rc{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView=null;_preview;get element(){return this._preview}constructor(e,t,i,n,s,r,c,u,h,b){this._document=e,this._rootElement=t,this._direction=i,this._initialDomRect=n,this._previewTemplate=s,this._previewClass=r,this._pickupPositionOnPage=c,this._initialTransform=u,this._zIndex=h,this._renderer=b}attach(e){this._preview=this._createPreview(),e.appendChild(this._preview),Ar(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(e){this._preview.style.transform=e}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(e){this._preview.classList.add(e)}getTransitionDuration(){return function qA(a){const e=getComputedStyle(a),t=il(e,"transition-property"),i=t.find(c=>"transform"===c||"all"===c);if(!i)return 0;const n=t.indexOf(i),s=il(e,"transition-duration"),r=il(e,"transition-delay");return tl(s[n])+tl(r[n])}(this._preview)}addEventListener(e,t){return this._renderer.listen(this._preview,e,t)}_createPreview(){const e=this._previewTemplate,t=this._previewClass,i=e?e.template:null;let n;if(i&&e){const s=e.matchSize?this._initialDomRect:null,r=e.viewContainer.createEmbeddedView(i,e.context);r.detectChanges(),n=Mc(r,this._document),this._previewEmbeddedView=r,e.matchSize?Ld(n,s):n.style.transform=Wo(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else n=Ec(this._rootElement),Ld(n,this._initialDomRect),this._initialTransform&&(n.style.transform=this._initialTransform);return qo(n.style,{"pointer-events":"none",margin:Ar(n)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},Ic),Uo(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("popover","manual"),n.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(s=>n.classList.add(s)):n.classList.add(t)),n}}function Ar(a){return"showPopover"in a}const gm={passive:!0},Lc={passive:!1},nl={passive:!1,capture:!0},fm="cdk-drag-placeholder",rl=new Set(["position"]);function ym(a,e,t={dragStartThreshold:5,pointerDirectionChangeThreshold:5}){const i=a.get(p.sFG,null,{optional:!0})||a.get(p._9s).createRenderer(null,null);return new UA(e,t,a.get(P.qQL),a.get(P.SKi),a.get(C),a.get(lo),i)}class UA{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview=null;_previewContainer;_placeholderRef=null;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_marker;_anchor=null;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=(0,P.vPA)(!1);_hasMoved=!1;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new _t.B7;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement=null;_rootElementTapHighlight;_pointerMoveSubscription=Yr.y.EMPTY;_pointerUpSubscription=Yr.y.EMPTY;_scrollSubscription=Yr.y.EMPTY;_resizeSubscription=Yr.y.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef=null;_cachedShadowRoot;lockAxis=null;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>Uo(t,e)))}_disabled=!1;beforeStarted=new _t.B7;started=new _t.B7;released=new _t.B7;ended=new _t.B7;entered=new _t.B7;exited=new _t.B7;dropped=new _t.B7;moved=this._moveEvents;data;constrainPosition;constructor(e,t,i,n,s,r,c){this._config=t,this._document=i,this._ngZone=n,this._viewportRuler=s,this._dragDropRegistry=r,this._renderer=c,this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new pm(i),r.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(i=>qn(i)),this._handles.forEach(i=>Uo(i,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=qn(e);if(t!==this._rootElement){this._removeRootElementListeners();const i=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[i.listen(t,"mousedown",this._pointerDown,Lc),i.listen(t,"touchstart",this._pointerDown,gm),i.listen(t,"dragstart",this._nativeDragStart,Lc)]),this._initialTransform=void 0,this._rootElement=t}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?qn(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._marker?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&function HA(a,e){return e.left<a.left||e.left+e.width>a.right||e.top<a.top||e.top+e.height>a.bottom}(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){const e=this._boundaryElement.getBoundingClientRect(),t=this._rootElement.getBoundingClientRect();let i=0,n=0;t.left<e.left?i=e.left-t.left:t.right>e.right&&(i=e.right-t.right),t.top<e.top?n=e.top-t.top:t.bottom>e.bottom&&(n=e.bottom-t.bottom);let c=this._activeTransform.x+i,u=this._activeTransform.y+n;this._rootElement.style.transform=Wo(c,u),this._activeTransform={x:c,y:u},this._passiveTransform={x:c,y:u}}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),Uo(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),Uo(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._anchor?.remove(),this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}_pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){const t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&this._initializeDragSequence(t,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)};_pointerMove=e=>{const t=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging()){if(Math.abs(t.x-this._pickupPositionOnPage.x)+Math.abs(t.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const c=Date.now()>=this._dragStartTime+this._getDragStartDelay(e),u=this._dropContainer;if(!c)return void this._endDragSequence(e);(!u||!u.isDragging()&&!u.isReceiving())&&(e.cancelable&&e.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(e)))}return}e.cancelable&&e.preventDefault();const i=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,t);else{const n=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,s=this._activeTransform;s.x=i.x-n.x+this._passiveTransform.x,s.y=i.y-n.y+this._passiveTransform.y,this._applyRootElementTransform(s.x,s.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:e,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})};_pointerUp=e=>{this._endDragSequence(e)};_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging()))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){al(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._getShadowRoot(),i=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(t,"selectstart",WA,nl)}),i){const n=this._rootElement,s=n.parentNode,r=this._placeholder=this._createPlaceholderElement(),c=this._marker=this._marker||this._document.createComment("");s.insertBefore(c,n),this._initialTransform=n.style.transform||"",this._preview=new Rc(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(s,t)),Rd(n,!1,rl),this._document.body.appendChild(s.replaceChild(r,n)),this.started.next({source:this,event:e}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const i=this.isDragging(),n=al(t),s=!n&&0!==t.button,r=this._rootElement,c=Ai(t),u=!n&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),h=n?function oa(a){const e=a.touches&&a.touches[0]||a.changedTouches&&a.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(t):function nr(a){return 0===a.buttons||0===a.detail}(t);if(c&&c.draggable&&"mousedown"===t.type&&t.preventDefault(),i||s||u||h)return;if(this._handles.length){const H=r.style;this._rootElementTapHighlight=H.webkitTapHighlightColor||"",H.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(H=>this._updateOnScroll(H)),this._boundaryElement&&(this._boundaryRect=oo(this._boundaryElement));const b=this._previewTemplate;this._pickupPositionInElement=b&&b.template&&!b.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,e,t);const D=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:D.x,y:D.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){Rd(this._rootElement,!0,rl),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,i=t.getItemIndex(this),n=this._getPointerPositionOnPage(e),s=this._getDragDistance(n),r=t._isOverContainer(n.x,n.y);this.ended.next({source:this,distance:s,dropPoint:n,event:e}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:r,distance:s,dropPoint:n,event:e}),t.drop(this,i,this._initialIndex,this._initialContainer,r,s,n,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:i,y:n}){let s=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{const r=this._dropContainer.getItemIndex(this),c=this._dropContainer.getItemAtIndex(r+1)?.getVisibleElement()||null;this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._conditionallyInsertAnchor(s,this._dropContainer,c),this._dropContainer=s,this._dropContainer.enter(this,e,t,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,n),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=this._preview.getTransitionDuration();return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const n=c=>{(!c||this._preview&&Ai(c)===this._preview.element&&"transform"===c.propertyName)&&(r(),i(),clearTimeout(s))},s=setTimeout(n,1.5*t),r=this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let i;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),i=Mc(this._placeholderRef,this._document)):i=Ec(this._rootElement),i.style.pointerEvents="none",i.classList.add(fm),i}_getPointerPositionInElement(e,t,i){const n=t===this._rootElement?null:t,s=n?n.getBoundingClientRect():e,r=al(i)?i.targetTouches[0]:i,c=this._getViewportScrollPosition();return{x:s.left-e.left+(r.pageX-s.left-c.left),y:s.top-e.top+(r.pageY-s.top-c.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),i=al(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,n=i.pageX-t.left,s=i.pageY-t.top;if(this._ownerSVGElement){const r=this._ownerSVGElement.getScreenCTM();if(r){const c=this._ownerSVGElement.createSVGPoint();return c.x=n,c.y=s,c.matrixTransform(r.inverse())}}return{x:n,y:s}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:n}=this.constrainPosition?this.constrainPosition(e,this,this._initialDomRect,this._pickupPositionInElement):e;if("x"===this.lockAxis||"x"===t?n=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===t)&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:s,y:r}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,c=this._boundaryRect,{width:u,height:h}=this._getPreviewRect(),b=c.top+r,D=c.bottom-(h-r);i=vm(i,c.left+s,c.right-(u-s)),n=vm(n,b,D)}return{x:i,y:n}}_updatePointerDirectionDelta(e){const{x:t,y:i}=e,n=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,r=Math.abs(t-s.x),c=Math.abs(i-s.y);return r>this._config.pointerDirectionChangeThreshold&&(n.x=t>s.x?1:-1,s.x=t),c>this._config.pointerDirectionChangeThreshold&&(n.y=i>s.y?1:-1,s.y=i),n}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Uo(this._rootElement,e))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(e=>e()),this._rootElementCleanups=void 0}_applyRootElementTransform(e,t){const i=1/this.scale,n=Wo(e*i,t*i),s=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=s.transform&&"none"!=s.transform?s.transform:""),s.transform=el(n,this._initialTransform)}_applyPreviewTransform(e,t){const i=this._previewTemplate?.template?void 0:this._initialTransform,n=Wo(e,t);this._preview.setTransform(el(n,i))}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),n=this._boundaryElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===i.width&&0===i.height)return;const s=n.left-i.left,r=i.right-n.right,c=n.top-i.top,u=i.bottom-n.bottom;n.width>i.width?(s>0&&(e+=s),r>0&&(e-=r)):e=0,n.height>i.height?(c>0&&(t+=c),u>0&&(t-=u)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:al(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const i=Ai(e);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&jo(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Ki(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const i=this._previewContainer||"global";if("parent"===i)return e;if("global"===i){const n=this._document;return t||n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body}return qn(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=e=>{if(this._handles.length){const t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&e.preventDefault()}else this.disabled||e.preventDefault()};_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}_conditionallyInsertAnchor(e,t,i){if(e===this._initialContainer)this._anchor?.remove(),this._anchor=null;else if(t===this._initialContainer&&t.hasAnchor){const n=this._anchor??=Ec(this._placeholder);n.classList.remove(fm),n.classList.add("cdk-drag-anchor"),n.style.transform="",i?i.before(n):qn(t.element).appendChild(n)}}}function vm(a,e,t){return Math.max(e,Math.min(t,a))}function al(a){return"t"===a.type[0]}function WA(a){a.preventDefault()}function Nc(a,e,t){const i=co(e,a.length-1),n=co(t,a.length-1);if(i===n)return;const s=a[i],r=n<i?-1:1;for(let c=i;c!==n;c+=r)a[c]=a[c+r];a[n]=s}function co(a,e){return Math.max(0,Math.min(e,a))}class ol{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction="ltr";constructor(e){this._dragDropRegistry=e}_previousSwap={drag:null,delta:0,overlaps:!1};start(e){this.withItems(e)}sort(e,t,i,n){const s=this._itemPositions,r=this._getItemIndexFromPointerPosition(e,t,i,n);if(-1===r&&s.length>0)return null;const c="horizontal"===this.orientation,u=s.findIndex(ye=>ye.drag===e),h=s[r],D=h.clientRect,H=u>r?1:-1,Y=this._getItemOffsetPx(s[u].clientRect,D,H),ue=this._getSiblingOffsetPx(u,s,H),he=s.slice();return Nc(s,u,r),s.forEach((ye,_e)=>{if(he[_e]===ye)return;const qe=ye.drag===e,Ve=qe?Y:ue,je=qe?e.getPlaceholderElement():ye.drag.getRootElement();ye.offset+=Ve;const Ie=Math.round(ye.offset*(1/ye.drag.scale));c?(je.style.transform=el(`translate3d(${Ie}px, 0, 0)`,ye.initialTransform),jo(ye.clientRect,0,Ve)):(je.style.transform=el(`translate3d(0, ${Ie}px, 0)`,ye.initialTransform),jo(ye.clientRect,Ve,0))}),this._previousSwap.overlaps=Dc(D,t,i),this._previousSwap.drag=h.drag,this._previousSwap.delta=c?n.x:n.y,{previousIndex:u,currentIndex:r}}enter(e,t,i,n){const s=null==n||n<0?this._getItemIndexFromPointerPosition(e,t,i):n,r=this._activeDraggables,c=r.indexOf(e),u=e.getPlaceholderElement();let h=r[s];if(h===e&&(h=r[s+1]),!h&&(null==s||-1===s||s<r.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(h=r[0]),c>-1&&r.splice(c,1),h&&!this._dragDropRegistry.isDragging(h)){const b=h.getRootElement();b.parentElement.insertBefore(u,b),r.splice(s,0,e)}else this._element.appendChild(u),r.push(e);u.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables?.forEach(e=>{const t=e.getRootElement();if(t){const i=this._itemPositions.find(n=>n.drag===e)?.initialTransform;t.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return this._getVisualItemPositions().findIndex(t=>t.drag===e)}getItemAtIndex(e){return this._getVisualItemPositions()[e]?.drag||null}updateOnScroll(e,t){this._itemPositions.forEach(({clientRect:i})=>{jo(i,e,t)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(e){this._element=e}_cacheItemPositions(){const e="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:oo(i)}}).sort((t,i)=>e?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_getVisualItemPositions(){return"horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions}_getItemOffsetPx(e,t,i){const n="horizontal"===this.orientation;let s=n?t.left-e.left:t.top-e.top;return-1===i&&(s+=n?t.width-e.width:t.height-e.height),s}_getSiblingOffsetPx(e,t,i){const n="horizontal"===this.orientation,s=t[e].clientRect,r=t[e+-1*i];let c=s[n?"width":"height"]*i;if(r){const u=n?"left":"top",h=n?"right":"bottom";-1===i?c-=r.clientRect[u]-s[h]:c+=s[u]-r.clientRect[h]}return c}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,n="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const r=i[i.length-1].clientRect;return n?e>=r.right:t>=r.bottom}{const r=i[0].clientRect;return n?e<=r.left:t<=r.top}}_getItemIndexFromPointerPosition(e,t,i,n){const s="horizontal"===this.orientation,r=this._itemPositions.findIndex(({drag:c,clientRect:u})=>c!==e&&((!n||c!==this._previousSwap.drag||!this._previousSwap.overlaps||(s?n.x:n.y)!==this._previousSwap.delta)&&(s?t>=Math.floor(u.left)&&t<Math.floor(u.right):i>=Math.floor(u.top)&&i<Math.floor(u.bottom))));return-1!==r&&this._sortPredicate(r,e)?r:-1}}class Nd{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(e,t){this._document=e,this._dragDropRegistry=t}start(e){const t=this._element.childNodes;this._relatedNodes=[];for(let i=0;i<t.length;i++){const n=t[i];this._relatedNodes.push([n,n.nextSibling])}this.withItems(e)}sort(e,t,i,n){const s=this._getItemIndexFromPointerPosition(e,t,i),r=this._previousSwap;if(-1===s||this._activeItems[s]===e)return null;const c=this._activeItems[s];if(r.drag===c&&r.overlaps&&r.deltaX===n.x&&r.deltaY===n.y)return null;const u=this.getItemIndex(e),h=e.getPlaceholderElement(),b=c.getRootElement();s>u?b.after(h):b.before(h),Nc(this._activeItems,u,s);const D=this._getRootNode().elementFromPoint(t,i);return r.deltaX=n.x,r.deltaY=n.y,r.drag=c,r.overlaps=b===D||b.contains(D),{previousIndex:u,currentIndex:s}}enter(e,t,i,n){const s=this._activeItems.indexOf(e);s>-1&&this._activeItems.splice(s,1);let r=null==n||n<0?this._getItemIndexFromPointerPosition(e,t,i):n;-1===r&&(r=this._getClosestItemIndexToPointer(e,t,i));const c=this._activeItems[r];c&&!this._dragDropRegistry.isDragging(c)?(this._activeItems.splice(r,0,e),c.getRootElement().before(e.getPlaceholderElement())):(this._activeItems.push(e),this._element.appendChild(e.getPlaceholderElement()))}withItems(e){this._activeItems=e.slice()}withSortPredicate(e){this._sortPredicate=e}reset(){const e=this._element,t=this._previousSwap;for(let i=this._relatedNodes.length-1;i>-1;i--){const[n,s]=this._relatedNodes[i];n.parentNode===e&&n.nextSibling!==s&&(null===s?e.appendChild(n):s.parentNode===e&&e.insertBefore(n,s))}this._relatedNodes=[],this._activeItems=[],t.drag=null,t.deltaX=t.deltaY=0,t.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(e){return this._activeItems.indexOf(e)}getItemAtIndex(e){return this._activeItems[e]||null}updateOnScroll(){this._activeItems.forEach(e=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}withElementContainer(e){e!==this._element&&(this._element=e,this._rootNode=void 0)}_getItemIndexFromPointerPosition(e,t,i){const n=this._getRootNode().elementFromPoint(Math.floor(t),Math.floor(i)),s=n?this._activeItems.findIndex(r=>{const c=r.getRootElement();return n===c||c.contains(n)}):-1;return-1!==s&&this._sortPredicate(s,e)?s:-1}_getRootNode(){return this._rootNode||(this._rootNode=Ki(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(e,t,i){if(0===this._activeItems.length)return-1;if(1===this._activeItems.length)return 0;let n=1/0,s=-1;for(let r=0;r<this._activeItems.length;r++){const c=this._activeItems[r];if(c!==e){const{x:u,y:h}=c.getRootElement().getBoundingClientRect(),b=Math.hypot(t-u,i-h);b<n&&(n=b,s=r)}}return s}}var tn=function(a){return a[a.NONE=0]="NONE",a[a.UP=1]="UP",a[a.DOWN=2]="DOWN",a}(tn||{}),nn=function(a){return a[a.NONE=0]="NONE",a[a.LEFT=1]="LEFT",a[a.RIGHT=2]="RIGHT",a}(nn||{});function uo(a,e){return new Da(e,a.get(lo),a.get(P.qQL),a.get(P.SKi),a.get(C))}class Da{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis=null;autoScrollDisabled=!1;autoScrollStep=2;hasAnchor=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new _t.B7;entered=new _t.B7;exited=new _t.B7;dropped=new _t.B7;sorted=new _t.B7;receivingStarted=new _t.B7;receivingStopped=new _t.B7;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=Yr.y.EMPTY;_verticalScrollDirection=tn.NONE;_horizontalScrollDirection=nn.NONE;_scrollNode;_stopScrollTimers=new _t.B7;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(e,t,i,n,s){this._dragDropRegistry=t,this._ngZone=n,this._viewportRuler=s;const r=this.element=qn(e);this._document=i,this.withOrientation("vertical").withElementContainer(r),t.registerDropContainer(this),this._parentPositions=new pm(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,i,n){this._draggingStarted(),null==n&&this.sortingDisabled&&(n=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,i,n),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,i,n,s,r,c,u={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:i,container:this,previousContainer:n,isPointerOverContainer:s,distance:r,dropPoint:c,event:u})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(n=>n.isDragging()).every(n=>-1===e.indexOf(n))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._direction=e,this._sortStrategy instanceof ol&&(this._sortStrategy.direction=e),this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){if("mixed"===e)this._sortStrategy=new Nd(this._document,this._dragDropRegistry);else{const t=new ol(this._dragDropRegistry);t.direction=this._direction,t.orientation=e,this._sortStrategy=t}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((t,i)=>this.sortPredicate(t,i,this)),this}withScrollableParents(e){const t=this._container;return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}withElementContainer(e){if(e===this._container)return this;qn(this.element);const i=this._scrollableElements.indexOf(this._container),n=this._scrollableElements.indexOf(e);return i>-1&&this._scrollableElements.splice(i,1),n>-1&&this._scrollableElements.splice(n,1),this._sortStrategy&&this._sortStrategy.withElementContainer(e),this._cachedShadowRoot=null,this._scrollableElements.unshift(e),this._container=e,this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}getItemAtIndex(e){return this._isDragging?this._sortStrategy.getItemAtIndex(e):this._draggables[e]||null}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,i,n){if(this.sortingDisabled||!this._domRect||!Id(this._domRect,.05,t,i))return;const s=this._sortStrategy.sort(e,t,i,n);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let i,n=tn.NONE,s=nn.NONE;if(this._parentPositions.positions.forEach((r,c)=>{c===this._document||!r.clientRect||i||Id(r.clientRect,.05,e,t)&&([n,s]=function Fd(a,e,t,i,n){const s=ll(e,n),r=Bc(e,i);let c=tn.NONE,u=nn.NONE;if(s){const h=a.scrollTop;s===tn.UP?h>0&&(c=tn.UP):a.scrollHeight-h>a.clientHeight&&(c=tn.DOWN)}if(r){const h=a.scrollLeft;"rtl"===t?r===nn.RIGHT?h<0&&(u=nn.RIGHT):a.scrollWidth+h>a.clientWidth&&(u=nn.LEFT):r===nn.LEFT?h>0&&(u=nn.LEFT):a.scrollWidth-h>a.clientWidth&&(u=nn.RIGHT)}return[c,u]}(c,r.clientRect,this._direction,e,t),(n||s)&&(i=c))}),!n&&!s){const{width:r,height:c}=this._viewportRuler.getViewportSize(),u={width:r,height:c,top:0,right:r,bottom:c,left:0};n=ll(u,t),s=Bc(u,e),i=window}i&&(n!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=n,this._horizontalScrollDirection=s,this._scrollNode=i,(n||s)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;const e=this._container.style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),function J(a=0,e=$.b){return(!B(a)||a<0)&&(a=0),(!e||"function"!=typeof e.schedule)&&(e=$.b),new ir.c(t=>(t.add(e.schedule(pe,a,{subscriber:t,counter:0,period:a})),t))}(0,ot).pipe(Un(this._stopScrollTimers)).subscribe(()=>{const e=this._scrollNode,t=this.autoScrollStep;this._verticalScrollDirection===tn.UP?e.scrollBy(0,-t):this._verticalScrollDirection===tn.DOWN&&e.scrollBy(0,t),this._horizontalScrollDirection===nn.LEFT?e.scrollBy(-t,0):this._horizontalScrollDirection===nn.RIGHT&&e.scrollBy(t,0)})};_isOverContainer(e,t){return null!=this._domRect&&Dc(this._domRect,e,t)}_getSiblingContainerFromPosition(e,t,i){return this._siblings.find(n=>n._canReceive(e,t,i))}_canReceive(e,t,i){if(!this._domRect||!Dc(this._domRect,t,i)||!this.enterPredicate(e,this))return!1;const n=this._getShadowRoot().elementFromPoint(t,i);return!!n&&(n===this._container||this._container.contains(n))}_startReceiving(e,t){const i=this._activeSiblings;!i.has(e)&&t.every(n=>this.enterPredicate(n,this)||this._draggables.indexOf(n)>-1)&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:t}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=Ki(this._container);this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function ll(a,e){const{top:t,bottom:i,height:n}=a,s=.05*n;return e>=t-s&&e<=t+s?tn.UP:e>=i-s&&e<=i+s?tn.DOWN:tn.NONE}function Bc(a,e){const{left:t,right:i,width:n}=a,s=.05*n;return e>=t-s&&e<=t+s?nn.LEFT:e>=i-s&&e<=i+s?nn.RIGHT:nn.NONE}let Od=(()=>{class a{_injector=(0,P.WQX)(P.zZn);constructor(){}createDrag(t,i){return ym(this._injector,t,i)}createDropList(t){return uo(this._injector,t)}static \u0275fac=function(i){return new(i||a)};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const Ma=new P.nKC("CDK_DRAG_PARENT"),Rr=new P.nKC("CdkDragHandle");let Ko=(()=>{class a{element=(0,P.WQX)(p.aKT);_parentDrag=(0,P.WQX)(Ma,{optional:!0,skipSelf:!0});_dragDropRegistry=(0,P.WQX)(lo);_stateChanges=new _t.B7;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let t=this.element.nativeElement.parentElement;for(;t;){const i=this._dragDropRegistry.getDragDirectiveForNode(t);if(i){this._parentDrag=i,i._addHandle(this);break}t=t.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(i){return new(i||a)};static \u0275dir=p.FsC({type:a,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",ee.L39]},features:[p.Jv_([{provide:Rr,useExisting:a}])]})}return a})();const $c=new P.nKC("CDK_DRAG_CONFIG"),Lr=new P.nKC("CdkDropList");let zo=(()=>{class a{element=(0,P.WQX)(p.aKT);dropContainer=(0,P.WQX)(Lr,{optional:!0,skipSelf:!0});_ngZone=(0,P.WQX)(P.SKi);_viewContainerRef=(0,P.WQX)(p.c1b);_dir=(0,P.WQX)(hm,{optional:!0});_changeDetectorRef=(0,P.WQX)(ee.gRc);_selfHandle=(0,P.WQX)(Rr,{optional:!0,self:!0});_parentDrag=(0,P.WQX)(Ma,{optional:!0,skipSelf:!0});_dragDropRegistry=(0,P.WQX)(lo);_destroyed=new _t.B7;_handles=new st.t([]);_previewTemplate=null;_placeholderTemplate=null;_dragRef;data;lockAxis=null;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!(!this.dropContainer||!this.dropContainer.disabled)}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled}_disabled=!1;constrainPosition;previewClass;previewContainer;scale=1;started=new P.bkB;released=new P.bkB;ended=new P.bkB;entered=new P.bkB;exited=new P.bkB;dropped=new P.bkB;moved=new ir.c(t=>{const i=this._dragRef.moved.pipe((0,Ks.T)(n=>({source:this,pointerPosition:n.pointerPosition,event:n.event,delta:n.delta,distance:n.distance}))).subscribe(t);return()=>{i.unsubscribe()}});_injector=(0,P.WQX)(P.zZn);constructor(){const t=this.dropContainer,i=(0,P.WQX)($c,{optional:!0});this._dragRef=ym(this._injector,this.element,{dragStartThreshold:i&&null!=i.dragStartThreshold?i.dragStartThreshold:5,pointerDirectionChangeThreshold:i&&null!=i.pointerDirectionChangeThreshold?i.pointerDirectionChangeThreshold:5,zIndex:i?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),i&&this._assignDefaults(i),t&&(t.addItem(this),t._dropListRef.beforeStarted.pipe(Un(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){(0,p.mal)(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(t){const i=t.rootElementSelector,n=t.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(t){const i=this._handles.getValue();i.push(t),this._handles.next(i)}_removeHandle(t){const i=this._handles.getValue(),n=i.indexOf(t);n>-1&&(i.splice(n,1),this._handles.next(i))}_setPreviewTemplate(t){this._previewTemplate=t}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(t){this._placeholderTemplate=t}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const t=this.element.nativeElement;let i=t;this.rootElementSelector&&(i=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):qn(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const i=this._dir,n=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,r=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.scale=this.scale,t.dragStartDelay="object"==typeof n&&n?n:la(n),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(r).withPreviewContainer(this.previewContainer||"global"),i&&t.withDirection(i.value)}}),t.beforeStarted.pipe(function Dd(a){return e=>0===a?function Xs(a){return a?function Cd(a){return new ir.c(e=>a.schedule(()=>e.complete()))}(a):cm}():e.lift(new um(a))}(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){const n=this._dragDropRegistry.getDragDirectiveForNode(i);if(n){t.withParent(n._dragRef);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),t.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(t){const{lockAxis:i,dragStartDelay:n,constrainPosition:s,previewClass:r,boundaryElement:c,draggingDisabled:u,rootElementSelector:h,previewContainer:b}=t;this.disabled=u??!1,this.dragStartDelay=n||0,this.lockAxis=i||null,s&&(this.constrainPosition=s),r&&(this.previewClass=r),c&&(this.boundaryElement=c),h&&(this.rootElementSelector=h),b&&(this.previewContainer=b)}_setupHandlesListener(){this._handles.pipe(function kc(a,e,t){return function(n){return n.lift(new BA(a,e,t))}}(t=>{const i=t.map(n=>n.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),(0,GA.n)(t=>Lo(...t.map(i=>i._stateChanges.pipe($o(i))))),Un(this._destroyed)).subscribe(t=>{const i=this._dragRef,n=t.element.nativeElement;t.disabled?i.disableHandle(n):i.enableHandle(n)})}static \u0275fac=function(i){return new(i||a)};static \u0275dir=p.FsC({type:a,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,n){2&i&&p.AVh("cdk-drag-disabled",n.disabled)("cdk-drag-dragging",n._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",ee.L39],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",ee.Udg]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[p.Jv_([{provide:Ma,useExisting:a}]),p.OA$]})}return a})();const Yo=new P.nKC("CdkDropListGroup");let bm=(()=>{class a{element=(0,P.WQX)(p.aKT);_changeDetectorRef=(0,P.WQX)(ee.gRc);_scrollDispatcher=(0,P.WQX)(_d);_dir=(0,P.WQX)(hm,{optional:!0});_group=(0,P.WQX)(Yo,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new _t.B7;_scrollableParentsResolved=!1;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation="vertical";id=(0,P.WQX)(Go).getId("cdk-drop-list-");lockAxis=null;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=t}_disabled=!1;sortingDisabled=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled=!1;autoScrollStep;elementContainerSelector=null;hasAnchor=!1;dropped=new P.bkB;entered=new P.bkB;exited=new P.bkB;sorted=new P.bkB;_unsortedItems=new Set;constructor(){const t=(0,P.WQX)($c,{optional:!0}),i=(0,P.WQX)(P.zZn);this._dropListRef=uo(i,this.element),this._dropListRef.data=this,t&&this._assignDefaults(t),this._dropListRef.enterPredicate=(n,s)=>this.enterPredicate(n.data,s.data),this._dropListRef.sortPredicate=(n,s,r)=>this.sortPredicate(n,s.data,r.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),a._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(t){this._unsortedItems.add(t),t._dragRef._withDropContainer(this._dropListRef),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(i=>i._dragRef))}removeItem(t){if(this._unsortedItems.delete(t),this._latestSortedRefs){const i=this._latestSortedRefs.indexOf(t._dragRef);i>-1&&(this._latestSortedRefs.splice(i,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((t,i)=>t._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=a._dropLists.indexOf(this);t>-1&&a._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe($o(this._dir.value),Un(this._destroyed)).subscribe(i=>t.withDirection(i)),t.beforeStarted.subscribe(()=>{const i=function xd(a){return Array.isArray(a)?a:[a]}(this.connectedTo).map(n=>"string"==typeof n?a._dropLists.find(r=>r.id===n):n);if(this._group&&this._group._items.forEach(n=>{-1===i.indexOf(n)&&i.push(n)}),!this._scrollableParentsResolved){const n=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(n),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){const n=this.element.nativeElement.querySelector(this.elementContainerSelector);t.withElementContainer(n)}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=this.sortingDisabled,t.autoScrollDisabled=this.autoScrollDisabled,t.autoScrollStep=la(this.autoScrollStep,2),t.hasAnchor=this.hasAnchor,t.connectedTo(i.filter(n=>n&&n!==this).map(n=>n._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(i=>i._dragRef)),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),Lo(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){const{lockAxis:i,draggingDisabled:n,sortingDisabled:s,listAutoScrollDisabled:r,listOrientation:c}=t;this.disabled=n??!1,this.sortingDisabled=s??!1,this.autoScrollDisabled=r??!1,this.orientation=c||"vertical",this.lockAxis=i||null}_syncItemsWithRef(t){this._latestSortedRefs=t,this._dropListRef.withItems(t)}static \u0275fac=function(i){return new(i||a)};static \u0275dir=p.FsC({type:a,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,n){2&i&&(p.BMQ("id",n.id),p.AVh("cdk-drop-list-disabled",n.disabled)("cdk-drop-list-dragging",n._dropListRef.isDragging())("cdk-drop-list-receiving",n._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",ee.L39],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",ee.L39],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",ee.L39],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"],hasAnchor:[2,"cdkDropListHasAnchor","hasAnchor",ee.L39]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[p.Jv_([{provide:Yo,useValue:void 0},{provide:Lr,useExisting:a}])]})}return a})(),Gc=(()=>{class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=p.$C({type:a});static \u0275inj=P.G2t({providers:[Od],imports:[_c]})}return a})();function Mn(a,e){return a.player===e?a.opponent:a.player}const ho=(a,e)=>{e.createLog({message:`${a.name} fainted.`,type:"death",player:a.parent,sourcePet:a})},ca=(a,e)=>{a.seenDead=!0,a.setFaintEventIfPresent(),ho(a,e)};var YA=w(6080);const jc=function oT(a){return(0,YA.A)(a,4)};class Ce{equipmentClass;name;tier;power;originalPower;uses;originalUses;callback;attackCallback;multiplier=1;multiplierMessage="";baseMultiplier=1;minimumDamage;hasRandomEvents=!1;triggers;constructor(){this.originalPower=this.power,this.baseMultiplier=this.multiplier}reset(){this.uses=this.originalUses}}function hl(a){return 1===a?0:2===a?2:5}function Hd(a){return hl(a)}class E{name;owner;_triggers=[];get triggers(){return this._triggers}set triggers(e){this._triggers=e}abilityType;maxUses;currentUses;initialCurrentUses;abilityLevel;precondition;condition;abilityFunction;native;ignoreRepeats;alwaysIgnorePetLevel;constructor(e){this.name=e.name,this.owner=e.owner,this.triggers=e.triggers,this.abilityType=e.abilityType,this.maxUses=e.maxUses??-1;const t=e.initialCurrentUses??("Pet"===e.abilityType?e.owner.triggersConsumed:0);this.initialCurrentUses=t,this.currentUses=t,this.abilityLevel=e.abilitylevel??1,this.precondition=e.precondition,this.condition=e.condition,this.abilityFunction=e.abilityFunction,this.native=e.native??!0,this.ignoreRepeats=e.ignoreRepeats??!1,this.alwaysIgnorePetLevel=e.alwaysIgnorePetLevel??!1}canUse(){return!(this.maxUses>0&&this.currentUses>=this.maxUses)}execute(e,t,i,n,s){if(this.owner.removed&&!this.matchesTrigger("PostRemovalFaint")||!this.owner.abilityValidCheck())return!1;try{const r={gameApi:e,triggerPet:t,tiger:i,pteranodon:n,...s};return!(this.precondition&&!this.precondition(r)||this.condition&&!this.condition(r)||(this.currentUses++,"Pet"===this.abilityType&&(this.owner.triggersConsumed=Math.max(this.owner.triggersConsumed,this.currentUses)),this.abilityFunction(r),0))}catch(r){return console.error(`Error executing ability ${this.name||"unnamed"}:`,r),!1}}tigerCheck(e,t){if(this.ignoreRepeats||"Pet"!=this.abilityType)return!1;const i=t??this.owner.petBehind(!0,!0);return!(!i||!i.hasTrigger(void 0,void 0,"TigerAbility")||null!=e&&0!=e)}triggerTigerExecution(e){const t=e.tigerSupportPet??this.owner.petBehind(!0,!0);if(!this.tigerCheck(e.tiger,t)||!this.canUse())return;let i=this.abilityLevel,n=this.alwaysIgnorePetLevel;this.abilityLevel=t.level,this.alwaysIgnorePetLevel=!0;const{gameApi:s,triggerPet:r,tiger:c,pteranodon:u,...h}=e;this.execute(s,r,!0,u,h),this.abilityLevel=i,this.alwaysIgnorePetLevel=n}reset(){this.currentUses=0}initUses(){this.currentUses=this.initialCurrentUses}copy(e){return null}matchesTrigger(e){return this.triggers.includes(e)}get level(){return this.alwaysIgnorePetLevel?this.abilityLevel:this.owner.level}get minExpForLevel(){return Hd(this.level)}}class jd extends Ce{logService;name="Onion";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new qc(e,t,this.logService))};constructor(e){super(),this.logService=e}}class qc extends E{equipment;logService;constructor(e,t,i){super({name:"OnionAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} pushed itself to the back. (Onion)`,type:"equipment",player:t.parent}),t.parent.pushPetToBack(t),t.parent.pushPetsForward(),t.removePerk()}}const qd=a=>{const e=jc(a.petArray);try{a.setPet(0,e[0])}catch{a.pet0=void 0}try{a.setPet(1,e[1])}catch{a.pet1=void 0}try{a.setPet(2,e[2])}catch{a.pet2=void 0}try{a.setPet(3,e[3])}catch{a.pet3=void 0}try{a.setPet(4,e[4])}catch{a.pet4=void 0}},Xo=(a,e)=>{let t=null,i=!1;if(e>0&&null==a.pet0&&(i=!0,t=0),e>1&&null==a.pet1&&(i=!0,t=1),e>2&&null==a.pet2&&(i=!0,t=2),e>3&&null==a.pet3&&(i=!0,t=3),i){if(null==t)return!1;const n=(s,r)=>{switch(s){case 0:a.pet0=r;break;case 1:a.pet1=r;break;case 2:a.pet2=r;break;case 3:a.pet3=r;break;case 4:a.pet4=r}};for(let s=t;s<e;s++)n(s,a.getPet(s+1));return!0}return!1},po=(a,e)=>{let t=null,i=!1;if(e<4&&null==a.pet4&&(i=!0,t=4),e<3&&null==a.pet3&&(i=!0,t=3),e<2&&null==a.pet2&&(i=!0,t=2),e<1&&null==a.pet1&&(i=!0,t=1),i){if(null==t)return!1;const n=(s,r)=>{switch(s){case 0:a.pet0=r;break;case 1:a.pet1=r;break;case 2:a.pet2=r;break;case 3:a.pet3=r;break;case 4:a.pet4=r}};for(let s=t;s>e;s--)n(s,a.getPet(s-1));return!0}return!1},ua=(a,e)=>{5!==a.petArray.length?Xo(a,e)||po(a,e):console.warn("No room to Make Room")},Uc=(a,e,t=1,i,n,s)=>{if("Brussels Sprout"===e?.equipment?.name)return n.createLog({message:`${e.name} blocked being pushed. (Brussels Sprout)`,type:"equipment",player:e.parent}),void e.removePerk();const r=e.position;switch(r){case 0:e.parent.pet0=void 0;break;case 1:e.parent.pet1=void 0;break;case 2:e.parent.pet2=void 0;break;case 3:e.parent.pet3=void 0;break;case 4:e.parent.pet4=void 0}let c;if(t>0&&(c=Math.max(r-t,0),null!=a.getPet(c)&&(Xo(a,c)||po(a,c)),a.setPet(c,e)),t<0&&(c=Math.min(r-t,4),null!=a.getPet(c)&&(po(a,c)||Xo(a,c)),a.setPet(c,e)),i?(e.jumped=!0,s.triggerJumpEvents(e)):s.triggerPushedEvents(e),null==a.pet0)s.triggerEmptyFrontSpaceEvents(a),s.executeEmptyFrontSpaceEvents(),s.triggerEmptyFrontSpaceToyEvents(a),s.executeEmptyFrontSpaceToyEvents();else for(const u of a.petArray)u.clearFrontTriggered=!1};function rr(a){let t,e=a.length;for(;0!==e;)t=Math.floor(Math.random()*e),e--,[a[e],a[t]]=[a[t],a[e]];return a}function Ot(a,e){const t=Math.ceil(a),i=Math.floor(e);return Math.floor(Math.random()*(i-t+1))+t}const Bt=a=>{const e=a.equipment;return"string"==typeof e?"Silly"===e:!(!e||"string"!=typeof e.name)&&"Silly"===e.name},Pn=(a,e)=>{const t=[];for(const i of a.petArray)i.alive&&("perk"===e?i.equipment&&!i.equipment.equipmentClass?.startsWith("ailment")&&t.push(i):i.equipment?.name===e&&t.push(i));return t},Jo=(a,e)=>{for(const t of a.petArray)if(t.position===e)return t;return null},S=(a,e,t,i,n,s,r,c)=>{if(n&&Bt(n)){const h=Math.random()<.5?a:a.opponent,b=Ot(0,4);return e.parent=h,{success:S(h,e,b,i,void 0,s,r,c).success,randomEvent:!0}}return t<0||t>4?(i||s.createLog({message:`No room to spawn ${e.name}!`,type:"ability",player:a}),{success:!1,randomEvent:!1}):i&&null!=a.getPet(t)?{success:!1,randomEvent:!1}:5===a.petArray.length?(i||s.createLog({message:`No room to spawn ${e.name}!`,type:"ability",player:a}),{success:!1,randomEvent:!1}):(a===c.gameApi.player?c.gameApi.playerSummonedAmount++:c.gameApi.opponentSummonedAmount++,0===t&&(null!=a.pet0&&ua(a,0),a.setPet(0,e)),1===t&&(null!=a.pet1&&ua(a,1),a.setPet(1,e)),2===t&&(null!=a.pet2&&ua(a,2),a.setPet(2,e)),3===t&&(null!=a.pet3&&ua(a,3),a.setPet(3,e)),4===t&&(null!=a.pet4&&ua(a,4),a.setPet(4,e)),r.triggerSummonEvents(e),{success:!0,randomEvent:!1})},be=(a,e,t,i,n,s,r)=>{if(s&&Bt(s)){const h=e?[...e]:[];return h.includes(s)||h.push(s),Dt(a,h,!0)}let c=r?[...a.opponent.petArray,...a.petArray]:a.petArray;if(t&&i){const h=Pn(a,"Donut").filter(D=>!e?.includes(D)),b=Pn(a,"Blueberry").filter(D=>!e?.includes(D));(h.length>0||b.length>0)&&(c=[...h,...b])}else if(t){const h=Pn(a,"Donut").filter(b=>!e?.includes(b));h.length>0&&(c=h),n&&(c=c.filter(b=>50!==b.health||50!==b.attack||b.hasTrigger(void 0,"Pet","BehemothAbility")||b.hasTrigger(void 0,"Pet","GiantTortoiseAbility")),0===c.length&&(c=a.petArray))}else if(i){const h=Pn(a,"Blueberry").filter(b=>!e?.includes(b));h.length>0&&(c=h)}if(c=c.filter(h=>{let b=!0;return e&&(b=!e.includes(h)),b&&h.health>0}),n){const h=jc(c);c=c.filter(b=>50!==b.health||50!==b.attack),0===c.length&&(c=h)}return 0===c.length?{pet:null,random:!1}:{pet:c[Ot(0,c.length-1)],random:c.length>1}},xe=(a,e,t,i,n,s,r)=>{if(s&&Bt(s)){const b=t?[...t]:[];return b.includes(s)||b.push(s),pt(a,e,!0,b)}const c=[],u=t??[];let h=!0;for(let b=0;b<e;b++){const D=be(a,u,i,n,void 0,s,r);if(h=D.random,null==D.pet)break;u.push(D.pet),c.push(D.pet)}return{pets:c,random:h}},pt=(a,e,t=!1,i)=>{const n=[],s=i?[...i]:[],c=(u=>{let h=[...a.petArray,...a.opponent.petArray];if(!t){const b=Pn(a,"Donut").filter(ue=>!u?.includes(ue)),D=Pn(a,"Blueberry").filter(ue=>!u?.includes(ue)),H=Pn(a.opponent,"Donut").filter(ue=>!u?.includes(ue)),Y=Pn(a.opponent,"Blueberry").filter(ue=>!u?.includes(ue));(b.length>0||D.length>0||H.length>0||Y.length>0)&&(h=[...b,...D,...H,...Y])}return h.filter(b=>{let D=!0;return u&&(D=!u.includes(b)),D&&b.health>0})})(s).length;for(let u=0;u<e;u++){const h=Dt(a,s,t);if(null==h.pet)break;s.push(h.pet),n.push(h.pet)}return{pets:n,random:c>n.length}},Dt=(a,e,t=!1)=>{let i=[...a.opponent.petArray,...a.petArray];if(!t){const s=Pn(a,"Donut").filter(h=>!e?.includes(h)),r=Pn(a,"Blueberry").filter(h=>!e?.includes(h)),c=Pn(a.opponent,"Donut").filter(h=>!e?.includes(h)),u=Pn(a.opponent,"Blueberry").filter(h=>!e?.includes(h));(s.length>0||r.length>0||c.length>0||u.length>0)&&(i=[...c,...u,...s,...r])}return i=i.filter(s=>{let r=!0;return e&&(r=!e.includes(s)),r&&s.health>0}),0===i.length?{pet:null,random:!1}:{pet:i[Ot(0,i.length-1)],random:i.length>1}};var gT=w(4528),mT=Math.floor,fT=Math.random;const kR=function yT(a,e){return a+mT(fT()*(e-a+1))},gl=function wR(a,e){var t=-1,i=a.length,n=i-1;for(e=void 0===e?i:e;++t<e;){var s=kR(t,n),r=a[s];a[s]=a[t],a[t]=r}return a.length=e,a},vT=function Vd(a){return gl((0,gT.A)(a))},ZA=function bT(a,e){for(var t=-1,i=null==a?0:a.length,n=Array(i);++t<i;)n[t]=e(a[t],t,a);return n};var eS=w(4429);const ST=function AT(a){return null==a?[]:function TR(a,e){return ZA(e,function(t){return a[t]})}(a,(0,eS.A)(a))},_T=function PT(a){return gl(ST(a))};var go=w(3744);const xn=function tS(a){return((0,go.A)(a)?vT:_T)(a)};class TT{getRandomPet(e,t,i,n,s,r){return be(this,e,t,i,n,s,r)}getRandomPets(e,t,i,n,s,r){return xe(this,e,t,i,n,s,r)}getRandomEnemyPetsWithSillyFallback(e,t,i,n,s){return((a,e,t,i,n,s)=>{if(s&&Bt(s)){const r=t?[...t]:[];return r.includes(s)||r.push(s),xe(a,e,r,i,n,void 0,!0)}return xe(a.opponent,e,t,i,n,s)})(this,e,t,i,n,s)}getPetsWithEquipmentWithSillyFallback(e,t){return((a,e,t)=>t&&Bt(t)?[...Pn(a,e),...Pn(a.opponent,e)]:Pn(a.opponent,e))(this,e,t)}getRandomLivingPets(e){return pt(this,e)}getAll(e,t,i){return((a,e,t,i)=>{if(t&&Bt(t))return{pets:[...a.petArray,...a.opponent.petArray].filter(r=>r.alive),random:!1};let n=e?[...a.petArray,...a.opponent.petArray]:[...a.petArray];return i&&(n=n.filter(s=>s!==t)),n=n.filter(s=>s.alive),{pets:n,random:!1}})(this,e,t,i)}getPetsWithEquipment(e){return Pn(this,e)}getPetsWithoutEquipment(e){return((a,e)=>{const t=[];for(const i of a.petArray)i.alive&&("Perk"===e?(!i.equipment||i.equipment.name.startsWith("ailment"))&&t.push(i):(!i.equipment||i.equipment.name!==e)&&t.push(i));return t})(this,e)}getPetAtPosition(e){return Jo(this,e)}getMiddleFriend(e){return((a,e)=>{if(e&&Bt(e))return Dt(a,[e],!0);const t=a.getPet(2);return t&&!t.alive?{pet:null,random:!1}:{pet:t??null,random:!1}})(this,e)}getLastPet(e,t){return((a,e,t)=>{if(t&&Bt(t))return Dt(a,[t],!0);for(const i of[...a.petArray].reverse())if(i.alive&&(!e||!e.includes(i)))return{pet:i,random:!1};return{pet:null,random:!1}})(this,e,t)}getLastPets(e,t,i){return((a,e,t,i)=>{if(i&&Bt(i))return pt(a,e,!0,[i]);const n=[...a.petArray].filter(c=>c.alive&&(!t||!t.includes(c)));return 0===n.length?{pets:[],random:!1}:{pets:[...n].reverse().slice(0,e),random:!1}})(this,e,t,i)}getHighestHealthPet(e,t){return((a,e,t)=>{if(t&&Bt(t))return Dt(a,[t],!0);const i=a.petArray;let n=[];for(const s of i)if(s!==e&&s.alive){if(0===n.length){n=[s];continue}if(s.health===n[0].health){n.push(s);continue}s.health>n[0].health&&(n=[s])}return 0===n.length?{pet:null,random:!1}:{pet:n[Ot(0,n.length-1)],random:n.length>1}})(this,e,t)}getHighestAttackPet(e,t){return((a,e,t)=>{if(t&&Bt(t))return Dt(a,[t],!0);const i=a.petArray;let n=[];for(const r of i)if(r!==e&&r.alive){if(0===n.length){n=[r];continue}if(r.attack===n[0].attack){n.push(r);continue}r.attack>n[0].attack&&(n=[r])}const s=0===n.length?null:n[Ot(0,n.length-1)];return{pet:s,random:null!=s&&n.length>1}})(this,e,t)}getHighestAttackPets(e,t,i){return((a,e,t,i)=>{if(i&&Bt(i))return pt(a,e,!0,[i]);const n=[...a.petArray].filter(u=>u.alive&&(!t||!t.includes(u)));if(0===n.length)return{pets:[],random:!1};const s=xn(n);s.sort((u,h)=>h.attack-u.attack);const r=s.slice(0,e);let c=!1;return r.length===e&&s.length>e&&r[e-1].attack===s[e].attack&&(c=!0),{pets:r,random:c}})(this,e,t,i)}getLowestAttackPets(e,t,i){return((a,e,t,i)=>{if(i&&Bt(i))return pt(a,e,!0,[i]);const n=[...a.petArray].filter(u=>u.alive&&(!t||!t.includes(u)));if(0===n.length)return{pets:[],random:!1};const s=xn(n);s.sort((u,h)=>u.attack-h.attack);const r=s.slice(0,e);let c=!1;return r.length===e&&s.length>e&&r[e-1].attack===s[e].attack&&(c=!0),{pets:r,random:c}})(this,e,t,i)}getLowestAttackPet(e,t){return((a,e,t)=>{if(t&&Bt(t))return Dt(a,[t],!0);const i=a.petArray;let n=[];for(const r of i)if(r!==e&&r.alive){if(0===n.length){n=[r];continue}if(r.attack===n[0].attack){n.push(r);continue}r.attack<n[0].attack&&(n=[r])}const s=0===n.length?null:n[Ot(0,n.length-1)];return{pet:s,random:null!=s&&n.length>1}})(this,e,t)}getLowestHealthPet(e,t){return((a,e,t)=>{if(t&&Bt(t))return Dt(a,[t],!0);const i=a.petArray;let n=[];for(const r of i)if(r!==e&&r.alive){if(0===n.length){n=[r];continue}if(r.health===n[0].health){n.push(r);continue}r.health<n[0].health&&(n=[r])}const s=0===n.length?null:n[Ot(0,n.length-1)];return{pet:s,random:null!=s&&n.length>1}})(this,e,t)}getLowestHealthPets(e,t,i){return((a,e,t,i)=>{if(i&&Bt(i))return pt(a,e,!0,[i]);const n=[...a.petArray].filter(u=>u.alive&&(!t||!t.includes(u)));if(0===n.length)return{pets:[],random:!1};const s=xn(n);s.sort((u,h)=>u.health-h.health);const r=s.slice(0,e);let c=!1;return r.length===e&&s.length>e&&r[e-1].health===s[e].health&&(c=!0),{pets:r,random:c}})(this,e,t,i)}getHighestHealthPets(e,t,i){return((a,e,t,i)=>{if(i&&Bt(i))return pt(a,e,!0,[i]);const n=[...a.petArray].filter(u=>u.alive&&(!t||!t.includes(u)));if(0===n.length)return{pets:[],random:!1};const s=xn(n);s.sort((u,h)=>h.health-u.health);const r=s.slice(0,e);let c=!1;return r.length===e&&s.length>e&&r[e-1].health===s[e].health&&(c=!0),{pets:r,random:c}})(this,e,t,i)}getHighestTierPets(e,t,i){return((a,e,t,i)=>{if(i&&Bt(i))return pt(a,e,!0,[i]);const n=[...a.petArray].filter(u=>u.alive&&(!t||!t.includes(u)));if(0===n.length)return{pets:[],random:!1};const s=xn(n);s.sort((u,h)=>h.tier-u.tier);const r=s.slice(0,e);let c=!1;return r.length===e&&s.length>e&&r[e-1].tier===s[e].tier&&(c=!0),{pets:r,random:c}})(this,e,t,i)}getTierXOrLowerPet(e,t,i){return((a,e,t,i)=>{if(i&&Bt(i))return Dt(a,[i],!0);const n=[...a.petArray].filter(r=>r.alive&&r.tier<=e&&(!t||!t.includes(r)));return 0===n.length?{pet:null,random:!1}:{pet:n[Ot(0,n.length-1)],random:n.length>1}})(this,e,t,i)}get furthestUpPet(){for(const e of this.petArray)if(e.alive)return e;return null}getFurthestUpPet(e,t){return((a,e,t)=>{if(e&&Bt(e))return Dt(a,[e],!0);for(const i of a.petArray)if(i.alive){if(t&&t.includes(i))continue;return{pet:i,random:!1}}return{pet:null,random:!1}})(this,e,t)}getFurthestUpPets(e,t,i){return((a,e,t,i)=>{if(i&&Bt(i))return pt(a,e,!0,[i]);const n=[...a.petArray].filter(r=>r.alive&&(!t||!t.includes(r)));return 0===n.length?{pets:[],random:!1}:{pets:n.slice(0,e),random:!1}})(this,e,t,i)}nearestPetsBehind(e,t,i){return((a,e,t,i)=>{if(t&&Bt(t)){const c=i?[...i]:[];return c.includes(t)||c.push(t),pt(a,e,!0,c)}return{pets:t.getPetsBehind(2*e).filter(c=>!i||!i.includes(c)).slice(0,e),random:!1}})(this,e,t,i)}getThis(e){return((a,e)=>e&&Bt(e)?Dt(a,[e],!0):{pet:e,random:!1})(this,e)}getSpecificPet(e,t){return((a,e,t)=>e&&Bt(e)?Dt(a,void 0,!0):t&&t.alive?{pet:t,random:!1}:{pet:null,random:!1})(this,e,t)}nearestPetsAhead(e,t,i,n,s){return((a,e,t,i,n,s)=>{if(t&&Bt(t)){const u=i?[...i]:[];return u.includes(t)||u.push(t),pt(a,e,!0,u)}const r=[];let c=t.petAhead;for(;c&&!(r.length>=e);)s&&c.equipment?.name===s||(!i||!i.includes(c))&&r.push(c),c=c.petAhead;if(r.length<e&&n){let u=a.opponent.furthestUpPet;for(;u&&!(r.length>=e);)s&&u.equipment?.name===s||(!i||!i.includes(u))&&r.push(u),u=u.petBehind()}return{pets:r,random:!1}})(this,e,t,i,n,s)}getStrongestPet(e){return((a,e)=>{if(e&&Bt(e))return Dt(a,[e],!0);let t=[],i=-1;const n=xn(a.petArray.filter(r=>r.alive));for(const r of n){const c=r.attack+r.health;c>i?(i=c,t=[r]):c===i&&t.push(r)}return 0===t.length?{pet:null,random:!1}:{pet:t[Ot(0,t.length-1)],random:t.length>1}})(this,e)}getManticoreMult(){return(a=>{const e=[];for(const t of a.petArray)if(t.hasTrigger(void 0,"Pet","ManticoreAbility"))for(const i of t.abilityList)"ManticoreAbility"===i.name&&e.push(i.level);return e})(this)}getPetsWithinXSpaces(e,t){return((a,e,t)=>{if(e&&Bt(e))return pt(a,2*t,!0,[e]);const i=e.savedPosition,n=[];for(const s of a.petArray)if(s.alive&&s!==e){const r=Math.abs(s.position-i);r>0&&r<=t&&n.push(s)}for(const s of a.opponent.petArray)s.alive&&i+s.position+1<=t&&n.push(s);return{pets:n,random:!1}})(this,e,t)}getOppositeEnemyPet(e){return((a,e)=>{if(e&&Bt(e))return Dt(a,[e],!0);const t=e.position;let i=Jo(a.opponent,t);if(i&&i.alive)return{pet:i,random:!1};for(let n=1;n<=4;n++){if(i=Jo(a.opponent,t+n),i&&i.alive)return{pet:i,random:!1};if(i=Jo(a.opponent,t-n),i&&i.alive)return{pet:i,random:!1}}return{pet:null,random:!1}})(this,e)}getRandomLivingPet(e){return Dt(this,e)}}class wm extends TT{pushPetToFront(e,t=!1){((a,e,t)=>{Uc(this,e,4,t,this.logService,this.abilityService)})(0,e,t)}pushPetToBack(e){((a,e)=>{Uc(this,e,-4,!1,this.logService,this.abilityService)})(0,e)}pushPet(e,t=1,i){Uc(this,e,t,i,this.logService,this.abilityService)}}class Kd extends Ce{name="Dazed";equipmentClass="ailment-other"}class ml extends Ce{name="Crisp";equipmentClass="ailment-other"}class Sr extends Ce{name="Toasty";equipmentClass="ailment-other";uses=1;originalUses=1}const ET=[{name:"FairyAbility",label:"FairyBall",perLevel:2},{name:"NurikabeAbility",label:"Nurikabe",perLevel:4,incrementUses:!0},{name:"FanMusselAbility",label:"Fan Mussel",perLevel:1,incrementUses:!0},{name:"GhostKittenAbility",label:"Ghost Kitten",perLevel:3}];class Tm{static applyDamage(e){const{pet:t,baseDamage:i,perkName:n,manticoreMultipliers:s,logService:r,afterDamage:c}=e,u=t.equipment;if(!u)return;let h=u.multiplier;for(let ue of s)h+=ue;const D=this.applyAbilityReductions(t,i*h),H=D.damage,Y=this.buildLogMessage({pet:t,finalDamage:H,equipment:u,perkName:n,reductions:D.reductions,manticoreMultipliers:s});r.createLog({message:Y,type:"ability",player:t.parent}),t.dealDamage(t,H),c&&c(t)}static applyAbilityReductions(e,t){let i=t;const n=[];for(const s of ET){if(i<=0)break;if(!e.hasTrigger(void 0,"Pet",s.name))continue;let r=0;for(const c of e.abilityList){if(c.name!==s.name)continue;const u=c.level*s.perLevel;0!==u&&(r+=u,i=Math.max(0,i-u),s.incrementUses&&c.currentUses++)}r>0&&n.push({label:s.label,amount:r})}return{damage:i,reductions:n}}static buildLogMessage(e){let t=`${e.pet.name} took ${e.finalDamage} damage`;if(e.manticoreMultipliers.length>0)for(const i of e.manticoreMultipliers)t+=` x${i+1} (Manticore)`;e.equipment.multiplier>1&&(t+=e.equipment.multiplierMessage);for(const i of e.reductions)t+=` -${i.amount} (${i.label})`;return t+=` (${e.perkName}).`,t}}class zd extends Ce{name="Peanut";tier=7;equipmentClass="attack";power=0}class Wc extends Ce{name="Peanut Butter";equipmentClass="attack";tier=7;power=0;uses=1;originalUses=1}class sS extends Ce{logService;name="White Truffle";equipmentClass="faint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new CT(e,t,this.logService))};constructor(e){super(),this.logService=e}}class CT extends E{equipment;logService;constructor(e,t,i){super({name:"WhiteTruffleAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const{tiger:s}=e,r=this.owner;for(let c=0;c<this.equipment.multiplier;c++){let u=r.parent.opponent.getHighestAttackPet(void 0,r);u.pet&&(r.jumpAttackPrep(u.pet),r.jumpAttack(u.pet,s,null,u.random))}r.removePerk()}}class Yd extends Ce{name="Salt";tier=4;equipmentClass="attack";uses=1;originalUses=1}class Em extends Ce{name="Cheese";equipmentClass="attack";uses=1;originalUses=1}class Cm extends Ce{name="Fortune Cookie";equipmentClass="attack";constructor(){super()}}class Dm extends Ce{name="Pepper";equipmentClass="shield";uses=1;originalUses=1;power=0;originalPower=0}class Xt extends Ce{name="Icky";equipmentClass="ailment-other";uses=2;originalUses=2}class Vc extends Ce{name="Sleepy";equipmentClass="ailment-other"}class Kc extends Ce{name="Maple Syrup";tier=5;equipmentClass="shield";power=0;originalPower=0;uses=3;originalUses=3}class Xd extends Ce{name="Maple Syrup (Attack)";equipmentClass="attack";power=0;originalPower=0}class fl extends Ce{name="Guava";tier=3;equipmentClass="shield";power=3;originalPower=3;uses=1;originalUses=1}class DT extends Ce{name="Guava (Attack)";equipmentClass="attack";power=3;originalPower=3}class Jd extends Ce{name="Honeydew Melon";tier=5;equipmentClass="shield";power=10;originalPower=10;uses=1;originalUses=1}class zc extends Ce{name="Honeydew Melon (Attack)";equipmentClass="attack";power=5;originalPower=5}function Yc(a,e,t,i){if(!e||!i.includes(e))return a;let n=a;for(const s of t)n+=s;return n}function Mm(a,e,t){if("Icky"!==e?.name)return a;let i=2;for(const n of t)i+=n;return i+=(e.multiplier??1)-1,a*i}function xm(a,e,t){const i=t?.includeGhostKitten??!1,n=t?.fairyMinimumOne??!1,s=t?.fairyRequiresPositiveDamage??!0,r=t?.nurikabeConsumesOnZeroHit??!1,c=t?.fanMusselConsumesOnZeroHit??!1;let u=e,h=0,b=0,D=0,H=0;const Y=!s||u>0;if(a.hasTrigger(void 0,"Pet","FairyAbility")&&Y){for(const ye of a.abilityList)if("FairyAbility"==ye.name){const _e=2*ye.level;h+=_e,u=Math.max(0,u-_e)}n&&u<1&&(u=1)}if(a.hasTrigger(void 0,"Pet","NurikabeAbility")&&(u>0||r&&e<=0))for(const ye of a.abilityList)if("NurikabeAbility"==ye.name){const _e=4*ye.level;b+=_e,u>0&&(u=Math.max(0,u-_e)),ye.currentUses++}if(a.hasTrigger(void 0,"Pet","FanMusselAbility")&&(u>0||c&&e<=0))for(const ye of a.abilityList)if("FanMusselAbility"==ye.name){const _e=ye.level;D+=_e,u>0&&(u=Math.max(0,u-_e)),ye.currentUses++}if(i&&a.hasTrigger(void 0,"Pet","GhostKittenAbility")&&u>0)for(const ye of a.abilityList)if("GhostKittenAbility"==ye.name){const _e=3*ye.level;H+=_e,u=Math.max(0,u-_e)}return{damage:u,fairyBallReduction:h,nurikabe:b,fanMusselReduction:D,ghostKittenReduction:H}}function yl(a,e,t,i,n=!1){let s=a.equipment?.multiplier??1,r=e.equipment?.multiplier??1;const c=["Cold","Weak","Spooked"],u=["Inked"];let b,D,h="defense"==e.equipment?.equipmentClass||"shield"==e.equipment?.equipmentClass||"ailment-defense"==e.equipment?.equipmentClass||n&&"shield-snipe"==e.equipment?.equipmentClass?e.equipment:null;if(null!=h)if("Strawberry"===h.name){const bt=e.getSparrowLevel();bt<=0||null!=h.uses&&h.uses<=0?h=null:h.power=5*bt}else r=Yc(r,h?.name??"",t,c),h.power=(h.originalPower??h.power??0)*r;if(n)b="attack-snipe"==a.equipment?.equipmentClass?a.equipment:null,D=(i??0)+(b?.power??0),h instanceof Kc&&(h=null);else{b=a.equipment instanceof Jd?new zc:a.equipment instanceof Kc?new Xd:a.equipment instanceof fl?new DT:"attack"==a.equipment?.equipmentClass||"ailment-attack"==a.equipment?.equipmentClass?a.equipment:null,null!=b&&(s=Yc(s,b?.name??"",t,u),b.power=(b.originalPower??b.power??0)*s);let bt=a.attack;"Monty"==a.name&&(bt*=a.level+1),D=(i??bt)+(b?.power??0)}let H=h?.power??0,Y=e.getSparrowLevel();"Strawberry"===e.equipment?.name&&Y>0&&(H+=5*Y),e.equipment instanceof Kc&&e.equipment.uses>0&&!n&&(D=Math.floor(D*Math.pow(.5,r))),b instanceof Yd&&!n&&(D*=2+s-1),b instanceof Xd&&!n&&(D=Math.floor(D*Math.pow(.5,s)));let he=!1;b instanceof Cm&&!n&&Math.random()<.5&&(D*=2+s-1,he=!0),b instanceof Em&&!n&&(D=Math.max(15,D)),D=Mm(D,e.equipment,t);let _e,ye="shield"==h?.equipmentClass||"shield-snipe"==h?.equipmentClass?0:1;void 0!==h?.minimumDamage&&(ye=h.minimumDamage),_e=D<=ye&&H>0?Math.max(D,0):Math.max(ye,D-H),"Inked"===a.equipment?.name&&_e>0&&(_e=Math.max(0,_e-3)),h instanceof Dm&&(_e=Math.min(_e,e.health-1));const qe=xm(e,_e,{includeGhostKitten:n,fairyMinimumOne:!0,fairyRequiresPositiveDamage:!1,nurikabeConsumesOnZeroHit:!0,fanMusselConsumesOnZeroHit:!0});return _e=qe.damage,{defenseEquipment:h,attackEquipment:b,damage:_e,fortuneCookie:he,nurikabe:qe.nurikabe,fairyBallReduction:qe.fairyBallReduction,fanMusselReduction:qe.fanMusselReduction,mapleSyrupReduction:0,ghostKittenReduction:qe.ghostKittenReduction}}function Zo(a,e,t){if(e.alive){if(t>=e.health&&"Bok Choy"==e.equipment?.name){let i=4*e.equipment.multiplier;a.createLog({message:`${e.name} gained ${i} health (Bok Choy) ${e.equipment.multiplierMessage} `,type:"equipment",player:e.parent}),e.increaseHealth(i),e.removePerk()}e.health-=t,e.health<=0&&(e.killedBy=a),t>0&&e.timesHurt++,e.health<1&&a.triggerKillEventsFor(e),t>0&&a.triggerHurtEventsFor(e,t)}}class Xc extends Ce{name="Ambrosia";tier=4;equipmentClass="shield";power=8;originalPower=8;uses=1;originalUses=1}class mo extends Ce{name="White Okra";tier=6;equipmentClass="shield";power=10;originalPower=10;uses=2;originalUses=2}class Jc extends Ce{logService;name="Strawberry";equipmentClass="shield";tier=1;uses=2;originalUses=2;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new xT(e,t,this.logService))};constructor(e){super(),this.logService=e}}class xT extends E{equipment;logService;constructor(e,t,i){super({name:"StrawberryAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,maxUses:t.originalUses,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner,i=t.parent.getLastPet();if(i.pet){const n=1*this.equipment.multiplier;this.logService.createLog({message:`${t.name} (Strawberry) gave ${i.pet.name} +${n} attack and +${n} health${this.equipment.multiplierMessage}.`,type:"equipment",player:t.parent,randomEvent:i.random}),i.pet.increaseAttack(n),i.pet.increaseHealth(n)}}}class Rm extends Ce{name="Blackberry";tier=3;equipmentClass="shop";constructor(){super()}}class lS{setAbilityEquipments(){"Eggplant"==this.equipment?.name?(this.equipment.callback(this),this.eggplantTouched=!0):this.equipment?.callback&&this.equipment.callback(this)}getEquippedEquipmentInstance(e){return this.equipment??e}addAbility(e){this.abilityList.push(e)}removeAbility(e,t){const i=this.abilityList.length;return this.abilityList=this.abilityList.filter(n=>!(e&&n.name===e||t&&n.abilityType===t||!e&&!t)),this.abilityList.length<i}getAbilities(e,t){return this.abilityList.filter(i=>!(e&&!i.matchesTrigger(e)||t&&i.abilityType!==t))}getAbilitiesWithTrigger(e,t,i){return this.abilityList.filter(n=>!(e&&!n.matchesTrigger(e)||!n.canUse()||t&&n.abilityType!==t||i&&n.name!==i))}executeAbilities(e,t,i,n,s,r){if(this.transformed&&this.transformedInto)return void this.transformedInto.executeAbilities(e,t,i,n,s,r);const c=this.getAbilitiesWithTrigger(e,"Pet");for(const h of c)if(h.execute(t,i,n,s,r),this.transformed&&this.transformedInto)return void this.transformedInto.executeAbilities(e,t,i,n,s,r);const u=this.getAbilitiesWithTrigger(e,"Equipment");for(const h of u)if(h.execute(t,i,n,s,r),this.transformed&&this.transformedInto)return void this.transformedInto.executeAbilities(e,t,i,n,s,r)}activateAbilities(e,t,i,n,s){const r=this.getAbilities(e,i);for(const c of r)c.execute(t,n,void 0,void 0,s)}copyAbilities(e,t,i){const n=e.getAbilities(void 0,t);this.removeAbility(void 0,t);for(const s of n){const r=s.copy(this);if(null==r)continue;i&&(r.abilityLevel=i,r.alwaysIgnorePetLevel=!0,r.reset()),r.native=!1;const c=r.abilityFunction,u=e.name;r.abilityFunction=h=>{const b=this.name;this.name=`${this.baseName??b}'s ${u}`;try{c(h)}finally{this.name=b}},this.addAbility(r)}}gainAbilities(e,t,i){const n=e.getAbilities(void 0,t);for(const s of n){const r=s.copy(this);if(null==r)continue;i&&(r.abilityLevel=i,r.alwaysIgnorePetLevel=!0,r.reset()),r.native=!1;const c=r.abilityFunction,u=e.name;r.abilityFunction=h=>{const b=this.name;this.name=`${this.baseName??b}'s ${u}`;try{c(h)}finally{this.name=b}},this.addAbility(r)}}hasAbility(e,t){return this.getAbilities(e,t).length>0}hasTrigger(e,t,i){return this.getAbilitiesWithTrigger(e,t,i).length>0}isSellPet(){return!!(["Beaver","Duck","Pig","Pillbug","Kiwi","Mouse","Frog","Bass","Tooth Billed Pigeon","Marmoset","Capybara","Platypus"].includes(this.name)||this.originalAbilityList.filter(t=>t.matchesTrigger("ThisSold")&&"Pet"==t.abilityType).length>0)}isFaintPet(){return this.originalAbilityList.filter(e=>(e.matchesTrigger("PostRemovalFaint")||e.matchesTrigger("Faint"))&&"Pet"==e.abilityType).length>0}}class IT extends lS{givePetEquipment(e,t=1){if(null!=e){if(this.alive){if("Bloated"===this.equipment?.name&&!e.equipmentClass?.startsWith("ailment"))return this.logService.createLog({message:`${this.name} blocked gaining ${e.name}. (Bloated)`,type:"equipment",player:this.parent}),void this.removePerk();if(!this.handleCorncobEquipment(e))if("ailment-attack"==e.equipmentClass||"ailment-defense"==e.equipmentClass||"ailment-other"==e.equipmentClass){if(this.applyAilmentEquipment(e,t))return}else this.applyStandardEquipment(e,t)}}else console.warn(`givePetEquipment called with null equipment for pet: ${this.name}`)}applyEquipment(e,t=1){null!=e&&(this.equipment=e,this.setEquipmentMultiplier(t),this.removeAbility(void 0,"Equipment"),this.equipment.callback&&this.equipment.callback(this))}removePerk(e=!1){if(null==this.equipment)return;let t="ailment-attack"==this.equipment.equipmentClass||"ailment-defense"==this.equipment.equipmentClass||"ailment-other"==this.equipment.equipmentClass;e&&t||(this.lastLostEquipment=this.equipment,this.removeAbility(void 0,"Equipment"),this.equipment=null,t||this.abilityService.triggerPerkLossEvents(this,this.lastLostEquipment?.name))}setEquipmentMultiplier(e=1){if(!this.equipment)return;const t=this.equipment.baseMultiplier??this.equipment.multiplier??1;this.equipment.baseMultiplier=t;let i=t,n=[];"Panther"===this.name&&"ailment-attack"!==this.equipment.equipmentClass&&"ailment-defense"!==this.equipment.equipmentClass&&"ailment-other"!==this.equipment.equipmentClass&&(i+=this.level,n.push(`x${this.level+1} (Panther)`)),e&&e>1&&(i+=e-1,n.push(`x${e} (Pandora's Box)`)),this.equipment.multiplier=i,this.equipment.multiplierMessage=n.length>0?` ${n.join(" ")}`:""}handleCorncobEquipment(e){if("Corncob"!==e.name)return!1;const i=Math.max(1,Math.floor(e.effectMultiplier??1));return this.attack<=this.health?this.increaseAttack(i):this.increaseHealth(i),this.abilityService.triggerFoodEvents(this,"corn"),!0}applyAilmentEquipment(e,t){return!(this.equipment?.name!==e.name&&(this.equipment instanceof Xc?(this.equipment.uses--,this.logService.createLog({message:`${this.name} blocked ${e.name}. (Ambrosia)`,type:"equipment",player:this.parent}),0==this.equipment.uses&&this.removePerk(),0):this.equipment instanceof mo?(this.logService.createLog({message:`${this.name} blocked ${e.name}. (White Okra)`,type:"equipment",player:this.parent}),this.removePerk(),0):this.equipment instanceof Jc&&this.getSparrowLevel()>0&&this.equipment.uses>0?(this.logService.createLog({message:`${this.name} blocked ${e.name}. (Strawberry)`,type:"equipment",player:this.parent}),this.removePerk(),0):(null!=this.equipment&&this.removePerk(!0),this.applyEquipment(e,t),this.abilityService.triggerAilmentGainEvents(this,e.name),0)))}applyStandardEquipment(e,t){if(e instanceof Rm){this.applyEquipment(e,t);const i=1*e.multiplier,n=2*e.multiplier;this.increaseAttack(i),this.increaseHealth(n),this.logService.createLog({message:`${this.name} gained ${i} attack and ${n} health (Blackberry)${e.multiplierMessage}`,type:"equipment",player:this.parent})}else this.applyEquipment(e,t);this.abilityService.triggerPerkGainEvents(this,e.name),this.abilityService.triggerFoodEvents(this,e.name)}}class cS extends IT{petBehind(e=!1,t=!1){if(!this.parent)return null;for(let n=(void 0!==this.position?this.position:this.savedPosition)+1;n<5;n++){let s=this.parent.getPetAtPosition(n);if(t&&null!=s)return s;if(e&&null!=s&&!s.alive&&!s.seenDead)return null;if(null!=s&&s.alive)return s}return null}getManticoreMult(){const e=this.parent;if(!e||!e.petArray)return[];let t=[];for(let i of e.petArray)"Manticore"==i.name&&t.push(i.level);return t}getSparrowLevel(){const e=this.parent;if(!e||!Array.isArray(e.petArray))return 0;let t=0;for(let i of e.petArray)"Sparrow"==i.name&&(t=Math.max(t,i.level));return t}getPetsBehind(e,t){const i=this.getSillyRandomTargets(e,t);if(i.length>0)return i;let n=[],s=this.petBehind();for(t&&s&&s.equipment?.name===t&&(s=s.petBehind());s&&!(n.length>=e);)n.push(s),s=s.petBehind();return n}kitsuneCheck(){let e=this.petBehind(),t=!0;for(;e;){if("Kitsune"==e.name&&t)return!1;if(t=!1,"Kitsune"==e.name)return!0;e=e.petBehind()}return!1}get petAhead(){const e=this.parent;if(!e)return null;for(let i=(void 0!==this.position?this.position:this.savedPosition)-1;i>-1;i--){let n=e.getPetAtPosition(i);if(null!=n&&n.alive)return n}return null}get minExpForLevel(){return Hd(this.level)}getSillyRandomTargets(e,t){if(!this.parent?.opponent)return[];const i=this.equipment;if(!("string"==typeof i&&"Silly"===i||i&&"string"==typeof i.name&&"Silly"===i.name))return[];const r=[],c=[...[...this.parent.petArray,...this.parent.opponent.petArray].filter(u=>!(!u.alive||u===this||t&&u.equipment?.name===t))];for(;r.length<e&&c.length>0;){const u=Ot(0,c.length-1);r.push(c.splice(u,1)[0])}return r}}class RT extends cS{initAbilities(){this.initAbilityUses(),this.setAbilityEquipments()}abilityValidCheck(){return!(null==this.savedPosition||this.equipment instanceof Kd&&(this.logService.createLog({message:`${this.name}'s ability was not activated because of Dazed.`,type:"ability",player:this.parent}),1))}resetAbilityUses(){this.abilityList.forEach(e=>{e.reset()})}initAbilityUses(){this.abilityList.forEach(e=>{e.initUses()})}attackPet(e,t=!1,i,n=!1){!function Qo(a,e,t=!1,i,n=!1){a.timesAttacked++;let s=yl(a,e,a.getManticoreMult(),i),r=s.attackEquipment,c=s.defenseEquipment,u=s.damage;const h=a.equipment instanceof Vc;h&&(u=Math.floor(u/2));let H,b=a.equipment?.multiplier??1,D=e.equipment?.multiplier??1;if(a.currentTarget=e,t?(H=`${a.name} jump-attacks ${e.name} for ${u}.`,a.equipment instanceof sS&&(H+=" (White Truffle)")):H=`${a.name} attacks ${e.name} for ${u}.`,h&&(H+=" (Sleepy x0.5)"),r instanceof zd&&u>0)a.createLog({message:`${H} (Peanut)`,type:"attack",player:a.parent,sourcePet:a,targetPet:e,randomEvent:n}),Zo(a,e,u),e.killedBy=a,e.health=0;else if(r instanceof Wc&&u>0&&r.uses>0)a.createLog({message:`${H} (Peanut Butter)`,type:"attack",player:a.parent,sourcePet:a,targetPet:e,randomEvent:n}),e.killedBy=a,Zo(a,e,u),e.health=0;else{if(Zo(a,e,u),null!=r){const Ve=r.power??0;let Ie="-";Ve>0&&(Ie="+");let Ze=`${Ie}${Math.abs(Ve)}`;r instanceof Yd&&(Ze="x2"),r instanceof Xd&&(Ze="x0.5"),r instanceof Em&&(Ze=u<=15?"=15":"+0"),r instanceof Cm&&(n=!0,s.fortuneCookie?(Ze="x2",r.multiplier>1&&(Ze+=r.multiplierMessage)):Ze="x1"),H+=` (${r.name} ${Ze})`,b>1&&a.equipment&&(H+=a.equipment.multiplierMessage)}if(null!=c){const Ve=c.power??0;let je=Math.abs(Ve),Ie="-";if(Ve<0&&(Ie="+"),"Coconut"===c.name)H+=` (${c.name} block)`;else if("Strawberry"===c.name){let Ze=e.getSparrowLevel();Ze>0&&(je=5*Ze,H+=` (Strawberry -${je} (Sparrow))`)}else c instanceof Dm?(Ie=1==e.health?"!":"-",je="",H+=` (${c.name} ${Ie}${je})`):c instanceof Kc?(je="x0.5",H+=` (${c.name} ${je})`):H+=` (${c.name} ${Ie}${je})`;D>1&&e.equipment&&(H+=e.equipment.multiplierMessage)}e.equipment instanceof Xt&&(H+="x2 (Icky)",e.equipment.multiplier>1&&(H+=e.equipment.multiplierMessage)),s.nurikabe>0&&(H+=` -${s.nurikabe} (Nurikabe)`),(s.fairyBallReduction??0)>0&&(H+=` -${s.fairyBallReduction} (Fairy Ball)`),(s.fanMusselReduction??0)>0&&(H+=` -${s.fanMusselReduction} (Fan Mussel)`),(s.ghostKittenReduction??0)>0&&(H+=` -${s.ghostKittenReduction} (Ghost Kitten)`),(s.mapleSyrupReduction??0)>0&&(H+=` -${s.mapleSyrupReduction} (Maple Syrup)`);let ue=a.getManticoreMult(),_e=["Weak","Cold","Icky","Spooked"].includes(e.equipment?.name??"");if(ue.length>0&&_e)for(let Ve of ue)H+=` x${Ve+1} (Manticore)`;a.createLog({message:H,type:"attack",player:a.parent,sourcePet:a,targetPet:e,randomEvent:n}),("skewer"==a.equipment?.equipmentClass?a.equipment:null)?.attackCallback?.(a,e)}h&&a.removePerk(),a.triggerAttackEventsFor(),a.applyCrisp();const Y=a.parent.opponent?.petArray?.[0];Y&&Y.applyCrisp()}(this,e,t,i,n)}applyCrisp(){const e=this.parent,t=e?.opponent;if(!e||!t)return;const i=t.getManticoreMult();for(let n of e.petArray)n.equipment instanceof ml?Tm.applyDamage({pet:n,baseDamage:6,perkName:"Crisp",manticoreMultipliers:i,logService:this.logService,afterDamage:s=>s.removePerk()}):n.equipment instanceof Sr&&n.equipment.uses>0&&Tm.applyDamage({pet:n,baseDamage:1,perkName:"Toasty",manticoreMultipliers:i,logService:this.logService,afterDamage:s=>{s.equipment.uses--,s.equipment.uses<=0&&s.removePerk()}})}snipePet(e,t,i,n,s,r,c,u,h){return function Qd(a,e,t,i,n,s,r,c,u="sniped",h){let b=!1;"Albatross"==a.petAhead?.name&&e.tier<=4&&(t+=3*a.petAhead.level,b=!0),"Albatross"==a.petBehind()?.name&&e.tier<=4&&(t+=3*a.petBehind().level,b=!0);let D=yl(a,e,a.getManticoreMult(),t,!0),H=D.attackEquipment,Y=D.defenseEquipment,ue=D.damage;"Kiwano"===a.equipment?.name&&ue>0&&(ue+=8,a.createLog({message:`${a.name} added +8 damage. (Kiwano)`,type:"equipment",player:a.parent}),a.removePerk()),Zo(a,e,ue);let he=`${a.name} ${u} ${e.name} for ${ue}.`;if(null!=h&&null!=a.equipment?.multiplier&&a.equipment.multiplier>1&&(he+=` (${h}*${a.equipment.multiplier})`),null!=Y){e.useDefenseEquipment(!0);const je=Y.power??0;let Ie=Math.abs(je),Ze="-";if(je<0&&(Ze="+"),"Coconut"===Y.name)he+=` (${Y.name} block)`;else if("Strawberry"===Y.name){let bt=e.getSparrowLevel();bt>0&&(Ie=5*bt,he+=` (Strawberry -${Ie} (Sparrow))`)}else he+=` (${Y.name} ${Ze}${Ie})`;he+=Y.multiplierMessage}if(null!=H&&"attack-snipe"==H.equipmentClass){const je=H.power??0;let Ie=Math.abs(je),Ze="-";je>0&&(Ze="+"),he+=` (${H.name} ${Ze}${Ie})`}a.equipment?.multiplier&&a.equipment.multiplier>1&&(he+=a.equipment.multiplierMessage),n&&(he+=" (Tiger)"),b&&(he+=" (Albatross)"),r&&a.equipment&&(he+=` (${a.equipment.name})`),c&&(he+=" (Mana)"),"Icky"==e.equipment?.name&&(he+="x2 (Icky)",e.equipment.multiplier>1&&(he+=e.equipment.multiplierMessage));let ye=a.getManticoreMult(),Ve=["Weak","Cold","Icky","Spooked"].includes(e.equipment?.name??"");if(ye.length>0&&Ve)for(let je of ye)he+=` x${je+1} (Manticore)`;return D.nurikabe>0&&(he+=` -${D.nurikabe} (Nurikabe)`),(D.fairyBallReduction??0)>0&&(he+=` -${D.fairyBallReduction} (Fairy Ball)`),(D.fanMusselReduction??0)>0&&(he+=` -${D.fanMusselReduction} (Fan Mussel)`),(D.ghostKittenReduction??0)>0&&(he+=` -${D.ghostKittenReduction} (Ghost Kitten)`),a.createLog({message:he,type:"attack",randomEvent:i,player:a.parent,sourcePet:a,targetPet:e,pteranodon:s}),null!=H&&"attack-snipe"==H.equipmentClass&&null!=a.equipment?.uses&&(a.equipment.uses-=1,a.equipment.uses<=0&&a.removePerk()),ue}(this,e,t,i,n,s,r,c,u,h)}calculateDamage(e,t,i,n=!1){return yl(this,e,t,i,n)}resetPet(){!function MT(a){a.health=a.originalHealth,a.attack=a.originalAttack,a.equipment=a.originalEquipment,a.lastLostEquipment=null,a.mana=a.originalMana,a.triggersConsumed=a.originalTriggersConsumed,a.foodsEaten=a.originalFoodsEaten,a.exp=a.originalExp,a.timesHurt=a.originalTimesHurt,a.timesAttacked=0,a.abilityCounter=0,a.transformed=!1,a.transformedInto=null,a.currentTarget=null,a.lastAttacker=null,a.killedBy=null,a.swallowedPets=[],a.targettedFriends.clear(),a.savedPosition=a.originalSavedPosition,a.abilityList=[...a.originalAbilityList],a.initAbilityUses(),a.done=!1,a.seenDead=!1,a.removed=!1,a.jumped=!1,a.clearFrontTriggered=!1;try{a.equipment?.reset()}catch(e){console.warn("equipment reset failed",a.equipment),console.error(e)}a.equipment&&(a.equipment.multiplier=a.equipment.baseMultiplier??1,a.equipment.multiplierMessage="")}(this)}jumpAttackPrep(e){this.abilityService.triggerBeforeAttackEvent(this),this.abilityService.triggerBeforeAttackEvent(e),this.abilityService.executeBeforeAttackEvents()}jumpAttack(e,t,i,n=!1){!function Im(a,e,t,i,n=!1){let s;e.lastAttacker=a,s=a.transformed?a.transformedInto??a:a,e.transformed&&(e=e.transformedInto??e),s.alive&&e.alive&&(s.attackPet(e,!0,i,n),e.attackPet(s),s.useAttackDefenseEquipment(),e.useAttackDefenseEquipment(),s.parent.checkPetsAlive(),e.parent.checkPetsAlive(),s.executeAfterAttackEvents(),s.triggerJumpEventsFor())}(this,e,0,i,n)}get alive(){return this.health>0}setFaintEventIfPresent(){if(this.abilityService.triggerFaintEvents(this),this.mana>0){if(this.suppressManaSnipeOnFaint)return;this.abilityService.setManaEvent({priority:this.attack,callback:(e,t,i,n)=>{if(0==this.mana||this.kitsuneCheck())return;const r=this.parent.opponent.getRandomPet([],!1,!0,!1,this);null!=r.pet&&(this.snipePet(r.pet,this.mana,r.random,!1,!1,!1,!0),this.mana=0)},pet:this,triggerPet:this,tieBreaker:Math.random()})}}useDefenseEquipment(e=!1){this.canConsumeDefenseEquipment(e)&&(this.equipment.uses-=1,0==this.equipment.uses&&this.removePerk())}useAttackDefenseEquipment(){this.canConsumeAttackDefenseEquipment()&&(this.equipment.uses-=1,0==this.equipment.uses&&this.removePerk())}increaseAttack(e){let t=50;"Behemoth"==this.name&&(t=100),!(e>0&&"Sad"===this.equipment?.name)&&this.alive&&(this.attack=Math.min(Math.max(this.attack+e,1),t))}increaseHealth(e){let t=50;("Behemoth"==this.name||"Giant Tortoise"==this.name)&&(t=100),!(e>0&&"Sad"===this.equipment?.name)&&this.alive&&(this.health=Math.min(Math.max(this.health+e,1),t),this.abilityService.triggerFriendGainsHealthEvents(this))}increaseSellValue(e){e<=0||(this.sellValue+=e)}dealDamage(e,t){t>0&&"Kiwano"===this.equipment?.name&&(t+=8,this.logService.createLog({message:`${this.name} added +8 damage. (Kiwano)`,type:"equipment",player:this.parent}),this.removePerk()),Zo(this,e,t)}triggerHurtEventsFor(e,t){this.abilityService.triggerHurtEvents(e,t)}triggerKillEventsFor(e){this.abilityService.triggerKillEvents(this,e)}triggerAttackEventsFor(){this.abilityService.triggerAttacksEvents(this)}executeAfterAttackEvents(){this.abilityService.executeAfterAttackEvents()}triggerJumpEventsFor(){this.abilityService.triggerJumpEvents(this)}createLog(e){this.logService.createLog(e)}increaseExp(e){let t=this.level;this.increaseAttack(e),this.increaseHealth(e),this.exp=Math.min(this.exp+e,5);let i=this.level-t;i>0&&(this.baseSellValue+=i,this.sellValue+=i);for(let n=0;n<i;n++)this.logService.createLog({message:`${this.name} leveled up to level ${this.level}.`,type:"ability",player:this.parent}),this.abilityService.triggerLevelUpEvents(this),this.abilityService.executeFriendlyLevelUpToyEvents(),this.resetAbilityUses();for(let n=0;n<Math.min(e,5);n++)this.abilityService.triggerFriendGainedExperienceEvents(this)}increaseMana(e){this.mana+=e,this.mana=Math.min(this.mana,50),this.abilityService.triggerManaGainedEvents(this)}get level(){return this.exp<2?1:this.exp<5?2:3}get position(){const e=this.parent;return e?this==e.pet0?0:this==e.pet1?1:this==e.pet2?2:this==e.pet3?3:this==e.pet4?4:this.savedPosition:this.savedPosition}canConsumeDefenseEquipment(e){return!(!this.equipment||"ailment-defense"!=this.equipment.equipmentClass&&"Icky"!=this.equipment.name&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&e&&"shield-snipe"!=this.equipment.equipmentClass||null==this.equipment.uses||"Strawberry"===this.equipment.name&&(this.getSparrowLevel()<=0||this.equipment.uses<=0))}canConsumeAttackDefenseEquipment(){return!(!this.equipment||null==this.equipment.uses||"Strawberry"===this.equipment.name&&(this.getSparrowLevel()<=0||this.equipment.uses<=0)||"attack"!=this.equipment.equipmentClass&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&"snipe"!=this.equipment.equipmentClass&&"ailment-attack"!=this.equipment.equipmentClass&&"ailment-defense"!=this.equipment.equipmentClass&&"Icky"!=this.equipment.name||(isNaN(this.equipment.uses)&&console.warn("uses is NaN",this.equipment),0))}}class M extends RT{logService;abilityService;name;baseName;tier;pack;hidden=!1;parent;health;attack;exp=0;equipment;mana=0;suppressManaSnipeOnFaint=!1;triggersConsumed=0;foodsEaten=0;sellValue=1;baseSellValue=1;swallowedPets=[];abominationSwallowedPet1;abominationSwallowedPet2;abominationSwallowedPet3;abominationSwallowedPet1BelugaSwallowedPet;abominationSwallowedPet2BelugaSwallowedPet;abominationSwallowedPet3BelugaSwallowedPet;abominationSwallowedPet1ParrotCopyPet;abominationSwallowedPet2ParrotCopyPet;abominationSwallowedPet3ParrotCopyPet;abominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet;abominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet;abominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet;abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1;abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2;abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3;abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1;abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2;abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3;abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1;abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2;abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3;abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet;abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet;abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet;abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet;abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet;abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet;abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet;abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet;abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet;abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level;abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level;abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level;abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level;abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level;abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level;abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level;abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level;abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level;abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt=0;abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt=0;abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt=0;abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt=0;abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt=0;abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt=0;abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt=0;abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt=0;abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt=0;abominationSwallowedPet1Level;abominationSwallowedPet2Level;abominationSwallowedPet3Level;abominationSwallowedPet1TimesHurt=0;abominationSwallowedPet2TimesHurt=0;abominationSwallowedPet3TimesHurt=0;belugaSwallowedPet=null;parrotCopyPet=null;parrotCopyPetBelugaSwallowedPet=null;parrotCopyPetAbominationSwallowedPet1;parrotCopyPetAbominationSwallowedPet2;parrotCopyPetAbominationSwallowedPet3;parrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet1Level;parrotCopyPetAbominationSwallowedPet2Level;parrotCopyPetAbominationSwallowedPet3Level;parrotCopyPetAbominationSwallowedPet1TimesHurt=0;parrotCopyPetAbominationSwallowedPet2TimesHurt=0;parrotCopyPetAbominationSwallowedPet3TimesHurt=0;parrotCopyPetAbominationSwallowedPet1ParrotCopyPet;parrotCopyPetAbominationSwallowedPet2ParrotCopyPet;parrotCopyPetAbominationSwallowedPet3ParrotCopyPet;parrotCopyPetAbominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1;parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2;parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3;parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1;parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2;parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3;parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1;parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2;parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3;parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet;parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level;parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level;parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level;parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level;parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level;parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level;parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level;parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level;parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level;parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt=0;parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt=0;parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt=0;parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt=0;parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt=0;parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt=0;parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt=0;parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt=0;parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt=0;sarcasticFringeheadSwallowedPet;friendsDiedBeforeBattle=0;timesHurt=0;timesAttacked=0;battlesFought=0;currentTarget;lastAttacker;killedBy;transformedInto=null;lastLostEquipment;abilityCounter=0;targettedFriends=new Set;originalHealth;originalAttack;originalMana;originalTriggersConsumed;originalFoodsEaten;originalEquipment;originalExp=0;originalTimesHurt=0;faintPet=!1;toyPet=!1;transformed=!1;removed=!1;startOfBattleTriggered=!1;jumped=!1;done=!1;seenDead=!1;eggplantTouched=!1;cherryTouched=!1;clearFrontTriggered=!1;maxAbilityUses=null;abilityList=[];originalAbilityList=[];savedPosition;originalSavedPosition;hasRandomEvents=!1;constructor(e,t,i){super(),this.logService=e,this.abilityService=t,this.parent=i}initPet(e,t,i,n,s,r){this.baseName=this.baseName??this.name;const c=e??this.exp??0;this.exp=c,this.health=t??this.health+c,this.attack=i??this.attack+c,this.mana=n??this.mana,this.triggersConsumed=r??this.triggersConsumed,this.originalHealth=this.health,this.originalAttack=this.attack,this.originalMana=this.mana,this.originalTriggersConsumed=this.triggersConsumed,this.originalFoodsEaten=this.foodsEaten,this.equipment=s,this.originalEquipment=s,this.originalExp=this.exp,this.baseSellValue=this.level,this.sellValue=this.baseSellValue,this.initAbilities(),this.originalAbilityList=[...this.abilityList]}}class vl extends M{logService;abilityService;name="Puma";tier=6;pack="Puppy";attack=6;health=5;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}const _n=(a,e)=>{a.toy=e};class dS extends wm{breakToy(e=!1){((a,e,t,i,n)=>{if(null!=a.toy){if(a.brokenToy=a.toy,t.createLog({message:`${a.toy.name} broke!`,type:"ability",player:a,randomEvent:!1}),null!=a.toy.onBreak){const s=[{callback:a.toy.onBreak.bind(a.toy),priority:99}],r=a.toy.level;for(const c of a.petArray)c instanceof vl&&s.push({callback:()=>{a.toy.level=c.level,a.toy.onBreak(n.gameApi,!0),a.toy.level=r},priority:c.attack});s.sort((c,u)=>c.priority>u.priority?-1:c.priority<u.priority?1:0);for(const c of s)c.callback(n.gameApi)}a.toy=null,e&&_n(a,a.brokenToy)}})(this,e,this.logService,0,this.gameService)}setToy(e){_n(this,e)}}class Zd extends M{logService;abilityService;name="Golden Retriever";tier=1;pack="Golden";hidden=!0;health=1;attack=1;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class FT extends dS{resolveTrumpetGainTarget(e){return((a,e)=>e&&Bt(e)?{player:Math.random()<.5?a:a.opponent,random:!0}:{player:a,random:!1})(this,e)}gainTrumpets(e,t,i,n,s,r){((a,e,t,i,n,s,r,c)=>{a.trumpets=Math.min(50,a.trumpets+=e);let h=t instanceof M&&null!=t.parent&&t.parent!==a?`${t.name} gave opponent ${e} trumpets. (${a.trumpets})`:`${t.name} gained ${e} trumpets. (${a.trumpets})`;r&&(h+=" (Cherry)"),i.createLog({message:h,type:"trumpets",player:a,pteranodon:n,pantherMultiplier:s,randomEvent:c})})(this,e,t,this.logService,i,n,s,r)}spendTrumpets(e,t,i){((a,e,t,i,n)=>{a.trumpets=Math.max(0,a.trumpets-=e),i.createLog({message:`${t.name} spent ${e} trumpets. (${a.trumpets})`,type:"trumpets",player:a,pteranodon:n})})(this,e,t,this.logService,i)}checkGoldenSpawn(){var a,e,t,i;e=this.abilityService,t=this.logService,i=this.gameService,(a=this).spawnedGoldenRetiever||a.petArray.length>1||0===a.trumpets||(e.setgoldenRetrieverSummonsEvent({priority:0,callback:(n,s,r)=>{const c=new Zd(t,e,a,a.trumpets,a.trumpets);t.createLog({message:`${a===s.player?"Player":"Opponent"} spawned Golden Retriever (${c.attack}/${c.health})`,type:"ability",player:a}),S(a,c,0,!1,void 0,t,e,i),a.trumpets=0}}),a.spawnedGoldenRetiever=!0)}}class pS extends FT{summonPetInFront(e,t){return((a,e,t,i,n,s)=>{if(5===a.petArray.length)return i.createLog({message:`No room to spawn ${t.name}!`,type:"ability",player:a}),{success:!1,randomEvent:!1};let r=!1;for(let h=0;h<e.position;h++)if(null==a.getPet(h)){r=!0;break}if(r)return S(a,t,e.position-1,!1,e,i,n,s);const c=e.position,u=Math.min(c+1,4);return e.parent[`pet${c}`]=null,null!=a.getPet(u)&&po(a,u),a.setPet(u,e),S(a,t,c,!1,e,i,n,s)})(this,e,t,this.logService,this.abilityService,this.gameService)}summonPetBehind(e,t){return((a,e,t,i,n,s)=>{if(5===a.petArray.length)return i.createLog({message:`No room to spawn ${t.name}!`,type:"ability",player:a}),{success:!1,randomEvent:!1};let r=!1;for(let c=0;c<e.position;c++)if(null==a.getPet(c)){r=!0;break}if(r){const c=e.position;e.parent[`pet${c}`]=null;const u=Math.max(c-1,0);return null!=a.getPet(u)&&Xo(a,u),a.setPet(u,e),S(a,t,e.position+1,!1,e,i,n,s)}return S(a,t,e.position+1,!1,e,i,n,s)})(this,e,t,this.logService,this.abilityService,this.gameService)}}class Nm extends pS{logService;abilityService;gameService;pet0;pet1;pet2;pet3;pet4;orignalPet0;orignalPet1;orignalPet2;orignalPet3;orignalPet4;pack="Turtle";toy=null;brokenToy=null;originalToy=null;trumpets=0;spawnedGoldenRetiever=!1;summonedBoatThisBattle=!1;isOpponent=!1;allPets=!1;tokenPets=!1;cannedAilments=[];constructor(e,t,i){super(),this.logService=e,this.abilityService=t,this.gameService=i}alive(){return this.petArray.length>0}resetPets(){var a;(a=this).pet0=a.orignalPet0,a.pet0?.resetPet(),a.pet1=a.orignalPet1,a.pet1?.resetPet(),a.pet2=a.orignalPet2,a.pet2?.resetPet(),a.pet3=a.orignalPet3,a.pet3?.resetPet(),a.pet4=a.orignalPet4,a.pet4?.resetPet(),a.orignalPet0=a.pet0,a.orignalPet1=a.pet1,a.orignalPet2=a.pet2,a.orignalPet3=a.pet3,a.orignalPet4=a.pet4,a.toy=a.originalToy,a.toy&&(a.toy.used=!1,a.toy.triggers=0,a.originalToy&&(a.toy.level=a.originalToy.level)),a.brokenToy=null,a.trumpets=0,a.spawnedGoldenRetiever=!1,a.summonedBoatThisBattle=!1,a.cannedAilments=[]}resetJumpedFlags(){(a=>{for(const e of a.petArray)e&&(e.jumped=!1)})(this)}setPet(e,t,i=!1){this.getPet(e),0==e&&(this.pet0=t,null!=t&&(this.pet0.savedPosition=0),i&&(this.orignalPet0=t)),1==e&&(this.pet1=t,null!=t&&(this.pet1.savedPosition=1),i&&(this.orignalPet1=t)),2==e&&(this.pet2=t,null!=t&&(this.pet2.savedPosition=2),i&&(this.orignalPet2=t)),3==e&&(this.pet3=t,null!=t&&(this.pet3.savedPosition=3),i&&(this.orignalPet3=t)),4==e&&(this.pet4=t,null!=t&&(this.pet4.savedPosition=4),i&&(this.orignalPet4=t)),i&&null!=t&&(t.originalSavedPosition=t.savedPosition)}getPet(e){switch(e){case 0:return this.pet0;case 1:return this.pet1;case 2:return this.pet2;case 3:return this.pet3;case 4:return this.pet4;default:return}}pushPetsForward(){qd(this)}onionCheck(){var a;a=this,null!=a.pet0?.equipment&&a.pet0.equipment instanceof jd&&(a.pet0.equipment.callback(a.pet0),qd(a))}summonPet(e,t,i=!1,n){return S(this,e,t,i,n,this.logService,this.abilityService,this.gameService)}transformPet(e,t){((a,e,t,i,n)=>{const s=e?.parent??a;t.parent!==s&&(t.parent=s),s.setPet(e.position,t),s===n.gameApi.player?n.gameApi.playerTransformationAmount++:n.gameApi.opponentTransformationAmount++,e.transformed=!0,e.transformedInto=t,t.applyEquipment(t.equipment),i.triggerTransformEvents(e)})(this,e,t,this.abilityService,this.gameService)}pushForwardFromSlot(e){return Xo(this,e)}pushBackwardFromSlot(e){return po(this,e)}makeRoomForSlot(e){ua(this,e)}get petArray(){let e=[];return null!=this.pet0&&e.push(this.pet0),null!=this.pet1&&e.push(this.pet1),null!=this.pet2&&e.push(this.pet2),null!=this.pet3&&e.push(this.pet3),null!=this.pet4&&e.push(this.pet4),e}handleDeath(e){ca(e,this.logService)}checkPetsAlive(){var a,e;e=this.logService,(a=this).pet0&&!a.pet0.alive&&!a.pet0.seenDead&&ca(a.pet0,e),a.pet1&&!a.pet1.alive&&!a.pet1.seenDead&&ca(a.pet1,e),a.pet2&&!a.pet2.alive&&!a.pet2.seenDead&&ca(a.pet2,e),a.pet3&&!a.pet3.alive&&!a.pet3.seenDead&&ca(a.pet3,e),a.pet4&&!a.pet4.alive&&!a.pet4.seenDead&&ca(a.pet4,e)}removeDeadPets(){return((a,e)=>{let t=!1;const i=[{pet:a.pet0,index:0},{pet:a.pet1,index:1},{pet:a.pet2,index:2},{pet:a.pet3,index:3},{pet:a.pet4,index:4}];for(const n of i)if(n.pet&&!n.pet.alive){switch(n.pet.removed=!0,n.index){case 0:a.pet0=void 0;break;case 1:a.pet1=void 0;break;case 2:a.pet2=void 0;break;case 3:a.pet3=void 0;break;case 4:a.pet4=void 0}e.triggerAfterFaintEvents(n.pet),t=!0}return t})(this,this.abilityService)}createDeathLog(e){ho(e,this.logService)}get opponent(){return Mn(this.gameService.gameApi,this)}}var ha=w(3276),es=w.t(ha,2),Qc=w(7283),eh=w.t(Qc,2),fo=w(8935),Al=w.t(fo,2);const th=a=>a.map(e=>e?.Name).filter(e=>!!e),Sl={"Beluga Whale":"WhiteWhale","Great One":"Cthulu","Small One":"BabyCthulhu",Abomination:"Shoggoth",Visitor:"Xenomorph",Swordfish:"SwordFish",Doberman:"DobermanDog","Highland Cow":"HighlandCow","Sabertooth Tiger":"SaberToothTiger","Moby Dick":"MochaDick","Chimera Goat":"ChimeraGoat","Chimera Lion":"ChimeraLion","Chimera Snake":"ChimeraSnake","Fake Nessie":"FakeNessie","Tand and Tand":"ThorGoats"},Fm={Corncob:"Corn","Cake Slice":"BirthdayCakeSlice","Peanut Butter":"PeanutButter","Mana Potion":"ManaPotion","Faint Bread":"DeadBread",Kiwifruit:"Kiwi",Eggplant:"EggPlant",Rice:"RiceBall",Donut:"Doughnut",Cherry:"Cherries","Melon Slice":"WaterMelon",Cold:"Frozen",Crisp:"Burn",Dazed:"Deaf",Icky:"Acid",Inked:"Ink",Spooked:"Scared",Sleepy:"Drowsy",Webbed:"Web",Cursed:"Curse",Silly:"Silly",Bloated:"Bloated"},OT=Object.fromEntries(Object.entries(Fm).map(([a,e])=>[a.toLowerCase(),e])),Zc=a=>a?a.replace(/[^a-zA-Z0-9]/g,""):"",Om=a=>{const e=new Map;for(const t of a)t?.Name&&t?.NameId&&e.set(t.Name,t.NameId);return e},ih=(a,e)=>{const t=[];if(Array.isArray(a))for(const i of a)i?.About&&t.push(null!=i.Level?`Lv${i.Level}: ${i.About}`:i.About);return e&&t.push(e),t.length?t.join("\n"):null},eu=Om(ha??es??[]),nh=new Map,gS=ha??es??[];for(const a of gS){if(!a?.Name)continue;const e=ih(a.Abilities,a.PerkNote);e&&nh.set(a.Name,e)}const BT=th(ha??es??[]),$T=Om(Qc??eh??[]),mS=new Map,Bm=Qc??eh??[];for(const a of Bm){if(!a?.Name)continue;const e=ih(a.Abilities);e&&mS.set(a.Name,e)}const fS=th(Qc??eh??[]),rh=Om(fo??Al??[]),yS=new Map(Array.from(rh.entries()).map(([a,e])=>[a.toLowerCase(),e])),vS=new Map(Array.from(rh.entries()).map(([a,e])=>[Zc(a),e])),ah=new Map,bS=fo??Al??[];for(const a of bS)a?.Name&&a.Ability&&ah.set(a.Name,a.Ability);const $m=th(fo??Al??[]);function oh(a){if(!a)return null;const e=eu.get(a);return e||(Sl[a]||null)}function In(a){const e=oh(a);return e?`assets/art/Public/Public/Pets/${e}.png`:null}function tu(a){return a?nh.get(a)??null:null}function iu(a){if(!a)return null;const t=$T.get(a)??Zc(a);return t?`assets/art/Public/Public/Toys/${t}.png`:null}function AS(a){return a?mS.get(a)??null:null}function Pr(a,e=!1){const t=(a=>{if(!a)return null;const e=Zc(a),t=rh.get(a)??yS.get(a.toLowerCase())??vS.get(e),i=Fm[a]??OT[a.toLowerCase()];return(t??i??e)||null})(a);return t?e?`assets/art/Ailments/Ailments/${t}.png`:`assets/art/Public/Public/Food/${t}.png`:null}function nu(a){return a?ah.get(a)??null:null}const jT={Turtle:"Turtle",Golden:"Golden Retriever",Puppy:"Puppy",Star:"Starfish",Unicorn:"Unicorn",Danger:"Blue Whale",Custom:"White Tiger"};function Gm(a){return a&&"Add Custom Pack"!==a?In(jT[a]||"White Tiger"):null}const Ia=["Turtle","Puppy","Star","Golden","Unicorn","Danger","Custom"],lh=Ia.filter(a=>"Custom"!==a);let xR=(()=>{class a{el;renderer;tooltipText=null;constructor(t,i){this.el=t,this.renderer=i}onShow(){const t=this.tooltipText?.trim();t?(this.renderer.setAttribute(this.el.nativeElement,"data-tooltip",t),this.renderer.addClass(this.el.nativeElement,"has-tooltip"),this.updatePosition(t)):this.renderer.removeAttribute(this.el.nativeElement,"data-tooltip")}onHide(){this.renderer.removeClass(this.el.nativeElement,"has-tooltip")}updatePosition(t){const i=this.el.nativeElement.getBoundingClientRect(),n=window.innerWidth,s=window.innerHeight,r=12,u=12,h=Math.min(170,n-24),b=Math.min(140,s-24),{width:D,height:H}=this.measureTooltip(t,h,b),Y=i.left+i.width/2,ue=this.clamp(Y-D/2,r,n-D-r),he=i.top,ye=s-i.bottom,Ve=H+u+8;let je="top";const Ie=n-i.right>=D+u+8;Ie||i.left>=D+u+8?je=Ie?"right":"left":he<Ve&&ye>=Ve?je="bottom":he<Ve&&ye<Ve&&(je=he>=ye?"top":"bottom");let bt=i.top-H-u-8,oi=ue,Di=this.clamp(Y,20,n-r-8),yi=i.top-u-8;"bottom"===je&&(bt=i.bottom+u+8,yi=i.bottom+u),"right"===je&&(oi=this.clamp(i.right+u+8,r,n-D-r),bt=this.clamp(i.top+i.height/2-H/2,r,s-H-r),Di=i.right+u,yi=this.clamp(i.top+i.height/2,20,s-r-8)),"left"===je&&(oi=this.clamp(i.left-D-u-8,r,n-D-r),bt=this.clamp(i.top+i.height/2-H/2,r,s-H-r),Di=i.left-u-8,yi=this.clamp(i.top+i.height/2,20,s-r-8)),this.renderer.setStyle(this.el.nativeElement,"--tooltip-left",`${oi}px`),this.renderer.setStyle(this.el.nativeElement,"--tooltip-top",`${bt}px`),this.renderer.setStyle(this.el.nativeElement,"--tooltip-arrow-left",`${Di}px`),this.renderer.setStyle(this.el.nativeElement,"--tooltip-arrow-top",`${yi}px`),this.renderer.setStyle(this.el.nativeElement,"--tooltip-max-width",`${h}px`),this.renderer.setStyle(this.el.nativeElement,"--tooltip-max-height",`${b}px`),this.renderer.setAttribute(this.el.nativeElement,"data-tooltip-placement",je)}measureTooltip(t,i,n){const s=document.createElement("div");s.textContent=t,s.style.position="fixed",s.style.visibility="hidden",s.style.pointerEvents="none",s.style.fontSize="0.72rem",s.style.lineHeight="1.2",s.style.padding="0.45rem 0.6rem",s.style.borderRadius="8px",s.style.maxWidth=`${i}px`,s.style.maxHeight=`${n}px`,s.style.whiteSpace="pre-wrap",s.style.overflow="hidden",s.style.display="-webkit-box",s.style.webkitBoxOrient="vertical",s.style.webkitLineClamp="6",s.style.boxSizing="border-box",s.style.width="max-content",document.body.appendChild(s);let r=s.getBoundingClientRect();return r.width>i&&(s.style.width=`${i}px`,r=s.getBoundingClientRect()),document.body.removeChild(s),{width:r.width,height:r.height}}clamp(t,i,n){return Math.min(Math.max(t,i),n)}static \u0275fac=function(i){return new(i||a)(p.rXU(p.aKT),p.rXU(p.sFG))};static \u0275dir=p.FsC({type:a,selectors:[["","appTooltip",""]],hostBindings:function(i,n){1&i&&p.bIt("mouseenter",function(){return n.onShow()})("focus",function(){return n.onShow()})("mouseleave",function(){return n.onHide()})("blur",function(){return n.onHide()})},inputs:{tooltipText:[0,"appTooltip","tooltipText"]}})}return a})();class Hm extends M{logService;abilityService;name="Mouse";tier=1;pack="Custom";health=2;attack=1;initAbilities(){this.addAbility(new kl(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class kl extends E{logService;abilityService;constructor(e,t,i){super({name:"MouseAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} replaced shop food with one free ${1===this.level?"Apple":2===this.level?"Better Apple":"Best Apple"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new kl(e,this.logService,this.abilityService)}}class ru extends M{logService;abilityService;name="Ant";tier=1;pack="Turtle";health=2;attack=2;initPet(e,t,i,n,s,r){this.addAbility(new ch(this,this.logService)),super.initPet(e,t,i,n,s,r)}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class ch extends E{logService;constructor(e,t){super({name:"AntAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner,c=this.level,u=r.parent.getRandomPet([r],!0,!1,!0,r);null!=u.pet&&(this.logService.createLog({message:`${r.name} gave ${u.pet.name} ${c} attack and ${c} health.`,type:"ability",randomEvent:u.random,player:r.parent,tiger:n,pteranodon:s}),u.pet.increaseAttack(c),u.pet.increaseHealth(c),this.triggerTigerExecution(e))}copy(e){return new ch(e,this.logService)}}class jm extends M{logService;abilityService;name="Zombie Cricket";tier=1;pack="Turtle";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new SS(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class SS extends E{logService;abilityService;constructor(e,t,i){super({name:"ZombieCricketAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new SS(e,this.logService,this.abilityService)}}class qm extends E{logService;abilityService;constructor(e,t,i){super({name:"CricketAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner,c=this.level;let h=new jm(this.logService,this.abilityService,r.parent,null,null,null,this.minExpForLevel),b=r.parent.summonPet(h,r.savedPosition,!1,r);b.success&&this.logService.createLog({message:`${r.name} spawned Zombie Cricket Level ${c}`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:b.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new qm(e,this.logService,this.abilityService)}}class PS extends M{logService;abilityService;name="Fish";tier=1;pack="Turtle";health=3;attack=2;initAbilities(){this.addAbility(new au(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class au extends E{logService;constructor(e,t){super({name:"FishAbility",owner:e,triggers:["ThisLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if(this.level>=3)return;const i=this.level,n=t.parent.getRandomPets(2,[t],!1,!1,t);if(0!==n.pets.length){for(const s of n.pets)s.increaseAttack(i),s.increaseHealth(i);this.logService.createLog({message:`${t.name} gave ${n.pets.map(s=>s.name).join(", ")} ${i} attack and ${i} health.`,type:"ability",player:t.parent,randomEvent:n.random,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}copy(e){return new au(e,this.logService)}}function ts(a){const e=a.position??a.savedPosition;if(null==e)return[];const t=[],i=a.parent.getPetAtPosition(e-1),n=a.parent.getPetAtPosition(e+1);return i&&i.alive&&t.push(i),n&&n.alive&&t.push(n),t}function wl(a,e){return!(a.equipment&&!a.equipment.equipmentClass?.startsWith("ailment")||a.equipment?.name===e)}function Gi(a,e,t,i,n,s={}){a.createLog({message:t,type:"ability",player:e.parent,tiger:i,pteranodon:n,sourcePet:e,...s})}function Wn(a,e,t){return e?t?t(a,e)??{random:!1}:a.parent.getSpecificPet(a,e):{random:!1}}function yo(a,e){if(!e)return{random:!1};const t=a.parent.getSpecificPet(a,e),i=t.pet;return i&&i.alive?t:{random:t.random}}const Lt=yo,Ra=function IR(a,e,t){return!(!e||t?.excludeOwner&&e===a||!yo(a,e).pet)};class Um extends E{logService;constructor(e,t){super({name:"HorseAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n,pteranodon:s}=e,r=this.owner,c=Wn(r,i);if(!c.pet)return;const u=c.pet;u.increaseAttack(this.level),Gi(this.logService,r,`${r.name} gave ${u.name} ${this.level} attack`,n,s,{randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new Um(e,this.logService)}}class Wm extends E{logService;constructor(e,t){super({name:"MosquitoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,null,null,!0,r);for(let u of c.pets)null!=u&&r.snipePet(u,1,c.random,n);this.triggerTigerExecution(e)}copy(e){return new Wm(e,this.logService)}}class ou extends M{logService;abilityService;name="Duck";tier=1;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new Vm(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class Vm extends E{logService;constructor(e,t){super({name:"DuckAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gave shop pets +${this.level} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Vm(e,this.logService)}}class is extends M{logService;abilityService;name="Beaver";tier=1;pack="Turtle";health=2;attack=3;initAbilities(){this.addAbility(new La(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class La extends E{logService;constructor(e,t){super({name:"BeaverAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=this.level,n=t.parent.getRandomPets(2,[t],!1,!1,t);if(0!==n.pets.length){for(const s of n.pets)s.increaseAttack(i);this.logService.createLog({message:`${t.name} gave ${n.pets.map(s=>s.name).join(", ")} ${i} attack.`,type:"ability",player:t.parent,randomEvent:n.random,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}copy(e){return new La(e,this.logService)}}class _S extends E{logService;constructor(e,t){super({name:"OtterAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,n=t.parent.getRandomPets(this.level,[t],!1,!1,t);if(0!==n.pets.length){for(const s of n.pets)s.increaseHealth(1);this.logService.createLog({message:`${t.name} gave ${n.pets.map(s=>s.name).join(", ")} +1 health.`,type:"ability",player:t.parent,randomEvent:n.random,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}copy(e){return new _S(e,this.logService)}}class Km extends E{logService;constructor(e,t){super({name:"PigAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gained ${this.level} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Km(e,this.logService)}}class dh extends E{logService;constructor(e,t){super({name:"PigeonAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked ${this.level} free Bread Crumbs.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new dh(e,this.logService)}}class zm extends E{logService;constructor(e,t){super({name:"SnailAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=e.gameApi;if(!(t.parent===i?.player?i?.playerLostLastBattle:i?.opponentLostLastBattle))return;const r=this.level,c=t.parent.nearestPetsAhead(3,t);if(0!==c.pets.length){for(const u of c.pets)u.increaseAttack(r);this.logService.createLog({message:`${t.name} gave ${c.pets.map(u=>u.name).join(", ")} +${r} attack.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:c.random}),this.triggerTigerExecution(e)}}copy(e){return new zm(e,this.logService)}}class Ym extends E{logService;constructor(e,t){super({name:"CrabAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;if(!r.alive)return;let c=r.parent.getHighestHealthPet(r,r);if(null==c.pet)return;let u=Math.round(c.pet.health*(.25*this.level)),h=r.parent.getThis(r);h.pet&&(h.pet.increaseHealth(u),this.logService.createLog({message:`${r.name} gave ${h.pet.name} ${.25*this.level*100}% of ${c.pet.name}'s health (${u})`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random})),this.triggerTigerExecution(e)}copy(e){return new Ym(e,this.logService)}}class Xm extends E{logService;constructor(e,t){super({name:"SwanAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gained ${this.level} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Xm(e,this.logService)}}class Jm extends M{logService;abilityService;name="Dirty Rat";tier=1;pack="Turtle";hidden=!0;health=1;attack=1;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class hh extends E{logService;abilityService;constructor(e,t,i){super({name:"RatAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.opponent;for(let u=0;u<this.level;u++){let h=new Jm(this.logService,this.abilityService,c,null,null,0,0),b=c.summonPet(h,0,!1,r);b.success&&this.logService.createLog({message:`${r.name} Summoned Dirty Rat on Opponent`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:b.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new hh(e,this.logService,this.abilityService)}}class Tl extends E{logService;constructor(e,t){super({name:"HedgehogAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getAll(!0,r),u=c.pets;if(0==u.length)return;let h=2*this.level;for(let b of u)r.snipePet(b,h,c.random,n,s);this.triggerTigerExecution(e)}copy(e){return new Tl(e,this.logService)}}class wS extends E{logService;constructor(e,t){super({name:"PeacockAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=3*this.level,u=r.parent.getThis(r);u.pet&&(u.pet.increaseAttack(c),this.logService.createLog({message:`${r.name} gave ${u.pet.name} ${c} attack.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random})),this.triggerTigerExecution(e)}copy(e){return new wS(e,this.logService)}}class ph extends E{logService;constructor(e,t){super({name:"FlamingoAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let u=r.parent.nearestPetsBehind(2,r).pets;if(0!=u.length){for(let h of u)h.increaseAttack(this.level),h.increaseHealth(this.level),this.logService.createLog({message:`${r.name} gave ${h.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:r.parent,tiger:n,pteranodon:s});this.triggerTigerExecution(e)}}copy(e){return new ph(e,this.logService)}}class Qm extends E{logService;constructor(e,t){super({name:"WormAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked one 2-gold ${1===this.level?"Apple":2===this.level?"Better Apple":"Best Apple"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Qm(e,this.logService)}}class lu extends E{logService;constructor(e,t){super({name:"KangarooAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getThis(r);c.pet&&(c.pet.increaseAttack(this.level),c.pet.increaseHealth(this.level),this.logService.createLog({message:`${r.name} gave ${c.pet.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random})),this.triggerTigerExecution(e)}copy(e){return new lu(e,this.logService)}}class gh extends M{logService;abilityService;petService;name="Spider";tier=2;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new Zm(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b)}}class Zm extends E{logService;abilityService;petService;constructor(e,t,i,n){super({name:"SpiderAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:s}=e,r=this.owner;let c;c=r.parent==t.player?t.playerPetPool.get(3):t.opponentPetPool.get(3);let u=c.filter(he=>"Spider"!=he),h=u[Ot(0,u.length-1)],b=this.level,H=2*this.level,Y=this.petService.createPet({attack:H,exp:this.minExpForLevel,equipment:null,health:H,name:h,mana:0},r.parent);r.parent.summonPet(Y,r.savedPosition,!1,r).success&&this.logService.createLog({message:`${r.name} spawned ${Y.name} level ${b} (${H}/${H})`,type:"ability",player:r.parent,randomEvent:!0,tiger:n,pteranodon:s}),this.triggerTigerExecution(e)}copy(e){return new Zm(e,this.logService,this.abilityService,this.petService)}}class mh extends E{logService;constructor(e,t){super({name:"DodoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.nearestPetsAhead(1,r);if(0===c.pets.length)return;let u=c.pets[0],h=Math.floor(r.attack*(.5*this.level));u.increaseAttack(h),this.logService.createLog({message:`${r.name} gave ${u.name} ${h} attack.`,player:r.parent,type:"ability",tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new mh(e,this.logService)}}class vo extends E{logService;constructor(e,t){super({name:"BadgerAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=Math.floor(r.attack*(.5*this.level)),u=r.parent.nearestPetsBehind(1,r);u.pets.length>0&&r.snipePet(u.pets[0],c,u.random,n,s);let h=r.parent.nearestPetsAhead(1,r,void 0,!0);h.pets.length>0&&r.snipePet(h.pets[0],c,h.random,n,s),this.triggerTigerExecution(e)}copy(e){return new vo(e,this.logService)}}class fh extends M{logService;abilityService;name="Dolphin";tier=3;pack="Turtle";health=3;attack=4;hasRandomEvents=!0;initAbilities(){this.addAbility(new ns(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class ns extends E{logService;constructor(e,t){super({name:"DolphinAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.opponent;for(let u=0;u<this.level;u++){let h=c.getLowestHealthPet(null,r);if(!h.pet)break;r.snipePet(h.pet,4,h.random,n)}this.triggerTigerExecution(e)}copy(e){return new ns(e,this.logService)}}class yh extends E{logService;constructor(e,t){super({name:"GiraffeAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,n=t.parent.nearestPetsAhead(this.level,t);if(0!==n.pets.length){for(const s of n.pets)s.increaseAttack(1),s.increaseHealth(1);this.logService.createLog({message:`${t.name} gave ${n.pets.map(s=>s.name).join(", ")} +1 attack and +1 health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)}}copy(e){return new yh(e,this.logService)}}class DS extends E{logService;constructor(e,t){super({name:"ElephantAbility",owner:e,triggers:["ThisAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;for(let c=0;c<this.level;c++){let u=r.parent.nearestPetsBehind(1,r);u.pets.length>0&&r.snipePet(u.pets[0],1,u.random,n)}this.triggerTigerExecution(e)}copy(e){return new DS(e,this.logService)}}class rs extends E{logService;constructor(e,t){super({name:"CamelAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.nearestPetsBehind(1,r);if(0===c.pets.length)return;let u=c.pets[0],h=2*this.level;u.increaseAttack(this.level),u.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${u.name} ${this.level} attack and ${h} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new rs(e,this.logService)}}class Cl extends E{logService;constructor(e,t){super({name:"RabbitAbility",owner:e,triggers:["FoodEatenByFriendly"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,precondition:i=>{const{triggerPet:n}=i,c=Lt(this.owner,n).pet;return!!c&&c.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=this.level,u=Lt(r,i),h=u.pet;null!=h&&(h.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${h.name} ${c} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random}),this.triggerTigerExecution(e))}copy(e){return new Cl(e,this.logService)}}class Nr extends Ce{name="Melon";tier=6;equipmentClass="shield";power=20;originalPower=20;uses=1;originalUses=1}class MS extends E{logService;constructor(e,t){super({name:"OxAbility",owner:e,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getThis(r),u=c.pet;if(null==u)return;u.increaseAttack(1),this.logService.createLog({message:`${r.name} gave ${u.name} +1 attack.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random});let h=r.parent.getThis(r),b=h.pet;null!=b&&(b.givePetEquipment(new Nr),this.logService.createLog({message:`${r.name} gave ${b.name} Melon.`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random}),this.triggerTigerExecution(e))}reset(){this.maxUses=this.level,super.reset()}copy(e){return new MS(e,this.logService)}}class ef extends E{logService;constructor(e,t){super({name:"DogAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;if(!i||i===r)return;let c=2*this.level,u=this.level,h=r.parent.getThis(r);h.pet&&(h.pet.increaseAttack(c),h.pet.increaseHealth(u),this.logService.createLog({message:`${r.name} gave ${h.pet.name} ${c} attack and ${u} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random})),this.triggerTigerExecution(e)}copy(e){return new ef(e,this.logService)}}class xS extends M{logService;abilityService;name="Ram";tier=1;pack="Turtle";hidden=!0;health=2;attack=2;initAbilities(){this.addAbility(new IS(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class IS extends E{logService;abilityService;constructor(e,t,i){super({name:"RamAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new IS(e,this.logService,this.abilityService)}}class RS extends E{logService;abilityService;constructor(e,t,i){super({name:"SheepAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;for(let c=0;c<2;c++){let u=new xS(this.logService,this.abilityService,r.parent,null,null,0,this.minExpForLevel),h=r.parent.summonPet(u,r.savedPosition,!1,r);h.success&&this.logService.createLog({message:`${r.name} spawned Ram (${u.attack}/${u.health}).`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:h.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new RS(e,this.logService,this.abilityService)}}const LS=[1,2,3];class tf extends M{logService;abilityService;petService;name="Parrot";tier=4;pack="Turtle";attack=4;health=2;initAbilities(){this.addAbility(new nf(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b)}}class nf extends E{logService;petService;constructor(e,t,i){super({name:"ParrotAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const{gameApi:t,triggerPet:i,tiger:n,pteranodon:s}=e;let r=this.owner;const c=null!=r.parrotCopyPet&&""!==r.parrotCopyPet,u=c?r.parrotCopyPet:r.petAhead?.name??null,h=c?r.parrotCopyPetBelugaSwallowedPet:null,b=(ue,he)=>r[ue]??he;if(!u)return;const H="Abomination"===u&&c?(()=>{const ue={};for(const he of LS){const ye=`parrotCopyPetAbominationSwallowedPet${he}`;ue[`abominationSwallowedPet${he}`]=b(ye,null),ue[`abominationSwallowedPet${he}BelugaSwallowedPet`]=b(`${ye}BelugaSwallowedPet`,null),ue[`abominationSwallowedPet${he}Level`]=b(`${ye}Level`,1),ue[`abominationSwallowedPet${he}TimesHurt`]=b(`${ye}TimesHurt`,0),ue[`abominationSwallowedPet${he}ParrotCopyPet`]=b(`${ye}ParrotCopyPet`,null),ue[`abominationSwallowedPet${he}ParrotCopyPetBelugaSwallowedPet`]=b(`${ye}ParrotCopyPetBelugaSwallowedPet`,null);for(const _e of LS){const qe=`${ye}ParrotCopyPetAbominationSwallowedPet${_e}`;ue[`abominationSwallowedPet${he}ParrotCopyPetAbominationSwallowedPet${_e}`]=b(qe,null),ue[`abominationSwallowedPet${he}ParrotCopyPetAbominationSwallowedPet${_e}BelugaSwallowedPet`]=b(`${qe}BelugaSwallowedPet`,null),ue[`abominationSwallowedPet${he}ParrotCopyPetAbominationSwallowedPet${_e}Level`]=b(`${qe}Level`,1),ue[`abominationSwallowedPet${he}ParrotCopyPetAbominationSwallowedPet${_e}TimesHurt`]=b(`${qe}TimesHurt`,0)}}return ue})():{};let Y=this.petService.createPet({name:u,attack:null,health:null,mana:null,exp:r.exp??0,equipment:null,belugaSwallowedPet:"Beluga Whale"===u?h??null:void 0,...H},r.parent);if(null!=Y){if("Abomination"===u&&Object.assign(r,H),"Beluga Whale"===u&&(r.belugaSwallowedPet=h??null),r.copyAbilities(Y,"Pet",r.level),r.initAbilityUses(),"Abomination"===u){const ue=r.abilityList.filter(he=>"AbominationAbility"===he.name);for(const he of ue)he.execute(t,i,n,s)}this.logService.createLog({message:`${r.name} copied ${Y.name}`,type:"ability",player:r.parent})}}copy(e){return new nf(e,this.logService,this.petService)}}class as extends E{logService;constructor(e,t){super({name:"SkunkAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let u=r.parent.opponent.getHighestHealthPet(void 0,r),h=u.pet;if(null==h)return;let b=.33*this.level,D=Math.max(1,Math.floor(h.health*(1-b)));h.health=D,this.logService.createLog({message:`${r.name} reduced ${h.name} health by ${100*b}% (${D})`,type:"ability",player:r.parent,randomEvent:u.random,tiger:n}),this.triggerTigerExecution(e)}copy(e){return new as(e,this.logService)}}class Dl extends E{logService;constructor(e,t){super({name:"HippoAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=3*this.level,u=r.parent.getThis(r),h=u.pet;null!=h&&(h.increaseAttack(c),h.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${h.name} ${c} attack and ${c} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random}),this.triggerTigerExecution(e))}copy(e){return new Dl(e,this.logService)}}class os extends E{logService;constructor(e,t){super({name:"BisonAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;if(!t.parent.petArray.some(r=>r&&r!==t&&r.level>=3))return;const n=this.level,s=2*this.level;t.increaseAttack(n),t.increaseHealth(s),this.logService.createLog({message:`${t.name} gained +${n} attack and +${s} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new os(e,this.logService)}}class sf extends E{logService;constructor(e,t){super({name:"BlowfishAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=3*this.level,u=r.parent.opponent.getRandomPet([],!1,!0,!1,r);u.pet&&r.snipePet(u.pet,c,u.random,n),this.triggerTigerExecution(e)}copy(e){return new sf(e,this.logService)}}class bh extends E{logService;constructor(e,t){super({name:"TurtleAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getPetsWithEquipment("Melon"),u=r.parent.nearestPetsBehind(this.level,r,c);if(0!=u.pets.length){for(let h of u.pets)this.logService.createLog({message:`${r.name} gave ${h.name} Melon.`,type:"ability",tiger:n,player:r.parent,pteranodon:s,randomEvent:u.random}),h.givePetEquipment(new Nr);this.triggerTigerExecution(e)}}copy(e){return new bh(e,this.logService)}}class Na extends E{logService;constructor(e,t){super({name:"SquirrelAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} discounted all shop food by ${this.level} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Na(e,this.logService)}}class $S extends Ce{logService;abilityService;name="Chili";equipmentClass="skewer";power=0;originalPower=0;attackCallback=(e,t)=>{let i=t.parent.getPetAtPosition(1);null!=i&&e.snipePet(i,5*(e.equipment?.multiplier??1),!1,null,null,!0,!1,"attacked",5)};constructor(e,t){super(),this.logService=e,this.abilityService=t}}class cf extends M{logService;abilityService;name="Bus";tier=1;pack="Turtle";hidden=!0;health=3;attack=5;initAbilities(){this.addAbility(new Ah(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class Ah extends E{logService;abilityService;constructor(e,t,i){super({name:"BusAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new Ah(e,this.logService,this.abilityService)}}class uf extends E{logService;abilityService;constructor(e,t,i){super({name:"DeerAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=new cf(this.logService,this.abilityService,r.parent,null,null,null,this.minExpForLevel,new $S(this.logService,this.abilityService)),u=r.parent.summonPet(c,r.savedPosition,!1,r);u.success&&this.logService.createLog({message:`${r.name} spawned Bus level ${this.level}`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:u.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new uf(e,this.logService,this.abilityService)}}class df extends M{logService;abilityService;petService;name="Whale";tier=4;pack="Turtle";attack=3;health=7;initAbilities(){this.addAbility(new hf(this,this.logService,this.petService)),this.addAbility(new ss(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b)}}class ss extends E{logService;abilityService;constructor(e,t,i){super({name:"WhaleSummonAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,ignoreRepeats:!0,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;for(;r.swallowedPets.length>0;){let c=r.swallowedPets.shift(),u=r.parent.summonPet(c,r.savedPosition,!1,r);u.success&&this.logService.createLog({message:`${r.name} summoned ${c.name} (level ${c.level}).`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:u.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new ss(e,this.logService,this.abilityService)}}class hf extends E{logService;petService;constructor(e,t,i){super({name:"WhaleSwallowAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.nearestPetsAhead(1,r);if(0===c.pets.length)return;let u=c.pets[0],h=this.petService.createPet({name:u.name,attack:u.attack,health:u.health,exp:r.exp,equipment:null,mana:0},r.parent);r.swallowedPets.push(h),u.health=0,this.logService.createLog({message:`${r.name} swallowed ${u.name}`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new hf(e,this.logService,this.petService)}}class pf extends E{logService;constructor(e,t){super({name:"ScorpionAbility",owner:e,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=new zd,u=r.parent.getThis(r),h=u.pet;null!=h&&(h.givePetEquipment(c),this.logService.createLog({message:`${r.name} gave ${h.name} the Peanut perk.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random}),this.triggerTigerExecution(e))}copy(e){return new pf(e,this.logService)}}class Ph extends E{logService;constructor(e,t){super({name:"CrocodileAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;for(let c=0;c<this.level;c++){let u=r.parent.opponent.getLastPet(void 0,r),h=u.pet;h&&r.snipePet(h,8,u.random,n)}this.triggerTigerExecution(e)}copy(e){return new Ph(e,this.logService)}}class _h extends E{logService;constructor(e,t){super({name:"RhinoAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.opponent.getFurthestUpPet(r),u=c.pet;if(null==u)return;let h=4*this.level;1==u.tier&&(h*=2),r.snipePet(u,h,c.random,n),this.triggerTigerExecution(e)}copy(e){return new _h(e,this.logService)}}class HS extends M{logService;abilityService;name="Monkey";tier=5;pack="Turtle";attack=1;health=2;initAbilities(){this.addAbility(new kh(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class kh extends E{logService;constructor(e,t){super({name:"MonkeyAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.getFurthestUpPet(t),n=i.pet;if(!n)return void this.triggerTigerExecution(e);const s=2*this.level;n.increaseAttack(s),n.increaseHealth(s),this.logService.createLog({message:`${t.name} gave ${n.name} +${s} attack and +${s} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new kh(e,this.logService)}}class Ml extends E{logService;constructor(e,t){super({name:"ArmadilloAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getAll(!0,r),u=c.pets;if(0!=u.length){for(let h of u){if(!h.alive)continue;let b=8*this.level;h.increaseHealth(b),this.logService.createLog({message:`${r.name} increased health of ${h.name} by ${b}.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random})}this.triggerTigerExecution(e)}}copy(e){return new Ml(e,this.logService)}}class mf extends E{logService;constructor(e,t){super({name:"CowAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} replaced shop food with two free ${1===this.level?"Milk":2===this.level?"Better Milk":"Best Milk"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new mf(e,this.logService)}}class ff extends E{logService;constructor(e,t){super({name:"SealAbility",owner:e,triggers:["FoodEatenByThis"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;if(i!=r)return;let c=this.level,u=r.parent.getRandomPets(3,[r],!0,!1,r);for(let h of u.pets)null!=h&&(h.increaseAttack(c),this.logService.createLog({message:`${r.name} gave ${h.name} ${c} attack.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random}));this.triggerTigerExecution(e)}copy(e){return new ff(e,this.logService)}}class jS extends M{logService;abilityService;name="Chick";tier=1;pack="Turtle";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new yf(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class yf extends E{logService;abilityService;constructor(e,t,i){super({name:"ChickAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new yf(e,this.logService,this.abilityService)}}class bf extends E{logService;abilityService;constructor(e,t,i){super({name:"RoosterAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=Math.max(Math.floor(.5*r.attack),1);for(let u=0;u<this.level;u++){let h=new jS(this.logService,this.abilityService,r.parent,1,c,0,this.minExpForLevel),b=r.parent.summonPet(h,r.savedPosition,!1,r);b.success&&this.logService.createLog({message:`${r.name} spawned Chick (${c}).`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:b.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new bf(e,this.logService,this.abilityService)}}class wh extends E{logService;constructor(e,t){super({name:"SharkAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;if(!r.alive||i==r)return;let c={attack:2*this.level,health:2*this.level},u=r.parent.getThis(r),h=u.pet;null!=h&&(h.increaseAttack(c.attack),h.increaseHealth(c.health),this.logService.createLog({message:`${r.name} gave ${h.name} ${c.attack} attack and ${c.health} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random}),this.triggerTigerExecution(e))}copy(e){return new wh(e,this.logService)}}class ls extends E{logService;constructor(e,t){super({name:"TurkeyAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n,pteranodon:s}=e,r=this.owner,c={attack:3*this.level,health:1*this.level},u=Wn(r,i);if(!u.pet)return;const h=u.pet;h.increaseAttack(c.attack),h.increaseHealth(c.health),Gi(this.logService,r,`${r.name} gave ${h.name} ${c.attack} attack and ${c.health} health.`,n,s,{randomEvent:u.random}),this.triggerTigerExecution(e)}copy(e){return new ls(e,this.logService)}}class US extends E{logService;constructor(e,t){super({name:"LeopardAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=Math.floor(.5*r.attack),u=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,null,null,!0,r);for(let h of u.pets)null!=h&&r.snipePet(h,c,u.random,n);this.triggerTigerExecution(e)}copy(e){return new US(e,this.logService)}}class Eh extends E{logService;constructor(e,t){super({name:"BoarAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c={attack:4*this.level,health:2*this.level},u=r.parent.getThis(r),h=u.pet;null!=h&&(h.increaseAttack(c.attack),h.increaseHealth(c.health),this.logService.createLog({message:`${r.name} gave ${h.name} ${c.attack} attack and ${c.health} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random}),this.triggerTigerExecution(e))}copy(e){return new Eh(e,this.logService)}}class Sf extends E{logService;abilityService;constructor(e,t,i){super({name:"TigerAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){}copy(e){return new Sf(e,this.logService,this.abilityService)}}class VS extends E{logService;abilityService;constructor(e,t,i){super({name:"WolverineAbility",owner:e,triggers:["FriendHurt4"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.opponent.getAll(!1,r),u=c.pets;if(0!=u.length){for(let h of u){let b=-3*this.level;h.increaseHealth(b),this.logService.createLog({message:`${r.name} reduced ${h.name} health by ${Math.abs(b)}`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random})}this.triggerTigerExecution(e)}}copy(e){return new VS(e,this.logService,this.abilityService)}}class Fa extends Ce{name="Coconut";tier=7;equipmentClass="shield";power=999;originalPower=999;uses=1;originalUses=1}class Ch extends E{logService;constructor(e,t){super({name:"GorillaAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:i=>this.owner.alive,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let u=r.parent.getThis(r).pet;null!=u&&(u.givePetEquipment(new Fa),this.logService.createLog({message:`${r.name} gave ${u.name} a Coconut.`,type:"ability",player:r.parent,tiger:n}),this.triggerTigerExecution(e))}reset(){this.maxUses=this.level,super.reset()}copy(e){const t=new Ch(e,this.logService);return t.maxUses=e.level,t}}class zS extends E{logService;abilityService;constructor(e,t,i){super({name:"DragonAbility",owner:e,triggers:["Tier1FriendBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:4,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level,n=t.parent.petArray.filter(s=>s&&s.alive);if(0!==n.length){for(const s of n)s.increaseAttack(i),s.increaseHealth(i);this.logService.createLog({message:`${t.name} gave friends +${i} attack and +${i} health.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}}copy(e){return new zS(e,this.logService,this.abilityService)}}class Pf extends E{logService;constructor(e,t){super({name:"MammothAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=2*this.level,u=r.parent.getAll(!1,r),h=u.pets;if(0!=h.length){for(let b of h)b.increaseAttack(c),b.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${b.name} ${c} attack and ${c} health.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:u.random});this.triggerTigerExecution(e)}}copy(e){return new Pf(e,this.logService)}}class XS extends E{logService;usesThisTurn=0;constructor(e,t){super({name:"CatAbility",owner:e,triggers:["FoodEatenByFriendly","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,{trigger:i,triggerPet:n}=e;if("StartTurn"===i)return void(this.usesThisTurn=0);if(this.usesThisTurn>=2)return;this.usesThisTurn++;const s=this.level+1;this.logService.createLog({message:`${t.name} boosted ${n?.name??"a friend"}'s shop food by ${s}x.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new XS(e,this.logService)}}class _f extends E{logService;constructor(e,t){super({name:"SnakeAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:5,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=5*this.level,u=r.parent.opponent.getRandomPet([],!1,!0,!1,r);u.pet&&(r.snipePet(u.pet,c,u.random,n),this.triggerTigerExecution(e))}copy(e){return new _f(e,this.logService)}}class JS extends M{logService;abilityService;name="Zombie Fly";tier=1;pack="Turtle";hidden=!0;health=4;attack=4;initAbilities(){this.addAbility(new uu(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class uu extends E{logService;abilityService;constructor(e,t,i){super({name:"ZombieFlyAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new uu(e,this.logService,this.abilityService)}}class kf extends E{logService;abilityService;constructor(e,t,i){super({name:"FlyAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,condition:n=>{const{triggerPet:s}=n;return!(s&&s instanceof JS||this.owner.parent.petArray.length>=5)},abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=new JS(this.logService,this.abilityService,r.parent,null,null,null,this.minExpForLevel),u=r.parent.summonPet(c,i.savedPosition,!1,r);u.success&&this.logService.createLog({message:`${r.name} spawned Zombie Fly Level ${this.level}`,type:"ability",player:r.parent,tiger:n,randomEvent:u.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new kf(e,this.logService,this.abilityService)}}const lE={Ant:ru,Cricket:class qT extends M{logService;abilityService;name="Cricket";tier=1;pack="Turtle";health=3;attack=1;initAbilities(){this.addAbility(new qm(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Fish:PS,Horse:class uh extends M{logService;abilityService;name="Horse";tier=1;pack="Turtle";health=1;attack=2;initAbilities(){this.addAbility(new Um(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Mosquito:class UT extends M{logService;abilityService;name="Mosquito";tier=1;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new Wm(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Duck:ou,Beaver:is,Otter:class RR extends M{logService;abilityService;name="Otter";tier=1;pack="Turtle";health=4;attack=1;initAbilities(){this.addAbility(new _S(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Pig:class su extends M{logService;abilityService;name="Pig";tier=1;pack="Turtle";health=1;attack=4;initAbilities(){this.addAbility(new Km(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Pigeon:class kS extends M{logService;abilityService;name="Pigeon";tier=1;pack="Turtle";attack=3;health=1;initAbilities(){this.addAbility(new dh(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Snail:class WT extends M{logService;abilityService;name="Snail";tier=2;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new zm(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Crab:class VT extends M{logService;abilityService;name="Crab";tier=2;pack="Turtle";health=1;attack=4;initAbilities(){this.addAbility(new Ym(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Swan:class KT extends M{logService;abilityService;name="Swan";tier=2;pack="Turtle";health=2;attack=1;initAbilities(){this.addAbility(new Xm(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Rat:class LR extends M{logService;abilityService;name="Rat";tier=2;pack="Turtle";health=6;attack=3;initAbilities(){this.addAbility(new hh(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Hedgehog:class zT extends M{logService;abilityService;name="Hedgehog";tier=2;pack="Turtle";attack=4;health=2;initAbilities(){this.addAbility(new Tl(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Peacock:class YT extends M{logService;abilityService;name="Peacock";tier=2;pack="Turtle";health=5;attack=2;initAbilities(){this.addAbility(new wS(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Flamingo:class TS extends M{logService;abilityService;name="Flamingo";tier=2;pack="Turtle";health=2;attack=3;initAbilities(){this.addAbility(new ph(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Worm:class XT extends M{logService;abilityService;name="Worm";tier=2;pack="Turtle";health=4;attack=1;initAbilities(){this.addAbility(new Qm(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Kangaroo:class ES extends M{logService;abilityService;name="Kangaroo";tier=2;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new lu(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Spider:gh,Dodo:class El extends M{logService;abilityService;name="Dodo";tier=3;pack="Turtle";health=2;attack=4;initAbilities(){this.addAbility(new mh(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Badger:class CS extends M{logService;abilityService;name="Badger";tier=3;pack="Turtle";health=3;attack=6;initAbilities(){this.addAbility(new vo(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Dolphin:fh,Giraffe:class JT extends M{logService;abilityService;name="Giraffe";tier=3;pack="Turtle";attack=1;health=2;initAbilities(){this.addAbility(new yh(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Elephant:class vh extends M{logService;abilityService;name="Elephant";tier=3;pack="Turtle";health=7;attack=3;initAbilities(){this.addAbility(new DS(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Camel:class NR extends M{logService;abilityService;name="Camel";tier=3;pack="Turtle";health=3;attack=3;initAbilities(){this.addAbility(new rs(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Rabbit:class QT extends M{logService;abilityService;name="Rabbit";tier=3;pack="Turtle";health=2;attack=1;initAbilities(){this.addAbility(new Cl(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Ox:class ZT extends M{logService;abilityService;name="Ox";tier=3;pack="Turtle";health=3;attack=1;initAbilities(){this.addAbility(new MS(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Dog:class FR extends M{logService;abilityService;name="Dog";tier=3;pack="Turtle";attack=3;health=2;initAbilities(){this.addAbility(new ef(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Sheep:class OR extends M{logService;abilityService;name="Sheep";tier=3;pack="Turtle";attack=2;health=2;initAbilities(){this.addAbility(new RS(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Parrot:tf,Skunk:class rf extends M{logService;abilityService;name="Skunk";tier=4;pack="Turtle";attack=3;health=5;initAbilities(){this.addAbility(new as(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Hippo:class af extends M{logService;abilityService;name="Hippo";tier=4;pack="Turtle";attack=4;health=6;initAbilities(){this.addAbility(new Dl(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Bison:class NS extends M{logService;abilityService;name="Bison";tier=4;pack="Turtle";attack=4;health=4;initAbilities(){this.addAbility(new os(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Blowfish:class FS extends M{logService;abilityService;name="Blowfish";tier=4;pack="Turtle";attack=3;health=6;initAbilities(){this.addAbility(new sf(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Turtle:class cu extends M{logService;abilityService;name="Turtle";tier=4;pack="Turtle";attack=2;health=5;initAbilities(){this.addAbility(new bh(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Squirrel:class OS extends M{logService;abilityService;name="Squirrel";tier=4;pack="Turtle";attack=3;health=5;initAbilities(){this.addAbility(new Na(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Penguin:class lf extends M{logService;abilityService;name="Penguin";tier=4;pack="Turtle";attack=2;health=3;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Deer:class eE extends M{logService;abilityService;name="Deer";tier=4;pack="Turtle";attack=2;health=2;initAbilities(){this.addAbility(new uf(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Whale:df,Scorpion:class tE extends M{logService;abilityService;name="Scorpion";tier=5;pack="Turtle";attack=1;health=1;initAbilities(){this.addAbility(new pf(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Crocodile:class Sh extends M{logService;abilityService;name="Crocodile";tier=5;pack="Turtle";attack=8;health=4;initAbilities(){this.addAbility(new Ph(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Rhino:class GS extends M{logService;abilityService;name="Rhino";tier=5;pack="Turtle";attack=6;health=7;initAbilities(){this.addAbility(new _h(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Monkey:HS,Armadillo:class gf extends M{logService;abilityService;name="Armadillo";tier=5;pack="Turtle";attack=4;health=8;initAbilities(){this.addAbility(new Ml(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Cow:class iE extends M{logService;abilityService;name="Cow";tier=5;pack="Turtle";attack=4;health=6;initAbilities(){this.addAbility(new mf(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Seal:class nE extends M{logService;abilityService;name="Seal";tier=5;pack="Turtle";attack=3;health=8;initAbilities(){this.addAbility(new ff(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Rooster:class vf extends M{logService;abilityService;name="Rooster";tier=5;pack="Turtle";attack=6;health=5;initAbilities(){this.addAbility(new bf(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Shark:class qS extends M{logService;abilityService;name="Shark";tier=5;pack="Turtle";attack=2;health=2;initAbilities(){this.addAbility(new wh(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Turkey:class rE extends M{logService;abilityService;name="Turkey";tier=5;pack="Turtle";attack=3;health=4;initAbilities(){this.addAbility(new ls(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Leopard:class Th extends M{logService;abilityService;name="Leopard";tier=6;pack="Turtle";attack=10;health=4;initAbilities(){this.addAbility(new US(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Boar:class aE extends M{logService;abilityService;name="Boar";tier=6;pack="Turtle";attack=10;health=6;initAbilities(){this.addAbility(new Eh(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Tiger:class Af extends M{logService;abilityService;name="Tiger";tier=6;pack="Turtle";attack=6;health=4;initAbilities(){this.addAbility(new Sf(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Wolverine:class WS extends M{logService;abilityService;name="Wolverine";tier=6;pack="Turtle";attack=5;health=7;initAbilities(){this.addAbility(new VS(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Gorilla:class oE extends M{logService;abilityService;name="Gorilla";tier=6;pack="Turtle";attack=7;health=10;initAbilities(){this.addAbility(new Ch(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Dragon:class KS extends M{logService;abilityService;name="Dragon";tier=6;pack="Turtle";attack=3;health=8;initAbilities(){this.addAbility(new zS(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Mammoth:class YS extends M{logService;abilityService;name="Mammoth";tier=6;pack="Turtle";attack=4;health=12;initAbilities(){this.addAbility(new Pf(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Cat:class BR extends M{logService;abilityService;name="Cat";tier=6;pack="Turtle";attack=4;health=5;initAbilities(){this.addAbility(new XS(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Snake:class $R extends M{logService;abilityService;name="Snake";tier=6;pack="Turtle";attack=8;health=3;initAbilities(){this.addAbility(new _f(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Fly:class sE extends M{logService;abilityService;name="Fly";tier=6;pack="Turtle";attack=4;health=4;initAbilities(){this.addAbility(new kf(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}};class us extends E{logService;constructor(e,t){super({name:"MothAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getFurthestUpPet(r),u=c.pet;if(null==u)return;let h=2*this.level;u.increaseAttack(h),this.logService.createLog({message:`${r.name} gave ${u.name} ${h} attack.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new us(e,this.logService)}}class du extends E{logService;abilityService;constructor(e,t,i){super({name:"BluebirdAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.parent.getRandomPet([t]),n=i.pet;if(!n)return;const s=this.level;n.increaseAttack(s),this.logService.createLog({message:`${t.name} gave ${n.name} +${s} attack.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new du(e,this.logService,this.abilityService)}}class QS extends M{logService;abilityService;name="Loyal Chinchilla";tier=1;pack="Puppy";hidden=!0;health=2;attack=2;initAbilities(){this.addAbility(new bo(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class bo extends E{logService;abilityService;constructor(e,t,i){super({name:"LoyalChinchillaAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new bo(e,this.logService,this.abilityService)}}class Tf extends E{logService;abilityService;constructor(e,t,i){super({name:"ChinchillaAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level,s=2*i,r=new QS(this.logService,this.abilityService,t.parent,s,s,null,this.minExpForLevel),c=t.parent.summonPet(r,t.savedPosition,!1,t);c.success&&this.logService.createLog({message:`${t.name} summoned a ${s}/${s} Loyal Chinchilla (level ${i}).`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:c.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Tf(e,this.logService,this.abilityService)}}class hu extends Ce{name="Walnut";tier=1;equipmentClass="shield";power=2;originalPower=2;uses=1;originalUses=1}class Ef extends E{logService;abilityService;constructor(e,t,i){super({name:"BeetleAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c;switch(this.level){case 1:c=new hu;break;case 2:c=new hu,c.power=4,c.originalPower=4;break;case 3:c=new hu,c.power=6,c.originalPower=6}let u=r.parent.getPetsWithEquipment(c.name),h=r.parent.nearestPetsBehind(1,r,u);if(0===h.pets.length)return;let b=h.pets[0];this.logService.createLog({message:`${r.name} gave ${b.name} ${c.name}.`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random}),b.givePetEquipment(c),this.triggerTigerExecution(e)}copy(e){return new Ef(e,this.logService,this.abilityService)}}class xl extends E{logService;constructor(e,t){super({name:"LadybugAbility",owner:e,triggers:["FriendlyGainsPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=2*this.level,u=r.parent.getThis(r);u.pet&&(u.pet.increaseAttack(c),this.logService.createLog({message:`${r.name} gave ${u.pet.name} ${c} attack.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random})),this.triggerTigerExecution(e)}copy(e){return new xl(e,this.logService)}}class Dh extends E{logService;abilityService;constructor(e,t,i){super({name:"ChipmunkAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.equipment,n=this.level;if(!i)return this.logService.createLog({message:`${t.name} had no food perk to stock.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),void this.triggerTigerExecution(e);this.logService.createLog({message:`${t.name} stocked ${n} free ${i.name}${1===n?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Dh(e,this.logService,this.abilityService)}}class Il extends E{logService;constructor(e,t){super({name:"GeckoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null!=this.owner.parent.toy,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=2*this.level,h=r.parent.getThis(r).pet;null!=h&&(h.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${h.name} ${c} health.`,type:"ability",player:r.parent,tiger:n}),this.triggerTigerExecution(e))}copy(e){return new Il(e,this.logService)}}let Mt=(()=>{class a{static injector;static setInjector(t){a.injector||(a.injector=t)}static getInjector(){return a.injector}static \u0275fac=function(i){return new(i||a)};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const hE={Turtle:["Cake","Chili","Coconut","Garlic","Honey","Meat Bone","Melon","Mushroom","Peanut","Steak"],Puppy:["Blackberry","Croissant","Egg","Eucalyptus","Lemon","Lime","Mild Chili","Pancakes","Pie","Rice","Salt","Skewer","Squash","Walnut"],Star:["Baguette","Caramel","Carrot","Cheese","Cucumber","Grapes","Pepper","Popcorn","Seaweed","Strawberry"],Golden:["Banana","Bok Choy","Cherry","Chocolate Cake","Durian","Eggplant","Fig","Honeydew Melon","Maple Syrup","Onion","Pita Bread","Potato","Tomato"],Unicorn:["Ambrosia","Easter Egg","Faint Bread","Fairy Dust","Gingerbread Man","Golden Egg","Health Potion","Love Potion","Magic Beans","Rambutan","Yggdrasil Fruit"],Danger:["Cocoa Bean","Cod Roe","Gros Michel Banana","Sudduth Tomato","White Okra","White Truffle"],Custom:["Blueberry","Brussels Sprout","Cashew Nut","Cauliflower","Churros","Donut","Fortune Cookie","Guava","Kiwano","Kiwifruit","Macaron","Melon Slice","Nachos","Oyster Mushroom","Pineapple","Pumpkin","Radish","Sardinian Currant","Sausage","Unagi"],Hidden:["Cake Slice","Peanut Butter"]},eP={Ailments:["Bloated","Cold","Confused","Crisp","Cursed","Dazed","Icky","Inked","Sad","Silly","Sleepy","Spooked","Tasty","Toasty","Weak","Webbed"]};function pu(a){const e=a.filter(t=>!!t).sort((t,i)=>i.length-t.length).map(t=>function iP(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(t));return e.length?new RegExp(`(?<![A-Za-z0-9])(${e.join("|")})(?![A-Za-z0-9])`,"g"):null}function Cf(a,e,t,i){if(!a||a.includes("<img")||!e)return a;let n=xh(a,e,h=>function gu(a,e,t){const i=e.get(a)??null;if("pet"===i)return In(a);if("toy"===i)return iu(a);if("equipment"===i){const n=t.has(a);return Pr(a,n)??Pr(a,!n)}return null}(h,t,i),h=>function pE(a,e,t){if("equipment"!==(e.get(a)??null))return null;const n=t.has(a),s=Pr(a,n);if(!s)return null;const r=Pr(a,!n);return`<img src="${s}" class="log-inline-icon" alt="${a}" onerror="if(!this.dataset.step){${r?`this.dataset.step='1';this.src='${r}';`:"this.dataset.step='1';"}return;}this.remove();"> ${a}`}(h,t,i));return n=xh(n,/(?<![A-Za-z0-9])mana(?![A-Za-z0-9])(?!\s+Potion)/gi,()=>"assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/mana.png"),n=xh(n,/(?<![A-Za-z0-9])(?:xp|exp)(?![A-Za-z0-9])/gi,()=>"assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/xp.png"),n}function xh(a,e,t,i){return a.split(/(<[^>]+>)/g).map(n=>n.startsWith("<")?n:function gE(a,e,t,i){return e?a.replace(e,n=>{const s=t(n);if(i){const r=i(n,s);if(r)return r}return s?`<img src="${s}" class="log-inline-icon" alt="${n}" onerror="this.remove()"> ${n}`:n}):a}(n,e,t,i)).join("")}function rP(a,e){const t=mu(a,"lost","attack"),i=mu(e,"lost","health");if(t&&i&&t.prefix===i.prefix&&t.suffix===i.suffix)return`${t.prefix}${t.value} attack and ${i.value} health${t.suffix}`;const n=mu(a,"gave","attack"),s=mu(e,"gave","health");return n&&s&&n.prefix===s.prefix&&n.suffix===s.suffix?`${n.prefix}${n.plus}${n.value} attack and ${s.plus}${s.value} health${n.suffix}`:null}function mu(a,e,t){if("lost"===e){const s=new RegExp(`^(.*\\blost\\s+)(\\d+)\\s+${t}\\b(.*)$`,"i"),r=a.match(s);return r?{prefix:r[1],plus:"",value:r[2],suffix:r[3]}:null}const i=new RegExp(`^(.*\\b(?:gave|give|gives)\\b.*?\\s+)(\\+?)(\\d+)\\s+${t}\\b(.*)$`,"i"),n=a.match(i);return n?{prefix:n[1],plus:n[2]??"",value:n[3],suffix:n[4]}:null}function aP(a){return a.replace(/<[^>]+>/g,"").trim()}function Fr(a,e,t){if(null==a)return"___ (-/-) ";const i=e(a),n=null!=i?`${a.parent?.isOpponent?"O":"P"}${i} `:"",s=In(a.name),r=s?`<img src="${s}" class="log-pet-icon" alt="${a.name}">`:"",c="string"==typeof a.equipment?.name?a.equipment.name:null;return`${n}${r}${c?(()=>{const h=t(c),b=Pr(c,h)??Pr(c,!h);if(!b)return"";const D=Pr(c,!h);return`<img src="${b}" class="log-inline-icon" alt="${c}" onerror="if(!this.dataset.step){${D?`this.dataset.step='1';this.src='${D}';`:"this.dataset.step='1';"}return;}this.remove()">`})():""}(${a.attack}/${a.health}) `}let Vn=(()=>{class a{logs=[];petNameRegex;toyNameRegex;equipmentNameRegex;inlineNameRegex;inlineNameTypeMap;ailmentNames;enabled=!0;deferDecorations=!1;showTriggerNamesInLogs=!1;constructor(){const t=function sh(){return[...BT]}(),i=function GT(){return[...fS]}(),n=function _l(){return[...$m]}();this.petNameRegex=pu(t),this.toyNameRegex=pu(i),this.equipmentNameRegex=pu(n),this.inlineNameTypeMap=function tP(a,e,t){const i=new Map;for(const n of t)n&&i.set(n,"equipment");for(const n of e)n&&i.set(n,"toy");for(const n of a)n&&i.set(n,"pet");return i}(t,i,n),this.inlineNameRegex=function GR(a,e,t){const i=new Set;return a.forEach(n=>n&&i.add(n)),e.forEach(n=>n&&i.add(n)),t.forEach(n=>n&&i.add(n)),pu(Array.from(i))}(t,i,n),this.ailmentNames=new Set(Object.values(eP).flat().filter(Boolean))}setEnabled(t){this.enabled=!!t,this.enabled||(this.logs=[])}isEnabled(){return this.enabled}setDeferDecorations(t){this.deferDecorations=!!t}isDeferDecorations(){return this.deferDecorations}setShowTriggerNamesInLogs(t){this.showTriggerNamesInLogs=!!t}isShowTriggerNamesInLogs(){return this.showTriggerNamesInLogs}decorateLogIfNeeded(t){if(!t||t.decorated||!t.rawMessage)return;const i=this.decorateMessageWithNames(t.rawMessage,t.sourcePet,t.targetPet,t.sourceIndex,t.targetIndex);t.message=Cf(i,this.inlineNameRegex,this.inlineNameTypeMap,this.ailmentNames),t.decorated=!0}createLog(t){if(!this.enabled)return;if(t.message?.startsWith("Phase ")&&(t.bold=!0),!t.sourcePet&&t.player&&t.message){const H=t.player.petArray.filter(Y=>Y&&t.message.startsWith(Y.name));1===H.length&&(t.sourcePet=H[0])}"attack"===t.type&&t.player&&t.message&&this.resolveAttackPetsFromMessage(t),!t.randomEventReason&&!0===t.randomEvent&&(t.randomEventReason="true-random"),t.player&&t.message&&this.resolveSourceTargetFromMessage(t),t.sourcePet&&null==t.sourceIndex&&(t.sourceIndex=this.getFrontIndex(t.sourcePet)??void 0),t.targetPet&&null==t.targetIndex&&(t.targetIndex=this.getFrontIndex(t.targetPet)??void 0);let i=t.message??"";this.deferDecorations||(i=this.decorateMessageWithNames(i,t.sourcePet,t.targetPet,t.sourceIndex,t.targetIndex)),t.tiger&&(i+=" (Tiger)"),t.puma&&(i+=" (Puma)"),t.pteranodon&&(i+=" (Pteranodon)"),null!=t.pantherMultiplier&&t.pantherMultiplier>1&&(i+=` x${t.pantherMultiplier} (Panther)`),i&&(this.deferDecorations?(t.rawMessage=i,t.message=i,t.decorated=!1):(t.message=Cf(i,this.inlineNameRegex,this.inlineNameTypeMap,this.ailmentNames),t.decorated=!0));const n=this.logs[this.logs.length-1];if(this.tryMergeAttackHealthLogs(n,t))return;const s=n?.player===t.player,r=n?.message?.trim()===t.message?.trim();n&&r&&s&&n?.randomEvent===t.randomEvent&&n?.randomEventReason===t.randomEventReason&&(null==t.sourcePet&&null==t.targetPet&&null==t.sourceIndex&&null==t.targetIndex||n?.sourcePet===t.sourcePet&&n?.sourceIndex===t.sourceIndex&&n?.targetPet===t.targetPet&&n?.targetIndex===t.targetIndex)?n.count=(n.count??1)+1:this.logs.push(t)}getLogs(){return this.logs}reset(){this.logs=[]}getFrontIndex(t){const i=t?.parent;return i?i.pet0===t?1:i.pet1===t?2:i.pet2===t?3:i.pet3===t?4:i.pet4===t?5:null:null}decorateMessage(t,i){const n=this.getFrontIndex(i);return null==n?t:this.replaceFirst(t,i.name,`${i.parent?.isOpponent?"O":"P"}${n} ${i.name}`)}decorateAttackMessage(t,i,n,s,r){const c=s??this.getFrontIndex(i),u=r??this.getFrontIndex(n);if(null==c||null==u)return t;const D=`${i.parent?.isOpponent?"O":"P"}${c} ${i.name}`,H=`${n.parent?.isOpponent?"O":"P"}${u} ${n.name}`,Y="___SOURCE_HOLDER___",ue="___TARGET_HOLDER___";let he=this.replaceFirst(t,i.name,Y);return he=this.replaceFirst(he,n.name,ue),he=he.replace(Y,D),he=he.replace(ue,H),he}decorateMessageWithNames(t,i,n,s,r){return t?i&&n?this.decorateAttackMessage(t,i,n,s,r):i?null!=s?this.replaceFirst(t,i.name,`${i.parent?.isOpponent?"O":"P"}${s} ${i.name}`):this.decorateMessage(t,i):t:t}replaceFirst(t,i,n){const s=t.indexOf(i);return-1===s?t:t.slice(0,s)+n+t.slice(s+i.length)}resolveAttackPetsFromMessage(t){if(!t?.message||!t.player||t.sourcePet&&t.targetPet)return;const i=t.message,n=/^(.+?)\s+sniped\s+(.+?)\s+for\s+/i.exec(i),s=/^(.+?)\s+(?:jump-)?attacks?\s+(.+?)\s+for\s+/i.exec(i),r=n??s;if(!r)return;const c=r[1].trim(),u=r[2].trim(),h=t.player.petArray??[],b=t.player.opponent?.petArray??[];t.sourcePet||(t.sourcePet=h.find(D=>D?.name===c)??null),t.targetPet||(t.targetPet=b.find(D=>D?.name===u)??h.find(D=>D?.name===u)??null)}isAilmentName(t){return this.ailmentNames.has(t)}resolveSourceTargetFromMessage(t){if(t.sourcePet&&t.targetPet)return;const i=t.message;if(!i)return;const n=this.extractPetNames(i);if(n.length<2)return;const s=t.player?.petArray??[],r=t.player?.opponent?.petArray??[],c=(u,h,b)=>u.find(D=>D?.name===h&&D!==b)??null;t.sourcePet||(t.sourcePet=c(s,n[0])??c(r,n[0])),t.targetPet||(t.targetPet=n[1]===n[0]?t.sourcePet&&i.startsWith(t.sourcePet.name)&&t.sourcePet?t.sourcePet:c(s,n[1],t.sourcePet)??c(r,n[1],t.sourcePet)??t.sourcePet??null:c(r,n[1])??c(s,n[1]))}extractPetNames(t){return this.petNameRegex&&t?t.match(this.petNameRegex)??[]:[]}tryMergeAttackHealthLogs(t,i){const n=function nP(a,e){if(!a||!e||a.player!==e.player||a.type!==e.type||a.randomEvent!==e.randomEvent||a.randomEventReason!==e.randomEventReason||a.sourcePet!==e.sourcePet||a.sourceIndex!==e.sourceIndex||a.targetPet!==e.targetPet||a.targetIndex!==e.targetIndex||a.tiger!==e.tiger||a.puma!==e.puma||a.pteranodon!==e.pteranodon)return null;if((a.pantherMultiplier??null)!==(e.pantherMultiplier??null))return null;const n=aP(a.rawMessage??a.message??""),s=aP(e.rawMessage??e.message??"");return!n||!s||n.includes(" attack and ")||n.includes(" health and ")||s.includes(" attack and ")||s.includes(" health and ")?null:rP(n,s)??rP(s,n)}(t,i);if(!n)return!1;if(this.deferDecorations)t.rawMessage=n,t.message=n,t.decorated=!1;else{const s=this.decorateMessageWithNames(n,t.sourcePet,t.targetPet,t.sourceIndex,t.targetIndex);t.message=Cf(s,this.inlineNameRegex,this.inlineNameTypeMap,this.ailmentNames),t.decorated=!0}return!0}printState(t,i,n){if(!this.enabled)return;n&&this.createLog({message:n,type:"board"});const s=function Ih(a,e,t,i){let n="";n+=Fr(a.pet4,t,i),n+=Fr(a.pet3,t,i),n+=Fr(a.pet2,t,i),n+=Fr(a.pet1,t,i),n+=Fr(a.pet0,t,i);let s="";return s+=Fr(e.pet0,t,i),s+=Fr(e.pet1,t,i),s+=Fr(e.pet2,t,i),s+=Fr(e.pet3,t,i),s+=Fr(e.pet4,t,i),`${n}| ${s}`}(t,i,r=>this.getFrontIndex(r),r=>this.isAilmentName(r));this.createLog({message:s,type:"board"})}static \u0275fac=function(i){return new(i||a)};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();class Rh{triggerSummonEvents(e){const t=e?.parent;if(t&&Array.isArray(t.petArray)){this.triggerFriendSummonedToyEvents(t,e);for(let n of this.abilityQueueService.getTeam(t))n==e?this.abilityQueueService.triggerAbility(n,"ThisSummoned",e):(this.abilityQueueService.triggerAbility(n,"FriendSummoned",e),this.abilityQueueService.handleNumberedCounterTriggers(n,e,void 0,this.abilityQueueService.getNumberedTriggersForPet(n,"FriendSummoned")),"Bee"===e.name&&this.abilityQueueService.triggerAbility(n,"BeeSummoned",e));(t.opponent&&Array.isArray(t.opponent.petArray)?t.opponent.petArray:[]).forEach(n=>this.abilityQueueService.triggerAbility(n,"EnemySummoned",e)),this.executeFriendSummonedToyEvents()}}triggerFaintEvents(e){this.faintEventService.triggerFaintEvents(e)}triggerAfterFaintEvents(e){this.faintEventService.triggerAfterFaintEvents(e)}triggerFoodEvents(e,t){!function mE(a,e,t){for(const i of a.getTeam(e))a.triggerAbility(i,"FoodEatenByAny",e),a.triggerAbility(i,"FoodEatenByFriendly",e),i==e?(a.triggerAbility(i,"FoodEatenByThis",e),"apple"===t?(a.triggerAbility(i,"AppleEatenByThis",e),a.handleNumberedCounterTriggers(i,e,void 0,a.getNumberedTriggersForPet(i,"AppleEatenByThis"))):"corn"===t&&a.triggerAbility(i,"CornEatenByThis",e),a.handleNumberedCounterTriggers(i,e,void 0,a.getNumberedTriggersForPet(i,"Eat"))):(a.triggerAbility(i,"FoodEatenByFriend",e),"corn"===t&&a.triggerAbility(i,"CornEatenByFriend",e));for(const i of a.getTeam(e.parent?.opponent))a.triggerAbility(i,"FoodEatenByAny",e)}(this.abilityQueueService,e,t)}triggerPerkGainEvents(e,t){!function fE(a,e,t){for(const i of a.getTeam(e))a.triggerAbility(i,"FriendlyGainsPerk",e),"Strawberry"===t&&a.triggerAbility(i,"FriendlyGainedStrawberry",e),i==e?(a.triggerAbility(i,"ThisGainedPerk",e),"Strawberry"===t&&a.triggerAbility(i,"ThisGainedStrawberry",e)):(a.triggerAbility(i,"FriendGainsPerk",e),"Strawberry"===t&&a.triggerAbility(i,"FriendGainedStrawberry",e))}(this.abilityQueueService,e,t)}triggerPerkLossEvents(e,t){!function Df(a,e,t){for(const i of a.getTeam(e))a.triggerAbility(i,"PetLostPerk",e),"strawberry"===t&&a.triggerAbility(i,"LostStrawberry",e),i==e?a.triggerAbility(i,"ThisLostPerk",e):(a.triggerAbility(i,"FriendLostPerk",e),"strawberry"===t&&a.triggerAbility(i,"FriendLostStrawberry",e));for(const i of a.getTeam(e.parent?.opponent))a.triggerAbility(i,"PetLostPerk",e)}(this.abilityQueueService,e,t)}triggerAilmentGainEvents(e,t){!function Rl(a,e,t){for(const i of a.getTeam(e))a.triggerAbility(i,"AnyoneGainedAilment",e),a.triggerAbility(i,i==e?"ThisGainedAilment":"FriendGainsAilment",e),"weak"===t&&a.triggerAbility(i,"AnyoneGainedWeak",e);for(const i of a.getTeam(e.parent?.opponent))a.triggerAbility(i,"EnemyGainedAilment",e),a.triggerAbility(i,"AnyoneGainedAilment",e),"weak"===t&&a.triggerAbility(i,"AnyoneGainedWeak",e)}(this.abilityQueueService,e,t)}triggerTransformEvents(e){const t=e.transformedInto;if(t)for(let i of this.abilityQueueService.getTeam(t))i==t?this.abilityQueueService.triggerAbility(i,"ThisTransformed",t):(this.abilityQueueService.triggerAbility(i,"FriendTransformed",t),this.abilityQueueService.handleNumberedCounterTriggers(i,t,void 0,this.abilityQueueService.getNumberedTriggersForPet(i,"FriendTransformed")))}triggerFlungEvents(e){for(let t of this.abilityQueueService.getTeam(e))this.abilityQueueService.triggerAbility(t,"AnyoneFlung",e),t!=e&&this.abilityQueueService.triggerAbility(t,"FriendFlung",e);for(let t of this.abilityQueueService.getTeam(e.parent?.opponent))this.abilityQueueService.triggerAbility(t,"AnyoneFlung",e)}triggerPushedEvents(e){for(let t of this.abilityQueueService.getTeam(e.parent?.opponent))this.abilityQueueService.triggerAbility(t,"EnemyPushed",e)}triggerKillEvents(e,t){t.parent!==e.parent&&this.abilityQueueService.triggerAbility(e,"KnockOut",t)}triggerHurtEvents(e,t){const i=void 0!==t?{damageAmount:t}:void 0;for(let n of this.abilityQueueService.getTeam(e))this.abilityQueueService.triggerAbility(n,"AnyoneHurt",e,i),n==e?(this.abilityQueueService.triggerAbility(n,"ThisHurt",e,i),this.abilityQueueService.handleNumberedCounterTriggers(n,e,i,this.abilityQueueService.getNumberedTriggersForPet(n,"ThisHurt"))):(this.abilityQueueService.triggerAbility(n,"FriendHurt",e,i),this.abilityQueueService.handleNumberedCounterTriggers(n,e,i,this.abilityQueueService.getNumberedTriggersForPet(n,"FriendHurt"))),n==e.petBehind(void 0,!0)&&this.abilityQueueService.triggerAbility(n,"FriendAheadHurt",e,i),(n==n.petBehind()||n.petAhead)&&this.abilityQueueService.triggerAbility(n,"AdjacentFriendsHurt",e,i),n.position<e.position&&this.abilityQueueService.triggerAbility(n,"AnyoneBehindHurt",e,i);for(let n of this.abilityQueueService.getTeam(e.parent?.opponent))this.abilityQueueService.triggerAbility(n,"EnemyHurt",e,i),this.abilityQueueService.triggerAbility(n,"AnyoneHurt",e,i),this.abilityQueueService.handleNumberedCounterTriggers(n,e,i,this.abilityQueueService.getNumberedTriggersForPet(n,"EnemyHurt"))}triggerLevelUpEvents(e){let t=e.parent;this.triggerFriendlyLevelUpToyEvents(t,e);for(let i of t.petArray)this.abilityQueueService.triggerAbility(i,"AnyLeveledUp",e),this.abilityQueueService.triggerAbility(i,"FriendlyLeveledUp",e),i==e?this.abilityQueueService.triggerAbility(i,"ThisLeveledUp",e):(this.abilityQueueService.triggerAbility(i,"FriendLeveledUp",e),this.abilityQueueService.handleNumberedCounterTriggers(i,e,void 0,this.abilityQueueService.getNumberedTriggersForPet(i,"FriendlyLeveledUp")));if(t.opponent&&Array.isArray(t.opponent.petArray))for(let i of t.opponent.petArray)this.abilityQueueService.triggerAbility(i,"AnyLeveledUp",e)}triggerEmptyFrontSpaceEvents(e){for(let t of e.petArray)t.clearFrontTriggered||(this.abilityQueueService.triggerAbility(t,"EmptyFrontSpace"),t.clearFrontTriggered=!0)}executeEmptyFrontSpaceEvents(){this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:e=>"EmptyFrontSpace"===e.abilityType,onExecute:e=>this.logTriggerHeader(e)}),this.clearLastLoggedTrigger()}triggerToyBrokeEvents(e){for(let t of e.petArray)this.abilityQueueService.triggerAbility(t,"FriendlyToyBroke")}triggerJumpEvents(e){this.triggerFriendJumpedToyEvents(e.parent,e);for(let t of this.abilityQueueService.getTeam(e))this.abilityQueueService.triggerAbility(t,"AnyoneJumped",e),t==e||(this.abilityQueueService.triggerAbility(t,"FriendJumped",e),this.abilityQueueService.handleNumberedCounterTriggers(t,e,void 0,this.abilityQueueService.getNumberedTriggersForPet(t,"FriendJumped")));for(let t of this.abilityQueueService.getTeam(e.parent?.opponent))this.abilityQueueService.triggerAbility(t,"AnyoneJumped",e);this.executeFriendJumpedToyEvents()}triggerManaGainedEvents(e){this.abilityQueueService.triggerAbility(e,"ThisGainedMana",e)}setManaEvent(e){e.abilityType="ManaSnipe",this.abilityQueueService.addEventToQueue(e)}setgoldenRetrieverSummonsEvent(e){e.abilityType="GoldenRetrieverSummons",this.abilityQueueService.addEventToQueue(e)}triggerFriendGainsHealthEvents(e){}triggerFriendGainedExperienceEvents(e){for(let t of this.abilityQueueService.getTeam(e))this.abilityQueueService.triggerAbility(t,"FriendlyGainedExp",e),t!==e&&this.abilityQueueService.triggerAbility(t,"FriendGainedExp",e)}triggerEmptyFrontSpaceToyEvents(e){this.toyEventService.triggerEmptyFrontSpaceToyEvents(e)}executeEmptyFrontSpaceToyEvents(){this.toyEventService.executeEmptyFrontSpaceToyEvents()}triggerFriendSummonedToyEvents(e,t){this.toyEventService.triggerFriendSummonedToyEvents(e,t)}executeFriendSummonedToyEvents(){this.toyEventService.executeFriendSummonedToyEvents()}triggerFriendlyLevelUpToyEvents(e,t){this.toyEventService.triggerFriendlyLevelUpToyEvents(e,t)}executeFriendlyLevelUpToyEvents(){this.toyEventService.executeFriendlyLevelUpToyEvents()}triggerFriendFaintsToyEvents(e,t){this.toyEventService.triggerFriendFaintsToyEvents(e,t)}executeFriendFaintsToyEvents(){this.toyEventService.executeFriendFaintsToyEvents()}triggerFriendJumpedToyEvents(e,t){this.toyEventService.triggerFriendJumpedToyEvents(e,t)}executeFriendJumpedToyEvents(){this.toyEventService.executeFriendJumpedToyEvents()}}let Or=(()=>{class a{gameApi;constructor(){}init(t,i){this.gameApi={player:t,opponent:i}}setTierGroupPets(t,i){null!=t&&(this.gameApi.playerPetPool=t),null!=i&&(this.gameApi.opponentPetPool=i)}setPreviousShopTier(t){this.gameApi.previousShopTier=t}setTurnNumber(t){this.gameApi.turnNumber=t}setGoldSpent(t,i){null!=t&&(this.gameApi.playerGoldSpent=t),null!=i&&(this.gameApi.opponentGoldSpent=i)}static \u0275fac=function(i){return new(i||a)};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),ds=(()=>{class a{gameService;logService;startOfBattleToyEvents=[];emptyFrontSpaceToyEvents=[];friendSummonedToyEvents=[];friendlyLevelUpToyEvents=[];friendFaintsToyEvents=[];friendJumpedToyEvents=[];constructor(t,i){this.gameService=t,this.logService=i}enqueueToyEvents(t,i,n,s){this.addToyEvent(t,{callback:s,priority:100,level:i.toy.level,triggerPet:n,player:i});const r=i.petArray.filter(c=>"Puma"===c.name);for(const c of r)this.addToyEvent(t,{callback:s,priority:+c.attack,level:c.level,triggerPet:n,player:i})}addToyEvent(t,i){t.push(i)}setStartOfBattleEvent(t){t.tieBreaker=Math.random(),this.startOfBattleToyEvents.push(t)}executeStartOfBattleEvents(){const t=xn(this.startOfBattleToyEvents);t.sort((n,s)=>n.priority!==s.priority?s.priority-n.priority:(s.tieBreaker??0)-(n.tieBreaker??0));const i=new Map;for(const n of t)i.set(n.priority,(i.get(n.priority)??0)+1);for(const n of t){const s=(i.get(n.priority)??0)>1;this.logStartOfBattleToyEvent(n,s,s?"tie-broken":"deterministic"),n.callback(this.gameService.gameApi)}this.startOfBattleToyEvents=[]}logStartOfBattleToyEvent(t,i,n){const s=t.player?.toy?.name;s&&this.logService.createLog({message:`${t.player?.isOpponent?"Opponent's":"Player's"} ${s} activated at start of battle${t.triggerPet?.name?` (${t.triggerPet.name})`:""}`,type:"ability",player:t.player,randomEvent:i,randomEventReason:n})}executeToyEventQueue(t,i,n,s){const r=xn(t);r.sort((u,h)=>u.priority>h.priority?-1:u.priority<h.priority?1:0);const c=new Map;for(const u of r)c.set(u.priority,(c.get(u.priority)??0)+1);for(const u of r){if(n&&(null==s||s(u))){const h=(c.get(u.priority)??0)>1;this.logToyEvent(u,n,h,h?"tie-broken":"deterministic")}i(u)}t.length=0}logToyEvent(t,i,n,s){const r=t.player?.toy?.name;r&&this.logService.createLog({message:`${r} ${i}${t.triggerPet?.name?` (${t.triggerPet.name})`:""}`,type:"ability",player:t.player,randomEvent:n,randomEventReason:s})}triggerEmptyFrontSpaceToyEvents(t){if(null!=t.toy?.emptyFromSpace){if(t.toy.used)return;this.enqueueToyEvents(this.emptyFrontSpaceToyEvents,t,void 0,t.toy.emptyFromSpace.bind(t.toy))}}executeEmptyFrontSpaceToyEvents(){this.executeToyEventQueue(this.emptyFrontSpaceToyEvents,t=>{t.callback(this.gameService.gameApi,t.priority<100,t.level,t.priority)},"triggered after empty front space")}triggerFriendSummonedToyEvents(t,i){null!=t.toy?.friendSummoned&&this.enqueueToyEvents(this.friendSummonedToyEvents,t,i,t.toy.friendSummoned.bind(t.toy))}executeFriendSummonedToyEvents(){this.executeToyEventQueue(this.friendSummonedToyEvents,t=>{t.callback(this.gameService.gameApi,t.triggerPet,t.priority<100,t.level)},"reacted to friend summoned")}triggerFriendlyLevelUpToyEvents(t,i){t==i.parent&&null!=t.toy?.friendlyLevelUp&&this.enqueueToyEvents(this.friendlyLevelUpToyEvents,t,i,t.toy.friendlyLevelUp.bind(t.toy))}executeFriendlyLevelUpToyEvents(){this.executeToyEventQueue(this.friendlyLevelUpToyEvents,t=>{t.callback(this.gameService.gameApi,t.triggerPet,t.priority<100,t.level)},"reacted to friendly level up")}triggerFriendFaintsToyEvents(t,i){t==i.parent&&null!=t.toy?.friendFaints&&this.enqueueToyEvents(this.friendFaintsToyEvents,t,i,t.toy.friendFaints.bind(t.toy))}executeFriendFaintsToyEvents(){this.executeToyEventQueue(this.friendFaintsToyEvents,t=>{t.callback(this.gameService.gameApi,t.triggerPet,t.priority<100,t.level)},"reacted to friend fainting",t=>!t.player?.toy?.suppressFriendFaintLog)}triggerFriendJumpedToyEvents(t,i){t==i.parent&&null!=t.toy?.friendJumped&&this.enqueueToyEvents(this.friendJumpedToyEvents,t,i,t.toy.friendJumped.bind(t.toy))}executeFriendJumpedToyEvents(){this.executeToyEventQueue(this.friendJumpedToyEvents,t=>{t.callback(this.gameService.gameApi,t.triggerPet,t.priority<100,t.level)},"reacted to friend jumping")}static \u0275fac=function(i){return new(i||a)(P.KVO(Or),P.KVO(Vn))};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const Mf={ThisLeveledUp:1,FriendLeveledUp:2,FriendlyLeveledUp:2,ThisHurt:3,FriendHurt:4,EnemyHurt:4,AnyoneHurt:4,FriendAheadHurt:4,AnyoneBehindHurt:4,ThisGainedMana:5,ThisSummoned:6,FriendSummoned:7,EnemySummoned:7,BeeSummoned:7,EnemyPushed:8,FriendJumped:8,AnyoneJumped:8,Faint:9,FriendFaints:9,FriendAheadFainted:10,KnockOut:13,ThisTransformed:14,FriendTransformed:15,FriendGainedExp:16,FoodEatenByThis:17,FoodEatenByFriendly:17,AppleEatenByThis:17,CornEatenByFriend:17,CounterEvent:18,FriendLostPerk:19,PetLostPerk:19,ThisGainedPerk:20,FriendlyGainsPerk:21,FriendlyGainedStrawberry:21,ThisGainedAilment:20,FriendGainsAilment:21,EnemyGainedAilment:21,AnyoneGainedAilment:21,AnyoneFlung:22,ManaSnipe:23,PostRemovalFaint:25,PostRemovalFriendFaints:26,FriendlyToyBroke:26,EmptyFrontSpace:27,GoldenRetrieverSummons:28};function Ao(a,e,t){const i=a.pet;if(a.callback){if(i&&i.transformed&&i.transformedInto&&a.abilityType){const n=i.transformedInto;a.callback=(s,r)=>{n.executeAbilities(s,r,a.triggerPet,void 0,void 0,t)}}a.callback(a.abilityType,e,a.triggerPet)}else if(i&&a.abilityType){let n=i;i.transformed&&i.transformedInto&&(n=i.transformedInto),n.executeAbilities(a.abilityType,e,a.triggerPet,void 0,void 0,a.customParams||t)}}let Oa=(()=>{class a{globalEventQueue=[];numberedTriggerCache=new WeakMap;numberedTriggerRegexCache=new Map;constructor(){}getEventAbilityPriority(t){return t.abilityType?this.getAbilityPriority(t.abilityType):999}getCurrentEventPriority(t){if(t.pet)return this.getPetEventPriority(t.pet);const i=Number(t.priority??0);return Number.isFinite(i)?i:0}compareEventsForExecution(t,i){const n=this.getEventAbilityPriority(t)-this.getEventAbilityPriority(i);if(0!==n)return n;const s=this.getCurrentEventPriority(i)-this.getCurrentEventPriority(t);return 0!==s?s:(t.tieBreaker??0)-(i.tieBreaker??0)}getNextHighestPriorityEventIndex(t){let i=-1;for(let n=0;n<this.globalEventQueue.length;n++){const s=this.globalEventQueue[n];t&&!t(s)||(-1!==i?this.compareEventsForExecution(s,this.globalEventQueue[i])<0&&(i=n):i=n)}return i}addEventToQueue(t){const i=this.getAbilityPriority(t.abilityType);t.tieBreaker=Math.random();let n=0,s=this.globalEventQueue.length;for(;n<s;){const r=Math.floor((n+s)/2),c=this.globalEventQueue[r],u=this.getAbilityPriority(c.abilityType);if(i<u)s=r;else if(i>u)n=r+1;else{const h=Number(t.priority??0),b=Number(c.priority??0),D=Number.isFinite(h)?h:0,H=Number.isFinite(b)?b:0;D>H?s=r:D<H?n=r+1:(t.tieBreaker??0)<(c.tieBreaker??0)?s=r:n=r+1}}this.globalEventQueue.splice(n,0,t)}clearGlobalEventQueue(){this.globalEventQueue=[]}get hasGlobalEvents(){return this.globalEventQueue.length>0}processQueue(t,i){if(i?.shuffle)for(let n=this.globalEventQueue.length-1;n>0;n--){const s=Math.floor(Math.random()*(n+1));[this.globalEventQueue[n],this.globalEventQueue[s]]=[this.globalEventQueue[s],this.globalEventQueue[n]]}for(;;){const n=this.getNextHighestPriorityEventIndex(i?.filter);if(-1===n)break;const[s]=this.globalEventQueue.splice(n,1);i?.onExecute&&i.onExecute(s),Ao(s,t)}}getNextHighestPriorityEvent(){return this.getNextHighestPriorityEventMatching()}peekNextHighestPriorityEvent(){return this.peekNextHighestPriorityEventMatching()}getNextHighestPriorityEventMatching(t){const i=this.getNextHighestPriorityEventIndex(t);if(-1===i)return null;const[n]=this.globalEventQueue.splice(i,1);return n??null}peekNextHighestPriorityEventMatching(t){const i=this.getNextHighestPriorityEventIndex(t);return-1===i?null:this.globalEventQueue[i]??null}executeEvent(t,i){Ao(t,i)}getAbilityPriority(t){return t?Mf[t]??(/\d+$/.test(t)?Mf.CounterEvent??999:999):999}getPriorityNumber(t){return this.getAbilityPriority(t)}getPetEventPriority(t){let i=Number(t.attack??0);return Number.isFinite(i)||(i=0),"Churros"===t.equipment?.name?i+=1e3:"Macaron"===t.equipment?.name&&(i-=1e3),i}triggerAbility(t,i,n,s){if(t.hasTrigger(i)){let r=this.getPetEventPriority(t);"FriendlyGainsPerk"===i&&t===n&&(r+=1e4);const c={...s??{},trigger:i,tigerSupportPet:t.petBehind(!0,!0)??null},u={priority:r,pet:t,triggerPet:n,abilityType:i,tieBreaker:Math.random(),customParams:c};this.addEventToQueue(u)}}simulatePostRemovalFriendFaintsCounters(t,i){if(!t||i<=0)return;const n=this.getNumberedTriggersForPet(t,"PostRemovalFriendFaints");for(let s=0;s<i;s++)this.handleNumberedCounterTriggers(t,void 0,void 0,n)}handleCounterTriggers(t,i,n,s){for(const r of s)t.hasTrigger(r.trigger)&&(t.abilityCounter++,t.abilityCounter%r.modulo===0&&this.triggerAbility(t,r.trigger,i,n))}getTriggerModulo(t){const i=t.match(/(\d+)$/);return i?parseInt(i[1],10):null}handleNumberedCounterTriggers(t,i,n,s){const r=s.map(c=>({trigger:c,modulo:this.getTriggerModulo(c)})).filter(c=>null!=c.modulo);0!==r.length&&this.handleCounterTriggers(t,i,n,r)}getNumberedTriggersForPet(t,i){const n=t.abilityList;let s=this.numberedTriggerCache.get(t);(!s||s.listRef!==n||s.listLength!==n.length)&&(s={listRef:n,listLength:n.length,prefixMap:new Map},this.numberedTriggerCache.set(t,s));const r=s.prefixMap.get(i);if(r)return r;const c=new Set;let u=this.numberedTriggerRegexCache.get(i);u||(u=new RegExp(`^${i}\\d+$`),this.numberedTriggerRegexCache.set(i,u));for(const b of n)for(const D of b.triggers??[])u.test(D)&&c.add(D);const h=Array.from(c);return s.prefixMap.set(i,h),h}getTeam(t){const n=(t?.parent??t)?.petArray;return Array.isArray(n)?n:[]}static \u0275fac=function(i){return new(i||a)};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),yE=(()=>{class a{abilityQueueService;constructor(t){this.abilityQueueService=t}triggerBeforeAttackEvents(t){const i=t?.parent,n=i&&Array.isArray(i.petArray)?i.petArray:[];for(let s of n)s.hasTrigger("BeforeFriendlyAttack")&&this.abilityQueueService.triggerAbility(s,"BeforeFriendlyAttack",t,void 0),s==t?(s.hasTrigger("BeforeThisAttacks")&&this.abilityQueueService.triggerAbility(s,"BeforeThisAttacks"),s.hasTrigger("BeforeFirstAttack")&&this.abilityQueueService.triggerAbility(s,"BeforeFirstAttack")):s.hasTrigger("BeforeFriendAttacks")&&this.abilityQueueService.triggerAbility(s,"BeforeFriendAttacks",t),(s==t.petAhead||s==t.petBehind())&&s.hasTrigger("BeforeAdjacentFriendAttacked")&&this.abilityQueueService.triggerAbility(s,"BeforeAdjacentFriendAttacked",t)}triggerAfterAttackEvents(t){if(!t)return;const i=this.abilityQueueService.getTeam(t);for(let s of i)this.abilityQueueService.handleNumberedCounterTriggers(s,void 0,void 0,this.abilityQueueService.getNumberedTriggersForPet(s,"FriendlyAttacked")),s.hasTrigger("FriendlyAttacked")&&this.abilityQueueService.triggerAbility(s,"FriendlyAttacked"),s.hasTrigger("AnyoneAttack")&&this.abilityQueueService.triggerAbility(s,"AnyoneAttack",t),s==t?(s.hasTrigger("ThisAttacked")&&this.abilityQueueService.triggerAbility(s,"ThisAttacked"),s.hasTrigger("ThisFirstAttack")&&this.abilityQueueService.triggerAbility(s,"ThisFirstAttack")):(s.hasTrigger("FriendAttacked")&&this.abilityQueueService.triggerAbility(s,"FriendAttacked",t),this.abilityQueueService.handleNumberedCounterTriggers(s,void 0,void 0,this.abilityQueueService.getNumberedTriggersForPet(s,"FriendAttacked"))),(s==t.petAhead||s==t.petBehind())&&s.hasTrigger("AdjacentFriendAttacked")&&this.abilityQueueService.triggerAbility(s,"AdjacentFriendAttacked",t),s==t.petBehind(null,!0)&&s.hasTrigger("FriendAheadAttacked")&&this.abilityQueueService.triggerAbility(s,"FriendAheadAttacked",t);const n=this.abilityQueueService.getTeam(t.parent?.opponent);if(n.length)for(let s of n)s.hasTrigger("AnyoneAttack")&&this.abilityQueueService.triggerAbility(s,"AnyoneAttack",t),s.hasTrigger("EnemyAttacked")&&this.abilityQueueService.triggerAbility(s,"EnemyAttacked"),this.abilityQueueService.handleNumberedCounterTriggers(s,void 0,void 0,this.abilityQueueService.getNumberedTriggersForPet(s,"EnemyAttacked"))}static \u0275fac=function(i){return new(i||a)(P.KVO(Oa))};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),sP=(()=>{class a{abilityQueueService;toyEventService;constructor(t,i){this.abilityQueueService=t,this.toyEventService=i}triggerFaintEvents(t){const i=this.abilityQueueService.getTeam(t);for(let n of i)this.abilityQueueService.triggerAbility(n,n==t?"Faint":"FriendFaints",t),n==t.petBehind(null,!0)&&this.abilityQueueService.triggerAbility(n,"FriendAheadFainted",t),(n==t.petBehind(null,!0)||n.petBehind(null,!0)==t)&&this.abilityQueueService.triggerAbility(n,"AdjacentFriendsFaint",t)}triggerAfterFaintEvents(t){t.parent&&this.toyEventService.triggerFriendFaintsToyEvents(t.parent,t),this.abilityQueueService.triggerAbility(t,"PetFainted",t),this.abilityQueueService.triggerAbility(t,"PostRemovalFaint",t);const i=this.abilityQueueService.getTeam(t);for(let s of i)this.abilityQueueService.triggerAbility(s,"PetFainted",t),this.abilityQueueService.triggerAbility(s,"PostRemovalFriendFaints",t),this.abilityQueueService.handleNumberedCounterTriggers(s,t,void 0,this.abilityQueueService.getNumberedTriggersForPet(s,"PostRemovalFriendFaints"));const n=this.abilityQueueService.getTeam(t.parent?.opponent).filter(s=>s.alive);for(let s of n)this.abilityQueueService.triggerAbility(s,"EnemyFainted",t),this.abilityQueueService.triggerAbility(s,"PetFainted",t),this.abilityQueueService.handleNumberedCounterTriggers(s,t,void 0,this.abilityQueueService.getNumberedTriggersForPet(s,"EnemyFaint"));this.toyEventService.executeFriendFaintsToyEvents()}static \u0275fac=function(i){return new(i||a)(P.KVO(Oa),P.KVO(ds))};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),Ba=(()=>{class a extends Rh{gameApi;lastLoggedTrigger;gameService;logService;toyEventService;abilityQueueService;attackEventService;faintEventService;constructor(t,i,n,s,r,c){super(),this.gameService=t,this.logService=i,this.toyEventService=n,this.abilityQueueService=s,this.attackEventService=r,this.faintEventService=c}clearGlobalEventQueue(){this.abilityQueueService.clearGlobalEventQueue(),this.lastLoggedTrigger=void 0}get hasGlobalEvents(){return this.abilityQueueService.hasGlobalEvents}get hasAbilityCycleEvents(){return this.abilityQueueService.hasGlobalEvents}getNextHighestPriorityEvent(){return this.abilityQueueService.getNextHighestPriorityEvent()}peekNextHighestPriorityEvent(){return this.abilityQueueService.peekNextHighestPriorityEvent()}getPriorityNumber(t){return this.abilityQueueService.getPriorityNumber(t)}executeEventCallback(t){this.logTriggerHeader(t),this.abilityQueueService.executeEvent(t,this.gameService.gameApi),this.hasGlobalEvents||(this.lastLoggedTrigger=void 0)}logTriggerHeader(t){if(!this.logService.isShowTriggerNamesInLogs())return void(this.lastLoggedTrigger=void 0);const i=t?.abilityType;i&&this.lastLoggedTrigger!==i&&(this.lastLoggedTrigger=i,this.logService.createLog({message:`${i}:`,type:"ability",player:t.player??t.pet?.parent}))}clearLastLoggedTrigger(){this.lastLoggedTrigger=void 0}simulatePostRemovalFriendFaintsCounters(t,i){this.abilityQueueService.simulatePostRemovalFriendFaintsCounters(t,i)}initSpecialEndTurnAbility(t){for(let i of t.petArray)i.hasTrigger("SpecialEndTurn")&&i.executeAbilities("SpecialEndTurn",this.gameService.gameApi)}triggerBeforeStartOfBattleEvents(){this.gameApi=this.gameService.gameApi;for(let t of this.gameApi.player.petArray)t.hasTrigger("BeforeStartBattle")&&this.abilityQueueService.triggerAbility(t,"BeforeStartBattle");for(let t of this.gameApi.opponent.petArray)t.hasTrigger("BeforeStartBattle")&&this.abilityQueueService.triggerAbility(t,"BeforeStartBattle")}resetBeforeStartOfBattleEvents(){}executeBeforeStartOfBattleEvents(){this.processPhaseWithInterleaving(new Set(["BeforeStartBattle"]))}setCounterEvent(t){this.abilityQueueService.addEventToQueue(t)}triggerStartBattleEvents(t){this.gameApi=this.gameService.gameApi;for(let i of this.gameApi.player.petArray)i.hasTrigger("StartBattle")&&(!t||t(i))&&this.abilityQueueService.triggerAbility(i,"StartBattle");for(let i of this.gameApi.opponent.petArray)i.hasTrigger("StartBattle")&&(!t||t(i))&&this.abilityQueueService.triggerAbility(i,"StartBattle")}executeStartBattleEvents(){this.processPhaseWithInterleaving(new Set(["StartBattle"]))}triggerBeforeAttackEvent(t){this.attackEventService.triggerBeforeAttackEvents(t)}executeBeforeAttackEvents(){const t=new Set(["BeforeFriendlyAttack","BeforeThisAttacks","BeforeFirstAttack","BeforeFriendAttacks","BeforeAdjacentFriendAttacked"]),i=new Set(["BeforeStartBattle","StartBattle"]);this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:n=>t.has(n.abilityType),onExecute:n=>this.logTriggerHeader(n)}),this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:n=>!i.has(n.abilityType),onExecute:n=>this.logTriggerHeader(n)}),this.lastLoggedTrigger=void 0}triggerAttacksEvents(t){this.attackEventService.triggerAfterAttackEvents(t)}executeAfterAttackEvents(){const t=new Set(["FriendlyAttacked","FriendAttacked","FriendAheadAttacked","AdjacentFriendAttacked","AnyoneAttack","EnemyAttacked","ThisAttacked","ThisFirstAttack"]),i=new Set(["BeforeStartBattle","StartBattle"]);this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:n=>{const s=n.abilityType;return!!t.has(s)||/^(FriendlyAttacked|FriendAttacked|EnemyAttacked)\d+$/.test(s)},onExecute:n=>this.logTriggerHeader(n)}),this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:n=>!i.has(n.abilityType),onExecute:n=>this.logTriggerHeader(n)}),this.lastLoggedTrigger=void 0}takeNextPhaseEvent(t){const i=this.abilityQueueService.globalEventQueue;let n=-1;for(let r=0;r<i.length;r++){const c=i[r];if(!t.has(c.abilityType))continue;if(-1===n){n=r;continue}const u=i[n],h=this.abilityQueueService.getPriorityNumber(c.abilityType),b=this.abilityQueueService.getPriorityNumber(u.abilityType);if(h<b){n=r;continue}if(h>b)continue;const D=c.pet?.transformed&&c.pet?.transformedInto?c.pet.transformedInto:c.pet,H=u.pet?.transformed&&u.pet?.transformedInto?u.pet.transformedInto:u.pet,Y=D?this.abilityQueueService.getPetEventPriority(D):Number(c.priority??0),ue=H?this.abilityQueueService.getPetEventPriority(H):Number(u.priority??0);Y>ue?n=r:Y<ue||Number(c.tieBreaker??0)<Number(u.tieBreaker??0)&&(n=r)}if(-1===n)return null;const[s]=i.splice(n,1);return s??null}processPhaseWithInterleaving(t){for(;;){const i=this.takeNextPhaseEvent(t);if(!i)break;this.logTriggerHeader(i),this.abilityQueueService.executeEvent(i,this.gameService.gameApi),this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:n=>!t.has(n.abilityType),onExecute:n=>this.logTriggerHeader(n)})}this.lastLoggedTrigger=void 0}static \u0275fac=function(i){return new(i||a)(P.KVO(Or),P.KVO(Vn),P.KVO(ds),P.KVO(Oa),P.KVO(yE),P.KVO(sP))};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();class If extends Ce{equipmentClass="defense";name="Garlic";tier=3;power=2;originalPower=2;minimumDamage=2;callback=e=>{}}class bE extends E{equipment;logService;constructor(e,t,i){super({name:"CakeAbility",owner:e,triggers:["EndTurn"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner,i=1*(this.equipment.multiplier??1);t.increaseSellValue(i),this.logService.createLog({message:`${t.name} increased its sell value by ${i}. (Cake)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent})}}class Rf extends Ce{name="Meat Bone";equipmentClass="attack";power=3;originalPower=3}class Lf extends M{logService;abilityService;name="Bee";tier=1;pack="Turtle";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new Nh(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class Nh extends E{logService;abilityService;constructor(e,t,i){super({name:"BeeAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new Nh(e,this.logService,this.abilityService)}}class cP extends Ce{logService;abilityService;name="Honey";equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new AE(e,t,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}}class AE extends E{equipment;logService;abilityService;constructor(e,t,i,n){super({name:"HoneyAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=t,this.logService=i,this.abilityService=n}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=new Lf(this.logService,this.abilityService,t.parent,null,null,0);t.parent.summonPet(n,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned Bee (Honey)${i>0?this.equipment.multiplierMessage:""}`,type:"ability",player:t.parent})}}}class SE extends Ce{logService;petService;name="Mushroom";tier=6;equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new PE(e,t,this.logService,this.petService))};constructor(e,t){super(),this.logService=e,this.petService=t}}class PE extends E{equipment;logService;petService;constructor(e,t,i,n){super({name:"MushroomAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=t,this.logService=i,this.petService=n}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=this.petService.createDefaultVersionOfPet(t,1,1);n.exp=t.exp,n.triggersConsumed=t.triggersConsumed,n.originalTriggersConsumed=t.triggersConsumed,t.parent.summonPet(n,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned ${n.name} (level ${n.level}) (Mushroom)${i>0?this.equipment.multiplierMessage:""}`,type:"ability",player:t.parent})}}}class uP extends Ce{name="Rice";tier=2;equipmentClass="shop";callback=e=>{e.increaseSellValue(2*this.multiplier)}}class fu extends M{logService;abilityService;name="Nest";tier=1;pack="Puppy";hidden=!0;attack=2;health=3;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class Fh extends Ce{logService;name="Egg";tier=1;equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new dP(e,t))};constructor(e){super(),this.logService=e}}class dP extends E{equipment;constructor(e,t){super({name:"EggAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const{triggerPet:t}=e,i=this.owner;let n=this.equipment.multiplier;i instanceof fu&&(n+=("Tiger"===t?.name?t.level:i.level)-1);for(let s=0;s<n;s++){let r=i.parent.opponent.petArray,c=null;for(let u of r)if(u.alive){c=u;break}null!=c&&i.snipePet(c,2,!1,!1,!1,!0,!1)}i.removePerk()}}class Ll extends Ce{name="Eucalyptus";equipmentClass="shield";power=4;originalPower=4;uses=1;originalUses=1}class hP extends E{equipment;logService;constructor(e,t,i){super({name:"SquashAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=t.parent.opponent.pet0;if(null==n||!n.alive)return;let s=6,r=Math.max(1,n.health-s);n.health=r,this.logService.createLog({message:`${this.equipment.name} reduced ${n.name} health by ${s} (${r})${i>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent})}t.removePerk()}}class pa extends E{equipment;logService;constructor(e,t,i){super({name:"PieAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner,i=4*this.equipment.multiplier,n=3*this.equipment.multiplier;t.increaseAttack(i),t.increaseHealth(n),this.logService.createLog({message:`${t.name} gained ${i} attack and ${n} health (Pie)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent})}}class Nl extends Ce{logService;name="Skewer";tier=5;equipmentClass="skewer";power=0;attackCallback=(e,t)=>{this.skewer(e,t,1),this.skewer(e,t,2)};constructor(e){super(),this.logService=e}skewer(e,t,i){let n=t.parent.getPetAtPosition(i);null!=n&&e.snipePet(n,3*(e.equipment?.multiplier??1),!1,null,null,!0,!1,"attacked",3)}}class Oh extends E{equipment;logService;constructor(e,t,i){super({name:"PancakesAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;for(let i of t.parent.petArray){if(t==i)continue;let n=2*this.equipment.multiplier,s=2*this.equipment.multiplier;i.increaseAttack(n),i.increaseHealth(s),this.logService.createLog({message:`${i.name} gained ${n} attack and ${s} health (Pancakes)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent})}}}class _r extends Ce{logService;abilityService;name="Mild Chili";equipmentClass="skewer";power=0;originalPower=0;attackCallback=(e,t)=>{let i=t.parent.getPetAtPosition(1);null!=i&&e.snipePet(i,4*(e.equipment?.multiplier??1),!1,null,null,!0,!1,"attacked",4)};constructor(e,t){super(),this.logService=e,this.abilityService=t}}class $a extends E{equipment;logService;constructor(e,t,i){super({name:"BaguetteAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=t.parent.opponent.getPetsWithoutEquipment("Perk"),s=t.parent.opponent.getFurthestUpPet(t,n).pet;if(null==s)return;if(null!=s.equipment){let r=s.equipment.name;s.removePerk(),this.logService.createLog({message:`${t.name} removed ${r} from ${s.name} (Baguette)${i>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent})}}t.removePerk()}}class mP extends Ce{logService;petService;gameService;name="Popcorn";equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new fP(e,t,this.logService,this.petService))};constructor(e,t,i){super(),this.logService=e,this.petService=t,this.gameService=i}}class fP extends E{equipment;logService;petService;constructor(e,t,i,n){super({name:"PopcornAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=t,this.logService=i,this.petService=n}executeAbility(e){const{gameApi:t}=e,i=this.owner;for(let n=0;n<this.equipment.multiplier;n++){let s;s=i.parent==t.player?t.playerPetPool:t.opponentPetPool;let r=s.get(i.tier),c=r[Math.floor(Math.random()*r.length)],u=this.petService.createPet({attack:null,equipment:null,exp:0,health:null,name:c,mana:0},i.parent);i.parent.summonPet(u,i.savedPosition).success&&this.logService.createLog({message:`${i.name} Spawned ${u.name} (Popcorn)${n>0?this.equipment.multiplierMessage:""}`,type:"ability",player:i.parent,randomEvent:!0})}}}class CE extends Ce{logService;abilityService;petService;name="Seaweed";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new DE(e,t,this.logService,this.petService))};constructor(e,t,i){super(),this.logService=e,this.abilityService=t,this.petService=i}}class DE extends E{equipment;logService;petService;constructor(e,t,i,n){super({name:"SeaweedAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=t,this.logService=i,this.petService=n}executeAbility(e){const t=this.owner;let i=this.petService.createPet({name:"Baby Urchin",attack:t.attack,health:t.health,mana:t.mana,exp:t.exp,equipment:null},t.parent);this.logService.createLog({message:`${t.name} transformed into ${i.name} (Seaweed)`,type:"equipment",player:t.parent}),t.parent.transformPet(t,i)}}class qR extends E{equipment;logService;constructor(e,t,i){super({name:"CaramelAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let i=t.parent.petArray.filter(c=>c.alive&&"Caramel"===c.equipment?.name);if(0===i.length)return;let n=3*i.length,s=t.parent.opponent.getHighestHealthPet(),r=s.pet;if(null!=r){t.snipePet(r,n,s.random,!1,!1,!0,!1);for(let c of i)c.removePerk(),this.logService.createLog({message:`${c.name} lost Caramel equipment`,type:"ability",player:t.parent,tiger:!1})}}}class ME extends E{equipment;constructor(e,t){super({name:"CherryAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;let i=this.equipment.multiplier;t.parent.gainTrumpets(2*i,t,!1,i,!0),t.removePerk(!0)}}class yP extends E{equipment;logService;abilityService;constructor(e,t,i,n){super({name:"ChocolateCakeAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=t,this.logService=i,this.abilityService=n}executeAbility(e){const t=this.owner;let n=3*this.equipment.multiplier;this.logService.createLog({message:`${t.name} gained ${n} exp. (Chocolate Cake)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent}),t.increaseExp(n),t.health=0,this.abilityService.triggerKillEvents(t,t)}}class RE extends E{equipment;logService;constructor(e,t,i){super({name:"EggplantAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let i=this.equipment.multiplier;for(let n=0;n<i;n++){let s=t.parent.opponent,r=s.getPet(t.position);if(null==r)return;this.logService.createLog({message:`${t.name} pushed ${r.name} 1 space forward. (Eggplant)${n>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent}),s.pushPet(r,1)}}}class bP extends E{equipment;logService;abilityService;constructor(e,t,i,n){super({name:"BananaAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=t,this.logService=i,this.abilityService=n}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=new HS(this.logService,this.abilityService,t.parent,4,4,0,0),s=i>0?this.equipment.multiplierMessage:"";t.parent.summonPet(n,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned Monkey (Banana)${s}`,type:"ability",player:t.parent})}}}class FE extends E{equipment;logService;constructor(e,t,i){super({name:"PitaBreadAbility",owner:e,triggers:["ThisHurt"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;if(!t.alive)return;let n=15*this.equipment.multiplier;t.increaseHealth(n),this.logService.createLog({message:`${t.name} gained ${n} health. (Pita Bread)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent}),t.removePerk()}}class OE extends E{equipment;constructor(e,t){super({name:"TomatoAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;let i=this.equipment.multiplier;for(let n=0;n<i;n++){let s=t.parent.opponent.getLastPet();if(null==s.pet)break;t.snipePet(s.pet,10,s.random,!1,!1,!0,!1)}t.removePerk()}}class $E extends E{equipment;logService;constructor(e,t,i){super({name:"DurianAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let i=this.equipment.multiplier;for(let n=0;n<i;n++){let s=t.parent.opponent.getHighestHealthPet(),r=s.pet;if(null==r)continue;let c=.33,u=Math.max(1,Math.floor(r.health*(1-c)));r.health=u,this.logService.createLog({message:`${this.equipment.name} reduced ${r.name} health by ${100*c}% (${u})${n>0?this.equipment.multiplierMessage:""}`,type:"ability",player:t.parent,randomEvent:s.random})}t.removePerk()}}class $h extends E{equipment;constructor(e,t){super({name:"FigAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;let i=this.equipment.multiplier;for(let n=0;n<i;n++){let s=t.parent.opponent.getLowestHealthPet(),r=s.pet;if(null==r)return;t.snipePet(r,4,s.random,!1,!1,!0,!1)}t.removePerk()}}class jE extends E{equipment;logService;abilityService;constructor(e,t,i,n){super({name:"CodRoeAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=t,this.logService=i,this.abilityService=n}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=new PS(this.logService,this.abilityService,t.parent,3,2,0,0);t.parent.summonPet(n,t.savedPosition).success&&this.logService.createLog({message:`${t.name} spawned ${n.name} (Cod Roe)${i>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent})}}}class qE extends E{equipment;logService;constructor(e,t,i){super({name:"SudduthTomatoAbility",owner:e,triggers:["ThisHurt"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,condition:n=>!!this.owner.alive,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const n=this.owner;let r=1*this.equipment.multiplier;n.increaseHealth(r),this.logService.createLog({message:`${n.name} gained ${r} health (Sudduth Tomato)${this.equipment.multiplierMessage}`,type:"equipment",player:n.parent}),n.removePerk()}}class Gh extends E{equipment;logService;abilityService;constructor(e,t,i,n){super({name:"GrosMichelBananaAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=t,this.logService=i,this.abilityService=n}executeAbility(e){const i=this.owner;for(let n=0;n<this.equipment.multiplier;n++){let s=new ru(this.logService,this.abilityService,i.parent,i.health,i.attack,i.mana,i.exp);this.logService.createLog({message:`${i.name} transformed into ${s.name} (Gros Michel Banana)${n>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:i.parent}),i.parent.transformPet(i,s)}}}function ea(a){if(!a)return null;const e=Object.create(Object.getPrototypeOf(a));return Object.assign(e,a),e}class SP extends Ce{logService;petService;name="Cocoa Bean";tier=5;equipmentClass="beforeAttack";power=0;originalPower=0;uses=1;originalUses=1;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new PP(e,t,this.logService,this.petService))};constructor(e,t){super(),this.logService=e,this.petService=t}}class PP extends E{equipment;logService;petService;constructor(e,t,i,n){super({name:"CocoaBeanAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=t,this.logService=i,this.petService=n}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=t.parent.opponent.petArray.filter(h=>h.alive);if(0==n.length)return void t.removePerk();let s=n[Math.floor(Math.random()*n.length)],r=null;s.equipment&&(r=ea(s.equipment));let c=this.petService.createPet({name:s.name,attack:s.attack,health:s.health,mana:t.mana,exp:s.exp,equipment:r},t.parent);if(c.mana=t.mana,s.swallowedPets&&s.swallowedPets.length>0){c.swallowedPets=[];for(let h of s.swallowedPets){let b=this.petService.createPet({name:h.name,attack:h.attack,health:h.health,mana:h.mana,exp:h.exp,equipment:h.equipment},t.parent);c.swallowedPets.push(b)}}c.abilityCounter=s.abilityCounter,c.timesHurt=s.timesHurt,c.timesAttacked=s.timesAttacked,c.battlesFought=s.battlesFought,c.copyAbilities(s,"Pet"),this.logService.createLog({message:`${t.name} transformed into ${c.name} (Cocoa Bean)${i>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent,randomEvent:n.length>1}),t.parent.transformPet(t,c)}}}class _P extends E{equipment;constructor(e,t){super({name:"UnagiAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=t.parent.opponent.getRandomPet([],!1,!0,!1,t);n.pet&&t.snipePet(n.pet,2,n.random,!1,!1,!0,!1)}}}class Ol extends Ce{name="Corncob";tier=1;equipmentClass="shop";effectMultiplier=1}class Ff extends Ce{name="Blueberry";equipmentClass="target";constructor(){super()}}class wP extends E{equipment;constructor(e,t){super({name:"CashewNutAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=t.parent.nearestPetsAhead(2,t,null,!0),s=n.pets.filter(c=>c?.alive);if(s.length<2)return;let r=s[1];t.snipePet(r,r.parent==t.parent?1:2,n.random,null,null,!0)}}}class VE extends E{equipment;logService;constructor(e,t,i){super({name:"NachosAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let r=Math.min(3,t.health-1);r>0&&(t.increaseHealth(-r),t.increaseAttack(r),this.logService.createLog({message:`${t.name} converted ${r} health into ${r} attack (Nachos)${i>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent}))}t.removePerk()}}class Hf extends E{equipment;logService;constructor(e,t){super({name:"CauliflowerAbility",owner:e,triggers:["KnockOut"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>this.executeAbility(i)}),this.equipment=t,this.logService=Mt.getInjector().get(Vn)}executeAbility(e){const t=this.owner;if(!t.alive)return void t.removePerk();const i=1*this.equipment.multiplier;t.increaseAttack(i),t.increaseHealth(i),this.logService.createLog({message:`${t.name} gained +${i} attack and +${i} health. (Cauliflower)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent}),t.removePerk()}}class jf extends Ce{name="Melon Slice";equipmentClass="shield";power=10;originalPower=10;uses=1;originalUses=1}class qf extends E{equipment;logService;constructor(e,t){super({name:"OysterMushroomAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>this.executeAbility(i)}),this.equipment=t,this.logService=Mt.getInjector().get(Vn)}executeAbility(e){const t=this.owner,i=Math.max(t.attack,9),n=Math.max(t.health,9);i!==t.attack&&(t.attack=i),n!==t.health&&(t.health=n),this.logService.createLog({message:`${t.name} set stats to ${t.attack}/${t.health}. (Oyster Mushroom)`,type:"equipment",player:t.parent}),t.removePerk()}}const gs={iriomoteCat:{1:["Ant","Mosquito","Cricket","Moth","Beetle","Chihuahua","Cockroach","Hummingbird","Frilled Dragon","Farmer Mouse","Budgie","Groundhog","Cone Snail","Goose","Barghest","Tsuchinoko","Alchemedes","Bunyip","Sneaky Egg","Ethiopian Wolf","African Wild Dog","Volcano Snail","Pygmy Seahorse","Nudibranch"],2:["Crab","Hedgehog","Flamingo","Spider","Robin","Beluga Sturgeon","Stork","Bass","Panda","Seahorse","Roadrunner","Mink","Meerkat","Black Necked Stilt","Sea Urchin","Honduran White Bat","Frost Wolf","Ogopogo","Thunderbird","Bigfoot","Takhi","White-Bellied Heron","Taita Shrew","Nightcrawler","Pink Robin","Fruit Fly","Olm","Tadpole","Thorny Dragon"],3:["Dodo","Dolphin","Sheep","Hoopoe Bird","Pug","Anteater","Eel","Bear","Farmer Pig","Brazillian Treehopper","Flea","Weasel","Osprey","Blue Dragon","Betta Fish","Skeleton Dog","Mandrake","Fur-Bearing Trout","Mana Hound","Roloway Monkey","Amami Rabbit","Hirola","Tucuxi","Tree Kangaroo","Slime","Dimetrodon","Gerenuk","Pangasius","Vampire Parrot"]},radish:{1:["Walnut","Honey","Egg","Strawberry"],2:["Meat Bone","Lime","Caramel","Bok Choy","Fairy Dust","Faint Bread","Cod Roe"],3:["Garlic","Squash","Seaweed","Fig","Brussels Sprout"],4:["Fortune Cookie","Salt","Baguette","Cheese","Banana","Ambrosia"],5:["Chili","Lemon","Pepper","Durian","Honeydew Melon","Easter Egg"],6:["Steak","Melon","Pita Bread","Tomato","Yggdrasil Fruit","Popcorn","White Okra"]},rolowayMonkey:["Peacock","Camel","Porcupine","Lizard","Guineafowl"],goldenTamarin:["Crocodile","Tarantula Hawk","Red Dragon","Werewolf","Snow Leopard","Sea Cucumber"],bayCat:["Skunk","Fossa","Hawk","Lynx","Platybelodon","Kraken","Tasmanian Devil","Humphead Wrasse"]};class CP extends Ce{logService;name="Radish";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new DP(e,t,this.logService))};constructor(e){super(),this.logService=e}}class DP extends E{equipment;logService;equipmentService;constructor(e,t,i){super({name:"RadishAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>this.executeAbility(n)}),this.equipment=t,this.logService=i,this.equipmentService=Mt.getInjector().get(ui)}executeAbility(e){const t=this.owner,i=Math.min(Math.max(t.tier??t.level??1,1),6),n=gs.radish[i];if(!n||0===n.length)return;const s=this.equipmentService.getInstanceOfAllEquipment(),r=n.filter(b=>s.has(b));if(0===r.length)return;const c=Ot(0,r.length-1),h=s.get(r[c]);h&&(t.givePetEquipment(h),this.logService.createLog({message:`${t.name} gained ${h.name} before battle (Radish).`,type:"equipment",player:t.parent,randomEvent:!0}))}}class Hh extends Ce{logService;name="Rambutan";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new JE(e,t,this.logService))};constructor(e){super(),this.logService=e}}class JE extends E{equipment;logService;constructor(e,t,i){super({name:"RambutanAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let s=3*this.equipment.multiplier;this.logService.createLog({message:`${t.name} gained ${s} mana. (Rambutan)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent}),t.increaseMana(s)}}class xP extends E{equipment;logService;petService;constructor(e,t,i){super({name:"LovePotionAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i,this.petService=Mt.getInjector().get(Kn)}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){const n=this.petService.createPet({name:t.name,attack:3,health:3,exp:0,equipment:null,mana:0},t.parent),s=t.parent.summonPet(n,t.savedPosition,!1,t);s.success&&this.logService.createLog({message:`${t.name} summoned a ${n.attack}/${n.health} ${n.name} (Love Potion)${i>0?this.equipment.multiplierMessage:""}.`,type:"equipment",player:t.parent,randomEvent:s.randomEvent})}}}class zR extends E{equipment;logService;constructor(e,t,i){super({name:"FairyDustAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;if(null!=t.parent.pet0)return;let n=2*this.equipment.multiplier;this.logService.createLog({message:`${t.name} pushed itself to the front and gained ${n} mana(Fairy Dust)${this.equipment.multiplierMessage}.`,type:"ability",player:t.parent}),t.parent.pushPetToFront(t,!0),t.increaseMana(n),t.removePerk()}}class XR extends E{equipment;logService;constructor(e,t,i){super({name:"GingerbreadManAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let n=1*this.equipment.multiplier;this.logService.createLog({message:`${t.name} gained ${n} experience (Gingerbread Man)${this.equipment.multiplierMessage}.`,type:"equipment",player:t.parent}),t.increaseExp(n)}}class Vf extends M{logService;abilityService;name="Monty";tier=1;pack="Unicorn";hidden=!0;health=3;attack=3;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class ms extends E{equipment;logService;abilityService;constructor(e,t,i,n){super({name:"EasterEggAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=t,this.logService=i,this.abilityService=n}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=new Vf(this.logService,this.abilityService,t.parent,null,null,0,0);t.parent.summonPet(n,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned Monty (Easter Egg)${i>0?this.equipment.multiplierMessage:""}`,type:"ability",player:t.parent})}}}class ZE extends E{equipment;logService;constructor(e,t,i){super({name:"HealthPotionAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let n=2*this.equipment.multiplier,s=t.parent.furthestUpPet;null!=s&&(this.logService.createLog({message:`${t.name} gave ${n} health to ${s.name} (Health Potion)${this.equipment.multiplierMessage}.`,type:"equipment",player:t.parent}),s.increaseHealth(n))}}class JR extends E{equipment;constructor(e,t){super({name:"GoldenEggAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;let i=t.parent.opponent.petArray,n=null;for(let r of i)if(r.alive){n=r;break}if(null==n)return;let s=this.equipment.multiplier;for(let r=0;r<s;r++)t.snipePet(n,6,!1,!1,!1,!0,!1);t.removePerk()}}class zf extends M{logService;abilityService;name="Tandgnost";tier=4;pack="Custom";attack=6;health=2;initAbilities(){this.addAbility(new IP(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class IP extends E{logService;constructor(e,t){super({name:"Tandgnost Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.petArray.filter(r=>r&&r.alive&&"Tandgrisner"===r.name);if(0===i.length)return void this.triggerTigerExecution(e);const[n]=rr([...i]),s=3*Math.max(1,this.level);n.increaseHealth(s),this.logService.createLog({message:`${t.name} gave ${n.name} +${s} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new IP(e,this.logService)}}class tC extends M{logService;abilityService;name="Tandgrisner";tier=5;pack="Custom";attack=2;health=6;initAbilities(){this.addAbility(new Yf(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class Yf extends E{logService;constructor(e,t){super({name:"Tandgrisner Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.petArray.filter(r=>r&&r.alive&&"Tandgnost"===r.name);if(0===i.length)return void this.triggerTigerExecution(e);const[n]=rr([...i]),s=3*Math.max(1,this.level);n.increaseAttack(s),this.logService.createLog({message:`${t.name} gave ${n.name} +${s} attack.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Yf(e,this.logService)}}class Xf extends E{equipment;logService;abilityService;constructor(e,t,i,n){super({name:"YggdrasilFruitAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=t,this.logService=i,this.abilityService=n}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=new zf(this.logService,this.abilityService,t.parent,5,5,0),s=new tC(this.logService,this.abilityService,t.parent,5,5,0),r=i>0?this.equipment.multiplierMessage:"";t.parent.summonPet(n,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned Tandgnost (Yggdrasil Fruit)${r}`,type:"ability",player:t.parent}),t.parent.summonPet(s,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned Tandgrisner (Yggdrasil Fruit)${r}`,type:"ability",player:t.parent})}}}class Jf extends Ce{logService;petService;name="Faint Bread";equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new RP(e,t,this.petService,this.logService))};constructor(e,t){super(),this.logService=e,this.petService=t}}class RP extends E{equipment;petService;logService;constructor(e,t,i,n){super({name:"FaintBreadAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=t,this.petService=i,this.logService=n}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let n=this.petService.getRandomFaintPet(t.parent,1),s=i>0?this.equipment.multiplierMessage:"";t.parent.summonPet(n,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned ${n.name} (Faint Bread)${s}`,type:"ability",player:t.parent,randomEvent:!0})}}}class jh extends Ce{name="Cold";equipmentClass="ailment-defense";power=-5;originalPower=-5;uses=1;originalUses=1}class So extends Ce{name="Spooked";equipmentClass="ailment-defense";power=-1;originalPower=-1}class Ha extends Ce{name="Weak";equipmentClass="ailment-defense";power=-3;originalPower=-3}class Po extends Ce{logService;name="Tasty";equipmentClass="faint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new rC(e,t,this.logService))};constructor(e){super(),this.logService=e}}class rC extends E{equipment;logService;constructor(e,t,i){super({name:"TastyAbility",owner:e,triggers:["Faint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let i=t.parent.opponent.petArray.filter(s=>s.alive);if(0==i.length)return;let n=i[Math.floor(Math.random()*i.length)];n.increaseAttack(2*this.equipment.multiplier),n.increaseHealth(2*this.equipment.multiplier),this.logService.createLog({message:`${t.name} gave ${n.name} +2 attack and +2 health (Tasty)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent,randomEvent:i.length>1})}}class LP extends Ce{name="Silly";equipmentClass="ailment-other"}class NP extends E{petService;logService;constructor(e){super({name:"ConfusedAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:t=>this.executeAbility(t)}),this.petService=Mt.getInjector().get(Kn),this.logService=Mt.getInjector().get(Vn)}executeAbility(e){const t=this.owner,i=Math.max(1,(t.tier??1)-1),n=this.petService.allPets.get(i)??[];if(0===n.length)return void t.removePerk();const s=n[Math.floor(Math.random()*n.length)];t.removePerk();const r=this.petService.createPet({name:s,attack:t.attack,health:t.health,exp:t.exp??0,equipment:null,mana:t.mana},t.parent);this.logService.createLog({message:`${t.name} transformed into a ${s}. (Confused)`,type:"equipment",player:t.parent,randomEvent:!0}),t.parent.transformPet(t,r)}}class FP extends Ce{name="Cursed";equipmentClass="ailment-other";callback=e=>{e.addAbility(new OP(e))}}class OP extends E{logService;constructor(e){super({name:"CursedAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:t=>this.executeAbility(t)}),this.logService=Mt.getInjector().get(Vn)}executeAbility(e){const t=this.owner,i=t.parent.getRandomPet([t],!1,!1,!1,t),n=i.pet;n&&(n.givePetEquipment(new FP),this.logService.createLog({message:`${t.name} made ${n.name} Cursed.`,type:"equipment",player:t.parent,randomEvent:i.random}))}}class vu extends Ce{name="Inked";equipmentClass="ailment-attack";power=-3;originalPower=-3}class $P extends E{logService;petService;constructor(e){super({name:"WebbedAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:t=>this.executeAbility(t)}),this.logService=Mt.getInjector().get(Vn),this.petService=Mt.getInjector().get(Kn)}executeAbility(e){const t=this.owner,i=t.parent.opponent,n=this.petService.createPet({name:"Spider",attack:2,health:2,exp:0,equipment:null,mana:0},i),s=i.summonPet(n,0,!1,t);s.success&&this.logService.createLog({message:`${t.name} summoned ${n.name} for the opponent. (Webbed)`,type:"equipment",player:t.parent,randomEvent:s.randomEvent})}}const GP={Garlic:If,"Meat Bone":Rf,Steak:class lP extends Ce{name="Steak";equipmentClass="attack";tier=6;power=20;originalPower=20;uses=1;originalUses=1},Melon:Nr,Coconut:Fa,Peanut:zd,"Peanut Butter":Wc,"Cake Slice":class nC extends Ce{name="Cake Slice";equipmentClass="shop";tier=1},Blackberry:Rm,Croissant:class _E extends Ce{name="Croissant";tier=3;equipmentClass="shop";constructor(){super()}},Rice:uP,Eucalyptus:Ll,Lime:class kE extends Ce{equipmentClass="defense";name="Lime";tier=2;power=1;originalPower=1;callback=e=>{}},Salt:Yd,Lemon:class Si extends Ce{equipmentClass="shield";name="Lemon";tier=5;power=7;originalPower=7;uses=2;originalUses=2},Cucumber:class gP extends Ce{name="Cucumber";equipmentClass="shop"},Cheese:Em,Grapes:class Bh extends Ce{name="Grapes";equipmentClass="shop"},Pepper:Dm,Carrot:class EE extends Ce{name="Carrot";equipmentClass="shop"},Cherry:class Ga extends Ce{name="Cherry";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new ME(e,t))}},"Bok Choy":class xE extends Ce{name="Bok Choy";equipmentClass="shop";tier=2},Potato:class LE extends Ce{name="Potato";equipmentClass="shield-snipe";power=10;uses=2;originalUses=2;originalPower=10},Unagi:class Nf extends Ce{name="Unagi";equipmentClass="startOfBattle";hasRandomEvents=!0;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _P(e,t))};constructor(){super()}},Corncob:Ol,"Fortune Cookie":Cm,Blueberry:Ff,Donut:class Of extends Ce{name="Donut";equipmentClass="target";constructor(){super()}},Pumpkin:class KR extends Ce{name="Pumpkin";equipmentClass="shop";tier=1},Kiwifruit:class Bf extends Ce{name="Kiwifruit";equipmentClass="shop";tier=2},Pineapple:class $f extends Ce{name="Pineapple";equipmentClass="attack-snipe";power=2;uses=3;originalUses=3;constructor(){super()}},Guava:fl,"Brussels Sprout":class TP extends Ce{name="Brussels Sprout";equipmentClass="shield";power=5;originalPower=5;uses=1;originalUses=1},Cauliflower:class Gf extends Ce{name="Cauliflower";equipmentClass="shop";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new Hf(e,t))}},Churros:class KE extends Ce{name="Churros";equipmentClass="shop"},Kiwano:class zE extends Ce{name="Kiwano";equipmentClass="shop"},Macaron:class YE extends Ce{name="Macaron";equipmentClass="shop"},"Melon Slice":jf,"Oyster Mushroom":class EP extends Ce{name="Oyster Mushroom";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new qf(e,t))}},"Sardinian Currant":class MP extends Ce{name="Sardinian Currant";equipmentClass="shop"},Sausage:class XE extends Ce{name="Sausage";equipmentClass="shop"},Walnut:hu,"Honeydew Melon":Jd,"Maple Syrup":Kc,"White Okra":mo,Ambrosia:Xc,"Magic Beans":class Kf extends Ce{name="Magic Beans";equipmentClass="shop";constructor(){super()}}},oC={Cake:class vE extends Ce{logService;name="Cake";equipmentClass="shop";tier=3;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new bE(e,t,this.logService))};constructor(e){super(),this.logService=e}},Egg:Fh,Squash:class wE extends Ce{logService;name="Squash";tier=3;equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new hP(e,t,this.logService))};constructor(e){super(),this.logService=e}},Pie:class TE extends Ce{logService;name="Pie";tier=4;equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new pa(e,t,this.logService))};constructor(e){super(),this.logService=e}},Skewer:Nl,Pancakes:class ps extends Ce{logService;name="Pancakes";tier=6;equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new Oh(e,t,this.logService))};constructor(e){super(),this.logService=e}},Strawberry:Jc,Baguette:class pP extends Ce{logService;name="Baguette";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new $a(e,t,this.logService))};constructor(e){super(),this.logService=e}},Eggplant:class vP extends Ce{logService;name="Eggplant";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new RE(e,t,this.logService))};constructor(e){super(),this.logService=e}},Onion:jd,"Pita Bread":class NE extends Ce{logService;name="Pita Bread";tier=6;power=0;equipmentClass="hurt";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new FE(e,t,this.logService))};constructor(e){super(),this.logService=e}},Tomato:class WR extends Ce{logService;name="Tomato";tier=6;equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new OE(e,t))};constructor(e){super(),this.logService=e}},Durian:class BE extends Ce{logService;name="Durian";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new $E(e,t,this.logService))};constructor(e){super(),this.logService=e}},"Sudduth Tomato":class AP extends Ce{logService;name="Sudduth Tomato";equipmentClass="hurt";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new qE(e,t,this.logService))};constructor(e){super(),this.logService=e}},Fig:class GE extends Ce{logService;name="Fig";equipmentClass="beforeAttack";hasRandomEvents=!0;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new $h(e,t))};constructor(e){super(),this.logService=e}},"Cashew Nut":class kP extends Ce{logService;name="Cashew Nut";tier=1;equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new wP(e,t))};constructor(e){super(),this.logService=e}},Nachos:class WE extends Ce{logService;name="Nachos";tier=1;equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new VE(e,t,this.logService))};constructor(e){super(),this.logService=e}},Caramel:class Fl extends Ce{logService;name="Caramel";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new qR(e,t,this.logService))};constructor(e){super(),this.logService=e}},Rambutan:Hh,"Love Potion":class Uf extends Ce{logService;name="Love Potion";equipmentClass="beforeStartOfBattle";tier=5;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new xP(e,t,this.logService))};constructor(e){super(),this.logService=e}},"Fairy Dust":class Wf extends Ce{logService;name="Fairy Dust";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new zR(e,t,this.logService))};constructor(e){super(),this.logService=e}},"Gingerbread Man":class YR extends Ce{logService;name="Gingerbread Man";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new XR(e,t,this.logService))};constructor(e){super(),this.logService=e}},"Health Potion":class yu extends Ce{logService;name="Health Potion";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new ZE(e,t,this.logService))};constructor(e){super(),this.logService=e}},"Golden Egg":class eC extends Ce{logService;name="Golden Egg";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new JR(e,t))};constructor(e){super(),this.logService=e}},"White Truffle":sS},sC={Honey:cP,Chili:$S,"Chocolate Cake":class IE extends Ce{logService;abilityService;name="Chocolate Cake";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new yP(e,t,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}},"Cod Roe":class HE extends Ce{logService;abilityService;name="Cod Roe";equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new jE(e,t,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}},Banana:class UR extends Ce{logService;abilityService;name="Banana";equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new bP(e,t,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}},"Gros Michel Banana":class UE extends Ce{logService;abilityService;name="Gros Michel Banana";equipmentClass="beforeAttack";callback=e=>{e.addAbility(new Gh(e,this,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}},"Easter Egg":class QE extends Ce{logService;abilityService;name="Easter Egg";equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new ms(e,t,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}},"Yggdrasil Fruit":class iC extends Ce{logService;abilityService;name="Yggdrasil Fruit";equipmentClass="afterFaint";callback=e=>{e.addAbility(new Xf(e,this,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}},"Mild Chili":_r},HP={Cold:jh,Crisp:ml,Dazed:Kd,Icky:Xt,Inked:vu,Toasty:Sr,Spooked:So,Weak:Ha,Silly:LP,Bloated:class QR extends Ce{name="Bloated";equipmentClass="ailment-other"},Confused:class Qf extends Ce{name="Confused";equipmentClass="ailment-other";callback=e=>{e.addAbility(new NP(e))}},Cursed:FP,Sad:class aC extends Ce{name="Sad";equipmentClass="ailment-other"},Sleepy:Vc,Webbed:class BP extends Ce{name="Webbed";equipmentClass="ailment-other";callback=e=>{e.addAbility(new $P(e))}}},jP={Mushroom:a=>new SE(a.logService,a.petService),Popcorn:a=>new mP(a.logService,a.petService,a.gameService),Seaweed:a=>new CE(a.logService,a.abilityService,a.petService),"Cocoa Bean":a=>new SP(a.logService,a.petService),"Faint Bread":a=>new Jf(a.logService,a.petService),Radish:a=>new CP(a.logService)},qP={Tasty:a=>new Po(a.logService)},fs=JSON.parse('[{"Ability":"Give one pet +1 attack and +1 health.","Id":"0","Name":"Apple","NameId":"Apple","Tier":1,"Packs":["Pack1","Pack2","Pack4"],"PacksRequired":["Pack1","Pack2","Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Increase sell value of one pet by 1 gold.","Id":"117","Name":"Asparagus","NameId":"Asparagus","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack.","Id":"2","Name":"Bacon","NameId":"Bacon","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and +3 health.","Id":"135","Name":"Best Apple","NameId":"Apple3","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and +6 health.","Id":"103","Name":"Best Milk","NameId":"Milk3","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health.","Id":"134","Name":"Better Apple","NameId":"Apple2","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +4 health.","Id":"102","Name":"Better Milk","NameId":"Milk2","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Blueberry perk.","Id":"7","Name":"Blueberry","NameId":"BlueBerries","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Prioritize this for enemy random abilities.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet +1 attack.","Id":"139","Name":"Bread Crumbs","NameId":"BreadCrumbs","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health until next turn.","Id":"213","Name":"Cake Slice","NameId":"BirthdayCakeSlice","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one tier 1-3 ailment to stock. Always on sale!","Id":"225","Name":"Canned Ailment","NameId":"CannedAilment","Tier":1,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Spooked without triggering abilities.","Id":"216","Name":"Canned Spooky","NameId":"CannedScared","Tier":1,"Packs":[],"PacksRequired":[],"PerkNote":"Take +1 damage.","CustomArchetypes":[]},{"Ability":"Make one pet Toasty without triggering abilities.","Id":"223","Name":"Canned Toasty","NameId":"CannedToasty","Tier":1,"Packs":[],"PacksRequired":[],"PerkNote":"Anyone attacks: Take 1 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Cashew Nut perk.","Id":"173","Name":"Cashew Nut","NameId":"CashewNut","Tier":1,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Before battle: Deal 1 damage to the second nearest pet ahead. Double against enemies.","CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health until next turn.","Id":"27","Name":"Cookie","NameId":"Cookie","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +1 to lowest stat.","Id":"28","Name":"Corncob","NameId":"Corn","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Ability":"Give one pet the Egg perk.","Id":"33","Name":"Egg","NameId":"Egg","Tier":1,"Packs":["Pack2","Pack4"],"PacksRequired":["Pack2","Pack4"],"Rollable":true,"PerkNote":"Before attack: Deal 2 damage to target, once.","CustomArchetypes":[]},{"Ability":"Choose one level 1 Ferret toy.","Id":"234","Name":"Ferret Present","NameId":"FerretGift1","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Ferret toy.","Id":"235","Name":"Ferret Present","NameId":"FerretGift2","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Ferret toy.","Id":"236","Name":"Ferret Present","NameId":"FerretGift3","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 to their lowest stat.","Id":"191","Name":"Fresh Water","NameId":"FreshWater","Tier":1,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Golden Egg perk.","Id":"148","Name":"Golden Egg","NameId":"GoldenEgg","Tier":1,"Packs":["Pack5"],"PacksRequired":["Pack5"],"PerkNote":"Before attack: Deal 6 damage to target, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Gros Michel Banana perk.","Id":"192","Name":"Gros Michel Banana","NameId":"GrosMichelBanana","Tier":1,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Before attack: Transform into an Ant.","CustomArchetypes":[]},{"Ability":"Give one pet the Health Potion perk.","Id":"150","Name":"Health Potion","NameId":"HealthPotion","Tier":1,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Before battle: Give the front-most friendly pet +2 health.","CustomArchetypes":[]},{"Ability":"Transform one Bad Dog into Good Dog, or give +4 attack and +4 health.","Id":"151","Name":"Holy Water","NameId":"HolyWater","Tier":1,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Ability":"Give one pet the Honey perk.","Id":"40","Name":"Honey","NameId":"Honey","Tier":1,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Faint: Summon one 1/1 Bee.","CustomArchetypes":[]},{"Ability":"Give one pet the Macaron perk.","Id":"128","Name":"Macaron","NameId":"Macaron","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Activate ability after other pets with the same trigger.","CustomArchetypes":[]},{"Ability":"Give one pet +1 attack and +2 health.","Id":"49","Name":"Milk","NameId":"Milk","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Nachos perk.","Id":"136","Name":"Nachos","NameId":"Nachos","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Before attack: Convert up to 3 health into attack.","CustomArchetypes":[]},{"Ability":"Give one pet +2 health.","Id":"64","Name":"Peach","NameId":"Plumb","Tier":1,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack on odd turns and +2 health on even turns.","Id":"119","Name":"Pumpkin","NameId":"Pumpkin","Tier":1,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +1 health.","Id":"210","Name":"Seed Pile","NameId":"SeedPile","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Strawberry perk.","Id":"81","Name":"Strawberry","NameId":"Strawberry","Tier":1,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Faint: Give the back-most friend +1 attack and +1 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Unagi perk.","Id":"196","Name":"Unagi","NameId":"Unagi","Tier":1,"Packs":["Custom"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Start of battle: Deal 2 damage to a random enemy.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Walnut perk.","Id":"174","Name":"Walnut","NameId":"Walnut","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block 2 damage, once.","CustomArchetypes":[]},{"Ability":"Choose ANY perk food from the current tier to stock at 1 gold.","Id":"208","Name":"Antarctic Krill","NameId":"AntarcticKrill","Tier":2,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Bok Choy perk.","Id":"176","Name":"Bok Choy","NameId":"BokChoy","Tier":2,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Gain +3 health when this would faint, once.","CustomArchetypes":[]},{"Ability":"Give one pet +3 health and remove 1 attack.","Id":"11","Name":"Broccoli","NameId":"Broccoli","Tier":2,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Cold without triggering abilities.","Id":"219","Name":"Canned Cold","NameId":"CannedFrozen","Tier":2,"Packs":[],"PacksRequired":[],"PerkNote":"Take +5 damage, once.","CustomArchetypes":[]},{"Ability":"Make one pet Inked without triggering abilities.","Id":"220","Name":"Canned Ink","NameId":"CannedInk","Tier":2,"Packs":[],"PacksRequired":[],"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":[]},{"Ability":"Make one pet Weak without triggering abilities.","Id":"214","Name":"Canned Weak","NameId":"CannedWeak","Tier":2,"Packs":[],"PacksRequired":[],"PerkNote":"Take +3 damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Caramel perk.","Id":"124","Name":"Caramel","NameId":"Caramel","Tier":2,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Before attack: Combine friendly Caramels to deal 3 damage each to the most healthy enemy, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Cherry perk.","Id":"20","Name":"Cherries","NameId":"Cherries","Tier":2,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before battle: Gain 2 trumpets and remove perk.","CustomArchetypes":[]},{"Ability":"Give one pet the Chocolate Cake perk.","Id":"24","Name":"Chocolate Cake","NameId":"ChocolateCake","Tier":2,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Gain +3 experience and faint.","CustomArchetypes":[]},{"Ability":"Give one pet the Churros perk.","Id":"126","Name":"Churros","NameId":"Churros","Tier":2,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Activate ability before other pets with the same trigger.","CustomArchetypes":[]},{"Ability":"Give one pet +1 attack and +1 health. Triple on every third Cloudberry.","Id":"185","Name":"Cloudberry","NameId":"Cloudberries","Tier":2,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Cod Roe perk.","Id":"207","Name":"Cod Roe","NameId":"CodRoe","Tier":2,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Faint: Summon one 2/3 Fish.","CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and +3 health until next turn.","Id":"50","Name":"Cupcake","NameId":"Muffin","Tier":2,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Eucalyptus perk.","Id":"167","Name":"Eucalyptus","NameId":"Eucalyptus","Tier":2,"Packs":[],"PacksRequired":[],"PerkNote":"Block 4 enemy damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Faint Bread perk.","Id":"140","Name":"Faint Bread","NameId":"DeadBread","Tier":2,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Faint: Summon ANY one tier 1 <b>Faint</b> pet.","CustomArchetypes":[]},{"Ability":"Give one pet the Fairy Dust perk.","Id":"144","Name":"Fairy Dust","NameId":"FairyDust","Tier":2,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Empty front space: Jump to the front and gain +2 mana, once.","CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and remove 1 health.","Id":"100","Name":"Fried Shrimp","NameId":"FriedShrimp","Tier":2,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Gain 2 free rolls next turn.","Id":"45","Name":"Kiwifruit","NameId":"Kiwi","Tier":2,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Choose one level 1 Lemur toy.","Id":"249","Name":"Lemur Present","NameId":"LemurGift1","Tier":2,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Lemur toy.","Id":"250","Name":"Lemur Present","NameId":"LemurGift2","Tier":2,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Lemur toy.","Id":"251","Name":"Lemur Present","NameId":"LemurGift3","Tier":2,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Lime perk.","Id":"170","Name":"Lime","NameId":"Lime","Tier":2,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Takes 1 less damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Meat Bone perk.","Id":"9","Name":"Meat Bone","NameId":"MeatBone","Tier":2,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Attack with +3 damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Radish perk.","Id":"122","Name":"Radish","NameId":"Radish","Tier":2,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Before battle: Gain ANY useful perk from the pet\'s tier.","CustomArchetypes":[]},{"Ability":"Give one pet the Rice perk.","Id":"70","Name":"Rice","NameId":"RiceBall","Tier":2,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Sell for +2 gold.","CustomArchetypes":[]},{"Ability":"Make one pet faint. Always on sale!","Id":"92","Name":"Sleeping Pill","NameId":"Pill","Tier":2,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Sudduth Tomato perk.","Id":"195","Name":"Sudduth Tomato","NameId":"SudduthTomato","Tier":2,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Hurt: If still standing, gain permanent +1 health, once.","CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and Weak.","Id":"159","Name":"Wall Chicken","NameId":"WallChicken","Tier":2,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Gain +3 gold on next turn.","Id":"1","Name":"Avocado","NameId":"Avocado","Tier":3,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Blackberry perk.","Id":"172","Name":"Blackberry","NameId":"Blackberry","Tier":3,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Gain +1 attack and +2 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Brussels Sprout perk.","Id":"118","Name":"Brussels Sprout","NameId":"BrusselsSprout","Tier":3,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block being pushed or 5 damage, once.","CustomArchetypes":[]},{"Ability":"Give future shop pets from the next tier permanent +1 attack and +1 health.","Id":"12","Name":"Bubble Tea","NameId":"BubbleTea","Tier":3,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Cake perk.","Id":"6","Name":"Cake","NameId":"BirthdayCake","Tier":3,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"End turn: Increase sell value by 1 gold.","CustomArchetypes":[]},{"Ability":"Make one pet Confused without triggering abilities.","Id":"231","Name":"Canned Confusion","NameId":"CannedConfused","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Before attack: Transform into a pet from one tier below, once.","CustomArchetypes":[]},{"Ability":"Make one pet Silly without triggering abilities.","Id":"217","Name":"Canned Silly","NameId":"CannedSilly","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Ability has random targets in battle.","CustomArchetypes":[],"Random":true},{"Ability":"Make one pet Webbed without triggering abilities.","Id":"228","Name":"Canned Web","NameId":"CannedWeb","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Faint: Summon one 2/2 Spider up front for the opponent.","CustomArchetypes":[]},{"Ability":"Give one pet +3 attack.","Id":"201","Name":"Carrot Parisier","NameId":"CarrotParisier","Tier":3,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Croissant perk.","Id":"29","Name":"Croissant","NameId":"Croissant","Tier":3,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"PerkNote":"End turn: Gain +1 attack.","CustomArchetypes":[]},{"Ability":"Give one pet the Cucumber perk.","Id":"97","Name":"Cucumber","NameId":"Cucumber","Tier":3,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"End turn: Gain +1 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Fig perk.","Id":"109","Name":"Fig","NameId":"Fig","Tier":3,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Deal 4 damage to the lowest health enemy, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Garlic perk.","Id":"38","Name":"Garlic","NameId":"Garlic","Tier":3,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Takes 2 less damage.","PerkFinePrint":"Damage can\'t be reduced to less than 2.","CustomArchetypes":[]},{"Ability":"Give one pet +3 health.","Id":"211","Name":"Geechee Red Pea","NameId":"GeecheeRedPea","Tier":3,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Choose one level 1 Gharial toy.","Id":"237","Name":"Gharial Present","NameId":"GharialGift1","Tier":3,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Gharial toy.","Id":"238","Name":"Gharial Present","NameId":"GharialGift2","Tier":3,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Gharial toy.","Id":"239","Name":"Gharial Present","NameId":"GharialGift3","Tier":3,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Gingerbread Man perk.","Id":"147","Name":"Gingerbread Man","NameId":"GingerbreadMan","Tier":3,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Before battle: Gain +1 experience.","CustomArchetypes":[]},{"Ability":"Give one pet the Guava perk.","Id":"112","Name":"Guava","NameId":"Guava","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Block 3 damage, and attack for +3 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet +3 to their lowest stat.","Id":"153","Name":"Just-Right Porridge","NameId":"JustRightPorridge","Tier":3,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give three pets from the current shop tier or higher +1 attack and +1 health.","Id":"72","Name":"Lettuce","NameId":"Salad","Tier":3,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Swap Attack and Health of a pet. Always on sale!","Id":"48","Name":"Lollipop","NameId":"Lollipop","Tier":3,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Pineapple perk.","Id":"61","Name":"Pineapple","NameId":"Pineapple","Tier":3,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Ability deals +2 damage, thrice.","CustomArchetypes":[]},{"Ability":"Give one pet the Rambutan perk.","Id":"110","Name":"Rambutan","NameId":"Rambutan","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Before attack: Gain +3 mana.","CustomArchetypes":[]},{"Ability":"Replace perk or ailment on one pet with +2 attack and +2 health.","Id":"179","Name":"Ravioli","NameId":"Ravioli","Tier":3,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give two random pets +1 attack and +1 health.","Id":"73","Name":"Salad Bowl","NameId":"SaladBowl","Tier":3,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Balance out attack and health. Always on sale!","Id":"75","Name":"Sandwich","NameId":"Sandwich","Tier":3,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Sausage perk.","Id":"114","Name":"Sausage","NameId":"Sausage","Tier":3,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Start of turn: Gain one free roll.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Seaweed perk.","Id":"184","Name":"Seaweed","NameId":"Seaweed","Tier":3,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Before attack: Transform into a Baby Urchin.","CustomArchetypes":[]},{"Ability":"Give one pet the Squash perk.","Id":"121","Name":"Squash","NameId":"Squash","Tier":3,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Before attack: Remove 6 health from target, once.","CustomArchetypes":[]},{"Ability":"Transform one pet into another from the same tier and with ANY tier 3 perk.","Id":"161","Name":"Water of Youth","NameId":"YouthWater","Tier":3,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the White Truffle perk.","Id":"198","Name":"White Truffle","NameId":"WhiteTruffle","Tier":3,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Friend faints: Gain +4 attack and jump-attack the highest attack enemy, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Ambrosia perk.","Id":"138","Name":"Ambrosia","NameId":"Ambrosia","Tier":4,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Block ailment or 8 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Baguette perk.","Id":"3","Name":"Baguette","NameId":"Baguette","Tier":4,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Before attack: Remove the front-most enemy perk, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Banana perk.","Id":"4","Name":"Banana","NameId":"Banana","Tier":4,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Faint: Summon one 4/4 Monkey.","CustomArchetypes":[]},{"Ability":"Make one pet Bloated without triggering abilities.","Id":"229","Name":"Canned Bloat","NameId":"CannedBloated","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Can\'t gain perk, once.","CustomArchetypes":[]},{"Ability":"Make one pet Crisp without triggering abilities.","Id":"224","Name":"Canned Burn","NameId":"CannedBurn","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Anyone attacks: Take 6 damage, once.","CustomArchetypes":[]},{"Ability":"Give all current and future shop pets +1 attack and +1 health.","Id":"16","Name":"Canned Food","NameId":"CannedFood","Tier":4,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Tasty without triggering abilities.","Id":"222","Name":"Canned Tasty","NameId":"CannedTasty","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Faint: Give one random enemy permanent +2 attack and +2 health.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Cauliflower perk.","Id":"137","Name":"Cauliflower","NameId":"Cauliflower","Tier":4,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Knock out: If still standing, gain permanent +1 attack and +1 health, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Cheese perk.","Id":"19","Name":"Cheese","NameId":"Cheese","Tier":4,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Attack with at least 15 attack, once.","CustomArchetypes":[]},{"Ability":"Transform one pet into another of the same tier and give two other +1 attack and +1 health.","Id":"189","Name":"Chickpea","NameId":"Chickpea","Tier":4,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Donut perk.","Id":"31","Name":"Donut","NameId":"Doughnut","Tier":4,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Prioritize this for friendly random abilities.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet +3 health. Also convert 2 attack into health.","Id":"141","Name":"Drink-Me Liquid","NameId":"DrinkMeLiquid","Tier":4,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +3 attack. Also convert 2 health into attack.","Id":"143","Name":"Eat-Me Cake","NameId":"EatMeCake","Tier":4,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Fortune Cookie perk.","Id":"35","Name":"Fortune Cookie","NameId":"FortuneCookie","Tier":4,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Attack has 50% chance to deal double damage.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Grapes perk.","Id":"39","Name":"Grapes","NameId":"Grapes","Tier":4,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Start of turn: Gain +1 gold.","CustomArchetypes":[]},{"Ability":"Give one pet the Maple Syrup perk.","Id":"194","Name":"Maple Syrup","NameId":"MapleSyrup","Tier":4,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Attack for 50% damage and block 50% damage, thrice.","CustomArchetypes":[]},{"Ability":"Give one pet the Melon Slice perk.","Id":"87","Name":"Melon Slice","NameId":"WaterMelon","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Block 10 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Mild Chili perk.","Id":"232","Name":"Mild Chili","NameId":"MildChili","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Attack second enemy for 4 damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Onion perk.","Id":"53","Name":"Onion","NameId":"Onion","Tier":4,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Move to the back, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Oyster Mushroom perk.","Id":"183","Name":"Oyster Mushroom","NameId":"OysterMushroom","Tier":4,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Before attack: Set attack and health to at least 9, once.","CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health.","Id":"58","Name":"Pear","NameId":"Pear","Tier":4,"Packs":["Pack1","Pack3"],"PacksRequired":["Pack1","Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Pie perk.","Id":"60","Name":"Pie","NameId":"Pie","Tier":4,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Before battle: Gain +4 attack and +3 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Potato perk.","Id":"66","Name":"Potato","NameId":"Potato","Tier":4,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 10 damage from abilities and perks, twice.","CustomArchetypes":[]},{"Ability":"Choose one level 1 Puppy toy.","Id":"240","Name":"Puppy Present","NameId":"PuppyGift1","Tier":4,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Puppy toy.","Id":"241","Name":"Puppy Present","NameId":"PuppyGift2","Tier":4,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Puppy toy.","Id":"242","Name":"Puppy Present","NameId":"PuppyGift3","Tier":4,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Salt perk.","Id":"74","Name":"Salt","NameId":"Salt","Tier":4,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Attack for double damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet +1 attack and +1 health. Triple if you have 1 life left.","Id":"78","Name":"Soup","NameId":"Soup","Tier":4,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Choose one tier 4-6 ailment to stock. Always on sale!","Id":"226","Name":"Stronger Canned Ailment","NameId":"CannedAilment2","Tier":4,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give the two left-most shop pets +2 attack and +3 health.","Id":"197","Name":"Vanilla Bean","NameId":"VanillaBean","Tier":4,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Activate buy ability or give +3 health.","Id":"86","Name":"Waffle","NameId":"Waffle","Tier":4,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +3 experience.","Id":"105","Name":"Best Chocolate","NameId":"Chocolate3","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 experience.","Id":"104","Name":"Better Chocolate","NameId":"Chocolate2","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +6 mana.","Id":"202","Name":"Big Mana Potion","NameId":"ManaPotion2","Tier":5,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Dazed without triggering abilities.","Id":"218","Name":"Canned Dazed","NameId":"CannedDeaf","Tier":5,"Packs":[],"PacksRequired":[],"PerkNote":"Prevent ability from activating.","CustomArchetypes":[]},{"Ability":"Make one pet Sleepy without triggering abilities.","Id":"221","Name":"Canned Sleepy","NameId":"CannedDrowsy","Tier":5,"Packs":[],"PacksRequired":[],"PerkNote":"Attack with half damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Carrot perk.","Id":"17","Name":"Carrot","NameId":"Carrot","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"End turn: Gain +1 attack and +1 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Chili perk.","Id":"22","Name":"Chili","NameId":"Chili","Tier":5,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Attack second enemy for 5 damage.","CustomArchetypes":[]},{"Ability":"Give one pet +1 experience.","Id":"23","Name":"Chocolate","NameId":"Chocolate","Tier":5,"Packs":["Pack1","Pack2","Pack3","Pack4","Pack5","Danger"],"PacksRequired":["Pack1","Pack2","Pack3","Pack4","Pack5","Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Cocoa Bean perk.","Id":"190","Name":"Cocoa Bean","NameId":"CocoaBean","Tier":5,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Before attack: Transform into an exact copy of a random enemy, once.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet +3 attack and +2 health.","Id":"123","Name":"Cotton Candy","NameId":"CottonCandy","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Durian perk.","Id":"113","Name":"Durian","NameId":"Durian","Tier":5,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Reduce the most healthy enemy by 33% health, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Easter Egg perk.","Id":"142","Name":"Easter Egg","NameId":"EasterEgg","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Faint: Summon one 3/3 Bunny that attacks for double damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Eggplant perk.","Id":"34","Name":"Eggplant","NameId":"EggPlant","Tier":5,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Before battle: Push opposite enemy 1 space forward.","CustomArchetypes":[]},{"Ability":"Replace each shop item with something from 1 tier higher than it.","Id":"129","Name":"Flodebolle","NameId":"Flodeboller","Tier":5,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Honeydew Melon perk.","Id":"193","Name":"Honeydew Melon","NameId":"HoneydewMelon","Tier":5,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 10 damage, and attack for +5 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Kiwano perk.","Id":"181","Name":"Kiwano","NameId":"Kiwano","Tier":5,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Ability deals +8 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +3 health.","Id":"125","Name":"Lasagna","NameId":"Lasagne","Tier":5,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Lemon perk.","Id":"47","Name":"Lemon","NameId":"Lemon","Tier":5,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Block 7 damage, twice.","CustomArchetypes":[]},{"Ability":"Give one pet the Love Potion perk.","Id":"155","Name":"Love Potion","NameId":"LovePotion","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Before battle: Summon one 5/5 pet like this.","CustomArchetypes":[]},{"Ability":"Give one pet the Magic Beans perk.","Id":"156","Name":"Magic Beans","NameId":"MagicBeans","Tier":5,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Start of turn: Gain the Golden Egg perk and increase sell value by 4 gold.","CustomArchetypes":[]},{"Ability":"Give one pet +5 to its lowest stat.","Id":"209","Name":"Oblonot","NameId":"Oblonot","Tier":5,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Pepper perk.","Id":"59","Name":"Pepper","NameId":"Pepper","Tier":5,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Health does not go under 1. Removed after taking damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Skewer perk.","Id":"76","Name":"Skewer","NameId":"Skewer","Tier":5,"Packs":[],"PacksRequired":[],"PerkNote":"Attack second and third enemy for 3 damage.","CustomArchetypes":[]},{"Ability":"Give three random pets +2 health.","Id":"80","Name":"Stew","NameId":"Stew","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Choose one level 1 Sting Ray toy.","Id":"246","Name":"Sting Ray Present","NameId":"StingRayGift1","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Sting Ray toy.","Id":"247","Name":"Sting Ray Present","NameId":"StingRayGift2","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Sting Ray toy.","Id":"248","Name":"Sting Ray Present","NameId":"StingRayGift3","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet Strawberry. Always on sale!","Id":"168","Name":"Strawberry Jam","NameId":"StrawberryJar","Tier":5,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Faint: Give the back-most friend +1 attack and +1 health.","CustomArchetypes":[]},{"Ability":"Give three random pets +1 attack and +1 health.","Id":"82","Name":"Sushi","NameId":"Sushi","Tier":5,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Give three random pets +2 attack.","Id":"84","Name":"Taco","NameId":"Taco","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Stock one 2-gold copy of the last non-Tofu food bought this turn.","Id":"187","Name":"Tofu","NameId":"Tofu","Tier":5,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Cursed without triggering abilities.","Id":"230","Name":"Canned Curse","NameId":"CannedCurse","Tier":6,"Packs":[],"PacksRequired":[],"PerkNote":"Faint: Make one random friend Cursed.","CustomArchetypes":[],"Random":true},{"Ability":"Make one pet Icky without triggering abilities.","Id":"215","Name":"Canned Icky","NameId":"CannedAcid","Tier":6,"Packs":[],"PacksRequired":[],"PerkNote":"Take double damage, twice.","CustomArchetypes":[]},{"Ability":"Give one pet +6 health.","Id":"120","Name":"Celery","NameId":"Celery","Tier":6,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and +3 health.","Id":"21","Name":"Chicken Leg","NameId":"ChickenLeg","Tier":6,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Activate one pet\'s ability.","Id":"206","Name":"Coffee Bean","NameId":"CoffeeBean","Tier":6,"Packs":["Danger"],"PacksRequired":["Danger"],"CustomArchetypes":[]},{"Ability":"Choose one free tier 6 food to stock from ALL packs.","Id":"166","Name":"Cornucopia","NameId":"Cornucopia","Tier":6,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give two random pets +4 attack.","Id":"41","Name":"Hot Dog","NameId":"HotDog","Tier":6,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Stock one 2-gold Melon and one 2-gold Steak.","Id":"106","Name":"Judean Date","NameId":"Date","Tier":6,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Transform one pet into another from one higher tier.","Id":"154","Name":"Konpeito","NameId":"Kompeito","Tier":6,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mvp"]},{"Ability":"Give one pet the Melon perk.","Id":"96","Name":"Melon","NameId":"Melon","Tier":6,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":[]},{"Ability":"Choose one level 1 Mongoose toy.","Id":"243","Name":"Mongoose Present","NameId":"MongooseGift1","Tier":6,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Mongoose toy.","Id":"244","Name":"Mongoose Present","NameId":"MongooseGift2","Tier":6,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Mongoose toy.","Id":"245","Name":"Mongoose Present","NameId":"MongooseGift3","Tier":6,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Mushroom perk.","Id":"51","Name":"Mushroom","NameId":"Mushroom","Tier":6,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Faint: Come back as a 1/1.","CustomArchetypes":["Mvp"]},{"Ability":"Give two random pets +4 health.","Id":"54","Name":"Orange","NameId":"Orange","Tier":6,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Pancakes perk.","Id":"55","Name":"Pancakes","NameId":"Pancakes","Tier":6,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Before battle: Give friends +2 attack and +2 health.","CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health. Upgrade future peaches to give +1 more attack and health.","Id":"152","Name":"Peach of Immortality","NameId":"ImmortalPeach","Tier":6,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Pita Bread perk.","Id":"62","Name":"Pita Bread","NameId":"PitaBread","Tier":6,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Hurt: Gain +15 health, once.","CustomArchetypes":[]},{"Ability":"Give two random pets +2 attack and +2 health.","Id":"63","Name":"Pizza","NameId":"Pizza","Tier":6,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Popcorn perk.","Id":"65","Name":"Popcorn","NameId":"Popcorn","Tier":6,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Faint: Summon one random pet from the same tier.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet +2 attack and +2 health. Double if all pets are tier 4 or higher.","Id":"67","Name":"Pretzel","NameId":"Pretzel","Tier":6,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"If pack has no pets/food from the tab, give tier 5 and 6 perks to one pet and the friends ahead of it.","Id":"158","Name":"Rainbow Jelly","NameId":"RainbowJelly","Tier":6,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Sardinian Currant perk.","Id":"200","Name":"Sardinian Currant","NameId":"SardinianCurrant","Tier":6,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Start of turn: Gain +2 gold.","CustomArchetypes":[]},{"Ability":"Give all pets +1 attack.","Id":"77","Name":"Soft Ice","NameId":"SoftIce","Tier":6,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Choose one tier 5-6 perk food to stock for free from ANY pack.","Id":"171","Name":"Starfruit","NameId":"Starfruit","Tier":6,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Steak perk.","Id":"79","Name":"Steak","NameId":"Steak","Tier":6,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"PerkNote":"Attack with +20 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Tomato perk.","Id":"85","Name":"Tomato","NameId":"Tomato","Tier":6,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Deal 10 damage to the last enemy, once.","CustomArchetypes":[]},{"Ability":"Give one pet the White Okra perk.","Id":"199","Name":"White Okra","NameId":"WhiteOkra","Tier":6,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Block 10 damage twice or ailment once.","CustomArchetypes":[]},{"Ability":"Give one pet the Yggdrasil Fruit perk.","Id":"160","Name":"Yggdrasil Fruit","NameId":"YggdrasilFruit","Tier":6,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Faint: Summon two 5/5 Nordic Goats.","CustomArchetypes":[]},{"Ability":"Give one pet the Coconut perk.","Id":"26","Name":"Coconut","NameId":"Coconut","Tier":7,"Packs":[],"PacksRequired":[],"PerkNote":"Block damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Peanut perk.","Id":"57","Name":"Peanut","NameId":"Peanut","Tier":7,"Packs":[],"PacksRequired":[],"PerkNote":"Knock out any pet attacked and hurt by this.","CustomArchetypes":[]},{"Ability":"Give one pet the Peanut Butter perk.","Id":"204","Name":"Peanut Butter","NameId":"PeanutButter","Tier":7,"Packs":[],"PacksRequired":[],"PerkNote":"Knock out any pet attacked and hurt by this, once.","CustomArchetypes":[]}]');var _o=w.t(fs,2);const lC=new Map([["Blueberry",1],["Golden Egg",1],["Gros Michel Banana",1],["Health Potion",1],["Honey",1],["Macaron",1],["Unagi",1],["Caramel",2],["Cherry",2],["Chocolate Cake",2],["Churros",2],["Cod Roe",2],["Eucalyptus",2],["Faint Bread",2],["Fairy Dust",2],["Meat Bone",2],["Radish",2],["Sudduth Tomato",2],["Brussels Sprout",3],["Cucumber",3],["Fig",3],["Gingerbread Man",3],["Pineapple",3],["Rambutan",3],["Sausage",3],["Seaweed",3],["White Truffle",3],["Baguette",4],["Banana",4],["Cauliflower",4],["Cheese",4],["Donut",4],["Fortune Cookie",4],["Grapes",4],["Melon Slice",4],["Oyster Mushroom",4],["Potato",4],["Carrot",5],["Chili",5],["Durian",5],["Easter Egg",5],["Eggplant",5],["Kiwano",5],["Magic Beans",5],["Onion",4],["Pepper",5],["Mild Chili",4],["Popcorn",6],["Sardinian Currant",6],["Yggdrasil Fruit",6]]),cC=[{pattern:/^Start of turn:/i,trigger:"StartTurn"},{pattern:/^End turn:/i,trigger:"EndTurn"},{pattern:/^Before battle:/i,trigger:"BeforeStartBattle"},{pattern:/^Start of battle:/i,trigger:"StartBattle"},{pattern:/^Before attack:/i,trigger:"BeforeThisAttacks"},{pattern:/^Faint:/i,trigger:"Faint"},{pattern:/^Hurt:/i,trigger:"ThisHurt"},{pattern:/^Anyone attacks:/i,trigger:"AnyoneAttack"},{pattern:/^Empty front space:/i,trigger:"EmptyFrontSpace"},{pattern:/^Knock out:/i,trigger:"KnockOut"}],dC=new Map((fo??Al??[]).filter(a=>a?.Name).map(a=>{const t=[],i=(a.Ability??"").trim();for(const{pattern:n,trigger:s}of cC)n.test(i)&&!t.includes(s)&&t.push(s);return[a.Name,t]}));function ys(a,e){if(!a)return;const t=dC.get(e);t&&t.length&&(a.triggers=[...t])}let UP=(()=>{class a{logService;abilityService;gameService;randomEquipmentSet=new Set;constructor(t,i,n){this.logService=t,this.abilityService=i,this.gameService=n,this.initRandomEquipment()}initRandomEquipment(){const t=fs||_o;if(Array.isArray(t))for(const i of t)i.Random&&this.randomEquipmentSet.add(i.Name)}getAllEquipment(){const t=Mt.getInjector().get(Kn),i=new Map,n={logService:this.logService,abilityService:this.abilityService,gameService:this.gameService,petService:t};for(const[s,r]of Object.entries(GP)){const c=new r;this.randomEquipmentSet.has(s)&&(c.hasRandomEvents=!0),ys(c,s),i.set(s,c)}for(const[s,r]of Object.entries(oC)){const c=new r(this.logService);this.randomEquipmentSet.has(s)&&(c.hasRandomEvents=!0),ys(c,s),i.set(s,c)}for(const[s,r]of Object.entries(sC)){const c=new r(this.logService,this.abilityService);this.randomEquipmentSet.has(s)&&(c.hasRandomEvents=!0),ys(c,s),i.set(s,c)}for(const[s,r]of Object.entries(jP)){const c=r(n);this.randomEquipmentSet.has(s)&&(c.hasRandomEvents=!0),ys(c,s),i.set(s,c)}for(const[s,r]of i.entries())if(null==r?.tier){const c=lC.get(s);null!=c&&(r.tier=c)}return i}getAllAilments(){const t=new Map,i={logService:this.logService,abilityService:this.abilityService,gameService:this.gameService,petService:null};for(const[n,s]of Object.entries(HP)){const r=new s;this.randomEquipmentSet.has(n)&&(r.hasRandomEvents=!0),ys(r,n),t.set(n,r)}for(const[n,s]of Object.entries(qP)){const r=s(i);this.randomEquipmentSet.has(n)&&(r.hasRandomEvents=!0),ys(r,n),t.set(n,r)}return t}static \u0275fac=function(i){return new(i||a)(P.KVO(Vn),P.KVO(Ba),P.KVO(Or))};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();class ui{logService;abilityService;gameService;equipmentFactory;cachedEquipment=null;cachedAilments=null;constructor(e,t,i,n){this.logService=e,this.abilityService=t,this.gameService=i,this.equipmentFactory=n}getInstanceOfAllEquipment(){return this.cachedEquipment||(this.cachedEquipment=this.equipmentFactory.getAllEquipment()),this.cachedEquipment}getInstanceOfAllAilments(){return this.cachedAilments||(this.cachedAilments=this.equipmentFactory.getAllAilments()),this.cachedAilments}isEquipmentRandom(e){const t=this.getInstanceOfAllEquipment(),i=this.getInstanceOfAllAilments();return(t.get(e)?.hasRandomEvents??!1)||(i.get(e)?.hasRandomEvents??!1)}static USEFUL_PERKS=new Map([["Honey",1],["Strawberry",1],["Egg",1],["Cake Slice",1],["Cashew Nut",1],["Nachos",1],["Lime",2],["Meat Bone",2],["Cherry",2],["Bok Choy",2],["Kiwifruit",2],["Fairy Dust",2],["Garlic",3],["Gingerbread Man",3],["Fig",3],["Cucumber",3],["Croissant",3],["Squash",3],["Banana",4],["Love Potion",4],["Pie",4],["Grapes",4],["Cheese",4],["Cod Roe",4],["Salt",4],["Fortune Cookie",4],["Easter Egg",5],["Magic Beans",5],["Chili",5],["Lemon",5],["Durian",5],["Honeydew Melon",5],["Maple Syrup",5],["Cocoa Bean",5],["White Okra",5],["Popcorn",6],["Steak",6],["Pancakes",6],["Yggdrasil Fruit",6],["Melon",6],["Tomato",6],["Sudduth Tomato",6],["Pita Bread",6],["Seaweed",5],["Caramel",4],["Baguette",4]]);isUsefulPerk(e){return ui.USEFUL_PERKS.has(e)}getUsefulPerksByTier(e){const t=this.getInstanceOfAllEquipment(),i=[];for(const[n,s]of ui.USEFUL_PERKS.entries())s===e&&t.has(n)&&i.push(t.get(n));return i}getUsefulPerks(){const e=this.getInstanceOfAllEquipment(),t=[];for(const i of ui.USEFUL_PERKS.keys())e.has(i)&&t.push(e.get(i));return t}static \u0275fac=function(t){return new(t||ui)(P.KVO(Vn),P.KVO(Ba),P.KVO(Or),P.KVO(UP))};static \u0275prov=P.jDH({token:ui,factory:ui.\u0275fac,providedIn:"root"})}class at{logService;toyService;name;parent;level;tier;used=!1;suppressFriendFaintLog=!1;triggers=0;constructor(e,t,i,n){this.logService=e,this.toyService=t,this.parent=i,this.level=n}}class WP extends E{logService;constructor(e,t){super({name:"BalloonAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,s=this.owner;let r=s.parent.getFurthestUpPets(this.level,[],s),c=r.pets;if(0!=c.length){for(let h of c)h.increaseAttack(1),h.increaseHealth(1),this.logService.createLog({message:`${s.name} gave ${h.name} 1 attack and 1 health.`,type:"ability",player:s.parent,tiger:n,randomEvent:r.random});this.triggerTigerExecution(e)}}copy(e){return new WP(e,this.logService)}}class Zf extends E{logService;constructor(e,t){super({name:"TennisBallAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,[],!1,!0,r),u=c.pets;if(0!=u.length){for(let h of u)r.snipePet(h,3,c.random,n);this.triggerTigerExecution(e)}}copy(e){return new Zf(e,this.logService)}}class ey extends at{logService;toyService;petService;name="Stick";tier=1;constructor(e,t,i,n,s){super(e,t,i,n),this.logService=e,this.toyService=t,this.petService=s}startOfBattle(e,t){const i=this.parent.getMiddleFriend();if(i.pet&&i.pet.alive){const n=new hu;n.power=2*this.level,n.originalPower=n.power,i.pet.givePetEquipment(n),this.logService.createLog({message:`${this.name} gave Walnut to ${i.pet.name}`,type:"ability",player:this.parent,randomEvent:i.random})}}}class pC extends E{constructor(e,t){super({name:"StickAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",abilityFunction:i=>{const s=e.parent.getMiddleFriend(e);if(s.pet&&s.pet.alive){const r=new hu;r.power=2*this.abilityLevel,r.originalPower=r.power,s.pet.givePetEquipment(r),t.createLog({message:`${e.name} gave Walnut to ${s.pet.name} (Stick)`,type:"ability",player:e.parent,randomEvent:s.random})}}})}}class ji extends at{logService;toyService;petService;name="Rubber Duck";tier=1;constructor(e,t,i,n,s){super(e,t,n,s),this.logService=e,this.toyService=t,this.petService=i}allEnemiesFainted(e,t){if(this.used)return;const i=this.parent.opponent,n=this.petService.createPet({name:"Duck",attack:50,health:1,exp:0,mana:0,equipment:null},i);n.toyPet=!0,i.summonPet(n,0).success&&(this.logService.createLog({message:`${this.name} summoned a 50/1 Duck for the enemy.`,type:"ability",player:this.parent,puma:t}),this.used=!0)}}class bs extends at{logService;toyService;petService;name="Stuffed Bear";tier=1;faintCount=0;constructor(e,t,i,n,s){super(e,t,n,s),this.logService=e,this.toyService=t,this.petService=i}friendFaints(e,t,i,n){if(this.faintCount+=1,this.faintCount%3!=0)return;const s=this.parent.getLastPet();if(!s.pet)return;const r=s.pet,c=ea(r.equipment),u=this.parent.opponent,h=this.petService.createPet({name:r.name,attack:r.attack,health:r.health,exp:r.exp??0,mana:r.mana??0,equipment:c},u);h.toyPet=!0,u.summonPet(h,0).success&&this.logService.createLog({message:`${this.name} summoned an enemy copy of ${r.name}.`,type:"ability",player:this.parent,puma:i})}}class Ss extends E{logService;constructor(e,t){super({name:"RadioAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getAll(!1,r,!0),u=c.pets;if(0!=u.length){for(let h of u)h.increaseHealth(this.level),this.logService.createLog({message:`${r.name} gave ${h.name} ${this.level} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random});this.triggerTigerExecution(e)}}copy(e){return new Ss(e,this.logService)}}class ry extends E{logService;constructor(e,t){super({name:"PlasticSawAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,s=this.owner;let r=s.parent.getPetsWithEquipment("Eucalyptus"),c=s.parent.getFurthestUpPets(this.level,r,s),u=c.pets;if(0!=u.length){for(let h of u)this.logService.createLog({message:`${s.name} gave ${h.name} Eucalyptus.`,type:"ability",player:s.parent,tiger:n,randomEvent:c.random}),h.givePetEquipment(new Ll);this.triggerTigerExecution(e)}}copy(e){return new ry(e,this.logService)}}class ja extends E{logService;constructor(e,t){super({name:"ToiletPaperAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.opponent,u=r.parent.getPetsWithEquipmentWithSillyFallback("Weak",r),h=c.getFurthestUpPets(this.level,u,r),b=h.pets;if(0!=b.length){for(let D of b)D.givePetEquipment(new Ha),this.logService.createLog({message:`${r.name} gave ${D.name} Weak.`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random});this.triggerTigerExecution(e)}}copy(e){return new ja(e,this.logService)}}class ko extends E{logService;constructor(e,t){super({name:"OvenMittsAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){}copy(e){return new ko(e,this.logService)}}class Wh extends E{logService;constructor(e,t){super({name:"MelonHelmetAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getPetsWithEquipment("Melon"),u=r.parent.getFurthestUpPets(this.level,c,r),h=u.pets;for(let b of h)b.givePetEquipment(new Nr),this.logService.createLog({message:`${r.name} gave ${b.name} Melon.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random});this.triggerTigerExecution(e)}copy(e){return new Wh(e,this.logService)}}class $l extends E{logService;constructor(e,t){super({name:"FoamSwordAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.opponent;for(let u=0;u<this.level;u++){let h=c.getLowestHealthPet();r.snipePet(h.pet,5,h.random,n)}this.triggerTigerExecution(e)}copy(e){return new $l(e,this.logService)}}class Vh extends E{logService;constructor(e,t){super({name:"ToyGunAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.opponent;for(let u=0;u<this.level;u++){let h=c.getLastPet();if(null==h.pet)return;r.snipePet(h.pet,5,h.random,n)}this.triggerTigerExecution(e)}copy(e){return new Vh(e,this.logService)}}class ur extends E{constructor(e,t){super({name:"CashRegisterAbility",triggers:[],owner:e,abilityType:"Pet",abilityFunction:i=>{}})}}class Rn extends E{constructor(e,t){super({name:"CameraAbility",triggers:["StartBattle"],owner:e,abilityType:"Pet",abilityFunction:i=>{const{gameApi:n,puma:s}=i;let r=Mn(n,e.parent);for(let c=0;c<this.abilityLevel;c++){let u=r.getHighestAttackPet(),h=u.pet;if(null==h)return;let b=.3,D=Math.max(1,Math.floor(h.attack*(1-b)));h.attack=D,t.createLog({message:`${e.name} reduced ${h.name} attack by ${100*b}% (${D}) (Camera)`,type:"ability",player:e.parent,puma:s,randomEvent:u.random})}}})}}class ay extends E{logService;constructor(e,t){super({name:"FlashlightAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=5*this.level,u=r.parent.getFurthestUpPet(r),h=u.pet;null!=h&&(h.increaseAttack(c),h.increaseHealth(c),this.logService.createLog({message:`Flashlight Ability gave ${h.name} ${c} attack and ${c} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random}),this.triggerTigerExecution(e))}copy(e){return new ay(e,this.logService)}}class Kh extends E{logService;constructor(e,t){super({name:"StinkySockAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let u=r.parent.opponent.getHighestHealthPets(this.level,[],r),h=u.pets;if(0!=h.length){for(let b of h){let D=.4,H=Math.max(1,Math.floor(b.health*(1-D)));b.health=H,this.logService.createLog({message:`${r.name} reduced ${b.name} health by ${100*D}% (${H})`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:u.random})}this.triggerTigerExecution(e)}}copy(e){return new Kh(e,this.logService)}}class sy extends E{logService;constructor(e,t){super({name:"TelevisionAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=2*this.level,u=r.parent.getAll(!1,r,!0),h=u.pets;if(0!=h.length){for(let b of h)b.increaseAttack(c),b.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${b.name} ${c} attack and ${c} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random});this.triggerTigerExecution(e)}}copy(e){return new sy(e,this.logService)}}class zh extends E{logService;constructor(e,t){super({name:"PeanutJarAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getPetsWithEquipment("Peanut Butter"),h=r.parent.getLowestAttackPets(this.level,c,r).pets;if(0!=h.length){for(let b of h)b.givePetEquipment(new Wc),this.logService.createLog({message:`Peanut Jar Ability gave ${b.name} PeanutButter.`,type:"ability",player:r.parent,tiger:n,pteranodon:s});this.triggerTigerExecution(e)}}copy(e){return new zh(e,this.logService)}}class ZP extends E{logService;constructor(e,t){super({name:"AirPalmTreeAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getPetsWithEquipment("Coconut"),u=r.parent.getHighestAttackPets(this.level,c,r),h=u.pets;if(0!=h.length){for(let b of h)b.givePetEquipment(new Fa),this.logService.createLog({message:`${r.name} gave ${b.name} Coconut.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random});this.triggerTigerExecution(e)}}copy(e){return new ZP(e,this.logService)}}const Yh=new Map,wC=fs??_o??[];for(const a of wC)a?.Name&&Yh.set(a.Name,!0===a.Rollable);class Xh extends at{logService;toyService;equipmentService;name="Pandoras Box";tier=5;startOfBattle(e,t){Pu.applyPandorasBoxEffect({logService:this.logService,equipmentService:this.equipmentService,level:this.level,pets:[...e.player.petArray,...e.opponent.petArray],useClones:!1,logPlayer:this.parent,logMeta:{randomEvent:!0},logMessage:(i,n)=>`${this.name} gave ${i.name} ${n.name}`})}constructor(e,t,i,n,s){super(e,t,i,n),this.logService=e,this.toyService=t,this.equipmentService=s}}class Pu extends E{logService;abilityService;equipmentService;constructor(e,t,i,n){super({name:"PandorasBoxAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=t,this.abilityService=i,this.equipmentService=n}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:n}=e,s=this.owner,r=Mn(t,s.parent),c=[...s.parent.petArray,...r.petArray].filter(u=>u?.alive);Pu.applyPandorasBoxEffect({logService:this.logService,equipmentService:this.equipmentService,level:this.level,pets:c,useClones:!0,logPlayer:s.parent,logMeta:{tiger:i,pteranodon:n,randomEvent:!0},logMessage:(u,h)=>`Pandoras Box Ability gave ${u.name} ${h.name}`}),this.triggerTigerExecution(e)}copy(e){return new Pu(e,this.logService,this.abilityService,this.equipmentService)}static applyPandorasBoxEffect(e){const{logService:t,equipmentService:i,level:n,pets:s,useClones:r,logPlayer:c,logMeta:u,logMessage:h}=e,b=Array.from(i.getInstanceOfAllAilments().values()),D=new Set(["Chocolate Cake"]),H=Array.from(i.getInstanceOfAllEquipment().values()).filter(Y=>{if(!Y||D.has(Y.name)||(a=Y,!a?.name||!0!==Yh.get(a.name)))return!1;var a;const ue=Y.triggers??[];return!(ue.includes("StartTurn")||ue.includes("EndTurn")||ue.includes("BeforeStartBattle"))});for(const Y of s){const ue=Math.random()<.5?b:H;if(!ue.length)continue;const he=ue[Math.floor(Math.random()*ue.length)];if(!he)continue;const ye=r?ea(he):he;ye&&(Y.givePetEquipment(ye,n),t.createLog({message:h(Y,ye),type:"ability",player:c,tiger:u?.tiger,pteranodon:u?.pteranodon,randomEvent:u?.randomEvent}))}}}class ly extends E{logService;constructor(e,t){super({name:"WitchBroomAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getPetsWithEquipmentWithSillyFallback("any",r),u=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,c,!1,!0,r),h=u.pets;if(0!=h.length){for(let b of h)b.givePetEquipment(new Ha),this.logService.createLog({message:`${r.name} gave ${b.name} Weak.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random});this.triggerTigerExecution(e)}}copy(e){return new ly(e,this.logService)}}class uy extends E{logService;constructor(e,t){super({name:"CrystalBallAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getFurthestUpPet(r),u=c.pet;if(null==u)return;let h=2*this.level;u.increaseMana(h),this.logService.createLog({message:`${r.name} gave ${u.name} ${h} mana.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new uy(e,this.logService)}}class dy extends E{logService;constructor(e,t){super({name:"TreasureMapAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){}copy(e){return new dy(e,this.logService)}}class py extends E{logService;constructor(e,t){super({name:"TreasureChestAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){}copy(e){return new py(e,this.logService)}}class ga extends M{logService;abilityService;name="Great One";tier=6;pack="Custom";attack=7;health=13;initAbilities(){this.addAbility(new gy(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class gy extends E{logService;constructor(e,t){super({name:"GreatOneAbility",owner:e,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const r=this.owner;let c=[...r.parent.petArray,...r.parent.opponent.petArray];c=c.filter(u=>u!==r);for(let u of c)r.snipePet(u,5*r.level);this.triggerTigerExecution(e)}copy(e){return new gy(e,this.logService)}}class my extends E{logService;abilityService;constructor(e,t,i){super({name:"EvilBookAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>null==this.owner.parent.pet0,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c={attack:6*this.level,health:6*this.level},u=new ga(this.logService,this.abilityService,r.parent,c.health,c.attack,0,this.minExpForLevel),h=r.parent.summonPet(u,0);h.success&&this.logService.createLog({message:`Evil Book Ability spawned Great One (${c.attack}/${c.health}).`,type:"ability",player:r.parent,tiger:n,randomEvent:h.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new my(e,this.logService,this.abilityService)}}class by extends M{logService;abilityService;name="Salmon of Knowledge";tier=5;pack="Unicorn";attack=5;health=5;initAbilities(){this.addAbility(new Ay(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class Ay extends E{logService;constructor(e,t){super({name:"SalmonOfKnowledgeAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=2*this.level,u=[],h=r.parent.getFurthestUpPets(2,[r],r);u.push(...h.pets);let b=r.parent.opponent.getFurthestUpPets(2,void 0,r);u.push(...b.pets);for(let D of u)this.logService.createLog({message:`${r.name} gave ${D.name} ${c} exp.`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random||b.random}),D.increaseExp(c);this.triggerTigerExecution(e)}copy(e){return new Ay(e,this.logService)}}class Sy extends M{logService;abilityService;name="Giant Eyes Dog";tier=1;pack="Unicorn";hidden=!0;health=1;attack=1;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class LC extends at{logService;toyService;petService;gameService;name="Microwave Oven";tier=2;startOfBattle(e,t){let i=this.parent.getPetsWithEquipment("Popcorn"),s=this.parent.getFurthestUpPets(this.level,i).pets;if(0!=s.length)for(let r of s)this.logService.createLog({message:`${this.name} gave ${r.name} Popcorn.`,type:"ability",player:this.parent,puma:t}),r.givePetEquipment(new mP(this.logService,this.petService,this.gameService))}constructor(e,t,i,n,s,r){super(e,t,i,n),this.logService=e,this.toyService=t,this.petService=s,this.gameService=r}}class NC extends E{constructor(e,t,i){super({name:"MicrowaveOvenAbility",triggers:["StartBattle"],owner:e,abilityType:"Pet",abilityFunction:n=>{const{puma:s}=n;let r=e.parent.getPetsWithEquipment("Popcorn"),u=e.parent.getFurthestUpPets(this.abilityLevel,r,e).pets;if(0!=u.length)for(let h of u){t.createLog({message:`${e.name} gave ${h.name} Popcorn (Microwave Oven).`,type:"ability",player:e.parent,puma:s});const b=i.getInstanceOfAllEquipment().get("Popcorn");h.givePetEquipment(b)}}})}}const _u={"Action Figure":class gC extends at{name="Action Figure";tier=1;startOfBattle(e,t){const n=Mn(e,this.parent).getFurthestUpPets(2);for(const s of n.pets)s.givePetEquipment(new Fa),this.logService.createLog({message:`${this.name} gave ${s.name} Coconut.`,type:"ability",player:this.parent,puma:t,randomEvent:n.random})}},Balloon:class hC extends at{name="Balloon";tier=1;onBreak(e,t){let i=this.parent.getFurthestUpPets(this.level,[]);if(0!=i.pets.length)for(let s of i.pets)s.increaseAttack(1),s.increaseHealth(1),this.logService.createLog({message:`${this.name} gave ${s.name} 1 attack and 1 health.`,type:"ability",player:this.parent,puma:t})}},"Chocolate Box":class ty extends at{name="Chocolate Box";tier=1;startOfBattle(e,t){const i=Mn(e,this.parent);for(const n of this.parent.petArray)n.increaseExp(1),this.logService.createLog({message:`${this.name} gave ${n.name} 1 exp.`,type:"ability",player:this.parent,puma:t});for(const n of i.petArray)n.increaseExp(2),this.logService.createLog({message:`${this.name} gave ${n.name} 2 exp.`,type:"ability",player:this.parent,puma:t})}},"Dice Cup":class mC extends at{name="Dice Cup";tier=1;startOfBattle(e,t){const i=xn(this.parent.petArray.filter(n=>n.alive));for(let n=0;n<5;n++)this.parent.setPet(n,i[n]??null);this.logService.createLog({message:`${this.name} shuffled the team.`,type:"ability",player:this.parent,puma:t})}},Handkerchief:class fC extends at{name="Handkerchief";tier=1;startOfBattle(e,t){const i=this.parent.getFurthestUpPets(2);for(const n of i.pets)n.givePetEquipment(new Ha),this.logService.createLog({message:`${this.name} gave ${n.name} Weak.`,type:"ability",player:this.parent,puma:t,randomEvent:i.random})}},Kite:class yC extends at{name="Kite";tier=1;emptyFromSpace(e,t,i,n){const s=this.parent.getLastPet();if(!s.pet)return;const r=s.pet,c=Math.floor(.2*r.attack);c>0&&r.increaseAttack(-c),this.parent.pushPetToFront(r),this.logService.createLog({message:`${this.name} moved ${r.name} to the front and removed ${c} attack.`,type:"ability",player:this.parent,puma:t}),this.used=!0}},Lamp:class KP extends at{name="Lamp";tier=1;startOfBattle(e,t){for(const i of this.parent.petArray){const n=Math.floor(.2*i.attack),s=Math.floor(.2*i.health);n>0&&i.increaseAttack(-n),s>0&&i.increaseHealth(-s),this.logService.createLog({message:`${this.name} removed ${n} attack and ${s} health from ${i.name}.`,type:"ability",player:this.parent,puma:t})}}},Lunchbox:class vC extends at{name="Lunchbox";tier=1;startOfBattle(e,t){const i=e?.turnNumber??1;for(let n=0;n<i;n++){const s=this.parent.getRandomLivingPet();if(!s.pet)return;const r=s.pet,u=r.parent!==this.parent?2:1;r.increaseAttack(u),r.increaseHealth(u),this.logService.createLog({message:`${this.name} fed ${r.name} +${u}/+${u}.`,type:"ability",player:this.parent,puma:t,randomEvent:s.random})}}},"Tennis Ball":class VP extends at{name="Tennis Ball";tier=2;startOfBattle(e,t){let i=this.parent.opponent.getRandomPets(this.level,[],!1,!0),n=i.pets;if(0!=n.length)for(let s of n)this.toyService.snipePet(s,3,this.parent,this.name,i.random,t)}},Onesie:class vs extends at{name="Onesie";tier=1;startOfBattle(e,t){const i=[];for(let n=0;n<2;n++){const s=this.parent.getRandomPet(i);if(!s.pet)return;i.push(s.pet),s.pet.givePetEquipment(new jh),this.logService.createLog({message:`${this.name} gave ${s.pet.name} Cold.`,type:"ability",player:this.parent,puma:t,randomEvent:s.random})}}},"Paper Shredder":class iy extends at{name="Paper Shredder";tier=1;friendSummoned(e,t,i,n){t&&(t.health=0,this.logService.createLog({message:`${this.name} knocked out ${t.name}.`,type:"ability",player:this.parent,puma:i}))}},Pen:class ny extends at{name="Pen";tier=1;startOfBattle(e,t){const i=this.parent.getFurthestUpPets(2);for(const n of i.pets)n.givePetEquipment(new vu),this.logService.createLog({message:`${this.name} gave ${n.name} Inked.`,type:"ability",player:this.parent,puma:t,randomEvent:i.random})}},"Pill Bottle":class zP extends at{name="Pill Bottle";tier=1;startOfBattle(e,t){const i=this.parent.getFurthestUpPets(2);for(const r of i.pets)r.health=0,this.logService.createLog({message:`${this.name} knocked out ${r.name}.`,type:"ability",player:this.parent,puma:t});const s=Mn(e,this.parent).getFurthestUpPets(1).pets[0];s&&(s.health=0,this.logService.createLog({message:`${this.name} knocked out ${s.name}.`,type:"ability",player:this.parent,puma:t}))}},"Pogo Stick":class YP extends at{name="Pogo Stick";tier=1;startOfBattle(e,t){const i=Mn(e,this.parent),n=i.getLastPet();if(!n.pet)return;const s=n.pet;i.pushPetToFront(s);const r=s.attack,c=s.health;s.increaseAttack(r),s.increaseHealth(c),this.logService.createLog({message:`${this.name} pushed ${s.name} forward and gave +${r}/+${c}.`,type:"ability",player:this.parent,puma:t})}},"Remote Car":class bC extends at{name="Remote Car";tier=1;startOfBattle(e,t){const i=Mn(e,this.parent);for(const n of i.petArray){const s=Math.floor(.2*n.attack),r=Math.floor(.2*n.health);s>0&&n.increaseAttack(s),r>0&&n.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${n.name} +${s}/+${r}.`,type:"ability",player:this.parent,puma:t})}}},"Ring Pyramid":class ZR extends at{name="Ring Pyramid";tier=1;startOfBattle(e,t){const i=e?.turnNumber??1;let n=1;i>2&&(n=2),i>4&&(n=3),i>6&&(n=4),i>8&&(n=5),i>10&&(n=6);const s=n-1;if(!(s<1))for(const r of this.parent.petArray)r.tier===s&&(r.health=0,this.logService.createLog({message:`${this.name} knocked out ${r.name}.`,type:"ability",player:this.parent,puma:t}))}},"Rubber Duck":ji,Scale:class qh extends at{name="Scale";tier=1;startOfBattle(e,t){const i=e?.turnNumber??1;for(const n of this.parent.petArray){const s=i-n.attack,r=i-n.health;0!==s&&n.increaseAttack(s),0!==r&&n.increaseHealth(r),this.logService.createLog({message:`${this.name} set ${n.name} to ${i}/${i}.`,type:"ability",player:this.parent,puma:t})}}},"Soccer Ball":class XP extends at{name="Soccer Ball";tier=1;startOfBattle(e,t){const i=e?.turnNumber??1;let n=1;i>2&&(n=2),i>4&&(n=3),i>6&&(n=4),i>8&&(n=5),i>10&&(n=6);for(const s of this.parent.petArray)s.tier===n&&(s.health=0,this.logService.createLog({message:`${this.name} knocked out ${s.name}.`,type:"ability",player:this.parent,puma:t}))}},"Sticky Hand":class gi extends at{name="Sticky Hand";tier=1;startOfBattle(e,t){const i=this.parent.getLastPets(2);for(const n of i.pets)n.givePetEquipment(new Xt),this.logService.createLog({message:`${this.name} gave ${n.name} Icky.`,type:"ability",player:this.parent,puma:t,randomEvent:i.random})}},"Stuffed Bear":bs,Radio:class As extends at{name="Radio";tier=2;onBreak(e,t){let i=this.parent.petArray;for(let n of i)n.alive&&(n.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${n.name} ${this.level} health.`,type:"ability",player:this.parent,puma:t}))}},"Plastic Saw":class Uh extends at{name="Plastic Saw";tier=2;startOfBattle(e,t){let i=this.parent.getPetsWithEquipment("Eucalyptus"),s=this.parent.getFurthestUpPets(this.level,i).pets;if(0!=s.length)for(let r of s)this.logService.createLog({message:`${this.name} gave ${r.name} Eucalyptus.`,type:"ability",player:this.parent,puma:t}),r.givePetEquipment(new Ll)}},"Toilet Paper":class AC extends at{name="Toilet Paper";tier=4;startOfBattle(e,t){let n=Mn(e,this.parent).petArray.filter(s=>"Weak"!=s.equipment?.name).slice(0,this.level);for(let s of n)s.givePetEquipment(new Ha),this.logService.createLog({message:`${this.name} gave ${s.name} Weak.`,type:"ability",player:this.parent,puma:t})}},"Oven Mitts":class SC extends at{name="Oven Mitts";tier=4;onBreak(e){}},"Melon Helmet":class PC extends at{name="Melon Helmet";tier=3;onBreak(e,t){let i=this.parent.petArray.filter(n=>n.alive).slice(0,this.level);for(let n of i)n.givePetEquipment(new Nr),this.logService.createLog({message:`${this.name} gave ${n.name} Melon.`,type:"ability",player:this.parent,puma:t})}},"Foam Sword":class bu extends at{name="Foam Sword";tier=3;startOfBattle(e,t){let i=Mn(e,this.parent);for(let n=0;n<this.level;n++){let s=i.getLowestHealthPet();if(null==s.pet)return;this.toyService.snipePet(s.pet,5,this.parent,this.name,s.random,t)}}},"Toy Gun":class JP extends at{name="Toy Gun";tier=3;startOfBattle(e,t){let i=Mn(e,this.parent);for(let n=0;n<this.level;n++){let s=i.getLastPet();if(null==s.pet)return;this.toyService.snipePet(s.pet,5,this.parent,this.name,!1,t)}}},"Toy Mouse":class Bl extends at{name="Toy Mouse";tier=3;startOfBattle(e,t){for(const i of this.parent.petArray)i.exp=0,this.logService.createLog({message:`${this.name} set ${i.name} to level 1.`,type:"ability",player:this.parent,puma:t})}},"Cash Register":class Au extends at{name="Cash Register";tier=4;onBreak(e){}},Camera:class _C extends at{name="Camera";tier=5;startOfBattle(e,t){let i=Mn(e,this.parent);for(let n=0;n<this.level;n++){let s=i.getHighestAttackPet(),r=s.pet;if(null==r)return;let c=.3,u=Math.max(1,Math.floor(r.attack*(1-c)));r.attack=u,this.logService.createLog({message:`${this.name} reduced ${r.name} attack by ${100*c}% (${u})`,type:"ability",player:this.parent,puma:t,randomEvent:s.random})}}},Flashlight:class kC extends at{name="Flashlight";tier=5;onBreak(e,t){let i=5*this.level,n=this.parent.furthestUpPet;null!=n&&(n.increaseAttack(i),n.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${n.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:t}))}},"Stinky Sock":class oy extends at{name="Stinky Sock";tier=5;startOfBattle(e,t){let i=Mn(e,this.parent);for(let n=0;n<this.level;n++){let s=i.getHighestHealthPet(),r=s.pet;if(null==r)return;let c=.4,u=Math.max(1,Math.floor(r.health*(1-c)));r.health=u,this.logService.createLog({message:`${this.name} reduced ${r.name} health by ${100*c}% (${u})`,type:"ability",player:this.parent,puma:t,randomEvent:s.random})}}},Television:class QP extends at{name="Television";tier=6;onBreak(e,t){let i=2*this.level;for(let n of this.parent.petArray)n.alive&&(n.increaseAttack(i),n.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${n.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:t}))}},"Peanut Jar":class eL extends at{name="Peanut Jar";tier=6;startOfBattle(e,t){let i=this.parent.getLowestAttackPets(this.level,this.parent.getPetsWithEquipment("Peanut Butter")),n=i.pets;if(0!=n.length)for(let s of n)s.givePetEquipment(new Wc),this.logService.createLog({message:`${this.name} gave ${s.name} PeanutButter.`,type:"ability",player:this.parent,puma:t,randomEvent:i.random})}},"Air Palm Tree":class tL extends at{name="Air Palm Tree";tier=6;startOfBattle(e,t){let i=this.parent.getHighestAttackPets(this.level,this.parent.getPetsWithEquipment("Coconut")),n=i.pets;if(0!=n.length)for(let s of n)s.givePetEquipment(new Fa),this.logService.createLog({message:`${this.name} gave ${s.name} Coconut.`,type:"ability",player:this.parent,puma:t,randomEvent:i.random})}},"Witch Broom":class TC extends at{name="Witch Broom";tier=1;startOfBattle(e,t){let i=Mn(e,this.parent),n=i.petArray.filter(r=>null!=r.equipment),s=[];for(let r=0;r<this.level;r++){let c=i.getRandomPet(n,!1,!0,!1,null);if(null==c.pet)break;n.push(c.pet),s.push(c.pet)}if(0!==s.length)for(let r of s)this.logService.createLog({message:`${this.name} gave ${r.name} Weak.`,type:"ability",player:this.parent,puma:t,randomEvent:i.petArray.length-n.length>0}),r.givePetEquipment(new Ha);else this.logService.createLog({message:"Player's Witch Broom found no targets",type:"ability",player:this.parent,puma:t,randomEvent:!0})}},"Magic Wand":class Jh extends at{name="Magic Wand";tier=1;startOfBattle(e,t){let i=this.parent.petArray.filter(r=>r.level<3),n=null,s=!1;0==i.length?n=this.parent.getRandomPet([],!0):(i=xn(i),n=i[0],s=i.length>1),null!=n&&(this.logService.createLog({message:`${this.name} gave ${n.name} ${this.level} exp.`,type:"ability",player:this.parent,puma:t,randomEvent:s}),n.increaseExp(this.level))}},"Crystal Ball":class EC extends at{name="Crystal Ball";tier=1;startOfBattle(e,t){let i=this.parent.petArray[0];null!=i&&(this.logService.createLog({message:`${this.name} gave ${i.name} ${this.level} mana.`,type:"ability",player:this.parent,puma:t,randomEvent:!1}),i.increaseMana(this.level))}},"Treasure Map":class iL extends at{name="Treasure Map";tier=3},"Treasure Chest":class hy extends at{name="Treasure Chest";tier=3},"Magic Carpet":class i_ extends at{name="Magic Carpet";tier=2;friendSummoned(e,t,i,n){this.logService.createLog({message:`${this.name} gave ${t.name} ${n} attack.`,type:"ability",player:this.parent,puma:i}),t.increaseAttack(n)}},"Magic Lamp":class Gl extends at{name="Magic Lamp";tier=2;friendlyLevelUp(e,t,i,n){this.logService.createLog({message:`${this.name} gave ${t.name} ${n} attack and ${n} health.`,type:"ability",player:this.parent,puma:i}),t.increaseAttack(+n),t.increaseHealth(+n)}},Candelabra:class vy extends at{name="Candelabra";tier=4},"Glass Shoes":class CC extends at{name="Glass Shoes";tier=4;friendFaints(e,t,i,n){if(i||this.triggers++,this.triggers%3!=0)return;let s=t.parent.petArray.filter(r=>r.alive);for(let r of s)this.logService.createLog({message:`${this.name} gave ${r.name} ${n} attack and ${n} health.`,type:"ability",player:this.parent,puma:i}),r.increaseAttack(+n),r.increaseHealth(+n)}},"Golden Harp":class Qh extends at{name="Golden Harp";tier=4},"Lock of Hair":class nL extends at{name="Lock of Hair";tier=4},"Magic Mirror":class r_ extends at{name="Magic Mirror";tier=4},Pickaxe:class Hl extends at{name="Pickaxe";tier=4},"Red Cape":class MC extends at{name="Red Cape";tier=4;friendJumped(e,t,i,n){let s=t.parent.petArray.filter(r=>r.alive);for(let r of s)this.logService.createLog({message:`${this.name} gave ${r.name} ${n} attack and ${n} health.`,type:"ability",player:this.parent,puma:i}),r.increaseAttack(+n),r.increaseHealth(+n)}},Rosebud:class s_ extends at{name="Rosebud";tier=4;friendlyLevelUp(e,t,i,n){if(i||this.triggers++,this.triggers%2!=0)return;let s=t.parent.petArray.filter(r=>r.alive);for(let r of s)this.logService.createLog({message:`${this.name} gave ${r.name} ${n} attack and ${n} health.`,type:"ability",player:this.parent,puma:i}),r.increaseAttack(+n),r.increaseHealth(+n)}},Excalibur:class xC extends at{name="Excalibur";tier=6},"Holy Grail":class IC extends at{name="Holy Grail";tier=6}},c_={"Evil Book":class t_ extends at{logService;toyService;abilityService;name="Evil Book";tier=5;emptyFromSpace(e,t,i,n){let s={attack:6*i,health:6*i},c=new ga(this.logService,this.abilityService,this.parent,s.health,s.attack,0,1==i?0:2==i?2:5),u=`${this.name} spawned Great One (${s.attack}/${s.health}).`;this.parent.summonPet(c,0).success&&this.logService.createLog({message:u,type:"ability",player:this.parent,puma:t}),this.used=!0}constructor(e,t,i,n,s){super(e,t,n,s),this.logService=e,this.toyService=t,this.abilityService=i}},Nutcracker:class RC extends at{logService;toyService;abilityService;name="Nutcracker";tier=4;suppressFriendFaintLog=!0;pendingSpawn=!1;friendFaints(e,t,i,n){this.used||this.pendingSpawn||t.parent.petArray.filter(r=>r.alive).length>0||this.queueSalmonSpawn()}queueSalmonSpawn(){this.pendingSpawn=!0,this.abilityService.setCounterEvent({priority:0,callback:(e,t,i)=>{this.pendingSpawn=!1,this.attemptSalmonSpawn()}})}attemptSalmonSpawn(){if(this.used||this.parent.petArray.filter(n=>n.alive).length>0)return;const t=6*this.level,i=new by(this.logService,this.abilityService,this.parent,t,t,null,0);this.parent.summonPet(i,0).success&&this.logService.createLog({message:`${this.name} spawned Salmon of Knowledge (${t}/${t})`,type:"ability",player:this.parent}),this.used=!0}constructor(e,t,i,n,s){super(e,t,n,s),this.logService=e,this.toyService=t,this.abilityService=i}},"Tinder Box":class l_ extends at{logService;toyService;abilityService;name="Tinder Box";tier=4;emptyFromSpace(e,t,i,n){let s={attack:6*i,health:6*i},c=new Sy(this.logService,this.abilityService,this.parent,s.health,s.attack,0,1==i?0:2==i?2:5),u=`${this.name} spawned Giant Eyes Dog (${s.attack}/${s.health}).`;this.parent.summonPet(c,0).success&&this.logService.createLog({message:u,type:"ability",player:this.parent,puma:t}),this.used=!0}constructor(e,t,i,n,s){super(e,t,n,s),this.logService=e,this.toyService=t,this.abilityService=i}}},u_={"Rubber Duck":a=>new ji(a.logService,a.toyService,a.petService,a.parent,a.level),Stick:a=>new ey(a.logService,a.toyService,a.parent,a.level,a.petService),"Stuffed Bear":a=>new bs(a.logService,a.toyService,a.petService,a.parent,a.level),"Pandoras Box":a=>new Xh(a.logService,a.toyService,a.parent,a.level,a.equipmentService),"Microwave Oven":a=>new LC(a.logService,a.toyService,a.parent,a.level,a.petService,a.gameService)};let FC=(()=>{class a{logService;abilityService;petService;equipmentService;gameService;constructor(t,i,n,s,r){this.logService=t,this.abilityService=i,this.petService=n,this.equipmentService=s,this.gameService=r}createToy(t,i,n,s,r,c,u){const b=u_[t];return b?b({logService:this.logService,abilityService:this.abilityService,toyService:s,parent:i,level:n,petService:this.petService??r,equipmentService:this.equipmentService??c,gameService:this.gameService??u}):c_[t]?new(0,c_[t])(this.logService,s,this.abilityService,i,n):_u[t]?new(0,_u[t])(this.logService,s,i,n):null}static \u0275fac=function(i){return new(i||a)(P.KVO(Vn),P.KVO(Ba),P.KVO(Kn),P.KVO(ui),P.KVO(Or))};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),Br=(()=>{class a{logService;abilityService;gameService;equipmentService;petService;toyFactory;toyEventService;toys=new Map;toysByType=new Map;toyNameIds=new Map;localStartOfBattleEvents=[];constructor(t,i,n,s,r,c,u){this.logService=t,this.abilityService=i,this.gameService=n,this.equipmentService=s,this.petService=r,this.toyFactory=c,this.toyEventService=u,this.setToys()}setToys(){this.toys.clear(),this.toyNameIds.clear(),this.toysByType.clear();const t=this.getToyEntriesFromJson();for(const i of t){const n=Number(i.Tier);if(!Number.isFinite(n)||n<1)continue;this.toys.has(n)||this.toys.set(n,[]);const s=this.toys.get(n);s&&s.push(i.Name);const r=Number.isFinite(Number(i.ToyType))?Number(i.ToyType):0;this.toysByType.has(r)||this.toysByType.set(r,new Map);const c=this.toysByType.get(r);c&&!c.has(n)&&c.set(n,[]);const u=c?.get(n);u&&u.push(i.Name),i.Name&&i.NameId&&this.toyNameIds.set(i.Name,i.NameId)}for(const[i,n]of this.toys)this.toys.set(i,[...new Set(n)]);for(const[i,n]of this.toysByType)for(const[s,r]of n)n.set(s,[...new Set(r)])}getToyNameId(t){return t?this.toyNameIds.get(t)??null:null}getToysByType(t){const i=this.toysByType.get(t);return i?new Map(Array.from(i.entries()).map(([n,s])=>[n,[...s]])):new Map}isToyRandom(t){return!0===this.toyDataMap.get(t)?.Random}toyDataMap=new Map;getToyEntriesFromJson(){const t=Qc??eh??[];return t.forEach(i=>{i.Name&&this.toyDataMap.set(i.Name,i)}),t.filter(i=>!!i?.Name)}createToy(t,i,n=1){return this.toyFactory.createToy(t,i,n,this,this.petService,this.equipmentService,this.gameService)}snipePet(t,i,n,s,r=!1,c=!1){let u=this.calculateDamage(t,n.getManticoreMult(),i),h=u.defenseEquipment,b=u.damage;this.dealDamage(t,b,n);let D=`${s} sniped ${t.name} for ${b}.`;if(null!=h){t.useDefenseEquipment(!0);let he=Math.abs(h.power??0),ye="-";if((h.power??0)<0&&(ye="+"),"Strawberry"===h.name){let _e=t.getSparrowLevel();_e>0&&(he=5*_e,D+=` (Strawberry -${he} (Sparrow))`)}else D+=` (${h.name} ${ye}${he})`;D+=h.multiplierMessage??""}"Icky"==t.equipment?.name&&(D+="x2 (Icky)",t.equipment.multiplier>1&&(D+=t.equipment.multiplierMessage));let H=n.getManticoreMult(),ue=["Weak","Cold","Icky","Spooked"].includes(t.equipment?.name);if(H.length>0&&ue)for(let he of H)D+=` x${he+1} (Manticore)`;return u.nurikabe>0&&(D+=` -${u.nurikabe} (Nurikabe)`),u.fairyBallReduction>0&&(D+=` -${u.fairyBallReduction} (Fairy Ball)`),u.fanMusselReduction>0&&(D+=` -${u.fanMusselReduction} (Fan Mussel)`),u.ghostKittenReduction>0&&(D+=` -${u.ghostKittenReduction} (Ghost Kitten)`),c&&(D+=" (Puma)"),this.logService.createLog({message:D,type:"attack",randomEvent:r,player:n}),b}calculateDamage(t,i,n){let s=t.equipment?.multiplier??1;const r=["Cold","Weak","Spooked"],c="Guava"===t.equipment?.name;let u="defense"==t.equipment?.equipmentClass||"shield"==t.equipment?.equipmentClass||"ailment-defense"==t.equipment?.equipmentClass||"shield-snipe"==t.equipment?.equipmentClass?t.equipment:null;null==u&&c&&(u=t.equipment),null!=u&&("Maple Syrup"==u.name?u=null:(s=Yc(s,u.name,i,r),u.power=(u.originalPower??u.power??0)*s));let h=u?.power?u.power:0,b=t.getSparrowLevel();"Strawberry"===t.equipment?.name&&b>0&&(h+=5*b),n=Mm(n??0,t.equipment,i);let H,D="shield"==u?.equipmentClass||"shield-snipe"==u?.equipmentClass?0:1;void 0!==u?.minimumDamage&&(D=u.minimumDamage);const Y=n??0;H=Y<=D&&h>0?Math.max(Y,0):Math.max(D,Y-h);const ue=xm(t,H,{includeGhostKitten:!0,fairyMinimumOne:!1,fairyRequiresPositiveDamage:!0,nurikabeConsumesOnZeroHit:!0,fanMusselConsumesOnZeroHit:!0});return H=ue.damage,{defenseEquipment:u,damage:H,nurikabe:ue.nurikabe,fairyBallReduction:ue.fairyBallReduction,fanMusselReduction:ue.fanMusselReduction,ghostKittenReduction:ue.ghostKittenReduction}}dealDamage(t,i,n){t.health-=i,i>0&&this.abilityService.triggerHurtEvents(t)}setStartOfBattleEvent(t){this.toyEventService?this.toyEventService.setStartOfBattleEvent(t):(t.tieBreaker=Math.random(),this.localStartOfBattleEvents.push(t))}executeStartOfBattleEvents(){if(this.toyEventService)return void this.toyEventService.executeStartOfBattleEvents();this.localStartOfBattleEvents=xn(this.localStartOfBattleEvents),this.localStartOfBattleEvents.sort((i,n)=>i.priority!==n.priority?n.priority-i.priority:(n.tieBreaker??0)-(i.tieBreaker??0));const t=new Map;for(const i of this.localStartOfBattleEvents)t.set(i.priority,(t.get(i.priority)??0)+1);for(const i of this.localStartOfBattleEvents){const n=(t.get(i.priority)??0)>1;this.logLocalStartOfBattleToyEvent(i,n,n?"tie-broken":"deterministic"),i.callback(this.gameService.gameApi)}this.localStartOfBattleEvents=[]}logLocalStartOfBattleToyEvent(t,i,n){const s=t.player?.toy?.name;s&&this.logService.createLog({message:`${t.player?.isOpponent?"Opponent's":"Player's"} ${s} activated at start of battle${t.triggerPet?.name?` (${t.triggerPet.name})`:""}`,type:"ability",player:t.player,randomEvent:i,randomEventReason:n})}static \u0275fac=function(i){return new(i||a)(P.KVO(Vn),P.KVO(Ba),P.KVO(Or),P.KVO(ui),P.KVO(Kn),P.KVO(FC),P.KVO(ds))};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();class _y extends E{logService;abilityService;constructor(e,t,i){super({name:"FerretAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=Mt.getInjector().get(Br),n=Math.max(1,Math.min(3,this.level)),s=i.toys.get(n)??[];if(0===s.length)return void this.triggerTigerExecution(e);const r=s[Ot(0,s.length-1)],c=i.createToy(r,t.parent,n);c?(t.parent.toy=c,t.parent.toy.used=!1,t.parent.toy.triggers=0,Gi(this.logService,t,`${t.name} chose a level ${n} ${r} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new _y(e,this.logService,this.abilityService)}}class ky extends E{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"BatAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getPetsWithEquipmentWithSillyFallback("Weak",r),u=r.parent.opponent.getRandomPet(c,null,!0,null,r),h=u.pet;null!=h&&(h.givePetEquipment(new Ha),this.logService.createLog({message:`${r.name} made ${h.name} weak.`,type:"ability",player:r.parent,randomEvent:u.random,tiger:n})),this.triggerTigerExecution(e)}copy(e){return new ky(e,this.logService)}}class wy extends E{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"BilbyAbility",owner:e,triggers:["FriendLostPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,precondition:i=>Ra(this.owner,i.triggerPet,{excludeOwner:!0}),abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=Lt(r,i),u=c.pet;null!=u&&(this.logService.createLog({message:`${r.name} gave ${u.name} Garlic.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),u.givePetEquipment(new If),this.triggerTigerExecution(e))}copy(e){return new wy(e,this.logService)}}class Ty extends E{logService;abilityService;constructor(e,t,i){super({name:"RobinAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=new fu(this.logService,this.abilityService,r.parent,null,null,this.minExpForLevel,null);this.logService.createLog({message:`${r.name} summoned a Nest (level ${this.level}).`,type:"ability",player:r.parent,randomEvent:!1,tiger:n});let u=r.parent.summonPetInFront(r,c);u.success&&(this.logService.createLog({message:`${r.name} gave Nest an Egg.`,type:"ability",player:r.parent,randomEvent:u.randomEvent,tiger:n}),c.givePetEquipment(new Fh(this.logService))),this.triggerTigerExecution(e)}copy(e){return new Ty(e,this.logService,this.abilityService)}}class Ey extends E{logService;abilityService;constructor(e,t,i){super({name:"DromedaryAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} gave the two left-most shop pets +${i}/+${i}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Ey(e,this.logService,this.abilityService)}}class ep extends E{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=3;constructor(e,t,i){super({name:"ShrimpAbility",owner:e,triggers:["FriendSold","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const i=e.triggerPet;if(!i||!i.isSellPet())return void this.triggerTigerExecution(e);const n=t.parent.getRandomPet([t]),s=n.pet;if(!s)return void this.triggerTigerExecution(e);const r=this.level;s.increaseHealth(r),this.usesThisTurn++,this.logService.createLog({message:`${t.name} gave ${s.name} +${r} health after ${i.name} was sold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)}copy(e){return new ep(e,this.logService,this.abilityService)}}class Dy extends E{logService;abilityService;constructor(e,t,i){super({name:"BelugaSturgeonAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;for(let c=0;c<this.level;c++){let u=new fh(this.logService,this.abilityService,r.parent,3,2,0,0,null),h=r.parent.summonPet(u,4,!1,r);h.success&&(this.logService.createLog({message:`${r.name} summoned a 2/3 Dolphin in the back.`,type:"ability",player:r.parent,randomEvent:h.randomEvent,tiger:n,pteranodon:s}),u.givePetEquipment(new uP),this.logService.createLog({message:`${r.name} gave ${u.name} Rice.`,type:"ability",player:r.parent,randomEvent:!1,tiger:n,pteranodon:s}))}this.triggerTigerExecution(e)}copy(e){return new Dy(e,this.logService,this.abilityService)}}class My extends E{logService;constructor(e,t){super({name:"TabbyCatAbility",owner:e,triggers:["FriendlyGainsPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getRandomPets(2,[r],!0,!1,r);if(0!=c.pets.length){for(let u of c.pets)null!=u&&(this.logService.createLog({message:`${r.name} increased ${u.name}'s health by ${this.level}.`,type:"ability",player:r.parent,randomEvent:c.random,tiger:n}),u.increaseHealth(this.level));this.triggerTigerExecution(e)}}copy(e){return new My(e,this.logService)}}class xy extends E{logService;abilityService;constructor(e,t,i){super({name:"MandrillAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const r=this.owner;let c=2*this.level;r.parent.toy?.tier<=c&&(r.parent.breakToy(),this.abilityService.triggerToyBrokeEvents(r.parent)),this.triggerTigerExecution(e)}copy(e){return new xy(e,this.logService,this.abilityService)}}class d_ extends M{logService;abilityService;name="Lemur";tier=2;pack="Puppy";attack=3;health=4;initAbilities(){this.addAbility(new tp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class tp extends E{logService;abilityService;constructor(e,t,i){super({name:"LemurAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=Mt.getInjector().get(Br),n=Math.max(1,Math.min(3,this.level)),s=i.toys.get(n)??[];if(0===s.length)return void this.triggerTigerExecution(e);const r=s[Ot(0,s.length-1)],c=i.createToy(r,t.parent,n);c?(t.parent.toy=c,t.parent.toy.used=!1,t.parent.toy.triggers=0,Gi(this.logService,t,`${t.name} chose a level ${n} ${r} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new tp(e,this.logService,this.abilityService)}}class Iy extends E{logService;abilityService;constructor(e,t,i){super({name:"GoldfishAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;t.increaseSellValue(this.level),this.logService.createLog({message:`${t.name} increased its sell value by ${this.level}.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}copy(e){return new Iy(e,this.logService,this.abilityService)}}class ip extends E{logService;constructor(e,t){super({name:"ToucanAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>this.owner.timesAttacked<1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c;c=null==r.equipment||r.equipment.tier>5?"Egg":r.equipment.name;let u=r.parent.getPetsWithEquipment(c),b=r.parent.nearestPetsBehind(this.level,r,u).pets;if(0!=b.length){for(let D of b){const H=Mt.getInjector().get(ui).getInstanceOfAllEquipment().get(c);H&&(this.logService.createLog({message:`${r.name} gave ${D.name} ${H.name}`,type:"ability",player:r.parent,randomEvent:!1,tiger:n,pteranodon:s}),D.givePetEquipment(H))}this.triggerTigerExecution(e)}}copy(e){return new ip(e,this.logService)}}class Ry extends E{logService;constructor(e,t){super({name:"HoopoeBirdAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.opponent,u=c.getFurthestUpPet(r),h=u.pet,b=c.getLastPet(void 0,r),D=b.pet,H=2*this.level;h&&r.snipePet(h,H,u.random,n,s),D&&r.snipePet(D,H,b.random,n,s),this.triggerTigerExecution(e)}copy(e){return new Ry(e,this.logService)}}class np extends E{logService;abilityService;constructor(e,t,i){super({name:"TropicalFishAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=ts(t);if(0!==i.length){for(const n of i)n.increaseHealth(this.level),Gi(this.logService,t,`${t.name} gave ${n.name} +${this.level} health.`,e.tiger,e.pteranodon);this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new np(e,this.logService,this.abilityService)}}class rp extends E{logService;abilityService;pendingBuffs=new Map;constructor(e,t,i){super({name:"HatchingChickAbility",owner:e,triggers:["EndTurn","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger){for(const[n,s]of this.pendingBuffs)n&&(n.increaseAttack(-s.attack),n.increaseHealth(-s.health));return this.pendingBuffs.clear(),void this.triggerTigerExecution(e)}const i=t.petAhead;if(i)return 1===this.level?(i.increaseAttack(3),i.increaseHealth(3),this.pendingBuffs.set(i,{attack:3,health:3}),this.logService.createLog({message:`${t.name} gave ${i.name} +3/+3 until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),void this.triggerTigerExecution(e)):2===this.level?(i.increaseAttack(2),i.increaseHealth(2),this.logService.createLog({message:`${t.name} gave ${i.name} +2/+2.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),void this.triggerTigerExecution(e)):(i.increaseExp(1),this.logService.createLog({message:`${t.name} gave ${i.name} +1 experience.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),void this.triggerTigerExecution(e));this.triggerTigerExecution(e)}copy(e){return new rp(e,this.logService,this.abilityService)}}class m_ extends E{logService;abilityService;constructor(e,t,i){super({name:"OwlAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,n=new Hm(this.logService,this.abilityService,t.parent,null,null,null,this.minExpForLevel),s=t.parent.summonPet(n,t.savedPosition,!1,t);s.success&&this.logService.createLog({message:`${t.name} summoned a level ${this.level} Mouse.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:s.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new m_(e,this.logService,this.abilityService)}}class KC extends M{logService;abilityService;name="Mole";tier=3;pack="Puppy";attack=2;health=3;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}initAbilities(){this.addAbility(new ap(this,this.logService,this.abilityService)),super.initAbilities()}}class ap extends E{logService;abilityService;constructor(e,t,i){super({name:"MoleAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=6*this.level,u=[];for(let H of r.parent.petArray)H!=r&&H.equipment&&u.push(H);const h=r.position;if(u.sort((H,Y)=>{const ue=Math.abs(H.position-h),he=Math.abs(Y.position-h);return ue!==he?ue-he:H.position-Y.position}),u=u.slice(0,2),u.length<2)return;for(let H of u)this.logService.createLog({message:`${r.name} removed ${H.name}'s equipment.`,type:"ability",player:r.parent,pteranodon:s}),H.removePerk();let b=new KC(this.logService,this.abilityService,r.parent,c,c),D=r.parent.summonPet(b,r.savedPosition,!1,r);D.success&&this.logService.createLog({message:`${r.name} summoned a ${c}/${c} Mole.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:D.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new ap(e,this.logService,this.abilityService)}}class Ly extends E{logService;constructor(e,t){super({name:"PangolinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null!=this.owner.parent.toy,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.nearestPetsBehind(1,r);if(0===c.pets.length)return;let u=c.pets[0],h=4*this.level;u.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${u.name} ${h} health.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new Ly(e,this.logService)}}class op extends E{logService;abilityService;constructor(e,t,i){super({name:"PuppyAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=Mt.getInjector().get(Br),n=Math.max(1,Math.min(3,this.level)),s=i.toys.get(n)??[];if(0===s.length)return void this.triggerTigerExecution(e);const r=s[Ot(0,s.length-1)],c=i.createToy(r,t.parent,n);c?(t.parent.toy=c,t.parent.toy.used=!1,t.parent.toy.triggers=0,Gi(this.logService,t,`${t.name} chose a level ${n} ${r} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new op(e,this.logService,this.abilityService)}}class sp extends E{logService;abilityService;usesThisTurn=0;constructor(e,t,i){super({name:"PurpleFrogAbility",owner:e,triggers:["FriendSummoned","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.level)return void this.triggerTigerExecution(e);const i=Wn(t,e.triggerPet);i.pet?(i.pet.executeAbilities("StartTurn",e.gameApi,i.pet,void 0,void 0,{trigger:"StartTurn"}),this.usesThisTurn++,Gi(this.logService,t,`${t.name} activated ${i.pet.name}'s start of turn ability.`,e.tiger,e.pteranodon,{randomEvent:i.random}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new sp(e,this.logService,this.abilityService)}}class Ny extends E{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"HareAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.opponent.petArray,u=[];for(let Y of c)Y.equipment&&Mt.getInjector().get(ui).isUsefulPerk(Y.equipment.name)&&u.push(Y);if(0==u.length)return;let h=u[Math.floor(Math.random()*u.length)],b=h.equipment,H=r.parent.getThis(r).pet;null!=H&&(r.givePetEquipment(b),this.logService.createLog({message:`${r.name} copied ${b.name} to ${H.name} from ${h.name}.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.length>0}),this.triggerTigerExecution(e))}copy(e){return new Ny(e,this.logService)}}class lp extends E{logService;constructor(e,t){super({name:"MicrobeAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getPetsWithinXSpaces(r,3*this.level),u=c.pets.filter(h=>"Weak"!==h.equipment?.name);if(0!=u.length){for(let h of u)h.alive&&(this.logService.createLog({message:`${r.name} gave ${h.name} Weak.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random}),h.givePetEquipment(new Ha));this.triggerTigerExecution(e)}}copy(e){return new lp(e,this.logService)}}class cp extends E{logService;abilityService;constructor(e,t,i){super({name:"LobsterAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=Wn(t,e.triggerPet);if(!i.pet)return;const n=this.level,s=2*this.level;i.pet.increaseAttack(n),i.pet.increaseHealth(s),Gi(this.logService,t,`${t.name} gave ${i.pet.name} ${n} attack and ${s} health.`,e.tiger,e.pteranodon,{randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new cp(e,this.logService,this.abilityService)}}class Fy extends E{logService;abilityService;pendingAttack=0;pendingHealth=0;constructor(e,t,i){super({name:"BuffaloAbility",owner:e,triggers:["FriendSold","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return(this.pendingAttack||this.pendingHealth)&&(t.increaseAttack(-this.pendingAttack),t.increaseHealth(-this.pendingHealth)),this.pendingAttack=0,this.pendingHealth=0,void this.triggerTigerExecution(e);const i=e.triggerPet;if(!i||!i.isSellPet())return void this.triggerTigerExecution(e);const n=2*this.level;t.increaseAttack(n),t.increaseHealth(n),this.pendingAttack+=n,this.pendingHealth+=n,this.logService.createLog({message:`${t.name} gained +${n}/+${n} until next turn after ${i.name} was sold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Fy(e,this.logService,this.abilityService)}}class ku extends E{logService;abilityService;constructor(e,t,i){super({name:"LlamaAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;let i=!1;for(let r=0;r<5;r++)if(null==t.parent.getPetAtPosition(r)){i=!0;break}if(!i)return void this.triggerTigerExecution(e);const n=this.level,s=2*this.level;t.increaseAttack(n),t.increaseHealth(s),this.logService.createLog({message:`${t.name} gained +${n}/+${s} because there was an empty space.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new ku(e,this.logService,this.abilityService)}}class Oy extends M{logService;abilityService;name="Butterfly";tier=1;pack="Puppy";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new up(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class up extends E{logService;constructor(e,t){super({name:"ButterflyAbility",owner:e,triggers:["ThisTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;if(!r.alive)return;let u=r.parent.opponent.getStrongestPet(r);u.pet&&(r.health=u.pet.health,r.attack=u.pet.attack,this.logService.createLog({message:`${r.name} copied stats from the strongest enemy (${r.attack}/${r.health}).`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random}),this.triggerTigerExecution(e))}copy(e){return new up(e,this.logService)}}class b_ extends E{logService;abilityService;constructor(e,t,i){super({name:"CaterpillarAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>this.owner.level>=3,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getThis(r),u=c.pet;if(null==u)return;let h=new Oy(this.logService,this.abilityService,u.parent,u.health,u.attack,u.mana,u.exp,u.equipment);r.parent.transformPet(u,h),this.logService.createLog({message:`${r.name} transformed into a Butterfly.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new b_(e,this.logService,this.abilityService)}}class By extends E{logService;constructor(e,t){super({name:"DobermanAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=8*this.level,u=r.parent.getThis(r),h=u.pet;if(null==h)return;h.increaseAttack(c),this.logService.createLog({message:`${r.name} gave ${h.name} ${c} attack.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random});let b=!0;for(let Y of r.parent.petArray)if(Y!=r&&Y.tier<=r.tier){b=!1;break}if(!b)return void this.triggerTigerExecution(e);let D=r.parent.getThis(r),H=D.pet;null!=H&&(H.givePetEquipment(new Fa),this.logService.createLog({message:`${r.name} gave ${H.name} Coconut.`,type:"ability",player:r.parent,tiger:n,randomEvent:D.random}),this.triggerTigerExecution(e))}copy(e){return new By(e,this.logService)}}class $y extends E{logService;abilityService;constructor(e,t,i){super({name:"TahrAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getPetsWithEquipment("Mild Chili"),u=r.parent.nearestPetsBehind(this.level,r,c);if(0!==u.pets.length){for(let h of u.pets)this.logService.createLog({message:`${r.name} gave ${h.name} Mild Chili.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:u.random}),h.givePetEquipment(new _r(this.logService,this.abilityService));this.triggerTigerExecution(e)}}copy(e){return new $y(e,this.logService,this.abilityService)}}class Gy extends E{logService;abilityService;constructor(e,t,i){super({name:"WhaleSharkAbility",owner:e,triggers:["ThisGainedPerk","ThisGainedAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const r=this.owner;r.equipment&&(this.logService.createLog({message:`${r.name} removed ${r.equipment.name}`,type:"ability",player:r.parent}),r.removePerk());let c=r.parent.getThis(r),u=c.pet;if(null==u)return;let h=3*this.level;u.increaseAttack(h),u.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${u.name} ${h} attack and ${h} health.`,type:"ability",player:r.parent,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new Gy(e,this.logService,this.abilityService)}}class wu extends E{logService;abilityService;equipmentService;constructor(e,t,i,n){super({name:"ChameleonAbility",owner:e,triggers:["SpecialEndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:s=>null!=this.owner.parent.toy,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=t,this.abilityService=i,this.equipmentService=n}executeAbility(e){const r=this.owner;r.removeAbility(this.name,"Pet"),this.addToyAbility(r.parent.toy.name)}addToyAbility(e){let t=this.owner;const n={"Tennis Ball":()=>new Zf(t,this.logService),Balloon:()=>new WP(t,this.logService),"Plastic Saw":()=>new ry(t,this.logService),Radio:()=>new Ss(t,this.logService),"Oven Mitts":()=>new ko(t,this.logService),"Toilet Paper":()=>new ja(t,this.logService),"Foam Sword":()=>new $l(t,this.logService),"Toy Gun":()=>new Vh(t,this.logService),"Melon Helmet":()=>new Wh(t,this.logService),"Stinky Sock":()=>new Kh(t,this.logService),Flashlight:()=>new ay(t,this.logService),"Peanut Jar":()=>new zh(t,this.logService),"Air Palm Tree":()=>new ZP(t,this.logService),Television:()=>new sy(t,this.logService),"Crystal Ball":()=>new uy(t,this.logService),"Evil Book":()=>new my(t,this.logService,this.abilityService),"Treasure Chest":()=>new py(t,this.logService),"Witch Broom":()=>new ly(t,this.logService),"Treasure Map":()=>new dy(t,this.logService),"Pandoras Box":()=>new Pu(t,this.logService,this.abilityService,this.equipmentService),Stick:()=>new pC(t,this.logService),"Cash Register":()=>new ur(t,this.logService),"Microwave Oven":()=>new NC(t,this.logService,this.equipmentService),Camera:()=>new Rn(t,this.logService)}[e];if(n)try{const s=n();s.abilityLevel=Math.min(t.parent.toy.level,this.level),s.alwaysIgnorePetLevel=!0,t.addAbility(s),this.logService.createLog({message:`${this.name} gained ${e} ability!`,type:"ability",player:t.parent})}catch(s){console.warn(`Failed to add ${e} ability to ${this.name}:`,s)}else this.logService.createLog({message:"Custom toy ability is currently not supported for Chameleon ability",type:"ability",player:t.parent})}copy(e){return new wu(e,this.logService,this.abilityService,this.equipmentService)}}class ql extends E{logService;abilityService;constructor(e,t,i){super({name:"GharialAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=Mt.getInjector().get(Br),n=Math.max(1,Math.min(3,this.level)),s=i.toys.get(n)??[];if(0===s.length)return void this.triggerTigerExecution(e);const r=s[Ot(0,s.length-1)],c=i.createToy(r,t.parent,n);c?(t.parent.toy=c,t.parent.toy.used=!1,t.parent.toy.triggers=0,Gi(this.logService,t,`${t.name} chose a level ${n} ${r} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new ql(e,this.logService,this.abilityService)}}class dp extends E{logService;constructor(e,t){super({name:"StonefishAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n,pteranodon:s}=e,r=this.owner;let u=r.parent.getSpecificPet(r,i).pet;null==u||!u.alive||(r.snipePet(u,r.attack*this.level,!1,n,s),this.triggerTigerExecution(e))}copy(e){return new dp(e,this.logService)}}class hp extends E{logService;abilityService;constructor(e,t,i){super({name:"ChickenAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} gave future shop pets +${i} attack and +${i} health.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}copy(e){return new hp(e,this.logService,this.abilityService)}}class Ps extends M{logService;abilityService;petService;name="Eagle";tier=5;pack="Puppy";attack=6;health=5;constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b)}initAbilities(){this.addAbility(new Tu(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class Tu extends E{logService;abilityService;petService;constructor(e,t,i,n){super({name:"EagleAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:s}=e,r=this.owner,c=Number.isFinite(t.previousShopTier)?t.previousShopTier:1,u=Math.min(6,Math.max(1,c+1)),h=ye=>(ye??[]).filter(_e=>_e&&r.name&&_e.toLowerCase()!==r.name.toLowerCase()),b=r.parent===t.player?t.playerPetPool:t.opponentPetPool;let D=h(b?.get(u));if(D?.length||(D=h(this.petService.allPets.get(u))),D?.length||(D=h(this.petService.allPets.get(1))),!D.length)return void this.triggerTigerExecution(e);let H=D[Math.floor(Math.random()*D.length)],Y=5*this.level,ue=this.petService.createPet({name:H,attack:Y,health:Y,exp:r.minExpForLevel,equipment:null,mana:0},r.parent);r.parent.summonPet(ue,r.savedPosition,!1,r).success&&this.logService.createLog({message:`${r.name} spawned ${ue.name} Level ${ue.level}`,type:"ability",player:r.parent,tiger:n,randomEvent:!0,pteranodon:s}),this.triggerTigerExecution(e)}copy(e){return new Tu(e,this.logService,this.abilityService,this.petService)}}class jy extends M{logService;abilityService;name="Praying Mantis";tier=4;pack="Star";attack=7;health=2;initAbilities(){this.addAbility(new qa(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class qa extends E{logService;abilityService;constructor(e,t,i){super({name:"PrayingMantisAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,n=ts(t);for(const r of n)t.dealDamage(r,50);const s=2*this.level;t.increaseAttack(s),t.increaseHealth(s),this.logService.createLog({message:`${t.name} dealt 50 damage to adjacent friends and gained +${s}/+${s}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.length>1}),this.triggerTigerExecution(e)}copy(e){return new qa(e,this.logService,this.abilityService)}}class Eu extends E{logService;abilityService;constructor(e,t,i){super({name:"OrchidMantisAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=Math.min(Math.floor(r.attack*(.4*this.level)),50),u=Math.min(Math.floor(r.health*(.4*this.level)),50),h=new jy(this.logService,this.abilityService,r.parent,u,c,0,this.minExpForLevel,null),b=r.parent.summonPetInFront(r,h);b.success&&this.logService.createLog({message:`${r.name} spawned Mantis ${h.attack}/${h.health}.`,type:"ability",player:r.parent,tiger:n,randomEvent:b.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Eu(e,this.logService,this.abilityService)}}class qy extends E{logService;constructor(e,t){super({name:"AxolotlAbility",owner:e,triggers:["FriendlyGainsPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,precondition:i=>{const{triggerPet:n}=i,c=Lt(this.owner,n).pet;return!!c&&c.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=Lt(r,i),u=c.pet;if(null==u)return;let h=this.level;u.increaseAttack(h),u.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${u.name} ${h} attack and ${h} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new qy(e,this.logService)}}class Uy extends E{logService;constructor(e,t){super({name:"SnappingTurtleAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getPetsWithEquipment("Skewer"),u=r.parent.nearestPetsBehind(r.level,r,c);if(0!==u.pets.length){for(let h of u.pets)this.logService.createLog({message:`${r.name} gave ${h.name} Skewer.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:u.random}),h.givePetEquipment(new Nl(this.logService));this.triggerTigerExecution(e)}}copy(e){return new Uy(e,this.logService)}}class Vy extends E{logService;abilityService;constructor(e,t,i){super({name:"MosasaurusAbility",owner:e,triggers:["FriendlyToyBroke"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=ts(t);if(0===i.length)return void this.triggerTigerExecution(e);const n=2*this.level,s=3*this.level;for(const r of i)r.increaseAttack(n),r.increaseHealth(s),this.logService.createLog({message:`${t.name} gave ${r.name} +${n}/+${s}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon});this.triggerTigerExecution(e)}copy(e){return new Vy(e,this.logService,this.abilityService)}}class Ky extends E{logService;abilityService;constructor(e,t,i){super({name:"StingRayAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=Mt.getInjector().get(Br),n=Math.max(1,Math.min(3,this.level)),s=i.toys.get(n)??[];if(0===s.length)return void this.triggerTigerExecution(e);const r=s[Ot(0,s.length-1)],c=i.createToy(r,t.parent,n);c?(t.parent.toy=c,t.parent.toy.used=!1,t.parent.toy.triggers=0,Gi(this.logService,t,`${t.name} chose a level ${n} ${r} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new Ky(e,this.logService,this.abilityService)}}class ma extends E{logService;constructor(e,t){super({name:"MantisShrimpAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.opponent;for(let u=0;u<this.level;u++){let h=c.getFurthestUpPet(r),b=h.pet;if(null==b)return;r.snipePet(b,10,h.random,n)}this.triggerTigerExecution(e)}copy(e){return new ma(e,this.logService)}}class zy extends E{logService;constructor(e,t){super({name:"LionfishAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.opponent,u=1+Math.floor(r.attack/10);for(let h=0;h<u;h++){let b=c.getRandomPet([],!1,!0,!1,r);if(null==b.pet)return;r.snipePet(b.pet,3*this.level,b.random,n,s)}this.triggerTigerExecution(e)}copy(e){return new zy(e,this.logService)}}class Yy extends E{logService;abilityService;constructor(e,t,i){super({name:"TyrannosaurusAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.parent.petArray.filter(c=>c.alive&&c!==t&&c.tier>=5),n=i.length;if(0===i.length)return void this.triggerTigerExecution(e);const s=[];for(;s.length<2&&i.length>0;){const c=Ot(0,i.length-1);s.push(i[c]),i.splice(c,1)}const r=2*this.level;for(const c of s)c.increaseAttack(r),c.increaseHealth(r);this.logService.createLog({message:`${t.name} gave ${s.map(c=>c.name).join(", ")} +${r}/+${r}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n>s.length}),this.triggerTigerExecution(e)}copy(e){return new Yy(e,this.logService,this.abilityService)}}class gp extends E{logService;constructor(e,t){super({name:"OctopusAbility",owner:e,triggers:["ThisAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner,c=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,[r],null,!0,r);let u=c.pets;for(let b of u){if(null==b)return;r.snipePet(b,6,c.random,n)}this.triggerTigerExecution(e)}copy(e){return new gp(e,this.logService)}}class mp extends E{logService;abilityService;constructor(e,t,i){super({name:"AnglerfishAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} stocked a free pet from the last opponent ${1===i?"once":2===i?"twice":"thrice"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new mp(e,this.logService,this.abilityService)}}class Xy extends E{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=3;constructor(e,t,i){super({name:"SauropodAbility",owner:e,triggers:["FriendlyGainsPerk","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const i=this.level;this.usesThisTurn++,this.logService.createLog({message:`${t.name} will give +${i} gold next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Xy(e,this.logService,this.abilityService)}}class Jy extends E{logService;constructor(e,t){super({name:"ElephantSealAbility",owner:e,triggers:["ThisGainedPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=4*this.level,u=r.parent.getRandomPets(3,[r],!0,!1,r);for(let h of u.pets)null!=h&&(h.increaseAttack(c),h.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${h.name} ${c} attack and ${c} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random}));this.triggerTigerExecution(e)}copy(e){return new Jy(e,this.logService)}}class Qy extends E{logService;abilityService;constructor(e,t,i){super({name:"MongooseAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=Mt.getInjector().get(Br),n=Math.max(1,Math.min(3,this.level)),s=i.toys.get(n)??[];if(0===s.length)return void this.triggerTigerExecution(e);const r=s[Ot(0,s.length-1)],c=i.createToy(r,t.parent,n);c?(t.parent.toy=c,t.parent.toy.used=!1,t.parent.toy.triggers=0,Gi(this.logService,t,`${t.name} chose a level ${n} ${r} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new Qy(e,this.logService,this.abilityService)}}const o1={Moth:class cs extends M{logService;abilityService;name="Moth";tier=1;pack="Puppy";health=3;attack=1;initAbilities(){this.addAbility(new us(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Bluebird:class wf extends M{logService;abilityService;name="Bluebird";tier=1;pack="Puppy";attack=2;health=1;initAbilities(){this.addAbility(new du(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Chinchilla:class ZS extends M{logService;abilityService;name="Chinchilla";tier=1;pack="Puppy";attack=2;health=3;initAbilities(){this.addAbility(new Tf(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Beetle:class cE extends M{logService;abilityService;name="Beetle";tier=1;pack="Puppy";attack=2;health=2;initAbilities(){this.addAbility(new Ef(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Ladybug:class uE extends M{logService;abilityService;name="Ladybug";tier=1;pack="Puppy";attack=2;health=2;initAbilities(){this.addAbility(new xl(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Chipmunk:class dE extends M{logService;abilityService;name="Chipmunk";tier=1;pack="Puppy";attack=3;health=2;initAbilities(){this.addAbility(new Dh(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Gecko:class Mh extends M{logService;abilityService;name="Gecko";tier=1;pack="Puppy";attack=3;health=1;toyPet=!0;initAbilities(){this.addAbility(new Il(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Ferret:class OC extends M{logService;abilityService;name="Ferret";tier=1;pack="Puppy";attack=1;health=3;initAbilities(){this.addAbility(new _y(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Robin:class GC extends M{logService;abilityService;name="Robin";tier=2;pack="Puppy";attack=2;health=3;initAbilities(){this.addAbility(new Ty(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Bat:class BC extends M{logService;abilityService;name="Bat";tier=2;pack="Puppy";attack=2;health=4;initAbilities(){this.addAbility(new ky(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Bilby:class $C extends M{logService;abilityService;name="Bilby";tier=2;pack="Puppy";attack=2;health=4;initAbilities(){this.addAbility(new wy(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Dromedary:class HC extends M{logService;abilityService;name="Dromedary";tier=2;pack="Puppy";attack=2;health=4;initAbilities(){this.addAbility(new Ey(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Shrimp:class jC extends M{logService;abilityService;name="Shrimp";tier=2;pack="Puppy";attack=2;health=2;initAbilities(){this.addAbility(new ep(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Toucan:class WC extends M{logService;abilityService;name="Toucan";tier=3;pack="Puppy";attack=4;health=3;initAbilities(){this.addAbility(new ip(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Beluga Sturgeon":class Cy extends M{logService;abilityService;name="Beluga Sturgeon";tier=2;pack="Puppy";attack=2;health=3;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}initAbilities(){this.addAbility(new Dy(this,this.logService,this.abilityService)),super.initAbilities()}},"Tabby Cat":class qC extends M{logService;abilityService;name="Tabby Cat";tier=2;pack="Puppy";attack=3;health=2;initAbilities(){this.addAbility(new My(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Mandrill:class UC extends M{logService;abilityService;name="Mandrill";tier=2;pack="Puppy";attack=3;health=4;initAbilities(){this.addAbility(new xy(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Lemur:d_,"Gold Fish":class h_ extends M{logService;abilityService;name="Goldfish";tier=2;pack="Puppy";attack=1;health=1;initAbilities(){this.addAbility(new Iy(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Hoopoe Bird":class VC extends M{logService;abilityService;name="Hoopoe Bird";tier=3;pack="Puppy";attack=3;health=3;initAbilities(){this.addAbility(new Ry(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Tropical Fish":class p_ extends M{logService;abilityService;name="Tropical Fish";tier=3;pack="Puppy";attack=3;health=3;initAbilities(){this.addAbility(new np(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Hatching Chick":class g_ extends M{logService;abilityService;name="Hatching Chick";tier=3;pack="Puppy";attack=2;health=2;initAbilities(){this.addAbility(new rp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Owl:class dr extends M{logService;abilityService;name="Owl";tier=3;pack="Puppy";attack=3;health=2;initAbilities(){this.addAbility(new m_(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Mole:KC,Pangolin:class f_ extends M{logService;abilityService;name="Pangolin";tier=3;pack="Puppy";attack=2;health=5;initAbilities(){this.addAbility(new Ly(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Puppy:class zC extends M{logService;abilityService;name="Puppy";tier=4;pack="Puppy";attack=3;health=6;initAbilities(){this.addAbility(new op(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Purple Frog":class YC extends M{logService;abilityService;name="Purple Frog";tier=3;pack="Puppy";attack=4;health=2;initAbilities(){this.addAbility(new sp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Hare:class rL extends M{logService;abilityService;name="Hare";tier=3;pack="Puppy";health=4;attack=4;initAbilities(){this.addAbility(new Ny(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Microbe:class aL extends M{logService;abilityService;name="Microbe";tier=4;pack="Puppy";attack=4;health=1;initAbilities(){this.addAbility(new lp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Lobster:class y_ extends M{logService;abilityService;name="Lobster";tier=4;pack="Puppy";attack=3;health=3;initAbilities(){this.addAbility(new cp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Buffalo:class XC extends M{logService;abilityService;name="Buffalo";tier=4;pack="Puppy";attack=4;health=4;initAbilities(){this.addAbility(new Fy(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Llama:class JC extends M{logService;abilityService;name="Llama";tier=4;pack="Puppy";attack=3;health=5;initAbilities(){this.addAbility(new ku(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Caterpillar:class v_ extends M{logService;abilityService;name="Caterpillar";tier=4;pack="Puppy";attack=1;health=1;initAbilities(){this.addAbility(new b_(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Doberman:class A_ extends M{logService;abilityService;name="Doberman";tier=4;pack="Puppy";attack=1;health=4;initAbilities(){this.addAbility(new By(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Tahr:class QC extends M{logService;abilityService;name="Tahr";tier=4;pack="Puppy";attack=5;health=3;initAbilities(){this.addAbility(new $y(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Whale Shark":class ZC extends M{logService;abilityService;name="Whale Shark";tier=4;pack="Puppy";attack=2;health=6;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}initAbilities(){this.addAbility(new Gy(this,this.logService,this.abilityService)),super.initAbilities()}},Chameleon:class S_ extends M{logService;abilityService;name="Chameleon";tier=4;pack="Puppy";attack=3;health=5;toyService;equipmentService;initAbilities(){this.addAbility(new wu(this,this.logService,this.abilityService,this.equipmentService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b,D){super(e,t,i),this.logService=e,this.abilityService=t,this.toyService=b,this.equipmentService=D,this.initPet(c,n,s,r,u,h)}},Gharial:class oL extends M{logService;abilityService;name="Gharial";tier=3;pack="Puppy";attack=5;health=2;initAbilities(){this.addAbility(new ql(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Stonefish:class Hy extends M{logService;abilityService;name="Stonefish";tier=5;pack="Puppy";attack=7;health=4;initAbilities(){this.addAbility(new dp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Goat:class k_ extends M{logService;abilityService;name="Goat";tier=5;pack="Puppy";attack=4;health=6;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Chicken:class P_ extends M{logService;abilityService;name="Chicken";tier=5;pack="Puppy";attack=3;health=4;initAbilities(){this.addAbility(new hp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Orchid Mantis":class _s extends M{logService;abilityService;name="Orchid Mantis";tier=5;pack="Puppy";attack=8;health=4;initAbilities(){this.addAbility(new Eu(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Panther:class __ extends M{logService;abilityService;name="Panther";tier=5;pack="Puppy";attack=3;health=5;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Axolotl:class e1 extends M{logService;abilityService;name="Axolotl";tier=5;pack="Puppy";attack=2;health=5;initAbilities(){this.addAbility(new qy(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Snapping Turtle":class t1 extends M{logService;abilityService;name="Snapping Turtle";tier=5;pack="Puppy";attack=4;health=5;initAbilities(){this.addAbility(new Uy(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Mosasaurus:class Wy extends M{logService;abilityService;name="Mosasaurus";tier=5;pack="Puppy";attack=5;health=6;initAbilities(){this.addAbility(new Vy(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Sting Ray":class qi extends M{logService;abilityService;name="Sting Ray";tier=5;pack="Puppy";attack=5;health=7;initAbilities(){this.addAbility(new Ky(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Mantis Shrimp":class T_ extends M{logService;abilityService;name="Mantis Shrimp";tier=6;pack="Puppy";attack=9;health=3;initAbilities(){this.addAbility(new ma(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Lionfish:class sL extends M{logService;abilityService;name="Lionfish";tier=6;pack="Puppy";attack=10;health=4;initAbilities(){this.addAbility(new zy(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Tyrannosaurus:class i1 extends M{logService;abilityService;name="Tyrannosaurus";tier=6;pack="Puppy";attack=7;health=7;initAbilities(){this.addAbility(new Yy(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Octopus:class n1 extends M{logService;abilityService;name="Octopus";tier=6;pack="Puppy";attack=8;health=8;initAbilities(){this.addAbility(new gp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Anglerfish:class lL extends M{logService;abilityService;name="Anglerfish";tier=6;pack="Puppy";attack=7;health=4;initAbilities(){this.addAbility(new mp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Sauropod:class E_ extends M{logService;abilityService;name="Sauropod";tier=6;pack="Puppy";attack=4;health=12;initAbilities(){this.addAbility(new Xy(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Elephant Seal":class r1 extends M{logService;abilityService;name="Elephant Seal";tier=6;pack="Puppy";attack=4;health=8;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}initAbilities(){this.addAbility(new Jy(this,this.logService)),super.initAbilities()}},Puma:vl,Mongoose:class a1 extends M{logService;abilityService;name="Mongoose";tier=6;pack="Puppy";attack=7;health=6;initAbilities(){this.addAbility(new Qy(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Eagle:Ps};class Zy extends E{logService;abilityService;constructor(e,t,i){super({name:"PillbugAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} stocked ${i} free Sleeping Pill${1===i?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Zy(e,this.logService,this.abilityService)}}class C_ extends M{logService;abilityService;name="Summoned Cockroach";tier=1;pack="Star";attack=1;health=1;hidden=!0;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class ev extends E{logService;abilityService;constructor(e,t,i){super({name:"CockroachAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner,c=this.level,u=new C_(this.logService,this.abilityService,r.parent,1,1,0,0);let h=r.parent.summonPet(u,r.savedPosition,!1,r);if(h.success){this.logService.createLog({message:`${r.name} summoned a 1/1 Cockroach.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:h.randomEvent});let b=r.parent.getSpecificPet(r,u);b.pet.increaseExp(c),this.logService.createLog({message:`${r.name} gave ${b.pet.name} +${c} exp.`,type:"ability",player:r.parent,tiger:n,randomEvent:b.random})}this.triggerTigerExecution(e)}copy(e){return new ev(e,this.logService,this.abilityService)}}class tv extends E{logService;constructor(e,t){super({name:"FrogAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>1===this.owner.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.nearestPetsAhead(1,r),u=r.parent.nearestPetsBehind(1,r);if(0===c.pets.length||0===u.pets.length)return;let h=c.pets[0],b=u.pets[0],D=h.attack,H=h.health,ue=b.health;h.attack=b.attack,h.health=ue,b.attack=D,b.health=H,this.logService.createLog({message:`${r.name} swapped the attack and health of ${h.name} and ${b.name}.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random||u.random}),this.triggerTigerExecution(e)}copy(e){return new tv(e,this.logService)}}class iv extends E{logService;abilityService;constructor(e,t,i){super({name:"HummingbirdAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getPetsWithEquipment("Strawberry"),u=r.parent.nearestPetsBehind(this.level,r,c);if(0!==u.pets.length){for(let h of u.pets)h.givePetEquipment(new Jc(this.logService)),this.logService.createLog({message:`${r.name} gave ${h.name} strawberry.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random});this.triggerTigerExecution(e)}}copy(e){return new iv(e,this.logService,this.abilityService)}}class nv extends E{logService;abilityService;constructor(e,t,i){super({name:"MarmosetAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} was sold and your ${1===i?"next roll is":`next ${i} rolls are`} free.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new nv(e,this.logService,this.abilityService)}}class rv extends E{logService;abilityService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t,i){super({name:"PheasantAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{triggerPet:i,tiger:n,pteranodon:s}=e,r=this.owner,c=Wn(r,i);if(!c.pet)return;const u=c.pet;Gi(this.logService,r,`${r.name} gave ${u.name} a Strawberry.`,n,s,{randomEvent:c.random}),u.givePetEquipment(new Jc(this.logService)),this.triggerTigerExecution(e)}copy(e){return new rv(e,this.logService,this.abilityService)}}class av extends E{logService;constructor(e,t){super({name:"KiwiAbility",owner:e,triggers:["ThisHurt","ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.petArray.filter(D=>"Strawberry"!=D.equipment?.name||D==r),u=r.parent.getLastPet(c,r),h=u.pet;if(null==h)return;let b=this.level;h.increaseAttack(b),this.logService.createLog({message:`${r.name} gave ${h.name} +${b} attack`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random}),this.triggerTigerExecution(e)}copy(e){return new av(e,this.logService)}}class Cu extends E{logService;constructor(e,t){super({name:"ChihuahuaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner,c=r.parent.opponent,u=c.getHighestHealthPet(void 0,r),h=u.pet;if(h){const b=this.level;this.logService.createLog({message:`${r.name} pushed ${h.name} forward ${b} space(s).`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random}),c.pushPet(h,b)}this.triggerTigerExecution(e)}copy(e){return new Cu(e,this.logService)}}class ov extends E{logService;constructor(e,t){super({name:"FireflyAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getPetsWithinXSpaces(r,this.level),u=c.pets;if(0!=u.length){for(const h of u)r.snipePet(h,1,c.random,n,s);this.triggerTigerExecution(e)}}copy(e){return new ov(e,this.logService)}}class sv extends E{logService;constructor(e,t){super({name:"IguanaAbility",owner:e,triggers:["EnemyPushed","EnemySummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=r.parent.getSpecificPet(r,i),u=c.pet;null!=u&&u.alive&&(r.snipePet(u,2*this.level,c.random,n),this.triggerTigerExecution(e))}copy(e){return new sv(e,this.logService)}}class Ul extends E{logService;constructor(e,t){super({name:"KoalaAbility",owner:e,triggers:["FriendHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,precondition:i=>Ra(this.owner,i.triggerPet),abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=yo(r,i),u=c.pet;u&&(u.givePetEquipment(new Ll),this.logService.createLog({message:`${r.name} gave ${u.name} Eucalyptus perk.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e))}copy(e){return new Ul(e,this.logService)}}class M_ extends E{logService;abilityService;constructor(e,t,i){super({name:"DumboOctopusAbility",owner:e,triggers:["Roll3"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked a discounted food from the last 3 tiers (-${this.level} gold).`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new M_(e,this.logService,this.abilityService)}}class Du extends E{logService;constructor(e,t){super({name:"SalamanderAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getThis(r),u=c.pet;if(null==u)return;let h=0;for(let b of r.parent.petArray)b.isSellPet()&&(h+=b.level*this.level);h>0&&(this.logService.createLog({message:`${r.name} gave ${u.name} ${h} attack and ${h} health from sell pets.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random}),u.increaseAttack(h),u.increaseHealth(h)),this.triggerTigerExecution(e)}copy(e){return new Du(e,this.logService)}}class x_ extends M{logService;abilityService;name="Guinea Pig";tier=2;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new wo(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class wo extends E{logService;abilityService;constructor(e,t,i){super({name:"GuineaPigAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,n=this.level,s=new x_(this.logService,this.abilityService,t.parent,n,n,null,this.minExpForLevel),r=t.parent.summonPet(s,t.savedPosition,!1,t);r.success&&this.logService.createLog({message:`${t.name} summoned a ${n}/${n} Guinea Pig (level ${this.level}).`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:r.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new wo(e,this.logService,this.abilityService)}}class To extends E{logService;constructor(e,t){super({name:"JellyfishAbility",owner:e,triggers:["FriendLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getThis(r),u=c.pet;if(null==u)return;let h=this.level;u.increaseAttack(h),u.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${u.name} attack by ${h} and health by ${h}`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new To(e,this.logService)}}class Wl extends E{logService;constructor(e,t){super({name:"DoveAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.petArray.filter(b=>b==r||"Strawberry"!=b.equipment?.name),u=r.parent.getRandomPets(3,c,null,null,r),h=u.pets;if(0!=h.length){for(let b of h){if("Strawberry"!=b.equipment.name)continue;this.logService.createLog({message:`${r.name} activated ${b.name}'s Strawberry.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random,pteranodon:s});let H=b.parent.getLastPet(null,b).pet,Y=this.level+H.equipment.multiplier-1;H.increaseAttack(Y),H.increaseHealth(Y),this.logService.createLog({message:`${b.name} gave ${H.name} ${Y} attack ${Y} health (Strawberry) (x${this.level} ${r.name}).`,type:"equipment",player:r.parent,tiger:n,pteranodon:s})}this.triggerTigerExecution(e)}}copy(e){return new Wl(e,this.logService)}}class fp extends M{logService;abilityService;petService;name="Stork";tier=2;pack="Star";attack=3;health=1;initAbilities(){this.addAbility(new Vl(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b)}}class Vl extends E{logService;abilityService;petService;constructor(e,t,i,n){super({name:"StorkAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:s}=e,r=this.owner;let c=Math.max(1,t.previousShopTier-1);const u=ue=>(ue??[]).filter(he=>he&&r.name&&he.toLowerCase()!==r.name.toLowerCase());let h=u(this.petService.allPets.get(c));if(h.length||(h=u(this.petService.allPets.get(1))),!h.length)return void this.triggerTigerExecution(e);let b=h[Math.floor(Math.random()*h.length)],D=t.oldStork,H=this.petService.createPet({name:b,attack:D?null:2*this.level,equipment:null,exp:r.minExpForLevel,health:D?null:2*this.level,mana:0},r.parent);r.parent.summonPet(H,r.savedPosition,!1,r).success&&this.logService.createLog({message:`${r.name} spawned ${H.name} Level ${this.level}`,type:"ability",player:r.parent,tiger:n,randomEvent:!0,pteranodon:s}),this.triggerTigerExecution(e)}copy(e){return new Vl(e,this.logService,this.abilityService,this.petService)}}class Ua extends M{logService;abilityService;petService;name="Shima Enaga";tier=2;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new yp(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b)}}class yp extends E{logService;abilityService;petService;constructor(e,t,i,n){super({name:"ShimaEnagaAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,condition:s=>{const{triggerPet:r}=s;return r&&"Strawberry"==r.equipment?.name},abilityFunction:s=>{this.executeAbility(s)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=2*this.level,u=this.petService.createPet({name:r.name,attack:c,health:c,equipment:null,exp:0,mana:0},r.parent);r.parent.summonPet(u,i.position,!1,r).success&&this.logService.createLog({message:`${r.name} summoned a (${c}/${c}) Shima Enaga`,type:"ability",player:r.parent,tiger:n,randomEvent:!0}),this.triggerTigerExecution(e)}copy(e){return new yp(e,this.logService,this.abilityService,this.petService)}}class cv extends E{logService;constructor(e,t){super({name:"BassAbility",owner:e,triggers:["Faint","ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner,c=r.parent.petArray.filter(D=>D==r&&!D.isSellPet()&&D.level<2);let u=r.parent.getRandomPet(c,!0,null,null,r);const h=u.pet;if(null==h)return;const b=this.level;this.logService.createLog({message:`${r.name} gave ${h.name} +${b} experience.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:u.random}),h.increaseExp(b),this.triggerTigerExecution(e)}copy(e){return new cv(e,this.logService)}}class Kl extends E{logService;constructor(e,t){super({name:"PugAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.nearestPetsAhead(1,r);if(0===c.pets.length)return;let u=c.pets[0],h=this.level;this.logService.createLog({message:`${r.name} gave ${u.name} ${h} exp.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),u.increaseExp(h),this.triggerTigerExecution(e)}copy(e){return new Kl(e,this.logService)}}class Mu extends E{logService;abilityService;constructor(e,t,i){super({name:"CardinalAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;let i=t.petAhead;for(;i;){const n=i.equipment;if(n&&!n.equipmentClass?.startsWith("ailment")){this.logService.createLog({message:`${t.name} stocked a discounted copy of ${n.name} (-${this.level} gold).`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon});break}i=i.petAhead}this.triggerTigerExecution(e)}copy(e){return new Mu(e,this.logService,this.abilityService)}}class zl extends E{logService;abilityService;constructor(e,t,i){super({name:"LeechAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.petAhead;if(!i)return void this.triggerTigerExecution(e);const n=this.level,s=Math.min(n,i.health);t.dealDamage(i,n),t.increaseHealth(s),this.logService.createLog({message:`${t.name} dealt ${n} damage to ${i.name} and gained ${s} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new zl(e,this.logService,this.abilityService)}}class R_ extends M{logService;abilityService;name="Tuna";tier=3;pack="Star";attack=3;health=5;initAbilities(){this.addAbility(new dv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h),this.timesHurt=b??0,this.originalTimesHurt=this.timesHurt}}class dv extends E{logService;timesHurtOverride;constructor(e,t,i){super({name:"TunaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.timesHurtOverride=i??null}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=this.timesHurtOverride??r.timesHurt;for(let u=0;u<c;u++){const h=r.parent.getRandomPet([r],!0,!1,!0,r);if(null==h.pet)continue;const b=this.level;this.logService.createLog({message:`${r.name} gave ${h.pet.name} +${b} attack and +${b} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random}),h.pet.increaseAttack(b),h.pet.increaseHealth(b)}this.triggerTigerExecution(e)}copy(e){return new dv(e,this.logService,this.timesHurtOverride??this.owner.timesHurt)}}class hv extends E{logService;reset(){this.maxUses=2*this.owner.level,super.reset()}constructor(e,t){super({name:"ToadAbility",owner:e,triggers:["EnemyHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2*e.level,condition:i=>{const{triggerPet:n}=i;return n&&n.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=r.parent.getSpecificPet(r,i),u=c.pet;if("Weak"===u?.equipment?.name){let h=r.parent.getPetsWithEquipmentWithSillyFallback("Weak",r);c=r.parent.opponent.getRandomPet(h,null,!0,null,r),u=c.pet}null!=u&&(u.givePetEquipment(new Ha),this.logService.createLog({message:`${r.name} gave ${u.name} Weak.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e))}copy(e){return new hv(e,this.logService)}}class pv extends E{logService;abilityService;constructor(e,t,i){super({name:"CapybaraAbility",owner:e,triggers:["Roll","FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} gave newly rolled shop pets +${i}/+${i}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new pv(e,this.logService,this.abilityService)}}class xu extends E{logService;abilityService;usesThisTurn=0;pendingAttack=0;pendingHealth=0;maxUsesPerTurn=5;constructor(e,t,i){super({name:"OkapiAbility",owner:e,triggers:["Roll","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return(this.pendingAttack||this.pendingHealth)&&(t.increaseAttack(-this.pendingAttack),t.increaseHealth(-this.pendingHealth)),this.pendingAttack=0,this.pendingHealth=0,this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const i=this.level;t.increaseAttack(i),t.increaseHealth(i),this.pendingAttack+=i,this.pendingHealth+=i,this.usesThisTurn++,this.logService.createLog({message:`${t.name} gained +${i}/+${i} until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new xu(e,this.logService,this.abilityService)}}class gv extends E{logService;constructor(e,t){super({name:"CassowaryAbility",owner:e,triggers:["FriendlyGainedStrawberry"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner,c=this.level;let h=r.parent.getThis(r).pet;null!=h&&(this.logService.createLog({message:`${r.name} gave ${h.name} +${c} permanent health and +${c} attack for this battle.`,type:"ability",player:r.parent,tiger:n}),h.increaseHealth(c),h.increaseAttack(c),this.triggerTigerExecution(e))}copy(e){return new gv(e,this.logService)}}class mv extends E{logService;abilityService;constructor(e,t,i){super({name:"AnteaterAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;for(let c=0;c<this.level;c++){let u=new ru(this.logService,this.abilityService,r.parent,1,1,0,5),h=r.parent.summonPet(u,r.savedPosition,!1,r);h.success&&this.logService.createLog({message:`${r.name} spawned 1/1 Ant level 3`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:h.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new mv(e,this.logService,this.abilityService)}}class S1 extends M{logService;abilityService;name="Orangutan";tier=3;pack="Star";attack=1;health=4;initAbilities(){this.addAbility(new Sp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class Sp extends E{logService;abilityService;constructor(e,t,i){super({name:"OrangutanAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.parent.getLowestHealthPet(t),n=i.pet;if(!n)return void this.triggerTigerExecution(e);const s=3*this.level;n.increaseHealth(s),this.logService.createLog({message:`${t.name} gave ${n.name} +${s} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new Sp(e,this.logService,this.abilityService)}}class L_ extends E{logService;constructor(e,t){super({name:"ClownfishAbility",owner:e,triggers:["FriendlyLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,precondition:i=>{const{triggerPet:n}=i,c=Lt(this.owner,n).pet;return!!c&&c.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=Lt(r,i),u=c.pet;if(null==u)return;let h=2*this.level;u.increaseAttack(h),u.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${u.name} ${h} attack and ${h} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new L_(e,this.logService)}}class fv extends E{logService;abilityService;constructor(e,t,i){super({name:"SiameseAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=ts(t);if(0===i.length)return void this.triggerTigerExecution(e);const s=this.level,r=!0===e.discountedFood||!0===e.shopDiscountedFood?this.level:0;for(const c of i)c.increaseAttack(s),r>0&&c.increaseHealth(r);this.logService.createLog({message:`${t.name} gave adjacent friends +${s} attack${r>0?` and +${r} health`:""}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.length>1}),this.triggerTigerExecution(e)}copy(e){return new fv(e,this.logService,this.abilityService)}}class Pp extends E{logService;abilityService;constructor(e,t,i){super({name:"ElkAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.parent.petArray.filter(r=>r.alive&&r.isSellPet());if(0===i.length)return void this.triggerTigerExecution(e);const n=i[Math.floor(Math.random()*i.length)],s=2*this.level;n.increaseSellValue(s),this.logService.createLog({message:`${t.name} increased ${n.name}'s sell value by ${s}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.length>1}),this.triggerTigerExecution(e)}copy(e){return new Pp(e,this.logService,this.abilityService)}}class Iu extends E{constructor(e){super({name:"FairyAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:t=>{this.executeAbility(t)}})}executeAbility(e){}copy(e){return new Iu(e)}}class N_ extends M{logService;abilityService;name="Fairy Ball";tier=1;pack="Star";attack=2;health=6;hidden=!0;initAbilities(){this.addAbility(new Iu(this)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class _p extends E{logService;abilityService;constructor(e,t,i){super({name:"FairyArmadilloAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner,c=2*this.level,u=r.parent.getThis(r),h=u.pet;if(null==h)return;h.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${h.name} ${c} permanent health and transforms into a protected ball!`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random});const D=r.parent.getThis(r).pet;if(null==D)return;const H=new N_(this.logService,this.abilityService,D.parent,D.health,D.attack,D.mana,D.exp,D.equipment);D.parent.transformPet(D,H),this.triggerTigerExecution(e)}copy(e){return new _p(e,this.logService,this.abilityService)}}class yv extends E{logService;constructor(e,t){super({name:"FossaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n}=e,r=this.owner,u=r.parent===t.player?t.playerRollAmount:t.opponentRollAmount;if(u<=0)return;const h=this.level*u;let D=r.parent.opponent.getFurthestUpPets(2,void 0,r).pets;if(0!=D.length){for(let H of D)this.logService.createLog({message:`${r.name} removed ${h} health from ${H.name}.`,type:"ability",player:r.parent,tiger:n}),H.increaseHealth(-h);this.triggerTigerExecution(e)}}copy(e){return new yv(e,this.logService)}}class vv extends E{logService;constructor(e,t){super({name:"HawkAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getOppositeEnemyPet(r),u=c.pet;u&&r.snipePet(u,7*this.level,c.random,n),this.triggerTigerExecution(e)}copy(e){return new vv(e,this.logService)}}class bv extends E{logService;abilityService;constructor(e,t,i){super({name:"PlatypusAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=3*this.level,u=2*this.level,h=new ou(this.logService,this.abilityService,r.parent,u,c,0,this.minExpForLevel),b=new is(this.logService,this.abilityService,r.parent,u,c,0,this.minExpForLevel),D=r.parent.summonPet(h,r.savedPosition,!1,r);D.success&&this.logService.createLog({message:`${r.name} spawned ${c}/${u} Duck level ${this.level}`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:D.randomEvent});let H=r.parent.summonPet(b,r.savedPosition,!1,r);H.success&&this.logService.createLog({message:`${r.name} spawned ${c}/${u} Beaver level ${this.level}`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:H.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new bv(e,this.logService,this.abilityService)}}class Av extends E{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"DonkeyAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.opponent,u=c.getLastPet();null!=u.pet&&(c.pushPet(u.pet,u.pet.position),u.pet.increaseAttack(-3),this.logService.createLog({message:`${r.name} pushed ${u.pet.name} to the front and removed 3 attack.`,type:"ability",player:r.parent,tiger:n}),this.triggerTigerExecution(e))}copy(e){return new Av(e,this.logService)}}class Ru extends E{logService;abilityService;constructor(e,t,i){super({name:"SparrowAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new Ru(e,this.logService,this.abilityService)}}class kp extends E{logService;constructor(e,t){super({name:"BlobfishAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.nearestPetsBehind(2,r),u=c.pets;for(let h of u){let b=this.level;this.logService.createLog({message:`${r.name} gave ${h.name} ${b} exp.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),h.increaseExp(b)}this.triggerTigerExecution(e)}copy(e){return new kp(e,this.logService)}}class Pv extends E{logService;constructor(e,t){super({name:"WoodpeckerAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=2*this.level;for(let u=0;u<c;u++){let h=r.parent.nearestPetsAhead(2,r,null,!0),b=h.pets;for(let D of b){let H=1;D.parent!=this.owner.parent&&(H*=2),r.snipePet(D,H,h.random,n)}}this.triggerTigerExecution(e)}copy(e){return new Pv(e,this.logService)}}class _v extends E{logService;abilityService;constructor(e,t,i){super({name:"StarfishAbility",owner:e,triggers:["FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=e.triggerPet;if(!i||3!==i.level)return void this.triggerTigerExecution(e);const n=i.attack>=10?3:1,s=this.level*n,r=t.parent.petArray.filter(c=>c.alive);for(const c of r)c.increaseAttack(s),c.increaseHealth(s);this.logService.createLog({message:`${t.name} gave friends +${s}/+${s}${n>1?" (triple bonus)":""}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _v(e,this.logService,this.abilityService)}}class wp extends M{logService;abilityService;petService;name="Pelican";tier=5;pack="Star";attack=5;health=5;initAbilities(){this.addAbility(new kv(this,this.logService,this.petService)),this.addAbility(new Tp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b)}}class Tp extends E{logService;abilityService;constructor(e,t,i){super({name:"PelicanFaintAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)},ignoreRepeats:!0}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;for(;r.swallowedPets.length>0;){let c=r.swallowedPets.shift(),u=r.parent.summonPet(c,r.savedPosition,!1,r);u.success&&this.logService.createLog({message:`${r.name} summoned ${c.name} (level ${c.level}).`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:u.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new Tp(e,this.logService,this.abilityService)}}class kv extends E{logService;petService;constructor(e,t,i){super({name:"PelicanStartAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getPetsWithoutEquipment("Strawberry"),u=r.parent.nearestPetsAhead(this.level,r,c),h=u.pets;if(0!=h.length){for(let b of h){let D=this.petService.createPet({name:"Salmon",attack:b.attack,health:b.health,exp:b.exp,equipment:null,mana:0},r.parent);r.swallowedPets.push(D),b.health=0,this.logService.createLog({message:`${r.name} swallowed ${b.name}`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random})}this.triggerTigerExecution(e)}}copy(e){return new kv(e,this.logService,this.petService)}}class wv extends E{logService;constructor(e,t){super({name:"SwordFishAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,r=n.parent.opponent.getHighestHealthPet(void 0,n),c=r.pet,u=n.attack*this.level;c?(n.snipePet(c,u,r.random,t,i),this.logService.createLog({message:`${n.name} deals ${u} damage to ${c.name}.`,type:"ability",player:n.parent,sourcePet:n,targetPet:c,tiger:t,pteranodon:i,randomEvent:r.random})):this.logService.createLog({message:`${n.name} could not find an enemy to attack.`,type:"ability",player:n.parent,sourcePet:n,tiger:t,pteranodon:i}),n.snipePet(n,u,!1,t,i),this.logService.createLog({message:`${n.name} deals ${u} damage to itself.`,type:"ability",player:n.parent,sourcePet:n,targetPet:n,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new wv(e,this.logService)}}class Tv extends E{logService;constructor(e,t){super({name:"TriceratopsAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getRandomPet([r],!0,!1,!0,r),u=3*this.level;null!=c.pet&&(c.pet.increaseAttack(u),c.pet.increaseHealth(u),this.logService.createLog({message:`${r.name} gave ${c.pet.name} ${u} attack and ${u} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e))}copy(e){return new Tv(e,this.logService)}}class Ev extends E{logService;abilityService;usesThisTurn=0;constructor(e,t,i){super({name:"HamsterAbility",owner:e,triggers:["Roll","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=2*this.level)return void this.triggerTigerExecution(e);this.usesThisTurn++;const i=this.owner;this.logService.createLog({message:`${i.name} gained a free roll.`,type:"ability",player:i.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Ev(e,this.logService,this.abilityService)}}class Yl extends E{logService;abilityService;constructor(e,t,i){super({name:"ShoebillAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;let i=t.petAhead;for(;i;){if("Strawberry"===i.equipment?.name){const n=4*this.level;i.removePerk(),i.increaseAttack(n),i.increaseHealth(n),this.logService.createLog({message:`${t.name} replaced Strawberry on ${i.name} with +${n}/+${n}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon});break}i=i.petAhead}this.triggerTigerExecution(e)}copy(e){return new Yl(e,this.logService,this.abilityService)}}class Xl extends E{logService;abilityService;constructor(e,t,i){super({name:"VultureAbility",owner:e,triggers:["PostRemovalFriendFaints2"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let u=r.parent.opponent.getRandomPet([],!1,!0,!1,r);if(null==u.pet)return;let h=4*this.level;r.snipePet(u.pet,h,u.random,n),this.logService.createLog({message:`${r.name} sniped ${u.pet.name} for ${h} after a friend died.`,type:"ability",player:r.parent,tiger:n}),this.triggerTigerExecution(e)}copy(e){return new Xl(e,this.logService,this.abilityService)}}class Mv extends E{logService;affectedEnemies=new Set;reset(){this.maxUses=this.level,this.affectedEnemies=new Set,super.reset()}constructor(e,t){super({name:"IbexAbility",owner:e,triggers:["EnemyHurt","EnemyPushed"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:i=>{const{triggerPet:n}=i;return n&&n.alive&&!this.affectedEnemies.has(n)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=r.parent.getSpecificPet(r,i),u=c.pet;if(null==u)return;let h=Math.floor(.7*i.health);u.increaseHealth(-h),this.affectedEnemies.add(u),this.logService.createLog({message:`${r.name} removed ${h} health from ${i.name} (70%)`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new Mv(e,this.logService)}}class Ep extends E{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=4;constructor(e,t,i){super({name:"OstrichAbility",owner:e,triggers:["Roll","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const t=e.shopPets,n=e.shopPetTiers??t?.map(h=>"number"==typeof h?.tier?h.tier:null);if(!n||n.length<4)return void this.triggerTigerExecution(e);const s=n[0];if(null==s||!n.slice(0,4).every(h=>h===s))return void this.triggerTigerExecution(e);this.usesThisTurn++;const r=this.owner,c=2*this.level,u=r.parent.petArray.filter(h=>h.alive);for(const h of u)h.increaseHealth(c);this.logService.createLog({message:`${r.name} re-rolled the shop and gave friends +${c} health.`,type:"ability",player:r.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Ep(e,this.logService,this.abilityService)}}class Lu extends E{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"ReindeerAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getThis(r),u=c.pet;null!=u&&(u.givePetEquipment(new Nr),this.logService.createLog({message:`${r.name} gave ${u.name} Melon.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e))}copy(e){return new Lu(e,this.logService)}}class xv extends E{logService;constructor(e,t){super({name:"PiranhaAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getAll(!1,r,!0),u=c.pets,h=3*this.level;for(let b of u)b.increaseAttack(h),this.logService.createLog({message:`${r.name} gave ${b.name} ${h} attack.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random});this.triggerTigerExecution(e)}copy(e){return new xv(e,this.logService)}}class Cp extends E{logService;friendAppliedThisTurn=new Set;reset(){this.maxUses=this.level,this.friendAppliedThisTurn=new Set,super.reset()}constructor(e,t){super({name:"RealVelociraptorAbility",owner:e,triggers:["FriendLostPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,precondition:i=>{const{triggerPet:n}=i,s=this.owner;if(!n||!n.lastLostEquipment||!Ra(s,n,{excludeOwner:!0}))return!1;const c=Lt(s,n).pet;return!!c&&!this.friendAppliedThisTurn.has(c)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=this.createEquipmentInstance(i.lastLostEquipment);if(c){let u=Lt(r,i),h=u.pet;if(null==h)return;h.givePetEquipment(c),this.logService.createLog({message:`${r.name} returned ${c.name} to ${h.name}.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random}),this.friendAppliedThisTurn.add(h)}this.triggerTigerExecution(e)}createEquipmentInstance(e){return e?ea(e):null}copy(e){return new Cp(e,this.logService)}}class Nu extends M{logService;abilityService;petService;name="Sabertooth Tiger";tier=6;pack="Star";attack=4;health=5;initAbilities(){this.addAbility(new Dp(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}resetPet(){super.resetPet()}constructor(e,t,i,n,s,r,c,u,h,b,D){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b),this.timesHurt=D??0,this.originalTimesHurt=this.timesHurt}}class Dp extends E{logService;abilityService;petService;timesHurtOverride;constructor(e,t,i,n,s){super({name:"SabertoothTigerAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i,this.petService=n,this.timesHurtOverride=s??null}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=this.timesHurtOverride??r.timesHurt;if(c>0)for(let u=0;u<this.level;u++){let h=Math.min(2*c,50),b=Math.min(3*c,50),D=this.petService.createPet({name:"Mammoth",attack:h,health:b,equipment:null,mana:0,exp:0},r.parent),H=r.parent.summonPet(D,r.savedPosition,!1,r);H.success&&this.logService.createLog({message:`${r.name} summoned ${D.name} (${h}/${b}).`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:H.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new Dp(e,this.logService,this.abilityService,this.petService,this.timesHurtOverride??this.owner.timesHurt)}}class Rv extends M{logService;abilityService;petService;name="Orca";tier=6;pack="Star";attack=5;health=7;initAbilities(){this.addAbility(new Fu(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b)}}class Fu extends E{logService;abilityService;petService;constructor(e,t,i,n){super({name:"OrcaAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;for(let c=0;c<this.level;c++){let u=this.petService.getRandomFaintPet(r.parent,void 0,[r.name,"Quetzalcoatlus"]);u.attack=6,u.health=6,r.parent.summonPet(u,r.savedPosition,!1,r).success&&this.logService.createLog({message:`${r.name} spawned a 6/6 ${u.name}.`,type:"ability",player:r.parent,tiger:n,randomEvent:!0,pteranodon:s})}this.triggerTigerExecution(e)}copy(e){return new Fu(e,this.logService,this.abilityService,this.petService)}}class Lv extends E{logService;constructor(e,t){super({name:"SpinosaurusAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c={attack:2*this.level,health:3*this.level},u=r.parent.getRandomPet([r],!0,!1,!0,r);null!=u.pet&&(u.pet.increaseAttack(c.attack),u.pet.increaseHealth(c.health),this.logService.createLog({message:`${r.name} gave ${u.pet.name} ${c.attack} attack and ${c.health} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random}),this.triggerTigerExecution(e))}copy(e){return new Lv(e,this.logService)}}function B_(a,e,t,i,n={}){a.createLog({message:i,type:"ability",player:e.parent,tiger:t.tiger,pteranodon:t.pteranodon,...n})}function Nv(a){a.amount<=0||(B_(a.logService,a.owner,a.context,a.message??`${a.owner.name} gave ${a.target.name} +${a.amount} experience.`,a.extras),a.target.increaseExp(a.amount))}class $_ extends M{logService;abilityService;name="Alpaca";tier=6;pack="Star";attack=3;health=7;initAbilities(){this.addAbility(new G_(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class G_ extends E{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"AlpacaAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:i=>{const{triggerPet:n}=i;return n&&!(n instanceof $_)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i}=e,r=this.owner,c=Wn(r,i);c.pet&&(Nv({logService:this.logService,owner:r,context:e,target:c.pet,amount:3,extras:{randomEvent:c.random}}),this.triggerTigerExecution(e))}copy(e){return new G_(e,this.logService)}}class Fv extends E{logService;constructor(e,t){super({name:"VelociraptorAbility",owner:e,triggers:["FriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c;for(let h=r.parent.petArray.indexOf(r)-1;h>=0;h--){let b=r.parent.petArray[h];if(b.alive&&b.equipment&&"Strawberry"===b.equipment.name){c=b;break}}if(c){if(c&&c.equipment&&"Strawberry"===c.equipment.name){c.removePerk(),this.logService.createLog({message:`${r.name} removed Strawberry from ${c.name}`,type:"ability",player:r.parent,tiger:n});let h=2*this.level,b=3*this.level,D=r.parent.getAll(!1,r,!0),H=D.pets;for(let Y of H)Y.increaseAttack(h),Y.increaseHealth(b),this.logService.createLog({message:`${r.name} gave ${Y.name} +${h} attack and +${b} health`,type:"ability",player:r.parent,tiger:n,randomEvent:D.random})}this.triggerTigerExecution(e)}}copy(e){return new Fv(e,this.logService)}}class Ov extends M{logService;abilityService;petService;name="Ammonite";tier=6;pack="Star";attack=5;health=3;initAbilities(){this.addAbility(new Ql(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b)}}class Ql extends E{logService;petService;constructor(e,t,i){super({name:"AmmoniteAbility",owner:e,triggers:["Faint"],abilityType:"Pet",abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const{gameApi:t}=e,r=this.owner;let c=r.parent.nearestPetsBehind(1,r);if(0===c.pets.length)return;let u=c.pets[0],b=Math.floor((r.parent===t.player?t.playerRollAmount:t.opponentRollAmount)/2)*this.level,D=this.petService.createPet({name:"Mimic Octopus",attack:u.attack,health:u.health,equipment:u.equipment,mana:u.mana,exp:null},r.parent);!function B1(a){B_(a.logService,a.owner,a.context,a.message,a.extras),a.owner.parent.transformPet(a.fromPet,a.toPet)}({logService:this.logService,owner:r,context:e,fromPet:u,toPet:D,message:`${r.name} transformed ${u.name} into ${D.name}`,extras:{randomEvent:c.random}});let H=r.parent.getSpecificPet(r,D),Y=H.pet;null!=Y&&(Nv({logService:this.logService,owner:r,context:e,target:Y,amount:b,extras:{randomEvent:H.random}}),this.triggerTigerExecution(e))}copy(e){return new Ql(e,this.logService,this.petService)}}const $1={Pillbug:class s1 extends M{logService;abilityService;name="Pillbug";tier=1;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new Zy(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Cockroach:class l1 extends M{logService;abilityService;name="Cockroach";tier=1;pack="Star";attack=1;health=1;initAbilities(){this.addAbility(new ev(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Frog:class c1 extends M{logService;abilityService;name="Frog";tier=1;pack="Star";attack=3;health=2;initAbilities(){this.addAbility(new tv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Hummingbird:class u1 extends M{logService;abilityService;name="Hummingbird";tier=1;pack="Star";attack=3;health=1;initAbilities(){this.addAbility(new iv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Marmoset:class d1 extends M{logService;abilityService;name="Marmoset";tier=1;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new nv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Pheasant:class h1 extends M{logService;abilityService;name="Pheasant";tier=1;pack="Star";attack=2;health=1;initAbilities(){this.addAbility(new rv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Kiwi:class p1 extends M{logService;abilityService;name="Kiwi";tier=1;pack="Star";attack=1;health=4;initAbilities(){this.addAbility(new av(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Chihuahua:class D_ extends M{logService;abilityService;name="Chihuahua";tier=1;pack="Star";attack=4;health=1;initAbilities(){this.addAbility(new Cu(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Firefly:class g1 extends M{logService;abilityService;name="Firefly";tier=1;pack="Star";attack=3;health=2;initAbilities(){this.addAbility(new ov(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Koala:class ks extends M{logService;abilityService;name="Koala";tier=2;pack="Star";attack=4;health=2;initAbilities(){this.addAbility(new Ul(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Salamander:class f1 extends M{logService;abilityService;name="Salamander";tier=2;pack="Star";attack=1;health=2;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}initAbilities(){this.addAbility(new Du(this,this.logService)),super.initAbilities()}},"Guinea Pig":x_,Jellyfish:class ws extends M{logService;abilityService;name="Jellyfish";tier=2;pack="Star";attack=3;health=3;initAbilities(){this.addAbility(new To(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Dove:class lv extends M{logService;abilityService;name="Dove";tier=2;pack="Star";attack=3;health=1;initAbilities(){this.addAbility(new Wl(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Dumbo Octopus":class cL extends M{logService;abilityService;name="Dumbo Octopus";tier=2;pack="Star";health=5;attack=2;initAbilities(){this.addAbility(new M_(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Bass:class y1 extends M{logService;abilityService;name="Bass";tier=2;pack="Star";attack=3;health=3;initAbilities(){this.addAbility(new cv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Leech:class vp extends M{logService;abilityService;name="Leech";tier=3;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new zl(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Woodpecker:class M1 extends M{logService;abilityService;name="Woodpecker";tier=5;pack="Star";attack=6;health=5;initAbilities(){this.addAbility(new Pv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Toad:class bp extends M{logService;abilityService;name="Toad";tier=3;pack="Star";attack=3;health=3;initAbilities(){this.addAbility(new hv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Starfish:class x1 extends M{logService;abilityService;name="Starfish";tier=5;pack="Star";attack=3;health=7;initAbilities(){this.addAbility(new _v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Clownfish:class P1 extends M{logService;abilityService;name="Clownfish";tier=4;pack="Star";attack=3;health=4;initAbilities(){this.addAbility(new L_(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Blobfish:class Sv extends M{logService;abilityService;name="Blobfish";tier=5;pack="Star";attack=2;health=10;initAbilities(){this.addAbility(new kp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Capybara:class Ap extends M{logService;abilityService;name="Capybara";tier=3;pack="Star";attack=2;health=6;initAbilities(){this.addAbility(new pv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Okapi:class v1 extends M{logService;abilityService;name="Okapi";tier=3;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new xu(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Cassowary:class b1 extends M{logService;abilityService;name="Cassowary";tier=3;pack="Star";attack=5;health=2;initAbilities(){this.addAbility(new gv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Anteater:class A1 extends M{logService;abilityService;name="Anteater";tier=3;pack="Star";attack=2;health=2;initAbilities(){this.addAbility(new mv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Orangutan:S1,Hawk:class E1 extends M{logService;abilityService;name="Hawk";tier=4;pack="Star";attack=5;health=4;initAbilities(){this.addAbility(new vv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Platypus:class C1 extends M{logService;abilityService;name="Platypus";tier=4;pack="Star";attack=2;health=2;initAbilities(){this.addAbility(new bv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Praying Mantis":jy,Donkey:class O_ extends M{logService;abilityService;name="Donkey";tier=4;pack="Star";attack=4;health=6;initAbilities(){this.addAbility(new Av(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Fairy Armadillo":class F_ extends M{logService;abilityService;name="Fairy Armadillo";tier=4;pack="Star";attack=2;health=6;initAbilities(){this.addAbility(new _p(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Fossa:class T1 extends M{logService;abilityService;name="Fossa";tier=4;pack="Star";attack=6;health=5;initAbilities(){this.addAbility(new yv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Siamese:class _1 extends M{logService;abilityService;name="Siamese";tier=4;pack="Star";health=5;attack=2;initAbilities(){this.addAbility(new fv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Elk:class k1 extends M{logService;abilityService;name="Elk";tier=4;pack="Star";attack=2;health=6;initAbilities(){this.addAbility(new Pp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Sparrow:class D1 extends M{logService;abilityService;name="Sparrow";tier=4;pack="Star";attack=3;health=2;initAbilities(){this.addAbility(new Ru(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Swordfish:class I1 extends M{logService;abilityService;name="Swordfish";tier=5;pack="Star";attack=6;health=9;initAbilities(){this.addAbility(new wv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Triceratops:class R1 extends M{logService;abilityService;name="Triceratops";tier=5;pack="Star";attack=5;health=6;initAbilities(){this.addAbility(new Tv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Hamster:class L1 extends M{logService;abilityService;name="Hamster";tier=5;pack="Star";attack=4;health=4;initAbilities(){this.addAbility(new Ev(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Shoebill:class Cv extends M{logService;abilityService;name="Shoebill";tier=5;pack="Star";attack=3;health=6;initAbilities(){this.addAbility(new Yl(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Vulture:class Dv extends M{logService;abilityService;name="Vulture";tier=5;pack="Star";attack=4;health=5;initAbilities(){this.addAbility(new Xl(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Ibex:class Jl extends M{logService;abilityService;name="Ibex";tier=5;pack="Star";attack=6;health=7;initAbilities(){this.addAbility(new Mv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Ostrich:class N1 extends M{logService;abilityService;name="Ostrich";tier=6;pack="Star";attack=6;health=7;initAbilities(){this.addAbility(new Ep(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Reindeer:class F1 extends M{logService;abilityService;name="Reindeer";tier=6;pack="Star";attack=9;health=6;initAbilities(){this.addAbility(new Lu(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Piranha:class uL extends M{logService;abilityService;name="Piranha";tier=6;pack="Star";attack=10;health=4;initAbilities(){this.addAbility(new xv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Real Velociraptor":class Iv extends M{logService;abilityService;name="Real Velociraptor";tier=6;pack="Star";attack=6;health=5;initAbilities(){this.addAbility(new Cp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Spinosaurus:class O1 extends M{logService;abilityService;name="Spinosaurus";tier=6;pack="Star";attack=4;health=4;initAbilities(){this.addAbility(new Lv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Alpaca:$_,Velociraptor:class dL extends M{logService;abilityService;name="Velociraptor";tier=6;pack="Star";attack=3;health=6;initAbilities(){this.addAbility(new Fv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Ammonite:Ov,Cardinal:class uv extends M{logService;abilityService;name="Cardinal";tier=3;pack="Star";health=3;attack=4;initAbilities(){this.addAbility(new Mu(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Orca:Rv,Pelican:wp,"Sabertooth Tiger":Nu,"Shima Enaga":Ua,Stork:fp,Tuna:R_,Iguana:class m1 extends M{logService;abilityService;name="Iguana";tier=2;pack="Star";attack=2;health=4;initAbilities(){this.addAbility(new sv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Pug:class I_ extends M{logService;abilityService;name="Pug";tier=3;pack="Star";attack=5;health=2;initAbilities(){this.addAbility(new Kl(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}};class Bv extends E{logService;constructor(e,t){super({name:"BulldogAbility",owner:e,triggers:["ThisFirstAttack"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>this.owner.timesAttacked<=1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=2*this.level,u=r.parent.getThis(r),h=u.pet;null!=h&&(h.increaseAttack(c),this.logService.createLog({message:`${r.name} gained +${c} attack.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random}),this.triggerTigerExecution(e))}copy(e){return new Bv(e,this.logService)}}class H_ extends M{logService;abilityService;name="Groundhog";tier=1;pack="Golden";attack=2;health=1;initAbilities(){this.addAbility(new Ou(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class Ou extends E{logService;constructor(e,t){super({name:"GroundhogAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:s}=e,r=this.owner,c=r.parent.resolveTrumpetGainTarget(r);c.player.gainTrumpets(this.level,r,s,void 0,void 0,c.random),this.triggerTigerExecution(e)}copy(e){return new Ou(e,this.logService)}}class Bu extends E{logService;constructor(e,t){super({name:"ConeSnailAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.nearestPetsBehind(1,r);if(0===c.pets.length)return;let u=c.pets[0],h=2*this.level;u.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${u.name} ${h} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new Bu(e,this.logService)}}class Zl extends E{logService;constructor(e,t){super({name:"GooseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.opponent.getFurthestUpPet(r),u=c.pet;if(null==u)return;let h=this.level;u.increaseAttack(-this.level),this.logService.createLog({message:`${r.name} removed ${h} attack from ${u.name}.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new Zl(e,this.logService)}}class ec extends E{logService;constructor(e,t){super({name:"PiedTamarinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>this.owner.parent.trumpets>=1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,null,null,!0,r);for(let u of c.pets)null!=u&&r.snipePet(u,3,c.random,n,s);c.pets.length>0&&r.parent.spendTrumpets(1,r,s),this.triggerTigerExecution(e)}copy(e){return new ec(e,this.logService)}}class $u extends E{logService;constructor(e,t){super({name:"SilkmothAbility",owner:e,triggers:["FriendAheadHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,precondition:i=>{const{triggerPet:n}=i,c=Lt(this.owner,n).pet;return!!c&&c.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=Lt(r,i),u=c.pet;if(null==u)return;let h=this.level;u.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${u.name} ${h} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new $u(e,this.logService)}}class jv extends E{logService;abilityService;constructor(e,t,i){super({name:"LemmingAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} will give +${this.level} gold next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new jv(e,this.logService,this.abilityService)}}class tc extends E{logService;abilityService;constructor(e,t,i){super({name:"MagpieAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} spent up to ${this.level} gold and will gain it back next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new tc(e,this.logService,this.abilityService)}}class Ip extends E{logService;abilityService;constructor(e,t,i){super({name:"OpossumAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} gave a random faint pet in the shop +${i}/+${i}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Ip(e,this.logService,this.abilityService)}}class Rp extends E{logService;abilityService;constructor(e,t,i){super({name:"HerculesBeetleAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=Math.max(0,t.battlesFought??0),n=i*this.level,s=t.parent.petArray.filter(u=>u.alive);if(n<=0||0===s.length)return void this.triggerTigerExecution(e);const r=Math.floor(n/s.length);let c=n%s.length;for(const u of s)r>0&&u.increaseAttack(r);if(c>0){const u=[...s].sort(()=>Math.random()-.5);for(let h=0;h<c&&h<u.length;h++)u[h].increaseAttack(1)}this.logService.createLog({message:`${t.name} gave friends +${n} attack split evenly after ${i} battle${1===i?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:s.length>1}),this.triggerTigerExecution(e)}copy(e){return new Rp(e,this.logService,this.abilityService)}}class Lp extends M{logService;abilityService;petService;name="Stoat";tier=2;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new Hu(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b)}}class Hu extends E{logService;abilityService;petService;constructor(e,t,i,n){super({name:"StoatAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const t=this.owner,{gameApi:i}=e,n=Math.max(1,i.previousShopTier??t.tier),s=this.petService.allPets.get(n)??[];if(!s.length)return void this.triggerTigerExecution(e);const r=s[Math.floor(Math.random()*s.length)],u=this.petService.createPet({name:r,attack:1,health:1,equipment:null,exp:this.minExpForLevel,mana:0},t.parent);t.parent.summonPet(u,t.savedPosition,!1,t).success&&this.logService.createLog({message:`${t.name} summoned a 1/1 level ${this.level} ${u.name}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:!0}),this.triggerTigerExecution(e)}copy(e){return new Hu(e,this.logService,this.abilityService,this.petService)}}class j_ extends E{logService;constructor(e,t){super({name:"BlackNeckedStiltAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:s}=e,r=this.owner;let c=2*this.level;const u=r.parent.resolveTrumpetGainTarget(r);u.player.gainTrumpets(c,r,s,void 0,void 0,u.random),this.triggerTigerExecution(e)}copy(e){return new j_(e,this.logService)}}class Np extends E{logService;constructor(e,t){super({name:"SquidAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>!(this.owner.parent.trumpets<1),abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=!1,u=r.parent.getPetsWithEquipmentWithSillyFallback("Inked",r),h=r.parent.opponent.getFurthestUpPets(this.level,u,r),b=h.pets;for(let D of b){if(null==D)break;c=!0,D.givePetEquipment(new vu),this.logService.createLog({message:`${r.name} gave ${D.name} Inked.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:h.random})}c&&r.parent.spendTrumpets(1,r,s),this.triggerTigerExecution(e)}copy(e){return new Np(e,this.logService)}}class Ts extends E{logService;constructor(e,t){super({name:"SeaUrchinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.opponent.getFurthestUpPet(r),u=[c.pet],h=c.random;if(null!=u[0]){for(let b=0;b<this.level-1;b++){let D;if(D=h?r.parent.opponent.getFurthestUpPet(r).pet:u[b].petBehind(),null==D)break;u.push(D)}for(let b of u)null!=b&&(b.increaseHealth(-5),this.logService.createLog({message:`${r.name} removed 5 health from ${b.name}.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:h}));this.triggerTigerExecution(e)}}copy(e){return new Ts(e,this.logService)}}class Uv extends E{logService;constructor(e,t){super({name:"DoorHeadAntAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getThis(r),u=c.pet;if(null==u)return;r.parent.pushPetToFront(u,!0),this.logService.createLog({message:`${r.name} pushed ${u.name} to the front.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random});let h=4*this.level,b=r.parent.getThis(r),D=b.pet;null!=D&&(D.increaseHealth(h),this.logService.createLog({message:`${r.name} gained ${h} health.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:b.random}),this.triggerTigerExecution(e))}copy(e){return new Uv(e,this.logService)}}class Es extends M{logService;abilityService;name="Lizard Tail";tier=1;pack="Golden";hidden=!0;attack=3;health=1;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class ju extends E{logService;abilityService;constructor(e,t,i){super({name:"LizardAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=new Es(this.logService,this.abilityService,r.parent,null,null,0,r.minExpForLevel),u=r.parent.summonPetInFront(r,c);u.success&&this.logService.createLog({message:`${r.name} spawned Lizard Tail Level ${r.level}`,type:"ability",player:r.parent,tiger:n,randomEvent:u.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new ju(e,this.logService,this.abilityService)}}class Fp extends E{logService;constructor(e,t){super({name:"SeaTurtleAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n,pteranodon:s}=e,r=this.owner,c=2*this.level,u=Wn(r,i);if(!u.pet)return;const h=u.pet;h.increaseHealth(c),Gi(this.logService,r,`${r.name} gave ${h.name} ${c} health.`,n,s,{randomEvent:u.random}),this.triggerTigerExecution(e)}copy(e){return new Fp(e,this.logService)}}class V_ extends E{logService;abilityService;constructor(e,t,i){super({name:"AfricanPenguinAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.parent.getRandomPets(3,[t]),n=i.pets;if(0===n.length)return void this.triggerTigerExecution(e);const s=this.level;for(const r of n)r.increaseAttack(s);this.logService.createLog({message:`${t.name} gave ${n.map(r=>r.name).join(", ")} +${s} attack.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new V_(e,this.logService,this.abilityService)}}class Wv extends E{logService;constructor(e,t){super({name:"MeerkatAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:s}=e,r=this.owner;let c;c=r.parent==t.player?t.playerGoldSpent:t.opponentGoldSpent;let u=Math.floor(c/4)*this.level,h=r.parent.nearestPetsBehind(1,r),b=r.parent.nearestPetsAhead(1,r);if(b.pets.length>0){let D=b.pets[0];D.increaseAttack(u),this.logService.createLog({message:`${r.name} gave ${D.name} ${u} attack.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:b.random})}if(h.pets.length>0){let D=h.pets[0];D.increaseAttack(u),this.logService.createLog({message:`${r.name} gave ${D.name} ${u} attack.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:h.random})}this.triggerTigerExecution(e)}copy(e){return new Wv(e,this.logService)}}class Vv extends E{logService;constructor(e,t){super({name:"MuskOxAbility",owner:e,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c={attack:r.level,health:2*r.level},u=r.parent.getThis(r),h=u.pet;null!=h&&(h.increaseAttack(c.attack),h.increaseHealth(c.health),this.logService.createLog({message:`${r.name} gave ${h.name} ${c.attack} attack and ${c.health} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random}),this.triggerTigerExecution(e))}copy(e){return new Vv(e,this.logService)}}class zv extends E{logService;constructor(e,t){super({name:"FleaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getPetsWithEquipmentWithSillyFallback("Weak",r),u=r.parent.opponent.getHighestHealthPets(this.level,c,r);for(let h of u.pets)this.logService.createLog({message:`${r.name} gave ${h.name} Weak.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:u.random}),h.givePetEquipment(new Ha);this.triggerTigerExecution(e)}copy(e){return new zv(e,this.logService)}}class nc extends E{logService;constructor(e,t){super({name:"RoyalFlycatcherAbility",owner:e,triggers:["EnemyFaint3"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=4*this.level,u=r.parent.opponent.getRandomPet([],null,!0,null,r),h=u.pet;null!=h&&(r.snipePet(h,c,u.random,n),this.triggerTigerExecution(e))}copy(e){return new nc(e,this.logService)}}class Bp extends E{logService;constructor(e,t){super({name:"SurgeonFishAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>!(this.owner.parent.trumpets<2),abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.nearestPetsBehind(2,r),u=c.pets;if(0==u.length)return;r.parent.spendTrumpets(2,r);let h=4*this.level;for(let b of u)b.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${b.name} ${h} health.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random});this.triggerTigerExecution(e)}copy(e){return new Bp(e,this.logService)}}class K_ extends M{logService;abilityService;name="Weasel";tier=3;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new Yv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class Yv extends E{logService;constructor(e,t){super({name:"WeaselAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;this.logService.createLog({message:`${r.name} gained ${this.level} Gold.`,type:"ability",player:r.parent,tiger:n,pteranodon:s}),this.triggerTigerExecution(e)}copy(e){return new Yv(e,this.logService)}}class Cs extends E{logService;constructor(e,t){super({name:"GuineafowlAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:s}=e,r=this.owner;let c=2*this.level;const u=r.parent.resolveTrumpetGainTarget(r);u.player.gainTrumpets(c,r,s,void 0,void 0,u.random),this.triggerTigerExecution(e)}copy(e){return new Cs(e,this.logService)}}class Xv extends E{logService;targetedPets=new Set;constructor(e,t){super({name:"Betta Fish Ability",owner:e,triggers:["FriendLostPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,precondition:i=>{const{triggerPet:n}=i,s=this.owner;if(!Ra(s,n,{excludeOwner:!0}))return!1;const c=Lt(s,n).pet;return!!c&&!this.targetedPets.has(c)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}reset(){this.maxUses=this.level,this.targetedPets.clear(),super.reset()}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;if(!i)return;const u=Lt(r,i).pet;u&&(this.targetedPets.add(u),u.givePetEquipment(new fl),this.logService.createLog({message:`${r.name} gave ${u.name} Guava.`,type:"ability",player:r.parent,tiger:n}),this.triggerTigerExecution(e))}copy(e){return new Xv(e,this.logService)}}class Ds extends E{logService;constructor(e,t){super({name:"FlyingFishAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i}=e,r=this.owner,c=2*this.level,u=Wn(r,i);u.pet&&(Nv({logService:this.logService,owner:r,context:e,target:u.pet,amount:c,extras:{randomEvent:u.random}}),this.triggerTigerExecution(e))}copy(e){return new Ds(e,this.logService)}}class Y_ extends E{logService;abilityService;constructor(e,t,i){super({name:"BaboonAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,{gameApi:i}=e,n=Math.max(1,i.previousShopTier??t.tier),s=t.parent.petArray.filter(u=>u.alive&&u.tier>=n);if(0===s.length)return void this.triggerTigerExecution(e);const r=s[Math.floor(Math.random()*s.length)],c=this.level;r.increaseAttack(c),r.increaseHealth(c),this.logService.createLog({message:`${t.name} gave ${r.name} +${c}/+${c}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:s.length>1}),this.triggerTigerExecution(e)}copy(e){return new Y_(e,this.logService,this.abilityService)}}class $p extends E{logService;abilityService;constructor(e,t,i){super({name:"OspreyAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;for(let c=0;c<r.level;c++){let u=new H_(this.logService,this.abilityService,r.parent,null,null,0,0),h=r.parent.summonPet(u,r.savedPosition,!1,r);h.success&&this.logService.createLog({message:`${r.name} summoned a 2/1 Groundhog`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:h.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new $p(e,this.logService,this.abilityService)}}class Gp extends E{logService;abilityService;constructor(e,t,i){super({name:"ManateeAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.petAhead,n=2*this.level,s=this.level;t.dealDamage(t,5),i?(i.increaseAttack(n),i.increaseHealth(s),this.logService.createLog({message:`${t.name} took 5 damage and gave ${i.name} +${n}/+${s}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon})):this.logService.createLog({message:`${t.name} took 5 damage.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Gp(e,this.logService,this.abilityService)}}class Hp extends E{logService;constructor(e,t){super({name:"CuttlefishAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.opponent.getLastPets(this.level,void 0,r),u=c.pets;if(0==u.length)return;for(let Y of u)Y.increaseHealth(-3),this.logService.createLog({message:`${r.name} reduced ${Y.name} health by 3`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random});let b=r.parent.getPetsWithEquipmentWithSillyFallback("Inked",r),D=r.parent.opponent.getLastPets(this.level,b,r),H=D.pets;if(0!=H.length){for(let Y of H)Y.givePetEquipment(new vu),this.logService.createLog({message:`${r.name} gave ${Y.name} Inked.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:D.random});this.triggerTigerExecution(e)}}copy(e){return new Hp(e,this.logService)}}class J_ extends E{logService;constructor(e,t){super({name:"EgyptianVultureAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.petArray.filter(b=>!b.isFaintPet()),u=r.parent.nearestPetsBehind(1,r,c),h=u.pets[0];null!=h&&(this.logService.createLog({message:`${r.name} activated ${h.name}'s ability.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:u.random}),h.activateAbilities(void 0,t,"Pet"),this.triggerTigerExecution(e))}reset(){super.reset(),this.maxUses=this.level}copy(e){return new J_(e,this.logService)}}class Q_ extends E{logService;abilityService;constructor(e,t,i){super({name:"SaigaAntelopeAbility",owner:e,triggers:["PostRemovalFriendFaints2"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner,c=r.parent.resolveTrumpetGainTarget(r);c.player.gainTrumpets(3*this.level,r,s,void 0,void 0,c.random),this.logService.createLog({message:`${r.name} gave ${3*this.level} trumpets after a friend died.`,type:"ability",player:r.parent,tiger:n,pteranodon:s}),this.triggerTigerExecution(e)}copy(e){return new Q_(e,this.logService,this.abilityService)}}class jp extends E{logService;abilityService;constructor(e,t,i){super({name:"SealionAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level,n=this.level,s=[];let r=t.petBehind();for(;r;)s.push(r),r=r.petBehind();const c=[];let u=t.petAhead;for(;u;)c.push(u),u=u.petAhead;for(const h of s)h.increaseAttack(i);for(const h of c)h.increaseHealth(n);(s.length>0||c.length>0)&&this.logService.createLog({message:`${t.name} gave friends behind +${i} attack and friends ahead +${n} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:s.length+c.length>1}),this.triggerTigerExecution(e)}copy(e){return new jp(e,this.logService,this.abilityService)}}class Jv extends E{logService;constructor(e,t){super({name:"VaquitaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:s}=e,r=this.owner;let c=Math.max(Math.floor(.5*this.level*r.parent.trumpets),4*this.level);const u=r.parent.resolveTrumpetGainTarget(r);u.player.gainTrumpets(c,r,s,void 0,void 0,u.random),this.triggerTigerExecution(e)}copy(e){return new Jv(e,this.logService)}}class Z_ extends M{logService;abilityService;name="Smallest Slug";tier=1;pack="Golden";hidden=!0;health=1;attack=1;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class Qv extends M{logService;abilityService;name="Smaller Slug";tier=1;pack="Golden";hidden=!0;health=2;attack=2;initAbilities(){this.addAbility(new Ms(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class Ms extends E{logService;abilityService;constructor(e,t,i){super({name:"SmallerSlugAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=new Z_(this.logService,this.abilityService,r.parent,null,null,0,r.minExpForLevel),u=r.parent.summonPet(c,r.savedPosition,!1,r);u.success&&this.logService.createLog({message:`${r.name} spawned Smallest Slug Level ${r.level}`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:u.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Ms(e,this.logService,this.abilityService)}}class Zv extends E{logService;abilityService;constructor(e,t,i){super({name:"SlugAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=new Qv(this.logService,this.abilityService,r.parent,null,null,0,r.minExpForLevel),u=r.parent.summonPet(c,r.savedPosition,!1,r);u.success&&this.logService.createLog({message:`${r.name} spawned Smaller Slug Level ${r.level}`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:u.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Zv(e,this.logService,this.abilityService)}}class eb extends E{logService;constructor(e,t){super({name:"PoisonDartFrogAbility",owner:e,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.opponent.getHighestHealthPet(void 0,r),u=c.pet;null!=u&&(r.snipePet(u,4*r.level,c.random,n),this.triggerTigerExecution(e))}copy(e){return new eb(e,this.logService)}}class ek extends M{logService;abilityService;petService;name="Falcon";tier=4;pack="Golden";attack=5;health=5;initAbilities(){this.addAbility(new tb(this,this.logService,this.petService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b)}}class tb extends E{logService;petService;abilityService;constructor(e,t,i,n){super({name:"FalconAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=t,this.petService=i,this.abilityService=n}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=3*this.level,u=this.petService.createPet({attack:c,health:c,name:i.name,exp:r.minExpForLevel,equipment:null,mana:0},r.parent),h=r.parent.summonPet(u,r.savedPosition,!1,r);h.success&&this.logService.createLog({message:`${r.name} spawned ${u.name} ${c}/${c} Level ${this.level}`,type:"ability",player:r.parent,tiger:n,randomEvent:h.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new tb(e,this.logService,this.petService,this.abilityService)}}class ib extends E{logService;abilityService;constructor(e,t,i){super({name:"MantaRayAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;let i=!1;for(let s=0;s<5;s++)if(null==t.parent.getPetAtPosition(s)){i=!0;break}i?(this.logService.createLog({message:`${t.name} will give +${2*this.level} gold next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new ib(e,this.logService,this.abilityService)}}class xs extends E{logService;abilityService;constructor(e,t,i){super({name:"CockatooAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.parent.petArray.filter(u=>u.alive&&u!==t);if(0===i.length)return void this.triggerTigerExecution(e);let n=Math.max(...i.map(u=>u.tier));const s=i.filter(u=>u.tier===n),r=s[Math.floor(Math.random()*s.length)],c=2*this.level;r.increaseAttack(c),r.increaseHealth(c),this.logService.createLog({message:`${t.name} gave ${r.name} +${c}/+${c}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:s.length>1}),this.triggerTigerExecution(e)}copy(e){return new xs(e,this.logService,this.abilityService)}}class Up extends E{logService;abilityUses=0;constructor(e,t){super({name:"SecretaryBirdAbility",owner:e,triggers:["PostRemovalFriendFaints2"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.nearestPetsAhead(1,r);if(0===c.pets.length)return;let u=c.pets[0],h=3*this.level,b=4*this.level;u.increaseAttack(h),u.increaseHealth(b),this.logService.createLog({message:`${r.name} gave ${u.name} ${h} attack and ${b} health.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random}),this.triggerTigerExecution(e),this.logService.createLog({message:`${r.name} triggered secretary bird ability at level ${this.level}.`,type:"ability",player:r.parent,tiger:n,pteranodon:s})}copy(e){return new Up(e,this.logService)}}class nb extends E{logService;abilityService;constructor(e,t,i){super({name:"MacaqueAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=12*this.level,u=new S1(this.logService,this.abilityService,r.parent,c,c,0,r.minExpForLevel,r.equipment),h=r.parent.summonPetInFront(r,u);if(h.success){let b=`${r.name} spawned Orangutan ${u.attack}/${u.health}`;null!=r.equipment&&(b+=` with ${r.equipment.name}`),b+=".",this.logService.createLog({message:b,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:h.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new nb(e,this.logService,this.abilityService)}}class rb extends E{logService;constructor(e,t){super({name:"NyalaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:s}=e,r=this.owner,c=r.parent.resolveTrumpetGainTarget(r);c.player.gainTrumpets(8*this.level,r,s,void 0,void 0,c.random),this.triggerTigerExecution(e)}copy(e){return new rb(e,this.logService)}}class ob extends E{logService;constructor(e,t){super({name:"NurseSharkAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>0!=this.owner.parent.trumpets,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=3*Math.min(r.parent.trumpets,6),u=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,[],!1,!0,r),h=u.pets;if(0!=h.length){r.parent.spendTrumpets(Math.min(r.parent.trumpets,6),r,s);for(let b of h)r.snipePet(b,c,u.random,n,s);this.triggerTigerExecution(e)}}copy(e){return new ob(e,this.logService)}}class Uu extends M{logService;abilityService;petService;name="Beluga Whale";tier=5;pack="Golden";attack=2;health=5;initAbilities(){this.addAbility(new Wp(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b,D){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b),this.belugaSwallowedPet=D??null}}class Wp extends E{logService;abilityService;petService;constructor(e,t,i,n){super({name:"BelugaWhaleAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:s=>{this.executeAbility(s)},ignoreRepeats:!0}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;if(null==r.belugaSwallowedPet||r.alive)return;let c=this.petService.createPet({attack:null,equipment:null,exp:r.minExpForLevel,health:null,name:r.belugaSwallowedPet,mana:0},r.parent),u=r.parent.summonPet(c,r.savedPosition,!1,r);u.success&&this.logService.createLog({message:`${r.name} spawned ${c.name} Level ${r.level}`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:u.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Wp(e,this.logService,this.abilityService,this.petService)}}class sb extends M{logService;abilityService;petService;name="Wolf";tier=5;pack="Golden";attack=4;health=4;constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b)}initAbilities(){this.addAbility(new lb(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class lb extends E{logService;abilityService;petService;constructor(e,t,i,n){super({name:"WolfAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c={attack:3*this.level,health:2*this.level};for(let u=0;u<3;u++){let h=this.petService.createPet({attack:c.attack,equipment:null,exp:r.minExpForLevel,health:c.health,name:"Pig",mana:0},r.parent),b=r.parent.summonPet(h,r.savedPosition,!1,r);b.success&&this.logService.createLog({message:`${r.name} spawned ${h.name} ${c.attack}/${c.health}`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:b.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new lb(e,this.logService,this.abilityService,this.petService)}}class Wu extends E{logService;constructor(e,t){super({name:"FireAntAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getHighestTierPets(this.level,null,r),u=c.pets;if(0!=u.length){for(let h of u)h.increaseAttack(r.attack),this.logService.createLog({message:`${r.name} gave ${h.name} ${r.attack} attack.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random,pteranodon:s});this.triggerTigerExecution(e)}}copy(e){return new Wu(e,this.logService)}}class Vp extends E{logService;abilityService;constructor(e,t,i){super({name:"BlueRingedOctopusAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level,n=t.parent.petArray.filter(s=>s.alive&&s!==t);if(0!==n.length){for(const s of n)s.increaseAttack(i),s.increaseHealth(i);this.logService.createLog({message:`${t.name} gave friends +${i}/+${i}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new Vp(e,this.logService,this.abilityService)}}class cb extends E{logService;constructor(e,t){super({name:"CraneAbility",owner:e,triggers:["FriendAheadHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.nearestPetsAhead(1,r);if(0==c.pets.length)return;let u=c.pets[0];u.increaseAttack(5),this.logService.createLog({message:`${r.name} gave ${u.name} 5 attack.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random});let h=r.parent.nearestPetsAhead(1,r);if(0==h.pets.length)return;let b=h.pets[0];b.givePetEquipment(new Nr),this.logService.createLog({message:`${r.name} gave ${b.name} Melon.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:h.random}),this.triggerTigerExecution(e)}reset(){super.reset(),this.maxUses=this.level}copy(e){return new cb(e,this.logService)}}class ub extends E{logService;constructor(e,t){super({name:"EmuAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.nearestPetsAhead(1,r);if(0==c.pets.length)return;let u=c.pets[0],h=4*this.level;u.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${u.name} ${h} health.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random});let b=r.parent.nearestPetsAhead(1,r);if(0===b.pets.length)return;let D=b.pets[0];r.parent.pushPetToFront(D),this.logService.createLog({message:`${r.name} pushed ${D.name} to the front.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:b.random}),this.triggerTigerExecution(e)}copy(e){return new ub(e,this.logService)}}class db extends E{logService;constructor(e,t){super({name:"WildebeestAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:i=>this.owner.parent.trumpets>=2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getThis(r),u=c.pet;null!=u&&(u.givePetEquipment(new Fa),this.logService.createLog({message:`${r.name} gave itself a Coconut.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random}),r.parent.spendTrumpets(2,r),this.triggerTigerExecution(e))}reset(){super.reset(),this.maxUses=this.level}copy(e){return new db(e,this.logService)}}class hb extends E{logService;constructor(e,t){super({name:"HighlandCowAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:s}=e,r=this.owner,c=4*this.level+Math.floor(r.health/3)*this.level,u=r.parent.resolveTrumpetGainTarget(r);u.player.gainTrumpets(c,r,s,void 0,void 0,u.random),this.triggerTigerExecution(e)}copy(e){return new hb(e,this.logService)}}class Kp extends E{logService;abilityService;constructor(e,t,i){super({name:"CatfishAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.petAhead;if(!i)return void this.triggerTigerExecution(e);const n=this.level;if(i.hasTrigger("ThisBought")){for(let r=0;r<n;r++)i.executeAbilities("ThisBought",e.gameApi,i,void 0,void 0,{trigger:"ThisBought"});this.logService.createLog({message:`${t.name} activated ${i.name}'s buy ability ${n} time${1===n?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon})}else{const r=4*this.level;i.increaseHealth(r),this.logService.createLog({message:`${t.name} gave ${i.name} +${r} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon})}this.triggerTigerExecution(e)}copy(e){return new Kp(e,this.logService,this.abilityService)}}class pb extends M{logService;abilityService;petService;name="Pteranodon";tier=6;pack="Golden";attack=3;health=5;initAbilities(){this.addAbility(new gb(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b)}}class gb extends E{logService;abilityService;petService;constructor(e,t,i,n){super({name:"PteranodonAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:s=>{const{triggerPet:r}=s;return null!=r},abilityFunction:s=>{this.executeAbility(s)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{triggerPet:i,tiger:n,pteranodon:s}=e,r=this.owner;let c=this.petService.createPet({attack:1,health:1,equipment:null,exp:i.exp,name:i.name,mana:0},r.parent),u=r.parent.summonPetBehind(r,c);u.success&&this.logService.createLog({message:`${r.name} summoned a 1/1 ${i.name} behind it.`,type:"ability",player:r.parent,randomEvent:u.randomEvent,tiger:n,pteranodon:s}),this.triggerTigerExecution(e)}reset(){super.reset(),this.maxUses=this.level}copy(e){return new gb(e,this.logService,this.abilityService,this.petService)}}class mb extends E{logService;constructor(e,t){super({name:"WarthogAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=this.level,u=Math.floor(r.attack/3);for(let h=0;h<u;h++){let b=r.parent.getRandomPet([],!0,!1,!0,r);if(null==b.pet)break;b.pet.increaseAttack(c),b.pet.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${b.pet.name} ${c} attack and ${c} health.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:b.random})}this.triggerTigerExecution(e)}copy(e){return new mb(e,this.logService)}}class Vu extends E{logService;constructor(e,t){super({name:"CobraAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.opponent.getRandomPet([],!1,!0,!1,r);if(null==c.pet)return;let u=Math.floor(.2*r.attack*r.level);r.snipePet(c.pet,u,c.random,n),this.triggerTigerExecution(e)}copy(e){return new Vu(e,this.logService)}}class zp extends E{logService;constructor(e,t){super({name:"GrizzlyBearAbility",owner:e,triggers:["FriendlyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getRandomEnemyPetsWithSillyFallback(2,[],!0,!1,r),u=c.pets,h=6*this.level;for(let b of u)r.snipePet(b,h,c.random,n);this.triggerTigerExecution(e)}copy(e){return new zp(e,this.logService)}}class Yp extends E{logService;constructor(e,t){super({name:"GermanShepherdAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:n}=e,s=this.owner,c=Math.floor(s.attack*(.25*this.level)),u=Wn(s,t);if(!u.pet)return;const h=u.pet;h.increaseAttack(c),Gi(this.logService,s,`${s.name} gave ${h.name} ${c} attack.`,i,n,{randomEvent:u.random}),this.triggerTigerExecution(e)}copy(e){return new Yp(e,this.logService)}}class yb extends E{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=3;constructor(e,t,i){super({name:"BirdOfParadiseAbility",owner:e,triggers:["SpendGold7","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const t=this.owner,i=t.parent.getRandomPets(3,[t]),n=i.pets;if(0===n.length)return void this.triggerTigerExecution(e);const s=this.level;for(const r of n)r.increaseAttack(s),r.increaseHealth(s);this.usesThisTurn++,this.logService.createLog({message:`${t.name} gave ${n.map(r=>r.name).join(", ")} +${s}/+${s}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new yb(e,this.logService,this.abilityService)}}class vb extends E{logService;abilityService;constructor(e,t,i){super({name:"OysterAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gained ${3*this.level} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new vb(e,this.logService,this.abilityService)}}const sk={Bulldog:class G1 extends M{logService;abilityService;name="Bulldog";tier=1;pack="Golden";attack=1;health=4;initAbilities(){this.addAbility(new Bv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Groundhog:H_,"Cone Snail":class $v extends M{logService;abilityService;name="Cone Snail";tier=1;pack="Golden";attack=1;health=2;initAbilities(){this.addAbility(new Bu(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Goose:class Mp extends M{logService;abilityService;name="Goose";tier=1;pack="Golden";attack=2;health=2;initAbilities(){this.addAbility(new Zl(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Lemming:class Hv extends M{logService;abilityService;name="Lemming";tier=1;pack="Golden";attack=3;health=2;initAbilities(){this.addAbility(new jv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Pied Tamarin":class Gv extends M{logService;abilityService;name="Pied Tamarin";tier=1;pack="Golden";attack=2;health=2;initAbilities(){this.addAbility(new ec(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Opossum:class Gu extends M{logService;abilityService;name="Opossum";tier=1;pack="Golden";attack=2;health=3;initAbilities(){this.addAbility(new Ip(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Silkmoth:class xp extends M{logService;abilityService;name="Silkmoth";tier=1;pack="Golden";attack=3;health=1;initAbilities(){this.addAbility(new $u(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Magpie:class hL extends M{logService;abilityService;name="Magpie";tier=1;pack="Golden";attack=1;health=4;initAbilities(){this.addAbility(new tc(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Hercules Beetle":class qv extends M{logService;abilityService;name="Hercules Beetle";tier=2;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new Rp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Stoat:Lp,"Black Necked Stilt":class H1 extends M{logService;abilityService;name="Black Necked Stilt";tier=2;pack="Golden";attack=3;health=2;initAbilities(){this.addAbility(new j_(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Squid:class q_ extends M{logService;abilityService;name="Squid";tier=2;pack="Golden";attack=5;health=2;initAbilities(){this.addAbility(new Np(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Sea Urchin":class U_ extends M{logService;abilityService;name="Sea Urchin";tier=2;pack="Golden";attack=3;health=2;initAbilities(){this.addAbility(new Ts(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Door Head Ant":class j1 extends M{logService;abilityService;name="Door Head Ant";tier=2;pack="Golden";attack=2;health=2;initAbilities(){this.addAbility(new Uv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Lizard:class pL extends M{logService;abilityService;name="Lizard";tier=2;pack="Golden";attack=1;health=3;initAbilities(){this.addAbility(new ju(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Sea Turtle":class gL extends M{logService;abilityService;name="Sea Turtle";tier=2;pack="Golden";attack=1;health=4;initAbilities(){this.addAbility(new Fp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"African Penguin":class W_ extends M{logService;abilityService;name="African Penguin";tier=2;pack="Golden";attack=1;health=3;initAbilities(){this.addAbility(new V_(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Musk Ox":class q1 extends M{logService;abilityService;name="Musk Ox";tier=3;pack="Golden";attack=2;health=4;initAbilities(){this.addAbility(new Vv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Flea:class Kv extends M{logService;abilityService;name="Flea";tier=3;pack="Golden";attack=3;health=2;initAbilities(){this.addAbility(new zv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Royal Flycatcher":class Op extends M{logService;abilityService;name="Royal Flycatcher";tier=3;pack="Golden";attack=2;health=4;initAbilities(){this.addAbility(new nc(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Surgeon Fish":class hr extends M{logService;abilityService;name="Surgeon Fish";tier=3;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new Bp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Weasel:K_,Guineafowl:class qu extends M{logService;abilityService;name="Guineafowl";tier=3;pack="Golden";attack=2;health=3;initAbilities(){this.addAbility(new Cs(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Betta Fish":class U1 extends M{logService;abilityService;name="Betta Fish";tier=3;pack="Golden";attack=2;health=3;initAbilities(){this.addAbility(new Xv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Meerkat:class ic extends M{logService;abilityService;name="Meerkat";tier=2;pack="Golden";attack=1;health=2;initAbilities(){this.addAbility(new Wv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Flying Fish":class z_ extends M{logService;abilityService;name="Flying Fish";tier=3;pack="Golden";attack=5;health=2;initAbilities(){this.addAbility(new Ds(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Baboon:class W1 extends M{logService;abilityService;name="Baboon";tier=3;pack="Golden";attack=2;health=3;initAbilities(){this.addAbility(new Y_(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Osprey:class V1 extends M{logService;abilityService;name="Osprey";tier=3;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new $p(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Manatee:class X_ extends M{logService;abilityService;name="Manatee";tier=4;pack="Golden";attack=2;health=11;initAbilities(){this.addAbility(new Gp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Cuttlefish:class K1 extends M{logService;abilityService;name="Cuttlefish";tier=4;pack="Golden";attack=8;health=4;initAbilities(){this.addAbility(new Hp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Egyptian Vulture":class z1 extends M{logService;abilityService;name="Egyptian Vulture";tier=5;pack="Golden";attack=7;health=4;initAbilities(){this.addAbility(new J_(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Saiga Antelope":class mL extends M{logService;abilityService;name="Saiga Antelope";tier=4;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new Q_(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Sealion:class fL extends M{logService;abilityService;name="Sealion";tier=4;pack="Golden";attack=2;health=4;initAbilities(){this.addAbility(new jp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Vaquita:class qp extends M{logService;abilityService;name="Vaquita";tier=4;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new Jv(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Slug:class Y1 extends M{logService;abilityService;name="Slug";tier=4;pack="Golden";attack=4;health=4;initAbilities(){this.addAbility(new Zv(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Poison Dart Frog":class X1 extends M{logService;abilityService;name="Poison Dart Frog";tier=4;pack="Golden";attack=5;health=2;initAbilities(){this.addAbility(new eb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Secretary Bird":class Q1 extends M{logService;abilityService;name="Secretary Bird";tier=4;pack="Golden";attack=3;health=5;initAbilities(){this.addAbility(new Up(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Manta Ray":class tk extends M{logService;abilityService;name="Manta Ray";tier=4;pack="Golden";attack=5;health=7;initAbilities(){this.addAbility(new ib(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Macaque:class ik extends M{logService;abilityService;name="Macaque";tier=5;pack="Golden";attack=2;health=2;initAbilities(){this.addAbility(new nb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Nyala:class nk extends M{logService;abilityService;name="Nyala";tier=5;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new rb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Nurse Shark":class ab extends M{logService;abilityService;name="Nurse Shark";tier=5;pack="Golden";attack=5;health=7;initAbilities(){this.addAbility(new ob(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Fire Ant":class Z1 extends M{logService;abilityService;name="Fire Ant";tier=5;pack="Golden";attack=8;health=3;initAbilities(){this.addAbility(new Wu(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Cockatoo:class J1 extends M{logService;abilityService;name="Cockatoo";tier=4;pack="Golden";attack=4;health=2;initAbilities(){this.addAbility(new xs(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Blue Ringed Octopus":class e0 extends M{logService;abilityService;name="Blue Ringed Octopus";tier=5;pack="Golden";attack=2;health=4;initAbilities(){this.addAbility(new Vp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Crane:class t0 extends M{logService;abilityService;name="Crane";tier=5;pack="Golden";attack=6;health=5;initAbilities(){this.addAbility(new cb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Emu:class n0 extends M{logService;abilityService;name="Emu";tier=5;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new ub(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Wildebeest:class r0 extends M{logService;abilityService;name="Wildebeest";tier=6;pack="Golden";attack=8;health=6;initAbilities(){this.addAbility(new db(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Highland Cow":class a0 extends M{logService;abilityService;name="Highland Cow";tier=6;pack="Golden";attack=4;health=6;initAbilities(){this.addAbility(new hb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Catfish:class rk extends M{logService;abilityService;name="Catfish";tier=6;pack="Golden";attack=4;health=6;initAbilities(){this.addAbility(new Kp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Warthog:class ak extends M{logService;abilityService;name="Warthog";tier=6;pack="Golden";attack=9;health=6;initAbilities(){this.addAbility(new mb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Cobra:class o0 extends M{logService;abilityService;name="Cobra";tier=6;pack="Golden";attack=12;health=6;initAbilities(){this.addAbility(new Vu(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Grizzly Bear":class ok extends M{logService;abilityService;name="Grizzly Bear";tier=6;pack="Golden";attack=6;health=8;initAbilities(){this.addAbility(new zp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"German Shepherd":class fb extends M{logService;abilityService;name="German Shepherd";tier=6;pack="Golden";attack=10;health=6;initAbilities(){this.addAbility(new Yp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Bird of Paradise":class s0 extends M{logService;abilityService;name="Bird of Paradise";tier=6;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new yb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Oyster:class l0 extends M{logService;abilityService;name="Oyster";tier=6;pack="Golden";attack=2;health=10;initAbilities(){this.addAbility(new vb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Beluga Whale":Uu,Falcon:ek,Pteranodon:pb,Wolf:sb};class Xp extends E{logService;abilityService;constructor(e,t,i){super({name:"BakuAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;if((e.gameApi?.turnNumber??0)%2!=0)return void this.triggerTigerExecution(e);const n=t.parent.petArray.filter(u=>u.alive&&u.equipment?.equipmentClass?.startsWith("ailment"));if(0===n.length)return void this.triggerTigerExecution(e);const s=[],r=[...n];for(;s.length<2&&r.length>0;){const u=Math.floor(Math.random()*r.length);s.push(r[u]),r.splice(u,1)}const c=this.level;for(const u of s)u.removePerk(),u.increaseHealth(c);this.logService.createLog({message:`${t.name} replaced ailments with +${c} health on ${s.map(u=>u.name).join(", ")}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.length>s.length}),this.triggerTigerExecution(e)}copy(e){return new Xp(e,this.logService,this.abilityService)}}class Jp extends E{logService;abilityService;constructor(e,t,i){super({name:"QuestionMarksAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.petAhead;if(!i)return void this.triggerTigerExecution(e);const n=this.level;if(i.increaseAttack(n),wl(i,"Spooked")){const s=new So;s.power=-1,s.originalPower=-1,i.givePetEquipment(s)}this.logService.createLog({message:`${t.name} gave ${i.name} +${n} attack and Spooked until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Jp(e,this.logService,this.abilityService)}}class Ab extends E{logService;constructor(e,t){super({name:"BarghestAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let h=[...r.parent.getPetsWithEquipmentWithSillyFallback("perk",r),...r.parent.getPetsWithEquipmentWithSillyFallback("Spooked",r)],D=r.parent.opponent.getLastPets(this.level,h,r).pets;if(0!=D.length){for(let H of D)this.logService.createLog({message:`${r.name} gave ${H.name} Spooked`,type:"ability",player:r.parent,tiger:n}),H.givePetEquipment(new So);this.triggerTigerExecution(e)}}copy(e){return new Ab(e,this.logService)}}class rc extends E{logService;constructor(e,t){super({name:"TsuchinokoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let u=r.parent.getThis(r).pet;if(null==u)return;r.parent.pushPetToFront(u,!0),this.logService.createLog({message:`${r.name} pushed ${u.name} to the front and gained ${this.level} experience.`,type:"ability",player:r.parent,tiger:n});let b=r.parent.getThis(r).pet;null!=b&&(b.increaseExp(this.level),this.logService.createLog({message:`${r.name} gave ${b.name} +${this.level} experience.`,type:"ability",player:r.parent,tiger:n}),this.triggerTigerExecution(e))}copy(e){return new rc(e,this.logService)}}class Sb extends E{logService;constructor(e,t){super({name:"MurmelAbility",owner:e,triggers:["FriendGainedExp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=this.level,h=r.parent.getThis(r).pet;null!=h&&(this.logService.createLog({message:`${r.name} gave ${h.name} ${c} attack.`,type:"ability",player:r.parent,tiger:n}),h.increaseAttack(c),this.triggerTigerExecution(e))}copy(e){return new Sb(e,this.logService)}}class Ku extends E{logService;constructor(e,t){super({name:"AlchemedesAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.nearestPetsAhead(1,r);if(0===c.pets.length)return;let u=c.pets[0];this.logService.createLog({message:`${r.name} gave ${u.name} ${this.level} mana.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),u.increaseMana(this.level),this.triggerTigerExecution(e)}copy(e){return new Ku(e,this.logService)}}class zu extends E{logService;constructor(e,t){super({name:"PengobbleAbility",owner:e,triggers:["ThisGainedMana"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner,c=2*this.level;let u=r.parent.getThis(r),h=u.pet;null!=h&&(this.logService.createLog({message:`${r.name} gave ${h.name} an extra ${c} bonus mana.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random}),r.mana+=c,this.triggerTigerExecution(e))}copy(e){return new zu(e,this.logService)}}class Yu extends E{logService;constructor(e,t){super({name:"BunyipAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n}=e,r=this.owner;let u;u=r.parent==t.player?t.playerRollAmount:t.opponentRollAmount,u=Math.min(2,u)*this.level;let b=r.parent.getThis(r).pet;null!=b&&(b.increaseHealth(u),this.logService.createLog({message:`${r.name} gave ${b.name} ${u} health.`,type:"ability",player:r.parent,tiger:n}),this.triggerTigerExecution(e))}copy(e){return new Yu(e,this.logService)}}class dk extends M{logService;abilityService;name="CrackedEgg";tier=1;pack="Unicorn";hidden=!0;attack=4;health=2;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class Qp extends E{logService;abilityService;constructor(e,t,i){super({name:"SneakyEggAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c={attack:4*this.level,health:2*this.level};r.health=0,r.parent.handleDeath(r),r.parent.removeDeadPets();let u=new dk(this.logService,this.abilityService,r.parent,c.health,c.attack,0),h=r.parent.summonPet(u,r.savedPosition,!1,r);h.success&&this.logService.createLog({message:`${r.name} spawned a ${c.attack}/${c.health} Cracked Egg`,type:"ability",player:r.parent,tiger:n,randomEvent:h.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Qp(e,this.logService,this.abilityService)}}class Yi extends E{logService;abilityService;constructor(e,t,i){super({name:"CuddleToadAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked a witch toy that breaks after ${2*this.level} turns.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Yi(e,this.logService,this.abilityService)}}class Zp extends E{logService;constructor(e,t){super({name:"FrostWolfAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getPetsWithEquipmentWithSillyFallback("Cold",r),u=r.parent.opponent.getFurthestUpPet(r,c),h=u.pet;if(null==h)return;const b=new jh;b.multiplier+=this.level-1;let D=".";2===this.level?D=" twice for double effect.":3===this.level&&(D=" thrice for triple effect."),this.logService.createLog({message:`${r.name} made ${h.name} Cold ${D}`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:u.random}),h.givePetEquipment(b),this.triggerTigerExecution(e)}copy(e){return new Zp(e,this.logService)}}class eg extends E{logService;constructor(e,t){super({name:"MothmanAbility",owner:e,triggers:["AnyoneGainedAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:5,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner,c=this.level;let h=r.parent.getThis(r).pet;null!=h&&(this.logService.createLog({message:`${r.name} gave ${h.name} +${c} attack and +${c} health.`,type:"ability",player:r.parent,tiger:n}),h.increaseAttack(c),h.increaseHealth(c),this.triggerTigerExecution(e))}copy(e){return new eg(e,this.logService)}}class Eo extends E{logService;constructor(e,t){super({name:"DropBearAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;this.logService.createLog({message:`${r.name} pushed itself to the front.`,type:"ability",player:r.parent,tiger:n,pteranodon:s}),r.parent.pushPetToFront(r,!0);let c=3*this.level,u=r.parent.opponent.getLastPet();null!=u.pet&&(r.snipePet(u.pet,c,u.random,n),this.triggerTigerExecution(e))}copy(e){return new Eo(e,this.logService)}}class Pb extends E{logService;constructor(e,t){super({name:"JackalopeAbility",owner:e,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,precondition:i=>{const{triggerPet:n}=i,c=Lt(this.owner,n).pet;return!!c&&c.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i}=e,r=this.owner;let u=Lt(r,i).pet;if(null==u)return;let h=this.level;r.jumped&&(h*=2),u.increaseAttack(h),this.logService.createLog({message:`${r.name} gave ${u.name} +${h} attack.`,type:"ability",player:this.owner.parent}),this.triggerTigerExecution(e)}copy(e){return new Pb(e,this.logService)}}class _b extends E{logService;constructor(e,t){super({name:"OgopogoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner,c=r.parent.getFurthestUpPets(this.level,[r],r),u=c.pets;if(0!==u.length){for(const h of u)this.logService.createLog({message:`${r.name} gave ${h.name} +1 experience.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),h.increaseExp(1);this.triggerTigerExecution(e)}}copy(e){return new _b(e,this.logService)}}class yk extends E{logService;constructor(e,t){super({name:"ThunderbirdAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.nearestPetsAhead(2,r);if(c.pets.length<1)return;let h=c.pets[1]??c.pets[0];if(null==h)return;let b=3*this.level;this.logService.createLog({message:`${r.name} gave ${h.name} ${b} mana.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),h.increaseMana(b),this.triggerTigerExecution(e)}copy(e){return new yk(e,this.logService)}}class Xu extends E{logService;constructor(e,t){super({name:"GargoyleAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.mana*this.level;c+=2*this.level;let u=r.parent.nearestPetsBehind(1,r);if(0===u.pets.length)return;let h=u.pets[0];this.logService.createLog({message:`${r.name} spent ${r.mana} mana and gave ${c} health to ${h.name}.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:u.random}),h.increaseHealth(c),r.mana=0,this.triggerTigerExecution(e)}copy(e){return new Xu(e,this.logService)}}class wb extends E{logService;abilityService;constructor(e,t,i){super({name:"BigfootAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} will gain ${i} free ${1===i?"roll":"rolls"} next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new wb(e,this.logService,this.abilityService)}}class Tb extends E{logService;abilityService;constructor(e,t,i){super({name:"WyvernAbility",owner:e,triggers:["FriendlyLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} will grant ${i} extra shop reward${1===i?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Tb(e,this.logService,this.abilityService)}}class tg extends E{logService;constructor(e,t){super({name:"LuckyCatAbility",owner:e,triggers:["ThisLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=2;3==r.level&&(c=4);let h=r.parent.getThis(r).pet;null!=h&&(this.logService.createLog({message:`${r.name} gave ${h.name} ${c} attack and ${c} health.`,type:"ability",player:r.parent,tiger:n}),h.increaseAttack(c),h.increaseHealth(c),this.triggerTigerExecution(e))}copy(e){return new tg(e,this.logService)}}class ig extends E{logService;constructor(e,t){super({name:"SkeletonDogAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getRandomPets(this.level,[r],!0,!1,r);for(let u of c.pets)null!=u&&(this.logService.createLog({message:`${r.name} gave 1 attack and 1 health to ${u.name}.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),u.increaseAttack(1),u.increaseHealth(1));this.triggerTigerExecution(e)}copy(e){return new ig(e,this.logService)}}class Eb extends E{logService;constructor(e,t){super({name:"MandrakeAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getPetsWithEquipmentWithSillyFallback("Dazed",r),h=this.getTargetPrioritizingFaintPets(c,r).pet;null!=h&&(this.logService.createLog({message:`${r.name} made ${h.name} Dazed.`,type:"ability",player:r.parent,tiger:n,randomEvent:!0}),h.givePetEquipment(new Kd),this.triggerTigerExecution(e))}getTargetPrioritizingFaintPets(e,t){const i=2*this.level,n=t.parent.opponent.petArray.filter(s=>s.alive&&s.tier<=i&&!e.includes(s)&&s.isFaintPet());return n.length>0?{pet:n[Ot(0,n.length-1)],random:n.length>1}:t.parent.opponent.getTierXOrLowerPet(i,e,t)}copy(e){return new Eb(e,this.logService)}}class Cb extends E{logService;constructor(e,t){super({name:"FurBearingTroutAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=[],u=r;for(;c.length<this.level;){let h=u.petBehind();if(null==h)break;h.equipment instanceof Hh||c.push(h),u=h}if(0!==c.length){for(let h of c)this.logService.createLog({message:`${r.name} gave ${h.name} a Rambutan.`,type:"ability",player:r.parent,tiger:n}),h.givePetEquipment(new Hh(this.logService));this.triggerTigerExecution(e)}}copy(e){return new Cb(e,this.logService)}}class Rs extends E{logService;constructor(e,t){super({name:"ManaHoundAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n}=e,r=this.owner;let u;if(u=r.parent==t.player?t.playerRollAmount:t.opponentRollAmount,u=Math.max(0,Math.min(u??0,3)),0===u)return;let h=r.parent.nearestPetsAhead(1,r);if(0===h.pets.length)return;let b=h.pets[0],D=u*this.level*2;this.logService.createLog({message:`${r.name} gave ${b.name} ${D} mana.`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random}),b.increaseMana(D),this.triggerTigerExecution(e)}copy(e){return new Rs(e,this.logService)}}class ng extends E{logService;constructor(e,t){super({name:"CalygreyhoundAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;if(0==r.mana)return;let c=r.parent.opponent.getHighestHealthPets(2,void 0,r),u=this.level*r.mana;for(let h of c.pets)h.health=Math.max(1,h.health-u),this.logService.createLog({message:`${r.name} reduced ${h.name}'s health by ${u} (${h.health}).`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random});r.mana=0,this.triggerTigerExecution(e)}copy(e){return new ng(e,this.logService)}}class Mb extends E{logService;constructor(e,t){super({name:"BrainCrampAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=2*this.level,h=r.parent.getThis(r).pet;if(null==h)return;this.logService.createLog({message:`${r.name} pushed ${h.name} to the front.`,type:"ability",player:r.parent,tiger:n,pteranodon:s}),r.parent.pushPetToFront(h,!0);let D=r.parent.getThis(r).pet;if(null==D)return;this.logService.createLog({message:`${r.name} gave ${D.name} Melon.`,type:"ability",player:r.parent,tiger:n,pteranodon:s}),D.givePetEquipment(new Nr);let Y=r.parent.getThis(r).pet;null!=Y&&(this.logService.createLog({message:`${r.name} gave ${Y.name} ${c} attack.`,type:"ability",player:r.parent,tiger:n,pteranodon:s}),Y.increaseAttack(c),this.triggerTigerExecution(e))}copy(e){return new Mb(e,this.logService)}}class rg extends E{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=5;constructor(e,t,i){super({name:"OuroborosAbility",owner:e,triggers:["Roll","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const t=this.owner,i=this.level;this.usesThisTurn++,this.logService.createLog({message:`${t.name} gave newly rolled shop pets +${i}/+${i} until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new rg(e,this.logService,this.abilityService)}}class xb extends E{logService;abilityService;constructor(e,t,i){super({name:"GriffinAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} chose a level ${this.level} toy from Griffin's collection.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new xb(e,this.logService,this.abilityService)}}class og extends E{logService;constructor(e,t){super({name:"TatzelwurmAbility",owner:e,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=2*this.level;i&&3==i.level&&(c*=2);let u=r.parent.opponent.getFurthestUpPet(r);null!=u.pet&&(r.snipePet(u.pet,c,u.random,n),this.triggerTigerExecution(e))}copy(e){return new og(e,this.logService)}}class Ib extends E{logService;constructor(e,t){super({name:"MinotaurAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;if(!i)return;let c=this.level*i.level,u=r.parent.getThis(r),h=u.pet;null!=h&&(this.logService.createLog({message:`${r.name} gave ${h.name} ${c} attack and ${c} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random}),h.increaseAttack(c),h.increaseHealth(c),this.triggerTigerExecution(e))}copy(e){return new Ib(e,this.logService)}}class sg extends E{logService;constructor(e,t){super({name:"KrakenAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getAll(!0,r,!0),u=c.pets;if(0!=u.length){for(let h of u){let b=1==this.level?.15:2==this.level?.3:.45,D=Math.max(1,Math.floor(h.health*(1-b)));h.health=D,this.logService.createLog({message:`${r.name} reduced ${h.name} health by ${(100*b).toFixed(0)}% (${D})`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random})}this.triggerTigerExecution(e)}}copy(e){return new sg(e,this.logService)}}class lg extends E{logService;constructor(e,t){super({name:"VisitorAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let u=r.parent.getPetsWithinXSpaces(r,this.level).pets.filter(h=>"Icky"!==h.equipment?.name);if(0!=u.length){for(let h of u)h.givePetEquipment(new Xt),this.logService.createLog({message:`${r.name} made ${h.name} Icky.`,type:"ability",player:r.parent,tiger:n,pteranodon:s});this.triggerTigerExecution(e)}}copy(e){return new lg(e,this.logService)}}class cg extends E{logService;constructor(e,t){super({name:"TigerBugAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let u=r.parent.getThis(r).pet;if(null==u)return;this.logService.createLog({message:`${r.name} pushed ${u.name} to the front.`,type:"ability",player:r.parent,tiger:n,pteranodon:s}),r.parent.pushPetToFront(u,!0);let h=r.parent.opponent.getFurthestUpPets(2,[],r),b=h.pets;if(0==b.length)return;let D=3*this.level;for(let H of b)null!=H&&r.snipePet(H,D,h.random,n);this.triggerTigerExecution(e)}copy(e){return new cg(e,this.logService)}}class ug extends E{logService;constructor(e,t){super({name:"CyclopsAbility",owner:e,triggers:["FriendLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,precondition:i=>{const{triggerPet:n}=i,c=Lt(this.owner,n).pet;return!!c&&c.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=2*this.level,u=Lt(r,i),h=u.pet;if(null!=h){if(this.logService.createLog({message:`${r.name} gave ${h.name} ${c} mana.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random}),h.increaseMana(c),this.currentUses<this.level){let b=Lt(r,i),D=b.pet;if(null==D)return;this.logService.createLog({message:`${r.name} gave ${D.name} 1 exp.`,type:"ability",player:r.parent,tiger:n,randomEvent:b.random}),D.increaseExp(1)}this.triggerTigerExecution(e)}}copy(e){return new ug(e,this.logService)}}class Rb extends M{logService;abilityService;name="Chimera Goat";tier=1;pack="Custom";hidden=!0;attack=1;health=1;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class Lb extends M{logService;abilityService;name="Chimera Lion";tier=1;pack="Custom";hidden=!0;attack=1;health=1;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class dg extends M{logService;abilityService;name="Chimera Snake";tier=1;pack="Custom";hidden=!0;attack=1;health=1;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class Ju extends E{logService;abilityService;constructor(e,t,i){super({name:"ChimeraAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner,c=r.mana,u=c/2,h=Math.floor(3+1*u),b=Math.floor(3+2*u);c>0&&this.logService.createLog({message:`${r.name} spent ${c} mana.`,type:"ability",player:r.parent,tiger:n,pteranodon:s});let D=new Lb(this.logService,this.abilityService,r.parent,b,h),H=r.parent.summonPet(D,r.savedPosition,!1,r);if(H.success&&this.logService.createLog({message:`${r.name} spawned a ${D.name} ${h}/${b}.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:H.randomEvent}),this.level>=2){let Y=new Rb(this.logService,this.abilityService,r.parent,b,h),ue=r.parent.summonPet(Y,r.savedPosition,!1,r);ue.success&&this.logService.createLog({message:`${r.name} spawned a ${Y.name} ${h}/${b}.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:ue.randomEvent})}if(this.level>=3){let Y=new dg(this.logService,this.abilityService,r.parent,b,h),ue=r.parent.summonPet(Y,r.savedPosition,!1,r);ue.success&&this.logService.createLog({message:`${r.name} spawned a ${Y.name} ${h}/${b}.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:ue.randomEvent})}r.mana=0,this.triggerTigerExecution(e)}copy(e){return new Ju(e,this.logService,this.abilityService)}}class Qu extends E{logService;constructor(e,t){super({name:"RocAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let u=r.parent.nearestPetsAhead(5,r).pets;if(0==u.length)return;let h=r.parent.petArray.filter(b=>b==r||!u.includes(b));for(let b=0;b<3*this.level;b++){let D=r.parent.getRandomPet(h,!0,!1,!1,r);if(null==D.pet)break;this.logService.createLog({message:`${r.name} gave ${D.pet.name} 2 mana.`,type:"ability",player:r.parent,tiger:n,randomEvent:D.random}),D.pet.increaseMana(2)}this.triggerTigerExecution(e)}copy(e){return new Qu(e,this.logService)}}class pg extends E{logService;abilityService;constructor(e,t,i){super({name:"WormOfSandAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,n=Math.min(Math.max((t.parent===e.gameApi.player?e.gameApi.playerRollAmount:e.gameApi.opponentRollAmount)??0,0),8),s=Math.floor(n/4);if(s<=0)return void this.triggerTigerExecution(e);const r=this.level*s,c=ts(t);for(const u of c)u.increaseAttack(r),u.increaseHealth(r);c.length>0&&this.logService.createLog({message:`${t.name} gave adjacent friends +${r}/+${r}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:c.length>1}),this.triggerTigerExecution(e)}copy(e){return new pg(e,this.logService,this.abilityService)}}const gg=[1,2,3];class Zu extends M{logService;abilityService;petService;name="Abomination";tier=4;pack="Unicorn";attack=6;health=5;initAbilities(){this.addAbility(new mg(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b,D,H,Y,ue,he,ye,_e,qe,Ve){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b),this.abominationSwallowedPet1=D,this.abominationSwallowedPet2=H,this.abominationSwallowedPet3=Y,this.abominationSwallowedPet1Level=ue??1,this.abominationSwallowedPet2Level=he??1,this.abominationSwallowedPet3Level=ye??1,this.abominationSwallowedPet1TimesHurt=_e??0,this.abominationSwallowedPet2TimesHurt=qe??0,this.abominationSwallowedPet3TimesHurt=Ve??0}}class mg extends E{logService;petService;constructor(e,t,i){super({name:"AbominationAbility",owner:e,triggers:["EndTurn","SpecialEndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const{gameApi:t,triggerPet:i,tiger:n,pteranodon:s}=e,r=this.owner,c=this.level,u=(ye,_e)=>r[ye]??_e,h=ye=>{const _e={};for(const qe of gg){const Ve=`parrotCopyPetAbominationSwallowedPet${qe}`;_e[Ve]=u(`${ye}ParrotCopyPetAbominationSwallowedPet${qe}`,null),_e[`${Ve}BelugaSwallowedPet`]=u(`${ye}ParrotCopyPetAbominationSwallowedPet${qe}BelugaSwallowedPet`,null),_e[`${Ve}Level`]=u(`${ye}ParrotCopyPetAbominationSwallowedPet${qe}Level`,1),_e[`${Ve}TimesHurt`]=u(`${ye}ParrotCopyPetAbominationSwallowedPet${qe}TimesHurt`,0)}return _e},b=ye=>{const _e={};for(const qe of gg){const Ve=`parrotCopyPetAbominationSwallowedPet${qe}`;_e[Ve]=ye[Ve]??void 0,_e[`${Ve}BelugaSwallowedPet`]=ye[`${Ve}BelugaSwallowedPet`]??void 0,_e[`${Ve}Level`]=ye[`${Ve}Level`]??void 0,_e[`${Ve}TimesHurt`]=ye[`${Ve}TimesHurt`]??void 0}return _e},D=ye=>{const _e=`abominationSwallowedPet${ye}`;return{name:u(_e,null),level:u(`${_e}Level`,1),timesHurt:u(`${_e}TimesHurt`,0),belugaSwallowedPet:u(`${_e}BelugaSwallowedPet`,null),parrotCopyPet:u(`${_e}ParrotCopyPet`,null),parrotCopyPetBelugaSwallowedPet:u(`${_e}ParrotCopyPetBelugaSwallowedPet`,null),...h(_e)}},H=ye=>{r.parrotCopyPet=ye.parrotCopyPet??null,r.parrotCopyPetBelugaSwallowedPet=ye.parrotCopyPetBelugaSwallowedPet??null;for(const _e of gg){const qe=`parrotCopyPetAbominationSwallowedPet${_e}`;r[qe]=ye[qe]??null,r[`${qe}BelugaSwallowedPet`]=ye[`${qe}BelugaSwallowedPet`]??null,r[`${qe}Level`]=ye[`${qe}Level`]??1,r[`${qe}TimesHurt`]=ye[`${qe}TimesHurt`]??0}},ue=[D(1),D(2),D(3)].filter(ye=>null!=ye.name).slice(0,c);let he=ue;n&&ue.length>0&&(he=ue.slice(0,1));for(let ye of he){if(!ye.name)continue;const _e=ye.name,qe="Parrot"===_e?b(ye):{};let Ve=this.petService.createPet({attack:0,health:0,mana:0,equipment:null,name:_e,exp:0,timesHurt:ye.timesHurt??0,belugaSwallowedPet:"Beluga Whale"===_e?ye.belugaSwallowedPet??void 0:void 0,parrotCopyPet:"Parrot"===_e?ye.parrotCopyPet??void 0:void 0,parrotCopyPetBelugaSwallowedPet:"Parrot"===_e?ye.parrotCopyPetBelugaSwallowedPet??void 0:void 0,...qe},r.parent);if(!Ve)continue;"Beluga Whale"===_e&&(r.belugaSwallowedPet=ye.belugaSwallowedPet??null),"Parrot"===_e&&H(ye),r.removeAbility("AbominationAbility");const je=r.abilityList.length;if(r.gainAbilities(Ve,"Pet",ye.level??1),r.initAbilityUses(),"Parrot"===_e){const Ie=r.abilityList.slice(je).filter(Ze=>"ParrotAbility"===Ze.name);for(const Ze of Ie)Ze.execute(t,i,n,s)}}this.triggerTigerExecution(e)}copy(e){return new mg(e,this.logService,this.petService)}}class ed extends E{logService;constructor(e,t){super({name:"UnicornAbility",owner:e,triggers:["FriendGainsAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,precondition:i=>{const{triggerPet:n}=i,c=Lt(this.owner,n).pet;return!!c&&c.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i}=e,r=this.owner;let c=2*this.level;if(!i)return;this.logService.createLog({message:`${r.name} removed ailment from ${i.name}.`,type:"ability",player:r.parent}),i.removePerk();let u=Lt(r,i),h=u.pet;null!=h&&(this.logService.createLog({message:`${r.name} gave ${h.name} ${c} attack and ${c} health.`,type:"ability",player:r.parent,randomEvent:u.random}),h.increaseAttack(c),h.increaseHealth(c),this.triggerTigerExecution(e))}copy(e){return new ed(e,this.logService)}}class td extends E{logService;constructor(e,t){super({name:"VampireBatAbility",owner:e,triggers:["EnemyGainedAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,precondition:i=>{const{triggerPet:n}=i,c=yo(this.owner,n).pet;return!!c&&c.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=4*this.level,h=yo(r,i).pet;if(null==h)return;let b=h.health,D=r.snipePet(h,c,!1,n),H=Math.min(D,b),Y=r.parent.getThis(r),ue=Y.pet;null!=ue&&(this.logService.createLog({message:`${r.name} gave ${ue.name} ${H} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:Y.random}),ue.increaseHealth(H),this.triggerTigerExecution(e))}copy(e){return new td(e,this.logService)}}class fg extends E{logService;constructor(e,t){super({name:"RedDragonAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getPetsWithEquipmentWithSillyFallback("Crisp",r),u=r.parent.opponent.getLastPets(this.level,c,r),h=u.pets;if(0!=h.length){for(let b of h)this.logService.createLog({message:`${r.name} gave ${b.name} Crisp.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random}),b.givePetEquipment(new ml);this.triggerTigerExecution(e)}}copy(e){return new fg(e,this.logService)}}class Nb extends E{logService;constructor(e,t){super({name:"LovelandFrogmanAbility",owner:e,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,precondition:i=>{const{triggerPet:n}=i,c=Lt(this.owner,n).pet;return!!c&&c.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i}=e,r=this.owner;let c={attack:1*r.level,health:2*r.level},u=Lt(r,i),h=u.pet;null!=h&&(this.logService.createLog({message:`${r.name} gave ${h.name} ${c.attack} attack and ${c.health} health.`,type:"ability",player:r.parent,randomEvent:u.random}),h.increaseAttack(c.attack),h.increaseHealth(c.health),this.triggerTigerExecution(e))}copy(e){return new Nb(e,this.logService)}}class Fb extends E{logService;pendingBuffs=new Map;constructor(e,t){super({name:"JerseyDevilAbility",owner:e,triggers:["FriendSummoned","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,triggerPet:i,tiger:n,pteranodon:s}=e,r=this.owner;if("EndTurn"===e.trigger)return this.resetBuffs(),void this.triggerTigerExecution(e);if(!i)return;let u=r.parent===t.player?t.playerLevel3Sold:t.opponentLevel3Sold;u=Math.min(u??0,5);const h=this.level*u,b=Wn(r,i,(Y,ue)=>Y.parent.getSpecificPet(Y,ue));if(!b.pet||h<=0)return;const D=b.pet;D.increaseAttack(h),D.increaseHealth(h);const H=this.pendingBuffs.get(D)??{attack:0,health:0};this.pendingBuffs.set(D,{attack:H.attack+h,health:H.health+h}),Gi(this.logService,r,`${r.name} gave ${D.name} ${h} attack and ${h} health until next turn.`,n,s,{randomEvent:b.random}),this.triggerTigerExecution(e)}resetBuffs(){for(const[e,t]of this.pendingBuffs)e&&(t.attack&&e.increaseAttack(-t.attack),t.health&&e.increaseHealth(-t.health));this.pendingBuffs.clear()}copy(e){return new Fb(e,this.logService)}}class Ob extends E{logService;constructor(e,t){super({name:"PixiuAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;r.mana<4||(this.logService.createLog({message:`${r.name} spent 4 mana and gained ${3*this.level} gold for next turn.`,type:"ability",player:r.parent,tiger:n}),r.mana-=4,this.triggerTigerExecution(e))}copy(e){return new Ob(e,this.logService)}}class Bb extends E{logService;constructor(e,t){super({name:"KitsuneAbility",owner:e,triggers:["FriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner,c=Bt(r);if(!c&&null==r.petAhead)return;let u=0;for(let D of r.parent.petArray)D.mana>0&&(u+=D.mana,D.mana=0,this.logService.createLog({message:`${r.name} took ${u} mana from ${D.name}.`,type:"ability",player:r.parent,tiger:n}));let h=c?r.parent.getRandomPets(1,[r],!1,!1,r):r.parent.nearestPetsAhead(1,r);if(0===h.pets.length)return;let b=h.pets[0];this.logService.createLog({message:`${r.name} gave ${b.name} +${u+2*r.level} mana.`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random}),b.increaseMana(u+2*r.level),this.triggerTigerExecution(e)}copy(e){return new Bb(e,this.logService)}}class xk extends M{logService;abilityService;name="Nessie?";tier=1;pack="Unicorn";hidden=!0;health=2;attack=1;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class $b extends E{logService;abilityService;constructor(e,t,i){super({name:"NessieAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:s}=e,r=this.owner;let h=3*this.level,b=3*this.level,D="";if(!r.parent.summonedBoatThisBattle){const he=(r.parent===t.player?t.playerRollAmount:t.opponentRollAmount)*this.level;h+=he,b+=he,r.parent.summonedBoatThisBattle=!0,D=` It's the first Boat, so it gains +${he}/+${he}!`}h=Math.min(50,h),b=Math.min(50,b);let H=new xk(this.logService,this.abilityService,r.parent,b,h,0),Y=r.parent.summonPet(H,r.savedPosition,!1,r);Y.success&&this.logService.createLog({message:`${r.name} spawned a Nessie? ${h}/${b}${D}`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:Y.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new $b(e,this.logService,this.abilityService)}}class Gb extends E{logService;abilityService;constructor(e,t,i){super({name:"BadDogAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} chose a level ${this.level} toy that brings doom and chaos!`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Gb(e,this.logService,this.abilityService)}}class yg extends E{logService;constructor(e,t){super({name:"WerewolfAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n}=e,r=this.owner;if(t.day){const c=6*this.level;let h=r.parent.getThis(r).pet;if(null==h)return;h.increaseMana(c),this.logService.createLog({message:`${r.name} gave ${h.name} ${c} mana.`,type:"ability",player:r.parent,tiger:n})}else{let u=r.parent.getThis(r).pet;if(null==u)return;let h=.5*this.level;const b=Math.floor(r.attack*h),D=Math.floor(r.health*h);let H=Math.min(50,r.attack+b),Y=Math.min(50,r.health+D);this.logService.createLog({message:`${r.name} increased ${u.name}'s stats by ${100*h}% (${H}/${Y}).`,type:"ability",player:r.parent,tiger:n}),u.increaseAttack(r.attack*h),u.increaseHealth(r.health*h)}this.triggerTigerExecution(e)}copy(e){return new yg(e,this.logService)}}class vg extends E{logService;constructor(e,t){super({name:"AmalgamationAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n,pteranodon:s}=e,r=this.owner;if(!i)return;const c=Wn(r,i,(D,H)=>D.parent.getSpecificPet(D,H));if(!c.pet)return;const u=c.pet,h=3*this.level,b=4*this.level;Gi(this.logService,r,`${r.name} gave ${u.name} +${h} attack, +${b} mana, and Spooked.`,n,s,{randomEvent:c.random}),u.increaseAttack(h),u.increaseMana(b),u.givePetEquipment(new So),this.triggerTigerExecution(e)}copy(e){return new vg(e,this.logService)}}class qb extends E{logService;abilityService;constructor(e,t,i){super({name:"ManticoreAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){}copy(e){return new qb(e,this.logService,this.abilityService)}}class Rk extends M{logService;abilityService;name="Young Phoenix";tier=1;pack="Unicorn";hidden=!0;health=6;attack=6;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class Wb extends E{logService;abilityService;constructor(e,t,i){super({name:"PhoenixAfterFaintAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=4*this.level,u=new Rk(this.logService,this.abilityService,r.parent,c,c,0),h=r.parent.summonPet(u,r.savedPosition,!1,r);h.success&&this.logService.createLog({message:`${r.name} spawned a Young Phoenix (${c}/${c}).`,type:"ability",player:r.parent,tiger:n,pteranodon:s,sourcePet:r,randomEvent:h.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Wb(e,this.logService,this.abilityService)}}class Lk extends E{logService;constructor(e,t){super({name:"PhoenixFaintAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=3*this.level,h=[...r.parent.petArray,...r.parent.opponent.petArray].filter(H=>H.equipment instanceof ml),b=r.parent.getRandomPets(c,h,!0,!0,r,!0),D=b.pets;if(D.length>0)for(let H of D)this.logService.createLog({message:`${r.name} gave ${H.name} Crisp.`,type:"ability",randomEvent:b.random,tiger:n,player:r.parent}),H.givePetEquipment(new ml);this.triggerTigerExecution(e)}copy(e){return new Lk(e,this.logService)}}class Vb extends E{logService;abilityService;constructor(e,t,i){super({name:"QuetzalcoatlAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.parent.petArray.filter(s=>s.alive&&s!==t&&s.tier<=3);if(0===i.length)return void this.triggerTigerExecution(e);const n=this.level;for(let s=0;s<n;s++){const r=i[Math.floor(Math.random()*i.length)];r.increaseExp(2),this.logService.createLog({message:`${t.name} gave ${r.name} +2 experience.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.length>1})}this.triggerTigerExecution(e)}copy(e){return new Vb(e,this.logService,this.abilityService)}}class Kb extends E{logService;constructor(e,t){super({name:"TeamSpiritAbility",owner:e,triggers:["FriendLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getAll(!1,r,!0),u=c.pets,h={attack:r.level,health:r.level};for(let b of u)this.logService.createLog({message:`${r.name} gave ${b.name} ${h.attack} attack and ${h.health} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),b.increaseAttack(h.attack),b.increaseHealth(h.health);this.triggerTigerExecution(e)}copy(e){return new Kb(e,this.logService)}}class Ag extends E{logService;constructor(e,t){super({name:"SleipnirAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=Math.floor(r.attack/2),u=r.parent.getFurthestUpPets(this.level,[r],r),h=u.pets;if(0!=h.length){for(let b of h)null!=b&&(this.logService.createLog({message:`${r.name} gave ${b.name} ${c} mana.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random}),b.increaseMana(c));this.triggerTigerExecution(e)}}copy(e){return new Ag(e,this.logService)}}class Sg extends E{logService;constructor(e,t){super({name:"SeaSerpentAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner,u=e.seaSerpentMana??r.mana;if(0==u)return;null==e.seaSerpentMana&&(e.seaSerpentMana=u,r.mana=0);let h=u;this.logService.createLog({message:`${r.name} spent ${u} mana.`,type:"ability",player:r.parent,tiger:n,pteranodon:s});let D=r.parent.opponent.getHighestHealthPet(void 0,r);null!=D.pet&&r.snipePet(D.pet,h,D.random,n,s);let H=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,[D.pet],null,!0,r);for(let Y of H.pets)null!=Y&&r.snipePet(Y,h,H.random,n,s);this.triggerTigerExecution(e)}copy(e){return new Sg(e,this.logService)}}class zb extends E{logService;abilityService;constructor(e,t,i){super({name:"YetiAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} rolled ${4*this.level} times while freezing pet copies and tier 6 food.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new zb(e,this.logService,this.abilityService)}}class Yb extends M{logService;abilityService;name="Fire Pup";tier=1;pack="Unicorn";hidden=!0;health=8;attack=8;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class Xb extends E{logService;abilityService;constructor(e,t,i){super({name:"CerberusAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:n=>null==this.owner.parent.pet0,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let u=new Yb(this.logService,this.abilityService,r.parent,8,8,null,5),h=r.parent.summonPet(u,0,!1,r);h.success&&this.logService.createLog({message:`${r.name} spawned Fire Pup (8/8).`,type:"ability",player:r.parent,tiger:n,sourcePet:r,randomEvent:h.randomEvent}),this.triggerTigerExecution(e)}reset(){this.maxUses=this.level,super.reset()}copy(e){return new Xb(e,this.logService,this.abilityService)}}class Bk extends M{logService;abilityService;name="Head";tier=1;pack="Unicorn";hidden=!0;health=5;attack=5;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class Jb extends E{logService;abilityService;constructor(e,t,i){super({name:"HydraAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=Math.floor(r.attack/10);for(let u=0;u<c;u++){let h=5*this.level,b=new Bk(this.logService,this.abilityService,r.parent,h,h),D=r.parent.summonPet(b,r.savedPosition,!1,r);D.success&&this.logService.createLog({message:`${r.name} spawned Head (${b.attack}/${b.health}).`,type:"ability",player:r.parent,tiger:n,pteranodon:s,sourcePet:r,randomEvent:D.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new Jb(e,this.logService,this.abilityService)}}class Pg extends E{logService;abilityService;constructor(e,t,i){super({name:"BehemothAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){}copy(e){return new Pg(e,this.logService,this.abilityService)}}const $k={Baku:class bb extends M{logService;abilityService;name="Baku";tier=1;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new Xp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Barghest:class ck extends M{logService;abilityService;name="Barghest";tier=1;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new Ab(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Tsuchinoko:class uk extends M{logService;abilityService;name="Tsuchinoko";tier=1;pack="Unicorn";attack=2;health=1;initAbilities(){this.addAbility(new rc(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Murmel:class Is extends M{logService;abilityService;name="Murmel";tier=1;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new Sb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Alchemedes:class c0 extends M{logService;abilityService;name="Alchemedes";tier=1;pack="Unicorn";attack=3;health=2;initAbilities(){this.addAbility(new Ku(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Pengobble:class ac extends M{logService;abilityService;name="Pengobble";tier=1;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new zu(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Bunyip:class u0 extends M{logService;abilityService;name="Bunyip";tier=1;pack="Unicorn";attack=3;health=1;initAbilities(){this.addAbility(new Yu(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Sneaky Egg":class d0 extends M{logService;abilityService;name="Sneaky Egg";tier=1;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new Qp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Cuddle Toad":class h0 extends M{logService;abilityService;name="Cuddle Toad";tier=1;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new Yi(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"???":class lk extends M{logService;abilityService;name="???";tier=1;pack="Unicorn";attack=3;health=2;initAbilities(){this.addAbility(new Jp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Ghost Kitten":class hk extends M{logService;abilityService;name="Ghost Kitten";tier=2;pack="Unicorn";attack=4;health=3;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Frost Wolf":class p0 extends M{logService;abilityService;name="Frost Wolf";tier=2;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new Zp(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Mothman:class g0 extends M{logService;abilityService;name="Mothman";tier=2;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new eg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Drop Bear":class gk extends M{logService;abilityService;name="Drop Bear";tier=2;pack="Unicorn";attack=2;health=2;initAbilities(){this.addAbility(new Eo(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Jackalope:class m0 extends M{logService;abilityService;name="Jackalope";tier=2;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new Pb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Ogopogo:class mk extends M{logService;abilityService;name="Ogopogo";tier=2;pack="Unicorn";attack=3;health=1;initAbilities(){this.addAbility(new _b(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Thunderbird:class fk extends M{logService;abilityService;name="Thunderbird";tier=2;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new yk(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Gargoyle:class kb extends M{logService;abilityService;name="Gargoyle";tier=2;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new Xu(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Bigfoot:class f0 extends M{logService;abilityService;name="Bigfoot";tier=2;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new wb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Lucky Cat":class bk extends M{logService;abilityService;name="Lucky Cat";tier=3;pack="Unicorn";attack=1;health=2;initAbilities(){this.addAbility(new tg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Skeleton Dog":class Ak extends M{logService;abilityService;name="Skeleton Dog";tier=3;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new ig(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Mandrake:class y0 extends M{logService;abilityService;name="Mandrake";tier=3;pack="Unicorn";attack=4;health=3;initAbilities(){this.addAbility(new Eb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Fur-Bearing Trout":class v0 extends M{logService;abilityService;name="Fur-Bearing Trout";tier=3;pack="Unicorn";attack=3;health=5;initAbilities(){this.addAbility(new Cb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Mana Hound":class Db extends M{logService;abilityService;name="Mana Hound";tier=3;pack="Unicorn";attack=4;health=3;initAbilities(){this.addAbility(new Rs(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Calygreyhound:class b0 extends M{logService;abilityService;name="Calygreyhound";tier=3;pack="Unicorn";attack=4;health=4;initAbilities(){this.addAbility(new ng(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Brain Cramp":class A0 extends M{logService;abilityService;name="Brain Cramp";tier=3;pack="Unicorn";attack=1;health=2;initAbilities(){this.addAbility(new Mb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Minotaur:class _k extends M{logService;abilityService;name="Minotaur";tier=4;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new Ib(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Wyvern:class vk extends M{logService;abilityService;name="Wyvern";tier=3;pack="Unicorn";attack=3;health=4;initAbilities(){this.addAbility(new Tb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Ouroboros:class Sk extends M{logService;abilityService;name="Ouroboros";tier=3;pack="Unicorn";attack=2;health=4;initAbilities(){this.addAbility(new rg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Griffin:class ag extends M{logService;abilityService;name="Griffin";tier=3;pack="Unicorn";attack=5;health=4;initAbilities(){this.addAbility(new xb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Kraken:class yL extends M{logService;abilityService;name="Kraken";tier=4;pack="Unicorn";attack=5;health=7;initAbilities(){this.addAbility(new sg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Visitor:class kk extends M{logService;abilityService;name="Visitor";tier=4;pack="Unicorn";attack=7;health=5;initAbilities(){this.addAbility(new lg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Vampire Bat":class Dk extends M{logService;abilityService;name="Vampire Bat";tier=5;pack="Unicorn";attack=2;health=5;initAbilities(){this.addAbility(new td(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Tiger Bug":class wk extends M{logService;abilityService;name="Tiger Bug";tier=4;pack="Unicorn";attack=4;health=4;initAbilities(){this.addAbility(new cg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Tatzelwurm:class Pk extends M{logService;abilityService;name="Tatzelwurm";tier=4;pack="Unicorn";attack=1;health=3;initAbilities(){this.addAbility(new og(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Cyclops:class Tk extends M{logService;abilityService;name="Cyclops";tier=4;pack="Unicorn";attack=2;health=5;initAbilities(){this.addAbility(new ug(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Chimera:class hg extends M{logService;abilityService;name="Chimera";tier=4;pack="Unicorn";attack=2;health=6;initAbilities(){this.addAbility(new Ju(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h),this.suppressManaSnipeOnFaint=!0}},Roc:class Ek extends M{logService;abilityService;name="Roc";tier=4;pack="Unicorn";attack=4;health=4;initAbilities(){this.addAbility(new Qu(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Worm of Sand":class Ck extends M{logService;abilityService;name="Worm of Sand";tier=4;pack="Unicorn";attack=4;health=1;initAbilities(){this.addAbility(new pg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Red Dragon":class Mk extends M{logService;abilityService;name="Red Dragon";tier=5;pack="Unicorn";attack=4;health=8;initAbilities(){this.addAbility(new fg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Unicorn:class Wa extends M{logService;abilityService;name="Unicorn";tier=4;pack="Unicorn";attack=2;health=4;initAbilities(){this.addAbility(new ed(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Loveland Frogman":class S0 extends M{logService;abilityService;name="Loveland Frogman";tier=5;pack="Unicorn";attack=1;health=5;initAbilities(){this.addAbility(new Nb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Salmon of Knowledge":by,"Jersey Devil":class P0 extends M{logService;abilityService;name="Jersey Devil";tier=5;pack="Unicorn";attack=3;health=2;initAbilities(){this.addAbility(new Fb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Pixiu:class _0 extends M{logService;abilityService;name="Pixiu";tier=5;pack="Unicorn";attack=5;health=6;initAbilities(){this.addAbility(new Ob(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Kitsune:class k0 extends M{logService;abilityService;name="Kitsune";tier=5;pack="Unicorn";attack=2;health=7;initAbilities(){this.addAbility(new Bb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Nessie:class w0 extends M{logService;abilityService;name="Nessie";tier=5;pack="Unicorn";attack=3;health=5;initAbilities(){this.addAbility(new $b(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Bad Dog":class T0 extends M{logService;abilityService;name="Bad Dog";tier=5;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new Gb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Werewolf:class Ik extends M{logService;abilityService;name="Werewolf";tier=5;pack="Unicorn";attack=7;health=7;initAbilities(){this.addAbility(new yg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Amalgamation:class Hb extends M{logService;abilityService;name="Amalgamation";tier=5;pack="Unicorn";attack=4;health=5;initAbilities(){this.addAbility(new vg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Manticore:class jb extends M{logService;abilityService;name="Manticore";tier=6;pack="Unicorn";attack=7;health=4;initAbilities(){this.addAbility(new qb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Phoenix:class Ub extends M{logService;abilityService;name="Phoenix";tier=6;pack="Unicorn";attack=8;health=8;initAbilities(){this.addAbility(new Lk(this,this.logService)),this.addAbility(new Wb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Quetzalcoatl:class Nk extends M{logService;abilityService;name="Quetzalcoatl";tier=6;pack="Unicorn";attack=4;health=8;initAbilities(){this.addAbility(new Vb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Team Spirit":class E0 extends M{logService;abilityService;name="Team Spirit";tier=6;pack="Unicorn";attack=4;health=5;initAbilities(){this.addAbility(new Kb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Sleipnir:class bg extends M{logService;abilityService;name="Sleipnir";tier=6;pack="Unicorn";attack=8;health=5;initAbilities(){this.addAbility(new Ag(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Sea Serpent":class Fk extends M{logService;abilityService;name="Sea Serpent";tier=6;pack="Unicorn";attack=6;health=6;initAbilities(){this.addAbility(new Sg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Yeti:class C0 extends M{logService;abilityService;name="Yeti";tier=6;pack="Unicorn";attack=5;health=9;initAbilities(){this.addAbility(new zb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Cerberus:class Ok extends M{logService;abilityService;name="Cerberus";tier=6;pack="Unicorn";attack=9;health=9;initAbilities(){this.addAbility(new Xb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Hydra:class D0 extends M{logService;abilityService;name="Hydra";tier=6;pack="Unicorn";attack=10;health=6;initAbilities(){this.addAbility(new Jb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Behemoth:class id extends M{logService;abilityService;name="Behemoth";tier=6;pack="Unicorn";attack=12;health=12;initAbilities(){this.addAbility(new Pg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Abomination:Zu};class _g extends M{logService;abilityService;petService;name="Iriomote Cat";tier=1;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new kg(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b)}}class kg extends E{logService;petService;constructor(e,t,i){super({name:"IriomoteCatAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const r=this.owner,c=gs.iriomoteCat[this.level]??this.petService.allPets.get(this.level)??[];if(0===c.length)return;let h=c[Ot(0,c.length-1)],b=this.petService.createPet({name:h,attack:r.attack,health:r.health,exp:0,equipment:r.equipment,mana:r.mana},r.parent);this.logService.createLog({message:`${r.name} transformed into a ${h} (Level ${b.level}).`,type:"ability",player:r.parent,randomEvent:!0}),r.parent.transformPet(r,b),this.triggerTigerExecution(e)}copy(e){return new kg(e,this.logService,this.petService)}}class Qb extends E{logService;constructor(e,t){super({name:"IliPikaAbility",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,precondition:i=>{const{triggerPet:n}=i,c=Lt(this.owner,n).pet;return!!c&&c.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=Lt(r,i),u=c.pet;if(!u)return;let h=1*this.level;u.attack>u.health?(u.increaseAttack(h),this.logService.createLog({message:`${r.name} give ${h} attack to ${u.name}.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random})):(u.increaseHealth(h),this.logService.createLog({message:`${r.name} give ${h} health to ${u.name}.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random})),this.triggerTigerExecution(e)}copy(e){return new Qb(e,this.logService)}}class Hk extends E{logService;constructor(e,t){super({name:"MalayTapirAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getThis(r),u=c.pet;if(!u)return;let h=1*this.level;u.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${u.name} ${h} health`,type:"ability",player:r.parent,sourcePet:r,targetPet:u,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new Hk(e,this.logService)}}class Zb extends E{logService;abilityService;constructor(e,t,i){super({name:"BombusDahlbomiiAbility",owner:e,triggers:["EnemyAttacked2"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;this.abilityService.setCounterEvent({callback:()=>{let c=r.parent.opponent.getFurthestUpPet(r),u=c.pet;u&&r.snipePet(u,1*this.level,c.random,n)},priority:r.attack,pet:r}),this.triggerTigerExecution(e)}copy(e){return new Zb(e,this.logService,this.abilityService)}}class jk extends M{logService;abilityService;name="Ethiopian Wolf";tier=1;pack="Danger";attack=2;health=3;initAbilities(){this.addAbility(new eA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class eA extends E{logService;constructor(e,t){super({name:"EthiopianWolfAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.opponent.getFurthestUpPets(this.level,void 0,r);for(const u of c.pets)u?.alive&&(u.increaseAttack(-1),this.logService.createLog({message:`${r.name} removed 1 attack from ${u.name}.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random}));this.triggerTigerExecution(e)}copy(e){return new eA(e,this.logService)}}class tA extends E{constructor(e){super({name:"FanMusselAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:t=>{this.executeAbility(t)}})}executeAbility(e){}copy(e){return new tA(e)}}class wg extends E{logService;constructor(e,t){super({name:"TogianBabirusaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.opponent.getRandomPet([],!1,!1,!1,r);c.pet&&(c.pet.increaseHealth(1),this.logService.createLog({message:`${r.name} gave ${c.pet.name} +1 health.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random})),this.triggerTigerExecution(e)}copy(e){return new wg(e,this.logService)}}class iA extends E{logService;constructor(e,t){super({name:"VolcanoSnailAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let h=[...r.parent.getPetsWithEquipmentWithSillyFallback("perk",r),...r.parent.getPetsWithEquipmentWithSillyFallback("Toasty",r)],b=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,h,null,null,r);if(0!==b.pets.length){for(let D of b.pets){let H=new Sr;D.givePetEquipment(H),this.logService.createLog({message:`${r.name} made ${D.name} Toasty`,type:"ability",player:r.parent,sourcePet:r,targetPet:D,tiger:n,randomEvent:b.random})}this.triggerTigerExecution(e)}}copy(e){return new iA(e,this.logService)}}class oc extends E{logService;constructor(e,t){super({name:"AfricanWildDogAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let u,c=r.parent.opponent.getFurthestUpPet(r);if(null!=c.pet){if(u=c.random?c.pet:c.pet?.petBehind(),u){let h=3*this.level;r.jumpAttackPrep(u),r.jumpAttack(u,n,h,c.random)}this.triggerTigerExecution(e)}}copy(e){return new oc(e,this.logService)}}class nA extends E{logService;constructor(e,t){super({name:"AraripeManakinAbility",owner:e,triggers:["FriendTransformed","FriendJumped"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getThis(r),u=c.pet;if(!u)return;let h=3*this.level;u.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${u.name} ${h} health`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new nA(e,this.logService)}}class rA extends E{logService;constructor(e,t){super({name:"EuropeanMinkAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:5,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=this.level,u=r.parent.nearestPetsAhead(1,r);if(u.pets.length>0){let b=u.pets[0];b.increaseAttack(c),this.logService.createLog({message:`${r.name} gave ${b.name} ${c} attack.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random})}let h=r.parent.nearestPetsBehind(1,r);if(h.pets.length>0){let b=h.pets[0];b.increaseAttack(c),this.logService.createLog({message:`${r.name} gave ${b.name} ${c} attack.`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random})}this.triggerTigerExecution(e)}copy(e){return new rA(e,this.logService)}}class Ls extends M{logService;abilityService;name="Angry Pygmy Hog";tier=2;pack="Custom";attack=5;health=5;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class aA extends E{logService;abilityService;constructor(e,t,i){super({name:"PygmyHogAbility",owner:e,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c={health:Math.max(5*this.level,r.health),attack:Math.max(5*this.level,r.attack)},u=new Ls(this.logService,this.abilityService,r.parent,c.health,c.attack,r.mana,r.exp,new If);this.logService.createLog({message:`${r.name} transformed into ${u.name} (${c.attack}/${c.health}) with Garlic!`,type:"ability",player:r.parent,tiger:n}),r.parent.transformPet(r,u),this.triggerTigerExecution(e)}copy(e){return new aA(e,this.logService,this.abilityService)}}class rd extends E{logService;constructor(e,t){super({name:"SakerFalconAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;if(r.parent.petArray.length<r.parent.opponent.petArray.length){let h=r.parent.getThis(r),b=h.pet;if(!b)return;let D=2*this.level;b.increaseAttack(D),b.increaseHealth(D),this.logService.createLog({message:`${r.name} gave ${b.name} ${D} attack and ${D} health (outnumbered)`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random})}this.triggerTigerExecution(e)}copy(e){return new rd(e,this.logService)}}class Tg extends E{logService;abilityService;constructor(e,t,i){super({name:"TaitaShrewAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getThis(r),u=c.pet;if(!u)return;let h=new K_(this.logService,this.abilityService,r.parent,u.health,u.attack,u.mana,u.exp,u.equipment);this.logService.createLog({message:`${r.name} transformed ${u.name} into ${h.name} (level ${this.level}).`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),r.parent.transformPet(u,h),this.triggerTigerExecution(e)}copy(e){return new Tg(e,this.logService,this.abilityService)}}class oA extends E{logService;constructor(e,t){super({name:"WhiteBelliedHeronAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.nearestPetsAhead(1,r);if(0==c.pets.length)return;let u=c.pets[0],h=new Rf;h.multiplier+=this.level-1,u.givePetEquipment(h);let b=".";2===this.level?b=" twice for double effect.":3===this.level&&(b=" thrice for triple effect."),this.logService.createLog({message:`${r.name} made ${u.name} Meat Bone${b}`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new oA(e,this.logService)}}class ad extends E{logService;constructor(e,t){super({name:"DarwinsFoxAbility",owner:e,triggers:["EnemyHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;if(i&&i.alive){let c=r.parent.getSpecificPet(r,i),u=c.pet;if(!u)return;r.jumpAttackPrep(u),r.jumpAttack(u,n,void 0,c.random)}else{let c=r.parent.opponent.getFurthestUpPet(r),u=c.pet;if(!u)return;r.jumpAttackPrep(u),r.jumpAttack(u,n,void 0,c.random)}this.triggerTigerExecution(e)}reset(){this.maxUses=this.level,super.reset()}copy(e){return new ad(e,this.logService)}}class Eg extends M{logService;abilityService;petService;name="Takhi";tier=2;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new sA(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b)}}class sA extends E{logService;abilityService;petService;constructor(e,t,i,n){super({name:"TakhiAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:s}=e,r=this.owner;let h=this.petService.createPet({name:"African Wild Dog",attack:3*this.level,health:2*this.level,exp:0,mana:0,equipment:null},r.parent);if(h){let b=r.parent.summonPet(h,r.savedPosition,!1,r);b.success&&(this.logService.createLog({message:`${r.name} summoned a ${h.attack}/${h.health} ${h.name}`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:b.randomEvent}),h.activateAbilities("StartBattle",t,"Pet"))}this.triggerTigerExecution(e)}copy(e){return new sA(e,this.logService,this.abilityService,this.petService)}}class od extends E{logService;constructor(e,t){super({name:"BlueThroatedMacawAbility",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,precondition:i=>{const{triggerPet:n}=i,c=Lt(this.owner,n).pet;return!!c&&c.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;if(i){if(i.position<r.position){let c=Lt(r,i),u=c.pet;if(!u)return;let h=3*this.level;u.increaseAttack(h),this.logService.createLog({message:`${r.name} gave ${u.name} +${h} attack.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random})}else{let c=Lt(r,i),u=c.pet;if(!u)return;let h=3*this.level;u.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${u.name} +${h} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random})}this.triggerTigerExecution(e)}}copy(e){return new od(e,this.logService)}}class Dg extends E{logService;abilityService;constructor(e,t,i){super({name:"HirolaAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;for(let c=0;c<this.level;c++){let u=new jk(this.logService,this.abilityService,r.parent,3,4,r.mana,r.exp),h=r.parent.summonPet(u,r.savedPosition,!1,r);h.success&&this.logService.createLog({message:`${r.name} summoned a 4/3 ${u.name}.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:h.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new Dg(e,this.logService,this.abilityService)}}class Mg extends E{logService;constructor(e,t){super({name:"MonkeyFacedBatAbility",owner:e,triggers:["AnyoneBehindHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getRandomPets(2,[],!0,!1,r);for(let u of c.pets)if(null!=u){let h={attack:this.level,health:2*this.level};u.increaseAttack(h.attack),u.increaseHealth(h.health),this.logService.createLog({message:`${r.name} gave ${u.name} ${h.attack} attack and ${h.health} health`,type:"ability",player:r.parent,randomEvent:c.random,tiger:n})}this.triggerTigerExecution(e)}copy(e){return new Mg(e,this.logService)}}class xg extends E{logService;abilityService;constructor(e,t,i){super({name:"PygmyHippoAbility",owner:e,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=Math.floor(.33*r.health),u=r.parent.opponent.getLowestHealthPets(this.level,void 0,r);for(let h of u.pets)r.snipePet(h,c,u.random,n);this.triggerTigerExecution(e)}copy(e){return new xg(e,this.logService,this.abilityService)}}class Vk extends E{logService;constructor(e,t){super({name:"TakinAbility",owner:e,triggers:["FriendAheadHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=this.level,u=2*this.level,h=r.parent.getThis(r),b=h.pet;b.increaseAttack(c),b.increaseHealth(u),this.logService.createLog({message:`${r.name} gave ${b.name} ${c} attack and ${u} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random}),this.triggerTigerExecution(e)}copy(e){return new Vk(e,this.logService)}}class cA extends E{logService;constructor(e,t){super({name:"TucuxiAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getLastPet([r],r),u=c.pet;if(!u)return;r.parent.pushPetToFront(u,!1),this.logService.createLog({message:`${r.name} pushed ${u.name} to the front`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random});let h=3*this.level;u.increaseAttack(h),u.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${u.name} +${h} attack and +${h} health`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new cA(e,this.logService)}}class uA extends M{logService;abilityService;petService;name="Roloway Monkey";tier=3;pack="Danger";attack=2;health=5;initAbilities(){this.addAbility(new Ig(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b)}}class Ig extends E{logService;petService;constructor(e,t,i){super({name:"RolowayMonkeyAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.nearestPetsAhead(2,r);if(0===c.pets.length)return;const u=gs.rolowayMonkey;for(let h of c.pets){let b=Math.floor(Math.random()*u.length),H=this.petService.createPet({name:u[b],health:h.health,attack:h.attack,mana:h.mana,exp:r.exp,equipment:h.equipment},r.parent);r.parent.transformPet(h,H),this.logService.createLog({message:`${r.name} transformed ${h.name} into a ${H.attack}/${H.health} ${H.name}.`,type:"ability",player:r.parent,tiger:n,randomEvent:!0})}this.triggerTigerExecution(e)}copy(e){return new Ig(e,this.logService,this.petService)}}class Rg extends E{logService;constructor(e,t){super({name:"AmamiRabbitAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=1*this.level,u=r.parent.opponent.getHighestAttackPet(void 0,r);if(u.pet&&u.pet.alive)if(r.jumpAttackPrep(u.pet),r.transformed&&r.transformedInto){let h=r.parent.getThis(r.transformedInto);h.pet&&(r.transformedInto.increaseAttack(c),this.logService.createLog({message:`${r.name} gave ${r.transformedInto.name} ${c} attack`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random}))}else{let h=r.parent.getThis(r);h.pet&&(h.pet.increaseAttack(c),this.logService.createLog({message:`${r.name} gave ${h.pet.name} ${c} attack`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random}))}r.jumpAttack(u.pet,n,void 0,u.random),this.triggerTigerExecution(e)}copy(e){return new Rg(e,this.logService)}}class dA extends E{logService;constructor(e,t){super({name:"TreeKangarooAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:s}=e,r=this.owner;let b=[...r.parent.getPetsWithEquipmentWithSillyFallback("perk",r),...r.parent.opponent.petArray.filter(Y=>"Tree Kangaroo"==Y.name),...r.parent.petArray.filter(Y=>"Tree Kangaroo"==Y.name)],D=r.parent.opponent.getLastPet(b,r),H=D.pet;H&&(H.givePetEquipment(new LP),this.logService.createLog({message:`${r.name} gave ${H.name} Silly`,type:"ability",tiger:n,player:r.parent,randomEvent:D.random}));for(let Y=0;Y<this.level;Y++){let he=r.parent.getSpecificPet(r,H).pet;if(he){this.logService.createLog({message:`${r.name} activated ${H.name}'s ability.`,type:"ability",tiger:n,player:r.parent,randomEvent:D.random});for(const ye of he.abilityList)ye.execute(t,he,n,s)}}this.triggerTigerExecution(e)}copy(e){return new dA(e,this.logService)}}class Lg extends M{logService;abilityService;petService;name="Bonobo";tier=4;pack="Danger";attack=3;health=3;constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b)}}class Ng extends E{logService;abilityService;constructor(e,t,i){super({name:"GiantTortoiseAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new Ng(e,this.logService,this.abilityService)}}class pA extends E{logService;constructor(e,t){super({name:"HumpheadWrasseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=.3*this.level,u=r.parent.opponent.getHighestAttackPet(void 0,r);if(!u.pet)return;let h=u.pet,b=Math.ceil(h.attack*c),D=Math.max(1,h.attack-b);h.attack=D,this.logService.createLog({message:`${r.name} reduced ${h.name}'s attack by ${100*c}% to (${h.attack})`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random}),this.triggerTigerExecution(e)}copy(e){return new pA(e,this.logService)}}class Zk extends M{logService;abilityService;petService;name="Golden Tamarin";tier=4;pack="Danger";attack=4;health=4;initAbilities(){this.addAbility(new Fg(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b)}}class Fg extends E{logService;petService;constructor(e,t,i){super({name:"GoldenTamarinAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let u=r.parent.getThis(r).pet;if(!u)return;const h=gs.goldenTamarin;let b=Math.floor(Math.random()*h.length),H=this.petService.createPet({name:h[b],health:u.health,attack:u.attack,mana:u.mana,exp:u.exp,equipment:u.equipment},r.parent);r.parent.transformPet(u,H),this.logService.createLog({message:`${r.name} transformed ${u.name} into a ${H.attack}/${H.health} ${H.name}.`,type:"ability",player:r.parent,tiger:n,randomEvent:!0}),this.triggerTigerExecution(e)}copy(e){return new Fg(e,this.logService,this.petService)}}class ew extends E{logService;constructor(e,t){super({name:"KakapoAbility",owner:e,triggers:["ThisFirstAttack"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,condition:i=>this.owner.timesAttacked<=1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.opponent.getHighestAttackPets(this.level,void 0,r);for(let h of c.pets)h.givePetEquipment(new So),this.logService.createLog({message:`${r.name} gave ${h.name} Spooked.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random});let u=r.parent.opponent.getHighestAttackPets(this.level,void 0,r);for(let h of u.pets)h.parent.pushPetToBack(h),this.logService.createLog({message:`${r.name} pushed ${h.name} to the back.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random});this.triggerTigerExecution(e)}copy(e){return new ew(e,this.logService)}}class tw extends E{logService;constructor(e,t){super({name:"LongcombSawfishAbility",owner:e,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=4*this.level,u=-4*this.level,h=r.parent.getThis(r),b=h.pet;b&&(b.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${b.name} ${c} health`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random}));let H=r.parent.opponent.getAll(!1,r).pets;for(let Y of H)Y.increaseHealth(u),this.logService.createLog({message:`${r.name} reduced ${Y.name} health by ${Math.abs(u)}`,type:"ability",player:r.parent,tiger:n});this.triggerTigerExecution(e)}copy(e){return new tw(e,this.logService)}}class iw extends E{logService;constructor(e,t){super({name:"AmazonRiverDolphinAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=r.parent.getSpecificPet(r,i.currentTarget),u=c.pet;if(u&&u.alive)r.snipePet(u,3*this.level,c.random,n);else{let h=r.parent.getThis(r),b=h.pet;if(!b)return;let D=3*this.level;b.increaseAttack(D),this.logService.createLog({message:`${r.name} gave ${b.name} ${D} attack`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random})}this.triggerTigerExecution(e)}copy(e){return new iw(e,this.logService)}}class gA extends E{logService;constructor(e,t){super({name:"TasmanianDevilAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.opponent.getLowestAttackPet(void 0,r);if(c.pet&&c.pet.alive){let u=new So;u.multiplier+=5*this.level-1,this.logService.createLog({message:`${r.name} gave ${c.pet.name} ${u.multiplier}x Spooked.`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),c.pet.givePetEquipment(u),r.jumpAttackPrep(c.pet),r.jumpAttack(c.pet,n,null,c.random)}this.triggerTigerExecution(e)}copy(e){return new gA(e,this.logService)}}class nw extends E{logService;buffedFriends=new Map;constructor(e,t){super({name:"GiantOtterAbility",owner:e,triggers:["BeforeStartBattle","AnyoneAttack","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}reset(){this.buffedFriends.clear(),super.reset()}removeConditionalBuffs(){this.buffedFriends.size>0&&this.logService.createLog({message:`${this.owner.name} removed its temporary buffs after the first non-jump attack`,type:"ability",player:this.owner.parent});for(let[e,t]of this.buffedFriends){let i=e;if(i.transformed&&i.transformedInto&&(i=i.transformedInto),i&&i.alive&&(t.attack>0&&i.increaseAttack(-t.attack),t.health>0&&i.increaseHealth(-t.health),t.attack>0||t.health>0)){const n=[];t.attack>0&&n.push(`${t.attack} attack`),t.health>0&&n.push(`${t.health} health`),this.logService.createLog({message:`${i.name} lost ${n.join(" and ")} (Giant Otter Buffs removed)`,type:"ability",player:this.owner.parent})}this.buffedFriends.delete(e)}}executeAbility(e){const{gameApi:t,triggerPet:i,tiger:n,trigger:r}=e,c=this.owner;if("PostRemovalFaint"===r)return void this.removeConditionalBuffs();if(i)return void(t.FirstNonJumpAttackHappened&&this.removeConditionalBuffs());let u={attack:2*this.level,health:5*this.level},h=c.parent.getAll(!1,c,!0),b=h.pets;for(let D of b){const H=this.buffedFriends.get(D);H?(H.attack+=u.attack,H.health+=u.health):this.buffedFriends.set(D,{attack:u.attack,health:u.health}),D.increaseAttack(u.attack),D.increaseHealth(u.health),this.logService.createLog({message:`${c.name} gave ${D.name} +${u.attack} attack and +${u.health} health`,type:"ability",player:c.parent,tiger:n,randomEvent:h.random})}this.triggerTigerExecution(e)}copy(e){return new nw(e,this.logService)}}class rw extends E{logService;abilityService;constructor(e,t,i){super({name:"AyeAyeAbility",owner:e,triggers:["EnemyAttacked8"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;for(let h=0;h<2;h++){let b=3,D=3,H=new d_(this.logService,this.abilityService,r.parent,D,b,0,0),Y=r.parent.summonPet(H,r.savedPosition,!1,r);Y.success&&this.logService.createLog({message:`${r.name} summoned a ${b}/${D} ${H.name}.`,type:"ability",player:r.parent,tiger:n,randomEvent:Y.randomEvent})}let c=3*this.level,u=r.parent.getAll(!1,r,!0);for(let h of u.pets)h.increaseAttack(c),h.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${h.name} +${c} attack and +${c} health.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random});this.triggerTigerExecution(e)}copy(e){return new rw(e,this.logService,this.abilityService)}}class sd extends E{logService;constructor(e,t){super({name:"BanggaiCardinalfishAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=6*this.level,h=r.parent.getAll(!0,r,!0);for(let b of h.pets){let D=Math.max(b.attack-c,4);b.attack=D,this.logService.createLog({message:`${r.name} reduced ${b.name} attack by ${c} to (${D}).`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random})}this.triggerTigerExecution(e)}copy(e){return new sd(e,this.logService)}}class sw extends E{logService;constructor(e,t){super({name:"GeometricTortoiseAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,damageAmount:r}=e,c=this.owner;if(void 0===r||r<=0)return;let u=.33*this.level;3===c.level&&(u=1);let h=Math.floor(r*u);if(h>0){let b=c.parent.opponent.getRandomPet([],!1,!0,!1,c);b.pet&&c.snipePet(b.pet,h,b.random,n)}this.triggerTigerExecution(e)}copy(e){return new sw(e,this.logService)}}class lw extends E{logService;constructor(e,t){super({name:"GiantPangasiusAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n}=e,r=this.owner;if(!t)return;let c;c=r.parent===t.player?t.playerTransformationAmount:t.opponentTransformationAmount;let u=4*this.level;if(c>0)for(let h=0;h<c;h++){let D=Bt(r)?r.parent.getRandomPet([],!1,!0,!1,r,!0):r.parent.opponent.getRandomPet([],!1,!0,!1,r);D.pet&&r.snipePet(D.pet,u,D.random,n)}this.triggerTigerExecution(e)}copy(e){return new lw(e,this.logService)}}class mA extends E{logService;constructor(e,t){super({name:"HawaiianMonkSealAbility",owner:e,triggers:["FriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=r.parent.getSpecificPet(r,i),u=c.pet;if(u&&!r.targettedFriends.has(u)){if(r.targettedFriends.size<3&&u.alive){let h=2*r.level;u.increaseHealth(h),r.targettedFriends.add(u),this.logService.createLog({message:`${r.name} gave ${u.name} ${h} health`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random})}this.triggerTigerExecution(e)}}copy(e){return new mA(e,this.logService)}}class fA extends E{logService;targettedFriends=new Set;constructor(e,t){super({name:"MarineIguanaAbility",owner:e,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,precondition:i=>{const n=this.owner;if(!Ra(n,i.triggerPet))return!1;const r=Lt(n,i.triggerPet).pet;return!!r&&!this.targettedFriends.has(r)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}reset(){this.targettedFriends=new Set,super.reset()}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=Lt(r,i),u=c.pet;u&&(u.givePetEquipment(new Nr),this.targettedFriends.add(u),this.logService.createLog({message:`${r.name} gave ${u.name} Melon`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e))}copy(e){return new fA(e,this.logService)}}class dw extends E{logService;constructor(e,t){super({name:"TaitaThrushAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=this.level,u=r.parent.getAll(!1,r,!0);for(let h of u.pets)h.increaseAttack(c),h.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${h.name} +${c} attack and +${c} health`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random});this.triggerTigerExecution(e)}copy(e){return new dw(e,this.logService)}}class Og extends E{logService;constructor(e,t){super({name:"PaintedTerrapinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getPetsWithEquipment("White Okra"),u=r.parent.nearestPetsBehind(r.level,r,c),h=u.pets;for(let b of h)this.logService.createLog({message:`${r.name} gave ${b.name} White Okra perk`,type:"ability",tiger:n,player:r.parent,pteranodon:s,randomEvent:u.random}),b.givePetEquipment(new mo);this.triggerTigerExecution(e)}copy(e){return new Og(e,this.logService)}}class yA extends E{logService;constructor(e,t){super({name:"SnowLeopardAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=5*this.level,u=r.parent.opponent.getRandomPet([],!1,!0,!1,r);if(u.pet&&u.pet.alive){if(r.jumpAttackPrep(u.pet),r.transformed&&r.transformedInto){let h=r.parent.getThis(r.transformedInto);h.pet&&(r.transformedInto.increaseAttack(c),r.transformedInto.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${r.transformedInto.name} ${c} attack and ${c} health`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random}))}else{let h=r.parent.getThis(r);h.pet&&(h.pet.increaseAttack(c),h.pet.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${h.pet.name} ${c} attack and ${c} health`,type:"ability",player:r.parent,tiger:n,randomEvent:h.random}))}r.jumpAttack(u.pet,n,null,u.random)}this.triggerTigerExecution(e)}copy(e){return new yA(e,this.logService)}}class $g extends E{logService;constructor(e,t){super({name:"AmsterdamAlbatrossAbility",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,precondition:i=>{const{triggerPet:n}=i,c=Lt(this.owner,n).pet;return!!c&&c.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=2*r.level,u=2*r.level,b=Lt(r,i).pet;null!=b&&(b.increaseAttack(c),b.increaseHealth(u),this.logService.createLog({message:`${r.name} gave ${b.name} +${c} attack and +${u} health.`,type:"ability",player:r.parent,tiger:n}),this.triggerTigerExecution(e))}copy(e){return new $g(e,this.logService)}}class Ka extends M{logService;abilityService;petService;name="Bay Cat";tier=6;pack="Danger";attack=7;health=5;initAbilities(){this.addAbility(new Gg(this,this.logService,this.petService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b)}}class Gg extends E{logService;petService;abilityService;constructor(e,t,i,n){super({name:"BayCatAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=t,this.petService=i,this.abilityService=n}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:s}=e,r=this.owner;let c=gs.bayCat;for(let u=0;u<r.level;u++){let h=c[Math.floor(Math.random()*c.length)],b=this.petService.createPet({name:h,attack:null,health:null,equipment:null,mana:0,exp:0},r.parent);r.parent.summonPet(b,r.savedPosition,!1,r).success&&(this.logService.createLog({message:`${r.name} summoned ${b.name}`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:!0}),b.hasAbility("StartBattle")&&(this.logService.createLog({message:`${b.name} activated its start of battle ability`,type:"ability",player:r.parent,tiger:n,pteranodon:s}),b.activateAbilities("StartBattle",t,"Pet")))}this.triggerTigerExecution(e)}copy(e){return new Gg(e,this.logService,this.petService,this.abilityService)}}class ld extends E{logService;constructor(e,t){super({name:"BlackRhinoAbility",owner:e,triggers:["EnemyAttacked7"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let u=r.parent.opponent.getHighestHealthPets(r.level,[],r),h=u.pets;for(let b of h)r.snipePet(b,30,u.random,n);this.triggerTigerExecution(e)}copy(e){return new ld(e,this.logService)}}class cd extends E{logService;abilityService;constructor(e,t,i){super({name:"BlueWhaleAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=2*this.level;this.logService.createLog({message:`${t.name} sold friends for +2 extra gold each and gave future shop pets +${i} attack and +${i} health.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}copy(e){return new cd(e,this.logService,this.abilityService)}}class lc extends M{logService;abilityService;petService;name="California Condor";tier=6;pack="Danger";attack=10;health=6;initAbilities(){this.addAbility(new o(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b)}}class o extends E{logService;constructor(e,t){super({name:"CaliforniaCondorAbility",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;let c=i;c&&(this.logService.createLog({message:`California Condor copied ${c.name}'s level ${r.level} ability`,type:"ability",player:r.parent,tiger:n}),r.gainAbilities(c,"Pet"),this.triggerTigerExecution(e))}copy(e){return new o(e,this.logService)}}class d extends E{logService;constructor(e,t){super({name:"GreenSeaTurtleAbility",owner:e,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let u=r.parent.getAll(!1,r).pets;for(let h of u)h.givePetEquipment(new Nr,r.level),this.logService.createLog({message:`${r.name} gave ${h.name} Melon.`,type:"ability",player:r.parent,tiger:n});this.triggerTigerExecution(e)}copy(e){return new d(e,this.logService)}}class v extends E{logService;constructor(e,t){super({name:"PhilippineEagleAbility",owner:e,triggers:["AnyoneJumped"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getRandomPet([],!1,!1,!1,r),u=c.pet;if(!u)return;let h=4*this.level;u.increaseAttack(h),u.increaseHealth(h),this.logService.createLog({message:`${r.name} gave ${u.name} +${h} attack and +${h} health`,type:"ability",player:r.parent,tiger:n,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new v(e,this.logService)}}class A extends M{logService;abilityService;petService;name="Silky Sifaka";tier=6;pack="Danger";attack=4;health=6;initAbilities(){this.addAbility(new _(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b)}}class _ extends E{logService;petService;constructor(e,t,i){super({name:"SilkySifakaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=["Mammoth","Lionfish","Orca","Sabertooth Tiger","Warthog","Hydra","Phoenix","Bay Cat","Walrus","Ammonite"],h=r.parent.nearestPetsBehind(2,r).pets;for(let b of h){let D=c[Math.floor(Math.random()*c.length)],H=this.petService.createPet({name:D,attack:b.attack,health:b.health,mana:b.mana,exp:r.minExpForLevel,equipment:b.equipment},r.parent);r.parent.transformPet(b,H),this.logService.createLog({message:`${r.name} transformed ${b.name} into level ${r.level} ${H.name}`,type:"ability",player:r.parent,tiger:n,randomEvent:!0})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.petService)}}class O extends E{logService;constructor(e,t){super({name:"SumatranTigerAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getOppositeEnemyPet(r),u=c.pet;if(u&&(r.jumpAttackPrep(u),r.jumpAttack(u,n,null,c.random),r.level>=2)){let h=2===this.level?6:12,b=[];if(c.random)b=r.parent.getRandomLivingPets(2).pets;else{let D=u.petBehind();D&&D.alive&&b.push(D);let H=u.petAhead;H&&H.alive&&b.push(H)}for(let D of b)r.snipePet(D,h,c.random,n)}this.triggerTigerExecution(e)}copy(e){return new O(e,this.logService)}}const V={"Iriomote Cat":_g,"Ili Pika":class Gk extends M{logService;abilityService;name="Ili Pika";tier=1;pack="Danger";attack=2;health=3;initAbilities(){this.addAbility(new Qb(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Malay Tapir":class M0 extends M{logService;abilityService;name="Malay Tapir";tier=1;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new Hk(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Bombus Dahlbomii":class vL extends M{logService;abilityService;name="Bombus Dahlbomii";tier=1;pack="Danger";attack=1;health=2;initAbilities(){this.addAbility(new Zb(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"African Wild Dog":class L0 extends M{logService;abilityService;name="African Wild Dog";tier=1;pack="Danger";attack=3;health=2;initAbilities(){this.addAbility(new oc(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Ethiopian Wolf":jk,"Fan Mussel":class x0 extends M{logService;abilityService;name="Fan Mussel";tier=1;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new tA(this)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Togian Babirusa":class nd extends M{logService;abilityService;name="Togian Babirusa";tier=1;pack="Danger";attack=3;health=3;initAbilities(){this.addAbility(new wg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Tooth Billed Pigeon":class I0 extends M{logService;abilityService;name="Tooth Billed Pigeon";tier=1;pack="Danger";attack=3;health=1;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Volcano Snail":class R0 extends M{logService;abilityService;name="Volcano Snail";tier=1;pack="Danger";attack=1;health=4;initAbilities(){this.addAbility(new iA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Araripe Manakin":class N0 extends M{logService;abilityService;name="Araripe Manakin";tier=2;pack="Danger";attack=3;health=2;initAbilities(){this.addAbility(new nA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"European Mink":class Uk extends M{logService;abilityService;name="European Mink";tier=2;pack="Danger";attack=4;health=3;initAbilities(){this.addAbility(new rA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Proboscis Monkey":class F0 extends M{logService;abilityService;name="Proboscis Monkey";tier=2;pack="Danger";attack=4;health=4;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Pygmy Hog":class O0 extends M{logService;abilityService;name="Pygmy Hog";tier=2;pack="Danger";attack=1;health=2;initAbilities(){this.addAbility(new aA(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Saola:class bL extends M{logService;abilityService;name="Saola";tier=2;pack="Danger";attack=2;health=2;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Saker Falcon":class B0 extends M{logService;abilityService;name="Saker Falcon";tier=2;pack="Danger";attack=2;health=3;initAbilities(){this.addAbility(new rd(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Taita Shrew":class $0 extends M{logService;abilityService;name="Taita Shrew";tier=2;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new Tg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"White-Bellied Heron":class G0 extends M{logService;abilityService;name="White-Bellied Heron";tier=2;pack="Danger";attack=4;health=2;initAbilities(){this.addAbility(new oA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Darwin's Fox":class H0 extends M{logService;abilityService;name="Darwin's Fox";tier=2;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new ad(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Amami Rabbit":class Yk extends M{logService;abilityService;name="Amami Rabbit";tier=3;pack="Danger";attack=1;health=3;initAbilities(){this.addAbility(new Rg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Tree Kangaroo":class U0 extends M{logService;abilityService;name="Tree Kangaroo";tier=3;pack="Danger";attack=3;health=5;initAbilities(){this.addAbility(new dA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Blue-Throated Macaw":class Cg extends M{logService;abilityService;name="Blue-Throated Macaw";tier=3;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new od(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Hirola:class AL extends M{logService;abilityService;name="Hirola";tier=3;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new Dg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Monkey-Faced Bat":class j0 extends M{logService;abilityService;name="Monkey-Faced Bat";tier=3;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new Mg(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Takin:class lA extends M{logService;abilityService;name="Takin";tier=3;pack="Danger";attack=1;health=2;initAbilities(){this.addAbility(new Vk(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Tucuxi:class q0 extends M{logService;abilityService;name="Tucuxi";tier=3;pack="Danger";attack=2;health=3;initAbilities(){this.addAbility(new cA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Pygmy Hippo":class Wk extends M{logService;abilityService;name="Pygmy Hippo";tier=3;pack="Danger";attack=2;health=7;initAbilities(){this.addAbility(new xg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Spoon-Billed Sandpiper":class Kk extends M{logService;abilityService;name="Spoon-Billed Sandpiper";tier=3;pack="Danger";attack=3;health=2;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Angelshark:class Xk extends M{logService;abilityService;name="Angelshark";tier=4;pack="Danger";attack=3;health=4;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Giant Otter":class V0 extends M{logService;abilityService;name="Giant Otter";tier=4;pack="Danger";attack=4;health=3;buffedFriends=new Map;initAbilities(){this.addAbility(new nw(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Giant Tortoise":class Qk extends M{logService;abilityService;name="Giant Tortoise";tier=4;pack="Danger";attack=4;health=6;initAbilities(){this.addAbility(new Ng(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Humphead Wrasse":class W0 extends M{logService;abilityService;name="Humphead Wrasse";tier=4;pack="Danger";attack=6;health=4;initAbilities(){this.addAbility(new pA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Kakapo:class SL extends M{logService;abilityService;name="Kakapo";tier=4;pack="Danger";attack=4;health=4;initAbilities(){this.addAbility(new ew(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Longcomb Sawfish":class PL extends M{logService;abilityService;name="Longcomb Sawfish";tier=4;pack="Danger";attack=3;health=3;initAbilities(){this.addAbility(new tw(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Tasmanian Devil":class kL extends M{logService;abilityService;name="Tasmanian Devil";tier=4;pack="Danger";attack=1;health=5;initAbilities(){this.addAbility(new gA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Amazon River Dolphin":class _L extends M{logService;abilityService;name="Amazon River Dolphin";tier=4;pack="Danger";attack=4;health=5;initAbilities(){this.addAbility(new iw(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Aye-aye":class K0 extends M{logService;abilityService;name="Aye-aye";tier=5;pack="Danger";attack=3;health=5;initAbilities(){this.addAbility(new rw(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Banggai Cardinalfish":class aw extends M{logService;abilityService;name="Banggai Cardinalfish";tier=5;pack="Danger";attack=4;health=7;initAbilities(){this.addAbility(new sd(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Geometric Tortoise":class ow extends M{logService;abilityService;name="Geometric Tortoise";tier=5;pack="Danger";attack=3;health=10;initAbilities(){this.addAbility(new sw(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Giant Pangasius":class z0 extends M{logService;abilityService;name="Giant Pangasius";tier=5;pack="Danger";attack=4;health=5;initAbilities(){this.addAbility(new lw(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Hawaiian Monk Seal":class cw extends M{logService;abilityService;name="Hawaiian Monk Seal";tier=5;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new mA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Marine Iguana":class uw extends M{logService;abilityService;name="Marine Iguana";tier=5;pack="Danger";attack=4;health=5;initAbilities(){this.addAbility(new fA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Red Panda":class wL extends M{logService;abilityService;name="Red Panda";tier=5;pack="Danger";health=4;attack=4;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Taita Thrush":class X0 extends M{logService;abilityService;name="Taita Thrush";tier=5;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new dw(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Snow Leopard":class Bg extends M{logService;abilityService;name="Snow Leopard";tier=5;pack="Danger";attack=3;health=5;initAbilities(){this.addAbility(new yA(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Painted Terrapin":class TL extends M{logService;abilityService;name="Painted Terrapin";tier=5;pack="Danger";health=6;attack=4;initAbilities(){this.addAbility(new Og(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Amsterdam Albatross":class J0 extends M{logService;abilityService;name="Amsterdam Albatross";tier=6;pack="Danger";attack=3;health=6;initAbilities(){this.addAbility(new $g(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Black Rhino":class vA extends M{logService;abilityService;name="Black Rhino";tier=6;pack="Danger";attack=5;health=9;initAbilities(){this.addAbility(new ld(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Blue Whale":class Q0 extends M{logService;abilityService;name="Blue Whale";tier=6;pack="Danger";health=12;attack=12;initAbilities(){this.addAbility(new cd(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Green Sea Turtle":class l extends M{logService;abilityService;name="Green Sea Turtle";tier=6;pack="Danger";attack=5;health=6;initAbilities(){this.addAbility(new d(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Helmeted Hornbill":class g extends M{logService;abilityService;name="Helmeted Hornbill";tier=6;pack="Danger";health=4;attack=5;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Philippine Eagle":class y extends M{logService;abilityService;name="Philippine Eagle";tier=6;pack="Danger";attack=7;health=6;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Sumatran Tiger":class R extends M{logService;abilityService;name="Sumatran Tiger";tier=6;pack="Danger";attack=9;health=9;initAbilities(){this.addAbility(new O(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Bay Cat":Ka,Bonobo:Lg,"California Condor":lc,"Golden Tamarin":Zk,"Roloway Monkey":uA,"Silky Sifaka":A,Takhi:Eg};class re extends M{logService;abilityService;name="Rock";tier=1;pack="Unicorn";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new ae(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class ae extends E{logService;abilityService;constructor(e,t,i){super({name:"RockAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new ae(e,this.logService,this.abilityService)}}class Me extends E{logService;abilityService;constructor(e,t,i){super({name:"Basilisk Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.petAhead;if(s&&s.alive){const r=5*this.level,c=new re(this.logService,this.abilityService,s.parent);c.initPet(0,1+r,0,0,null),n.parent.transformPet(s,c),this.logService.createLog({message:`${n.name} transformed ${s.name} into a Rock with +${r} health.`,type:"ability",player:n.parent,tiger:t,pteranodon:i})}this.triggerTigerExecution(e)}copy(e){return new Me(e,this.logService,this.abilityService)}}class et extends E{logService;constructor(e,t){super({name:"BudgieAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,r=Mt.getInjector().get(ui).getInstanceOfAllEquipment().get("Popcorn");n.givePetEquipment(r),n.increaseHealth(this.level),this.logService.createLog({message:`${n.name} gained Popcorn and +${this.level} health.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new et(e,this.logService)}}class $t extends E{logService;abilityService;constructor(e,t,i){super({name:"DucklingAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gave the left-most shop pet +${2*this.level} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new $t(e,this.logService,this.abilityService)}}class Pi extends E{logService;constructor(e,t){super({name:"FarmerMouseAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,r=n.parent.nearestPetsBehind(this.level,n).pets;if(0!==r.length){for(const c of r)c.givePetEquipment(new Ol),this.logService.createLog({message:`${n.name} fed ${c.name} Corncob.`,type:"ability",player:n.parent,tiger:t,pteranodon:i});this.triggerTigerExecution(e)}}copy(e){return new Pi(e,this.logService)}}class Ya extends E{logService;constructor(e,t){super({name:"FrilledDragonAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=0;for(let u of r.parent.petArray)u!==r&&u.isFaintPet()&&c++;c*=this.level,r.increaseAttack(c),r.increaseHealth(c),this.logService.createLog({message:`${r.name} gained ${c} attack and ${c} health.`,type:"ability",player:r.parent,tiger:n,pteranodon:s}),this.triggerTigerExecution(e)}copy(e){return new Ya(e,this.logService)}}class pw extends E{logService;abilityService;constructor(e,t,i){super({name:"GibbonAbility",owner:e,triggers:["ShopUpgrade"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=this.level,u=r.parent.nearestPetsBehind(2,r);if(0!==u.pets.length){for(let h of u.pets)h.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${h.name} ${c} health.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:u.random});this.triggerTigerExecution(e)}}copy(e){return new pw(e,this.logService,this.abilityService)}}class Z0 extends E{logService;constructor(e,t){super({name:"NudibranchAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>{const n=this.owner;let s=new Set;for(const r of n.parent.petArray){if(s.has(r.name))return!1;s.add(r.name)}return!0},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=3*this.level,r=this.level;n.increaseAttack(s),n.increaseHealth(r),this.logService.createLog({message:`${n.name} gained +${s} attack and +${r} health.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new Z0(e,this.logService)}}class eD extends E{logService;constructor(e,t){super({name:"PeacockSpiderAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=ts(n);if(0!==s.length){for(const r of s){if(!wl(r,"Spooked"))continue;const c=new So;c.power=-this.level,c.originalPower=c.power,r.givePetEquipment(c),Gi(this.logService,n,`${n.name} gave ${r.name} Spooked.`,t,i)}this.triggerTigerExecution(e)}}copy(e){return new eD(e,this.logService)}}class tD extends E{logService;constructor(e,t){super({name:"PygmySeahorseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.parent.getRandomPets(3,[n],!1,!1,n),r=s.pets;if(0!==r.length){for(const c of r)c.increaseAttack(this.level),c.increaseHealth(this.level),this.logService.createLog({message:`${n.name} gave ${c.name} +${this.level} attack and +${this.level} health.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:s.random});n.health=0,this.triggerTigerExecution(e)}}copy(e){return new tD(e,this.logService)}}class iD extends E{logService;constructor(e,t){super({name:"Silverfish Ability",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} sold for +${2*this.level} gold, but will lose ${this.level} gold next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new iD(e,this.logService)}}class nD extends E{logService;abilityService;constructor(e,t,i){super({name:"TermiteAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,n=Math.max(1,e.gameApi.previousShopTier??1)+this.level;t.attack=Math.max(1,n),this.logService.createLog({message:`${t.name} set its attack to ${t.attack}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new nD(e,this.logService,this.abilityService)}}class rD extends E{logService;constructor(e,t){super({name:"WeevilAbility",owner:e,triggers:["FoodEatenByFriendly"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,precondition:i=>{const{triggerPet:n}=i,c=Lt(this.owner,n).pet;return!!c&&c.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:n}=e,s=this.owner,r=Lt(s,t),c=r.pet;null!=c&&(c.increaseAttack(this.level),this.logService.createLog({message:`${s.name} gave ${c.name} +${this.level} attack.`,type:"ability",player:s.parent,tiger:i,pteranodon:n,randomEvent:r.random}),this.triggerTigerExecution(e))}copy(e){return new rD(e,this.logService)}}class aD extends E{logService;constructor(e,t){super({name:"AlbinoSquirrelAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,r=Mt.getInjector().get(ui).getInstanceOfAllEquipment(),c=Array.from(r.values()).filter(h=>"shop"===h.equipmentClass);if(0===c.length)return;let u=[];for(let h=0;h<3;h++){let b=c[Ot(0,c.length-1)];u.push(b.name)}this.logService.createLog({message:`${n.name} restocked shop food with ${u.join(", ")} at -${this.level} gold.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:!0}),this.triggerTigerExecution(e)}copy(e){return new aD(e,this.logService)}}class oD extends E{logService;constructor(e,t){super({name:"AmphisbaenaAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:n}=e,s=this.owner;let r=s.parent.nearestPetsAhead(1,s);if(0===r.pets.length)return;let c=r.pets[0];(t?.turnNumber??1)%2==1?(c.increaseAttack(this.level),this.logService.createLog({message:`${s.name} gave ${c.name} ${this.level} attack.`,type:"ability",player:s.parent,tiger:i,pteranodon:n,randomEvent:r.random})):(c.increaseHealth(this.level),this.logService.createLog({message:`${s.name} gave ${c.name} ${this.level} health.`,type:"ability",player:s.parent,tiger:i,pteranodon:n,randomEvent:r.random})),this.triggerTigerExecution(e)}copy(e){return new oD(e,this.logService)}}class sD extends E{logService;constructor(e,t){super({name:"AtlanticPuffinAbility",owner:e,triggers:["FriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>{const{triggerPet:n}=i;return!(!n||"Strawberry"!=n.equipment?.name)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:n}=e,r=this.owner;this.logService.createLog({message:`${r.name} removed ${i.name}'s ${i.equipment.name}.`,type:"ability",player:r.parent,tiger:n}),i.removePerk();let c=2*r.level,u=r.parent.opponent.getLastPet(),h=u.pet;null!=h&&(r.snipePet(h,c,u.random,n),this.triggerTigerExecution(e))}copy(e){return new sD(e,this.logService)}}class lD extends E{logService;constructor(e,t){super({name:"ChupacabraAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;for(let c=0;c<2*this.level;c++){let u=r.parent.getRandomPet([r],!0,!1,!0,r);if(null==u.pet)return;u.pet.increaseHealth(1),this.logService.createLog({message:`${r.name} gave ${u.pet.name} 1 health.`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random})}this.triggerTigerExecution(e)}copy(e){return new lD(e,this.logService)}}class cD extends E{logService;constructor(e,t){super({name:"DesertRainFrogAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>this.owner.parent.trumpets>=1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=Mt.getInjector().get(Kn);let r=Math.min(6,n.tier+this.level),c=s.getRandomFaintPet(n.parent,r);this.logService.createLog({message:`${n.name} transformed into ${c.name}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:!0}),n.parent.spendTrumpets(1,n,i),n.parent.transformPet(n,c),this.triggerTigerExecution(e)}copy(e){return new cD(e,this.logService)}}class uD extends E{logService;constructor(e,t){super({name:"DungBeetleAbility",owner:e,triggers:["FoodEatenByFriendly","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,triggerPet:i,tiger:n,pteranodon:s}=e,r=this.owner,c=r,u=t?.turnNumber??0;if(c.dungBeetleFoodTurn!==u&&(c.dungBeetleFoodTurn=u,c.dungBeetleFoodEaten=0),c.dungBeetleFoodSeededTurn!==u){c.dungBeetleFoodSeededTurn=u;const D=r.foodsEaten??0;D>0&&(c.dungBeetleFoodEaten=Math.min(3,Math.max(c.dungBeetleFoodEaten??0,D)))}if(i&&r.alive)return void(c.dungBeetleFoodEaten=Math.min(3,(c.dungBeetleFoodEaten??0)+1));if(r.alive)return;const h=Math.min(3,c.dungBeetleFoodEaten??0);if(h<=0)return;const b=3*this.level;for(let D=0;D<h;D++){let H=r.parent.opponent.getLowestHealthPet(void 0,r),Y=H.pet;if(null==Y)break;r.snipePet(Y,b,H.random,n)}this.logService.createLog({message:`${r.name} dealt ${b} damage ${h} time(s) to the weakest enemy.`,type:"ability",player:r.parent,tiger:n,pteranodon:s}),this.triggerTigerExecution(e)}copy(e){return new uD(e,this.logService)}}class dD extends E{logService;constructor(e,t){super({name:"FarmerChickenAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner;let s=n.parent.nearestPetsAhead(this.level,n);if(0!==s.pets.length){for(let r of s.pets)r.givePetEquipment(new Ol),this.logService.createLog({message:`${n.name} fed ${r.name} a Corncob.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:s.random});this.triggerTigerExecution(e)}}copy(e){return new dD(e,this.logService)}}class hD extends E{logService;constructor(e,t){super({name:"FrigatebirdAbility",owner:e,triggers:["FriendGainsAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,precondition:i=>Ra(this.owner,i.triggerPet),abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const s=this.owner,r=Lt(s,e.triggerPet),c=r.pet;if(!c)return;const u=c.equipment;!u||!u.equipmentClass?.startsWith("ailment")||(c.removePerk(),c.givePetEquipment(new uP),this.logService.createLog({message:`${s.name} removed ${u.name} from ${c.name} and gave ${c.name} Rice.`,type:"ability",player:s.parent,randomEvent:r.random}),this.triggerTigerExecution(e))}reset(){this.maxUses=this.level,super.reset()}copy(e){return new hD(e,this.logService)}}class pD extends E{logService;constructor(e,t){super({name:"FruitFlyAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner;let s=n.parent.getOppositeEnemyPet(n),r=s.pet;null!=r&&(r.givePetEquipment(new Ff),this.logService.createLog({message:`${n.name} gave ${r.name} Blueberry.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:s.random}),n.snipePet(r,2*this.level,s.random,t),this.triggerTigerExecution(e))}copy(e){return new pD(e,this.logService)}}class gD extends E{logService;abilityService;constructor(e,t,i){super({name:"GoldenBeetleAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gained ${this.level*(t.attack>=10?3:1)} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new gD(e,this.logService,this.abilityService)}}class EL extends M{logService;abilityService;name="Daycrawler";tier=1;pack="Custom";hidden=!0;health=1;attack=1;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class mD extends E{logService;abilityService;constructor(e,t,i){super({name:"NightcrawlerAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:s}=e,r=this.owner;let u=r.parent==t.player?t.playerSummonedAmount:t.opponentSummonedAmount;if(0==u)return;let h=Math.min(50,this.level*u),D=new EL(this.logService,this.abilityService,r.parent,h,6,0,0),H=r.parent.summonPet(D,r.savedPosition,!1,r);H.success&&this.logService.createLog({message:`${r.name} spawned Daycrawler (6/${h})`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:H.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new mD(e,this.logService,this.abilityService)}}class fD extends E{logService;constructor(e,t){super({name:"OlmAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:n}=e,s=this.owner,r=s.parent===t.player?t.playerRollAmount||0:t.opponentRollAmount||0,c=s.parent.getPetsWithEquipmentWithSillyFallback("Spooked",s),u=s.parent.opponent.getRandomPet(c,null,!0,null,s),h=u.pet;if(!h)return;const b=new So;r>0&&(b.multiplier+=r),this.logService.createLog({message:`${s.name} made ${h.name}${b.multiplier>1?` ${b.multiplier}x`:""} Spooked.`,type:"ability",player:s.parent,tiger:i,pteranodon:n,randomEvent:u.random}),h.givePetEquipment(b),this.triggerTigerExecution(e)}copy(e){return new fD(e,this.logService)}}class yD extends E{logService;constructor(e,t){super({name:"PandaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=.5*this.level,u={attack:Math.floor(r.attack*c),health:Math.floor(r.health*c)},h=r.parent.nearestPetsAhead(1,r);if(h.pets.length>0){let b=h.pets[0];b.increaseAttack(u.attack),b.increaseHealth(u.health),this.logService.createLog({message:`${r.name} gave ${b.name} ${u.attack} attack and ${u.health} health.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:h.random})}r.health=0,this.triggerTigerExecution(e)}copy(e){return new yD(e,this.logService)}}class vD extends E{constructor(e){super({name:"Pink Robin Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",abilitylevel:e.level,abilityFunction:t=>this.executeAbility(t)})}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=2*this.level,r=n.parent.petArray.filter(c=>c.alive&&c!==n&&c.tier<=s);if(r.length>0){const u=r[Math.floor(Math.random()*r.length)],h=Mt.getInjector().get(Oa),b=Mt.getInjector().get(Vn);h.triggerAbility(u,"EndTurn",n),b.createLog({message:`${n.name} activated End Turn on ${u.name}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i})}this.triggerTigerExecution(e)}copy(e){return new vD(e)}}class bD extends E{logService;constructor(e,t){super({name:"Roadrunner Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const i=this.owner,n=this.level,r=i.parent.petArray.filter(c=>c.alive&&c.position<i.position).sort((c,u)=>u.position-c.position).slice(0,n);for(const c of r){const u=new Jc(this.logService);u&&c.applyEquipment(u),c.attack+=2,this.logService.createLog({message:`${i.name} gave Strawberry and +2 attack to ${c.name}.`,type:"ability",player:i.parent})}this.triggerTigerExecution(e)}copy(e){return new bD(e,this.logService)}}class AD extends E{logService;constructor(e,t){super({name:"SeahorseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,r=n.parent.opponent.getLastPet();if(null==r.pet)return;const c=r.pet;c.parent.pushPet(c,this.level),this.logService.createLog({message:`${n.name} pushed ${c.name} forward ${this.level} space(s).`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:r.random}),this.triggerTigerExecution(e)}copy(e){return new AD(e,this.logService)}}class SD extends E{constructor(e){super({name:"Sphinx Ability",owner:e,triggers:["ThisBought"],abilityType:"Pet",abilitylevel:e.level,abilityFunction:t=>this.executeAbility(t)})}executeAbility(e){const{gameApi:t}=e,i=this.owner,n=this.level,s=["Tennis Ball","Plastic Saw","Toilet Paper","Foam Sword","Flashlight","Television"],c=s[Math.floor(Math.random()*s.length)],u=t.toyService.createToy(c,i.parent,n);u&&(i.parent.toy=u,t.logService.createLog({message:`${i.name} gained a level ${n} ${c}.`,type:"ability",player:i.parent})),this.triggerTigerExecution(e)}copy(e){return new SD(e)}}class PD extends E{constructor(e){super({name:"Spotted Handfish Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",abilitylevel:e.level,abilityFunction:t=>this.executeAbility(t)})}executeAbility(e){const{gameApi:t}=e,i=this.owner,n=this.level,s=["Cold","Crisp","Dazed","Icky","Inked","Spooked","Weak","Silly","Bloated","Confused","Cursed","Sad","Sleepy","Webbed"];for(let r=0;r<n;r++){const u=s[Math.floor(Math.random()*s.length)];i.parent.cannedAilments.push(u),t.logService.createLog({message:`${i.name} stocked a canned ${u}.`,type:"ability",player:i.parent})}this.triggerTigerExecution(e)}copy(e){return new PD(e)}}class _D extends M{logService;abilityService;petService;name="Tadpole";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new kD(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b)}}class kD extends E{logService;petService;constructor(e,t,i){super({name:"Tadpole Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t,this.petService=i}executeAbility(e){const t=this.owner,i=t.level,n=this.petService.createPet({name:"Frog",attack:null,health:null,mana:0,exp:hl(i),equipment:null},t.parent);n&&(t.parent.transformPet(t,n),this.logService.createLog({message:`${t.name} transformed into a level ${i} Frog.`,type:"ability",player:t.parent})),this.triggerTigerExecution(e)}copy(e){return new kD(e,this.logService,this.petService)}}class wD extends E{logService;constructor(e,t){super({name:"Thorny Dragon Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=3*this.level,r=n.parent.opponent.petArray.filter(D=>D.alive);if(0===r.length)return;const c=r.filter(D=>!!D.equipment&&("ailment-attack"===D.equipment.equipmentClass||"ailment-defense"===D.equipment.equipmentClass||"ailment-other"===D.equipment.equipmentClass)),u=c.length>0?c:r,h=u.length>1,b=u[Ot(0,u.length-1)];b&&(n.snipePet(b,s,h,t,i),this.logService.createLog({message:`${n.name} fainted and dealt ${s} damage to ${b.name} (prioritizing ailments).`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:h})),this.triggerTigerExecution(e)}copy(e){return new wD(e,this.logService)}}class TD extends E{logService;constructor(e,t){super({name:"Vervet Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{gameApi:t}=e,i=this.owner,n=this.level,s="Microwave Oven",r=t.toyService.createToy(s,i.parent,n);r&&(i.parent.toy=r,this.logService.createLog({message:`${i.name} summoned a level ${n} ${s}.`,type:"ability",player:i.parent})),this.triggerTigerExecution(e)}copy(e){return new TD(e,this.logService)}}class ED extends E{logService;usedFirstTrigger=!1;constructor(e,t){super({name:"Warf Ability",owner:e,triggers:["ThisGainedMana","StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner;if("StartBattle"===e.trigger)return this.usedFirstTrigger=!1,void this.triggerTigerExecution(e);const s=n.parent.opponent.getRandomPet([],!1,!1,!1,n);if(s.pet){const r=s.pet,c=this.level,u=this.usedFirstTrigger?c:3*c;n.snipePet(r,u,s.random,t,i),this.logService.createLog({message:`${n.name} gained mana and dealt ${u} damage to ${r.name}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:s.random}),this.usedFirstTrigger=!0}this.triggerTigerExecution(e)}copy(e){return new ED(e,this.logService)}}class CD extends E{logService;constructor(e,t){super({name:"Wombat Ability",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,r=n.parent.opponent.petArray.find(c=>c.alive&&c.isFaintPet());if(r){const c=Mt.getInjector().get(Kn);if(!c)return void this.triggerTigerExecution(e);const u=c.createPet({name:r.name,attack:null,health:null,exp:hl(this.level),equipment:null,mana:null},n.parent);n.parent.transformPet(n,u),this.logService.createLog({message:`${n.name} transformed into level ${this.level} ${r.name}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i})}this.triggerTigerExecution(e)}copy(e){return new CD(e,this.logService)}}class DD extends E{logService;constructor(e,t){super({name:"Yak Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=this.level,r=2*this.level;n.dealDamage(n,s),n.increaseAttack(r),this.logService.createLog({message:`${n.name} took ${s} damage and gained +${r} attack.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new DD(e,this.logService)}}class MD extends E{logService;constructor(e,t){super({name:"Aardvark Ability",owner:e,triggers:["EnemySummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=this.level,r=3*this.level;n.increaseAttack(s),n.increaseHealth(r),this.logService.createLog({message:`${n.name} gained +${s}/+${r} from EnemySummoned.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new MD(e,this.logService)}}class xD extends E{hasUsed=!1;logService;constructor(e,t){super({name:"Axehandle Hound Ability",owner:e,triggers:["BeforeFriendlyAttack","StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:n}=e;if("StartBattle"===e.trigger)return this.hasUsed=!1,void this.triggerTigerExecution(e);if(this.hasUsed)return;const s=t.opponent;if(!s)return;const r=s.petArray.filter(h=>h.health>0),c=r.map(h=>h.name);if(new Set(c).size!==c.length){this.hasUsed=!0;const h=2*this.level;this.logService.createLog({message:`${this.owner.name} activated. Opponent has duplicates. Dealing ${h} damage to all enemies.`,type:"ability",player:this.owner.parent,tiger:i,pteranodon:n});for(const b of r)this.owner.dealDamage(b,h)}this.triggerTigerExecution(e)}copy(e){const t=new xD(e,this.logService);return t.hasUsed=this.hasUsed,t}}class ID extends E{logService;constructor(e,t){super({name:"Barnacle Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{gameApi:t}=e,i=this.owner;if(0===(i.parent===t.player?t.playerRollAmount||0:t.opponentRollAmount||0)){const s=this.level;i.increaseExp(s),this.logService.createLog({message:`${i.name} gained +${s} experience (EndTurn, no rolls).`,type:"ability",player:i.parent})}this.triggerTigerExecution(e)}copy(e){return new ID(e,this.logService)}}class RD extends E{logService;abilityService;constructor(e,t,i){super({name:"BearAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner,c=this.level,u=r.savedPosition,h=[];for(const b of r.parent.petArray)if(b.alive){const D=Math.abs(b.position-u);D>0&&D<=c&&h.push(b)}for(const b of r.parent.opponent.petArray)b.alive&&u+b.position+1<=c&&h.push(b);for(let b of h)b.givePetEquipment(new cP(this.logService,this.abilityService)),this.logService.createLog({message:`${r.name} gave ${b.name} Honey.`,type:"ability",player:r.parent,tiger:n,pteranodon:s});this.triggerTigerExecution(e)}copy(e){return new RD(e,this.logService,this.abilityService)}}class LD extends E{logService;constructor(e,t){super({name:"Blue Dragon Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,c=n.parent.nearestPetsBehind(4,n).pets.length*this.level;if(c>0){const D=n.parent.resolveTrumpetGainTarget(n);D.player.gainTrumpets(c,n,i,void 0,void 0,D.random)}const u=this.level,b=n.parent.nearestPetsAhead(4,n).pets;b.length>0&&(b.forEach(D=>D.increaseMana(u)),this.logService.createLog({message:`${n.name} gave ${b.length} friend${1===b.length?"":"s"} ahead +${u} mana at StartBattle.`,type:"ability",player:n.parent,tiger:t,pteranodon:i})),this.triggerTigerExecution(e)}copy(e){return new LD(e,this.logService)}}class ND extends E{logService;constructor(e,t){super({name:"Brazillian Treehopper Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,c=n.parent.getRandomEnemyPetsWithSillyFallback(2*this.level,[],!1,!1,n).pets;if(c.length>1){let u=0,h=0;for(const H of c)u+=H.attack,h+=H.health;const b=Math.floor(u/c.length),D=Math.floor(h/c.length);for(const H of c)H.attack=Math.max(1,b),H.health=Math.max(1,D);this.logService.createLog({message:`${n.name} averaged stats of ${c.length} enemies to ${b}/${D}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i})}this.triggerTigerExecution(e)}copy(e){return new ND(e,this.logService)}}class FD extends E{logService;constructor(e,t){super({name:"Caladrius Ability",owner:e,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:n}=e,s=this.owner;if(t&&t.parent===s.parent&&t!==s&&t.mana>=3){const r=2*this.level;t.mana-=3,t.increaseAttack(r),t.increaseHealth(r),this.logService.createLog({message:`${s.name} spent 3 mana from ${t.name} to give it +${r}/+${r}.`,type:"ability",player:s.parent,tiger:i,pteranodon:n})}this.triggerTigerExecution(e)}copy(e){return new FD(e,this.logService)}}class OD extends E{logService;pendingAttack=0;pendingHealth=0;usedThisTurn=!1;constructor(e,t){super({name:"CentipedeAbility",owner:e,triggers:["FriendBought","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{trigger:t,triggerPet:i,tiger:n,pteranodon:s}=e,r=this.owner;if("FriendBought"===t){if(this.usedThisTurn||!i)return;const u=this.level*(i.tier??1);return r.increaseAttack(u),r.increaseHealth(u),this.pendingAttack+=u,this.pendingHealth+=u,this.usedThisTurn=!0,this.logService.createLog({message:`${r.name} gained +${u} attack and +${u} health until next turn.`,type:"ability",player:r.parent,tiger:n,pteranodon:s}),void this.triggerTigerExecution(e)}if("EndTurn"===t)return(this.pendingAttack||this.pendingHealth)&&(r.increaseAttack(-this.pendingAttack),r.increaseHealth(-this.pendingHealth),this.pendingAttack=0,this.pendingHealth=0),void(this.usedThisTurn=!1)}copy(e){return new OD(e,this.logService)}}class BD extends E{logService;constructor(e,t){super({name:"Deer Lord Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.petAhead;i&&(i.health=0,this.logService.createLog({message:`${t.name} knocked out ${i.name}.`,type:"ability",player:t.parent}),this.logService.createLog({message:`${t.name} stocked ${this.level} free Bacon.`,type:"ability",player:t.parent})),this.triggerTigerExecution(e)}copy(e){return new BD(e,this.logService)}}class SO extends M{logService;abilityService;name="Dimetrodon";tier=3;pack="Custom";hidden=!0;constructor(e,t,i,n,s,r,c,u){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,null,u)}initAbilities(){}}class $D extends E{logService;constructor(e,t){super({name:"Dimetrodon Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=this.level,r=5*s,c=new SO(this.logService,n.abilityService,n.parent,r,r);if(n.parent.summonPet(c,n.position).success)this.logService.createLog({message:`${n.name} summoned a ${r}/${r} Dimetrodon.`,type:"ability",player:n.parent,tiger:t,pteranodon:i});else{const h=s,b=n.parent.petArray.filter(D=>D&&D!==n);for(const D of b)D.increaseAttack(h),D.increaseHealth(h);b.length>0&&this.logService.createLog({message:`${n.name} gave friends +${h}/+${h}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i})}this.triggerTigerExecution(e)}copy(e){return new $D(e,this.logService)}}class GD extends E{logService;constructor(e,t){super({name:"Dugong Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=2*this.level,r=2*this.level,c=Mt.getInjector().get(Kn),u=n.parent.pack,h=n.parent.petArray.filter(b=>b.alive&&b!==n&&!this.isPetInActivePack(b,u,c));for(const b of h)b.increaseAttack(s),b.increaseHealth(r);h.length>0&&this.logService.createLog({message:`${n.name} gave +${s}/+${r} to pets outside ${u}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}isPetInActivePack(e,t,i){if(!i)return e.pack===t;if(lh.includes(t))return(i.basePackPetsByName[t]?.get(e.tier)??[]).includes(e.name);const n=i.playerCustomPackPets.get(t);return n?n.get(e.tier)?.includes(e.name)??!1:e.pack===t}copy(e){return new GD(e,this.logService)}}class HD extends E{logService;constructor(e,t){super({name:"Eel Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=.5*this.level,r=Math.floor(n.health*s);n.increaseHealth(r),this.logService.createLog({message:`${n.name} gained +${r} health (+${100*s}%).`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new HD(e,this.logService)}}class jD extends E{logService;constructor(e,t){super({name:"Emperor Tamarin Ability",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} sold and gave ${1===this.level?33:2===this.level?66:100}% of its stats to the leftmost shop pet.`,type:"ability",player:t.parent}),this.triggerTigerExecution(e)}copy(e){return new jD(e,this.logService)}}class qD extends E{logService;constructor(e,t){super({name:"Farmer Pig Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=[n.petAhead,n.petBehind()].filter(r=>null!==r&&r.alive);for(const r of s)for(let c=0;c<this.level;c++){const u=new Ol;u.effectMultiplier=2,r.givePetEquipment(u)}s.length>0&&this.logService.createLog({message:`${n.name} fed adjacent friends ${this.level} Corncob${1===this.level?"":"s"} with double effect.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new qD(e,this.logService)}}class UD extends E{logService;constructor(e,t){super({name:"FlyingSquirrelAbility",owner:e,triggers:["FriendlyToyBroke"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=2*this.level,u=r.parent.getThis(r),h=u.pet;if(null==h||(h.increaseAttack(c),this.logService.createLog({message:`${r.name} gave ${h.name} +${c} attack`,type:"ability",player:r.parent,tiger:n,randomEvent:u.random}),null==r.parent.brokenToy))return;const b=Mt.getInjector().get(Br).createToy(r.parent.brokenToy.name,r.parent);b.level=Math.min(this.level,r.parent.brokenToy.level),r.parent.setToy(b),this.logService.createLog({message:`${b.name} respawned (Level ${b.level})!`,type:"ability",player:r.parent,tiger:n}),this.triggerTigerExecution(e)}copy(e){return new UD(e,this.logService)}}class WD extends E{logService;constructor(e,t){super({name:"Foo Dog Ability",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} was bought and gave future shop pets from the next tier +${2*this.level} health.`,type:"ability",player:t.parent}),this.triggerTigerExecution(e)}copy(e){return new WD(e,this.logService)}}class VD extends E{logService;constructor(e,t){super({name:"Gerenuk Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.parent.opponent;let r=this.level;for(;r>0;){const c=this.getHighestTierPerkPet(s);if(!c)break;const u=c.equipment?.name??"perk";c.removePerk(!0),this.logService.createLog({message:`${n.name} removed ${c.name}'s ${u}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),r--}this.triggerTigerExecution(e)}getHighestTierPerkPet(e){const t=e.petArray.filter(s=>s.alive&&s.equipment&&!this.isAilmentEquipment(s.equipment));if(0===t.length)return null;let i=Math.max(...t.map(s=>s.equipment?.tier??0));return t.filter(s=>(s.equipment?.tier??0)===i).sort((s,r)=>s.position-r.position)[0]??null}isAilmentEquipment(e){return"ailment-attack"===e.equipmentClass||"ailment-defense"===e.equipmentClass||"ailment-other"===e.equipmentClass}copy(e){return new VD(e,this.logService)}}class KD extends E{logService;constructor(e,t){super({name:"Great Potoo Ability",owner:e,triggers:["AnyoneHurt"],abilityType:"Pet",native:!0,maxUses:5,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{gameApi:t}=e,i=this.owner;if(!0!==t.FirstNonJumpAttackHappened){const s=2*this.level;i.increaseHealth(s),this.logService.createLog({message:`${i.name} gained +${s} health from AnyoneHurt (before any attacks).`,type:"ability",player:i.parent})}this.triggerTigerExecution(e)}copy(e){return new KD(e,this.logService)}}class zD extends E{logService;constructor(e,t){super({name:"Jewel Caterpillar Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.parent;if(s.trumpets<2)return void this.triggerTigerExecution(e);const c=s.petArray.filter(b=>b.alive&&b!==n).slice(-2);if(0===c.length)return void this.triggerTigerExecution(e);const u=this.level;c.forEach(b=>b.increaseSellValue(u)),s.spendTrumpets(2,n,i);const h=this.formatNames(c.map(b=>b.name));this.logService.createLog({message:`${n.name} spent 2 trumpets to give ${h} +${u} sell value each permanently.`,type:"ability",player:s,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}formatNames(e){return 0===e.length?"no friends":1===e.length?e[0]:`${e.slice(0,-1).join(", ")} and ${e[e.length-1]}`}copy(e){return new zD(e,this.logService)}}class YD extends E{logService;constructor(e,t){super({name:"Pangasius Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=this.getFriendWithAilment(n.parent),r=this.getFirstEnemy(n.parent.opponent);if(!r)return void this.triggerTigerExecution(e);const c=this.level,u=s?.equipment??new So,h=ea(u);if(!h)return void this.triggerTigerExecution(e);c>1&&(h.multiplier=c,h.multiplierMessage=` x${c} (Pangasius)`),r.givePetEquipment(h);const b=["copied","copied with double effect","copied with triple effect"],D=b[Math.min(c,b.length)-1];this.logService.createLog({message:`${n.name} ${D} ${s?`${s.name}'s ${u?.name}`:u?.name} onto ${r.name}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}getFriendWithAilment(e){return e.petArray.filter(i=>i.alive&&i.equipment&&this.isAilmentEquipment(i.equipment)).sort((i,n)=>i.position-n.position)[0]??null}getFirstEnemy(e){return e.petArray.find(t=>t.alive)??null}isAilmentEquipment(e){return"ailment-attack"===e.equipmentClass||"ailment-defense"===e.equipmentClass||"ailment-other"===e.equipmentClass}copy(e){return new YD(e,this.logService)}}class XD extends E{logService;constructor(e,t){super({name:"Patagonian Mara Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.parent,r=4*this.level;s.gainTrumpets(r,n,i);const c=Mt.getInjector().get(Ba),u=new Zd(this.logService,c,s,this.level,this.level);s.summonPet(u,n.position),this.logService.createLog({message:`${n.name} gained ${r} trumpets and summoned a Golden Retriever.`,type:"ability",player:s,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new XD(e,this.logService)}}class JD extends E{logService;constructor(e,t){super({name:"Pony Ability",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.parent,r=this.level,c=n.petBehind();if(!c)return void this.triggerTigerExecution(e);const u=s.abilityService;for(let h=0;h<r;h++)this.applyBetterApple(c,u);this.logService.createLog({message:`${n.name} fed ${c.name} ${r} Better Apple${1===r?"":"s"} after knocking out an enemy.`,type:"ability",player:s,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}applyBetterApple(e,t){e.increaseAttack(2),e.increaseHealth(2),t?.triggerFoodEvents(e,"better apple")}copy(e){return new JD(e,this.logService)}}class QD extends E{logService;constructor(e,t){super({name:"Porcupine Ability",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{triggerPet:t}=e,i=this.owner;if(t&&t.alive&&t.parent!==i.parent){const n=3*this.level;i.dealDamage(t,n),this.logService.createLog({message:`${i.name} reflected ${n} damage to ${t.name}.`,type:"ability",player:i.parent})}this.triggerTigerExecution(e)}copy(e){return new QD(e,this.logService)}}class CL extends M{logService;abilityService;name="Quail";tier=1;pack="Custom";hidden=!0;attack=2;health=2;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class ZD extends E{logService;abilityService;constructor(e,t,i){super({name:"Quail Chick Ability",owner:e,triggers:["FoodEatenByThis"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=2*this.level*2,r=n.petAhead;r&&r.alive&&(r.increaseAttack(s),r.increaseHealth(s));const c=new CL(this.logService,this.abilityService,n.parent,void 0,void 0,void 0,n.exp);n.parent.transformPet(n,c),this.logService.createLog(r&&r.alive?{message:`${n.name} transformed into ${c.name} and gave ${r.name} +${s} attack and +${s} health.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}:{message:`${n.name} transformed into ${c.name}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new ZD(e,this.logService,this.abilityService)}}class eM extends E{logService;constructor(e,t){super({name:"Queen Bee Ability",owner:e,triggers:["BeeSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i,triggerPet:n}=e,s=this.owner,r=n;if(!r||"Bee"!==r.name)return void this.triggerTigerExecution(e);const c=3*this.level;r.increaseAttack(c),r.increaseHealth(c);const u=this.removeOtherQueenBees(s);this.logService.createLog({message:`${s.name} gave ${r.name} +${c}/+${c} and removed ${u} other Queen Bees.`,type:"ability",player:s.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}removeOtherQueenBees(e){const t=[e.parent,e.parent.opponent];let i=0;for(const n of t){for(const s of[...n.petArray])s!==e&&s.alive&&"Queen Bee"===s.name&&(s.health=0,n.handleDeath(s),i++);n.removeDeadPets()}return i}copy(e){return new eM(e,this.logService)}}class tM extends E{logService;constructor(e,t){super({name:"Quetzalcoatlus Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:n}=e,s=this.owner;if(!t||!t.alive)return void this.triggerTigerExecution(e);const r=this.level,c=t.parent.petArray.filter(u=>u.alive);for(const u of c)u.increaseAttack(r),u.increaseHealth(r);this.logService.createLog({message:`${s.name} (Faint) gave +${r}/+${r} to ${t.name} and its friends.`,type:"ability",player:s.parent,tiger:i,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new tM(e,this.logService)}}class iM extends E{logService;constructor(e,t){super({name:"Sage-Grouse Ability",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.parent;"Strawberry"===n.equipment?.name?(n.removePerk(!0),s.gold=s.gold??0,s.gold+=3,this.logService.createLog({message:`${n.name} sold and removed Strawberry to gain +3 gold.`,type:"ability",player:s,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new iM(e,this.logService)}}class nM extends M{logService;abilityService;petService;name="Sarcastic Fringehead";tier=3;pack="Custom";attack=4;health=7;initAbilities(){this.addAbility(new rM(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b)}}class rM extends E{logService;petService;constructor(e,t,i){super({name:"SarcasticFringeheadAbility",owner:e,triggers:["FoodEatenByThis","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t,this.petService=i}swallowFood(e){const t=this.owner;if(e.triggerPet!==t)return;const i=t.sarcasticFringeheadSwallowedPet;if(!i)return;const n=this.petService.createPet({name:i,attack:1,health:1,exp:t.minExpForLevel,equipment:null,mana:0},t.parent);n&&(t.swallowedPets.push(n),this.logService.createLog({message:`${t.name} swallowed ${i}.`,type:"ability",player:t.parent,tiger:e.tiger}))}spawnForOpponent(e){const t=this.owner,i=t.parent.opponent;for(;t.swallowedPets.length>0;){const n=t.swallowedPets.shift();if(!n)continue;n.parent=i;const s=i.summonPet(n,0,!1);s.success&&this.logService.createLog({message:`${t.name} spawned ${n.name} for the opponent.`,type:"ability",player:t.parent,tiger:e.tiger,randomEvent:s.randomEvent})}}executeAbility(e){const t=e.trigger;"FoodEatenByThis"===t?this.swallowFood(e):"PostRemovalFaint"===t&&this.spawnForOpponent(e),this.triggerTigerExecution(e)}copy(e){return new rM(e,this.logService,this.petService)}}class aM extends E{logService;constructor(e,t){super({name:"Silkie Chicken Ability",owner:e,triggers:["FriendGainsAilment"],abilityType:"Pet",native:!0,maxUses:2,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i,triggerPet:n}=e,s=this.owner,r=n;if(!r||!r.alive)return void this.triggerTigerExecution(e);const u=Mt.getInjector().get(ui).getUsefulPerksByTier(1);if(0===u.length)return void this.triggerTigerExecution(e);const b=u[Ot(0,u.length-1)];r.givePetEquipment(b),this.logService.createLog({message:`${s.name} gave ${r.name} the ${b.name} perk.`,type:"ability",player:s.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new aM(e,this.logService)}}class DL extends M{logService;abilityService;name="Smaller Slime";tier=1;pack="Unicorn";hidden=!0;health=2;attack=2;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class ML extends M{logService;abilityService;name="Slime";tier=3;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new oM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class oM extends E{logService;constructor(e,t){super({name:"Slime Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=Math.max(0,n.battlesFought??0),r=Math.floor(s/2);if(r<=0)return void this.triggerTigerExecution(e);const c=2*this.level;let u=0;for(let h=0;h<r;h++){const b=new DL(this.logService,n.abilityService,n.parent,c,c);if(!n.parent.summonPet(b,n.position).success)break;u++}u>0&&this.logService.createLog({message:`${n.name} summoned ${u} ${c}/${c} Smaller Slime${1===u?"":"s"}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new oM(e,this.logService)}}class sM extends E{logService;constructor(e,t){super({name:"Sugar Glider Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=2*this.level,c=rr(n.parent.petArray.filter(u=>u.alive&&u!==n)).slice(0,2);for(const u of c)u.mana+=s;c.length>0&&this.logService.createLog({message:`${n.name} gave ${s} mana to ${c.length} friends.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new sM(e,this.logService)}}class lM extends E{logService;constructor(e,t){super({name:"Tree Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=[6,12,18],r=s[Math.min(this.level-1,s.length-1)];n.attack<=r&&(n.givePetEquipment(new Fa),this.logService.createLog({message:`${n.name} gained Coconut perk for meeting the ${r} attack threshold.`,type:"ability",player:n.parent,tiger:t,pteranodon:i})),this.triggerTigerExecution(e)}copy(e){return new lM(e,this.logService)}}class cM extends E{logService;constructor(e,t){super({name:"Vampire Parrot Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.parent.petArray.filter(H=>H.alive&&H.equipment),r=new Set;for(const H of s){const Y=H.equipment.equipmentClass;("ailment-attack"===Y||"ailment-defense"===Y||"ailment-other"===Y)&&r.add(H.equipment.name)}const c=r.size;if(0===c)return void this.triggerTigerExecution(e);const u=this.level,h=2*this.level,b=c*u,D=c*h;n.increaseAttack(b),n.increaseHealth(D),this.logService.createLog({message:`${n.name} gained +${b}/+${D} (+${u}/+${h} per unique ailment) from ${c} friendly pets with different ailments.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new cM(e,this.logService)}}class uM extends E{logService;constructor(e,t){super({name:"Wasp Ability",owner:e,triggers:["ShopUpgrade"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,n=Math.floor(t.attack*(.5*this.level));n>0&&(t.increaseAttack(n),this.logService.createLog({message:`${t.name} gained +${n} attack from Shop Upgrade.`,type:"ability",player:t.parent}))}copy(e){return new uM(e,this.logService)}}const dM=new Map,xL=ha??es;if(Array.isArray(xL))for(const a of xL){if(!a?.Name)continue;const e=Number(a.Attack??0),t=Number(a.Health??0);dM.set(a.Name,{attack:e,health:t})}class hM extends E{logService;pendingAttack=0;pendingHealth=0;constructor(e,t){super({name:"Andrewsarchus Ability",owner:e,triggers:["EndTurn","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:n}=e,s=this.owner;if("StartTurn"===e.trigger)return(this.pendingAttack||this.pendingHealth)&&(s.increaseAttack(-this.pendingAttack),s.increaseHealth(-this.pendingHealth),this.pendingAttack=0,this.pendingHealth=0),void this.triggerTigerExecution(e);const r=s.parent===t?.player?t?.playerPetPool:t?.opponentPetPool,c=[];let u=-1;for(const ue of r?.values()??[])for(const he of ue??[]){const ye=dM.get(he);ye&&(ye.health>u?(u=ye.health,c.length=0,c.push(he)):ye.health===u&&c.push(he))}if(!c.length||u<0)return void this.triggerTigerExecution(e);const h=1===c.length?c[0]:c[Ot(0,c.length-1)],b=dM.get(h);if(!b)return void this.triggerTigerExecution(e);const D=.5*this.level,H=Math.floor(b.attack*D),Y=Math.floor(b.health*D);(H>0||Y>0)&&(s.increaseAttack(H),s.increaseHealth(Y),this.pendingAttack+=H,this.pendingHealth+=Y),this.logService.createLog({message:`${s.name} removed ${h} from the shop and gained +${H}/+${Y} until next turn.`,type:"ability",player:s.parent,tiger:i,pteranodon:n,randomEvent:c.length>1}),this.triggerTigerExecution(e)}copy(e){const t=new hM(e,this.logService);return t.pendingAttack=this.pendingAttack,t.pendingHealth=this.pendingHealth,t}}class pM extends E{logService;constructor(e,t){super({name:"AnubisAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:n}=e,s=this.owner,r=[2,4,6],c=r[Math.min(Math.max(this.level,1)-1,r.length-1)],u=s.parent.petArray.filter(h=>h&&h!==s&&h.alive&&h.isFaintPet()&&h.tier<=c).sort((h,b)=>(h.position??0)-(b.position??0)).slice(0,2);for(const h of u)this.logService.createLog({message:`${s.name} activated ${h.name}'s faint ability (tier ${h.tier} <= ${c}).`,type:"ability",player:s.parent,tiger:i,pteranodon:n}),h.activateAbilities("PostRemovalFaint",t,"Pet");this.triggerTigerExecution(e)}copy(e){return new pM(e,this.logService)}}class gM extends E{logService;constructor(e,t){super({name:"Blue-Footed Booby Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner;if(n.parent.trumpets<4)return void this.triggerTigerExecution(e);const c=n.getPetsBehind(1,"Melon Slice")[0];if(!c||!c.alive)return void this.triggerTigerExecution(e);n.parent.spendTrumpets(4,n);const u=new jf;u.uses=this.level,u.originalUses=u.uses,c.givePetEquipment(u),this.logService.createLog({message:`${n.name} spent 4 trumpets to give ${c.name} a Melon Slice (${u.uses} uses).`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new gM(e,this.logService)}}class mM extends E{logService;abilityService;constructor(e,t,i){super({name:"CrowAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked one ${1===this.level?"Chocolate":2===this.level?"Better Chocolate":"Best Chocolate"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new mM(e,this.logService,this.abilityService)}}class fM extends E{logService;constructor(e,t){super({name:"Deinocheirus Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.equipment;if(!s)return void this.triggerTigerExecution(e);if(!s.equipmentClass?.startsWith("ailment"))return void this.triggerTigerExecution(e);const c=this.level,u=c,h=2*c;n.increaseAttack(u),n.increaseHealth(h),this.logService.createLog({message:`${n.name} reversed ${s.name} and gained +${u}/+${h} (x${c}).`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new fM(e,this.logService)}}class yM extends E{logService;constructor(e,t){super({name:"DragonflyAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=this.level,n=t.parent.petArray.filter(r=>r&&r.alive&&r!==t),s=new Map;for(const r of n)s.has(r.level)||s.set(r.level,r);if(0!==s.size){for(const r of s.values())r.increaseAttack(i),r.increaseHealth(i);this.logService.createLog({message:`${t.name} gave friends +${i}/+${i} based on unique levels.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new yM(e,this.logService)}}class vM extends E{logService;pendingAttackBuff=0;pendingHealthBuff=0;constructor(e,t){super({name:"Gazelle Ability",owner:e,triggers:["StartTurn","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{trigger:t,gameApi:i,tiger:n,pteranodon:s}=e,r=this.owner;"StartTurn"===t?this.applyBonus(i,r,n,s):"EndTurn"===t&&this.removeBonus(r)}applyBonus(e,t,i,n){const r=Math.max(0,((t.parent===e?.player?e.playerGoldSpent:e?.opponentGoldSpent)??0)-10);if(r<=0)return this.pendingAttackBuff=0,void(this.pendingHealthBuff=0);const h=r*[2,4,6][Math.min(this.level-1,2)],b=r*[1,2,3][Math.min(this.level-1,2)];t.increaseAttack(h),t.increaseHealth(b),this.pendingAttackBuff=h,this.pendingHealthBuff=b,this.logService.createLog({message:`${t.name} gained +${h}/+${b} (per gold over 10) from ${r} gold.`,type:"ability",player:t.parent,tiger:i,pteranodon:n})}removeBonus(e){(0!==this.pendingAttackBuff||0!==this.pendingHealthBuff)&&(e.increaseAttack(-this.pendingAttackBuff),e.increaseHealth(-this.pendingHealthBuff),this.pendingAttackBuff=0,this.pendingHealthBuff=0)}copy(e){return new vM(e,this.logService)}}class IL extends M{logService;abilityService;name="Sleeping Gelada";tier=1;pack="Custom";hidden=!0;attack=3;health=7;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class bM extends E{logService;abilityService;constructor(e,t,i){super({name:"Gelada Ability",owner:e,triggers:["Eat2"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=this.level;if(s<=0)return void this.triggerTigerExecution(e);const r=new IL(this.logService,this.abilityService,n.parent,void 0,void 0,void 0,n.exp);n.parent.transformPet(n,r),this.feedFriends(s),this.logService.createLog({message:`${n.name} transformed into ${r.name} and fed each friend ${s} Pear${1===s?"":"s"}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}feedFriends(e){if(e<=0)return;const n=this.owner.parent.petArray.filter(s=>s&&s.alive);for(const s of n)for(let r=0;r<e;r++)s.increaseAttack(1),s.increaseHealth(1),this.abilityService.triggerFoodEvents(s,"pear")}copy(e){return new bM(e,this.logService,this.abilityService)}}class AM extends M{logService;abilityService;petService;name="Goblin Shark";tier=4;pack="Custom";attack=6;health=3;initAbilities(){this.addAbility(new PM(this,this.logService,this.petService)),this.addAbility(new SM(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b)}}class SM extends E{logService;abilityService;constructor(e,t,i){super({name:"GoblinSharkFaintAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>this.owner.alive,abilityFunction:n=>{this.executeAbility(n)},ignoreRepeats:!0}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;for(;r.swallowedPets.length>0;){let c=r.swallowedPets.shift();c.health=1;let u=r.parent.summonPet(c,r.savedPosition,!1,r);u.success&&this.logService.createLog({message:`${r.name} summoned ${c.name} (level ${c.level}).`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:u.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new SM(e,this.logService,this.abilityService)}}class PM extends E{logService;petService;constructor(e,t,i){super({name:"GoblinSharkStartAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=6*this.level;for(let u of r.parent.opponent.petArray)if(u.alive&&u.health<=c){let h=this.petService.createPet({name:u.name,attack:u.attack,health:u.health,exp:u.exp,equipment:null,mana:0},r.parent);r.swallowedPets.push(h),u.health=0,this.logService.createLog({message:`${r.name} swallowed ${u.name}`,type:"ability",player:r.parent,tiger:n,pteranodon:s});break}this.triggerTigerExecution(e)}copy(e){return new PM(e,this.logService,this.petService)}}class _M extends E{logService;constructor(e,t){super({name:"HippocampusAbility",owner:e,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:n}=e,s=this.owner;if(!t)return void this.triggerTigerExecution(e);const r=s.parent===t.player?t.playerRollAmount||0:t.opponentRollAmount||0,c=r*this.level;c<=0||(s.increaseMana(c),Gi(this.logService,s,`${s.name} gained ${c} mana from ${r} rolls this turn.`,i,n)),this.triggerTigerExecution(e)}copy(e){return new _M(e,this.logService)}}class kM extends E{logService;constructor(e,t){super({name:"Hoatzin Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.parent,r=3*this.level;let c=0;for(const b of s.petArray)!b||!b.alive||"Strawberry"===b.equipment?.name&&(b.removePerk(),c++);if(0===c)return void this.triggerTigerExecution(e);const u=r*c,h=s.resolveTrumpetGainTarget(n);h.player.gainTrumpets(u,n,t,void 0,void 0,h.random),this.logService.createLog({message:`${n.name} removed ${c} Strawberry${1===c?"":"s"} for +${u} trumpets.`,type:"ability",player:s,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new kM(e,this.logService)}}class wM extends E{logService;abilityService;lastTriggeredTurn=null;constructor(e,t,i){super({name:"Jerboa Ability",owner:e,triggers:["AppleEatenByThis"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:t,pteranodon:i,gameApi:n}=e,s=this.owner,r=n?.turnNumber??null;if(null!=r&&this.lastTriggeredTurn===r)return void this.triggerTigerExecution(e);this.lastTriggeredTurn=r;const c=this.level,u=s.parent,h=u.petArray.filter(b=>b&&b.alive&&b!==s);if(0!==h.length){for(const b of h)b.increaseAttack(c),b.increaseHealth(c);this.logService.createLog({message:`${s.name} ate an apple and gave friendly pets +${c}/+${c}.`,type:"ability",player:u,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new wM(e,this.logService,this.abilityService)}}class TM extends E{logService;constructor(e,t){super({name:"Leaf Gecko Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=Mt.getInjector().get(ui),r=Array.from(s.getInstanceOfAllAilments().keys()),c=[...n.parent.petArray,...n.parent.opponent.petArray].filter(Y=>Y?.alive);if(0===r.length||0===c.length)return void this.triggerTigerExecution(e);const u=3*this.level;let h=0,b=0;const D=5*u;for(;h<u&&b<D;){const Y=c[Ot(0,c.length-1)],ue=r[Ot(0,r.length-1)];if(!Y||!wl(Y,ue)){b++;continue}const he=s.getInstanceOfAllAilments().get(ue);if(!he){b++;continue}const ye=ea(he);ye?(Y.parent!==n.parent&&(ye.multiplier=2,ye.multiplierMessage=" x2 (Leaf Gecko)"),Y.givePetEquipment(ye),h++,b++):b++}Gi(this.logService,n,h>0?`${n.name} cursed ${h} pet${1===h?"":"s"} with random ailments.`:`${n.name} could not apply any random ailments.`,t,i),this.triggerTigerExecution(e)}copy(e){return new TM(e,this.logService)}}class EM extends E{logService;constructor(e,t){super({name:"Leafy Sea Dragon Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=this.level,r=ts(n);r.forEach(u=>{u.increaseExp(s)}),n.health=0,n.parent.handleDeath(n),n.parent.removeDeadPets(),Gi(this.logService,n,`${n.name} gave ${r.length} adjacent friend${1===r.length?"":"s"} +${s} experience and removed itself.`,t,i),this.triggerTigerExecution(e)}copy(e){return new EM(e,this.logService)}}const o3=(()=>{const a=fs??_o;if(!Array.isArray(a))return[];const e=[],t=/Give one pet \+(\d+) attack(?: and \+(\d+) health)?|Give one pet \+(\d+) health/;for(const i of a){const n=i?.Ability??"";if(!n||/perk/i.test(n)||!n.startsWith("Give one pet +"))continue;const s=n.match(t);if(!s)continue;const r=s[1]?Number(s[1]):0,c=s[2]?Number(s[2]):s[3]?Number(s[3]):0;!Number.isFinite(r)||!Number.isFinite(c)||e.push({name:i.Name,attack:r,health:c})}return e})();class CM extends E{logService;abilityService;constructor(e,t,i){super({name:"Locust Ability",owner:e,triggers:["FoodEatenByThis","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t,this.abilityService=i}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:n}=e,s=this.owner,r=s,c=t?.turnNumber??0;if(r.locustFoodTurn!==c&&(r.locustFoodTurn=c,r.locustFoodEaten=0),r.locustFoodSeededTurn!==c){r.locustFoodSeededTurn=c;const Y=s.foodsEaten??0;Y>0&&(r.locustFoodEaten=Math.max(r.locustFoodEaten??0,Y))}if("FoodEatenByThis"===e.trigger&&s.alive)return void(r.locustFoodEaten=(r.locustFoodEaten??0)+1);if("PostRemovalFaint"!==e.trigger)return void this.triggerTigerExecution(e);const u=r.locustFoodEaten??0;if(u<=0)return void this.triggerTigerExecution(e);let h=0;const b=s.position??s.savedPosition??0,D=Mt.getInjector().get(Kn),H=o3;for(let Y=0;Y<u;Y++)for(let ue=0;ue<this.level;ue++){const he=D?D.getRandomPet(s.parent):null;if(!he||!s.parent.summonPet(he,b,!1,s).success)break;if(h++,H.length>0){const _e=H[Ot(0,H.length-1)];_e&&(_e.attack&&he.increaseAttack(_e.attack),_e.health&&he.increaseHealth(_e.health),this.abilityService?.triggerFoodEvents(he,_e.name.toLowerCase()))}}this.logService.createLog({message:`${s.name} summoned ${h} friend${1===h?"":"s"} and fed them random food.`,type:"ability",player:s.parent,tiger:i,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new CM(e,this.logService,this.abilityService)}}class DM extends E{logService;constructor(e,t){super({name:"Lynx Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.parent.petArray.reduce((u,h)=>u+(h?.level??0),0);if(s<=0)return void this.triggerTigerExecution(e);const r=this.level,c=[];for(let u=0;u<r;u++){const h=n.parent.opponent.getRandomPet(c,!1,!1,!1,n);if(!h.pet)break;c.push(h.pet),n.snipePet(h.pet,s,h.random)}this.logService.createLog({message:`${n.name} dealt ${s} damage to ${c.length} enemy${1===c.length?"":"ies"}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new DM(e,this.logService)}}class MM extends E{logService;abilityService;constructor(e,t,i){super({name:"Old Mouse Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=Mt.getInjector().get(Br),r=Math.max(1,Math.min(3,this.level)),c=s.toys.get(r)??[];if(0===c.length)return void this.triggerTigerExecution(e);const u=c[0],h=s.createToy(u,n.parent,r);h?(n.parent.toy=h,n.parent.toy.used=!1,n.parent.toy.triggers=0,Gi(this.logService,n,`${n.name} chose a level ${r} ${u} toy.`,t,i),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new MM(e,this.logService,this.abilityService)}}class xM extends E{logService;pendingBuffs=new Map;constructor(e,t){super({name:"Pegasus Ability",owner:e,triggers:["FriendSummoned","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{trigger:t,tiger:i,pteranodon:n}=e,s=this.owner;if("FriendSummoned"===t){const r=s.parent.getRandomPets(3,[],!1,!1,s),c=this.level;if(r.pets.length>0){const u=[];for(const h of r.pets){h.increaseAttack(c);const b=this.pendingBuffs.get(h)??0;this.pendingBuffs.set(h,b+c),u.push(h.name)}this.logService.createLog({message:`${s.name} temporarily buffed ${u.join(", ")} for +${c} attack until next turn.`,type:"ability",player:s.parent,tiger:i,pteranodon:n,randomEvent:r.random})}}else"EndTurn"===t&&this.resetBuffs();this.triggerTigerExecution(e)}resetBuffs(){for(const[e,t]of this.pendingBuffs)e.alive&&e.increaseAttack(-t);this.pendingBuffs.clear()}copy(e){return new xM(e,this.logService)}}class IM extends E{logService;constructor(e,t){super({name:"PlatybelodonAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n}=e,r=this.owner;let c=0;r.parent===t.player?c=t.playerRollAmount||0:r.parent===t.opponent&&(c=t.opponentRollAmount||0);let u=this.level*Math.min(c,8);if(u>0){const h=r.parent.resolveTrumpetGainTarget(r);h.player.gainTrumpets(u,r,n,void 0,void 0,h.random)}this.triggerTigerExecution(e)}copy(e){return new IM(e,this.logService)}}class RM extends E{logService;constructor(e,t){super({name:"Poodle Moth Ability",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",maxUses:e.level,native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:n}=e,s=this.owner;t&&t.parent===s.parent?(t.increaseExp(3),this.logService.createLog({message:`${s.name} gave ${t.name} +3 experience after transforming.`,type:"ability",player:s.parent,tiger:i,pteranodon:n}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new RM(e,this.logService)}}class LM extends E{logService;constructor(e,t){super({name:"Racket Tail Ability",owner:e,triggers:["BeforeFriendAttacks"],abilityType:"Pet",maxUses:e.level,native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:n}=e,s=this.owner;if(!t||t.parent!==s.parent||!t.alive)return void this.triggerTigerExecution(e);const c=Mt.getInjector().get(ui).getInstanceOfAllEquipment().get("Strawberry");c&&t.givePetEquipment(c),t.increaseAttack(5),this.logService.createLog({message:`${s.name} gave ${t.name} Strawberry and +5 attack before attacking.`,type:"ability",player:s.parent,tiger:i,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new LM(e,this.logService)}}class NM extends M{logService;abilityService;petService;name="Red Lipped Batfish";tier=4;pack="Custom";attack=5;health=3;initAbilities(){this.addAbility(new FM(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b)}}class FM extends E{logService;petService;constructor(e,t,i){super({name:"Red Lipped Batfish Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.parent.opponent;if(!s)return void this.triggerTigerExecution(e);const r=s.getPetAtPosition(n.position);if(!r||!r.alive)return void this.triggerTigerExecution(e);const c=Math.max(1,4-this.level),u=this.petService.getRandomFaintPet(s,c);s.transformPet(r,u),this.logService.createLog({message:`${n.name} transformed ${r.name} into ${u.name} (tier ${c}).`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new FM(e,this.logService,this.petService)}}class OM extends E{logService;constructor(e,t){super({name:"Rootling Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=this.level,c=n.parent.petArray.filter(u=>u&&u.alive&&u!==n&&u.health<n.health).sort((u,h)=>u.health-h.health).slice(0,2);for(const u of c)u.increaseAttack(s),u.increaseHealth(s);c.length>0&&this.logService.createLog({message:`${n.name} gave ${c.map(u=>u.name).join(", ")} +${s}/+${s}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new OM(e,this.logService)}}class BM extends E{logService;usesThisTurn=0;maxUsesPerTurn=3;constructor(e,t){super({name:"Sea Anemone Ability",owner:e,triggers:["FriendSold","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const i=e.triggerPet;if(!i||!i.isSellPet())return void this.triggerTigerExecution(e);const n=t.parent.petArray.filter(c=>c&&c!==t&&c.alive);if(0===n.length)return void this.triggerTigerExecution(e);const s=n[Math.floor(Math.random()*n.length)],r=Math.min(Math.max(this.level,1),3);s.increaseAttack(r),s.increaseHealth(r),this.usesThisTurn++,this.logService.createLog({message:`${t.name} gave ${s.name} +${r}/+${r} after ${i.name} was sold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new BM(e,this.logService)}}class $M extends M{logService;abilityService;petService;gameService;name="Seagull";tier=4;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new GM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b,D){super(e,t,s),this.logService=e,this.abilityService=t,this.petService=i,this.gameService=n,this.initPet(h,r,c,u,b,D)}}class GM extends E{logService;usesThisTurn=0;constructor(e,t){super({name:"SeagullAbility",owner:e,triggers:["FriendSummoned","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:n,trigger:s}=e,r=this.owner;if("StartTurn"===s)return void(this.usesThisTurn=0);const c=Wn(r,t);if(!c.pet||!r.equipment||this.usesThisTurn>=this.level)return void this.triggerTigerExecution(e);const u=Mt.getInjector().get(ui),h=r.equipment,b=u.getInstanceOfAllEquipment().get(h.name);if(!b)return void this.triggerTigerExecution(e);const D=c.pet;D.givePetEquipment(b),this.usesThisTurn++,Gi(this.logService,r,`${r.name} gave ${D.name} a ${h.name}`,i,n,{randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new GM(e,this.logService)}}class HM extends E{logService;affectedPets=new Set;constructor(e,t){super({name:"Spider Crab Ability",owner:e,triggers:["FriendAttacked","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{triggerPet:i,tiger:n,pteranodon:s}=e;if("StartTurn"===e.trigger)return this.affectedPets.clear(),void this.triggerTigerExecution(e);if(!i||i.parent!==t.parent)return void this.triggerTigerExecution(e);if(!i.alive)return void this.triggerTigerExecution(e);if(this.affectedPets.has(i))return void this.triggerTigerExecution(e);if(this.affectedPets.size>=this.level)return void this.triggerTigerExecution(e);let r=i;if(Bt(t)){const c=t.parent.petArray.filter(u=>u.alive);if(0===c.length)return void this.triggerTigerExecution(e);r=c[Ot(0,c.length-1)]}r.increaseHealth(4),r.parent.pushPetToBack(r),this.affectedPets.add(i),this.logService.createLog({message:`${t.name} moved ${r.name} to the back and gave it +4 health.`,type:"ability",player:t.parent,tiger:n,pteranodon:s}),this.triggerTigerExecution(e)}copy(e){return new HM(e,this.logService)}}class jM extends E{logService;constructor(e,t){super({name:"Spiny Bush Viper Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.opponent.petArray.filter(c=>c&&c.alive);if(0===i.length)return void this.triggerTigerExecution(e);const n=rr([...i]).slice(0,Math.min(2,i.length)),s=t.position??t.savedPosition??0,r=[];for(const c of n){const h=Math.max(1,Math.abs(s-(c.position??c.savedPosition??0))),b=Math.max(1,this.level)*h;t.dealDamage(c,b),r.push(`${b} to ${c.name}`)}r.length>0&&this.logService.createLog({message:`${t.name} dealt ${r.join(" and ")}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new jM(e,this.logService)}}class A3 extends M{name="Tardigrade";tier=1;pack="Custom";attack=3;health=3;initAbilities(){}constructor(e,t,i,n,s){super(e,t,i),this.initPet(0,n,s,0,void 0,0)}}class qM extends E{logService;abilityService;constructor(e,t,i){super({name:"Tardigrade Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=3*Math.max(1,this.level),n=t.position??t.savedPosition??0,s=new A3(this.logService,this.abilityService,t.parent,i,i);t.parent.summonPet(s,n,!1,t).success&&(s.givePetEquipment(new Kd),this.logService.createLog({message:`${t.name} summoned a ${i}/${i} level ${this.level} Tardigrade (Dazed).`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon})),this.triggerTigerExecution(e)}copy(e){return new qM(e,this.logService,this.abilityService)}}class UM extends E{logService;constructor(e,t){super({name:"Trout Ability",owner:e,triggers:["FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=e.triggerPet;if(!i||i.sellValue<3)return void this.triggerTigerExecution(e);const n=Math.max(1,this.level),s=2*n;t.increaseAttack(n),t.increaseHealth(s),this.logService.createLog({message:`${t.name} gained +${n}/+${s} after ${i.name} was sold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new UM(e,this.logService)}}class WM extends E{logService;constructor(e,t){super({name:"Yeti Crab Ability",owner:e,triggers:["PetLostPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,precondition:i=>{const{triggerPet:n}=i,s=this.owner;return!!n&&(n.parent!==s.parent?n.alive:Ra(s,n))},abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=e.triggerPet,{tiger:n,pteranodon:s}=e;if(i){if(i.parent===t.parent){const r=Lt(t,i),c=r.pet;if(!c)return;const u=new jf;c.givePetEquipment(u),this.logService.createLog({message:`${t.name} gave ${c.name} a Melon Slice after losing a perk.`,type:"ability",player:t.parent,tiger:n,randomEvent:r.random})}else t.dealDamage(i,6),this.logService.createLog({message:`${t.name} dealt 6 damage to ${i.name} after they lost a perk.`,type:"ability",player:t.parent,tiger:n,pteranodon:s});this.triggerTigerExecution(e)}}copy(e){return new WM(e,this.logService)}}class VM extends E{logService;foodsEatenThisTurn=0;seededFromShop=!1;constructor(e,t){super({name:"Blue Jay Ability",owner:e,triggers:["FoodEatenByThis","StartTurn","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.foodsEatenThisTurn=0,void(this.seededFromShop=!1);if(!this.seededFromShop){const i=t.foodsEaten??0;i>0&&(this.foodsEatenThisTurn=Math.max(this.foodsEatenThisTurn,i)),this.seededFromShop=!0}if("FoodEatenByThis"!==e.trigger){if("PostRemovalFaint"===e.trigger){const n=this.level*this.foodsEatenThisTurn;if(n<=0)return void this.triggerTigerExecution(e);const s=t.parent.petArray.filter(c=>c&&c!==t&&c.alive);if(0===s.length)return void this.triggerTigerExecution(e);rr(s);const r=s.slice(0,3);for(const c of r)c.increaseAttack(n),c.increaseHealth(n);this.logService.createLog({message:`${t.name} gave ${r.map(c=>c.name).join(", ")} +${n}/+${n} after fainting.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}else this.foodsEatenThisTurn++}copy(e){return new VM(e,this.logService)}}class KM extends E{logService;abilityService;reset(){this.maxUses=2*this.level,super.reset()}initUses(){this.maxUses=2*this.level,super.initUses()}constructor(e,t,i){super({name:"BoitataAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2*e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getPetsWithEquipmentWithSillyFallback("Crisp",r),u=r.parent.opponent.getFurthestUpPet(r,c),h=u.pet;null!=h&&(this.logService.createLog({message:`${r.name} gave ${h.name} Crisp.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:u.random}),h.givePetEquipment(new ml),this.triggerTigerExecution(e))}copy(e){return new KM(e,this.logService,this.abilityService)}}class zM extends E{logService;attackers=new Set;constructor(e,t){super({name:"Brahma Chicken Ability",owner:e,triggers:["FriendAttacked","PostRemovalFaint","StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{triggerPet:i,tiger:n,pteranodon:s}=e;if("StartBattle"!==e.trigger){if("FriendAttacked"===e.trigger&&i&&i.parent===t.parent)this.attackers.add(i);else if("PostRemovalFaint"===e.trigger){const r=rr(Array.from(this.attackers).filter(b=>b&&b.alive)),c=Math.min(3,r.length),u=this.level,h=r.slice(0,c);for(const b of h)b.increaseAttack(u),b.increaseHealth(u);h.length>0&&this.logService.createLog({message:`${t.name} gave ${h.map(b=>b.name).join(", ")} +${u}/+${u} after fainting.`,type:"ability",player:t.parent,tiger:n,pteranodon:s}),this.triggerTigerExecution(e)}}else this.attackers.clear()}copy(e){return new zM(e,this.logService)}}class LL extends M{logService;abilityService;name="Cuckoo Chick";tier=1;pack="Custom";hidden=!0;attack=1;health=1;increaseAttack(e){e<=0||!this.alive||(this.attack=Math.min(this.attack+e,1))}increaseHealth(e){e<=0||!this.alive||(this.health=Math.min(this.health+e,1))}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}}class YM extends E{logService;abilityService;constructor(e,t,i){super({name:"CuckooAbility",owner:e,triggers:["EnemyFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:i,pteranodon:n}=e,s=this.owner,r=s.parent.opponent;if(this.currentUses>2*this.level)return;let u=new LL(this.logService,this.abilityService,r);u.initPet(0,1,1,0,null,0);let b=r.summonPet(u,0,!0,s);b.success&&this.logService.createLog({message:`${s.name} summoned Cuckoo Chick for the enemy Early.`,type:"ability",player:s.parent,tiger:i,pteranodon:n,randomEvent:b.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new YM(e,this.logService,this.abilityService)}}class C3 extends M{name="Estemmenosuchus's Ally";tier=1;pack="Custom";attack=1;health=1;initAbilities(){}constructor(e,t,i,n,s){super(e,t,i),this.initPet(0,s,n,0,void 0,0)}}class XM extends E{logService;abilityService;constructor(e,t,i){super({name:"Estemmenosuchus Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t,this.abilityService=i}countAilments(){return this.owner.parent.petArray.filter(t=>{const i=t?.equipment?.equipmentClass;return!!i&&i.startsWith("ailment")}).length}executeAbility(e){const t=this.owner,i=Math.max(0,this.countAilments()),n=3+i,s=Math.min(this.level,3),r=t.position??t.savedPosition??0;let c=0;for(let u=0;u<s;u++){const h=new C3(this.logService,this.abilityService,t.parent,n,n);if(!t.parent.summonPet(h,r,!1,t).success)break;c++}c>0&&this.logService.createLog({message:`${t.name} summoned ${c} 3/3 friend${1===c?"":"s"} with +${i}/+${i}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new XM(e,this.logService,this.abilityService)}}class JM extends E{logService;constructor(e,t){super({name:"Farmer Crow Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=Math.min(t.level,3),s=t.parent.nearestPetsBehind(i,t),r=s.pets;for(const c of r)for(let u=0;u<3;u++){const h=new Ol;h.effectMultiplier=3,c.applyEquipment(h)}r.length>0&&this.logService.createLog({message:`${t.name} fed Corncobs with 3x effect to ${r.length} friend${1===r.length?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:s.random}),this.triggerTigerExecution(e)}copy(e){return new JM(e,this.logService)}}class QM extends E{logService;constructor(e,t){super({name:"Farmer Dog Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=this.level,n=t.parent.petArray.filter(s=>s&&s.alive&&s!==t);if(0!==n.length){for(const s of n){const r=new Ol;r.effectMultiplier=i,s.givePetEquipment(r)}this.logService.createLog({message:`${t.name} fed ${i} Corncob${1===i?"":"s"} to ${n.length} friend${1===n.length?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new QM(e,this.logService)}}class ZM extends E{logService;foodsEaten=0;triggeredThisTurn=!1;constructor(e,t){super({name:"Flounder Ability",owner:e,triggers:["FoodEatenByThis","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.foodsEaten=0,this.triggeredThisTurn=!1,void this.triggerTigerExecution(e);if(this.triggeredThisTurn)return void this.triggerTigerExecution(e);if(this.foodsEaten++,this.foodsEaten<2)return void this.triggerTigerExecution(e);const i=this.level,n=t.parent.nearestPetsBehind(2,t);for(const s of n.pets)s.increaseExp(i),this.logService.createLog({message:`${t.name} gave ${s.name} ${i} exp.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random});this.triggeredThisTurn=!0,this.triggerTigerExecution(e)}copy(e){return new ZM(e,this.logService)}}class ex extends E{logService;constructor(e,t){super({name:"Fox Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,n=Mt.getInjector().get(ui).getInstanceOfAllEquipment(),s=Array.from(n.values()).filter(b=>"shop"===b.equipmentClass);if(0===s.length)return void this.triggerTigerExecution(e);const r=s[s.length-1],c=this.level,h=Math.max(1,2*t.level)*c;t.increaseAttack(h),t.increaseHealth(h),this.logService.createLog({message:`${t.name} stole ${r.name} (x${c}) and gained +${h}/+${h}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new ex(e,this.logService)}}class tx extends E{logService;triggerCount=0;constructor(e,t){super({name:"Giant Isopod Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,s=[2,4,6][Math.min(Math.max(this.level-1,0),2)]+Math.floor(this.triggerCount/2),r=t.parent.petArray.filter(c=>c&&c.alive&&c!==t);for(const c of r)c.increaseHealth(s);this.logService.createLog({message:`${t.name} gave ${r.length} friends +${s} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),t.parent.trumpets>=2&&t.parent.spendTrumpets(2,t),this.triggerCount++,this.triggerTigerExecution(e)}copy(e){return new tx(e,this.logService)}}class ix extends M{logService;abilityService;petService;name="Hippogriff";tier=5;pack="Custom";attack=5;health=5;initAbilities(){this.addAbility(new nx(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b)}}class nx extends E{logService;abilityService;petService;pendingBuffs=new Map;constructor(e,t,i,n){super({name:"Hippogriff Ability",owner:e,triggers:["FriendSummoned","EndTurn","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:s=>this.executeAbility(s)}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{trigger:t,triggerPet:i,gameApi:n}=e;if("FriendSummoned"===t){const u=Wn(this.owner,i);u.pet&&this.applyTemporaryBuff(u.pet,e,u.random)}else"EndTurn"===t?this.resetBuffs():"PostRemovalFaint"===t&&this.summonNextTierPet(n,e);this.triggerTigerExecution(e)}applyTemporaryBuff(e,t,i){const n=this.owner,s=this.level;e.increaseAttack(s);const r=this.pendingBuffs.get(e)??0;this.pendingBuffs.set(e,r+s),Gi(this.logService,n,`${n.name} gave ${e.name} +${s} attack until next turn.`,t.tiger,t.pteranodon,{randomEvent:i})}resetBuffs(){for(const[e,t]of this.pendingBuffs)e&&e.increaseAttack(-t);this.pendingBuffs.clear()}summonNextTierPet(e,t){const i=this.owner;if(!e)return;const n=Number.isFinite(e.previousShopTier)?e.previousShopTier:1,s=Math.min(6,Math.max(1,n+1)),r=Y=>(Y??[]).filter(ue=>ue&&i.name&&ue.toLowerCase()!==i.name.toLowerCase()),c=i.parent===e.player?e.playerPetPool:e.opponentPetPool;let u=r(c?.get(s));if(u?.length||(u=r(this.petService.allPets.get(s))),u?.length||(u=r(this.petService.allPets.get(1))),!u.length)return;const h=u[Math.floor(Math.random()*u.length)],b=5*this.level,D=this.petService.createPet({name:h,attack:b,equipment:null,exp:0,health:b,mana:0},i.parent);i.parent.summonPet(D,i.savedPosition,!1,i).success&&this.logService.createLog({message:`${i.name} spawned a ${D.attack}/${D.health} ${D.name} from tier ${s}.`,type:"ability",player:i.parent,tiger:t.tiger,randomEvent:!0,pteranodon:t.pteranodon})}copy(e){return new nx(e,this.logService,this.abilityService,this.petService)}}class rx extends E{logService;constructor(e,t){super({name:"HyenaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:s}=e;switch(this.level){case 1:this.level1Ability(t,n,s);break;case 2:this.level2Ability(t,n,s);break;case 3:this.level3Ability(t,n,s)}this.triggerTigerExecution(e)}level1Ability(e,t,i){const n=this.owner;let s=n.parent.getAll(!0,n);for(let r of s.pets){let c=r.health;r.health=r.attack,r.attack=c}this.logService.createLog({message:`${n.name} swapped all pets attack and health.`,type:"ability",player:n.parent,tiger:t,pteranodon:i})}level2Ability(e,t,i){const n=this.owner;this.shufflePets(e.player),this.shufflePets(e.opponent),this.logService.createLog({message:`${n.name} shuffled positions of all pets.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:!0})}level3Ability(e,t,i){this.level1Ability(e,t,i),this.level2Ability(e,t,i)}shufflePets(e){let t=e.petArray;rr(t);for(let i=0;i<t.length;i++)e[`pet${i}`]=t[i]}copy(e){return new rx(e,this.logService)}}class ax extends E{logService;constructor(e,t){super({name:"Jackal Ability",owner:e,triggers:["AnyoneFlung"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=e.triggerPet;if(!i||i!==t)return;const n=[13,26,39],s=n[Math.min(Math.max(this.level-1,0),n.length-1)];t.attack=s,t.health=s,this.logService.createLog({message:`${t.name} was flung and reset to ${s}/${s}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new ax(e,this.logService)}}class ox extends M{logService;abilityService;petService;name="Kappa";tier=5;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new sx(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b)}}class sx extends E{logService;abilityService;petService;constructor(e,t,i,n){super({name:"KappaAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=t,this.abilityService=i,this.petService=n}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:s}=e,r=this.owner;let u=(r.parent==t.player?t.playerPetPool:t.opponentPetPool).get(3);for(let h=0;h<r.level;h++){let b=u[Math.floor(Math.random()*u.length)],D=u[Math.floor(Math.random()*u.length)],H=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:b},r.parent);r.parent.summonPet(H,r.savedPosition,!1,r).success&&this.logService.createLog({message:`${r.name} spawned a ${H.name} (14/16).`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:!0});let ue=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:D},r.parent.opponent);r.parent.opponent.summonPet(ue,r.savedPosition,!1,r).success&&this.logService.createLog({message:`${r.name} spawned a ${ue.name} (14/16) for the opponent.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:!0})}this.triggerTigerExecution(e)}copy(e){return new sx(e,this.logService,this.abilityService,this.petService)}}class lx extends E{logService;constructor(e,t){super({name:"LionAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}conditionFunction(){const e=this.owner;let t=e.parent.petArray.filter(n=>n!==e),i=0;for(let n of t)n.tier>i&&(i=n.tier);return e.tier>i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;if(!this.conditionFunction())return;let c=.5*this.level;r.increaseAttack(Math.floor(r.attack*c)),r.increaseHealth(Math.floor(r.health*c)),this.logService.createLog({message:`${r.name} increased its attack and health by ${100*c}% (${r.attack}/${r.health})`,type:"ability",player:r.parent,tiger:n,pteranodon:s}),this.triggerTigerExecution(e)}copy(e){return new lx(e,this.logService)}}class cx extends E{logService;constructor(e,t){super({name:"Lusca Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.mana;if(i<=0)return void this.triggerTigerExecution(e);t.mana=0;const s=t.parent.getRandomEnemyPetsWithSillyFallback(this.level,[],!1,!1,t).pets;if(0!==s.length){for(const r of s){const c=i,u=Math.max(0,r.attack-c),h=Math.max(0,r.health-c);r.attack=u,r.health=Math.max(1,h)}this.logService.createLog({message:`${t.name} spent ${i} mana and drained ${s.map(r=>r.name).join(", ")}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new cx(e,this.logService)}}class ux extends E{logService;constructor(e,t){super({name:"Maltese Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent,n=i.trumpets;n>0&&i.spendTrumpets(n,t,e.pteranodon);const s=i.petArray.filter(b=>b.alive&&b!==t);if(0===s.length||n<=0)return void this.triggerTigerExecution(e);const c=n*(this.level+1),u=Math.floor(c/s.length);let h=c%s.length;for(const b of s){const D=u+(h>0?1:0);D>0&&b.increaseMana(D),h=Math.max(0,h-1)}this.logService.createLog({message:`${t.name} converted ${n} trumpets into ${c} mana and spread it to friends.`,type:"ability",player:i,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new ux(e,this.logService)}}class dx extends E{logService;abilityService;constructor(e,t,i){super({name:"Mimic Ability",owner:e,triggers:["StartBattle","PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t;if("StartBattle"===e.trigger)return i.mimicFaintCount=0,i.mimicTriggeredThreshold=0,t.parent.pendingGoldFromMimic=0,void this.triggerTigerExecution(e);if("PostRemovalFriendFaints"===e.trigger){i.mimicFaintCount=(i.mimicFaintCount??0)+1;const n=Math.floor((i.mimicFaintCount??0)/3),s=i.mimicTriggeredThreshold??0;if(n>s){const r=n-s;i.mimicTriggeredThreshold=n;const u=this.level*r,h="pendingGoldFromMimic";t.parent[h]=(t.parent[h]??0)+u,this.logService.createLog({message:`${t.name} will grant +${u} gold next turn after ${i.mimicFaintCount} friendly faints.`,type:"ability",player:t.parent})}}this.triggerTigerExecution(e)}copy(e){return new dx(e,this.logService,this.abilityService)}}class hx extends E{logService;abilityService;constructor(e,t,i){super({name:"Moose Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,n=e.gameApi?.playerPetPool?.get(1)?.length??0;if(0===n)return void this.triggerTigerExecution(e);const r=3*this.level*n,c=t.parent.getRandomPets(1,[t],!1,!1,t),u=c.pets[0];u?(u.increaseHealth(r),this.logService.createLog({message:`${t.name} gave ${u.name} +${r} health from ${n} Tier 1 shop pets.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:c.random}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new hx(e,this.logService,this.abilityService)}}class px extends E{logService;constructor(e,t){super({name:"Namazu Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.mana;if(i<=0)return void this.triggerTigerExecution(e);const n=i*this.level;t.parent.gainTrumpets(n,t,e.pteranodon),t.mana=0,this.logService.createLog({message:`${t.name} spent ${i} mana and gained ${n} trumpets.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new px(e,this.logService)}}class gx extends E{constructor(e){super({name:"NurikabeAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:t=>this.executeAbility(t)})}executeAbility(e){}copy(e){return new gx(e)}}class mx extends E{logService;constructor(e,t){super({name:"Pacific Fanfish Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=4*this.level,n=t.parent.petArray.filter(r=>r&&r!==t&&r.alive&&r.sellValue>=3);if(0===n.length)return void this.triggerTigerExecution(e);const s=i*n.length;t.increaseAttack(s),t.increaseHealth(s),this.logService.createLog({message:`${t.name} gained +${s}/+${s} from ${n.length} friend(s) with \u22653 sell value.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new mx(e,this.logService)}}class fx extends E{logService;constructor(e,t){super({name:"Polar Bear Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=[4,8,12],n=i[Math.min(Math.max(t.level-1,0),i.length-1)],s=t.parent.getRandomPets(1,[],!1,!1,t),r=s.pets[0];r?(r.increaseAttack(n),r.increaseHealth(n),this.logService.createLog({message:`${t.name} gave ${r.name} +${n}/+${n}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:s.random}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new fx(e,this.logService)}}class yx extends E{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"RaccoonAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let u=r.parent.opponent.getPetAtPosition(0);null!=u&&null!=u.equipment&&(this.logService.createLog({message:`${r.name} stole ${u.name}'s equipment. (${u.equipment.name})`,type:"ability",player:r.parent,tiger:n,pteranodon:s}),r.givePetEquipment(u.equipment),u.removePerk(),this.triggerTigerExecution(e))}copy(e){return new yx(e,this.logService)}}class vx extends E{logService;abilityService;constructor(e,t,i){super({name:"SeaCucumberAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getPetsWithEquipmentWithSillyFallback("Tasty",r),u=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,c,!1,!0,r),h=u.pets;if(0!=h.length){for(let b of h){let D=new Po(this.logService);b.givePetEquipment(D),this.logService.createLog({message:`${r.name} made ${b.name} Tasty`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:u.random})}this.triggerTigerExecution(e)}}copy(e){return new vx(e,this.logService,this.abilityService)}}class bx extends E{logService;constructor(e,t){super({name:"Siberian Husky Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=this.level,n=t.parent.petArray.filter(r=>!(!r||r===t||!r.alive||null!=r.equipment&&"shop"===r.equipment.equipmentClass));if(0===n.length)return void this.triggerTigerExecution(e);rr(n);const s=n.slice(0,3);for(const r of s)r.increaseAttack(i),r.increaseHealth(i);this.logService.createLog({message:`${t.name} gave ${s.map(r=>r.name).join(", ")} +${i}/+${i}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new bx(e,this.logService)}}class Ax extends E{logService;constructor(e,t){super({name:"Silver Fox Ability",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=this.level,n=t.parent;n.gold=(n.gold??0)+i,this.logService.createLog({message:`${t.name} gave ${i} gold to the owner.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Ax(e,this.logService)}}class Sx extends E{logService;constructor(e,t){super({name:"Tarasque Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,s=[.25,.5,.75][Math.min(Math.max(t.level-1,0),2)],r=t.parent.petArray.filter(Y=>Y&&Y.alive);if(0===r.length)return void this.triggerTigerExecution(e);let c=0,u=0;for(const Y of r){const ue=Math.floor(Y.attack*s),he=Math.floor(Y.health*s);Y.attack=Math.max(1,Y.attack-ue),Y.health=Math.max(1,Y.health-he),c+=ue,u+=he}const h=Math.floor(c/r.length),b=Math.floor(u/r.length),D=c%r.length,H=u%r.length;for(let Y=0;Y<r.length;Y++){const ue=r[Y];let he=h+(Y<D?1:0),ye=b+(Y<H?1:0);he>0&&ue.increaseAttack(he),ye>0&&ue.increaseHealth(ye)}this.logService.createLog({message:`${t.name} redistributed ${c}/${u} stats across ${r.length} pets.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Sx(e,this.logService)}}class Px extends E{logService;constructor(e,t){super({name:"Woolly Rhino Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=new Set;for(const u of t.parent.petArray){const h=u?.equipment;("ailment-attack"===h?.equipmentClass||"ailment-defense"===h?.equipmentClass||"ailment-other"===h?.equipmentClass)&&i.add(h.name)}const n=i.size;if(n<=0)return void this.triggerTigerExecution(e);const s=4*n,r=t.parent.opponent.petArray.filter(u=>u.alive),c=Math.min(this.level,r.length);for(let u=0;u<c;u++)t.snipePet(r[u],s,!1,e.tiger,e.pteranodon);c>0&&this.logService.createLog({message:`${t.name} dealt ${s} damage to ${c} enemy${1===c?"":"ies"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Px(e,this.logService)}}class _x extends E{logService;constructor(e,t){super({name:"Zebra Ability",owner:e,triggers:["ThisBought","ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.getRandomPets(1,[t],!1,!1,t),n=i.pets[0];if(!n)return void this.triggerTigerExecution(e);const s=2*this.level;n.increaseAttack(s),n.increaseHealth(s),this.logService.createLog({message:`${t.name} gave ${n.name} +${s}/+${s}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new _x(e,this.logService)}}class kx extends E{logService;constructor(e,t){super({name:"Akhlut Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if(t.mana<2)return;t.mana=Math.max(t.mana-2,0);const i=t.parent.nearestPetsBehind(1,t,[t]),n=i.pets[0];if(!n)return;const s=3*this.level;n.increaseAttack(s),n.increaseHealth(s),this.logService.createLog({message:`${t.name} spent 2 mana to give ${n.name} +${s}/+${s}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new kx(e,this.logService)}}class wx extends E{logService;handlingExtraDamage=!1;constructor(e,t){super({name:"Albatross Ability",owner:e,triggers:["EnemyHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){if(this.handlingExtraDamage)return void(this.handlingExtraDamage=!1);if("EnemyHurt"!==e.trigger)return;const t=this.owner,i=e.triggerPet;if(!i||!i.alive||0===[t.petAhead,t.petBehind()].filter(r=>r&&r.alive&&r.parent===t.parent&&r.level<=4).length)return;const s=3*this.level;this.handlingExtraDamage=!0,t.dealDamage(i,s),this.handlingExtraDamage=!1,this.logService.createLog({message:`${t.name} boosted adjacent friends for an extra ${s} damage on ${i.name}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new wx(e,this.logService)}}class Tx extends E{logService;healthRestoredThisTurn=0;reset(){this.healthRestoredThisTurn=0,super.reset()}constructor(e,t){super({name:"AmargasaurusAbility",owner:e,triggers:["FriendHurt","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return void(this.healthRestoredThisTurn=0);const{triggerPet:n,tiger:s,pteranodon:r}=e;let c;if(!n||(n.transformed?(c=n.transformedInto,c.originalHealth=n.originalHealth):c=n,!c||!c.alive)||c===t)return;const u=15*this.level,h=c.originalHealth-c.health;if(h<=0||this.healthRestoredThisTurn>=u)return;const D=Math.min(h,u-this.healthRestoredThisTurn);if(D>0){let Y=t.parent.getSpecificPet(t,c).pet;if(null==Y)return;this.logService.createLog({message:`${t.name} restored ${D} health to ${Y.name}.`,type:"ability",player:t.parent,tiger:s,pteranodon:r}),Y.increaseHealth(D),this.healthRestoredThisTurn+=D}this.triggerTigerExecution(e)}copy(e){return new Tx(e,this.logService)}}class Ex extends E{logService;constructor(e,t){super({name:"Bakunawa Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.opponent.petArray.filter(c=>c&&c.alive&&"Sleepy"!==c.equipment?.name).sort((c,u)=>u.attack!==c.attack?u.attack-c.attack:(c.position??0)-(u.position??0));if(0===i.length)return void this.triggerTigerExecution(e);const n=i.slice(0,Math.min(this.level,i.length));for(const c of n){const u=new Vc;u.multiplier+=this.level-1,c.givePetEquipment(u)}const s=["."," twice for double effect."," thrice for triple effect."],r=`${t.name} made ${n.map(c=>c.name).join(", ")} Sleepy${s[Math.min(this.level,s.length)-1]}`;this.logService.createLog({message:r,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Ex(e,this.logService)}}class Cx extends E{logService;foodsEatenThisTurn=0;seededFromShop=!1;constructor(e,t){super({name:"Black Bear Ability",owner:e,triggers:["StartTurn","FoodEatenByThis","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.foodsEatenThisTurn=0,void(this.seededFromShop=!1);if(!this.seededFromShop){const i=t.foodsEaten??0;i>0&&(this.foodsEatenThisTurn=Math.max(this.foodsEatenThisTurn,i)),this.seededFromShop=!0}if("FoodEatenByThis"!==e.trigger){if("PostRemovalFaint"===e.trigger){const n=4*this.level*this.foodsEatenThisTurn;if(n<=0)return void this.triggerTigerExecution(e);const s=t.parent.getRandomEnemyPetsWithSillyFallback(1,[],!1,!0,t),r=s.pets[0];if(!r)return void this.triggerTigerExecution(e);t.dealDamage(r,n),this.logService.createLog({message:`${t.name} dealt ${n} damage to ${r.name} after eating ${this.foodsEatenThisTurn} food item${1===this.foodsEatenThisTurn?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:s.random}),this.triggerTigerExecution(e)}}else this.foodsEatenThisTurn++}copy(e){return new Cx(e,this.logService)}}class Dx extends E{logService;constructor(e,t){super({name:"Chimpanzee Ability",owner:e,triggers:["CornEatenByFriend"],abilityType:"Pet",native:!0,abilitylevel:e.level,precondition:i=>{const r=Lt(this.owner,i.triggerPet).pet;return!!r&&r.alive},abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=Lt(t,e.triggerPet),n=i.pet;if(!n)return void this.triggerTigerExecution(e);const s=this.level;n.increaseAttack(s),n.increaseHealth(s),this.logService.createLog({message:`${t.name} gave ${n.name} +${s}/+${s} after eating Corncob.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new Dx(e,this.logService)}}class Mx extends E{logService;abilityService;constructor(e,t,i){super({name:"CockatriceAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.opponent.petArray.reverse(),u=null;for(let D of c)if(D.level<=this.level){u=D;break}if(null==u)return;this.logService.createLog({message:`${r.name} transformed ${u.name} into a Rock.`,type:"ability",player:r.parent,tiger:n,pteranodon:s});let h=new re(this.logService,this.abilityService,u.parent,u.health,u.attack,u.mana,u.exp,u.equipment);r.parent.opponent.setPet(u.position,h,!1),this.triggerTigerExecution(e)}copy(e){return new Mx(e,this.logService,this.abilityService)}}class xx extends E{logService;hasCoconut=!1;constructor(e,t){super({name:"Coconut Crab Ability",owner:e,triggers:["Eat2","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"!==e.trigger){if("Eat2"===e.trigger){const i=new Fa;i.uses=this.level,i.originalUses=this.level,t.givePetEquipment(i),this.hasCoconut=!0,this.logService.createLog({message:`${t.name} gained Coconut perk that works ${1===this.level?"once":2===this.level?"twice":"thrice"} until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}else this.hasCoconut&&(t.removePerk(!0),this.hasCoconut=!1)}copy(e){return new xx(e,this.logService)}}var gw=w(3446);class Ix extends E{logService;constructor(e,t){super({name:"Dunkleosteus Ability",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.equipment;if(!i||!this.isAilmentEquipment(i))return void this.triggerTigerExecution(e);const n=t.parent.opponent.petArray.filter(h=>h&&h.alive);if(0===n.length)return void this.triggerTigerExecution(e);const s=(0,gw.A)(i);t.removePerk(!0);const r=n.slice(0,Math.min(2,n.length));for(const h of r){const b=(0,gw.A)(s);b.multiplier+=this.level-1,h.givePetEquipment(b)}const c=["."," with double effect."," with triple effect."],u=`${t.name} moved ${s.name} to ${r.map(h=>h.name).join(", ")}${c[Math.min(this.level,c.length)-1]}`;this.logService.createLog({message:u,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}isAilmentEquipment(e){return"ailment-attack"===e.equipmentClass||"ailment-defense"===e.equipmentClass||"ailment-other"===e.equipmentClass}copy(e){return new Ix(e,this.logService)}}class Rx extends E{logService;constructor(e,t){super({name:"Eagle Owl Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=Math.max(0,t.battlesFought??0);if(i<=0)return void this.triggerTigerExecution(e);const s=i*this.level,r=t.parent.getRandomPets(3,[t],!0,!1,t),c=r.pets;if(0!==c.length){for(const u of c)u.increaseAttack(s),u.increaseHealth(s);this.logService.createLog({message:`${t.name} gave ${c.map(u=>u.name).join(", ")} +${s}/+${s} after fighting ${i} battle${1===i?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:r.random}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new Rx(e,this.logService)}}class Lx extends E{logService;constructor(e,t){super({name:"Hammerhead Shark Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if(!t.parent.petArray.some(r=>r&&r!==t&&3===r.level))return void this.triggerTigerExecution(e);const n=3*this.level,s=t.parent;s.gold=(s.gold??0)+n,this.logService.createLog({message:`${t.name} gained +${n} gold from level 3 friends.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Lx(e,this.logService)}}class Nx extends M{logService;abilityService;petService;name="Harpy Eagle";tier=6;pack="Custom";attack=6;health=6;initAbilities(){this.addAbility(new Fx(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b)}}class Fx extends E{logService;petService;usesThisTurn=0;constructor(e,t,i){super({name:"HarpyEagleAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){if("ThisHurt"!==e.trigger||this.usesThisTurn>=3)return;this.usesThisTurn++;const{gameApi:t,tiger:i}=e,s=this.owner;let r=5*this.level;const c=Y=>(Y??[]).filter(ue=>ue&&s.name&&ue.toLowerCase()!==s.name.toLowerCase()),u=s.parent===t.player?t.playerPetPool:t.opponentPetPool;let h=c(u?.get(1));if(h.length||(h=c(this.petService.allPets.get(1))),!h.length)return;let b=h[Math.floor(Math.random()*h.length)],D=this.petService.createPet({name:b,attack:r,health:r,equipment:null,mana:0,exp:0},s.parent);s.parent.summonPet(D,s.savedPosition,!1,s).success&&this.logService.createLog({message:`${s.name} spawned ${D.name} (${r}/${r}).`,type:"ability",player:s.parent,tiger:i,randomEvent:!0}),this.triggerTigerExecution(e)}copy(e){return new Fx(e,this.logService,this.petService)}}class Ox extends E{logService;usesThisTurn=0;constructor(e,t){super({name:"Hooded Seal Ability",owner:e,triggers:["FriendTransformed","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){if("StartTurn"===e.trigger)return void(this.usesThisTurn=0);if(this.usesThisTurn>=2)return void this.triggerTigerExecution(e);const t=e.triggerPet;if(!t)return void this.triggerTigerExecution(e);this.usesThisTurn++;const i=Hd(this.level);t.exp=Math.min(t.exp,i),t.resetAbilityUses(),this.logService.createLog({message:`${this.owner.name} capped ${t.name} to level ${this.level}.`,type:"ability",player:this.owner.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Ox(e,this.logService)}}class Bx extends E{logService;abilityService;constructor(e,t,i){super({name:"KomodoAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:n}=e,s=this.owner;if(0===s.position)return void this.triggerTigerExecution(e);const c=s.parent.nearestPetsAhead(s.position,s).pets;if(0===c.length)return void this.triggerTigerExecution(e);const u=this.level;for(const b of c)b.increaseAttack(u),b.increaseHealth(u);t&&(t.komodoShuffle=!0);const h=c.map(b=>b.name).join(", ");this.logService.createLog({message:`${s.name} gave ${h} +${u}/+${u} at end of turn and shuffled positions.`,type:"ability",player:s.parent,tiger:i,pteranodon:n,randomEvent:!0}),this.triggerTigerExecution(e)}copy(e){return new Bx(e,this.logService,this.abilityService)}}class $x extends E{logService;constructor(e,t){super({name:"LampreyAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:n}=e,s=this.owner;if(!t)return void this.triggerTigerExecution(e);const r=s.parent.nearestPetsAhead(this.level,s);if(0===r.pets.length)return void this.triggerTigerExecution(e);const c=r.pets;for(const h of c)s.dealDamage(h,1);const u=c.map(h=>h.name).join(", ");this.logService.createLog({message:`${s.name} dealt 1 damage to ${u} when ${t.name} fainted.`,type:"ability",player:s.parent,tiger:i,pteranodon:n,randomEvent:r.random}),this.triggerTigerExecution(e)}copy(e){return new $x(e,this.logService)}}class Gx extends M{logService;abilityService;petService;name="Leviathan";tier=6;pack="Custom";attack=6;health=10;initAbilities(){this.addAbility(new Hx(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(u,s,r,c,h,b)}}class Hx extends E{logService;petService;constructor(e,t,i){super({name:"LeviathanAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:n}=e,s=6*this.level,r=2*this.level,c=this.petService.createPet({name:"Fish",attack:s,health:s,mana:0,exp:0,equipment:null,triggersConsumed:0},t.parent);c.increaseExp(r);const u=t.parent.summonPet(c,t.savedPosition,!1,t);u.success&&this.logService.createLog({message:`${t.name} summoned ${c.name} (${s}/${s}) and granted ${r} exp.`,type:"ability",player:t.parent,tiger:i,pteranodon:n,randomEvent:u.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Hx(e,this.logService,this.petService)}}class jx extends E{logService;usesThisTurn=0;constructor(e,t){super({name:"LionessAbility",owner:e,triggers:["StartTurn","FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,{trigger:i,triggerPet:n,tiger:s,pteranodon:r}=e;if("StartTurn"===i)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if("FriendSold"!==i)return void this.triggerTigerExecution(e);if(this.usesThisTurn>=2)return void this.triggerTigerExecution(e);this.usesThisTurn++;const c=n?.tier??t.tier,u="futureShopBuffs",h=t.parent[u]??new Map,b=h.get(c)??{attack:0,health:0};b.attack+=this.level,b.health+=this.level,h.set(c,b),t.parent[u]=h,this.logService.createLog({message:`${t.name} gave future tier ${c} shop pets +${this.level}/+${this.level} (uses ${this.usesThisTurn}/2 this turn).`,type:"ability",player:t.parent,tiger:s,pteranodon:r}),this.triggerTigerExecution(e)}copy(e){return new jx(e,this.logService)}}class qx extends E{logService;constructor(e,t){super({name:"MarkhorAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:n}=e,s=t.parent;if(s.trumpets<4)return void this.triggerTigerExecution(e);const r=s.petArray.filter(Y=>Y&&Y!==t&&Y.alive);if(0===r.length)return void this.triggerTigerExecution(e);s.trumpets-=4;const c=4*this.level,u=4*this.level,h=Math.floor(c/r.length),b=Math.floor(u/r.length),D=c-h*r.length,H=u-b*r.length;for(let Y=0;Y<r.length;Y++){const ue=r[Y],ye=Y<H?1:0;ue.increaseAttack(h+(Y<D?1:0)),ue.increaseHealth(b+ye)}this.logService.createLog({message:`${t.name} spent 4 trumpets to grant ${c}/${u} evenly among ${r.length} friends.`,type:"ability",player:s,tiger:i,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new qx(e,this.logService)}}class Ux extends E{logService;constructor(e,t){super({name:"PoodleAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:n}=e,s=[];for(let r=1;r<=6;r++){const c=t.parent.petArray.find(h=>h&&h.alive&&h!==t&&h.tier===r);if(!c)continue;const u=this.level;c.increaseAttack(u),c.increaseHealth(u),s.push(c)}if(s.length>0){const r=s.map(c=>c.name).join(", ");this.logService.createLog({message:`${t.name} buffed ${r} (+${this.level}/+${this.level}) at end of turn.`,type:"ability",player:t.parent,tiger:i,pteranodon:n})}this.triggerTigerExecution(e)}copy(e){return new Ux(e,this.logService)}}class Wx extends E{logService;constructor(e,t){super({name:"QuestingBeastAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=Math.max(1,Math.min(3,this.level)),n=Mt.getInjector().get(Br),s=n.toys.get(i)??[];if(0===s.length)return void this.triggerTigerExecution(e);const r=s[Ot(0,s.length-1)],c=n.createToy(r,t.parent,i);c?(t.parent.toy=c,t.parent.toy.used=!1,t.parent.toy.triggers=0,this.logService.createLog({message:`${t.name} created a level ${i} ${r} toy.`,type:"ability",player:t.parent}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new Wx(e,this.logService)}}class Vx extends E{logService;constructor(e,t){super({name:"RockhopperPenguinAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:1,condition:()=>null==e.parent.pet0,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.parent.getThis(n),r=s.pet;if(!r)return void this.triggerTigerExecution(e);n.parent.pushPetToFront(r,!0);const c=12*this.level,u=n.parent.resolveTrumpetGainTarget(n);u.player.gainTrumpets(c,n,i,void 0,void 0,u.random),this.logService.createLog({message:`${n.name} jumped to the front and gained +${c} trumpets.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:s.random}),this.triggerTigerExecution(e)}copy(e){return new Vx(e,this.logService)}}class Kx extends E{logService;constructor(e,t){super({name:"SmallOneAbility",owner:e,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:n}=e,s=t.parent.getAll(!0,t).pets.filter(u=>u&&u!==t);if(0!==s.length){for(let u=0;u<this.level;u++)for(const h of s)t.dealDamage(h,h.parent===t.parent?2:4);this.logService.createLog({message:`${t.name} dealt 2 (4 vs enemies) damage ${this.level}x to all other pets.`,type:"ability",player:t.parent,tiger:i,pteranodon:n}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new Kx(e,this.logService)}}class zx extends E{logService;constructor(e,t){super({name:"StegosaurusAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:n,pteranodon:s}=e,r=10*this.level,c=t.parent.petArray.find(u=>u&&u!==t&&u.alive&&!u.equipment);c?(c.increaseAttack(r),c.increaseHealth(r),this.logService.createLog({message:`${t.name} gave ${c.name} +${r}/+${r} at start of battle.`,type:"ability",player:t.parent,tiger:n,pteranodon:s}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new zx(e,this.logService)}}class Yx extends E{logService;constructor(e,t){super({name:"SunfishAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{gameApi:i,tiger:n,pteranodon:s}=e,r=i?.turnNumber??1;if(r%2==0)return void this.triggerTigerExecution(e);const c=4*this.level,h=t.parent.nearestPetsAhead(5,t,void 0,!0).pets;if(0===h.length)return void this.triggerTigerExecution(e);for(const D of h)t.dealDamage(D,c);const b=h.map(D=>D.name).join(", ");this.logService.createLog({message:`${t.name} hit ${b} ahead for ${c} damage because turn ${r} is odd.`,type:"ability",player:t.parent,tiger:n,pteranodon:s}),this.triggerTigerExecution(e)}copy(e){return new Yx(e,this.logService)}}const mw=[1,2,3],NL=(()=>{const a=["parrotCopyPet","parrotCopyPetBelugaSwallowedPet"];for(const e of mw){a.push(`parrotCopyPetAbominationSwallowedPet${e}`),a.push(`parrotCopyPetAbominationSwallowedPet${e}BelugaSwallowedPet`),a.push(`parrotCopyPetAbominationSwallowedPet${e}Level`),a.push(`parrotCopyPetAbominationSwallowedPet${e}TimesHurt`),a.push(`parrotCopyPetAbominationSwallowedPet${e}ParrotCopyPet`),a.push(`parrotCopyPetAbominationSwallowedPet${e}ParrotCopyPetBelugaSwallowedPet`);for(const t of mw)a.push(`parrotCopyPetAbominationSwallowedPet${e}ParrotCopyPetAbominationSwallowedPet${t}`),a.push(`parrotCopyPetAbominationSwallowedPet${e}ParrotCopyPetAbominationSwallowedPet${t}BelugaSwallowedPet`),a.push(`parrotCopyPetAbominationSwallowedPet${e}ParrotCopyPetAbominationSwallowedPet${t}Level`),a.push(`parrotCopyPetAbominationSwallowedPet${e}ParrotCopyPetAbominationSwallowedPet${t}TimesHurt`)}return a})(),FL=(()=>{const a=[];for(const e of mw){a.push(`abominationSwallowedPet${e}BelugaSwallowedPet`),a.push(`abominationSwallowedPet${e}ParrotCopyPet`),a.push(`abominationSwallowedPet${e}ParrotCopyPetBelugaSwallowedPet`);for(const t of mw)a.push(`abominationSwallowedPet${e}ParrotCopyPetAbominationSwallowedPet${t}`),a.push(`abominationSwallowedPet${e}ParrotCopyPetAbominationSwallowedPet${t}BelugaSwallowedPet`),a.push(`abominationSwallowedPet${e}ParrotCopyPetAbominationSwallowedPet${t}Level`),a.push(`abominationSwallowedPet${e}ParrotCopyPetAbominationSwallowedPet${t}TimesHurt`)}return a})(),_4=(a,e)=>{if(null==e||"string"==typeof e&&""===e.trim())return!1;const t=String(a);if(t.endsWith("Level")){const i="number"==typeof e?e:Number(e);return!!Number.isFinite(i)&&1!==i}if(t.endsWith("TimesHurt")){const i="number"==typeof e?e:Number(e);return!!Number.isFinite(i)&&0!==i}return!0};function OL(a,e){for(const t of e)if(_4(t,a[t]))return!0;return!1}function BL(a,e,t){for(const i of t){const n=e[i];if(null!=n){a[i]=n;continue}const s=String(i);a[i]=s.endsWith("Level")?1:s.endsWith("TimesHurt")?0:null}}class Xx extends M{logService;abilityService;petService;gameService;name="Good Dog";tier=5;pack="Unicorn";attack=1;health=1;hidden=!0;initAbilities(){this.addAbility(new Jx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h,b,D){super(e,t,s),this.logService=e,this.abilityService=t,this.petService=i,this.gameService=n,this.initPet(h,r,c,u,b,D)}}class Jx extends E{logService;constructor(e,t){super({name:"GoodDogAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.getAll(!0,r),u=c.pets;if(0===u.length)return;const h=Mt.getInjector().get(ui).getInstanceOfAllEquipment(),D=new Map([[1,1],[2,3],[3,5]]).get(r.level)??1;let H=Array.from(h.values()).filter(Y=>Y&&(Y.tier??1)>=D);H.length||(H=Array.from(h.values()).filter(Y=>Y));for(let Y of u){if(!Y.alive)continue;const he=ea(H[Math.floor(Math.random()*H.length)]);he&&(this.logService.createLog({message:`${r.name} gave ${Y.name} ${he.name}`,type:"ability",player:r.parent,randomEvent:c.random,tiger:n}),Y.givePetEquipment(he))}this.triggerTigerExecution(e)}copy(e){return new Jx(e,this.logService)}}const $L={Spider:gh,Whale:df,Parrot:tf,Stork:fp,"Shima Enaga":Ua,Eagle:Ps,Pelican:wp,Falcon:ek,"Beluga Whale":Uu,Wolf:sb,Pteranodon:pb,"Harpy Eagle":Nx,"Sabertooth Tiger":Nu,Orca:Rv,Hippogriff:ix,"Goblin Shark":AM,"Red Lipped Batfish":NM,Kappa:ox,Ammonite:Ov,"Iriomote Cat":_g,Takhi:Eg,"Roloway Monkey":uA,Bonobo:Lg,"Golden Tamarin":Zk,"Bay Cat":Ka,"California Condor":lc,"Silky Sifaka":A,Abomination:Zu,"Sarcastic Fringehead":nM,Leviathan:Gx,Tadpole:_D,Stoat:Lp},GL={Seagull:$M,"Good Dog":Xx},k4=[AM,NM,ox,Zu,_g,Eg,uA,Lg,Zk,lc,A,Ka,gh,Ps,fp,Ua,tf,df,wp,ek,Uu,sb,pb,Nx,Nu,Rv,Ov,nM,ix,Gx,_D,Lp],w4=[$M,Xx],HL={"Beluga Whale":(a,e,t,i)=>new Uu(a.logService,a.abilityService,i,t,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed,e.belugaSwallowedPet),Abomination:(a,e,t,i)=>new Zu(a.logService,a.abilityService,i,t,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed,e.abominationSwallowedPet1,e.abominationSwallowedPet2,e.abominationSwallowedPet3,e.abominationSwallowedPet1Level,e.abominationSwallowedPet2Level,e.abominationSwallowedPet3Level,e.abominationSwallowedPet1TimesHurt,e.abominationSwallowedPet2TimesHurt,e.abominationSwallowedPet3TimesHurt),"Sabertooth Tiger":(a,e,t,i)=>new Nu(a.logService,a.abilityService,i,t,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed,e.timesHurt),Tuna:(a,e,t)=>new R_(a.logService,a.abilityService,t,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed,e.timesHurt),Slime:(a,e,t)=>new ML(a.logService,a.abilityService,t,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed)};let jL=(()=>{class a{logService;abilityService;gameService;equipmentService;equipmentCache=new Map;constructor(t,i,n,s){this.logService=t,this.abilityService=i,this.gameService=n,this.equipmentService=s}createPet(t,i,n,s,r){const c=t.constructor,u=t.parent,h=r??hl(t.level);for(const b of w4)if(t instanceof b)return new b(this.logService,this.abilityService,i,this.gameService,u,s,n,0,h);return k4.includes(c)?new c(this.logService,this.abilityService,i,u,s,n,0,h):new c(this.logService,this.abilityService,u,s,n,0,h)}createPetFromForm(t,i,n,s){const r=this.getPetBuildPlan(t,s),c=this.resolveEquipment(r.equipmentValue,r.equipmentUses),{name:u,health:h,attack:b,mana:D,exp:H,triggersConsumed:Y,foodsEaten:ue}=t;let he=t.hasRandomEvents;void 0===he&&n&&"function"==typeof n.isPetRandom&&(he=n.isPetRandom(u));const je=Ie=>Ie&&r.needsPostInit?(Ie=>{if(!Ie)return Ie;if(null!=ue){const Ze=Number(ue);Number.isFinite(Ze)&&(Ie.foodsEaten=Ze,Ie.originalFoodsEaten=Ze)}return r.hasTimesHurt&&null!=t.timesHurt&&(Ie.timesHurt=t.timesHurt,Ie.originalTimesHurt=t.timesHurt),he&&(Ie.hasRandomEvents=!0),Ie})((Ie=>(!r.hasParrotData||"Parrot"!==Ie?.name||BL(Ie,t,NL),Ie))((Ie=>(Ie&&(r.hasSarcastic||r.hasFriendsDied)&&(Ie.sarcasticFringeheadSwallowedPet=t.sarcasticFringeheadSwallowedPet??null,Ie.friendsDiedBeforeBattle=t.friendsDiedBeforeBattle??0),Ie))((Ie=>(!r.hasAbominationData||"Abomination"!==Ie?.name||BL(Ie,t,FL),Ie))(r.hasEquipmentUses?this.applyEquipmentUsesOverride(Ie,t):Ie)))):Ie;if("gameservice"===r.builderKind&&r.PetClass)return je(new r.PetClass(this.logService,this.abilityService,n,this.gameService,i,h,b,D,H,c,Y));if("special"===r.builderKind&&r.specialBuilder){const Ie={logService:this.logService,abilityService:this.abilityService,gameService:this.gameService},Ze={...t,equipment:c};return je(r.specialBuilder(Ie,Ze,i,n))}return"petservice"===r.builderKind&&r.PetClass?je(new r.PetClass(this.logService,this.abilityService,n,i,h,b,D,H,c,Y)):"registry"===r.builderKind&&r.PetClass?je(new r.PetClass(this.logService,this.abilityService,i,h,b,D,H,c,Y)):null}applyEquipmentUsesOverride(t,i){return t&&(null!=i.equipmentUses&&(t.equipmentUsesOverride=i.equipmentUses),t)}resolveEquipmentFromForm(t,i){return this.resolveEquipment(t,i)}resolveEquipment(t,i){const n=i??("number"==typeof t?.uses?t.uses:null);if(t instanceof Ce){const H=ea(t);if(null!=n){const Y=Number(n);Number.isFinite(Y)&&(H.uses=Y,H.originalUses=Y)}return H}const s=this.getEquipmentName(t);if(!s)return null;const r=Mt.getInjector(),c=this.equipmentService??(r?r.get(ui):null);if(!c)return null;const u=c.getInstanceOfAllEquipment(),h=c.getInstanceOfAllAilments(),b=u.get(s)??h.get(s);if(!b)return null;const D=ea(b);if(null!=n){const H=Number(n);Number.isFinite(H)&&(D.uses=H,D.originalUses=H)}return D}getEquipmentName(t){return t?"string"==typeof t?t:("string"==typeof t.name?t.name:null)||null:null}getPetBuildPlan(t,i){const n=t.name,s=null!=t.equipmentUses,r="Parrot"===t.name&&OL(t,NL),c="Abomination"===t.name&&OL(t,FL),u=null!=t.sarcasticFringeheadSwallowedPet,h=(t.friendsDiedBeforeBattle??0)>0,b=(t.timesHurt??0)>0;let ue,he,Y="missing";return GL[n]?(Y="gameservice",ue=GL[n]):HL[n]?(Y="special",he=HL[n]):$L[n]?(Y="petservice",ue=$L[n]):i[n]&&(Y="registry",ue=i[n]),{name:n,builderKind:Y,PetClass:ue,specialBuilder:he,needsPostInit:s||r||c||u||h||b||null!=t.foodsEaten,hasParrotData:r,hasAbominationData:c,hasSarcastic:u,hasFriendsDied:h,hasTimesHurt:b,hasEquipmentUses:s,equipmentValue:t.equipment??null,equipmentUses:t.equipmentUses??null}}static \u0275fac=function(i){return new(i||a)(P.KVO(Vn),P.KVO(Ba),P.KVO(Or),P.KVO(ui))};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();class Qx extends E{logService;constructor(e,t){super({name:"TapirAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:n}=e,r=t.parent.getLastPet(void 0,t).pet;if(!r)return void this.triggerTigerExecution(e);const c=Math.min(3,Math.max(1,this.level)),u=10*c,h=1===c?0:2===c?2:5,b=Mt.getInjector().get(jL),D=Mt.getInjector().get(Kn),H=b.createPet(r,D,u,u,h);if(!H)return void this.triggerTigerExecution(e);const Y=t.parent.summonPet(H,t.savedPosition,!1,t);Y.success&&this.logService.createLog({message:`${t.name} summoned a ${u}/${u} copy of ${r.name}.`,type:"ability",player:t.parent,tiger:i,pteranodon:n,randomEvent:Y.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Qx(e,this.logService)}}const E4={Pack1:"Turtle",Pack2:"Puppy",Pack3:"Star",Pack4:"Golden",Pack5:"Unicorn",Danger:"Danger",Custom:"Custom",MiniPack1:"Custom",MiniPack2:"Custom",MiniPack3:"Custom"},qL=new Map,UL=fs??_o;if(Array.isArray(UL))for(const a of UL){if(!a?.Name)continue;const e=new Set;for(const t of a.Packs??[]){const i=E4[t];i&&e.add(i)}e.size>0&&qL.set(a.Name,e)}class Zx extends E{logService;constructor(e,t){super({name:"Tanystropheus Ability",owner:e,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.parent.pack,r=Mt.getInjector().get(Kn),c=n.parent.petArray.some(H=>this.isPetInActivePack(H,s,r)),u=n.parent.petArray.some(H=>this.isFoodInActivePack(H.equipment?.name,s));if(c||u)return void this.triggerTigerExecution(e);const h=n.parent.getRandomEnemyPetsWithSillyFallback(3,[],!1,!0,n),b=h.pets;if(!b.length)return void this.triggerTigerExecution(e);const D=this.level;for(const H of b)H&&(H.exp=Math.max(0,(H.exp??0)-D));this.logService.createLog({message:`${n.name} removed ${D} XP from ${b.map(H=>H.name).join(", ")}.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:h.random}),this.triggerTigerExecution(e)}isPetInActivePack(e,t,i){if(!i)return e.pack===t;if(lh.includes(t))return(i.basePackPetsByName[t]?.get(e.tier)??[]).includes(e.name);const n=i.playerCustomPackPets.get(t);return n?n.get(e.tier)?.includes(e.name)??!1:e.pack===t}isFoodInActivePack(e,t){if(!e)return!1;const i=qL.get(e);return!!i&&i.has(t)}copy(e){return new Zx(e,this.logService)}}class eI extends E{logService;constructor(e,t){super({name:"TarantulaHawkAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner,c=Math.floor(r.attack/10);if(c<=0)return;let h=r.parent.opponent.getAll(!1,r).pets;if(0!=h.length){for(let b=0;b<c;b++)for(let D of h)D.increaseHealth(-this.level),this.logService.createLog({message:`${r.name} removed ${this.level} health from ${D.name}`,type:"ability",player:r.parent,tiger:n,pteranodon:s});this.triggerTigerExecution(e)}}copy(e){return new eI(e,this.logService)}}class tI extends E{logService;constructor(e,t){super({name:"TerrorBirdAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:n}=e,s=t.parent.petArray.filter(c=>c&&c!==t&&c.alive&&"Strawberry"===c.equipment?.name).sort((c,u)=>c.position-u.position).slice(0,this.level);if(0===s.length)return void this.triggerTigerExecution(e);for(const c of s)c.givePetEquipment(new zd);const r=s.map(c=>c.name).join(", ");this.logService.createLog({message:`${t.name} gave Peanut to ${r} at start of battle.`,type:"ability",player:t.parent,tiger:i,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new tI(e,this.logService)}}class iI extends E{logService;constructor(e,t){super({name:"TherizinosaurusAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.getPetsWithoutEquipment("Strawberry"),u=r.parent.getFurthestUpPets(this.level,c,r),h=u.pets;for(let b of h)b.givePetEquipment(new Fa),this.logService.createLog({message:`${r.name} gave ${b.name} Coconut.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:u.random});this.triggerTigerExecution(e)}copy(e){return new iI(e,this.logService)}}class nI extends E{logService;constructor(e,t){super({name:"VampireSquidAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=new Map;for(const h of n.parent.petArray)!h||h===n||!h.alive||!h.equipment||!(h.equipment.equipmentClass??"").startsWith("ailment")||s.has(h.equipment.name)||s.set(h.equipment.name,h);if(0===s.size)return void this.triggerTigerExecution(e);const r=this.level,c=2*this.level,u=[];s.forEach(h=>{h.increaseAttack(r),h.increaseHealth(c),u.push(h.name)}),this.logService.createLog({message:`${n.name} gave ${u.join(", ")} +${r}/+${c} at end of turn for having unique ailments.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new nI(e,this.logService)}}class rI extends E{logService;constructor(e,t){super({name:"WalrusAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.parent.getRandomPets(this.level,[n],!1,!1,n),r=s.pets;if(0===r.length)return void this.triggerTigerExecution(e);const c=[];for(const u of r)u.givePetEquipment(new Wc),c.push(u.name);this.logService.createLog({message:`${n.name} gave Peanut Butter to ${c.join(", ")} on faint.`,type:"ability",player:n.parent,tiger:t,pteranodon:i,randomEvent:s.random}),this.triggerTigerExecution(e)}copy(e){return new rI(e,this.logService)}}class aI extends E{logService;constructor(e,t){super({name:"WhiteTigerAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.nearestPetsBehind(this.level,r);for(let u of c.pets)this.logService.createLog({message:`${r.name} gave ${u.name} +3 experience.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:c.random}),u.increaseExp(3);this.triggerTigerExecution(e)}copy(e){return new aI(e,this.logService)}}class oI extends E{logService;constructor(e,t){super({name:"WinterSpiritAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,r=n.parent.nearestPetsAhead(2,n).pets;if(0===r.length)return void this.triggerTigerExecution(e);const c=5*this.level,u=[];for(const h of r)h.increaseMana(c),u.push(h.name);this.logService.createLog({message:`${n.name} gave ${u.join(", ")} +${c} mana at end of turn.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new oI(e,this.logService)}}class sI extends E{logService;constructor(e,t){super({name:"YellowBoxfishAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,n=this.owner,s=n.parent.getAll(!0,n).pets.filter(h=>h&&h.alive&&h!==n);if(0===s.length)return void this.triggerTigerExecution(e);const c=[...s].sort((h,b)=>b.attack+b.health-(h.attack+h.health)).slice(0,this.level);if(0===c.length)return void this.triggerTigerExecution(e);for(const h of c)h.attack=20,h.health=20;const u=c.map(h=>h.name).join(", ");this.logService.createLog({message:`${n.name} set ${u} to 20/20 at faint.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new sI(e,this.logService)}}const O4={Basilisk:class ve extends M{constructor(e,t,i){super(e,t,i),this.name="Basilisk",this.tier=3,this.pack="Custom",this.attack=5,this.health=2}initAbilities(){this.abilityList=[new Me(this,this.logService,this.abilityService)],super.initAbilities()}},Budgie:class Ue extends M{logService;abilityService;name="Budgie";tier=1;pack="Custom";attack=1;health=1;initAbilities(){this.addAbility(new et(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Duckling:class Re extends M{logService;abilityService;name="Duckling";tier=1;pack="Custom";attack=1;health=2;initAbilities(){this.addAbility(new $t(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Farmer Mouse":class Ln extends M{logService;abilityService;name="Farmer Mouse";tier=1;pack="Custom";attack=2;health=3;initAbilities(){this.addAbility(new Pi(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Frilled Dragon":class za extends M{logService;abilityService;name="Frilled Dragon";tier=1;pack="Custom";attack=1;health=1;initAbilities(){this.addAbility(new Ya(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Gibbon:class hw extends M{logService;abilityService;name="Gibbon";tier=1;pack="Custom";health=2;attack=1;initAbilities(){this.addAbility(new pw(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Mouse:Hm,Nudibranch:class CF extends M{logService;abilityService;name="Nudibranch";tier=1;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new Z0(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Peacock Spider":class DF extends M{logService;abilityService;name="Peacock Spider";tier=1;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new eD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Pygmy Seahorse":class MF extends M{logService;abilityService;name="Pygmy Seahorse";tier=1;pack="Custom";attack=3;health=1;initAbilities(){this.addAbility(new tD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Quoll:class xF extends M{logService;abilityService;name="Quoll";tier=1;pack="Custom";attack=3;health=2;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Silverfish:class IF extends M{logService;abilityService;name="Silverfish";tier=2;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new iD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Sloth:class RF extends M{logService;abilityService;name="Sloth";tier=1;pack="Custom";attack=1;health=1;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Termite:class LF extends M{logService;abilityService;name="Termite";tier=1;pack="Custom";health=4;attack=1;initAbilities(){this.addAbility(new nD(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Umbrella Bird":class NF extends M{logService;abilityService;name="Umbrella Bird";tier=1;pack="Custom";attack=3;health=2;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Weevil:class FF extends M{logService;abilityService;name="Weevil";tier=1;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new rD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Albino Squirrel":class OF extends M{logService;abilityService;name="Albino Squirrel";tier=2;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new aD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Amphisbaena:class BF extends M{logService;abilityService;name="Amphisbaena";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new oD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Atlantic Puffin":class $F extends M{logService;abilityService;name="Atlantic Puffin";tier=2;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new sD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Chupacabra:class GF extends M{logService;abilityService;name="Chupacabra";tier=2;pack="Custom";attack=4;health=2;initAbilities(){this.addAbility(new lD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Desert Rain Frog":class HF extends M{logService;abilityService;name="Desert Rain Frog";tier=2;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new cD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Dung Beetle":class jF extends M{logService;abilityService;name="Dung Beetle";tier=2;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new uD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Farmer Chicken":class qF extends M{logService;abilityService;name="Farmer Chicken";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new dD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Frigatebird:class UF extends M{logService;abilityService;name="Frigatebird";tier=2;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new hD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}resetPet(){super.resetPet()}},"Fruit Fly":class WF extends M{logService;abilityService;name="Fruit Fly";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new pD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Giant Squirrel":class VF extends M{logService;abilityService;name="Giant Squirrel";tier=2;pack="Custom";attack=2;health=5;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Golden Beetle":class KF extends M{logService;abilityService;name="Golden Beetle";tier=2;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new gD(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Hermit Crab":class zF extends M{logService;abilityService;name="Hermit Crab";tier=1;pack="Custom";attack=1;health=4;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Honduran White Bat":class YF extends M{logService;abilityService;name="Honduran White Bat";tier=2;pack="Custom";attack=1;health=1;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Mandarinfish:class XF extends M{logService;abilityService;name="Mandarinfish";tier=2;pack="Custom";attack=2;health=3;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Mink:class JF extends M{logService;abilityService;name="Mink";tier=2;pack="Custom";attack=3;health=3;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Nightcrawler:class QF extends M{logService;abilityService;name="Nightcrawler";tier=2;pack="Custom";attack=1;health=1;initAbilities(){this.addAbility(new mD(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Olm:class ZF extends M{logService;abilityService;name="Olm";tier=2;pack="Custom";attack=3;health=1;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}initAbilities(){this.addAbility(new fD(this,this.logService)),super.initAbilities()}},Panda:class eO extends M{logService;abilityService;name="Panda";tier=2;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new yD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Pink Robin":class tO extends M{logService;abilityService;name="Pink Robin";tier=1;pack="Custom";attack=3;health=2;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}initAbilities(){this.addAbility(new vD(this)),super.initAbilities()}},Roadrunner:class iO extends M{logService;abilityService;name="Roadrunner";tier=2;pack="Custom";attack=4;health=1;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}initAbilities(){this.addAbility(new bD(this,this.logService)),super.initAbilities()}},Seahorse:class nO extends M{logService;abilityService;name="Seahorse";tier=2;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new AD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Sphinx:class rO extends M{logService;abilityService;name="Sphinx";tier=2;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new SD(this)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Spotted Handfish":class aO extends M{logService;abilityService;name="Spotted Handfish";tier=2;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new PD(this)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Tadpole:_D,"Thorny Dragon":class oO extends M{logService;abilityService;name="Thorny Dragon";tier=2;pack="Custom";attack=3;health=3;hasRandomEvents=!0;initAbilities(){this.addAbility(new wD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Vervet:class sO extends M{logService;abilityService;name="Vervet";tier=2;pack="Custom";attack=1;health=3;initAbilities(){this.addAbility(new TD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Warf:class lO extends M{logService;abilityService;name="Warf";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new ED(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Wombat:class cO extends M{logService;abilityService;name="Wombat";tier=2;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new CD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Yak:class uO extends M{logService;abilityService;name="Yak";tier=2;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new DD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Aardvark:class dO extends M{constructor(e,t,i){super(e,t,i),this.name="Aardvark",this.tier=3,this.pack="Custom",this.attack=2,this.health=3}initAbilities(){this.abilityList=[new MD(this,this.logService)],super.initAbilities()}},"Axehandle Hound":class hO extends M{constructor(e,t,i){super(e,t,i),this.name="Axehandle Hound",this.attack=5,this.health=3,this.tier=3,this.pack="Custom"}initAbilities(){this.abilityList=[new xD(this,this.logService)],super.initAbilities()}},Barnacle:class pO extends M{constructor(e,t,i){super(e,t,i),this.name="Barnacle",this.tier=3,this.pack="Custom",this.attack=1,this.health=3}initAbilities(){this.abilityList=[new ID(this,this.logService)],super.initAbilities()}},Bear:class gO extends M{logService;abilityService;name="Bear";tier=3;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new RD(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Blue Dragon":class mO extends M{constructor(e,t,i){super(e,t,i),this.name="Blue Dragon",this.tier=3,this.pack="Custom",this.attack=3,this.health=4}initAbilities(){this.abilityList=[new LD(this,this.logService)],super.initAbilities()}},"Brazillian Treehopper":class fO extends M{constructor(e,t,i){super(e,t,i),this.name="Brazillian Treehopper",this.tier=3,this.pack="Custom",this.attack=2,this.health=3}initAbilities(){this.abilityList=[new ND(this,this.logService)],super.initAbilities()}},Caladrius:class yO extends M{logService;abilityService;name="Caladrius";tier=3;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new FD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Centipede:class vO extends M{logService;abilityService;name="Centipede";tier=3;pack="Custom";attack=1;health=4;initAbilities(){this.addAbility(new OD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Deer Lord":class bO extends M{logService;abilityService;name="Deer Lord";tier=3;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new BD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Dimetrodon:class AO extends M{logService;abilityService;name="Dimetrodon";tier=3;pack="Custom";attack=1;health=3;initAbilities(){this.addAbility(new $D(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Dugong:class PO extends M{logService;abilityService;name="Dugong";tier=3;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new GD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Eel:class _O extends M{logService;abilityService;name="Eel";tier=3;pack="Custom";attack=4;health=2;initAbilities(){this.addAbility(new HD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Emperor Tamarin":class kO extends M{logService;abilityService;name="Emperor Tamarin";tier=3;pack="Custom";attack=3;health=6;initAbilities(){this.addAbility(new jD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Farmer Pig":class wO extends M{logService;abilityService;name="Farmer Pig";tier=3;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new qD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Flying Squirrel":class TO extends M{constructor(e,t,i){super(e,t,i),this.name="Flying Squirrel",this.tier=3,this.pack="Custom",this.attack=3,this.health=3}initAbilities(){this.abilityList=[new UD(this,this.logService)],super.initAbilities()}},"Foo Dog":class EO extends M{logService;abilityService;name="Foo Dog";tier=3;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new WD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Gerenuk:class CO extends M{logService;abilityService;name="Gerenuk";tier=3;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new VD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Great Potoo":class DO extends M{logService;abilityService;name="Great Potoo";tier=3;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new KD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Jewel Caterpillar":class MO extends M{logService;abilityService;name="Jewel Caterpillar";tier=3;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new zD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Pangasius:class xO extends M{logService;abilityService;name="Pangasius";tier=3;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new YD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Patagonian Mara":class IO extends M{logService;abilityService;name="Patagonian Mara";tier=3;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new XD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Pony:class RO extends M{logService;abilityService;name="Pony";tier=3;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new JD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Porcupine:class LO extends M{logService;abilityService;name="Porcupine";tier=3;pack="Custom";attack=2;health=6;initAbilities(){this.addAbility(new QD(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Quail Chick":class NO extends M{logService;abilityService;name="Quail Chick";tier=3;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new ZD(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Queen Bee":class FO extends M{logService;abilityService;name="Queen Bee";tier=3;pack="Custom";attack=2;health=6;initAbilities(){this.addAbility(new eM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Quetzalcoatlus:class OO extends M{logService;abilityService;name="Quetzalcoatlus";tier=3;pack="Custom";attack=4;health=6;initAbilities(){this.addAbility(new tM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Sage-Grouse":class BO extends M{logService;abilityService;name="Sage-Grouse";tier=3;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new iM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Sarcastic Fringehead":nM,"Silkie Chicken":class $O extends M{logService;abilityService;name="Silkie Chicken";tier=3;pack="Custom";attack=2;health=6;initAbilities(){this.addAbility(new aM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Slime:ML,"Sugar Glider":class GO extends M{logService;abilityService;name="Sugar Glider";tier=3;pack="Custom";attack=1;health=3;initAbilities(){this.addAbility(new sM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Tree:class HO extends M{logService;abilityService;name="Tree";tier=3;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new lM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Vampire Parrot":class jO extends M{logService;abilityService;name="Vampire Parrot";tier=3;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new cM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Wasp:class qO extends M{logService;abilityService;name="Wasp";tier=3;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new uM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Ahuizotl:class UO extends M{logService;abilityService;name="Ahuizotl";tier=4;pack="Custom";attack=3;health=6;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Andrewsarchus:class WO extends M{logService;abilityService;name="Andrewsarchus";tier=4;pack="Custom";attack=5;health=4;initAbilities(){this.addAbility(new hM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Anubis:class VO extends M{logService;abilityService;name="Anubis";tier=4;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new pM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Bloodhound:class KO extends M{logService;abilityService;name="Bloodhound";tier=4;pack="Custom";attack=4;health=4;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Blue-Footed Booby":class zO extends M{logService;abilityService;name="Blue-Footed Booby";tier=4;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new gM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Crow:class YO extends M{logService;abilityService;name="Crow";tier=4;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new mM(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Deinocheirus:class XO extends M{logService;abilityService;name="Deinocheirus";tier=4;pack="Custom";attack=4;health=7;initAbilities(){this.addAbility(new fM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Dragonfly:class JO extends M{logService;abilityService;name="Dragonfly";tier=4;pack="Custom";attack=4;health=2;initAbilities(){this.addAbility(new yM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Fairy:class w1 extends M{logService;abilityService;name="Fairy";tier=4;pack="Custom";attack=1;health=1;initAbilities(){this.addAbility(new Iu(this)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Farmer Cat":class QO extends M{logService;abilityService;name="Farmer Cat";tier=4;pack="Custom";attack=4;health=3;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Gazelle:class ZO extends M{logService;abilityService;name="Gazelle";tier=3;pack="Custom";attack=2;health=3;initAbilities(){this.addAbility(new vM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Gelada:class e3 extends M{logService;abilityService;name="Gelada";tier=4;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new bM(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Goblin Shark":AM,Hippocampus:class t3 extends M{logService;abilityService;name="Hippocampus";tier=4;pack="Custom";attack=4;health=6;initAbilities(){this.addAbility(new _M(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Hoatzin:class i3 extends M{logService;abilityService;name="Hoatzin";tier=4;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new kM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Jerboa:class n3 extends M{logService;abilityService;name="Jerboa";tier=4;pack="Custom";attack=1;health=3;initAbilities(){this.addAbility(new wM(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Leaf Gecko":class r3 extends M{logService;abilityService;name="Leaf Gecko";tier=4;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new TM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Leafy Sea Dragon":class a3 extends M{logService;abilityService;name="Leafy Sea Dragon";tier=4;pack="Custom";attack=7;health=2;initAbilities(){this.addAbility(new EM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Locust:class s3 extends M{logService;abilityService;name="Locust";tier=4;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new CM(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Lynx:class l3 extends M{logService;abilityService;name="Lynx";tier=4;pack="Custom";attack=5;health=3;initAbilities(){this.addAbility(new DM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Old Mouse":class c3 extends M{logService;abilityService;name="Old Mouse";tier=4;pack="Custom";attack=1;health=2;initAbilities(){this.addAbility(new MM(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Pegasus:class u3 extends M{constructor(e,t,i){super(e,t,i),this.name="Pegasus",this.tier=4,this.pack="Custom",this.attack=2,this.health=4}initAbilities(){this.abilityList=[new xM(this,this.logService)],super.initAbilities()}},Platybelodon:class d3 extends M{logService;abilityService;name="Platybelodon";tier=4;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new IM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Poodle Moth":class h3 extends M{logService;abilityService;name="Poodle Moth";tier=4;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new RM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Racket Tail":class p3 extends M{logService;abilityService;name="Racket Tail";tier=4;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new LM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Red Lipped Batfish":NM,Rootling:class g3 extends M{logService;abilityService;name="Rootling";tier=4;pack="Custom";attack=1;health=8;initAbilities(){this.addAbility(new OM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Ruspoli's Turaco":class m3 extends M{logService;abilityService;name="Ruspolis Turaco";tier=4;pack="Custom";attack=4;health=3;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Sea Anemone":class f3 extends M{logService;abilityService;name="Sea Anemone";tier=4;pack="Custom";health=4;attack=3;initAbilities(){this.addAbility(new BM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Seagull:$M,"Spider Crab":class y3 extends M{logService;abilityService;name="Spider Crab";tier=2;pack="Custom";attack=1;health=5;initAbilities(){this.addAbility(new HM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Spiny Bush Viper":class v3 extends M{logService;abilityService;name="Spiny Bush Viper";tier=4;pack="Custom";attack=5;health=2;initAbilities(){this.addAbility(new jM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Tandgnost:zf,Tardigrade:class b3 extends M{logService;abilityService;name="Tardigrade";tier=4;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new qM(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Trout:class S3 extends M{logService;abilityService;name="Trout";tier=4;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new UM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Yeti Crab":class P3 extends M{logService;abilityService;name="Yeti Crab";tier=4;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new WM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Blue Jay":class _3 extends M{logService;abilityService;name="Blue Jay";tier=5;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new VM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Boitata:class k3 extends M{logService;abilityService;name="Boitata";tier=5;pack="Custom";attack=2;health=12;initAbilities(){this.addAbility(new KM(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Brahma Chicken":class w3 extends M{logService;abilityService;name="Brahma Chicken";tier=5;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new zM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Cuckoo:class T3 extends M{logService;abilityService;name="Cuckoo";tier=5;pack="Custom";attack=5;health=4;initAbilities(){this.addAbility(new YM(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Estemmenosuchus:class E3 extends M{logService;abilityService;name="Estemmenosuchus";tier=5;pack="Custom";attack=4;health=6;initAbilities(){this.addAbility(new XM(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Farmer Crow":class D3 extends M{logService;abilityService;name="Farmer Crow";tier=5;pack="Custom";attack=6;health=3;initAbilities(){this.addAbility(new JM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Farmer Dog":class M3 extends M{logService;abilityService;name="Farmer Dog";tier=6;pack="Custom";attack=5;health=6;initAbilities(){this.addAbility(new QM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Flounder:class x3 extends M{logService;abilityService;name="Flounder";tier=5;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new ZM(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Fox:class I3 extends M{logService;abilityService;name="Fox";tier=5;pack="Custom";attack=6;health=4;initAbilities(){this.addAbility(new ex(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Giant Isopod":class R3 extends M{logService;abilityService;name="Giant Isopod";tier=5;pack="Custom";attack=5;health=6;initAbilities(){this.addAbility(new tx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Hippogriff:ix,Hyena:class L3 extends M{logService;abilityService;name="Hyena";tier=5;pack="Custom";attack=5;health=5;initAbilities(){this.addAbility(new rx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Jackal:class N3 extends M{logService;abilityService;name="Jackal";tier=5;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new ax(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Kappa:ox,Lion:class F3 extends M{logService;abilityService;name="Lion";tier=5;pack="Custom";attack=7;health=7;initAbilities(){this.addAbility(new lx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Lusca:class O3 extends M{logService;abilityService;name="Lusca";tier=5;pack="Custom";attack=7;health=5;initAbilities(){this.addAbility(new cx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Maltese:class B3 extends M{logService;abilityService;name="Maltese";tier=5;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new ux(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Mimic:class $3 extends M{logService;abilityService;name="Mimic";tier=5;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new dx(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Moose:class G3 extends M{logService;abilityService;name="Moose";tier=5;pack="Custom";attack=5;health=6;initAbilities(){this.addAbility(new hx(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Namazu:class H3 extends M{logService;abilityService;name="Namazu";tier=5;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new px(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Nurikabe:class j3 extends M{logService;abilityService;name="Nurikabe";tier=5;pack="Custom";attack=5;health=6;maxAbilityUses=3;initAbilities(){this.addAbility(new gx(this)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Pacific Fanfish":class q3 extends M{logService;abilityService;name="Pacific Fanfish";tier=5;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new mx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Polar Bear":class U3 extends M{logService;abilityService;name="Polar Bear";tier=5;pack="Custom";attack=4;health=8;initAbilities(){this.addAbility(new fx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Raccoon:class W3 extends M{logService;abilityService;name="Raccoon";tier=5;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new yx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Sea Cucumber":class V3 extends M{logService;abilityService;name="Sea Cucumber";tier=5;pack="Custom";health=5;attack=3;initAbilities(){this.addAbility(new vx(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Siberian Husky":class K3 extends M{logService;abilityService;name="Siberian Husky";tier=5;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new bx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Silver Fox":class z3 extends M{logService;abilityService;name="Silver Fox";tier=5;pack="Custom";attack=3;health=6;initAbilities(){this.addAbility(new Ax(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Tandgrisner:tC,Tarasque:class Y3 extends M{logService;abilityService;name="Tarasque";tier=5;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new Sx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Venus Flytrap":class X3 extends M{logService;abilityService;name="Venus Flytrap";tier=5;pack="Custom";attack=2;health=7;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Woolly Rhino":class J3 extends M{logService;abilityService;name="Woolly Rhino";tier=5;pack="Custom";attack=3;health=7;initAbilities(){this.addAbility(new Px(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Zebra:class Q3 extends M{logService;abilityService;name="Zebra";tier=5;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new _x(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Akhlut:class Z3 extends M{logService;abilityService;name="Akhlut";tier=6;pack="Custom";attack=5;health=7;initAbilities(){this.addAbility(new kx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Albatross:class e4 extends M{logService;abilityService;name="Albatross";tier=6;pack="Custom";attack=5;health=4;initAbilities(){this.addAbility(new wx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Amargasaurus:class t4 extends M{logService;abilityService;name="Amargasaurus";tier=5;pack="Star";attack=5;health=7;initAbilities(){this.addAbility(new Tx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Bakunawa:class i4 extends M{logService;abilityService;name="Bakunawa";tier=6;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new Ex(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Black Bear":class n4 extends M{logService;abilityService;name="Black Bear";tier=6;pack="Custom";attack=5;health=6;initAbilities(){this.addAbility(new Cx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Chimpanzee:class r4 extends M{logService;abilityService;name="Chimpanzee";tier=6;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new Dx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Cockatrice:class a4 extends M{logService;abilityService;name="Cockatrice";tier=6;pack="Custom";attack=6;health=8;initAbilities(){this.addAbility(new Mx(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Coconut Crab":class o4 extends M{logService;abilityService;name="Coconut Crab";tier=6;pack="Custom";attack=4;health=8;initAbilities(){this.addAbility(new xx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Dunkleosteus:class s4 extends M{logService;abilityService;name="Dunkleosteus";tier=6;pack="Custom";attack=6;health=8;initAbilities(){this.addAbility(new Ix(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Eagle Owl":class l4 extends M{logService;abilityService;name="Eagle Owl";tier=6;pack="Custom";attack=8;health=3;initAbilities(){this.addAbility(new Rx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Great One":ga,"Hammerhead Shark":class c4 extends M{logService;abilityService;name="Hammerhead Shark";tier=6;pack="Custom";attack=5;health=5;initAbilities(){this.addAbility(new Lx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Harpy Eagle":Nx,"Hooded Seal":class u4 extends M{logService;abilityService;name="Hooded Seal";tier=6;pack="Custom";attack=4;health=9;initAbilities(){this.addAbility(new Ox(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Komodo:class d4 extends M{logService;abilityService;name="Komodo";tier=6;pack="Custom";attack=6;health=6;initAbilities(){this.addAbility(new Bx(this,this.logService,this.abilityService)),super.initAbilities()}endTurn(e){if(!e.komodoShuffle)return;let i=this.position;if(0==i)return;let s=this.shufflePets(0,i).map(r=>r.name).join(", ");this.logService.createLog({message:`${this.name} shuffled positions of pets (${s}).`,type:"ability",player:this.parent,randomEvent:!0})}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}shufflePets(e,t){let i=this.parent.petArray.slice(e,t);rr(i);for(let n=0;n<i.length;n++)this.parent[`pet${n}`]=i[n];return i}},Lamprey:class h4 extends M{logService;abilityService;name="Lamprey";tier=6;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new $x(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Leviathan:Gx,Lioness:class p4 extends M{logService;abilityService;name="Lioness";tier=6;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new jx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Markhor:class g4 extends M{logService;abilityService;name="Markhor";tier=6;pack="Custom";attack=6;health=6;initAbilities(){this.addAbility(new qx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Poodle:class m4 extends M{logService;abilityService;name="Poodle";tier=6;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new Ux(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Questing Beast":class f4 extends M{logService;abilityService;name="Questing Beast";tier=6;pack="Custom";attack=7;health=9;initAbilities(){this.addAbility(new Wx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Rockhopper Penguin":class y4 extends M{logService;abilityService;name="Rockhopper Penguin";tier=6;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new Vx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Small One":class v4 extends M{logService;abilityService;name="Small One";tier=6;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new Kx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Stegosaurus:class b4 extends M{logService;abilityService;name="Stegosaurus";tier=6;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new zx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Sunfish:class A4 extends M{logService;abilityService;name="Sunfish";tier=6;pack="Custom";attack=4;health=10;initAbilities(){this.addAbility(new Yx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Tapir:class T4 extends M{logService;abilityService;name="Tapir";tier=6;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new Qx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Tanystropheus:class C4 extends M{logService;abilityService;name="Tanystropheus";tier=6;pack="Custom";attack=6;health=6;initAbilities(){this.addAbility(new Zx(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Tarantula Hawk":class D4 extends M{logService;abilityService;name="Tarantula Hawk";tier=6;pack="Custom";health=2;attack=10;initAbilities(){this.addAbility(new eI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Terror Bird":class M4 extends M{logService;abilityService;name="Terror Bird";tier=6;pack="Custom";attack=8;health=3;initAbilities(){this.addAbility(new tI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Therizinosaurus:class x4 extends M{logService;abilityService;name="Therizinosaurus";tier=6;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new iI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Vampire Squid":class I4 extends M{logService;abilityService;name="Vampire Squid";tier=6;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new nI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Walrus:class R4 extends M{logService;abilityService;name="Walrus";tier=6;pack="Custom";attack=7;health=5;initAbilities(){this.addAbility(new rI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"White Tiger":class L4 extends M{logService;abilityService;name="White Tiger";tier=6;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new aI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Winter Spirit":class N4 extends M{logService;abilityService;name="Winter Spirit";tier=6;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new oI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Yellow Boxfish":class F4 extends M{logService;abilityService;name="Yellow Boxfish";tier=6;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new sI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Cuckoo Chick":LL};class lI extends E{logService;constructor(e,t){super({name:"BabyUrchinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n,pteranodon:s}=e,r=this.owner;let c=r.parent.opponent.getFurthestUpPet(r),u=[c.pet],h=c.random;if(u[0]){for(let b=0;b<r.level-1;b++){let D;if(D=h?r.parent.opponent.getFurthestUpPet(r).pet:u[b].petBehind(),!D)break;u.push(D)}for(let b of u)b&&(b.increaseHealth(-4),this.logService.createLog({message:`${r.name} removed 4 health from ${b.name}.`,type:"ability",player:r.parent,tiger:n,pteranodon:s,randomEvent:h}));this.triggerTigerExecution(e)}}copy(e){return new lI(e,this.logService)}}class cI extends E{logService;constructor(e,t){super({name:"MimicOctopusAbility",owner:e,triggers:["ThisAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=r.parent.opponent.getLowestHealthPets(r.level,void 0,r);for(let u of c.pets)r.snipePet(u,4,c.random,n);this.triggerTigerExecution(e)}copy(e){return new cI(e,this.logService)}}class uI extends E{logService;abilityService;constructor(e,t,i){super({name:"MobyDickAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i}get triggers(){const e=["StartBattle"];return this.owner.level>1&&e.push("ThisSummoned"),e}set triggers(e){this._triggers=e}executeAbility(e){this.logService.createLog({message:`${this.owner.name} removed itself.`,type:"ability",player:this.owner.parent}),this.owner.removed=!0;const t=this.owner.parent;t&&(t.pet0===this.owner&&(t.pet0=null),t.pet1===this.owner&&(t.pet1=null),t.pet2===this.owner&&(t.pet2=null),t.pet3===this.owner&&(t.pet3=null),t.pet4===this.owner&&(t.pet4=null)),this.triggerTigerExecution(e)}copy(e){return new uI(e,this.logService,this.abilityService)}}class dI extends E{logService;constructor(e,t){super({name:"SalmonAbility",owner:e,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:n}=e,r=this.owner;let c=1+Math.floor(r.health/25),u=5*this.level;for(let h=0;h<c;h++){let b=r.parent.opponent.getRandomPet([],!1,!0,!1,r);b.pet&&r.snipePet(b.pet,u,b.random,n)}this.triggerTigerExecution(e)}copy(e){return new dI(e,this.logService)}}const V4={...lE,...o1,...$1,...sk,...$k,...V,...O4,"Adult Flounder":class B4 extends M{logService;abilityService;name="Adult Flounder";tier=1;pack="Custom";hidden=!0;attack=2;health=4;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Angry Pygmy Hog":Ls,"Baby Urchin":class $4 extends M{logService;abilityService;name="Baby Urchin";tier=2;pack="Star";attack=3;health=2;initAbilities(){this.addAbility(new lI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},Bee:Lf,Bus:cf,Butterfly:Oy,Chick:jS,"Chimera Goat":Rb,"Chimera Lion":Lb,"Chimera Snake":dg,"Cooked Roach":class G4 extends M{logService;abilityService;name="Cooked Roach";tier=1;pack="Custom";hidden=!0;attack=1;health=1;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Cracked Egg":dk,Daycrawler:EL,"Dirty Rat":Jm,"Fairy Ball":N_,"Fake Nessie":class H4 extends M{logService;abilityService;name="Fake Nessie";tier=1;pack="Custom";hidden=!0;attack=1;health=2;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Fire Pup":Yb,"Giant Eyes Dog":Sy,"Golden Retriever":Zd,"Good Dog":Xx,Head:Bk,"Lizard Tail":Es,"Loyal Chinchilla":QS,"Mimic Octopus":class j4 extends M{logService;abilityService;name="Mimic Octopus";tier=6;pack="Star";attack=4;health=7;initAbilities(){this.addAbility(new cI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Moby Dick":class q4 extends M{logService;abilityService;name="Moby Dick";tier=1;pack="Custom";hidden=!0;attack=8;health=8;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}initAbilities(){this.addAbility(new uI(this,this.logService,this.abilityService)),super.initAbilities()}},Monty:Vf,"Nessie?":xk,Nest:fu,Quail:CL,Ram:xS,Rock:re,Salmon:class U4 extends M{logService;abilityService;name="Salmon";tier=1;pack="Star";attack=5;health=5;hidden=!0;initAbilities(){this.addAbility(new dI(this,this.logService)),super.initAbilities()}constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Sleeping Gelada":IL,"Smaller Slime":DL,"Smaller Slug":Qv,"Smallest Slug":Z_,"Summoned Cockroach":C_,"Tand and Tand":class W4 extends M{logService;abilityService;name="Tand and Tand";tier=4;pack="Custom";hidden=!0;attack=1;health=1;constructor(e,t,i,n,s,r,c,u,h){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(c,n,s,r,u,h)}},"Young Phoenix":Rk,"Zombie Cricket":jm,"Zombie Fly":JS},K4={Pack1:"Turtle",Pack2:"Puppy",Pack3:"Star",Pack4:"Golden",Pack5:"Unicorn",Danger:"Danger",Custom:"Custom",MiniPack1:"Custom",MiniPack2:"Custom",MiniPack3:"Custom"};let Kn=(()=>{class a{logService;abilityService;gameService;petFactory;turtlePackPets=new Map;puppyPackPets=new Map;starPackPets=new Map;goldenPackPets=new Map;unicornPackPets=new Map;customPackPets=new Map;dangerPackPets=new Map;playerCustomPackPets=new Map;allPets=new Map;tokenPetsMap=new Map;basePackPetsByName;startOfBattlePets=[];faintPetsByTier=new Map;constructor(t,i,n,s){this.logService=t,this.abilityService=i,this.gameService=n,this.petFactory=s,this.basePackPetsByName={Turtle:this.turtlePackPets,Puppy:this.puppyPackPets,Star:this.starPackPets,Golden:this.goldenPackPets,Unicorn:this.unicornPackPets,Danger:this.dangerPackPets,Custom:this.customPackPets}}buildCustomPackPets(t){for(let i of t.controls){let n=new Map;for(let s=1;s<=6;s++)n.set(s,i.get(`tier${s}Pets`).value);this.playerCustomPackPets.set(i.get("name").value,n)}}resetPackMaps(){const t=[this.turtlePackPets,this.puppyPackPets,this.starPackPets,this.goldenPackPets,this.unicornPackPets,this.dangerPackPets,this.customPackPets,this.tokenPetsMap];for(const i of t){i.clear();for(let n=1;n<=6;n++)i.set(n,[])}}getPetEntriesFromJson(){return(ha??es??[]).filter(i=>!!i?.Name)}isPetRandom(t){return!0===this.petDataMap.get(t)?.Random}petDataMap=new Map;populatePackMaps(t){for(const i of t){i.Name&&this.petDataMap.set(i.Name,i);const n=Number(i.Tier);if(!Number.isFinite(n)||n<1||n>6)continue;const s=Array.isArray(i.Abilities)&&i.Abilities.length>0&&i.Abilities.every(c=>"No ability."===c?.About);if(!0!==i.Rollable||s)this.tokenPetsMap.get(n)?.push(i.Name);else for(const c of this.getPackNamesFromEntry(i)){const h=this.basePackPetsByName[c]?.get(n);h&&h.push(i.Name)}}for(const i of Object.values(this.basePackPetsByName))this.deduplicateTierMap(i);this.deduplicateTierMap(this.tokenPetsMap)}getPackNamesFromEntry(t){const i=new Set,n=new Set;Array.isArray(t.Packs)&&t.Packs.forEach(c=>{if(c){const u=c.trim();i.add(u),n.add(u)}}),!(n.has("Custom")||n.has("MiniPack1")||n.has("MiniPack2")||n.has("MiniPack3"))&&Array.isArray(t.PacksRequired)&&t.PacksRequired.forEach(c=>{c&&i.add(c.trim())});const r=new Set;for(const c of i){const u=K4[c];u&&r.add(u)}return Array.from(r)}deduplicateTierMap(t){for(const[i,n]of t)t.set(i,[...new Set(n)])}buildStartOfBattlePets(t){const i=new Set;for(const n of t)Array.isArray(n.Abilities)&&n.Abilities.some(s=>{const r=s?.About;return"string"==typeof r&&r.toLowerCase().includes("start of battle")})&&i.add(n.Name);return Array.from(i)}buildFaintPetsByTier(t){const i=new Map;for(let n=1;n<=6;n++)i.set(n,[]);for(const n of t){const s=Number(n.Tier);!Number.isFinite(s)||s<1||s>6||!0!==n.Rollable||!Array.isArray(n.Abilities)||!n.Abilities.some(c=>{const u=c?.About;return"string"==typeof u&&u.includes("Faint:")})||i.get(s)?.push(n.Name)}return this.deduplicateTierMap(i),i}init(){this.resetPackMaps();const t=this.getPetEntriesFromJson();this.populatePackMaps(t),this.startOfBattlePets=this.buildStartOfBattlePets(t),this.faintPetsByTier=this.buildFaintPetsByTier(t),this.setAllPets()}setAllPets(){this.allPets=new Map;for(let t=1;t<=6;t++)this.allPets.set(t,[]);for(const t of lh){const i=this.basePackPetsByName[t];for(let[n,s]of i)this.allPets.get(n).push(...s)}for(let[t,i]of this.allPets)this.allPets.set(t,[...new Set(i)])}createPet(t,i){const n=this.petFactory.createPetFromForm(t,i,this,V4);if(n)return n;const s=this.petFactory.resolveEquipmentFromForm(t.equipment,t.equipmentUses);return new Hm(this.logService,this.abilityService,i,t.health,t.attack,t.mana,t.exp,s,t.triggersConsumed)}createDefaultVersionOfPet(t,i=null,n=null){return this.petFactory.createPet(t,this,i,n)}getRandomPet(t){let n,i=Ot(1,6);if(n=t.allPets?[...this.allPets.get(i)||[]]:"Turtle"==t.pack?[...this.turtlePackPets.get(i)||[]]:"Puppy"==t.pack?[...this.puppyPackPets.get(i)||[]]:"Star"==t.pack?[...this.starPackPets.get(i)||[]]:"Golden"==t.pack?[...this.goldenPackPets.get(i)||[]]:"Unicorn"==t.pack?[...this.unicornPackPets.get(i)||[]]:"Danger"==t.pack?[...this.dangerPackPets.get(i)||[]]:[...this.playerCustomPackPets.get(t.pack)?.get(i)||[]],t.allPets&&t.tokenPets){const c=this.tokenPetsMap.get(i)||[];n.push(...c),n=[...new Set(n)]}(!n||0===n.length)&&(n=["Ant"]);let r=n[Ot(0,n.length-1)];return this.createPet({attack:null,equipment:null,exp:Ot(0,5),health:null,name:r,mana:null},t)}getRandomFaintPet(t,i,n=[]){this.faintPetsByTier?.size||(this.faintPetsByTier=this.buildFaintPetsByTier(this.getPetEntriesFromJson()));let s=[];s=i&&this.faintPetsByTier.get(i)?this.faintPetsByTier.get(i)??[]:Array.from(this.faintPetsByTier.values()).flat();const r=new Set(n.map(b=>b?.toLowerCase()));let u=s.filter(b=>!r.has(b.toLowerCase()));if(!u.length&&i){const b=Array.from(this.faintPetsByTier.values()).flat().filter(D=>!r.has(D.toLowerCase()));b.length&&(u=b)}u.length||(u=s);let h=u[Ot(0,u.length-1)];return this.createPet({name:h,attack:null,equipment:null,exp:0,health:null,mana:null},t)}static \u0275fac=function(i){return new(i||a)(P.KVO(Vn),P.KVO(Ba),P.KVO(Or),P.KVO(jL))};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const z4=["searchInput"];function Y4(a,e){if(1&a){const t=p.RV6();p.j41(0,"button",16),p.bIt("click",function(){const n=P.eBV(t).$implicit,s=p.XpG(2);return P.Njj(s.selectPack(n))}),p.EFF(1),p.k0s()}if(2&a){const t=e.$implicit,i=p.XpG(2);p.AVh("btn-primary",i.selectedPack===t)("btn-outline-primary",i.selectedPack!==t),p.R7$(),p.SpI(" ",t," ")}}function X4(a,e){if(1&a&&(p.j41(0,"div",14),p.DNE(1,Y4,2,5,"button",15),p.k0s()),2&a){const t=p.XpG();p.R7$(),p.Y8G("ngForOf",t.availablePacks)("ngForTrackBy",t.trackByPack)}}function J4(a,e){if(1&a){const t=p.RV6();p.j41(0,"div",17),p.bIt("click",function(){P.eBV(t);const n=p.XpG();return P.Njj(n.onItemClick(null))}),p.j41(1,"div",18)(2,"span",19),p.EFF(3,"None"),p.k0s()(),p.j41(4,"div",20),p.EFF(5,"None"),p.k0s()()}}function Q4(a,e){if(1&a&&(p.j41(0,"div",24),p.EFF(1),p.k0s()),2&a){const t=p.XpG().$implicit;p.R7$(),p.SpI(" ",t.category," ")}}function Z4(a,e){if(1&a&&p.nrm(0,"img",27),2&a){const t=p.XpG(2).$implicit;p.Y8G("ngSrc",t.icon)("alt",t.name)}}function eB(a,e){if(1&a&&(p.j41(0,"div",28),p.EFF(1),p.k0s()),2&a){const t=p.XpG(2).$implicit;p.R7$(),p.SpI(" ",t.tier," ")}}function tB(a,e){if(1&a&&(p.qex(0),p.DNE(1,Z4,1,2,"img",25)(2,eB,2,1,"div",26),p.bVm()),2&a){const t=p.XpG().$implicit,i=p.XpG();p.R7$(),p.Y8G("ngIf",t.icon),p.R7$(),p.Y8G("ngIf",t.tier>0&&"hard-toy"!==i.type)}}function iB(a,e){if(1&a&&p.nrm(0,"img",31),2&a){const t=e.$implicit,i=p.XpG(2).$implicit;p.Y8G("ngSrc",t)("alt",i.name)}}function nB(a,e){if(1&a&&(p.j41(0,"div",29),p.DNE(1,iB,1,2,"img",30),p.k0s()),2&a){const t=p.XpG().$implicit,i=p.XpG();p.R7$(),p.Y8G("ngForOf",t.icons)("ngForTrackBy",i.trackByIndex)}}function rB(a,e){if(1&a){const t=p.RV6();p.qex(0),p.DNE(1,Q4,2,1,"div",21),p.j41(2,"div",22),p.bIt("click",function(){const n=P.eBV(t).$implicit,s=p.XpG();return P.Njj(s.onItemClick(n))}),p.j41(3,"div",18),p.DNE(4,tB,3,2,"ng-container",23)(5,nB,2,2,"ng-template",null,1,p.C5r),p.k0s(),p.j41(7,"div",20),p.EFF(8),p.k0s()(),p.bVm()}if(2&a){const t=e.$implicit,i=e.index,n=p.sdS(6),s=p.XpG();p.R7$(),p.Y8G("ngIf",0===i||s.filteredItems[i-1].category!==t.category),p.R7$(),p.AVh("team-card","team"===s.type),p.Y8G("appTooltip",t.tooltip||t.displayName||t.name),p.R7$(),p.AVh("team-container","team"===s.type),p.R7$(),p.Y8G("ngIf","team"!==s.type)("ngIfElse",n),p.R7$(4),p.JRh(t.displayName||t.name)}}function aB(a,e){if(1&a&&(p.j41(0,"div",32),p.EFF(1),p.k0s()),2&a){const t=p.XpG();p.R7$(),p.SpI(' No items found matching "',t.searchQuery,'" ')}}let WL=(()=>{class a{petService;equipmentService;toyService;type="pet";currentPack="Turtle";showTokenPets=!1;showAllPets=!1;customPacks=null;savedTeams=[];select=new P.bkB;close=new P.bkB;searchInput;searchQuery="";selectedPack="All";availablePacks=["All",...Ia,"Tokens"];items=[];filteredItems=[];customPacksSubscription=null;basePetItems=null;tokenItems=[];equipmentItems=null;toyItems=null;hardToyItems=null;searchDebounceHandle=null;trackByPack(t,i){return i??String(t)}trackByItem(t,i){return i?.id??i?.name??t}trackByIndex(t){return t}constructor(t,i,n){this.petService=t,this.equipmentService=i,this.toyService=n}ngOnInit(){this.updateAvailablePacks(),this.customPacks&&this.customPacks instanceof X.Yp&&(this.customPacksSubscription=this.customPacks.valueChanges.subscribe(()=>{this.updateAvailablePacks(),this.loadItems()})),this.showAllPets?this.selectedPack="All":this.currentPack&&"custom"!==this.currentPack&&(this.selectedPack=this.currentPack),this.availablePacks.includes(this.selectedPack)||(this.selectedPack="All"),this.loadItems()}ngAfterViewInit(){setTimeout(()=>{this.searchInput?.nativeElement?.focus(),this.searchInput?.nativeElement?.select()})}ngOnDestroy(){this.customPacksSubscription&&this.customPacksSubscription.unsubscribe(),this.searchDebounceHandle&&(clearTimeout(this.searchDebounceHandle),this.searchDebounceHandle=null)}updateAvailablePacks(){if(this.availablePacks=["All",...Ia,"Tokens"],this.customPacks&&this.customPacks instanceof X.Yp){const t=this.customPacks;for(const i of t.controls){const n=i.get("name")?.value;n&&i.valid&&this.availablePacks.push(n)}}this.availablePacks.includes(this.selectedPack)||(this.selectedPack="All")}loadItems(){"pet"===this.type||"swallowed-pet"===this.type?this.loadPets():"equipment"===this.type?this.loadEquipment():"toy"===this.type?this.loadToys(!1):"hard-toy"===this.type?this.loadToys(!0):"pack"===this.type?this.loadPacks():"team"===this.type&&this.loadTeams(),this.filterItems()}loadPets(){const t=[];if(!this.basePetItems){const n=[];for(const s of Ia){const r=this.petService.basePackPetsByName[s];if(r)for(const[c,u]of r)u.forEach(h=>{n.push({name:h,displayName:h,tier:c,pack:s,icon:In(h),tooltip:tu(h),type:"pet",category:`Tier ${c}`})})}this.basePetItems=n}if(t.push(...this.basePetItems),this.customPacks&&this.customPacks instanceof X.Yp){const n=this.customPacks;for(const s of n.controls){const r=s.get("name")?.value;if(!r||!s.valid)continue;const c=this.petService.playerCustomPackPets.get(r);if(c)for(const[u,h]of c)h.forEach(b=>{t.push({name:b,displayName:b,tier:u,pack:r,icon:In(b),tooltip:tu(b),type:"pet",category:`Tier ${u}`})})}}this.tokenItems=this.buildTokenItems(),t.push(...this.tokenItems);const i=new Map;t.forEach(n=>{const s=i.get(n.name);s?"Tokens"===s.pack&&"Tokens"!==n.pack&&i.set(n.name,n):i.set(n.name,n)}),this.items=Array.from(i.values())}loadEquipment(){if(!this.equipmentItems){const t=[],i=this.equipmentService.getInstanceOfAllEquipment(),n=this.equipmentService.getInstanceOfAllAilments();i.forEach((s,r)=>{"Corncob"===s?.name||"Mana Potion"===s?.name||t.push({name:r,displayName:s.name,tier:s.tier||0,icon:Pr(s.name),tooltip:nu(s.name),type:"equipment",category:s.tier?`Tier ${s.tier}`:"Perks",item:s})}),n.forEach((s,r)=>{t.push({name:r,displayName:s.name,tier:0,icon:Pr(s.name,!0),tooltip:nu(s.name),type:"ailment",category:"Ailments",item:s})}),this.equipmentItems=t}this.items=this.equipmentItems}loadTeams(){const t=Array.isArray(this.savedTeams)?this.savedTeams:[];this.items=t.map(i=>{const n=(i.pets||[]).map(r=>r?.name).filter(Boolean).slice(0,5),s=n.map(r=>In(r));return{id:i.id,name:i.name,displayName:i.name,tier:0,icon:null,icons:s,tooltip:n.join(", "),type:"team",category:"Saved Teams"}})}loadToys(t){if(!(t?this.hardToyItems:this.toyItems)){const n=[];this.toyService.getToysByType(t?1:0).forEach((r,c)=>{r.forEach(u=>{n.push({name:u,displayName:u,tier:c,icon:iu(u),tooltip:AS(u),type:t?"hard-toy":"toy",category:`Tier ${c}`,item:u})})}),t?this.hardToyItems=n:this.toyItems=n}this.items=t?this.hardToyItems:this.toyItems}loadPacks(){const t=[];for(const i of Ia)"Custom"!==i&&t.push({name:i,displayName:i,tier:0,icon:Gm(i),type:"pack",category:"Packs"});if(this.customPacks&&this.customPacks instanceof X.Yp){const i=this.customPacks;for(const n of i.controls){const s=n.get("name")?.value;if(s&&n.valid){const r=this.getFirstCustomPackPet(n);t.push({name:s,displayName:s,tier:0,icon:r?In(r):Gm(s),type:"pack",category:"Custom Packs"})}}}t.push({name:"Add Custom Pack",displayName:"+ Add Custom Pack",tier:0,icon:In("White Tiger"),type:"pack",category:"Custom Packs"}),this.items=t}filterItems(){let t=this.items;if(("pet"===this.type||"swallowed-pet"===this.type)&&("Tokens"===this.selectedPack?t=this.tokenItems:"All"!==this.selectedPack&&(t=t.filter(i=>i.pack===this.selectedPack||"swallowed-pet"===this.type&&"Tokens"===i.pack))),this.searchQuery){const i=this.searchQuery.toLowerCase();t=t.filter(n=>n.name.toLowerCase().includes(i)||n.displayName&&n.displayName.toLowerCase().includes(i))}this.filteredItems=[...t].sort((i,n)=>"Ailments"===i.category&&"Ailments"!==n.category?1:"Ailments"!==i.category&&"Ailments"===n.category?-1:i.category!==n.category?i.category.localeCompare(n.category):i.tier!==n.tier?i.tier-n.tier:i.name.localeCompare(n.name))}onSearchChange(){this.searchDebounceHandle&&clearTimeout(this.searchDebounceHandle),this.searchDebounceHandle=setTimeout(()=>{this.searchDebounceHandle=null,this.filterItems()},50)}selectPack(t){this.selectedPack=t,this.filterItems()}onItemClick(t){this.select.emit(t?"team"!==this.type?"pet"===this.type||"swallowed-pet"===this.type||"pack"===this.type?t.name:t.item:t.id||t.name:null)}onCancel(){this.close.emit()}getFirstCustomPackPet(t){for(let i=1;i<=6;i++){const n=t.get(`tier${i}Pets`)?.value;if(Array.isArray(n)){const s=n.find(r=>!!r);if(s)return s}}return null}buildTokenItems(){const t=[];for(const[i,n]of this.petService.tokenPetsMap)n.forEach(s=>{t.push({name:s,displayName:s,tier:i,pack:"Tokens",icon:In(s),tooltip:tu(s),type:"pet",category:"Tokens"})});return t}static \u0275fac=function(i){return new(i||a)(p.rXU(Kn),p.rXU(ui),p.rXU(Br))};static \u0275cmp=p.VBU({type:a,selectors:[["app-item-selection-dialog"]],viewQuery:function(i,n){if(1&i&&p.GBs(z4,5),2&i){let s;p.mGM(s=p.lsd())&&(n.searchInput=s.first)}},inputs:{type:"type",currentPack:"currentPack",showTokenPets:"showTokenPets",showAllPets:"showAllPets",customPacks:"customPacks",savedTeams:"savedTeams"},outputs:{select:"select",close:"close"},decls:15,vars:9,consts:[["searchInput",""],["teamIcons",""],[1,"selection-overlay",3,"click"],[1,"selection-dialog","card","shadow-lg",3,"click"],[1,"dialog-header"],[1,"btn-close",3,"click"],[1,"dialog-body"],[1,"search-container"],["type","text","placeholder","Search...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["class","pack-filters",4,"ngIf"],[1,"items-grid","scroll"],["class","item-card none-card",3,"click",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","no-results",4,"ngIf"],[1,"pack-filters"],["class","btn btn-sm",3,"btn-primary","btn-outline-primary","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn","btn-sm",3,"click"],[1,"item-card","none-card",3,"click"],[1,"item-icon-container"],[1,"none-icon"],[1,"item-name"],["class","category-header",4,"ngIf"],[1,"item-card",3,"click","appTooltip"],[4,"ngIf","ngIfElse"],[1,"category-header"],["width","48","height","48","loading","lazy","decoding","async","class","item-icon",3,"ngSrc","alt",4,"ngIf"],["class","tier-badge",4,"ngIf"],["width","48","height","48","loading","lazy","decoding","async",1,"item-icon",3,"ngSrc","alt"],[1,"tier-badge"],[1,"team-icon-strip"],["width","32","height","32","loading","lazy","decoding","async","class","team-icon",3,"ngSrc","alt",4,"ngFor","ngForOf","ngForTrackBy"],["width","32","height","32","loading","lazy","decoding","async",1,"team-icon",3,"ngSrc","alt"],[1,"no-results"]],template:function(i,n){if(1&i){const s=p.RV6();p.j41(0,"div",2),p.bIt("click",function(){return P.eBV(s),P.Njj(n.onCancel())}),p.j41(1,"div",3),p.bIt("click",function(c){return P.eBV(s),P.Njj(c.stopPropagation())}),p.j41(2,"div",4)(3,"h3"),p.EFF(4),p.k0s(),p.j41(5,"button",5),p.bIt("click",function(){return P.eBV(s),P.Njj(n.onCancel())}),p.k0s()(),p.j41(6,"div",6)(7,"div",7)(8,"input",8,0),p.mxI("ngModelChange",function(c){return P.eBV(s),p.DH7(n.searchQuery,c)||(n.searchQuery=c),P.Njj(c)}),p.bIt("ngModelChange",function(){return P.eBV(s),P.Njj(n.onSearchChange())}),p.k0s()(),p.DNE(10,X4,2,2,"div",9),p.j41(11,"div",10),p.DNE(12,J4,6,0,"div",11)(13,rB,9,9,"ng-container",12)(14,aB,2,1,"div",13),p.k0s()()()()}2&i&&(p.R7$(4),p.SpI(" Select ","pet"===n.type?"Pet":"swallowed-pet"===n.type?"Swallowed Pet":"equipment"===n.type?"Equipment":"toy"===n.type?"Toy":"hard-toy"===n.type?"Hard Toy":"team"===n.type?"Team":"Pack"," "),p.R7$(4),p.R50("ngModel",n.searchQuery),p.R7$(2),p.Y8G("ngIf","pet"===n.type||"swallowed-pet"===n.type),p.R7$(),p.AVh("team-grid","team"===n.type),p.R7$(),p.Y8G("ngIf","swallowed-pet"!==n.type&&"pack"!==n.type),p.R7$(),p.Y8G("ngForOf",n.filteredItems)("ngForTrackBy",n.trackByItem),p.R7$(),p.Y8G("ngIf",0===n.filteredItems.length))},dependencies:[Ct.MD,Ct.Sq,Ct.bT,vi,X.YN,X.me,X.BC,X.vS,xR],styles:['.selection-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;backdrop-filter:blur(4px);z-index:1000;display:flex;align-items:center;justify-content:center}.selection-dialog[_ngcontent-%COMP%]{width:90%;max-width:600px;height:80vh;background:#fff;border-radius:12px;display:flex;flex-direction:column;overflow:hidden;animation:_ngcontent-%COMP%_slideUp .3s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.dialog-header[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid #eee;display:flex;justify-content:space-between;align-items:center;background:#f8f9fa}.dialog-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600}.dialog-body[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-direction:column;gap:1rem;flex:1;overflow:hidden}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{border-radius:8px;padding:.6rem 1rem;background:#f1f3f5;border:2px solid transparent;transition:all .2s}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{background:#fff;border-color:#33377a;box-shadow:0 0 0 4px #33377a1a}.pack-filters[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.4rem;padding-bottom:.5rem;border-bottom:1px solid #eee}.pack-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:20px;padding:.2rem .8rem;font-size:.8rem;text-transform:capitalize}.items-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:.75rem;padding:.5rem .5rem .75rem;overflow-y:auto;flex:1}.items-grid[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.items-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.items-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ccc;border-radius:3px}.items-grid.team-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(160px,1fr));justify-content:stretch;gap:.6rem}.category-header[_ngcontent-%COMP%]{grid-column:1/-1;padding:.25rem .5rem .2rem;font-size:.85rem;font-weight:700;color:#33377a;text-transform:uppercase;letter-spacing:.05em;border-bottom:1px solid rgba(51,55,122,.1);margin-top:.15rem}.item-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:.5rem;border-radius:8px;cursor:pointer;transition:all .2s;text-align:center;position:relative;z-index:1}.item-card[_ngcontent-%COMP%]:hover{background:#f1f3f5;transform:translateY(-2px)}.item-card.none-card[_ngcontent-%COMP%]   .none-icon[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#868e96;text-transform:uppercase}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]{position:relative;width:48px;height:48px;display:flex;align-items:center;justify-content:center;margin-bottom:.4rem}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background:#e67e22;color:#fff;font-size:.75rem;width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;box-shadow:0 2px 4px #0003;border:1.5px solid white}.item-card[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-size:.75rem;color:#495057;word-break:break-word;line-height:1.1}.item-card.team-card[_ngcontent-%COMP%]{align-items:stretch;width:100%;padding:.45rem}.item-card.team-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]{width:100%;height:auto;margin-bottom:.35rem}.item-card.team-card[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{text-align:center}.item-card.has-tooltip[_ngcontent-%COMP%]:hover:after, .item-card.has-tooltip[_ngcontent-%COMP%]:focus-visible:after{content:attr(data-tooltip);position:fixed;top:var(--tooltip-top);left:var(--tooltip-left);transform:translateZ(0) translateY(-2px);background:#141623f2;color:#f8f9fa;padding:.45rem .6rem;border-radius:8px;font-size:.72rem;line-height:1.2;width:fit-content;max-width:var(--tooltip-max-width, 200px);max-height:var(--tooltip-max-height, 140px);text-align:left;white-space:pre-wrap;word-break:break-word;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:6;box-shadow:0 12px 28px #0000003d;z-index:2000;pointer-events:none}.item-card.has-tooltip[_ngcontent-%COMP%]:hover:before, .item-card.has-tooltip[_ngcontent-%COMP%]:focus-visible:before{content:"";position:fixed;top:var(--tooltip-arrow-top);left:var(--tooltip-arrow-left);transform:translate(-50%);border:8px solid transparent;z-index:1999;pointer-events:none}.item-card[data-tooltip-placement=bottom][_ngcontent-%COMP%]:hover:before, .item-card[data-tooltip-placement=bottom][_ngcontent-%COMP%]:focus-visible:before{border-bottom-color:#141623f2}.item-card[data-tooltip-placement=top][_ngcontent-%COMP%]:hover:before, .item-card[data-tooltip-placement=top][_ngcontent-%COMP%]:focus-visible:before{border-top-color:#141623f2}.item-card[data-tooltip-placement=left][_ngcontent-%COMP%]:hover:before, .item-card[data-tooltip-placement=left][_ngcontent-%COMP%]:focus-visible:before{border-left-color:#141623f2}.item-card[data-tooltip-placement=right][_ngcontent-%COMP%]:hover:before, .item-card[data-tooltip-placement=right][_ngcontent-%COMP%]:focus-visible:before{border-right-color:#141623f2}.no-results[_ngcontent-%COMP%]{grid-column:1/-1;padding:2rem;text-align:center;color:#868e96;font-style:italic}.night[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]{background:#2d2d2d;color:#eee}.night[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]{background:#1a1a1a;border-bottom-color:#444}.night[_nghost-%COMP%]   .item-name[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#ccc}.night[_nghost-%COMP%]   .item-card[_ngcontent-%COMP%]:hover, .night   [_nghost-%COMP%]   .item-card[_ngcontent-%COMP%]:hover{background:#3d3d3d}.night[_nghost-%COMP%]   .search-input[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]{background:#3d3d3d;color:#eee}.night[_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]:focus, .night   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{background:#444}.night[_nghost-%COMP%]   .pack-filters[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .pack-filters[_ngcontent-%COMP%]{border-bottom-color:#444}.team-icon-strip[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);gap:3px;width:100%;justify-items:center}.team-icon[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain;background:#f5f6f8;border-radius:6px;border:1px solid rgba(0,0,0,.08)}'],changeDetection:0})}return a})(),oB=(()=>{class a{formGroup;setExp(t){this.formGroup.get("exp")?.setValue(t)}getIsSelected(t){return(this.formGroup.get("exp")?.value??0)>=t}showRemoveExp(){return(this.formGroup.get("exp")?.value??0)>0}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=p.VBU({type:a,selectors:[["app-pet-level-selector"]],hostAttrs:[2,"display","contents"],inputs:{formGroup:"formGroup"},decls:20,vars:15,consts:[[3,"formGroup"],[1,"col-12","d-flex","level-bar-numbers","mb-1"],[1,"remove-exp","spacer"],[1,"level-slots-labels","d-flex","flex-grow-1"],[1,"level-icon"],["ngSrc","assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/l1.png","width","18","height","18","loading","lazy","decoding","async","alt","Level 1"],["ngSrc","assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/l2.png","width","18","height","18","loading","lazy","decoding","async","alt","Level 2"],[1,"level-icon","level-3"],["ngSrc","assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/l3.png","width","18","height","18","loading","lazy","decoding","async","alt","Level 3"],[1,"col-12","d-flex","level-bar","mb-2"],[1,"remove-exp",3,"click"],[3,"click"]],template:function(i,n){1&i&&(p.qex(0,0),p.j41(1,"div",1),p.nrm(2,"span",2),p.j41(3,"div",3)(4,"span",4),p.nrm(5,"img",5),p.k0s(),p.nrm(6,"span"),p.j41(7,"span",4),p.nrm(8,"img",6),p.k0s(),p.nrm(9,"span"),p.j41(10,"span",7),p.nrm(11,"img",8),p.k0s()()(),p.j41(12,"div",9)(13,"span",10),p.bIt("click",function(){return n.setExp(0)}),p.EFF(14,"x"),p.k0s(),p.j41(15,"span",11),p.bIt("click",function(){return n.setExp(1)}),p.k0s(),p.j41(16,"span",11),p.bIt("click",function(){return n.setExp(2)}),p.k0s(),p.j41(17,"span",11),p.bIt("click",function(){return n.setExp(3)}),p.k0s(),p.j41(18,"span",11),p.bIt("click",function(){return n.setExp(4)}),p.k0s(),p.j41(19,"span",11),p.bIt("click",function(){return n.setExp(5)}),p.k0s()(),p.bVm()),2&i&&(p.Y8G("formGroup",n.formGroup),p.R7$(2),p.xc7("visibility",n.showRemoveExp()?"visible":"hidden"),p.R7$(11),p.xc7("visibility",n.showRemoveExp()?"visible":"hidden"),p.R7$(2),p.AVh("selected",n.getIsSelected(1)),p.R7$(),p.AVh("selected",n.getIsSelected(1)&&n.getIsSelected(2)),p.R7$(),p.AVh("selected",n.getIsSelected(1)&&n.getIsSelected(3)),p.R7$(),p.AVh("selected",n.getIsSelected(1)&&n.getIsSelected(4)),p.R7$(),p.AVh("selected",n.getIsSelected(1)&&n.getIsSelected(5)))},dependencies:[Ct.MD,vi,X.X1,X.cb,X.j4],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/fist-from-textmap.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/heart-from-textmap.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/mana-from-textmap.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-label[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}.swallowed-label-small[_ngcontent-%COMP%], .swallowed-label-tiny[_ngcontent-%COMP%]{color:#ffffffe6;font-weight:600;text-transform:uppercase;letter-spacing:.03em}.swallowed-label-small[_ngcontent-%COMP%]{font-size:.68rem}.swallowed-label-tiny[_ngcontent-%COMP%]{font-size:.62rem}.swallowed-nested[_ngcontent-%COMP%]{background:#00000047;border-radius:10px;padding:.5rem .6rem;box-shadow:0 8px 20px #0006}.swallowed-nested[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%], .swallowed-slot[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%]{border-left-color:#fff3!important}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:600;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:500;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.9rem;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.5)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:700;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"]})}return a})();function sB(a,e){1&a&&(p.j41(0,"div",8)(1,"label",9),p.EFF(2,"Times Hurt"),p.k0s(),p.nrm(3,"input",10),p.k0s())}function lB(a,e){1&a&&(p.j41(0,"div",8)(1,"label",11),p.EFF(2,"Friends Fainted in Shop"),p.k0s(),p.nrm(3,"input",12),p.k0s())}function cB(a,e){1&a&&(p.j41(0,"div",14)(1,"div",15),p.nrm(2,"input",16),p.k0s()())}function uB(a,e){1&a&&(p.j41(0,"div",14),p.nrm(1,"input",17),p.k0s())}function dB(a,e){1&a&&(p.qex(0),p.j41(1,"div",3)(2,"div",15),p.nrm(3,"input",16),p.k0s()(),p.j41(4,"div",3),p.nrm(5,"input",18),p.k0s(),p.bVm())}function hB(a,e){if(1&a&&(p.qex(0),p.DNE(1,cB,3,0,"div",13)(2,uB,2,0,"div",13)(3,dB,6,0,"ng-container",2),p.bVm()),2&a){const t=p.XpG();p.R7$(),p.Y8G("ngIf",t.mana&&!t.triggersConsumed),p.R7$(),p.Y8G("ngIf",!t.mana&&t.triggersConsumed),p.R7$(),p.Y8G("ngIf",t.mana&&t.triggersConsumed)}}function pB(a,e){1&a&&(p.j41(0,"div",8)(1,"label",19),p.EFF(2,"Foods Eaten"),p.k0s(),p.nrm(3,"input",20),p.k0s())}let gB=(()=>{class a{formGroup;petName=null;mana=!1;triggersConsumed=!1;attackHealthMax=100;friendsDiedCaps=new Map([["Vulture",1],["Saiga Antelope",1],["Secretary Bird",1],["Mimic",2]]);foodsEatenPets=new Set(["Black Bear","Blue Jay","Dung Beetle","Locust"]);shouldShowFriendsDiedInput(){return!!this.petName&&this.friendsDiedCaps.has(this.petName)}shouldShowFoodsEatenInput(){return!!this.petName&&this.foodsEatenPets.has(this.petName)}getFriendsDiedMax(){return this.petName?this.friendsDiedCaps.get(this.petName)??5:5}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=p.VBU({type:a,selectors:[["app-pet-stats-selector"]],hostAttrs:[2,"display","contents"],inputs:{formGroup:"formGroup",petName:"petName",mana:"mana",triggersConsumed:"triggersConsumed",attackHealthMax:"attackHealthMax"},decls:11,vars:7,consts:[[3,"formGroup"],["class","col-12 mb-2",4,"ngIf"],[4,"ngIf"],[1,"col-6"],[1,"stat-tile","stat-attack"],["formControlName","attack","type","number","min","1",1,"form-control","stat-input","select-attack",3,"max"],[1,"stat-tile","stat-health"],["formControlName","health","type","number","min","1",1,"form-control","stat-input","select-health",3,"max"],[1,"col-12","mb-2"],["for","timesHurt"],["formControlName","timesHurt","type","number","min","0","max","99",1,"form-control"],["for","friendsDiedBeforeBattle",1,"swallowed-label"],["type","number","min","0","max","5","formControlName","friendsDiedBeforeBattle",1,"form-control"],["class","col-12",4,"ngIf"],[1,"col-12"],[1,"stat-tile","stat-mana"],["formControlName","mana","type","number","min","0","max","50","placeholder","Mana",1,"form-control","stat-input","select-mana"],["formControlName","triggersConsumed","type","number","min","0","max","10","placeholder","Triggers Consumed",1,"form-control","select-triggers-consumed","single-stat-input"],["formControlName","triggersConsumed","type","number","min","0","max","10","placeholder","Triggers Consumed",1,"form-control","select-triggers-consumed"],["for","foodsEaten",1,"swallowed-label"],["formControlName","foodsEaten","type","number","min","0","max","99",1,"form-control","select-foods-eaten"]],template:function(i,n){1&i&&(p.qex(0,0),p.DNE(1,sB,4,0,"div",1)(2,lB,4,0,"div",1)(3,hB,4,3,"ng-container",2)(4,pB,4,0,"div",1),p.j41(5,"div",3)(6,"div",4),p.nrm(7,"input",5),p.k0s()(),p.j41(8,"div",3)(9,"div",6),p.nrm(10,"input",7),p.k0s()(),p.bVm()),2&i&&(p.Y8G("formGroup",n.formGroup),p.R7$(),p.Y8G("ngIf","Tuna"===n.petName),p.R7$(),p.Y8G("ngIf",n.shouldShowFriendsDiedInput()),p.R7$(),p.Y8G("ngIf",n.mana||n.triggersConsumed),p.R7$(),p.Y8G("ngIf",n.shouldShowFoodsEatenInput()),p.R7$(3),p.Y8G("max",n.attackHealthMax),p.R7$(3),p.Y8G("max",n.attackHealthMax))},dependencies:[Ct.MD,Ct.bT,X.X1,X.me,X.Q0,X.BC,X.cb,X.VZ,X.zX,X.j4,X.JD],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/fist-from-textmap.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/heart-from-textmap.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/mana-from-textmap.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-label[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}.swallowed-label-small[_ngcontent-%COMP%], .swallowed-label-tiny[_ngcontent-%COMP%]{color:#ffffffe6;font-weight:600;text-transform:uppercase;letter-spacing:.03em}.swallowed-label-small[_ngcontent-%COMP%]{font-size:.68rem}.swallowed-label-tiny[_ngcontent-%COMP%]{font-size:.62rem}.swallowed-nested[_ngcontent-%COMP%]{background:#00000047;border-radius:10px;padding:.5rem .6rem;box-shadow:0 8px 20px #0006}.swallowed-nested[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%], .swallowed-slot[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%]{border-left-color:#fff3!important}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:600;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:500;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.9rem;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.5)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:700;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"]})}return a})();function mB(a,e){if(1&a&&p.nrm(0,"img",7),2&a){const t=p.XpG();p.Y8G("ngSrc",t.equipmentImageSrc)}}function fB(a,e){if(1&a&&p.nrm(0,"img",7),2&a){const t=p.XpG();p.Y8G("ngSrc",t.ailmentImageSrc)}}function yB(a,e){if(1&a&&(p.j41(0,"div",8)(1,"label",9),p.EFF(2,"Uses"),p.k0s(),p.nrm(3,"input",10),p.k0s()),2&a){const t=p.XpG();p.R7$(),p.Y8G("for",t.equipmentUsesInputId),p.R7$(2),p.Y8G("id",t.equipmentUsesInputId)}}let vB=(()=>{class a{formGroup;equipmentImageSrc=null;ailmentImageSrc=null;allowEquipmentUseOverrides=!1;equipmentUsesAvailable=!1;equipmentUsesInputId="";openSelection=new P.bkB;static \u0275fac=function(i){return new(i||a)};static \u0275cmp=p.VBU({type:a,selectors:[["app-pet-equipment-selector"]],hostAttrs:[2,"display","contents"],inputs:{formGroup:"formGroup",equipmentImageSrc:"equipmentImageSrc",ailmentImageSrc:"ailmentImageSrc",allowEquipmentUseOverrides:"allowEquipmentUseOverrides",equipmentUsesAvailable:"equipmentUsesAvailable",equipmentUsesInputId:"equipmentUsesInputId"},outputs:{openSelection:"openSelection"},decls:9,vars:5,consts:[[3,"formGroup"],[1,"col-12","mb-2"],["type","button",1,"btn","selection-btn","w-100","d-flex","align-items-center",3,"click"],["class","btn-icon me-2","width","24","height","24","loading","lazy","decoding","async",3,"ngSrc",4,"ngIf"],[1,"btn-text"],[1,"bi","bi-chevron-down","ms-auto"],["class","col-6 mb-2",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async",1,"btn-icon","me-2",3,"ngSrc"],[1,"col-6","mb-2"],[3,"for"],["type","number","min","1","max","99","formControlName","equipmentUses",1,"form-control",3,"id"]],template:function(i,n){if(1&i&&(p.qex(0,0),p.j41(1,"div",1)(2,"button",2),p.bIt("click",function(){return n.openSelection.emit()}),p.DNE(3,mB,1,1,"img",3)(4,fB,1,1,"img",3),p.j41(5,"span",4),p.EFF(6),p.k0s(),p.nrm(7,"i",5),p.k0s()(),p.DNE(8,yB,4,2,"div",6),p.bVm()),2&i){let s;p.Y8G("formGroup",n.formGroup),p.R7$(3),p.Y8G("ngIf",n.equipmentImageSrc),p.R7$(),p.Y8G("ngIf",!n.equipmentImageSrc&&n.ailmentImageSrc),p.R7$(2),p.JRh((null==(s=n.formGroup.get("equipment"))?null:s.value)||"Select Equipment"),p.R7$(2),p.Y8G("ngIf",n.allowEquipmentUseOverrides&&n.equipmentUsesAvailable)}},dependencies:[Ct.MD,Ct.bT,vi,X.X1,X.me,X.Q0,X.BC,X.cb,X.VZ,X.zX,X.j4,X.JD],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/fist-from-textmap.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/heart-from-textmap.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/mana-from-textmap.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-label[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}.swallowed-label-small[_ngcontent-%COMP%], .swallowed-label-tiny[_ngcontent-%COMP%]{color:#ffffffe6;font-weight:600;text-transform:uppercase;letter-spacing:.03em}.swallowed-label-small[_ngcontent-%COMP%]{font-size:.68rem}.swallowed-label-tiny[_ngcontent-%COMP%]{font-size:.62rem}.swallowed-nested[_ngcontent-%COMP%]{background:#00000047;border-radius:10px;padding:.5rem .6rem;box-shadow:0 8px 20px #0006}.swallowed-nested[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%], .swallowed-slot[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%]{border-left-color:#fff3!important}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:600;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:500;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.9rem;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.5)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:700;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"]})}return a})();const hI=()=>[];function bB(a,e){if(1&a&&p.nrm(0,"img",13),2&a){let t;const i=p.XpG().index,n=p.XpG(2);p.Y8G("ngSrc",n.getPetImagePath(null==(t=n.formGroup.get("abominationSwallowedPet"+(i+1)))?null:t.value))}}function AB(a,e){if(1&a&&(p.j41(0,"div",18)(1,"label",19),p.EFF(2,"Level"),p.k0s(),p.j41(3,"select",20)(4,"option",21),p.EFF(5,"1"),p.k0s(),p.j41(6,"option",21),p.EFF(7,"2"),p.k0s(),p.j41(8,"option",21),p.EFF(9,"3"),p.k0s()()()),2&a){const t=p.XpG(2).index;p.R7$(3),p.Y8G("formControlName","abominationSwallowedPet"+(t+1)+"Level"),p.R7$(),p.Y8G("ngValue",1),p.R7$(2),p.Y8G("ngValue",2),p.R7$(2),p.Y8G("ngValue",3)}}function SB(a,e){if(1&a&&(p.j41(0,"div",18)(1,"label",19),p.EFF(2,"Times Hurt"),p.k0s(),p.nrm(3,"input",22),p.k0s()),2&a){const t=p.XpG(2).index;p.R7$(3),p.Y8G("formControlName","abominationSwallowedPet"+(t+1)+"TimesHurt")}}function PB(a,e){if(1&a&&p.nrm(0,"img",26),2&a){let t;const i=p.XpG(3).index,n=p.XpG(2);p.Y8G("ngSrc",n.getPetImagePath(null==(t=n.formGroup.get("abominationSwallowedPet"+(i+1)+"BelugaSwallowedPet"))?null:t.value))}}function _B(a,e){if(1&a){const t=p.RV6();p.j41(0,"div",23)(1,"label",19),p.EFF(2,"Swallowed by Beluga"),p.k0s(),p.j41(3,"button",24),p.bIt("click",function(){P.eBV(t);const n=p.XpG(2).index,s=p.XpG(2);return P.Njj(s.openSelectionDialog("swallowed-pet",n+1,"abomination-beluga"))}),p.DNE(4,PB,1,1,"img",25),p.j41(5,"span",10),p.EFF(6),p.k0s(),p.nrm(7,"i",11),p.k0s()()}if(2&a){let t,i;const n=p.XpG(2).index,s=p.XpG(2);p.R7$(4),p.Y8G("ngIf",s.getPetImagePath(null==(t=s.formGroup.get("abominationSwallowedPet"+(n+1)+"BelugaSwallowedPet"))?null:t.value)),p.R7$(2),p.JRh((null==(i=s.formGroup.get("abominationSwallowedPet"+(n+1)+"BelugaSwallowedPet"))?null:i.value)||"None")}}function kB(a,e){if(1&a&&p.nrm(0,"img",30),2&a){let t;const i=p.XpG(3).index,n=p.XpG(2);p.Y8G("ngSrc",n.getPetImagePath(null==(t=n.formGroup.get("abominationSwallowedPet"+(i+1)+"ParrotCopyPet"))?null:t.value))}}function wB(a,e){if(1&a&&p.nrm(0,"img",33),2&a){let t;const i=p.XpG(4).index,n=p.XpG(2);p.Y8G("ngSrc",n.getPetImagePath(null==(t=n.formGroup.get("abominationSwallowedPet"+(i+1)+"ParrotCopyPetBelugaSwallowedPet"))?null:t.value))}}function TB(a,e){if(1&a){const t=p.RV6();p.j41(0,"div",31)(1,"label",19),p.EFF(2,"Then Beluga Swallow"),p.k0s(),p.j41(3,"button",24),p.bIt("click",function(){P.eBV(t);const n=p.XpG(3).index,s=p.XpG(2);return P.Njj(s.openSelectionDialog("swallowed-pet",n+1,"abomination-parrot-beluga"))}),p.DNE(4,wB,1,1,"img",32),p.j41(5,"span",10),p.EFF(6),p.k0s(),p.nrm(7,"i",11),p.k0s()()}if(2&a){let t,i;const n=p.XpG(3).index,s=p.XpG(2);p.R7$(4),p.Y8G("ngIf",s.getPetImagePath(null==(t=s.formGroup.get("abominationSwallowedPet"+(n+1)+"ParrotCopyPetBelugaSwallowedPet"))?null:t.value)),p.R7$(2),p.JRh((null==(i=s.formGroup.get("abominationSwallowedPet"+(n+1)+"ParrotCopyPetBelugaSwallowedPet"))?null:i.value)||"None")}}function EB(a,e){if(1&a&&p.nrm(0,"img",37),2&a){let t;const i=p.XpG().index,n=p.XpG(4).index,s=p.XpG(2);p.Y8G("ngSrc",s.getPetImagePath(null==(t=s.formGroup.get("abominationSwallowedPet"+(n+1)+"ParrotCopyPetAbominationSwallowedPet"+(i+1)))?null:t.value))}}function CB(a,e){if(1&a&&(p.j41(0,"div",38)(1,"label",39),p.EFF(2,"Times Hurt"),p.k0s(),p.nrm(3,"input",22),p.k0s()),2&a){const t=p.XpG().index,i=p.XpG(4).index;p.R7$(3),p.Y8G("formControlName","abominationSwallowedPet"+(i+1)+"ParrotCopyPetAbominationSwallowedPet"+(t+1)+"TimesHurt")}}function DB(a,e){if(1&a){const t=p.RV6();p.j41(0,"div")(1,"label",19),p.EFF(2),p.k0s(),p.j41(3,"button",34),p.bIt("click",function(){const n=P.eBV(t).index,s=p.XpG(4).index,r=p.XpG(2);return P.Njj(r.openSelectionDialog("swallowed-pet",s+1,"abomination-parrot-abomination",n+1))}),p.DNE(4,EB,1,1,"img",35),p.j41(5,"span",10),p.EFF(6),p.k0s(),p.nrm(7,"i",11),p.k0s(),p.DNE(8,CB,4,1,"div",36),p.k0s()}if(2&a){let t,i;const n=e.index,s=p.XpG(4).index,r=p.XpG(2);p.R7$(2),p.SpI("Nested Slot ",n+1),p.R7$(2),p.Y8G("ngIf",r.getPetImagePath(null==(t=r.formGroup.get("abominationSwallowedPet"+(s+1)+"ParrotCopyPetAbominationSwallowedPet"+(n+1)))?null:t.value)),p.R7$(2),p.JRh((null==(i=r.formGroup.get("abominationSwallowedPet"+(s+1)+"ParrotCopyPetAbominationSwallowedPet"+(n+1)))?null:i.value)||"None"),p.R7$(2),p.Y8G("ngIf",r.shouldShowAbominationParrotCopyAbominationTimesHurt(s+1,n+1))}}function MB(a,e){if(1&a&&(p.j41(0,"div",31)(1,"div",18)(2,"label",19),p.EFF(3,"Nested Abom Level"),p.k0s(),p.j41(4,"select",20)(5,"option",21),p.EFF(6,"1"),p.k0s(),p.j41(7,"option",21),p.EFF(8,"2"),p.k0s(),p.j41(9,"option",21),p.EFF(10,"3"),p.k0s()()(),p.DNE(11,DB,9,4,"div",4),p.k0s()),2&a){let t;const i=p.XpG(3).index,n=p.XpG(2);p.R7$(4),p.Y8G("formControlName","abominationSwallowedPet"+(i+1)+"ParrotCopyPetAbominationLevel"),p.R7$(),p.Y8G("ngValue",1),p.R7$(2),p.Y8G("ngValue",2),p.R7$(2),p.Y8G("ngValue",3),p.R7$(2),p.Y8G("ngForOf",p.lJ4(6,hI).constructor((null==(t=n.formGroup.get("abominationSwallowedPet"+(i+1)+"ParrotCopyPetAbominationLevel"))?null:t.value)||1))("ngForTrackBy",n.trackByIndex)}}function xB(a,e){if(1&a){const t=p.RV6();p.j41(0,"div",27)(1,"label",19),p.EFF(2,"Parrot Copy"),p.k0s(),p.j41(3,"button",24),p.bIt("click",function(){P.eBV(t);const n=p.XpG(2).index,s=p.XpG(2);return P.Njj(s.openSelectionDialog("swallowed-pet",n+1,"abomination-parrot"))}),p.DNE(4,kB,1,1,"img",28),p.j41(5,"span",10),p.EFF(6),p.k0s(),p.nrm(7,"i",11),p.k0s(),p.DNE(8,TB,8,2,"div",29)(9,MB,12,7,"div",29),p.k0s()}if(2&a){let t,i,n,s;const r=p.XpG(2).index,c=p.XpG(2);p.R7$(4),p.Y8G("ngIf",c.getPetImagePath(null==(t=c.formGroup.get("abominationSwallowedPet"+(r+1)+"ParrotCopyPet"))?null:t.value)),p.R7$(2),p.JRh((null==(i=c.formGroup.get("abominationSwallowedPet"+(r+1)+"ParrotCopyPet"))?null:i.value)||"None"),p.R7$(2),p.Y8G("ngIf","Beluga Whale"===(null==(n=c.formGroup.get("abominationSwallowedPet"+(r+1)+"ParrotCopyPet"))?null:n.value)),p.R7$(),p.Y8G("ngIf","Abomination"===(null==(s=c.formGroup.get("abominationSwallowedPet"+(r+1)+"ParrotCopyPet"))?null:s.value))}}function IB(a,e){if(1&a&&(p.j41(0,"div",14),p.DNE(1,AB,10,4,"div",15)(2,SB,4,1,"div",15)(3,_B,8,2,"div",16)(4,xB,10,4,"div",17),p.k0s()),2&a){let t,i;const n=p.XpG().index,s=p.XpG(2);p.R7$(),p.Y8G("ngIf",s.showSwallowedLevels),p.R7$(),p.Y8G("ngIf",s.shouldShowAbominationSwallowTimesHurt(n)),p.R7$(),p.Y8G("ngIf","Beluga Whale"===(null==(t=s.formGroup.get("abominationSwallowedPet"+(n+1)))?null:t.value)),p.R7$(),p.Y8G("ngIf","Parrot"===(null==(i=s.formGroup.get("abominationSwallowedPet"+(n+1)))?null:i.value))}}function RB(a,e){if(1&a){const t=p.RV6();p.j41(0,"div")(1,"div",5)(2,"label",6),p.EFF(3),p.k0s(),p.j41(4,"div",7)(5,"button",8),p.bIt("click",function(){const n=P.eBV(t).index,s=p.XpG(2);return P.Njj(s.openSelectionDialog("swallowed-pet",n+1,"abomination"))}),p.DNE(6,bB,1,1,"img",9),p.j41(7,"span",10),p.EFF(8),p.k0s(),p.nrm(9,"i",11),p.k0s()(),p.DNE(10,IB,5,4,"div",12),p.k0s()()}if(2&a){let t,i,n;const s=e.index,r=p.XpG(2);p.R7$(3),p.SpI("Swallowed Pet ",s+1),p.R7$(3),p.Y8G("ngIf",r.getPetImagePath(null==(t=r.formGroup.get("abominationSwallowedPet"+(s+1)))?null:t.value)),p.R7$(2),p.JRh((null==(i=r.formGroup.get("abominationSwallowedPet"+(s+1)))?null:i.value)||"None"),p.R7$(2),p.Y8G("ngIf",(null==(n=r.formGroup.get("abominationSwallowedPet"+(s+1)))?null:n.value)&&(r.showSwallowedLevels||r.shouldShowAbominationSwallowTimesHurt(s)||"Beluga Whale"===(null==(n=r.formGroup.get("abominationSwallowedPet"+(s+1)))?null:n.value)||"Parrot"===(null==(n=r.formGroup.get("abominationSwallowedPet"+(s+1)))?null:n.value)))}}function LB(a,e){if(1&a&&(p.j41(0,"div",2),p.DNE(1,RB,11,4,"div",4),p.k0s()),2&a){const t=p.XpG();p.R7$(),p.Y8G("ngForOf",p.lJ4(2,hI).constructor(t.pet.level))("ngForTrackBy",t.trackByIndex)}}function NB(a,e){if(1&a&&p.nrm(0,"img",42),2&a){let t;const i=p.XpG(2);p.Y8G("ngSrc",i.getPetImagePath(null==(t=i.formGroup.get("belugaSwallowedPet"))?null:t.value))}}function FB(a,e){if(1&a){const t=p.RV6();p.j41(0,"div")(1,"label",6),p.EFF(2,"Swallowed by Beluga"),p.k0s(),p.j41(3,"button",40),p.bIt("click",function(){P.eBV(t);const n=p.XpG();return P.Njj(n.openSelectionDialog("swallowed-pet",void 0,"pet"))}),p.DNE(4,NB,1,1,"img",41),p.j41(5,"span",10),p.EFF(6),p.k0s(),p.nrm(7,"i",11),p.k0s()()}if(2&a){let t,i;const n=p.XpG();p.R7$(4),p.Y8G("ngIf",n.getPetImagePath(null==(t=n.formGroup.get("belugaSwallowedPet"))?null:t.value)),p.R7$(2),p.JRh((null==(i=n.formGroup.get("belugaSwallowedPet"))?null:i.value)||"Select Pet")}}function OB(a,e){if(1&a&&p.nrm(0,"img",45),2&a){let t;const i=p.XpG(2);p.Y8G("ngSrc",i.getPetImagePath(null==(t=i.formGroup.get("parrotCopyPet"))?null:t.value))}}function BB(a,e){if(1&a&&p.nrm(0,"img",48),2&a){let t;const i=p.XpG(3);p.Y8G("ngSrc",i.getPetImagePath(null==(t=i.formGroup.get("parrotCopyPetBelugaSwallowedPet"))?null:t.value))}}function $B(a,e){if(1&a){const t=p.RV6();p.j41(0,"div",46)(1,"label",6),p.EFF(2,"Then Beluga Swallow"),p.k0s(),p.j41(3,"button",40),p.bIt("click",function(){P.eBV(t);const n=p.XpG(2);return P.Njj(n.openSelectionDialog("swallowed-pet",void 0,"parrot-beluga"))}),p.DNE(4,BB,1,1,"img",47),p.j41(5,"span",10),p.EFF(6),p.k0s(),p.nrm(7,"i",11),p.k0s()()}if(2&a){let t,i;const n=p.XpG(2);p.R7$(4),p.Y8G("ngIf",n.getPetImagePath(null==(t=n.formGroup.get("parrotCopyPetBelugaSwallowedPet"))?null:t.value)),p.R7$(2),p.JRh((null==(i=n.formGroup.get("parrotCopyPetBelugaSwallowedPet"))?null:i.value)||"Select Pet")}}function GB(a,e){if(1&a&&p.nrm(0,"img",53),2&a){let t;const i=p.XpG().index,n=p.XpG(3);p.Y8G("ngSrc",n.getPetImagePath(null==(t=n.formGroup.get("parrotCopyPetAbominationSwallowedPet"+(i+1)))?null:t.value))}}function HB(a,e){if(1&a&&(p.j41(0,"div",54)(1,"label",19),p.EFF(2,"Times Hurt"),p.k0s(),p.nrm(3,"input",22),p.k0s()),2&a){const t=p.XpG().index;p.R7$(3),p.Y8G("formControlName","parrotCopyPetAbominationSwallowedPet"+(t+1)+"TimesHurt")}}function jB(a,e){if(1&a){const t=p.RV6();p.j41(0,"div")(1,"label",6),p.EFF(2),p.k0s(),p.j41(3,"button",50),p.bIt("click",function(){const n=P.eBV(t).index,s=p.XpG(3);return P.Njj(s.openSelectionDialog("swallowed-pet",n+1,"parrot-abomination"))}),p.DNE(4,GB,1,1,"img",51),p.j41(5,"span",10),p.EFF(6),p.k0s(),p.nrm(7,"i",11),p.k0s(),p.DNE(8,HB,4,1,"div",52),p.k0s()}if(2&a){let t,i;const n=e.index,s=p.XpG(3);p.R7$(2),p.SpI("Swallowed Pet ",n+1),p.R7$(2),p.Y8G("ngIf",s.getPetImagePath(null==(t=s.formGroup.get("parrotCopyPetAbominationSwallowedPet"+(n+1)))?null:t.value)),p.R7$(2),p.JRh((null==(i=s.formGroup.get("parrotCopyPetAbominationSwallowedPet"+(n+1)))?null:i.value)||"None"),p.R7$(2),p.Y8G("ngIf",s.shouldShowParrotCopyPetAbominationTimesHurt(n+1))}}function qB(a,e){if(1&a&&(p.j41(0,"div",46)(1,"div",18)(2,"label",6),p.EFF(3,"Abom Level"),p.k0s(),p.j41(4,"select",49)(5,"option",21),p.EFF(6,"1"),p.k0s(),p.j41(7,"option",21),p.EFF(8,"2"),p.k0s(),p.j41(9,"option",21),p.EFF(10,"3"),p.k0s()()(),p.DNE(11,jB,9,4,"div",4),p.k0s()),2&a){const t=p.XpG(2);p.R7$(5),p.Y8G("ngValue",1),p.R7$(2),p.Y8G("ngValue",2),p.R7$(2),p.Y8G("ngValue",3),p.R7$(2),p.Y8G("ngForOf",p.lJ4(5,hI).constructor(t.getParrotCopyAbominationSlotCount()))("ngForTrackBy",t.trackByIndex)}}function UB(a,e){if(1&a){const t=p.RV6();p.j41(0,"div")(1,"label",6),p.EFF(2,"Parrot Copy"),p.k0s(),p.j41(3,"button",40),p.bIt("click",function(){P.eBV(t);const n=p.XpG();return P.Njj(n.openSelectionDialog("swallowed-pet",void 0,"parrot"))}),p.DNE(4,OB,1,1,"img",43),p.j41(5,"span",10),p.EFF(6),p.k0s(),p.nrm(7,"i",11),p.k0s(),p.DNE(8,$B,8,2,"div",44)(9,qB,12,6,"div",44),p.k0s()}if(2&a){let t,i,n,s;const r=p.XpG();p.R7$(4),p.Y8G("ngIf",r.getPetImagePath(null==(t=r.formGroup.get("parrotCopyPet"))?null:t.value)),p.R7$(2),p.JRh((null==(i=r.formGroup.get("parrotCopyPet"))?null:i.value)||"Select Pet"),p.R7$(2),p.Y8G("ngIf","Beluga Whale"===(null==(n=r.formGroup.get("parrotCopyPet"))?null:n.value)),p.R7$(),p.Y8G("ngIf","Abomination"===(null==(s=r.formGroup.get("parrotCopyPet"))?null:s.value))}}function WB(a,e){if(1&a&&p.nrm(0,"img",56),2&a){let t;const i=p.XpG(2);p.Y8G("ngSrc",i.getPetImagePath(null==(t=i.formGroup.get("sarcasticFringeheadSwallowedPet"))?null:t.value))}}function VB(a,e){if(1&a){const t=p.RV6();p.j41(0,"div")(1,"label",6),p.EFF(2,"Swallowed by Fringehead"),p.k0s(),p.j41(3,"button",40),p.bIt("click",function(){P.eBV(t);const n=p.XpG();return P.Njj(n.openSelectionDialog("swallowed-pet",void 0,"pet"))}),p.DNE(4,WB,1,1,"img",55),p.j41(5,"span",10),p.EFF(6),p.k0s(),p.nrm(7,"i",11),p.k0s()()}if(2&a){let t,i;const n=p.XpG();p.R7$(4),p.Y8G("ngIf",n.getPetImagePath(null==(t=n.formGroup.get("sarcasticFringeheadSwallowedPet"))?null:t.value)),p.R7$(2),p.JRh((null==(i=n.formGroup.get("sarcasticFringeheadSwallowedPet"))?null:i.value)||"Select Pet")}}let KB=(()=>{class a{formGroup;pet;showSwallowedLevels=!1;openSelection=new P.bkB;getPetImagePath(t){return In(t)}trackByIndex(t){return t}getParrotCopyAbominationSlotCount(){return this.formGroup.get("parrotCopyPetAbominationLevel")?.value||1}shouldShowParrotCopyPetAbominationParrotAbominationTimesHurt(t,i){return"Tuna"===this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${t}ParrotCopyPetAbominationSwallowedPet${i}`)?.value}shouldShowParrotCopyPetAbominationTimesHurt(t){return"Tuna"===this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${t}`)?.value}shouldShowAbominationParrotCopyAbominationTimesHurt(t,i){return"Tuna"===this.formGroup.get(`abominationSwallowedPet${t}ParrotCopyPetAbominationSwallowedPet${i}`)?.value}shouldShowAbominationSwallowTimesHurt(t){return"Tuna"===this.formGroup.get(`abominationSwallowedPet${t+1}`)?.value}openSelectionDialog(t,i,n="pet",s){this.openSelection.emit({type:t,index:i,target:n,parentIndex:s})}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=p.VBU({type:a,selectors:[["app-swallowed-pet-selector"]],hostAttrs:[2,"display","contents"],inputs:{formGroup:"formGroup",pet:"pet",showSwallowedLevels:"showSwallowedLevels"},outputs:{openSelection:"openSelection"},decls:6,vars:5,consts:[[3,"formGroup"],["class","col-12 mb-2",4,"ngIf"],[1,"col-12","mb-2"],[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"swallowed-slot","mb-2"],[1,"swallowed-label"],[1,"d-flex","align-items-center","gap-2"],["type","button",1,"btn","selection-btn","flex-grow-1","d-flex","align-items-center",3,"click"],["class","selection-icon","width","24","height","24","loading","lazy","decoding","async","alt","Swallowed Pet",3,"ngSrc",4,"ngIf"],[1,"selection-text"],[1,"fas","fa-chevron-down","ms-auto"],["class","swallowed-nested mt-2 ps-3 border-start",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Swallowed Pet",1,"selection-icon",3,"ngSrc"],[1,"swallowed-nested","mt-2","ps-3","border-start"],["class","form-group small-w-input mb-2",4,"ngIf"],["class","nested-selection mb-2",4,"ngIf"],["class","nested-selection",4,"ngIf"],[1,"form-group","small-w-input","mb-2"],[1,"swallowed-label-small"],[1,"form-control","form-control-sm",3,"formControlName"],[3,"ngValue"],["type","number","min","0","max","99",1,"form-control","form-control-sm",3,"formControlName"],[1,"nested-selection","mb-2"],["type","button",1,"btn","selection-btn","btn-sm","w-100","d-flex","align-items-center",3,"click"],["class","selection-icon","width","20","height","20","loading","lazy","decoding","async","alt","Beluga Swallowed Pet",3,"ngSrc",4,"ngIf"],["width","20","height","20","loading","lazy","decoding","async","alt","Beluga Swallowed Pet",1,"selection-icon",3,"ngSrc"],[1,"nested-selection"],["class","selection-icon","width","20","height","20","loading","lazy","decoding","async","alt","Parrot Copy Pet",3,"ngSrc",4,"ngIf"],["class","mt-2 ps-2 border-start",4,"ngIf"],["width","20","height","20","loading","lazy","decoding","async","alt","Parrot Copy Pet",1,"selection-icon",3,"ngSrc"],[1,"mt-2","ps-2","border-start"],["class","selection-icon","width","20","height","20","loading","lazy","decoding","async","alt","Nested Beluga",3,"ngSrc",4,"ngIf"],["width","20","height","20","loading","lazy","decoding","async","alt","Nested Beluga",1,"selection-icon",3,"ngSrc"],["type","button",1,"btn","selection-btn","btn-sm","w-100","d-flex","align-items-center","mb-1",3,"click"],["class","selection-icon","width","20","height","20","loading","lazy","decoding","async","alt","Nested Abom Slot",3,"ngSrc",4,"ngIf"],["class","form-group small-w-input mb-1 ms-2",4,"ngIf"],["width","20","height","20","loading","lazy","decoding","async","alt","Nested Abom Slot",1,"selection-icon",3,"ngSrc"],[1,"form-group","small-w-input","mb-1","ms-2"],[1,"swallowed-label-tiny"],["type","button",1,"btn","selection-btn","w-100","d-flex","align-items-center",3,"click"],["class","selection-icon","width","24","height","24","loading","lazy","decoding","async","alt","Beluga Swallowed",3,"ngSrc",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Beluga Swallowed",1,"selection-icon",3,"ngSrc"],["class","selection-icon","width","24","height","24","loading","lazy","decoding","async","alt","Parrot Copy",3,"ngSrc",4,"ngIf"],["class","mt-2 ps-3 border-start",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Parrot Copy",1,"selection-icon",3,"ngSrc"],[1,"mt-2","ps-3","border-start"],["class","selection-icon","width","24","height","24","loading","lazy","decoding","async","alt","Nested Beluga",3,"ngSrc",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Nested Beluga",1,"selection-icon",3,"ngSrc"],["formControlName","parrotCopyPetAbominationLevel",1,"form-control"],["type","button",1,"btn","selection-btn","w-100","d-flex","align-items-center","mb-2",3,"click"],["class","selection-icon","width","24","height","24","loading","lazy","decoding","async","alt","Nested Abom Slot",3,"ngSrc",4,"ngIf"],["class","form-group small-w-input mb-2 ms-3",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Nested Abom Slot",1,"selection-icon",3,"ngSrc"],[1,"form-group","small-w-input","mb-2","ms-3"],["class","selection-icon","width","24","height","24","loading","lazy","decoding","async","alt","Fringehead Swallowed",3,"ngSrc",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Fringehead Swallowed",1,"selection-icon",3,"ngSrc"]],template:function(i,n){1&i&&(p.qex(0,0),p.DNE(1,LB,2,3,"div",1),p.j41(2,"div",2),p.DNE(3,FB,8,2,"div",3)(4,UB,10,4,"div",3)(5,VB,8,2,"div",3),p.k0s(),p.bVm()),2&i&&(p.Y8G("formGroup",n.formGroup),p.R7$(),p.Y8G("ngIf","Abomination"===(null==n.pet?null:n.pet.name)),p.R7$(2),p.Y8G("ngIf","Beluga Whale"===(null==n.pet?null:n.pet.name)),p.R7$(),p.Y8G("ngIf","Parrot"===(null==n.pet?null:n.pet.name)),p.R7$(),p.Y8G("ngIf","Sarcastic Fringehead"===(null==n.pet?null:n.pet.name)))},dependencies:[Ct.MD,Ct.Sq,Ct.bT,vi,X.X1,X.xH,X.y7,X.me,X.Q0,X.wz,X.BC,X.cb,X.VZ,X.zX,X.j4,X.JD],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/fist-from-textmap.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/heart-from-textmap.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/mana-from-textmap.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-label[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}.swallowed-label-small[_ngcontent-%COMP%], .swallowed-label-tiny[_ngcontent-%COMP%]{color:#ffffffe6;font-weight:600;text-transform:uppercase;letter-spacing:.03em}.swallowed-label-small[_ngcontent-%COMP%]{font-size:.68rem}.swallowed-label-tiny[_ngcontent-%COMP%]{font-size:.62rem}.swallowed-nested[_ngcontent-%COMP%]{background:#00000047;border-radius:10px;padding:.5rem .6rem;box-shadow:0 8px 20px #0006}.swallowed-nested[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%], .swallowed-slot[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%]{border-left-color:#fff3!important}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:600;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:500;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.9rem;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.5)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:700;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"]})}return a})();const zB=new Set(["parrot","parrot-beluga","parrot-abomination","parrot-abomination-beluga","abomination-parrot","abomination-parrot-beluga","abomination-parrot-abomination","abomination-parrot-abomination-beluga","parrot-abomination-parrot","parrot-abomination-parrot-beluga","parrot-abomination-parrot-abomination","parrot-abomination-parrot-abomination-beluga"]),YB=["Adult Flounder","Angry Pygmy Hog","Baby Urchin","Bee","Bus","Butterfly","Chick","Chimera Goat","Chimera Lion","Chimera Snake","Cooked Roach","Cracked Egg","Cuckoo Chick","Daycrawler","Dirty Rat","Fairy Ball","Fake Nessie","Fire Pup","Giant Eyes Dog","Golden Retriever","Good Dog","Great One","Head","Lizard Tail","Loyal Chinchilla","Mimic Octopus","Moby Dick","Monty","Nessie?","Nest","Quail","Ram","Rock","Salmon","Sleeping Gelada","Smaller Slime","Smaller Slug","Smallest Slug","Tand and Tand","Young Phoenix","Zombie Cricket","Zombie Fly"],VL=(()=>{const a=[];for(let e=1;e<=3;e++){const t=`parrotCopyPetAbominationSwallowedPet${e}`;a.push(t),a.push(`${t}BelugaSwallowedPet`),a.push(`${t}Level`),a.push(`${t}TimesHurt`)}return a})(),XB=(()=>{const a=[];for(let e=1;e<=3;e++){const t=`parrotCopyPetAbominationSwallowedPet${e}`;a.push(`${t}ParrotCopyPet`),a.push(`${t}ParrotCopyPetBelugaSwallowedPet`);for(let i=1;i<=3;i++){const n=`${t}ParrotCopyPetAbominationSwallowedPet${i}`;a.push(n),a.push(`${n}BelugaSwallowedPet`),a.push(`${n}Level`),a.push(`${n}TimesHurt`)}}return a})();function cc(a,e){return null==a?null:e(a)}function fw(a,e,t){return null==a||null==e?null:t(a,e)}function ud(a,e){return t=>t.lift(new ZB(a,e))}class ZB{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new e$(e,this.compare,this.keySelector))}}class e$ extends zs.v{constructor(e,t,i){super(e),this.keySelector=i,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(n){return this.destination.error(n)}let i=!1;if(this.hasKey)try{const{compare:n}=this;i=n(this.key,t)}catch(n){return this.destination.error(n)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}function bA(a,e=$.b){return t=>t.lift(new t$(a,e))}class t${constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new i$(e,this.dueTime,this.scheduler))}}class i$ extends zs.v{constructor(e,t,i){super(e),this.dueTime=t,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(n$,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function n$(a){a.debouncedNext()}let r$=(()=>{class a{petService;equipmentService;cdr;pet;player;opponent;index;ailments;allPets;mana;triggersConsumed;formGroup;customPacks;flipImage=!1;allowEquipmentUseOverrides;showSwallowedLevels=!1;equipment;ailmentEquipment;equipmentCategoryGroups=[];ailmentCategoryGroups=[];turtlePackPets;pets;startOfBattlePets;attackHealthMax=100;petImageBroken=!1;equipmentImageBroken=!1;compareEquipment=(t,i)=>t?.name===i?.name;basePackSets=new Map;friendsDiedCaps=new Map([["Vulture",1],["Saiga Antelope",1],["Secretary Bird",1],["Mimic",2]]);customPackPetsCache=new Map;cachedPlayerPack=null;cachedOpponentPack=null;cachedPlayerPackSet=null;cachedOpponentPackSet=null;customPackSubscription=null;destroy$=new _t.B7;showTokenPets=!1;showSelectionDialog=!1;selectionType="pet";swallowedPetIndex;swallowedPetParentIndex;swallowedPetTarget="pet";forceShowAllPets=!1;tokenPets=YB;constructor(t,i,n){this.petService=t,this.equipmentService=i,this.cdr=n}optionHidden(t){return!(this.allPets||this.getPlayerPackSet().has(t)||this.player.getPet(this.index)?.name==t)}initPackSets(){for(const t of lh)this.basePackSets.set(t,this.buildPackSetFromMap(this.petService.basePackPetsByName[t]))}buildPackSetFromMap(t){const i=new Set;for(const n of t.values())for(const s of n)i.add(s);return i}invalidatePackCaches(){this.customPackPetsCache.clear(),this.cachedPlayerPack=null,this.cachedOpponentPack=null,this.cachedPlayerPackSet=null,this.cachedOpponentPackSet=null}getPlayerPackSet(){const t=this.player?.pack||"Turtle";return(this.cachedPlayerPack!==t||!this.cachedPlayerPackSet)&&(this.cachedPlayerPack=t,this.cachedPlayerPackSet=this.getPackSetForName(t)),this.cachedPlayerPackSet}getOpponentPackSet(){const t=this.opponent?.pack||"Turtle";return(this.cachedOpponentPack!==t||!this.cachedOpponentPackSet)&&(this.cachedOpponentPack=t,this.cachedOpponentPackSet=this.getPackSetForName(t)),this.cachedOpponentPackSet}getPackSetForName(t){const i=this.basePackSets.get(t);if(i)return i;const n=this.customPackPetsCache.get(t);if(n)return n;const s=this.buildCustomPackSet(t);return this.customPackPetsCache.set(t,s),s}buildCustomPackSet(t){const i=this.basePackSets.get("Turtle")??new Set,n=this.customPacks;if(!n?.controls?.length)return i;const s=n.controls.find(c=>c.get("name").value===t);if(!s)return i;const r=new Set;for(let c=1;c<=6;c++){const u=s.get(`tier${c}Pets`).value||[];for(const h of u)h&&r.add(h)}return r}fixLoadEquipment(){const t=this.formGroup.get("equipment").value,i=this.normalizeEquipmentValue(t);i!==t&&setTimeout(()=>{this.formGroup.get("equipment").setValue(i,{emitEvent:!1}),this.formGroup.get("equipment").updateValueAndValidity({emitEvent:!1})})}normalizeEquipmentValue(t){return t?"string"==typeof t?t:"object"==typeof t&&"string"==typeof t.name?t.name:null:null}getSelectedEquipmentName(){return this.normalizeEquipmentValue(this.formGroup?.get("equipment")?.value)}getSelectedEquipment(){const t=this.getSelectedEquipmentName();return t?this.equipment.get(t)??this.ailmentEquipment.get(t)??null:null}static \u0275fac=function(i){return new(i||a)(p.rXU(Kn),p.rXU(ui),p.rXU(ee.gRc))};static \u0275dir=p.FsC({type:a,inputs:{pet:"pet",player:"player",opponent:"opponent",index:"index",ailments:"ailments",allPets:"allPets",mana:"mana",triggersConsumed:"triggersConsumed",formGroup:"formGroup",customPacks:"customPacks",flipImage:"flipImage",allowEquipmentUseOverrides:"allowEquipmentUseOverrides",showSwallowedLevels:"showSwallowedLevels",showTokenPets:"showTokenPets"}})}return a})(),a$=(()=>{class a extends r${substitutePet(t=!1){}setAbominationParrotCopySettings(t){let i=this.player.getPet(this.index);if(null==i)return;const n=[1,2,3];for(const s of n){const r=`abominationSwallowedPet${s}`;if("Parrot"!==this.formGroup.get(r)?.value){this.clearAbominationParrotCopySettings(i,s);continue}const u=this.formGroup.get(`${r}ParrotCopyPet`)?.value??null,h=this.formGroup.get(`${r}ParrotCopyPetBelugaSwallowedPet`)?.value??null;if(i[`${r}ParrotCopyPet`]=u,i[`${r}ParrotCopyPetBelugaSwallowedPet`]="Beluga Whale"===u?h:null,"Beluga Whale"!==u&&this.formGroup.get(`${r}ParrotCopyPetBelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),"Abomination"===u)for(let b=1;b<=3;b++){const D=`${r}ParrotCopyPetAbominationSwallowedPet${b}`,H=this.formGroup.get(D)?.value??null,Y=this.formGroup.get(`${D}BelugaSwallowedPet`)?.value??null,ue=Number(this.formGroup.get(`${D}Level`)?.value??1);i[D]=H,i[`${D}BelugaSwallowedPet`]="Beluga Whale"===H?Y:null,i[`${D}Level`]=ue||1,i[`${D}TimesHurt`]=this.getAbominationParrotCopyAbominationTimesHurtValue(`${D}TimesHurt`),"Beluga Whale"!==H&&this.formGroup.get(`${D}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1})}else this.clearAbominationParrotCopyAbominationSettings(i,s)}}shouldShowAbominationParrotCopyAbominationTimesHurt(t,i){const s=this.formGroup.get(`abominationSwallowedPet${t}ParrotCopyPetAbominationSwallowedPet${i}`)?.value;return"Sabertooth Tiger"===s||"Tuna"===s}setParrotCopyPetAbominationSwallowedPets(t){let i=this.player.getPet(this.index);if(null==i)return;const n=this.formGroup.get("parrotCopyPetAbominationSwallowedPet1")?.value,s=this.formGroup.get("parrotCopyPetAbominationSwallowedPet2")?.value,r=this.formGroup.get("parrotCopyPetAbominationSwallowedPet3")?.value,c=this.formGroup.get("parrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet")?.value??null,u=this.formGroup.get("parrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet")?.value??null,h=this.formGroup.get("parrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet")?.value??null,b=Number(this.formGroup.get("parrotCopyPetAbominationSwallowedPet1Level")?.value??1),D=Number(this.formGroup.get("parrotCopyPetAbominationSwallowedPet2Level")?.value??1),H=Number(this.formGroup.get("parrotCopyPetAbominationSwallowedPet3Level")?.value??1);i.parrotCopyPetAbominationSwallowedPet1=n??null,i.parrotCopyPetAbominationSwallowedPet2=s??null,i.parrotCopyPetAbominationSwallowedPet3=r??null,i.parrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet="Beluga Whale"===n?c:null,i.parrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet="Beluga Whale"===s?u:null,i.parrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet="Beluga Whale"===r?h:null,"Beluga Whale"!==n&&this.formGroup.get("parrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet")?.setValue(null,{emitEvent:!1}),"Beluga Whale"!==s&&this.formGroup.get("parrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet")?.setValue(null,{emitEvent:!1}),"Beluga Whale"!==r&&this.formGroup.get("parrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet")?.setValue(null,{emitEvent:!1}),i.parrotCopyPetAbominationSwallowedPet1Level=b||1,i.parrotCopyPetAbominationSwallowedPet2Level=D||1,i.parrotCopyPetAbominationSwallowedPet3Level=H||1,i.parrotCopyPetAbominationSwallowedPet1TimesHurt=this.getParrotAbominationTimesHurtValue("parrotCopyPetAbominationSwallowedPet1TimesHurt"),i.parrotCopyPetAbominationSwallowedPet2TimesHurt=this.getParrotAbominationTimesHurtValue("parrotCopyPetAbominationSwallowedPet2TimesHurt"),i.parrotCopyPetAbominationSwallowedPet3TimesHurt=this.getParrotAbominationTimesHurtValue("parrotCopyPetAbominationSwallowedPet3TimesHurt"),this.setParrotCopyPetAbominationParrotSettings(null)}setParrotCopyPetAbominationParrotSettings(t){let i=this.player.getPet(this.index);if(null!=i)for(let n=1;n<=3;n++){const s=`parrotCopyPetAbominationSwallowedPet${n}`;if("Parrot"!==this.formGroup.get(s)?.value){this.clearParrotCopyPetAbominationParrotSettings(i,n);continue}const c=this.formGroup.get(`${s}ParrotCopyPet`)?.value??null,u=this.formGroup.get(`${s}ParrotCopyPetBelugaSwallowedPet`)?.value??null;if(i[`${s}ParrotCopyPet`]=c,i[`${s}ParrotCopyPetBelugaSwallowedPet`]="Beluga Whale"===c?u:null,"Beluga Whale"!==c&&this.formGroup.get(`${s}ParrotCopyPetBelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),"Abomination"===c)for(let h=1;h<=3;h++){const b=`${s}ParrotCopyPetAbominationSwallowedPet${h}`,D=this.formGroup.get(b)?.value??null,H=this.formGroup.get(`${b}BelugaSwallowedPet`)?.value??null,Y=Number(this.formGroup.get(`${b}Level`)?.value??1);i[b]=D,i[`${b}BelugaSwallowedPet`]="Beluga Whale"===D?H:null,i[`${b}Level`]=Y||1,i[`${b}TimesHurt`]=this.getParrotCopyPetAbominationParrotAbominationTimesHurtValue(`${b}TimesHurt`),"Beluga Whale"!==D&&this.formGroup.get(`${b}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1})}else this.clearParrotCopyPetAbominationParrotAbominationSettings(i,n)}}shouldShowParrotCopyPetAbominationParrotAbominationTimesHurt(t,i){const s=this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${t}ParrotCopyPetAbominationSwallowedPet${i}`)?.value;return"Sabertooth Tiger"===s||"Tuna"===s}shouldShowParrotCopyPetAbominationTimesHurt(t){const n=this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${t+1}`)?.value;return"Sabertooth Tiger"===n||"Tuna"===n}setSarcasticFringeheadSwallowedPet(t){let i=this.player.getPet(this.index);null!=i&&(i.sarcasticFringeheadSwallowedPet=t)}setSwallowedPets(t){let i=this.player.getPet(this.index);if(null==i)return;const n=this.formGroup.get("abominationSwallowedPet1").value,s=this.formGroup.get("abominationSwallowedPet2").value,r=this.formGroup.get("abominationSwallowedPet3").value,c=this.formGroup.get("abominationSwallowedPet1BelugaSwallowedPet")?.value??null,u=this.formGroup.get("abominationSwallowedPet2BelugaSwallowedPet")?.value??null,h=this.formGroup.get("abominationSwallowedPet3BelugaSwallowedPet")?.value??null,b=Number(this.formGroup.get("abominationSwallowedPet1Level").value??1),D=Number(this.formGroup.get("abominationSwallowedPet2Level").value??1),H=Number(this.formGroup.get("abominationSwallowedPet3Level").value??1);i.abominationSwallowedPet1=n??null,i.abominationSwallowedPet2=s??null,i.abominationSwallowedPet3=r??null,i.abominationSwallowedPet1BelugaSwallowedPet=c,i.abominationSwallowedPet2BelugaSwallowedPet=u,i.abominationSwallowedPet3BelugaSwallowedPet=h,i.abominationSwallowedPet1Level=b||1,i.abominationSwallowedPet2Level=D||1,i.abominationSwallowedPet3Level=H||1,i.abominationSwallowedPet1TimesHurt=this.getAbominationTimesHurtValue("abominationSwallowedPet1TimesHurt"),i.abominationSwallowedPet2TimesHurt=this.getAbominationTimesHurtValue("abominationSwallowedPet2TimesHurt"),i.abominationSwallowedPet3TimesHurt=this.getAbominationTimesHurtValue("abominationSwallowedPet3TimesHurt"),this.setAbominationParrotCopySettings(null)}shouldShowAbominationSwallowTimesHurt(t){const n=this.formGroup.get(`abominationSwallowedPet${t+1}`)?.value;return"Sabertooth Tiger"===n||"Tuna"===n}setBattlesFought(t){let i=this.player.getPet(this.index);null!=i&&(i.battlesFought=t)}setTimesHurt(t){let i=this.player.getPet(this.index);null!=i&&(i.timesHurt=t,this.substitutePet(!1))}getAbominationParrotCopyAbominationTimesHurtValue(t){const i=this.formGroup.get(t);if(!i)return 0;const n=Number(i.value);return Number.isNaN(n)?0:Math.max(0,Math.min(99,n))}clearAbominationParrotCopySettings(t,i){const n=`abominationSwallowedPet${i}`;t[`${n}ParrotCopyPet`]=null,t[`${n}ParrotCopyPetBelugaSwallowedPet`]=null,this.formGroup.get(`${n}ParrotCopyPet`)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${n}ParrotCopyPetBelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.clearAbominationParrotCopyAbominationSettings(t,i)}clearAbominationParrotCopyAbominationSettings(t,i){for(let n=1;n<=3;n++){const s=`abominationSwallowedPet${i}ParrotCopyPetAbominationSwallowedPet${n}`;t[s]=null,t[`${s}BelugaSwallowedPet`]=null,t[`${s}Level`]=1,t[`${s}TimesHurt`]=0,this.formGroup.get(s)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${s}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${s}Level`)?.setValue(1,{emitEvent:!1}),this.formGroup.get(`${s}TimesHurt`)?.setValue(0,{emitEvent:!1})}}getParrotCopyPetAbominationParrotAbominationTimesHurtValue(t){const i=this.formGroup.get(t);if(!i)return 0;const n=Number(i.value);return Number.isNaN(n)?0:Math.max(0,Math.min(99,n))}clearParrotCopyPetAbominationParrotSettings(t,i){const n=`parrotCopyPetAbominationSwallowedPet${i}`;t[`${n}ParrotCopyPet`]=null,t[`${n}ParrotCopyPetBelugaSwallowedPet`]=null,this.formGroup.get(`${n}ParrotCopyPet`)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${n}ParrotCopyPetBelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.clearParrotCopyPetAbominationParrotAbominationSettings(t,i)}clearParrotCopyPetAbominationParrotAbominationSettings(t,i){for(let n=1;n<=3;n++){const s=`parrotCopyPetAbominationSwallowedPet${i}ParrotCopyPetAbominationSwallowedPet${n}`;t[s]=null,t[`${s}BelugaSwallowedPet`]=null,t[`${s}Level`]=1,t[`${s}TimesHurt`]=0,this.formGroup.get(s)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${s}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${s}Level`)?.setValue(1,{emitEvent:!1}),this.formGroup.get(`${s}TimesHurt`)?.setValue(0,{emitEvent:!1})}}getParrotAbominationTimesHurtValue(t){const i=this.formGroup.get(t);if(!i)return 0;const n=Number(i.value);return Number.isNaN(n)?0:Math.max(0,Math.min(99,n))}clearParrotCopyPetAbominationSettings(t){for(const i of VL){const n=i.endsWith("Level")?1:i.endsWith("TimesHurt")?0:null;t[i]=n,this.formGroup.get(i)?.setValue(n,{emitEvent:!1})}for(let i=1;i<=3;i++)this.clearParrotCopyPetAbominationParrotSettings(t,i)}getAbominationTimesHurtValue(t){const i=this.formGroup.get(t);if(!i)return 0;const n=Number(i.value);return Number.isNaN(n)?0:Math.max(0,Math.min(99,n))}static \u0275fac=(()=>{let t;return function(n){return(t||(t=p.xGo(a)))(n||a)}})();static \u0275dir=p.FsC({type:a,features:[p.Vt3]})}return a})(),o$=(()=>{class a extends a${setBelugaSwallow(t){let i=this.player.getPet(this.index);null!=i&&(i.belugaSwallowedPet=t)}setParrotCopyPet(t){let i=this.player.getPet(this.index);null!=i&&(i.parrotCopyPet=t,"Beluga Whale"!==t&&(i.parrotCopyPetBelugaSwallowedPet=null,this.formGroup.get("parrotCopyPetBelugaSwallowedPet")?.setValue(null,{emitEvent:!1})),"Abomination"!==t&&this.clearParrotCopyPetAbominationSettings(i))}setParrotCopyPetBelugaSwallowedPet(t){let i=this.player.getPet(this.index);null!=i&&(i.parrotCopyPetBelugaSwallowedPet=t)}getParrotCopyAbominationSlotCount(){const t=Number(this.formGroup.get("exp")?.value??0);return t<2?1:t<5?2:3}getAbominationSwallowedSlotCount(){const t=Number(this.formGroup.get("exp")?.value??0);return t<2?1:t<5?2:3}static \u0275fac=(()=>{let t;return function(n){return(t||(t=p.xGo(a)))(n||a)}})();static \u0275dir=p.FsC({type:a,features:[p.Vt3]})}return a})();const l$=function s$(){const a=[];for(let e=1;e<=3;e++){const t=`abominationSwallowedPet${e}`;a.push(`${t}ParrotCopyPet`,`${t}ParrotCopyPetBelugaSwallowedPet`);for(let i=1;i<=3;i++){const n=`${t}ParrotCopyPetAbominationSwallowedPet${i}`;a.push(n,`${n}BelugaSwallowedPet`,`${n}Level`,`${n}TimesHurt`)}}return a}();let c$=(()=>{class a extends o${initForm(){this.formGroup.get("name").valueChanges.pipe(Un(this.destroy$),ud()).subscribe(n=>{this.petImageBroken=!1,null!=n?this.substitutePet(!0):this.removePet()}),this.subscribeDebouncedStat("attack",0,100),this.subscribeDebouncedStat("health",0,100),this.formGroup.get("exp").valueChanges.pipe(Un(this.destroy$),ud()).subscribe(()=>{this.substitutePet(!1)});const i=this.formGroup.get("equipmentUses");this.formGroup.get("equipment").valueChanges.pipe(Un(this.destroy$)).subscribe(n=>{this.equipmentImageBroken=!1;const s=this.normalizeEquipmentValue(n);s!==n&&this.formGroup.get("equipment").setValue(s,{emitEvent:!1}),s||i?.setValue(null,{emitEvent:!1}),this.substitutePet(!1)}),this.formGroup.get("equipmentUses")?.valueChanges.pipe(Un(this.destroy$),bA(0),ud()).subscribe(()=>this.substitutePet(!1)),this.subscribeControl("belugaSwallowedPet",n=>this.setBelugaSwallow(n)),this.subscribeControl("parrotCopyPet",n=>this.setParrotCopyPet(n)),this.subscribeControl("parrotCopyPetBelugaSwallowedPet",n=>this.setParrotCopyPetBelugaSwallowedPet(n)),this.subscribeControls(VL,n=>this.setParrotCopyPetAbominationSwallowedPets(n)),this.subscribeControls(XB,n=>this.setParrotCopyPetAbominationParrotSettings(n)),this.subscribeControl("sarcasticFringeheadSwallowedPet",n=>this.setSarcasticFringeheadSwallowedPet(n)),this.subscribeControls(["abominationSwallowedPet1","abominationSwallowedPet2","abominationSwallowedPet3","abominationSwallowedPet1BelugaSwallowedPet","abominationSwallowedPet2BelugaSwallowedPet","abominationSwallowedPet3BelugaSwallowedPet","abominationSwallowedPet1Level","abominationSwallowedPet2Level","abominationSwallowedPet3Level","abominationSwallowedPet1TimesHurt","abominationSwallowedPet2TimesHurt","abominationSwallowedPet3TimesHurt"],n=>this.setSwallowedPets(n)),this.subscribeControls(l$,n=>this.setAbominationParrotCopySettings(n)),this.subscribeDebouncedStat("mana",0,50),this.subscribeDebouncedStat("triggersConsumed",0,10),this.subscribeDebouncedStat("foodsEaten",0,99),this.formGroup.get("friendsDiedBeforeBattle")?.valueChanges.pipe(Un(this.destroy$),bA(0),ud()).subscribe(()=>{this.clampFriendsDiedBeforeBattle(),this.substitutePet(!1)}),this.formGroup.get("battlesFought").valueChanges.pipe(Un(this.destroy$),bA(0),ud()).subscribe(n=>{this.setBattlesFought(n)}),this.formGroup.get("timesHurt").valueChanges.pipe(Un(this.destroy$),bA(0),ud()).subscribe(n=>{this.setTimesHurt(n)})}subscribeDebouncedStat(t,i,n){this.formGroup.get(t)?.valueChanges.pipe(Un(this.destroy$),bA(0),ud()).subscribe(()=>{this.clampControl(t,i,n),this.substitutePet(!1)})}subscribeControl(t,i){this.formGroup.get(t)?.valueChanges.pipe(Un(this.destroy$)).subscribe(i)}subscribeControls(t,i){for(const n of t)this.subscribeControl(n,i)}substitutePet(t=!1){setTimeout(()=>{let i=this.formGroup.getRawValue();t&&(this.formGroup.get("attack").setValue(null,{emitEvent:!1}),this.formGroup.get("health").setValue(null,{emitEvent:!1}),this.formGroup.get("mana").setValue(null,{emitEvent:!1}),this.formGroup.get("triggersConsumed").setValue(null,{emitEvent:!1}),this.formGroup.get("foodsEaten").setValue(null,{emitEvent:!1}),i=this.formGroup.getRawValue()),this.applyStatCaps(i),i.equipment=this.normalizeEquipmentValue(i.equipment);let n=this.petService.createPet(i,this.player);this.player.setPet(this.index,n,!0),this.pet=n,this.cdr.markForCheck(),t&&(this.formGroup.get("attack").setValue(n.attack,{emitEvent:!1}),this.formGroup.get("health").setValue(n.health,{emitEvent:!1}),this.formGroup.get("mana").setValue(n.mana,{emitEvent:!1}),this.formGroup.get("triggersConsumed").setValue(n.triggersConsumed,{emitEvent:!1}),this.formGroup.get("foodsEaten").setValue(n.foodsEaten??0,{emitEvent:!1}),this.cdr.markForCheck())})}applyStatCaps(t){const i=this.clampValue(t.attack,0,100),n=this.clampValue(t.health,0,100),s=this.clampValue(t.mana,0,50),r=this.clampValue(t.triggersConsumed,0,10),c=this.clampValue(t.foodsEaten,0,99);i!==t.attack&&null!=t.attack&&(this.formGroup.get("attack").setValue(i,{emitEvent:!1}),t.attack=i),n!==t.health&&null!=t.health&&(this.formGroup.get("health").setValue(n,{emitEvent:!1}),t.health=n),s!==t.mana&&null!=t.mana&&(this.formGroup.get("mana").setValue(s,{emitEvent:!1}),t.mana=s),r!==t.triggersConsumed&&null!=t.triggersConsumed&&(this.formGroup.get("triggersConsumed").setValue(r,{emitEvent:!1}),t.triggersConsumed=r),c!==t.foodsEaten&&null!=t.foodsEaten&&(this.formGroup.get("foodsEaten").setValue(c,{emitEvent:!1}),t.foodsEaten=c)}clampControl(t,i,n){const s=this.formGroup.get(t);if(!s)return;const r=s.value,c=this.clampValue(r,i,n);c!==r&&null!=r&&""!==r&&s.setValue(c,{emitEvent:!1})}clampValue(t,i,n){if(null==t||""===t)return t;const s=Number(t);return Number.isNaN(s)?t:Math.min(n,Math.max(i,s))}removePet(){this.player.setPet(this.index,null,!0),this.formGroup.get("name").setValue(null,{emitEvent:!1}),this.formGroup.get("attack").setValue(0,{emitEvent:!1}),this.formGroup.get("health").setValue(0,{emitEvent:!1}),this.formGroup.get("exp").setValue(0,{emitEvent:!1}),this.formGroup.get("equipment").setValue(null,{emitEvent:!1}),this.formGroup.get("equipmentUses").setValue(null,{emitEvent:!1}),this.formGroup.get("mana").setValue(0,{emitEvent:!1}),this.formGroup.get("triggersConsumed").setValue(0,{emitEvent:!1}),this.formGroup.get("foodsEaten").setValue(0,{emitEvent:!1})}clampFriendsDiedBeforeBattle(){const t=this.getFriendsDiedMax();this.clampControl("friendsDiedBeforeBattle",0,t)}getFriendsDiedMax(){const t=this.formGroup.get("name").value;return this.friendsDiedCaps.get(t)??5}static \u0275fac=(()=>{let t;return function(n){return(t||(t=p.xGo(a)))(n||a)}})();static \u0275dir=p.FsC({type:a,features:[p.Vt3]})}return a})(),u$=(()=>{class a extends c${trackByIndex(t){return t}ngOnInit(){this.initPackSets()}ngOnChanges(t){(t.formGroup||t.pet||t.index||t.player)&&this.initSelector()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.customPackSubscription&&this.customPackSubscription.unsubscribe()}initSelector(){this.destroy$.next(),this.initPets(),this.initEquipment(),this.initForm(),this.customPackSubscription?.unsubscribe(),this.customPackSubscription=this.customPacks?.valueChanges?.subscribe(()=>{this.invalidatePackCaches()})??null,this.fixLoadEquipment()}openSelectionDialog(t,i,n="pet",s){this.selectionType=t,this.swallowedPetIndex=i,this.swallowedPetTarget=n,this.swallowedPetParentIndex=s,this.forceShowAllPets="swallowed-pet"===t&&this.isParrotCopyTarget(n),this.showSelectionDialog=!0}onItemSelected(t){if(t instanceof Event)this.closeSelectionDialog();else{if("pet"===this.selectionType)this.formGroup.get("name").setValue(t);else if("equipment"===this.selectionType){const i="string"==typeof t?t:t?.name??null;this.formGroup.get("equipment").setValue(i)}else if("swallowed-pet"===this.selectionType){const i=function JB({target:a,swallowedPetIndex:e,swallowedPetParentIndex:t,petName:i}){switch(a){case"abomination-beluga":return cc(e,n=>`abominationSwallowedPet${n}BelugaSwallowedPet`);case"parrot":return"parrotCopyPet";case"parrot-beluga":return"parrotCopyPetBelugaSwallowedPet";case"parrot-abomination":return cc(e,n=>`parrotCopyPetAbominationSwallowedPet${n}`);case"parrot-abomination-beluga":return cc(e,n=>`parrotCopyPetAbominationSwallowedPet${n}BelugaSwallowedPet`);case"abomination-parrot":return cc(e,n=>`abominationSwallowedPet${n}ParrotCopyPet`);case"abomination-parrot-beluga":return cc(e,n=>`abominationSwallowedPet${n}ParrotCopyPetBelugaSwallowedPet`);case"abomination-parrot-abomination":return fw(t,e,(n,s)=>`abominationSwallowedPet${n}ParrotCopyPetAbominationSwallowedPet${s}`);case"abomination-parrot-abomination-beluga":return fw(t,e,(n,s)=>`abominationSwallowedPet${n}ParrotCopyPetAbominationSwallowedPet${s}BelugaSwallowedPet`);case"parrot-abomination-parrot":return cc(e,n=>`parrotCopyPetAbominationSwallowedPet${n}ParrotCopyPet`);case"parrot-abomination-parrot-beluga":return cc(e,n=>`parrotCopyPetAbominationSwallowedPet${n}ParrotCopyPetBelugaSwallowedPet`);case"parrot-abomination-parrot-abomination":return fw(t,e,(n,s)=>`parrotCopyPetAbominationSwallowedPet${n}ParrotCopyPetAbominationSwallowedPet${s}`);case"parrot-abomination-parrot-abomination-beluga":return fw(t,e,(n,s)=>`parrotCopyPetAbominationSwallowedPet${n}ParrotCopyPetAbominationSwallowedPet${s}BelugaSwallowedPet`);default:return function QB(a,e,t){return"Beluga Whale"===t?"belugaSwallowedPet":"abomination"===a||"Abomination"===t?cc(e,i=>`abominationSwallowedPet${i}`):"Sarcastic Fringehead"===t?"sarcasticFringeheadSwallowedPet":null}(a,e,i)}}({target:this.swallowedPetTarget,swallowedPetIndex:this.swallowedPetIndex,swallowedPetParentIndex:this.swallowedPetParentIndex,petName:this.pet?.name});if(!i)return void this.closeSelectionDialog();this.formGroup.get(i)?.setValue(t)}this.closeSelectionDialog()}}closeSelectionDialog(){this.showSelectionDialog=!1,this.forceShowAllPets=!1}setExp(t){this.formGroup.get("exp").setValue(t)}getIsSelected(t){return this.formGroup.get("exp").value>=t}showRemoveExp(){return this.formGroup.get("exp").value>0}get petImageSrc(){const t=this.formGroup?.get("name")?.value;if(!t)return null;const i=oh(t);return i?`assets/art/Public/Public/Pets/${i}.png`:null}get swallowedPetImageSrc(){const t=this.formGroup?.get("name")?.value;if("Beluga Whale"===t)return this.getPetImagePath(this.formGroup.get("belugaSwallowedPet")?.value);if("Sarcastic Fringehead"===t)return this.getPetImagePath(this.formGroup.get("sarcasticFringeheadSwallowedPet")?.value);if("Parrot"===t){const i=this.formGroup.get("parrotCopyPetBelugaSwallowedPet")?.value;return this.getPetImagePath(i||this.formGroup.get("parrotCopyPet")?.value)}return null}get abominationSwallowedPetImages(){if("Abomination"!==this.formGroup?.get("name")?.value)return[];const i=[{name:this.formGroup.get("abominationSwallowedPet1")?.value,belugaSwallowed:this.formGroup.get("abominationSwallowedPet1BelugaSwallowedPet")?.value},{name:this.formGroup.get("abominationSwallowedPet2")?.value,belugaSwallowed:this.formGroup.get("abominationSwallowedPet2BelugaSwallowedPet")?.value},{name:this.formGroup.get("abominationSwallowedPet3")?.value,belugaSwallowed:this.formGroup.get("abominationSwallowedPet3BelugaSwallowedPet")?.value}],n=[];for(const s of i){if(!s.name)continue;const r=this.getPetImagePath(s.name);if(r&&n.push(r),"Beluga Whale"===s.name&&s.belugaSwallowed){const c=this.getPetImagePath(s.belugaSwallowed);c&&n.push(c)}}return n}get equipmentImageSrc(){const t=this.getSelectedEquipmentName();return!t||this.ailmentEquipment?.has(t)?null:Pr(t,!1)}get ailmentImageSrc(){const t=this.getSelectedEquipmentName();return t&&this.ailmentEquipment?.has(t)?Pr(t,!0):null}get equipmentSelected(){return!!this.getSelectedEquipmentName()}get equipmentHasUses(){return null!=this.getSelectedEquipment()?.uses}get equipmentUsesToggleId(){return`equipmentUsesToggle-${this.index??"none"}`}get equipmentUsesInputId(){return`equipmentUsesInput-${this.index??"none"}`}get equipmentUsesAvailable(){return this.equipmentSelected&&this.equipmentHasUses}getPetOptionStyle(t){const i=In(t);return this.buildOptionStyle(i)}getEquipmentOptionStyle(t,i=!1){const n=Pr(t?.name,i);return this.buildOptionStyle(n)}shouldShowFriendsDiedInput(){return this.friendsDiedCaps.has(this.formGroup.get("name").value)}getPetImagePath(t){if(!t)return null;const i=oh(t);return i?`assets/art/Public/Public/Pets/${i}.png`:null}isParrotCopyTarget(t){return zB.has(t)}initPets(){this.pets=new Map;for(let t=1;t<=6;t++)this.pets.set(t,[]);for(const t of Ia){const i=this.petService.basePackPetsByName[t];for(let[n,s]of i)this.pets.get(n).push(...s)}for(let[t,i]of this.pets)this.pets.set(t,[...new Set(i)]);this.initStartOfBattlePets()}initStartOfBattlePets(){this.startOfBattlePets=new Map;for(let t=1;t<=6;t++){let i=[];for(let n of this.pets.get(t))this.petService.startOfBattlePets.includes(n)&&i.push(n);this.startOfBattlePets.set(t,i)}}initEquipment(){this.equipment=this.equipmentService.getInstanceOfAllEquipment(),this.ailmentEquipment=this.equipmentService.getInstanceOfAllAilments(),this.equipmentCategoryGroups=this.buildCategoryGroups(hE,this.equipment),this.ailmentCategoryGroups=this.buildCategoryGroups(eP,this.ailmentEquipment)}buildCategoryGroups(t,i){return Object.entries(t).map(([n,s])=>{const r=[];for(const c of s){const u=i.get(c);u&&r.push(u)}return{label:n,items:r}}).filter(n=>n.items.length>0)}buildOptionStyle(t){return t?{"background-image":`url(${t})`,"background-repeat":"no-repeat","background-position":"left center","background-size":"24px 24px","padding-left":"2.5rem"}:{}}static \u0275fac=(()=>{let t;return function(n){return(t||(t=p.xGo(a)))(n||a)}})();static \u0275dir=p.FsC({type:a,features:[p.Vt3,p.OA$]})}return a})(),d$=(()=>{class a extends u${static \u0275fac=(()=>{let t;return function(n){return(t||(t=p.xGo(a)))(n||a)}})();static \u0275dir=p.FsC({type:a,features:[p.Vt3]})}return a})(),h$=(()=>{class a extends d${static \u0275fac=(()=>{let t;return function(n){return(t||(t=p.xGo(a)))(n||a)}})();static \u0275dir=p.FsC({type:a,features:[p.Vt3]})}return a})(),p$=(()=>{class a extends h${static \u0275fac=(()=>{let t;return function(n){return(t||(t=p.xGo(a)))(n||a)}})();static \u0275dir=p.FsC({type:a,features:[p.Vt3]})}return a})();function g$(a,e){if(1&a&&p.nrm(0,"img",13),2&a){const t=p.XpG();p.Y8G("ngSrc",t.petImageSrc)}}function m$(a,e){if(1&a){const t=p.RV6();p.j41(0,"img",21),p.bIt("error",function(){P.eBV(t);const n=p.XpG(3);return P.Njj(n.equipmentImageBroken=!0)}),p.k0s()}if(2&a){const t=p.XpG(3);p.Y8G("ngSrc",t.equipmentImageSrc)("alt",t.formGroup.get("equipment").value||"Equipment")}}function f$(a,e){if(1&a){const t=p.RV6();p.j41(0,"img",21),p.bIt("error",function(){P.eBV(t);const n=p.XpG(3);return P.Njj(n.equipmentImageBroken=!0)}),p.k0s()}if(2&a){const t=p.XpG(3);p.Y8G("ngSrc",t.ailmentImageSrc)("alt",t.formGroup.get("equipment").value||"Ailment")}}function y$(a,e){if(1&a&&(p.j41(0,"div",19),p.DNE(1,m$,1,2,"img",20)(2,f$,1,2,"img",20),p.k0s()),2&a){const t=p.XpG(2);p.R7$(),p.Y8G("ngIf",t.equipmentImageSrc),p.R7$(),p.Y8G("ngIf",!t.equipmentImageSrc&&t.ailmentImageSrc)}}function v$(a,e){if(1&a&&(p.j41(0,"div",22),p.nrm(1,"img",23),p.k0s()),2&a){const t=p.XpG(2);p.R7$(),p.Y8G("ngSrc",t.swallowedPetImageSrc)}}function b$(a,e){1&a&&p.nrm(0,"img",23),2&a&&p.Y8G("ngSrc",e.$implicit)}function A$(a,e){if(1&a&&(p.j41(0,"div",24),p.DNE(1,b$,1,1,"img",25),p.k0s()),2&a){const t=p.XpG(2);p.R7$(),p.Y8G("ngForOf",t.abominationSwallowedPetImages)("ngForTrackBy",t.trackByIndex)}}function S$(a,e){if(1&a){const t=p.RV6();p.j41(0,"div",14)(1,"img",15),p.bIt("error",function(){P.eBV(t);const n=p.XpG();return P.Njj(n.petImageBroken=!0)}),p.k0s(),p.DNE(2,y$,3,2,"div",16)(3,v$,2,1,"div",17)(4,A$,2,2,"div",18),p.k0s()}if(2&a){const t=p.XpG();p.AVh("equipment-left",!t.flipImage)("equipment-right",t.flipImage),p.R7$(),p.AVh("flipped",t.flipImage),p.Y8G("ngSrc",t.petImageSrc)("alt",t.formGroup.get("name").value||"Pet"),p.R7$(),p.Y8G("ngIf",(t.equipmentImageSrc||t.ailmentImageSrc)&&!t.equipmentImageBroken),p.R7$(),p.Y8G("ngIf",t.swallowedPetImageSrc),p.R7$(),p.Y8G("ngIf",t.abominationSwallowedPetImages.length)}}function P$(a,e){if(1&a){const t=p.RV6();p.j41(0,"app-item-selection-dialog",26),p.bIt("select",function(n){P.eBV(t);const s=p.XpG();return P.Njj(s.onItemSelected(n))})("close",function(){P.eBV(t);const n=p.XpG();return P.Njj(n.closeSelectionDialog())}),p.k0s()}if(2&a){const t=p.XpG();p.Y8G("type",t.selectionType)("showAllPets",t.allPets||t.forceShowAllPets)("currentPack",null==t.player?null:t.player.pack)}}let KL=(()=>{class a extends p${constructor(t,i,n){super(t,i,n)}static \u0275fac=function(i){return new(i||a)(p.rXU(Kn),p.rXU(ui),p.rXU(ee.gRc))};static \u0275cmp=p.VBU({type:a,selectors:[["app-pet-selector"]],features:[p.Vt3],decls:14,vars:20,consts:[[1,"card","p-2"],[1,"row","form-group","g-0",3,"formGroup"],[3,"formGroup"],[1,"col-12","mb-2"],["type","button",1,"btn","selection-btn","w-100","d-flex","align-items-center",3,"click"],["class","btn-icon me-2","width","24","height","24","loading","lazy","decoding","async",3,"ngSrc",4,"ngIf"],[1,"btn-text"],[1,"fas","fa-chevron-down","ms-auto"],[3,"openSelection","formGroup","pet","showSwallowedLevels"],[3,"openSelection","formGroup","equipmentImageSrc","ailmentImageSrc","allowEquipmentUseOverrides","equipmentUsesAvailable","equipmentUsesInputId"],["class","col-12 pet-art mb-2",3,"equipment-left","equipment-right",4,"ngIf"],[3,"formGroup","petName","mana","triggersConsumed","attackHealthMax"],[3,"type","showAllPets","currentPack","select","close",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async",1,"btn-icon","me-2",3,"ngSrc"],[1,"col-12","pet-art","mb-2"],["width","72","height","72","loading","lazy","decoding","async",3,"error","ngSrc","alt"],["class","equipment-art",4,"ngIf"],["class","swallowed-art",4,"ngIf"],["class","swallowed-art swallowed-stack",4,"ngIf"],[1,"equipment-art"],["width","32","height","32","loading","lazy","decoding","async",3,"ngSrc","alt","error",4,"ngIf"],["width","32","height","32","loading","lazy","decoding","async",3,"error","ngSrc","alt"],[1,"swallowed-art"],["width","32","height","32","loading","lazy","decoding","async","alt","Swallowed Pet",3,"ngSrc"],[1,"swallowed-art","swallowed-stack"],["width","32","height","32","loading","lazy","decoding","async","alt","Swallowed Pet",3,"ngSrc",4,"ngFor","ngForOf","ngForTrackBy"],[3,"select","close","type","showAllPets","currentPack"]],template:function(i,n){1&i&&(p.j41(0,"div",0)(1,"form",1),p.nrm(2,"app-pet-level-selector",2),p.j41(3,"div",3)(4,"button",4),p.bIt("click",function(){return n.openSelectionDialog("pet")}),p.DNE(5,g$,1,1,"img",5),p.j41(6,"span",6),p.EFF(7),p.k0s(),p.nrm(8,"i",7),p.k0s()(),p.j41(9,"app-swallowed-pet-selector",8),p.bIt("openSelection",function(r){return n.openSelectionDialog(r.type,r.index,r.target,r.parentIndex)}),p.k0s(),p.j41(10,"app-pet-equipment-selector",9),p.bIt("openSelection",function(){return n.openSelectionDialog("equipment")}),p.k0s(),p.DNE(11,S$,5,11,"div",10),p.nrm(12,"app-pet-stats-selector",11),p.k0s()(),p.DNE(13,P$,1,3,"app-item-selection-dialog",12)),2&i&&(p.R7$(),p.Y8G("formGroup",n.formGroup),p.R7$(),p.Y8G("formGroup",n.formGroup),p.R7$(3),p.Y8G("ngIf",n.petImageSrc),p.R7$(2),p.JRh(n.formGroup.get("name").value||"Select Pet"),p.R7$(2),p.Y8G("formGroup",n.formGroup)("pet",n.pet)("showSwallowedLevels",n.showSwallowedLevels),p.R7$(),p.Y8G("formGroup",n.formGroup)("equipmentImageSrc",n.equipmentImageSrc)("ailmentImageSrc",n.ailmentImageSrc)("allowEquipmentUseOverrides",n.allowEquipmentUseOverrides)("equipmentUsesAvailable",n.equipmentUsesAvailable)("equipmentUsesInputId",n.equipmentUsesInputId),p.R7$(),p.Y8G("ngIf",n.petImageSrc&&!n.petImageBroken),p.R7$(),p.Y8G("formGroup",n.formGroup)("petName",null==n.pet?null:n.pet.name)("mana",n.mana)("triggersConsumed",n.triggersConsumed)("attackHealthMax",n.attackHealthMax),p.R7$(),p.Y8G("ngIf",n.showSelectionDialog))},dependencies:[Ct.MD,Ct.Sq,Ct.bT,vi,X.X1,X.qT,X.cb,X.j4,X.YN,WL,oB,gB,vB,KB],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/fist-from-textmap.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/heart-from-textmap.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/mana-from-textmap.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-label[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}.swallowed-label-small[_ngcontent-%COMP%], .swallowed-label-tiny[_ngcontent-%COMP%]{color:#ffffffe6;font-weight:600;text-transform:uppercase;letter-spacing:.03em}.swallowed-label-small[_ngcontent-%COMP%]{font-size:.68rem}.swallowed-label-tiny[_ngcontent-%COMP%]{font-size:.62rem}.swallowed-nested[_ngcontent-%COMP%]{background:#00000047;border-radius:10px;padding:.5rem .6rem;box-shadow:0 8px 20px #0006}.swallowed-nested[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%], .swallowed-slot[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%]{border-left-color:#fff3!important}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:600;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:500;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.9rem;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.5)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:700;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"],changeDetection:0})}return a})();var yw=w(7302),pI=w(8308);function vw(a){var e=-1,t=null==a?0:a.length;for(this.__data__=new pI.A;++e<t;)this.add(a[e])}vw.prototype.add=vw.prototype.push=function k$(a){return this.__data__.set(a,"__lodash_hash_undefined__"),this},vw.prototype.has=function T$(a){return this.__data__.has(a)};const C$=vw,M$=function D$(a,e){for(var t=-1,i=null==a?0:a.length;++t<i;)if(e(a[t],t,a))return!0;return!1},I$=function x$(a,e){return a.has(e)},zL=function N$(a,e,t,i,n,s){var r=1&t,c=a.length,u=e.length;if(c!=u&&!(r&&u>c))return!1;var h=s.get(a),b=s.get(e);if(h&&b)return h==e&&b==a;var D=-1,H=!0,Y=2&t?new C$:void 0;for(s.set(a,e),s.set(e,a);++D<c;){var ue=a[D],he=e[D];if(i)var ye=r?i(he,ue,D,e,a,s):i(ue,he,D,a,e,s);if(void 0!==ye){if(ye)continue;H=!1;break}if(Y){if(!M$(e,function(_e,qe){if(!I$(Y,qe)&&(ue===_e||n(ue,_e,t,i,s)))return Y.push(qe)})){H=!1;break}}else if(ue!==he&&!n(ue,he,t,i,s)){H=!1;break}}return s.delete(a),s.delete(e),H};var bw=w(6944),YL=w(6509),F$=w(1319);const B$=function O$(a){var e=-1,t=Array(a.size);return a.forEach(function(i,n){t[++e]=[n,i]}),t},G$=function $$(a){var e=-1,t=Array(a.size);return a.forEach(function(i){t[++e]=i}),t};var XL=bw.A?bw.A.prototype:void 0,gI=XL?XL.valueOf:void 0;var JL=w(7895),rG=Object.prototype.hasOwnProperty;var QL=w(3080),ZL=w(259),sG=w(4608),e2="[object Arguments]",t2="[object Array]",Aw="[object Object]",i2=Object.prototype.hasOwnProperty;const dG=function uG(a,e,t,i,n,s){var r=(0,go.A)(a),c=(0,go.A)(e),u=r?t2:(0,QL.A)(a),h=c?t2:(0,QL.A)(e),b=(u=u==e2?Aw:u)==Aw,D=(h=h==e2?Aw:h)==Aw,H=u==h;if(H&&(0,ZL.A)(a)){if(!(0,ZL.A)(e))return!1;r=!0,b=!1}if(H&&!b)return s||(s=new yw.A),r||(0,sG.A)(a)?zL(a,e,t,i,n,s):function eG(a,e,t,i,n,s,r){switch(t){case"[object DataView]":if(a.byteLength!=e.byteLength||a.byteOffset!=e.byteOffset)return!1;a=a.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(a.byteLength!=e.byteLength||!s(new YL.A(a),new YL.A(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,F$.A)(+a,+e);case"[object Error]":return a.name==e.name&&a.message==e.message;case"[object RegExp]":case"[object String]":return a==e+"";case"[object Map]":var c=B$;case"[object Set]":if(c||(c=G$),a.size!=e.size&&!(1&i))return!1;var h=r.get(a);if(h)return h==e;i|=2,r.set(a,e);var b=zL(c(a),c(e),i,n,s,r);return r.delete(a),b;case"[object Symbol]":if(gI)return gI.call(a)==gI.call(e)}return!1}(a,e,u,t,i,n,s);if(!(1&t)){var Y=b&&i2.call(a,"__wrapped__"),ue=D&&i2.call(e,"__wrapped__");if(Y||ue){var he=Y?a.value():a,ye=ue?e.value():e;return s||(s=new yw.A),n(he,ye,t,i,s)}}return!!H&&(s||(s=new yw.A),function aG(a,e,t,i,n,s){var r=1&t,c=(0,JL.A)(a),u=c.length;if(u!=(0,JL.A)(e).length&&!r)return!1;for(var D=u;D--;){var H=c[D];if(!(r?H in e:rG.call(e,H)))return!1}var Y=s.get(a),ue=s.get(e);if(Y&&ue)return Y==e&&ue==a;var he=!0;s.set(a,e),s.set(e,a);for(var ye=r;++D<u;){var _e=a[H=c[D]],qe=e[H];if(i)var Ve=r?i(qe,_e,H,e,a,s):i(_e,qe,H,a,e,s);if(!(void 0===Ve?_e===qe||n(_e,qe,t,i,s):Ve)){he=!1;break}ye||(ye="constructor"==H)}if(he&&!ye){var je=a.constructor,Ie=e.constructor;je!=Ie&&"constructor"in a&&"constructor"in e&&!("function"==typeof je&&je instanceof je&&"function"==typeof Ie&&Ie instanceof Ie)&&(he=!1)}return s.delete(a),s.delete(e),he}(a,e,t,i,n,s))};var mI=w(2661);const r2=function n2(a,e,t,i,n){return a===e||(null==a||null==e||!(0,mI.A)(a)&&!(0,mI.A)(e)?a!=a&&e!=e:dG(a,e,t,i,n2,n))};var fG=w(554);const a2=function yG(a){return a==a&&!(0,fG.A)(a)},o2=function AG(a,e){return function(t){return null!=t&&t[a]===e&&(void 0!==e||a in Object(t))}},PG=function SG(a){var e=function vG(a){for(var e=(0,eS.A)(a),t=e.length;t--;){var i=e[t],n=a[i];e[t]=[i,n,a2(n)]}return e}(a);return 1==e.length&&e[0][2]?o2(e[0][0],e[0][1]):function(t){return t===a||function gG(a,e,t,i){var n=t.length,s=n,r=!i;if(null==a)return!s;for(a=Object(a);n--;){var c=t[n];if(r&&c[2]?c[1]!==a[c[0]]:!(c[0]in a))return!1}for(;++n<s;){var u=(c=t[n])[0],h=a[u],b=c[1];if(r&&c[2]){if(void 0===h&&!(u in a))return!1}else{var D=new yw.A;if(i)var H=i(h,b,u,a,e,D);if(!(void 0===H?r2(b,h,3,i,D):H))return!1}}return!0}(t,a,e)}};var _G=w(1685);const fI=function wG(a){return"symbol"==typeof a||(0,mI.A)(a)&&"[object Symbol]"==(0,_G.A)(a)};var TG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,EG=/^\w*$/;const yI=function CG(a,e){if((0,go.A)(a))return!1;var t=typeof a;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=a&&!fI(a))||EG.test(a)||!TG.test(a)||null!=e&&a in Object(e)};function vI(a,e){if("function"!=typeof a||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var t=function(){var i=arguments,n=e?e.apply(this,i):i[0],s=t.cache;if(s.has(n))return s.get(n);var r=a.apply(this,i);return t.cache=s.set(n,r)||s,r};return t.cache=new(vI.Cache||pI.A),t}vI.Cache=pI.A;const MG=vI;var LG=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,NG=/\\(\\)?/g;const OG=function IG(a){var e=MG(a,function(i){return 500===t.size&&t.clear(),i}),t=e.cache;return e}(function(a){var e=[];return 46===a.charCodeAt(0)&&e.push(""),a.replace(LG,function(t,i,n,s){e.push(n?s.replace(NG,"$1"):i||t)}),e});var s2=bw.A?bw.A.prototype:void 0,l2=s2?s2.toString:void 0;const $G=function c2(a){if("string"==typeof a)return a;if((0,go.A)(a))return ZA(a,c2)+"";if(fI(a))return l2?l2.call(a):"";var e=a+"";return"0"==e&&1/a==-1/0?"-0":e},HG=function GG(a){return null==a?"":$G(a)},bI=function jG(a,e){return(0,go.A)(a)?a:yI(a,e)?[a]:OG(HG(a))},AA=function UG(a){if("string"==typeof a||fI(a))return a;var e=a+"";return"0"==e&&1/a==-1/0?"-0":e},AI=function WG(a,e){for(var t=0,i=(e=bI(e,a)).length;null!=a&&t<i;)a=a[AA(e[t++])];return t&&t==i?a:void 0},YG=function zG(a,e){return null!=a&&e in Object(a)};var XG=w(7061),u2=w(8606),JG=w(5481);const tH=function eH(a,e){return null!=a&&function QG(a,e,t){for(var i=-1,n=(e=bI(e,a)).length,s=!1;++i<n;){var r=AA(e[i]);if(!(s=null!=a&&t(a,r)))break;a=a[r]}return s||++i!=n?s:!!(n=null==a?0:a.length)&&(0,JG.A)(n)&&(0,u2.A)(r,n)&&((0,go.A)(a)||(0,XG.A)(a))}(a,e,YG)},aH=function rH(a,e){return yI(a)&&a2(e)?o2(AA(a),e):function(t){var i=function VG(a,e,t){var i=null==a?void 0:AI(a,e);return void 0===i?t:i}(t,a);return void 0===i&&i===e?tH(t,a):r2(e,i,3)}},sH=function oH(a){return a},pH=function hH(a){return yI(a)?function lH(a){return function(e){return e?.[a]}}(AA(a)):function uH(a){return function(e){return AI(e,a)}}(a)},SH=function AH(a,e){return e.length<2?a:AI(a,function vH(a,e,t){var i=-1,n=a.length;e<0&&(e=-e>n?0:n+e),(t=t>n?n:t)<0&&(t+=n),n=e>t?0:t-e>>>0,e>>>=0;for(var s=Array(n);++i<n;)s[i]=a[i+e];return s}(e,0,-1))};var _H=Object.prototype.hasOwnProperty;const wH=function kH(a,e){var t=-1,i=(e=bI(e,a)).length;if(!i)return!0;for(var n=null==a||"object"!=typeof a&&"function"!=typeof a;++t<i;){var s=e[t];if("string"==typeof s){if("__proto__"===s&&!_H.call(a,"__proto__"))return!1;if("constructor"===s&&t+1<i&&"string"==typeof e[t+1]&&"prototype"===e[t+1]){if(n&&0===t)continue;return!1}}}var r=SH(a,e);return null==r||delete r[AA(function fH(a){var e=null==a?0:a.length;return e?a[e-1]:void 0}(e))]};var EH=Array.prototype.splice;const xH=function MH(a,e){var t=[];if(!a||!a.length)return t;var i=-1,n=[],s=a.length;for(e=function gH(a){return"function"==typeof a?a:null==a?sH:"object"==typeof a?(0,go.A)(a)?aH(a[0],a[1]):PG(a):pH(a)}(e);++i<s;){var r=a[i];e(r,i,a)&&(t.push(r),n.push(i))}return function CH(a,e){for(var t=a?e.length:0,i=t-1;t--;){var n=e[t];if(t==i||n!==s){var s=n;(0,u2.A)(n)?EH.call(a,n,1):wH(a,n)}}}(a,n),t};function IH(a,e){1&a&&(p.j41(0,"div",12),p.EFF(1," That name is not allowed. "),p.k0s())}function RH(a,e){if(1&a){const t=p.RV6();p.j41(0,"div",13),p.nrm(1,"input",14),p.j41(2,"label",15)(3,"img",16),p.bIt("error",function(n){P.eBV(t);const s=p.XpG();return P.Njj(s.handlePetIconError(n))}),p.k0s(),p.EFF(4),p.k0s()()}if(2&a){const t=e.$implicit,i=p.XpG();p.R7$(),p.Y8G("id",t)("formControlName",t),p.R7$(),p.Y8G("for",t),p.R7$(),p.Y8G("src",i.getPetIcon(t),p.B4B)("alt",t+" icon"),p.R7$(),p.SpI(" ",t," ")}}function LH(a,e){if(1&a){const t=p.RV6();p.j41(0,"div",13),p.nrm(1,"input",14),p.j41(2,"label",15)(3,"img",16),p.bIt("error",function(n){P.eBV(t);const s=p.XpG();return P.Njj(s.handlePetIconError(n))}),p.k0s(),p.EFF(4),p.k0s()()}if(2&a){const t=e.$implicit,i=p.XpG();p.R7$(),p.Y8G("id",t)("formControlName",t),p.R7$(),p.Y8G("for",t),p.R7$(),p.Y8G("src",i.getPetIcon(t),p.B4B)("alt",t+" icon"),p.R7$(),p.SpI(" ",t," ")}}function NH(a,e){if(1&a){const t=p.RV6();p.j41(0,"div",13),p.nrm(1,"input",14),p.j41(2,"label",15)(3,"img",16),p.bIt("error",function(n){P.eBV(t);const s=p.XpG();return P.Njj(s.handlePetIconError(n))}),p.k0s(),p.EFF(4),p.k0s()()}if(2&a){const t=e.$implicit,i=p.XpG();p.R7$(),p.Y8G("id",t)("formControlName",t),p.R7$(),p.Y8G("for",t),p.R7$(),p.Y8G("src",i.getPetIcon(t),p.B4B)("alt",t+" icon"),p.R7$(),p.SpI(" ",t," ")}}function FH(a,e){if(1&a){const t=p.RV6();p.j41(0,"div",13),p.nrm(1,"input",14),p.j41(2,"label",15)(3,"img",16),p.bIt("error",function(n){P.eBV(t);const s=p.XpG();return P.Njj(s.handlePetIconError(n))}),p.k0s(),p.EFF(4),p.k0s()()}if(2&a){const t=e.$implicit,i=p.XpG();p.R7$(),p.Y8G("id",t)("formControlName",t),p.R7$(),p.Y8G("for",t),p.R7$(),p.Y8G("src",i.getPetIcon(t),p.B4B)("alt",t+" icon"),p.R7$(),p.SpI(" ",t," ")}}function OH(a,e){if(1&a){const t=p.RV6();p.j41(0,"div",13),p.nrm(1,"input",14),p.j41(2,"label",15)(3,"img",16),p.bIt("error",function(n){P.eBV(t);const s=p.XpG();return P.Njj(s.handlePetIconError(n))}),p.k0s(),p.EFF(4),p.k0s()()}if(2&a){const t=e.$implicit,i=p.XpG();p.R7$(),p.Y8G("id",t)("formControlName",t),p.R7$(),p.Y8G("for",t),p.R7$(),p.Y8G("src",i.getPetIcon(t),p.B4B)("alt",t+" icon"),p.R7$(),p.SpI(" ",t," ")}}function BH(a,e){if(1&a){const t=p.RV6();p.j41(0,"div",13),p.nrm(1,"input",14),p.j41(2,"label",15)(3,"img",16),p.bIt("error",function(n){P.eBV(t);const s=p.XpG();return P.Njj(s.handlePetIconError(n))}),p.k0s(),p.EFF(4),p.k0s()()}if(2&a){const t=e.$implicit,i=p.XpG();p.R7$(),p.Y8G("id",t)("formControlName",t),p.R7$(),p.Y8G("for",t),p.R7$(),p.Y8G("src",i.getPetIcon(t),p.B4B)("alt",t+" icon"),p.R7$(),p.SpI(" ",t," ")}}function $H(a,e){1&a&&(p.j41(0,"div",12),p.EFF(1,"Name is required."),p.k0s())}let GH=(()=>{class a{formGroup;petPackMap;submitEvent=new P.bkB;cancelEvent=new P.bkB;checkboxFormGroup;loaded=!1;fallbackIcon="assets/art/Public/Public/Icons/Level_L1.png";constructor(){}ngOnInit(){this.initCheckboxFormGroup(),this.formGroup.updateValueAndValidity()}initCheckboxFormGroup(){let t=new X.gE({}),i=new X.gE({}),n=new X.gE({}),s=new X.gE({}),r=new X.gE({}),c=new X.gE({});for(let u of this.getPets(1)){let h=new X.MJ(this.formGroup.get("tier1Pets").value.includes(u));h.valueChanges.subscribe(b=>{this.processCheckboxChange(1,u,b)}),t.addControl(u,h)}for(let u of this.getPets(2)){let h=new X.MJ(this.formGroup.get("tier2Pets").value.includes(u));h.valueChanges.subscribe(b=>{this.processCheckboxChange(2,u,b)}),i.addControl(u,h)}for(let u of this.getPets(3)){let h=new X.MJ(this.formGroup.get("tier3Pets").value.includes(u));h.valueChanges.subscribe(b=>{this.processCheckboxChange(3,u,b)}),n.addControl(u,h)}for(let u of this.getPets(4)){let h=new X.MJ(this.formGroup.get("tier4Pets").value.includes(u));h.valueChanges.subscribe(b=>{this.processCheckboxChange(4,u,b)}),s.addControl(u,h)}for(let u of this.getPets(5)){let h=new X.MJ(this.formGroup.get("tier5Pets").value.includes(u));h.valueChanges.subscribe(b=>{this.processCheckboxChange(5,u,b)}),r.addControl(u,h)}for(let u of this.getPets(6)){let h=new X.MJ(this.formGroup.get("tier6Pets").value.includes(u));h.valueChanges.subscribe(b=>{this.processCheckboxChange(6,u,b)}),c.addControl(u,h)}this.checkboxFormGroup=new X.gE({tier1Pets:t,tier2Pets:i,tier3Pets:n,tier4Pets:s,tier5Pets:r,tier6Pets:c})}getCheckboxFormGroup(t){return this.checkboxFormGroup.get(`tier${t}Pets`)}getPets(t){let i=[];for(let[n,s]of this.petPackMap.get(t))i.push(...s);return i=[...new Set(i)],i}getCount(t){return this.formGroup.get(`tier${t}Pets`).value.length}processCheckboxChange(t,i,n){let s=this.formGroup.get(`tier${t}Pets`).value;n?s.push(i):xH(s,r=>r===i),this.formGroup.get(`tier${t}Pets`).updateValueAndValidity()}getPetIcon(t){return In(t)??this.fallbackIcon}handlePetIconError(t){const i=t.target;i?.dataset?.fallback||(i.dataset.fallback="true",i.src=this.fallbackIcon)}trackByPetName(t,i){return i??String(t)}submit(){this.submitEvent.emit(this.formGroup)}cancel(){confirm("Are you sure you want to cancel?")&&this.cancelEvent.emit(this.formGroup)}submitDisabled(){return this.formGroup.get("name").invalid}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=p.VBU({type:a,selectors:[["app-custom-pack-form"]],inputs:{formGroup:"formGroup",petPackMap:"petPackMap"},outputs:{submitEvent:"submitEvent",cancelEvent:"cancelEvent"},decls:68,vars:40,consts:[[3,"formGroup"],[1,"row","mb-4"],[1,"col-12"],["for","name",1,"form-label"],["id","name","formControlName","name",1,"form-control"],["class","invalid",4,"ngIf"],[1,"row","mb-4",3,"formGroup"],[1,"row"],[1,"col-12","editor-grid"],["class","form-check",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn","btn-primary","me-2",3,"click","disabled"],[1,"btn","btn-danger",3,"click"],[1,"invalid"],[1,"form-check"],["type","checkbox","value","",1,"form-check-input",3,"id","formControlName"],[1,"form-check-label","pet-label",3,"for"],[1,"pet-icon",3,"error","src","alt"]],template:function(i,n){if(1&i&&(p.j41(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),p.EFF(4,"Pack Name"),p.k0s(),p.nrm(5,"input",4),p.DNE(6,IH,2,0,"div",5),p.k0s()(),p.j41(7,"div",6)(8,"div",2)(9,"h3"),p.EFF(10," Tier 1 Pets "),p.j41(11,"span"),p.EFF(12),p.k0s()(),p.j41(13,"div",7)(14,"div",8),p.DNE(15,RH,5,6,"div",9),p.k0s()()()(),p.j41(16,"div",6)(17,"div",2)(18,"h3"),p.EFF(19," Tier 2 Pets "),p.j41(20,"span"),p.EFF(21),p.k0s()(),p.j41(22,"div",7)(23,"div",8),p.DNE(24,LH,5,6,"div",9),p.k0s()()()(),p.j41(25,"div",6)(26,"div",2)(27,"h3"),p.EFF(28," Tier 3 Pets "),p.j41(29,"span"),p.EFF(30),p.k0s()(),p.j41(31,"div",7)(32,"div",8),p.DNE(33,NH,5,6,"div",9),p.k0s()()()(),p.j41(34,"div",6)(35,"div",2)(36,"h3"),p.EFF(37," Tier 4 Pets "),p.j41(38,"span"),p.EFF(39),p.k0s()(),p.j41(40,"div",7)(41,"div",8),p.DNE(42,FH,5,6,"div",9),p.k0s()()()(),p.j41(43,"div",6)(44,"div",2)(45,"h3"),p.EFF(46," Tier 5 Pets "),p.j41(47,"span"),p.EFF(48),p.k0s()(),p.j41(49,"div",7)(50,"div",8),p.DNE(51,OH,5,6,"div",9),p.k0s()()()(),p.j41(52,"div",6)(53,"div",2)(54,"h3"),p.EFF(55," Tier 6 Pets "),p.j41(56,"span"),p.EFF(57),p.k0s()(),p.j41(58,"div",7)(59,"div",8),p.DNE(60,BH,5,6,"div",9),p.k0s()()()(),p.j41(61,"div",7)(62,"div",2)(63,"button",10),p.bIt("click",function(){return n.submit()}),p.EFF(64," Submit Pack "),p.k0s(),p.j41(65,"button",11),p.bIt("click",function(){return n.cancel()}),p.EFF(66,"Cancel"),p.k0s(),p.DNE(67,$H,2,0,"div",5),p.k0s()()()),2&i){let s;p.Y8G("formGroup",n.formGroup),p.R7$(6),p.Y8G("ngIf",null==(s=n.formGroup.get("name").errors)?null:s.forbiddenName),p.R7$(),p.Y8G("formGroup",n.getCheckboxFormGroup(1)),p.R7$(4),p.HbH(10==n.getCount(1)?"valid":"invalid"),p.R7$(),p.SpI("",n.getCount(1),"/10"),p.R7$(3),p.Y8G("ngForOf",n.getPets(1))("ngForTrackBy",n.trackByPetName),p.R7$(),p.Y8G("formGroup",n.getCheckboxFormGroup(2)),p.R7$(4),p.HbH(10==n.getCount(2)?"valid":"invalid"),p.R7$(),p.SpI("",n.getCount(2),"/10"),p.R7$(3),p.Y8G("ngForOf",n.getPets(2))("ngForTrackBy",n.trackByPetName),p.R7$(),p.Y8G("formGroup",n.getCheckboxFormGroup(3)),p.R7$(4),p.HbH(10==n.getCount(3)?"valid":"invalid"),p.R7$(),p.SpI("",n.getCount(3),"/10"),p.R7$(3),p.Y8G("ngForOf",n.getPets(3))("ngForTrackBy",n.trackByPetName),p.R7$(),p.Y8G("formGroup",n.getCheckboxFormGroup(4)),p.R7$(4),p.HbH(10==n.getCount(4)?"valid":"invalid"),p.R7$(),p.SpI("",n.getCount(4),"/10"),p.R7$(3),p.Y8G("ngForOf",n.getPets(4))("ngForTrackBy",n.trackByPetName),p.R7$(),p.Y8G("formGroup",n.getCheckboxFormGroup(5)),p.R7$(4),p.HbH(10==n.getCount(5)?"valid":"invalid"),p.R7$(),p.SpI("",n.getCount(5),"/10"),p.R7$(3),p.Y8G("ngForOf",n.getPets(5))("ngForTrackBy",n.trackByPetName),p.R7$(),p.Y8G("formGroup",n.getCheckboxFormGroup(6)),p.R7$(4),p.HbH(10==n.getCount(6)?"valid":"invalid"),p.R7$(),p.SpI("",n.getCount(6),"/10"),p.R7$(3),p.Y8G("ngForOf",n.getPets(6))("ngForTrackBy",n.trackByPetName),p.R7$(3),p.Y8G("disabled",n.submitDisabled()),p.R7$(4),p.Y8G("ngIf",n.submitDisabled())}},dependencies:[Ct.MD,Ct.Sq,Ct.bT,X.X1,X.qT,X.me,X.Zm,X.BC,X.cb,X.j4,X.JD],styles:[".editor-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));grid-gap:1rem}.invalid[_ngcontent-%COMP%]{color:red}.valid[_ngcontent-%COMP%]{color:#0ab40a}.form-check[_ngcontent-%COMP%]{min-height:2.5rem}.pet-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.35rem;line-height:1.2;flex-wrap:wrap;white-space:normal}.pet-icon[_ngcontent-%COMP%]{width:26px;height:26px;object-fit:contain}"]})}return a})();var d2=w(4937);function HH(a,e){if(1&a){const t=p.RV6();p.j41(0,"div",2)(1,"div",3)(2,"app-custom-pack-form",4),p.bIt("submitEvent",function(n){P.eBV(t);const s=p.XpG();return P.Njj(s.submitEvent(n))})("cancelEvent",function(n){P.eBV(t);const s=p.XpG();return P.Njj(s.cancelEvent(n))}),p.k0s()()()}if(2&a){const t=p.XpG();p.R7$(2),p.Y8G("formGroup",t.makeFormGroup(t.focusedGroup))("petPackMap",t.petPackMap)}}function jH(a,e){1&a&&(p.j41(0,"span",17),p.EFF(1,"Valid"),p.k0s())}function qH(a,e){1&a&&(p.j41(0,"span",18),p.EFF(1,"Invalid"),p.k0s())}function UH(a,e){if(1&a){const t=p.RV6();p.j41(0,"tr")(1,"td",12),p.EFF(2),p.k0s(),p.j41(3,"td",12),p.DNE(4,jH,2,0,"span",13)(5,qH,2,0,"span",14),p.k0s(),p.j41(6,"td")(7,"button",8),p.bIt("click",function(){const n=P.eBV(t).$implicit,s=p.XpG(2);return P.Njj(s.editPack(n))}),p.EFF(8," Edit "),p.k0s()(),p.j41(9,"td")(10,"button",15),p.bIt("click",function(){const n=P.eBV(t).$implicit,s=p.XpG(2);return P.Njj(s.exportCustomPack(n))}),p.EFF(11," Export "),p.k0s()(),p.j41(12,"td")(13,"button",16),p.bIt("click",function(){const n=P.eBV(t).$implicit,s=p.XpG(2);return P.Njj(s.deletePack(n))}),p.EFF(14," Delete "),p.k0s()()()}if(2&a){const t=e.$implicit;p.R7$(2),p.JRh(t.get("name").value),p.R7$(2),p.Y8G("ngIf",t.valid),p.R7$(),p.Y8G("ngIf",!t.valid)}}function WH(a,e){if(1&a&&(p.j41(0,"div",19),p.EFF(1),p.k0s()),2&a){const t=p.XpG(2);p.Y8G("ngClass","success"===t.statusTone?"text-success":"text-danger"),p.R7$(),p.SpI(" ",t.statusMessage," ")}}function VH(a,e){if(1&a){const t=p.RV6();p.j41(0,"div")(1,"div",5)(2,"div",3)(3,"h3"),p.EFF(4,"Custom Packs"),p.k0s(),p.j41(5,"table"),p.DNE(6,UH,15,3,"tr",6),p.k0s()()(),p.j41(7,"div",7)(8,"div",3)(9,"button",8),p.bIt("click",function(){P.eBV(t);const n=p.XpG();return P.Njj(n.createNewPack())}),p.EFF(10," Create New Pack "),p.k0s()()(),p.j41(11,"div",5)(12,"div",3)(13,"h3"),p.EFF(14,"Import Custom Pack"),p.k0s(),p.j41(15,"div",9),p.nrm(16,"textarea",10),p.k0s()()(),p.j41(17,"div",2)(18,"div",3)(19,"button",8),p.bIt("click",function(){P.eBV(t);const n=p.XpG();return P.Njj(n.importCustomPack())}),p.EFF(20," Import "),p.k0s()()(),p.DNE(21,WH,2,2,"div",11),p.k0s()}if(2&a){const t=p.XpG();p.R7$(6),p.Y8G("ngForOf",t.customPacks.controls)("ngForTrackBy",t.trackByPackName),p.R7$(9),p.Y8G("formGroup",t.importFormGroup),p.R7$(6),p.Y8G("ngIf",t.statusMessage)}}let KH=(()=>{class a{petService;localStorageService;formGroup;customPacks;petPackMap;petIdLookup=new Map;petNameToId=new Map;petNameToTier=new Map;focusedGroup=null;importFormGroup=new X.gE({code:new X.MJ(null)});statusMessage="";statusTone="success";statusTimer=null;constructor(t,i){this.petService=t,this.localStorageService=i}ngOnInit(){this.customPacks=this.formGroup.get("customPacks"),this.buildPetPackMap(),this.buildPetNameToTierMap(),this.buildPetIdLookup()}buildPetPackMap(){this.petPackMap=new Map;for(let t=1;t<=6;t++){let i=new Map;for(const n of Ia)i.set(n,[]);this.petPackMap.set(t,i)}for(const t of Ia){const i=this.petService.basePackPetsByName[t];for(let[n,s]of i)this.petPackMap.get(n).get(t).push(...s)}}createNewPack(){let t=this.createPack();this.focusedGroup=t}createPack(){return new X.gE({name:new X.MJ(null,[X.k0.required,this.forbiddenNameValidator()]),tier1Pets:new X.MJ([],this.controlArrayLengthOf10()),tier2Pets:new X.MJ([],this.controlArrayLengthOf10()),tier3Pets:new X.MJ([],this.controlArrayLengthOf10()),tier4Pets:new X.MJ([],this.controlArrayLengthOf10()),tier5Pets:new X.MJ([],this.controlArrayLengthOf10()),tier6Pets:new X.MJ([],this.controlArrayLengthOf10()),spells:new X.MJ([])})}makeFormGroup(t){return t}controlArrayLengthOf10(){return t=>10!==t.value.length?{length:!0}:null}submitEvent(t){this.customPacks.controls.includes(t)||this.customPacks.push(t),this.petService.buildCustomPackPets(this.customPacks),this.focusedGroup=null,this.localStorageService.setFormStorage(this.formGroup)}cancelEvent(t){this.focusedGroup=null}editPack(t){this.focusedGroup=t}deletePack(t){if(confirm("Are you sure you want to delete this pack?")){let i=this.customPacks.controls.indexOf(t);this.customPacks.removeAt(i),this.focusedGroup=null,this.localStorageService.setFormStorage(this.formGroup)}}trackByPackName(t,i){return i?.get("name")?.value??String(t)}forbiddenNameValidator(){return t=>{let i=["custom"];for(let n of this.customPacks.controls)t!=n.get("name")&&i.push(n.get("name").value?.toLowerCase());return i.includes(t.value?.toLowerCase())?{forbiddenName:!0}:null}}importCustomPack(){let t=this.importFormGroup.get("code").value;this.clearStatus();try{let i=t;const n=t.indexOf("{"),s=t.lastIndexOf("}");-1!==n&&s>n&&(i=t.substring(n,s+1));const r=JSON.parse(i);let c=this.parseMinions(r.Minions,r.MinionMap);const u=Array.isArray(r.Spells)?r.Spells:[];let h={name:r.Title,tier1Pets:c.tierMinions.get(1),tier2Pets:c.tierMinions.get(2),tier3Pets:c.tierMinions.get(3),tier4Pets:c.tierMinions.get(4),tier5Pets:c.tierMinions.get(5),tier6Pets:c.tierMinions.get(6),spells:u};this.createNewPack(),this.focusedGroup.patchValue(h),c.missingMinions.length>0?this.setStatus(`Some minion IDs were not recognized and were skipped: ${c.missingMinions.join(", ")}`,"error"):this.setStatus("Custom pack imported.","success")}catch(i){this.setStatus("Invalid code.","error"),console.error(i)}}buildPetIdLookup(){this.petIdLookup=new Map,this.petNameToId=new Map;const t=ha??es;for(let i of t){let n=Number(i.Tier),s=String(i.Id);this.petIdLookup.has(s)||this.petIdLookup.set(s,{name:i.Name,tier:n}),this.petNameToId.has(i.Name)||this.petNameToId.set(i.Name,s)}}exportCustomPack(t){const i=this.buildExportPayload(t),n=JSON.stringify(i);this.importFormGroup.get("code")?.setValue(n),this.copyToClipboard(n)}buildExportPayload(t){const i=u=>{const h=t.get(`tier${u}Pets`);return(Array.isArray(h?.value)?h.value:[]).filter(D=>!!D)},n=[];for(let u=1;u<=6;u++){const h=i(u);for(const b of h){const D=this.petNameToId.get(b);n.push(D??b)}}const s=t.get("spells"),c=(Array.isArray(s?.value)?s.value:Array.isArray(t?.value?.spells)?t.value.spells:[]).filter(u=>!!u);return{Title:t.get("name")?.value||"Custom Pack",Minions:n,...c.length?{Spells:c}:{}}}copyToClipboard(t){this.clearStatus(),navigator?.clipboard?.writeText?navigator.clipboard.writeText(t).then(()=>{this.setStatus("Custom pack copied to clipboard.","success")}).catch(()=>{this.setStatus("Failed to copy custom pack.","error")}):this.setStatus("Clipboard not available.","error")}buildPetNameToTierMap(){this.petNameToTier=new Map;for(let[t,i]of this.petPackMap)for(let n of i.values())for(let s of n)this.petNameToTier.has(s)||this.petNameToTier.set(s,t)}parseMinions(t,i={}){let n=new Map;for(let r=1;r<=6;r++)n.set(r,[]);let s=[];if(!Array.isArray(t))return{tierMinions:n,missingMinions:s};for(let r of t){let c=null,u=null;if("number"==typeof r)u=String(r);else if("string"==typeof r){let b=r.trim();b&&b.match(/^\d+$/)?u=b:c=r}if(u){let b=this.petIdLookup.get(u);b?c=b.name:i&&i[u]&&(c=i[u])}if(!c){s.push(r);continue}let h=this.petNameToTier.get(c);h?n.get(h).push(c):s.push(r)}return{tierMinions:n,missingMinions:s}}clearStatus(){this.statusTimer&&(clearTimeout(this.statusTimer),this.statusTimer=null),this.statusMessage=""}setStatus(t,i){this.statusMessage=t,this.statusTone=i,this.statusTimer&&clearTimeout(this.statusTimer),this.statusTimer=setTimeout(()=>{this.statusMessage="",this.statusTimer=null},4e3)}static \u0275fac=function(i){return new(i||a)(p.rXU(Kn),p.rXU(d2.s))};static \u0275cmp=p.VBU({type:a,selectors:[["app-custom-pack-editor"]],inputs:{formGroup:"formGroup"},decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-12"],[3,"submitEvent","cancelEvent","formGroup","petPackMap"],[1,"row","mb-3"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"row","mb-4"],[1,"btn","btn-primary",3,"click"],[1,"form-group",3,"formGroup"],["id","code","rows","3","formControlName","code",1,"form-control"],["class","mt-2",3,"ngClass",4,"ngIf"],[1,"text"],["class","valid",4,"ngIf"],["class","invalid",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"valid"],[1,"invalid"],[1,"mt-2",3,"ngClass"]],template:function(i,n){1&i&&p.DNE(0,HH,3,2,"div",0)(1,VH,22,4,"div",1),2&i&&(p.Y8G("ngIf",null!=n.focusedGroup),p.R7$(),p.Y8G("ngIf",null==n.focusedGroup))},dependencies:[Ct.MD,Ct.YU,Ct.Sq,Ct.bT,X.X1,X.me,X.BC,X.cb,X.j4,X.JD,GH],styles:[".valid[_ngcontent-%COMP%]{color:#4caf50}.invalid[_ngcontent-%COMP%]{color:#f44336}.text[_ngcontent-%COMP%]{font-size:1.5em}td[_ngcontent-%COMP%]{padding:.25em .5em}"]})}return a})();const zH=()=>({standalone:!0});function YH(a,e){if(1&a){const t=p.RV6();p.j41(0,"button",47),p.bIt("click",function(){P.eBV(t);const n=p.XpG();return P.Njj(n.app.cancelSimulation())}),p.EFF(1," Cancel "),p.k0s()}}function XH(a,e){if(1&a){const t=p.RV6();p.j41(0,"button",48),p.bIt("click",function(){P.eBV(t);const n=p.XpG();return P.Njj(n.app.undoRandomize())}),p.EFF(1," Undo Randomize "),p.k0s()}}function JH(a,e){if(1&a&&(p.qex(0),p.j41(1,"div",49)(2,"div",50)(3,"span",51)(4,"span",52),p.EFF(5,"Player Wins:"),p.k0s(),p.j41(6,"span"),p.EFF(7),p.k0s()(),p.j41(8,"span",53)(9,"span",52),p.EFF(10,"Draws:"),p.k0s(),p.j41(11,"span"),p.EFF(12),p.k0s()(),p.j41(13,"span",54)(14,"span",52),p.EFF(15,"Opponent Wins:"),p.k0s(),p.j41(16,"span"),p.EFF(17),p.k0s()()(),p.j41(18,"div",55)(19,"span",56),p.nrm(20,"span",57)(21,"span",58),p.k0s()()(),p.bVm()),2&a){const t=p.XpG();p.R7$(7),p.Lme("",t.app.playerWinner," - ",t.app.winPercent,"%"),p.R7$(5),p.Lme("",t.app.draw," - ",t.app.drawPercent,"%"),p.R7$(5),p.Lme("",t.app.opponentWinner," - ",t.app.losePercent,"%"),p.R7$(3),p.xc7("width",t.app.drawWidth),p.R7$(),p.xc7("width",t.app.loseWidth)}}function QH(a,e){1&a&&(p.j41(0,"div",59)(1,"span",60),p.EFF(2,"Simulate to see results"),p.k0s(),p.nrm(3,"span",61),p.k0s())}function ZH(a,e){if(1&a&&(p.j41(0,"div",62),p.EFF(1),p.k0s()),2&a){const t=p.XpG();p.Y8G("ngClass","success"===t.app.statusTone?"text-success":"text-danger"),p.R7$(),p.SpI(" ",t.app.statusMessage," ")}}function e7(a,e){if(1&a&&(p.j41(0,"div",63)(1,"div",64),p.nrm(2,"div",65),p.k0s(),p.j41(3,"div",66),p.EFF(4),p.k0s()()),2&a){const t=p.XpG();p.R7$(2),p.xc7("width",t.app.simulationProgress+"%"),p.R7$(2),p.SpI(" ",t.app.simulationCancelRequested?"Cancelling...":t.app.simulationProgressLabel," ")}}function t7(a,e){if(1&a&&p.nrm(0,"img",69),2&a){const t=e.$implicit,i=p.XpG(2);p.Y8G("ngSrc",t)("alt",i.app.selectedTeamName)}}function i7(a,e){if(1&a&&(p.j41(0,"div",67),p.DNE(1,t7,1,2,"img",68),p.k0s()),2&a){const t=p.XpG();p.R7$(),p.Y8G("ngForOf",t.app.selectedTeamPreviewIcons)}}function n7(a,e){1&a&&(p.j41(0,"span",70),p.EFF(1,"Saved teams"),p.k0s())}function r7(a,e){if(1&a){const t=p.RV6();p.j41(0,"img",71),p.bIt("error",function(){P.eBV(t);const n=p.XpG();return P.Njj(n.app.onPackImageError("player"))}),p.k0s()}if(2&a){const t=p.XpG();p.Y8G("ngSrc",t.app.getPackIconPath(t.app.formGroup.get("playerPack").value))}}function a7(a,e){if(1&a){const t=p.RV6();p.j41(0,"img",71),p.bIt("error",function(){P.eBV(t);const n=p.XpG();return P.Njj(n.app.onPackImageError("opponent"))}),p.k0s()}if(2&a){const t=p.XpG();p.Y8G("ngSrc",t.app.getPackIconPath(t.app.formGroup.get("opponentPack").value))}}function o7(a,e){1&a&&(p.j41(0,"div",103)(1,"label",127),p.nrm(2,"span",128),p.EFF(3," Player Roll Amount "),p.k0s(),p.nrm(4,"input",129),p.k0s())}function s7(a,e){1&a&&(p.j41(0,"div",103)(1,"label",130),p.nrm(2,"span",128),p.EFF(3," Opponent Roll Amount "),p.k0s(),p.nrm(4,"input",131),p.k0s())}function l7(a,e){if(1&a&&(p.qex(0),p.j41(1,"div",72)(2,"div",73),p.nrm(3,"input",74),p.j41(4,"label",75),p.nrm(5,"span",76),p.EFF(6," Komodo Shuffle "),p.k0s()(),p.j41(7,"div",77),p.nrm(8,"input",78),p.j41(9,"label",79),p.nrm(10,"span",80),p.EFF(11," Change equipment uses "),p.k0s()(),p.j41(12,"div",81),p.nrm(13,"input",82),p.j41(14,"label",83),p.nrm(15,"span",84),p.EFF(16," Mana "),p.k0s()(),p.j41(17,"div",85),p.nrm(18,"input",86),p.j41(19,"label",87),p.EFF(20," Enable logs "),p.k0s()(),p.j41(21,"div",88),p.nrm(22,"input",89),p.j41(23,"label",90),p.nrm(24,"span",91),p.EFF(25," Triggers Consumed "),p.k0s()(),p.j41(26,"div",92),p.nrm(27,"input",93),p.j41(28,"label",94),p.EFF(29," Debug Info "),p.k0s()(),p.j41(30,"div",95),p.nrm(31,"input",96),p.j41(32,"label",97),p.nrm(33,"span",98),p.EFF(34," Swallowed Levels "),p.k0s()()(),p.j41(35,"div",99)(36,"div",100)(37,"label",101),p.EFF(38,"Turn Number"),p.k0s(),p.nrm(39,"input",102),p.k0s(),p.j41(40,"div",103)(41,"label",104),p.EFF(42," Seed "),p.k0s(),p.nrm(43,"input",105),p.k0s(),p.j41(44,"div",103)(45,"label",106),p.nrm(46,"span",107),p.EFF(47," Player Gold Spent "),p.k0s(),p.nrm(48,"input",108),p.k0s(),p.j41(49,"div",103)(50,"label",109),p.nrm(51,"span",107),p.EFF(52," Opponent Gold Spent "),p.k0s(),p.nrm(53,"input",110),p.k0s(),p.DNE(54,o7,5,0,"div",111)(55,s7,5,0,"div",111),p.j41(56,"div",103)(57,"label",112),p.nrm(58,"span",113),p.EFF(59," Player Level 3 Sold "),p.k0s(),p.nrm(60,"input",114),p.k0s(),p.j41(61,"div",103)(62,"label",115),p.nrm(63,"span",113),p.EFF(64," Opponent Level 3 Sold "),p.k0s(),p.nrm(65,"input",116),p.k0s(),p.j41(66,"div",103)(67,"label",117),p.nrm(68,"span",118),p.EFF(69," Player Summoned Amount "),p.k0s(),p.nrm(70,"input",119),p.k0s(),p.j41(71,"div",103)(72,"label",120),p.nrm(73,"span",118),p.EFF(74," Opponent Summoned Amount "),p.k0s(),p.nrm(75,"input",121),p.k0s(),p.j41(76,"div",103)(77,"label",122),p.nrm(78,"span",123),p.EFF(79," Player Transformation Amount "),p.k0s(),p.nrm(80,"input",124),p.k0s(),p.j41(81,"div",103)(82,"label",125),p.nrm(83,"span",123),p.EFF(84," Opponent Transformation Amount "),p.k0s(),p.nrm(85,"input",126),p.k0s()(),p.bVm()),2&a){const t=p.XpG();p.R7$(54),p.Y8G("ngIf",t.app.rollInputVisible),p.R7$(),p.Y8G("ngIf",t.app.rollInputVisible)}}let c7=(()=>{class a{app;static \u0275fac=function(i){return new(i||a)};static \u0275cmp=p.VBU({type:a,selectors:[["app-shell-controls"]],inputs:{app:"app"},decls:80,vars:21,consts:[["resultsPlaceholder",""],["teamPlaceholder",""],[1,"top-controls","card","mb-3",3,"formGroup"],[1,"top-controls-header"],[1,"top-controls-left"],[1,"simulate-controls"],[1,"simulate-input-group"],[1,"btn","btn-primary",3,"click","disabled"],["class","btn btn-outline-danger ms-1",3,"click",4,"ngIf"],["type","number","formControlName","simulations","min","1","max","10000",1,"form-control","simulate-input"],[1,"btn","btn-secondary",3,"click"],["class","btn btn-secondary ms-1",3,"click",4,"ngIf"],[1,"top-controls-center"],[4,"ngIf","ngIfElse"],[1,"top-controls-right"],[1,"external-meta"],["data-bs-toggle","modal","data-bs-target","#info",1,"btn-link","info-link",3,"click"],[1,"external-buttons"],["data-bs-toggle","modal","data-bs-target","#reportABug",1,"btn","btn-secondary",3,"click"],["data-bs-toggle","modal","data-bs-target","#export",1,"btn","btn-secondary",3,"click"],["data-bs-toggle","modal","data-bs-target","#import",1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],["class","px-3 pb-2",3,"ngClass",4,"ngIf"],["class","simulation-progress px-3 pb-2",4,"ngIf"],[1,"top-controls-body"],[1,"controls-grid"],[1,"controls-section","teams-section"],[1,"team-column"],["placeholder","Team name",1,"form-control","team-name-input",3,"ngModelChange","ngModel","ngModelOptions"],[1,"team-name-actions"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"selection-btn","team-selection-btn",3,"click"],["class","team-preview",4,"ngIf","ngIfElse"],[1,"btn-text"],[1,"fas","fa-chevron-down","ms-auto"],[1,"team-name-actions","load-actions"],[1,"controls-section","packs-section"],[1,"form-group","min-w-input"],[1,"selection-btn",3,"click"],["class","btn-icon","width","24","height","24","loading","lazy","decoding","async",3,"ngSrc","error",4,"ngIf"],["title","All pets are included in the pet pool.",1,"form-check"],["type","checkbox","value","","id","allPets","formControlName","allPets",1,"form-check-input"],["for","allPets",1,"form-check-label"],[1,"controls-section","advanced-section"],[4,"ngIf"],[1,"advanced-toggle"],[1,"btn-link",3,"click"],[1,"btn","btn-outline-danger","ms-1",3,"click"],[1,"btn","btn-secondary","ms-1",3,"click"],[1,"results-row"],[1,"stats"],[1,"stat-block","player-stat"],[1,"stat-label"],[1,"stat-block","draw-stat"],[1,"stat-block","opponent-stat"],[1,"py-1"],[1,"results-bar"],[1,"draw-bar"],[1,"lose-bar"],[1,"results-placeholder"],[1,"results-placeholder-text"],[1,"results-bar","placeholder-bar"],[1,"px-3","pb-2",3,"ngClass"],[1,"simulation-progress","px-3","pb-2"],[1,"progress","flex-1"],["role","progressbar",1,"progress-bar"],[1,"progress-text"],[1,"team-preview"],["width","28","height","28","loading","lazy","decoding","async","class","team-preview-icon",3,"ngSrc","alt",4,"ngFor","ngForOf"],["width","28","height","28","loading","lazy","decoding","async",1,"team-preview-icon",3,"ngSrc","alt"],[1,"btn-placeholder"],["width","24","height","24","loading","lazy","decoding","async",1,"btn-icon",3,"error","ngSrc"],[1,"advanced-grid"],["title","Shuffle pets in front of Komodo if present.",1,"form-check"],["type","checkbox","value","","id","komodoShuffle","formControlName","komodoShuffle",1,"form-check-input"],["for","komodoShuffle",1,"form-check-label","advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","komodo-icon"],["title","Enable changing equipment uses globally.",1,"form-check"],["type","checkbox","value","","id","changeEquipmentUses","formControlName","changeEquipmentUses",1,"form-check-input"],["for","changeEquipmentUses",1,"form-check-label","advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","perk-icon"],["title","Include Mana.",1,"form-check"],["type","checkbox","value","","id","mana","formControlName","mana",1,"form-check-input"],["for","mana",1,"form-check-label","advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","mana-icon"],["title","Disable battle logs for faster simulations.",1,"form-check"],["type","checkbox","value","","id","logsEnabled","formControlName","logsEnabled",1,"form-check-input"],["for","logsEnabled",1,"form-check-label"],["title","Include Triggers Consumed.",1,"form-check"],["type","checkbox","value","","id","triggersConsumed","formControlName","triggersConsumed",1,"form-check-input"],["for","triggersConsumed",1,"form-check-label","advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","pheasant-icon"],["title","Show debug details: trigger names and random reason labels.",1,"form-check"],["type","checkbox","value","","id","showTriggerNamesInLogs","formControlName","showTriggerNamesInLogs",1,"form-check-input"],["for","showTriggerNamesInLogs",1,"form-check-label"],["title","Show swallowed pet level selection.",1,"form-check"],["type","checkbox","value","","id","showSwallowedLevels","formControlName","showSwallowedLevels",1,"form-check-input"],["for","showSwallowedLevels",1,"form-check-label","advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","abomination-icon"],[1,"advanced-number-grid","mt-2"],[1,"form-group","small-w-input"],["for","turn"],["id","turn","type","number","formControlName","turn","max","99",1,"form-control"],[1,"form-group","advanced-input"],["for","seed","title","Simulation Seed"],["id","seed","type","number","formControlName","seed",1,"form-control"],["for","playerGoldSpent","title","Player Gold Spent",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","gold-icon"],["type","number","formControlName","playerGoldSpent","max","99",1,"form-control"],["for","opponentGoldSpent","title","Opponent Gold Spent",1,"advanced-label-with-icon"],["type","number","formControlName","opponentGoldSpent","max","99",1,"form-control"],["class","form-group advanced-input",4,"ngIf"],["for","playerLevel3Sold","title","Player Level 3 Sold",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","cycle-icon"],["type","number","formControlName","playerLevel3Sold","max","99",1,"form-control"],["for","opponentLevel3Sold","title","Opponent Level 3 Sold",1,"advanced-label-with-icon"],["type","number","formControlName","opponentLevel3Sold","max","99",1,"form-control"],["for","playerSummonedAmount","title","Player Summoned Amount",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","summon-icon"],["type","number","formControlName","playerSummonedAmount","max","99",1,"form-control"],["for","opponentSummonedAmount","title","Opponent Summoned Amount",1,"advanced-label-with-icon"],["type","number","formControlName","opponentSummonedAmount","max","99",1,"form-control"],["for","playerTransformationAmount","title","Player Transformation Amount",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","transform-icon"],["type","number","formControlName","playerTransformationAmount","max","99",1,"form-control"],["for","opponentTransformationAmount","title","Opponent Transformation Amount",1,"advanced-label-with-icon"],["type","number","formControlName","opponentTransformationAmount","max","99",1,"form-control"],["for","playerRollAmount","title","Player Roll Amount",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","roll-icon"],["type","number","formControlName","playerRollAmount","max","99",1,"form-control"],["for","opponentRollAmount","title","Opponent Roll Amount",1,"advanced-label-with-icon"],["type","number","formControlName","opponentRollAmount","max","99",1,"form-control"]],template:function(i,n){if(1&i){const s=p.RV6();p.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"button",7),p.bIt("click",function(){return P.eBV(s),P.Njj(n.app.simulate(n.app.formGroup.get("simulations").value))}),p.EFF(6),p.k0s(),p.DNE(7,YH,2,0,"button",8),p.nrm(8,"input",9),p.k0s(),p.j41(9,"button",10),p.bIt("click",function(){return P.eBV(s),P.Njj(n.app.randomize())}),p.EFF(10," Randomize "),p.k0s(),p.DNE(11,XH,2,0,"button",11),p.k0s()(),p.j41(12,"div",12),p.DNE(13,JH,22,10,"ng-container",13)(14,QH,4,0,"ng-template",null,0,p.C5r),p.k0s(),p.j41(16,"div",14)(17,"div",15)(18,"span",16),p.bIt("click",function(){return P.eBV(s),P.Njj(n.app.showInfo=!0)}),p.EFF(19,"Guide"),p.k0s()(),p.j41(20,"div",17)(21,"button",18),p.bIt("click",function(){return P.eBV(s),P.Njj(n.app.showReportABug=!0)}),p.EFF(22," Report A Bug "),p.k0s(),p.j41(23,"button",19),p.bIt("click",function(){return P.eBV(s),P.Njj(n.app.showExport=!0)}),p.EFF(24," Export "),p.k0s(),p.j41(25,"button",20),p.bIt("click",function(){return P.eBV(s),P.Njj(n.app.showImport=!0)}),p.EFF(26," Import "),p.k0s(),p.j41(27,"button",21),p.bIt("click",function(){return P.eBV(s),P.Njj(n.app.generateShareLink())}),p.EFF(28," Generate Link "),p.k0s()()()(),p.DNE(29,ZH,2,2,"div",22)(30,e7,5,3,"div",23),p.j41(31,"div",24)(32,"div",25)(33,"div",26)(34,"div",27)(35,"input",28),p.mxI("ngModelChange",function(c){return P.eBV(s),p.DH7(n.app.teamName,c)||(n.app.teamName=c),P.Njj(c)}),p.k0s(),p.j41(36,"div",29)(37,"button",30),p.bIt("click",function(){return P.eBV(s),P.Njj(n.app.saveTeam("player"))}),p.EFF(38," Save Player "),p.k0s(),p.j41(39,"button",30),p.bIt("click",function(){return P.eBV(s),P.Njj(n.app.saveTeam("opponent"))}),p.EFF(40," Save Opponent "),p.k0s()()(),p.j41(41,"div",27)(42,"button",31),p.bIt("click",function(){return P.eBV(s),P.Njj(n.app.openSelectionDialog("team","none"))}),p.DNE(43,i7,2,1,"div",32)(44,n7,2,0,"ng-template",null,1,p.C5r),p.j41(46,"span",33),p.EFF(47),p.k0s(),p.nrm(48,"i",34),p.k0s(),p.j41(49,"div",35)(50,"button",30),p.bIt("click",function(){return P.eBV(s),P.Njj(n.app.loadTeam("player"))}),p.EFF(51," Load Player "),p.k0s(),p.j41(52,"button",30),p.bIt("click",function(){return P.eBV(s),P.Njj(n.app.loadTeam("opponent"))}),p.EFF(53," Load Opponent "),p.k0s()()()(),p.j41(54,"div",36)(55,"div",37)(56,"label"),p.EFF(57,"Player Pack"),p.k0s(),p.j41(58,"button",38),p.bIt("click",function(){return P.eBV(s),P.Njj(n.app.openSelectionDialog("pack","player"))}),p.DNE(59,r7,1,1,"img",39),p.j41(60,"span",33),p.EFF(61),p.k0s(),p.nrm(62,"i",34),p.k0s()(),p.j41(63,"div",37)(64,"label"),p.EFF(65,"Opponent Pack"),p.k0s(),p.j41(66,"button",38),p.bIt("click",function(){return P.eBV(s),P.Njj(n.app.openSelectionDialog("pack","opponent"))}),p.DNE(67,a7,1,1,"img",39),p.j41(68,"span",33),p.EFF(69),p.k0s(),p.nrm(70,"i",34),p.k0s()(),p.j41(71,"div",40),p.nrm(72,"input",41),p.j41(73,"label",42),p.EFF(74,"All Pets"),p.k0s()()(),p.j41(75,"div",43),p.DNE(76,l7,86,2,"ng-container",44),p.j41(77,"div",45)(78,"span",46),p.bIt("click",function(){return P.eBV(s),P.Njj(n.app.toggleAdvanced())}),p.EFF(79),p.k0s()()()()()()}if(2&i){const s=p.sdS(15),r=p.sdS(45);p.Y8G("formGroup",n.app.formGroup),p.R7$(5),p.Y8G("disabled",n.app.simulationInProgress),p.R7$(),p.SpI(" ",n.app.simulationInProgress?"Simulating...":"Simulate"," "),p.R7$(),p.Y8G("ngIf",n.app.simulationInProgress),p.R7$(4),p.Y8G("ngIf",n.app.undoState),p.R7$(2),p.Y8G("ngIf",n.app.simulated)("ngIfElse",s),p.R7$(16),p.Y8G("ngIf",n.app.statusMessage),p.R7$(),p.Y8G("ngIf",n.app.simulationInProgress),p.R7$(5),p.R50("ngModel",n.app.teamName),p.Y8G("ngModelOptions",p.lJ4(20,zH)),p.R7$(8),p.Y8G("ngIf",n.app.selectedTeamPreviewIcons.length)("ngIfElse",r),p.R7$(4),p.JRh(n.app.selectedTeamName),p.R7$(12),p.Y8G("ngIf",n.app.getPackIconPath(n.app.formGroup.get("playerPack").value)&&!n.app.playerPackImageBroken),p.R7$(2),p.JRh(n.app.formGroup.get("playerPack").value||"Select Pack"),p.R7$(6),p.Y8G("ngIf",n.app.getPackIconPath(n.app.formGroup.get("opponentPack").value)&&!n.app.opponentPackImageBroken),p.R7$(2),p.JRh(n.app.formGroup.get("opponentPack").value||"Select Pack"),p.R7$(7),p.Y8G("ngIf",n.app.formGroup.get("showAdvanced").value),p.R7$(3),p.SpI("",n.app.formGroup.get("showAdvanced").value?"Hide":"Show"," Advanced Settings")}},dependencies:[Ct.MD,Ct.YU,Ct.Sq,Ct.bT,X.YN,X.me,X.Q0,X.Zm,X.BC,X.cb,X.VZ,X.zX,X.vS,X.X1,X.j4,X.JD,vi],encapsulation:2})}return a})();const u7=()=>[],d7=(a,e,t,i,n)=>[a,e,t,i,n],Sw=()=>({standalone:!0}),h7=(a,e,t,i)=>({"diff-same":a,"diff-changed":e,"diff-left-only":t,"diff-right-only":i});function p7(a,e){if(1&a){const t=p.RV6();p.j41(0,"button",18),p.bIt("click",function(){const n=P.eBV(t).$implicit,s=p.XpG(2);return P.Njj(s.app.formGroup.get("logFilter").setValue(n.value))}),p.EFF(1),p.k0s()}if(2&a){const t=e.$implicit,i=p.XpG(2);p.AVh("active",i.app.formGroup.get("logFilter").value===t.value),p.R7$(),p.SpI(" ",t.label," ")}}function g7(a,e){if(1&a&&p.nrm(0,"img",24),2&a){const t=p.XpG().$implicit;p.Y8G("ngSrc",t.src)("alt",t.alt)}}function m7(a,e){if(1&a&&(p.j41(0,"span"),p.EFF(1),p.k0s()),2&a){const t=p.XpG().$implicit;p.R7$(),p.JRh(t.text)}}function f7(a,e){1&a&&p.nrm(0,"br")}function y7(a,e){if(1&a&&(p.qex(0),p.DNE(1,g7,1,2,"img",22)(2,m7,2,1,"span",23)(3,f7,1,0,"br",23),p.bVm()),2&a){const t=e.$implicit;p.R7$(),p.Y8G("ngIf","img"===t.type),p.R7$(),p.Y8G("ngIf","text"===t.type),p.R7$(),p.Y8G("ngIf","br"===t.type)}}function v7(a,e){if(1&a){const t=p.RV6();p.j41(0,"tr",19),p.bIt("click",function(){const n=P.eBV(t).$implicit,s=p.XpG(2);return P.Njj(s.app.setViewBattle(n))}),p.j41(1,"td"),p.EFF(2),p.k0s(),p.j41(3,"td"),p.EFF(4),p.k0s(),p.j41(5,"td",20),p.DNE(6,y7,4,3,"ng-container",21),p.k0s()()}if(2&a){const t=e.$implicit,i=e.index,n=p.XpG(2);p.AVh("selected-battle",t===n.app.viewBattle),p.Y8G("ngClass","player"===t.winner?"battle-win":"opponent"===t.winner?"battle-loss":""),p.R7$(2),p.JRh(i),p.R7$(2),p.JRh(t.winner),p.R7$(2),p.Y8G("ngForOf",n.app.battleRandomEventsByBattle.get(t)||p.lJ4(7,u7))("ngForTrackBy",n.app.trackByIndex)}}function b7(a,e){if(1&a&&p.nrm(0,"img",27),2&a){const t=p.XpG().$implicit;p.Y8G("ngSrc",t.src)("alt",t.alt)}}function A7(a,e){if(1&a&&(p.j41(0,"span"),p.EFF(1),p.k0s()),2&a){const t=p.XpG().$implicit;p.R7$(),p.JRh(t.text)}}function S7(a,e){1&a&&p.nrm(0,"br")}function P7(a,e){if(1&a&&(p.qex(0),p.DNE(1,b7,1,2,"img",26)(2,A7,2,1,"span",23)(3,S7,1,0,"br",23),p.bVm()),2&a){const t=e.$implicit;p.R7$(),p.Y8G("ngIf","img"===t.type),p.R7$(),p.Y8G("ngIf","text"===t.type),p.R7$(),p.Y8G("ngIf","br"===t.type)}}function _7(a,e){if(1&a&&(p.j41(0,"div",4)(1,"span",25),p.DNE(2,P7,4,3,"ng-container",21),p.k0s()()),2&a){const t=e.$implicit,i=p.XpG(2);p.R7$(),p.Y8G("ngClass",t.classes),p.R7$(),p.Y8G("ngForOf",t.parts)("ngForTrackBy",i.app.trackByIndex)}}function k7(a,e){if(1&a&&(p.j41(0,"tr",25)(1,"td"),p.EFF(2),p.k0s(),p.j41(3,"td"),p.EFF(4),p.k0s(),p.j41(5,"td"),p.EFF(6),p.k0s(),p.j41(7,"td"),p.EFF(8),p.k0s(),p.j41(9,"td"),p.EFF(10),p.k0s()()),2&a){const t=e.$implicit;p.Y8G("ngClass",p.s1E(6,d7,"player"===t.side?"timeline-player":"","opponent"===t.side?"timeline-opponent":"","true random"===t.reason?"timeline-random":"","tie-broken"===t.reason?"timeline-tie":"","deterministic"===t.reason?"timeline-deterministic":"")),p.R7$(2),p.JRh(t.step),p.R7$(2),p.JRh(t.source),p.R7$(2),p.JRh(t.target),p.R7$(2),p.JRh(t.reason),p.R7$(2),p.JRh(t.text)}}function w7(a,e){if(1&a&&(p.j41(0,"div",28)(1,"h4",29),p.EFF(2,"Trigger Timeline"),p.k0s(),p.j41(3,"div",30)(4,"table",31)(5,"thead")(6,"tr")(7,"th"),p.EFF(8,"#"),p.k0s(),p.j41(9,"th"),p.EFF(10,"Source"),p.k0s(),p.j41(11,"th"),p.EFF(12,"Target"),p.k0s(),p.j41(13,"th"),p.EFF(14,"Reason"),p.k0s(),p.j41(15,"th"),p.EFF(16,"Event"),p.k0s()()(),p.j41(17,"tbody"),p.DNE(18,k7,11,12,"tr",32),p.k0s()()()()),2&a){const t=p.XpG(2);p.R7$(18),p.Y8G("ngForOf",t.app.viewBattleTimelineRows)("ngForTrackBy",t.app.trackByIndex)}}function T7(a,e){if(1&a&&(p.j41(0,"option",37),p.EFF(1),p.k0s()),2&a){const t=e.$implicit,i=e.index;p.Y8G("ngValue",i),p.R7$(),p.Lme(" ",i," (",t.winner,") ")}}function E7(a,e){if(1&a&&(p.j41(0,"option",37),p.EFF(1),p.k0s()),2&a){const t=e.$implicit,i=e.index;p.Y8G("ngValue",i),p.R7$(),p.Lme(" ",i," (",t.winner,") ")}}function C7(a,e){if(1&a&&(p.j41(0,"tr",25)(1,"td"),p.EFF(2),p.k0s(),p.j41(3,"td"),p.EFF(4),p.k0s(),p.j41(5,"td"),p.EFF(6),p.k0s()()),2&a){const t=e.$implicit;p.Y8G("ngClass",p.ziG(4,h7,"same"===t.kind,"changed"===t.kind,"left-only"===t.kind,"right-only"===t.kind)),p.R7$(2),p.JRh(t.step),p.R7$(2),p.JRh(t.left),p.R7$(2),p.JRh(t.right)}}function D7(a,e){if(1&a){const t=p.RV6();p.j41(0,"div",28)(1,"h4",29),p.EFF(2,"Battle Diff"),p.k0s(),p.j41(3,"div",33)(4,"label",34),p.EFF(5," Left "),p.j41(6,"select",35),p.bIt("ngModelChange",function(n){P.eBV(t);const s=p.XpG(2);return P.Njj(s.app.setBattleDiffLeft(n))}),p.DNE(7,T7,2,3,"option",36),p.k0s()(),p.j41(8,"label",34),p.EFF(9," Left Scope "),p.j41(10,"select",35),p.bIt("ngModelChange",function(n){P.eBV(t);const s=p.XpG(2);return P.Njj(s.app.setBattleDiffLeftScope(n))}),p.j41(11,"option",37),p.EFF(12,"All"),p.k0s(),p.j41(13,"option",37),p.EFF(14,"Player"),p.k0s(),p.j41(15,"option",37),p.EFF(16,"Opponent"),p.k0s()()(),p.j41(17,"label",34),p.EFF(18," Right "),p.j41(19,"select",35),p.bIt("ngModelChange",function(n){P.eBV(t);const s=p.XpG(2);return P.Njj(s.app.setBattleDiffRight(n))}),p.DNE(20,E7,2,3,"option",36),p.k0s()(),p.j41(21,"label",34),p.EFF(22," Right Scope "),p.j41(23,"select",35),p.bIt("ngModelChange",function(n){P.eBV(t);const s=p.XpG(2);return P.Njj(s.app.setBattleDiffRightScope(n))}),p.j41(24,"option",37),p.EFF(25,"All"),p.k0s(),p.j41(26,"option",37),p.EFF(27,"Player"),p.k0s(),p.j41(28,"option",37),p.EFF(29,"Opponent"),p.k0s()()()(),p.j41(30,"div",38),p.EFF(31),p.k0s(),p.j41(32,"div",30)(33,"table",31)(34,"thead")(35,"tr")(36,"th"),p.EFF(37,"#"),p.k0s(),p.j41(38,"th"),p.EFF(39,"Left"),p.k0s(),p.j41(40,"th"),p.EFF(41,"Right"),p.k0s()()(),p.j41(42,"tbody"),p.DNE(43,C7,7,9,"tr",32),p.k0s()()()()}if(2&a){const t=p.XpG(2);p.R7$(6),p.Y8G("ngModel",t.app.diffBattleLeftIndex)("ngModelOptions",p.lJ4(24,Sw)),p.R7$(),p.Y8G("ngForOf",t.app.battles)("ngForTrackBy",t.app.trackByIndex),p.R7$(3),p.Y8G("ngModel",t.app.diffBattleLeftScope)("ngModelOptions",p.lJ4(25,Sw)),p.R7$(),p.Y8G("ngValue","all"),p.R7$(2),p.Y8G("ngValue","player"),p.R7$(2),p.Y8G("ngValue","opponent"),p.R7$(4),p.Y8G("ngModel",t.app.diffBattleRightIndex)("ngModelOptions",p.lJ4(26,Sw)),p.R7$(),p.Y8G("ngForOf",t.app.battles)("ngForTrackBy",t.app.trackByIndex),p.R7$(3),p.Y8G("ngModel",t.app.diffBattleRightScope)("ngModelOptions",p.lJ4(27,Sw)),p.R7$(),p.Y8G("ngValue","all"),p.R7$(2),p.Y8G("ngValue","player"),p.R7$(2),p.Y8G("ngValue","opponent"),p.R7$(3),p.LHq(" Equal: ",t.app.battleDiffSummary.equalSteps," | Changed: ",t.app.battleDiffSummary.changedSteps," | Left Only: ",t.app.battleDiffSummary.leftOnly," | Right Only: ",t.app.battleDiffSummary.rightOnly," "),p.R7$(12),p.Y8G("ngForOf",t.app.battleDiffRows)("ngForTrackBy",t.app.trackByIndex)}}function M7(a,e){if(1&a){const t=p.RV6();p.j41(0,"div",1)(1,"div",2)(2,"h3"),p.EFF(3,"Battles"),p.k0s(),p.j41(4,"div",3)(5,"div",4)(6,"label",5),p.EFF(7,"Filter Battles By Winner"),p.k0s()(),p.j41(8,"div",4)(9,"div",6),p.DNE(10,p7,2,3,"button",7),p.k0s()()(),p.j41(11,"div",8)(12,"table",9)(13,"thead")(14,"tr")(15,"th",10),p.EFF(16,"Battle No."),p.k0s(),p.j41(17,"th"),p.EFF(18,"Winner"),p.k0s(),p.j41(19,"th"),p.EFF(20,"Random Events"),p.k0s()()(),p.j41(21,"tbody"),p.DNE(22,v7,7,8,"tr",11),p.k0s()()()(),p.j41(23,"div",12)(24,"div",13)(25,"h3"),p.EFF(26,"Logs"),p.k0s(),p.j41(27,"button",14),p.bIt("click",function(){P.eBV(t);const n=p.XpG();return P.Njj(n.app.toggleBattleAnalysis())}),p.EFF(28),p.k0s()(),p.j41(29,"div",15),p.DNE(30,_7,3,3,"div",16),p.k0s(),p.DNE(31,w7,19,2,"div",17)(32,D7,44,28,"div",17),p.k0s()()}if(2&a){const t=p.XpG();p.R7$(10),p.Y8G("ngForOf",t.app.logFilterTabs)("ngForTrackBy",t.app.trackByLogTab),p.R7$(12),p.Y8G("ngForOf",t.app.filteredBattlesCache)("ngForTrackBy",t.app.trackByIndex),p.R7$(6),p.SpI(" ",t.app.showBattleAnalysis?"Hide":"Show"," Analysis "),p.R7$(),p.AVh("log-container-with-analysis",t.app.showBattleAnalysis),p.R7$(),p.Y8G("ngForOf",t.app.viewBattleLogRows)("ngForTrackBy",t.app.trackByIndex),p.R7$(),p.Y8G("ngIf",t.app.showBattleAnalysis),p.R7$(),p.Y8G("ngIf",t.app.showBattleAnalysis)}}let x7=(()=>{class a{app;static \u0275fac=function(i){return new(i||a)};static \u0275cmp=p.VBU({type:a,selectors:[["app-shell-battle-results"]],inputs:{app:"app"},decls:1,vars:1,consts:[["class","row flex-1 bottom-container",4,"ngIf"],[1,"row","flex-1","bottom-container"],[1,"col-12","col-md-6","border","h-100","flex-col","pe-0"],[1,"row"],[1,"col-12"],["for","logFilter",1,"form-label"],["id","logFilter",1,"log-filter-tabs"],["type","button","class","log-filter-tab",3,"active","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"battle-container","flex-1"],[1,"table"],[1,"battle-no"],["class","table-battle-row",3,"ngClass","selected-battle","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-md-6","border","h-100","flex-col"],[1,"d-flex","align-items-center","justify-content-between"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"row","log-container","flex-1","scroll"],["class","col-12",4,"ngFor","ngForOf","ngForTrackBy"],["class","analysis-section mt-2",4,"ngIf"],["type","button",1,"log-filter-tab",3,"click"],[1,"table-battle-row",3,"click","ngClass"],[1,"pre"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","log-inline-icon","width","16","height","16","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],[4,"ngIf"],["width","16","height","16","loading","lazy","decoding","async",1,"log-inline-icon",3,"ngSrc","alt"],[3,"ngClass"],["class","log-pet-icon","width","18","height","18","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["width","18","height","18","loading","lazy","decoding","async",1,"log-pet-icon",3,"ngSrc","alt"],[1,"analysis-section","mt-2"],[1,"analysis-title"],[1,"analysis-table-wrap","scroll"],[1,"table","table-sm","analysis-table","mb-0"],[3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"diff-controls"],[1,"diff-label"],[1,"form-select","form-select-sm","diff-select",3,"ngModelChange","ngModel","ngModelOptions"],[3,"ngValue",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngValue"],[1,"diff-summary"]],template:function(i,n){1&i&&p.DNE(0,M7,33,11,"div",0),2&i&&p.Y8G("ngIf",n.app.simulated)},dependencies:[Ct.MD,Ct.YU,Ct.Sq,Ct.bT,X.YN,X.xH,X.y7,X.wz,X.BC,X.vS,vi],encapsulation:2})}return a})();const h2="assets/art/Public/Public/Toys/",R7=["AboveCloudsBattle.png","ArcticBattle.png","AutumnForestBattle.png","BeachBattle.png","BridgeBattle.png","CastleWallBattle.png","CaveBattle.png","ColosseumBattle.png","CornFieldBattle.png","DesertBattle.png","DungeonBattle.png","FarmBattle.png","FieldBattle.png","FoodLandBattle.png","FrontYardBattle.png","HalloweenStreetBattle.png","JungleBattle.png","LavaCaveBattle.png","LavaMountainBattle.png","MoneyBinBattle.png","MoonBattle.png","PagodaBattle.png","PlaygroundBattle.png","SavannaBattle.png","ScaryForestBattle.png","SnowBattle.png","SpaceStationBattle.png","UnderwaterBattle.png","UrbanCityBattle.png","WildWestTownBattle.png","WinterPineForestBattle.png","WizardSchoolBattle.png"],L7=[{label:"None",value:null},{label:"Player",value:"player"},{label:"Opponent",value:"opponent"},{label:"Draw",value:"draw"}];const Pw="abomParrotSwallowed";function p2(a,e){if(!a||"object"!=typeof a)return;const t=[...a.playerPets||[],...a.opponentPets||[]];for(const i of t)i&&"object"==typeof i&&e(i)}function G7(a){if(!a||"object"!=typeof a||Array.isArray(a[Pw]))return;const e=[];for(let t=1;t<=3;t++){const i=`parrotCopyPetAbominationSwallowedPet${t}`,n=[];for(let s=1;s<=3;s++){const r=`${i}ParrotCopyPetAbominationSwallowedPet${s}`;n.push([a[r]??null,a[`${r}BelugaSwallowedPet`]??null,a[`${r}Level`]??null,a[`${r}TimesHurt`]??null]),delete a[r],delete a[`${r}BelugaSwallowedPet`],delete a[`${r}Level`],delete a[`${r}TimesHurt`]}e.push([a[i]??null,a[`${i}BelugaSwallowedPet`]??null,a[`${i}Level`]??null,a[`${i}TimesHurt`]??null,a[`${i}ParrotCopyPet`]??null,a[`${i}ParrotCopyPetBelugaSwallowedPet`]??null,n]),delete a[i],delete a[`${i}BelugaSwallowedPet`],delete a[`${i}Level`],delete a[`${i}TimesHurt`],delete a[`${i}ParrotCopyPet`],delete a[`${i}ParrotCopyPetBelugaSwallowedPet`]}a[Pw]=e}function H7(a){if(!a||"object"!=typeof a)return;const e=a[Pw];if(Array.isArray(e)){for(let t=1;t<=3;t++){const i=`parrotCopyPetAbominationSwallowedPet${t}`,n=e[t-1];if(!n)continue;const[s,r,c,u,h,b,D]=n;if(a[i]=s??null,a[`${i}BelugaSwallowedPet`]=r??null,a[`${i}Level`]=c??null,a[`${i}TimesHurt`]=u??null,a[`${i}ParrotCopyPet`]=h??null,a[`${i}ParrotCopyPetBelugaSwallowedPet`]=b??null,Array.isArray(D))for(let H=1;H<=3;H++){const Y=`${i}ParrotCopyPetAbominationSwallowedPet${H}`,ue=D[H-1];if(!ue)continue;const[he,ye,_e,qe]=ue;a[Y]=he??null,a[`${Y}BelugaSwallowedPet`]=ye??null,a[`${Y}Level`]=_e??null,a[`${Y}TimesHurt`]=qe??null}}delete a[Pw]}}function g2(a){const e=(0,gw.A)(a);return p2(e,G7),e}function SI(a){return Math.ceil(100*a)/100}function m2(a){return`${(a.rawMessage??a.message??"").replace(/<[^>]+>/g,"")}${a.count&&a.count>1?` (x${a.count})`:""}`.trim()}function _w(a,e){const t="source"===e?a.sourceIndex:a.targetIndex,i="source"===e?a.sourcePet:a.targetPet;return null!=t?`${i?.parent?.isOpponent??("source"===e?a.player?.isOpponent:a.targetPet?.parent?.isOpponent)?"O":"P"}${t}${i?.name?` ${i.name}`:""}`:i?.name?i.name:"source"===e&&a.player?a.player.isOpponent?"Opponent":"Player":"-"}function f2(a){return!0===a.randomEvent?function V7(a){return"tie-broken"===a.randomEventReason?"tie-broken":"deterministic"===a.randomEventReason?"deterministic":"true random"}(a):"deterministic"}function y2(a,e){return(a?.logs??[]).filter(i=>"all"===e||v2(i)===e).map(i=>{const n=_w(i,"source"),s=_w(i,"target"),r=f2(i);return`${i.type} | ${n} -> ${s} | ${r} | ${m2(i)}`})}function v2(a){return a.player?a.player.isOpponent?"opponent":"player":!0===a.playerIsOpponent?"opponent":!1===a.playerIsOpponent?"player":"unknown"}function kw(a){return"player"===a||"opponent"===a?a:"all"}function K7(a){return null==a.player?!0===a.playerIsOpponent?"log-opponent":!1===a.playerIsOpponent?"log-player":"log":a.player.isOpponent?"log-opponent":"log-player"}function b2(a){const e=a.playerWinner+a.opponentWinner+a.draw;return 0===e?0:SI(a.draw/e*100)}function PI(a){const e=a.playerWinner+a.opponentWinner+a.draw;return 0===e?0:SI(a.opponentWinner/e*100)}const J7={equalSteps:0,changedSteps:0,leftOnly:0,rightOnly:0};function A2(a,e){if(!e)return;const n=e.replace(/<br\s*\/?>/gi,"\n").replace(/<[^>]+>/g,"").split("\n");n.forEach((s,r)=>{s&&a.push({type:"text",text:s}),r<n.length-1&&a.push({type:"br"})})}const tj='<img src="assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/fist.png" alt="Attack" />',ij='<img src="assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/heart.png" alt="Health" />',nj=/\battack(?:s|ed|ing)?\b/gi,rj=/\bhealth\b/gi,_I=new WeakMap,SA=new Map,S2=new WeakMap;function P2(a,e){e&&e.decorateLogIfNeeded(a);const t=a.message+(a.count>1?` (x${a.count})`:""),i=_I.get(a);if(i&&i.message===t)return i.parts;const n=SA.get(t);if(n)return _I.set(a,{message:t,parts:n}),n;const s=function Q7(a){const e=[],t=/<img\b[^>]*>/gi;let n,i=0;const s=function aj(a){return a.split(/(<[^>]+>)/g).map(e=>e.startsWith("<")?e:e.replace(nj,(i,n)=>{const s=e.slice(0,n);return/\bjump[-\s]?$/i.test(s)?i:`${tj} ${i}`}).replace(rj,`${ij} $&`)).join("")}(a);for(;n=t.exec(s);){A2(e,s.slice(i,n.index));const c=n[0],u=/src=["']([^"']+)["']/i.exec(c),h=/alt=["']([^"']*)["']/i.exec(c);e.push({type:"img",src:u?.[1]??"",alt:h?.[1]??""}),i=n.index+c.length}return A2(e,s.slice(i)),e}(t);return _I.set(a,{message:t,parts:s}),function sj(a,e){if(SA.set(a,e),SA.size<=1e3)return;const t=SA.keys().next().value;t&&SA.delete(t)}(t,s),s}function _2(a,e=1e3){a.formGroup.get("logsEnabled"),a.simulationBattleAmt=e,a.localStorageService.setFormStorage(a.formGroup);const n=a.simulationService.runSimulation(a.formGroup,e,a.player,a.opponent);kI(a,n)}function ww(a){a.simulationWorker&&a.simulationWorker.terminate(),a.simulationWorker=null}function kI(a,e){a.playerWinner=e.playerWins,a.opponentWinner=e.opponentWins,a.draw=e.draws,a.battles=e.battles||[];const t=new Map;a.battleRandomEvents=a.battles.map(i=>{const n=function yj(a,e){const t=a.logs.filter(s=>!0===s.randomEvent),i=[],n=e?.isShowTriggerNamesInLogs()??!1;return t.forEach((s,r)=>{n&&i.push({type:"text",text:`[${"tie-broken"===s.randomEventReason?"tie-broken":"deterministic"===s.randomEventReason?"deterministic":"true random"}] `}),i.push(...P2(s,e)),r<t.length-1&&i.push({type:"br"})}),i}(i,a.logService);return t.set(i,n),n}),a.battleRandomEventsByBattle=t,k2(a),a.viewBattle=e.battles?.[0]||null,a.viewBattleLogs=a.viewBattle?.logs??[],wI(a),TI(a),a.diffBattleLeftIndex=0,a.diffBattleRightIndex=a.battles.length>1?1:0,Hg(a),a.simulated=!0}function wI(a){if(a.viewBattle){const t=S2.get(a.viewBattle);if(t&&t.logs===a.viewBattleLogs)return void(a.viewBattleLogRows=t.rows)}const e=a.viewBattleLogs.map(t=>({parts:P2(t,a.logService),classes:[K7(t),t.randomEvent?"random-event":"",t.bold?"bold":""].filter(Boolean)}));a.viewBattleLogRows=e,a.viewBattle&&S2.set(a.viewBattle,{logs:a.viewBattleLogs,rows:e})}function TI(a){const e=a.viewBattle?.logs??[],t=e.filter(n=>"ability"===n.type||"equipment"===n.type||"attack"===n.type);a.viewBattleTimelineRows=(t.length>0?t:e).map((n,s)=>({step:s+1,source:_w(n,"source"),target:_w(n,"target"),reason:f2(n),text:m2(n),side:v2(n)}))}function Hg(a){const e=Tw(a,a.diffBattleLeftIndex),t=Tw(a,a.diffBattleRightIndex);a.diffBattleLeftIndex=e,a.diffBattleRightIndex=t;const n=a.battles[t],s=y2(a.battles[e],kw(a.diffBattleLeftScope)),r=y2(n,kw(a.diffBattleRightScope)),c=Math.max(s.length,r.length),u=[],h={...J7};for(let b=0;b<c;b++){const D=s[b]??"",H=r[b]??"",Y=D===H;let ue="same";Y||(ue=D&&H?"changed":D?"left-only":"right-only"),u.push({step:b+1,left:D,right:H,same:Y,kind:ue}),Y?h.equalSteps+=1:"changed"===ue?h.changedSteps+=1:"left-only"===ue?h.leftOnly+=1:"right-only"===ue&&(h.rightOnly+=1)}a.battleDiffRows=u,a.battleDiffSummary=h}function k2(a){const e=a.formGroup.get("logFilter")?.value??null;a.filteredBattlesCache=null==e?a.battles:a.battles.filter(t=>t.winner===e)}function Tw(a,e){return Array.isArray(a.battles)&&0!==a.battles.length&&Number.isFinite(e)?Math.min(Math.max(0,Math.trunc(e)),a.battles.length-1):0}function w2(a,e,t){const i=[0,1,2,3,4],n=h=>new X.gE({name:new X.MJ(h?.name),attack:new X.MJ(h?.attack??0),health:new X.MJ(h?.health??0),exp:new X.MJ(h?.exp??0),equipment:new X.MJ(h?.equipment?.name??null),equipmentUses:new X.MJ(h?.equipment?.uses??null),belugaSwallowedPet:new X.MJ(h?.belugaSwallowedPet),parrotCopyPet:new X.MJ(h?.parrotCopyPet??null),parrotCopyPetBelugaSwallowedPet:new X.MJ,parrotCopyPetAbominationSwallowedPet1:new X.MJ,parrotCopyPetAbominationSwallowedPet2:new X.MJ,parrotCopyPetAbominationSwallowedPet3:new X.MJ,parrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new X.MJ,parrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new X.MJ,parrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new X.MJ,parrotCopyPetAbominationSwallowedPet1Level:new X.MJ,parrotCopyPetAbominationSwallowedPet2Level:new X.MJ,parrotCopyPetAbominationSwallowedPet3Level:new X.MJ,parrotCopyPetAbominationSwallowedPet1TimesHurt:new X.MJ,parrotCopyPetAbominationSwallowedPet2TimesHurt:new X.MJ,parrotCopyPetAbominationSwallowedPet3TimesHurt:new X.MJ,parrotCopyPetAbominationSwallowedPet1ParrotCopyPet:new X.MJ,parrotCopyPetAbominationSwallowedPet2ParrotCopyPet:new X.MJ,parrotCopyPetAbominationSwallowedPet3ParrotCopyPet:new X.MJ,parrotCopyPetAbominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level??1),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level??1),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level??1),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level??1),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level??1),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level??1),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level??1),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level??1),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level??1),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt:new X.MJ(h?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),sarcasticFringeheadSwallowedPet:new X.MJ,mana:new X.MJ(h?.mana??0),triggersConsumed:new X.MJ(h?.triggersConsumed??0),foodsEaten:new X.MJ(h?.foodsEaten??0),abominationSwallowedPet1:new X.MJ(h?.abominationSwallowedPet1),abominationSwallowedPet2:new X.MJ(h?.abominationSwallowedPet2),abominationSwallowedPet3:new X.MJ(h?.abominationSwallowedPet3),abominationSwallowedPet1BelugaSwallowedPet:new X.MJ,abominationSwallowedPet2BelugaSwallowedPet:new X.MJ,abominationSwallowedPet3BelugaSwallowedPet:new X.MJ,abominationSwallowedPet1ParrotCopyPet:new X.MJ,abominationSwallowedPet2ParrotCopyPet:new X.MJ,abominationSwallowedPet3ParrotCopyPet:new X.MJ,abominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet:new X.MJ,abominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet:new X.MJ,abominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet:new X.MJ,abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1:new X.MJ(h?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2:new X.MJ(h?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3:new X.MJ(h?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1:new X.MJ(h?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2:new X.MJ(h?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3:new X.MJ(h?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1:new X.MJ(h?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2:new X.MJ(h?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3:new X.MJ(h?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new X.MJ(h?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new X.MJ(h?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new X.MJ(h?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new X.MJ(h?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new X.MJ(h?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new X.MJ(h?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new X.MJ(h?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new X.MJ(h?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new X.MJ(h?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level:new X.MJ(h?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level??1),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level:new X.MJ(h?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level??1),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level:new X.MJ(h?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level??1),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level:new X.MJ(h?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level??1),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level:new X.MJ(h?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level??1),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level:new X.MJ(h?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level??1),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level:new X.MJ(h?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level??1),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level:new X.MJ(h?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level??1),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level:new X.MJ(h?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level??1),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt:new X.MJ(h?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt:new X.MJ(h?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt:new X.MJ(h?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt:new X.MJ(h?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt:new X.MJ(h?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt:new X.MJ(h?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt:new X.MJ(h?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt:new X.MJ(h?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt:new X.MJ(h?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),abominationSwallowedPet1Level:new X.MJ,abominationSwallowedPet2Level:new X.MJ,abominationSwallowedPet3Level:new X.MJ,abominationSwallowedPet1TimesHurt:new X.MJ,abominationSwallowedPet2TimesHurt:new X.MJ,abominationSwallowedPet3TimesHurt:new X.MJ,friendsDiedBeforeBattle:new X.MJ,battlesFought:new X.MJ(h?.battlesFought??0),timesHurt:new X.MJ(h?.timesHurt??0)}),s=i.map(h=>n(e.getPet(h))),r=a.get("playerPets");r.clear();for(const h of s)r.push(h);const c=i.map(h=>n(t.getPet(h))),u=a.get("opponentPets");u.clear();for(const h of c)u.push(h)}const Ns=["Nessie","Bunyip","Mana Hound","Ammonite","Fossa","Hippocampus","Platybelodon","Barnacle","Olm"],Aj={Pack1:"Turtle",Pack2:"Puppy",Pack3:"Star",Pack4:"Golden",Pack5:"Unicorn",Danger:"Danger",Custom:"Custom",MiniPack1:"Custom",MiniPack2:"Custom",MiniPack3:"Custom"};let EI=null;function _j(a){return a}function kj(a,e){return e?.id??String(a)}function wj(a,e){return e?.value??String(a)}function T2(a){a.formGroup.get("playerPack").setValue(a.formGroup.get("playerPack").value,{emitEvent:!1}),a.formGroup.get("opponentPack").setValue(a.formGroup.get("opponentPack").value,{emitEvent:!1})}function Dj(a){return a}function Ew(a,e){for(let t=0;t<5;t++){const i=a.petService.getRandomPet(e);i.equipment=M2(a,e),e.setPet(t,i,!0)}}function CI(a,e){const t=function xj(a){const e=a.toyService.getToysByType(0),t=[];if(e.forEach(n=>{n.forEach(s=>{s&&t.push(s)})}),t.push(null),!t.length)return null;const i=Math.floor(Math.random()*t.length);return t[i]}(a),n=e===a.player?"playerToy":"opponentToy";if(!t)return a.formGroup.get(n).setValue(null),e.toy=null,e.originalToy=null,void _A(a,e,null);a.formGroup.get(n).setValue(t),PA(a,e,t)}function Cw(a,e,t,i=!0){e.pack=t;const n=a.formGroup.get("allPets").value;let s;switch(i&&!n&&Dw(a,e),t){case"Turtle":s=a.petService.turtlePackPets;break;case"Puppy":s=a.petService.puppyPackPets;break;case"Star":s=a.petService.starPackPets;break;case"Golden":s=a.petService.goldenPackPets;break;case"Unicorn":s=a.petService.unicornPackPets;break;case"Danger":s=a.petService.dangerPackPets;break;default:s=a.petService.playerCustomPackPets.get(t),s||(a.formGroup.get("allPets").setValue(!0,{emitEvent:!1}),s=a.petService.allPets)}e==a.player?a.gameService.setTierGroupPets(s,null):a.gameService.setTierGroupPets(null,s),a.formGroup.get("allPets")}function PA(a,e,t){if(!t)return e.toy=null,e.originalToy=null,void _A(a,e,null);let i;e==a.player&&(i="playerToyLevel"),e==a.opponent&&(i="opponentToyLevel");const n=Number(a.formGroup.get(i).value);e.toy=a.toyService.createToy(t,e,n),e.originalToy=e.toy,_A(a,e,t)}function Dw(a,e){a.formGroup.get(e===a.player?"playerToy":"opponentToy").setValue(null),e.toy=null,e.originalToy=null,_A(a,e,null)}function _A(a,e,t){const i=a.toyService.getToyNameId(t),n=i?`${h2}${i}.png`:"";e==a.player?a.playerToyImageUrl=n:e==a.opponent&&(a.opponentToyImageUrl=n)}function Mw(a,e,t){const i=a.toyService.getToyNameId(t),n=i?`${h2}${i}.png`:"";e==a.player?a.playerHardToyImageUrl=n:e==a.opponent&&(a.opponentHardToyImageUrl=n)}function E2(a,e){let t=1;e>2&&(t=2),e>4&&(t=3),e>6&&(t=4),e>8&&(t=5),e>10&&(t=6),a.gameService.setPreviousShopTier(t),a.gameService.setTurnNumber(e)}function C2(a,e,t){a.gameService.setGoldSpent(e,t)}function D2(a,e,t){e.toy&&(e.toy.level=t)}function M2(a,e){const t=Array.from(a.equipmentService.getInstanceOfAllEquipment().values()).filter(h=>"Corncob"!==h?.name),i=a.formGroup?.get("allPets")?.value;let n=t;if(!i){const b=function Pj(a){return a?(EI||(EI=function Sj(){const a=new Map,e=fs??_o??[];for(const t of e){const i=t?.Name;if(!i)continue;const n=new Set,s=t?.Packs??[];for(const c of s)c&&n.add(String(c).trim());if(!(n.has("Custom")||n.has("MiniPack1")||n.has("MiniPack2")||n.has("MiniPack3")))for(const c of t?.PacksRequired??[])c&&n.add(String(c).trim());for(const c of n){const u=Aj[c];u&&(a.has(u)||a.set(u,new Set),a.get(u)?.add(i))}}return a}()),EI.get(a)??null):null}(e?.pack??a.player?.pack??null);b&&b.size>0&&(n=t.filter(D=>b.has(D?.name)))}const r=a.formGroup?.get("ailmentEquipment")?.value?Array.from(a.equipmentService.getInstanceOfAllAilments().values()):[],c=n.concat(r);return 0===c.length?null:c[Math.floor(Math.random()*c.length)]}function Rj(a){return iu(a)??""}function x2(a){return a.savedTeams.find(e=>e.id===a.selectedTeamId)}function Fj(a){return a?{"background-image":`url(${iu(a)})`,"background-repeat":"no-repeat","background-size":"20px 20px","background-position":"left center","padding-left":"2rem"}:{}}var kr="top",ta="bottom",ia="right",wr="left",xw="auto",jg=[kr,ta,ia,wr],dd="start",qg="end",I2="clippingParents",DI="viewport",Ug="popper",R2="reference",MI=jg.reduce(function(a,e){return a.concat([e+"-"+dd,e+"-"+qg])},[]),xI=[].concat(jg,[xw]).reduce(function(a,e){return a.concat([e,e+"-"+dd,e+"-"+qg])},[]),L2="beforeRead",N2="read",F2="afterRead",O2="beforeMain",B2="main",$2="afterMain",G2="beforeWrite",H2="write",j2="afterWrite",q2=[L2,N2,F2,O2,B2,$2,G2,H2,j2];function Co(a){return a?(a.nodeName||"").toLowerCase():null}function na(a){if(null==a)return window;if("[object Window]"!==a.toString()){var e=a.ownerDocument;return e&&e.defaultView||window}return a}function hd(a){return a instanceof na(a).Element||a instanceof Element}function fa(a){return a instanceof na(a).HTMLElement||a instanceof HTMLElement}function II(a){return!(typeof ShadowRoot>"u")&&(a instanceof na(a).ShadowRoot||a instanceof ShadowRoot)}const RI={name:"applyStyles",enabled:!0,phase:"write",fn:function Oj(a){var e=a.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},n=e.attributes[t]||{},s=e.elements[t];!fa(s)||!Co(s)||(Object.assign(s.style,i),Object.keys(n).forEach(function(r){var c=n[r];!1===c?s.removeAttribute(r):s.setAttribute(r,!0===c?"":c)}))})},effect:function Bj(a){var e=a.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var n=e.elements[i],s=e.attributes[i]||{},c=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]).reduce(function(u,h){return u[h]="",u},{});!fa(n)||!Co(n)||(Object.assign(n.style,c),Object.keys(s).forEach(function(u){n.removeAttribute(u)}))})}},requires:["computeStyles"]};function Do(a){return a.split("-")[0]}var pd=Math.max,Iw=Math.min,Wg=Math.round;function LI(){var a=navigator.userAgentData;return null!=a&&a.brands&&Array.isArray(a.brands)?a.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function U2(){return!/^((?!chrome|android).)*safari/i.test(LI())}function Vg(a,e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var i=a.getBoundingClientRect(),n=1,s=1;e&&fa(a)&&(n=a.offsetWidth>0&&Wg(i.width)/a.offsetWidth||1,s=a.offsetHeight>0&&Wg(i.height)/a.offsetHeight||1);var c=(hd(a)?na(a):window).visualViewport,u=!U2()&&t,h=(i.left+(u&&c?c.offsetLeft:0))/n,b=(i.top+(u&&c?c.offsetTop:0))/s,D=i.width/n,H=i.height/s;return{width:D,height:H,top:b,right:h+D,bottom:b+H,left:h,x:h,y:b}}function NI(a){var e=Vg(a),t=a.offsetWidth,i=a.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:a.offsetLeft,y:a.offsetTop,width:t,height:i}}function W2(a,e){var t=e.getRootNode&&e.getRootNode();if(a.contains(e))return!0;if(t&&II(t)){var i=e;do{if(i&&a.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Fs(a){return na(a).getComputedStyle(a)}function $j(a){return["table","td","th"].indexOf(Co(a))>=0}function uc(a){return((hd(a)?a.ownerDocument:a.document)||window.document).documentElement}function Rw(a){return"html"===Co(a)?a:a.assignedSlot||a.parentNode||(II(a)?a.host:null)||uc(a)}function V2(a){return fa(a)&&"fixed"!==Fs(a).position?a.offsetParent:null}function kA(a){for(var e=na(a),t=V2(a);t&&$j(t)&&"static"===Fs(t).position;)t=V2(t);return t&&("html"===Co(t)||"body"===Co(t)&&"static"===Fs(t).position)?e:t||function Gj(a){var e=/firefox/i.test(LI());if(/Trident/i.test(LI())&&fa(a)&&"fixed"===Fs(a).position)return null;var n=Rw(a);for(II(n)&&(n=n.host);fa(n)&&["html","body"].indexOf(Co(n))<0;){var s=Fs(n);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||e&&"filter"===s.willChange||e&&s.filter&&"none"!==s.filter)return n;n=n.parentNode}return null}(a)||e}function FI(a){return["top","bottom"].indexOf(a)>=0?"x":"y"}function wA(a,e,t){return pd(a,Iw(e,t))}function z2(a){return Object.assign({},{top:0,right:0,bottom:0,left:0},a)}function Y2(a,e){return e.reduce(function(t,i){return t[i]=a,t},{})}const X2={name:"arrow",enabled:!0,phase:"main",fn:function qj(a){var e,t=a.state,i=a.name,n=a.options,s=t.elements.arrow,r=t.modifiersData.popperOffsets,c=Do(t.placement),u=FI(c),b=[wr,ia].indexOf(c)>=0?"height":"width";if(s&&r){var D=function(e,t){return z2("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Y2(e,jg))}(n.padding,t),H=NI(s),Y="y"===u?kr:wr,ue="y"===u?ta:ia,he=t.rects.reference[b]+t.rects.reference[u]-r[u]-t.rects.popper[b],ye=r[u]-t.rects.reference[u],_e=kA(s),qe=_e?"y"===u?_e.clientHeight||0:_e.clientWidth||0:0,Ze=qe/2-H[b]/2+(he/2-ye/2),bt=wA(D[Y],Ze,qe-H[b]-D[ue]);t.modifiersData[i]=((e={})[u]=bt,e.centerOffset=bt-Ze,e)}},effect:function Uj(a){var e=a.state,i=a.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"==typeof n&&!(n=e.elements.popper.querySelector(n))||W2(e.elements.popper,n)&&(e.elements.arrow=n))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Kg(a){return a.split("-")[1]}var Wj={top:"auto",right:"auto",bottom:"auto",left:"auto"};function J2(a){var e,t=a.popper,i=a.popperRect,n=a.placement,s=a.variation,r=a.offsets,c=a.position,u=a.gpuAcceleration,h=a.adaptive,b=a.roundOffsets,D=a.isFixed,H=r.x,Y=void 0===H?0:H,ue=r.y,he=void 0===ue?0:ue,ye="function"==typeof b?b({x:Y,y:he}):{x:Y,y:he};Y=ye.x,he=ye.y;var _e=r.hasOwnProperty("x"),qe=r.hasOwnProperty("y"),Ve=wr,je=kr,Ie=window;if(h){var Ze=kA(t),bt="clientHeight",oi="clientWidth";Ze===na(t)&&"static"!==Fs(Ze=uc(t)).position&&"absolute"===c&&(bt="scrollHeight",oi="scrollWidth"),(n===kr||(n===wr||n===ia)&&s===qg)&&(je=ta,he-=(D&&Ze===Ie&&Ie.visualViewport?Ie.visualViewport.height:Ze[bt])-i.height,he*=u?1:-1),n!==wr&&(n!==kr&&n!==ta||s!==qg)||(Ve=ia,Y-=(D&&Ze===Ie&&Ie.visualViewport?Ie.visualViewport.width:Ze[oi])-i.width,Y*=u?1:-1)}var zn,hn=Object.assign({position:c},h&&Wj),Gr=!0===b?function Vj(a,e){var i=a.y,n=e.devicePixelRatio||1;return{x:Wg(a.x*n)/n||0,y:Wg(i*n)/n||0}}({x:Y,y:he},na(t)):{x:Y,y:he};return Y=Gr.x,he=Gr.y,Object.assign({},hn,u?((zn={})[je]=qe?"0":"",zn[Ve]=_e?"0":"",zn.transform=(Ie.devicePixelRatio||1)<=1?"translate("+Y+"px, "+he+"px)":"translate3d("+Y+"px, "+he+"px, 0)",zn):((e={})[je]=qe?he+"px":"",e[Ve]=_e?Y+"px":"",e.transform="",e))}const OI={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Kj(a){var e=a.state,t=a.options,i=t.gpuAcceleration,n=void 0===i||i,s=t.adaptive,r=void 0===s||s,c=t.roundOffsets,u=void 0===c||c,h={placement:Do(e.placement),variation:Kg(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:n,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,J2(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:r,roundOffsets:u})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,J2(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var Lw={passive:!0};const BI={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function zj(a){var e=a.state,t=a.instance,i=a.options,n=i.scroll,s=void 0===n||n,r=i.resize,c=void 0===r||r,u=na(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&h.forEach(function(b){b.addEventListener("scroll",t.update,Lw)}),c&&u.addEventListener("resize",t.update,Lw),function(){s&&h.forEach(function(b){b.removeEventListener("scroll",t.update,Lw)}),c&&u.removeEventListener("resize",t.update,Lw)}},data:{}};var Yj={left:"right",right:"left",bottom:"top",top:"bottom"};function Nw(a){return a.replace(/left|right|bottom|top/g,function(e){return Yj[e]})}var Xj={start:"end",end:"start"};function Q2(a){return a.replace(/start|end/g,function(e){return Xj[e]})}function $I(a){var e=na(a);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function GI(a){return Vg(uc(a)).left+$I(a).scrollLeft}function HI(a){var e=Fs(a);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function Z2(a){return["html","body","#document"].indexOf(Co(a))>=0?a.ownerDocument.body:fa(a)&&HI(a)?a:Z2(Rw(a))}function TA(a,e){var t;void 0===e&&(e=[]);var i=Z2(a),n=i===(null==(t=a.ownerDocument)?void 0:t.body),s=na(i),r=n?[s].concat(s.visualViewport||[],HI(i)?i:[]):i,c=e.concat(r);return n?c:c.concat(TA(Rw(r)))}function jI(a){return Object.assign({},a,{left:a.x,top:a.y,right:a.x+a.width,bottom:a.y+a.height})}function eN(a,e,t){return e===DI?jI(function Jj(a,e){var t=na(a),i=uc(a),n=t.visualViewport,s=i.clientWidth,r=i.clientHeight,c=0,u=0;if(n){s=n.width,r=n.height;var h=U2();(h||!h&&"fixed"===e)&&(c=n.offsetLeft,u=n.offsetTop)}return{width:s,height:r,x:c+GI(a),y:u}}(a,t)):hd(e)?function Zj(a,e){var t=Vg(a,!1,"fixed"===e);return t.top=t.top+a.clientTop,t.left=t.left+a.clientLeft,t.bottom=t.top+a.clientHeight,t.right=t.left+a.clientWidth,t.width=a.clientWidth,t.height=a.clientHeight,t.x=t.left,t.y=t.top,t}(e,t):jI(function Qj(a){var e,t=uc(a),i=$I(a),n=null==(e=a.ownerDocument)?void 0:e.body,s=pd(t.scrollWidth,t.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),r=pd(t.scrollHeight,t.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),c=-i.scrollLeft+GI(a),u=-i.scrollTop;return"rtl"===Fs(n||t).direction&&(c+=pd(t.clientWidth,n?n.clientWidth:0)-s),{width:s,height:r,x:c,y:u}}(uc(a)))}function tN(a){var u,e=a.reference,t=a.element,i=a.placement,n=i?Do(i):null,s=i?Kg(i):null,r=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2;switch(n){case kr:u={x:r,y:e.y-t.height};break;case ta:u={x:r,y:e.y+e.height};break;case ia:u={x:e.x+e.width,y:c};break;case wr:u={x:e.x-t.width,y:c};break;default:u={x:e.x,y:e.y}}var h=n?FI(n):null;if(null!=h){var b="y"===h?"height":"width";switch(s){case dd:u[h]=u[h]-(e[b]/2-t[b]/2);break;case qg:u[h]=u[h]+(e[b]/2-t[b]/2)}}return u}function zg(a,e){void 0===e&&(e={});var i=e.placement,n=void 0===i?a.placement:i,s=e.strategy,r=void 0===s?a.strategy:s,c=e.boundary,u=void 0===c?I2:c,h=e.rootBoundary,b=void 0===h?DI:h,D=e.elementContext,H=void 0===D?Ug:D,Y=e.altBoundary,ue=void 0!==Y&&Y,he=e.padding,ye=void 0===he?0:he,_e=z2("number"!=typeof ye?ye:Y2(ye,jg)),Ve=a.rects.popper,je=a.elements[ue?H===Ug?R2:Ug:H],Ie=function t5(a,e,t,i){var n="clippingParents"===e?function e5(a){var e=TA(Rw(a)),i=["absolute","fixed"].indexOf(Fs(a).position)>=0&&fa(a)?kA(a):a;return hd(i)?e.filter(function(n){return hd(n)&&W2(n,i)&&"body"!==Co(n)}):[]}(a):[].concat(e),s=[].concat(n,[t]),c=s.reduce(function(u,h){var b=eN(a,h,i);return u.top=pd(b.top,u.top),u.right=Iw(b.right,u.right),u.bottom=Iw(b.bottom,u.bottom),u.left=pd(b.left,u.left),u},eN(a,s[0],i));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}(hd(je)?je:je.contextElement||uc(a.elements.popper),u,b,r),Ze=Vg(a.elements.reference),bt=tN({reference:Ze,element:Ve,strategy:"absolute",placement:n}),oi=jI(Object.assign({},Ve,bt)),Di=H===Ug?oi:Ze,yi={top:Ie.top-Di.top+_e.top,bottom:Di.bottom-Ie.bottom+_e.bottom,left:Ie.left-Di.left+_e.left,right:Di.right-Ie.right+_e.right},hn=a.modifiersData.offset;if(H===Ug&&hn){var Gr=hn[n];Object.keys(yi).forEach(function(zn){var xo=[ia,ta].indexOf(zn)>=0?1:-1,Gt=[kr,ta].indexOf(zn)>=0?"y":"x";yi[zn]+=Gr[Gt]*xo})}return yi}const iN={name:"flip",enabled:!0,phase:"main",fn:function r5(a){var e=a.state,t=a.options,i=a.name;if(!e.modifiersData[i]._skip){for(var n=t.mainAxis,s=void 0===n||n,r=t.altAxis,c=void 0===r||r,u=t.fallbackPlacements,h=t.padding,b=t.boundary,D=t.rootBoundary,H=t.altBoundary,Y=t.flipVariations,ue=void 0===Y||Y,he=t.allowedAutoPlacements,ye=e.options.placement,_e=Do(ye),Ve=u||(_e!==ye&&ue?function n5(a){if(Do(a)===xw)return[];var e=Nw(a);return[Q2(a),e,Q2(e)]}(ye):[Nw(ye)]),je=[ye].concat(Ve).reduce(function(am,yc){return am.concat(Do(yc)===xw?function i5(a,e){void 0===e&&(e={});var n=e.boundary,s=e.rootBoundary,r=e.padding,c=e.flipVariations,u=e.allowedAutoPlacements,h=void 0===u?xI:u,b=Kg(e.placement),D=b?c?MI:MI.filter(function(ue){return Kg(ue)===b}):jg,H=D.filter(function(ue){return h.indexOf(ue)>=0});0===H.length&&(H=D);var Y=H.reduce(function(ue,he){return ue[he]=zg(a,{placement:he,boundary:n,rootBoundary:s,padding:r})[Do(he)],ue},{});return Object.keys(Y).sort(function(ue,he){return Y[ue]-Y[he]})}(e,{placement:yc,boundary:b,rootBoundary:D,padding:h,flipVariations:ue,allowedAutoPlacements:he}):yc)},[]),Ie=e.rects.reference,Ze=e.rects.popper,bt=new Map,oi=!0,Di=je[0],yi=0;yi<je.length;yi++){var hn=je[yi],Gr=Do(hn),zn=Kg(hn)===dd,xo=[kr,ta].indexOf(Gr)>=0,Gt=xo?"width":"height",Yn=zg(e,{placement:hn,boundary:b,rootBoundary:D,altBoundary:H,padding:h}),Ja=xo?zn?ia:wr:zn?ta:kr;Ie[Gt]>Ze[Gt]&&(Ja=Nw(Ja));var tT=Nw(Ja),bd=[];if(s&&bd.push(Yn[Gr]<=0),c&&bd.push(Yn[Ja]<=0,Yn[tT]<=0),bd.every(function(am){return am})){Di=hn,oi=!1;break}bt.set(hn,bd)}if(oi)for(var AR=function(yc){var NA=je.find(function(rT){var Ad=bt.get(rT);if(Ad)return Ad.slice(0,yc).every(function(SR){return SR})});if(NA)return Di=NA,"break"},LA=ue?3:1;LA>0&&"break"!==AR(LA);LA--);e.placement!==Di&&(e.modifiersData[i]._skip=!0,e.placement=Di,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function nN(a,e,t){return void 0===t&&(t={x:0,y:0}),{top:a.top-e.height-t.y,right:a.right-e.width+t.x,bottom:a.bottom-e.height+t.y,left:a.left-e.width-t.x}}function rN(a){return[kr,ia,ta,wr].some(function(e){return a[e]>=0})}const aN={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function a5(a){var e=a.state,t=a.name,i=e.rects.reference,n=e.rects.popper,s=e.modifiersData.preventOverflow,r=zg(e,{elementContext:"reference"}),c=zg(e,{altBoundary:!0}),u=nN(r,i),h=nN(c,n,s),b=rN(u),D=rN(h);e.modifiersData[t]={referenceClippingOffsets:u,popperEscapeOffsets:h,isReferenceHidden:b,hasPopperEscaped:D},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":b,"data-popper-escaped":D})}},oN={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function s5(a){var e=a.state,i=a.name,n=a.options.offset,s=void 0===n?[0,0]:n,r=xI.reduce(function(b,D){return b[D]=function o5(a,e,t){var i=Do(a),n=[wr,kr].indexOf(i)>=0?-1:1,s="function"==typeof t?t(Object.assign({},e,{placement:a})):t,r=s[0],c=s[1];return r=r||0,c=(c||0)*n,[wr,ia].indexOf(i)>=0?{x:c,y:r}:{x:r,y:c}}(D,e.rects,s),b},{}),c=r[e.placement],h=c.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=c.x,e.modifiersData.popperOffsets.y+=h),e.modifiersData[i]=r}},qI={name:"popperOffsets",enabled:!0,phase:"read",fn:function l5(a){var e=a.state;e.modifiersData[a.name]=tN({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},sN={name:"preventOverflow",enabled:!0,phase:"main",fn:function u5(a){var e=a.state,t=a.options,i=a.name,n=t.mainAxis,s=void 0===n||n,r=t.altAxis,c=void 0!==r&&r,H=t.tether,Y=void 0===H||H,ue=t.tetherOffset,he=void 0===ue?0:ue,ye=zg(e,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),_e=Do(e.placement),qe=Kg(e.placement),Ve=!qe,je=FI(_e),Ie=function c5(a){return"x"===a?"y":"x"}(je),Ze=e.modifiersData.popperOffsets,bt=e.rects.reference,oi=e.rects.popper,Di="function"==typeof he?he(Object.assign({},e.rects,{placement:e.placement})):he,yi="number"==typeof Di?{mainAxis:Di,altAxis:Di}:Object.assign({mainAxis:0,altAxis:0},Di),hn=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Gr={x:0,y:0};if(Ze){if(s){var zn,xo="y"===je?kr:wr,Gt="y"===je?ta:ia,Yn="y"===je?"height":"width",Ja=Ze[je],tT=Ja+ye[xo],bd=Ja-ye[Gt],iT=Y?-oi[Yn]/2:0,AR=qe===dd?bt[Yn]:oi[Yn],LA=qe===dd?-oi[Yn]:-bt[Yn],nT=e.elements.arrow,am=Y&&nT?NI(nT):{width:0,height:0},yc=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},NA=yc[xo],rT=yc[Gt],Ad=wA(0,bt[Yn],am[Yn]),SR=Ve?bt[Yn]/2-iT-Ad-NA-yi.mainAxis:AR-Ad-NA-yi.mainAxis,CW=Ve?-bt[Yn]/2+iT+Ad+rT+yi.mainAxis:LA+Ad+rT+yi.mainAxis,PR=e.elements.arrow&&kA(e.elements.arrow),DW=PR?"y"===je?PR.clientTop||0:PR.clientLeft||0:0,bF=null!=(zn=hn?.[je])?zn:0,xW=Ja+CW-bF,AF=wA(Y?Iw(tT,Ja+SR-bF-DW):tT,Ja,Y?pd(bd,xW):bd);Ze[je]=AF,Gr[je]=AF-Ja}if(c){var SF,Sd=Ze[Ie],aT="y"===Ie?"height":"width",PF=Sd+ye["x"===je?kr:wr],_F=Sd-ye["x"===je?ta:ia],_R=-1!==[kr,wr].indexOf(_e),kF=null!=(SF=hn?.[Ie])?SF:0,wF=_R?PF:Sd-bt[aT]-oi[aT]-kF+yi.altAxis,TF=_R?Sd+bt[aT]+oi[aT]-kF-yi.altAxis:_F,EF=Y&&_R?function Hj(a,e,t){var i=wA(a,e,t);return i>t?t:i}(wF,Sd,TF):wA(Y?wF:PF,Sd,Y?TF:_F);Ze[Ie]=EF,Gr[Ie]=EF-Sd}e.modifiersData[i]=Gr}},requiresIfExists:["offset"]};function g5(a,e,t){void 0===t&&(t=!1);var i=fa(e),n=fa(e)&&function p5(a){var e=a.getBoundingClientRect(),t=Wg(e.width)/a.offsetWidth||1,i=Wg(e.height)/a.offsetHeight||1;return 1!==t||1!==i}(e),s=uc(e),r=Vg(a,n,t),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(i||!i&&!t)&&(("body"!==Co(e)||HI(s))&&(c=function h5(a){return a!==na(a)&&fa(a)?function d5(a){return{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}}(a):$I(a)}(e)),fa(e)?((u=Vg(e,!0)).x+=e.clientLeft,u.y+=e.clientTop):s&&(u.x=GI(s))),{x:r.left+c.scrollLeft-u.x,y:r.top+c.scrollTop-u.y,width:r.width,height:r.height}}function m5(a){var e=new Map,t=new Set,i=[];function n(s){t.add(s.name),[].concat(s.requires||[],s.requiresIfExists||[]).forEach(function(c){if(!t.has(c)){var u=e.get(c);u&&n(u)}}),i.push(s)}return a.forEach(function(s){e.set(s.name,s)}),a.forEach(function(s){t.has(s.name)||n(s)}),i}function y5(a){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(a())})})),e}}var lN={placement:"bottom",modifiers:[],strategy:"absolute"};function cN(){for(var a=arguments.length,e=new Array(a),t=0;t<a;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function Fw(a){void 0===a&&(a={});var t=a.defaultModifiers,i=void 0===t?[]:t,n=a.defaultOptions,s=void 0===n?lN:n;return function(c,u,h){void 0===h&&(h=s);var b={placement:"bottom",orderedModifiers:[],options:Object.assign({},lN,s),modifiersData:{},elements:{reference:c,popper:u},attributes:{},styles:{}},D=[],H=!1,Y={state:b,setOptions:function(_e){var qe="function"==typeof _e?_e(b.options):_e;he(),b.options=Object.assign({},s,b.options,qe),b.scrollParents={reference:hd(c)?TA(c):c.contextElement?TA(c.contextElement):[],popper:TA(u)};var Ve=function f5(a){var e=m5(a);return q2.reduce(function(t,i){return t.concat(e.filter(function(n){return n.phase===i}))},[])}(function v5(a){var e=a.reduce(function(t,i){var n=t[i.name];return t[i.name]=n?Object.assign({},n,i,{options:Object.assign({},n.options,i.options),data:Object.assign({},n.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(i,b.options.modifiers)));return b.orderedModifiers=Ve.filter(function(je){return je.enabled}),function ue(){b.orderedModifiers.forEach(function(ye){var qe=ye.options,je=ye.effect;if("function"==typeof je){var Ie=je({state:b,name:ye.name,instance:Y,options:void 0===qe?{}:qe});D.push(Ie||function(){})}})}(),Y.update()},forceUpdate:function(){if(!H){var _e=b.elements,qe=_e.reference,Ve=_e.popper;if(cN(qe,Ve)){b.rects={reference:g5(qe,kA(Ve),"fixed"===b.options.strategy),popper:NI(Ve)},b.reset=!1,b.placement=b.options.placement,b.orderedModifiers.forEach(function(yi){return b.modifiersData[yi.name]=Object.assign({},yi.data)});for(var je=0;je<b.orderedModifiers.length;je++)if(!0!==b.reset){var Ie=b.orderedModifiers[je],Ze=Ie.fn,bt=Ie.options;"function"==typeof Ze&&(b=Ze({state:b,options:void 0===bt?{}:bt,name:Ie.name,instance:Y})||b)}else b.reset=!1,je=-1}}},update:y5(function(){return new Promise(function(ye){Y.forceUpdate(),ye(b)})}),destroy:function(){he(),H=!0}};if(!cN(c,u))return Y;function he(){D.forEach(function(ye){return ye()}),D=[]}return Y.setOptions(h).then(function(ye){!H&&h.onFirstUpdate&&h.onFirstUpdate(ye)}),Y}}var b5=Fw(),UI=Fw({defaultModifiers:[BI,qI,OI,RI,oN,iN,sN,X2,aN]}),P5=Fw({defaultModifiers:[BI,qI,OI,RI]});const dc=new Map,WI={set(a,e,t){dc.has(a)||dc.set(a,new Map);const i=dc.get(a);i.has(e)||0===i.size?i.set(e,t):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(a,e)=>dc.has(a)&&dc.get(a).get(e)||null,remove(a,e){if(!dc.has(a))return;const t=dc.get(a);t.delete(e),0===t.size&&dc.delete(a)}},VI="transitionend",uN=a=>(a&&window.CSS&&window.CSS.escape&&(a=a.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),a),w5=a=>null==a?`${a}`:Object.prototype.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase(),dN=a=>{a.dispatchEvent(new Event(VI))},Os=a=>!(!a||"object"!=typeof a)&&(typeof a.jquery<"u"&&(a=a[0]),typeof a.nodeType<"u"),hc=a=>Os(a)?a.jquery?a[0]:a:"string"==typeof a&&a.length>0?document.querySelector(uN(a)):null,Yg=a=>{if(!Os(a)||0===a.getClientRects().length)return!1;const e="visible"===getComputedStyle(a).getPropertyValue("visibility"),t=a.closest("details:not([open])");if(!t)return e;if(t!==a){const i=a.closest("summary");if(i&&i.parentNode!==t||null===i)return!1}return e},pc=a=>!(a&&a.nodeType===Node.ELEMENT_NODE&&!a.classList.contains("disabled"))||(typeof a.disabled<"u"?a.disabled:a.hasAttribute("disabled")&&"false"!==a.getAttribute("disabled")),hN=a=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof a.getRootNode){const e=a.getRootNode();return e instanceof ShadowRoot?e:null}return a instanceof ShadowRoot?a:a.parentNode?hN(a.parentNode):null},Ow=()=>{},pN=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,KI=[],ya=()=>"rtl"===document.documentElement.dir,va=a=>{(a=>{"loading"===document.readyState?(KI.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of KI)e()}),KI.push(a)):a()})(()=>{const e=pN();if(e){const t=a.NAME,i=e.fn[t];e.fn[t]=a.jQueryInterface,e.fn[t].Constructor=a,e.fn[t].noConflict=()=>(e.fn[t]=i,a.jQueryInterface)}})},$r=(a,e=[],t=a)=>"function"==typeof a?a.call(...e):t,gN=(a,e,t=!0)=>{if(!t)return void $r(a);const n=(a=>{if(!a)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(a);const i=Number.parseFloat(e),n=Number.parseFloat(t);return i||n?(e=e.split(",")[0],t=t.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(t))):0})(e)+5;let s=!1;const r=({target:c})=>{c===e&&(s=!0,e.removeEventListener(VI,r),$r(a))};e.addEventListener(VI,r),setTimeout(()=>{s||dN(e)},n)},zI=(a,e,t,i)=>{const n=a.length;let s=a.indexOf(e);return-1===s?!t&&i?a[n-1]:a[0]:(s+=t?1:-1,i&&(s=(s+n)%n),a[Math.max(0,Math.min(s,n-1))])},D5=/[^.]*(?=\..*)\.|.*/,M5=/\..*/,x5=/::\d+$/,YI={};let mN=1;const fN={mouseenter:"mouseover",mouseleave:"mouseout"},I5=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function yN(a,e){return e&&`${e}::${mN++}`||a.uidEvent||mN++}function vN(a){const e=yN(a);return a.uidEvent=e,YI[e]=YI[e]||{},YI[e]}function bN(a,e,t=null){return Object.values(a).find(i=>i.callable===e&&i.delegationSelector===t)}function AN(a,e,t){const i="string"==typeof e,n=i?t:e||t;let s=PN(a);return I5.has(s)||(s=a),[i,n,s]}function SN(a,e,t,i,n){if("string"!=typeof e||!a)return;let[s,r,c]=AN(e,t,i);var ue;e in fN&&(ue=r,r=function(he){if(!he.relatedTarget||he.relatedTarget!==he.delegateTarget&&!he.delegateTarget.contains(he.relatedTarget))return ue.call(this,he)});const u=vN(a),h=u[c]||(u[c]={}),b=bN(h,r,s?t:null);if(b)return void(b.oneOff=b.oneOff&&n);const D=yN(r,e.replace(D5,"")),H=s?function L5(a,e,t){return function i(n){const s=a.querySelectorAll(e);for(let{target:r}=n;r&&r!==this;r=r.parentNode)for(const c of s)if(c===r)return JI(n,{delegateTarget:r}),i.oneOff&&Le.off(a,n.type,e,t),t.apply(r,[n])}}(a,t,r):function R5(a,e){return function t(i){return JI(i,{delegateTarget:a}),t.oneOff&&Le.off(a,i.type,e),e.apply(a,[i])}}(a,r);H.delegationSelector=s?t:null,H.callable=r,H.oneOff=n,H.uidEvent=D,h[D]=H,a.addEventListener(c,H,s)}function XI(a,e,t,i,n){const s=bN(e[t],i,n);s&&(a.removeEventListener(t,s,!!n),delete e[t][s.uidEvent])}function N5(a,e,t,i){const n=e[t]||{};for(const[s,r]of Object.entries(n))s.includes(i)&&XI(a,e,t,r.callable,r.delegationSelector)}function PN(a){return a=a.replace(M5,""),fN[a]||a}const Le={on(a,e,t,i){SN(a,e,t,i,!1)},one(a,e,t,i){SN(a,e,t,i,!0)},off(a,e,t,i){if("string"!=typeof e||!a)return;const[n,s,r]=AN(e,t,i),c=r!==e,u=vN(a),h=u[r]||{},b=e.startsWith(".");if(typeof s<"u"){if(!Object.keys(h).length)return;XI(a,u,r,s,n?t:null)}else{if(b)for(const D of Object.keys(u))N5(a,u,D,e.slice(1));for(const[D,H]of Object.entries(h)){const Y=D.replace(x5,"");(!c||e.includes(Y))&&XI(a,u,r,H.callable,H.delegationSelector)}}},trigger(a,e,t){if("string"!=typeof e||!a)return null;const i=pN();let r=null,c=!0,u=!0,h=!1;e!==PN(e)&&i&&(r=i.Event(e,t),i(a).trigger(r),c=!r.isPropagationStopped(),u=!r.isImmediatePropagationStopped(),h=r.isDefaultPrevented());const b=JI(new Event(e,{bubbles:c,cancelable:!0}),t);return h&&b.preventDefault(),u&&a.dispatchEvent(b),b.defaultPrevented&&r&&r.preventDefault(),b}};function JI(a,e={}){for(const[t,i]of Object.entries(e))try{a[t]=i}catch{Object.defineProperty(a,t,{configurable:!0,get:()=>i})}return a}function _N(a){if("true"===a)return!0;if("false"===a)return!1;if(a===Number(a).toString())return Number(a);if(""===a||"null"===a)return null;if("string"!=typeof a)return a;try{return JSON.parse(decodeURIComponent(a))}catch{return a}}function QI(a){return a.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Bs={setDataAttribute(a,e,t){a.setAttribute(`data-bs-${QI(e)}`,t)},removeDataAttribute(a,e){a.removeAttribute(`data-bs-${QI(e)}`)},getDataAttributes(a){if(!a)return{};const e={},t=Object.keys(a.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of t){let n=i.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1),e[n]=_N(a.dataset[i])}return e},getDataAttribute:(a,e)=>_N(a.getAttribute(`data-bs-${QI(e)}`))};class CA{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const i=Os(t)?Bs.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...Os(t)?Bs.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[i,n]of Object.entries(t)){const s=e[i],r=Os(s)?"element":w5(s);if(!new RegExp(n).test(r))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${r}" but expected type "${n}".`)}}}class Xa extends CA{constructor(e,t){super(),(e=hc(e))&&(this._element=e,this._config=this._getConfig(t),WI.set(this._element,this.constructor.DATA_KEY,this))}dispose(){WI.remove(this._element,this.constructor.DATA_KEY),Le.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,i=!0){gN(e,t,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return WI.get(hc(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const ZI=a=>{let e=a.getAttribute("data-bs-target");if(!e||"#"===e){let t=a.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&"#"!==t?t.trim():null}return e?e.split(",").map(t=>uN(t)).join(","):null},ht={find:(a,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,a)),findOne:(a,e=document.documentElement)=>Element.prototype.querySelector.call(e,a),children:(a,e)=>[].concat(...a.children).filter(t=>t.matches(e)),parents(a,e){const t=[];let i=a.parentNode.closest(e);for(;i;)t.push(i),i=i.parentNode.closest(e);return t},prev(a,e){let t=a.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(a,e){let t=a.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(a){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,a).filter(t=>!pc(t)&&Yg(t))},getSelectorFromElement(a){const e=ZI(a);return e&&ht.findOne(e)?e:null},getElementFromSelector(a){const e=ZI(a);return e?ht.findOne(e):null},getMultipleElementsFromSelector(a){const e=ZI(a);return e?ht.find(e):[]}},Bw=(a,e="hide")=>{const i=a.NAME;Le.on(document,`click.dismiss${a.EVENT_KEY}`,`[data-bs-dismiss="${i}"]`,function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),pc(this))return;const s=ht.getElementFromSelector(this)||this.closest(`.${i}`);a.getOrCreateInstance(s)[e]()})},kN=".bs.alert",B5=`close${kN}`,$5=`closed${kN}`;class $w extends Xa{static get NAME(){return"alert"}close(){if(Le.trigger(this._element,B5).defaultPrevented)return;this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),Le.trigger(this._element,$5),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=$w.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Bw($w,"close"),va($w);const wN='[data-bs-toggle="button"]';class Gw extends Xa{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each(function(){const t=Gw.getOrCreateInstance(this);"toggle"===e&&t[e]()})}}Le.on(document,"click.bs.button.data-api",wN,a=>{a.preventDefault();const e=a.target.closest(wN);Gw.getOrCreateInstance(e).toggle()}),va(Gw);const Xg=".bs.swipe",z5=`touchstart${Xg}`,Y5=`touchmove${Xg}`,X5=`touchend${Xg}`,J5=`pointerdown${Xg}`,Q5=`pointerup${Xg}`,n6={endCallback:null,leftCallback:null,rightCallback:null},r6={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Hw extends CA{constructor(e,t){super(),this._element=e,e&&Hw.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return n6}static get DefaultType(){return r6}static get NAME(){return"swipe"}dispose(){Le.off(this._element,Xg)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),$r(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&$r(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Le.on(this._element,J5,e=>this._start(e)),Le.on(this._element,Q5,e=>this._end(e)),this._element.classList.add("pointer-event")):(Le.on(this._element,z5,e=>this._start(e)),Le.on(this._element,Y5,e=>this._move(e)),Le.on(this._element,X5,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const gc=".bs.carousel",TN=".data-api",o6="ArrowLeft",s6="ArrowRight",DA="next",Jg="prev",Qg="left",jw="right",c6=`slide${gc}`,eR=`slid${gc}`,u6=`keydown${gc}`,d6=`mouseenter${gc}`,h6=`mouseleave${gc}`,p6=`dragstart${gc}`,g6=`load${gc}${TN}`,m6=`click${gc}${TN}`,EN="carousel",qw="active",CN=".active",DN=".carousel-item",S6=CN+DN,T6={[o6]:jw,[s6]:Qg},E6={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},C6={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class MA extends Xa{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ht.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===EN&&this.cycle()}static get Default(){return E6}static get DefaultType(){return C6}static get NAME(){return"carousel"}next(){this._slide(DA)}nextWhenVisible(){!document.hidden&&Yg(this._element)&&this.next()}prev(){this._slide(Jg)}pause(){this._isSliding&&dN(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void Le.one(this._element,eR,()=>this.cycle());this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void Le.one(this._element,eR,()=>this.to(e));const i=this._getItemIndex(this._getActive());i!==e&&this._slide(e>i?DA:Jg,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&Le.on(this._element,u6,e=>this._keydown(e)),"hover"===this._config.pause&&(Le.on(this._element,d6,()=>this.pause()),Le.on(this._element,h6,()=>this._maybeEnableCycle())),this._config.touch&&Hw.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of ht.find(".carousel-item img",this._element))Le.on(i,p6,n=>n.preventDefault());this._swipeHelper=new Hw(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Qg)),rightCallback:()=>this._slide(this._directionToOrder(jw)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=T6[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=ht.findOne(CN,this._indicatorsElement);t.classList.remove(qw),t.removeAttribute("aria-current");const i=ht.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(qw),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const i=this._getActive(),n=e===DA,s=t||zI(this._getItems(),i,n,this._config.wrap);if(s===i)return;const r=this._getItemIndex(s),c=Y=>Le.trigger(this._element,Y,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:r});if(c(c6).defaultPrevented||!i||!s)return;const h=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(r),this._activeElement=s;const b=n?"carousel-item-start":"carousel-item-end",D=n?"carousel-item-next":"carousel-item-prev";s.classList.add(D),i.classList.add(b),s.classList.add(b),this._queueCallback(()=>{s.classList.remove(b,D),s.classList.add(qw),i.classList.remove(qw,D,b),this._isSliding=!1,c(eR)},i,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ht.findOne(S6,this._element)}_getItems(){return ht.find(DN,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return ya()?e===Qg?Jg:DA:e===Qg?DA:Jg}_orderToDirection(e){return ya()?e===Jg?Qg:jw:e===Jg?jw:Qg}static jQueryInterface(e){return this.each(function(){const t=MA.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)})}}Le.on(document,m6,"[data-bs-slide], [data-bs-slide-to]",function(a){const e=ht.getElementFromSelector(this);if(!e||!e.classList.contains(EN))return;a.preventDefault();const t=MA.getOrCreateInstance(e),i=this.getAttribute("data-bs-slide-to");return i?(t.to(i),void t._maybeEnableCycle()):"next"===Bs.getDataAttribute(this,"slide")?(t.next(),void t._maybeEnableCycle()):(t.prev(),void t._maybeEnableCycle())}),Le.on(window,g6,()=>{const a=ht.find('[data-bs-ride="carousel"]');for(const e of a)MA.getOrCreateInstance(e)}),va(MA);const xA=".bs.collapse",x6=`show${xA}`,I6=`shown${xA}`,R6=`hide${xA}`,L6=`hidden${xA}`,N6=`click${xA}.data-api`,tR="show",Zg="collapse",Uw="collapsing",O6=`:scope .${Zg} .${Zg}`,iR='[data-bs-toggle="collapse"]',j6={parent:null,toggle:!0},q6={parent:"(null|element)",toggle:"boolean"};class IA extends Xa{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const i=ht.find(iR);for(const n of i){const s=ht.getSelectorFromElement(n),r=ht.find(s).filter(c=>c===this._element);null!==s&&r.length&&this._triggerArray.push(n)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return j6}static get DefaultType(){return q6}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(c=>c!==this._element).map(c=>IA.getOrCreateInstance(c,{toggle:!1}))),e.length&&e[0]._isTransitioning||Le.trigger(this._element,x6).defaultPrevented)return;for(const c of e)c.hide();const i=this._getDimension();this._element.classList.remove(Zg),this._element.classList.add(Uw),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Uw),this._element.classList.add(Zg,tR),this._element.style[i]="",Le.trigger(this._element,I6)},this._element,!0),this._element.style[i]=`${this._element[r]}px`}hide(){if(this._isTransitioning||!this._isShown()||Le.trigger(this._element,R6).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,this._element.classList.add(Uw),this._element.classList.remove(Zg,tR);for(const n of this._triggerArray){const s=ht.getElementFromSelector(n);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([n],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Uw),this._element.classList.add(Zg),Le.trigger(this._element,L6)},this._element,!0)}_isShown(e=this._element){return e.classList.contains(tR)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=hc(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(iR);for(const t of e){const i=ht.getElementFromSelector(t);i&&this._addAriaAndCollapsedClass([t],this._isShown(i))}}_getFirstLevelChildren(e){const t=ht.find(O6,this._config.parent);return ht.find(e,this._config.parent).filter(i=>!t.includes(i))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const i of e)i.classList.toggle("collapsed",!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const i=IA.getOrCreateInstance(this,t);if("string"==typeof e){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}}Le.on(document,N6,iR,function(a){("A"===a.target.tagName||a.delegateTarget&&"A"===a.delegateTarget.tagName)&&a.preventDefault();for(const e of ht.getMultipleElementsFromSelector(this))IA.getOrCreateInstance(e,{toggle:!1}).toggle()}),va(IA);const MN="dropdown",gd=".bs.dropdown",nR=".data-api",W6="ArrowUp",IN="ArrowDown",K6=`hide${gd}`,z6=`hidden${gd}`,Y6=`show${gd}`,X6=`shown${gd}`,RN=`click${gd}${nR}`,LN=`keydown${gd}${nR}`,J6=`keyup${gd}${nR}`,em="show",md='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',nq=`${md}.${em}`,Ww=".dropdown-menu",sq=ya()?"top-end":"top-start",lq=ya()?"top-start":"top-end",cq=ya()?"bottom-end":"bottom-start",uq=ya()?"bottom-start":"bottom-end",dq=ya()?"left-start":"right-start",hq=ya()?"right-start":"left-start",mq={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},fq={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Mo extends Xa{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=ht.next(this._element,Ww)[0]||ht.prev(this._element,Ww)[0]||ht.findOne(Ww,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return mq}static get DefaultType(){return fq}static get NAME(){return MN}toggle(){return this._isShown()?this.hide():this.show()}show(){if(pc(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!Le.trigger(this._element,Y6,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const i of[].concat(...document.body.children))Le.on(i,"mouseover",Ow);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(em),this._element.classList.add(em),Le.trigger(this._element,X6,e)}}hide(){!pc(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!Le.trigger(this._element,K6,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))Le.off(i,"mouseover",Ow);this._popper&&this._popper.destroy(),this._menu.classList.remove(em),this._element.classList.remove(em),this._element.setAttribute("aria-expanded","false"),Bs.removeDataAttribute(this._menu,"popper"),Le.trigger(this._element,z6,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!Os(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${MN.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){let e=this._element;"parent"===this._config.reference?e=this._parent:Os(this._config.reference)?e=hc(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=UI(e,this._menu,t)}_isShown(){return this._menu.classList.contains(em)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return dq;if(e.classList.contains("dropstart"))return hq;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?lq:sq:t?uq:cq}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Bs.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...$r(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:t}){const i=ht.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(n=>Yg(n));i.length&&zI(i,t,e===IN,!i.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=Mo.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=ht.find(nq);for(const i of t){const n=Mo.getInstance(i);if(!n||!1===n._config.autoClose)continue;const s=e.composedPath(),r=s.includes(n._menu);if(s.includes(n._element)||"inside"===n._config.autoClose&&!r||"outside"===n._config.autoClose&&r||n._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const c={relatedTarget:n._element};"click"===e.type&&(c.clickEvent=e),n._completeHide(c)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),i="Escape"===e.key,n=[W6,IN].includes(e.key);if(!n&&!i||t&&!i)return;e.preventDefault();const s=this.matches(md)?this:ht.prev(this,md)[0]||ht.next(this,md)[0]||ht.findOne(md,e.delegateTarget.parentNode),r=Mo.getOrCreateInstance(s);if(n)return e.stopPropagation(),r.show(),void r._selectMenuItem(e);r._isShown()&&(e.stopPropagation(),r.hide(),s.focus())}}Le.on(document,LN,md,Mo.dataApiKeydownHandler),Le.on(document,LN,Ww,Mo.dataApiKeydownHandler),Le.on(document,RN,Mo.clearMenus),Le.on(document,J6,Mo.clearMenus),Le.on(document,RN,md,function(a){a.preventDefault(),Mo.getOrCreateInstance(this).toggle()}),va(Mo);const NN="backdrop",ON=`mousedown.bs.${NN}`,vq={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},bq={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class BN extends CA{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return vq}static get DefaultType(){return bq}static get NAME(){return NN}show(e){if(!this._config.isVisible)return void $r(e);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{$r(e)})}hide(e){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),$r(e)})):$r(e)}dispose(){this._isAppended&&(Le.off(this._element,ON),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=hc(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),Le.on(e,ON,()=>{$r(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){gN(e,this._getElement(),this._config.isAnimated)}}const Vw=".bs.focustrap",Sq=`focusin${Vw}`,Pq=`keydown.tab${Vw}`,$N="backward",wq={autofocus:!0,trapElement:null},Tq={autofocus:"boolean",trapElement:"element"};class GN extends CA{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return wq}static get DefaultType(){return Tq}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Le.off(document,Vw),Le.on(document,Sq,e=>this._handleFocusin(e)),Le.on(document,Pq,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Le.off(document,Vw))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const i=ht.focusableChildren(t);0===i.length?t.focus():this._lastTabNavDirection===$N?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?$N:"forward")}}const HN=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",jN=".sticky-top",Kw="padding-right",qN="margin-right";class rR{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Kw,t=>t+e),this._setElementAttributes(HN,Kw,t=>t+e),this._setElementAttributes(jN,qN,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Kw),this._resetElementAttributes(HN,Kw),this._resetElementAttributes(jN,qN)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){const n=this.getWidth();this._applyManipulationCallback(e,r=>{if(r!==this._element&&window.innerWidth>r.clientWidth+n)return;this._saveInitialAttribute(r,t);const c=window.getComputedStyle(r).getPropertyValue(t);r.style.setProperty(t,`${i(Number.parseFloat(c))}px`)})}_saveInitialAttribute(e,t){const i=e.style.getPropertyValue(t);i&&Bs.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,n=>{const s=Bs.getDataAttribute(n,t);null!==s?(Bs.removeDataAttribute(n,t),n.style.setProperty(t,s)):n.style.removeProperty(t)})}_applyManipulationCallback(e,t){if(Os(e))t(e);else for(const i of ht.find(e,this._element))t(i)}}const ba=".bs.modal",Mq=`hide${ba}`,xq=`hidePrevented${ba}`,UN=`hidden${ba}`,WN=`show${ba}`,Iq=`shown${ba}`,Rq=`resize${ba}`,Lq=`click.dismiss${ba}`,Nq=`mousedown.dismiss${ba}`,Fq=`keydown.dismiss${ba}`,Oq=`click${ba}.data-api`,VN="modal-open",aR="modal-static",qq={backdrop:!0,focus:!0,keyboard:!0},Uq={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class fd extends Xa{constructor(e,t){super(e,t),this._dialog=ht.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new rR,this._addEventListeners()}static get Default(){return qq}static get DefaultType(){return Uq}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||Le.trigger(this._element,WN,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(VN),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||Le.trigger(this._element,Mq).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Le.off(window,ba),Le.off(this._dialog,ba),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new BN({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new GN({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=ht.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Le.trigger(this._element,Iq,{relatedTarget:e})},this._dialog,this._isAnimated())}_addEventListeners(){Le.on(this._element,Fq,e=>{if("Escape"===e.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),Le.on(window,Rq,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Le.on(this._element,Nq,e=>{Le.one(this._element,Lq,t=>{if(this._element===e.target&&this._element===t.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(VN),this._resetAdjustments(),this._scrollBar.reset(),Le.trigger(this._element,UN)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Le.trigger(this._element,xq).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;"hidden"===i||this._element.classList.contains(aR)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(aR),this._queueCallback(()=>{this._element.classList.remove(aR),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;if(i&&!e){const n=ya()?"paddingLeft":"paddingRight";this._element.style[n]=`${t}px`}if(!i&&e){const n=ya()?"paddingRight":"paddingLeft";this._element.style[n]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const i=fd.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e](t)}})}}Le.on(document,Oq,'[data-bs-toggle="modal"]',function(a){const e=ht.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&a.preventDefault(),Le.one(e,WN,n=>{n.defaultPrevented||Le.one(e,UN,()=>{Yg(this)&&this.focus()})});const t=ht.findOne(".modal.show");t&&fd.getInstance(t).hide(),fd.getOrCreateInstance(e).toggle(this)}),Bw(fd),va(fd);const $s=".bs.offcanvas",zN=".data-api",Vq=`load${$s}${zN}`,XN="showing",QN=".offcanvas.show",Yq=`show${$s}`,Xq=`shown${$s}`,Jq=`hide${$s}`,ZN=`hidePrevented${$s}`,eF=`hidden${$s}`,Qq=`resize${$s}`,Zq=`click${$s}${zN}`,e8=`keydown.dismiss${$s}`,i8={backdrop:!0,keyboard:!0,scroll:!1},n8={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class mc extends Xa{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return i8}static get DefaultType(){return n8}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||Le.trigger(this._element,Yq,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new rR).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(XN),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(XN),Le.trigger(this._element,Xq,{relatedTarget:e})},this._element,!0))}hide(){this._isShown&&!Le.trigger(this._element,Jq).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new rR).reset(),Le.trigger(this._element,eF)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=!!this._config.backdrop;return new BN({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{"static"!==this._config.backdrop?this.hide():Le.trigger(this._element,ZN)}:null})}_initializeFocusTrap(){return new GN({trapElement:this._element})}_addEventListeners(){Le.on(this._element,e8,e=>{if("Escape"===e.key){if(this._config.keyboard)return void this.hide();Le.trigger(this._element,ZN)}})}static jQueryInterface(e){return this.each(function(){const t=mc.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Le.on(document,Zq,'[data-bs-toggle="offcanvas"]',function(a){const e=ht.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&a.preventDefault(),pc(this))return;Le.one(e,eF,()=>{Yg(this)&&this.focus()});const t=ht.findOne(QN);t&&t!==e&&mc.getInstance(t).hide(),mc.getOrCreateInstance(e).toggle(this)}),Le.on(window,Vq,()=>{for(const a of ht.find(QN))mc.getOrCreateInstance(a).show()}),Le.on(window,Qq,()=>{for(const a of ht.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(a).position&&mc.getOrCreateInstance(a).hide()}),Bw(mc),va(mc);const tF={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},r8=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),a8=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,o8=(a,e)=>{const t=a.nodeName.toLowerCase();return e.includes(t)?!r8.has(t)||!!a8.test(a.nodeValue):e.filter(i=>i instanceof RegExp).some(i=>i.test(t))},c8={allowList:tF,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},u8={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},d8={entry:"(string|element|function|null)",selector:"(string|element)"};class h8 extends CA{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return c8}static get DefaultType(){return u8}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[n,s]of Object.entries(this._config.content))this._setContent(e,s,n);const t=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&t.classList.add(...i.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,i]of Object.entries(e))super._typeCheckConfig({selector:t,entry:i},d8)}_setContent(e,t,i){const n=ht.findOne(i,e);if(n){if(!(t=this._resolvePossibleFunction(t)))return void n.remove();if(Os(t))return void this._putElementInTemplate(hc(t),n);if(this._config.html)return void(n.innerHTML=this._maybeSanitize(t));n.textContent=t}}_maybeSanitize(e){return this._config.sanitize?function s8(a,e,t){if(!a.length)return a;if(t&&"function"==typeof t)return t(a);const n=(new window.DOMParser).parseFromString(a,"text/html"),s=[].concat(...n.body.querySelectorAll("*"));for(const r of s){const c=r.nodeName.toLowerCase();if(!Object.keys(e).includes(c)){r.remove();continue}const u=[].concat(...r.attributes),h=[].concat(e["*"]||[],e[c]||[]);for(const b of u)o8(b,h)||r.removeAttribute(b.nodeName)}return n.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return $r(e,[void 0,this])}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const g8=new Set(["sanitize","allowList","sanitizeFn"]),oR="fade",zw="show",f8=".tooltip-inner",nF="hide.bs.modal",RA="hover",sR="focus",lR="click",C8={AUTO:"auto",TOP:"top",RIGHT:ya()?"left":"right",BOTTOM:"bottom",LEFT:ya()?"right":"left"},D8={allowList:tF,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},M8={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class tm extends Xa{constructor(e,t){super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return D8}static get DefaultType(){return M8}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),Le.off(this._element.closest(".modal"),nF,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=Le.trigger(this._element,this.constructor.eventName("show")),i=(hN(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!i)return;this._disposePopper();const n=this._getTipElement();this._element.setAttribute("aria-describedby",n.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(n),Le.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(n),n.classList.add(zw),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))Le.on(c,"mouseover",Ow);this._queueCallback(()=>{Le.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Le.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(zw),"ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))Le.off(n,"mouseover",Ow);this._activeTrigger[lR]=!1,this._activeTrigger[sR]=!1,this._activeTrigger[RA]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Le.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(oR,zw),t.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(a=>{do{a+=Math.floor(1e6*Math.random())}while(document.getElementById(a));return a})(this.constructor.NAME).toString();return t.setAttribute("id",i),this._isAnimated()&&t.classList.add(oR),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new h8({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[f8]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(oR)}_isShown(){return this.tip&&this.tip.classList.contains(zw)}_createPopper(e){const t=$r(this._config.placement,[this,e,this._element]),i=C8[t.toUpperCase()];return UI(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return $r(e,[this._element,this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...t,...$r(this._config.popperConfig,[void 0,t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)Le.on(this._element,this.constructor.eventName("click"),this._config.selector,i=>{const n=this._initializeOnDelegatedTarget(i);n._activeTrigger[lR]=!(n._isShown()&&n._activeTrigger[lR]),n.toggle()});else if("manual"!==t){const i=this.constructor.eventName(t===RA?"mouseenter":"focusin"),n=this.constructor.eventName(t===RA?"mouseleave":"focusout");Le.on(this._element,i,this._config.selector,s=>{const r=this._initializeOnDelegatedTarget(s);r._activeTrigger["focusin"===s.type?sR:RA]=!0,r._enter()}),Le.on(this._element,n,this._config.selector,s=>{const r=this._initializeOnDelegatedTarget(s);r._activeTrigger["focusout"===s.type?sR:RA]=r._element.contains(s.relatedTarget),r._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Le.on(this._element.closest(".modal"),nF,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=Bs.getDataAttributes(this._element);for(const i of Object.keys(t))g8.has(i)&&delete t[i];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:hc(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,i]of Object.entries(this._config))this.constructor.Default[t]!==i&&(e[t]=i);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=tm.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}va(tm);const I8=".popover-header",R8=".popover-body",L8={...tm.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},N8={...tm.DefaultType,content:"(null|string|element|function)"};class cR extends tm{static get Default(){return L8}static get DefaultType(){return N8}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[I8]:this._getTitle(),[R8]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=cR.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}va(cR);const uR=".bs.scrollspy",B8=`activate${uR}`,rF=`click${uR}`,$8=`load${uR}.data-api`,im="active",dR="[href]",aF=".nav-link",q8=`${aF}, .nav-item > ${aF}, .list-group-item`,V8={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},K8={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Yw extends Xa{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return V8}static get DefaultType(){return K8}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=hc(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Le.off(this._config.target,rF),Le.on(this._config.target,rF,dR,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const i=this._rootElement||window,n=t.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:n,behavior:"smooth"});i.scrollTop=n}}))}_getNewObserver(){return new IntersectionObserver(t=>this._observerCallback(t),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(e){const t=r=>this._targetLinks.get(`#${r.target.id}`),i=r=>{this._previousScrollData.visibleEntryTop=r.target.offsetTop,this._process(t(r))},n=(this._rootElement||document.documentElement).scrollTop,s=n>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=n;for(const r of e){if(!r.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(r));continue}const c=r.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&c){if(i(r),!n)return}else!s&&!c&&i(r)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=ht.find(dR,this._config.target);for(const t of e){if(!t.hash||pc(t))continue;const i=ht.findOne(decodeURI(t.hash),this._element);Yg(i)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,i))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(im),this._activateParents(e),Le.trigger(this._element,B8,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))ht.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(im);else for(const t of ht.parents(e,".nav, .list-group"))for(const i of ht.prev(t,q8))i.classList.add(im)}_clearActiveClass(e){e.classList.remove(im);const t=ht.find(`${dR}.${im}`,e);for(const i of t)i.classList.remove(im)}static jQueryInterface(e){return this.each(function(){const t=Yw.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}Le.on(window,$8,()=>{for(const a of ht.find('[data-bs-spy="scroll"]'))Yw.getOrCreateInstance(a)}),va(Yw);const yd=".bs.tab",Y8=`hide${yd}`,X8=`hidden${yd}`,J8=`show${yd}`,Q8=`shown${yd}`,Z8=`click${yd}`,eU=`keydown${yd}`,tU=`load${yd}`,iU="ArrowLeft",oF="ArrowRight",nU="ArrowUp",sF="ArrowDown",hR="Home",lF="End",vd="active",pR="show",uF=".dropdown-toggle",gR=`:not(${uF})`,dF='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',mR=`.nav-link${gR}, .list-group-item${gR}, [role="tab"]${gR}, ${dF}`,cU=`.${vd}[data-bs-toggle="tab"], .${vd}[data-bs-toggle="pill"], .${vd}[data-bs-toggle="list"]`;class nm extends Xa{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Le.on(this._element,eU,t=>this._keydown(t)))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),i=t?Le.trigger(t,Y8,{relatedTarget:e}):null;Le.trigger(e,J8,{relatedTarget:t}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(vd),this._activate(ht.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),Le.trigger(e,Q8,{relatedTarget:t})):e.classList.add(pR)},e,e.classList.contains("fade")))}_deactivate(e,t){e&&(e.classList.remove(vd),e.blur(),this._deactivate(ht.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),Le.trigger(e,X8,{relatedTarget:t})):e.classList.remove(pR)},e,e.classList.contains("fade")))}_keydown(e){if(![iU,oF,nU,sF,hR,lF].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(n=>!pc(n));let i;if([hR,lF].includes(e.key))i=t[e.key===hR?0:t.length-1];else{const n=[oF,sF].includes(e.key);i=zI(t,e.target,n,!0)}i&&(i.focus({preventScroll:!0}),nm.getOrCreateInstance(i).show())}_getChildren(){return ht.find(mR,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const i of t)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",t),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=ht.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const i=this._getOuterElement(e);if(!i.classList.contains("dropdown"))return;const n=(s,r)=>{const c=ht.findOne(s,i);c&&c.classList.toggle(r,t)};n(uF,vd),n(".dropdown-menu",pR),i.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,i){e.hasAttribute(t)||e.setAttribute(t,i)}_elemIsActive(e){return e.classList.contains(vd)}_getInnerElement(e){return e.matches(mR)?e:ht.findOne(mR,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each(function(){const t=nm.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}Le.on(document,Z8,dF,function(a){["A","AREA"].includes(this.tagName)&&a.preventDefault(),!pc(this)&&nm.getOrCreateInstance(this).show()}),Le.on(window,tU,()=>{for(const a of ht.find(cU))nm.getOrCreateInstance(a)}),va(nm);const fc=".bs.toast",dU=`mouseover${fc}`,hU=`mouseout${fc}`,pU=`focusin${fc}`,gU=`focusout${fc}`,mU=`hide${fc}`,fU=`hidden${fc}`,yU=`show${fc}`,vU=`shown${fc}`,Xw="show",Jw="showing",AU={animation:"boolean",autohide:"boolean",delay:"number"},SU={animation:!0,autohide:!0,delay:5e3};class Qw extends Xa{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return SU}static get DefaultType(){return AU}static get NAME(){return"toast"}show(){Le.trigger(this._element,yU).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Xw,Jw),this._queueCallback(()=>{this._element.classList.remove(Jw),Le.trigger(this._element,vU),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!Le.trigger(this._element,mU).defaultPrevented&&(this._element.classList.add(Jw),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Jw,Xw),Le.trigger(this._element,fU)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Xw),super.dispose()}isShown(){return this._element.classList.contains(Xw)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){Le.on(this._element,dU,e=>this._onInteraction(e,!0)),Le.on(this._element,hU,e=>this._onInteraction(e,!1)),Le.on(this._element,pU,e=>this._onInteraction(e,!0)),Le.on(this._element,gU,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=Qw.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}function kU(a){return Gm(a)}function pF(a,e,t){"player"===e?a.playerPackImageBroken=!1:a.opponentPackImageBroken=!1}function DU(a){return iu(a)}function gF(a){a.customPackEditorModal.show(),a.formGroup.get("playerPack").setValue(a.previousPackPlayer,{emitEvent:!1}),a.formGroup.get("opponentPack").setValue(a.previousPackOpponent,{emitEvent:!1})}function fR(a,e){const t=a.petSelectors.toArray().slice("player"==e?0:5,"player"==e?5:10);for(const i of t)i.removePet();"player"===e?(a.formGroup.get("playerToy").setValue(null),a.formGroup.get("playerToyLevel").setValue(1),a.formGroup.get("playerHardToy").setValue(null),a.formGroup.get("playerHardToyLevel").setValue(1)):(a.formGroup.get("opponentToy").setValue(null),a.formGroup.get("opponentToyLevel").setValue(1),a.formGroup.get("opponentHardToy").setValue(null),a.formGroup.get("opponentHardToyLevel").setValue(1))}function mF(a,e,t=!1,i){let n=!1;try{const s=function j7(a){return!a||"object"!=typeof a||p2(a,H7),a}(JSON.parse(e));i?.resetBattle&&function FU(a){a.simulated=!1,a.battles=[],a.battleRandomEvents=[],a.battleRandomEventsByBattle=new Map,a.filteredBattlesCache=[],a.viewBattle=null,a.viewBattleLogs=[],a.viewBattleLogRows=[],a.playerWinner=0,a.opponentWinner=0,a.draw=0,a.apiResponse=null,a.battleStarted=!1,a.currBattle=null}(a),a.petSelectors?.length&&(fR(a,"player"),fR(a,"opponent")),Zw(a,s),yR(a),t||setTimeout(()=>{a.petSelectors&&a.petSelectors.forEach(r=>{r.fixLoadEquipment()})},0),n=!0}catch(s){console.error(s)}return n}function Zw(a,e){a.calculatorStateService.applyCalculatorState(a.formGroup,e,a.dayNight,()=>T2(a)),a.logService.setShowTriggerNamesInLogs(a.formGroup.get("showTriggerNamesInLogs")?.value)}function fF(a){const t=a.formGroup.get("turn").value%2==1;a.dayNight=t,a.gameService.gameApi.day=t}function yF(a){w2(a.formGroup,a.player,a.opponent),eT(a)}function eT(a){a.playerPetsControls=Array.from(a.formGroup.get("playerPets").controls).reverse(),a.opponentPetsControls=Array.from(a.formGroup.get("opponentPets").controls)}function yR(a){a.petService.buildCustomPackPets(a.formGroup.get("customPacks")),vF(a),Cw(a,a.player,a.formGroup.get("playerPack").value,!1),Cw(a,a.opponent,a.formGroup.get("opponentPack").value,!1),PA(a,a.player,a.formGroup.get("playerToy").value),PA(a,a.opponent,a.formGroup.get("opponentToy").value),a.gameService.gameApi.playerHardToy=a.formGroup.get("playerHardToy").value,a.gameService.gameApi.playerHardToyLevel=a.formGroup.get("playerHardToyLevel").value,a.gameService.gameApi.opponentHardToy=a.formGroup.get("opponentHardToy").value,a.gameService.gameApi.opponentHardToyLevel=a.formGroup.get("opponentHardToyLevel").value,Mw(a,a.player,a.formGroup.get("playerHardToy").value),Mw(a,a.opponent,a.formGroup.get("opponentHardToy").value),a.previousPackOpponent=a.opponent.pack,a.previousPackPlayer=a.player.pack}function vF(a){for(let e=0;e<5;e++){const t=a.formGroup.get("playerPets").controls[e];if(null==t.get("name").value)continue;const i=a.petService.createPet(t.value,a.player);a.player.setPet(e,i,!0)}for(let e=0;e<5;e++){const t=a.formGroup.get("opponentPets").controls[e];if(null==t.get("name").value)continue;const i=a.petService.createPet(t.value,a.opponent);a.opponent.setPet(e,i,!0)}}Bw(Qw),va(Qw);const jU={pP:"playerPack",oP:"opponentPack",pT:"playerToy",pTL:"playerToyLevel",pHT:"playerHardToy",pHTL:"playerHardToyLevel",oT:"opponentToy",oTL:"opponentToyLevel",oHT:"opponentHardToy",oHTL:"opponentHardToyLevel",t:"turn",pGS:"playerGoldSpent",oGS:"opponentGoldSpent",pRA:"playerRollAmount",oRA:"opponentRollAmount",pSA:"playerSummonedAmount",oSA:"opponentSummonedAmount",pL3:"playerLevel3Sold",oL3:"opponentLevel3Sold",p:"playerPets",o:"opponentPets",ap:"allPets",lf:"logFilter",cp:"customPacks",os:"oldStork",tp:"tokenPets",ks:"komodoShuffle",m:"mana",sd:"seed",tc:"triggersConsumed",sa:"showAdvanced",stn:"showTriggerNamesInLogs",swl:"showSwallowedLevels",ae:"ailmentEquipment",pTA:"playerTransformationAmount",oTA:"opponentTransformationAmount",n:"name",a:"attack",h:"health",e:"exp",eq:"equipment",bSP:"belugaSwallowedPet",pCP:"parrotCopyPet",pCPB:"parrotCopyPetBelugaSwallowedPet",...(()=>{const a={};for(let e=1;e<=3;e++){const t=`parrotCopyPetAbominationSwallowedPet${e}`,i=`pCPAS${e}`;a[i]=t,a[`${i}B`]=`${t}BelugaSwallowedPet`,a[`${i}L`]=`${t}Level`,a[`${i}T`]=`${t}TimesHurt`,a[`${i}PCP`]=`${t}ParrotCopyPet`,a[`${i}PCPB`]=`${t}ParrotCopyPetBelugaSwallowedPet`;for(let n=1;n<=3;n++){const s=`${t}ParrotCopyPetAbominationSwallowedPet${n}`,r=`${i}PCPAS${n}`;a[r]=s,a[`${r}B`]=`${s}BelugaSwallowedPet`,a[`${r}L`]=`${s}Level`,a[`${r}T`]=`${s}TimesHurt`}}return a})(),aSP1PCP:"abominationSwallowedPet1ParrotCopyPet",aSP2PCP:"abominationSwallowedPet2ParrotCopyPet",aSP3PCP:"abominationSwallowedPet3ParrotCopyPet",aSP1PCPB:"abominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet",aSP2PCPB:"abominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet",aSP3PCPB:"abominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet",aSP1PCPAS1:"abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1",aSP1PCPAS2:"abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2",aSP1PCPAS3:"abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3",aSP2PCPAS1:"abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1",aSP2PCPAS2:"abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2",aSP2PCPAS3:"abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3",aSP3PCPAS1:"abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1",aSP3PCPAS2:"abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2",aSP3PCPAS3:"abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3",aSP1PCPAS1B:"abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet",aSP1PCPAS2B:"abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet",aSP1PCPAS3B:"abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet",aSP2PCPAS1B:"abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet",aSP2PCPAS2B:"abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet",aSP2PCPAS3B:"abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet",aSP3PCPAS1B:"abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet",aSP3PCPAS2B:"abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet",aSP3PCPAS3B:"abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet",aSP1PCPAS1L:"abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level",aSP1PCPAS2L:"abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level",aSP1PCPAS3L:"abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level",aSP2PCPAS1L:"abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level",aSP2PCPAS2L:"abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level",aSP2PCPAS3L:"abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level",aSP3PCPAS1L:"abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level",aSP3PCPAS2L:"abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level",aSP3PCPAS3L:"abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level",aSP1PCPAS1T:"abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt",aSP1PCPAS2T:"abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt",aSP1PCPAS3T:"abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt",aSP2PCPAS1T:"abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt",aSP2PCPAS2T:"abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt",aSP2PCPAS3T:"abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt",aSP3PCPAS1T:"abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt",aSP3PCPAS2T:"abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt",aSP3PCPAS3T:"abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt",tH:"timesHurt"};function vR(a){if(Array.isArray(a))return a.map(e=>vR(e));if(null!==a&&"object"==typeof a){const e={};for(const t in a)e[jU[t]||t]=vR(a[t]);return e}return a}let qU=(()=>{class a{parseCalculatorStateFromUrl(){const t=new URLSearchParams(window.location.search),i=window.location.hash.startsWith("#")?window.location.hash.slice(1):window.location.hash,n=new URLSearchParams(i.startsWith("?")?i.slice(1):i),s=t.get("c")||n.get("c");if(!s)return{state:null};try{const r=decodeURIComponent(s);let c;if(r.trim().startsWith("{"))c=JSON.parse(r);else{const h=atob(s),b=decodeURIComponent(h);c=JSON.parse(b)}return{state:vR(c)}}catch{return{state:null,error:"Failed to parse calculator state from URL."}}}parseApiStateFromUrl(){const i=new URLSearchParams(window.location.search).get("code");if(!i)return{state:null};try{return{state:JSON.parse(decodeURIComponent(i))}}catch{return{state:null,error:"Error parsing API data from URL."}}}static \u0275fac=function(i){return new(i||a)};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function UU(a){return new X.gE({name:new X.MJ(a?.name??null,X.k0.required),tier1Pets:new X.MJ(a?.tier1Pets??[],a=>a.value&&10!==a.value.length?{length:!0}:null),tier2Pets:new X.MJ(a?.tier2Pets??[],a=>a.value&&10!==a.value.length?{length:!0}:null),tier3Pets:new X.MJ(a?.tier3Pets??[],a=>a.value&&10!==a.value.length?{length:!0}:null),tier4Pets:new X.MJ(a?.tier4Pets??[],a=>a.value&&10!==a.value.length?{length:!0}:null),tier5Pets:new X.MJ(a?.tier5Pets??[],a=>a.value&&10!==a.value.length?{length:!0}:null),tier6Pets:new X.MJ(a?.tier6Pets??[],a=>a.value&&10!==a.value.length?{length:!0}:null),spells:new X.MJ(a?.spells??[])})}let WU=(()=>{class a{gameService;constructor(t){this.gameService=t}applyCalculatorState(t,i,n,s){const c={...this.getDefaultState(),...i};t.patchValue(c,{emitEvent:!1});const u=i?.customPacks;i&&(i.customPacks=[]),this.loadCustomPacks(t,u),t.patchValue(i,{emitEvent:!1}),t.get("tokenPets")?.setValue(!0,{emitEvent:!1}),this.normalizeEquipmentControls(t.get("playerPets")),this.normalizeEquipmentControls(t.get("opponentPets")),s&&setTimeout(()=>s()),this.gameService.gameApi.oldStork=t.get("oldStork").value,this.gameService.gameApi.komodoShuffle=t.get("komodoShuffle").value,this.gameService.gameApi.mana=t.get("mana").value,this.gameService.gameApi.playerRollAmount=t.get("playerRollAmount").value,this.gameService.gameApi.opponentRollAmount=t.get("opponentRollAmount").value,this.gameService.gameApi.playerLevel3Sold=t.get("playerLevel3Sold").value,this.gameService.gameApi.opponentLevel3Sold=t.get("opponentLevel3Sold").value,this.gameService.gameApi.playerSummonedAmount=t.get("playerSummonedAmount").value,this.gameService.gameApi.opponentSummonedAmount=t.get("opponentSummonedAmount").value,this.gameService.gameApi.playerTransformationAmount=t.get("playerTransformationAmount").value,this.gameService.gameApi.opponentTransformationAmount=t.get("opponentTransformationAmount").value,this.gameService.gameApi.day=n,this.gameService.gameApi.turnNumber=t.get("turn").value}loadCustomPacks(t,i){const n=t.get("customPacks");n.clear();const s=Array.isArray(i)?i:[];for(const r of s){const c=UU(r);n.push(c)}}getDefaultState(){return{playerPack:"Turtle",opponentPack:"Turtle",playerToy:null,playerToyLevel:"1",playerHardToy:null,playerHardToyLevel:"1",opponentToy:null,opponentToyLevel:"1",opponentHardToy:null,opponentHardToyLevel:"1",turn:11,playerGoldSpent:10,opponentGoldSpent:10,playerRollAmount:4,opponentRollAmount:4,playerSummonedAmount:0,opponentSummonedAmount:0,playerTransformationAmount:0,opponentTransformationAmount:0,playerLevel3Sold:0,opponentLevel3Sold:0,playerPets:Array(5).fill(null),opponentPets:Array(5).fill(null),allPets:!1,logFilter:null,customPacks:[],oldStork:!1,tokenPets:!0,komodoShuffle:!1,mana:!1,seed:null,showAdvanced:!1,showTriggerNamesInLogs:!1,showSwallowedLevels:!1,ailmentEquipment:!1}}normalizeEquipmentControls(t){if(t?.controls?.length)for(const i of t.controls){const s=i.get("equipment");if(!s)continue;const r=s.value,c=this.getEquipmentName(r);c!==r&&s.setValue(c,{emitEvent:!1})}}getEquipmentName(t){return t?"string"==typeof t?t:"object"==typeof t&&"string"==typeof t.name?t.name:null:null}static \u0275fac=function(i){return new(i||a)(P.KVO(Or))};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();class VU{logService;gameService;abilityService;toyService;player;opponent;constructor(e,t,i,n,s,r){this.logService=e,this.gameService=t,this.abilityService=i,this.toyService=n,this.player=s,this.opponent=r}applyPreBattleFriendDeathCounts(){const e=[this.player,this.opponent];for(const t of e)for(const i of t.petArray)i?.friendsDiedBeforeBattle&&this.abilityService.simulatePostRemovalFriendFaintsCounters(i,i.friendsDiedBeforeBattle)}abilityCycle(){for(this.emptyFrontSpaceCheck();;){for(;this.abilityService.hasGlobalEvents;){const t=this.abilityService.peekNextHighestPriorityEvent();if(t&&this.abilityService.getPriorityNumber(t.abilityType)>=27&&(this.checkPetsAlive(),this.removeDeadPets())){this.resetClearFrontFlags(),this.emptyFrontSpaceCheck();continue}const i=this.abilityService.getNextHighestPriorityEvent();if(!i){console.error("AbilityCycle: Expected event from queue but got null. Queue state inconsistent.");break}this.abilityService.executeEventCallback(i),this.checkPetsAlive()}if(this.removeDeadPets()&&(this.resetClearFrontFlags(),this.emptyFrontSpaceCheck()),!this.abilityService.hasGlobalEvents){this.player.checkGoldenSpawn(),this.opponent.checkGoldenSpawn();break}}}checkPetsAlive(){this.player.checkPetsAlive(),this.opponent.checkPetsAlive()}removeDeadPets(){let e=!1;return e=this.player.removeDeadPets(),e=this.opponent.removeDeadPets()||e,e}emptyFrontSpaceCheck(){if(null==this.player.pet0)this.abilityService.triggerEmptyFrontSpaceEvents(this.player);else for(const e of this.player.petArray)e.clearFrontTriggered=!1;if(null==this.opponent.pet0)this.abilityService.triggerEmptyFrontSpaceEvents(this.opponent);else for(const e of this.opponent.petArray)e.clearFrontTriggered=!1;null==this.player.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.player),null==this.opponent.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.opponent),this.abilityService.executeEmptyFrontSpaceToyEvents()}initToys(){const e=this.player.toy,t=e?.startOfBattle;e&&t&&this.toyService.setStartOfBattleEvent({callback:()=>{t.call(e,this.gameService.gameApi);const s=e.level;for(let r of this.player.petArray)r instanceof vl&&(e.level=r.level,t.call(e,this.gameService.gameApi,!0),e.level=s)},priority:e.tier,player:this.player});const i=this.opponent.toy,n=i?.startOfBattle;i&&n&&this.toyService.setStartOfBattleEvent({callback:()=>{n.call(i,this.gameService.gameApi);const s=i.level;for(let r of this.opponent.petArray)r instanceof vl&&(i.level=r.level,n.call(i,this.gameService.gameApi,!0),i.level=s)},priority:i.tier,player:this.opponent})}initializeEquipmentMultipliers(){for(let e of this.player.petArray)e.equipment&&e.setEquipmentMultiplier();for(let e of this.opponent.petArray)e.equipment&&e.setEquipmentMultiplier()}resetClearFrontFlags(){for(const e of this.player.petArray)e.clearFrontTriggered=!1;for(const e of this.opponent.petArray)e.clearFrontTriggered=!1}}class KU{ctx;constructor(e){this.ctx=e}executeBattleLoop(){for(;this.ctx.getBattleStarted();)this.nextTurn()}startBattle(){this.reset(),this.ctx.setBattleStarted(!0),this.ctx.setTurns(0)}reset(){this.ctx.player.resetPets(),this.ctx.opponent.resetPets()}nextTurn(){let e=!1,t=null;this.ctx.setTurns(this.ctx.getTurns()+1);let i=this.ctx.player.alive(),n=this.ctx.opponent.alive();if(i&&!n){const s=this.tryAllEnemiesFaintedToyTrigger(this.ctx.player,this.ctx.opponent);if(n=this.ctx.opponent.alive(),!s){t=this.ctx.player;const r=this.ctx.getBattle();r&&(r.winner="player"),this.ctx.incrementPlayerWinner(),e=!0}}if(!i&&n){const s=this.tryAllEnemiesFaintedToyTrigger(this.ctx.opponent,this.ctx.player);if(i=this.ctx.player.alive(),!s){t=this.ctx.opponent;const r=this.ctx.getBattle();r&&(r.winner="opponent"),this.ctx.incrementOpponentWinner(),e=!0}}if(!i&&!n&&(this.ctx.incrementDraw(),e=!0),e)return this.ctx.logService.printState(this.ctx.player,this.ctx.opponent),this.endLog(t),void this.ctx.setBattleStarted(!1);if(this.ctx.getTurns()>=this.ctx.maxTurns&&(this.ctx.incrementDraw(),e=!0),e)return this.ctx.logService.printState(this.ctx.player,this.ctx.opponent),this.endLog(t),void this.ctx.setBattleStarted(!1);for(this.pushPetsForwards(),this.ctx.logService.printState(this.ctx.player,this.ctx.opponent);;){let s=this.ctx.player.pet0,r=this.ctx.opponent.pet0;this.ctx.player.pet0&&this.ctx.abilityService.triggerBeforeAttackEvent(this.ctx.player.pet0),this.ctx.opponent.pet0&&this.ctx.abilityService.triggerBeforeAttackEvent(this.ctx.opponent.pet0),this.ctx.abilityService.executeBeforeAttackEvents(),this.ctx.abilityEngine.checkPetsAlive();do{this.ctx.abilityEngine.abilityCycle()}while(this.ctx.abilityService.hasAbilityCycleEvents);if(!this.ctx.player.alive()||!this.ctx.opponent.alive())return;if(this.pushPetsForwards(),s&&s.transformed&&(s=s.transformedInto??s),r&&r.transformed&&(r=r.transformedInto??r),this.ctx.player.pet0==s&&this.ctx.opponent.pet0==r)break}this.ctx.player.resetJumpedFlags(),this.ctx.opponent.resetJumpedFlags(),this.fight(),this.ctx.abilityEngine.checkPetsAlive();do{this.ctx.abilityEngine.abilityCycle()}while(this.ctx.abilityService.hasAbilityCycleEvents)}fight(){const e=this.ctx.player.pet0,t=this.ctx.opponent.pet0;!e||!t||(e.attackPet(t),t.attackPet(e),e.useAttackDefenseEquipment(),t.useAttackDefenseEquipment(),this.ctx.gameService.gameApi.FirstNonJumpAttackHappened=!0,this.ctx.abilityEngine.checkPetsAlive(),this.ctx.abilityService.executeAfterAttackEvents())}pushPetsForwards(){this.ctx.player.pushPetsForward(),this.ctx.opponent.pushPetsForward()}endLog(e){let t;t=null==e?"Draw":e==this.ctx.player?"Player is the winner":"Opponent is the winner",this.ctx.logService.createLog({message:t,type:"board"})}tryAllEnemiesFaintedToyTrigger(e,t){return!!e.toy?.allEnemiesFainted&&(e.toy.allEnemiesFainted(this.ctx.gameService.gameApi),t.alive())}}class JU{logService;gameService;abilityService;petService;equipmentService;toyService;player;opponent;battleStarted=!1;turns=0;maxTurns=71;currBattle=null;battles=[];playerWinner=0;opponentWinner=0;draw=0;abilityEngine;eventProcessor;petFormCache=new WeakMap;constructor(e,t,i,n,s,r){this.logService=e,this.gameService=t,this.abilityService=i,this.petService=n,this.equipmentService=s,this.toyService=r,this.player=new Nm(e,i,t),this.opponent=new Nm(e,i,t),this.opponent.isOpponent=!0,this.gameService.init(this.player,this.opponent),this.abilityEngine=new VU(this.logService,this.gameService,this.abilityService,this.toyService,this.player,this.opponent),this.eventProcessor=new KU({player:this.player,opponent:this.opponent,logService:this.logService,gameService:this.gameService,abilityService:this.abilityService,abilityEngine:this.abilityEngine,maxTurns:this.maxTurns,getBattle:()=>this.currBattle,setBattle:u=>{this.currBattle=u},getBattleStarted:()=>this.battleStarted,setBattleStarted:u=>{this.battleStarted=u},getTurns:()=>this.turns,setTurns:u=>{this.turns=u},incrementPlayerWinner:()=>{this.playerWinner+=1},incrementOpponentWinner:()=>{this.opponentWinner+=1},incrementDraw:()=>{this.draw+=1}})}run(e,t){const i=function YU(a){if(null==a||!Number.isFinite(a))return()=>{};const e=function XU(a){let e=a>>>0;return()=>{e=e+1831565813>>>0;let t=Math.imul(e^e>>>15,1|e);return t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296}}(Math.trunc(a)),t=Math.random;return Math.random=e,()=>{Math.random=t}}(e.seed);try{let n=e.simulationCount||1e3;const s=!1!==e.logsEnabled;let r=0;const c=t?.onProgress&&null!=t.progressInterval?Math.max(1,t.progressInterval):null;this.logService.setEnabled(s),this.logService.setDeferDecorations(!0),this.resetSimulation(),this.setupGameEnvironment(e),e.optimizeDeterministicSimulations&&function zU(a,e,t,i){if(a.komodoShuffle||a.oldStork||a.playerToy&&i.isToyRandom(a.playerToy)||a.opponentToy&&i.isToyRandom(a.opponentToy))return!1;const n=s=>{if(!s)return!0;for(let r=0;r<s.length;r++){const c=s[r];if(!c||!c.name)continue;if(e.isPetRandom(c.name))return!1;let u=null;if("string"==typeof c.equipment?u=c.equipment:c.equipment&&"object"==typeof c.equipment&&(u=c.equipment.name),u&&t.isEquipmentRandom(u))return!1}return!0};return!(!n(a.playerPets)||!n(a.opponentPets))}(e,this.petService,this.equipmentService,this.toyService)&&(n=1);let u=null==e.maxLoggedBattles?s?n:0:Math.max(0,e.maxLoggedBattles);u>n&&(u=n);for(let h=0;h<n&&!t?.shouldAbort?.();h++){const b=s&&u>0&&r<u;if(this.logService.setEnabled(b),this.initBattle(e,b),b&&(r+=1),this.prepareBattle(e),this.executeBattleLoop(),this.reset(),t?.onProgress&&null!=c){const D=h+1;(D%c===0||D===n)&&t.onProgress({completed:D,total:n,playerWins:this.playerWinner,opponentWins:this.opponentWinner,draws:this.draw,loggedBattles:this.battles.length})}if(t?.shouldAbort?.())break}return{playerWins:this.playerWinner,opponentWins:this.opponentWinner,draws:this.draw,battles:this.battles}}finally{i()}}resetSimulation(){this.playerWinner=0,this.opponentWinner=0,this.draw=0,this.battles=[],this.currBattle=null}setupGameEnvironment(e){let t=1;e.turn>2&&(t=2),e.turn>4&&(t=3),e.turn>6&&(t=4),e.turn>8&&(t=5),e.turn>10&&(t=6),this.gameService.setPreviousShopTier(t),this.gameService.setTurnNumber(e.turn),this.gameService.setGoldSpent(e.playerGoldSpent??10,e.opponentGoldSpent??10),this.gameService.gameApi.oldStork=e.oldStork??!1,this.gameService.gameApi.komodoShuffle=e.komodoShuffle??!1,this.gameService.gameApi.mana=e.mana??!1,this.gameService.gameApi.playerRollAmount=e.playerRollAmount??4,this.gameService.gameApi.opponentRollAmount=e.opponentRollAmount??4,this.gameService.gameApi.playerLevel3Sold=e.playerLevel3Sold??0,this.gameService.gameApi.opponentLevel3Sold=e.opponentLevel3Sold??0,this.player.pack=e.playerPack,this.opponent.pack=e.opponentPack;const i=r=>{switch(r){case"Turtle":return this.petService.turtlePackPets;case"Puppy":return this.petService.puppyPackPets;case"Star":return this.petService.starPackPets;case"Golden":return this.petService.goldenPackPets;case"Unicorn":return this.petService.unicornPackPets;case"Danger":return this.petService.dangerPackPets;default:return this.petService.playerCustomPackPets.get(r)||new Map}},n=i(e.playerPack),s=i(e.opponentPack);this.gameService.setTierGroupPets(n,s)}initBattle(e,t=!0){this.logService.reset(),this.abilityService.clearGlobalEventQueue(),t?(this.currBattle={winner:"draw",logs:this.logService.getLogs()},this.battles.push(this.currBattle)):this.currBattle=null,this.gameService.gameApi.opponentSummonedAmount=e.opponentSummonedAmount??0,this.gameService.gameApi.playerSummonedAmount=e.playerSummonedAmount??0,this.gameService.gameApi.opponentTransformationAmount=e.opponentTransformationAmount??0,this.gameService.gameApi.playerTransformationAmount=e.playerTransformationAmount??0}prepareBattle(e){this.reset(),this.createPets(this.player,e.playerPets),this.createPets(this.opponent,e.opponentPets),this.applyPreBattleFriendDeathCounts(),e.playerToy?(this.player.toy=this.toyService.createToy(e.playerToy,this.player,e.playerToyLevel??1),this.player.originalToy=this.player.toy):(this.player.toy=null,this.player.originalToy=null),e.opponentToy?(this.opponent.toy=this.toyService.createToy(e.opponentToy,this.opponent,e.opponentToyLevel??1),this.opponent.originalToy=this.opponent.toy):(this.opponent.toy=null,this.opponent.originalToy=null),this.gameService.gameApi.playerHardToy=e.playerHardToy??null,this.gameService.gameApi.playerHardToyLevel=e.playerHardToyLevel??1,this.gameService.gameApi.opponentHardToy=e.opponentHardToy??null,this.gameService.gameApi.opponentHardToyLevel=e.opponentHardToyLevel??1,this.startBattle(),this.initToys(),this.abilityService.initSpecialEndTurnAbility(this.player),this.abilityService.initSpecialEndTurnAbility(this.opponent),this.gameService.gameApi.FirstNonJumpAttackHappened=!1,this.initializeEquipmentMultipliers(),this.logService.createLog({message:"Phase 1: Before battle",type:"board"}),this.logService.printState(this.player,this.opponent),this.abilityService.triggerBeforeStartOfBattleEvents(),this.abilityService.executeBeforeStartOfBattleEvents(),this.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);const t=i=>"Churros"===i.equipment?.name;this.logService.createLog({message:"Phase 2: Start of battle",type:"board"}),this.logService.printState(this.player,this.opponent),this.abilityService.triggerStartBattleEvents(t),this.abilityService.executeStartBattleEvents(),this.toyService.executeStartOfBattleEvents(),this.abilityService.triggerStartBattleEvents(i=>!t(i)),this.abilityService.executeStartBattleEvents(),this.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);this.logService.createLog({message:"Phase 3: After Start of Battle",type:"board"}),this.logService.printState(this.player,this.opponent)}createPets(e,t){for(let i=0;i<5;i++){const n=t[i];if(!n||!n.name)continue;let s=this.petFormCache.get(n);s||(s=this.buildPetForm(n),this.petFormCache.set(n,s));const r=this.petService.createPet(s,e);e.setPet(i,r,!0)}}buildPetForm(e){const t=e.equipment;let i=null;return"string"==typeof t?i={name:t}:t&&"object"==typeof t&&(i=t),{...e,name:e.name,attack:e.attack??0,health:e.health??0,exp:e.exp??0,mana:e.mana??0,triggersConsumed:e.triggersConsumed??0,foodsEaten:e.foodsEaten??0,equipment:i,equipmentUses:e.equipmentUses??("number"==typeof t?.uses?t.uses:null),battlesFought:e.battlesFought??0,timesHurt:e.timesHurt??0,friendsDiedBeforeBattle:e.friendsDiedBeforeBattle??0,abominationSwallowedPet1TimesHurt:e.abominationSwallowedPet1TimesHurt??0,abominationSwallowedPet2TimesHurt:e.abominationSwallowedPet2TimesHurt??0,abominationSwallowedPet3TimesHurt:e.abominationSwallowedPet3TimesHurt??0}}applyPreBattleFriendDeathCounts(){this.abilityEngine.applyPreBattleFriendDeathCounts()}executeBattleLoop(){this.eventProcessor.executeBattleLoop()}startBattle(){this.eventProcessor.startBattle()}reset(){this.eventProcessor.reset()}nextTurn(){this.eventProcessor.nextTurn()}fight(){this.eventProcessor.fight()}abilityCycle(){this.abilityEngine.abilityCycle()}checkPetsAlive(){this.abilityEngine.checkPetsAlive()}removeDeadPets(){return this.abilityEngine.removeDeadPets()}emptyFrontSpaceCheck(){this.abilityEngine.emptyFrontSpaceCheck()}initToys(){this.abilityEngine.initToys()}pushPetsForwards(){this.eventProcessor.pushPetsForwards()}endLog(e){this.eventProcessor.endLog(e)}initializeEquipmentMultipliers(){this.abilityEngine.initializeEquipmentMultipliers()}resetClearFrontFlags(){this.abilityEngine.resetClearFrontFlags()}}let ZU=(()=>{class a{logService;gameService;abilityService;petService;equipmentService;toyService;constructor(t,i,n,s,r,c){this.logService=t,this.gameService=i,this.abilityService=n,this.petService=s,this.equipmentService=r,this.toyService=c}runSimulationInWorker(t,i,n,s,r,c){if(typeof Worker>"u"){const H=this.runSimulation(t,i,n,s);return r.onResult?.(H),null}const u=this.buildConfig(t,i),h=t.get("showTriggerNamesInLogs")?.value??!1,b=c?.progressInterval??50,D=new Worker(w.tu(new URL(w.p+w.u(325),w.b)),{type:void 0});return D.onmessage=({data:H})=>{!H||!H.type||("progress"===H.type?r.onProgress?.(H):"result"===H.type?r.onResult?.(H.result):"aborted"===H.type?r.onAborted?.(H.result):"error"===H.type&&r.onError?.(H.message||"Worker simulation failed."))},D.onerror=H=>{r.onError?.(H.message||"Worker simulation failed.")},D.postMessage({type:"start",config:u,progressInterval:b,showTriggerNamesInLogs:h}),D}requestWorkerCancel(t){if(t)try{t.postMessage({type:"cancel"})}catch{}}runSimulation(t,i,n,s){const r=this.buildConfig(t,i),c=this.logService.isEnabled(),u=this.logService.isDeferDecorations();this.logService.setEnabled(!1!==r.logsEnabled),this.logService.setDeferDecorations(!0);const b=new JU(this.logService,this.gameService,this.abilityService,this.petService,this.equipmentService,this.toyService).run(r);return this.gameService.init(n,s),this.syncGameApiFromForm(t),this.logService.setEnabled(c),this.logService.setDeferDecorations(u),b}syncGameApiFromForm(t){this.gameService.gameApi.oldStork=t.get("oldStork").value,this.gameService.gameApi.komodoShuffle=t.get("komodoShuffle").value,this.gameService.gameApi.mana=t.get("mana").value,this.gameService.gameApi.playerRollAmount=t.get("playerRollAmount").value,this.gameService.gameApi.opponentRollAmount=t.get("opponentRollAmount").value,this.gameService.gameApi.playerLevel3Sold=t.get("playerLevel3Sold").value,this.gameService.gameApi.opponentLevel3Sold=t.get("opponentLevel3Sold").value,this.gameService.gameApi.playerSummonedAmount=t.get("playerSummonedAmount").value,this.gameService.gameApi.opponentSummonedAmount=t.get("opponentSummonedAmount").value,this.gameService.gameApi.playerTransformationAmount=t.get("playerTransformationAmount").value,this.gameService.gameApi.opponentTransformationAmount=t.get("opponentTransformationAmount").value,this.gameService.setGoldSpent(t.get("playerGoldSpent").value,t.get("opponentGoldSpent").value),this.gameService.setTurnNumber(t.get("turn").value)}buildConfig(t,i){const n=t.get("logsEnabled")?.value??!0,s=t.get("seed")?.value,r=Number(s),c=""!==s&&null!=s&&Number.isFinite(r)?Math.trunc(r):null;return{playerPack:t.get("playerPack").value,opponentPack:t.get("opponentPack").value,playerToy:t.get("playerToy").value,playerToyLevel:t.get("playerToyLevel").value,playerHardToy:t.get("playerHardToy").value,playerHardToyLevel:t.get("playerHardToyLevel").value,opponentToy:t.get("opponentToy").value,opponentToyLevel:t.get("opponentToyLevel").value,opponentHardToy:t.get("opponentHardToy").value,opponentHardToyLevel:t.get("opponentHardToyLevel").value,turn:t.get("turn").value,playerGoldSpent:t.get("playerGoldSpent").value,opponentGoldSpent:t.get("opponentGoldSpent").value,playerRollAmount:t.get("playerRollAmount").value,opponentRollAmount:t.get("opponentRollAmount").value,playerSummonedAmount:t.get("playerSummonedAmount").value,opponentSummonedAmount:t.get("opponentSummonedAmount").value,playerLevel3Sold:t.get("playerLevel3Sold").value,opponentLevel3Sold:t.get("opponentLevel3Sold").value,playerTransformationAmount:t.get("playerTransformationAmount").value,opponentTransformationAmount:t.get("opponentTransformationAmount").value,playerPets:this.normalizePetList(t.get("playerPets").value),opponentPets:this.normalizePetList(t.get("opponentPets").value),allPets:t.get("allPets").value,oldStork:t.get("oldStork").value,tokenPets:t.get("tokenPets").value,komodoShuffle:t.get("komodoShuffle").value,mana:t.get("mana").value,seed:c,simulationCount:i,logsEnabled:n,maxLoggedBattles:100}}normalizePetList(t){return Array.isArray(t)?t.map(i=>this.normalizePetEntry(i)):[]}normalizePetEntry(t){if(!t||!t.name)return null;const i={...t},n=i.equipment;let s=null,r=i.equipmentUses??null;if(n&&"object"==typeof n){if(s=n.name??null,null==r&&null!=n.uses){const c=Number(n.uses);r=Number.isFinite(c)?c:null}}else"string"==typeof n&&(s=n);return i.equipment=s?{name:s}:null,i.equipmentUses=r??null,delete i.parent,delete i.logService,delete i.abilityService,delete i.gameService,delete i.petService,delete i.abilityList,delete i.originalAbilityList,delete i.originalEquipment,i}static \u0275fac=function(i){return new(i||a)(P.KVO(Vn),P.KVO(Or),P.KVO(Ba),P.KVO(Kn),P.KVO(ui),P.KVO(Br))};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function bR(){return[{id:"default-max-damage",name:"1000 Mana",createdAt:Date.now(),toyName:"Nutcracker",toyLevel:3,pets:Array.from({length:5},()=>({name:"Sea Serpent",attack:50,health:50,exp:5,equipment:{name:"Coconut"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null}))},{id:"default-great-six",name:"The Great Six",createdAt:Date.now(),toyName:"Evil Book",toyLevel:3,pets:Array.from({length:5},()=>({name:"Beluga Whale",attack:50,health:50,exp:5,equipment:{name:"White Okra"},belugaSwallowedPet:"Great One",sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null}))},{id:"default-ability-removal",name:"Orca Scam",createdAt:Date.now(),playerToyName:"Pandoras Box",playerToyLevel:1,opponentToyName:null,opponentToyLevel:1,playerHardToy:null,playerHardToyLevel:1,opponentHardToy:null,opponentHardToyLevel:1,turn:11,playerGoldSpent:10,opponentGoldSpent:10,allPets:!0,tokenPets:!0,komodoShuffle:!1,mana:!0,triggersConsumed:!1,showSwallowedLevels:!0,changeEquipmentUses:!1,playerRollAmount:3,opponentRollAmount:1,playerLevel3Sold:0,opponentLevel3Sold:0,playerSummonedAmount:0,opponentSummonedAmount:0,playerTransformationAmount:100,opponentTransformationAmount:100,pets:[{name:"Giant Pangasius",attack:49,health:1,exp:1,equipment:null,belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1Level:1,abominationSwallowedPet2Level:1,abominationSwallowedPet3Level:1,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:1,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Orca",abominationSwallowedPet2:"Behemoth",abominationSwallowedPet3:"Rat",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:3,abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:50,health:1,exp:5,equipment:{name:"Silly"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Rat",abominationSwallowedPet2:"Phoenix",abominationSwallowedPet3:"Giant Pangasius",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:3,abominationSwallowedPet3Level:1,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:1,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet2:"Rat",abominationSwallowedPet3:"Albatross",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:3,abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Cashew Nut"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet2:"Panther",abominationSwallowedPet3:"Guineafowl",abominationSwallowedPet1Level:1,abominationSwallowedPet2Level:1,abominationSwallowedPet3Level:1,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null}]},{id:"default-sloths",name:"Sloths",createdAt:Date.now(),toyName:null,toyLevel:1,pets:Array.from({length:5},()=>({name:"Sloth",attack:1,health:1,exp:0,equipment:null,belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:0,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null}))},{id:"default-sob-snipes",name:"SoB Snipes",createdAt:Date.now(),toyName:"Nutcracker",toyLevel:3,pets:Array.from({length:5},()=>({name:"Leopard",attack:50,health:50,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,battlesFought:0,timesHurt:0,equipmentUses:null}))},{id:"default-infinite-damage",name:"Infinite Damage",createdAt:Date.now(),toyName:"Nutcracker",toyLevel:1,rollAmount:47,transformationAmount:200,pets:[{name:"Giant Pangasius",attack:50,health:1,exp:5,equipment:{name:"Mushroom"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Beluga Whale",abominationSwallowedPet3Level:1,abominationSwallowedPet3BelugaSwallowedPet:"Giant Pangasius",abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Cashew Nut"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Beluga Whale",abominationSwallowedPet3Level:1,abominationSwallowedPet3BelugaSwallowedPet:"Nessie",abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Sabertooth Tiger",abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:25,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Beluga Whale",abominationSwallowedPet3Level:1,abominationSwallowedPet3BelugaSwallowedPet:"Slug",abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null}]},{id:"default-shoggoths-return",name:"Shoggoth's Return",createdAt:Date.now(),toyName:"Tinder Box",toyLevel:3,rollAmount:14,pets:[{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Nessie",abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Highland Cow",abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Sabertooth Tiger",abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:50,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Unicorn",abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Hydra",abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null}]},{id:"default-shoggoth",name:"Shoggoth",createdAt:Date.now(),toyName:"Tinder Box",toyLevel:3,rollAmount:14,pets:[{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Nessie",abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Highland Cow",attack:50,health:50,exp:5,equipment:{name:"White Okra"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Sabertooth Tiger",attack:50,health:50,exp:5,equipment:{name:"White Okra"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,battlesFought:0,timesHurt:50,equipmentUses:null},{name:"Marine Iguana",attack:50,health:50,exp:5,equipment:{name:"White Okra"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Hydra",attack:50,health:50,exp:5,equipment:{name:"White Okra"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,battlesFought:0,timesHurt:0,equipmentUses:null}]}]}let tW=(()=>{class a{storageKey="sap-team-presets";loadTeams(){const t=window.localStorage.getItem(this.storageKey);if(!t)return bR();try{const i=JSON.parse(t),n=Array.isArray(i)?i:[],s=this.migrateTeams(n);return s.changed&&this.persistTeams(s.teams),this.mergeDefaultTeams(s.teams)}catch{return bR()}}persistTeams(t){window.localStorage.setItem(this.storageKey,JSON.stringify(t))}mergeDefaultTeams(t){const i=bR(),n=new Set(t.map(r=>r.id)),s=[...t];for(const r of i)n.has(r.id)||s.push(r);return s}migrateTeams(t){let i=!1;return{teams:t.map(s=>"default-ability-removal"!==s?.id||null!=s.showSwallowedLevels?s:(i=!0,{...s,showSwallowedLevels:!0})),changed:i}}static \u0275fac=function(i){return new(i||a)};static \u0275prov=P.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const iW=["customPackEditor"],nW=()=>[w.e(142).then(w.bind(w,7142)).then(a=>a.InfoComponent)],rW=()=>[w.e(346).then(w.bind(w,8346)).then(a=>a.ImportCalculatorComponent)],aW=()=>[X.cb,X.j4,w.e(56).then(w.bind(w,56)).then(a=>a.ExportCalculatorComponent)],oW=()=>[w.e(80).then(w.bind(w,3699)).then(a=>a.ReportABugComponent)];function sW(a,e){if(1&a&&(p.qex(0),p.j41(1,"div",4),p.EFF(2),p.k0s(),p.bVm()),2&a){const t=p.XpG();p.R7$(2),p.JRh(t.apiResponse)}}function lW(a,e){if(1&a&&p.nrm(0,"img",46),2&a){const t=p.XpG(2);p.Y8G("ngSrc",t.playerToyImageUrl)}}function cW(a,e){if(1&a){const t=p.RV6();p.j41(0,"div",47)(1,"button",48),p.bIt("click",function(){P.eBV(t);const n=p.XpG(2);return P.Njj(n.decrementToyLevel("player"))}),p.nrm(2,"i",49),p.k0s(),p.j41(3,"span",50),p.EFF(4),p.k0s(),p.j41(5,"button",51),p.bIt("click",function(){P.eBV(t);const n=p.XpG(2);return P.Njj(n.incrementToyLevel("player"))}),p.nrm(6,"i",52),p.k0s()()}if(2&a){const t=p.XpG(2);p.R7$(4),p.SpI("Lv",t.formGroup.get("playerToyLevel").value)}}function uW(a,e){if(1&a&&p.nrm(0,"img",53),2&a){const t=p.XpG(2);p.Y8G("ngSrc",t.playerHardToyImageUrl)}}function dW(a,e){if(1&a){const t=p.RV6();p.j41(0,"button",54),p.bIt("click",function(){P.eBV(t);const n=p.XpG(2);return P.Njj(n.removeHardToy("player"))}),p.nrm(1,"i",55),p.k0s()}}function hW(a,e){if(1&a&&(p.j41(0,"div",56)(1,"div",57),P.qSk(),p.j41(2,"svg",58),p.nrm(3,"path",59)(4,"path",60),p.k0s()(),P.joV(),p.nrm(5,"app-pet-selector",61),p.k0s()),2&a){const t=e.$implicit,i=e.index,n=p.XpG(2);p.R7$(5),p.Y8G("pet",n.player["pet"+(4-i)])("player",n.player)("opponent",n.opponent)("index",4-i)("formGroup",n.makeFormGroup(t))("ailments",!0)("allPets",n.formGroup.get("allPets").value)("mana",n.formGroup.get("mana").value)("triggersConsumed",n.formGroup.get("triggersConsumed").value)("allowEquipmentUseOverrides",n.formGroup.get("changeEquipmentUses").value)("showTokenPets",n.formGroup.get("tokenPets").value)("flipImage",!0)("customPacks",n.formGroup.get("customPacks"))("showSwallowedLevels",n.formGroup.get("showSwallowedLevels").value)}}function pW(a,e){if(1&a&&p.nrm(0,"img",62),2&a){const t=p.XpG(2);p.Y8G("ngSrc",t.opponentToyImageUrl)}}function gW(a,e){if(1&a){const t=p.RV6();p.j41(0,"div",47)(1,"button",48),p.bIt("click",function(){P.eBV(t);const n=p.XpG(2);return P.Njj(n.decrementToyLevel("opponent"))}),p.nrm(2,"i",49),p.k0s(),p.j41(3,"span",50),p.EFF(4),p.k0s(),p.j41(5,"button",51),p.bIt("click",function(){P.eBV(t);const n=p.XpG(2);return P.Njj(n.incrementToyLevel("opponent"))}),p.nrm(6,"i",52),p.k0s()()}if(2&a){const t=p.XpG(2);p.R7$(4),p.SpI("Lv",t.formGroup.get("opponentToyLevel").value)}}function mW(a,e){if(1&a&&p.nrm(0,"img",63),2&a){const t=p.XpG(2);p.Y8G("ngSrc",t.opponentHardToyImageUrl)}}function fW(a,e){if(1&a){const t=p.RV6();p.j41(0,"button",54),p.bIt("click",function(){P.eBV(t);const n=p.XpG(2);return P.Njj(n.removeHardToy("opponent"))}),p.nrm(1,"i",55),p.k0s()}}function yW(a,e){if(1&a&&(p.j41(0,"div",64)(1,"div",57),P.qSk(),p.j41(2,"svg",58),p.nrm(3,"path",59)(4,"path",60),p.k0s()(),P.joV(),p.nrm(5,"app-pet-selector",65),p.k0s()),2&a){const t=e.$implicit,i=e.index,n=p.XpG(2);p.R7$(5),p.Y8G("pet",n.opponent["pet"+i])("player",n.opponent)("opponent",n.player)("index",i)("formGroup",n.makeFormGroup(t))("ailments",!0)("allPets",n.formGroup.get("allPets").value)("mana",n.formGroup.get("mana").value)("triggersConsumed",n.formGroup.get("triggersConsumed").value)("allowEquipmentUseOverrides",n.formGroup.get("changeEquipmentUses").value)("showTokenPets",n.formGroup.get("tokenPets").value)("customPacks",n.formGroup.get("customPacks"))("showSwallowedLevels",n.formGroup.get("showSwallowedLevels").value)}}function vW(a,e){1&a&&p.nrm(0,"app-info")}function bW(a,e){1&a&&(p.j41(0,"div",66),p.EFF(1,"Loading info\u2026"),p.k0s())}function AW(a,e){if(1&a&&p.nrm(0,"app-import-calculator",67),2&a){const t=p.XpG(2);p.Y8G("importFunc",t.import.bind(t))}}function SW(a,e){1&a&&(p.j41(0,"div",66),p.EFF(1,"Loading import tools\u2026"),p.k0s())}function PW(a,e){if(1&a&&p.nrm(0,"app-export-calculator",37),2&a){const t=p.XpG(2);p.Y8G("formGroup",t.formGroup)}}function _W(a,e){1&a&&(p.j41(0,"div",66),p.EFF(1,"Loading export tools\u2026"),p.k0s())}function kW(a,e){if(1&a&&p.nrm(0,"app-report-a-bug",68),2&a){const t=p.XpG(2);p.Y8G("calcFormGroup",t.formGroup)}}function wW(a,e){1&a&&(p.j41(0,"div",66),p.EFF(1,"Loading report form\u2026"),p.k0s())}function TW(a,e){if(1&a){const t=p.RV6();p.qex(0),p.j41(1,"div",5,0)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9)(7,"h2",10),p.EFF(8,"Player"),p.k0s(),p.j41(9,"div",11)(10,"div",12)(11,"button",13),p.bIt("click",function(){P.eBV(t);const n=p.XpG();return P.Njj(n.openSelectionDialog("toy","player"))}),p.DNE(12,lW,1,1,"img",14),p.j41(13,"span",15),p.EFF(14),p.k0s(),p.nrm(15,"i",16),p.k0s(),p.DNE(16,cW,7,1,"div",17),p.k0s(),p.j41(17,"div",12)(18,"button",13),p.bIt("click",function(){P.eBV(t);const n=p.XpG();return P.Njj(n.openSelectionDialog("hard-toy","player"))}),p.DNE(19,uW,1,1,"img",18),p.j41(20,"span",15),p.EFF(21),p.k0s(),p.nrm(22,"i",16),p.k0s(),p.DNE(23,dW,2,0,"button",19),p.k0s()()(),p.j41(24,"button",20),p.bIt("click",function(){P.eBV(t);const n=p.XpG();return P.Njj(n.resetPlayer("player"))}),p.EFF(25," Reset "),p.k0s()(),p.j41(26,"div",21)(27,"div",22),p.bIt("cdkDropListDropped",function(n){P.eBV(t);const s=p.XpG();return P.Njj(s.drop(n,"player"))}),p.DNE(28,hW,6,14,"div",23),p.k0s()()(),p.j41(29,"div",24)(30,"div",8)(31,"div",9)(32,"h2",10),p.EFF(33,"Opponent"),p.k0s(),p.j41(34,"div",11)(35,"div",12)(36,"button",13),p.bIt("click",function(){P.eBV(t);const n=p.XpG();return P.Njj(n.openSelectionDialog("toy","opponent"))}),p.DNE(37,pW,1,1,"img",25),p.j41(38,"span",15),p.EFF(39),p.k0s(),p.nrm(40,"i",16),p.k0s(),p.DNE(41,gW,7,1,"div",17),p.k0s(),p.j41(42,"div",12)(43,"button",13),p.bIt("click",function(){P.eBV(t);const n=p.XpG();return P.Njj(n.openSelectionDialog("hard-toy","opponent"))}),p.DNE(44,mW,1,1,"img",26),p.j41(45,"span",15),p.EFF(46),p.k0s(),p.nrm(47,"i",16),p.k0s(),p.DNE(48,fW,2,0,"button",19),p.k0s()()(),p.j41(49,"button",20),p.bIt("click",function(){P.eBV(t);const n=p.XpG();return P.Njj(n.resetPlayer("opponent"))}),p.EFF(50," Reset "),p.k0s()(),p.j41(51,"div",27)(52,"div",22),p.bIt("cdkDropListDropped",function(n){P.eBV(t);const s=p.XpG();return P.Njj(s.drop(n,"opponent"))}),p.DNE(53,yW,6,13,"div",28),p.k0s()()()(),p.nrm(54,"app-shell-controls",29)(55,"app-shell-battle-results",29),p.k0s(),p.j41(56,"div",30,1)(58,"div",31)(59,"div",32)(60,"div",33)(61,"h1",34),p.EFF(62," Custom Pack Editor "),p.k0s(),p.nrm(63,"button",35),p.k0s(),p.j41(64,"div",36),p.nrm(65,"app-custom-pack-editor",37),p.k0s()()()(),p.j41(66,"div",38)(67,"div",31)(68,"div",32)(69,"div",33)(70,"h1",39),p.EFF(71,"Guide"),p.k0s(),p.nrm(72,"button",35),p.k0s(),p.j41(73,"div",36),p.PeT(74,vW,1,0)(75,bW,2,0),p.nv$(76,74,nW,null,75),p.k0s()()()(),p.j41(78,"div",40)(79,"div",31)(80,"div",32)(81,"div",33)(82,"h1",41),p.EFF(83," Import "),p.k0s(),p.nrm(84,"button",35),p.k0s(),p.j41(85,"div",36),p.PeT(86,AW,1,1)(87,SW,2,0),p.nv$(88,86,rW,null,87),p.k0s()()()(),p.j41(90,"div",42)(91,"div",31)(92,"div",32)(93,"div",33)(94,"h1",43),p.EFF(95," Export "),p.k0s(),p.nrm(96,"button",35),p.k0s(),p.j41(97,"div",36),p.PeT(98,PW,1,1)(99,_W,2,0),p.nv$(100,98,aW,null,99),p.k0s()()()(),p.j41(102,"div",44)(103,"div",31)(104,"div",32)(105,"div",33)(106,"h1",45),p.EFF(107,"Report A Bug"),p.k0s(),p.nrm(108,"button",35),p.k0s(),p.j41(109,"div",36),p.PeT(110,kW,1,1)(111,wW,2,0),p.nv$(112,110,oW,null,111),p.k0s()()()(),p.bVm()}if(2&a){const t=p.XpG();p.R7$(),p.Y8G("formGroup",t.formGroup),p.R7$(2),p.xc7("background-image",t.battleBackgroundUrl?"url("+t.battleBackgroundUrl+")":""),p.R7$(9),p.Y8G("ngIf",t.playerToyImageUrl),p.R7$(2),p.JRh(t.formGroup.get("playerToy").value||"Select Toy"),p.R7$(2),p.Y8G("ngIf",t.playerToyImageUrl),p.R7$(3),p.Y8G("ngIf",t.playerHardToyImageUrl),p.R7$(2),p.JRh(t.formGroup.get("playerHardToy").value||"Hard Toy"),p.R7$(2),p.Y8G("ngIf",t.playerHardToyImageUrl),p.R7$(5),p.Y8G("ngForOf",t.playerPetsControls)("ngForTrackBy",t.trackByIndex),p.R7$(9),p.Y8G("ngIf",t.opponentToyImageUrl),p.R7$(2),p.JRh(t.formGroup.get("opponentToy").value||"Select Toy"),p.R7$(2),p.Y8G("ngIf",t.opponentToyImageUrl),p.R7$(3),p.Y8G("ngIf",t.opponentHardToyImageUrl),p.R7$(2),p.JRh(t.formGroup.get("opponentHardToy").value||"Hard Toy"),p.R7$(2),p.Y8G("ngIf",t.opponentHardToyImageUrl),p.R7$(5),p.Y8G("ngForOf",t.opponentPetsControls)("ngForTrackBy",t.trackByIndex),p.R7$(),p.Y8G("app",t.app),p.R7$(),p.Y8G("app",t.app),p.R7$(10),p.Y8G("formGroup",t.formGroup),p.R7$(11),p.LVR(t.showInfo),p.R7$(12),p.LVR(t.showImport),p.R7$(12),p.LVR(t.showExport),p.R7$(12),p.LVR(t.showReportABug)}}function EW(a,e){if(1&a){const t=p.RV6();p.j41(0,"app-item-selection-dialog",69),p.bIt("select",function(n){P.eBV(t);const s=p.XpG();return P.Njj(s.onItemSelected(n))})("close",function(){P.eBV(t);const n=p.XpG();return P.Njj(n.showSelectionDialog=!1)}),p.k0s()}if(2&a){const t=p.XpG();p.Y8G("type",t.selectionType)("showAllPets",t.formGroup.get("allPets").value)("customPacks",t.formGroup.get("customPacks"))("savedTeams",t.savedTeams)}}(function dn(a,e,t){return jn.apply(this,arguments)})((()=>{class a{logService;injector;cdr;abilityService;gameService;petService;toyService;equipmentService;localStorageService;urlStateService;calculatorStateService;simulationService;teamPresetsService;app=this;petSelectors;customPackEditor;version="0.9.3";sapVersion="0.33.3-156 BETA";lastUpdated="1/20/2026";title="sap-calculator";player;opponent;maxTurns=71;turns=0;attackCount=0;battleStarted=!1;simulationBattleAmt=1e3;playerWinner=0;opponentWinner=0;draw=0;simulationInProgress=!1;simulationProgress=0;simulationProgressLabel="";simulationCancelRequested=!1;simulationWorker=null;simulationRunId=0;battles=[];battleRandomEvents=[];battleRandomEventsByBattle=new Map;filteredBattlesCache=[];currBattle;viewBattle;simulated=!1;formGroup;toys;regularToys=new Map;hardWackyToys=new Map;customPackEditorModal;previousPackPlayer=null;previousPackOpponent=null;dayNight=!0;battleBackgroundUrl="";playerToyImageUrl="";opponentToyImageUrl="";playerHardToyImageUrl="";opponentHardToyImageUrl="";savedTeams=[];selectedTeamId="";teamName="";battleBackgrounds=[...R7];logFilterTabs=[...L7];api=!1;apiResponse=null;showSelectionDialog=!1;selectionType="pet";selectionSide="none";showPatchNotes=!1;showInfo=!1;showImport=!1;showExport=!1;showReportABug=!1;showBattleAnalysis=!1;playerPetsControls=[];opponentPetsControls=[];viewBattleLogs=[];viewBattleLogRows=[];viewBattleTimelineRows=[];diffBattleLeftIndex=0;diffBattleRightIndex=0;diffBattleLeftScope="all";diffBattleRightScope="all";battleDiffRows=[];battleDiffSummary={equalSteps:0,changedSteps:0,leftOnly:0,rightOnly:0};playerPackImageBroken=!1;opponentPackImageBroken=!1;undoState=null;isLoadedFromUrl=!1;statusTimer=null;statusMessage="";statusTone="success";trackByIndex=_j;trackByTeamId=kj;trackByLogTab=wj;toggleBattleAnalysis=()=>{this.showBattleAnalysis=!this.showBattleAnalysis};constructor(t,i,n,s,r,c,u,h,b,D,H,Y,ue){this.logService=t,this.injector=i,this.cdr=n,this.abilityService=s,this.gameService=r,this.petService=c,this.toyService=u,this.equipmentService=h,this.localStorageService=b,this.urlStateService=D,this.calculatorStateService=H,this.simulationService=Y,this.teamPresetsService=ue,Mt.setInjector(this.injector),this.player=new Nm(t,s,r),this.opponent=new Nm(t,s,r),this.opponent.isOpponent=!0,this.gameService.init(this.player,this.opponent),this.petService.init(),this.initFormGroup();const he=this.urlStateService.parseApiStateFromUrl();he.state?(this.api=!0,this.applyCalculatorState(he.state),this.simulate(),this.buildApiResponse()):he.error&&(console.error(he.error),this.apiResponse=JSON.stringify({error:"Invalid or corrupted data provided in the URL."}))}get rollInputVisible(){return function Tj(a){return a.formGroup.get("showAdvanced").value||function bj(a){for(const e of a)if(e&&e.petArray)for(const t of e.petArray)if(t&&(Ns.includes(t.name)||"Abomination"===t.name&&(Ns.includes(t.abominationSwallowedPet1)||Ns.includes(t.abominationSwallowedPet2)||Ns.includes(t.abominationSwallowedPet3)||"Beluga Whale"===t.abominationSwallowedPet1&&Ns.includes(t.abominationSwallowedPet1BelugaSwallowedPet)||"Beluga Whale"===t.abominationSwallowedPet2&&Ns.includes(t.abominationSwallowedPet2BelugaSwallowedPet)||"Beluga Whale"===t.abominationSwallowedPet3&&Ns.includes(t.abominationSwallowedPet3BelugaSwallowedPet))||"Beluga Whale"===t.name&&Ns.includes(t.belugaSwallowedPet)||"Sarcastic Fringehead"===t.name&&Ns.includes(t.sarcasticFringeheadSwallowedPet)))return!0;return!1}([a.player,a.opponent])}(this)}buildApiResponse=()=>function lj(a){a.apiResponse=function q7(a,e,t){return JSON.stringify({playerWins:a,opponentWins:e,draws:t},null)}(a.playerWinner,a.opponentWinner,a.draw)}(this);printFormGroup=()=>function Ej(a){console.log(a.formGroup)}(this);ngOnInit(){this.isLoadedFromUrl=this.loadStateFromUrl(!0),this.isLoadedFromUrl||this.loadLocalStorage(),this.initApp(),this.loadTeamPresets(),this.setRandomBackground(),this.initGameApi(),this.setDayNight(),this.toys=this.toyService.toys,this.regularToys=this.toyService.getToysByType(0),this.hardWackyToys=this.toyService.getToysByType(1)}loadStateFromUrl=(t=!1)=>function BU(a,e=!1){const t=a.urlStateService.parseCalculatorStateFromUrl();if(!t.state)return t.error&&(console.error(t.error),a.setStatus?.("Could not load the shared calculator link. The data may be corrupted.","error")),!1;const i=mF(a,JSON.stringify(t.state),e);return i&&console.log("Calculator state loaded from URL."),i}(this,t);ngAfterViewInit(){this.isLoadedFromUrl&&this.petSelectors.forEach(t=>{t.fixLoadEquipment()}),this.api||this.initModals()}loadLocalStorage=()=>function $U(a){const e=a.localStorageService.getStorage();if(e)try{Zw(a,JSON.parse(e))}catch(t){console.log("error loading local storage",t),a.localStorageService.clearStorage()}}(this);applyCalculatorState=t=>Zw(this,t);setDayNight=()=>fF(this);setRandomBackground=()=>function Cj(a){if(!a.battleBackgrounds.length)return void(a.battleBackgroundUrl="");const e=Math.floor(Math.random()*a.battleBackgrounds.length);a.battleBackgroundUrl=`assets/art/Public/Public/Background/${a.battleBackgrounds[e]}`}(this);fixCustomPackSelect=()=>T2(this);initApp=()=>yR(this);initGameApi=()=>function HU(a){a.gameService.gameApi.day=a.dayNight,a.gameService.gameApi.oldStork=a.formGroup.get("oldStork").value,a.gameService.gameApi.komodoShuffle=a.formGroup.get("komodoShuffle").value,a.gameService.gameApi.mana=a.formGroup.get("mana").value,a.gameService.gameApi.playerRollAmount=a.formGroup.get("playerRollAmount").value,a.gameService.gameApi.opponentRollAmount=a.formGroup.get("opponentRollAmount").value,a.gameService.gameApi.playerLevel3Sold=a.formGroup.get("playerLevel3Sold").value,a.gameService.gameApi.opponentLevel3Sold=a.formGroup.get("opponentLevel3Sold").value,a.gameService.gameApi.playerSummonedAmount=a.formGroup.get("playerSummonedAmount").value,a.gameService.gameApi.opponentSummonedAmount=a.formGroup.get("opponentSummonedAmount").value,a.gameService.gameApi.playerTransformationAmount=a.formGroup.get("playerTransformationAmount").value,a.gameService.gameApi.opponentTransformationAmount=a.formGroup.get("opponentTransformationAmount").value}(this);initPlayerPets=()=>vF(this);randomizePlayerPets=t=>Ew(this,t);makeFormGroup=Dj;initFormGroup(){(function GU(a){a.formGroup=function vj(a){a.updatePreviousShopTier(11),a.updateGoldSpent(10,10);const i=new X.gE({playerPack:new X.MJ(a.player.pack??null),opponentPack:new X.MJ(a.opponent.pack??null),playerToy:new X.MJ(a.player.toy?.name),playerToyLevel:new X.MJ(a.player.toy?.level??1),opponentToy:new X.MJ(a.opponent.toy?.name),opponentToyLevel:new X.MJ(a.opponent.toy?.level??1),playerHardToy:new X.MJ(null),playerHardToyLevel:new X.MJ(1),opponentHardToy:new X.MJ(null),opponentHardToyLevel:new X.MJ(1),turn:new X.MJ(11),playerGoldSpent:new X.MJ(10),opponentGoldSpent:new X.MJ(10),allPets:new X.MJ(!1),logFilter:new X.MJ(null),playerPets:new X.Yp([]),opponentPets:new X.Yp([]),customPacks:new X.Yp([]),oldStork:new X.MJ(!1),tokenPets:new X.MJ(!0),komodoShuffle:new X.MJ(!1),mana:new X.MJ(!1),triggersConsumed:new X.MJ(!1),showSwallowedLevels:new X.MJ(!1),playerRollAmount:new X.MJ(4),opponentRollAmount:new X.MJ(4),playerLevel3Sold:new X.MJ(0),opponentLevel3Sold:new X.MJ(0),playerSummonedAmount:new X.MJ(0),opponentSummonedAmount:new X.MJ(0),playerTransformationAmount:new X.MJ(0),opponentTransformationAmount:new X.MJ(0),showAdvanced:new X.MJ(!1),showTriggerNamesInLogs:new X.MJ(!1),ailmentEquipment:new X.MJ(!0),changeEquipmentUses:new X.MJ(!1),seed:new X.MJ(null),logsEnabled:new X.MJ(!0),simulations:new X.MJ(100)});return w2(i,a.player,a.opponent),i.get("playerPack").valueChanges.subscribe(n=>{if(null!=n){if("Add Custom Pack"==n)return void a.openCustomPackEditor();a.resetPackImageError("player",n),a.updatePlayerPack(a.player,n)}}),i.get("opponentPack").valueChanges.subscribe(n=>{if(null!=n){if("Add Custom Pack"==n)return void a.openCustomPackEditor();a.resetPackImageError("opponent",n),a.updatePlayerPack(a.opponent,n)}}),i.get("playerToy").valueChanges.subscribe(n=>{a.updatePlayerToy(a.player,n??null)}),i.get("opponentToy").valueChanges.subscribe(n=>{a.updatePlayerToy(a.opponent,n??null)}),i.get("playerToyLevel").valueChanges.subscribe(n=>{null!=n&&a.updateToyLevel(a.player,n)}),i.get("opponentToyLevel").valueChanges.subscribe(n=>{null!=n&&a.updateToyLevel(a.opponent,n)}),i.get("playerHardToy").valueChanges.subscribe(n=>{a.gameService.gameApi.playerHardToy=n??null,a.setHardToyImage(a.player,n??null)}),i.get("playerHardToyLevel").valueChanges.subscribe(n=>{null!=n&&(a.gameService.gameApi.playerHardToyLevel=n)}),i.get("opponentHardToy").valueChanges.subscribe(n=>{a.gameService.gameApi.opponentHardToy=n??null,a.setHardToyImage(a.opponent,n??null)}),i.get("opponentHardToyLevel").valueChanges.subscribe(n=>{null!=n&&(a.gameService.gameApi.opponentHardToyLevel=n)}),i.get("turn").valueChanges.subscribe(n=>{null!=n&&(a.updatePreviousShopTier(n),a.setDayNight())}),i.get("playerGoldSpent").valueChanges.subscribe(n=>{null!=n&&a.updateGoldSpent(n,null)}),i.get("opponentGoldSpent").valueChanges.subscribe(n=>{null!=n&&a.updateGoldSpent(null,n)}),i.get("oldStork").valueChanges.subscribe(n=>{null!=n&&(a.gameService.gameApi.oldStork=n)}),i.get("komodoShuffle").valueChanges.subscribe(n=>{null!=n&&(a.gameService.gameApi.komodoShuffle=n)}),i.get("mana").valueChanges.subscribe(n=>{null!=n&&(a.gameService.gameApi.mana=n)}),i.get("playerRollAmount").valueChanges.subscribe(n=>{null!=n&&(a.gameService.gameApi.playerRollAmount=n)}),i.get("opponentRollAmount").valueChanges.subscribe(n=>{null!=n&&(a.gameService.gameApi.opponentRollAmount=n)}),i.get("playerLevel3Sold").valueChanges.subscribe(n=>{null!=n&&(a.gameService.gameApi.playerLevel3Sold=n)}),i.get("opponentLevel3Sold").valueChanges.subscribe(n=>{null!=n&&(a.gameService.gameApi.opponentLevel3Sold=n)}),i.get("playerSummonedAmount").valueChanges.subscribe(n=>{null!=n&&(a.gameService.gameApi.playerSummonedAmount=n)}),i.get("opponentSummonedAmount").valueChanges.subscribe(n=>{null!=n&&(a.gameService.gameApi.opponentSummonedAmount=n)}),i.get("playerTransformationAmount").valueChanges.subscribe(n=>{null!=n&&(a.gameService.gameApi.playerTransformationAmount=n)}),i.get("opponentTransformationAmount").valueChanges.subscribe(n=>{null!=n&&(a.gameService.gameApi.opponentTransformationAmount=n)}),i}({player:a.player,opponent:a.opponent,gameService:a.gameService,toyService:a.toyService,updatePreviousShopTier:e=>E2(a,e),updateGoldSpent:(e,t)=>C2(a,e,t),setDayNight:()=>fF(a),openCustomPackEditor:()=>gF(a),resetPackImageError:(e,t)=>pF(a,e),updatePlayerPack:(e,t,i)=>Cw(a,e,t,i),updatePlayerToy:(e,t)=>PA(a,e,t),updateToyLevel:(e,t)=>D2(0,e,t),setHardToyImage:(e,t)=>Mw(a,e,t)}),a.logService.setShowTriggerNamesInLogs(a.formGroup.get("showTriggerNamesInLogs")?.value),a.formGroup.get("showTriggerNamesInLogs")?.valueChanges.subscribe(e=>{a.logService.setShowTriggerNamesInLogs(e)}),eT(a)})(this),this.formGroup.get("logFilter")?.valueChanges.subscribe(()=>{this.refreshFilteredBattles()}),this.formGroup.get("simulations")?.valueChanges.subscribe(t=>{t>1e4&&this.formGroup.get("simulations")?.setValue(1e4,{emitEvent:!1})}),this.formGroup.get("seed")?.valueChanges.subscribe(t=>{if(""===t||null==t)return;const i=Number(t);if(!Number.isFinite(i))return void this.formGroup.get("seed")?.setValue(null,{emitEvent:!1});const n=Math.trunc(i);n!==i&&this.formGroup.get("seed")?.setValue(n,{emitEvent:!1})})}toggleAdvanced=()=>function Mj(a){const e=a.formGroup.get("showAdvanced").value;a.formGroup.get("showAdvanced").setValue(!e)}(this);initPetForms=()=>yF(this);refreshPetFormArrays=()=>eT(this);updatePlayerPack=(t,i,n=!0)=>Cw(this,t,i,n);updatePlayerToy=(t,i)=>PA(this,t,i);setToyImage=(t,i)=>_A(this,t,i);setHardToyImage=(t,i)=>Mw(this,t,i);updatePreviousShopTier=t=>E2(this,t);updateGoldSpent=(t,i)=>C2(this,t,i);updateToyLevel=(t,i)=>D2(0,t,i);getRandomEquipment=()=>M2(this);simulate=(t=1e3)=>function cj(a,e=1e3){try{if(a.api)return void _2(a,e);!function uj(a,e=1e3){if(a.simulationInProgress)return;a.simulationBattleAmt=e,a.localStorageService.setFormStorage(a.formGroup),a.simulationInProgress=!0,a.simulationCancelRequested=!1,a.simulationProgress=0,a.simulationProgressLabel=`0 / ${e}`;const t=(a.simulationRunId??0)+1;a.simulationRunId=t,a.setStatus?.("Simulation started...","success"),a.markForCheck?.();const i=a.simulationService.runSimulationInWorker(a.formGroup,e,a.player,a.opponent,{onProgress:n=>{if(a.simulationRunId!==t)return;const s=n.total?Math.floor(n.completed/n.total*100):0;a.simulationProgress=s,a.simulationProgressLabel=`${n.completed} / ${n.total}`,a.playerWinner=n.playerWins,a.opponentWinner=n.opponentWins,a.draw=n.draws,a.markForCheck?.()},onResult:n=>{a.simulationRunId===t&&(ww(a),kI(a,n),a.simulationProgress=100,a.simulationProgressLabel=`${e} / ${e}`,a.simulationInProgress=!1,a.simulationCancelRequested=!1,a.setStatus?.("Simulation finished.","success"),a.markForCheck?.())},onAborted:n=>{a.simulationRunId===t&&(ww(a),kI(a,n),a.simulationInProgress=!1,a.simulationCancelRequested=!1,a.setStatus?.("Simulation cancelled.","error"),a.markForCheck?.())},onError:n=>{a.simulationRunId===t&&(ww(a),a.simulationInProgress=!1,a.simulationCancelRequested=!1,a.setStatus?.(n||"Simulation failed.","error"),a.markForCheck?.())}},{progressInterval:50});a.simulationWorker=i}(a,e)}catch(t){console.error(t),a.setStatus?.("Something went wrong, please send a bug report.","error")}}(this,t);runSimulation=(t=1e3)=>_2(this,t);cancelSimulation=()=>function dj(a){!a.simulationWorker||!a.simulationInProgress||(a.simulationRunId=(a.simulationRunId??0)+1,a.simulationCancelRequested=!0,a.setStatus?.("Cancelling simulation...","error"),a.simulationService.requestWorkerCancel(a.simulationWorker),ww(a),a.simulationInProgress=!1,a.simulationCancelRequested=!1,a.setStatus?.("Simulation cancelled.","error"),a.markForCheck?.())}(this);markForCheck=()=>this.cdr.markForCheck();get logs(){return this.logService.getLogs()}setViewBattle=t=>function hj(a,e){a.viewBattle=e,a.viewBattleLogs=a.viewBattle?.logs??[],wI(a),TI(a)}(this,t);refreshViewBattleTimeline=()=>TI(this);refreshBattleDiff=()=>Hg(this);setBattleDiffLeft=t=>function pj(a,e){a.diffBattleLeftIndex=Tw(a,e),Hg(a)}(this,t);setBattleDiffRight=t=>function gj(a,e){a.diffBattleRightIndex=Tw(a,e),Hg(a)}(this,t);setBattleDiffLeftScope=t=>function mj(a,e){a.diffBattleLeftScope=kw(e),Hg(a)}(this,t);setBattleDiffRightScope=t=>function fj(a,e){a.diffBattleRightScope=kw(e),Hg(a)}(this,t);refreshViewBattleLogRows=()=>wI(this);get drawWidth(){return function Y7(a){return`${PI(a)+b2(a)}%`}(this)}get loseWidth(){return function X7(a){return`${PI(a)}%`}(this)}saveTeam(t){const i=function N7(a){const e=a.teamName?.trim()||prompt("Team name?");if(!e)return{savedTeams:a.savedTeams,selectedTeamId:a.selectedTeamId,teamName:a.teamName};const t=function O7(a,e){return a.get("player"===e?"playerPets":"opponentPets").controls.map(n=>function B7(a){if(!a?.name)return null;const e="string"==typeof a.equipment?a.equipment:a.equipment?.name??null;return{name:a.name??null,attack:a.attack??0,health:a.health??0,exp:a.exp??0,equipment:e?{name:e}:null,belugaSwallowedPet:a.belugaSwallowedPet??null,sarcasticFringeheadSwallowedPet:a.sarcasticFringeheadSwallowedPet??null,mana:a.mana??0,triggersConsumed:a.triggersConsumed??0,foodsEaten:a.foodsEaten??0,abominationSwallowedPet1:a.abominationSwallowedPet1??null,abominationSwallowedPet2:a.abominationSwallowedPet2??null,abominationSwallowedPet3:a.abominationSwallowedPet3??null,abominationSwallowedPet1BelugaSwallowedPet:a.abominationSwallowedPet1BelugaSwallowedPet??null,abominationSwallowedPet2BelugaSwallowedPet:a.abominationSwallowedPet2BelugaSwallowedPet??null,abominationSwallowedPet3BelugaSwallowedPet:a.abominationSwallowedPet3BelugaSwallowedPet??null,abominationSwallowedPet1Level:a.abominationSwallowedPet1Level??1,abominationSwallowedPet2Level:a.abominationSwallowedPet2Level??1,abominationSwallowedPet3Level:a.abominationSwallowedPet3Level??1,abominationSwallowedPet1TimesHurt:a.abominationSwallowedPet1TimesHurt??0,abominationSwallowedPet2TimesHurt:a.abominationSwallowedPet2TimesHurt??0,abominationSwallowedPet3TimesHurt:a.abominationSwallowedPet3TimesHurt??0,friendsDiedBeforeBattle:a.friendsDiedBeforeBattle??0,battlesFought:a.battlesFought??0,timesHurt:a.timesHurt??0,equipmentUses:a.equipmentUses??null}}(n.value))}(a.formGroup,a.side),i=a.formGroup.get("playerToy").value??null,n=Number(a.formGroup.get("playerToyLevel").value),s=a.formGroup.get("opponentToy").value??null,r=Number(a.formGroup.get("opponentToyLevel").value),c=a.formGroup.get("playerHardToy").value??null,u=Number(a.formGroup.get("playerHardToyLevel").value),h=a.formGroup.get("opponentHardToy").value??null,b=Number(a.formGroup.get("opponentHardToyLevel").value),D=Number(a.formGroup.get("turn").value),H=Number(a.formGroup.get("playerGoldSpent").value),Y=Number(a.formGroup.get("opponentGoldSpent").value),ue=!!a.formGroup.get("allPets").value,he=!!a.formGroup.get("tokenPets").value,ye=!!a.formGroup.get("komodoShuffle").value,_e=!!a.formGroup.get("mana").value,qe=a.formGroup.get("seed")?.value,Ve=""===qe||null==qe?null:Number(qe),je=!!a.formGroup.get("triggersConsumed").value,Ie=!!a.formGroup.get("showSwallowedLevels").value,Ze=!!a.formGroup.get("changeEquipmentUses").value,bt=Number(a.formGroup.get("playerRollAmount").value),oi=Number(a.formGroup.get("opponentRollAmount").value),Di=Number(a.formGroup.get("playerLevel3Sold").value),yi=Number(a.formGroup.get("opponentLevel3Sold").value),hn=Number(a.formGroup.get("playerSummonedAmount").value),Gr=Number(a.formGroup.get("opponentSummonedAmount").value),zn=Number(a.formGroup.get("playerTransformationAmount").value),xo=Number(a.formGroup.get("opponentTransformationAmount").value),Gt=a.savedTeams.find(Yn=>Yn.name.toLowerCase()===e.toLowerCase());if(Gt)Gt.pets=t,Gt.name=e,Gt.playerToyName=i,Gt.playerToyLevel=n,Gt.opponentToyName=s,Gt.opponentToyLevel=r,Gt.playerHardToy=c,Gt.playerHardToyLevel=u,Gt.opponentHardToy=h,Gt.opponentHardToyLevel=b,Gt.turn=D,Gt.playerGoldSpent=H,Gt.opponentGoldSpent=Y,Gt.allPets=ue,Gt.tokenPets=he,Gt.komodoShuffle=ye,Gt.mana=_e,Gt.seed=Number.isFinite(Ve)?Math.trunc(Ve):null,Gt.triggersConsumed=je,Gt.showSwallowedLevels=Ie,Gt.changeEquipmentUses=Ze,Gt.playerRollAmount=bt,Gt.opponentRollAmount=oi,Gt.playerLevel3Sold=Di,Gt.opponentLevel3Sold=yi,Gt.playerSummonedAmount=hn,Gt.opponentSummonedAmount=Gr,Gt.playerTransformationAmount=zn,Gt.opponentTransformationAmount=xo;else{const Yn=`${Date.now()}-${Math.random().toString(16).slice(2,8)}`;a.savedTeams.push({id:Yn,name:e,pets:t,createdAt:Date.now(),playerToyName:i,playerToyLevel:n,opponentToyName:s,opponentToyLevel:r,playerHardToy:c,playerHardToyLevel:u,opponentHardToy:h,opponentHardToyLevel:b,turn:D,playerGoldSpent:H,opponentGoldSpent:Y,allPets:ue,tokenPets:he,komodoShuffle:ye,mana:_e,seed:Number.isFinite(Ve)?Math.trunc(Ve):null,triggersConsumed:je,showSwallowedLevels:Ie,changeEquipmentUses:Ze,playerRollAmount:bt,opponentRollAmount:oi,playerLevel3Sold:Di,opponentLevel3Sold:yi,playerSummonedAmount:hn,opponentSummonedAmount:Gr,playerTransformationAmount:zn,opponentTransformationAmount:xo}),a.selectedTeamId=Yn}return a.teamPresetsService.persistTeams(a.savedTeams),{savedTeams:a.savedTeams,selectedTeamId:a.selectedTeamId,teamName:""}}({side:t,teamName:this.teamName,formGroup:this.formGroup,savedTeams:this.savedTeams,selectedTeamId:this.selectedTeamId,teamPresetsService:this.teamPresetsService});this.savedTeams=i.savedTeams,this.selectedTeamId=i.selectedTeamId,this.teamName=i.teamName}loadTeam(t){!function F7(a){const e=a.savedTeams.find(h=>h.id===a.selectedTeamId);if(!e)return;null!=e.turn&&a.formGroup.get("turn").setValue(e.turn),null!=e.playerGoldSpent&&a.formGroup.get("playerGoldSpent").setValue(e.playerGoldSpent),null!=e.opponentGoldSpent&&a.formGroup.get("opponentGoldSpent").setValue(e.opponentGoldSpent),null!=e.allPets&&a.formGroup.get("allPets").setValue(e.allPets),a.formGroup.get("tokenPets").setValue(!0),null!=e.komodoShuffle&&a.formGroup.get("komodoShuffle").setValue(e.komodoShuffle),null!=e.mana&&a.formGroup.get("mana").setValue(e.mana),(null!=e.seed||null===e.seed)&&a.formGroup.get("seed")?.setValue(e.seed??null),null!=e.triggersConsumed&&a.formGroup.get("triggersConsumed").setValue(e.triggersConsumed),null!=e.showSwallowedLevels&&a.formGroup.get("showSwallowedLevels").setValue(e.showSwallowedLevels),null!=e.changeEquipmentUses&&a.formGroup.get("changeEquipmentUses").setValue(e.changeEquipmentUses),null!=e.playerRollAmount?a.formGroup.get("playerRollAmount").setValue(e.playerRollAmount):null!=e.rollAmount&&"player"===a.side&&a.formGroup.get("playerRollAmount").setValue(e.rollAmount),null!=e.opponentRollAmount?a.formGroup.get("opponentRollAmount").setValue(e.opponentRollAmount):null!=e.rollAmount&&"opponent"===a.side&&a.formGroup.get("opponentRollAmount").setValue(e.rollAmount),null!=e.playerLevel3Sold&&a.formGroup.get("playerLevel3Sold").setValue(e.playerLevel3Sold),null!=e.opponentLevel3Sold&&a.formGroup.get("opponentLevel3Sold").setValue(e.opponentLevel3Sold),null!=e.playerSummonedAmount&&a.formGroup.get("playerSummonedAmount").setValue(e.playerSummonedAmount),null!=e.opponentSummonedAmount&&a.formGroup.get("opponentSummonedAmount").setValue(e.opponentSummonedAmount),null!=e.playerTransformationAmount?a.formGroup.get("playerTransformationAmount").setValue(e.playerTransformationAmount):null!=e.transformationAmount&&"player"===a.side&&a.formGroup.get("playerTransformationAmount").setValue(e.transformationAmount),null!=e.opponentTransformationAmount?a.formGroup.get("opponentTransformationAmount").setValue(e.opponentTransformationAmount):null!=e.transformationAmount&&"opponent"===a.side&&a.formGroup.get("opponentTransformationAmount").setValue(e.transformationAmount),null!=e.transformationAmount&&a.formGroup.get("player"===a.side?"playerTransformationAmount":"opponentTransformationAmount").setValue(e.transformationAmount);const t=e.playerToyName??e.toyName??null,i=e.playerToyLevel??e.toyLevel??1,n=e.opponentToyName??e.toyName??null,s=e.opponentToyLevel??e.toyLevel??1;a.formGroup.get("playerToy").setValue(t),a.formGroup.get("playerToyLevel").setValue(i),a.formGroup.get("opponentToy").setValue(n),a.formGroup.get("opponentToyLevel").setValue(s),null!=e.playerHardToy&&a.formGroup.get("playerHardToy").setValue(e.playerHardToy),null!=e.playerHardToyLevel&&a.formGroup.get("playerHardToyLevel").setValue(e.playerHardToyLevel),null!=e.opponentHardToy&&a.formGroup.get("opponentHardToy").setValue(e.opponentHardToy),null!=e.opponentHardToyLevel&&a.formGroup.get("opponentHardToyLevel").setValue(e.opponentHardToyLevel);const r="player"===a.side?a.player:a.opponent,c=a.equipmentService.getInstanceOfAllEquipment(),u=a.equipmentService.getInstanceOfAllAilments();for(let h=0;h<5;h++){const b=e.pets?.[h];if(!b?.name){r.setPet(h,null,!0);continue}const D="string"==typeof b.equipment?b.equipment:b.equipment?.name,H=D?c.get(D)??u.get(D):null,Y=H?ea(H):null;if(Y){const he=b.equipmentUses??Y.uses;null!=he&&(Y.uses=he,Y.originalUses=he)}const ue=a.petService.createPet({name:b.name,attack:b.attack??0,health:b.health??0,exp:b.exp??0,equipment:Y??null,belugaSwallowedPet:b.belugaSwallowedPet??null,sarcasticFringeheadSwallowedPet:b.sarcasticFringeheadSwallowedPet??null,mana:b.mana??0,triggersConsumed:b.triggersConsumed??0,foodsEaten:b.foodsEaten??0,abominationSwallowedPet1:b.abominationSwallowedPet1??null,abominationSwallowedPet2:b.abominationSwallowedPet2??null,abominationSwallowedPet3:b.abominationSwallowedPet3??null,abominationSwallowedPet1BelugaSwallowedPet:b.abominationSwallowedPet1BelugaSwallowedPet??null,abominationSwallowedPet2BelugaSwallowedPet:b.abominationSwallowedPet2BelugaSwallowedPet??null,abominationSwallowedPet3BelugaSwallowedPet:b.abominationSwallowedPet3BelugaSwallowedPet??null,abominationSwallowedPet1Level:b.abominationSwallowedPet1Level??1,abominationSwallowedPet2Level:b.abominationSwallowedPet2Level??1,abominationSwallowedPet3Level:b.abominationSwallowedPet3Level??1,abominationSwallowedPet1TimesHurt:b.abominationSwallowedPet1TimesHurt??0,abominationSwallowedPet2TimesHurt:b.abominationSwallowedPet2TimesHurt??0,abominationSwallowedPet3TimesHurt:b.abominationSwallowedPet3TimesHurt??0,friendsDiedBeforeBattle:b.friendsDiedBeforeBattle??0,battlesFought:b.battlesFought??0,timesHurt:b.timesHurt??0},r);r.setPet(h,ue,!0)}a.initPetForms(),function $7(a,e,t){const n=a.get("player"===e?"playerPets":"opponentPets");if(n)for(let s=0;s<n.length;s++){const r=n.at(s),c=t?.[s];r.get("equipmentUses")?.setValue(c?.equipmentUses??null,{emitEvent:!1})}}(a.formGroup,a.side,e.pets)}({side:t,selectedTeamId:this.selectedTeamId,savedTeams:this.savedTeams,formGroup:this.formGroup,player:this.player,opponent:this.opponent,petService:this.petService,equipmentService:this.equipmentService,initPetForms:()=>this.initPetForms()})}loadTeamPresets(){this.savedTeams=this.teamPresetsService.loadTeams()}randomize=t=>function MU(a,e){try{a.undoState=JSON.parse(JSON.stringify(a.formGroup.getRawValue()))}catch(i){console.error("Failed to create undo snapshot",i)}const t=a.formGroup.get("allPets").value;e?(e.allPets=a.formGroup.get("allPets").value,e.tokenPets=a.formGroup.get("tokenPets").value,Ew(a,e),t?CI(a,e):Dw(a,e)):(a.player.allPets=a.formGroup.get("allPets").value,a.player.tokenPets=a.formGroup.get("tokenPets").value,a.opponent.allPets=a.formGroup.get("allPets").value,a.opponent.tokenPets=a.formGroup.get("tokenPets").value,Ew(a,a.player),Ew(a,a.opponent),t?(CI(a,a.player),CI(a,a.opponent)):(Dw(a,a.player),Dw(a,a.opponent))),a.formGroup&&yF(a),setTimeout(()=>{a.petSelectors.forEach(i=>{i.initSelector()})})}(this,t);undoRandomize=()=>function xU(a){a.undoState&&(Zw(a,a.undoState),yR(a),a.undoState=null,setTimeout(()=>{a.petSelectors&&a.petSelectors.forEach(e=>{e.fixLoadEquipment()})}))}(this);clearCache=()=>function IU(a){a.localStorageService.clearStorage(),a.setStatus?.("Cache cleared. Refresh page to see changes.","success")}(this);initModals=()=>function RU(a){a.customPackEditorModal=new fd(a.customPackEditor.nativeElement),a.customPackEditor.nativeElement.addEventListener("hidden.bs.modal",()=>{})}(this);openCustomPackEditor=()=>gF(this);drop=(t,i)=>function LU(a,e,t){let i=e.previousIndex,n=e.currentIndex;"player"==t&&(i=4-i,n=4-n);const s=a.formGroup.get(`${t}Pets`);Nc(s.controls,i,n),s.updateValueAndValidity(),eT(a),setTimeout(()=>{for(const r of a.petSelectors.toArray())r.substitutePet()})}(this,t,i);resetPlayer=t=>fR(this,t);export=()=>function NU(a){a.localStorageService.setFormStorage(a.formGroup);const e=function U7(a){const e=g2(a.value);return JSON.stringify(e)}(a.formGroup);navigator.clipboard.writeText(e).then(()=>{a.setStatus?.("Copied to clipboard.","success")}).catch(t=>{console.error("Clipboard error:",t),a.setStatus?.("Failed to copy to clipboard.","error")})}(this);import=(t,i=!1,n)=>mF(this,t,i,n);generateShareLink=()=>function OU(a){a.localStorageService.setFormStorage(a.formGroup);const e=window.location.origin+window.location.pathname,t=function W7(a,e){const i=(0,gw.A)(a.value),n=[...i.playerPets||[],...i.opponentPets||[]];for(const u of n)if(u&&(delete u.parent,delete u.logService,delete u.abilityService,delete u.gameService,delete u.petService,u.equipment)){const h="string"==typeof u.equipment?u.equipment:u.equipment.name;u.equipment=h?{name:h}:null}const s=g2(i),r=JSON.stringify(s);return`${e}#c=${encodeURIComponent(r)}`}(a.formGroup,e);navigator.clipboard.writeText(t).then(()=>{a.setStatus?.("Shareable link copied to clipboard!","success")}).catch(i=>{console.error("Failed to copy link: ",i),a.setStatus?.("Failed to copy link. See console for details.","error")})}(this);refreshFilteredBattles=()=>k2(this);get winPercent(){return function z7(a){const e=a.playerWinner+a.opponentWinner+a.draw;return 0===e?0:SI(a.playerWinner/e*100)}(this)}get drawPercent(){return b2(this)}get losePercent(){return PI(this)}get validCustomPacks(){return function Ij(a){const e=a.formGroup.get("customPacks"),t=[];for(const i of e.controls)i.valid&&t.push(i);return t}(this)}getToyIcon=Rj;get selectedTeamName(){return function Lj(a){return x2(a)?.name||"Saved teams"}(this)}get selectedTeamPreviewIcons(){return function Nj(a){return(x2(a)?.pets||[]).slice(0,5).map(t=>In(t?.name)).filter(Boolean)}(this)}getToyOptionStyle=Fj;openSelectionDialog=(t,i)=>function PU(a,e,t){a.selectionType=e,a.selectionSide=t,a.showSelectionDialog=!0}(this,t,i);onItemSelected=t=>function _U(a,e){if(e instanceof Event)return a.showSelectionDialog=!1,void(a.selectionSide="none");if(!a.selectionSide||"none"===a.selectionSide)return"team"===a.selectionType&&(a.selectedTeamId="string"==typeof e?e:e?.id||e?.name||""),a.showSelectionDialog=!1,void(a.selectionSide="none");const t=a.selectionSide,i=a.selectionType;if("pack"===i){const n=e?.name||e;"player"===t?a.formGroup.get("playerPack").setValue(n):a.formGroup.get("opponentPack").setValue(n)}else if("toy"===i){const n=e?.name||e||null,s="string"==typeof n&&"none"===n.trim().toLowerCase()?null:n;"player"===t?a.formGroup.get("playerToy").setValue(s):a.formGroup.get("opponentToy").setValue(s)}else if("hard-toy"===i){const n=e?.name||e||null,s="string"==typeof n&&"none"===n.trim().toLowerCase()?null:n;"player"===t?a.formGroup.get("playerHardToy").setValue(s):a.formGroup.get("opponentHardToy").setValue(s)}else"team"===i&&(a.selectedTeamId="string"==typeof e?e:e?.id||e?.name||"");a.showSelectionDialog=!1,a.selectionSide="none"}(this,t);getPackIconPath=kU;onPackImageError=t=>function wU(a,e){"player"===e?a.playerPackImageBroken=!0:a.opponentPackImageBroken=!0}(this,t);resetPackImageError=(t,i)=>pF(this,t);incrementToyLevel=t=>function TU(a,e){const t="player"===e?"playerToyLevel":"opponentToyLevel",i=a.formGroup.get(t).value;i<3&&a.formGroup.get(t).setValue(i+1)}(this,t);decrementToyLevel=t=>function EU(a,e){const t="player"===e?"playerToyLevel":"opponentToyLevel",i=a.formGroup.get(t).value;i>1&&a.formGroup.get(t).setValue(i-1)}(this,t);removeHardToy=t=>function CU(a,e){a.formGroup.get("player"===e?"playerHardToy":"opponentHardToy").setValue(null)}(this,t);getToyIconPath=DU;setStatus(t,i="success"){this.statusMessage=t,this.statusTone=i,this.cdr.markForCheck(),this.statusTimer&&clearTimeout(this.statusTimer),this.statusTimer=setTimeout(()=>{this.statusMessage="",this.statusTimer=null,this.cdr.markForCheck()},3e3)}clearStatus(){this.statusTimer&&(clearTimeout(this.statusTimer),this.statusTimer=null),this.statusMessage="",this.cdr.markForCheck()}static \u0275fac=function(i){return new(i||a)(p.rXU(Vn),p.rXU(P.zZn),p.rXU(ee.gRc),p.rXU(Ba),p.rXU(Or),p.rXU(Kn),p.rXU(Br),p.rXU(ui),p.rXU(d2.s),p.rXU(qU),p.rXU(WU),p.rXU(ZU),p.rXU(tW))};static \u0275cmp=p.VBU({type:a,selectors:[["app-root"]],viewQuery:function(i,n){if(1&i&&p.GBs(iW,5)(KL,5),2&i){let s;p.mGM(s=p.lsd())&&(n.customPackEditor=s.first),p.mGM(s=p.lsd())&&(n.petSelectors=s)}},decls:3,vars:3,consts:[["container",""],["customPackEditor",""],[4,"ngIf"],[3,"type","showAllPets","customPacks","savedTeams","select","close",4,"ngIf"],["id","apiResponse"],[1,"container-fluid","app-wrapper","flex-col",3,"formGroup"],[1,"row","battle-row","pb-5","pt-3"],[1,"col-12","col-xl-6","px-4","mb-2","mb-xl-0"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-center","toy-wrap"],[1,"me-2"],[1,"toy-row"],[1,"toy-slot"],["type","button",1,"toy-select-btn",3,"click"],["class","toy-art","width","36","height","36","loading","lazy","decoding","async","alt","Player Toy",3,"ngSrc",4,"ngIf"],[1,"toy-label"],[1,"fas","fa-chevron-down"],["class","toy-level-controls inline",4,"ngIf"],["class","toy-art hard-toy-art","width","36","height","36","loading","lazy","decoding","async","alt","Player Hard Toy",3,"ngSrc",4,"ngIf"],["type","button","class","toy-remove-btn-inline","title","Remove hard toy",3,"click",4,"ngIf"],[1,"btn","glass-btn","mb-1",3,"click"],[1,"card","p-2","player-card"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"row","row-cols-1","row-cols-md-5","g-0",3,"cdkDropListDropped"],["class","col drag-container mb-2 mb-md-0 px-0","cdkDrag","",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-xl-6","px-4"],["class","toy-art","width","36","height","36","loading","lazy","decoding","async","alt","Opponent Toy",3,"ngSrc",4,"ngIf"],["class","toy-art hard-toy-art","width","36","height","36","loading","lazy","decoding","async","alt","Opponent Hard Toy",3,"ngSrc",4,"ngIf"],[1,"card","p-2","player-card","ml-auto"],["class","col drag-container mb-2 mb-sm-0 px-0","cdkDrag","",4,"ngFor","ngForOf","ngForTrackBy"],[3,"app"],["id","customPackEditor","tabindex","-1","aria-labelledby","customPackEditorLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","customPackEditorLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],["id","info","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5"],["id","import","tabindex","-1","aria-labelledby","importModalLabel","aria-hidden","true",1,"modal","fade"],["id","importModalLabel",1,"modal-title","fs-5"],["id","export","tabindex","-1","aria-labelledby","exportModalLabel","aria-hidden","true",1,"modal","fade"],["id","exportModalLabel",1,"modal-title","fs-5"],["id","reportABug","tabindex","-1","aria-labelledby","reportABug","aria-hidden","true",1,"modal","fade"],["id","reportABug",1,"modal-title","fs-5"],["width","36","height","36","loading","lazy","decoding","async","alt","Player Toy",1,"toy-art",3,"ngSrc"],[1,"toy-level-controls","inline"],["title","Decrease level",1,"toy-level-btn",3,"click"],[1,"fas","fa-minus"],[1,"toy-level-label"],["title","Increase level",1,"toy-level-btn",3,"click"],[1,"fas","fa-plus"],["width","36","height","36","loading","lazy","decoding","async","alt","Player Hard Toy",1,"toy-art","hard-toy-art",3,"ngSrc"],["type","button","title","Remove hard toy",1,"toy-remove-btn-inline",3,"click"],[1,"fas","fa-times"],["cdkDrag","",1,"col","drag-container","mb-2","mb-md-0","px-0"],["cdkDragHandle","",1,"drag-handle"],["fill","currentColor","viewBox","0 0 24 24"],["d","M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"],["d","M0 0h24v24H0z","fill","none"],[3,"pet","player","opponent","index","formGroup","ailments","allPets","mana","triggersConsumed","allowEquipmentUseOverrides","showTokenPets","flipImage","customPacks","showSwallowedLevels"],["width","36","height","36","loading","lazy","decoding","async","alt","Opponent Toy",1,"toy-art",3,"ngSrc"],["width","36","height","36","loading","lazy","decoding","async","alt","Opponent Hard Toy",1,"toy-art","hard-toy-art",3,"ngSrc"],["cdkDrag","",1,"col","drag-container","mb-2","mb-sm-0","px-0"],[3,"pet","player","opponent","index","formGroup","ailments","allPets","mana","triggersConsumed","allowEquipmentUseOverrides","showTokenPets","customPacks","showSwallowedLevels"],[1,"text-muted"],[3,"importFunc"],[3,"calcFormGroup"],[3,"select","close","type","showAllPets","customPacks","savedTeams"]],template:function(i,n){1&i&&p.DNE(0,sW,3,1,"ng-container",2)(1,TW,114,26,"ng-container",2)(2,EW,1,4,"app-item-selection-dialog",3),2&i&&(p.Y8G("ngIf",n.api),p.R7$(),p.Y8G("ngIf",!n.api),p.R7$(),p.Y8G("ngIf",n.showSelectionDialog))},dependencies:[Ct.MD,Ct.Sq,Ct.bT,vi,X.YN,X.cb,X.X1,X.j4,Gc,bm,zo,Ko,KL,WL,KH,c7,x7],styles:[".app-wrapper{min-height:100vh}.day-night-container{min-height:1em}.flex-col{display:flex;flex-direction:column}.player-card{background-color:transparent;display:grid;grid-auto-rows:minmax(min-content,max-content);grid-template-columns:auto 1fr auto;border-color:transparent;box-shadow:none}.back,.front{transform:rotate(180deg);writing-mode:vertical-lr;text-align:center}.battle-row{background-color:#5ebe09;background-repeat:no-repeat;background-position:center;background-size:cover}.log-row{padding:.35rem .75rem;border-bottom:1px solid #eef1f4}.top-controls{border-radius:14px;background-color:#fff;padding:.4rem .5rem .6rem;margin-bottom:.35rem;border:none;box-shadow:none}.top-controls-header{display:grid;grid-template-columns:minmax(220px,1fr) minmax(260px,1.2fr) minmax(260px,1fr);gap:.75rem;align-items:start;padding:.5rem .75rem .35rem}.top-controls-left,.top-controls-center,.top-controls-right{display:flex;flex-direction:column;gap:.5rem}.simulate-buttons{display:flex;flex-wrap:wrap;gap:.5rem}.top-controls-center{align-items:center;justify-content:center}.simulate-controls{display:flex;flex-wrap:wrap;gap:.5rem}.simulate-input-group{display:flex;align-items:center;gap:.25rem}.simulate-input-group .simulate-input{width:80px;text-align:center}.results-placeholder{display:flex;flex-direction:column;align-items:center;gap:.35rem;min-height:74px}.results-placeholder-text{color:#6c757d;font-size:.9rem;font-weight:600}.placeholder-bar{border-color:#ced4da;background-color:#f1f3f5}.top-controls-right{align-items:flex-end;justify-content:flex-start}.external-meta{align-items:center;display:flex;flex-wrap:wrap;gap:.5rem;justify-content:flex-end;text-align:right}.external-buttons{display:flex;flex-wrap:wrap;gap:.5rem;justify-content:flex-end}.top-controls-body{padding:.15rem .75rem .6rem}.controls-grid{display:grid;grid-template-columns:repeat(4,minmax(200px,1fr));gap:.75rem;align-items:start}.controls-section{display:flex;flex-direction:column;gap:.4rem;padding:.4rem .6rem;border-radius:10px;background-color:#f8f9fa}.controls-section.advanced-section{grid-column:span 2}.teams-section{flex-direction:row;flex-wrap:wrap;gap:.75rem;align-items:flex-start}.team-name-actions{display:flex;gap:.25rem}.team-column{display:flex;flex-direction:column;gap:.35rem;min-width:180px}.team-selection-btn{min-height:48px;display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:.6rem}.team-preview{display:flex;gap:2px}.team-preview-icon{width:28px;height:28px;border-radius:6px;background:#f5f6f8;object-fit:contain;border:1px solid rgba(0,0,0,.08)}.btn-placeholder{color:#adb5bd;font-size:.9rem}.team-name-input{max-width:200px}.team-select{max-width:240px}.packs-section .min-w-input{min-width:180px}.compact-toy-group .toy-panel{border-radius:10px;padding:.5rem .6rem;background:#fff;display:flex;flex-direction:column;gap:.5rem;box-shadow:none;max-width:100%;margin:0;border:1px solid #eef1f4}.selection-btn{width:100%;display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;background:#fff;border:1px solid #ced4da;border-radius:8px;transition:all .2s;cursor:pointer;text-align:left;min-height:40px}.selection-btn:hover{background:#f1f3f5;border-color:#adb5bd;transform:translateY(-1px)}.selection-btn .btn-icon{width:24px;height:24px;object-fit:contain}.selection-btn .btn-text{font-size:.9rem;color:#495057;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.selection-btn i{color:#adb5bd;font-size:.8rem}:host-context(.night) .selection-btn{background:#3d3d3d;border-color:#444;color:#eee}:host-context(.night) .selection-btn:hover{background:#444;border-color:#555}:host-context(.night) .selection-btn .btn-text{color:#eee}.compact-toy-group .toy-row{display:flex;gap:.5rem;flex-wrap:wrap;align-items:flex-end;justify-content:center}.compact-toy-group .toy-inline{flex:1;min-width:150px;display:flex;flex-direction:column;gap:.2rem}.compact-toy-group .toy-inline label{font-size:.75rem;font-weight:600;margin-bottom:0}.compact-toy-group .toy-level{max-width:90px}.compact-toy-group .hard-row .toy-inline{min-width:200px}.advanced-section{gap:.5rem}.advanced-grid{display:grid;grid-template-columns:repeat(3,minmax(140px,1fr));gap:.35rem .75rem;align-items:start}.advanced-number-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:.75rem;align-items:flex-start}.advanced-number-grid .form-group{margin-bottom:0}.advanced-input label{font-size:.78rem;font-weight:600;margin-bottom:.2rem}.advanced-label-with-icon{display:inline-flex;align-items:center;gap:.35rem}.advanced-icon{width:18px;height:18px;display:inline-block;background-repeat:no-repeat;background-size:contain;background-position:center;filter:drop-shadow(0 1px 1px rgba(0,0,0,.2))}.advanced-icon.roll-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/roll.png)}.advanced-icon.gold-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/gold.png)}.advanced-icon.mana-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/mana.png)}.advanced-icon.transform-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/transform.png)}.advanced-icon.cycle-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/cycle.png)}.advanced-icon.summon-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/summon.png)}.advanced-icon.token-icon{background-image:url(/assets/art/Public/Public/Pets/Bee.png)}.advanced-icon.komodo-icon{background-image:url(/assets/art/Public/Public/Pets/Komodo.png)}.advanced-icon.perk-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/perk.png)}.advanced-icon.pheasant-icon{background-image:url(/assets/art/Public/Public/Icons/triggers-from-textmap.png)}.advanced-icon.abomination-icon{background-image:url(/assets/art/Public/Public/Pets/Shoggoth.png)}.small-w-input label{font-size:.78rem;font-weight:600;margin-bottom:.2rem}.advanced-input input{text-align:center}.advanced-toggle{display:flex;justify-content:flex-start}.meta-text{color:#6c757d;font-size:.9rem}.battle-controller.border{border:0;background-color:#f5f5f5}.small-w-input{width:60px}@media(max-width:1199.98px){.controls-grid{grid-template-columns:repeat(2,minmax(220px,1fr))}.controls-section.advanced-section{grid-column:span 2}}@media(max-width:991.98px){.top-controls-header{grid-template-columns:1fr}.top-controls-right,.external-meta,.external-buttons{align-items:flex-start;justify-content:flex-start;text-align:left}.controls-grid{grid-template-columns:1fr}.controls-section.advanced-section{grid-column:span 1}.teams-section{flex-direction:column}}.stats label{margin-right:.25em}.stats span{margin-right:1em}.results-row{align-items:center;display:flex;flex-direction:column;justify-content:center;text-align:center;padding-bottom:.25rem;width:100%}.results-row .stats{align-items:center;display:flex;justify-content:center;gap:.75rem 1.25rem;flex-wrap:wrap;width:100%}.stat-block{display:flex;flex:0 1 auto;gap:.35rem;font-weight:600;font-size:.95rem;justify-content:center;white-space:nowrap}.stat-label{font-weight:400;color:#6c757d}.player-stat span:last-child{color:#0f9d00}.opponent-stat span:last-child{color:#d10015}.draw-stat span:last-child{color:#6c757d}.player-stat,.opponent-stat{justify-content:center}.results-row .results-bar{display:inline-block;margin:0 auto}.results-row .py-1{width:100%;display:flex;justify-content:center;align-self:stretch}.battle-no{width:1%;white-space:nowrap}.table-battle-row{cursor:pointer}.results-bar,.draw-bar,.lose-bar{display:inline-block}.draw-bar,.lose-bar{height:100%;position:absolute;right:0}.results-bar{max-width:100%;border:.2em solid black;height:2em;width:100%;max-width:420px;background-color:#0f0;position:relative}.draw-bar{background-color:#d3d3d3}.lose-bar{background-color:red}::ng-deep .log-pet-icon{width:18px;height:18px;object-fit:contain;vertical-align:middle;margin-right:2px}::ng-deep .log-inline-icon{width:16px;height:16px;object-fit:contain;vertical-align:middle;margin:0 3px 2px}.log-player{background-color:#e4ffe0}.log-opponent{background-color:#ffe0e0}.battle-win td{background-color:#e4ffe0}.battle-loss td{background-color:#ffe0e0}.log-container{display:flex;align-content:flex-start}.log-container.log-container-with-analysis{max-height:24rem;overflow-y:auto}.log-container span{color:#343a40;font-size:.9rem;line-height:1.35}.random-event{color:purple}.bold{font-weight:700}.flex-1{flex:1}.flex-col{min-height:0}.bottom-container{min-height:38em;padding-top:.75rem}.bottom-container>div{min-height:15em}.bottom-container .border,.bottom-container .table{border:0}.bottom-container .table>:not(caption)>*>*{border-bottom:0}.bottom-container .form-control,.bottom-container .form-check-input{border-color:transparent;box-shadow:none}.scroll{overflow-x:hidden;overflow-y:auto}.bottom-container .battle-container,.bottom-container .log-container{min-height:0;overflow-y:auto}.log-filter-tabs{display:flex;gap:.5rem;padding:.25rem 0 0;overflow-x:auto;white-space:nowrap}.log-filter-tabs::-webkit-scrollbar{display:none}.log-filter-tabs{-ms-overflow-style:none;scrollbar-width:none}.log-filter-tab{flex:0 0 auto;border-radius:999px;border:1px solid #dee2e6;background-color:#fff;color:#6c757d;font-weight:600;padding:.35rem 1rem;font-size:.9rem;transition:background-color .2s ease,color .2s ease,border-color .2s ease;cursor:pointer}.log-filter-tab:focus-visible{outline:3px solid #0d6efd;outline-offset:2px}.log-filter-tab.active{background-color:#0d6efd;color:#fff;border-color:#0d6efd}.h-100{height:100%}.pre{white-space:pre}.analysis-section{border-top:1px solid #e9ecef;padding-top:.5rem}.analysis-title{font-size:.95rem;margin:0 0 .5rem}.analysis-table-wrap{max-height:18rem;overflow-y:auto;border:1px solid #e9ecef;border-radius:6px}.analysis-table th,.analysis-table td{font-size:.75rem;vertical-align:top}.timeline-player td{background-color:#28a74514}.timeline-opponent td{background-color:#dc354514}.timeline-deterministic td{border-left:3px solid #6c757d}.timeline-tie td{border-left:3px solid #fd7e14}.timeline-random td{border-left:3px solid #6f42c1}.diff-controls{display:flex;gap:.5rem;margin-bottom:.5rem}.diff-label{font-size:.75rem;font-weight:600;color:#495057;display:flex;flex-direction:column;gap:.2rem}.diff-select{min-width:9rem}.diff-summary{font-size:.75rem;color:#495057;margin-bottom:.5rem}.diff-same td{opacity:.7}.diff-changed td{background-color:#ffc1072e}.diff-left-only td{background-color:#0d6efd1f}.diff-right-only td{background-color:#dc35451f}.btn-link{color:#0d6efd;cursor:pointer}.cdk-drag-placeholder{opacity:0}.drag-container{position:relative}.drag-handle{width:1.8em;height:1.8em;position:absolute;right:1em;z-index:1;opacity:.9;display:flex;align-items:center;justify-content:center;color:#fff;background:#00000073;border:1px solid rgba(255,255,255,.5);border-radius:999px;box-shadow:0 2px 6px #00000073;cursor:pointer}.drag-handle:hover{opacity:1;background:#0009;border-color:#ffffffbf}.info-link{margin-bottom:0}.toy-art{width:36px;height:36px;object-fit:contain}.toy-wrap{position:relative;gap:.5rem}.toy-wrap .toy-art+.toy-art{margin-left:.35rem}.toy-select-container{position:relative;display:inline-flex;align-items:center;cursor:pointer;border-radius:8px;padding:2px}.toy-select-container:hover{background:#fff3;transform:scale(1.05)}.toy-select-container.toy-none{background:#0000004d;border:1px dashed rgba(255,255,255,.5);padding:8px 12px;min-width:50px;justify-content:center;align-items:center}.toy-row{display:flex;align-items:center;gap:.6rem;flex-wrap:wrap}.toy-slot{display:flex;align-items:center;gap:.4rem}.toy-select-btn{display:inline-flex;align-items:center;gap:.4rem;padding:.2rem .5rem;border-radius:8px;border:1px solid rgba(255,255,255,.4);background:#00000040;backdrop-filter:blur(6px);color:#fff;font-size:.8rem;cursor:pointer}.toy-select-btn:hover{background:#00000052;transform:translateY(-1px)}.toy-select-btn i{font-size:.7rem;color:#ffffffd9}.toy-label{font-weight:600;white-space:nowrap}.toy-main{display:flex;align-items:center}.toy-level-controls{position:absolute;bottom:-8px;left:50%;transform:translate(-50%);display:flex;align-items:center;gap:.25rem;background:#000000d9;border-radius:12px;padding:.15rem .4rem;border:1px solid rgba(255,255,255,.3);opacity:0;pointer-events:none}.toy-level-controls.inline{position:static;transform:none;opacity:1;pointer-events:auto;background:#00000040;backdrop-filter:blur(6px)}.glass-btn{background:#00000040;color:#fff;border:1px solid rgba(255,255,255,.4);backdrop-filter:blur(6px)}.glass-btn:hover{background:#00000052;border-color:#ffffff80;transform:translateY(-1px)}.toy-select-container:hover .toy-level-controls,.toy-select-container:hover .toy-remove-btn,.toy-wrap:hover .toy-add-hard{opacity:1;pointer-events:auto}.toy-level-btn{background:#ffffff26;border:none;border-radius:999px;width:18px;height:18px;display:flex;align-items:center;justify-content:center;color:#fff;cursor:pointer;font-size:.65rem;padding:0}.toy-level-btn:hover{background:#ffffff4d;transform:scale(1.1)}.toy-level-label{color:#fff;font-size:.7rem;font-weight:700;min-width:22px;text-align:center}.toy-remove-btn{position:absolute;top:-6px;right:-6px;width:18px;height:18px;background:#d63384;border:2px solid #fff;border-radius:999px;display:flex;align-items:center;justify-content:center;color:#fff;cursor:pointer;font-size:.75rem}.toy-remove-btn:hover{background:#c2185b;transform:scale(1.1)}.toy-remove-btn-inline{width:22px;height:22px;background:#d63384;border:2px solid #fff;border-radius:999px;display:inline-flex;align-items:center;justify-content:center;color:#fff;cursor:pointer;font-size:.75rem}.toy-remove-btn-inline:hover{background:#c2185b;transform:scale(1.05)}.toy-add-hard{position:absolute;top:4px;right:4px;width:20px;height:20px;background:#000000b3;border:1px solid rgba(255,255,255,.4);border-radius:999px;display:flex;align-items:center;justify-content:center;color:#ffffffb3;cursor:pointer;font-size:.75rem}.toy-add-hard:hover{background:#000000e6;border-color:#ffffffb3;color:#fff;transform:scale(1.15)}.toy-select-icon{position:absolute;bottom:-4px;right:-4px;background:#000000b3;color:#fff;border-radius:999px;width:16px;height:16px;display:flex;align-items:center;justify-content:center;font-size:.7rem;opacity:0;transition:opacity .2s;pointer-events:none;border:1px solid rgba(255,255,255,.3)}.toy-select-container:hover .toy-select-icon{opacity:1}.toy-level-text{color:#fff;font-weight:700;text-shadow:0 2px 4px rgba(0,0,0,.75);margin-left:.35rem;display:none}.battle-row h2{color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.75)}@media(max-width:767.98px){.card{max-width:18em}.back,.front{transform:initial;writing-mode:initial}.player-card{grid-template-columns:none}}.ml-auto{margin-left:auto}.bug-button{margin-right:.5em;margin-bottom:.25em}.advanced-input input{width:60px}.simulation-progress{display:flex;align-items:center;gap:.75rem}.simulation-progress .progress{flex:1;height:8px;background-color:#00000014}.simulation-progress .progress-bar{transition:width .2s linear}.simulation-progress .progress-text{min-width:110px;text-align:right;font-size:.85rem;color:#6c757d}@media(max-width:991.98px){.bottom-container{flex-direction:column;row-gap:1rem}.bottom-container>.col-12{flex:0 0 100%;max-width:100%;height:auto}.battle-row{flex-direction:column}.battle-row .col-12{padding-left:0;padding-right:0}.top-controls{padding:.75rem}.top-controls .team-row{flex-direction:column;align-items:stretch}.team-row-right{flex-direction:column;align-items:stretch;gap:.5rem}.team-name-actions{margin-top:.4rem;gap:.25rem}.action-row{flex-direction:column}.action-row>div{width:100%;display:flex;flex-wrap:wrap;gap:.5rem;justify-content:center}.results-row{margin-bottom:.25rem}.results-row .stats{flex-direction:column;align-items:center}.control-groups{flex-direction:column}.control-group{width:100%}.compact-toy-group .toy-row{flex-direction:column}.compact-toy-group .toy-inline{width:100%;min-width:0}.compact-toy-group .toy-row.hard-row{gap:.5rem}.results-bar{width:100%;min-width:unset;max-width:none}}\n"],encapsulation:2,changeDetection:0})}return a})(),{providers:[(0,aa.$R)((0,aa.Sx)())]}).catch(a=>console.error(a))},7283(fe){fe.exports=JSON.parse('[{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give Coconut perk to two first enemies."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"294","Name":"Action Figure","NameId":"RelicActionFigure","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Break: Give the front-most friend +1 attack and +1 health."},{"Level":2,"About":"Break: Give the two front-most friends +1 attack and +1 health."},{"Level":3,"About":"Break: Give the three front-most friends +1 attack and +1 health."}],"Type":1,"ToyType":0,"Id":"479","Name":"Balloon","NameId":"RelicBalloon","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Deal 50 damage to the front-most friend."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"299","Name":"Boot","NameId":"RelicBoot","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: If you rolled less than 6 times this turn, deal the turn number as damage to friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"300","Name":"Bowling Ball","NameId":"RelicBowlingBall","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Lose 3 gold."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"310","Name":"Broken Piggy Bank","NameId":"RelicOpenPiggyBank","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Sell the two front-most friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"302","Name":"Cardboard Box","NameId":"RelicCardboardBox","Tier":1,"TierMax":4,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give +1 experience to friends and +2 experience to enemies."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"794","Name":"Chocolate Box","NameId":"RelicChocolateBox","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Summoned: Replace this with another random toy."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"482","Name":"Crumpled Paper","NameId":"RelicCrumpledPaper","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend +2 mana."},{"Level":2,"About":"Start of battle: Give the front-most friend +4 mana."},{"Level":3,"About":"Start of battle: Give the front-most friend +6 mana."}],"Type":1,"ToyType":0,"Id":"580","Name":"Crystal Ball","NameId":"RelicCrystalBall","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Friend bought: Transform it into ANY random pet from the same tier with new base stats."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"303","Name":"Deck of Cards","NameId":"RelicCardDeck","Tier":1,"TierMax":4,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Roll: Lose 1 gold."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"304","Name":"Dice","NameId":"RelicDice","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Shuffle positions of all friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"286","Name":"Dice Cup","NameId":"RelicDiceCup","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: If you did not buy any tier 1 food this turn, make friends Dazed until next turn."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"485","Name":"Flute","NameId":"RelicFlute","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make the two front-most friends Weak."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"306","Name":"Handkerchief","NameId":"RelicHandkerchief","Tier":1,"TierMax":3,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Empty front space: Remove 20% attack from the back-most friend and move it to the front."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"307","Name":"Kite","NameId":"RelicKite","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Remove 20% attack and 20% health from friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"506","Name":"Lamp","NameId":"RelicLamp","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Feed Apples to random pets for each turn number. Double their power on enemies."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"308","Name":"Lunchbox","NameId":"RelicLunchbox","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the back-most tier 2 or lower friend +1 experience."},{"Level":2,"About":"Start of battle: Give the back-most tier 2 or lower friend +2 experience."},{"Level":3,"About":"Start of battle: Give the back-most tier 2 or lower friend +3 experience."}],"Type":1,"ToyType":0,"Id":"581","Name":"Magic Wand","NameId":"RelicMagicWand","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make two random friends Cold."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"590","Name":"Onesie","NameId":"RelicOnesie","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Friend summoned: Knock it out."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"312","Name":"Paper Shredder","NameId":"RelicPaperShredder","Tier":1,"TierMax":5,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make the two front-most friends Inked."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"313","Name":"Pen","NameId":"RelicPen","Tier":1,"TierMax":3,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Knock out the two front-most friends and the front-most enemy."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"284","Name":"Pill Bottle","NameId":"RelicPillBottle","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Push the last enemy up front and give it +100% attack and +100% health."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"314","Name":"Pogo Stick","NameId":"RelicPogoStick","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give enemies +20% attack and +20% health."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"315","Name":"Remote Car","NameId":"RelicRemoteCar","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: If you spent less than 13 gold this turn, remove 20% health from friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"582","Name":"Ring","NameId":"RelicTheOneRing","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Knock out friends from the previous tier."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"316","Name":"Ring Pyramid","NameId":"RelicRingPyramid","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Deal 1 damage to the three front-most friends. Multiply damage with their tiers."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"285","Name":"Rock Bag","NameId":"RelicRockBag","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"All enemies fainted: Summon one 50/1 enemy Duck. Works 1 time per battle."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"318","Name":"Rubber Duck","NameId":"RelicRubberDuck","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Set attack and health of all friends to the turn number."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"795","Name":"Scale","NameId":"RelicScale","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Knock out friends from the current tier."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"486","Name":"Soccer Ball","NameId":"RelicFootball","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give Walnut perk to the friend on the middle space."},{"Level":2,"About":"Start of battle: Give Walnut perk with double effect to the friend on the middle space."},{"Level":3,"About":"Start of battle: Give Walnut perk with triple effect to the friend on the middle space."}],"Type":1,"ToyType":0,"Id":"496","Name":"Stick","NameId":"RelicWoodenStick","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block 2 damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make the two back-most friends Icky."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"792","Name":"Sticky Hand","NameId":"RelicStickyHand","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take double damage, twice.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Three friends faint: Summon one exact enemy copy of the back-most friend."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"324","Name":"Stuffed Bear","NameId":"RelicTeddyBear","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Remove the lowest tier perks from two friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"793","Name":"Vacuum Cleaner","NameId":"RelicHandheldVacuumCleaner","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make one random perk-less enemy Weak."},{"Level":2,"About":"Start of battle: Make two random perk-less enemies Weak."},{"Level":3,"About":"Start of battle: Make three random perk-less enemies Weak."}],"Type":1,"ToyType":0,"Id":"600","Name":"Witch Broom","NameId":"RelicWitchBroom","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend Garlic perk."},{"Level":2,"About":"Start of battle: Give the two front-most friends Garlic perk."},{"Level":3,"About":"Start of battle: Give the three front-most friends Garlic perk."}],"Type":1,"ToyType":0,"Id":"509","Name":"Garlic Press","NameId":"RelicGarlicPress","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Takes 2 less damage.","CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 attack."},{"Level":2,"About":"Friend summoned: Give it +2 attack."},{"Level":3,"About":"Friend summoned: Give it +3 attack."}],"Type":1,"ToyType":0,"Id":"598","Name":"Magic Carpet","NameId":"RelicMagicCarpet","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Friendly level-up: Give it +1 attack and +1 health."},{"Level":2,"About":"Friendly level-up: Give it +2 attack and +2 health."},{"Level":3,"About":"Friendly level-up: Give it +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"575","Name":"Magic Lamp","NameId":"RelicMagicLamp","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give Popcorn perk to the front-most perkless friend."},{"Level":2,"About":"Start of battle: Give Popcorn perk to the two front-most perkless friends."},{"Level":3,"About":"Start of battle: Give Popcorn perk to the three front-most perkless friends."}],"Type":1,"ToyType":0,"Id":"699","Name":"Microwave Oven","NameId":"RelicMicrowaver","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Faint: Summon one random pet from the same tier.","CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give Eucalyptus perk to the front-most friend."},{"Level":2,"About":"Start of battle: Give Eucalyptus perk to the two front-most friends."},{"Level":3,"About":"Start of battle: Give Eucalyptus perk to the three front-most friends."}],"Type":1,"ToyType":0,"Id":"789","Name":"Plastic Saw","NameId":"RelicToySaw","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block 4 enemy damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Break: Give friends +1 health."},{"Level":2,"About":"Break: Give friends +2 health."},{"Level":3,"About":"Break: Give friends +3 health."}],"Type":1,"ToyType":0,"Id":"488","Name":"Radio","NameId":"RelicRadio","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Deal 3 damage to one random enemy."},{"Level":2,"About":"Start of battle: Deal 3 damage to two random enemies."},{"Level":3,"About":"Start of battle: Deal 3 damage to three random enemies."}],"Type":1,"ToyType":0,"Id":"478","Name":"Tennis Ball","NameId":"RelicTennisBall","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Three friends bought: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Three friends bought: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Three friends bought: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"574","Name":"Candelabra","NameId":"RelicCandelabra","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Deal 5 damage to the lowest health enemy."},{"Level":2,"About":"Start of battle: Deal 5 damage to the lowest health enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 5 damage to the lowest health enemy. Triggers 3 times."}],"Type":1,"ToyType":0,"Id":"507","Name":"Foam Sword","NameId":"RelicFoamSword","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Three friends faint: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Three friends faint: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Three friends faint: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"586","Name":"Glass Shoes","NameId":"RelicGlassShoes","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Spend 14 gold: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Spend 14 gold: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Spend 14 gold: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"589","Name":"Golden Harp","NameId":"RelicGoldenHarp","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Three food bought: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Three food bought: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Three food bought: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"595","Name":"Lock of Hair","NameId":"RelicLockofHair","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Two friends transformed: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Two friends transformed: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Two friends transformed: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"578","Name":"Magic Mirror","NameId":"RelicMagicMirror","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Break: Give the front-most friend Melon perk."},{"Level":2,"About":"Break: Give the two front-most friends Melon perk."},{"Level":3,"About":"Break: Give the three front-most friends Melon perk."}],"Type":1,"ToyType":0,"Id":"510","Name":"Melon Helmet","NameId":"RelicMelonHelmet","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Roll 7 times: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Roll 7 times: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Roll 7 times: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"599","Name":"Pickaxe","NameId":"RelicPickaxe","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Friend jumped: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Friend jumped: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Friend jumped: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"576","Name":"Red Cape","NameId":"RelicRedCape","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Two friendly level-up: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Two friendly level-up: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Two friendly level-up: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"579","Name":"Rosebud","NameId":"RelicRosebud","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Transform front-most friend into another random pet from 2 tiers below."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"319","Name":"Scissors","NameId":"RelicScissors","Tier":3,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Deal 5 damage to the last enemy."},{"Level":2,"About":"Start of battle: Deal 5 damage to the last enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 5 damage to the last enemy. Triggers 3 times."}],"Type":1,"ToyType":0,"Id":"493","Name":"Toy Gun","NameId":"RelicToyGun","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Transform all friends to level 1."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"327","Name":"Toy Mouse","NameId":"RelicToyMouse","Tier":3,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Break: Stock one free pet from tier 2 as a 4/4 level 3."},{"Level":2,"About":"Break: Stock one free pet from tier 4 as a 8/8 level 3."},{"Level":3,"About":"Break: Stock one free pet from tier 6 as a 12/12 level 3."}],"Type":1,"ToyType":0,"Id":"591","Name":"Treasure Chest","NameId":"RelicTreasureChest","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Break: Summon a level 1 Treasure Chest."},{"Level":2,"About":"Break: Summon a level 2 Treasure Chest."},{"Level":3,"About":"Break: Summon a level 3 Treasure Chest."}],"Type":1,"ToyType":0,"Id":"594","Name":"Treasure Map","NameId":"RelicTreasureMap","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"End turn: Gain one free roll next turn."},{"Level":2,"About":"End turn: Gain two free rolls next turn."},{"Level":3,"About":"End turn: Gain three free rolls next turn."}],"Type":1,"ToyType":0,"Id":"597","Name":"Winged Sandals","NameId":"RelicWingedSandals","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Break: Summon one 6/6 friend that sells for 3 gold."},{"Level":2,"About":"Break: Summon one 12/12 friend that sells for 6 gold."},{"Level":3,"About":"Break: Summon one 18/18 friend that sells for 9 gold."}],"Type":1,"ToyType":0,"Id":"492","Name":"Cash Register","NameId":"RelicToyCashRegister","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"All friends fainted: Summon one 6/6 Salmon of Knowledge in battle once."},{"Level":2,"About":"All friends fainted: Summon one 12/12 Salmon of Knowledge in battle once."},{"Level":3,"About":"All friends fainted: Summon one 18/18 Salmon of Knowledge in battle once."}],"Type":1,"ToyType":0,"Id":"584","Name":"Nutcracker","NameId":"RelicNutcracker","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Give the middle friendly pet +6 mana."},{"Level":2,"About":"Start of battle: Give the middle friendly pet +12 mana."},{"Level":3,"About":"Start of battle: Give the middle friendly pet +18 mana."}],"Type":1,"ToyType":0,"Id":"587","Name":"Ocarina","NameId":"RelicOcarina","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Break: Stock one free Chicken Leg."},{"Level":2,"About":"Break: Stock two free Chicken Legs."},{"Level":3,"About":"Break: Stock three free Chicken Legs."}],"Type":1,"ToyType":0,"Id":"311","Name":"Oven Mitts","NameId":"RelicOvenMitts","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Give one random Tand & Tand +6 attack and +6 health."},{"Level":2,"About":"Start of battle: Give one random Tand & Tand +12 attack and +12 health."},{"Level":3,"About":"Start of battle: Give one random Tand & Tand +18 attack and +18 health."}],"Type":1,"ToyType":0,"Id":"585","Name":"Thunder Hammer","NameId":"RelicThunderHammer","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Empty front space: Summon one 6/6 Giant Eyes Dog up front in battle once."},{"Level":2,"About":"Empty front space: Summon one 12/12 Giant Eyes Dog up front in battle once."},{"Level":3,"About":"Empty front space: Summon one 18/18 Giant Eyes Dog up front in battle once."}],"Type":1,"ToyType":0,"Id":"588","Name":"Tinder Box","NameId":"RelicTinderBox","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Make the first enemy Weak."},{"Level":2,"About":"Start of battle: Make the first two enemies Weak."},{"Level":3,"About":"Start of battle: Make the first three enemies Weak."}],"Type":1,"ToyType":0,"Id":"326","Name":"Toilet Paper","NameId":"RelicToiletPaper","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Start of battle: Remove 30% attack from the highest attack enemy."},{"Level":2,"About":"Start of battle: Remove 30% attack from the two highest attack enemies."},{"Level":3,"About":"Start of battle: Remove 30% attack from the three highest attack enemies."}],"Type":1,"ToyType":0,"Id":"503","Name":"Camera","NameId":"RelicCamera","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Empty front space: Summon one 6/6 Great One in battle that deals 5 damage to ALL other pets."},{"Level":2,"About":"Empty front space: Summon one 12/12 Great One in battle that deals 10 damage to ALL other pets."},{"Level":3,"About":"Empty front space: Summon one 18/18 Great One in battle that deals 15 damage to ALL other pets."}],"Type":1,"ToyType":0,"Id":"645","Name":"Evil Book","NameId":"RelicEvilBook","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Break: Give front-most friend +5 attack and +5 health."},{"Level":2,"About":"Break: Give front-most friend +10 attack and +10 health."},{"Level":3,"About":"Break: Give front-most friend +15 attack and +15 health."}],"Type":1,"ToyType":0,"Id":"484","Name":"Flashlight","NameId":"RelicFlashlight","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Start of battle: Give ALL pets random perks and ailments."},{"Level":2,"About":"Start of battle: Give ALL pets random perks and ailments with double effects."},{"Level":3,"About":"Start of battle: Give ALL pets random perks and ailments with triple effects."}],"Type":1,"ToyType":0,"Id":"593","Name":"Pandoras Box","NameId":"RelicPandorasBox","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Start of battle: Remove 40% health from the highest health enemy."},{"Level":2,"About":"Start of battle: Remove 40% health from the two highest health enemies."},{"Level":3,"About":"Start of battle: Remove 40% health from the three highest health enemies."}],"Type":1,"ToyType":0,"Id":"513","Name":"Stinky Sock","NameId":"RelicStinkySock","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Start of battle: Give Coconut perk to the highest attack friend."},{"Level":2,"About":"Start of battle: Give Coconut perk to the two highest attack friends."},{"Level":3,"About":"Start of battle: Give Coconut perk to the three highest attack friends."}],"Type":1,"ToyType":0,"Id":"511","Name":"Air Palm Tree","NameId":"RelicPalmTree","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"End turn: Give the back-most friend +1 attack and +1 health."},{"Level":2,"About":"End turn: Give the back-most friend +2 attack and +2 health."},{"Level":3,"About":"End turn: Give the back-most friend +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"583","Name":"Excalibur","NameId":"RelicExcalibur","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Break: Stock one free Holy Water."},{"Level":2,"About":"Break: Stock two free Holy Waters."},{"Level":3,"About":"Break: Stock three free Holy Waters."}],"Type":1,"ToyType":0,"Id":"592","Name":"Holy Grail","NameId":"RelicHolyGrail","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Start of battle: Give Peanut Butter perk to the lowest attack friend."},{"Level":2,"About":"Start of battle: Give Peanut Butter perk to the two lowest attack friends."},{"Level":3,"About":"Start of battle: Give Peanut Butter perk to the three lowest attack friends."}],"Type":1,"ToyType":0,"Id":"512","Name":"Peanut Jar","NameId":"RelicPeanutJar","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this, once.","CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Break: Give friends +2 attack and +2 health."},{"Level":2,"About":"Break: Give friends +4 attack and +4 health."},{"Level":3,"About":"Break: Give friends +6 attack and +6 health."}],"Type":1,"ToyType":0,"Id":"491","Name":"Television","NameId":"RelicTelevision","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]}]')},7302(fe,K,w){w.d(K,{A:()=>ne});var T=w(3180),m=w(4173),x=w(7437),q=w(340),P=w(8960),p=w(3632);function ee(te){var le=this.__data__=new T.A(te);this.size=le.size}ee.prototype.clear=m.A,ee.prototype.delete=x.A,ee.prototype.get=q.A,ee.prototype.has=P.A,ee.prototype.set=p.A;const ne=ee},7312(fe,K,w){w.d(K,{j:()=>x});var T=w(762),m=w(1805);function x(p){return ee=>ee.lift(new q(p))}class q{constructor(ee){this.callback=ee}call(ee,ne){return ne.subscribe(new P(ee,this.callback))}}class P extends T.v{constructor(ee,ne){super(ee),this.add(new m.y(ne))}}},7354(fe,K,w){w.d(K,{c:()=>T});const T=Array.isArray||(m=>m&&"number"==typeof m.length)},7372(fe,K,w){w.d(K,{A:()=>P});var T=w(6658),m=w(8114),x=w(4238);const P=function q(p){return(0,T.A)(p,x.A,m.A)}},7389(fe,K,w){w.d(K,{c:()=>p});var T=w(7677),m=w(9112),x=w(5722),q=w(8167),P=w(614);let p=(()=>{class ne{constructor(le){this._isScalar=!1,le&&(this._subscribe=le)}lift(le){const ce=new ne;return ce.source=this,ce.operator=le,ce}subscribe(le,ce,me){const{operator:Ee}=this,He=(0,m.u)(le,ce,me);if(He.add(Ee?Ee.call(He,this.source):this.source||P.$.useDeprecatedSynchronousErrorHandling&&!He.syncErrorThrowable?this._subscribe(He):this._trySubscribe(He)),P.$.useDeprecatedSynchronousErrorHandling&&He.syncErrorThrowable&&(He.syncErrorThrowable=!1,He.syncErrorThrown))throw He.syncErrorValue;return He}_trySubscribe(le){try{return this._subscribe(le)}catch(ce){P.$.useDeprecatedSynchronousErrorHandling&&(le.syncErrorThrown=!0,le.syncErrorValue=ce),(0,T.H)(le)?le.error(ce):console.warn(ce)}}forEach(le,ce){return new(ce=ee(ce))((me,Ee)=>{let He;He=this.subscribe(Je=>{try{le(Je)}catch(Qe){Ee(Qe),He&&He.unsubscribe()}},Ee,me)})}_subscribe(le){const{source:ce}=this;return ce&&ce.subscribe(le)}[x.s](){return this}pipe(...le){return 0===le.length?this:(0,q.m)(le)(this)}toPromise(le){return new(le=ee(le))((ce,me)=>{let Ee;this.subscribe(He=>Ee=He,He=>me(He),()=>ce(Ee))})}}return ne.create=te=>new ne(te),ne})();function ee(ne){if(ne||(ne=P.$.Promise||Promise),!ne)throw new Error("no Promise impl found");return ne}},7437(fe,K,w){w.d(K,{A:()=>m});const m=function T(x){var q=this.__data__,P=q.delete(x);return this.size=q.size,P}},7677(fe,K,w){w.d(K,{H:()=>m});var T=w(762);function m(x){for(;x;){const{closed:q,destination:P,isStopped:p}=x;if(q||p)return!1;x=P&&P instanceof T.v?P:null}return!0}},7705(fe,K,w){w.d(K,{L39:()=>fi,MKu:()=>Ti,TL3:()=>Zi,Udg:()=>Kt,_q3:()=>pi,a0P:()=>Dr,gRc:()=>ie});var T=w(7868),x=(w(5824),w(5547));w(1805);const ge=new T.nKC(""),Be=new T.nKC("");function Ke($){return!$.moduleRef}let Ht=null;let ie=(()=>class ${static __NG_ELEMENT_ID__=Ae})();function Ae($){return function Pe($,L,B){if((0,T.Qs1)($)&&!B){const J=(0,T.KdJ)($.index,L);return new x.NCX(J,J)}return 175&$.type?new x.NCX(L[T.b5C],L):null}((0,T.Mx4)(),(0,T.OAn)(),!(16&~$))}class gt{constructor(){}supports(L){return(0,x.ozJ)(L)}create(L){return new hi(L)}}const Xe=($,L)=>L;class hi{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(L){this._trackByFn=L||Xe}forEachItem(L){let B;for(B=this._itHead;null!==B;B=B._next)L(B)}forEachOperation(L){let B=this._itHead,J=this._removalsHead,pe=0,Se=null;for(;B||J;){const De=!J||B&&B.currentIndex<cn(J,pe,Se)?B:J,Fe=cn(De,pe,Se),nt=De.currentIndex;if(De===J)pe--,J=J._nextRemoved;else if(B=B._next,null==De.previousIndex)pe++;else{Se||(Se=[]);const ot=Fe-pe,St=nt-pe;if(ot!=St){for(let zt=0;zt<ot;zt++){const Ei=zt<Se.length?Se[zt]:Se[zt]=0,Ki=Ei+zt;St<=Ki&&Ki<ot&&(Se[zt]=Ei+1)}Se[De.previousIndex]=St-ot}}Fe!==nt&&L(De,Fe,nt)}}forEachPreviousItem(L){let B;for(B=this._previousItHead;null!==B;B=B._nextPrevious)L(B)}forEachAddedItem(L){let B;for(B=this._additionsHead;null!==B;B=B._nextAdded)L(B)}forEachMovedItem(L){let B;for(B=this._movesHead;null!==B;B=B._nextMoved)L(B)}forEachRemovedItem(L){let B;for(B=this._removalsHead;null!==B;B=B._nextRemoved)L(B)}forEachIdentityChange(L){let B;for(B=this._identityChangesHead;null!==B;B=B._nextIdentityChange)L(B)}diff(L){if(null==L&&(L=[]),!(0,x.ozJ)(L))throw new T.buA(900,!1);return this.check(L)?this:null}onDestroy(){}check(L){this._reset();let pe,Se,De,B=this._itHead,J=!1;if(Array.isArray(L)){this.length=L.length;for(let Fe=0;Fe<this.length;Fe++)Se=L[Fe],De=this._trackByFn(Fe,Se),null!==B&&Object.is(B.trackById,De)?(J&&(B=this._verifyReinsertion(B,Se,De,Fe)),Object.is(B.item,Se)||this._addIdentityChange(B,Se)):(B=this._mismatch(B,Se,De,Fe),J=!0),B=B._next}else pe=0,(0,x.utN)(L,Fe=>{De=this._trackByFn(pe,Fe),null!==B&&Object.is(B.trackById,De)?(J&&(B=this._verifyReinsertion(B,Fe,De,pe)),Object.is(B.item,Fe)||this._addIdentityChange(B,Fe)):(B=this._mismatch(B,Fe,De,pe),J=!0),B=B._next,pe++}),this.length=pe;return this._truncate(B),this.collection=L,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let L;for(L=this._previousItHead=this._itHead;null!==L;L=L._next)L._nextPrevious=L._next;for(L=this._additionsHead;null!==L;L=L._nextAdded)L.previousIndex=L.currentIndex;for(this._additionsHead=this._additionsTail=null,L=this._movesHead;null!==L;L=L._nextMoved)L.previousIndex=L.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(L,B,J,pe){let Se;return null===L?Se=this._itTail:(Se=L._prev,this._remove(L)),null!==(L=null===this._unlinkedRecords?null:this._unlinkedRecords.get(J,null))?(Object.is(L.item,B)||this._addIdentityChange(L,B),this._reinsertAfter(L,Se,pe)):null!==(L=null===this._linkedRecords?null:this._linkedRecords.get(J,pe))?(Object.is(L.item,B)||this._addIdentityChange(L,B),this._moveAfter(L,Se,pe)):L=this._addAfter(new Ri(B,J),Se,pe),L}_verifyReinsertion(L,B,J,pe){let Se=null===this._unlinkedRecords?null:this._unlinkedRecords.get(J,null);return null!==Se?L=this._reinsertAfter(Se,L._prev,pe):L.currentIndex!=pe&&(L.currentIndex=pe,this._addToMoves(L,pe)),L}_truncate(L){for(;null!==L;){const B=L._next;this._addToRemovals(this._unlink(L)),L=B}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(L,B,J){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(L);const pe=L._prevRemoved,Se=L._nextRemoved;return null===pe?this._removalsHead=Se:pe._nextRemoved=Se,null===Se?this._removalsTail=pe:Se._prevRemoved=pe,this._insertAfter(L,B,J),this._addToMoves(L,J),L}_moveAfter(L,B,J){return this._unlink(L),this._insertAfter(L,B,J),this._addToMoves(L,J),L}_addAfter(L,B,J){return this._insertAfter(L,B,J),this._additionsTail=null===this._additionsTail?this._additionsHead=L:this._additionsTail._nextAdded=L,L}_insertAfter(L,B,J){const pe=null===B?this._itHead:B._next;return L._next=pe,L._prev=B,null===pe?this._itTail=L:pe._prev=L,null===B?this._itHead=L:B._next=L,null===this._linkedRecords&&(this._linkedRecords=new Qt),this._linkedRecords.put(L),L.currentIndex=J,L}_remove(L){return this._addToRemovals(this._unlink(L))}_unlink(L){null!==this._linkedRecords&&this._linkedRecords.remove(L);const B=L._prev,J=L._next;return null===B?this._itHead=J:B._next=J,null===J?this._itTail=B:J._prev=B,L}_addToMoves(L,B){return L.previousIndex===B||(this._movesTail=null===this._movesTail?this._movesHead=L:this._movesTail._nextMoved=L),L}_addToRemovals(L){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Qt),this._unlinkedRecords.put(L),L.currentIndex=null,L._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=L,L._prevRemoved=null):(L._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=L),L}_addIdentityChange(L,B){return L.item=B,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=L:this._identityChangesTail._nextIdentityChange=L,L}}class Ri{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(L,B){this.item=L,this.trackById=B}}class ti{_head=null;_tail=null;add(L){null===this._head?(this._head=this._tail=L,L._nextDup=null,L._prevDup=null):(this._tail._nextDup=L,L._prevDup=this._tail,L._nextDup=null,this._tail=L)}get(L,B){let J;for(J=this._head;null!==J;J=J._nextDup)if((null===B||B<=J.currentIndex)&&Object.is(J.trackById,L))return J;return null}remove(L){const B=L._prevDup,J=L._nextDup;return null===B?this._head=J:B._nextDup=J,null===J?this._tail=B:J._prevDup=B,null===this._head}}class Qt{map=new Map;put(L){const B=L.trackById;let J=this.map.get(B);J||(J=new ti,this.map.set(B,J)),J.add(L)}get(L,B){const pe=this.map.get(L);return pe?pe.get(L,B):null}remove(L){const B=L.trackById;return this.map.get(B).remove(L)&&this.map.delete(B),L}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cn($,L,B){const J=$.previousIndex;if(null===J)return J;let pe=0;return B&&J<B.length&&(pe=B[J]),J+L+pe}class Vt{constructor(){}supports(L){return L instanceof Map||(0,x.vDg)(L)}create(){return new wi}}class wi{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(L){let B;for(B=this._mapHead;null!==B;B=B._next)L(B)}forEachPreviousItem(L){let B;for(B=this._previousMapHead;null!==B;B=B._nextPrevious)L(B)}forEachChangedItem(L){let B;for(B=this._changesHead;null!==B;B=B._nextChanged)L(B)}forEachAddedItem(L){let B;for(B=this._additionsHead;null!==B;B=B._nextAdded)L(B)}forEachRemovedItem(L){let B;for(B=this._removalsHead;null!==B;B=B._nextRemoved)L(B)}diff(L){if(L){if(!(L instanceof Map||(0,x.vDg)(L)))throw new T.buA(900,!1)}else L=new Map;return this.check(L)?this:null}onDestroy(){}check(L){this._reset();let B=this._mapHead;if(this._appendAfter=null,this._forEach(L,(J,pe)=>{if(B&&B.key===pe)this._maybeAddToChanges(B,J),this._appendAfter=B,B=B._next;else{const Se=this._getOrCreateRecordForKey(pe,J);B=this._insertBeforeOrAppend(B,Se)}}),B){B._prev&&(B._prev._next=null),this._removalsHead=B;for(let J=B;null!==J;J=J._nextRemoved)J===this._mapHead&&(this._mapHead=null),this._records.delete(J.key),J._nextRemoved=J._next,J.previousValue=J.currentValue,J.currentValue=null,J._prev=null,J._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(L,B){if(L){const J=L._prev;return B._next=L,B._prev=J,L._prev=B,J&&(J._next=B),L===this._mapHead&&(this._mapHead=B),this._appendAfter=L,L}return this._appendAfter?(this._appendAfter._next=B,B._prev=this._appendAfter):this._mapHead=B,this._appendAfter=B,null}_getOrCreateRecordForKey(L,B){if(this._records.has(L)){const pe=this._records.get(L);this._maybeAddToChanges(pe,B);const Se=pe._prev,De=pe._next;return Se&&(Se._next=De),De&&(De._prev=Se),pe._next=null,pe._prev=null,pe}const J=new ft(L);return this._records.set(L,J),J.currentValue=B,this._addToAdditions(J),J}_reset(){if(this.isDirty){let L;for(this._previousMapHead=this._mapHead,L=this._previousMapHead;null!==L;L=L._next)L._nextPrevious=L._next;for(L=this._changesHead;null!==L;L=L._nextChanged)L.previousValue=L.currentValue;for(L=this._additionsHead;null!=L;L=L._nextAdded)L.previousValue=L.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(L,B){Object.is(B,L.currentValue)||(L.previousValue=L.currentValue,L.currentValue=B,this._addToChanges(L))}_addToAdditions(L){null===this._additionsHead?this._additionsHead=this._additionsTail=L:(this._additionsTail._nextAdded=L,this._additionsTail=L)}_addToChanges(L){null===this._changesHead?this._changesHead=this._changesTail=L:(this._changesTail._nextChanged=L,this._changesTail=L)}_forEach(L,B){L instanceof Map?L.forEach(B):Object.keys(L).forEach(J=>B(L[J],J))}}class ft{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(L){this.key=L}}function Pt(){return new pi([new gt])}let pi=(()=>{class ${factories;static \u0275prov=(0,T.jDH)({token:$,providedIn:"root",factory:Pt});constructor(B){this.factories=B}static create(B,J){if(null!=J){const pe=J.factories.slice();B=B.concat(pe)}return new $(B)}static extend(B){return{provide:$,useFactory:()=>{const J=(0,T.WQX)($,{optional:!0,skipSelf:!0});return $.create(B,J||Pt())}}}find(B){const J=this.factories.find(pe=>pe.supports(B));if(null!=J)return J;throw new T.buA(901,!1)}}return $})();function Tt(){return new Ti([new Vt])}let Ti=(()=>{class ${static \u0275prov=(0,T.jDH)({token:$,providedIn:"root",factory:Tt});factories;constructor(B){this.factories=B}static create(B,J){if(J){const pe=J.factories.slice();B=B.concat(pe)}return new $(B)}static extend(B){return{provide:$,useFactory:()=>{const J=(0,T.WQX)($,{optional:!0,skipSelf:!0});return $.create(B,J||Tt())}}}find(B){const J=this.factories.find(pe=>pe.supports(B));if(J)return J;throw new T.buA(901,!1)}}return $})();function Zi($){const{rootComponent:L,appProviders:B,platformProviders:J,platformRef:pe}=$;(0,x.Ef8)(x.mS5.BootstrapApplicationStart);try{const Se=pe?.injector??function sn($=[]){if(Ht)return Ht;(0,x.pl0)();const L=function gn($=[],L){return T.zZn.create({name:L,providers:[{provide:T.GBX,useValue:"platform"},{provide:ge,useValue:new Set([()=>Ht=null])},...$]})}($);return Ht=L,(0,x.ypd)(),function xi($){const L=$.get(x.PLl,null);(0,T.N4e)($,()=>{L?.forEach(B=>B())})}(L),L}(J),De=[(0,x.rpG)(),T.gv8,...B||[]];return function ke($){const L=Ke($)?$.r3Injector:$.moduleRef.injector,B=L.get(T.SKi);return B.run(()=>{Ke($)?$.r3Injector.resolveInjectorInitializers():$.moduleRef.resolveInjectorInitializers();const J=L.get(T.ZTf);let pe;if(B.runOutsideAngular(()=>{pe=B.onError.subscribe({next:J})}),Ke($)){const Se=()=>L.destroy(),De=$.platformInjector.get(ge);De.add(Se),L.onDestroy(()=>{pe.unsubscribe(),De.delete(Se)})}else{const Se=()=>$.moduleRef.destroy(),De=$.platformInjector.get(ge);De.add(Se),$.moduleRef.onDestroy(()=>{(0,x.TFI)($.allPlatformModules,$.moduleRef),pe.unsubscribe(),De.delete(Se)})}return function _i($,L,B){try{const J=B();return(0,x.yLl)(J)?J.catch(pe=>{throw L.runOutsideAngular(()=>$(pe)),pe}):J}catch(J){throw L.runOutsideAngular(()=>$(J)),J}}(J,B,()=>{const Se=L.get(T.rev),De=Se.add(),Fe=L.get(x.H1s);return Fe.runInitializers(),Fe.donePromise.then(()=>{const nt=L.get(x.xe9,x.DkB);if((0,x.e6s)(nt||x.DkB),!L.get(Be,!0))return Ke($)?L.get(x.o8S):($.allPlatformModules.push($.moduleRef),$.moduleRef);if(Ke($)){const St=L.get(x.o8S);return void 0!==$.rootComponent&&St.bootstrap($.rootComponent),St}return $.moduleRef}).finally(()=>{Se.remove(De)})})})}({r3Injector:new x.bH1({providers:De,parent:Se,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:Se,rootComponent:L})}catch(Se){return Promise.reject(Se)}finally{(0,x.Ef8)(x.mS5.BootstrapApplicationEnd)}}function fi($){return"boolean"==typeof $?$:null!=$&&"false"!==$}function Kt($,L=NaN){return isNaN(parseFloat($))||isNaN(Number($))?L:Number($)}function Dr($,L){const B=(0,T.xUg)($),J=L.elementInjector||(0,T.WB9)();return new x.eHC(B).create(J,L.projectableNodes,L.hostElement,L.environmentInjector,L.directives,L.bindings)}},7765(fe,K,w){w.d(K,{lJ:()=>m});const m=function T(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},7850(fe,K,w){w.d(K,{A:()=>si});var T=w(5152),m=w(618),x=w(8438),q=w(5267),P=w(4314);const si=function It(xt,yt,Li){var mi=xt.constructor;switch(yt){case"[object ArrayBuffer]":return(0,T.A)(xt);case"[object Boolean]":case"[object Date]":return new mi(+xt);case"[object DataView]":return(0,m.A)(xt,Li);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,P.A)(xt,Li);case"[object Map]":case"[object Set]":return new mi;case"[object Number]":case"[object String]":return new mi(xt);case"[object RegExp]":return(0,x.A)(xt);case"[object Symbol]":return(0,q.A)(xt)}}},7868(fe,K,w){w.d(K,{$8:()=>it,$Hz:()=>$n,A0l:()=>vr,A7J:()=>xi,AQb:()=>Xo,Ab:()=>Cc,AbJ:()=>Bd,Af3:()=>aa,Agf:()=>Jn,Ap:()=>le,AsM:()=>Ye,B22:()=>um,B9r:()=>F,BI7:()=>sn,Bqz:()=>un,By9:()=>Nc,CQl:()=>gr,CpD:()=>al,Cv0:()=>Li,Czx:()=>St,DFp:()=>_i,Ds7:()=>Fe,DyX:()=>cm,E6O:()=>Gn,EFk:()=>bc,EJG:()=>L,EPY:()=>br,EYC:()=>Wr,EmA:()=>j,Evm:()=>qd,F1c:()=>lr,FRF:()=>bn,Fje:()=>$A,G2t:()=>pn,GA0:()=>Ic,GBX:()=>Hn,GWr:()=>Vi,GYQ:()=>Sm,GZS:()=>Ea,GpT:()=>$,HAh:()=>Vs,HO5:()=>hl,HUe:()=>Un,HaV:()=>vi,Hh6:()=>ct,IAh:()=>ei,ID:()=>nt,ID8:()=>gm,ITl:()=>_c,Iaj:()=>Ei,Isx:()=>en,IvY:()=>C,JEi:()=>Ki,JjR:()=>so,JlV:()=>Qr,Jzi:()=>si,K29:()=>zr,K7h:()=>or,KET:()=>xr,KVO:()=>Qt,KdJ:()=>zi,KtD:()=>Md,Kw3:()=>el,LIA:()=>mi,LZP:()=>pr,M0L:()=>Yr,M6u:()=>ka,MI:()=>lm,MME:()=>tr,MT:()=>qA,MZA:()=>Vr,M_e:()=>qt,MdC:()=>Ca,Mlv:()=>er,Mx4:()=>Qs,MzJ:()=>Te,N4e:()=>to,N79:()=>GA,Njj:()=>Ec,O8q:()=>Pc,O8t:()=>_m,OAn:()=>Js,ONQ:()=>ke,OsK:()=>He,P2g:()=>pm,P3H:()=>Id,PEr:()=>om,PP7:()=>ki,PQT:()=>jr,Pfq:()=>Dc,Pz9:()=>tn,QZP:()=>Wd,Qs1:()=>js,QuC:()=>Qn,R2n:()=>sa,RZ9:()=>tl,Rc9:()=>Za,Rfq:()=>ii,Rom:()=>io,RxE:()=>ee,SKP:()=>yr,SKi:()=>cl,SMZ:()=>At,SX7:()=>Nd,TWe:()=>Pd,Tkx:()=>_d,U45:()=>xt,U7d:()=>Fi,UaU:()=>co,UhH:()=>$o,VKj:()=>Sc,VML:()=>ua,VPL:()=>HA,VVG:()=>Mr,VX4:()=>Aa,W0r:()=>Fo,WB9:()=>Cr,WQX:()=>Vt,WbQ:()=>Bi,WfI:()=>mr,Wg1:()=>_t,WrV:()=>yt,X5O:()=>J,XRZ:()=>We,XaM:()=>di,Xln:()=>Ut,XvL:()=>Xi,Y20:()=>No,Y3W:()=>li,YEL:()=>Lo,YWB:()=>oo,Yrj:()=>B,Yw1:()=>Ai,Z63:()=>Cn,Z9v:()=>lo,ZFY:()=>Ge,ZQF:()=>kn,ZRn:()=>Z,ZTf:()=>dl,_0$:()=>Xs,_Z$:()=>yn,_gW:()=>zs,_px:()=>UA,a2B:()=>Pe,abz:()=>Da,b$O:()=>Wo,b5C:()=>pe,bBq:()=>la,biv:()=>OA,bkB:()=>Rr,bll:()=>rl,blu:()=>Ys,bm_:()=>oa,brz:()=>$e,buA:()=>me,c$7:()=>Rd,cBl:()=>qo,cP4:()=>no,cSN:()=>wc,ckz:()=>Bo,d31:()=>G,dMS:()=>Ks,dTm:()=>Ud,d_l:()=>Cd,db4:()=>wd,dmw:()=>cn,dwj:()=>mt,e5P:()=>Pa,eBV:()=>xd,eDl:()=>X,eFE:()=>Hr,eVN:()=>cr,ebl:()=>Be,ezK:()=>fr,f7T:()=>ir,fuf:()=>Tc,gsJ:()=>vn,gv8:()=>YA,gxQ:()=>Uo,hjC:()=>wi,hk6:()=>qc,hmW:()=>Tn,iMd:()=>Ho,iYM:()=>vt,ihb:()=>Ar,ik5:()=>Ed,iw4:()=>Ui,jDH:()=>Wt,jNX:()=>kd,jRZ:()=>Td,jXY:()=>we,jgP:()=>Ct,joV:()=>Fc,jvu:()=>ym,kLh:()=>tt,kNT:()=>ut,kcM:()=>an,klJ:()=>Go,krE:()=>hm,l4E:()=>$c,laP:()=>Je,llW:()=>Zi,m7n:()=>Vo,myG:()=>Hc,n$e:()=>Nt,nKC:()=>rt,nZS:()=>on,nfM:()=>Jr,ng7:()=>Ti,niQ:()=>fm,nl4:()=>It,oMQ:()=>ot,oTH:()=>Q,oZy:()=>ao,ok8:()=>ce,oyA:()=>mn,p9y:()=>ar,pbo:()=>rn,pcR:()=>st,phH:()=>ri,pr_:()=>Oe,q$2:()=>wa,qFA:()=>Xr,qQL:()=>uo,qSk:()=>WA,qlT:()=>Dr,r4V:()=>E,rFz:()=>jo,rJ1:()=>Ws,rQE:()=>Se,rev:()=>Ma,s6P:()=>nr,srX:()=>Ta,tF7:()=>Ji,tQN:()=>zt,tcA:()=>Hs,tdH:()=>Hd,u5s:()=>po,uXy:()=>Oi,uiq:()=>Lr,uvJ:()=>Dn,vNG:()=>Dd,vOT:()=>Ir,vPA:()=>Ce,vQI:()=>jA,vaC:()=>k,veI:()=>Zs,w7Z:()=>il,wGu:()=>Tt,wVl:()=>De,xLP:()=>$i,xUg:()=>Qi,xbp:()=>Ld,xyx:()=>xc,yAH:()=>Ke,yP_:()=>Mc,yoD:()=>qs,ypq:()=>vm,yzR:()=>ro,z6V:()=>pi,z7f:()=>Nn,zAe:()=>I,zQk:()=>sm,zSs:()=>ln,zZn:()=>nn,zcH:()=>ul,znI:()=>BA});var T=w(5824),m=w(7389),x=w(5286),q=w(9928),P=w(1805),p=w(1679);class ee{full;major;minor;patch;constructor(N){this.full=N;const U=N.split(".");this.major=U[0],this.minor=U[1],this.patch=U.slice(2).join(".")}}const ne=new ee("21.1.1"),le=`${(()=>{const S=ne.full;return`https://${S.includes("-next")||S.includes("-rc")||"0.0.0-PLACEHOLDER"===S?"next":`v${ne.major}`}.angular.dev`})()}/errors`,ce="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class me extends Error{code;constructor(N,U){super(He(N,U)),this.code=N}}function He(S,N){return`${function Ee(S){return`NG0${Math.abs(S)}`}(S)}${N?": "+N:""}`}const Je=globalThis;function At(){return!1}function tt(S){for(let N in S)if(S[N]===tt)return N;throw Error("")}function mt(S,N){for(const U in N)N.hasOwnProperty(U)&&!S.hasOwnProperty(U)&&(S[U]=N[U])}function Ye(S){if("string"==typeof S)return S;if(Array.isArray(S))return`[${S.map(Ye).join(", ")}]`;if(null==S)return""+S;const N=S.overriddenName||S.name;if(N)return`${N}`;const U=S.toString();if(null==U)return""+U;const se=U.indexOf("\n");return se>=0?U.slice(0,se):U}function Nt(S,N){return S?N?`${S} ${N}`:S:N||""}const kt=tt({__forward_ref__:tt});function ii(S){return S.__forward_ref__=ii,S.toString=function(){return Ye(this())},S}function It(S){return si(S)?S():S}function si(S){return"function"==typeof S&&S.hasOwnProperty(kt)&&S.__forward_ref__===ii}function xt(S,N){"number"!=typeof S&&it(N,typeof S,"number","===")}function yt(S,N,U){xt(S,"Expected a number"),function Wi(S,N,U){S<=N||it(U,S,N,"<=")}(S,U,"Expected number to be less than or equal to"),rn(S,N,"Expected number to be greater than or equal to")}function Li(S,N){"string"!=typeof S&&it(N,null===S?"null":typeof S,"string","===")}function mi(S,N){"function"!=typeof S&&it(N,null===S?"null":typeof S,"function","===")}function Ut(S,N,U){S!=N&&it(U,S,N,"==")}function Ui(S,N,U){S==N&&it(U,S,N,"!=")}function kn(S,N,U){S!==N&&it(U,S,N,"===")}function ei(S,N,U){S===N&&it(U,S,N,"!==")}function Xi(S,N,U){S<N||it(U,S,N,"<")}function Vi(S,N,U){S>N||it(U,S,N,">")}function rn(S,N,U){S>=N||it(U,S,N,">=")}function vt(S,N){null==S&&it(N,S,null,"!=")}function it(S,N,U,se){throw new Error(`ASSERTION ERROR: ${S}`+(null==se?"":` [Expected=> ${U} ${se} ${N} <=Actual]`))}function Nn(S){S instanceof Node||it(`The provided value must be an instance of a DOM Node but got ${Ye(S)}`)}function pr(S){S instanceof Element||it(`The provided value must be an element but got ${Ye(S)}`)}function Ji(S,N){vt(S,"Array must be defined.");const U=S.length;(N<0||N>=U)&&it(`Index expected to be less than ${U} but got ${N}`)}function ut(S,...N){if(-1!==N.indexOf(S))return!0;it(`Expected value to be one of ${JSON.stringify(N)} but was ${JSON.stringify(S)}.`)}function Oe(S){null!==(0,T.nR)()&&it(`${S}() should never be called in a reactive context.`)}function Wt(S){return{token:S.token,providedIn:S.providedIn||null,factory:S.factory,value:void 0}}function pn(S){return{providers:S.providers||[],imports:S.imports||[]}}function lt(S){return function wt(S,N){return S.hasOwnProperty(N)&&S[N]||null}(S,Ke)}function Be(S){return S&&S.hasOwnProperty(ke)?S[ke]:null}const Ke=tt({\u0275prov:tt}),ke=tt({\u0275inj:tt});class rt{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(N,U){this._desc=N,this.\u0275prov=void 0,"number"==typeof U?this.__NG_ELEMENT_ID__=U:void 0!==U&&(this.\u0275prov=Wt({token:this,providedIn:U.providedIn||"root",factory:U.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}let Yt;function Jt(){return it("getInjectorProfilerContext should never be called in production mode"),Yt}function _i(S){it("setInjectorProfilerContext should never be called in production mode");const N=Yt;return Yt=S,N}const ni=[],Ht=()=>{};function an(S){return it("setInjectorProfiler should never be called in production mode"),null!==S?(ni.includes(S)||ni.push(S),()=>function Fn(S){const N=ni.indexOf(S);-1!==N&&ni.splice(N,1)}(S)):(ni.length=0,Ht)}function gn(S){it("Injector profiler should never be called in production mode");for(let N=0;N<ni.length;N++)(0,ni[N])(S)}function on(S,N=!1){let U;it("Injector profiler should never be called in production mode"),U="function"==typeof S||S instanceof rt?S:It(S.provide);let se=S;S instanceof rt&&(se=S.\u0275prov||S),gn({type:2,context:Jt(),providerRecord:{token:U,provider:se,isViewProvider:N}})}function Fi(S){it("Injector profiler should never be called in production mode"),gn({type:5,context:Jt(),token:S})}function Oi(S){it("Injector profiler should never be called in production mode"),gn({type:1,context:Jt(),instance:{value:S}})}function sn(S,N,U){it("Injector profiler should never be called in production mode"),gn({type:0,context:Jt(),service:{token:S,value:N,flags:U}})}function xi(S){it("Injector profiler should never be called in production mode"),gn({type:4,context:Jt(),effectPhase:S})}function di(S,N,U){it("runInInjectorProfilerContext should never be called in production mode");const se=_i({injector:S,token:N});try{U()}finally{_i(se)}}function Ii(S){return S&&!!S.\u0275providers}const gr=tt({\u0275cmp:tt}),On=tt({\u0275dir:tt}),wn=tt({\u0275pipe:tt}),Tn=tt({\u0275mod:tt}),ln=tt({\u0275fac:tt}),ar=tt({__NG_ELEMENT_ID__:tt}),Hi=tt({__NG_ENV_ID__:tt});function ri(S){return fn(S),S[Tn]||null}function Bi(S){const N=ri(S);if(!N)throw new me(915,!1);return N}function Qi(S){return fn(S),S[gr]||null}function Jn(S){const N=vi(S);if(!N)throw new me(916,!1);return N}function vi(S){return fn(S),S[On]||null}function mn(S){return fn(S),S[wn]||null}function fn(S,N){if(null==S)throw new me(-919,!1)}function Qn(S){const N=Qi(S)||vi(S)||mn(S);return null!==N&&N.standalone}function Hr(S){return"string"==typeof S?S:null==S?"":String(S)}function ki(S){return"function"==typeof S?S.name||S.toString():"object"==typeof S&&null!=S&&"function"==typeof S.type?S.type.name||S.type.toString():Hr(S)}function yn(S){const N=Qi(S);return null!==N&&N.debugInfo?function Tr(S){return S.filePath&&S.lineNumber?`${S.className} (at ${S.filePath}:${S.lineNumber})`:S.className}(N.debugInfo):ki(S)}const Zn=tt({ngErrorCode:tt}),Er=tt({ngErrorMessage:tt}),En=tt({ngTokenPath:tt});function jr(S,N){return Ur("",-200,N)}function Aa(S,N){return function qr(S,N){return S.message=function oe(S,N,U=[],se=null){let be="";U&&U.length>1&&(be=` Path: ${U.join(" -> ")}.`);return He(N,`${S}${se?` Source: ${se}.`:""}${be}`)}(S[Er]||S.message,S[Zn],S[En],N),S}(jr(0,N),null)}function $n(S,N){throw new me(-201,!1)}function Ur(S,N,U){const se=new me(N,S);return se[Zn]=N,se[Er]=S,U&&(se[En]=U),se}let ie;function Ae(){return ie}function Pe(S){const N=ie;return ie=S,N}function Te(S,N,U){const se=lt(S);return se&&"root"==se.providedIn?void 0===se.value?se.value=se.factory():se.value:8&U?null:void 0!==N?N:void $n()}function Ge(S){}const Xe={},hi="__NG_DI_FLAG__";class Ri{injector;constructor(N){this.injector=N}retrieve(N,U){const se=wi(U)||0;try{return this.injector.get(N,8&se?null:Xe,se)}catch(be){if((0,p.c4)(be))return be;throw be}}}function ti(S,N=0){const U=(0,p.Af)();if(void 0===U)throw new me(-203,!1);if(null===U)return Te(S,void 0,N);{const se=function ft(S){return{optional:!!(8&S),host:!!(1&S),self:!!(2&S),skipSelf:!!(4&S)}}(N),be=U.retrieve(S,se);if((0,p.c4)(be)){if(se.optional)return null;throw be}return be}}function Qt(S,N=0){return(Ae()||ti)(It(S),N)}function cn(S){throw new me(202,!1)}function Vt(S,N){return Qt(S,wi(N))}function wi(S){return typeof S>"u"||"number"==typeof S?S:0|(S.optional&&8)|(S.host&&1)|(S.self&&2)|(S.skipSelf&&4)}function Pt(S){const N=[];for(let U=0;U<S.length;U++){const se=It(S[U]);if(Array.isArray(se)){if(0===se.length)throw new me(900,!1);let be,xe=0;for(let ze=0;ze<se.length;ze++){const ci=se[ze],pt=bi(ci);"number"==typeof pt?-1===pt?be=ci.token:xe|=pt:be=ci}N.push(Qt(be,xe))}else N.push(Qt(se))}return N}function pi(S,N){return S[hi]=N,S.prototype[hi]=N,S}function bi(S){return S[hi]}function Tt(S,N){return S.hasOwnProperty(ln)?S[ln]:null}function Ti(S,N,U){if(S.length!==N.length)return!1;for(let se=0;se<S.length;se++){let be=S[se],xe=N[se];if(U&&(be=U(be),xe=U(xe)),xe!==be)return!1}return!0}function un(S){return S.flat(Number.POSITIVE_INFINITY)}function $i(S,N){S.forEach(U=>Array.isArray(U)?$i(U,N):N(U))}function Wr(S,N,U){N>=S.length?S.push(U):S.splice(N,0,U)}function Gn(S,N){return N>=S.length-1?S.pop():S.splice(N,1)[0]}function mr(S,N){const U=[];for(let se=0;se<S;se++)U.push(N);return U}function vn(S,N,U){const se=S.length-U;for(;N<se;)S[N]=S[N+U],N++;for(;U--;)S.pop()}function Zi(S,N,U,se){let be=S.length;if(be==N)S.push(U,se);else if(1===be)S.push(se,S[0]),S[0]=U;else{for(be--,S.push(S[be-1],S[be]);be>N;)S[be]=S[be-2],be--;S[N]=U,S[N+1]=se}}function fr(S,N,U){let se=bn(S,N);return se>=0?S[1|se]=U:(se=~se,Zi(S,se,N,U)),se}function or(S,N){const U=bn(S,N);if(U>=0)return S[1|U]}function bn(S,N){return function An(S,N,U){let se=0,be=S.length>>U;for(;be!==se;){const xe=se+(be-se>>1),ze=S[xe<<U];if(N===ze)return xe<<U;ze>N?be=xe:se=xe+1}return~(be<<U)}(S,N,1)}const Vr={},er=[],Cn=new rt(""),Sa=new rt("",-1),F=new rt("");class Q{get(N,U=Xe){if(U===Xe){const be=Ur("",-201);throw be.name="\u0275NotFound",be}return U}}function j(S){return{\u0275providers:S}}function de(...S){return{\u0275providers:we(0,S),\u0275fromNgModule:!0}}function we(S,...N){const U=[],se=new Set;let be;const xe=ze=>{U.push(ze)};return $i(N,ze=>{const ci=ze;$e(ci,xe,[],se)&&(be||=[],be.push(ci))}),void 0!==be&&Ne(be,xe),U}function Ne(S,N){for(let U=0;U<S.length;U++){const{ngModule:se,providers:be}=S[U];Rt(be,xe=>{N(xe,se)})}}function $e(S,N,U,se){if(!(S=It(S)))return!1;let be=null,xe=Be(S);const ze=!xe&&Qi(S);if(xe||ze){if(ze&&!ze.standalone)return!1;be=S}else{const pt=S.ngModule;if(xe=Be(pt),!xe)return!1;be=pt}const ci=se.has(be);if(ze){if(ci)return!1;if(se.add(be),ze.dependencies){const pt="function"==typeof ze.dependencies?ze.dependencies():ze.dependencies;for(const Dt of pt)$e(Dt,N,U,se)}}else{if(!xe)return!1;{if(null!=xe.imports&&!ci){let Dt;se.add(be),$i(xe.imports,xa=>{$e(xa,N,U,se)&&(Dt||=[],Dt.push(xa))}),void 0!==Dt&&Ne(Dt,N)}if(!ci){const Dt=Tt(be)||(()=>new be);N({provide:be,useFactory:Dt,deps:er},be),N({provide:F,useValue:be,multi:!0},be),N({provide:Cn,useValue:()=>Qt(be),multi:!0},be)}const pt=xe.providers;if(null!=pt&&!ci){const Dt=S;Rt(pt,xa=>{N(xa,Dt)})}}}return be!==S&&void 0!==S.providers}function Rt(S,N){for(let U of S)Ii(U)&&(U=U.\u0275providers),Array.isArray(U)?Rt(U,N):N(U)}const jt=tt({provide:String,useValue:tt});function Et(S){return null!==S&&"object"==typeof S&&jt in S}function li(S){return"function"==typeof S}function tr(S){return!!S.useClass}const Hn=new rt(""),Sn={},dn={};let jn;function Cr(){return void 0===jn&&(jn=new Q),jn}class Dn{}class Pa extends Dn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(N,U,se,be){super(),this.parent=U,this.source=se,this.scopes=be,_a(N,ze=>this.processProvider(ze)),this.records.set(Sa,Kr(void 0,this)),be.has("environment")&&this.records.set(Dn,Kr(void 0,this));const xe=this.records.get(Hn);null!=xe&&"string"==typeof xe.value&&this.scopes.add(xe.value),this.injectorDefTypes=new Set(this.get(F,er,{self:!0}))}retrieve(N,U){const se=wi(U)||0;try{return this.get(N,Xe,se)}catch(be){if((0,p.c4)(be))return be;throw be}}destroy(){ra(this),this._destroyed=!0;const N=(0,T.Ht)(null);try{for(const se of this._ngOnDestroyHooks)se.ngOnDestroy();const U=this._onDestroyHooks;this._onDestroyHooks=[];for(const se of U)se()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),(0,T.Ht)(N)}}onDestroy(N){return ra(this),this._onDestroyHooks.push(N),()=>this.removeOnDestroy(N)}runInContext(N){ra(this);const U=(0,p.mu)(this),se=Pe(void 0);try{return N()}finally{(0,p.mu)(U),Pe(se)}}get(N,U=Xe,se){if(ra(this),N.hasOwnProperty(Hi))return N[Hi](this);const be=wi(se),ze=(0,p.mu)(this),ci=Pe(void 0);try{if(!(4&be)){let Dt=this.records.get(N);if(void 0===Dt){const xa=function vc(S){return"function"==typeof S||"object"==typeof S&&"InjectionToken"===S.ngMetadataName}(N)&&lt(N);Dt=xa&&this.injectableDefInScope(xa)?Kr(Qa(N),Sn):null,this.records.set(N,Dt)}if(null!=Dt)return this.hydrate(N,Dt,be)}return(2&be?Cr():this.parent).get(N,U=8&be&&U===Xe?null:U)}catch(pt){const Dt=function z(S){return S[Zn]}(pt);throw-200===Dt||-201===Dt?new me(Dt,null):pt}finally{Pe(ci),(0,p.mu)(ze)}}resolveInjectorInitializers(){const N=(0,T.Ht)(null),U=(0,p.mu)(this),se=Pe(void 0);try{const xe=this.get(Cn,er,{self:!0});for(const ze of xe)ze()}finally{(0,p.mu)(U),Pe(se),(0,T.Ht)(N)}}toString(){const N=[],U=this.records;for(const se of U.keys())N.push(Ye(se));return`R3Injector[${N.join(", ")}]`}processProvider(N){let U=li(N=It(N))?N:It(N&&N.provide);const se=function Gs(S){return Et(S)?Kr(void 0,S.useValue):Kr(Za(S),Sn)}(N);if(!li(N)&&!0===N.multi){let be=this.records.get(U);be||(be=Kr(void 0,Sn,!0),be.factory=()=>Pt(be.multi),this.records.set(U,be)),U=N,be.multi.push(N)}this.records.set(U,se)}hydrate(N,U,se){const be=(0,T.Ht)(null);try{if(U.value===dn)throw jr(Ye(N));return U.value===Sn&&(U.value=dn,U.value=U.factory(void 0,se)),"object"==typeof U.value&&U.value&&function eo(S){return null!==S&&"object"==typeof S&&"function"==typeof S.ngOnDestroy}(U.value)&&this._ngOnDestroyHooks.add(U.value),U.value}finally{(0,T.Ht)(be)}}injectableDefInScope(N){if(!N.providedIn)return!1;const U=It(N.providedIn);return"string"==typeof U?"any"===U||this.scopes.has(U):this.injectorDefTypes.has(U)}removeOnDestroy(N){const U=this._onDestroyHooks.indexOf(N);-1!==U&&this._onDestroyHooks.splice(U,1)}}function Qa(S){const N=lt(S),U=null!==N?N.factory:Tt(S);if(null!==U)return U;if(S instanceof rt)throw new me(204,!1);if(S instanceof Function)return function sr(S){if(S.length>0)throw new me(204,!1);const U=function ge(S){return(S?.[Ke]??null)||null}(S);return null!==U?()=>U.factory(S):()=>new S}(S);throw new me(204,!1)}function Za(S,N,U){let se;if(li(S)){const be=It(S);return Tt(be)||Qa(be)}if(Et(S))se=()=>It(S.useValue);else if(function Kt(S){return!(!S||!S.useFactory)}(S))se=()=>S.useFactory(...Pt(S.deps||[]));else if(function fi(S){return!(!S||!S.useExisting)}(S))se=(be,xe)=>Qt(It(S.useExisting),void 0!==xe&&8&xe?8:void 0);else{const be=It(S&&(S.useClass||S.provide));if(!function Ro(S){return!!S.deps}(S))return Tt(be)||Qa(be);se=()=>new be(...Pt(S.deps))}return se}function ra(S){if(S.destroyed)throw new me(205,!1)}function Kr(S,N,U=!1){return{factory:S,value:N,multi:U?[]:void 0}}function _a(S,N){for(const U of S)Array.isArray(U)?_a(U,N):U&&Ii(U)?_a(U.\u0275providers,N):N(U)}function to(S,N){let U;S instanceof Pa?(ra(S),U=S):U=new Ri(S);const be=(0,p.mu)(U),xe=Pe(void 0);try{return N()}finally{(0,p.mu)(be),Pe(xe)}}function ka(){return void 0!==Ae()||null!=(0,p.Af)()}function aa(S){if(!ka())throw new me(-203,!1)}const Ct=0,X=1,_t=2,ir=3,zr=4,Dr=5,Hs=6,Mr=7,yr=8,Lo=9,Yr=10,$=11,L=12,B=13,J=14,pe=15,Se=16,De=17,Fe=18,nt=19,ot=20,St=21,st=22,zt=23,Ei=24,Ki=25,en=26,Ai=27,Xr=6,nr=7,oa=8,Jr=9,No=10;function wa(S){return Array.isArray(S)&&"object"==typeof S[1]}function vr(S){return Array.isArray(S)&&!0===S[1]}function Ta(S){return!!(4&S.flags)}function js(S){return S.componentOffset>-1}function qs(S){return!(1&~S.flags)}function Qr(S){return!!S.template}function bc(S){return!!(512&S[_t])}function br(S){return!(256&~S[_t])}function Sc(S,N){io(S,N[X])}function Pc(S,N){const U=N+Ai;Ji(S,U),Xi(U,S[X].bindingStartIndex,"TNodes should be created before any bindings")}function io(S,N){sa(S);const U=N.data;for(let se=Ai;se<U.length;se++)if(U[se]===S)return;it("This TNode does not belong to this TView.")}function sa(S){vt(S,"TNode must be defined"),S&&"object"==typeof S&&S.hasOwnProperty("directiveStylingLast")||it("Not of type TNode, got: "+S)}function Fo(S){vt(S,"Expected TIcu to be defined"),"number"!=typeof S.currentCaseLViewIndex&&it("Object is not of TIcu type.")}function Ea(S,N="Type passed in is not ComponentType, it does not have '\u0275cmp' property."){Qi(S)||it(N)}function xr(S,N="Type passed in is not NgModuleType, it does not have '\u0275mod' property."){ri(S)||it(N)}function la(S){vt(S,"currentTNode should exist!"),vt(S.parent,"currentTNode should have a parent")}function no(S){vt(S,"LContainer must be defined"),Ut(vr(S),!0,"Expecting LContainer")}function Ca(S){vt(S,"LView must be defined"),Ut(wa(S),!0,"Expecting LView")}function ro(S,N){Ut(S.firstCreatePass,!0,N||"Should only be called in first create pass.")}function Pd(S,N){Ut(S.firstUpdatePass,!0,"Should only be called in first update pass.")}function om(S){(void 0===S.type||null==S.selectors||void 0===S.inputs)&&it("Expected a DirectiveDef/ComponentDef and this object does not seem to have the expected shape.")}function sm(S,N){Us(Ai,S.bindingStartIndex,N)}function ao(S,N){Us(S[1].expandoStartIndex,S.length,N)}function Us(S,N,U){S<=U&&U<N||it(`Index out of range (expecting ${S} <= ${U} < ${N})`)}function OA(S,N){vt(S[pe],"Component views should exist."),vt(S[pe][Dr].projection,"Components with projection nodes (<ng-content>) must have projection slots defined.")}function lm(S,N){vt(S,"Component views should always have a parent view (component's host view)")}function _d(S,N){ao(S,N),ao(S,N+8),xt(S[N+0],"injectorIndex should point to a bloom filter"),xt(S[N+1],"injectorIndex should point to a bloom filter"),xt(S[N+2],"injectorIndex should point to a bloom filter"),xt(S[N+3],"injectorIndex should point to a bloom filter"),xt(S[N+4],"injectorIndex should point to a bloom filter"),xt(S[N+5],"injectorIndex should point to a bloom filter"),xt(S[N+6],"injectorIndex should point to a bloom filter"),xt(S[N+7],"injectorIndex should point to a bloom filter"),xt(S[N+8],"injectorIndex should point to parent injector")}const kd="svg",Ws="math";function C(S){for(;Array.isArray(S);)S=S[Ct];return S}function I(S){for(;Array.isArray(S);){if("object"==typeof S[1])return S;S=S[Ct]}return null}function k(S,N){return C(N[S])}function G(S,N){return C(N[S.index])}function Z(S,N){const U=null===S?-1:S.index;return-1!==U?C(N[U]):null}function We(S,N){return S.data[N]}function ct(S,N){return S[N]}function qt(S,N,U,se){U>=S.data.length&&(S.data[U]=null,S.blueprint[U]=null),N[U]=se}function zi(S,N){const U=N[S];return wa(U)?U:U[Ct]}function Ir(S){return!(4&~S[_t])}function lr(S){return!(128&~S[_t])}function _c(S){return vr(S[ir])}function wd(S,N){return null==N?null:S[N]}function Un(S){S[De]=0}function Vs(S){1024&S[_t]||(S[_t]|=1024,lr(S)&&Ys(S))}function Td(S,N){for(;S>0;)N=N[J],S--;return N}function Ks(S){return!!(9216&S[_t]||S[Ei]?.dirty)}function zs(S){S[Yr].changeDetectionScheduler?.notify(8),64&S[_t]&&(S[_t]|=1024),Ks(S)&&Ys(S)}function Ys(S){S[Yr].changeDetectionScheduler?.notify(0);let N=Xs(S);for(;null!==N&&!(8192&N[_t])&&(N[_t]|=8192,lr(N));)N=Xs(N)}function Ed(S,N){if(br(S))throw new me(911,!1);null===S[St]&&(S[St]=[]),S[St].push(N)}function cm(S,N){if(null===S[St])return;const U=S[St].indexOf(N);-1!==U&&S[St].splice(U,1)}function Xs(S){const N=S[ir];return vr(N)?N[ir]:N}function Cd(S){return S[Mr]??=[]}function Dd(S){return S.cleanup??=[]}function um(S,N,U,se){const be=Cd(N);be.push(U),S.firstCreatePass&&Dd(S).push(se,be.length-1)}const dt={lFrame:nl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var cr=function(S){return S[S.Off=0]="Off",S[S.Exhaustive=1]="Exhaustive",S[S.OnlyDirtyViews=2]="OnlyDirtyViews",S}(cr||{});let Oo=0,kc=!1;function BA(){return dt.lFrame.elementDepthCount}function $A(){dt.lFrame.elementDepthCount++}function GA(){dt.lFrame.elementDepthCount--}function Bo(){return dt.bindingsEnabled}function Md(){return null!==dt.skipHydrationRootTNode}function $o(S){return dt.skipHydrationRootTNode===S}function wc(){dt.bindingsEnabled=!0}function Tc(){dt.bindingsEnabled=!1}function hm(){dt.skipHydrationRootTNode=null}function Js(){return dt.lFrame.lView}function Go(){return dt.lFrame.tView}function xd(S){return dt.lFrame.contextLView=S,S[yr]}function Ec(S){return dt.lFrame.contextLView=null,S}function Qs(){let S=Zs();for(;null!==S&&64===S.type;)S=S.parent;return S}function Zs(){return dt.lFrame.currentTNode}function Cc(){const S=dt.lFrame,N=S.currentTNode;return S.isParent?N:N.parent}function Ho(S,N){const U=dt.lFrame;U.currentTNode=S,U.isParent=N}function oo(){return dt.lFrame.isParent}function Dc(){dt.lFrame.isParent=!1}function HA(){return dt.lFrame.contextLView}function jo(){return it("Must never be called in production mode"),Oo!==cr.Off}function Id(){return it("Must never be called in production mode"),Oo===cr.Exhaustive}function pm(S){it("Must never be called in production mode"),Oo=S}function Mc(){return kc}function qo(S){const N=kc;return kc=S,N}function Uo(){const S=dt.lFrame;let N=S.bindingRootIndex;return-1===N&&(N=S.bindingRootIndex=S.tView.bindingStartIndex),N}function Rd(){return dt.lFrame.bindingIndex}function el(S){return dt.lFrame.bindingIndex=S}function Ld(){return dt.lFrame.bindingIndex++}function Wo(S){const N=dt.lFrame,U=N.bindingIndex;return N.bindingIndex=N.bindingIndex+S,U}function so(){return dt.lFrame.inI18n}function xc(S){dt.lFrame.inI18n=S}function jA(S,N){const U=dt.lFrame;U.bindingIndex=U.bindingRootIndex=S,tl(N)}function lo(){return dt.lFrame.currentDirectiveIndex}function tl(S){dt.lFrame.currentDirectiveIndex=S}function qA(S){const N=dt.lFrame.currentDirectiveIndex;return-1===N?null:S[N]}function il(){return dt.lFrame.currentQueryIndex}function Ic(S){dt.lFrame.currentQueryIndex=S}function Rc(S){const N=S[X];return 2===N.type?N.declTNode:1===N.type?S[Dr]:null}function Ar(S,N,U){if(4&U){let be=N,xe=S;for(;!(be=be.parent,null!==be||1&U||(be=Rc(xe),null===be||(xe=xe[J],10&be.type))););if(null===be)return!1;N=be,S=xe}const se=dt.lFrame=Lc();return se.currentTNode=N,se.lView=S,!0}function gm(S){const N=Lc(),U=S[X];dt.lFrame=N,N.currentTNode=U.firstChild,N.lView=S,N.tView=U,N.contextLView=S,N.bindingIndex=U.bindingStartIndex,N.inI18n=!1}function Lc(){const S=dt.lFrame,N=null===S?null:S.child;return null===N?nl(S):N}function nl(S){const N={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:S,child:null,inI18n:!1};return null!==S&&(S.child=N),N}function mm(){const S=dt.lFrame;return dt.lFrame=S.parent,S.currentTNode=null,S.lView=null,S}const fm=mm;function rl(){const S=mm();S.isParent=!0,S.tView=null,S.selectedIndex=-1,S.contextLView=null,S.elementDepthCount=0,S.currentDirectiveIndex=-1,S.currentNamespace=null,S.bindingRootIndex=-1,S.bindingIndex=-1,S.currentQueryIndex=0}function ym(S){return(dt.lFrame.contextLView=Td(S,dt.lFrame.contextLView))[yr]}function UA(){return dt.lFrame.selectedIndex}function vm(S){dt.lFrame.selectedIndex=S}function al(){const S=dt.lFrame;return We(S.tView,S.selectedIndex)}function WA(){dt.lFrame.currentNamespace=kd}function Nc(){dt.lFrame.currentNamespace=Ws}function Fc(){!function Oc(){dt.lFrame.currentNamespace=null}()}function co(){return dt.lFrame.currentNamespace}let ol=!0;function Nd(){return ol}function Vo(S){ol=S}function sl(S,N=null,U=null,se){const be=tn(S,N,U,se);return be.resolveInjectorInitializers(),be}function tn(S,N=null,U=null,se,be=new Set){const xe=[U||er,de(S)];return se=se||("object"==typeof S?void 0:Ye(S)),new Pa(xe,N||Cr(),se||null,be)}class nn{static THROW_IF_NOT_FOUND=Xe;static NULL=new Q;static create(N,U){if(Array.isArray(N))return sl({name:""},U,N,"");{const se=N.name??"";return sl({name:se},N.parent,N.providers,se)}}static \u0275prov=Wt({token:nn,providedIn:"any",factory:()=>Qt(Sa)});static __NG_ELEMENT_ID__=-1}const uo=new rt("");let Da=(()=>class S{static __NG_ELEMENT_ID__=Bc;static __NG_ENV_ID__=U=>U})();class ll extends Da{_lView;constructor(N){super(),this._lView=N}get destroyed(){return br(this._lView)}onDestroy(N){const U=this._lView;return Ed(U,N),()=>cm(U,N)}}function Bc(){return new ll(Js())}const Fd=!1,Od=new rt("");let Ma=(()=>{class S{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new q.t(!1);debugTaskTracker=Vt(Od,{optional:!0});get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new m.c(U=>{U.next(!1),U.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const U=this.taskId++;return this.pendingTasks.add(U),this.debugTaskTracker?.add(U),U}has(U){return this.pendingTasks.has(U)}remove(U){this.pendingTasks.delete(U),this.debugTaskTracker?.remove(U),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Wt({token:S,providedIn:"root",factory:()=>new S})}return S})();const Rr=class VA extends x.B7{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(N=!1){super(),this.__isAsync=N,ka()&&(this.destroyRef=Vt(Da,{optional:!0})??void 0,this.pendingTasks=Vt(Ma,{optional:!0})??void 0)}emit(N){const U=(0,T.Ht)(null);try{super.next(N)}finally{(0,T.Ht)(U)}}subscribe(N,U,se){let be=N,xe=U||(()=>null),ze=se;if(N&&"object"==typeof N){const pt=N;be=pt.next?.bind(pt),xe=pt.error?.bind(pt),ze=pt.complete?.bind(pt)}this.__isAsync&&(xe=this.wrapInTimeout(xe),be&&(be=this.wrapInTimeout(be)),ze&&(ze=this.wrapInTimeout(ze)));const ci=super.subscribe({next:be,error:xe,complete:ze});return N instanceof P.y&&N.add(ci),ci}wrapInTimeout(N){return U=>{const se=this.pendingTasks?.add();setTimeout(()=>{try{N(U)}finally{void 0!==se&&this.pendingTasks?.remove(se)}})}}};function Ko(...S){}function $c(S){let N,U;function se(){S=Ko;try{void 0!==U&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(U),void 0!==N&&clearTimeout(N)}catch{}}return N=setTimeout(()=>{S(),se()}),"function"==typeof requestAnimationFrame&&(U=requestAnimationFrame(()=>{S(),se()})),()=>se()}function Lr(S){return queueMicrotask(()=>S()),()=>{S=Ko}}const Yo="isAngularZone",Bd=Yo+"_ID";let bm=0;class cl{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Rr(!1);onMicrotaskEmpty=new Rr(!1);onStable=new Rr(!1);onError=new Rr(!1);constructor(N){const{enableLongStackTrace:U=!1,shouldCoalesceEventChangeDetection:se=!1,shouldCoalesceRunChangeDetection:be=!1,scheduleInRootZone:xe=Fd}=N;if(typeof Zone>"u")throw new me(908,!1);Zone.assertZonePatched();const ze=this;ze._nesting=0,ze._outer=ze._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(ze._inner=ze._inner.fork(new Zone.TaskTrackingZoneSpec)),U&&Zone.longStackTraceZoneSpec&&(ze._inner=ze._inner.fork(Zone.longStackTraceZoneSpec)),ze.shouldCoalesceEventChangeDetection=!be&&se,ze.shouldCoalesceRunChangeDetection=be,ze.callbackScheduled=!1,ze.scheduleInRootZone=xe,function zA(S){const N=()=>{!function Am(S){function N(){$c(()=>{S.callbackScheduled=!1,Gc(S),S.isCheckStableRunning=!0,$d(S),S.isCheckStableRunning=!1})}S.isCheckStableRunning||S.callbackScheduled||(S.callbackScheduled=!0,S.scheduleInRootZone?Zone.root.run(()=>{N()}):S._outer.run(()=>{N()}),Gc(S))}(S)},U=bm++;S._inner=S._inner.fork({name:"angular",properties:{[Yo]:!0,[Bd]:U,[Bd+U]:!0},onInvokeTask:(se,be,xe,ze,ci,pt)=>{if(function Zr(S){return ca(S,"__ignore_ng_zone__")}(pt))return se.invokeTask(xe,ze,ci,pt);try{return Mn(S),se.invokeTask(xe,ze,ci,pt)}finally{(S.shouldCoalesceEventChangeDetection&&"eventTask"===ze.type||S.shouldCoalesceRunChangeDetection)&&N(),Gd(S)}},onInvoke:(se,be,xe,ze,ci,pt,Dt)=>{try{return Mn(S),se.invoke(xe,ze,ci,pt,Dt)}finally{S.shouldCoalesceRunChangeDetection&&!S.callbackScheduled&&!function ho(S){return ca(S,"__scheduler_tick__")}(pt)&&N(),Gd(S)}},onHasTask:(se,be,xe,ze)=>{se.hasTask(xe,ze),be===xe&&("microTask"==ze.change?(S._hasPendingMicrotasks=ze.microTask,Gc(S),$d(S)):"macroTask"==ze.change&&(S.hasPendingMacrotasks=ze.macroTask))},onHandleError:(se,be,xe,ze)=>(se.handleError(xe,ze),S.runOutsideAngular(()=>S.onError.emit(ze)),!1)})}(ze)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Yo)}static assertInAngularZone(){if(!cl.isInAngularZone())throw new me(909,!1)}static assertNotInAngularZone(){if(cl.isInAngularZone())throw new me(909,!1)}run(N,U,se){return this._inner.run(N,U,se)}runTask(N,U,se,be){const xe=this._inner,ze=xe.scheduleEventTask("NgZoneEvent: "+be,N,KA,Ko,Ko);try{return xe.runTask(ze,U,se)}finally{xe.cancelTask(ze)}}runGuarded(N,U,se){return this._inner.runGuarded(N,U,se)}runOutsideAngular(N){return this._outer.run(N)}}const KA={};function $d(S){if(0==S._nesting&&!S.hasPendingMicrotasks&&!S.isStable)try{S._nesting++,S.onMicrotaskEmpty.emit(null)}finally{if(S._nesting--,!S.hasPendingMicrotasks)try{S.runOutsideAngular(()=>S.onStable.emit(null))}finally{S.isStable=!0}}}function Gc(S){S.hasPendingMicrotasks=!!(S._hasPendingMicrotasks||(S.shouldCoalesceEventChangeDetection||S.shouldCoalesceRunChangeDetection)&&!0===S.callbackScheduled)}function Mn(S){S._nesting++,S.isStable&&(S.isStable=!1,S.onUnstable.emit(null))}function Gd(S){S._nesting--,$d(S)}class Hc{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Rr;onMicrotaskEmpty=new Rr;onStable=new Rr;onError=new Rr;run(N,U,se){return N.apply(U,se)}runGuarded(N,U,se){return N.apply(U,se)}runOutsideAngular(N){return N()}runTask(N,U,se,be){return N.apply(U,se)}}function ca(S,N){return!(!Array.isArray(S)||1!==S.length)&&!0===S[0]?.data?.[N]}class ul{_console=console;handleError(N){this._console.error("ERROR",N)}}const dl=new rt("",{factory:()=>{const S=Vt(cl),N=Vt(Dn);let U;return se=>{S.runOutsideAngular(()=>{N.destroyed&&!U?setTimeout(()=>{throw se}):(U??=N.get(ul),U.handleError(se))})}}}),YA={provide:Cn,useValue:()=>{Vt(ul,{optional:!0})},multi:!0};function Ce(S,N){const[U,se,be]=(0,T.n5)(S,N?.equal),xe=U;return xe.set=se,xe.update=be,xe.asReadonly=hl.bind(xe),xe}function hl(){const S=this[T.bh];if(void 0===S.readonlyFn){const N=()=>this();N[T.bh]=S,S.readonlyFn=N}return S.readonlyFn}function Hd(S,N){if(null!==(0,T.nR)())throw new me(-602,!1)}let E=(()=>class S{view;node;constructor(U,se){this.view=U,this.node=se}static __NG_ELEMENT_ID__=jd})();function jd(){return new E(Js(),Qs())}class qc{}const qd=new rt("",{factory:()=>!0}),Sm=new rt("",{factory:()=>!1}),Xo=new rt("");let po=(()=>{class S{internalPendingTasks=Vt(Ma);scheduler=Vt(qc);errorHandler=Vt(dl);add(){const U=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(U)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(U))}}run(U){const se=this.add();U().catch(this.errorHandler).finally(se)}static \u0275prov=Wt({token:S,providedIn:"root",factory:()=>new S})}return S})(),ua=(()=>{class S{static \u0275prov=Wt({token:S,providedIn:"root",factory:()=>new Uc})}return S})();class Uc{dirtyEffectCount=0;queues=new Map;add(N){this.enqueue(N),this.schedule(N)}schedule(N){N.dirty&&this.dirtyEffectCount++}remove(N){const se=this.queues.get(N.zone);se.has(N)&&(se.delete(N),N.dirty&&this.dirtyEffectCount--)}enqueue(N){const U=N.zone;this.queues.has(U)||this.queues.set(U,new Set);const se=this.queues.get(U);se.has(N)||se.add(N)}flush(){for(;this.dirtyEffectCount>0;){let N=!1;for(const[U,se]of this.queues)N||=null===U?this.flushQueue(se):U.run(()=>this.flushQueue(se));N||(this.dirtyEffectCount=0)}}flushQueue(N){let U=!1;for(const se of N)se.dirty&&(this.dirtyEffectCount--,U=!0,se.run());return U}}class Ud{[T.bh];constructor(N){this[T.bh]=N}destroy(){this[T.bh].destroy()}}function Wd(S,N){const U=N?.injector??Vt(nn);let be,se=!0!==N?.manualCleanup?U.get(Da):null;const xe=U.get(E,null,{optional:!0}),ze=U.get(qc);return null!==xe?(be=function Pn(S,N,U){const se=Object.create(Bt);return se.view=S,se.zone=typeof Zone<"u"?Zone.current:null,se.notifier=N,se.fn=Jo(se,U),S[zt]??=new Set,S[zt].add(se),se.consumerMarkedDirty(se),se}(xe.view,ze,S),se instanceof ll&&se._lView===xe.view&&(se=null)):be=function Pm(S,N,U){const se=Object.create(Ot);return se.fn=Jo(se,S),se.scheduler=N,se.notifier=U,se.zone=typeof Zone<"u"?Zone.current:null,se.scheduler.add(se),se.notifier.notify(12),se}(S,U.get(ua),ze),be.injector=U,null!==se&&(be.onDestroyFns=[se.onDestroy(()=>be.destroy())]),new Ud(be)}const rr={...T.vX,cleanupFns:void 0,zone:null,onDestroyFns:null,run(){const S=qo(!1);try{(0,T.lh)(this)}finally{qo(S)}},cleanup(){if(!this.cleanupFns?.length)return;const S=(0,T.Ht)(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],(0,T.Ht)(S)}}},Ot={...rr,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if((0,T.XR)(this),null!==this.onDestroyFns)for(const S of this.onDestroyFns)S();this.cleanup(),this.scheduler.remove(this)}},Bt={...rr,consumerMarkedDirty(){this.view[_t]|=8192,Ys(this.view),this.notifier.notify(13)},destroy(){if((0,T.XR)(this),null!==this.onDestroyFns)for(const S of this.onDestroyFns)S();this.cleanup(),this.view[zt]?.delete(this)}};function Jo(S,N){return()=>{N(U=>(S.cleanupFns??=[]).push(U))}}function _m(S){return(0,T.O8)(S)}},7895(fe,K,w){w.d(K,{A:()=>P});var T=w(6658),m=w(2697),x=w(4429);const P=function q(p){return(0,T.A)(p,x.A,m.A)}},7901(fe,K,w){w.d(K,{A:()=>q});var T=w(554),m=Object.create;const q=function(){function P(){}return function(p){if(!(0,T.A)(p))return{};if(m)return m(p);P.prototype=p;var ee=new P;return P.prototype=void 0,ee}}()},7939(fe,K,w){w.d(K,{A:()=>x});const x=(0,w(8992).A)(Object.keys,Object)},8010(fe,K,w){w.d(K,{A:()=>x});const x=(0,w(8992).A)(Object.getPrototypeOf,Object)},8099(fe,K,w){function T(m){return"function"==typeof m}w.d(K,{T:()=>T})},8114(fe,K,w){w.d(K,{A:()=>ee});var T=w(563),m=w(8010),x=w(2697),q=w(6032);const ee=Object.getOwnPropertySymbols?function(ne){for(var te=[];ne;)(0,T.A)(te,(0,x.A)(ne)),ne=(0,m.A)(ne);return te}:q.A},8167(fe,K,w){w.d(K,{m:()=>x});var T=w(5241);function x(q){return 0===q.length?T.D:1===q.length?q[0]:function(p){return q.reduce((ee,ne)=>ne(ee),p)}}},8189(fe,K,w){w.d(K,{R:()=>x});var T=w(1805);class m extends T.y{constructor(P,p){super()}schedule(P,p=0){return this}}class x extends m{constructor(P,p){super(P,p),this.scheduler=P,this.work=p,this.pending=!1}schedule(P,p=0){if(this.closed)return this;this.state=P;const ee=this.id,ne=this.scheduler;return null!=ee&&(this.id=this.recycleAsyncId(ne,ee,p)),this.pending=!0,this.delay=p,this.id=this.id||this.requestAsyncId(ne,this.id,p),this}requestAsyncId(P,p,ee=0){return setInterval(P.flush.bind(P,this),ee)}recycleAsyncId(P,p,ee=0){if(null!==ee&&this.delay===ee&&!1===this.pending)return p;clearInterval(p)}execute(P,p){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ee=this._execute(P,p);if(ee)return ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(P,p){let ne,ee=!1;try{this.work(P)}catch(te){ee=!0,ne=!!te&&te||new Error(te)}if(ee)return this.unsubscribe(),ne}_unsubscribe(){const P=this.id,p=this.scheduler,ee=p.actions,ne=ee.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ne&&ee.splice(ne,1),null!=P&&(this.id=this.recycleAsyncId(p,P,null)),this.delay=null}}},8253(fe,K,w){function T(m){setTimeout(()=>{throw m},0)}w.d(K,{T:()=>T})},8257(fe,K,w){w.d(K,{A:()=>q});var T=w(5525),m=w(1860);const q=(0,T.A)(m.A,"DataView")},8308(fe,K,w){w.d(K,{A:()=>ee});var T=w(2943),m=w(219),x=w(4746),q=w(6542),P=w(5030);function p(ne){var te=-1,le=null==ne?0:ne.length;for(this.clear();++te<le;){var ce=ne[te];this.set(ce[0],ce[1])}}p.prototype.clear=T.A,p.prototype.delete=m.A,p.prototype.get=x.A,p.prototype.has=q.A,p.prototype.set=P.A;const ee=p},8438(fe,K,w){w.d(K,{A:()=>x});var T=/\w*$/;const x=function m(q){var P=new q.constructor(q.source,T.exec(q));return P.lastIndex=q.lastIndex,P}},8456(fe,K,w){w.d(K,{ZZ:()=>q});var T=w(5006),m=w(4787),x=w(3004);function q(ne,te,le=Number.POSITIVE_INFINITY){return"function"==typeof te?ce=>ce.pipe(q((me,Ee)=>(0,m.H)(ne(me,Ee)).pipe((0,T.T)((He,Je)=>te(me,He,Ee,Je))),le)):("number"==typeof te&&(le=te),ce=>ce.lift(new P(ne,le)))}class P{constructor(te,le=Number.POSITIVE_INFINITY){this.project=te,this.concurrent=le}call(te,le){return le.subscribe(new p(te,this.project,this.concurrent))}}class p extends x.gn{constructor(te,le,ce=Number.POSITIVE_INFINITY){super(te),this.project=le,this.concurrent=ce,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(te){this.active<this.concurrent?this._tryNext(te):this.buffer.push(te)}_tryNext(te){let le;const ce=this.index++;try{le=this.project(te,ce)}catch(me){return void this.destination.error(me)}this.active++,this._innerSub(le)}_innerSub(te){const le=new x.zA(this),ce=this.destination;ce.add(le);const me=(0,x.tS)(te,le);me!==le&&ce.add(me)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(te){this.destination.next(te)}notifyComplete(){const te=this.buffer;this.active--,te.length>0?this._next(te.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},8606(fe,K,w){w.d(K,{A:()=>q});var m=/^(?:0|[1-9]\d*)$/;const q=function x(P,p){var ee=typeof P;return!!(p=p??9007199254740991)&&("number"==ee||"symbol"!=ee&&m.test(P))&&P>-1&&P%1==0&&P<p}},8728(fe,K,w){w.d(K,{p:()=>m});var T=w(762);function m(P,p){return function(ne){return ne.lift(new x(P,p))}}class x{constructor(p,ee){this.predicate=p,this.thisArg=ee}call(p,ee){return ee.subscribe(new q(p,this.predicate,this.thisArg))}}class q extends T.v{constructor(p,ee,ne){super(p),this.predicate=ee,this.thisArg=ne,this.count=0}_next(p){let ee;try{ee=this.predicate.call(this.thisArg,p,this.count++)}catch(ne){return void this.destination.error(ne)}ee&&this.destination.next(p)}}},8736(fe,K,w){w.d(K,{A:()=>q});var m=Function.prototype.toString;const q=function x(P){if(null!=P){try{return m.call(P)}catch{}try{return P+""}catch{}}return""}},8818(fe,K,w){w.d(K,{A:()=>q});var T=w(7107);const q=function x(P,p){var ee=this.__data__;return this.size+=this.has(P)?0:1,ee[P]=T.A&&void 0===p?"__lodash_hash_undefined__":p,this}},8935(fe){fe.exports=JSON.parse('[{"Ability":"Block ailment or 8 damage, once.","Positive":true,"Id":"60","Name":"Ambrosia","NameId":"Ambrosia"},{"Ability":"Before attack: Remove the front-most enemy perk, once.","Positive":true,"Id":"64","Name":"Baguette","NameId":"Baguette"},{"Ability":"Faint: Summon one 4/4 Monkey.","Positive":true,"Id":"25","Name":"Banana","NameId":"Banana"},{"Ability":"Before battle: Gain +7 mana.","Positive":true,"Id":"87","Name":"Big Mana Potion","NameId":"ManaPotion2"},{"Ability":"Gain +1 attack and +2 health.","Positive":true,"Id":"89","Name":"Blackberry","NameId":"Blackberry"},{"Ability":"Can\'t gain perk, once.","Id":"120","Name":"Bloated","NameId":"Bloated"},{"Ability":"Prioritize this for enemy random abilities.","Positive":true,"Id":"28","Name":"Blueberry","NameId":"BlueBerries"},{"Ability":"Gain +3 health when this would faint, once.","Positive":true,"Id":"111","Name":"Bok Choy","NameId":"BokChoy"},{"Ability":"Block being pushed or 5 damage, once.","Positive":true,"Id":"66","Name":"Brussels Sprout","NameId":"BrusselsSprout"},{"Ability":"End turn: Increase sell value by 1 gold.","Positive":true,"Id":"44","Name":"Cake","NameId":"BirthdayCake"},{"Ability":"Before attack: Combine friendly Caramels to deal 3 damage each to the most healthy enemy, once.","Positive":true,"Id":"67","Name":"Caramel","NameId":"Caramel"},{"Ability":"End turn: Gain +1 attack and +1 health.","Positive":true,"Id":"15","Name":"Carrot","NameId":"Carrot"},{"Ability":"Before battle: Deal 1 damage to the second nearest pet ahead. Double against enemies.","Positive":true,"Id":"115","Name":"Cashew Nut","NameId":"CashewNut"},{"Ability":"Knock out: If still standing, gain permanent +1 attack and +1 health, once.","Positive":true,"Id":"71","Name":"Cauliflower","NameId":"Cauliflower"},{"Ability":"Attack with at least 15 attack, once.","Positive":true,"Id":"23","Name":"Cheese","NameId":"Cheese"},{"Ability":"Before battle: Gain 2 trumpets and remove perk.","Positive":true,"Id":"7","Name":"Cherry","NameId":"Cherries"},{"Ability":"Attack second enemy for 5 damage.","Positive":true,"Id":"5","Name":"Chili","NameId":"Chili"},{"Ability":"Before attack: Gain +3 experience and faint.","Positive":true,"Id":"30","Name":"Chocolate Cake","NameId":"ChocolateCake"},{"Ability":"Activate ability before other pets with the same trigger.","Positive":true,"Id":"70","Name":"Churros","NameId":"Churros"},{"Ability":"Before attack: Transform into an exact copy of a random enemy, once.","Positive":true,"Id":"94","Name":"Cocoa Bean","NameId":"CocoaBean"},{"Ability":"Block damage, once.","Positive":true,"Id":"0","Name":"Coconut","NameId":"Coconut"},{"Ability":"Faint: Summon one 2/3 Fish.","Positive":true,"Id":"104","Name":"Cod Roe","NameId":"CodRoe"},{"Ability":"Take +5 damage, once.","Id":"54","Name":"Cold","NameId":"Frozen"},{"Ability":"Before attack: Transform into a pet from one tier below, once.","Id":"118","Name":"Confused","NameId":"Confused"},{"Ability":"Anyone attacks: Take 6 damage, once.","Id":"57","Name":"Crisp","NameId":"Burn"},{"Ability":"End turn: Gain +1 attack.","Positive":true,"Id":"20","Name":"Croissant","NameId":"Croissant"},{"Ability":"End turn: Gain +1 health.","Positive":true,"Id":"19","Name":"Cucumber","NameId":"Cucumber"},{"Ability":"Faint: Make one random friend Cursed.","Id":"119","Name":"Cursed","NameId":"Curse"},{"Ability":"Prevent ability from activating.","Id":"55","Name":"Dazed","NameId":"Deaf"},{"Ability":"Prioritize this for friendly random abilities.","Positive":true,"Id":"36","Name":"Donut","NameId":"Doughnut"},{"Ability":"Before attack: Reduce the most healthy enemy by 33% health, once.","Positive":true,"Id":"45","Name":"Durian","NameId":"Durian"},{"Ability":"Faint: Summon one 3/3 Bunny that attacks for double damage.","Positive":true,"Id":"51","Name":"Easter Egg","NameId":"EasterEgg"},{"Ability":"Before attack: Deal 2 damage to target, once.","Positive":true,"Id":"24","Name":"Egg","NameId":"Egg"},{"Ability":"Before battle: Push opposite enemy 1 space forward.","Positive":true,"Id":"38","Name":"Eggplant","NameId":"EggPlant"},{"Ability":"Block 4 enemy damage, once.","Positive":true,"Id":"68","Name":"Eucalyptus","NameId":"Eucalyptus"},{"Ability":"Faint: Summon ANY one tier 1 <b>Faint</b> pet.","Positive":true,"Id":"86","Name":"Faint Bread","NameId":"DeadBread"},{"Ability":"Empty front space: Jump to the front and gain +2 mana, once.","Positive":true,"Id":"49","Name":"Fairy Dust","NameId":"FairyDust"},{"Ability":"Before attack: Deal 4 damage to the lowest health enemy, once.","Positive":true,"Id":"46","Name":"Fig","NameId":"Fig"},{"Ability":"Attack has 50% chance to deal double damage.","Positive":true,"Id":"11","Name":"Fortune Cookie","NameId":"FortuneCookie"},{"Ability":"Takes 2 less damage.","FinePrint":"Damage can\'t be reduced to less than 2.","Positive":true,"Id":"9","Name":"Garlic","NameId":"Garlic"},{"Ability":"Before battle: Gain +1 experience.","Positive":true,"Id":"52","Name":"Gingerbread Man","NameId":"GingerbreadMan"},{"Ability":"Before attack: Deal 6 damage to target, once.","Positive":true,"Id":"47","Name":"Golden Egg","NameId":"GoldenEgg"},{"Ability":"Start of turn: Gain +1 gold.","Positive":true,"Id":"16","Name":"Grapes","NameId":"Grapes"},{"Ability":"Before attack: Transform into an Ant.","Positive":true,"Id":"103","Name":"Gros Michel Banana","NameId":"GrosMichelBanana"},{"Ability":"Block 3 damage, and attack for +3 damage, once.","Positive":true,"Id":"105","Name":"Guava","NameId":"Guava"},{"Ability":"Before battle: Give the front-most friendly pet +2 health.","Positive":true,"Id":"58","Name":"Health Potion","NameId":"HealthPotion"},{"Ability":"Faint: Summon one 1/1 Bee.","Positive":true,"Id":"8","Name":"Honey","NameId":"Honey"},{"Ability":"Block 10 damage, and attack for +5 damage, once.","Positive":true,"Id":"110","Name":"Honeydew Melon","NameId":"HoneydewMelon"},{"Ability":"Take double damage, twice.","Id":"56","Name":"Icky","NameId":"Acid"},{"Ability":"Attack and ability deal 3 less damage.","Id":"37","Name":"Inked","NameId":"Ink"},{"Ability":"Ability deals +8 damage, once.","Positive":true,"Id":"78","Name":"Kiwano","NameId":"Kiwano"},{"Ability":"Before battle: Gain +3 health.","Positive":true,"Id":"107","Name":"Kiwifruit","NameId":"Kiwi"},{"Ability":"Block 7 damage, twice.","Positive":true,"Id":"22","Name":"Lemon","NameId":"Lemon"},{"Ability":"Takes 1 less damage.","Positive":true,"Id":"108","Name":"Lime","NameId":"Lime"},{"Ability":"Activate ability at level 1.","Positive":true,"Id":"122","Name":"Liquorice","NameId":"SweetLiquorice"},{"Ability":"Before battle: Summon one 5/5 pet like this.","Positive":true,"Id":"59","Name":"Love Potion","NameId":"LovePotion"},{"Ability":"Before battle: Copy ability to the nearest friend ahead.","Positive":true,"Id":"76","Name":"Lychee","NameId":"Lychee"},{"Ability":"Activate ability after other pets with the same trigger.","Positive":true,"Id":"117","Name":"Macaron","NameId":"Macaron"},{"Ability":"Start of turn: Gain the Golden Egg perk and increase sell value by 4 gold.","Positive":true,"Id":"48","Name":"Magic Beans","NameId":"MagicBeans"},{"Ability":"Attack for 50% damage and block 50% damage, thrice.","Positive":true,"Id":"93","Name":"Maple Syrup","NameId":"MapleSyrup"},{"Ability":"Attack with +3 damage.","Positive":true,"Id":"6","Name":"Meat Bone","NameId":"MeatBone"},{"Ability":"Block 20 damage, once.","Positive":true,"Id":"13","Name":"Melon","NameId":"Melon"},{"Ability":"Block 10 damage, once.","Positive":true,"Id":"79","Name":"Melon Slice","NameId":"WaterMelon"},{"Ability":"Attack second enemy for 4 damage.","Positive":true,"Id":"123","Name":"Mild Chili","NameId":"MildChili"},{"Ability":"Faint: Come back as a 1/1.","Positive":true,"Id":"1","Name":"Mushroom","NameId":"Mushroom"},{"Ability":"Before attack: Convert up to 3 health into attack.","Positive":true,"Id":"116","Name":"Nachos","NameId":"Nachos"},{"Ability":"Before attack: Move to the back, once.","Positive":true,"Id":"31","Name":"Onion","NameId":"Onion"},{"Ability":"Before attack: Set attack and health to at least 9, once.","Positive":true,"Id":"77","Name":"Oyster Mushroom","NameId":"OysterMushroom"},{"Ability":"Before battle: Give friends +2 attack and +2 health.","Positive":true,"Id":"35","Name":"Pancakes","NameId":"Pancakes"},{"Ability":"Knock out any pet attacked and hurt by this.","Positive":true,"Id":"2","Name":"Peanut","NameId":"Peanut"},{"Ability":"Knock out any pet attacked and hurt by this, once.","Positive":true,"Id":"88","Name":"Peanut Butter","NameId":"PeanutButter"},{"Ability":"Health does not go under 1. Removed after taking damage.","Positive":true,"Id":"18","Name":"Pepper","NameId":"Pepper"},{"Ability":"Before battle: Gain +4 attack and +3 health.","Positive":true,"Id":"39","Name":"Pie","NameId":"Pie"},{"Ability":"Ability deals +2 damage, thrice.","Positive":true,"Id":"21","Name":"Pineapple","NameId":"Pineapple"},{"Ability":"Hurt: Gain +15 health, once.","Positive":true,"Id":"33","Name":"Pita Bread","NameId":"PitaBread"},{"Ability":"Faint: Summon one random pet from the same tier.","Positive":true,"Id":"17","Name":"Popcorn","NameId":"Popcorn"},{"Ability":"Block 10 damage from abilities and perks, twice.","Positive":true,"Id":"29","Name":"Potato","NameId":"Potato"},{"Ability":"Before battle: Gain ANY useful perk from the pet\'s tier.","Positive":true,"Id":"65","Name":"Radish","NameId":"Radish"},{"Ability":"Before attack: Gain +3 mana.","Positive":true,"Id":"62","Name":"Rambutan","NameId":"Rambutan"},{"Ability":"Sell for +2 gold.","Positive":true,"Id":"43","Name":"Rice","NameId":"RiceBall"},{"Ability":"Attack for double damage, once.","Positive":true,"Id":"3","Name":"Salt","NameId":"Salt"},{"Ability":"Start of turn: Gain +2 gold.","Positive":true,"Id":"100","Name":"Sardinian Currant","NameId":"SardinianCurrant"},{"Ability":"Start of turn: Gain one free roll.","Positive":true,"Id":"69","Name":"Sausage","NameId":"Sausage"},{"Ability":"Before attack: Transform into a Baby Urchin.","Positive":true,"Id":"72","Name":"Seaweed","NameId":"Seaweed"},{"Ability":"Ability has random targets in battle.","Id":"75","Name":"Silly","NameId":"Silly"},{"Ability":"Attack second and third enemy for 3 damage.","Positive":true,"Id":"26","Name":"Skewer","NameId":"Skewer"},{"Ability":"Attack with half damage, once.","Id":"84","Name":"Sleepy","NameId":"Drowsy"},{"Ability":"Take +1 damage.","Id":"63","Name":"Spooked","NameId":"Scared"},{"Ability":"Before attack: Remove 6 health from target, once.","Positive":true,"Id":"109","Name":"Squash","NameId":"Squash"},{"Ability":"Attack with +20 damage, once.","Positive":true,"Id":"12","Name":"Steak","NameId":"Steak"},{"Ability":"Faint: Give the back-most friend +1 attack and +1 health.","Positive":true,"Id":"14","Name":"Strawberry","NameId":"Strawberry"},{"Ability":"Hurt: If still standing, gain permanent +1 health, once.","Positive":true,"Id":"95","Name":"Sudduth Tomato","NameId":"SudduthTomato"},{"Ability":"Faint: Give one random enemy permanent +2 attack and +2 health.","Id":"85","Name":"Tasty","NameId":"Tasty"},{"Ability":"Anyone attacks: Take 1 damage, once.","Id":"73","Name":"Toasty","NameId":"Toasty"},{"Ability":"Before attack: Deal 10 damage to the last enemy, once.","Positive":true,"Id":"34","Name":"Tomato","NameId":"Tomato"},{"Ability":"Start of battle: Deal 2 damage to a random enemy.","Positive":true,"Id":"97","Name":"Unagi","NameId":"Unagi"},{"Ability":"Block 2 damage, once.","Positive":true,"Id":"80","Name":"Walnut","NameId":"Walnut"},{"Ability":"Take +3 damage.","Id":"10","Name":"Weak","NameId":"Weak"},{"Ability":"Faint: Summon one 2/2 Spider up front for the opponent.","Id":"27","Name":"Webbed","NameId":"Web"},{"Ability":"Block 10 damage twice or ailment once.","Positive":true,"Id":"101","Name":"White Okra","NameId":"WhiteOkra"},{"Ability":"Friend faints: Gain +4 attack and jump-attack the highest attack enemy, once.","Positive":true,"Id":"91","Name":"White Truffle","NameId":"WhiteTruffle"},{"Ability":"Faint: Summon two 5/5 Nordic Goats.","Positive":true,"Id":"50","Name":"Yggdrasil Fruit","NameId":"YggdrasilFruit"}]')},8960(fe,K,w){w.d(K,{A:()=>m});const m=function T(x){return this.__data__.has(x)}},8992(fe,K,w){w.d(K,{A:()=>m});const m=function T(x,q){return function(P){return x(q(P))}}},9090(fe,K,w){w.d(K,{n:()=>q});var T=w(5006),m=w(4787),x=w(3004);function q(ee,ne){return"function"==typeof ne?te=>te.pipe(q((le,ce)=>(0,m.H)(ee(le,ce)).pipe((0,T.T)((me,Ee)=>ne(le,me,ce,Ee))))):te=>te.lift(new P(ee))}class P{constructor(ne){this.project=ne}call(ne,te){return te.subscribe(new p(ne,this.project))}}class p extends x.gn{constructor(ne,te){super(ne),this.project=te,this.index=0}_next(ne){let te;const le=this.index++;try{te=this.project(ne,le)}catch(ce){return void this.destination.error(ce)}this._innerSub(te)}_innerSub(ne){const te=this.innerSubscription;te&&te.unsubscribe();const le=new x.zA(this),ce=this.destination;ce.add(le),this.innerSubscription=(0,x.tS)(ne,le),this.innerSubscription!==le&&ce.add(this.innerSubscription)}_complete(){const{innerSubscription:ne}=this;(!ne||ne.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(ne){this.destination.next(ne)}}},9112(fe,K,w){w.d(K,{u:()=>q});var T=w(762),m=w(91),x=w(178);function q(P,p,ee){if(P){if(P instanceof T.v)return P;if(P[m.D])return P[m.D]()}return P||p||ee?new T.v(P,p,ee):new T.v(x.I)}},9162(fe,K,w){w.d(K,{A:()=>m});const m=function T(x,q){for(var P=-1,p=null==x?0:x.length;++P<p&&!1!==q(x[P],P,x););return x}},9320(fe,K,w){w.d(K,{A:()=>ee});var T=w(1387),m=w(2495),x=w(1374),q=w(5738),P=w(8818);function p(ne){var te=-1,le=null==ne?0:ne.length;for(this.clear();++te<le;){var ce=ne[te];this.set(ce[0],ce[1])}}p.prototype.clear=T.A,p.prototype.delete=m.A,p.prototype.get=x.A,p.prototype.has=q.A,p.prototype.set=P.A;const ee=p},9379(fe,K,w){w.d(K,{Z:()=>m});const m=(()=>{function x(q){return Error.call(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((P,p)=>`${p+1}) ${P.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q,this}return x.prototype=Object.create(Error.prototype),x})()},9452(fe,K,w){w.d(K,{A:()=>q});var T=w(9898),m=w(4429);const q=function x(P,p){return P&&(0,T.A)(p,(0,m.A)(p),P)}},9659(fe,K,w){w.d(K,{A:()=>m});const m=function T(x,q){for(var P=-1,p=Array(x);++P<x;)p[P]=q(P);return p}},9748(fe,K,w){w.d(K,{A:()=>x});const x=w(1860).A["__core-js_shared__"]},9769(fe,K,w){w.d(K,{MD:()=>Sa,Sq:()=>jr,YU:()=>Tr,bT:()=>Bn});var T=w(7705),m=w(7868),x=w(5547);const ki=/\s+/,yn=[];let Tr=(()=>{class F{_ngEl;_renderer;initialClasses=yn;rawClass;stateMap=new Map;constructor(j,W){this._ngEl=j,this._renderer=W}set klass(j){this.initialClasses=null!=j?j.trim().split(ki):yn}set ngClass(j){this.rawClass="string"==typeof j?j.trim().split(ki):j}ngDoCheck(){for(const W of this.initialClasses)this._updateState(W,!0);const j=this.rawClass;if(Array.isArray(j)||j instanceof Set)for(const W of j)this._updateState(W,!0);else if(null!=j)for(const W of Object.keys(j))this._updateState(W,!!j[W]);this._applyStateDiff()}_updateState(j,W){const de=this.stateMap.get(j);void 0!==de?(de.enabled!==W&&(de.changed=!0,de.enabled=W),de.touched=!0):this.stateMap.set(j,{enabled:W,changed:!0,touched:!0})}_applyStateDiff(){for(const j of this.stateMap){const W=j[0],de=j[1];de.changed?(this._toggleClass(W,de.enabled),de.changed=!1):de.touched||(de.enabled&&this._toggleClass(W,!1),this.stateMap.delete(W)),de.touched=!1}}_toggleClass(j,W){(j=j.trim()).length>0&&j.split(ki).forEach(de=>{W?this._renderer.addClass(this._ngEl.nativeElement,de):this._renderer.removeClass(this._ngEl.nativeElement,de)})}static \u0275fac=function(W){return new(W||F)(x.rXU(x.aKT),x.rXU(x.sFG))};static \u0275dir=x.FsC({type:F,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return F})();class En{$implicit;ngForOf;index;count;constructor(Q,j,W,de){this.$implicit=Q,this.ngForOf=j,this.index=W,this.count=de}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let jr=(()=>{class F{_viewContainer;_template;_differs;set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(j,W,de){this._viewContainer=j,this._template=W,this._differs=de}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const W=this._viewContainer;j.forEachOperation((de,we,Ne)=>{if(null==de.previousIndex)W.createEmbeddedView(this._template,new En(de.item,this._ngForOf,-1,-1),null===Ne?void 0:Ne);else if(null==Ne)W.remove(null===we?void 0:we);else if(null!==we){const $e=W.get(we);W.move($e,Ne),Aa($e,de)}});for(let de=0,we=W.length;de<we;de++){const $e=W.get(de).context;$e.index=de,$e.count=we,$e.ngForOf=this._ngForOf}j.forEachIdentityChange(de=>{Aa(W.get(de.currentIndex),de)})}static ngTemplateContextGuard(j,W){return!0}static \u0275fac=function(W){return new(W||F)(x.rXU(x.c1b),x.rXU(x.C4Q),x.rXU(T._q3))};static \u0275dir=x.FsC({type:F,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return F})();function Aa(F,Q){F.context.$implicit=Q.item}let Bn=(()=>{class F{_viewContainer;_context=new $n;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(j,W){this._viewContainer=j,this._thenTemplateRef=W}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){ai(j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){ai(j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(j,W){return!0}static \u0275fac=function(W){return new(W||F)(x.rXU(x.c1b),x.rXU(x.C4Q))};static \u0275dir=x.FsC({type:F,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return F})();class $n{$implicit=null;ngIf=null}function ai(F,Q){if(F&&!F.createEmbeddedView)throw new m.buA(2020,!1)}let Sa=(()=>{class F{static \u0275fac=function(W){return new(W||F)};static \u0275mod=x.$C({type:F});static \u0275inj=m.G2t({})}return F})()},9898(fe,K,w){w.d(K,{A:()=>q});var T=w(1984),m=w(1827);const q=function x(P,p,ee,ne){var te=!ee;ee||(ee={});for(var le=-1,ce=p.length;++le<ce;){var me=p[le],Ee=ne?ne(ee[me],P[me],me,ee,P):void 0;void 0===Ee&&(Ee=P[me]),te?(0,m.A)(ee,me,Ee):(0,T.A)(ee,me,Ee)}return ee}},9928(fe,K,w){w.d(K,{t:()=>x});var T=w(5286),m=w(2145);class x extends T.B7{constructor(P){super(),this._value=P}get value(){return this.getValue()}_subscribe(P){const p=super._subscribe(P);return p&&!p.closed&&P.next(this._value),p}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new m.P;return this._value}next(P){super.next(this._value=P)}}},9933(fe,K,w){w.d(K,{A:()=>ne});var T=w(1860),m="object"==typeof exports&&exports&&!exports.nodeType&&exports,x=m&&"object"==typeof module&&module&&!module.nodeType&&module,P=x&&x.exports===m?T.A.Buffer:void 0,p=P?P.allocUnsafe:void 0;const ne=function ee(te,le){if(le)return te.slice();var ce=te.length,me=p?p(ce):new te.constructor(ce);return te.copy(me),me}},9975(fe,K,w){w.d(K,{A:()=>q});var T=w(9898),m=w(8114);const q=function x(P,p){return(0,T.A)(P,(0,m.A)(P),p)}}},fe=>{fe(fe.s=7191)}]);