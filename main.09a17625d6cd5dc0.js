var mde=Object.defineProperty,gde=Object.defineProperties,fde=Object.getOwnPropertyDescriptors,jH=Object.getOwnPropertySymbols,yde=Object.prototype.hasOwnProperty,vde=Object.prototype.propertyIsEnumerable,zH=(Yt,Qt,Zt)=>Qt in Yt?mde(Yt,Qt,{enumerable:!0,configurable:!0,writable:!0,value:Zt}):Yt[Qt]=Zt,en=(Yt,Qt)=>{for(var Zt in Qt||(Qt={}))yde.call(Qt,Zt)&&zH(Yt,Zt,Qt[Zt]);if(jH)for(var Zt of jH(Qt))vde.call(Qt,Zt)&&zH(Yt,Zt,Qt[Zt]);return Yt},Uv=(Yt,Qt)=>gde(Yt,fde(Qt));(self.webpackChunksap_calculator=self.webpackChunksap_calculator||[]).push([[179],{549:(Yt,Qt,Zt)=>{"use strict";var es={};function I(n){return"function"==typeof n}Zt.r(es),Zt.d(es,{afterMain:()=>AB,afterRead:()=>yB,afterWrite:()=>PB,applyStyles:()=>SL,arrow:()=>LB,auto:()=>Wy,basePlacements:()=>Fu,beforeMain:()=>vB,beforeRead:()=>gB,beforeWrite:()=>kB,bottom:()=>Yn,clippingParents:()=>pB,computeStyles:()=>_L,createPopper:()=>ML,createPopperBase:()=>ane,createPopperLite:()=>cne,detectOverflow:()=>Gu,end:()=>Nu,eventListeners:()=>CL,flip:()=>BB,hide:()=>HB,left:()=>Tn,main:()=>bB,modifierPhases:()=>wB,offset:()=>GB,placements:()=>AL,popper:()=>Bu,popperGenerator:()=>Qy,popperOffsets:()=>IL,preventOverflow:()=>qB,read:()=>fB,reference:()=>mB,right:()=>Qn,start:()=>$l,top:()=>wn,variationPlacements:()=>bL,viewport:()=>vL,write:()=>SB});let ih=!1;const tn={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else ih&&console.log("RxJS: Back to a better error behavior. Thank you. <3");ih=n},get useDeprecatedSynchronousErrorHandling(){return ih}};function wa(n){setTimeout(()=>{throw n},0)}const Mi={closed:!0,next(n){},error(n){if(tn.useDeprecatedSynchronousErrorHandling)throw n;wa(n)},complete(){}},To=Array.isArray||(n=>n&&"number"==typeof n.length);function _o(n){return null!==n&&"object"==typeof n}const Bs=(()=>{function n(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,i)=>`${i+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return n.prototype=Object.create(Error.prototype),n})();class Xe{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:i,_unsubscribe:r,_subscriptions:a}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof Xe)t.remove(this);else if(null!==t)for(let s=0;s<t.length;++s)t[s].remove(this);if(I(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(s){e=s instanceof Bs?nh(s.errors):[s]}}if(To(a)){let s=-1,o=a.length;for(;++s<o;){const l=a[s];if(_o(l))try{l.unsubscribe()}catch(c){e=e||[],c instanceof Bs?e=e.concat(nh(c.errors)):e.push(c)}}}if(e)throw new Bs(e)}add(e){let t=e;if(!e)return Xe.EMPTY;switch(typeof e){case"function":t=new Xe(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof Xe)){const a=t;t=new Xe,t._subscriptions=[a]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=t;if(null===i)t._parentOrParents=this;else if(i instanceof Xe){if(i===this)return t;t._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return t;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const i=t.indexOf(e);-1!==i&&t.splice(i,1)}}}var n;function nh(n){return n.reduce((e,t)=>e.concat(t instanceof Bs?t.errors:t),[])}Xe.EMPTY=((n=new Xe).closed=!0,n);const _r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Jt extends Xe{constructor(e,t,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Mi;break;case 1:if(!e){this.destination=Mi;break}if("object"==typeof e){e instanceof Jt?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new nn(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new nn(this,e,t,i)}}[_r](){return this}static create(e,t,i){const r=new Jt(e,t,i);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class nn extends Jt{constructor(e,t,i,r){super(),this._parentSubscriber=e;let a,s=this;I(t)?a=t:t&&(a=t.next,i=t.error,r=t.complete,t!==Mi&&(s=Object.create(t),I(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=a,this._error=i,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;tn.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:i}=tn;if(this._error)i&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)i?(t.syncErrorValue=e,t.syncErrorThrown=!0):wa(e),this.unsubscribe();else{if(this.unsubscribe(),i)throw e;wa(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);tn.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(i){if(this.unsubscribe(),tn.useDeprecatedSynchronousErrorHandling)throw i;wa(i)}}__tryOrSetError(e,t,i){if(!tn.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,i)}catch(r){return tn.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(wa(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const Ui="function"==typeof Symbol&&Symbol.observable||"@@observable";function $s(n){return n}let at=(()=>{class n{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const{operator:a}=this,s=function Kp(n,e,t){if(n){if(n instanceof Jt)return n;if(n[_r])return n[_r]()}return n||e||t?new Jt(n,e,t):new Jt(Mi)}(t,i,r);if(s.add(a?a.call(s,this.source):this.source||tn.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),tn.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){tn.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=i),function Os(n){for(;n;){const{closed:e,destination:t,isStopped:i}=n;if(e||i)return!1;n=t&&t instanceof Jt?t:null}return!0}(t)?t.error(i):console.warn(i)}}forEach(t,i){return new(i=Ta(i))((r,a)=>{let s;s=this.subscribe(o=>{try{t(o)}catch(l){a(l),s&&s.unsubscribe()}},a,r)})}_subscribe(t){const{source:i}=this;return i&&i.subscribe(t)}[Ui](){return this}pipe(...t){return 0===t.length?this:function Hs(n){return 0===n.length?$s:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}(t)(this)}toPromise(t){return new(t=Ta(t))((i,r)=>{let a;this.subscribe(s=>a=s,s=>r(s),()=>i(a))})}}return n.create=e=>new n(e),n})();function Ta(n){if(n||(n=tn.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const Eo=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class Wv extends Xe{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const i=t.indexOf(this.subscriber);-1!==i&&t.splice(i,1)}}class Qp extends Jt{constructor(e){super(e),this.destination=e}}let Ct=(()=>{class n extends at{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[_r](){return new Qp(this)}lift(t){const i=new rh(this,this);return i.operator=t,i}next(t){if(this.closed)throw new Eo;if(!this.isStopped){const{observers:i}=this,r=i.length,a=i.slice();for(let s=0;s<r;s++)a[s].next(t)}}error(t){if(this.closed)throw new Eo;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:i}=this,r=i.length,a=i.slice();for(let s=0;s<r;s++)a[s].error(t);this.observers.length=0}complete(){if(this.closed)throw new Eo;this.isStopped=!0;const{observers:t}=this,i=t.length,r=t.slice();for(let a=0;a<i;a++)r[a].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new Eo;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new Eo;return this.hasError?(t.error(this.thrownError),Xe.EMPTY):this.isStopped?(t.complete(),Xe.EMPTY):(this.observers.push(t),new Wv(this,t))}asObservable(){const t=new at;return t.source=this,t}}return n.create=(e,t)=>new rh(e,t),n})();class rh extends Ct{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):Xe.EMPTY}}function xo(n){return n&&"function"==typeof n.schedule}function er(n,e){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new Gs(n,e))}}class Gs{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new ts(e,this.project,this.thisArg))}}class ts extends Jt{constructor(e,t,i){super(e),this.project=t,this.count=0,this.thisArg=i||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}const Zp=n=>e=>{for(let t=0,i=n.length;t<i&&!e.closed;t++)e.next(n[t]);e.complete()},tc=function tr(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),Do=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Jp(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const Ca=n=>{if(n&&"function"==typeof n[Ui])return(n=>e=>{const t=n[Ui]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)})(n);if(Do(n))return Zp(n);if(Jp(n))return(n=>e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,wa),e))(n);if(n&&"function"==typeof n[tc])return(n=>e=>{const t=n[tc]();for(;;){let i;try{i=t.next()}catch(r){return e.error(r),e}if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof t.return&&e.add(()=>{t.return&&t.return()}),e})(n);{const t=`You provided ${_o(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function Ea(n,e){return new at(t=>{const i=new Xe;let r=0;return i.add(e.schedule(function(){r!==n.length?(t.next(n[r++]),t.closed||i.add(this.schedule())):t.complete()})),i})}function nc(n,e){return e?function Io(n,e){if(null!=n){if(function Xp(n){return n&&"function"==typeof n[Ui]}(n))return function Lo(n,e){return new at(t=>{const i=new Xe;return i.add(e.schedule(()=>{const r=n[Ui]();i.add(r.subscribe({next(a){i.add(e.schedule(()=>t.next(a)))},error(a){i.add(e.schedule(()=>t.error(a)))},complete(){i.add(e.schedule(()=>t.complete()))}}))})),i})}(n,e);if(Jp(n))return function zv(n,e){return new at(t=>{const i=new Xe;return i.add(e.schedule(()=>n.then(r=>{i.add(e.schedule(()=>{t.next(r),i.add(e.schedule(()=>t.complete()))}))},r=>{i.add(e.schedule(()=>t.error(r)))}))),i})}(n,e);if(Do(n))return Ea(n,e);if(function Hn(n){return n&&"function"==typeof n[tc]}(n)||"string"==typeof n)return function ic(n,e){if(!n)throw new Error("Iterable cannot be null");return new at(t=>{const i=new Xe;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=n[tc](),i.add(e.schedule(function(){if(t.closed)return;let a,s;try{const o=r.next();a=o.value,s=o.done}catch(o){return void t.error(o)}s?t.complete():(t.next(a),this.schedule())}))})),i})}(n,e)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,e):n instanceof at?n:new at(Ca(n))}class Cn extends Jt{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class rc extends Jt{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function Wi(n,e){if(e.closed)return;if(n instanceof at)return n.subscribe(e);let t;try{t=Ca(n)(e)}catch(i){e.error(i)}return t}function qs(n,e,t=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(qs((r,a)=>nc(n(r,a)).pipe(er((s,o)=>e(r,s,a,o))),t)):("number"==typeof e&&(t=e),i=>i.lift(new ac(n,t)))}class ac{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new Yv(e,this.project,this.concurrent))}}class Yv extends rc{constructor(e,t,i=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new Cn(this),i=this.destination;i.add(t);const r=Wi(e,t);r!==t&&i.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function em(n=Number.POSITIVE_INFINITY){return qs($s,n)}function xa(n,e){return e?Ea(n,e):new at(Zp(n))}function is(...n){let e=Number.POSITIVE_INFINITY,t=null,i=n[n.length-1];return xo(i)?(t=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(e=n.pop())):"number"==typeof i&&(e=n.pop()),null===t&&1===n.length&&n[0]instanceof at?n[0]:em(e)(xa(n,t))}function lc(){return function(e){return e.lift(new sh(e))}}class sh{constructor(e){this.connectable=e}call(e,t){const{connectable:i}=this;i._refCount++;const r=new ah(e,i),a=t.subscribe(r);return r.closed||(r.connection=i.connect()),a}}class ah extends Jt{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:i}=this,r=e._connection;this.connection=null,r&&(!i||r===i)&&r.unsubscribe()}}class oh extends at{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new Xe,e.add(this.source.subscribe(new ch(this.getSubject(),this))),e.closed&&(this._connection=null,e=Xe.EMPTY)),e}refCount(){return lc()(this)}}const lh=(()=>{const n=oh.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class ch extends Qp{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}class Qv{constructor(e,t){this.subjectFactory=e,this.selector=t}call(e,t){const{selector:i}=this,r=this.subjectFactory(),a=i(r).subscribe(e);return a.add(t.subscribe(r)),a}}function Zv(){return new Ct}function ft(n){for(let e in n)if(n[e]===ft)return e;throw Error("Could not find renamed property on target object.")}function cc(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ht(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ht).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function dh(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Xv=ft({__forward_ref__:ft});function kt(n){return n.__forward_ref__=kt,n.toString=function(){return ht(this())},n}function He(n){return im(n)?n():n}function im(n){return"function"==typeof n&&n.hasOwnProperty(Xv)&&n.__forward_ref__===kt}class pe extends Error{constructor(e,t){super(function Mo(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Be(n){return"string"==typeof n?n:null==n?"":String(n)}function Xt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Be(n)}function uc(n,e){const t=e?` in ${e}`:"";throw new pe(-201,`No provider for ${Xt(n)} found${t}`)}function Ti(n,e){null==n&&function dt(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function be(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ri(n){return{providers:n.providers||[],imports:n.imports||[]}}function ph(n){return nm(n,Ro)||nm(n,sm)}function nm(n,e){return n.hasOwnProperty(e)?n[e]:null}function mh(n){return n&&(n.hasOwnProperty(Fo)||n.hasOwnProperty(am))?n[Fo]:null}const Ro=ft({\u0275prov:ft}),Fo=ft({\u0275inj:ft}),sm=ft({ngInjectableDef:ft}),am=ft({ngInjectorDef:ft});var Le=(()=>((Le=Le||{})[Le.Default=0]="Default",Le[Le.Host=1]="Host",Le[Le.Self=2]="Self",Le[Le.SkipSelf=4]="SkipSelf",Le[Le.Optional=8]="Optional",Le))();let dc;function Er(n){const e=dc;return dc=n,e}function gh(n,e,t){const i=ph(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&Le.Optional?null:void 0!==e?e:void uc(ht(n),"Injector")}function ns(n){return{toString:n}.toString()}var En=(()=>((En=En||{})[En.OnPush=0]="OnPush",En[En.Default=1]="Default",En))(),_i=(()=>(function(n){n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom"}(_i||(_i={})),_i))();const um="undefined"!=typeof globalThis&&globalThis,hm="undefined"!=typeof window&&window,ob="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,pt=um||"undefined"!=typeof global&&global||hm||ob,Da={},vt=[],pc=ft({\u0275cmp:ft}),mc=ft({\u0275dir:ft}),fh=ft({\u0275pipe:ft}),dm=ft({\u0275mod:ft}),xr=ft({\u0275fac:ft}),No=ft({__NG_ELEMENT_ID__:ft});let yh=0;function Gn(n){return ns(()=>{const t={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===En.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||vt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||_i.Emulated,id:"c",styles:n.styles||vt,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,a=n.features,s=n.pipes;return i.id+=yh++,i.inputs=fm(n.inputs,t),i.outputs=fm(n.outputs),a&&a.forEach(o=>o(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(pm):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(mm):null,i})}function pm(n){return fi(n)||function rs(n){return n[mc]||null}(n)}function mm(n){return function Vs(n){return n[fh]||null}(n)}const gm={};function Ke(n){return ns(()=>{const e={type:n.type,bootstrap:n.bootstrap||vt,declarations:n.declarations||vt,imports:n.imports||vt,exports:n.exports||vt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(gm[n.id]=n.type),e})}function fm(n,e){if(null==n)return Da;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],a=r;Array.isArray(r)&&(a=r[1],r=r[0]),t[r]=i,e&&(e[r]=a)}return t}const xe=Gn;function ji(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function fi(n){return n[pc]||null}function sn(n,e){const t=n[dm]||null;if(!t&&!0===e)throw new Error(`Type ${ht(n)} does not have '\u0275mod' property.`);return t}function ln(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ci(n){return Array.isArray(n)&&!0===n[1]}function vh(n){return 0!=(8&n.flags)}function $o(n){return 2==(2&n.flags)}function Ho(n){return 1==(1&n.flags)}function cn(n){return null!==n.template}function bh(n){return 0!=(512&n[2])}function nr(n,e){return n.hasOwnProperty(xr)?n[xr]:null}class bb{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function rr(){return Sm}function Sm(n){return n.type.prototype.ngOnChanges&&(n.setInput=Vn),Ia}function Ia(){const n=Pm(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===Da)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function Vn(n,e,t,i){const r=Pm(n)||function Ab(n,e){return n[Sh]=e}(n,{previous:Da,current:null}),a=r.current||(r.current={}),s=r.previous,o=this.declaredInputs[t],l=s[o];a[o]=new bb(l&&l.currentValue,e,s===Da),n[i]=e}rr.ngInherit=!0;const Sh="__ngSimpleChanges__";function Pm(n){return n[Sh]||null}const V="math";let Ie;function It(n){return!!n.listen}const wm={createRenderer:(n,e)=>function Ot(){return void 0!==Ie?Ie:"undefined"!=typeof document?document:void 0}()};function Rt(n){for(;Array.isArray(n);)n=n[0];return n}function Ks(n,e){return Rt(e[n])}function Ei(n,e){return Rt(e[n.index])}function wh(n,e){return n.data[e]}function xi(n,e){const t=e[n];return ln(t)?t:t[0]}function Tm(n){return 4==(4&n[2])}function Th(n){return 128==(128&n[2])}function Un(n,e){return null==e?null:n[e]}function Dr(n){n[18]=0}function Ra(n,e){n[5]+=e;let t=n,i=n[3];for(;null!==i&&(1===e&&1===t[5]||-1===e&&0===t[5]);)i[5]+=e,t=i,i=i[3]}const Re={lFrame:Ba(null),bindingsEnabled:!0};function Fa(){return Re.bindingsEnabled}function Q(){return Re.lFrame.lView}function et(){return Re.lFrame.tView}function ot(n){return Re.lFrame.contextLView=n,n[8]}function Nt(){let n=Uo();for(;null!==n&&64===n.type;)n=n.parent;return n}function Uo(){return Re.lFrame.currentTNode}function sr(n,e){const t=Re.lFrame;t.currentTNode=n,t.isParent=e}function bc(){return Re.lFrame.isParent}function _h(){Re.lFrame.isParent=!1}function Ni(){const n=Re.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function us(){return Re.lFrame.bindingIndex++}function un(n){const e=Re.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Wo(n,e){const t=Re.lFrame;t.bindingIndex=t.bindingRootIndex=n,Na(e)}function Na(n){Re.lFrame.currentDirectiveIndex=n}function xm(){return Re.lFrame.currentQueryIndex}function Eh(n){Re.lFrame.currentQueryIndex=n}function Tb(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function Dm(n,e,t){if(t&Le.SkipSelf){let r=e,a=n;for(;!(r=r.parent,null!==r||t&Le.Host||(r=Tb(a),null===r||(a=a[15],10&r.type))););if(null===r)return!1;e=r,n=a}const i=Re.lFrame=zo();return i.currentTNode=e,i.lView=n,!0}function kc(n){const e=zo(),t=n[1];Re.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function zo(){const n=Re.lFrame,e=null===n?null:n.child;return null===e?Ba(n):e}function Ba(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function xh(){const n=Re.lFrame;return Re.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const _=xh;function Lr(){const n=xh();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function we(){return Re.lFrame.selectedIndex}function ds(n){Re.lFrame.selectedIndex=n}function Ft(){const n=Re.lFrame;return wh(n.tView,n.selectedIndex)}function Dh(){Re.lFrame.currentNamespace="svg"}function Lh(){!function _b(){Re.lFrame.currentNamespace=null}()}function Pc(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const a=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:o,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=a;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),o&&((n.contentHooks||(n.contentHooks=[])).push(t,o),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,o)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=d&&(n.destroyHooks||(n.destroyHooks=[])).push(t,d)}}function Rn(n,e,t){Lm(n,e,3,t)}function wc(n,e,t,i){(3&n[2])===t&&Lm(n,e,t,i)}function Ih(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function Lm(n,e,t,i){const a=null!=i?i:-1,s=e.length-1;let o=0;for(let l=void 0!==i?65535&n[18]:0;l<s;l++)if("number"==typeof e[l+1]){if(o=e[l],null!=i&&o>=i)break}else e[l]<0&&(n[18]+=65536),(o<a||-1==a)&&(xb(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function xb(n,e,t,i){const r=t[i]<0,a=t[i+1],o=n[r?-t[i]:t[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{a.call(o)}finally{}}}else try{a.call(o)}finally{}}class hn{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Ki(n,e,t){const i=It(n);let r=0;for(;r<t.length;){const a=t[r];if("number"==typeof a){if(0!==a)break;r++;const s=t[r++],o=t[r++],l=t[r++];i?n.setAttribute(e,o,l,s):e.setAttributeNS(s,o,l)}else{const s=a,o=t[++r];Rh(s)?i&&n.setProperty(e,s,o):i?n.setAttribute(e,s,o):e.setAttribute(s,o),r++}}return r}function Im(n){return 3===n||4===n||6===n}function Rh(n){return 64===n.charCodeAt(0)}function Tc(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||Mm(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function Mm(n,e,t,i,r){let a=0,s=n.length;if(-1===e)s=-1;else for(;a<n.length;){const o=n[a++];if("number"==typeof o){if(o===e){s=-1;break}if(o>e){s=a-1;break}}}for(;a<n.length;){const o=n[a];if("number"==typeof o)break;if(o===t){if(null===i)return void(null!==r&&(n[a+1]=r));if(i===n[a+1])return void(n[a+2]=r)}a++,null!==i&&a++,null!==r&&a++}-1!==s&&(n.splice(s,0,e),a=s+1),n.splice(a++,0,t),null!==i&&n.splice(a++,0,i),null!==r&&n.splice(a++,0,r)}function Rm(n){return-1!==n}function ta(n){return 32767&n}function Oa(n,e){let t=function Fm(n){return n>>16}(n),i=e;for(;t>0;)i=i[15],t--;return i}let Fh=!0;function $a(n){const e=Fh;return Fh=n,e}let Bm=0;function dn(n,e){const t=Ir(n,e);if(-1!==t)return t;const i=e[1];i.firstCreatePass&&(n.injectorIndex=e.length,Qo(i.data,n),Qo(e,null),Qo(i.blueprint,null));const r=Bi(n,e),a=n.injectorIndex;if(Rm(r)){const s=ta(r),o=Oa(r,e),l=o[1].data;for(let c=0;c<8;c++)e[a+c]=o[s+c]|l[s+c]}return e[a+8]=r,a}function Qo(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Ir(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Bi(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){const a=r[1],s=a.type;if(i=2===s?a.declTNode:1===s?r[6]:null,null===i)return-1;if(t++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return-1}function Cc(n,e,t){!function Mb(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(No)&&(i=t[No]),null==i&&(i=t[No]=Bm++);const r=255&i;e.data[n+(r>>5)]|=1<<r}(n,e,t)}function Nh(n,e,t){if(t&Le.Optional)return n;uc(e,"NodeInjector")}function Ha(n,e,t,i){if(t&Le.Optional&&void 0===i&&(i=null),0==(t&(Le.Self|Le.Host))){const r=n[9],a=Er(void 0);try{return r?r.get(e,i,t&Le.Optional):gh(e,i,t&Le.Optional)}finally{Er(a)}}return Nh(i,e,t)}function Mr(n,e,t,i=Le.Default,r){if(null!==n){const a=function vi(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(No)?n[No]:void 0;return"number"==typeof e?e>=0?255&e:Rb:e}(t);if("function"==typeof a){if(!Dm(e,n,i))return i&Le.Host?Nh(r,t,i):Ha(e,t,i,r);try{const s=a(i);if(null!=s||i&Le.Optional)return s;uc(t)}finally{_()}}else if("number"==typeof a){let s=null,o=Ir(n,e),l=-1,c=i&Le.Host?e[16][6]:null;for((-1===o||i&Le.SkipSelf)&&(l=-1===o?Bi(n,e):e[o+8],-1!==l&&Oh(i,!1)?(s=e[1],o=ta(l),e=Oa(l,e)):o=-1);-1!==o;){const d=e[1];if(Dc(a,o,d.data)){const p=Ec(o,e,t,s,i,c);if(p!==Bh)return p}l=e[o+8],-1!==l&&Oh(i,e[1].data[o+8]===c)&&Dc(a,o,e)?(s=d,o=ta(l),e=Oa(l,e)):o=-1}}}return Ha(e,t,i,r)}const Bh={};function Rb(){return new Oi(Nt(),Q())}function Ec(n,e,t,i,r,a){const s=e[1],o=s.data[n+8],d=xc(o,s,t,null==i?$o(o)&&Fh:i!=s&&0!=(3&o.type),r&Le.Host&&a===o);return null!==d?Ga(e,s,d,o):Bh}function xc(n,e,t,i,r){const a=n.providerIndexes,s=e.data,o=1048575&a,l=n.directiveStart,d=a>>20,g=r?o+d:n.directiveEnd;for(let k=i?o:o+d;k<g;k++){const T=s[k];if(k<l&&t===T||k>=l&&T.type===t)return k}if(r){const k=s[l];if(k&&cn(k)&&k.type===t)return l}return null}function Ga(n,e,t,i){let r=n[t];const a=e.data;if(function Db(n){return n instanceof hn}(r)){const s=r;s.resolving&&function eb(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new pe(-200,`Circular dependency in DI detected for ${n}${t}`)}(Xt(a[t]));const o=$a(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Er(s.injectImpl):null;Dm(n,i,Le.Default);try{r=n[t]=s.factory(void 0,a,n,i),e.firstCreatePass&&t>=i.directiveStart&&function Eb(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:a}=e.type.prototype;if(i){const s=Sm(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}r&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,r),a&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,a),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,a))}(t,a[t],e)}finally{null!==l&&Er(l),$a(o),s.resolving=!1,_()}}return r}function Dc(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function Oh(n,e){return!(n&Le.Self||n&Le.Host&&e)}class Oi{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Mr(this._tNode,this._lView,e,i,t)}}function ci(n){return ns(()=>{const e=n.prototype.constructor,t=e[xr]||qa(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const a=r[xr]||qa(r);if(a&&a!==t)return a;r=Object.getPrototypeOf(r)}return a=>new a})}function qa(n){return im(n)?()=>{const e=qa(He(n));return e&&e()}:nr(n)}const Ut="__parameters__";function Va(n,e,t){return ns(()=>{const i=function $h(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...a){if(this instanceof r)return i.apply(this,a),this;const s=new r(...a);return o.annotation=s,o;function o(l,c,d){const p=l.hasOwnProperty(Ut)?l[Ut]:Object.defineProperty(l,Ut,{value:[]})[Ut];for(;p.length<=d;)p.push(null);return(p[d]=p[d]||[]).push(s),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class Ae{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=be({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Yi(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let i=n[t];Array.isArray(i)?(e===n&&(e=n.slice(0,t)),Yi(i,e)):e!==n&&e.push(i)}return e}function Wn(n,e){n.forEach(t=>Array.isArray(t)?Wn(t,e):e(t))}function Gh(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Zo(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function $i(n,e,t){let i=fs(n,e);return i>=0?n[1|i]=t:(i=~i,function Wm(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function Ic(n,e){const t=fs(n,e);if(t>=0)return n[1|t]}function fs(n,e){return function Mc(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const a=i+(r-i>>1),s=n[a<<t];if(e===s)return a<<t;s>e?r=a:i=a+1}return~(r<<t)}(n,e,1)}const ys={},Xo="__NG_DI_FLAG__",el="ngTempTokenPath",pn=/\n/gm,Rc="__source",Qm=ft({provide:String,useValue:ft});let bs;function Vh(n){const e=bs;return bs=n,e}function Uh(n,e=Le.Default){if(void 0===bs)throw new pe(203,"");return null===bs?gh(n,void 0,e):bs.get(n,e&Le.Optional?null:void 0,e)}function te(n,e=Le.Default){return(function ab(){return dc}()||Uh)(He(n),e)}const Nc=te;function or(n){const e=[];for(let t=0;t<n.length;t++){const i=He(n[t]);if(Array.isArray(i)){if(0===i.length)throw new pe(900,"");let r,a=Le.Default;for(let s=0;s<i.length;s++){const o=i[s],l=As(o);"number"==typeof l?-1===l?r=o.token:a|=l:r=o}e.push(te(r,a))}else e.push(te(i))}return e}function tl(n,e){return n[Xo]=e,n.prototype[Xo]=e,n}function As(n){return n[Xo]}const Bc=tl(Va("Optional"),8),Oc=tl(Va("SkipSelf"),4);var Zi=(()=>((Zi=Zi||{})[Zi.Important=1]="Important",Zi[Zi.DashCase=2]="DashCase",Zi))();const ol="__ngContext__";function bi(n,e){n[ol]=e}function Zh(n){const e=function na(n){return n[ol]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function cl(n,e){return undefined(n,e)}function cr(n){const e=n[3];return Ci(e)?e[3]:e}function dl(n){return cg(n[13])}function Br(n){return cg(n[4])}function cg(n){for(;null!==n&&!Ci(n);)n=n[4];return n}function ra(n,e,t,i,r){if(null!=i){let a,s=!1;Ci(i)?a=i:ln(i)&&(s=!0,i=i[0]);const o=Rt(i);0===n&&null!==t?null==r?mg(e,t,o):ks(e,t,o,r||null,!0):1===n&&null!==t?ks(e,t,o,r||null,!0):2===n?function zc(n,e,t){const i=Uc(n,e);i&&function Zb(n,e,t,i){It(n)?n.removeChild(e,t,i):e.removeChild(t)}(n,i,e,t)}(e,o,s):3===n&&e.destroyNode(o),null!=a&&function Xb(n,e,t,i,r){const a=t[7];a!==Rt(t)&&ra(e,n,i,a,r);for(let o=10;o<t.length;o++){const l=t[o];jn(l[1],l,n,e,i,a)}}(e,n,a,t,r)}}function Vc(n,e,t){if(It(n))return n.createElement(e,t);{const i=null!==t?function me(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":e===V?"http://www.w3.org/1998/MathML/":null}(t):null;return null===i?n.createElement(e):n.createElementNS(i,e)}}function Di(n,e){const t=n[9],i=t.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,Ra(r,-1)),t.splice(i,1)}function pl(n,e){if(n.length<=10)return;const t=10+e,i=n[t];if(i){const r=i[17];null!==r&&r!==n&&Di(r,i),e>0&&(n[t-1][4]=i[4]);const a=Zo(n,10+e);!function Wb(n,e){jn(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(i[1],i);const s=a[19];null!==s&&s.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function pg(n,e){if(!(256&e[2])){const t=e[11];It(t)&&t.destroyNode&&jn(n,e,t,3,null,null),function zb(n){let e=n[13];if(!e)return ml(n[1],n);for(;e;){let t=null;if(ln(e))t=e[13];else{const i=e[10];i&&(t=i)}if(!t){for(;e&&!e[4]&&e!==n;)ln(e)&&ml(e[1],e),e=e[3];null===e&&(e=n),ln(e)&&ml(e[1],e),t=e&&e[4]}e=t}}(e)}}function ml(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function Qb(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof hn)){const a=t[i+1];if(Array.isArray(a))for(let s=0;s<a.length;s+=2){const o=r[a[s]],l=a[s+1];try{l.call(o)}finally{}}else try{a.call(r)}finally{}}}}(n,e),function Yb(n,e){const t=n.cleanup,i=e[7];let r=-1;if(null!==t)for(let a=0;a<t.length-1;a+=2)if("string"==typeof t[a]){const s=t[a+1],o="function"==typeof s?s(e):Rt(e[s]),l=i[r=t[a+2]],c=t[a+3];"boolean"==typeof c?o.removeEventListener(t[a],l,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),a+=2}else{const s=i[r=t[a+1]];t[a].call(s)}if(null!==i){for(let a=r+1;a<i.length;a++)i[a]();e[7]=null}}(n,e),1===e[1].type&&It(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&Ci(e[3])){t!==e[3]&&Di(t,e);const i=e[19];null!==i&&i.detachView(n)}}}function Ka(n,e,t){return function ed(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===_i.None||r===_i.Emulated)return null}return Ei(i,t)}(n,e.parent,t)}function ks(n,e,t,i,r){It(n)?n.insertBefore(e,t,i,r):e.insertBefore(t,i,r)}function mg(n,e,t){It(n)?n.appendChild(e,t):e.appendChild(t)}function gg(n,e,t,i,r){null!==i?ks(n,e,t,i,r):mg(n,e,t)}function Uc(n,e){return It(n)?n.parentNode(e):e.parentNode}let Wc=function yg(n,e,t){return 40&n.type?Ei(n,t):null};function Qa(n,e,t,i){const r=Ka(n,i,e),a=e[11],o=function td(n,e,t){return Wc(n,e,t)}(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)gg(a,r,t[l],o,!1);else gg(a,r,t,o,!1)}function gl(n,e){if(null!==e){const t=e.type;if(3&t)return Ei(e,n);if(4&t)return Za(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return gl(n,i);{const r=n[e.index];return Ci(r)?Za(-1,r):Rt(r)}}if(32&t)return cl(e,n)()||Rt(n[e.index]);{const i=id(n,e);return null!==i?Array.isArray(i)?i[0]:gl(cr(n[16]),i):gl(n,e.next)}}return null}function id(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Za(n,e){const t=10+n+1;if(t<e.length){const i=e[t],r=i[1].firstChild;if(null!==r)return gl(i,r)}return e[7]}function Fn(n,e,t,i,r,a,s){for(;null!=t;){const o=i[t.index],l=t.type;if(s&&0===e&&(o&&bi(Rt(o),i),t.flags|=4),64!=(64&t.flags))if(8&l)Fn(n,e,t.child,i,r,a,!1),ra(e,n,r,o,a);else if(32&l){const c=cl(t,i);let d;for(;d=c();)ra(e,n,r,d,a);ra(e,n,r,o,a)}else 16&l?nd(n,e,i,t,r,a):ra(e,n,r,o,a);t=s?t.projectionNext:t.next}}function jn(n,e,t,i,r,a){Fn(t,i,n.firstChild,e,r,a,!1)}function nd(n,e,t,i,r,a){const s=t[16],l=s[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)ra(e,n,r,l[c],a);else Fn(n,e,l,s[3],r,a,!0)}function vg(n,e,t){It(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function rd(n,e,t){It(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}class kg{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ss(n){return n instanceof kg?n.changingThisBreaksApplicationSecurity:n}const hA=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,dA=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Wt=(()=>((Wt=Wt||{})[Wt.NONE=0]="NONE",Wt[Wt.HTML=1]="HTML",Wt[Wt.STYLE=2]="STYLE",Wt[Wt.SCRIPT=3]="SCRIPT",Wt[Wt.URL=4]="URL",Wt[Wt.RESOURCE_URL=5]="RESOURCE_URL",Wt))();function $r(n){const e=function Al(){const n=Q();return n&&n[12]}();return e?e.sanitize(Wt.URL,n)||"":function yl(n,e){const t=function Nn(n){return n instanceof kg&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}(n,"URL")?Ss(n):function Qc(n){return(n=String(n)).match(hA)||n.match(dA)?n:"unsafe:"+n}(Be(n))}function md(n){return n.ngOriginalError}function _A(n,...e){n.error(...e)}class kl{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),i=function TA(n){return n&&n.ngErrorLogger||_A}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&md(e);for(;t&&md(t);)t=md(t);return t||null}}const LA=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(pt))();function hr(n){return n instanceof Function?n():n}function Fg(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const a=e.length;if(r+a===i||n.charCodeAt(r+a)<=32)return r}t=r+1}}const Ng="ng-template";function Xc(n,e,t){let i=0;for(;i<n.length;){let r=n[i++];if(t&&"class"===r){if(r=n[i],-1!==Fg(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function Bg(n){return 4===n.type&&n.value!==Ng}function Og(n,e,t){return e===(4!==n.type||t?n.value:Ng)}function $g(n,e,t){let i=4;const r=n.attrs||[],a=function qg(n){for(let e=0;e<n.length;e++)if(Im(n[e]))return e;return n.length}(r);let s=!1;for(let o=0;o<e.length;o++){const l=e[o];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!Og(n,l,t)||""===l&&1===e.length){if(mn(i))return!1;s=!0}}else{const c=8&i?l:e[++o];if(8&i&&null!==n.attrs){if(!Xc(n.attrs,c,t)){if(mn(i))return!1;s=!0}continue}const p=Hg(8&i?"class":l,r,Bg(n),t);if(-1===p){if(mn(i))return!1;s=!0;continue}if(""!==c){let g;g=p>a?"":r[p+1].toLowerCase();const k=8&i?g:null;if(k&&-1!==Fg(k,c,0)||2&i&&c!==g){if(mn(i))return!1;s=!0}}}}else{if(!s&&!mn(i)&&!mn(l))return!1;if(s&&mn(l))continue;s=!1,i=l|1&i}}return mn(i)||s}function mn(n){return 0==(1&n)}function Hg(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let a=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)a=!0;else{if(1===s||2===s){let o=e[++r];for(;"string"==typeof o;)o=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=a?1:2}return-1}return function RA(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function gd(n,e,t=!1){for(let i=0;i<e.length;i++)if($g(n,e[i],t))return!0;return!1}function Vg(n,e){return n?":not("+e.trim()+")":e}function eu(n){let e=n[0],t=1,i=2,r="",a=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const o=n[++t];r+="["+s+(o.length>0?'="'+o+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!mn(s)&&(e+=Vg(a,r),r=""),i=s,a=a||!mn(i);t++}return""!==r&&(e+=Vg(a,r)),e}const Oe={};function N(n){fd(et(),Q(),we()+n,!1)}function fd(n,e,t,i){if(!i)if(3==(3&e[2])){const a=n.preOrderCheckHooks;null!==a&&Rn(e,a,t)}else{const a=n.preOrderHooks;null!==a&&wc(e,a,0,t)}ds(t)}function iu(n,e){return n<<17|e<<2}function zn(n){return n>>17&32767}function yd(n){return 2|n}function Hr(n){return(131068&n)>>2}function vd(n,e){return-131069&n|e<<2}function bd(n){return 1|n}function wd(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const r=t[i],a=t[i+1];if(-1!==a){const s=n.data[a];Eh(r),s.contentQueries(2,e[a],a)}}}function eo(n,e,t,i,r,a,s,o,l,c){const d=e.blueprint.slice();return d[0]=r,d[2]=140|i,Dr(d),d[3]=d[15]=n,d[8]=t,d[10]=s||n&&n[10],d[11]=o||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=a,d[16]=2==e.type?n[16]:d,d}function Ai(n,e,t,i,r){let a=n.data[e];if(null===a)a=function lu(n,e,t,i,r){const a=Uo(),s=bc(),l=n.data[e]=function WA(n,e,t,i,r,a){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?a:a&&a.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==a&&(s?null==a.child&&null!==l.parent&&(a.child=l):null===a.next&&(a.next=l)),l}(n,e,t,i,r),function Ch(){return Re.lFrame.inI18n}()&&(a.flags|=64);else if(64&a.type){a.type=t,a.value=i,a.attrs=r;const s=function Zs(){const n=Re.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();a.injectorIndex=null===s?-1:s.injectorIndex}return sr(a,!0),a}function to(n,e,t,i){if(0===t)return-1;const r=e.length;for(let a=0;a<t;a++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function tt(n,e,t){kc(e);try{const i=n.viewQuery;null!==i&&Nd(1,i,t);const r=n.template;null!==r&&Pl(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&wd(n,e),n.staticViewQueries&&Nd(2,n.viewQuery,t);const a=n.components;null!==a&&function Ge(n,e){for(let t=0;t<e.length;t++)pf(n,e[t])}(e,a)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[2]&=-5,Lr()}}function io(n,e,t,i){const r=e[2];if(256!=(256&r)){kc(e);try{Dr(e),function Em(n){return Re.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&Pl(n,e,t,2,i);const s=3==(3&r);if(s){const c=n.preOrderCheckHooks;null!==c&&Rn(e,c,null)}else{const c=n.preOrderHooks;null!==c&&wc(e,c,0,null),Ih(e,0)}if(function ik(n){for(let e=dl(n);null!==e;e=Br(e)){if(!e[2])continue;const t=e[9];for(let i=0;i<t.length;i++){const r=t[i],a=r[3];0==(1024&r[2])&&Ra(a,1),r[2]|=1024}}}(e),function tk(n){for(let e=dl(n);null!==e;e=Br(e))for(let t=10;t<e.length;t++){const i=e[t],r=i[1];Th(i)&&io(r,i,r.template,i[8])}}(e),null!==n.contentQueries&&wd(n,e),s){const c=n.contentCheckHooks;null!==c&&Rn(e,c)}else{const c=n.contentHooks;null!==c&&wc(e,c,1),Ih(e,1)}!function VA(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)ds(~r);else{const a=r,s=t[++i],o=t[++i];Wo(s,a),o(2,e[a])}}}finally{ds(-1)}}(n,e);const o=n.components;null!==o&&function Ur(n,e){for(let t=0;t<e.length;t++)nk(n,e[t])}(e,o);const l=n.viewQuery;if(null!==l&&Nd(2,l,i),s){const c=n.viewCheckHooks;null!==c&&Rn(e,c)}else{const c=n.viewHooks;null!==c&&wc(e,c,2),Ih(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-73,1024&e[2]&&(e[2]&=-1025,Ra(e[3],-1))}finally{Lr()}}}function Jg(n,e,t,i){const r=e[10],s=Tm(e);try{!s&&r.begin&&r.begin(),s&&tt(n,e,i),io(n,e,t,i)}finally{!s&&r.end&&r.end()}}function Pl(n,e,t,i,r){const a=we(),s=2&i;try{ds(-1),s&&e.length>20&&fd(n,e,20,!1),t(i,r)}finally{ds(a)}}function Xg(n,e,t){if(vh(e)){const r=e.directiveEnd;for(let a=e.directiveStart;a<r;a++){const s=n.data[a];s.contentQueries&&s.contentQueries(1,t[a],a)}}}function Td(n,e,t){!Fa()||(function YA(n,e,t,i){const r=t.directiveStart,a=t.directiveEnd;n.firstCreatePass||dn(t,e),bi(i,e);const s=t.initialInputs;for(let o=r;o<a;o++){const l=n.data[o],c=cn(l);c&&XA(e,t,l);const d=Ga(e,n,o,t);bi(d,e),null!==s&&ek(0,o-r,d,l,0,s),c&&(xi(t.index,e)[8]=d)}}(n,e,t,Ei(t,e)),128==(128&t.flags)&&function QA(n,e,t){const i=t.directiveStart,r=t.directiveEnd,s=t.index,o=function jo(){return Re.lFrame.currentDirectiveIndex}();try{ds(s);for(let l=i;l<r;l++){const c=n.data[l],d=e[l];Na(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&cf(c,d)}}finally{ds(-1),Na(o)}}(n,e,t))}function _d(n,e,t=Ei){const i=e.localNames;if(null!==i){let r=e.index+1;for(let a=0;a<i.length;a+=2){const s=i[a+1],o=-1===s?t(e,n):n[s];n[r++]=o}}}function ef(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=cu(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function cu(n,e,t,i,r,a,s,o,l,c){const d=20+i,p=d+r,g=function UA(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:Oe);return t}(d,p),k="function"==typeof c?c():c;return g[1]={type:n,blueprint:g,template:t,queries:null,viewQuery:o,declTNode:e,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:k,incompleteFirstPass:!1}}function rf(n,e,t,i){const r=gf(e);null===t?r.push(i):(r.push(t),n.firstCreatePass&&ff(n).push(i,r.length-1))}function sf(n,e,t){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(t=null===t?{}:t).hasOwnProperty(i)?t[i].push(e,r):t[i]=[e,r]}return t}function fn(n,e,t,i,r,a,s,o){const l=Ei(e,t);let d,c=e.inputs;!o&&null!=c&&(d=c[i])?(bf(n,t,d,i,r),$o(e)&&function Ed(n,e){const t=xi(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(i=function Cd(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,It(a)?a.setProperty(l,i,r):Rh(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function xd(n,e,t,i){let r=!1;if(Fa()){const a=function uf(n,e,t){const i=n.directiveRegistry;let r=null;if(i)for(let a=0;a<i.length;a++){const s=i[a];gd(t,s.selectors,!1)&&(r||(r=[]),Cc(dn(t,e),n,s.type),cn(s)?(hf(n,t),r.unshift(s)):r.push(s))}return r}(n,e,t),s=null===i?null:{"":-1};if(null!==a){r=!0,Dd(t,n.data.length,a.length);for(let d=0;d<a.length;d++){const p=a[d];p.providersResolver&&p.providersResolver(p)}let o=!1,l=!1,c=to(n,e,a.length,null);for(let d=0;d<a.length;d++){const p=a[d];t.mergedAttrs=Tc(t.mergedAttrs,p.hostAttrs),Ld(n,t,e,c,p),JA(c,p,s),null!==p.contentQueries&&(t.flags|=8),(null!==p.hostBindings||null!==p.hostAttrs||0!==p.hostVars)&&(t.flags|=128);const g=p.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),o=!0),!l&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}!function jA(n,e){const i=e.directiveEnd,r=n.data,a=e.attrs,s=[];let o=null,l=null;for(let c=e.directiveStart;c<i;c++){const d=r[c],p=d.inputs,g=null===a||Bg(e)?null:no(p,a);s.push(g),o=sf(p,c,o),l=sf(d.outputs,c,l)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=l}(n,t)}s&&function ZA(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const a=t[e[r+1]];if(null==a)throw new pe(-301,!1);i.push(e[r],a)}}}(t,i,s)}return t.mergedAttrs=Tc(t.mergedAttrs,t.attrs),r}function af(n,e,t,i,r,a){const s=a.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const l=~e.index;(function lf(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=l&&o.push(l),o.push(i,r,s)}}function cf(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function hf(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function JA(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;cn(e)&&(t[""]=n)}}function Dd(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Ld(n,e,t,i,r){n.data[i]=r;const a=r.factory||(r.factory=nr(r.type)),s=new hn(a,cn(r),null);n.blueprint[i]=s,t[i]=s,af(n,e,0,i,to(n,t,r.hostVars,Oe),r)}function XA(n,e,t){const i=Ei(e,n),r=ef(t),a=n[10],s=hu(n,eo(n,r,null,t.onPush?64:16,i,e,a,a.createRenderer(i,t),null,null));n[e.index]=s}function pr(n,e,t,i,r,a){const s=Ei(n,e);!function Id(n,e,t,i,r,a,s){if(null==a)It(n)?n.removeAttribute(e,r,t):e.removeAttribute(r);else{const o=null==s?Be(a):s(a,i||"",r);It(n)?n.setAttribute(e,r,o,t):t?e.setAttributeNS(t,r,o):e.setAttribute(r,o)}}(e[11],s,a,n.value,t,i,r)}function ek(n,e,t,i,r,a){const s=a[e];if(null!==s){const o=i.setInput;for(let l=0;l<s.length;){const c=s[l++],d=s[l++],p=s[l++];null!==o?i.setInput(t,p,c,d):t[d]=p}}}function no(n,e){let t=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===t&&(t=[]),t.push(r,n[r],e[i+1])),i+=2}else i+=2;else i+=4}return t}function df(n,e,t,i){return new Array(n,!0,!1,e,null,0,i,t,null,null)}function nk(n,e){const t=xi(e,n);if(Th(t)){const i=t[1];80&t[2]?io(i,t,i.template,t[8]):t[5]>0&&uu(t)}}function uu(n){for(let i=dl(n);null!==i;i=Br(i))for(let r=10;r<i.length;r++){const a=i[r];if(1024&a[2]){const s=a[1];io(s,a,s.template,a[8])}else a[5]>0&&uu(a)}const t=n[1].components;if(null!==t)for(let i=0;i<t.length;i++){const r=xi(t[i],n);Th(r)&&r[5]>0&&uu(r)}}function pf(n,e){const t=xi(e,n),i=t[1];(function rk(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),tt(i,t,t[8])}function hu(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function Md(n){for(;n;){n[2]|=64;const e=cr(n);if(bh(n)&&!e)return n;n=e}return null}function mf(n){!function Rd(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],i=Zh(t),r=i[1];Jg(r,i,r.template,t)}}(n[8])}function Nd(n,e,t){Eh(0),e(n,t)}const ak=(()=>Promise.resolve(null))();function gf(n){return n[7]||(n[7]=[])}function ff(n){return n.cleanup||(n.cleanup=[])}function vf(n,e){const t=n[9],i=t?t.get(kl,null):null;i&&i.handleError(e)}function bf(n,e,t,i,r){for(let a=0;a<t.length;){const s=t[a++],o=t[a++],l=e[s],c=n.data[s];null!==c.setInput?c.setInput(l,r,i,o):l[o]=r}}function Wr(n,e,t){const i=Ks(e,n);!function hg(n,e,t){It(n)?n.setValue(e,t):e.textContent=t}(n[11],i,t)}function du(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,a=0;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?a=o:1==a?r=dh(r,o):2==a&&(i=dh(i,o+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}const Bd=new Ae("INJECTOR",-1);class Af{get(e,t=ys){if(t===ys){const i=new Error(`NullInjectorError: No provider for ${ht(e)}!`);throw i.name="NullInjectorError",i}return t}}const Od=new Ae("Set Injector scope."),oa={},kf={};let pu;function Sf(){return void 0===pu&&(pu=new Af),pu}function Pf(n,e=null,t=null,i){const r=wf(n,e,t,i);return r._resolveInjectorDefTypes(),r}function wf(n,e=null,t=null,i){return new $d(n,t,e||Sf(),i)}class $d{constructor(e,t,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const a=[];t&&Wn(t,o=>this.processProvider(o,e,t)),Wn([e],o=>this.processInjectorType(o,[],a)),this.records.set(Bd,Ts(void 0,this));const s=this.records.get(Od);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof e?null:ht(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=ys,i=Le.Default){this.assertNotDestroyed();const r=Vh(this),a=Er(void 0);try{if(!(i&Le.SkipSelf)){let o=this.records.get(e);if(void 0===o){const l=function mk(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ae}(e)&&ph(e);o=l&&this.injectableDefInScope(l)?Ts(Hd(e),oa):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(i&Le.Self?Sf():this.parent).get(e,t=i&Le.Optional&&t===ys?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[el]=s[el]||[]).unshift(ht(e)),r)throw s;return function Zm(n,e,t,i){const r=n[el];throw e[Rc]&&r.unshift(e[Rc]),n.message=function Jm(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=ht(e);if(Array.isArray(e))r=e.map(ht).join(" -> ");else if("object"==typeof e){let a=[];for(let s in e)if(e.hasOwnProperty(s)){let o=e[s];a.push(s+":"+("string"==typeof o?JSON.stringify(o):ht(o)))}r=`{${a.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(pn,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[el]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{Er(a),Vh(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((i,r)=>e.push(ht(r))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,!1)}processInjectorType(e,t,i){if(!(e=He(e)))return!1;let r=mh(e);const a=null==r&&e.ngModule||void 0,s=void 0===a?e:a,o=-1!==i.indexOf(s);if(void 0!==a&&(r=mh(a)),null==r)return!1;if(null!=r.imports&&!o){let d;i.push(s);try{Wn(r.imports,p=>{this.processInjectorType(p,t,i)&&(void 0===d&&(d=[]),d.push(p))})}finally{}if(void 0!==d)for(let p=0;p<d.length;p++){const{ngModule:g,providers:k}=d[p];Wn(k,T=>this.processProvider(T,g,k||vt))}}this.injectorDefTypes.add(s);const l=nr(s)||(()=>new s);this.records.set(s,Ts(l,oa));const c=r.providers;if(null!=c&&!o){const d=e;Wn(c,p=>this.processProvider(p,d,c))}return void 0!==a&&void 0!==e.providers}processProvider(e,t,i){let r=ro(e=He(e))?e:He(e&&e.provide);const a=function uk(n,e,t){return Tf(n)?Ts(void 0,n.useValue):Ts(qi(n),oa)}(e);if(ro(e)||!0!==e.multi)this.records.get(r);else{let s=this.records.get(r);s||(s=Ts(void 0,oa,!0),s.factory=()=>or(s.multi),this.records.set(r,s)),r=e,s.multi.push(e)}this.records.set(r,a)}hydrate(e,t){return t.value===oa&&(t.value=kf,t.value=t.factory()),"object"==typeof t.value&&t.value&&function qd(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=He(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Hd(n){const e=ph(n),t=null!==e?e.factory:nr(n);if(null!==t)return t;if(n instanceof Ae)throw new pe(204,!1);if(n instanceof Function)return function ck(n){const e=n.length;if(e>0)throw function gs(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}(e,"?"),new pe(204,!1);const t=function sb(n){const e=n&&(n[Ro]||n[sm]);if(e){const t=function rm(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new pe(204,!1)}function qi(n,e,t){let i;if(ro(n)){const r=He(n);return nr(r)||Hd(r)}if(Tf(n))i=()=>He(n.useValue);else if(function dk(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...or(n.deps||[]));else if(function hk(n){return!(!n||!n.useExisting)}(n))i=()=>te(He(n.useExisting));else{const r=He(n&&(n.useClass||n.provide));if(!function pk(n){return!!n.deps}(n))return nr(r)||Hd(r);i=()=>new r(...or(n.deps))}return i}function Ts(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Tf(n){return null!==n&&"object"==typeof n&&Qm in n}function ro(n){return"function"==typeof n}let vn=(()=>{class n{static create(t,i){var r;if(Array.isArray(t))return Pf({name:""},i,t,"");{const a=null!==(r=t.name)&&void 0!==r?r:"";return Pf({name:a},t.parent,t.providers,a)}}}return n.THROW_IF_NOT_FOUND=ys,n.NULL=new Af,n.\u0275prov=be({token:n,providedIn:"any",factory:()=>te(Bd)}),n.__NG_ELEMENT_ID__=-1,n})();function Ak(n,e){Pc(Zh(n)[1],Nt())}function h(n){let e=function u(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(cn(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new pe(903,"");r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=f(n.inputs),s.declaredInputs=f(n.declaredInputs),s.outputs=f(n.outputs);const o=r.hostBindings;o&&D(n,o);const l=r.viewQuery,c=r.contentQueries;if(l&&w(n,l),c&&C(n,c),cc(n.inputs,r.inputs),cc(n.declaredInputs,r.declaredInputs),cc(n.outputs,r.outputs),cn(r)&&r.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}const a=r.features;if(a)for(let s=0;s<a.length;s++){const o=a[s];o&&o.ngInherit&&o(n),o===h&&(t=!1)}}e=Object.getPrototypeOf(e)}!function m(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Tc(r.hostAttrs,t=Tc(t,r.hostAttrs))}}(i)}function f(n){return n===Da?{}:n===vt?[]:n}function w(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function C(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,a)=>{e(i,r,a),t(i,r,a)}:e}function D(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}let j=null;function K(){if(!j){const n=pt.Symbol;if(n&&n.iterator)j=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(j=i)}}}return j}function fe(n){return!!Se(n)&&(Array.isArray(n)||!(n instanceof Map)&&K()in n)}function Se(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Me(n,e,t){return n[e]=t}function yt(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Gt(n,e,t,i){const r=yt(n,e,t);return yt(n,e+1,i)||r}function jt(n,e,t,i){const r=Q();return yt(r,us(),e)&&(et(),pr(Ft(),r,n,e,t,i)),jt}function la(n,e,t,i){return yt(n,us(),t)?e+Be(t)+i:Oe}function mu(n,e,t,i,r,a){const o=Gt(n,function ar(){return Re.lFrame.bindingIndex}(),t,r);return un(2),o?e+Be(t)+i+Be(r)+a:Oe}function he(n,e,t,i,r,a,s,o){const l=Q(),c=et(),d=n+20,p=c.firstCreatePass?function KH(n,e,t,i,r,a,s,o,l){const c=e.consts,d=Ai(e,n,4,s||null,Un(c,o));xd(e,t,d,Un(c,l)),Pc(e,d);const p=d.tViews=cu(2,d,i,r,a,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,d),p.queries=e.queries.embeddedTView(d)),d}(d,c,l,e,t,i,r,a,s):c.data[d];sr(p,!1);const g=l[11].createComment("");Qa(c,l,g,p),bi(g,l),hu(l,l[d]=df(g,l,g,p)),Ho(p)&&Td(c,l,p),null!=s&&_d(l,p,o)}function U(n,e=Le.Default){const t=Q();return null===t?te(n,e):Mr(Nt(),t,He(n),e)}function $(n,e,t){const i=Q();return yt(i,us(),e)&&fn(et(),Ft(),i,n,e,i[11],t,!1),$}function Tk(n,e,t,i,r){const s=r?"class":"style";bf(n,t,e.inputs[s],s,i)}function b(n,e,t,i){const r=Q(),a=et(),s=20+n,o=r[11],l=r[s]=Vc(o,e,function Cb(){return Re.lFrame.currentNamespace}()),c=a.firstCreatePass?function yG(n,e,t,i,r,a,s){const o=e.consts,c=Ai(e,n,2,r,Un(o,a));return xd(e,t,c,Un(o,s)),null!==c.attrs&&du(c,c.attrs,!1),null!==c.mergedAttrs&&du(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,a,r,0,e,t,i):a.data[s];sr(c,!0);const d=c.mergedAttrs;null!==d&&Ki(o,l,d);const p=c.classes;null!==p&&rd(o,l,p);const g=c.styles;return null!==g&&vg(o,l,g),64!=(64&c.flags)&&Qa(a,r,l,c),0===function _m(){return Re.lFrame.elementDepthCount}()&&bi(l,r),function yc(){Re.lFrame.elementDepthCount++}(),Ho(c)&&(Td(a,r,c),Xg(a,c,r)),null!==i&&_d(r,c),b}function v(){let n=Nt();bc()?_h():(n=n.parent,sr(n,!1));const e=n;!function Cm(){Re.lFrame.elementDepthCount--}();const t=et();return t.firstCreatePass&&(Pc(t,n),vh(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Ib(n){return 0!=(16&n.flags)}(e)&&Tk(t,e,Q(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function ea(n){return 0!=(32&n.flags)}(e)&&Tk(t,e,Q(),e.stylesWithoutHost,!1),v}function ne(n,e,t,i){return b(n,e,t,i),v(),ne}function wl(n,e,t){const i=Q(),r=et(),a=n+20,s=r.firstCreatePass?function vG(n,e,t,i,r){const a=e.consts,s=Un(a,i),o=Ai(e,n,8,"ng-container",s);return null!==s&&du(o,s,!0),xd(e,t,o,Un(a,r)),null!==e.queries&&e.queries.elementStart(e,o),o}(a,r,i,e,t):r.data[a];sr(s,!0);const o=i[a]=i[11].createComment("");return Qa(r,i,o,s),bi(o,i),Ho(s)&&(Td(r,i,s),Xg(r,s,i)),null!=t&&_d(i,s),wl}function Tl(){let n=Nt();const e=et();return bc()?_h():(n=n.parent,sr(n,!1)),e.firstCreatePass&&(Pc(e,n),vh(n)&&e.queries.elementEnd(n)),Tl}function mr(){return Q()}function Bf(n){return!!n&&"function"==typeof n.then}const WM=function UM(n){return!!n&&"function"==typeof n.subscribe};function Ee(n,e,t,i){const r=Q(),a=et(),s=Nt();return function zM(n,e,t,i,r,a,s,o){const l=Ho(i),d=n.firstCreatePass&&ff(n),p=e[8],g=gf(e);let k=!0;if(3&i.type||o){const L=Ei(i,e),R=o?o(L):L,x=g.length,G=o?O=>o(Rt(O[i.index])):i.index;if(It(t)){let O=null;if(!o&&l&&(O=function bG(n,e,t,i){const r=n.cleanup;if(null!=r)for(let a=0;a<r.length-1;a+=2){const s=r[a];if(s===t&&r[a+1]===i){const o=e[7],l=r[a+2];return o.length>l?o[l]:null}"string"==typeof s&&(a+=2)}return null}(n,e,r,i.index)),null!==O)(O.__ngLastListenerFn__||O).__ngNextListenerFn__=a,O.__ngLastListenerFn__=a,k=!1;else{a=_k(i,e,p,a,!1);const q=t.listen(R,r,a);g.push(a,q),d&&d.push(r,G,x,x+1)}}else a=_k(i,e,p,a,!0),R.addEventListener(r,a,s),g.push(a),d&&d.push(r,G,x,s)}else a=_k(i,e,p,a,!1);const T=i.outputs;let E;if(k&&null!==T&&(E=T[r])){const L=E.length;if(L)for(let R=0;R<L;R+=2){const W=e[E[R]][E[R+1]].subscribe(a),ee=g.length;g.push(a,W),d&&d.push(r,i.index,ee,-(ee+1))}}}(a,r,r[11],s,n,e,!!t,i),Ee}function KM(n,e,t,i){try{return!1!==t(i)}catch(r){return vf(n,r),!1}}function _k(n,e,t,i,r){return function a(s){if(s===Function)return i;const o=2&n.flags?xi(n.index,e):e;0==(32&e[2])&&Md(o);let l=KM(e,0,i,s),c=a.__ngNextListenerFn__;for(;c;)l=KM(e,0,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function ye(n=1){return function Sc(n){return(Re.lFrame.contextLView=function Mn(n,e){for(;n>0;)e=e[15],n--;return e}(n,Re.lFrame.contextLView))[8]}(n)}function Kd(n,e,t,i,r){const a=Q(),s=la(a,e,t,i);return s!==Oe&&fn(et(),Ft(),a,n,s,a[11],r,!1),Kd}function rR(n,e,t,i,r){const a=n[t+1],s=null===e;let o=i?zn(a):Hr(a),l=!1;for(;0!==o&&(!1===l||s);){const d=n[o+1];TG(n[o],e)&&(l=!0,n[o+1]=i?bd(d):yd(d)),o=i?zn(d):Hr(d)}l&&(n[t+1]=i?yd(a):bd(a))}function TG(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&fs(n,e)>=0}const ki={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function sR(n){return n.substring(ki.key,ki.keyEnd)}function aR(n,e){const t=ki.textEnd;return t===e?-1:(e=ki.keyEnd=function xG(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,ki.key=e,t),Su(n,e,t))}function Su(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Yd(n,e,t){return jr(n,e,t,!1),Yd}function so(n,e){return jr(n,e,null,!0),so}function gr(n){!function zr(n,e,t,i){const r=et(),a=un(2);r.firstUpdatePass&&dR(r,null,a,i);const s=Q();if(t!==Oe&&yt(s,a,t)){const o=r.data[we()];if(fR(o,i)&&!hR(r,a)){let l=i?o.classesWithoutHost:o.stylesWithoutHost;null!==l&&(t=dh(l,t||"")),Tk(r,o,s,t,i)}else!function OG(n,e,t,i,r,a,s,o){r===Oe&&(r=vt);let l=0,c=0,d=0<r.length?r[0]:null,p=0<a.length?a[0]:null;for(;null!==d||null!==p;){const g=l<r.length?r[l+1]:void 0,k=c<a.length?a[c+1]:void 0;let E,T=null;d===p?(l+=2,c+=2,g!==k&&(T=p,E=k)):null===p||null!==d&&d<p?(l+=2,T=d):(c+=2,T=p,E=k),null!==T&&mR(n,e,t,i,T,E,s,o),d=l<r.length?r[l]:null,p=c<a.length?a[c]:null}}(r,o,s,s[11],s[a+1],s[a+1]=function BG(n,e,t){if(null==t||""===t)return vt;const i=[],r=Ss(t);if(Array.isArray(r))for(let a=0;a<r.length;a++)n(i,r[a],!0);else if("object"==typeof r)for(const a in r)r.hasOwnProperty(a)&&n(i,a,r[a]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,a)}}($i,Cs,n,!0)}function Cs(n,e){for(let t=function CG(n){return function lR(n){ki.key=0,ki.keyEnd=0,ki.value=0,ki.valueEnd=0,ki.textEnd=n.length}(n),aR(n,Su(n,0,ki.textEnd))}(e);t>=0;t=aR(e,t))$i(n,sR(e),!0)}function jr(n,e,t,i){const r=Q(),a=et(),s=un(2);a.firstUpdatePass&&dR(a,n,s,i),e!==Oe&&yt(r,s,e)&&mR(a,a.data[we()],r,r[11],n,r[s+1]=function $G(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ht(Ss(n)))),n}(e,t),i,s)}function hR(n,e){return e>=n.expandoStartIndex}function dR(n,e,t,i){const r=n.data;if(null===r[t+1]){const a=r[we()],s=hR(n,t);fR(a,i)&&null===e&&!s&&(e=!1),e=function MG(n,e,t,i){const r=function hs(n){const e=Re.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let a=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=Qd(t=Ck(null,n,e,t,i),e.attrs,i),a=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=Ck(r,n,e,t,i),null===a){let l=function RG(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Hr(i))return n[zn(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=Ck(null,n,e,l[1],i),l=Qd(l,e.attrs,i),function FG(n,e,t,i){n[zn(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else a=function NG(n,e,t){let i;const r=e.directiveEnd;for(let a=1+e.directiveStylingLast;a<r;a++)i=Qd(i,n[a].hostAttrs,t);return Qd(i,e.attrs,t)}(n,e,i)}return void 0!==a&&(i?e.residualClasses=a:e.residualStyles=a),t}(r,a,e,i),function PG(n,e,t,i,r,a){let s=a?e.classBindings:e.styleBindings,o=zn(s),l=Hr(s);n[i]=t;let d,c=!1;if(Array.isArray(t)){const p=t;d=p[1],(null===d||fs(p,d)>0)&&(c=!0)}else d=t;if(r)if(0!==l){const g=zn(n[o+1]);n[i+1]=iu(g,o),0!==g&&(n[g+1]=vd(n[g+1],i)),n[o+1]=function BA(n,e){return 131071&n|e<<17}(n[o+1],i)}else n[i+1]=iu(o,0),0!==o&&(n[o+1]=vd(n[o+1],i)),o=i;else n[i+1]=iu(l,0),0===o?o=i:n[l+1]=vd(n[l+1],i),l=i;c&&(n[i+1]=yd(n[i+1])),rR(n,d,i,!0),rR(n,d,i,!1),function wG(n,e,t,i,r){const a=r?n.residualClasses:n.residualStyles;null!=a&&"string"==typeof e&&fs(a,e)>=0&&(t[i+1]=bd(t[i+1]))}(e,d,n,i,a),s=iu(o,l),a?e.classBindings=s:e.styleBindings=s}(r,a,e,t,s,i)}}function Ck(n,e,t,i,r){let a=null;const s=t.directiveEnd;let o=t.directiveStylingLast;for(-1===o?o=t.directiveStart:o++;o<s&&(a=e[o],i=Qd(i,a.hostAttrs,r),a!==n);)o++;return null!==n&&(t.directiveStylingLast=o),i}function Qd(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let a=0;a<e.length;a++){const s=e[a];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),$i(n,s,!!t||e[++a]))}return void 0===n?null:n}function mR(n,e,t,i,r,a,s,o){if(!(3&e.type))return;const l=n.data,c=l[o+1];Of(function jg(n){return 1==(1&n)}(c)?gR(l,e,t,r,Hr(c),s):void 0)||(Of(a)||function Wg(n){return 2==(2&n)}(c)&&(a=gR(l,null,t,r,o,s)),function eA(n,e,t,i,r){const a=It(n);if(e)r?a?n.addClass(t,i):t.classList.add(i):a?n.removeClass(t,i):t.classList.remove(i);else{let s=-1===i.indexOf("-")?void 0:Zi.DashCase;if(null==r)a?n.removeStyle(t,i,s):t.style.removeProperty(i);else{const o="string"==typeof r&&r.endsWith("!important");o&&(r=r.slice(0,-10),s|=Zi.Important),a?n.setStyle(t,i,r,s):t.style.setProperty(i,r,o?"important":"")}}}(i,s,Ks(we(),t),r,a))}function gR(n,e,t,i,r,a){const s=null===e;let o;for(;r>0;){const l=n[r],c=Array.isArray(l),d=c?l[1]:l,p=null===d;let g=t[r+1];g===Oe&&(g=p?vt:void 0);let k=p?Ic(g,i):d===i?g:void 0;if(c&&!Of(k)&&(k=Ic(l,i)),Of(k)&&(o=k,s))return o;const T=n[r+1];r=s?zn(T):Hr(T)}if(null!==e){let l=a?e.residualClasses:e.residualStyles;null!=l&&(o=Ic(l,i))}return o}function Of(n){return void 0!==n}function fR(n,e){return 0!=(n.flags&(e?16:32))}function P(n,e=""){const t=Q(),i=et(),r=n+20,a=i.firstCreatePass?Ai(i,r,1,e,null):i.data[r],s=t[r]=function hi(n,e){return It(n)?n.createText(e):n.createTextNode(e)}(t[11],e);Qa(i,t,s,a),sr(a,!1)}function Si(n){return qt("",n,""),Si}function qt(n,e,t){const i=Q(),r=la(i,n,e,t);return r!==Oe&&Wr(i,we(),r),qt}function Zd(n,e,t,i,r){const a=Q(),s=mu(a,n,e,t,i,r);return s!==Oe&&Wr(a,we(),s),Zd}const $f="en-US";let BR=$f;function Dk(n,e,t,i,r){if(n=He(n),Array.isArray(n))for(let a=0;a<n.length;a++)Dk(n[a],e,t,i,r);else{const a=et(),s=Q();let o=ro(n)?n:He(n.provide),l=qi(n);const c=Nt(),d=1048575&c.providerIndexes,p=c.directiveStart,g=c.providerIndexes>>20;if(ro(n)||!n.multi){const k=new hn(l,r,U),T=Ik(o,e,r?d:d+g,p);-1===T?(Cc(dn(c,s),a,o),Lk(a,n,e.length),e.push(o),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(k),s.push(k)):(t[T]=k,s[T]=k)}else{const k=Ik(o,e,d+g,p),T=Ik(o,e,d,d+g),E=k>=0&&t[k],L=T>=0&&t[T];if(r&&!L||!r&&!E){Cc(dn(c,s),a,o);const R=function rq(n,e,t,i,r){const a=new hn(n,t,U);return a.multi=[],a.index=e,a.componentProviders=0,oF(a,r,i&&!t),a}(r?nq:iq,t.length,r,i,l);!r&&L&&(t[T].providerFactory=R),Lk(a,n,e.length,0),e.push(o),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(R),s.push(R)}else Lk(a,n,k>-1?k:T,oF(t[r?T:k],l,!r&&i));!r&&i&&L&&t[T].componentProviders++}}}function Lk(n,e,t,i){const r=ro(e),a=function Gd(n){return!!n.useClass}(e);if(r||a){const l=(a?He(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const d=c.indexOf(t);-1===d?c.push(t,[i,l]):c[d+1].push(i,l)}else c.push(t,l)}}}function oF(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Ik(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function iq(n,e,t,i){return Mk(this.multi,[])}function nq(n,e,t,i){const r=this.multi;let a;if(this.providerFactory){const s=this.providerFactory.componentProviders,o=Ga(t,t[1],this.providerFactory.index,i);a=o.slice(0,s),Mk(r,a);for(let l=s;l<o.length;l++)a.push(o[l])}else a=[],Mk(r,a);return a}function Mk(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function xt(n,e=[]){return t=>{t.providersResolver=(i,r)=>function tq(n,e,t){const i=et();if(i.firstCreatePass){const r=cn(n);Dk(t,i.data,i.blueprint,r,!0),Dk(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class lF{}class oq{resolveComponentFactory(e){throw function aq(n){const e=Error(`No component factory found for ${ht(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Uf=(()=>{class n{}return n.NULL=new oq,n})();function lq(){return Tu(Nt(),Q())}function Tu(n,e){return new An(Ei(n,e))}let An=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=lq,n})();function cq(n){return n instanceof An?n.nativeElement:n}class ip{}let Cl=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function hq(){const n=Q(),t=xi(Nt().index,n);return function uq(n){return n[11]}(ln(t)?t:n)}(),n})(),dq=(()=>{class n{}return n.\u0275prov=be({token:n,providedIn:"root",factory:()=>null}),n})();class Wf{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const pq=new Wf("13.3.12"),Rk={};function jf(n,e,t,i,r=!1){for(;null!==t;){const a=e[t.index];if(null!==a&&i.push(Rt(a)),Ci(a))for(let o=10;o<a.length;o++){const l=a[o],c=l[1].firstChild;null!==c&&jf(l[1],l,c,i)}const s=t.type;if(8&s)jf(n,e,t.child,i);else if(32&s){const o=cl(t,e);let l;for(;l=o();)i.push(l)}else if(16&s){const o=id(e,t);if(Array.isArray(o))i.push(...o);else{const l=cr(e[16]);jf(l[1],l,o,i,!0)}}t=r?t.projectionNext:t.next}return i}class np{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return jf(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Ci(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(pl(e,i),Zo(t,i))}this._attachedToViewContainer=!1}pg(this._lView[1],this._lView)}onDestroy(e){rf(this._lView[1],this._lView,null,e)}markForCheck(){Md(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Fd(n,e,t){const i=e[10];i.begin&&i.begin();try{io(n,e,n.template,t)}catch(r){throw vf(e,r),r}finally{i.end&&i.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function jb(n,e){jn(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new pe(902,"");this._appRef=e}}class mq extends np{constructor(e){super(e),this._view=e}detectChanges(){mf(this._view)}checkNoChanges(){}get context(){return null}}class uF extends Uf{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=fi(e);return new Fk(t,this.ngModule)}}function hF(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class Fk extends lF{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function tu(n){return n.map(eu).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return hF(this.componentDef.inputs)}get outputs(){return hF(this.componentDef.outputs)}create(e,t,i,r){const a=(r=r||this.ngModule)?function fq(n,e){return{get:(t,i,r)=>{const a=n.get(t,Rk,r);return a!==Rk||i===Rk?a:e.get(t,i,r)}}}(e,r.injector):e,s=a.get(ip,wm),o=a.get(dq,null),l=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=i?function nf(n,e,t){if(It(n))return n.selectRootElement(e,t===_i.ShadowDom);let i="string"==typeof e?n.querySelector(e):e;return i.textContent="",i}(l,i,this.componentDef.encapsulation):Vc(s.createRenderer(null,this.componentDef),c,function gq(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?V:null}(c)),p=this.componentDef.onPush?576:528,g=function Ff(n,e){return{components:[],scheduler:n||LA,clean:ak,playerHandler:e||null,flags:0}}(),k=cu(0,null,null,1,0,null,null,null,null,null),T=eo(null,k,g,p,null,null,s,l,o,a);let E,L;kc(T);try{const R=function Mf(n,e,t,i,r,a){const s=t[1];t[20]=n;const l=Ai(s,20,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(du(l,c,!0),null!==n&&(Ki(r,n,c),null!==l.classes&&rd(r,n,l.classes),null!==l.styles&&vg(r,n,l.styles)));const d=i.createRenderer(n,e),p=eo(t,ef(e),null,e.onPush?64:16,t[20],l,i,d,a||null,null);return s.firstCreatePass&&(Cc(dn(l,t),s,e.type),hf(s,l),Dd(l,t.length,1)),hu(t,p),t[20]=p}(d,this.componentDef,T,s,l);if(d)if(i)Ki(l,d,["ng-version",pq.full]);else{const{attrs:x,classes:G}=function NA(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let a=n[i];if("string"==typeof a)2===r?""!==a&&e.push(a,n[++i]):8===r&&t.push(a);else{if(!mn(r))break;r=a}i++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);x&&Ki(l,d,x),G&&G.length>0&&rd(l,d,G.join(" "))}if(L=wh(k,20),void 0!==t){const x=L.projection=[];for(let G=0;G<this.ngContentSelectors.length;G++){const O=t[G];x.push(null!=O?Array.from(O):null)}}E=function Rf(n,e,t,i,r){const a=t[1],s=function KA(n,e,t){const i=Nt();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),Ld(n,i,e,to(n,e,1,null),t));const r=Ga(e,n,i.directiveStart,i);bi(r,e);const a=Ei(i,e);return a&&bi(a,e),r}(a,t,e);if(i.components.push(s),n[8]=s,r&&r.forEach(l=>l(s,e)),e.contentQueries){const l=Nt();e.contentQueries(1,s,l.directiveStart)}const o=Nt();return!a.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ds(o.index),af(t[1],o,0,o.directiveStart,o.directiveEnd,e),cf(e,s)),s}(R,this.componentDef,T,g,[Ak]),tt(k,T,null)}finally{Lr()}return new vq(this.componentType,E,Tu(L,T),T,L)}}class vq extends class sq{}{constructor(e,t,i,r,a){super(),this.location=i,this._rootLView=r,this._tNode=a,this.instance=t,this.hostView=this.changeDetectorRef=new mq(r),this.componentType=e}get injector(){return new Oi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class _u{}const Cu=new Map;class mF extends _u{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new uF(this);const i=sn(e);this._bootstrapComponents=hr(i.bootstrap),this._r3Injector=wf(e,t,[{provide:_u,useValue:this},{provide:Uf,useValue:this.componentFactoryResolver}],ht(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=vn.THROW_IF_NOT_FOUND,i=Le.Default){return e===vn||e===_u||e===Bd?this:this._r3Injector.get(e,t,i)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Nk extends class Aq{}{constructor(e){super(),this.moduleType=e,null!==sn(e)&&function kq(n){const e=new Set;!function t(i){const r=sn(i,!0),a=r.id;null!==a&&(function dF(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${ht(e)} vs ${ht(e.name)}`)}(a,Cu.get(a),i),Cu.set(a,i));const s=hr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(n)}(e)}create(e){return new mF(this.moduleType,e)}}function zf(n,e,t){const i=Ni()+n,r=Q();return r[i]===Oe?Me(r,i,t?e.call(t):e()):function je(n,e){return n[e]}(r,i)}function fF(n,e,t,i,r){return function vF(n,e,t,i,r,a,s){const o=e+t;return Gt(n,o,r,a)?Me(n,o+2,s?i.call(s,r,a):i(r,a)):rp(n,o+2)}(Q(),Ni(),n,e,t,i,r)}function rp(n,e){const t=n[e];return t===Oe?void 0:t}function yF(n,e,t,i,r,a){const s=e+t;return yt(n,s,r)?Me(n,s+1,a?i.call(a,r):i(r)):rp(n,s+1)}function El(n,e){const t=et();let i;const r=n+20;t.firstCreatePass?(i=function xq(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}}(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(r,i.onDestroy)):i=t.data[r];const a=i.factory||(i.factory=nr(i.type)),s=Er(U);try{const o=$a(!1),l=a();return $a(o),function YH(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,Q(),r,l),l}finally{Er(s)}}function xl(n,e,t){const i=n+20,r=Q(),a=function Ys(n,e){return n[e]}(r,i);return function sp(n,e){return n[1].data[e].pure}(r,i)?yF(r,Ni(),e,a.transform,t,a):a.transform(t)}function Bk(n){return e=>{setTimeout(n,void 0,e)}}const bt=class Rq extends Ct{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){var r,a,s;let o=e,l=t||(()=>null),c=i;if(e&&"object"==typeof e){const p=e;o=null===(r=p.next)||void 0===r?void 0:r.bind(p),l=null===(a=p.error)||void 0===a?void 0:a.bind(p),c=null===(s=p.complete)||void 0===s?void 0:s.bind(p)}this.__isAsync&&(l=Bk(l),o&&(o=Bk(o)),c&&(c=Bk(c)));const d=super.subscribe({next:o,error:l,complete:c});return e instanceof Xe&&e.add(d),d}};function Fq(){return this._results[K()]()}class Ok{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=K(),i=Ok.prototype;i[t]||(i[t]=Fq)}get changes(){return this._changes||(this._changes=new bt)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=Yi(e);(this._changesDetected=!function Bb(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],a=e[i];if(t&&(r=t(r),a=t(a)),a!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ca=(()=>{class n{}return n.__NG_ELEMENT_ID__=Oq,n})();const Nq=ca,Bq=class extends Nq{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e){const t=this._declarationTContainer.tViews,i=eo(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[19];return null!==a&&(i[19]=a.createEmbeddedView(t)),tt(t,i,e),new np(i)}};function Oq(){return Kf(Nt(),Q())}function Kf(n,e){return 4&n.type?new Bq(e,n,Tu(n,e)):null}let Kr=(()=>{class n{}return n.__NG_ELEMENT_ID__=$q,n})();function $q(){return wF(Nt(),Q())}const Hq=Kr,SF=class extends Hq{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Tu(this._hostTNode,this._hostLView)}get injector(){return new Oi(this._hostTNode,this._hostLView)}get parentInjector(){const e=Bi(this._hostTNode,this._hostLView);if(Rm(e)){const t=Oa(e,this._hostLView),i=ta(e);return new Oi(t[1].data[i+8],t)}return new Oi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=PF(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,i){const r=e.createEmbeddedView(t||{});return this.insert(r,i),r}createComponent(e,t,i,r,a){const s=e&&!function Wa(n){return"function"==typeof n}(e);let o;if(s)o=t;else{const p=t||{};o=p.index,i=p.injector,r=p.projectableNodes,a=p.ngModuleRef}const l=s?e:new Fk(fi(e)),c=i||this.parentInjector;if(!a&&null==l.ngModule){const g=(s?c:this.parentInjector).get(_u,null);g&&(a=g)}const d=l.create(c,r,void 0,a);return this.insert(d.hostView,o),d}insert(e,t){const i=e._lView,r=i[1];if(function Pb(n){return Ci(n[3])}(i)){const d=this.indexOf(e);if(-1!==d)this.detach(d);else{const p=i[3],g=new SF(p,p[6],p[3]);g.detach(g.indexOf(e))}}const a=this._adjustIndex(t),s=this._lContainer;!function Kb(n,e,t,i){const r=10+i,a=t.length;i>0&&(t[r-1][4]=e),i<a-10?(e[4]=t[r],Gh(t,10+i,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function Or(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const o=e[19];null!==o&&o.insertView(n),e[2]|=128}(r,i,s,a);const o=Za(a,s),l=i[11],c=Uc(l,s[7]);return null!==c&&function dg(n,e,t,i,r,a){i[0]=r,i[6]=e,jn(n,i,t,1,r,a)}(r,s[6],l,i,c,o),e.attachToViewContainerRef(),Gh($k(s),a,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=PF(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=pl(this._lContainer,t);i&&(Zo($k(this._lContainer),t),pg(i[1],i))}detach(e){const t=this._adjustIndex(e,-1),i=pl(this._lContainer,t);return i&&null!=Zo($k(this._lContainer),t)?new np(i):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function PF(n){return n[8]}function $k(n){return n[8]||(n[8]=[])}function wF(n,e){let t;const i=e[n.index];if(Ci(i))t=i;else{let r;if(8&n.type)r=Rt(i);else{const a=e[11];r=a.createComment("");const s=Ei(n,e);ks(a,Uc(a,s),r,function fg(n,e){return It(n)?n.nextSibling(e):e.nextSibling}(a,s),!1)}e[n.index]=t=df(i,e,r,n),hu(e,t)}return new SF(t,n,e)}class Hk{constructor(e){this.queryList=e,this.matches=null}clone(){return new Hk(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gk{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let a=0;a<i;a++){const s=t.getByIndex(a);r.push(this.queries[s.indexInDeclarationView].clone())}return new Gk(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==xF(e,t).matches&&this.queries[t].setDirty()}}class TF{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class qk{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,a=this.getByIndex(i).embeddedTView(e,r);a&&(a.indexInDeclarationView=i,null!==t?t.push(a):t=[a])}return null!==t?new qk(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Vk{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Vk(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const a=i[r];this.matchTNodeWithReadOption(e,t,Vq(t,a)),this.matchTNodeWithReadOption(e,t,xc(t,e,a,!1,!1))}else i===ca?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,xc(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===An||r===Kr||r===ca&&4&t.type)this.addMatch(t.index,-2);else{const a=xc(t,e,r,!1,!1);null!==a&&this.addMatch(t.index,a)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Vq(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function Wq(n,e,t,i){return-1===t?function Uq(n,e){return 11&n.type?Tu(n,e):4&n.type?Kf(n,e):null}(e,n):-2===t?function jq(n,e,t){return t===An?Tu(e,n):t===ca?Kf(e,n):t===Kr?wF(e,n):void 0}(n,e,i):Ga(n,n[1],t,e)}function _F(n,e,t,i){const r=e[19].queries[i];if(null===r.matches){const a=n.data,s=t.matches,o=[];for(let l=0;l<s.length;l+=2){const c=s[l];o.push(c<0?null:Wq(e,a[c],s[l+1],t.metadata.read))}r.matches=o}return r.matches}function Uk(n,e,t,i){const r=n.queries.getByIndex(t),a=r.matches;if(null!==a){const s=_F(n,e,r,t);for(let o=0;o<a.length;o+=2){const l=a[o];if(l>0)i.push(s[o/2]);else{const c=a[o+1],d=e[-l];for(let p=10;p<d.length;p++){const g=d[p];g[17]===g[3]&&Uk(g[1],g,c,i)}if(null!==d[9]){const p=d[9];for(let g=0;g<p.length;g++){const k=p[g];Uk(k[1],k,c,i)}}}}}return i}function Eu(n){const e=Q(),t=et(),i=xm();Eh(i+1);const r=xF(t,i);if(n.dirty&&Tm(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const a=r.crossesNgTemplate?Uk(t,e,i,[]):_F(t,e,r,i);n.reset(a,cq),n.notifyOnChanges()}return!0}return!1}function Wk(n,e,t){const i=et();i.firstCreatePass&&(EF(i,new TF(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),CF(i,Q(),e)}function Yf(n,e,t,i){const r=et();if(r.firstCreatePass){const a=Nt();EF(r,new TF(e,t,i),a.index),function Kq(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}CF(r,Q(),t)}function xu(){return function zq(n,e){return n[19].queries[e].queryList}(Q(),xm())}function CF(n,e,t){const i=new Ok(4==(4&t));rf(n,e,i,i.destroy),null===e[19]&&(e[19]=new Gk),e[19].queries.push(new Hk(i))}function EF(n,e,t){null===n.queries&&(n.queries=new qk),n.queries.track(new Vk(e,t))}function xF(n,e){return n.queries.getByIndex(e)}function Jf(...n){}const jF=new Ae("Application Initializer");let Zk=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Jf,this.reject=Jf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const a=this.appInits[r]();if(Bf(a))t.push(a);else if(WM(a)){const s=new Promise((o,l)=>{a.subscribe({complete:o,error:l})});t.push(s)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(te(jF,8))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const op=new Ae("AppId",{providedIn:"root",factory:function zF(){return`${Jk()}${Jk()}${Jk()}`}});function Jk(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const KF=new Ae("Platform Initializer"),Xf=new Ae("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),d7=new Ae("appBootstrapListener"),ao=new Ae("LocaleId",{providedIn:"root",factory:()=>Nc(ao,Le.Optional|Le.SkipSelf)||function p7(){return"undefined"!=typeof $localize&&$localize.locale||$f}()}),y7=(()=>Promise.resolve(0))();function Xk(n){"undefined"==typeof Zone?y7.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ri{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bt(!1),this.onMicrotaskEmpty=new bt(!1),this.onStable=new bt(!1),this.onError=new bt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function v7(){let n=pt.requestAnimationFrame,e=pt.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function k7(n){const e=()=>{!function A7(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(pt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,tS(n),n.isCheckStableRunning=!0,eS(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),tS(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,a,s,o)=>{try{return YF(n),t.invokeTask(r,a,s,o)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||n.shouldCoalesceRunChangeDetection)&&e(),QF(n)}},onInvoke:(t,i,r,a,s,o,l)=>{try{return YF(n),t.invoke(r,a,s,o,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),QF(n)}},onHasTask:(t,i,r,a)=>{t.hasTask(r,a),i===r&&("microTask"==a.change?(n._hasPendingMicrotasks=a.microTask,tS(n),eS(n)):"macroTask"==a.change&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:(t,i,r,a)=>(t.handleError(r,a),n.runOutsideAngular(()=>n.onError.emit(a)),!1)})}(r)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ri.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ri.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const a=this._inner,s=a.scheduleEventTask("NgZoneEvent: "+r,e,b7,Jf,Jf);try{return a.runTask(s,t,i)}finally{a.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const b7={};function eS(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function tS(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function YF(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function QF(n){n._nesting--,eS(n)}class S7{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bt,this.onMicrotaskEmpty=new bt,this.onStable=new bt,this.onError=new bt}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}let iS=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ri.assertNotInAngularZone(),Xk(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xk(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let a=-1;i&&i>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==a),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:a,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(te(ri))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),P7=(()=>{class n{constructor(){this._applications=new Map,nS.addToWindow(this)}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return nS.findTestabilityInTree(this,t,i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class w7{addToWindow(e){}findTestabilityInTree(e,t,i){return null}}let nS=new w7,Dl=null;const ZF=new Ae("AllowMultipleToken"),JF=new Ae("PlatformOnDestroy");function XF(n,e,t=[]){const i=`Platform: ${e}`,r=new Ae(i);return(a=[])=>{let s=rS();if(!s||s.injector.get(ZF,!1)){const o=[...t,...a,{provide:r,useValue:!0}];n?n(o):function E7(n){if(Dl&&!Dl.get(ZF,!1))throw new pe(400,"");Dl=n;const e=n.get(e3),t=n.get(KF,null);t&&t.forEach(i=>i())}(function D7(n=[],e){return vn.create({name:e,providers:[{provide:Od,useValue:"platform"},{provide:JF,useValue:()=>Dl=null},...n]})}(o,i))}return function x7(n){const e=rS();if(!e)throw new pe(401,"");return e}()}}function rS(){var n;return null!==(n=null==Dl?void 0:Dl.get(e3))&&void 0!==n?n:null}let e3=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const o=function L7(n,e){let t;return t="noop"===n?new S7:("zone.js"===n?void 0:n)||new ri({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:ri,useValue:o}];return o.run(()=>{const c=vn.create({providers:l,parent:this.injector,name:t.moduleType.name}),d=t.create(c),p=d.injector.get(kl,null);if(!p)throw new pe(402,"");return o.runOutsideAngular(()=>{const g=o.onError.subscribe({next:k=>{p.handleError(k)}});d.onDestroy(()=>{sS(this._modules,d),g.unsubscribe()})}),function I7(n,e,t){try{const i=t();return Bf(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(p,o,()=>{const g=d.injector.get(Zk);return g.runInitializers(),g.donePromise.then(()=>(function u6(n){Ti(n,"Expected localeId to be defined"),"string"==typeof n&&(BR=n.toLowerCase().replace(/_/g,"-"))}(d.injector.get(ao,$f)||$f),this._moduleDoBootstrap(d),d))})})}bootstrapModule(t,i=[]){const r=t3({},i);return function _7(n,e,t){const i=new Nk(t);return Promise.resolve(i)}(0,0,t).then(a=>this.bootstrapModuleFactory(a,r))}_moduleDoBootstrap(t){const i=t.injector.get(i3);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new pe(403,"");t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pe(404,"");this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(JF,null);null==t||t(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(te(vn))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function t3(n,e){return Array.isArray(e)?e.reduce(t3,n):Object.assign(Object.assign({},n),e)}let i3=(()=>{class n{constructor(t,i,r,a){this._zone=t,this._injector=i,this._exceptionHandler=r,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new at(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),o=new at(l=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{ri.assertNotInAngularZone(),Xk(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{ri.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{c.unsubscribe(),d.unsubscribe()}});this.isStable=is(s,o.pipe(function Jv(){return n=>lc()(function hh(n,e){return function(i){let r;if(r="function"==typeof n?n:function(){return n},"function"==typeof e)return i.lift(new Qv(r,e));const a=Object.create(i,lh);return a.source=i,a.subjectFactory=r,a}}(Zv)(n))}()))}bootstrap(t,i){if(!this._initStatus.done)throw new pe(405,"");let r;r=t instanceof lF?t:this._injector.get(Uf).resolveComponentFactory(t),this.componentTypes.push(r.componentType);const a=function C7(n){return n.isBoundToModule}(r)?void 0:this._injector.get(_u),o=r.create(vn.NULL,[],i||r.selector,a),l=o.location.nativeElement,c=o.injector.get(iS,null),d=c&&o.injector.get(P7);return c&&d&&d.registerApplication(l,c),o.onDestroy(()=>{this.detachView(o.hostView),sS(this.components,o),d&&d.unregisterApplication(l)}),this._loadComponent(o),o}tick(){if(this._runningTick)throw new pe(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;sS(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(d7,[]).concat(this._bootstrapListeners).forEach(r=>r(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(te(ri),te(vn),te(kl),te(Zk))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sS(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let r3=!0,ey=(()=>{class n{}return n.__NG_ELEMENT_ID__=F7,n})();function F7(n){return function N7(n,e,t){if($o(n)&&!t){const i=xi(n.index,e);return new np(i,i)}return 47&n.type?new np(e[16],e):null}(Nt(),Q(),16==(16&n))}class c3{constructor(){}supports(e){return fe(e)}create(e){return new q7(e)}}const G7=(n,e)=>e;class q7{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||G7}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,a=null;for(;t||i;){const s=!i||t&&t.currentIndex<h3(i,r,a)?t:i,o=h3(s,r,a),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{a||(a=[]);const c=o-r,d=l-r;if(c!=d){for(let g=0;g<c;g++){const k=g<a.length?a[g]:a[g]=0,T=k+g;d<=T&&T<c&&(a[g]=k+1)}a[s.previousIndex]=d-c}}o!==l&&e(s,o,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!fe(e))throw new pe(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,a,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let o=0;o<this.length;o++)a=e[o],s=this._trackByFn(o,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,o)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,o),i=!0),t=t._next}else r=0,function qe(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[K()]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,o=>{s=this._trackByFn(r,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,r)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let a;return null===e?a=this._itTail:(a=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,a,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,a,r)):e=this._addAfter(new V7(t,i),a,r),e}_verifyReinsertion(e,t,i,r){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==a?e=this._reinsertAfter(a,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,a=e._nextRemoved;return null===r?this._removalsHead=a:r._nextRemoved=a,null===a?this._removalsTail=r:a._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new u3),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new u3),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class V7{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class U7{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class u3{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new U7,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function h3(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class d3{constructor(){}supports(e){return e instanceof Map||Se(e)}create(){return new W7}}class W7{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Se(e)))throw new pe(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const a=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,a)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const a=r._prev,s=r._next;return a&&(a._next=s),s&&(s._prev=a),r._next=null,r._prev=null,r}const i=new j7(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class j7{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function p3(){return new ny([new c3])}let ny=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||p3()),deps:[[n,new Oc,new Bc]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new pe(901,"")}}return n.\u0275prov=be({token:n,providedIn:"root",factory:p3}),n})();function m3(){return new lp([new d3])}let lp=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||m3()),deps:[[n,new Oc,new Bc]]}}find(t){const i=this.factories.find(a=>a.supports(t));if(i)return i;throw new pe(901,"")}}return n.\u0275prov=be({token:n,providedIn:"root",factory:m3}),n})();const Y7=XF(null,"core",[]);let Q7=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(te(i3))},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ri({}),n})(),ry=null;function Il(){return ry}const Pi=new Ae("DocumentToken");function T3(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}let bS=(()=>{class n{constructor(t,i,r,a){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(fe(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${ht(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(U(ny),U(lp),U(An),U(Cl))},n.\u0275dir=xe({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class H5{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let hp=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new H5(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===a?void 0:a);else if(null!==a){const o=i.get(a);i.move(o,s),_3(o,r)}});for(let r=0,a=i.length;r<a;r++){const o=i.get(r).context;o.index=r,o.count=a,o.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{_3(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(U(Kr),U(ca),U(ny))},n.\u0275dir=xe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function _3(n,e){n.context.$implicit=e.item}let Ml=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new G5,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){C3("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){C3("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(U(Kr),U(ca))},n.\u0275dir=xe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class G5{constructor(){this.$implicit=null,this.ngIf=null}}function C3(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ht(e)}'.`)}let SS=(()=>{class n{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=x3}transform(t,i=x3){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const r=this.differ.diff(t),a=i!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(s=>{this.keyValues.push(function l8(n,e){return{key:n,value:e}}(s.key,s.currentValue))})),(r||a)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return n.\u0275fac=function(t){return new(t||n)(U(lp,16))},n.\u0275pipe=ji({name:"keyvalue",type:n,pure:!1}),n})();function x3(n,e){const t=n.key,i=e.key;if(t===i)return 0;if(void 0===t)return 1;if(void 0===i)return-1;if(null===t)return 1;if(null===i)return-1;if("string"==typeof t&&"string"==typeof i)return t<i?-1:1;if("number"==typeof t&&"number"==typeof i)return t-i;if("boolean"==typeof t&&"boolean"==typeof i)return t<i?-1:1;const r=String(t),a=String(i);return r==a?0:r<a?-1:1}let D3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ri({}),n})();const L3="browser";class M3{}class TS extends class v8 extends class X7{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function J7(n){ry||(ry=n)}(new TS)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function b8(){return dp=dp||document.querySelector("base"),dp?dp.getAttribute("href"):null}();return null==t?null:function A8(n){my=my||document.createElement("a"),my.setAttribute("href",n);const e=my.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){dp=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return T3(document.cookie,e)}}let my,dp=null;const R3=new Ae("TRANSITION_ID"),S8=[{provide:jF,useFactory:function k8(n,e,t){return()=>{t.get(Zk).donePromise.then(()=>{const i=Il(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[R3,Pi,vn],multi:!0}];class _S{static init(){!function T7(n){nS=n}(new _S)}addToWindow(e){pt.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},pt.getAllAngularTestabilities=()=>e.getAllTestabilities(),pt.getAllAngularRootElements=()=>e.getAllRootElements(),pt.frameworkStabilizers||(pt.frameworkStabilizers=[]),pt.frameworkStabilizers.push(i=>{const r=pt.getAllAngularTestabilities();let a=r.length,s=!1;const o=function(l){s=s||l,a--,0==a&&i(s)};r.forEach(function(l){l.whenStable(o)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?Il().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let P8=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();const gy=new Ae("EventManagerPlugins");let fy=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const s=r[a];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(te(gy),te(ri))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();class F3{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=Il().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let N3=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),pp=(()=>{class n extends N3{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const s=this._doc.createElement("style");s.textContent=a,r.push(i.appendChild(s))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(B3),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(B3))}}return n.\u0275fac=function(t){return new(t||n)(te(Pi))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();function B3(n){Il().remove(n)}const CS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ES=/%COMP%/g;function yy(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?yy(n,r,t):(r=r.replace(ES,n),t.push(r))}return t}function H3(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let vy=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new xS(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case _i.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new x8(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case _i.ShadowDom:return new D8(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=yy(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(te(fy),te(pp),te(op))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();class xS{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(CS[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=CS[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=CS[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Zi.DashCase|Zi.Important)?e.style.setProperty(t,i,r&Zi.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Zi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,H3(i)):this.eventManager.addEventListener(e,t,H3(i))}}class x8 extends xS{constructor(e,t,i,r){super(e),this.component=i;const a=yy(r+"-"+i.id,i.styles,[]);t.addStyles(a),this.contentAttr=function _8(n){return"_ngcontent-%COMP%".replace(ES,n)}(r+"-"+i.id),this.hostAttr=function C8(n){return"_nghost-%COMP%".replace(ES,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class D8 extends xS{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=yy(r.id,r.styles,[]);for(let s=0;s<a.length;s++){const o=document.createElement("style");o.textContent=a[s],this.shadowRoot.appendChild(o)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let L8=(()=>{class n extends F3{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(te(Pi))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();const q3=["alt","control","meta","shift"],M8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},V3={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},R8={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let F8=(()=>{class n extends F3{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),s=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Il().onAndCancel(t,a.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let s="";if(q3.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),s+=l+".")}),s+=a,0!=i.length||0===a.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let i="",r=function N8(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&V3.hasOwnProperty(e)&&(e=V3[e]))}return M8[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),q3.forEach(a=>{a!=r&&R8[a](t)&&(i+=a+".")}),i+=r,i}static eventCallback(t,i,r){return a=>{n.getEventFullKey(a)===t&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(te(Pi))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();const H8=XF(Y7,"browser",[{provide:Xf,useValue:L3},{provide:KF,useValue:function B8(){TS.makeCurrent(),_S.init()},multi:!0},{provide:Pi,useFactory:function $8(){return function ct(n){Ie=n}(document),document},deps:[]}]),G8=[{provide:Od,useValue:"root"},{provide:kl,useFactory:function O8(){return new kl},deps:[]},{provide:gy,useClass:L8,multi:!0,deps:[Pi,ri,Xf]},{provide:gy,useClass:F8,multi:!0,deps:[Pi]},{provide:vy,useClass:vy,deps:[fy,pp,op]},{provide:ip,useExisting:vy},{provide:N3,useExisting:pp},{provide:pp,useClass:pp,deps:[Pi]},{provide:iS,useClass:iS,deps:[ri]},{provide:fy,useClass:fy,deps:[gy,ri]},{provide:M3,useClass:P8,deps:[]}];let U3=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:op,useValue:t.appId},{provide:R3,useExisting:op},S8]}}}return n.\u0275fac=function(t){return new(t||n)(te(n,12))},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ri({providers:G8,imports:[D3,Q7]}),n})();function by(n,e){return new at(t=>{const i=n.length;if(0===i)return void t.complete();const r=new Array(i);let a=0,s=0;for(let o=0;o<i;o++){const l=nc(n[o]);let c=!1;t.add(l.subscribe({next:d=>{c||(c=!0,s++),r[o]=d},error:d=>t.error(d),complete:()=>{a++,(a===i||!c)&&(s===i&&t.next(e?e.reduce((d,p,g)=>(d[p]=r[g],d),{}):r),t.complete())}}))}})}"undefined"!=typeof window&&window;let z3=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(U(Cl),U(An))},n.\u0275dir=xe({type:n}),n})(),Rl=(()=>{class n extends z3{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=ci(n)))(i||n)}}(),n.\u0275dir=xe({type:n,features:[h]}),n})();const Es=new Ae("NgValueAccessor"),X8={provide:Es,useExisting:kt(()=>Ay),multi:!0};let Ay=(()=>{class n extends Rl{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=ci(n)))(i||n)}}(),n.\u0275dir=xe({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,i){1&t&&Ee("change",function(a){return i.onChange(a.target.checked)})("blur",function(){return i.onTouched()})},features:[xt([X8]),h]}),n})();const eV={provide:Es,useExisting:kt(()=>ha),multi:!0},iV=new Ae("CompositionEventMode");let ha=(()=>{class n extends z3{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function tV(){const n=Il()?Il().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(U(Cl),U(An),U(iV,8))},n.\u0275dir=xe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&Ee("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[xt([eV]),h]}),n})();function lo(n){return null==n||0===n.length}function K3(n){return null!=n&&"number"==typeof n.length}const Xi=new Ae("NgValidators"),co=new Ae("NgAsyncValidators"),nV=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class mp{static min(e){return Y3(e)}static max(e){return Q3(e)}static required(e){return Z3(e)}static requiredTrue(e){return function J3(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function X3(n){return lo(n.value)||nV.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function eN(n){return e=>lo(e.value)||!K3(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function tN(n){return e=>K3(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function iN(n){if(!n)return ky;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(lo(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return lN(e)}static composeAsync(e){return cN(e)}}function Y3(n){return e=>{if(lo(e.value)||lo(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Q3(n){return e=>{if(lo(e.value)||lo(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Z3(n){return lo(n.value)?{required:!0}:null}function ky(n){return null}function nN(n){return null!=n}function rN(n){const e=Bf(n)?nc(n):n;return WM(e),e}function sN(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function aN(n,e){return e.map(t=>t(n))}function oN(n){return n.map(e=>function rV(n){return!n.validate}(e)?e:t=>e.validate(t))}function lN(n){if(!n)return null;const e=n.filter(nN);return 0==e.length?null:function(t){return sN(aN(t,e))}}function LS(n){return null!=n?lN(oN(n)):null}function cN(n){if(!n)return null;const e=n.filter(nN);return 0==e.length?null:function(t){return function J8(...n){if(1===n.length){const e=n[0];if(To(e))return by(e,null);if(_o(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return by(t.map(i=>e[i]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return by(n=1===n.length&&To(n[0])?n[0]:n,null).pipe(er(t=>e(...t)))}return by(n,null)}(aN(t,e).map(rN)).pipe(er(sN))}}function IS(n){return null!=n?cN(oN(n)):null}function uN(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function hN(n){return n._rawValidators}function dN(n){return n._rawAsyncValidators}function MS(n){return n?Array.isArray(n)?n:[n]:[]}function Sy(n,e){return Array.isArray(n)?n.includes(e):n===e}function pN(n,e){const t=MS(e);return MS(n).forEach(r=>{Sy(t,r)||t.push(r)}),t}function mN(n,e){return MS(e).filter(t=>!Sy(n,t))}class gN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=LS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=IS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class uo extends gN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Sn extends gN{get formDirective(){return null}get path(){return null}}class fN{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}let Fl=(()=>{class n extends fN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(U(uo,2))},n.\u0275dir=xe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&so("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[h]}),n})(),Nl=(()=>{class n extends fN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(U(Sn,10))},n.\u0275dir=xe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&so("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[h]}),n})();function wy(n,e){return[...e.path,n]}function gp(n,e){NS(n,e),e.valueAccessor.writeValue(n.value),function dV(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&vN(n,e)})}(n,e),function mV(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function pV(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&vN(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function hV(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ty(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Cy(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function _y(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function NS(n,e){const t=hN(n);null!==e.validator?n.setValidators(uN(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=dN(n);null!==e.asyncValidator?n.setAsyncValidators(uN(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();_y(e._rawValidators,r),_y(e._rawAsyncValidators,r)}function Cy(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=hN(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(s=>s!==e.validator);a.length!==r.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const r=dN(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(s=>s!==e.asyncValidator);a.length!==r.length&&(t=!0,n.setAsyncValidators(a))}}}const i=()=>{};return _y(e._rawValidators,i),_y(e._rawAsyncValidators,i),t}function vN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function BS(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function OS(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===ha?t=a:function yV(n){return Object.getPrototypeOf(n.constructor)===Rl}(a)?i=a:r=a}),r||i||t||null}function $S(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const fp="VALID",Ey="INVALID",Lu="PENDING",yp="DISABLED";function GS(n){return(xy(n)?n.validators:n)||null}function SN(n){return Array.isArray(n)?LS(n):n||null}function qS(n,e){return(xy(e)?e.asyncValidators:n)||null}function PN(n){return Array.isArray(n)?IS(n):n||null}function xy(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const wN=n=>n instanceof ie,VS=n=>n instanceof Ii;function TN(n){return wN(n)?n.value:n.getRawValue()}function _N(n,e){const t=VS(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new pe(1e3,"");if(!i[e])throw new pe(1001,"")}function CN(n,e){VS(n),n._forEachChild((i,r)=>{if(void 0===e[r])throw new pe(1002,"")})}class US{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=SN(this._rawValidators),this._composedAsyncValidatorFn=PN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===fp}get invalid(){return this.status===Ey}get pending(){return this.status==Lu}get disabled(){return this.status===yp}get enabled(){return this.status!==yp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=SN(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=PN(e)}addValidators(e){this.setValidators(pN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(pN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(mN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(mN(e,this._rawAsyncValidators))}hasValidator(e){return Sy(this._rawValidators,e)}hasAsyncValidator(e){return Sy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Lu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=yp,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=fp,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fp||this.status===Lu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yp:fp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Lu,this._hasOwnPendingAsyncValidator=!0;const t=rN(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function vV(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=VS(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof Dy)(i)&&i.at(r)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new bt,this.statusChanges=new bt}_calculateStatus(){return this._allControlsDisabled()?yp:this.errors?Ey:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Lu)?Lu:this._anyControlsHaveStatus(Ey)?Ey:fp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xy(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ie extends US{constructor(e=null,t,i){super(GS(t),qS(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xy(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){$S(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){$S(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Ii extends US{constructor(e,t,i){super(GS(t),qS(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){CN(this,e),Object.keys(e).forEach(i=>{_N(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=TN(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Dy extends US{constructor(e,t,i){super(GS(t),qS(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){CN(this,e),e.forEach((i,r)=>{_N(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>TN(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const SV={provide:uo,useExisting:kt(()=>jS)},DN=(()=>Promise.resolve(null))();let jS=(()=>{class n extends uo{constructor(t,i,r,a,s){super(),this._changeDetectorRef=s,this.control=new ie,this._registered=!1,this.update=new bt,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=OS(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),BS(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){gp(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){DN.then(()=>{var i;this.control.setValue(t,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=""===i||i&&"false"!==i;DN.then(()=>{var a;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(a=this._changeDetectorRef)||void 0===a||a.markForCheck()})}_getPath(t){return this._parent?wy(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(U(Sn,9),U(Xi,10),U(co,10),U(Es,10),U(ey,8))},n.\u0275dir=xe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[xt([SV]),h,rr]}),n})(),LN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=xe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const PV={provide:Es,useExisting:kt(()=>bp),multi:!0};let bp=(()=>{class n extends Rl{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=ci(n)))(i||n)}}(),n.\u0275dir=xe({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,i){1&t&&Ee("input",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},features:[xt([PV]),h]}),n})();const wV={provide:Es,useExisting:kt(()=>zS),multi:!0};let IN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ri({}),n})(),TV=(()=>{class n{constructor(){this._accessors=[]}add(t,i){this._accessors.push([t,i])}remove(t){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===t)return void this._accessors.splice(i,1)}select(t){this._accessors.forEach(i=>{this._isSameGroup(i,t)&&i[1]!==t&&i[1].fireUncheck(t.value)})}_isSameGroup(t,i){return!!t[0].control&&t[0]._parent===i._control._parent&&t[1].name===i.name}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:IN}),n})(),zS=(()=>{class n extends Rl{constructor(t,i,r,a){super(t,i),this._registry=r,this._injector=a,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(uo),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(t){return new(t||n)(U(Cl),U(An),U(TV),U(vn))},n.\u0275dir=xe({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,i){1&t&&Ee("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[xt([wV]),h]}),n})();const KS=new Ae("NgModelWithFormControlWarning"),EV={provide:Sn,useExisting:kt(()=>da)};let da=(()=>{class n extends Sn{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new bt,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Cy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return gp(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Ty(t.control||null,t,!1),$S(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,function kN(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(Ty(i||null,t),wN(r)&&(gp(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);(function bN(n,e){NS(n,e)})(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function gV(n,e){return Cy(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){NS(this.form,this),this._oldForm&&Cy(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(U(Xi,10),U(co,10))},n.\u0275dir=xe({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&Ee("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[xt([EV]),h,rr]}),n})();const LV={provide:uo,useExisting:kt(()=>ho)};let ho=(()=>{class n extends uo{constructor(t,i,r,a,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new bt,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=OS(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),BS(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return wy(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(U(Sn,13),U(Xi,10),U(co,10),U(Es,10),U(KS,8))},n.\u0275dir=xe({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[xt([LV]),h,rr]}),n})();const IV={provide:Es,useExisting:kt(()=>Ap),multi:!0};function NN(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Ap=(()=>{class n extends Rl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=NN(this._getOptionId(t),t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function MV(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=ci(n)))(i||n)}}(),n.\u0275dir=xe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,i){1&t&&Ee("change",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[xt([IV]),h]}),n})(),ZS=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(NN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(U(An),U(Cl),U(Ap,9))},n.\u0275dir=xe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const RV={provide:Es,useExisting:kt(()=>JS),multi:!0};function BN(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let JS=(()=>{class n extends Rl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const r=t.map(a=>this._getOptionId(a));i=(a,s)=>{a._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,a)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const r=[],a=i.selectedOptions;if(void 0!==a){const s=a;for(let o=0;o<s.length;o++){const c=this._getOptionValue(s[o].value);r.push(c)}}else{const s=i.options;for(let o=0;o<s.length;o++){const l=s[o];if(l.selected){const c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,t(r)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function FV(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=ci(n)))(i||n)}}(),n.\u0275dir=xe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,i){1&t&&Ee("change",function(a){return i.onChange(a.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[xt([RV]),h]}),n})(),XS=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(BN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(BN(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(U(An),U(Cl),U(JS,9))},n.\u0275dir=xe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();function $N(n){return"number"==typeof n?n:parseFloat(n)}let Bl=(()=>{class n{constructor(){this._validator=ky}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):ky,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=xe({type:n,features:[rr]}),n})();const BV={provide:Xi,useExisting:kt(()=>Ly),multi:!0};let Ly=(()=>{class n extends Bl{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>$N(t),this.createValidator=t=>Q3(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=ci(n)))(i||n)}}(),n.\u0275dir=xe({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&jt("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[xt([BV]),h]}),n})();const OV={provide:Xi,useExisting:kt(()=>Iy),multi:!0};let Iy=(()=>{class n extends Bl{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>$N(t),this.createValidator=t=>Y3(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=ci(n)))(i||n)}}(),n.\u0275dir=xe({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&jt("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[xt([OV]),h]}),n})();const $V={provide:Xi,useExisting:kt(()=>My),multi:!0};let My=(()=>{class n extends Bl{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function NV(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>Z3}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=ci(n)))(i||n)}}(),n.\u0275dir=xe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&jt("required",i._enabled?"":null)},inputs:{required:"required"},features:[xt([$V]),h]}),n})(),WN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ri({imports:[[IN]]}),n})(),WV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ri({imports:[WN]}),n})(),jV=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:KS,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ri({imports:[WN]}),n})();var mi=Zt(489);class Y{constructor(){this.multiplier=1,this.multiplierMessage="",this.originalPower=this.power}reset(){this.uses=this.originalUses}}class kp extends Y{constructor(){super(...arguments),this.name="Dazed",this.equipmentClass="ailment-other"}}class Ol extends Y{constructor(){super(...arguments),this.name="Crisp",this.equipmentClass="ailment-other"}}class eP extends Y{constructor(){super(...arguments),this.name="Toasty",this.equipmentClass="ailment-other",this.uses=1,this.originalUses=1}}class jN extends Y{constructor(){super(),this.name="Blackberry",this.tier=3,this.equipmentClass="shop"}}class tP extends Y{constructor(){super(...arguments),this.name="White Okra",this.tier=6,this.equipmentClass="shield",this.power=10,this.originalPower=10,this.uses=2,this.originalUses=2}}class zN extends Y{constructor(){super(...arguments),this.name="Ambrosia",this.tier=4,this.equipmentClass="shield",this.power=8,this.originalPower=8,this.uses=1,this.originalUses=1}}function iP(n){return 1===n?0:2===n?2:5}function nP(n){return iP(n)}const zV=[{name:"FairyAbility",label:"FairyBall",perLevel:2},{name:"NurikabeAbility",label:"Nurikabe",perLevel:4,incrementUses:!0},{name:"FanMusselAbility",label:"Fan Mussel",perLevel:1,incrementUses:!0},{name:"GhostKittenAbility",label:"Ghost Kitten",perLevel:3}];class KN{static applyDamage(e){const{pet:t,baseDamage:i,perkName:r,manticoreMultipliers:a,logService:s,afterDamage:o}=e,l=t.equipment;if(!l)return;let c=l.multiplier;for(let T of a)c+=T;const p=this.applyAbilityReductions(t,i*c),g=p.damage,k=this.buildLogMessage({pet:t,finalDamage:g,equipment:l,perkName:r,reductions:p.reductions,manticoreMultipliers:a});s.createLog({message:k,type:"ability",player:t.parent}),t.dealDamage(t,g),o&&o(t)}static applyAbilityReductions(e,t){let i=t;const r=[];for(const a of zV){if(i<=0)break;if(!e.hasTrigger(void 0,"Pet",a.name))continue;let s=0;for(const o of e.abilityList){if(o.name!==a.name)continue;const l=o.level*a.perLevel;0!==l&&(s+=l,i=Math.max(0,i-l),a.incrementUses&&o.currentUses++)}s>0&&r.push({label:a.label,amount:s})}return{damage:i,reductions:r}}static buildLogMessage(e){let t=`${e.pet.name} took ${e.finalDamage} damage`;if(e.manticoreMultipliers.length>0)for(const i of e.manticoreMultipliers)t+=` x${i+1} (Manticore)`;e.equipment.multiplier>1&&(t+=e.equipment.multiplierMessage);for(const i of e.reductions)t+=` -${i.amount} (${i.label})`;return t+=` (${e.perkName}).`,t}}class Ry extends Y{constructor(){super(...arguments),this.name="Peanut",this.tier=7,this.equipmentClass="attack",this.power=0}}class Sp extends Y{constructor(){super(...arguments),this.name="Peanut Butter",this.equipmentClass="attack",this.tier=7,this.power=0,this.uses=1,this.originalUses=1}}"function"==typeof SuppressedError&&SuppressedError;class S{constructor(e){var t,i,r,a,s,o;this.name=e.name,this.owner=e.owner,this.triggers=e.triggers,this.abilityType=e.abilityType,this.maxUses=null!==(t=e.maxUses)&&void 0!==t?t:-1;const l=null!==(i=e.initialCurrentUses)&&void 0!==i?i:"Pet"===e.abilityType?e.owner.triggersConsumed:0;this.initialCurrentUses=l,this.currentUses=l,this.abilityLevel=null!==(r=e.abilitylevel)&&void 0!==r?r:1,this.condition=e.condition,this.abilityFunction=e.abilityFunction,this.native=null===(a=e.native)||void 0===a||a,this.ignoreRepeats=null!==(s=e.ignoreRepeats)&&void 0!==s&&s,this.alwaysIgnorePetLevel=null!==(o=e.alwaysIgnorePetLevel)&&void 0!==o&&o}canUse(){return!(this.maxUses>0&&this.currentUses>=this.maxUses)}execute(e,t,i,r,a){if(this.owner.removed&&!this.matchesTrigger("ThisDied")||!this.owner.abilityValidCheck())return!1;try{const s=Object.assign({gameApi:e,triggerPet:t,tiger:i,pteranodon:r},a);return!(this.condition&&!this.condition(s)||(this.currentUses++,"Pet"===this.abilityType&&(this.owner.triggersConsumed=Math.max(this.owner.triggersConsumed,this.currentUses)),this.abilityFunction(s),0))}catch(s){return console.error(`Error executing ability ${this.name||"unnamed"}:`,s),!1}}tigerCheck(e,t){if(this.ignoreRepeats||"Pet"!=this.abilityType)return!1;const i=null!=t?t:this.owner.petBehind(!0,!0);return!(!i||!i.hasTrigger(null,null,"TigerAbility")||null!=e&&0!=e)}triggerTigerExecution(e){var t;const i=null!==(t=e.tigerSupportPet)&&void 0!==t?t:this.owner.petBehind(!0,!0);if(!this.tigerCheck(e.tiger,i)||!this.canUse())return;let r=this.abilityLevel,a=this.alwaysIgnorePetLevel;this.abilityLevel=i.level,this.alwaysIgnorePetLevel=!0;const{gameApi:s,triggerPet:o,pteranodon:c}=e,d=function YN(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(e,["gameApi","triggerPet","tiger","pteranodon"]);this.execute(s,o,!0,c,d),this.abilityLevel=r,this.alwaysIgnorePetLevel=a}reset(){this.currentUses=0}initUses(){this.currentUses=this.initialCurrentUses}copy(e){return null}matchesTrigger(e){return this.triggers.includes(e)}get level(){return this.alwaysIgnorePetLevel?this.abilityLevel:this.owner.level}get minExpForLevel(){return nP(this.level)}}class yU extends S{constructor(e,t,i){super({name:"WhiteTruffleAbility",owner:e,triggers:["FriendDied"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const{tiger:a}=e,s=this.owner;for(let o=0;o<this.equipment.multiplier;o++){let l=s.parent.opponent.getHighestAttackPet(void 0,s);l.pet&&(s.jumpAttackPrep(l.pet),s.jumpAttack(l.pet,a,null,l.random))}s.removePerk()}}class ZN extends Y{constructor(e){super(),this.logService=e,this.name="White Truffle",this.equipmentClass="faint",this.callback=t=>{t.addAbility(new yU(t,this,this.logService))}}}class lP extends Y{constructor(){super(...arguments),this.name="Salt",this.tier=4,this.equipmentClass="attack",this.uses=1,this.originalUses=1}}class wp extends Y{constructor(){super(...arguments),this.name="Maple Syrup",this.tier=5,this.equipmentClass="shield",this.power=0,this.originalPower=0,this.uses=2,this.originalUses=2}}class cP extends Y{constructor(){super(...arguments),this.name="Maple Syrup (Attack)",this.equipmentClass="attack",this.power=0,this.originalPower=0}}class uP extends Y{constructor(){super(...arguments),this.name="Cheese",this.equipmentClass="attack",this.uses=1,this.originalUses=1}}class hP extends Y{constructor(){super(),this.name="Fortune Cookie",this.equipmentClass="attack"}}class dP extends Y{constructor(){super(...arguments),this.name="Pepper",this.equipmentClass="shield",this.uses=1,this.originalUses=1,this.power=0,this.originalPower=0}}class Tp extends Y{constructor(){super(...arguments),this.name="Icky",this.equipmentClass="ailment-other",this.uses=2,this.originalUses=2}}class pP extends Y{constructor(){super(...arguments),this.name="Sleepy",this.equipmentClass="ailment-other"}}class JN extends Y{constructor(){super(...arguments),this.name="Honeydew Melon",this.tier=5,this.equipmentClass="shield",this.power=10,this.originalPower=10,this.uses=1,this.originalUses=1}}class vU extends Y{constructor(){super(...arguments),this.name="Honeydew Melon (Attack)",this.equipmentClass="attack",this.power=5,this.originalPower=5}}class mP extends Y{constructor(){super(...arguments),this.name="Guava",this.tier=3,this.equipmentClass="shield",this.power=3,this.originalPower=3,this.uses=1,this.originalUses=1}}class bU extends Y{constructor(){super(...arguments),this.name="Guava (Attack)",this.equipmentClass="attack",this.power=3,this.originalPower=3}}function gP(n,e,t,i,r=!1){var a,s,o,l,c,d,p,g,k,T,E;let L=null===(a=n.equipment)||void 0===a?void 0:a.multiplier,R=null===(s=e.equipment)||void 0===s?void 0:s.multiplier;const x=["Cold","Weak","Spooked"],G=["Ink"];let W,ee,q="defense"==(null===(o=e.equipment)||void 0===o?void 0:o.equipmentClass)||"shield"==(null===(l=e.equipment)||void 0===l?void 0:l.equipmentClass)||"ailment-defense"==(null===(c=e.equipment)||void 0===c?void 0:c.equipmentClass)||r&&"shield-snipe"==(null===(d=e.equipment)||void 0===d?void 0:d.equipmentClass)?e.equipment:null;if(null!=q)if("Strawberry"===q.name){const Ye=e.getSparrowLevel();Ye<=0||null!=q.uses&&q.uses<=0?q=null:q.power=5*Ye}else{if(x.includes(null==q?void 0:q.name))for(let Ye of t)R+=Ye;q.power=q.originalPower*R}if(r)W="attack-snipe"==(null===(p=n.equipment)||void 0===p?void 0:p.equipmentClass)?n.equipment:null,ee=null!=W?i+W.power:i,q instanceof wp&&(q=null);else{if(W=n.equipment instanceof JN?new vU:n.equipment instanceof wp?new cP:n.equipment instanceof mP?new bU:"attack"==(null===(g=n.equipment)||void 0===g?void 0:g.equipmentClass)||"ailment-attack"==(null===(k=n.equipment)||void 0===k?void 0:k.equipmentClass)?n.equipment:null,null!=W){if(G.includes(null==W?void 0:W.name))for(let Kt of t)L+=Kt;W.power=W.originalPower*L}let Ye=n.attack;"Monty"==n.name&&(Ye*=n.level+1),ee=(null!=i?i:Ye)+((null==W?void 0:W.power)?W.power:0)}let re=(null==q?void 0:q.power)?q.power:0,ce=e.getSparrowLevel();"Strawberry"===(null===(T=e.equipment)||void 0===T?void 0:T.name)&&ce>0&&(re+=5*ce),e.equipment instanceof wp&&e.equipment.uses>0&&!r&&(ee=Math.floor(ee*Math.pow(.5,R))),W instanceof lP&&!r&&(ee*=2+L-1),W instanceof cP&&!r&&(ee=Math.floor(ee*Math.pow(.5,L)));let ge=!1;if(W instanceof hP&&!r&&Math.random()<.5&&(ee*=2+L-1,ge=!0),W instanceof uP&&!r&&(ee=Math.max(15,ee)),e.equipment instanceof Tp){let Ye=2;for(let nt of t)Ye+=nt;Ye+=e.equipment.multiplier-1,ee*=Ye}let de,Ne="shield"==(null==q?void 0:q.equipmentClass)||"shield-snipe"==(null==q?void 0:q.equipmentClass)?0:1;void 0!==(null==q?void 0:q.minimumDamage)&&(Ne=q.minimumDamage),de=ee<=Ne&&re>0?Math.max(ee,0):Math.max(Ne,ee-re),"Inked"===(null===(E=n.equipment)||void 0===E?void 0:E.name)&&de>0&&(de=Math.max(0,de-3)),q instanceof dP&&(de=Math.min(de,e.health-1));const st=(Ye=>{let nt=Ye,Lt=0,Kt=0,Ve=0,Vi=0;if(e.hasTrigger(void 0,"Pet","FairyAbility")){for(let oi of e.abilityList)if("FairyAbility"==oi.name){const At=2*oi.level;Lt+=At,nt=Math.max(0,nt-At)}nt<1&&(nt=1)}if(e.hasTrigger(void 0,"Pet","NurikabeAbility")&&nt>0)for(let oi of e.abilityList)"NurikabeAbility"==oi.name&&(Kt=4*oi.level,nt=Math.max(0,nt-Kt),oi.currentUses++);if(e.hasTrigger(void 0,"Pet","FanMusselAbility")&&nt>0)for(let oi of e.abilityList)if("FanMusselAbility"==oi.name){const At=1*oi.level;Ve+=At,nt=Math.max(0,nt-At),oi.currentUses++}if(r&&e.hasTrigger(void 0,"Pet","GhostKittenAbility")&&nt>0)for(let oi of e.abilityList)if("GhostKittenAbility"==oi.name){const At=3*oi.level;Vi+=At,nt=Math.max(0,nt-At)}return{damage:nt,fairyBallReduction:Lt,nurikabe:Kt,fanMusselReduction:Ve,ghostKittenReduction:Vi}})(de);return de=st.damage,{defenseEquipment:q,attackEquipment:W,damage:de,fortuneCookie:ge,nurikabe:st.nurikabe,fairyBallReduction:st.fairyBallReduction,fanMusselReduction:st.fanMusselReduction,mapleSyrupReduction:0,ghostKittenReduction:st.ghostKittenReduction}}function _p(n,e,t){var i;if(e.alive){if(t>=e.health&&"Bok Choy"==(null===(i=e.equipment)||void 0===i?void 0:i.name)){let r=4*e.equipment.multiplier;n.createLog({message:`${e.name} gained ${r} health (Bok Choy) ${e.equipment.multiplierMessage} `,type:"equipment",player:e.parent}),e.increaseHealth(r),e.removePerk()}e.health-=t,e.health<=0&&(e.killedBy=n),t>0&&e.timesHurt++,e.health<1&&n.triggerKillEventsFor(e),t>0&&n.triggerHurtEventsFor(e,t)}}class wU extends S{constructor(e,t,i){super({name:"StrawberryAbility",owner:e,triggers:["ThisDied"],abilityType:"Equipment",native:!0,maxUses:t.originalUses,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner,i=t.parent.getLastPet();if(i.pet){const r=1*this.equipment.multiplier;this.logService.createLog({message:`${t.name} (Strawberry) gave ${i.pet.name} +${r} attack and +${r} health${this.equipment.multiplierMessage}.`,type:"equipment",player:t.parent,randomEvent:i.random}),i.pet.increaseAttack(r),i.pet.increaseHealth(r)}}}class Fy extends Y{constructor(e){super(),this.logService=e,this.name="Strawberry",this.equipmentClass="shield",this.tier=1,this.uses=2,this.originalUses=2,this.callback=t=>{t.addAbility(new wU(t,this,this.logService))}}}class y{constructor(e,t,i){this.logService=e,this.abilityService=t,this.hidden=!1,this.exp=0,this.mana=0,this.triggersConsumed=0,this.sellValue=1,this.baseSellValue=1,this.swallowedPets=[],this.friendsDiedBeforeBattle=0,this.timesHurt=0,this.timesAttacked=0,this.battlesFought=0,this.transformedInto=null,this.abilityCounter=0,this.targettedFriends=new Set,this.originalExp=0,this.originalTimesHurt=0,this.faintPet=!1,this.toyPet=!1,this.transformed=!1,this.removed=!1,this.startOfBattleTriggered=!1,this.jumped=!1,this.done=!1,this.seenDead=!1,this.eggplantTouched=!1,this.cherryTouched=!1,this.clearFrontTriggered=!1,this.maxAbilityUses=null,this.abilityList=[],this.originalAbilityList=[],this.parent=i}initPet(e,t,i,r,a,s){this.exp=null!=e?e:this.exp,this.health=null!=t?t:this.health*this.level,this.attack=null!=i?i:this.attack*this.level,this.mana=null!=r?r:this.mana,this.triggersConsumed=null!=s?s:this.triggersConsumed,this.originalHealth=this.health,this.originalAttack=this.attack,this.originalMana=this.mana,this.originalTriggersConsumed=this.triggersConsumed,this.equipment=a,this.originalEquipment=a,this.originalExp=this.exp,this.baseSellValue=this.level,this.sellValue=this.baseSellValue,this.initAbilities(),this.originalAbilityList=[...this.abilityList]}initAbilities(){this.initAbilityUses(),this.setAbilityEquipments()}abilityValidCheck(){return!(null==this.savedPosition||this.equipment instanceof kp&&(this.logService.createLog({message:`${this.name}'s ability was not activated because of Dazed.`,type:"ability",player:this.parent}),1))}resetAbilityUses(){this.abilityList.forEach(e=>{e.reset()})}initAbilityUses(){this.abilityList.forEach(e=>{e.initUses()})}attackPet(e,t=!1,i,r=!1){!function AU(n,e,t=!1,i,r=!1){var a,s,o,l,c,d;n.timesAttacked++;let p=gP(n,e,n.getManticoreMult(),i),g=p.attackEquipment,k=p.defenseEquipment,T=p.damage;const E=n.equipment instanceof pP;E&&(T=Math.floor(T/2));let x,L=null===(a=n.equipment)||void 0===a?void 0:a.multiplier,R=null===(s=e.equipment)||void 0===s?void 0:s.multiplier;if(n.currentTarget=e,t?(x=`${n.name} jump-attacks ${e.name} for ${T}.`,n.equipment instanceof ZN&&(x+="(White Truffle)")):x=`${n.name} attacks ${e.name} for ${T}.`,E&&(x+=" (Sleepy x0.5)"),g instanceof Ry&&T>0)n.createLog({message:`${x} (Peanut)`,type:"attack",player:n.parent,sourcePet:n,targetPet:e,randomEvent:r}),_p(n,e,T),e.killedBy=n,e.health=0;else if(g instanceof Sp&&T>0&&g.uses>0)n.createLog({message:`${x} (Peanut Butter)`,type:"attack",player:n.parent,sourcePet:n,targetPet:e,randomEvent:r}),e.killedBy=n,_p(n,e,T),e.health=0;else{if(_p(n,e,T),null!=g){let re=Math.abs(g.power),ce="-";g.power>0&&(ce="+");let ue=`${ce}${re}`;g instanceof lP&&(ue="x2"),g instanceof cP&&(ue="x0.5"),g instanceof uP&&(ue=T<=15?"=15":"+0"),g instanceof hP&&(r=!0,p.fortuneCookie?(ue="x2",g.multiplier>1&&(ue+=g.multiplierMessage)):ue="x1"),x+=` (${g.name} ${ue})`,L>1&&(x+=n.equipment.multiplierMessage)}if(null!=k){let re=Math.abs(k.power),ce="-";if(k.power<0&&(ce="+"),"Coconut"===k.name)x+=` (${k.name} block)`;else if("Strawberry"===k.name){let ue=e.getSparrowLevel();ue>0&&(re=5*ue,x+=` (Strawberry -${re} (Sparrow))`)}else k instanceof dP?(ce=1==e.health?"!":"-",re="",x+=` (${k.name} ${ce}${re})`):k instanceof wp?(re="x0.5",x+=` (${k.name} ${re})`):x+=` (${k.name} ${ce}${re})`;R>1&&(x+=e.equipment.multiplierMessage)}e.equipment instanceof Tp&&(x+="x2 (Icky)",e.equipment.multiplier>1&&(x+=e.equipment.multiplierMessage)),p.nurikabe>0&&(x+=` -${p.nurikabe} (Nurikabe)`),p.fairyBallReduction>0&&(x+=` -${p.fairyBallReduction} (Fairy Ball)`),p.fanMusselReduction>0&&(x+=` -${p.fanMusselReduction} (Fan Mussel)`),p.ghostKittenReduction>0&&(x+=` -${p.ghostKittenReduction} (Ghost Kitten)`),p.mapleSyrupReduction>0&&(x+=` -${p.mapleSyrupReduction} (Maple Syrup)`);let O=n.getManticoreMult(),W=["Weak","Cold","Icky","Spooked"].includes(null===(o=e.equipment)||void 0===o?void 0:o.name);if(O.length>0&&W)for(let re of O)x+=` x${re+1} (Manticore)`;n.createLog({message:x,type:"attack",player:n.parent,sourcePet:n,targetPet:e,randomEvent:r});let ee="skewer"==(null===(l=n.equipment)||void 0===l?void 0:l.equipmentClass)?n.equipment:null;null!=ee&&ee.attackCallback(n,e)}E&&n.removePerk(),n.triggerAttackEventsFor(),n.applyCrisp();const G=null===(d=null===(c=n.parent.opponent)||void 0===c?void 0:c.petArray)||void 0===d?void 0:d[0];G&&G.applyCrisp()}(this,e,t,i,r)}applyCrisp(){const e=this.parent.opponent.getManticoreMult();for(let t of this.parent.petArray)t.equipment instanceof Ol?KN.applyDamage({pet:t,baseDamage:6,perkName:"Crisp",manticoreMultipliers:e,logService:this.logService,afterDamage:i=>i.removePerk()}):t.equipment instanceof eP&&t.equipment.uses>0&&KN.applyDamage({pet:t,baseDamage:1,perkName:"Toasty",manticoreMultipliers:e,logService:this.logService,afterDamage:i=>{i.equipment.uses--,i.equipment.uses<=0&&i.removePerk()}})}snipePet(e,t,i,r,a,s,o){return function kU(n,e,t,i,r,a,s,o){var l,c,d,p,g,k,T;let E=!1;"Albatross"==(null===(l=n.petAhead)||void 0===l?void 0:l.name)&&e.tier<=4&&(t+=3*n.petAhead.level,E=!0),"Albatross"==(null===(c=n.petBehind())||void 0===c?void 0:c.name)&&e.tier<=4&&(t+=3*n.petBehind().level,E=!0);let L=gP(n,e,n.getManticoreMult(),t,!0),R=L.attackEquipment,x=L.defenseEquipment,G=L.damage;"Kiwano"===(null===(d=n.equipment)||void 0===d?void 0:d.name)&&G>0&&(G=10,n.createLog({message:`${n.name} set damage to 10. (Kiwano)`,type:"equipment",player:n.parent}),n.removePerk()),_p(n,e,G);let O=`${n.name} sniped ${e.name} for ${G}.`;if(null!=x){e.useDefenseEquipment(!0);let re=Math.abs(x.power),ce="-";if(x.power<0&&(ce="+"),"Coconut"===x.name)O+=` (${x.name} block)`;else if("Strawberry"===x.name){let ue=e.getSparrowLevel();ue>0&&(re=5*ue,O+=` (Strawberry -${re} (Sparrow))`)}else O+=` (${x.name} ${ce}${re})`;O+=x.multiplierMessage}if(null!=R&&"attack-snipe"==R.equipmentClass){let re=Math.abs(R.power),ce="-";R.power>0&&(ce="+"),O+=` (${R.name} ${ce}${re})`}(null===(p=n.equipment)||void 0===p?void 0:p.multiplier)>1&&(O+=n.equipment.multiplierMessage),r&&(O+=" (Tiger)"),E&&(O+=" (Albatross)"),s&&n.equipment&&(O+=` (${n.equipment.name})`),o&&(O+=" (Mana)"),"Icky"==(null===(g=e.equipment)||void 0===g?void 0:g.name)&&(O+="x2 (Icky)",e.equipment.multiplier>1&&(O+=e.equipment.multiplierMessage));let q=n.getManticoreMult(),ee=["Weak","Cold","Icky","Spooked"].includes(null===(k=e.equipment)||void 0===k?void 0:k.name);if(q.length>0&&ee)for(let re of q)O+=` x${re+1} (Manticore)`;return L.nurikabe>0&&(O+=` -${L.nurikabe} (Nurikabe)`),L.fairyBallReduction>0&&(O+=` -${L.fairyBallReduction} (Fairy Ball)`),L.fanMusselReduction>0&&(O+=` -${L.fanMusselReduction} (Fan Mussel)`),L.ghostKittenReduction>0&&(O+=` -${L.ghostKittenReduction} (Ghost Kitten)`),n.createLog({message:O,type:"attack",randomEvent:i,player:n.parent,sourcePet:n,targetPet:e,pteranodon:a}),null!=R&&"attack-snipe"==R.equipmentClass&&null!=(null===(T=n.equipment)||void 0===T?void 0:T.uses)&&(n.equipment.uses-=1,n.equipment.uses<=0&&n.removePerk()),G}(this,e,t,i,r,a,s,o)}calculateDamage(e,t,i,r=!1){return gP(this,e,t,i,r)}resetPet(){!function PU(n){var e;n.health=n.originalHealth,n.attack=n.originalAttack,n.equipment=n.originalEquipment,n.lastLostEquipment=null,n.mana=n.originalMana,n.triggersConsumed=n.originalTriggersConsumed,n.exp=n.originalExp,n.timesHurt=n.originalTimesHurt,n.timesAttacked=0,n.abilityCounter=0,n.transformed=!1,n.transformedInto=null,n.currentTarget=null,n.lastAttacker=null,n.killedBy=null,n.swallowedPets=[],n.targettedFriends.clear(),n.savedPosition=n.originalSavedPosition,n.abilityList=[...n.originalAbilityList],n.initAbilityUses(),n.done=!1,n.seenDead=!1,n.removed=!1,n.jumped=!1,n.clearFrontTriggered=!1;try{null===(e=n.equipment)||void 0===e||e.reset()}catch(t){console.warn("equipment reset failed",n.equipment),console.error(t)}n.equipment&&(n.equipment.multiplier=1,n.equipment.multiplierMessage="")}(this)}jumpAttackPrep(e){this.abilityService.triggerBeforeAttackEvent(this),this.abilityService.triggerBeforeAttackEvent(e),this.abilityService.executeBeforeAttackEvents()}jumpAttack(e,t,i,r=!1){!function SU(n,e,t,i,r=!1){let a;e.lastAttacker=n,a=n.transformed?n.transformedInto:n,e.transformed&&(e=e.transformedInto),a.alive&&e.alive&&(a.attackPet(e,!0,i,r),e.attackPet(a),a.useAttackDefenseEquipment(),e.useAttackDefenseEquipment(),a.parent.checkPetsAlive(),e.parent.checkPetsAlive(),a.executeAfterAttackEvents(),a.triggerJumpEventsFor())}(this,e,0,i,r)}get alive(){return this.health>0}setFaintEventIfPresent(){this.abilityService.triggerFaintEvents(this),this.mana>0&&this.abilityService.setManaEvent({priority:this.attack,callback:(e,t,i,r)=>{if(0==this.mana||this.kitsuneCheck())return;const s=this.parent.opponent.getRandomPet([],!1,!0,!1,this);null!=s.pet&&(this.snipePet(s.pet,this.mana,s.random,!1,!1,!1,!0),this.mana=0)},pet:this,triggerPet:this,tieBreaker:Math.random()})}useDefenseEquipment(e=!1){!this.canConsumeDefenseEquipment(e)||(this.equipment.uses-=1,0==this.equipment.uses&&this.removePerk())}useAttackDefenseEquipment(){!this.canConsumeAttackDefenseEquipment()||(this.equipment.uses-=1,0==this.equipment.uses&&this.removePerk())}canConsumeDefenseEquipment(e){return!(!this.equipment||"ailment-defense"!=this.equipment.equipmentClass&&"Icky"!=this.equipment.name&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&e&&"shield-snipe"!=this.equipment.equipmentClass||null==this.equipment.uses||"Strawberry"===this.equipment.name&&(this.getSparrowLevel()<=0||this.equipment.uses<=0))}canConsumeAttackDefenseEquipment(){return!(!this.equipment||null==this.equipment.uses||"Strawberry"===this.equipment.name&&(this.getSparrowLevel()<=0||this.equipment.uses<=0)||"attack"!=this.equipment.equipmentClass&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&"snipe"!=this.equipment.equipmentClass&&"ailment-attack"!=this.equipment.equipmentClass&&"ailment-defense"!=this.equipment.equipmentClass&&"Icky"!=this.equipment.name||(isNaN(this.equipment.uses)&&console.warn("uses is NaN",this.equipment),0))}increaseAttack(e){var t;let i=50;"Behemoth"==this.name&&(i=100),!(e>0&&"Sad"===(null===(t=this.equipment)||void 0===t?void 0:t.name))&&(!this.alive||(this.attack=Math.min(Math.max(this.attack+e,1),i)))}increaseHealth(e){var t;let i=50;("Behemoth"==this.name||"Giant Tortoise"==this.name)&&(i=100),!(e>0&&"Sad"===(null===(t=this.equipment)||void 0===t?void 0:t.name))&&(!this.alive||(this.health=Math.min(Math.max(this.health+e,1),i),this.abilityService.triggerFriendGainsHealthEvents(this)))}increaseSellValue(e){e<=0||(this.sellValue+=e)}dealDamage(e,t){var i;t>0&&"Kiwano"===(null===(i=this.equipment)||void 0===i?void 0:i.name)&&(t=10,this.logService.createLog({message:`${this.name} set damage to 10. (Kiwano)`,type:"equipment",player:this.parent}),this.removePerk()),_p(this,e,t)}triggerHurtEventsFor(e,t){this.abilityService.triggerHurtEvents(e,t)}triggerKillEventsFor(e){this.abilityService.triggerKillEvents(this,e)}triggerAttackEventsFor(){this.abilityService.triggerAttacksEvents(this)}executeAfterAttackEvents(){this.abilityService.executeAfterAttackEvents()}triggerJumpEventsFor(){this.abilityService.triggerJumpEvents(this)}createLog(e){this.logService.createLog(e)}increaseExp(e){let t=this.level;this.increaseAttack(e),this.increaseHealth(e),this.exp=Math.min(this.exp+e,5);let i=this.level-t;i>0&&(this.baseSellValue+=i,this.sellValue+=i);for(let r=0;r<i;r++)this.logService.createLog({message:`${this.name} leveled up to level ${this.level}.`,type:"ability",player:this.parent}),this.abilityService.triggerLevelUpEvents(this),this.abilityService.executeFriendlyLevelUpToyEvents(),this.resetAbilityUses();for(let r=0;r<Math.min(e,5);r++)this.abilityService.triggerFriendGainedExperienceEvents(this)}increaseMana(e){this.mana+=e,this.mana=Math.min(this.mana,50),this.abilityService.triggerManaGainedEvents(this)}givePetEquipment(e,t=1){var i,r;if(null!=e){if(this.alive){if("Bloated"===(null===(i=this.equipment)||void 0===i?void 0:i.name)&&!(null===(r=e.equipmentClass)||void 0===r?void 0:r.startsWith("ailment")))return this.logService.createLog({message:`${this.name} blocked gaining ${e.name}. (Bloated)`,type:"equipment",player:this.parent}),void this.removePerk();if(!this.handleCorncobEquipment(e))if("ailment-attack"==e.equipmentClass||"ailment-defense"==e.equipmentClass||"ailment-other"==e.equipmentClass){if(this.applyAilmentEquipment(e,t))return}else this.applyStandardEquipment(e,t)}}else console.warn(`givePetEquipment called with null equipment for pet: ${this.name}`)}handleCorncobEquipment(e){var t;if("Corncob"!==e.name)return!1;const r=Math.max(1,Math.floor(null!==(t=e.effectMultiplier)&&void 0!==t?t:1));return this.attack<=this.health?this.increaseAttack(r):this.increaseHealth(r),this.abilityService.triggerFoodEvents(this,"corn"),!0}applyAilmentEquipment(e,t){var i;return!((null===(i=this.equipment)||void 0===i?void 0:i.name)!==e.name&&(this.equipment instanceof zN?(this.equipment.uses--,this.logService.createLog({message:`${this.name} blocked ${e.name}. (Ambrosia)`,type:"equipment",player:this.parent}),0==this.equipment.uses&&this.removePerk(),0):this.equipment instanceof tP?(this.logService.createLog({message:`${this.name} blocked ${e.name}. (White Okra)`,type:"equipment",player:this.parent}),this.removePerk(),0):this.equipment instanceof Fy&&this.getSparrowLevel()>0&&this.equipment.uses>0?(this.logService.createLog({message:`${this.name} blocked ${e.name}. (Strawberry)`,type:"equipment",player:this.parent}),this.removePerk(),0):(null!=this.equipment&&this.removePerk(!0),this.applyEquipment(e,t),this.abilityService.triggerAilmentGainEvents(this,e.name),0)))}applyStandardEquipment(e,t){if(e instanceof jN){this.applyEquipment(e,t);const i=1*e.multiplier,r=2*e.multiplier;this.increaseAttack(i),this.increaseHealth(r),this.logService.createLog({message:`${this.name} gained ${i} attack and ${r} health (Blackberry)${e.multiplierMessage}`,type:"equipment",player:this.parent})}else this.applyEquipment(e,t);this.abilityService.triggerPerkGainEvents(this,e.name),this.abilityService.triggerFoodEvents(this,e.name)}applyEquipment(e,t=1){null!=e&&(this.equipment=e,this.setEquipmentMultiplier(t),this.removeAbility(void 0,"Equipment"),this.equipment.callback&&this.equipment.callback(this))}removePerk(e=!1){var t;if(null==this.equipment)return;let i="ailment-attack"==this.equipment.equipmentClass||"ailment-defense"==this.equipment.equipmentClass||"ailment-other"==this.equipment.equipmentClass;e&&i||(this.lastLostEquipment=this.equipment,this.removeAbility(void 0,"Equipment"),this.equipment=null,i||this.abilityService.triggerPerkLossEvents(this,null===(t=this.lastLostEquipment)||void 0===t?void 0:t.name))}setEquipmentMultiplier(e=1){var t;if(!this.equipment)return;let i=(null===(t=this.equipment)||void 0===t?void 0:t.multiplier)||1,r=[];"Panther"===this.name&&"ailment-attack"!==this.equipment.equipmentClass&&"ailment-defense"!==this.equipment.equipmentClass&&"ailment-other"!==this.equipment.equipmentClass&&(i+=this.level,r.push(`x${this.level+1} (Panther)`)),e&&e>1&&(i+=e-1,r.push(`x${e} (Pandora's Box)`)),this.equipment.multiplier=i,this.equipment.multiplierMessage=r.length>0?` ${r.join(" ")}`:""}get level(){return this.exp<2?1:this.exp<5?2:3}get position(){const e=this.parent;return e?this==e.pet0?0:this==e.pet1?1:this==e.pet2?2:this==e.pet3?3:this==e.pet4?4:this.savedPosition:this.savedPosition}petBehind(e=!1,t=!1){if(!this.parent)return null;for(let r=(void 0!==this.position?this.position:this.savedPosition)+1;r<5;r++){let a=this.parent.getPetAtPosition(r);if(t&&null!=a)return a;if(e&&null!=a&&!a.alive&&!a.seenDead)return null;if(null!=a&&a.alive)return a}return null}getManticoreMult(){const e=this.parent;if(!e||!e.petArray)return[];let t=[];for(let i of e.petArray)"Manticore"==i.name&&t.push(i.level);return t}getSparrowLevel(){const e=this.parent;if(!e||!Array.isArray(e.petArray))return 0;let t=0;for(let i of e.petArray)"Sparrow"==i.name&&(t=Math.max(t,i.level));return t}getPetsAhead(e,t=!1,i){var r,a;let s=[],o=this.petAhead;for(;o&&!(s.length>=e);)i&&(null===(r=o.equipment)||void 0===r?void 0:r.name)===i||s.push(o),o=o.petAhead;if(s.length<e&&1==t){let c=this.parent.opponent.furthestUpPet;for(;c&&!(s.length>=e);)i&&(null===(a=c.equipment)||void 0===a?void 0:a.name)===i||s.push(c),c=c.petBehind()}return s}getPetsBehind(e,t){var i;let r=[],a=this.petBehind();for(t&&a&&(null===(i=a.equipment)||void 0===i?void 0:i.name)===t&&(a=a.petBehind());a&&!(r.length>=e);)r.push(a),a=a.petBehind();return r}kitsuneCheck(){let e=this.petBehind(),t=!0;for(;e;){if("Kitsune"==e.name&&t)return!1;if(t=!1,"Kitsune"==e.name)return!0;e=e.petBehind()}return!1}get petAhead(){const e=this.parent;if(!e)return null;for(let i=(void 0!==this.position?this.position:this.savedPosition)-1;i>-1;i--){let r=e.getPetAtPosition(i);if(null!=r&&r.alive)return r}return null}get minExpForLevel(){return nP(this.level)}setAbilityEquipments(){var e,t;"Eggplant"==(null===(e=this.equipment)||void 0===e?void 0:e.name)?(this.equipment.callback(this),this.eggplantTouched=!0):(null===(t=this.equipment)||void 0===t?void 0:t.callback)&&this.equipment.callback(this)}addAbility(e){this.abilityList.push(e)}removeAbility(e,t){const i=this.abilityList.length;return this.abilityList=this.abilityList.filter(r=>!(e&&r.name===e||t&&r.abilityType===t||!e&&!t)),this.abilityList.length<i}getAbilities(e,t){return this.abilityList.filter(i=>!(e&&!i.matchesTrigger(e)||t&&i.abilityType!==t))}getAbilitiesWithTrigger(e,t,i){return this.abilityList.filter(r=>!(e&&!r.matchesTrigger(e)||!r.canUse()||t&&r.abilityType!==t||i&&r.name!==i))}executeAbilities(e,t,i,r,a,s){if(this.transformed&&this.transformedInto)return void this.transformedInto.executeAbilities(e,t,i,r,a,s);const o=this.getAbilitiesWithTrigger(e,"Pet");for(const c of o)if(c.execute(t,i,r,a,s),this.transformed&&this.transformedInto)return void this.transformedInto.executeAbilities(e,t,i,r,a,s);const l=this.getAbilitiesWithTrigger(e,"Equipment");for(const c of l)if(c.execute(t,i,r,a,s),this.transformed&&this.transformedInto)return void this.transformedInto.executeAbilities(e,t,i,r,a,s)}activateAbilities(e,t,i,r,a){const s=this.getAbilities(e,i);for(const o of s)o.execute(t,r,void 0,void 0,a)}copyAbilities(e,t,i){const r=e.getAbilities(void 0,t);this.removeAbility(void 0,t);for(const a of r){const s=a.copy(this);null!=s&&(i&&(s.abilityLevel=i,s.alwaysIgnorePetLevel=!0,s.reset()),a.native=!1,this.addAbility(s))}}gainAbilities(e,t,i){const r=e.getAbilities(void 0,t);for(const a of r){const s=a.copy(this);null!=s&&(i&&(s.abilityLevel=i,s.alwaysIgnorePetLevel=!0,s.reset()),a.native=!1,this.addAbility(s))}}hasAbility(e,t){return this.getAbilities(e,t).length>0}hasTrigger(e,t,i){return this.getAbilitiesWithTrigger(e,t,i).length>0}isSellPet(){return!!(["Beaver","Duck","Pig","Pillbug","Kiwi","Mouse","Frog","Bass","Tooth Billed Pigeon","Marmoset","Capybara","Platypus"].includes(this.name)||this.originalAbilityList.filter(t=>t.matchesTrigger("ThisSold")&&"Pet"==t.abilityType).length>0)}isFaintPet(){return this.originalAbilityList.filter(e=>(e.matchesTrigger("ThisDied")||e.matchesTrigger("BeforeThisDies")||e.matchesTrigger("ThisKilled"))&&"Pet"==e.abilityType).length>0}}function pa(n){let t,e=n.length;for(;0!=e;)t=Math.floor(Math.random()*e),e--,[n[e],n[t]]=[n[t],n[e]];return n}function _t(n,e){return n=Math.ceil(n),e=Math.floor(e),Math.floor(Math.random()*(e-n+1))+n}function fP(n){return Math.ceil(100*n)/100}function ma(n,e){let t;return t=n.player==e?n.opponent:n.player,t}function TU(n){var e,t,i,r,a,s,o;return new Ii({name:new ie(null!==(e=n.name)&&void 0!==e?e:null,mp.required),tier1Pets:new ie(null!==(t=n.tier1Pets)&&void 0!==t?t:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier2Pets:new ie(null!==(i=n.tier2Pets)&&void 0!==i?i:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier3Pets:new ie(null!==(r=n.tier3Pets)&&void 0!==r?r:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier4Pets:new ie(null!==(a=n.tier4Pets)&&void 0!==a?a:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier5Pets:new ie(null!==(s=n.tier5Pets)&&void 0!==s?s:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier6Pets:new ie(null!==(o=n.tier6Pets)&&void 0!==o?o:[],n=>n.value&&10!==n.value.length?{length:!0}:null)})}class Cp extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Puma",this.tier=6,this.pack="Puppy",this.attack=6,this.health=5,this.initPet(o,r,a,s,l,c)}}class yP extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Golden Retriever",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,r,a,s,l,c)}}class _U extends S{constructor(e,t,i){super({name:"OnionAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} pushed itself to the back. (Onion)`,type:"equipment",player:t.parent}),t.parent.pushPetToBack(t),t.parent.pushPetsForward(),t.removePerk()}}class XN extends Y{constructor(e){super(),this.logService=e,this.name="Onion",this.equipmentClass="beforeAttack",this.callback=t=>{t.addAbility(new _U(t,this,this.logService))}}}class Ny{constructor(e,t,i){this.logService=e,this.abilityService=t,this.gameService=i,this.pack="Turtle",this.trumpets=0,this.spawnedGoldenRetiever=!1,this.summonedBoatThisBattle=!1,this.isOpponent=!1,this.cannedAilments=[]}alive(){return this.petArray.length>0}resetPets(){var e,t,i,r,a;this.pet0=this.orignalPet0,null===(e=this.pet0)||void 0===e||e.resetPet(),this.pet1=this.orignalPet1,null===(t=this.pet1)||void 0===t||t.resetPet(),this.pet2=this.orignalPet2,null===(i=this.pet2)||void 0===i||i.resetPet(),this.pet3=this.orignalPet3,null===(r=this.pet3)||void 0===r||r.resetPet(),this.pet4=this.orignalPet4,null===(a=this.pet4)||void 0===a||a.resetPet(),this.orignalPet0=this.pet0,this.orignalPet1=this.pet1,this.orignalPet2=this.pet2,this.orignalPet3=this.pet3,this.orignalPet4=this.pet4,this.toy=this.originalToy,this.toy&&(this.toy.used=!1,this.toy.triggers=0),this.brokenToy=null,this.trumpets=0,this.spawnedGoldenRetiever=!1,this.summonedBoatThisBattle=!1,this.cannedAilments=[]}resetJumpedFlags(){for(let e of this.petArray)e&&(e.jumped=!1)}setPet(e,t,i=!1){this.getPet(e),0==e&&(this.pet0=t,null!=t&&(this.pet0.savedPosition=0),i&&(this.orignalPet0=t)),1==e&&(this.pet1=t,null!=t&&(this.pet1.savedPosition=1),i&&(this.orignalPet1=t)),2==e&&(this.pet2=t,null!=t&&(this.pet2.savedPosition=2),i&&(this.orignalPet2=t)),3==e&&(this.pet3=t,null!=t&&(this.pet3.savedPosition=3),i&&(this.orignalPet3=t)),4==e&&(this.pet4=t,null!=t&&(this.pet4.savedPosition=4),i&&(this.orignalPet4=t)),i&&null!=t&&(t.originalSavedPosition=t.savedPosition)}getPet(e){return this[`pet${e}`]}pushPetsForward(){let e=(0,mi.clone)(this.petArray);try{this.setPet(0,e[0])}catch(t){this.pet0=null}try{this.setPet(1,e[1])}catch(t){this.pet1=null}try{this.setPet(2,e[2])}catch(t){this.pet2=null}try{this.setPet(3,e[3])}catch(t){this.pet3=null}try{this.setPet(4,e[4])}catch(t){this.pet4=null}}onionCheck(){var e;null!=(null===(e=this.pet0)||void 0===e?void 0:e.equipment)&&this.pet0.equipment instanceof XN&&(this.pet0.equipment.callback(this.pet0),this.pushPetsForward())}summonPet(e,t,i=!1,r){if(r&&this.hasSilly(r)){let s=Math.random()<.5?this:this.opponent,o=_t(0,4);return e.parent=s,{success:s.summonPet(e,o,i,void 0).success,randomEvent:!0}}return t<0||t>4||5==this.petArray.length?(i||this.logService.createLog({message:`No room to spawn ${e.name}!`,type:"ability",player:this}),{success:!1,randomEvent:!1}):(this==this.gameService.gameApi.player?this.gameService.gameApi.playerSummonedAmount++:this.gameService.gameApi.opponentSummonedAmount++,0==t&&(null!=this.pet0&&this.makeRoomForSlot(0),this.setPet(0,e)),1==t&&(null!=this.pet1&&this.makeRoomForSlot(1),this.setPet(1,e)),2==t&&(null!=this.pet2&&this.makeRoomForSlot(2),this.setPet(2,e)),3==t&&(null!=this.pet3&&this.makeRoomForSlot(3),this.setPet(3,e)),4==t&&(null!=this.pet4&&this.makeRoomForSlot(4),this.setPet(4,e)),this.abilityService.triggerSummonEvents(e),{success:!0,randomEvent:!1})}transformPet(e,t){var i;const r=null!==(i=null==e?void 0:e.parent)&&void 0!==i?i:this;t.parent!==r&&(t.parent=r),r.setPet(e.position,t),r===this.gameService.gameApi.player?this.gameService.gameApi.playerTransformationAmount++:this.gameService.gameApi.opponentTransformationAmount++,e.transformed=!0,e.transformedInto=t,t.applyEquipment(t.equipment),r.abilityService.triggerTransformEvents(e)}pushForwardFromSlot(e){let t=null,i=!1;if(e>0&&null==this.pet0&&(i=!0,t=0),e>1&&null==this.pet1&&(i=!0,t=1),e>2&&null==this.pet2&&(i=!0,t=2),e>3&&null==this.pet3&&(i=!0,t=3),i){for(let r=t;r<e;r++)this[`pet${r}`]=this[`pet${r+1}`];return!0}return!1}pushBackwardFromSlot(e){let t=null,i=!1;if(e<4&&null==this.pet4&&(i=!0,t=4),e<3&&null==this.pet3&&(i=!0,t=3),e<2&&null==this.pet2&&(i=!0,t=2),e<1&&null==this.pet1&&(i=!0,t=1),i){for(let r=t;r>e;r--)this[`pet${r}`]=this["pet"+(r-1)];return!0}return!1}makeRoomForSlot(e){5!=this.petArray.length?this.pushForwardFromSlot(e)||this.pushBackwardFromSlot(e):console.warn("No room to Make Room")}get petArray(){let e=[];return null!=this.pet0&&e.push(this.pet0),null!=this.pet1&&e.push(this.pet1),null!=this.pet2&&e.push(this.pet2),null!=this.pet3&&e.push(this.pet3),null!=this.pet4&&e.push(this.pet4),e}handleDeath(e){e.seenDead=!0,e.setFaintEventIfPresent(),this.createDeathLog(e)}checkPetsAlive(){this.pet0&&!this.pet0.alive&&!this.pet0.seenDead&&this.handleDeath(this.pet0),this.pet1&&!this.pet1.alive&&!this.pet1.seenDead&&this.handleDeath(this.pet1),this.pet2&&!this.pet2.alive&&!this.pet2.seenDead&&this.handleDeath(this.pet2),this.pet3&&!this.pet3.alive&&!this.pet3.seenDead&&this.handleDeath(this.pet3),this.pet4&&!this.pet4.alive&&!this.pet4.seenDead&&this.handleDeath(this.pet4)}removeDeadPets(){let e=!1;const t=[{pet:this.pet0,index:0},{pet:this.pet1,index:1},{pet:this.pet2,index:2},{pet:this.pet3,index:3},{pet:this.pet4,index:4}];for(const i of t)i.pet&&!i.pet.alive&&(i.pet.removed=!0,this.abilityService.triggerAfterFaintEvents(i.pet),this[`pet${i.index}`]=null,e=!0);return e}createDeathLog(e){this.logService.createLog({message:`${e.name} fainted.`,type:"death",player:e.parent})}getRandomPet(e,t,i,r,a,s){if(a&&this.hasSilly(a)){let c=this.getRandomLivingPet();return{pet:c.pet,random:c.random}}let o=[];if(o=s?[...this.petArray,...this.opponent.petArray]:this.petArray,t&&i){let c=this.getPetsWithEquipment("Donut").filter(p=>{null==e||e.includes(p)}),d=this.getPetsWithEquipment("Blueberry").filter(p=>{null==e||e.includes(p)});(c.length>0||d.length>0)&&(o=[...c,...d])}else if(t){let c=this.getPetsWithEquipment("Donut").filter(d=>{null==e||e.includes(d)});c.length>0&&(o=c),r&&(o=o.filter(d=>50!=d.health||50!=d.attack||d.hasTrigger(void 0,"Pet","BehemothAbility")||d.hasTrigger(void 0,"Pet","GiantTortoiseAbility")),0==o.length&&(o=this.petArray))}else if(i){let c=this.getPetsWithEquipment("Blueberry").filter(d=>{null==e||e.includes(d)});c.length>0&&(o=c)}if(o=o.filter(c=>{let d=!0;return e&&(d=!e.includes(c)),d&&c.health>0}),r){let c=(0,mi.clone)(o);o=o.filter(d=>50!=d.health||50!=d.attack),0==o.length&&(o=c)}return 0==o.length?{pet:null,random:!1}:{pet:o[_t(0,o.length-1)],random:o.length>1}}getRandomPets(e,t,i,r,a,s){if(a&&this.hasSilly(a)){let c=this.getRandomLivingPets(e);return{pets:c.pets,random:c.random}}let o=[];t=null!=t?t:[];let l=!0;for(let c=0;c<e;c++){let d=this.getRandomPet(t,i,r,null,a,s);if(l=d.random,null==d.pet)break;t.push(d.pet),o.push(d.pet)}return{pets:o,random:l}}getRandomLivingPets(e){let t=[],i=[];const a=(s=>{let o=[...this.petArray,...this.opponent.petArray],l=this.getPetsWithEquipment("Donut").filter(g=>!(null==s?void 0:s.includes(g))),c=this.getPetsWithEquipment("Blueberry").filter(g=>!(null==s?void 0:s.includes(g))),d=this.opponent.getPetsWithEquipment("Donut").filter(g=>!(null==s?void 0:s.includes(g))),p=this.opponent.getPetsWithEquipment("Blueberry").filter(g=>!(null==s?void 0:s.includes(g)));return(l.length>0||c.length>0||d.length>0||p.length>0)&&(o=[...l,...c,...d,...p]),o.filter(g=>{let k=!0;return s&&(k=!s.includes(g)),k&&g.health>0})})(i).length;for(let s=0;s<e;s++){let o=this.getRandomLivingPet(i);if(null==o.pet)break;i.push(o.pet),t.push(o.pet)}return{pets:t,random:a>t.length}}getAll(e,t,i){if(t&&this.hasSilly(t))return{pets:[...this.petArray,...this.opponent.petArray].filter(s=>s.alive),random:!1};let r=[];return r=e?[...this.petArray,...this.opponent.petArray]:[...this.petArray],i&&(r=r.filter(a=>a!=t)),r=r.filter(a=>a.alive),{pets:r,random:!1}}getPetsWithEquipment(e){var t,i;let r=[];for(let a of this.petArray)!a.alive||("perk"==e?a.equipment&&!(null===(t=a.equipment.equipmentClass)||void 0===t?void 0:t.startsWith("ailment"))&&r.push(a):(null===(i=a.equipment)||void 0===i?void 0:i.name)==e&&r.push(a));return r}getPetsWithoutEquipment(e){let t=[];for(let i of this.petArray)!i.alive||("Perk"==e?(!i.equipment||i.equipment.name.startsWith("ailment"))&&t.push(i):(!i.equipment||i.equipment.name!=e)&&t.push(i));return t}getPetAtPosition(e){for(let t of this.petArray)if(t.position==e)return t;return null}getMiddleFriend(e){if(e&&this.hasSilly(e)){let i=this.getRandomLivingPet();return{pet:i.pet,random:i.random}}return{pet:this.getPet(2),random:!1}}getLastPet(e,t){if(t&&this.hasSilly(t)){let i=this.getRandomLivingPet();return{pet:i.pet,random:i.random}}for(let i of[...this.petArray].reverse())if(i.alive&&(!e||!e.includes(i)))return{pet:i,random:!1};return{pet:null,random:!1}}getLastPets(e,t,i){if(i&&this.hasSilly(i)){let o=this.getRandomLivingPets(e);return{pets:o.pets,random:o.random}}let r=[...this.petArray].filter(o=>o.alive&&(!t||!t.includes(o)));return 0===r.length?{pets:[],random:!1}:{pets:[...r].reverse().slice(0,e),random:!1}}getHighestHealthPet(e,t){if(t&&this.hasSilly(t)){let a=this.getRandomLivingPet();return{pet:a.pet,random:a.random}}if(0==this.petArray.filter(a=>a!=e&&a.alive).length)return{pet:null,random:!1};let r;for(let a in this.petArray){let o=this.petArray[+a];if(o!=e){if(null==r){r=[o];continue}if(o.health==r[0].health){r.push(o);continue}o.health>r[0].health&&(r=[o])}}return{pet:r[_t(0,r.length-1)],random:r.length>1}}getHighestAttackPet(e,t){if(t&&this.hasSilly(t)){let a=this.getRandomLivingPet();return{pet:a.pet,random:a.random}}let i;for(let a in this.petArray){let o=this.petArray[+a];if(o!=e&&o.alive){if(null==i){i=[o];continue}if(o.attack==i[0].attack){i.push(o);continue}o.attack>i[0].attack&&(i=[o])}}let r=null==i?null:i[_t(0,i.length-1)];return{pet:r,random:null!=r&&i.length>1}}getHighestAttackPets(e,t,i){if(i&&this.hasSilly(i)){let l=this.getRandomLivingPets(e);return{pets:l.pets,random:l.random}}let r=[...this.petArray].filter(l=>l.alive&&(!t||!t.includes(l)));if(0===r.length)return{pets:[],random:!1};let a=(0,mi.shuffle)(r);a.sort((l,c)=>c.attack-l.attack);let s=a.slice(0,e),o=!1;return s.length===e&&a.length>e&&s[e-1].attack===a[e].attack&&(o=!0),{pets:s,random:o}}getLowestAttackPets(e,t,i){if(i&&this.hasSilly(i)){let l=this.getRandomLivingPets(e);return{pets:l.pets,random:l.random}}let r=[...this.petArray].filter(l=>l.alive&&(!t||!t.includes(l)));if(0===r.length)return{pets:[],random:!1};let a=(0,mi.shuffle)(r);a.sort((l,c)=>l.attack-c.attack);let s=a.slice(0,e),o=!1;return s.length===e&&a.length>e&&s[e-1].attack===a[e].attack&&(o=!0),{pets:s,random:o}}getLowestAttackPet(e,t){if(t&&this.hasSilly(t)){let a=this.getRandomLivingPet();return{pet:a.pet,random:a.random}}let i;for(let a in this.petArray){let o=this.petArray[+a];if(o!=e&&o.alive){if(null==i){i=[o];continue}if(o.attack==i[0].attack){i.push(o);continue}o.attack<i[0].attack&&(i=[o])}}let r=null==i?null:i[_t(0,i.length-1)];return{pet:r,random:null!=r&&i.length>1}}getLowestHealthPet(e,t){if(t&&this.hasSilly(t)){let a=this.getRandomLivingPet();return{pet:a.pet,random:a.random}}let i;for(let a in this.petArray){let o=this.petArray[+a];if(o!=e&&o.alive){if(null==i){i=[o];continue}if(o.health==i[0].health){i.push(o);continue}o.health<i[0].health&&(i=[o])}}let r=null==i?null:i[_t(0,i.length-1)];return{pet:r,random:null!=r&&i.length>1}}getLowestHealthPets(e,t,i){if(i&&this.hasSilly(i)){let l=this.getRandomLivingPets(e);return{pets:l.pets,random:l.random}}let r=[...this.petArray].filter(l=>l.alive&&(!t||!t.includes(l)));if(0===r.length)return{pets:[],random:!1};let a=(0,mi.shuffle)(r);a.sort((l,c)=>l.health-c.health);let s=a.slice(0,e),o=!1;return s.length===e&&a.length>e&&s[e-1].health===a[e].health&&(o=!0),{pets:s,random:o}}getHighestHealthPets(e,t,i){if(i&&this.hasSilly(i)){let l=this.getRandomLivingPets(e);return{pets:l.pets,random:l.random}}let r=[...this.petArray].filter(l=>l.alive&&(!t||!t.includes(l)));if(0===r.length)return{pets:[],random:!1};let a=(0,mi.shuffle)(r);a.sort((l,c)=>c.health-l.health);let s=a.slice(0,e),o=!1;return s.length===e&&a.length>e&&s[e-1].health===a[e].health&&(o=!0),{pets:s,random:o}}getHighestTierPets(e,t,i){if(i&&this.hasSilly(i)){let l=this.getRandomLivingPets(e);return{pets:l.pets,random:l.random}}let r=[...this.petArray].filter(l=>l.alive&&(!t||!t.includes(l)));if(0===r.length)return{pets:[],random:!1};let a=(0,mi.shuffle)(r);a.sort((l,c)=>c.tier-l.tier);let s=a.slice(0,e),o=!1;return s.length===e&&a.length>e&&s[e-1].tier===a[e].tier&&(o=!0),{pets:s,random:o}}getTierXOrLowerPet(e,t,i){if(i&&this.hasSilly(i)){let s=this.getRandomLivingPet();return{pet:s.pet,random:s.random}}let r=[...this.petArray].filter(s=>s.alive&&s.tier<=e&&(!t||!t.includes(s)));return 0===r.length?{pet:null,random:!1}:{pet:r[_t(0,r.length-1)],random:r.length>1}}get furthestUpPet(){for(let e of this.petArray)if(e.alive)return e;return null}getFurthestUpPet(e,t){if(e&&this.hasSilly(e)){let i=this.getRandomLivingPet();return{pet:i.pet,random:i.random}}for(let i of this.petArray)if(i.alive){if(t&&t.includes(i))continue;return{pet:i,random:!1}}return{pet:null,random:!1}}getFurthestUpPets(e,t,i){if(i&&this.hasSilly(i)){let s=this.getRandomLivingPets(e);return{pets:s.pets,random:s.random}}let r=[...this.petArray].filter(s=>s.alive&&(!t||!t.includes(s)));return 0===r.length?{pets:[],random:!1}:{pets:r.slice(0,e),random:!1}}nearestPetsBehind(e,t,i){if(t&&this.hasSilly(t)){let o=this.getRandomLivingPets(e);return{pets:o.pets,random:o.random}}return{pets:t.getPetsBehind(2*e).filter(o=>!i||!i.includes(o)).slice(0,e),random:!1}}getThis(e){if(e&&this.hasSilly(e)){let t=this.getRandomLivingPet();return{pet:t.pet,random:t.random}}return{pet:e,random:!1}}getSpecificPet(e,t){if(e&&this.hasSilly(e)){let i=this.getRandomLivingPet();return{pet:i.pet,random:i.random}}return{pet:t,random:!1}}nearestPetsAhead(e,t,i,r){if(t&&this.hasSilly(t)){let l=this.getRandomLivingPets(e);return{pets:l.pets,random:l.random}}return{pets:t.getPetsAhead(2*e,r||!1).filter(l=>!i||!i.includes(l)).slice(0,e),random:!1}}breakToy(e=!1){if(null!=this.toy){if(this.brokenToy=this.toy,this.logService.createLog({message:`${this.toy.name} broke!`,type:"ability",player:this,randomEvent:!1}),null!=this.toy.onBreak){let t=[{callback:this.toy.onBreak.bind(this.toy),priority:99}],i=this.toy.level;for(let r of this.petArray)r instanceof Cp&&t.push({callback:()=>{this.toy.level=r.level,this.toy.onBreak(this.gameService.gameApi,!0),this.toy.level=i},priority:r.attack});t.sort((r,a)=>r.priority>a.priority?-1:r.priority<a.priority?1:0);for(let r of t)r.callback(this.gameService.gameApi)}this.toy=null,e&&this.setToy(this.brokenToy)}}setToy(e){this.toy=e}getStrongestPet(e){if(e&&this.hasSilly(e)){let s=this.getRandomLivingPet();return{pet:s.pet,random:s.random}}let t=[],i=-1,r=(0,mi.shuffle)(this.petArray.filter(s=>s.alive));for(let s of r){let o=s.attack+s.health;o>i?(i=o,t=[s]):o===i&&t.push(s)}return 0===t.length?{pet:null,random:!1}:{pet:t[_t(0,t.length-1)],random:t.length>1}}pushPetToFront(e,t=!1){this.pushPet(e,4,t)}pushPetToBack(e){this.pushPet(e,-4)}pushPet(e,t=1,i){var r;if("Brussels Sprout"===(null===(r=null==e?void 0:e.equipment)||void 0===r?void 0:r.name))return this.logService.createLog({message:`${e.name} blocked being pushed. (Brussels Sprout)`,type:"equipment",player:e.parent}),void e.removePerk();let o,s=e.position;e.parent[`pet${s}`]=null,t>0&&(o=Math.max(s-t,0),null!=this.getPet(o)&&(this.pushForwardFromSlot(o)||this.pushBackwardFromSlot(o)),this.setPet(o,e)),t<0&&(o=Math.min(s-t,4),null!=this.getPet(o)&&(this.pushBackwardFromSlot(o)||this.pushForwardFromSlot(o)),this.setPet(o,e)),i?(e.jumped=!0,this.abilityService.triggerJumpEvents(e)):this.abilityService.triggerPushedEvents(e)}get opponent(){return ma(this.gameService.gameApi,this)}resolveTrumpetGainTarget(e){return e&&this.hasSilly(e)?{player:Math.random()<.5?this:this.opponent,random:!0}:{player:this,random:!1}}gainTrumpets(e,t,i,r,a,s){this.trumpets=Math.min(50,this.trumpets+=e);let l=t instanceof y&&null!=t.parent&&t.parent!==this?`${t.name} gave opponent ${e} trumpets. (${this.trumpets})`:`${t.name} gained ${e} trumpets. (${this.trumpets})`;a&&(l+=" (Cherry)"),this.logService.createLog({message:l,type:"trumpets",player:this,pteranodon:i,pantherMultiplier:r,randomEvent:s})}spendTrumpets(e,t,i){this.trumpets=Math.max(0,this.trumpets-=e),this.logService.createLog({message:`${t.name} spent ${e} trumpets. (${this.trumpets})`,type:"trumpets",player:this,pteranodon:i})}checkGoldenSpawn(){this.spawnedGoldenRetiever||this.petArray.length>1||0==this.trumpets||(this.abilityService.setgoldenRetrieverSummonsEvent({priority:0,callback:(e,t,i)=>{let r=new yP(this.logService,this.abilityService,this,this.trumpets,this.trumpets);this.logService.createLog({message:`${this==t.player?"Player":"Opponent"} spawned Golden Retriever (${r.attack}/${r.health})`,type:"ability",player:this}),this.summonPet(r,0),this.trumpets=0}}),this.spawnedGoldenRetiever=!0)}getManticoreMult(){let e=[];for(let t of this.petArray)if(t.hasTrigger(void 0,"Pet","ManticoreAbility"))for(let i of t.abilityList)"ManticoreAbility"==i.name&&e.push(i.level);return e}summonPetInFront(e,t){if(5==this.petArray.length)return this.logService.createLog({message:`No room to spawn ${t.name}!`,type:"ability",player:this}),{success:!1,randomEvent:!1};let i=!1;for(let r=0;r<e.position;r++)if(null==this.getPet(r)){i=!0;break}if(i)return this.summonPet(t,e.position-1,!1,e);{let r=e.position,a=Math.min(r+1,4);return e.parent[`pet${r}`]=null,null!=this.getPet(a)&&this.pushBackwardFromSlot(a),this.setPet(a,e),this.summonPet(t,r,!1,e)}}summonPetBehind(e,t){if(5==this.petArray.length)return this.logService.createLog({message:`No room to spawn ${t.name}!`,type:"ability",player:this}),{success:!1,randomEvent:!1};let i=!1;for(let r=0;r<e.position;r++)if(null==this.getPet(r)){i=!0;break}if(i){let a=e.position;e.parent[`pet${a}`]=null;let s=Math.max(a-1,0);return null!=this.getPet(s)&&this.pushForwardFromSlot(s),this.setPet(s,e),this.summonPet(t,e.position+1,!1,e)}return this.summonPet(t,e.position+1,!1,e)}getPetsWithinXSpaces(e,t){if(e&&this.hasSilly(e)){let a=this.getRandomLivingPets(2*t);return{pets:a.pets,random:a.random}}const i=e.savedPosition,r=[];for(const a of this.petArray)if(a.alive&&a!==e){const s=Math.abs(a.position-i);s>0&&s<=t&&r.push(a)}for(const a of this.opponent.petArray)a.alive&&i+a.position+1<=t&&r.push(a);return{pets:r,random:!1}}getOppositeEnemyPet(e){if(e&&this.hasSilly(e)){let r=this.getRandomLivingPet();return{pet:r.pet,random:r.random}}let t=e.position,i=this.opponent.getPetAtPosition(t);if(i&&i.alive)return{pet:i,random:!1};for(let r=1;r<=4;r++){if(i=this.opponent.getPetAtPosition(t+r),i&&i.alive)return{pet:i,random:!1};if(i=this.opponent.getPetAtPosition(t-r),i&&i.alive)return{pet:i,random:!1}}return{pet:null,random:!1}}hasSilly(e){var t;return"Silly"===(null===(t=e.equipment)||void 0===t?void 0:t.name)}getRandomLivingPet(e){let t=[...this.petArray,...this.opponent.petArray],i=this.getPetsWithEquipment("Donut").filter(l=>!(null==e?void 0:e.includes(l))),r=this.getPetsWithEquipment("Blueberry").filter(l=>!(null==e?void 0:e.includes(l))),a=this.opponent.getPetsWithEquipment("Donut").filter(l=>!(null==e?void 0:e.includes(l))),s=this.opponent.getPetsWithEquipment("Blueberry").filter(l=>!(null==e?void 0:e.includes(l)));return(i.length>0||r.length>0||a.length>0||s.length>0)&&(t=[...i,...r,...a,...s]),t=t.filter(l=>{let c=!0;return e&&(c=!e.includes(l)),c&&l.health>0}),0==t.length?{pet:null,random:!1}:{pet:t[_t(0,t.length-1)],random:t.length>1}}}let Je=(()=>{class n{static setInjector(t){n.injector||(n.injector=t)}static getInjector(){return n.injector}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function By(n){if(!n)return null;const e=Object.create(Object.getPrototypeOf(n));return Object.assign(e,n),e}const CU={Turtle:["Cake","Chili","Coconut","Garlic","Honey","Meat Bone","Melon","Mushroom","Peanut","Steak"],Puppy:["Blackberry","Croissant","Egg","Eucalyptus","Lemon","Lime","Mild Chili","Pancakes","Pie","Rice","Salt","Skewer","Squash","Walnut"],Star:["Baguette","Caramel","Carrot","Cheese","Cucumber","Grapes","Pepper","Popcorn","Seaweed","Strawberry"],Golden:["Banana","Bok Choy","Cherry","Chocolate Cake","Durian","Eggplant","Fig","Honeydew Melon","Maple Syrup","Onion","Pita Bread","Potato","Tomato"],Unicorn:["Ambrosia","Easter Egg","Faint Bread","Fairy Dust","Gingerbread Man","Golden Egg","Health Potion","Love Potion","Magic Beans","Rambutan","Yggdrasil Fruit"],Danger:["Cocoa Bean","Cod Roe","Gros Michel Banana","Sudduth Tomato","White Okra","White Truffle"],Custom:["Blueberry","Brussels Sprout","Cashew Nut","Cauliflower","Churros","Corncob","Donut","Fortune Cookie","Guava","Kiwano","Kiwifruit","Macaron","Mana Potion","Melon Slice","Nachos","Oyster Mushroom","Pineapple","Pumpkin","Radish","Sardinian Currant","Sausage","Unagi"],Hidden:["Cake Slice","Peanut Butter"]},EU={Ailments:["Bloated","Cold","Confused","Crisp","Cursed","Dazed","Icky","Ink","Inked","Sad","Silly","Sleepy","Spooked","Tasty","Toasty","Weak","Webbed"]},Oy=["Turtle","Puppy","Star","Golden","Unicorn","Danger","Custom"],vP=Oy.filter(n=>"Custom"!==n);class bP extends S{constructor(e,t,i){super({name:"MouseAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new bP(e,this.logService,this.abilityService)}}class e4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Mouse",this.tier=1,this.pack="Custom",this.health=2,this.attack=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new bP(this,this.logService,this.abilityService)),super.initAbilities()}}class AP extends S{constructor(e,t){super({name:"AntAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner,o=this.level,l=s.parent.getRandomPet([s],!0,!1,!0,s);null!=l.pet&&(this.logService.createLog({message:`${s.name} gave ${l.pet.name} ${o} attack and ${o} health.`,type:"ability",randomEvent:l.random,player:s.parent,tiger:r,pteranodon:a}),l.pet.increaseAttack(o),l.pet.increaseHealth(o),this.triggerTigerExecution(e))}copy(e){return new AP(e,this.logService)}}class kP extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Ant",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,r,a,s,l,c)}initPet(e,t,i,r,a,s){this.addAbility(new AP(this,this.logService)),super.initPet(e,t,i,r,a,s)}}class SP extends S{constructor(e,t,i){super({name:"ZombieCricketAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new SP(e,this.logService,this.abilityService)}}class t4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Zombie Cricket",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new SP(this,this.logService,this.abilityService)),super.initAbilities()}}class PP extends S{constructor(e,t,i){super({name:"CricketAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner,o=this.level;let c=new t4(this.logService,this.abilityService,s.parent,null,null,null,this.minExpForLevel),d=s.parent.summonPet(c,s.savedPosition,!1,s);d.success&&this.logService.createLog({message:`${s.name} spawned Zombie Cricket Level ${o}`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:d.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new PP(e,this.logService,this.abilityService)}}class i4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Fish",this.tier=1,this.pack="Turtle",this.health=3,this.attack=2,this.initPet(o,r,a,s,l,c)}}function wP(n){var e;const t=null!==(e=n.position)&&void 0!==e?e:n.savedPosition;if(null==t)return[];const i=[],r=n.parent.getPetAtPosition(t-1),a=n.parent.getPetAtPosition(t+1);return r&&r.alive&&i.push(r),a&&a.alive&&i.push(a),i}function n4(n,e){var t,i;const r=n.equipment&&!(null===(t=n.equipment.equipmentClass)||void 0===t?void 0:t.startsWith("ailment")),a=(null===(i=n.equipment)||void 0===i?void 0:i.name)===e;return!r&&!a}function ai(n,e,t,i,r,a={}){n.createLog(Object.assign({message:t,type:"ability",player:e.parent,tiger:i,pteranodon:r},a))}function Zr(n,e,t){var i;return e?t?null!==(i=t(n,e))&&void 0!==i?i:{random:!1}:n.parent.getSpecificPet(n,e):{random:!1}}class TP extends S{constructor(e,t){super({name:"HorseAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r,pteranodon:a}=e,s=this.owner,o=Zr(s,i);if(!o.pet)return;const l=o.pet;l.increaseAttack(this.level),ai(this.logService,s,`${s.name} gave ${l.name} ${this.level} attack`,r,a,{randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new TP(e,this.logService)}}class _P extends S{constructor(e,t){super({name:"MosquitoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let l=s.parent.opponent.getRandomPets(this.level,null,null,!0,s);for(let c of l.pets)null!=c&&s.snipePet(c,1,l.random,r);this.triggerTigerExecution(e)}copy(e){return new _P(e,this.logService)}}class r4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Duck",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,r,a,s,l,c)}}class s4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Beaver",this.tier=1,this.pack="Turtle",this.health=2,this.attack=3,this.initPet(o,r,a,s,l,c)}}class CP extends S{constructor(e,t,i){super({name:"GibbonAbility",owner:e,triggers:["ShopUpgrade"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=this.level,l=s.parent.nearestPetsBehind(2,s);if(0!==l.pets.length){for(let c of l.pets)c.increaseHealth(o),this.logService.createLog({message:`${s.name} gave ${c.name} ${o} health.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:l.random});this.triggerTigerExecution(e)}}copy(e){return new CP(e,this.logService,this.abilityService)}}class EP extends S{constructor(e,t,i){super({name:"TermiteAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new EP(e,this.logService,this.abilityService)}}class xP extends S{constructor(e,t){super({name:"CrabAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;if(!s.alive)return;let o=s.parent.getHighestHealthPet(s,s);if(null==o.pet)return;let l=Math.floor(o.pet.health*(.25*this.level)),c=s.parent.getThis(s);c.pet&&(c.pet.increaseHealth(l),this.logService.createLog({message:`${s.name} gave ${c.pet.name} ${.25*this.level*100}% of ${o.pet.name}'s health (${l})`,type:"ability",player:s.parent,tiger:r,randomEvent:c.random})),this.triggerTigerExecution(e)}copy(e){return new xP(e,this.logService)}}class a4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Dirty Rat",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,r,a,s,l,c)}}class DP extends S{constructor(e,t,i){super({name:"RatAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.opponent;for(let l=0;l<this.level;l++){let c=new a4(this.logService,this.abilityService,o,null,null,0,0),d=o.summonPet(c,0,!1,s);d.success&&this.logService.createLog({message:`${s.name} Summoned Dirty Rat on Opponent`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:d.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new DP(e,this.logService,this.abilityService)}}class LP extends S{constructor(e,t){super({name:"HedgehogAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.getAll(!0,s),l=o.pets;if(0==l.length)return;let c=2*this.level;for(let d of l)s.snipePet(d,c,o.random,r,a);this.triggerTigerExecution(e)}copy(e){return new LP(e,this.logService)}}class IP extends S{constructor(e,t){super({name:"PeacockAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=3*this.level,l=s.parent.getThis(s);l.pet&&(l.pet.increaseAttack(o),this.logService.createLog({message:`${s.name} gave ${l.pet.name} ${o} attack.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random})),this.triggerTigerExecution(e)}copy(e){return new IP(e,this.logService)}}class MP extends S{constructor(e,t){super({name:"FlamingoAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let l=s.parent.nearestPetsBehind(2,s).pets;if(0!=l.length){for(let c of l)c.increaseAttack(this.level),c.increaseHealth(this.level),this.logService.createLog({message:`${s.name} gave ${c.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:s.parent,tiger:r,pteranodon:a});this.triggerTigerExecution(e)}}copy(e){return new MP(e,this.logService)}}class RP extends S{constructor(e,t){super({name:"KangarooAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.getThis(s);o.pet&&(o.pet.increaseAttack(this.level),o.pet.increaseHealth(this.level),this.logService.createLog({message:`${s.name} gave ${o.pet.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random})),this.triggerTigerExecution(e)}copy(e){return new RP(e,this.logService)}}class FP extends S{constructor(e,t,i,r){super({name:"SpiderAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=i,this.petService=r}executeAbility(e){const{gameApi:t,tiger:r,pteranodon:a}=e,s=this.owner;let o;o=s.parent==t.player?t.playerPetPool.get(3):t.opponentPetPool.get(3);let l=o.filter(E=>"Spider"!=E),c=l[_t(0,l.length-1)],d=this.level,g=2*this.level,k=this.petService.createPet({attack:g,exp:this.minExpForLevel,equipment:null,health:g,name:c,mana:0},s.parent);s.parent.summonPet(k,s.savedPosition,!1,s).success&&this.logService.createLog({message:`${s.name} spawned ${k.name} level ${d} (${g}/${g})`,type:"ability",player:s.parent,randomEvent:!0,tiger:r,pteranodon:a}),this.triggerTigerExecution(e)}copy(e){return new FP(e,this.logService,this.abilityService,this.petService)}}class NP extends y{constructor(e,t,i,r,a,s,o,l,c,d){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="Spider",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(l,a,s,o,c,d)}initAbilities(){this.addAbility(new FP(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class BP extends S{constructor(e,t){super({name:"DodoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.nearestPetsAhead(1,s);if(0===o.pets.length)return;let l=o.pets[0],c=Math.floor(s.attack*(.5*this.level));l.increaseAttack(c),this.logService.createLog({message:`${s.name} gave ${l.name} ${c} attack.`,player:s.parent,type:"ability",tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new BP(e,this.logService)}}class OP extends S{constructor(e,t){super({name:"BadgerAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=Math.floor(s.attack*(.5*this.level)),l=s.parent.nearestPetsBehind(1,s);l.pets.length>0&&s.snipePet(l.pets[0],o,l.random,r,a);let c=s.parent.nearestPetsAhead(1,s,void 0,!0);c.pets.length>0&&s.snipePet(c.pets[0],o,c.random,r,a),this.triggerTigerExecution(e)}copy(e){return new OP(e,this.logService)}}class $P extends S{constructor(e,t){super({name:"DolphinAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.opponent;for(let l=0;l<this.level;l++){let c=o.getLowestHealthPet(null,s);if(!c.pet)break;s.snipePet(c.pet,4,c.random,r)}this.triggerTigerExecution(e)}copy(e){return new $P(e,this.logService)}}class o4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Dolphin",this.tier=3,this.pack="Turtle",this.health=3,this.attack=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new $P(this,this.logService)),super.initAbilities()}}class HP extends S{constructor(e,t){super({name:"ElephantAbility",owner:e,triggers:["ThisAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;for(let o=0;o<this.level;o++){let l=s.parent.nearestPetsBehind(1,s);l.pets.length>0&&s.snipePet(l.pets[0],1,l.random,r)}this.triggerTigerExecution(e)}copy(e){return new HP(e,this.logService)}}class GP extends S{constructor(e,t){super({name:"CamelAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.nearestPetsBehind(1,s);if(0===o.pets.length)return;let l=o.pets[0],c=2*this.level;l.increaseAttack(this.level),l.increaseHealth(c),this.logService.createLog({message:`${s.name} gave ${l.name} ${this.level} attack and ${c} health.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new GP(e,this.logService)}}class qP extends S{constructor(e,t){super({name:"RabbitAbility",owner:e,triggers:["FoodEatenByFriendly"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,s=this.owner;let o=this.level,l=s.parent.getSpecificPet(s,i),c=l.pet;null!=c&&(c.increaseHealth(o),this.logService.createLog({message:`${s.name} gave ${c.name} ${o} health.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e))}copy(e){return new qP(e,this.logService)}}class xs extends Y{constructor(){super(...arguments),this.name="Melon",this.tier=6,this.equipmentClass="shield",this.power=20,this.originalPower=20,this.uses=1,this.originalUses=1}}class VP extends S{constructor(e,t){super({name:"OxAbility",owner:e,triggers:["FriendAheadDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.getThis(s),l=o.pet;if(null==l)return;l.increaseAttack(1),this.logService.createLog({message:`${s.name} gave ${l.name} +1 attack.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random});let c=s.parent.getThis(s),d=c.pet;null!=d&&(d.givePetEquipment(new xs),this.logService.createLog({message:`${s.name} gave ${d.name} Melon.`,type:"ability",player:s.parent,tiger:r,randomEvent:c.random}),this.triggerTigerExecution(e))}reset(){this.maxUses=this.level,super.reset()}copy(e){return new VP(e,this.logService)}}class UP extends S{constructor(e,t){super({name:"DogAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,s=this.owner;if(!i||i===s)return;let o=2*this.level,l=this.level,c=s.parent.getThis(s);c.pet&&(c.pet.increaseAttack(o),c.pet.increaseHealth(l),this.logService.createLog({message:`${s.name} gave ${c.pet.name} ${o} attack and ${l} health.`,type:"ability",player:s.parent,tiger:r,randomEvent:c.random})),this.triggerTigerExecution(e)}copy(e){return new UP(e,this.logService)}}class WP extends S{constructor(e,t,i){super({name:"RamAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new WP(e,this.logService,this.abilityService)}}class l4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Ram",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=2,this.attack=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new WP(this,this.logService,this.abilityService)),super.initAbilities()}}class jP extends S{constructor(e,t,i){super({name:"SheepAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;for(let o=0;o<2;o++){let l=new l4(this.logService,this.abilityService,s.parent,null,null,0,this.minExpForLevel),c=s.parent.summonPet(l,s.savedPosition,!1,s);c.success&&this.logService.createLog({message:`${s.name} spawned Ram (${l.attack}/${l.health}).`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:c.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new jP(e,this.logService,this.abilityService)}}class zP extends S{constructor(e,t,i){super({name:"TigerAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){}copy(e){return new zP(e,this.logService,this.abilityService)}}class KP extends S{constructor(e,t){super({name:"ParrotAbility",owner:e,triggers:["EndTurn","SpecialEndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){let s=this.owner,o=s.petAhead;null!=o&&(s.copyAbilities(o,"Pet"),s.initAbilityUses(),this.logService.createLog({message:`${s.name} copied ${o.name}`,type:"ability",player:s.parent}))}copy(e){return new KP(e,this.logService)}}class YP extends y{constructor(e,t,i,r,a,s,o,l,c,d){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="Parrot",this.tier=4,this.pack="Turtle",this.attack=4,this.health=2,this.initPet(l,a,s,o,c,d)}initAbilities(){this.addAbility(new KP(this,this.logService)),super.initAbilities()}}class QP extends S{constructor(e,t){super({name:"SkunkAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let l=s.parent.opponent.getHighestHealthPet(void 0,s),c=l.pet;if(null==c)return;let d=.33*this.level,p=Math.max(1,Math.floor(c.health*(1-d)));c.health=p,this.logService.createLog({message:`${s.name} reduced ${c.name} health by ${100*d}% (${p})`,type:"ability",player:s.parent,randomEvent:l.random,tiger:r}),this.triggerTigerExecution(e)}copy(e){return new QP(e,this.logService)}}class ZP extends S{constructor(e,t){super({name:"HippoAbility",owner:e,triggers:["ThisKilledEnemy"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=3*this.level,l=s.parent.getThis(s),c=l.pet;null!=c&&(c.increaseAttack(o),c.increaseHealth(o),this.logService.createLog({message:`${s.name} gave ${c.name} ${o} attack and ${o} health.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e))}copy(e){return new ZP(e,this.logService)}}class JP extends S{constructor(e,t){super({name:"BlowfishAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=3*this.level,l=s.parent.opponent.getRandomPet([],!1,!0,!1,s);l.pet&&s.snipePet(l.pet,o,l.random,r),this.triggerTigerExecution(e)}copy(e){return new JP(e,this.logService)}}class XP extends S{constructor(e,t){super({name:"TurtleAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.getPetsWithEquipment("Melon"),l=s.parent.nearestPetsBehind(this.level,s,o);if(0!=l.pets.length){for(let c of l.pets)this.logService.createLog({message:`${s.name} gave ${c.name} Melon.`,type:"ability",tiger:r,player:s.parent,pteranodon:a,randomEvent:l.random}),c.givePetEquipment(new xs);this.triggerTigerExecution(e)}}copy(e){return new XP(e,this.logService)}}class ew extends S{constructor(e,t,i){super({name:"BusAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new ew(e,this.logService,this.abilityService)}}class c4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Bus",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=3,this.attack=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new ew(this,this.logService,this.abilityService)),super.initAbilities()}}class u4 extends Y{constructor(e,t){super(),this.logService=e,this.abilityService=t,this.name="Chili",this.equipmentClass="skewer",this.power=0,this.originalPower=0,this.attackCallback=(i,r)=>{let a=r.parent.getPetAtPosition(1);null!=a&&i.snipePet(a,5,!1,null,null,!0)}}}class tw extends S{constructor(e,t,i){super({name:"DeerAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=new c4(this.logService,this.abilityService,s.parent,null,null,null,this.minExpForLevel,new u4(this.logService,this.abilityService)),l=s.parent.summonPet(o,s.savedPosition,!1,s);l.success&&this.logService.createLog({message:`${s.name} spawned Bus level ${this.level}`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:l.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new tw(e,this.logService,this.abilityService)}}class iw extends S{constructor(e,t,i){super({name:"WhaleSwallowAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.nearestPetsAhead(1,s);if(0===o.pets.length)return;let l=o.pets[0],c=this.petService.createPet({name:l.name,attack:l.attack,health:l.health,exp:s.exp,equipment:null,mana:0},s.parent);s.swallowedPets.push(c),l.health=0,this.logService.createLog({message:`${s.name} swallowed ${l.name}`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new iw(e,this.logService,this.petService)}}class nw extends S{constructor(e,t,i){super({name:"WhaleSummonAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,ignoreRepeats:!0,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;for(;s.swallowedPets.length>0;){let o=s.swallowedPets.shift(),l=s.parent.summonPet(o,s.savedPosition,!1,s);l.success&&this.logService.createLog({message:`${s.name} summoned ${o.name} (level ${o.level}).`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:l.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new nw(e,this.logService,this.abilityService)}}class rw extends y{constructor(e,t,i,r,a,s,o,l,c,d){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="Whale",this.tier=4,this.pack="Turtle",this.attack=3,this.health=7,this.initPet(l,a,s,o,c,d)}initAbilities(){this.addAbility(new iw(this,this.logService,this.petService)),this.addAbility(new nw(this,this.logService,this.abilityService)),super.initAbilities()}}class sw extends S{constructor(e,t,i){super({name:"BeeAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new sw(e,this.logService,this.abilityService)}}class h4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Bee",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new sw(this,this.logService,this.abilityService)),super.initAbilities()}}class d4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Angry Pygmy Hog",this.tier=2,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,r,a,s,l,c)}}class aw extends S{constructor(e,t){super({name:"ScorpionAbility",owner:e,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=new Ry,l=s.parent.getThis(s),c=l.pet;null!=c&&(c.givePetEquipment(o),this.logService.createLog({message:`${s.name} gave ${c.name} the Peanut perk.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e))}copy(e){return new aw(e,this.logService)}}class ow extends S{constructor(e,t){super({name:"CrocodileAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;for(let o=0;o<this.level;o++){let l=s.parent.opponent.getLastPet(void 0,s),c=l.pet;c&&s.snipePet(c,8,l.random,r)}this.triggerTigerExecution(e)}copy(e){return new ow(e,this.logService)}}class lw extends S{constructor(e,t){super({name:"RhinoAbility",owner:e,triggers:["ThisKilledEnemy"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.opponent.getFurthestUpPet(s),l=o.pet;if(null==l)return;let c=4*this.level;1==l.tier&&(c*=2),s.snipePet(l,c,o.random,r),this.triggerTigerExecution(e)}copy(e){return new lw(e,this.logService)}}class p4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Monkey",this.tier=5,this.pack="Turtle",this.attack=1,this.health=2,this.initPet(o,r,a,s,l,c)}}class cw extends S{constructor(e,t){super({name:"ArmadilloAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.getAll(!0,s),l=o.pets;if(0!=l.length){for(let c of l){if(!c.alive)continue;let d=8*this.level;c.increaseHealth(d),this.logService.createLog({message:`${s.name} increased health of ${c.name} by ${d}.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random})}this.triggerTigerExecution(e)}}copy(e){return new cw(e,this.logService)}}class uw extends S{constructor(e,t){super({name:"SealAbility",owner:e,triggers:["FoodEatenByThis"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,s=this.owner;if(i!=s)return;let o=this.level,l=s.parent.getRandomPets(3,[s],!0,!1,s);for(let c of l.pets)null!=c&&(c.increaseAttack(o),this.logService.createLog({message:`${s.name} gave ${c.name} ${o} attack.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random}));this.triggerTigerExecution(e)}copy(e){return new uw(e,this.logService)}}class hw extends S{constructor(e,t,i){super({name:"ChickAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new hw(e,this.logService,this.abilityService)}}class dw extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Chick",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new hw(this,this.logService,this.abilityService)),super.initAbilities()}}class pw extends S{constructor(e,t,i){super({name:"RoosterAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=Math.max(Math.floor(.5*s.attack),1);for(let l=0;l<this.level;l++){let c=new dw(this.logService,this.abilityService,s.parent,1,o,0,this.minExpForLevel),d=s.parent.summonPet(c,s.savedPosition,!1,s);d.success&&this.logService.createLog({message:`${s.name} spawned Chick (${o}).`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:d.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new pw(e,this.logService,this.abilityService)}}class mw extends S{constructor(e,t){super({name:"SharkAbility",owner:e,triggers:["FriendDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,s=this.owner;if(!s.alive||i==s)return;let o={attack:2*this.level,health:2*this.level},l=s.parent.getThis(s),c=l.pet;null!=c&&(c.increaseAttack(o.attack),c.increaseHealth(o.health),this.logService.createLog({message:`${s.name} gave ${c.name} ${o.attack} attack and ${o.health} health.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e))}copy(e){return new mw(e,this.logService)}}class gw extends S{constructor(e,t){super({name:"TurkeyAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r,pteranodon:a}=e,s=this.owner,o={attack:3*this.level,health:1*this.level},l=Zr(s,i);if(!l.pet)return;const c=l.pet;c.increaseAttack(o.attack),c.increaseHealth(o.health),ai(this.logService,s,`${s.name} gave ${c.name} ${o.attack} attack and ${o.health} health.`,r,a,{randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new gw(e,this.logService)}}class fw extends S{constructor(e,t){super({name:"LeopardAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=Math.floor(.5*s.attack),l=s.parent.opponent.getRandomPets(this.level,null,null,!0,s);for(let c of l.pets)null!=c&&s.snipePet(c,o,l.random,r);this.triggerTigerExecution(e)}copy(e){return new fw(e,this.logService)}}class yw extends S{constructor(e,t){super({name:"BoarAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o={attack:4*this.level,health:2*this.level},l=s.parent.getThis(s),c=l.pet;null!=c&&(c.increaseAttack(o.attack),c.increaseHealth(o.health),this.logService.createLog({message:`${s.name} gave ${c.name} ${o.attack} attack and ${o.health} health.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e))}copy(e){return new yw(e,this.logService)}}class vw extends S{constructor(e,t,i){super({name:"WolverineAbility",owner:e,triggers:["FriendHurt4"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.opponent.getAll(!1,s),l=o.pets;if(0!=l.length){for(let c of l){let d=-3*this.level;c.increaseHealth(d),this.logService.createLog({message:`${s.name} reduced ${c.name} health by ${Math.abs(d)}`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random})}this.triggerTigerExecution(e)}}copy(e){return new vw(e,this.logService,this.abilityService)}}class ga extends Y{constructor(){super(...arguments),this.name="Coconut",this.equipmentClass="shield",this.power=999,this.originalPower=999,this.uses=1,this.originalUses=1}}class bw extends S{constructor(e,t){super({name:"GorillaAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:i=>this.owner.alive,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let l=s.parent.getThis(s).pet;null!=l&&(l.givePetEquipment(new ga),this.logService.createLog({message:`${s.name} gave ${l.name} a Coconut.`,type:"ability",player:s.parent,tiger:r}),this.triggerTigerExecution(e))}reset(){this.maxUses=this.level,super.reset()}copy(e){const t=new bw(e,this.logService);return t.maxUses=e.level,t}}class Aw extends S{constructor(e,t){super({name:"MammothAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=2*this.level,l=s.parent.getAll(!1,s),c=l.pets;if(0!=c.length){for(let d of c)d.increaseAttack(o),d.increaseHealth(o),this.logService.createLog({message:`${s.name} gave ${d.name} ${o} attack and ${o} health.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:l.random});this.triggerTigerExecution(e)}}copy(e){return new Aw(e,this.logService)}}class kw extends S{constructor(e,t){super({name:"SnakeAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:5,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=5*this.level,l=s.parent.opponent.getRandomPet([],!1,!0,!1,s);!l.pet||(s.snipePet(l.pet,o,l.random,r),this.triggerTigerExecution(e))}copy(e){return new kw(e,this.logService)}}class Sw extends S{constructor(e,t,i){super({name:"ZombieFlyAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new Sw(e,this.logService,this.abilityService)}}class Pw extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Zombie Fly",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=4,this.attack=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Sw(this,this.logService,this.abilityService)),super.initAbilities()}}class ww extends S{constructor(e,t,i){super({name:"FlyAbility",owner:e,triggers:["FriendDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,condition:r=>{const{triggerPet:a}=r;return!(a&&a instanceof Pw||this.owner.parent.petArray.length>=5)},abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{triggerPet:i,tiger:r}=e,s=this.owner;let o=new Pw(this.logService,this.abilityService,s.parent,null,null,null,this.minExpForLevel),l=s.parent.summonPet(o,i.savedPosition,!0,s);l.success&&this.logService.createLog({message:`${s.name} spawned Zombie Fly Level ${this.level}`,type:"ability",player:s.parent,tiger:r,randomEvent:l.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new ww(e,this.logService,this.abilityService)}}class Tw extends S{constructor(e,t){super({name:"MothAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.getFurthestUpPet(s),l=o.pet;if(null==l)return;let c=2*this.level;l.increaseAttack(c),this.logService.createLog({message:`${s.name} gave ${l.name} ${c} attack.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new Tw(e,this.logService)}}class _w extends S{constructor(e,t,i){super({name:"BluebirdAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _w(e,this.logService,this.abilityService)}}class Cw extends S{constructor(e,t,i){super({name:"ChinchillaAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new Cw(e,this.logService,this.abilityService)}}class Mu extends Y{constructor(){super(...arguments),this.name="Walnut",this.tier=1,this.equipmentClass="shield",this.power=2,this.originalPower=2,this.uses=1,this.originalUses=1}}class Ew extends S{constructor(e,t,i){super({name:"BeetleAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,s=this.owner;let o;switch(this.level){case 1:o=new Mu;break;case 2:o=new Mu,o.power=4,o.originalPower=4;break;case 3:o=new Mu,o.power=6,o.originalPower=6}let l=s.parent.getPetsWithEquipment(o.name),c=s.parent.nearestPetsBehind(1,s,l);if(0===c.pets.length)return;let d=c.pets[0];this.logService.createLog({message:`${s.name} gave ${d.name} ${o.name}.`,type:"ability",player:s.parent,tiger:r,randomEvent:c.random}),d.givePetEquipment(o),this.triggerTigerExecution(e)}copy(e){return new Ew(e,this.logService,this.abilityService)}}class xw extends S{constructor(e,t){super({name:"LadybugAbility",owner:e,triggers:["FriendlyGainsPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=2*this.level,l=s.parent.getThis(s);l.pet&&(l.pet.increaseAttack(o),this.logService.createLog({message:`${s.name} gave ${l.pet.name} ${o} attack.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random})),this.triggerTigerExecution(e)}copy(e){return new xw(e,this.logService)}}class Dw extends S{constructor(e,t,i){super({name:"ChipmunkAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new Dw(e,this.logService,this.abilityService)}}class Lw extends S{constructor(e,t){super({name:"GeckoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null!=this.owner.parent.toy,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=2*this.level,c=s.parent.getThis(s).pet;null!=c&&(c.increaseHealth(o),this.logService.createLog({message:`${s.name} gave ${c.name} ${o} health.`,type:"ability",player:s.parent,tiger:r}),this.triggerTigerExecution(e))}copy(e){return new Lw(e,this.logService)}}const Iw=JSON.parse('[{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give Coconut perk to two first enemies."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"294","Name":"Action Figure","NameId":"RelicActionFigure","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Break: Give the front-most friend +1 attack and +1 health."},{"Level":2,"About":"Break: Give the two front-most friends +1 attack and +1 health."},{"Level":3,"About":"Break: Give the three front-most friends +1 attack and +1 health."}],"Type":1,"ToyType":0,"Id":"479","Name":"Balloon","NameId":"RelicBalloon","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Deal 50 damage to the front-most friend."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"299","Name":"Boot","NameId":"RelicBoot","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: If you rolled less than 6 times this turn, deal the turn number as damage to friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"300","Name":"Bowling Ball","NameId":"RelicBowlingBall","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Lose 3 gold."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"310","Name":"Broken Piggy Bank","NameId":"RelicOpenPiggyBank","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Sell the two front-most friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"302","Name":"Cardboard Box","NameId":"RelicCardboardBox","Tier":1,"TierMax":4,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give +1 experience to friends and +2 experience to enemies."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"794","Name":"Chocolate Box","NameId":"RelicChocolateBox","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Summoned: Replace this with another random toy."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"482","Name":"Crumpled Paper","NameId":"RelicCrumpledPaper","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend +2 mana."},{"Level":2,"About":"Start of battle: Give the front-most friend +4 mana."},{"Level":3,"About":"Start of battle: Give the front-most friend +6 mana."}],"Type":1,"ToyType":0,"Id":"580","Name":"Crystal Ball","NameId":"RelicCrystalBall","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Friend bought: Transform it into ANY random pet from the same tier with new base stats."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"303","Name":"Deck of Cards","NameId":"RelicCardDeck","Tier":1,"TierMax":4,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Roll: Lose 1 gold."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"304","Name":"Dice","NameId":"RelicDice","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Shuffle positions of all friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"286","Name":"Dice Cup","NameId":"RelicDiceCup","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: If you did not buy any tier 1 food this turn, make friends Dazed until next turn."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"485","Name":"Flute","NameId":"RelicFlute","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make the two front-most friends Weak."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"306","Name":"Handkerchief","NameId":"RelicHandkerchief","Tier":1,"TierMax":3,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Empty front space: Remove 20% attack from the back-most friend and move it to the front."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"307","Name":"Kite","NameId":"RelicKite","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Remove 20% attack and 20% health from friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"506","Name":"Lamp","NameId":"RelicLamp","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Feed Apples to random pets for each turn number. Double their power on enemies."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"308","Name":"Lunchbox","NameId":"RelicLunchbox","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the back-most tier 2 or lower friend +1 experience."},{"Level":2,"About":"Start of battle: Give the back-most tier 2 or lower friend +2 experience."},{"Level":3,"About":"Start of battle: Give the back-most tier 2 or lower friend +3 experience."}],"Type":1,"ToyType":0,"Id":"581","Name":"Magic Wand","NameId":"RelicMagicWand","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make two random friends Cold."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"590","Name":"Onesie","NameId":"RelicOnesie","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Friend summoned: Knock it out."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"312","Name":"Paper Shredder","NameId":"RelicPaperShredder","Tier":1,"TierMax":5,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make the two front-most friends Inked."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"313","Name":"Pen","NameId":"RelicPen","Tier":1,"TierMax":3,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Knock out the two front-most friends and the front-most enemy."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"284","Name":"Pill Bottle","NameId":"RelicPillBottle","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Push the last enemy up front and give it +100% attack and +100% health."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"314","Name":"Pogo Stick","NameId":"RelicPogoStick","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give enemies +20% attack and +20% health."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"315","Name":"Remote Car","NameId":"RelicRemoteCar","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: If you spent less than 13 gold this turn, remove 20% health from friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"582","Name":"Ring","NameId":"RelicTheOneRing","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Knock out friends from the previous tier."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"316","Name":"Ring Pyramid","NameId":"RelicRingPyramid","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Deal 1 damage to the three front-most friends. Multiply damage with their tiers."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"285","Name":"Rock Bag","NameId":"RelicRockBag","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"All enemies fainted: Summon one 50/1 enemy Duck. Works 1 time per battle."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"318","Name":"Rubber Duck","NameId":"RelicRubberDuck","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Set attack and health of all friends to the turn number."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"795","Name":"Scale","NameId":"RelicScale","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Knock out friends from the current tier."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"486","Name":"Soccer Ball","NameId":"RelicFootball","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give Walnut perk to the friend on the middle space."},{"Level":2,"About":"Start of battle: Give Walnut perk with double effect to the friend on the middle space."},{"Level":3,"About":"Start of battle: Give Walnut perk with triple effect to the friend on the middle space."}],"Type":1,"ToyType":0,"Id":"496","Name":"Stick","NameId":"RelicWoodenStick","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block 2 damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make the two back-most friends Icky."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"792","Name":"Sticky Hand","NameId":"RelicStickyHand","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take double damage, twice.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Three friends faint: Summon one exact enemy copy of the back-most friend."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"324","Name":"Stuffed Bear","NameId":"RelicTeddyBear","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Remove the lowest tier perks from two friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"793","Name":"Vacuum Cleaner","NameId":"RelicHandheldVacuumCleaner","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make one random perk-less enemy Weak."},{"Level":2,"About":"Start of battle: Make two random perk-less enemies Weak."},{"Level":3,"About":"Start of battle: Make three random perk-less enemies Weak."}],"Type":1,"ToyType":0,"Id":"600","Name":"Witch Broom","NameId":"RelicWitchBroom","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend Garlic perk."},{"Level":2,"About":"Start of battle: Give the two front-most friends Garlic perk."},{"Level":3,"About":"Start of battle: Give the three front-most friends Garlic perk."}],"Type":1,"ToyType":0,"Id":"509","Name":"Garlic Press","NameId":"RelicGarlicPress","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Takes 2 less damage.","CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 attack."},{"Level":2,"About":"Friend summoned: Give it +2 attack."},{"Level":3,"About":"Friend summoned: Give it +3 attack."}],"Type":1,"ToyType":0,"Id":"598","Name":"Magic Carpet","NameId":"RelicMagicCarpet","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Friendly level-up: Give it +1 attack and +1 health."},{"Level":2,"About":"Friendly level-up: Give it +2 attack and +2 health."},{"Level":3,"About":"Friendly level-up: Give it +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"575","Name":"Magic Lamp","NameId":"RelicMagicLamp","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give Popcorn perk to the front-most perkless friend."},{"Level":2,"About":"Start of battle: Give Popcorn perk to the two front-most perkless friends."},{"Level":3,"About":"Start of battle: Give Popcorn perk to the three front-most perkless friends."}],"Type":1,"ToyType":0,"Id":"699","Name":"Microwave Oven","NameId":"RelicMicrowaver","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Faint: Summon one random pet from the same tier.","CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give Eucalyptus perk to the front-most friend."},{"Level":2,"About":"Start of battle: Give Eucalyptus perk to the two front-most friends."},{"Level":3,"About":"Start of battle: Give Eucalyptus perk to the three front-most friends."}],"Type":1,"ToyType":0,"Id":"789","Name":"Plastic Saw","NameId":"RelicToySaw","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block 4 enemy damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Break: Give friends +1 health."},{"Level":2,"About":"Break: Give friends +2 health."},{"Level":3,"About":"Break: Give friends +3 health."}],"Type":1,"ToyType":0,"Id":"488","Name":"Radio","NameId":"RelicRadio","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Deal 3 damage to one random enemy."},{"Level":2,"About":"Start of battle: Deal 3 damage to two random enemies."},{"Level":3,"About":"Start of battle: Deal 3 damage to three random enemies."}],"Type":1,"ToyType":0,"Id":"478","Name":"Tennis Ball","NameId":"RelicTennisBall","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Three friends bought: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Three friends bought: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Three friends bought: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"574","Name":"Candelabra","NameId":"RelicCandelabra","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Deal 5 damage to the lowest health enemy."},{"Level":2,"About":"Start of battle: Deal 5 damage to the lowest health enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 5 damage to the lowest health enemy. Triggers 3 times."}],"Type":1,"ToyType":0,"Id":"507","Name":"Foam Sword","NameId":"RelicFoamSword","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Three friends faint: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Three friends faint: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Three friends faint: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"586","Name":"Glass Shoes","NameId":"RelicGlassShoes","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Spend 12 gold: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Spend 12 gold: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Spend 12 gold: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"589","Name":"Golden Harp","NameId":"RelicGoldenHarp","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Three food bought: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Three food bought: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Three food bought: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"595","Name":"Lock of Hair","NameId":"RelicLockofHair","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Three friends sold: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Three friends sold: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Three friends sold: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"578","Name":"Magic Mirror","NameId":"RelicMagicMirror","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Break: Give the front-most friend Melon perk."},{"Level":2,"About":"Break: Give the two front-most friends Melon perk."},{"Level":3,"About":"Break: Give the three front-most friends Melon perk."}],"Type":1,"ToyType":0,"Id":"510","Name":"Melon Helmet","NameId":"RelicMelonHelmet","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Roll 7 times: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Roll 7 times: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Roll 7 times: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"599","Name":"Pickaxe","NameId":"RelicPickaxe","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Friend jumped: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Friend jumped: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Friend jumped: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"576","Name":"Red Cape","NameId":"RelicRedCape","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Two friendly level-up: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Two friendly level-up: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Two friendly level-up: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"579","Name":"Rosebud","NameId":"RelicRosebud","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Transform front-most friend into another random pet from 2 tiers below."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"319","Name":"Scissors","NameId":"RelicScissors","Tier":3,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Deal 5 damage to the last enemy."},{"Level":2,"About":"Start of battle: Deal 5 damage to the last enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 5 damage to the last enemy. Triggers 3 times."}],"Type":1,"ToyType":0,"Id":"493","Name":"Toy Gun","NameId":"RelicToyGun","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Transform all friends to level 1."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"327","Name":"Toy Mouse","NameId":"RelicToyMouse","Tier":3,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Break: Stock one free pet from tier 2 as a 4/4 level 3."},{"Level":2,"About":"Break: Stock one free pet from tier 4 as a 8/8 level 3."},{"Level":3,"About":"Break: Stock one free pet from tier 6 as a 12/12 level 3."}],"Type":1,"ToyType":0,"Id":"591","Name":"Treasure Chest","NameId":"RelicTreasureChest","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Break: Summon a level 1 Treasure Chest."},{"Level":2,"About":"Break: Summon a level 2 Treasure Chest."},{"Level":3,"About":"Break: Summon a level 3 Treasure Chest."}],"Type":1,"ToyType":0,"Id":"594","Name":"Treasure Map","NameId":"RelicTreasureMap","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"End turn: Gain one free roll next turn."},{"Level":2,"About":"End turn: Gain two free rolls next turn."},{"Level":3,"About":"End turn: Gain three free rolls next turn."}],"Type":1,"ToyType":0,"Id":"597","Name":"Winged Sandals","NameId":"RelicWingedSandals","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Break: Summon one 6/6 friend that sells for 3 gold."},{"Level":2,"About":"Break: Summon one 12/12 friend that sells for 6 gold."},{"Level":3,"About":"Break: Summon one 18/18 friend that sells for 9 gold."}],"Type":1,"ToyType":0,"Id":"492","Name":"Cash Register","NameId":"RelicToyCashRegister","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"All friends fainted: Summon one 6/6 Salmon of Knowledge in battle once."},{"Level":2,"About":"All friends fainted: Summon one 12/12 Salmon of Knowledge in battle once."},{"Level":3,"About":"All friends fainted: Summon one 18/18 Salmon of Knowledge in battle once."}],"Type":1,"ToyType":0,"Id":"584","Name":"Nutcracker","NameId":"RelicNutcracker","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Give the middle friendly pet +6 mana."},{"Level":2,"About":"Start of battle: Give the middle friendly pet +12 mana."},{"Level":3,"About":"Start of battle: Give the middle friendly pet +18 mana."}],"Type":1,"ToyType":0,"Id":"587","Name":"Ocarina","NameId":"RelicOcarina","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Break: Stock one free Chicken Leg."},{"Level":2,"About":"Break: Stock two free Chicken Legs."},{"Level":3,"About":"Break: Stock three free Chicken Legs."}],"Type":1,"ToyType":0,"Id":"311","Name":"Oven Mitts","NameId":"RelicOvenMitts","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Give one random Tand & Tand +6 attack and +6 health."},{"Level":2,"About":"Start of battle: Give one random Tand & Tand +12 attack and +12 health."},{"Level":3,"About":"Start of battle: Give one random Tand & Tand +18 attack and +18 health."}],"Type":1,"ToyType":0,"Id":"585","Name":"Thunder Hammer","NameId":"RelicThunderHammer","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Empty front space: Summon one 6/6 Giant Eyes Dog up front in battle once."},{"Level":2,"About":"Empty front space: Summon one 12/12 Giant Eyes Dog up front in battle once."},{"Level":3,"About":"Empty front space: Summon one 18/18 Giant Eyes Dog up front in battle once."}],"Type":1,"ToyType":0,"Id":"588","Name":"Tinder Box","NameId":"RelicTinderBox","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Make the first enemy Weak."},{"Level":2,"About":"Start of battle: Make the first two enemies Weak."},{"Level":3,"About":"Start of battle: Make the first three enemies Weak."}],"Type":1,"ToyType":0,"Id":"326","Name":"Toilet Paper","NameId":"RelicToiletPaper","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Start of battle: Remove 30% attack from the highest attack enemy."},{"Level":2,"About":"Start of battle: Remove 30% attack from the two highest attack enemies."},{"Level":3,"About":"Start of battle: Remove 30% attack from the three highest attack enemies."}],"Type":1,"ToyType":0,"Id":"503","Name":"Camera","NameId":"RelicCamera","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Empty front space: Summon one 6/6 Great One in battle that deals 5 damage to ALL other pets."},{"Level":2,"About":"Empty front space: Summon one 12/12 Great One in battle that deals 10 damage to ALL other pets."},{"Level":3,"About":"Empty front space: Summon one 18/18 Great One in battle that deals 15 damage to ALL other pets."}],"Type":1,"ToyType":0,"Id":"645","Name":"Evil Book","NameId":"RelicEvilBook","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Break: Give front-most friend +5 attack and +5 health."},{"Level":2,"About":"Break: Give front-most friend +10 attack and +10 health."},{"Level":3,"About":"Break: Give front-most friend +15 attack and +15 health."}],"Type":1,"ToyType":0,"Id":"484","Name":"Flashlight","NameId":"RelicFlashlight","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Start of battle: Give ALL pets random perks and ailments."},{"Level":2,"About":"Start of battle: Give ALL pets random perks and ailments with double effects."},{"Level":3,"About":"Start of battle: Give ALL pets random perks and ailments with triple effects."}],"Type":1,"ToyType":0,"Id":"593","Name":"Pandoras Box","NameId":"RelicPandorasBox","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Start of battle: Remove 40% health from the highest health enemy."},{"Level":2,"About":"Start of battle: Remove 40% health from the two highest health enemies."},{"Level":3,"About":"Start of battle: Remove 40% health from the three highest health enemies."}],"Type":1,"ToyType":0,"Id":"513","Name":"Stinky Sock","NameId":"RelicStinkySock","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Start of battle: Give Coconut perk to the highest attack friend."},{"Level":2,"About":"Start of battle: Give Coconut perk to the two highest attack friends."},{"Level":3,"About":"Start of battle: Give Coconut perk to the three highest attack friends."}],"Type":1,"ToyType":0,"Id":"511","Name":"Air Palm Tree","NameId":"RelicPalmTree","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"End turn: Give the back-most friend +1 attack and +1 health."},{"Level":2,"About":"End turn: Give the back-most friend +2 attack and +2 health."},{"Level":3,"About":"End turn: Give the back-most friend +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"583","Name":"Excalibur","NameId":"RelicExcalibur","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Break: Stock one free Holy Water."},{"Level":2,"About":"Break: Stock two free Holy Waters."},{"Level":3,"About":"Break: Stock three free Holy Waters."}],"Type":1,"ToyType":0,"Id":"592","Name":"Holy Grail","NameId":"RelicHolyGrail","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Start of battle: Give Peanut Butter perk to the lowest attack friend."},{"Level":2,"About":"Start of battle: Give Peanut Butter perk to the two lowest attack friends."},{"Level":3,"About":"Start of battle: Give Peanut Butter perk to the three lowest attack friends."}],"Type":1,"ToyType":0,"Id":"512","Name":"Peanut Jar","NameId":"RelicPeanutJar","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this, once.","CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Break: Give friends +2 attack and +2 health."},{"Level":2,"About":"Break: Give friends +4 attack and +4 health."},{"Level":3,"About":"Break: Give friends +6 attack and +6 health."}],"Type":1,"ToyType":0,"Id":"491","Name":"Television","NameId":"RelicTelevision","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]}]');var m4=Zt.t(Iw,2);let Pn=(()=>{class n{constructor(){this.logs=[]}createLog(t){t.sourcePet&&t.targetPet&&(t.message=this.decorateAttackMessage(t.message,t.sourcePet,t.targetPet)),t.tiger&&(t.message+=" (Tiger)"),t.puma&&(t.message+=" (Puma)"),t.pteranodon&&(t.message+=" (Pteranodon)"),null!=t.pantherMultiplier&&t.pantherMultiplier>1&&(t.message+=` x${t.pantherMultiplier} (Panther)`),this.logs.push(t)}getLogs(){return this.logs}reset(){this.logs=[]}getFrontIndex(t){const i=null==t?void 0:t.parent;return i?i.pet0===t?1:i.pet1===t?2:i.pet2===t?3:i.pet3===t?4:i.pet4===t?5:null:null}decorateAttackMessage(t,i,r){var a,s;const o=this.getFrontIndex(i),l=this.getFrontIndex(r);if(null==o||null==l)return t;const c=(null===(a=i.parent)||void 0===a?void 0:a.isOpponent)?"O":"P",d=(null===(s=r.parent)||void 0===s?void 0:s.isOpponent)?"O":"P",p=`__SRC__${i.name}__`;let g=this.replaceFirst(t,i.name,p);return g=this.replaceFirst(g,r.name,`${d}${l} ${r.name}`),g.replace(p,`${c}${o} ${i.name}`)}replaceFirst(t,i,r){const a=t.indexOf(i);return-1===a?t:t.slice(0,a)+r+t.slice(a+i.length)}printState(t,i,r){r&&this.createLog({message:r,type:"board"});let a="";a+=this.getPetText(t.pet4),a+=this.getPetText(t.pet3),a+=this.getPetText(t.pet2),a+=this.getPetText(t.pet1),a+=this.getPetText(t.pet0);let s="";s+=this.getPetText(i.pet0),s+=this.getPetText(i.pet1),s+=this.getPetText(i.pet2),s+=this.getPetText(i.pet3),s+=this.getPetText(i.pet4),this.createLog({message:`${a}| ${s}`,type:"board"})}getPetText(t){return null==t?"___ (-/-) ":`${t.name.substring(0,3)} (${t.attack}/${t.health}) `}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fa=(()=>{class n{constructor(){}init(t,i){this.gameApi={player:t,opponent:i}}setTierGroupPets(t,i){null!=t&&(this.gameApi.playerPetPool=t),null!=i&&(this.gameApi.opponentPetPool=i)}setPreviousShopTier(t){this.gameApi.previousShopTier=t}setTurnNumber(t){this.gameApi.turnNumber=t}setGoldSpent(t,i){null!=t&&(this.gameApi.playerGoldSpent=t),null!=i&&(this.gameApi.opponentGoldSpent=i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ya=(()=>{class n{constructor(t,i){this.gameService=t,this.logService=i,this.startBattleEvents=[],this.afterAttackEvents=[],this.beforeAttackEvents=[],this.processedBeforeAttackPets=new Set,this.beforeStartOfBattleEvents=[],this.equipmentBeforeAttackEvents=[],this.afterFriendAttackEvents=[],this.beforeFriendAttacksEvents=[],this.emptyFrontSpaceToyEvents=[],this.friendSummonedToyEvents=[],this.friendlyLevelUpToyEvents=[],this.friendFaintsToyEvents=[],this.friendJumpedToyEvents=[],this.globalEventQueue=[],this.ABILITY_PRIORITIES={ThisLeveledUp:1,FriendLeveledUp:2,FriendlyLeveledUp:2,AnyLeveledUp:2,ThisHurt:3,FriendHurt:4,EnemyHurt:4,AnyoneHurt:4,FriendAheadHurt:4,AdjacentFriendsHurt:4,AnyoneBehindHurt:4,ThisGainedMana:5,ThisSummoned:6,FriendSummoned:7,EnemySummoned:7,BeeSummoned:7,EnemyPushed:8,FriendJumped:8,AnyoneJumped:8,BeforeThisDies:9,KitsuneFriendDies:9,FriendAheadDied:10,ThisDied:11,FriendDied:12,AdjacentFriendsDie:12,EnemyDied:12,PetDied:12,FriendlyToyBroke:12,ThisKilled:9,ThisKilledEnemy:13,ThisTransformed:14,FriendTransformed:14.5,FriendGainedExp:15,FriendlyGainedExp:15,FoodEatenByThis:16,FoodEatenByAny:16,FoodEatenByFriend:16,FoodEatenByFriendly:16,AppleEatenByThis:16,CornEatenByThis:16,CornEatenByFriend:16,counter:17,ThisLostPerk:17.5,FriendLostPerk:18,PetLostPerk:18,LostStrawberry:18,FriendLostStrawberry:18,ThisGainedPerk:19,ThisGainedStrawberry:19,FriendGainsPerk:20,FriendlyGainsPerk:20,FriendGainedStrawberry:20,FriendlyGainedStrawberry:20,ThisGainedAilment:19,FriendGainsAilment:20,EnemyGainedAilment:20,AnyoneGainedAilment:20,AnyoneGainedWeak:20,FriendFlung:21,AnyoneFlung:21,manaSnipe:22,ClearFront:23,goldenRetrieverSummons:24}}getTeam(t){var i;const r=null!==(i=null==t?void 0:t.parent)&&void 0!==i?i:t,a=null==r?void 0:r.petArray;return Array.isArray(a)?a:[]}handleCounterTriggers(t,i,r,a){for(const s of a)!t.hasTrigger(s.trigger)||(t.abilityCounter++,t.abilityCounter%s.modulo==0&&this.triggerAbility(t,s.trigger,i,r))}getTriggerModulo(t){const i=t.match(/(\d+)$/);return i?parseInt(i[1],10):null}handleNumberedCounterTriggers(t,i,r,a){const s=a.map(o=>({trigger:o,modulo:this.getTriggerModulo(o)})).filter(o=>null!=o.modulo);0!==s.length&&this.handleCounterTriggers(t,i,r,s)}getNumberedTriggersForPet(t,i){const r=new Set,a=new RegExp(`^${i}\\d+$`);for(const s of t.getAbilities())for(const o of s.triggers)a.test(o)&&r.add(o);return Array.from(r)}simulateFriendDiedCounters(t,i){if(!t||i<=0)return;const r=this.getNumberedTriggersForPet(t,"FriendDied");for(let a=0;a<i;a++)this.handleNumberedCounterTriggers(t,void 0,void 0,r)}enqueueToyEvents(t,i,r,a){this.addToyEvent(t,{callback:a,priority:100,level:i.toy.level,triggerPet:r,player:i});const s=i.petArray.filter(o=>o instanceof Cp);for(const o of s)this.addToyEvent(t,{callback:a,priority:+o.attack,level:o.level,triggerPet:r,player:i})}addToyEvent(t,i){t.push(i)}executeToyEventQueue(t,i,r){const a=(0,mi.shuffle)(t);a.sort((s,o)=>s.priority>o.priority?-1:s.priority<o.priority?1:0);for(const s of a)r&&this.logToyEvent(s,r),i(s);t.length=0}logToyEvent(t,i){var r,a,s;const o=null===(a=null===(r=t.player)||void 0===r?void 0:r.toy)||void 0===a?void 0:a.name;if(!o)return;const l=(null===(s=t.triggerPet)||void 0===s?void 0:s.name)?` (${t.triggerPet.name})`:"";this.logService.createLog({message:`${o} ${i}${l}`,type:"ability",player:t.player,randomEvent:!0})}getAbilityPriority(t){var i;const r=this.ABILITY_PRIORITIES[t];return null!=r?r:/\d+$/.test(t)&&null!==(i=this.ABILITY_PRIORITIES.counter)&&void 0!==i?i:999}triggerAbility(t,i,r,a){var s;if(t.hasTrigger(i)){const o=Object.assign(Object.assign({},null!=a?a:{}),{trigger:i,tigerSupportPet:null!==(s=t.petBehind(!0,!0))&&void 0!==s?s:null}),l={callback:(c,d,p)=>{t.executeAbilities(c,d,p,void 0,void 0,o)},priority:this.getPetEventPriority(t),pet:t,triggerPet:r,abilityType:i,tieBreaker:Math.random(),customParams:o};this.addEventToQueue(l)}}getPetEventPriority(t){var i,r;let a=t.attack;return"Churros"===(null===(i=t.equipment)||void 0===i?void 0:i.name)?a+=1e3:"Macaron"===(null===(r=t.equipment)||void 0===r?void 0:r.name)&&(a-=1e3),a}createAbilityEvent(t,i,r,a,s){return{callback:(o,l,c)=>{t.executeAbilities(o,l,c,void 0,void 0,s)},priority:null!=a?a:this.getPetEventPriority(t),pet:t,triggerPet:r,abilityType:i,tieBreaker:Math.random(),customParams:s}}enqueueAbilityEvent(t,i,r,a,s,o){t.push(this.createAbilityEvent(i,r,a,s,o))}get hasAbilityCycleEvents(){return this.globalEventQueue.length>0}addEventToQueue(t){const i=this.getAbilityPriority(t.abilityType);void 0===t.tieBreaker&&(t.tieBreaker=Math.random());let r=0,a=this.globalEventQueue.length;for(;r<a;){const s=Math.floor((r+a)/2),o=this.globalEventQueue[s],l=this.getAbilityPriority(o.abilityType);i<l?a=s:i>l?r=s+1:t.priority>o.priority?a=s:t.priority<o.priority?r=s+1:t.tieBreaker<o.tieBreaker?a=s:r=s+1}this.globalEventQueue.splice(r,0,t)}clearGlobalEventQueue(){this.globalEventQueue=[]}get hasGlobalEvents(){return this.globalEventQueue.length>0}getNextHighestPriorityEvent(){return this.globalEventQueue.shift()||null}peekNextHighestPriorityEvent(){return this.globalEventQueue.length>0?this.globalEventQueue[0]:null}getPriorityNumber(t){return this.getAbilityPriority(t)}executeEventCallback(t){const i=this.gameService.gameApi,r=t.pet;if(r&&r.transformed&&r.transformedInto&&t.abilityType){const a=r.transformedInto;t.callback=(s,o,l)=>{a.executeAbilities(s,o,l,void 0,void 0,t.customParams)}}t.callback(t.abilityType,i,t.triggerPet)}initSpecialEndTurnAbility(t){for(let i of t.petArray)i.hasTrigger("SpecialEndTurn")&&i.executeAbilities("SpecialEndTurn",this.gameService.gameApi)}triggerBeforeStartOfBattleEvents(){this.gameApi=this.gameService.gameApi;for(let t of this.gameApi.player.petArray)t.hasTrigger("BeforeStartBattle")&&this.enqueueAbilityEvent(this.beforeStartOfBattleEvents,t,"BeforeStartBattle");for(let t of this.gameApi.opponent.petArray)t.hasTrigger("BeforeStartBattle")&&this.enqueueAbilityEvent(this.beforeStartOfBattleEvents,t,"BeforeStartBattle")}resetBeforeStartOfBattleEvents(){this.beforeStartOfBattleEvents=[]}executeBeforeStartOfBattleEvents(){this.beforeStartOfBattleEvents=(0,mi.shuffle)(this.beforeStartOfBattleEvents),this.beforeStartOfBattleEvents.sort((t,i)=>t.priority>i.priority?-1:t.priority<i.priority?1:0);for(let t of this.beforeStartOfBattleEvents)t.callback(t.abilityType,this.gameService.gameApi);this.resetBeforeStartOfBattleEvents()}setCounterEvent(t){this.addEventToQueue(t)}triggerStartBattleEvents(){this.gameApi=this.gameService.gameApi;for(let t of this.gameApi.player.petArray)t.hasTrigger("StartBattle")&&this.enqueueAbilityEvent(this.startBattleEvents,t,"StartBattle");for(let t of this.gameApi.opponent.petArray)t.hasTrigger("StartBattle")&&this.enqueueAbilityEvent(this.startBattleEvents,t,"StartBattle",void 0,t.attack)}executeStartBattleEvents(){for(this.startBattleEvents.sort((t,i)=>i.priority-t.priority||i.tieBreaker-t.tieBreaker);this.startBattleEvents.length>0;){let t=this.startBattleEvents.shift();if(t.pet&&t.pet.transformed&&t.pet.transformedInto){const r=t.pet.transformedInto;t.callback=(a,s)=>{r.executeAbilities(a,s)}}t.callback(t.abilityType,this.gameService.gameApi);let i=!1;for(let r of this.startBattleEvents)r.pet.attack!=r.priority&&(r.priority=r.pet.attack,i=!0);i&&this.startBattleEvents.sort((r,a)=>a.priority-r.priority||a.tieBreaker-r.tieBreaker)}}triggerBeforeAttackEvent(t){const i=null==t?void 0:t.parent,r=i&&Array.isArray(i.petArray)?i.petArray:[];for(let a of r)a.hasTrigger("BeforeFriendlyAttack")&&this.enqueueAbilityEvent(this.beforeFriendAttacksEvents,a,"BeforeFriendlyAttack",void 0,a.attack),a==t?(a.hasTrigger("BeforeThisAttacks")&&this.enqueueAbilityEvent(this.beforeAttackEvents,a,"BeforeThisAttacks",void 0,a.attack),a.hasTrigger("BeforeFirstAttack")&&this.enqueueAbilityEvent(this.beforeAttackEvents,a,"BeforeFirstAttack",void 0,a.attack)):a.hasTrigger("BeforeFriendAttacks")&&this.enqueueAbilityEvent(this.beforeFriendAttacksEvents,a,"BeforeFriendAttacks",void 0,a.attack),(a==t.petAhead||a==t.petBehind())&&a.hasTrigger("BeforeAdjacentFriendAttacked")&&this.enqueueAbilityEvent(this.beforeFriendAttacksEvents,a,"BeforeAdjacentFriendAttacked",void 0,a.attack)}executeBeforeAttackEvents(){for(this.beforeAttackEvents.sort((t,i)=>i.priority-t.priority||i.tieBreaker-t.tieBreaker);this.beforeAttackEvents.length>0;){let t=this.beforeAttackEvents.shift();if(t.pet&&t.pet.transformed&&t.pet.transformedInto){const i=t.pet.transformedInto;t.callback=(r,a)=>{i.executeAbilities(r,a)}}t.callback(t.abilityType,this.gameService.gameApi)}for(this.beforeFriendAttacksEvents.sort((t,i)=>i.priority-t.priority||i.tieBreaker-t.tieBreaker);this.beforeFriendAttacksEvents.length>0;){let t=this.beforeFriendAttacksEvents.shift();if(t.pet&&t.pet.transformed&&t.pet.transformedInto){const i=t.pet.transformedInto;t.callback=(r,a)=>{i.executeAbilities(r,a)}}t.callback(t.abilityType,this.gameService.gameApi)}}triggerAttacksEvents(t){var i;if(!t)return;for(let a of this.getTeam(t))this.handleNumberedCounterTriggers(a,void 0,void 0,this.getNumberedTriggersForPet(a,"FriendlyAttacked")),a.hasTrigger("FriendlyAttacked")&&this.enqueueAbilityEvent(this.afterFriendAttackEvents,a,"FriendlyAttacked",void 0,a.attack),a.hasTrigger("AnyoneAttack")&&this.enqueueAbilityEvent(this.afterFriendAttackEvents,a,"AnyoneAttack",t,a.attack),a==t?(a.hasTrigger("ThisAttacked")&&this.enqueueAbilityEvent(this.afterAttackEvents,a,"ThisAttacked",void 0,a.attack),a.hasTrigger("ThisFirstAttack")&&this.enqueueAbilityEvent(this.afterAttackEvents,a,"ThisFirstAttack",void 0,a.attack)):(a.hasTrigger("FriendAttacked")&&this.enqueueAbilityEvent(this.afterFriendAttackEvents,a,"FriendAttacked",void 0,a.attack),this.handleNumberedCounterTriggers(a,void 0,void 0,this.getNumberedTriggersForPet(a,"FriendAttacked"))),(a==t.petAhead||a==t.petBehind())&&a.hasTrigger("AdjacentFriendAttacked")&&this.enqueueAbilityEvent(this.afterFriendAttackEvents,a,"AdjacentFriendAttacked",t,a.attack),a==t.petBehind(null,!0)&&a.hasTrigger("FriendAheadAttacked")&&this.enqueueAbilityEvent(this.afterFriendAttackEvents,a,"FriendAheadAttacked",void 0,a.attack);const r=this.getTeam(null===(i=t.parent)||void 0===i?void 0:i.opponent);if(r.length)for(let a of r)a.hasTrigger("AnyoneAttack")&&this.enqueueAbilityEvent(this.afterFriendAttackEvents,a,"AnyoneAttack",t,a.attack),a.hasTrigger("EnemyAttacked")&&this.enqueueAbilityEvent(this.afterFriendAttackEvents,a,"EnemyAttacked",void 0,a.attack),this.handleNumberedCounterTriggers(a,void 0,void 0,this.getNumberedTriggersForPet(a,"EnemyAttacked"))}executeAfterAttackEvents(){for(this.afterAttackEvents.sort((t,i)=>i.priority-t.priority||i.tieBreaker-t.tieBreaker);this.afterAttackEvents.length>0;){let t=this.afterAttackEvents.shift();if(t.pet&&t.pet.transformed&&t.pet.transformedInto){const i=t.pet.transformedInto;t.callback=(r,a)=>{i.executeAbilities(r,a)}}t.callback(t.abilityType,this.gameService.gameApi)}for(this.afterFriendAttackEvents.sort((t,i)=>i.priority-t.priority||i.tieBreaker-t.tieBreaker);this.afterFriendAttackEvents.length>0;){let t=this.afterFriendAttackEvents.shift();if(t.pet&&t.pet.transformed&&t.pet.transformedInto){const i=t.pet.transformedInto;t.callback=(r,a)=>{i.executeAbilities(r,a)}}t.callback(t.abilityType,this.gameService.gameApi)}}triggerSummonEvents(t){const i=null==t?void 0:t.parent;if(i&&Array.isArray(i.petArray)){this.triggerFriendSummonedToyEvents(i,t);for(let a of this.getTeam(i))a==t?this.triggerAbility(a,"ThisSummoned",t):(this.triggerAbility(a,"FriendSummoned",t),this.handleNumberedCounterTriggers(a,t,void 0,this.getNumberedTriggersForPet(a,"FriendSummoned")),"Bee"===t.name&&this.triggerAbility(a,"BeeSummoned",t));(i.opponent&&Array.isArray(i.opponent.petArray)?i.opponent.petArray:[]).forEach(a=>this.triggerAbility(a,"EnemySummoned",t)),this.executeFriendSummonedToyEvents()}}triggerFaintEvents(t){for(let i of this.getTeam(t))this.triggerAbility(i,i==t?"BeforeThisDies":"KitsuneFriendDies",t),i==t.petBehind(null,!0)&&this.triggerAbility(i,"FriendAheadDied",t),(i==t.petBehind(null,!0)||i.petBehind(null,!0)==t)&&this.triggerAbility(i,"AdjacentFriendsDie",t)}triggerAfterFaintEvents(t){var i;this.triggerFriendFaintsToyEvents(t.parent,t);for(let a of this.getTeam(t))this.triggerAbility(a,"PetDied",t),a==t?this.triggerAbility(a,"ThisDied",t):(this.triggerAbility(a,"FriendDied",t),this.handleNumberedCounterTriggers(a,t,void 0,this.getNumberedTriggersForPet(a,"FriendDied")));const r=this.getTeam(null===(i=t.parent)||void 0===i?void 0:i.opponent).filter(a=>a.alive);for(let a of r)this.triggerAbility(a,"EnemyDied",t),this.triggerAbility(a,"PetDied",t),this.handleNumberedCounterTriggers(a,t,void 0,this.getNumberedTriggersForPet(a,"EnemyFaint"));this.executeFriendFaintsToyEvents()}triggerFoodEvents(t,i){var r;for(let a of this.getTeam(t))this.triggerAbility(a,"FoodEatenByAny",t),this.triggerAbility(a,"FoodEatenByFriendly",t),a==t?(this.triggerAbility(a,"FoodEatenByThis",t),"apple"===i?(this.triggerAbility(a,"AppleEatenByThis",t),this.handleNumberedCounterTriggers(a,t,void 0,this.getNumberedTriggersForPet(a,"AppleEatenByThis"))):"corn"===i&&this.triggerAbility(a,"CornEatenByThis",t),this.handleNumberedCounterTriggers(a,t,void 0,this.getNumberedTriggersForPet(a,"Eat"))):(this.triggerAbility(a,"FoodEatenByFriend",t),"corn"===i&&this.triggerAbility(a,"CornEatenByFriend",t));for(let a of this.getTeam(null===(r=t.parent)||void 0===r?void 0:r.opponent))this.triggerAbility(a,"FoodEatenByAny",t)}triggerPerkGainEvents(t,i){for(let r of this.getTeam(t))this.triggerAbility(r,"FriendlyGainsPerk",t),"Strawberry"===i&&this.triggerAbility(r,"FriendlyGainedStrawberry",t),r==t?(this.triggerAbility(r,"ThisGainedPerk",t),"Strawberry"===i&&this.triggerAbility(r,"ThisGainedStrawberry",t)):(this.triggerAbility(r,"FriendGainsPerk",t),"Strawberry"===i&&this.triggerAbility(r,"FriendGainedStrawberry",t))}triggerPerkLossEvents(t,i){var r;for(let a of this.getTeam(t))this.triggerAbility(a,"PetLostPerk",t),"strawberry"===i&&this.triggerAbility(a,"LostStrawberry",t),a==t?this.triggerAbility(a,"ThisLostPerk",t):(this.triggerAbility(a,"FriendLostPerk",t),"strawberry"===i&&this.triggerAbility(a,"FriendLostStrawberry",t));for(let a of this.getTeam(null===(r=t.parent)||void 0===r?void 0:r.opponent))this.triggerAbility(a,"PetLostPerk",t)}triggerAilmentGainEvents(t,i){var r;for(let a of this.getTeam(t))this.triggerAbility(a,"AnyoneGainedAilment",t),this.triggerAbility(a,a==t?"ThisGainedAilment":"FriendGainsAilment",t),"weak"===i&&this.triggerAbility(a,"AnyoneGainedWeak",t);for(let a of this.getTeam(null===(r=t.parent)||void 0===r?void 0:r.opponent))this.triggerAbility(a,"EnemyGainedAilment",t),this.triggerAbility(a,"AnyoneGainedAilment",t),"weak"===i&&this.triggerAbility(a,"AnyoneGainedWeak",t)}triggerTransformEvents(t){const i=t.transformedInto;for(let r of this.getTeam(i))r==i?this.triggerAbility(r,"ThisTransformed",i):(this.triggerAbility(r,"FriendTransformed",i),this.handleNumberedCounterTriggers(r,i,void 0,this.getNumberedTriggersForPet(r,"FriendTransformed")))}triggerFlungEvents(t){var i;for(let r of this.getTeam(t))this.triggerAbility(r,"AnyoneFlung",t),r!=t&&this.triggerAbility(r,"FriendFlung",t);for(let r of this.getTeam(null===(i=t.parent)||void 0===i?void 0:i.opponent))this.triggerAbility(r,"AnyoneFlung",t)}triggerPushedEvents(t){var i;for(let r of this.getTeam(null===(i=t.parent)||void 0===i?void 0:i.opponent))this.triggerAbility(r,"EnemyPushed",t)}triggerKillEvents(t,i){this.triggerAbility(i,"ThisKilled",t),i.parent!==t.parent&&this.triggerAbility(t,"ThisKilledEnemy",i)}triggerHurtEvents(t,i){var r;const a=void 0!==i?{damageAmount:i}:void 0;for(let s of this.getTeam(t))this.triggerAbility(s,"AnyoneHurt",t,a),s==t?(this.triggerAbility(s,"ThisHurt",t,a),this.handleNumberedCounterTriggers(s,t,a,this.getNumberedTriggersForPet(s,"ThisHurt"))):(this.triggerAbility(s,"FriendHurt",t,a),this.handleNumberedCounterTriggers(s,t,a,this.getNumberedTriggersForPet(s,"FriendHurt"))),s==t.petBehind(null,!0)&&this.triggerAbility(s,"FriendAheadHurt",t,a),(s==s.petBehind()||s.petAhead)&&this.triggerAbility(s,"AdjacentFriendsHurt",t,a),s.position<t.position&&this.triggerAbility(s,"AnyoneBehindHurt",t,a);for(let s of this.getTeam(null===(r=t.parent)||void 0===r?void 0:r.opponent))this.triggerAbility(s,"EnemyHurt",t,a),this.triggerAbility(s,"AnyoneHurt",t,a),this.handleNumberedCounterTriggers(s,t,a,this.getNumberedTriggersForPet(s,"EnemyHurt"))}triggerLevelUpEvents(t){let i=t.parent;this.triggerFriendlyLevelUpToyEvents(i,t);for(let r of i.petArray)this.triggerAbility(r,"AnyLeveledUp",t),this.triggerAbility(r,"FriendlyLeveledUp",t),r==t?this.triggerAbility(r,"ThisLeveledUp",t):(this.triggerAbility(r,"FriendLeveledUp",t),this.handleNumberedCounterTriggers(r,t,void 0,this.getNumberedTriggersForPet(r,"FriendlyLeveledUp")));for(let r of t.parent.opponent.petArray)this.triggerAbility(r,"AnyLeveledUp",t)}triggerEmptyFrontSpaceEvents(t){for(let i of t.petArray)i.clearFrontTriggered||(this.triggerAbility(i,"ClearFront"),i.clearFrontTriggered=!0)}triggerToyBrokeEvents(t){for(let i of t.petArray)this.triggerAbility(i,"FriendlyToyBroke")}triggerJumpEvents(t){var i;this.triggerFriendJumpedToyEvents(t.parent,t);for(let r of this.getTeam(t))this.triggerAbility(r,"AnyoneJumped",t),r==t||(this.triggerAbility(r,"FriendJumped",t),this.handleNumberedCounterTriggers(r,t,void 0,this.getNumberedTriggersForPet(r,"FriendJumped")));for(let r of this.getTeam(null===(i=t.parent)||void 0===i?void 0:i.opponent))this.triggerAbility(r,"AnyoneJumped",t);this.executeFriendJumpedToyEvents()}triggerManaGainedEvents(t){this.triggerAbility(t,"ThisGainedMana",t)}setManaEvent(t){t.abilityType="manaSnipe",this.addEventToQueue(t)}setgoldenRetrieverSummonsEvent(t){t.abilityType="goldenRetrieverSummons",this.addEventToQueue(t)}triggerFriendGainsHealthEvents(t){}triggerFriendGainedExperienceEvents(t){for(let i of this.getTeam(t))this.triggerAbility(i,"FriendlyGainedExp",t),i!==t&&this.triggerAbility(i,"FriendGainedExp",t)}triggerEmptyFrontSpaceToyEvents(t){var i;if(null!=(null===(i=t.toy)||void 0===i?void 0:i.emptyFromSpace)){if(t.toy.used)return;this.enqueueToyEvents(this.emptyFrontSpaceToyEvents,t,void 0,t.toy.emptyFromSpace.bind(t.toy))}}executeEmptyFrontSpaceToyEvents(){this.executeToyEventQueue(this.emptyFrontSpaceToyEvents,t=>{t.callback(this.gameService.gameApi,t.priority<100,t.level,t.priority)},"triggered after empty front space")}triggerFriendSummonedToyEvents(t,i){var r;null!=(null===(r=t.toy)||void 0===r?void 0:r.friendSummoned)&&this.enqueueToyEvents(this.friendSummonedToyEvents,t,i,t.toy.friendSummoned.bind(t.toy))}executeFriendSummonedToyEvents(){this.executeToyEventQueue(this.friendSummonedToyEvents,t=>{t.callback(this.gameService.gameApi,t.triggerPet,t.priority<100,t.level)},"reacted to friend summoned")}triggerFriendlyLevelUpToyEvents(t,i){var r;t==i.parent&&null!=(null===(r=t.toy)||void 0===r?void 0:r.friendlyLevelUp)&&this.enqueueToyEvents(this.friendlyLevelUpToyEvents,t,i,t.toy.friendlyLevelUp.bind(t.toy))}executeFriendlyLevelUpToyEvents(){this.executeToyEventQueue(this.friendlyLevelUpToyEvents,t=>{t.callback(this.gameService.gameApi,t.triggerPet,t.priority<100,t.level)},"reacted to friendly level up")}triggerFriendFaintsToyEvents(t,i){var r;t==i.parent&&null!=(null===(r=t.toy)||void 0===r?void 0:r.friendFaints)&&this.enqueueToyEvents(this.friendFaintsToyEvents,t,i,t.toy.friendFaints.bind(t.toy))}executeFriendFaintsToyEvents(){this.executeToyEventQueue(this.friendFaintsToyEvents,t=>{t.callback(this.gameService.gameApi,t.triggerPet,t.priority<100,t.level)},"reacted to friend fainting")}triggerFriendJumpedToyEvents(t,i){var r;t==i.parent&&null!=(null===(r=t.toy)||void 0===r?void 0:r.friendJumped)&&this.enqueueToyEvents(this.friendJumpedToyEvents,t,i,t.toy.friendJumped.bind(t.toy))}executeFriendJumpedToyEvents(){this.executeToyEventQueue(this.friendJumpedToyEvents,t=>{t.callback(this.gameService.gameApi,t.triggerPet,t.priority<100,t.level)},"reacted to friend jumping")}}return n.\u0275fac=function(t){return new(t||n)(te(fa),te(Pn))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Mw extends Y{constructor(){super(...arguments),this.equipmentClass="defense",this.name="Garlic",this.tier=3,this.power=2,this.originalPower=2,this.minimumDamage=2}}class RW extends S{constructor(e,t,i){super({name:"CakeAbility",owner:e,triggers:["EndTurn"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){var t;const i=this.owner,r=1*(null!==(t=this.equipment.multiplier)&&void 0!==t?t:1);i.increaseSellValue(r),this.logService.createLog({message:`${i.name} increased its sell value by ${r}. (Cake)${this.equipment.multiplierMessage}`,type:"equipment",player:i.parent})}}class g4 extends Y{constructor(){super(...arguments),this.name="Meat Bone",this.equipmentClass="attack",this.power=3,this.originalPower=3}}class BW extends S{constructor(e,t,i,r){super({name:"HoneyAbility",owner:e,triggers:["ThisDied"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=i,this.abilityService=r}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let r=new h4(this.logService,this.abilityService,t.parent,null,null,0);t.parent.summonPet(r,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned Bee (Honey)${i>0?this.equipment.multiplierMessage:""}`,type:"ability",player:t.parent})}}}class f4 extends Y{constructor(e,t){super(),this.logService=e,this.abilityService=t,this.name="Honey",this.equipmentClass="afterFaint",this.callback=i=>{i.addAbility(new BW(i,this,this.logService,this.abilityService))}}}class OW extends S{constructor(e,t,i,r){super({name:"MushroomAbility",owner:e,triggers:["ThisDied"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=i,this.petService=r}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let r=this.petService.createDefaultVersionOfPet(t,1,1);r.exp=t.exp,r.triggersConsumed=t.triggersConsumed,r.originalTriggersConsumed=t.triggersConsumed,t.parent.summonPet(r,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned ${r.name} (level ${r.level}) (Mushroom)${i>0?this.equipment.multiplierMessage:""}`,type:"ability",player:t.parent})}}}class $W extends Y{constructor(e,t){super(),this.logService=e,this.petService=t,this.name="Mushroom",this.tier=6,this.equipmentClass="afterFaint",this.callback=i=>{i.addAbility(new OW(i,this,this.logService,this.petService))}}}class Rw extends Y{constructor(){super(...arguments),this.name="Rice",this.tier=2,this.equipmentClass="shop",this.callback=e=>{e.increaseSellValue(2*this.multiplier)}}}class Fw extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Nest",this.tier=1,this.pack="Puppy",this.hidden=!0,this.attack=2,this.health=3,this.initPet(o,r,a,s,l,c)}}class GW extends S{constructor(e,t){super({name:"EggAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const{triggerPet:t}=e,i=this.owner;let r=this.equipment.multiplier;i instanceof Fw&&(r+=("Tiger"===(null==t?void 0:t.name)?t.level:i.level)-1);for(let a=0;a<r;a++){let s=i.parent.opponent.petArray,o=null;for(let l of s)if(l.alive){o=l;break}null!=o&&i.snipePet(o,2,!1,!1,!1,!0,!1)}i.removePerk()}}class y4 extends Y{constructor(e){super(),this.logService=e,this.name="Egg",this.tier=1,this.equipmentClass="beforeAttack",this.callback=t=>{t.addAbility(new GW(t,this))}}}class $y extends Y{constructor(){super(...arguments),this.name="Eucalyptus",this.equipmentClass="shield",this.power=4,this.originalPower=4,this.uses=1,this.originalUses=1}}class VW extends S{constructor(e,t,i){super({name:"SquashAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let r=t.parent.opponent.pet0;if(null==r||!r.alive)return void console.warn("squash didn't find target");let a=6,s=Math.max(1,r.health-a);r.health=s,this.logService.createLog({message:`${this.equipment.name} reduced ${r.name} health by ${a} (${s})${i>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent})}t.removePerk()}}class WW extends S{constructor(e,t,i){super({name:"PieAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner,i=4*this.equipment.multiplier,r=3*this.equipment.multiplier;t.increaseAttack(i),t.increaseHealth(r),this.logService.createLog({message:`${t.name} gained ${i} attack and ${r} health (Pie)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent})}}class v4 extends Y{constructor(e){super(),this.logService=e,this.name="Skewer",this.tier=5,this.equipmentClass="skewer",this.power=0,this.attackCallback=(t,i)=>{this.skewer(t,i,1),this.skewer(t,i,2)}}skewer(e,t,i){var r,a;let s=t.parent.getPetAtPosition(i);if(null==s)return;const o=3*(null!==(a=null===(r=e.equipment)||void 0===r?void 0:r.multiplier)&&void 0!==a?a:1);e.snipePet(s,o,!1,null,null,!0)}}class KW extends S{constructor(e,t,i){super({name:"PancakesAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;for(let i of t.parent.petArray){if(t==i)continue;let r=2*this.equipment.multiplier,a=2*this.equipment.multiplier;i.increaseAttack(r),i.increaseHealth(a),this.logService.createLog({message:`${i.name} gained ${r} attack and ${a} health (Pancakes)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent})}}}class b4 extends Y{constructor(e,t){super(),this.logService=e,this.abilityService=t,this.name="Mild Chili",this.equipmentClass="skewer",this.power=0,this.originalPower=0,this.attackCallback=(i,r)=>{let a=r.parent.getPetAtPosition(1);null!=a&&i.snipePet(a,4,!1,null,null,!0)}}}class QW extends S{constructor(e,t,i){super({name:"BaguetteAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let r=t.parent.opponent.getPetsWithoutEquipment("Perk"),a=t.parent.opponent.getFurthestUpPet(t,r).pet;if(null==a)return;if(null!=a.equipment){let s=a.equipment.name;a.removePerk(),this.logService.createLog({message:`${t.name} removed ${s} from ${a.name} (Baguette)${i>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent})}}t.removePerk()}}class tj extends S{constructor(e,t,i,r){super({name:"PopcornAbility",owner:e,triggers:["ThisDied"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=i,this.petService=r}executeAbility(e){const{gameApi:t}=e,i=this.owner;for(let r=0;r<this.equipment.multiplier;r++){let a;a=i.parent==t.player?t.playerPetPool:t.opponentPetPool;let s=a.get(i.tier),o=s[Math.floor(Math.random()*s.length)],l=this.petService.createPet({attack:null,equipment:null,exp:0,health:null,name:o,mana:0},i.parent);i.parent.summonPet(l,i.savedPosition).success&&this.logService.createLog({message:`${i.name} Spawned ${l.name} (Popcorn)${r>0?this.equipment.multiplierMessage:""}`,type:"ability",player:i.parent,randomEvent:!0})}}}class A4 extends Y{constructor(e,t,i){super(),this.logService=e,this.petService=t,this.gameService=i,this.name="Popcorn",this.equipmentClass="afterFaint",this.callback=r=>{r.addAbility(new tj(r,this,this.logService,this.petService))}}}class ij extends S{constructor(e,t,i,r){super({name:"SeaweedAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=i,this.petService=r}executeAbility(e){const t=this.owner;let i=this.petService.createPet({name:"Baby Urchin",attack:t.attack,health:t.health,mana:t.mana,exp:t.exp,equipment:null},t.parent);this.logService.createLog({message:`${t.name} transformed into ${i.name} (Seaweed)`,type:"equipment",player:t.parent}),t.parent.transformPet(t,i)}}class nj extends Y{constructor(e,t,i){super(),this.logService=e,this.abilityService=t,this.petService=i,this.name="Seaweed",this.equipmentClass="beforeAttack",this.callback=r=>{r.addAbility(new ij(r,this,this.logService,this.petService))}}}class rj extends S{constructor(e,t,i){super({name:"CaramelAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let i=t.parent.petArray.filter(o=>{var l;return o.alive&&"Caramel"===(null===(l=o.equipment)||void 0===l?void 0:l.name)});if(0===i.length)return;let r=3*i.length,a=t.parent.opponent.getHighestHealthPet(),s=a.pet;if(null!=s){t.snipePet(s,r,a.random,!1,!1,!0,!1);for(let o of i)o.removePerk(),this.logService.createLog({message:`${o.name} lost Caramel equipment`,type:"ability",player:t.parent,tiger:!1})}}}class aj extends S{constructor(e,t){super({name:"CherryAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;let i=this.equipment.multiplier;t.parent.gainTrumpets(2*i,t,!1,i,!0),t.removePerk(!0)}}class cj extends S{constructor(e,t,i,r){super({name:"ChocolateCakeAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=i,this.abilityService=r}executeAbility(e){const t=this.owner;let r=3*this.equipment.multiplier;this.logService.createLog({message:`${t.name} gained ${r} exp. (Chocolate Cake)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent}),t.increaseExp(r),t.health=0,this.abilityService.triggerKillEvents(t,t)}}class hj extends S{constructor(e,t,i){super({name:"EggplantAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let i=this.equipment.multiplier;for(let r=0;r<i;r++){let a=t.parent.opponent,s=a.getPet(t.position);if(null==s)return;this.logService.createLog({message:`${t.name} pushed ${s.name} 1 space forward. (Eggplant)${r>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent}),a.pushPet(s,1)}}}class mj extends S{constructor(e,t,i,r){super({name:"BananaAbility",owner:e,triggers:["ThisDied"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=i,this.abilityService=r}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let r=new p4(this.logService,this.abilityService,t.parent,4,4,0,0),a=i>0?this.equipment.multiplierMessage:"";t.parent.summonPet(r,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned Monkey (Banana)${a}`,type:"ability",player:t.parent})}}}class fj extends S{constructor(e,t,i){super({name:"PitaBreadAbility",owner:e,triggers:["ThisHurt"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;if(!t.alive)return;let r=15*this.equipment.multiplier;t.increaseHealth(r),this.logService.createLog({message:`${t.name} gained ${r} health. (Pita Bread)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent}),t.removePerk()}}class vj extends S{constructor(e,t){super({name:"TomatoAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;let i=this.equipment.multiplier;for(let r=0;r<i;r++){let a=t.parent.opponent.getLastPet();if(null==a.pet)break;t.snipePet(a.pet,10,a.random,!1,!1,!0,!1)}t.removePerk()}}class Aj extends S{constructor(e,t,i){super({name:"DurianAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let i=this.equipment.multiplier;for(let r=0;r<i;r++){let a=t.parent.opponent.getHighestHealthPet(),s=a.pet;if(null==s)continue;let o=.33,l=Math.max(1,Math.floor(s.health*(1-o)));s.health=l,this.logService.createLog({message:`${this.equipment.name} reduced ${s.name} health by ${100*o}% (${l})${r>0?this.equipment.multiplierMessage:""}`,type:"ability",player:t.parent,randomEvent:a.random})}t.removePerk()}}class Sj extends S{constructor(e,t){super({name:"FigAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;let i=this.equipment.multiplier;for(let r=0;r<i;r++){let a=t.parent.opponent.getLowestHealthPet().pet;if(null==a)return;t.snipePet(a,4,!0,!1,!1,!0,!1)}t.removePerk()}}class wj extends S{constructor(e,t,i,r){super({name:"CodRoeAbility",owner:e,triggers:["ThisDied"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=i,this.abilityService=r}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let r=new i4(this.logService,this.abilityService,t.parent,3,2,0,0);t.parent.summonPet(r,t.savedPosition).success&&this.logService.createLog({message:`${t.name} spawned ${r.name} (Cod Roe)${i>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent})}}}class _j extends S{constructor(e,t,i){super({name:"SudduthTomatoAbility",owner:e,triggers:["ThisHurt"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,condition:r=>!!this.owner.alive,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const r=this.owner;let s=1*this.equipment.multiplier;r.increaseHealth(s),this.logService.createLog({message:`${r.name} gained ${s} health (Sudduth Tomato)${this.equipment.multiplierMessage}`,type:"equipment",player:r.parent}),r.removePerk()}}class Ej extends S{constructor(e,t,i,r){super({name:"GrosMichelBananaAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=i,this.abilityService=r}executeAbility(e){const i=this.owner;for(let r=0;r<this.equipment.multiplier;r++){let a=new kP(this.logService,this.abilityService,i.parent,i.health,i.attack,i.mana,i.exp);this.logService.createLog({message:`${i.name} transformed into ${a.name} (Gros Michel Banana)${r>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:i.parent}),i.parent.transformPet(i,a)}}}class Dj extends S{constructor(e,t,i,r){super({name:"CocoaBeanAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=i,this.petService=r}executeAbility(e){var t;const i=this.owner,r=Je.getInjector().get(Dt);for(let a=0;a<this.equipment.multiplier;a++){let s=i.parent.opponent.petArray.filter(p=>p.alive);if(0==s.length)return void i.removePerk();let o=s[Math.floor(Math.random()*s.length)],l=null;o.equipment&&(l=(null===(t=o.equipment.equipmentClass)||void 0===t?void 0:t.startsWith("ailment"))?r.getInstanceOfAllAilments().get(o.equipment.name):r.getInstanceOfAllEquipment().get(o.equipment.name));let c=this.petService.createPet({name:o.name,attack:o.attack,health:o.health,mana:i.mana,exp:o.exp,equipment:l},i.parent);if(c.mana=i.mana,o.swallowedPets&&o.swallowedPets.length>0){c.swallowedPets=[];for(let p of o.swallowedPets){let g=this.petService.createPet({name:p.name,attack:p.attack,health:p.health,mana:p.mana,exp:p.exp,equipment:p.equipment},i.parent);c.swallowedPets.push(g)}}c.abilityCounter=o.abilityCounter,c.timesHurt=o.timesHurt,c.timesAttacked=o.timesAttacked,c.battlesFought=o.battlesFought,c.copyAbilities(o,"Pet"),this.logService.createLog({message:`${i.name} transformed into ${c.name} (Cocoa Bean)${a>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:i.parent,randomEvent:s.length>1}),i.parent.transformPet(i,c)}}}class Lj extends Y{constructor(e,t){super(),this.logService=e,this.petService=t,this.name="Cocoa Bean",this.tier=5,this.equipmentClass="beforeAttack",this.power=0,this.originalPower=0,this.uses=1,this.originalUses=1,this.callback=i=>{i.addAbility(new Dj(i,this,this.logService,this.petService))}}}class Ij extends S{constructor(e,t){super({name:"UnagiAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let r=t.parent.opponent.getRandomPet([],!1,!0,!1,t);r.pet&&t.snipePet(r.pet,2,!0,!1,!1,!0,!1)}}}class Ru extends Y{constructor(){super(...arguments),this.name="Corncob",this.tier=1,this.equipmentClass="shop",this.effectMultiplier=1}}class k4 extends Y{constructor(){super(),this.name="Blueberry",this.equipmentClass="target"}}class Fj extends S{constructor(e,t){super({name:"CashewNutAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let r=t.parent.nearestPetsAhead(2,t,null,!0),a=r.pets;if(a.length<2)return;let s=a[1];t.snipePet(s,s.parent==t.parent?1:2,r.random,null,null,!0)}}}class Bj extends S{constructor(e,t,i){super({name:"NachosAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let s=Math.min(3,t.health-1);s>0&&(t.increaseHealth(-s),t.increaseAttack(s),this.logService.createLog({message:`${t.name} converted ${s} health into ${s} attack (Nachos)${i>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent}))}t.removePerk()}}class Vj extends S{constructor(e,t){super({name:"CauliflowerAbility",owner:e,triggers:["ThisKilled"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>this.executeAbility(i)}),this.equipment=t,this.logService=Je.getInjector().get(Pn)}executeAbility(e){const t=this.owner;if(!t.alive)return void t.removePerk();const i=1*this.equipment.multiplier;t.increaseAttack(i),t.increaseHealth(i),this.logService.createLog({message:`${t.name} gained +${i} attack and +${i} health. (Cauliflower)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent}),t.removePerk()}}class Kj extends S{constructor(e,t){super({name:"ManaPotionAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:i=>this.executeAbility(i)}),this.equipment=t,this.logService=Je.getInjector().get(Pn)}executeAbility(e){const t=this.owner,i=6*this.equipment.multiplier;t.increaseMana(i),this.logService.createLog({message:`${t.name} gained ${i} mana. (Mana Potion)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent})}}class Nw extends Y{constructor(){super(...arguments),this.name="Melon Slice",this.equipmentClass="shield",this.power=10,this.originalPower=10,this.uses=1,this.originalUses=1}}class Qj extends S{constructor(e,t){super({name:"OysterMushroomAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>this.executeAbility(i)}),this.equipment=t,this.logService=Je.getInjector().get(Pn)}executeAbility(e){const t=this.owner,i=Math.max(t.attack,9),r=Math.max(t.health,9);i!==t.attack&&(t.attack=i),r!==t.health&&(t.health=r),this.logService.createLog({message:`${t.name} set stats to ${t.attack}/${t.health}. (Oyster Mushroom)`,type:"equipment",player:t.parent}),t.removePerk()}}const Ep={iriomoteCat:{1:["Ant","Mosquito","Cricket","Moth","Beetle","Chihuahua","Cockroach","Hummingbird","Frilled Dragon","Farmer Mouse","Budgie","Groundhog","Cone Snail","Goose","Barghest","Tsuchinoko","Alchemedes","Bunyip","Sneaky Egg","Ethiopian Wolf","African Wild Dog","Volcano Snail","Pygmy Seahorse","Nudibranch"],2:["Crab","Hedgehog","Flamingo","Spider","Robin","Beluga Sturgeon","Stork","Bass","Panda","Seahorse","Roadrunner","Mink","Meerkat","Black Necked Stilt","Sea Urchin","Honduran White Bat","Frost Wolf","Ogopogo","Thunderbird","Bigfoot","Takhi","White-Bellied Heron","Taita Shrew","Nightcrawler","Pink Robin","Fruit Fly","Olm","Tadpole","Thorny Dragon"],3:["Dodo","Dolphin","Sheep","Hoopoe Bird","Pug","Anteater","Eel","Bear","Farmer Pig","Brazillian Treehopper","Flea","Weasel","Osprey","Blue Dragon","Betta Fish","Skeleton Dog","Mandrake","Fur-Bearing Trout","Mana Hound","Roloway Monkey","Amami Rabbit","Hirola","Tucuxi","Tree Kangaroo","Slime","Dimetrodon","Gerenuk","Pangasius","Vampire Parrot"]},radish:{1:["Walnut","Honey","Egg","Strawberry"],2:["Meat Bone","Lime","Caramel","Bok Choy","Fairy Dust","Faint Bread","Cod Roe"],3:["Garlic","Squash","Seaweed","Fig","Brussels Sprout"],4:["Fortune Cookie","Salt","Baguette","Cheese","Banana","Ambrosia"],5:["Chili","Lemon","Pepper","Durian","Honeydew Melon","Easter Egg"],6:["Steak","Melon","Pita Bread","Tomato","Yggdrasil Fruit","Popcorn","White Okra"]},rolowayMonkey:["Peacock","Camel","Porcupine","Lizard","Guineafowl"],goldenTamarin:["Crocodile","Tarantula Hawk","Red Dragon","Werewolf","Snow Leopard","Sea Cucumber"],bayCat:["Skunk","Fossa","Hawk","Lynx","Platybelodon","Kraken","Tasmanian Devil","Humphead Wrasse"]};class Jj extends S{constructor(e,t,i){super({name:"RadishAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>this.executeAbility(r)}),this.equipment=t,this.logService=i,this.equipmentService=Je.getInjector().get(Dt)}executeAbility(e){var t,i;const r=this.owner,a=Math.min(Math.max(null!==(i=null!==(t=r.tier)&&void 0!==t?t:r.level)&&void 0!==i?i:1,1),6),s=Ep.radish[a];if(!s||0===s.length)return;const o=this.equipmentService.getInstanceOfAllEquipment(),l=s.filter(g=>o.has(g));if(0===l.length)return;const c=_t(0,l.length-1),p=o.get(l[c]);!p||(r.givePetEquipment(p),this.logService.createLog({message:`${r.name} gained ${p.name} before battle (Radish).`,type:"equipment",player:r.parent,randomEvent:!0}))}}class Xj extends Y{constructor(e){super(),this.logService=e,this.name="Radish",this.equipmentClass="beforeStartOfBattle",this.callback=t=>{t.addAbility(new Jj(t,this,this.logService))}}}class i9 extends S{constructor(e,t,i){super({name:"RambutanAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let a=3*this.equipment.multiplier;this.logService.createLog({message:`${t.name} gained ${a} mana. (Rambutan)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent}),t.increaseMana(a)}}class Bw extends Y{constructor(e){super(),this.logService=e,this.name="Rambutan",this.equipmentClass="beforeAttack",this.callback=t=>{t.addAbility(new i9(t,this,this.logService))}}}class n9 extends S{constructor(e,t,i){super({name:"LovePotionAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i,this.petService=Je.getInjector().get(vr)}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){const r=this.petService.createPet({name:t.name,attack:3,health:3,exp:0,equipment:null,mana:0},t.parent),a=t.parent.summonPet(r,t.savedPosition,!1,t);a.success&&this.logService.createLog({message:`${t.name} summoned a ${r.attack}/${r.health} ${r.name} (Love Potion)${i>0?this.equipment.multiplierMessage:""}.`,type:"equipment",player:t.parent,randomEvent:a.randomEvent})}}}class s9 extends S{constructor(e,t,i){super({name:"FairyDustAbility",owner:e,triggers:["ClearFront"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;if(null!=t.parent.pet0)return;let r=2*this.equipment.multiplier;this.logService.createLog({message:`${t.name} pushed itself to the front and gained ${r} mana(Fairy Dust)${this.equipment.multiplierMessage}.`,type:"ability",player:t.parent}),t.parent.pushPetToFront(t,!0),t.increaseMana(r),t.removePerk()}}class o9 extends S{constructor(e,t,i){super({name:"GingerbreadManAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let r=1*this.equipment.multiplier;this.logService.createLog({message:`${t.name} gained ${r} experience (Gingerbread Man)${this.equipment.multiplierMessage}.`,type:"equipment",player:t.parent}),t.increaseExp(r)}}class S4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Monty",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=3,this.attack=3,this.initPet(o,r,a,s,l,c)}}class c9 extends S{constructor(e,t,i,r){super({name:"EasterEggAbility",owner:e,triggers:["ThisDied"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=i,this.abilityService=r}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let r=new S4(this.logService,this.abilityService,t.parent,null,null,0,0);t.parent.summonPet(r,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned Monty (Easter Egg)${i>0?this.equipment.multiplierMessage:""}`,type:"ability",player:t.parent})}}}class h9 extends S{constructor(e,t,i){super({name:"HealthPotionAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let r=2*this.equipment.multiplier,a=t.parent.furthestUpPet;null!=a&&(this.logService.createLog({message:`${t.name} gave ${r} health to ${a.name} (Health Potion)${this.equipment.multiplierMessage}.`,type:"equipment",player:t.parent}),a.increaseHealth(r))}}class m9 extends S{constructor(e,t){super({name:"GoldenEggAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;let i=t.parent.opponent.petArray,r=null;for(let s of i)if(s.alive){r=s;break}if(null==r)return;let a=this.equipment.multiplier;for(let s=0;s<a;s++)t.snipePet(r,6,!1,!1,!1,!0,!1);t.removePerk()}}class Ow extends S{constructor(e,t){super({name:"Tandgnost Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.petArray.filter(s=>s&&s.alive&&"Tandgrisner"===s.name);if(0===i.length)return void this.triggerTigerExecution(e);const[r]=pa([...i]),a=3*Math.max(1,this.level);r.increaseHealth(a),this.logService.createLog({message:`${t.name} gave ${r.name} +${a} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Ow(e,this.logService)}}class P4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Tandgnost",this.tier=4,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Ow(this,this.logService)),super.initAbilities()}}class $w extends S{constructor(e,t){super({name:"Tandgrisner Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.petArray.filter(s=>s&&s.alive&&"Tandgnost"===s.name);if(0===i.length)return void this.triggerTigerExecution(e);const[r]=pa([...i]),a=3*Math.max(1,this.level);r.increaseAttack(a),this.logService.createLog({message:`${t.name} gave ${r.name} +${a} attack.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new $w(e,this.logService)}}class w4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Tandgrisner",this.tier=5,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new $w(this,this.logService)),super.initAbilities()}}class f9 extends S{constructor(e,t,i,r){super({name:"YggdrasilFruitAbility",owner:e,triggers:["ThisDied"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=i,this.abilityService=r}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let r=new P4(this.logService,this.abilityService,t.parent,5,5,0),a=new w4(this.logService,this.abilityService,t.parent,5,5,0),s=i>0?this.equipment.multiplierMessage:"";t.parent.summonPet(r,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned Tandgnost (Yggdrasil Fruit)${s}`,type:"ability",player:t.parent}),t.parent.summonPet(a,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned Tandgrisner (Yggdrasil Fruit)${s}`,type:"ability",player:t.parent})}}}class v9 extends S{constructor(e,t,i,r){super({name:"FaintBreadAbility",owner:e,triggers:["ThisDied"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.petService=i,this.logService=r}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let r=this.petService.getRandomFaintPet(t.parent,1),a=i>0?this.equipment.multiplierMessage:"";t.parent.summonPet(r,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned ${r.name} (Faint Bread)${a}`,type:"ability",player:t.parent,randomEvent:!0})}}}class b9 extends Y{constructor(e,t){super(),this.logService=e,this.petService=t,this.name="Faint Bread",this.equipmentClass="afterFaint",this.callback=i=>{i.addAbility(new v9(i,this,this.petService,this.logService))}}}class Hw extends Y{constructor(){super(...arguments),this.name="Cold",this.equipmentClass="ailment-defense",this.power=-5,this.originalPower=-5,this.uses=1,this.originalUses=1}}class po extends Y{constructor(){super(...arguments),this.name="Spooked",this.equipmentClass="ailment-defense",this.power=-1,this.originalPower=-1}}class Ds extends Y{constructor(){super(...arguments),this.name="Weak",this.equipmentClass="ailment-defense",this.power=-3,this.originalPower=-3}}class S9 extends S{constructor(e,t,i){super({name:"TastyAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let i=t.parent.opponent.petArray.filter(a=>a.alive);if(0==i.length)return;let r=i[Math.floor(Math.random()*i.length)];r.increaseAttack(2*this.equipment.multiplier),r.increaseHealth(2*this.equipment.multiplier),this.logService.createLog({message:`${t.name} gave ${r.name} +2 attack and +2 health (Tasty)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent,randomEvent:i.length>1})}}class T4 extends Y{constructor(e){super(),this.logService=e,this.name="Tasty",this.equipmentClass="faint",this.callback=t=>{t.addAbility(new S9(t,this,this.logService))}}}class _4 extends Y{constructor(){super(...arguments),this.name="Silly",this.equipmentClass="ailment-other"}}class w9 extends S{constructor(e){super({name:"ConfusedAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:t=>this.executeAbility(t)}),this.petService=Je.getInjector().get(vr),this.logService=Je.getInjector().get(Pn)}executeAbility(e){var t,i,r;const a=this.owner,s=Math.max(1,(null!==(t=a.tier)&&void 0!==t?t:1)-1),o=null!==(i=this.petService.allPets.get(s))&&void 0!==i?i:[];if(0===o.length)return void a.removePerk();const l=o[Math.floor(Math.random()*o.length)];a.removePerk();const c=this.petService.createPet({name:l,attack:a.attack,health:a.health,exp:null!==(r=a.exp)&&void 0!==r?r:0,equipment:null,mana:a.mana},a.parent);this.logService.createLog({message:`${a.name} transformed into a ${l}. (Confused)`,type:"equipment",player:a.parent,randomEvent:!0}),a.parent.transformPet(a,c)}}class _9 extends S{constructor(e){super({name:"CursedAbility",owner:e,triggers:["ThisDied"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:t=>this.executeAbility(t)}),this.logService=Je.getInjector().get(Pn)}executeAbility(e){const t=this.owner,i=t.parent.getRandomPet([t]),r=i.pet;!r||(r.givePetEquipment(new C4),this.logService.createLog({message:`${t.name} made ${r.name} Cursed.`,type:"equipment",player:t.parent,randomEvent:i.random}))}}class C4 extends Y{constructor(){super(...arguments),this.name="Cursed",this.equipmentClass="ailment-other",this.callback=e=>{e.addAbility(new _9(e))}}}class Gw extends Y{constructor(){super(...arguments),this.name="Inked",this.equipmentClass="ailment-attack",this.power=-3,this.originalPower=-3}}class E9 extends S{constructor(e){super({name:"WebbedAbility",owner:e,triggers:["ThisDied"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:t=>this.executeAbility(t)}),this.logService=Je.getInjector().get(Pn),this.petService=Je.getInjector().get(vr)}executeAbility(e){const t=this.owner,i=t.parent.opponent,r=this.petService.createPet({name:"Spider",attack:2,health:2,exp:0,equipment:null,mana:0},i),a=i.summonPet(r,0,!1,t);a.success&&this.logService.createLog({message:`${t.name} summoned ${r.name} for the opponent. (Webbed)`,type:"equipment",player:t.parent,randomEvent:a.randomEvent})}}const D9={Garlic:Mw,"Meat Bone":g4,Steak:class NW extends Y{constructor(){super(...arguments),this.name="Steak",this.equipmentClass="attack",this.tier=6,this.power=20,this.originalPower=20,this.uses=1,this.originalUses=1}},Melon:xs,Coconut:ga,Peanut:Ry,"Peanut Butter":Sp,"Cake Slice":class A9 extends Y{constructor(){super(...arguments),this.name="Cake Slice",this.equipmentClass="shop",this.tier=1}},Blackberry:jN,Croissant:class HW extends Y{constructor(){super(),this.name="Croissant",this.tier=3,this.equipmentClass="shop"}},Rice:Rw,Eucalyptus:$y,Lime:class qW extends Y{constructor(){super(...arguments),this.equipmentClass="defense",this.name="Lime",this.tier=2,this.power=1,this.originalPower=1}},Salt:lP,Lemon:class zW extends Y{constructor(){super(...arguments),this.equipmentClass="shield",this.name="Lemon",this.tier=5,this.power=7,this.originalPower=7,this.uses=2,this.originalUses=2}},Cucumber:class JW extends Y{constructor(){super(...arguments),this.name="Cucumber",this.equipmentClass="shop"}},Cheese:uP,Grapes:class XW extends Y{constructor(){super(...arguments),this.name="Grapes",this.equipmentClass="shop"}},Pepper:dP,Carrot:class ej extends Y{constructor(){super(...arguments),this.name="Carrot",this.equipmentClass="shop"}},Cherry:class oj extends Y{constructor(){super(...arguments),this.name="Cherry",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{e.addAbility(new aj(e,this))}}},"Bok Choy":class lj extends Y{constructor(){super(...arguments),this.name="Bok Choy",this.equipmentClass="shop",this.tier=2}},Potato:class pj extends Y{constructor(){super(...arguments),this.name="Potato",this.equipmentClass="shield-snipe",this.power=10,this.uses=2,this.originalUses=2,this.originalPower=10}},Unagi:class Mj extends Y{constructor(){super(),this.name="Unagi",this.equipmentClass="startOfBattle",this.callback=e=>{e.addAbility(new Ij(e,this))}}},Corncob:Ru,"Fortune Cookie":hP,Blueberry:k4,Donut:class Rj extends Y{constructor(){super(),this.name="Donut",this.equipmentClass="target"}},Pumpkin:class $j extends Y{constructor(){super(...arguments),this.name="Pumpkin",this.equipmentClass="shop",this.tier=1}},Kiwifruit:class Hj extends Y{constructor(){super(...arguments),this.name="Kiwifruit",this.equipmentClass="shop",this.tier=2}},Pineapple:class Gj extends Y{constructor(){super(),this.name="Pineapple",this.equipmentClass="attack-snipe",this.power=2,this.uses=3,this.originalUses=3}},Guava:mP,"Brussels Sprout":class qj extends Y{constructor(){super(...arguments),this.name="Brussels Sprout",this.equipmentClass="shield",this.power=5,this.originalPower=5,this.uses=1,this.originalUses=1}},Cauliflower:class Uj extends Y{constructor(){super(...arguments),this.name="Cauliflower",this.equipmentClass="shop",this.callback=e=>{e.addAbility(new Vj(e,this))}}},Churros:class Wj extends Y{constructor(){super(...arguments),this.name="Churros",this.equipmentClass="shop"}},Kiwano:class jj extends Y{constructor(){super(...arguments),this.name="Kiwano",this.equipmentClass="shop"}},Macaron:class zj extends Y{constructor(){super(...arguments),this.name="Macaron",this.equipmentClass="shop"}},"Mana Potion":class Yj extends Y{constructor(){super(...arguments),this.name="Mana Potion",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{e.addAbility(new Kj(e,this))}}},"Melon Slice":Nw,"Oyster Mushroom":class Zj extends Y{constructor(){super(...arguments),this.name="Oyster Mushroom",this.equipmentClass="beforeAttack",this.callback=e=>{e.addAbility(new Qj(e,this))}}},"Sardinian Currant":class e9 extends Y{constructor(){super(...arguments),this.name="Sardinian Currant",this.equipmentClass="shop"}},Sausage:class t9 extends Y{constructor(){super(...arguments),this.name="Sausage",this.equipmentClass="shop"}},Walnut:Mu,Raspberry:class k9 extends Y{constructor(){super(),this.name="Raspberry",this.equipmentClass="target"}},"Honeydew Melon":JN,"Maple Syrup":wp,"White Okra":tP,Ambrosia:zN,"Magic Beans":class p9 extends Y{constructor(){super(),this.name="Magic Beans",this.equipmentClass="shop"}}},L9={Cake:class FW extends Y{constructor(e){super(),this.logService=e,this.name="Cake",this.equipmentClass="shop",this.tier=3,this.callback=t=>{t.addAbility(new RW(t,this,this.logService))}}},Egg:y4,Squash:class UW extends Y{constructor(e){super(),this.logService=e,this.name="Squash",this.tier=3,this.equipmentClass="beforeAttack",this.callback=t=>{t.addAbility(new VW(t,this,this.logService))}}},Pie:class jW extends Y{constructor(e){super(),this.logService=e,this.name="Pie",this.tier=4,this.equipmentClass="beforeStartOfBattle",this.callback=t=>{t.addAbility(new WW(t,this,this.logService))}}},Skewer:v4,Pancakes:class YW extends Y{constructor(e){super(),this.logService=e,this.name="Pancakes",this.tier=6,this.equipmentClass="beforeStartOfBattle",this.callback=t=>{t.addAbility(new KW(t,this,this.logService))}}},Strawberry:Fy,Baguette:class ZW extends Y{constructor(e){super(),this.logService=e,this.name="Baguette",this.equipmentClass="beforeAttack",this.callback=t=>{t.addAbility(new QW(t,this,this.logService))}}},Eggplant:class dj extends Y{constructor(e){super(),this.logService=e,this.name="Eggplant",this.equipmentClass="beforeStartOfBattle",this.callback=t=>{t.addAbility(new hj(t,this,this.logService))}}},Onion:XN,"Pita Bread":class yj extends Y{constructor(e){super(),this.logService=e,this.name="Pita Bread",this.tier=6,this.power=0,this.equipmentClass="hurt",this.callback=t=>{t.addAbility(new fj(t,this,this.logService))}}},Tomato:class bj extends Y{constructor(e){super(),this.logService=e,this.name="Tomato",this.tier=6,this.equipmentClass="beforeAttack",this.callback=t=>{t.addAbility(new vj(t,this))}}},Durian:class kj extends Y{constructor(e){super(),this.logService=e,this.name="Durian",this.equipmentClass="beforeAttack",this.callback=t=>{t.addAbility(new Aj(t,this,this.logService))}}},"Sudduth Tomato":class Cj extends Y{constructor(e){super(),this.logService=e,this.name="Sudduth Tomato",this.equipmentClass="hurt",this.callback=t=>{t.addAbility(new _j(t,this,this.logService))}}},Fig:class Pj extends Y{constructor(e){super(),this.logService=e,this.name="Fig",this.equipmentClass="beforeAttack",this.callback=t=>{t.addAbility(new Sj(t,this))}}},"Cashew Nut":class Nj extends Y{constructor(e){super(),this.logService=e,this.name="Cashew Nut",this.tier=1,this.equipmentClass="beforeStartOfBattle",this.callback=t=>{t.addAbility(new Fj(t,this))}}},Nachos:class Oj extends Y{constructor(e){super(),this.logService=e,this.name="Nachos",this.tier=1,this.equipmentClass="beforeAttack",this.callback=t=>{t.addAbility(new Bj(t,this,this.logService))}}},Caramel:class sj extends Y{constructor(e){super(),this.logService=e,this.name="Caramel",this.equipmentClass="beforeAttack",this.callback=t=>{t.addAbility(new rj(t,this,this.logService))}}},Rambutan:Bw,"Love Potion":class r9 extends Y{constructor(e){super(),this.logService=e,this.name="Love Potion",this.equipmentClass="beforeStartOfBattle",this.tier=5,this.callback=t=>{t.addAbility(new n9(t,this,this.logService))}}},"Fairy Dust":class a9 extends Y{constructor(e){super(),this.logService=e,this.name="Fairy Dust",this.equipmentClass="beforeStartOfBattle",this.callback=t=>{t.addAbility(new s9(t,this,this.logService))}}},"Gingerbread Man":class l9 extends Y{constructor(e){super(),this.logService=e,this.name="Gingerbread Man",this.equipmentClass="beforeStartOfBattle",this.callback=t=>{t.addAbility(new o9(t,this,this.logService))}}},"Health Potion":class d9 extends Y{constructor(e){super(),this.logService=e,this.name="Health Potion",this.equipmentClass="beforeStartOfBattle",this.callback=t=>{t.addAbility(new h9(t,this,this.logService))}}},"Golden Egg":class g9 extends Y{constructor(e){super(),this.logService=e,this.name="Golden Egg",this.equipmentClass="beforeAttack",this.callback=t=>{t.addAbility(new m9(t,this))}}},"White Truffle":ZN},I9={Honey:f4,Chili:u4,"Chocolate Cake":class uj extends Y{constructor(e,t){super(),this.logService=e,this.abilityService=t,this.name="Chocolate Cake",this.equipmentClass="beforeAttack",this.callback=i=>{i.addAbility(new cj(i,this,this.logService,this.abilityService))}}},"Cod Roe":class Tj extends Y{constructor(e,t){super(),this.logService=e,this.abilityService=t,this.name="Cod Roe",this.equipmentClass="afterFaint",this.callback=i=>{i.addAbility(new wj(i,this,this.logService,this.abilityService))}}},Banana:class gj extends Y{constructor(e,t){super(),this.logService=e,this.abilityService=t,this.name="Banana",this.equipmentClass="afterFaint",this.callback=i=>{i.addAbility(new mj(i,this,this.logService,this.abilityService))}}},"Gros Michel Banana":class xj extends Y{constructor(e,t){super(),this.logService=e,this.abilityService=t,this.name="Gros Michel Banana",this.equipmentClass="beforeAttack",this.callback=i=>{i.addAbility(new Ej(i,this,this.logService,this.abilityService))}}},"Easter Egg":class u9 extends Y{constructor(e,t){super(),this.logService=e,this.abilityService=t,this.name="Easter Egg",this.equipmentClass="afterFaint",this.callback=i=>{i.addAbility(new c9(i,this,this.logService,this.abilityService))}}},"Yggdrasil Fruit":class y9 extends Y{constructor(e,t){super(),this.logService=e,this.abilityService=t,this.name="Yggdrasil Fruit",this.equipmentClass="afterFaint",this.callback=i=>{i.addAbility(new f9(i,this,this.logService,this.abilityService))}}},"Mild Chili":b4},M9={Cold:Hw,Crisp:Ol,Dazed:kp,Icky:Tp,Inked:Gw,Spooked:po,Weak:Ds,Silly:_4,Bloated:class P9 extends Y{constructor(){super(...arguments),this.name="Bloated",this.equipmentClass="ailment-other"}},Confused:class T9 extends Y{constructor(){super(...arguments),this.name="Confused",this.equipmentClass="ailment-other",this.callback=e=>{e.addAbility(new w9(e))}}},Cursed:C4,Sad:class C9 extends Y{constructor(){super(...arguments),this.name="Sad",this.equipmentClass="ailment-other"}},Sleepy:pP,Webbed:class x9 extends Y{constructor(){super(...arguments),this.name="Webbed",this.equipmentClass="ailment-other",this.callback=e=>{e.addAbility(new E9(e))}}}},R9={Mushroom:n=>new $W(n.logService,n.petService),Popcorn:n=>new A4(n.logService,n.petService,n.gameService),Seaweed:n=>new nj(n.logService,n.abilityService,n.petService),"Cocoa Bean":n=>new Lj(n.logService,n.petService),"Faint Bread":n=>new b9(n.logService,n.petService),Radish:n=>new Xj(n.logService)},F9={Tasty:n=>new T4(n.logService)};let N9=(()=>{class n{constructor(t,i,r){this.logService=t,this.abilityService=i,this.gameService=r}getAllEquipment(){const t=Je.getInjector().get(vr),i=new Map,r={logService:this.logService,abilityService:this.abilityService,gameService:this.gameService,petService:t};for(const[a,s]of Object.entries(D9))i.set(a,new s);for(const[a,s]of Object.entries(L9))i.set(a,new s(this.logService));for(const[a,s]of Object.entries(I9))i.set(a,new s(this.logService,this.abilityService));for(const[a,s]of Object.entries(R9))i.set(a,s(r));return i}getAllAilments(){const t=new Map,i={logService:this.logService,abilityService:this.abilityService,gameService:this.gameService,petService:null};for(const[r,a]of Object.entries(M9))t.set(r,new a);for(const[r,a]of Object.entries(F9))t.set(r,a(i));return t}}return n.\u0275fac=function(t){return new(t||n)(te(Pn),te(ya),te(fa))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Dt{constructor(e,t,i,r){this.logService=e,this.abilityService=t,this.gameService=i,this.equipmentFactory=r}getInstanceOfAllEquipment(){return this.equipmentFactory.getAllEquipment()}getInstanceOfAllAilments(){return this.equipmentFactory.getAllAilments()}isUsefulPerk(e){return Dt.USEFUL_PERKS.has(e)}getUsefulPerksByTier(e){const t=this.getInstanceOfAllEquipment(),i=[];for(const[r,a]of Dt.USEFUL_PERKS.entries())a===e&&t.has(r)&&i.push(t.get(r));return i}getUsefulPerks(){const e=this.getInstanceOfAllEquipment(),t=[];for(const i of Dt.USEFUL_PERKS.keys())e.has(i)&&t.push(e.get(i));return t}}Dt.USEFUL_PERKS=new Map([["Honey",1],["Strawberry",1],["Egg",1],["Cake Slice",1],["Cashew Nut",1],["Nachos",1],["Lime",2],["Meat Bone",2],["Cherry",2],["Bok Choy",2],["Kiwifruit",2],["Fairy Dust",2],["Garlic",3],["Gingerbread Man",3],["Fig",3],["Cucumber",3],["Croissant",3],["Squash",3],["Banana",4],["Love Potion",4],["Pie",4],["Grapes",4],["Cheese",4],["Cod Roe",4],["Salt",4],["Fortune Cookie",4],["Easter Egg",5],["Magic Beans",5],["Chili",5],["Lemon",5],["Durian",5],["Honeydew Melon",5],["Maple Syrup",5],["Cocoa Bean",5],["White Okra",5],["Popcorn",6],["Steak",6],["Pancakes",6],["Yggdrasil Fruit",6],["Melon",6],["Tomato",6],["Sudduth Tomato",6],["Pita Bread",6],["Seaweed",5],["Caramel",4],["Baguette",4]]),Dt.\u0275fac=function(e){return new(e||Dt)(te(Pn),te(ya),te(fa),te(N9))},Dt.\u0275prov=be({token:Dt,factory:Dt.\u0275fac,providedIn:"root"});class Qe{constructor(e,t,i,r){this.logService=e,this.toyService=t,this.used=!1,this.triggers=0,this.parent=i,this.level=r}}class $9 extends Qe{constructor(e,t,i,r,a){super(e,t,i,r),this.logService=e,this.toyService=t,this.petService=a,this.name="Stick",this.tier=1}startOfBattle(e,t){const i=this.parent.getMiddleFriend();if(i.pet&&i.pet.alive){const r=new Mu;r.power=2*this.level,r.originalPower=r.power,i.pet.givePetEquipment(r),this.logService.createLog({message:`${this.name} gave Walnut to ${i.pet.name}`,type:"ability",player:this.parent,randomEvent:i.random})}}}class ez extends Qe{constructor(e,t,i,r,a){super(e,t,i,r),this.logService=e,this.toyService=t,this.equipmentService=a,this.name="Pandoras Box",this.tier=6}startOfBattle(e,t){let i=this.equipmentService.getInstanceOfAllEquipment(),r=[new Hw,new Ol,new kp,new Tp,new po,new eP,new Ds],a=["Cake Slice","Carrot","Cherry","Chocolate Cake","Coconut","Croissant","Cucumber","Eggplant","Fig","Gingerbread Man","Grapes","Golden Egg","Health Potion","Love Potion","Magic Beans","Peanut","Pie","Rambutan","Rice","Skewer"],s=[...e.player.petArray,...e.opponent.petArray],o=Array.from(i.values());o=o.filter(l=>!a.includes(l.name));for(let l of s){let c=r;Math.random()<.5&&(c=o);let d=c[Math.floor(Math.random()*c.length)];this.logService.createLog({message:`${this.name} gave ${l.name} ${d.name}`,type:"ability",player:this.parent,randomEvent:!0}),l.givePetEquipment(d,this.level)}}}class qw extends S{constructor(e,t){super({name:"GreatOneAbility",owner:e,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const s=this.owner;let o=[...s.parent.petArray,...s.parent.opponent.petArray];o=o.filter(l=>l!==s);for(let l of o)s.snipePet(l,5*s.level);this.triggerTigerExecution(e)}copy(e){return new qw(e,this.logService)}}class Vw extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Great One",this.tier=6,this.pack="Custom",this.attack=7,this.health=13,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new qw(this,this.logService)),super.initAbilities()}}class Uw extends S{constructor(e,t){super({name:"SalmonOfKnowledgeAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=2*this.level,l=[],c=s.parent.getFurthestUpPets(2,[s],s);l.push(...c.pets);let d=s.parent.opponent.getFurthestUpPets(2,void 0,s);l.push(...d.pets);for(let p of l)this.logService.createLog({message:`${s.name} gave ${p.name} ${o} exp.`,type:"ability",player:s.parent,tiger:r,randomEvent:c.random||d.random}),p.increaseExp(o);this.triggerTigerExecution(e)}copy(e){return new Uw(e,this.logService)}}class E4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Salmon of Knowledge",this.tier=5,this.pack="Unicorn",this.attack=5,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Uw(this,this.logService)),super.initAbilities()}}class x4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Giant Eyes Dog",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=6,this.attack=6,this.initPet(o,r,a,s,l,c)}}class kz extends Qe{constructor(e,t,i,r,a,s){super(e,t,i,r),this.logService=e,this.toyService=t,this.petService=a,this.gameService=s,this.name="Microwave Oven",this.tier=2}startOfBattle(e,t){let i=this.parent.getPetsWithEquipment("Popcorn"),a=this.parent.getFurthestUpPets(this.level,i).pets;if(0!=a.length)for(let s of a)this.logService.createLog({message:`${this.name} gave ${s.name} Popcorn.`,type:"ability",player:this.parent,puma:t}),s.givePetEquipment(new A4(this.logService,this.petService,this.gameService))}}const D4={Balloon:class B9 extends Qe{constructor(){super(...arguments),this.name="Balloon",this.tier=1}onBreak(e,t){let i=this.parent.getFurthestUpPets(this.level,[]);if(0!=i.pets.length)for(let a of i.pets)a.increaseAttack(1),a.increaseHealth(1),this.logService.createLog({message:`${this.name} gave ${a.name} 1 attack and 1 health.`,type:"ability",player:this.parent,puma:t})}},"Tennis Ball":class O9 extends Qe{constructor(){super(...arguments),this.name="Tennis Ball",this.tier=2}startOfBattle(e,t){let i=this.parent.opponent.getRandomPets(this.level,[],!1,!0),r=i.pets;if(0!=r.length)for(let a of r)this.toyService.snipePet(a,3,this.parent,this.name,i.random,t)}},Radio:class H9 extends Qe{constructor(){super(...arguments),this.name="Radio",this.tier=2}onBreak(e,t){let i=this.parent.petArray;for(let r of i)!r.alive||(r.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${r.name} ${this.level} health.`,type:"ability",player:this.parent,puma:t}))}},"Plastic Saw":class G9 extends Qe{constructor(){super(...arguments),this.name="Plastic Saw",this.tier=2}startOfBattle(e,t){let i=this.parent.getPetsWithEquipment("Eucalyptus"),a=this.parent.getFurthestUpPets(this.level,i).pets;if(0!=a.length)for(let s of a)this.logService.createLog({message:`${this.name} gave ${s.name} Eucalyptus.`,type:"ability",player:this.parent,puma:t}),s.givePetEquipment(new $y)}},"Toilet Paper":class q9 extends Qe{constructor(){super(...arguments),this.name="Toilet Paper",this.tier=4}startOfBattle(e,t){let r=ma(e,this.parent).petArray.filter(a=>{var s;return"Weak"!=(null===(s=a.equipment)||void 0===s?void 0:s.name)}).slice(0,this.level);for(let a of r)a.givePetEquipment(new Ds),this.logService.createLog({message:`${this.name} gave ${a.name} Weak.`,type:"ability",player:this.parent,puma:t})}},"Oven Mitts":class V9 extends Qe{constructor(){super(...arguments),this.name="Oven Mitts",this.tier=4}onBreak(e){}},"Melon Helmet":class U9 extends Qe{constructor(){super(...arguments),this.name="Melon Helmet",this.tier=3}onBreak(e,t){let i=this.parent.petArray.filter(r=>r.alive).slice(0,this.level);for(let r of i)r.givePetEquipment(new xs),this.logService.createLog({message:`${this.name} gave ${r.name} Melon.`,type:"ability",player:this.parent,puma:t})}},"Foam Sword":class W9 extends Qe{constructor(){super(...arguments),this.name="Foam Sword",this.tier=3}startOfBattle(e,t){let i=ma(e,this.parent);for(let r=0;r<this.level;r++){let a=i.getLowestHealthPet();if(null==a.pet)return;this.toyService.snipePet(a.pet,5,this.parent,this.name,a.random,t)}}},"Toy Gun":class j9 extends Qe{constructor(){super(...arguments),this.name="Toy Gun",this.tier=3}startOfBattle(e,t){let i=ma(e,this.parent);for(let r=0;r<this.level;r++){let a=i.getLastPet();if(null==a.pet)return;this.toyService.snipePet(a.pet,5,this.parent,this.name,!1,t)}}},"Cash Register":class z9 extends Qe{constructor(){super(...arguments),this.name="Cash Register",this.tier=4}onBreak(e){}},Camera:class K9 extends Qe{constructor(){super(...arguments),this.name="Camera",this.tier=5}startOfBattle(e,t){let i=ma(e,this.parent);for(let r=0;r<this.level;r++){let a=i.getHighestAttackPet(),s=a.pet;if(null==s)return;let o=.3,l=Math.max(1,Math.floor(s.attack*(1-o)));s.attack=l,this.logService.createLog({message:`${this.name} reduced ${s.name} attack by ${100*o}% (${l})`,type:"ability",player:this.parent,puma:t,randomEvent:a.random})}}},Flashlight:class Y9 extends Qe{constructor(){super(...arguments),this.name="Flashlight",this.tier=5}onBreak(e,t){let i=5*this.level,r=this.parent.furthestUpPet;null!=r&&(r.increaseAttack(i),r.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${r.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:t}))}},"Stinky Sock":class Q9 extends Qe{constructor(){super(...arguments),this.name="Stinky Sock",this.tier=5}startOfBattle(e,t){let i=ma(e,this.parent);for(let r=0;r<this.level;r++){let a=i.getHighestHealthPet(),s=a.pet;if(null==s)return;let o=.4,l=Math.max(1,Math.floor(s.health*(1-o)));s.health=l,this.logService.createLog({message:`${this.name} reduced ${s.name} health by ${100*o}% (${l})`,type:"ability",player:this.parent,puma:t,randomEvent:a.random})}}},Television:class Z9 extends Qe{constructor(){super(...arguments),this.name="Television",this.tier=6}onBreak(e,t){let i=2*this.level;for(let r of this.parent.petArray)!r.alive||(r.increaseAttack(i),r.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${r.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:t}))}},"Peanut Jar":class J9 extends Qe{constructor(){super(...arguments),this.name="Peanut Jar",this.tier=6}startOfBattle(e,t){let i=this.parent.getLowestAttackPets(this.level,this.parent.getPetsWithEquipment("Peanut Butter")),r=i.pets;if(0!=r.length)for(let a of r)a.givePetEquipment(new Sp),this.logService.createLog({message:`${this.name} gave ${a.name} PeanutButter.`,type:"ability",player:this.parent,puma:t,randomEvent:i.random})}},"Air Palm Tree":class X9 extends Qe{constructor(){super(...arguments),this.name="Air Palm Tree",this.tier=6}startOfBattle(e,t){let i=this.parent.getHighestAttackPets(this.level,this.parent.getPetsWithEquipment("Coconut")),r=i.pets;if(0!=r.length)for(let a of r)a.givePetEquipment(new ga),this.logService.createLog({message:`${this.name} gave ${a.name} Coconut.`,type:"ability",player:this.parent,puma:t,randomEvent:i.random})}},"Witch Broom":class tz extends Qe{constructor(){super(...arguments),this.name="Witch Broom",this.tier=1}startOfBattle(e,t){let i=ma(e,this.parent),r=i.petArray.filter(s=>null!=s.equipment),a=[];for(let s=0;s<this.level;s++){let o=i.getRandomPet(r,!1,!0,!1,null);if(null==o.pet)break;r.push(o.pet),a.push(o.pet)}for(let s of a)this.logService.createLog({message:`${this.name} gave ${s.name} Weak.`,type:"ability",player:this.parent,puma:t,randomEvent:i.petArray.length-r.length>0}),s.givePetEquipment(new Ds)}},"Magic Wand":class iz extends Qe{constructor(){super(...arguments),this.name="Magic Wand",this.tier=1}startOfBattle(e,t){let i=this.parent.petArray.filter(s=>s.level<3),r=null,a=!1;0==i.length?r=this.parent.getRandomPet([],!0):(i=(0,mi.shuffle)(i),r=i[0],a=i.length>1),null!=r&&(this.logService.createLog({message:`${this.name} gave ${r.name} ${this.level} exp.`,type:"ability",player:this.parent,puma:t,randomEvent:a}),r.increaseExp(this.level))}},"Crystal Ball":class nz extends Qe{constructor(){super(...arguments),this.name="Crystal Ball",this.tier=1}startOfBattle(e,t){let i=this.parent.petArray[0];null!=i&&(this.logService.createLog({message:`${this.name} gave ${i.name} ${this.level} mana.`,type:"ability",player:this.parent,puma:t,randomEvent:!1}),i.increaseMana(this.level))}},"Treasure Map":class rz extends Qe{constructor(){super(...arguments),this.name="Treasure Map",this.tier=3}},"Treasure Chest":class sz extends Qe{constructor(){super(...arguments),this.name="Treasure Chest",this.tier=3}},"Magic Carpet":class oz extends Qe{constructor(){super(...arguments),this.name="Magic Carpet",this.tier=2}friendSummoned(e,t,i,r){this.logService.createLog({message:`${this.name} gave ${t.name} ${r} attack.`,type:"ability",player:this.parent,puma:i}),t.increaseAttack(r)}},"Magic Lamp":class lz extends Qe{constructor(){super(...arguments),this.name="Magic Lamp",this.tier=2}friendlyLevelUp(e,t,i,r){this.logService.createLog({message:`${this.name} gave ${t.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,puma:i}),t.increaseAttack(+r),t.increaseHealth(+r)}},Candelabra:class cz extends Qe{constructor(){super(...arguments),this.name="Candelabra",this.tier=4}},"Glass Shoes":class uz extends Qe{constructor(){super(...arguments),this.name="Glass Shoes",this.tier=4}friendFaints(e,t,i,r){if(i||this.triggers++,this.triggers%3!=0)return;let a=t.parent.petArray.filter(s=>s.alive);for(let s of a)this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,puma:i}),s.increaseAttack(+r),s.increaseHealth(+r)}},"Golden Harp":class hz extends Qe{constructor(){super(...arguments),this.name="Golden Harp",this.tier=4}},"Lock of Hair":class dz extends Qe{constructor(){super(...arguments),this.name="Lock of Hair",this.tier=4}},"Magic Mirror":class pz extends Qe{constructor(){super(...arguments),this.name="Magic Mirror",this.tier=4}},Pickaxe:class mz extends Qe{constructor(){super(...arguments),this.name="Pickaxe",this.tier=4}},"Red Cape":class gz extends Qe{constructor(){super(...arguments),this.name="Red Cape",this.tier=4}friendJumped(e,t,i,r){let a=t.parent.petArray.filter(s=>s.alive);for(let s of a)this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,puma:i}),s.increaseAttack(+r),s.increaseHealth(+r)}},"Rose Bud":class fz extends Qe{constructor(){super(...arguments),this.name="Rosebud",this.tier=4}friendlyLevelUp(e,t,i,r){if(i||this.triggers++,this.triggers%2!=0)return;let a=t.parent.petArray.filter(s=>s.alive);for(let s of a)this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,puma:i}),s.increaseAttack(+r),s.increaseHealth(+r)}},Excalibur:class yz extends Qe{constructor(){super(...arguments),this.name="Excalibur",this.tier=6}},"Holy Grail":class vz extends Qe{constructor(){super(...arguments),this.name="Holy Grail",this.tier=6}}},L4={"Evil Book":class az extends Qe{constructor(e,t,i,r,a){super(e,t,r,a),this.logService=e,this.toyService=t,this.abilityService=i,this.name="Evil Book",this.tier=5}emptyFromSpace(e,t,i,r){let a={attack:6*i,health:6*i},o=new Vw(this.logService,this.abilityService,this.parent,a.health,a.attack,0,1==i?0:2==i?2:5),l=`${this.name} spawned Great One (${a.attack}/${a.health}).`;this.parent.summonPet(o,0).success&&this.logService.createLog({message:l,type:"ability",player:this.parent,puma:t}),this.used=!0}},Nutcracker:class bz extends Qe{constructor(e,t,i,r,a){super(e,t,r,a),this.logService=e,this.toyService=t,this.abilityService=i,this.name="Nutcracker",this.tier=4}friendFaints(e,t,i,r){if(this.used||t.parent.petArray.filter(l=>l.alive).length>0)return;let s=6*this.level,o=new E4(this.logService,this.abilityService,this.parent,s,s,null,0);this.parent.summonPet(o,0).success&&this.logService.createLog({message:`${this.name} spawned Salmon of Knowledge (${s}/${s})`,type:"ability",player:this.parent}),this.used=!0}},"Tinder Box":class Az extends Qe{constructor(e,t,i,r,a){super(e,t,r,a),this.logService=e,this.toyService=t,this.abilityService=i,this.name="Tinder Box",this.tier=4}emptyFromSpace(e,t,i,r){let a={attack:6*i,health:6*i},o=new x4(this.logService,this.abilityService,this.parent,a.health,a.attack,0,1==i?0:2==i?2:5),l=`${this.name} spawned Giant Eyes Dog (${a.attack}/${a.health}).`;this.parent.summonPet(o,0).success&&this.logService.createLog({message:l,type:"ability",player:this.parent,puma:t}),this.used=!0}}},Sz={Stick:n=>new $9(n.logService,n.toyService,n.parent,n.level,n.petService),"Pandoras Box":n=>new ez(n.logService,n.toyService,n.parent,n.level,n.equipmentService),"Microwave Oven":n=>new kz(n.logService,n.toyService,n.parent,n.level,n.petService,n.gameService)};let Pz=(()=>{class n{constructor(t,i){this.logService=t,this.abilityService=i}createToy(t,i,r,a,s,o,l){const d=Sz[t];return d?d({logService:this.logService,abilityService:this.abilityService,toyService:a,parent:i,level:r,petService:s,equipmentService:o,gameService:l}):L4[t]?new(0,L4[t])(this.logService,a,this.abilityService,i,r):D4[t]?new(0,D4[t])(this.logService,a,i,r):null}}return n.\u0275fac=function(t){return new(t||n)(te(Pn),te(ya))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jr=(()=>{class n{constructor(t,i,r,a,s,o){this.logService=t,this.abilityService=i,this.gameService=r,this.equipmentService=a,this.petService=s,this.toyFactory=o,this.toys=new Map,this.toyNameIds=new Map,this.startOfBattleEvents=[],this.emptyFrontSpaceEvents=[],this.friendSummonedEvents=[],this.setToys()}setToys(){this.toys.clear(),this.toyNameIds.clear();const t=this.getToyEntriesFromJson();for(const i of t){const r=Number(i.Tier);if(!Number.isFinite(r)||r<1)continue;this.toys.has(r)||this.toys.set(r,[]);const a=this.toys.get(r);a&&a.push(i.Name),i.Name&&i.NameId&&this.toyNameIds.set(i.Name,i.NameId)}for(const[i,r]of this.toys)this.toys.set(i,[...new Set(r)])}getToyNameId(t){var i;return t&&null!==(i=this.toyNameIds.get(t))&&void 0!==i?i:null}getToyEntriesFromJson(){var t,i;return(null!==(i=null!==(t=Iw)&&void 0!==t?t:m4)&&void 0!==i?i:[]).filter(a=>Boolean(null==a?void 0:a.Name))}createToy(t,i,r=1){return this.toyFactory.createToy(t,i,r,this,this.petService,this.equipmentService,this.gameService)}snipePet(t,i,r,a,s=!1,o=!1){var l,c;let d=this.calculateDamage(t,this.getManticoreMult(r),i),p=d.defenseEquipment,g=d.damage;this.dealDamage(t,g,r);let k=`${a} sniped ${t.name} for ${g}.`;if(null!=p){t.useDefenseEquipment(!0);let R=Math.abs(p.power),x="-";if(p.power<0&&(x="+"),"Strawberry"===p.name){let G=t.getSparrowLevel();G>0&&(R=5*G,k+=` (Strawberry -${R} (Sparrow))`)}else k+=` (${p.name} ${x}${R})`;k+=p.multiplierMessage}"Icky"==(null===(l=t.equipment)||void 0===l?void 0:l.name)&&(k+="x2 (Icky)",t.equipment.multiplier>1&&(k+=t.equipment.multiplierMessage));let T=this.getManticoreMult(r),L=["Weak","Cold","Icky","Spooked"].includes(null===(c=t.equipment)||void 0===c?void 0:c.name);if(T.length>0&&L)for(let R of T)k+=` x${R+1} (Manticore)`;return d.nurikabe>0&&(k+=` -${d.nurikabe} (Nurikabe)`),d.fairyBallReduction>0&&(k+=` -${d.fairyBallReduction} (Fairy Ball)`),d.fanMusselReduction>0&&(k+=` -${d.fanMusselReduction} (Fan Mussel)`),d.ghostKittenReduction>0&&(k+=` -${d.ghostKittenReduction} (Ghost Kitten)`),o&&(k+=" (Puma)"),this.logService.createLog({message:k,type:"attack",randomEvent:s,player:r}),g}calculateDamage(t,i,r){var a,s,o,l,c,d,p,g;let k=null===(a=t.equipment)||void 0===a?void 0:a.multiplier;const R="Guava"===(null===(s=t.equipment)||void 0===s?void 0:s.name);let x="defense"==(null===(o=t.equipment)||void 0===o?void 0:o.equipmentClass)||"shield"==(null===(l=t.equipment)||void 0===l?void 0:l.equipmentClass)||"ailment-defense"==(null===(c=t.equipment)||void 0===c?void 0:c.equipmentClass)||"shield-snipe"==(null===(d=t.equipment)||void 0===d?void 0:d.equipmentClass)?t.equipment:null;if(null==x&&R&&(x=t.equipment),null!=x){if("Maple Syrup"==x.name&&(x=null),["Cold","Weak","Spooked"].includes(null==x?void 0:x.name))for(let ge of i)k+=ge;x.power=x.originalPower*k}let G=(null==x?void 0:x.power)?x.power:0,O=t.getSparrowLevel();if("Strawberry"===(null===(p=t.equipment)||void 0===p?void 0:p.name)&&O>0&&(G+=5*O),"Icky"==(null===(g=t.equipment)||void 0===g?void 0:g.name)){let ge=2;for(let Ne of i)ge+=Ne;ge+=t.equipment.multiplier-1,r*=ge}let W,q="shield"==(null==x?void 0:x.equipmentClass)||"shield-snipe"==(null==x?void 0:x.equipmentClass)?0:1;void 0!==(null==x?void 0:x.minimumDamage)&&(q=x.minimumDamage),W=r<=q&&G>0?Math.max(r,0):Math.max(q,r-G);let ee=0;if(t.hasTrigger(void 0,"Pet","FairyAbility")&&W>0)for(let ge of t.abilityList)"FairyAbility"==ge.name&&(ee+=2*ge.level,W=Math.max(0,W-2*ge.level));let re=0;if(t.hasTrigger(void 0,"Pet","NurikabeAbility")&&W>0)for(let ge of t.abilityList)"NurikabeAbility"==ge.name&&(re+=4*ge.level,W=Math.max(0,W-re),ge.currentUses++);let ce=0;if(t.hasTrigger(void 0,"Pet","FanMusselAbility")&&W>0)for(let ge of t.abilityList)"FanMusselAbility"==ge.name&&(ce+=1*ge.level,W=Math.max(0,W-ce),ge.currentUses++);let ue=0;if(t.hasTrigger(void 0,"Pet","GhostKittenAbility")&&W>0)for(let ge of t.abilityList)"GhostKittenAbility"==ge.name&&(ue+=3*ge.level,W=Math.max(0,W-ue));return{defenseEquipment:x,damage:W,nurikabe:re,fairyBallReduction:ee,fanMusselReduction:ce,ghostKittenReduction:ue}}dealDamage(t,i,r){t.health-=i,i>0&&this.abilityService.triggerHurtEvents(t)}getManticoreMult(t){let i=[];for(let r of t.petArray)"Manticore"==r.name&&i.push(r.level);return i}getSparrowLevel(t){let i=0;for(let r of t.petArray)"Sparrow"==r.name&&(i=Math.max(i,r.level));return i}setStartOfBattleEvent(t){t.tieBreaker=Math.random(),this.startOfBattleEvents.push(t)}resetStartOfBattleEvents(){this.startOfBattleEvents=[]}executeStartOfBattleEvents(){this.startOfBattleEvents=(0,mi.shuffle)(this.startOfBattleEvents),this.startOfBattleEvents.sort((t,i)=>{var r,a;return t.priority!==i.priority?t.priority>i.priority?-1:1:(null!==(r=t.tieBreaker)&&void 0!==r?r:Math.random())>(null!==(a=i.tieBreaker)&&void 0!==a?a:Math.random())?-1:1});for(let t of this.startOfBattleEvents)this.logToyEvent(t,"activated at start of battle"),t.callback(this.gameService.gameApi);this.resetStartOfBattleEvents()}logToyEvent(t,i){var r,a,s;const o=null===(a=null===(r=t.player)||void 0===r?void 0:r.toy)||void 0===a?void 0:a.name;if(!o)return;const l=(null===(s=t.triggerPet)||void 0===s?void 0:s.name)?` (${t.triggerPet.name})`:"";this.logService.createLog({message:`${o} ${i}${l}`,type:"ability",player:t.player,randomEvent:!0})}}return n.\u0275fac=function(t){return new(t||n)(te(Pn),te(ya),te(fa),te(Dt),te(vr),te(Pz))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ww extends S{constructor(e,t,i){super({name:"FerretAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){var t;const i=this.owner,r=Je.getInjector().get(Jr),a=Math.max(1,Math.min(3,this.level)),s=null!==(t=r.toys.get(a))&&void 0!==t?t:[];if(0===s.length)return void this.triggerTigerExecution(e);const o=s[_t(0,s.length-1)],l=r.createToy(o,i.parent,a);l?(i.parent.toy=l,i.parent.toy.used=!1,i.parent.toy.triggers=0,ai(this.logService,i,`${i.name} chose a level ${a} ${o} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new Ww(e,this.logService,this.abilityService)}}class jw extends S{constructor(e,t){super({name:"BatAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}reset(){this.maxUses=this.level,super.reset()}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.opponent.getPetsWithEquipment("Weak"),l=s.parent.opponent.getRandomPet(o,null,!0,null,s),c=l.pet;null!=c&&(c.givePetEquipment(new Ds),this.logService.createLog({message:`${s.name} made ${c.name} weak.`,type:"ability",player:s.parent,randomEvent:l.random,tiger:r})),this.triggerTigerExecution(e)}copy(e){return new jw(e,this.logService)}}class zw extends S{constructor(e,t){super({name:"BilbyAbility",owner:e,triggers:["FriendLostPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:i=>{const{triggerPet:r}=i;return r&&r!==this.owner},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}reset(){this.maxUses=this.level,super.reset()}executeAbility(e){const{triggerPet:i,tiger:r}=e,s=this.owner;let o=s.parent.getSpecificPet(s,i),l=o.pet;null!=l&&(this.logService.createLog({message:`${s.name} gave ${l.name} Garlic.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),l.givePetEquipment(new Mw),this.triggerTigerExecution(e))}copy(e){return new zw(e,this.logService)}}class Kw extends S{constructor(e,t,i){super({name:"RobinAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=new Fw(this.logService,this.abilityService,s.parent,null,null,this.minExpForLevel,null);this.logService.createLog({message:`${s.name} summoned a Nest (level ${this.level}).`,type:"ability",player:s.parent,randomEvent:!1,tiger:r});let l=s.parent.summonPetInFront(s,o);l.success&&(this.logService.createLog({message:`${s.name} gave Nest an Egg.`,type:"ability",player:s.parent,randomEvent:l.randomEvent,tiger:r}),o.givePetEquipment(new y4(this.logService))),this.triggerTigerExecution(e)}copy(e){return new Kw(e,this.logService,this.abilityService)}}class Yw extends S{constructor(e,t,i){super({name:"DromedaryAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new Yw(e,this.logService,this.abilityService)}}class Qw extends S{constructor(e,t,i){super({name:"ShrimpAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new Qw(e,this.logService,this.abilityService)}}class Zw extends S{constructor(e,t){super({name:"ToucanAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>this.owner.timesAttacked<1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o;o=null==s.equipment||s.equipment.tier>5?"Egg":s.equipment.name;let l=s.parent.getPetsWithEquipment(o),d=s.parent.nearestPetsBehind(this.level,s,l).pets;if(0!=d.length){for(let p of d){const g=Je.getInjector().get(Dt).getInstanceOfAllEquipment().get(o);!g||(this.logService.createLog({message:`${s.name} gave ${p.name} ${g.name}`,type:"ability",player:s.parent,randomEvent:!1,tiger:r,pteranodon:a}),p.givePetEquipment(g))}this.triggerTigerExecution(e)}}copy(e){return new Zw(e,this.logService)}}class Jw extends S{constructor(e,t,i){super({name:"BelugaSturgeonAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;for(let o=0;o<this.level;o++){let l=new o4(this.logService,this.abilityService,s.parent,3,2,0,0,null),c=s.parent.summonPet(l,4,!1,s);c.success&&(this.logService.createLog({message:`${s.name} summoned a 2/3 Dolphin in the back.`,type:"ability",player:s.parent,randomEvent:c.randomEvent,tiger:r,pteranodon:a}),l.givePetEquipment(new Rw),this.logService.createLog({message:`${s.name} gave ${l.name} Rice.`,type:"ability",player:s.parent,randomEvent:!1,tiger:r,pteranodon:a}))}this.triggerTigerExecution(e)}copy(e){return new Jw(e,this.logService,this.abilityService)}}class Xw extends S{constructor(e,t){super({name:"TabbyCatAbility",owner:e,triggers:["FriendlyGainsPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.getRandomPets(2,[s],!0,!1,s);if(0!=o.pets.length){for(let l of o.pets)null!=l&&(this.logService.createLog({message:`${s.name} increased ${l.name}'s health by ${this.level}.`,type:"ability",player:s.parent,randomEvent:o.random,tiger:r}),l.increaseHealth(this.level));this.triggerTigerExecution(e)}}copy(e){return new Xw(e,this.logService)}}class eT extends S{constructor(e,t,i){super({name:"MandrillAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){var t;const o=this.owner;(null===(t=o.parent.toy)||void 0===t?void 0:t.tier)<=2*this.level&&(o.parent.breakToy(),this.abilityService.triggerToyBrokeEvents(o.parent)),this.triggerTigerExecution(e)}copy(e){return new eT(e,this.logService,this.abilityService)}}class tT extends S{constructor(e,t,i){super({name:"LemurAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){var t;const i=this.owner,r=Je.getInjector().get(Jr),a=Math.max(1,Math.min(3,this.level)),s=null!==(t=r.toys.get(a))&&void 0!==t?t:[];if(0===s.length)return void this.triggerTigerExecution(e);const o=s[_t(0,s.length-1)],l=r.createToy(o,i.parent,a);l?(i.parent.toy=l,i.parent.toy.used=!1,i.parent.toy.triggers=0,ai(this.logService,i,`${i.name} chose a level ${a} ${o} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new tT(e,this.logService,this.abilityService)}}class I4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Lemur",this.tier=2,this.pack="Puppy",this.attack=3,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new tT(this,this.logService,this.abilityService)),super.initAbilities()}}class iT extends S{constructor(e,t){super({name:"HoopoeBirdAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.opponent,l=o.getFurthestUpPet(s),c=l.pet,d=o.getLastPet(void 0,s),p=d.pet,g=2*this.level;c&&s.snipePet(c,g,l.random,r,a),p&&s.snipePet(p,g,d.random,r,a),this.triggerTigerExecution(e)}copy(e){return new iT(e,this.logService)}}class nT extends S{constructor(e,t,i){super({name:"TropicalFishAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=wP(t);if(0!==i.length){for(const r of i)r.increaseHealth(this.level),ai(this.logService,t,`${t.name} gave ${r.name} +${this.level} health.`,e.tiger,e.pteranodon);this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new nT(e,this.logService,this.abilityService)}}class rT extends S{constructor(e,t,i){super({name:"HatchingChickAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new rT(e,this.logService,this.abilityService)}}class sT extends S{constructor(e,t,i){super({name:"GoldfishAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;t.increaseSellValue(this.level),this.logService.createLog({message:`${t.name} increased its sell value by ${this.level}.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}copy(e){return new sT(e,this.logService,this.abilityService)}}class aT extends S{constructor(e,t,i){super({name:"MoleAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=6*this.level,l=[];for(let g of s.parent.petArray)g!=s&&g.equipment&&l.push(g);const c=s.position;if(l.sort((g,k)=>{const T=Math.abs(g.position-c),E=Math.abs(k.position-c);return T!==E?T-E:g.position-k.position}),l=l.slice(0,2),l.length<2)return;for(let g of l)this.logService.createLog({message:`${s.name} removed ${g.name}'s equipment.`,type:"ability",player:s.parent,pteranodon:a}),g.removePerk();let d=new M4(this.logService,this.abilityService,s.parent,o,o),p=s.parent.summonPet(d,s.savedPosition,!1,s);p.success&&this.logService.createLog({message:`${s.name} summoned a ${o}/${o} Mole.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:p.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new aT(e,this.logService,this.abilityService)}}class M4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Mole",this.tier=3,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new aT(this,this.logService,this.abilityService)),super.initAbilities()}}class oT extends S{constructor(e,t){super({name:"RaccoonAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}reset(){this.maxUses=this.level,super.reset()}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let l=s.parent.opponent.getPetAtPosition(0);null!=l&&null!=l.equipment&&(this.logService.createLog({message:`${s.name} stole ${l.name}'s equipment. (${l.equipment.name})`,type:"ability",player:s.parent,tiger:r,pteranodon:a}),s.givePetEquipment(l.equipment),l.removePerk(),this.triggerTigerExecution(e))}copy(e){return new oT(e,this.logService)}}class lT extends S{constructor(e,t,i){super({name:"SeaCucumberAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.opponent.getPetsWithEquipment("Tasty"),l=s.parent.opponent.getRandomPets(this.level,o,!1,!0,s),c=l.pets;if(0!=c.length){for(let d of c){let p=new T4(this.logService);d.givePetEquipment(p),this.logService.createLog({message:`${s.name} made ${d.name} Tasty`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:l.random})}this.triggerTigerExecution(e)}}copy(e){return new lT(e,this.logService,this.abilityService)}}class cT extends S{constructor(e,t){super({name:"Aardvark Ability",owner:e,triggers:["EnemySummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=2*this.level;r.increaseAttack(a),r.increaseHealth(a),this.logService.createLog({message:`${r.name} gained +${a}/+${a} from EnemySummoned.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new cT(e,this.logService)}}class uT extends S{constructor(e,t){super({name:"Barnacle Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{gameApi:t}=e,i=this.owner;if(0===(i.parent===t.player?t.playerRollAmount||0:t.opponentRollAmount||0)){const a=this.level;i.increaseExp(a),this.logService.createLog({message:`${i.name} gained +${a} experience (EndTurn, no rolls).`,type:"ability",player:i.parent})}this.triggerTigerExecution(e)}copy(e){return new uT(e,this.logService)}}class hT extends S{constructor(e,t){super({name:"Blue Dragon Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,s=r.getPetsBehind(4).length*this.level;if(s>0){const c=r.parent.resolveTrumpetGainTarget(r);c.player.gainTrumpets(s,r,i,void 0,void 0,c.random)}const o=this.level,l=r.getPetsAhead(4);l.length>0&&(l.forEach(c=>c.increaseMana(o)),this.logService.createLog({message:`${r.name} gave ${l.length} friend${1===l.length?"":"s"} ahead +${o} mana at StartBattle.`,type:"ability",player:r.parent,tiger:t,pteranodon:i})),this.triggerTigerExecution(e)}copy(e){return new hT(e,this.logService)}}class dT extends S{constructor(e,t){super({name:"Brazillian Treehopper Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,l=r.parent.opponent.getRandomPets(2*this.level,[],!1,!1,r).pets;if(l.length>1){let c=0,d=0;for(const k of l)c+=k.attack,d+=k.health;const p=Math.floor(c/l.length),g=Math.floor(d/l.length);for(const k of l)k.attack=Math.max(1,p),k.health=Math.max(1,g);this.logService.createLog({message:`${r.name} averaged stats of ${l.length} enemies to ${p}/${g}.`,type:"ability",player:r.parent,tiger:t,pteranodon:i})}this.triggerTigerExecution(e)}copy(e){return new dT(e,this.logService)}}class pT extends S{constructor(e,t){super({name:"FlyingSquirrelAbility",owner:e,triggers:["FriendlyToyBroke"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=2*this.level,l=s.parent.getThis(s),c=l.pet;if(null==c||(c.increaseAttack(o),this.logService.createLog({message:`${s.name} gave ${c.name} +${o} attack`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random}),null==s.parent.brokenToy))return;const d=Je.getInjector().get(Jr).createToy(s.parent.brokenToy.name,s.parent);d.level=Math.min(this.level,s.parent.brokenToy.level),s.parent.setToy(d),this.logService.createLog({message:`${d.name} respawned (Level ${d.level})!`,type:"ability",player:s.parent,tiger:r}),this.triggerTigerExecution(e)}copy(e){return new pT(e,this.logService)}}class mT extends S{constructor(e,t){super({name:"PangolinAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null!=this.owner.parent.toy,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.nearestPetsBehind(1,s);if(0===o.pets.length)return;let l=o.pets[0],c=4*this.level;l.increaseHealth(c),this.logService.createLog({message:`${s.name} gave ${l.name} ${c} health.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new mT(e,this.logService)}}class gT extends S{constructor(e,t,i){super({name:"PuppyAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){var t;const i=this.owner,r=Je.getInjector().get(Jr),a=Math.max(1,Math.min(3,this.level)),s=null!==(t=r.toys.get(a))&&void 0!==t?t:[];if(0===s.length)return void this.triggerTigerExecution(e);const o=s[_t(0,s.length-1)],l=r.createToy(o,i.parent,a);l?(i.parent.toy=l,i.parent.toy.used=!1,i.parent.toy.triggers=0,ai(this.logService,i,`${i.name} chose a level ${a} ${o} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new gT(e,this.logService,this.abilityService)}}class fT extends S{constructor(e,t){super({name:"MicrobeAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.getPetsWithinXSpaces(s,3*this.level),l=o.pets.filter(c=>{var d;return"Weak"!==(null===(d=c.equipment)||void 0===d?void 0:d.name)});if(0!=l.length){for(let c of l)!c.alive||(this.logService.createLog({message:`${s.name} gave ${c.name} Weak.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:o.random}),c.givePetEquipment(new Ds));this.triggerTigerExecution(e)}}copy(e){return new fT(e,this.logService)}}class yT extends S{constructor(e,t){super({name:"ButterflyAbility",owner:e,triggers:["ThisTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;if(!s.alive)return;let l=s.parent.opponent.getStrongestPet(s);!l.pet||(s.health=l.pet.health,s.attack=l.pet.attack,this.logService.createLog({message:`${s.name} copied stats from the strongest enemy (${s.attack}/${s.health}).`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e))}copy(e){return new yT(e,this.logService)}}class R4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Butterly",this.tier=1,this.pack="Puppy",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new yT(this,this.logService)),super.initAbilities()}}class vT extends S{constructor(e,t,i){super({name:"CaterpillarAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:r=>this.owner.level>=3,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.getThis(s),l=o.pet;if(null==l)return;let c=new R4(this.logService,this.abilityService,l.parent,l.health,l.attack,l.mana,l.exp,l.equipment);s.parent.transformPet(l,c),this.logService.createLog({message:`${s.name} transformed into a Butterfly.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new vT(e,this.logService,this.abilityService)}}class bT extends S{constructor(e,t){super({name:"DobermanAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=8*this.level,l=s.parent.getThis(s),c=l.pet;if(null==c)return;c.increaseAttack(o),this.logService.createLog({message:`${s.name} gave ${c.name} ${o} attack.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random});let d=!0;for(let k of s.parent.petArray)if(k!=s&&k.tier<=s.tier){d=!1;break}if(!d)return void this.triggerTigerExecution(e);let p=s.parent.getThis(s),g=p.pet;null!=g&&(g.givePetEquipment(new ga),this.logService.createLog({message:`${s.name} gave ${g.name} Coconut.`,type:"ability",player:s.parent,tiger:r,randomEvent:p.random}),this.triggerTigerExecution(e))}copy(e){return new bT(e,this.logService)}}class AT extends S{constructor(e,t,i){super({name:"TahrAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.getPetsWithEquipment("Mild Chili"),l=s.parent.nearestPetsBehind(this.level,s,o);if(0!==l.pets.length){for(let c of l.pets)this.logService.createLog({message:`${s.name} gave ${c.name} Mild Chili.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:l.random}),c.givePetEquipment(new b4(this.logService,this.abilityService));this.triggerTigerExecution(e)}}copy(e){return new AT(e,this.logService,this.abilityService)}}class kT extends S{constructor(e,t,i){super({name:"WhaleSharkAbility",owner:e,triggers:["ThisGainedPerk","ThisGainedAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const s=this.owner;s.equipment&&(this.logService.createLog({message:`${s.name} removed ${s.equipment.name}`,type:"ability",player:s.parent}),s.removePerk());let o=s.parent.getThis(s),l=o.pet;if(null==l)return;let c=3*this.level;l.increaseAttack(c),l.increaseHealth(c),this.logService.createLog({message:`${s.name} gave ${l.name} ${c} attack and ${c} health.`,type:"ability",player:s.parent,randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new kT(e,this.logService,this.abilityService)}}class ST extends S{constructor(e,t){super({name:"TennisBallAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.opponent.getRandomPets(this.level,[],!1,!0,s),l=o.pets;if(0!=l.length){for(let c of l)s.snipePet(c,3,o.random,r);this.triggerTigerExecution(e)}}copy(e){return new ST(e,this.logService)}}class PT extends S{constructor(e,t){super({name:"BalloonAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let s=a.parent.getFurthestUpPets(this.level,[],a),o=s.pets;if(0!=o.length){for(let c of o)c.increaseAttack(1),c.increaseHealth(1),this.logService.createLog({message:`${a.name} gave ${c.name} 1 attack and 1 health.`,type:"ability",player:a.parent,tiger:r,randomEvent:s.random});this.triggerTigerExecution(e)}}copy(e){return new PT(e,this.logService)}}class wT extends S{constructor(e,t){super({name:"PlasticSawAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let s=a.parent.getPetsWithEquipment("Eucalyptus"),o=a.parent.getFurthestUpPets(this.level,s,a),l=o.pets;if(0!=l.length){for(let c of l)this.logService.createLog({message:`${a.name} gave ${c.name} Eucalyptus.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random}),c.givePetEquipment(new $y);this.triggerTigerExecution(e)}}copy(e){return new wT(e,this.logService)}}class TT extends S{constructor(e,t){super({name:"RadioAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.getAll(!1,s,!0),l=o.pets;if(0!=l.length){for(let c of l)c.increaseHealth(this.level),this.logService.createLog({message:`${s.name} gave ${c.name} ${this.level} health.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random});this.triggerTigerExecution(e)}}copy(e){return new TT(e,this.logService)}}class _T extends S{constructor(e,t){super({name:"OvenMittsAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){}copy(e){return new _T(e,this.logService)}}class CT extends S{constructor(e,t){super({name:"ToiletPaperAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.opponent,l=o.getPetsWithEquipment("Weak"),c=o.getFurthestUpPets(this.level,l,s),d=c.pets;if(0!=d.length){for(let p of d)p.givePetEquipment(new Ds),this.logService.createLog({message:`${s.name} gave ${p.name} Weak.`,type:"ability",player:s.parent,tiger:r,randomEvent:c.random});this.triggerTigerExecution(e)}}copy(e){return new CT(e,this.logService)}}class ET extends S{constructor(e,t){super({name:"FoamSwordAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.opponent;for(let l=0;l<this.level;l++){let c=o.getLowestHealthPet();s.snipePet(c.pet,5,c.random,r)}this.triggerTigerExecution(e)}copy(e){return new ET(e,this.logService)}}class xT extends S{constructor(e,t){super({name:"ToyGunAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.opponent;for(let l=0;l<this.level;l++){let c=o.getLastPet();if(null==c.pet)return;s.snipePet(c.pet,5,c.random,r)}this.triggerTigerExecution(e)}copy(e){return new xT(e,this.logService)}}class DT extends S{constructor(e,t){super({name:"MelonHelmetAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.getPetsWithEquipment("Melon"),l=s.parent.getFurthestUpPets(this.level,o,s),c=l.pets;for(let d of c)d.givePetEquipment(new xs),this.logService.createLog({message:`${s.name} gave ${d.name} Melon.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random});this.triggerTigerExecution(e)}copy(e){return new DT(e,this.logService)}}class LT extends S{constructor(e,t){super({name:"StinkySockAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let l=s.parent.opponent.getHighestHealthPets(this.level,[],s),c=l.pets;if(0!=c.length){for(let d of c){let p=.4,g=Math.max(1,Math.floor(d.health*(1-p)));d.health=g,this.logService.createLog({message:`${s.name} reduced ${d.name} health by ${100*p}% (${g})`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:l.random})}this.triggerTigerExecution(e)}}copy(e){return new LT(e,this.logService)}}class IT extends S{constructor(e,t){super({name:"FlashlightAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=5*this.level,l=s.parent.getFurthestUpPet(s),c=l.pet;null!=c&&(c.increaseAttack(o),c.increaseHealth(o),this.logService.createLog({message:`Flashlight Ability gave ${c.name} ${o} attack and ${o} health.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e))}copy(e){return new IT(e,this.logService)}}class MT extends S{constructor(e,t){super({name:"PeanutJarAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.getPetsWithEquipment("Peanut Butter"),c=s.parent.getLowestAttackPets(this.level,o,s).pets;if(0!=c.length){for(let d of c)d.givePetEquipment(new Sp),this.logService.createLog({message:`Peanut Jar Ability gave ${d.name} PeanutButter.`,type:"ability",player:s.parent,tiger:r,pteranodon:a});this.triggerTigerExecution(e)}}copy(e){return new MT(e,this.logService)}}class RT extends S{constructor(e,t){super({name:"AirPalmTreeAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.getPetsWithEquipment("Coconut"),l=s.parent.getHighestAttackPets(this.level,o,s),c=l.pets;if(0!=c.length){for(let d of c)d.givePetEquipment(new ga),this.logService.createLog({message:`${s.name} gave ${d.name} Coconut.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random});this.triggerTigerExecution(e)}}copy(e){return new RT(e,this.logService)}}class FT extends S{constructor(e,t){super({name:"TelevisionAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=2*this.level,l=s.parent.getAll(!1,s,!0),c=l.pets;if(0!=c.length){for(let d of c)d.increaseAttack(o),d.increaseHealth(o),this.logService.createLog({message:`${s.name} gave ${d.name} ${o} attack and ${o} health.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random});this.triggerTigerExecution(e)}}copy(e){return new FT(e,this.logService)}}class NT extends S{constructor(e,t){super({name:"CrystalBallAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.getFurthestUpPet(s),l=o.pet;if(null==l)return;let c=2*this.level;l.increaseMana(c),this.logService.createLog({message:`${s.name} gave ${l.name} ${c} mana.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new NT(e,this.logService)}}class BT extends S{constructor(e,t,i){super({name:"EvilBookAbility",owner:e,triggers:["ClearFront"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:r=>null==this.owner.parent.pet0,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,s=this.owner;let o={attack:6*this.level,health:6*this.level},l=new Vw(this.logService,this.abilityService,s.parent,o.health,o.attack,0,this.minExpForLevel),c=s.parent.summonPet(l,0);c.success&&this.logService.createLog({message:`Evil Book Ability spawned Great One (${o.attack}/${o.health}).`,type:"ability",player:s.parent,tiger:r,randomEvent:c.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new BT(e,this.logService,this.abilityService)}}class OT extends S{constructor(e,t){super({name:"TreasureChestAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){}copy(e){return new OT(e,this.logService)}}class $T extends S{constructor(e,t){super({name:"WitchBroomAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.opponent,l=o.getPetsWithEquipment("any"),c=o.getRandomPets(this.level,l,!1,!0,s),d=c.pets;if(0!=d.length){for(let p of d)p.givePetEquipment(new Ds),this.logService.createLog({message:`${s.name} gave ${p.name} Weak.`,type:"ability",player:s.parent,tiger:r,randomEvent:c.random});this.triggerTigerExecution(e)}}copy(e){return new $T(e,this.logService)}}class HT extends S{constructor(e,t){super({name:"TreasureMapAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){}copy(e){return new HT(e,this.logService)}}class GT extends S{constructor(e,t,i,r){super({name:"PandorasBoxAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=i,this.equipmentService=r}executeAbility(e){const{gameApi:t,tiger:r,pteranodon:a}=e,s=this.owner,o=this.equipmentService.getInstanceOfAllEquipment(),l=Array.from(this.equipmentService.getInstanceOfAllAilments().values()),c=new Set(["Cake Slice","Carrot","Cherry","Chocolate Cake","Coconut","Croissant","Cucumber","Eggplant","Fig","Gingerbread Man","Grapes","Golden Egg","Health Potion","Love Potion","Magic Beans","Peanut","Pie","Rambutan","Rice","Skewer"]),d=Array.from(o.values()).filter(k=>k&&!c.has(k.name)),p=ma(t,s.parent),g=[...s.parent.petArray,...p.petArray].filter(k=>null==k?void 0:k.alive);for(const k of g){const E=Math.random()<.5?l:d;if(!E.length)continue;const L=E[Math.floor(Math.random()*E.length)];if(!L)continue;const R=By(L);!R||(k.givePetEquipment(R,this.level),this.logService.createLog({message:`Pandoras Box Ability gave ${k.name} ${R.name}`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:!0}))}this.triggerTigerExecution(e)}copy(e){return new GT(e,this.logService,this.abilityService,this.equipmentService)}}class nK extends S{constructor(e,t){super({name:"StickAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",abilityFunction:i=>{const a=e.parent.getMiddleFriend(e);if(a.pet&&a.pet.alive){const s=new Mu;s.power=2*this.abilityLevel,s.originalPower=s.power,a.pet.givePetEquipment(s),t.createLog({message:`${e.name} gave Walnut to ${a.pet.name} (Stick)`,type:"ability",player:e.parent,randomEvent:a.random})}}})}}class rK extends S{constructor(e,t){super({name:"CashRegisterAbility",triggers:[],owner:e,abilityType:"Pet",abilityFunction:i=>{}})}}class sK extends S{constructor(e,t,i){super({name:"MicrowaveOvenAbility",triggers:["StartBattle"],owner:e,abilityType:"Pet",abilityFunction:r=>{const{puma:a}=r;let s=e.parent.getPetsWithEquipment("Popcorn"),l=e.parent.getFurthestUpPets(this.abilityLevel,s).pets;if(0!=l.length)for(let c of l){t.createLog({message:`${e.name} gave ${c.name} Popcorn (Microwave Oven).`,type:"ability",player:e.parent,puma:a});const d=i.getInstanceOfAllEquipment().get("Popcorn");c.givePetEquipment(d)}}})}}class aK extends S{constructor(e,t){super({name:"CameraAbility",triggers:["StartBattle"],owner:e,abilityType:"Pet",abilityFunction:i=>{const{gameApi:r,puma:a}=i;let s=ma(r,e.parent);for(let o=0;o<this.abilityLevel;o++){let l=s.getHighestAttackPet(),c=l.pet;if(null==c)return;let d=.3,p=Math.max(1,Math.floor(c.attack*(1-d)));c.attack=p,t.createLog({message:`${e.name} reduced ${c.name} attack by ${100*d}% (${p}) (Camera)`,type:"ability",player:e.parent,puma:a,randomEvent:l.random})}}})}}class qT extends S{constructor(e,t,i,r){super({name:"ChameleonAbility",owner:e,triggers:["SpecialEndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:a=>null!=this.owner.parent.toy,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=i,this.equipmentService=r}executeAbility(e){const s=this.owner;s.removeAbility(this.name,"Pet"),this.addToyAbility(s.parent.toy.name)}addToyAbility(e){let t=this.owner;const r={"Tennis Ball":()=>new ST(t,this.logService),Balloon:()=>new PT(t,this.logService),"Plastic Saw":()=>new wT(t,this.logService),Radio:()=>new TT(t,this.logService),"Oven Mitts":()=>new _T(t,this.logService),"Toilet Paper":()=>new CT(t,this.logService),"Foam Sword":()=>new ET(t,this.logService),"Toy Gun":()=>new xT(t,this.logService),"Melon Helmet":()=>new DT(t,this.logService),"Stinky Sock":()=>new LT(t,this.logService),Flashlight:()=>new IT(t,this.logService),"Peanut Jar":()=>new MT(t,this.logService),"Air Palm Tree":()=>new RT(t,this.logService),Television:()=>new FT(t,this.logService),"Crystal Ball":()=>new NT(t,this.logService),"Evil Book":()=>new BT(t,this.logService,this.abilityService),"Treasure Chest":()=>new OT(t,this.logService),"Witch Broom":()=>new $T(t,this.logService),"Treasure Map":()=>new HT(t,this.logService),"Pandoras Box":()=>new GT(t,this.logService,this.abilityService,this.equipmentService),Stick:()=>new nK(t,this.logService),"Cash Register":()=>new rK(t,this.logService),"Microwave Oven":()=>new sK(t,this.logService,this.equipmentService),Camera:()=>new aK(t,this.logService)}[e];if(r)try{const a=r();a.abilityLevel=Math.min(t.parent.toy.level,this.level),a.alwaysIgnorePetLevel=!0,t.addAbility(a),this.logService.createLog({message:`${this.name} gained ${e} ability!`,type:"ability",player:t.parent})}catch(a){console.warn(`Failed to add ${e} ability to ${this.name}:`,a)}else this.logService.createLog({message:"Custom toy ability is currently not supported for Chameleon ability",type:"ability",player:t.parent})}copy(e){return new qT(e,this.logService,this.abilityService,this.equipmentService)}}class VT extends S{constructor(e,t,i){super({name:"GharialAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){var t;const i=this.owner,r=Je.getInjector().get(Jr),a=Math.max(1,Math.min(3,this.level)),s=null!==(t=r.toys.get(a))&&void 0!==t?t:[];if(0===s.length)return void this.triggerTigerExecution(e);const o=s[_t(0,s.length-1)],l=r.createToy(o,i.parent,a);l?(i.parent.toy=l,i.parent.toy.used=!1,i.parent.toy.triggers=0,ai(this.logService,i,`${i.name} chose a level ${a} ${o} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new VT(e,this.logService,this.abilityService)}}class UT extends S{constructor(e,t){super({name:"StonefishAbility",owner:e,triggers:["ThisKilled"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r,pteranodon:a}=e,s=this.owner;let l=s.parent.getSpecificPet(s,i).pet;null==l||!l.alive||(s.snipePet(l,s.attack*this.level,!1,r,a),this.triggerTigerExecution(e))}copy(e){return new UT(e,this.logService)}}class WT extends S{constructor(e,t){super({name:"PoodleAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:r}=e,a=[];for(let s=1;s<=6;s++){const o=t.parent.petArray.find(c=>c&&c.alive&&c!==t&&c.tier===s);if(!o)continue;const l=this.level;o.increaseAttack(l),o.increaseHealth(l),a.push(o)}if(a.length>0){const s=a.map(o=>o.name).join(", ");this.logService.createLog({message:`${t.name} buffed ${s} (+${this.level}/+${this.level}) at end of turn.`,type:"ability",player:t.parent,tiger:i,pteranodon:r})}this.triggerTigerExecution(e)}copy(e){return new WT(e,this.logService)}}class jT extends S{constructor(e,t,i){super({name:"ChickenAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} gave future shop pets +${i} attack and +${i} health.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}copy(e){return new jT(e,this.logService,this.abilityService)}}class zT extends S{constructor(e,t,i,r){super({name:"EagleAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=i,this.petService=r}executeAbility(e){const{gameApi:t,tiger:r,pteranodon:a}=e,s=this.owner,o=Number.isFinite(t.previousShopTier)?t.previousShopTier:1,l=Math.min(6,Math.max(1,o+1)),c=L=>(null!=L?L:[]).filter(R=>R&&s.name&&R.toLowerCase()!==s.name.toLowerCase()),d=s.parent===t.player?t.playerPetPool:t.opponentPetPool;let p=c(null==d?void 0:d.get(l));if((null==p?void 0:p.length)||(p=c(this.petService.allPets.get(l))),(null==p?void 0:p.length)||(p=c(this.petService.allPets.get(1))),!p.length)return void this.triggerTigerExecution(e);let g=p[Math.floor(Math.random()*p.length)],k=5*this.level,T=this.petService.createPet({name:g,attack:k,health:k,exp:s.minExpForLevel,equipment:null,mana:0},s.parent);s.parent.summonPet(T,s.savedPosition,!1,s).success&&this.logService.createLog({message:`${s.name} spawned ${T.name} Level ${T.level}`,type:"ability",player:s.parent,tiger:r,randomEvent:!0,pteranodon:a}),this.triggerTigerExecution(e)}copy(e){return new zT(e,this.logService,this.abilityService,this.petService)}}class KT extends y{constructor(e,t,i,r,a,s,o,l,c,d){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="Eagle",this.tier=5,this.pack="Puppy",this.attack=6,this.health=5,this.initPet(l,a,s,o,c,d)}initAbilities(){this.addAbility(new zT(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class F4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Praying Mantis",this.tier=4,this.pack="Star",this.attack=7,this.health=2,this.initPet(o,r,a,s,l,c)}}class YT extends S{constructor(e,t,i){super({name:"OrchidMantisAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=Math.min(Math.floor(s.attack*(.4*this.level)),50),l=Math.min(Math.floor(s.health*(.4*this.level)),50),c=new F4(this.logService,this.abilityService,s.parent,l,o,0,this.minExpForLevel,null),d=s.parent.summonPetInFront(s,c);d.success&&this.logService.createLog({message:`${s.name} spawned Mantis ${c.attack}/${c.health}.`,type:"ability",player:s.parent,tiger:r,randomEvent:d.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new YT(e,this.logService,this.abilityService)}}class QT extends S{constructor(e,t){super({name:"AxolotlAbility",owner:e,triggers:["FriendlyGainsPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,s=this.owner;let o=s.parent.getSpecificPet(s,i),l=o.pet;if(null==l)return;let c=this.level;l.increaseAttack(c),l.increaseHealth(c),this.logService.createLog({message:`${s.name} gave ${l.name} ${c} attack and ${c} health.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new QT(e,this.logService)}}class ZT extends S{constructor(e,t){super({name:"SnappingTurtleAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.getPetsWithEquipment("Skewer"),l=s.parent.nearestPetsBehind(s.level,s,o);if(0!==l.pets.length){for(let c of l.pets)this.logService.createLog({message:`${s.name} gave ${c.name} Skewer.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:l.random}),c.givePetEquipment(new v4(this.logService));this.triggerTigerExecution(e)}}copy(e){return new ZT(e,this.logService)}}class JT extends S{constructor(e,t,i){super({name:"StingRayAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){var t;const i=this.owner,r=Je.getInjector().get(Jr),a=Math.max(1,Math.min(3,this.level)),s=null!==(t=r.toys.get(a))&&void 0!==t?t:[];if(0===s.length)return void this.triggerTigerExecution(e);const o=s[_t(0,s.length-1)],l=r.createToy(o,i.parent,a);l?(i.parent.toy=l,i.parent.toy.used=!1,i.parent.toy.triggers=0,ai(this.logService,i,`${i.name} chose a level ${a} ${o} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new JT(e,this.logService,this.abilityService)}}class XT extends S{constructor(e,t){super({name:"MantisShrimpAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.opponent;for(let l=0;l<this.level;l++){let c=o.getFurthestUpPet(s),d=c.pet;if(null==d)return;s.snipePet(d,10,c.random,r)}this.triggerTigerExecution(e)}copy(e){return new XT(e,this.logService)}}class e_ extends S{constructor(e,t){super({name:"LionfishAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.opponent,l=1+Math.floor(s.attack/10);for(let c=0;c<l;c++){let d=o.getRandomPet([],!1,!0,!1,s);if(null==d.pet)return;s.snipePet(d.pet,3*this.level,d.random,r,a)}this.triggerTigerExecution(e)}copy(e){return new e_(e,this.logService)}}class t_ extends S{constructor(e,t){super({name:"OctopusAbility",owner:e,triggers:["ThisAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let l=s.parent.opponent.getRandomPets(this.level,null,null,!0,s),c=l.pets;for(let p of c){if(null==p)return;s.snipePet(p,6,l.random,r)}this.triggerTigerExecution(e)}copy(e){return new t_(e,this.logService)}}class i_ extends S{constructor(e,t){super({name:"ElephantSealAbility",owner:e,triggers:["ThisGainedPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=4*this.level,l=s.parent.getRandomPets(3,[s],!0,!1,s);for(let c of l.pets)null!=c&&(c.increaseAttack(o),c.increaseHealth(o),this.logService.createLog({message:`${s.name} gave ${c.name} ${o} attack and ${o} health.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random}));this.triggerTigerExecution(e)}copy(e){return new i_(e,this.logService)}}class n_ extends S{constructor(e,t,i){super({name:"MongooseAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){var t;const i=this.owner,r=Je.getInjector().get(Jr),a=Math.max(1,Math.min(3,this.level)),s=null!==(t=r.toys.get(a))&&void 0!==t?t:[];if(0===s.length)return void this.triggerTigerExecution(e);const o=s[_t(0,s.length-1)],l=r.createToy(o,i.parent,a);l?(i.parent.toy=l,i.parent.toy.used=!1,i.parent.toy.triggers=0,ai(this.logService,i,`${i.name} chose a level ${a} ${o} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new n_(e,this.logService,this.abilityService)}}class r_ extends S{constructor(e,t,i){super({name:"PillbugAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new r_(e,this.logService,this.abilityService)}}class s_ extends S{constructor(e,t,i){super({name:"DucklingAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){}copy(e){return new s_(e,this.logService,this.abilityService)}}class xK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Summoned Cockroach",this.tier=1,this.pack="Star",this.attack=1,this.health=1,this.hidden=!0,this.initPet(o,r,a,s,l,c)}}class a_ extends S{constructor(e,t,i){super({name:"CockroachAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner,o=this.level,l=new xK(this.logService,this.abilityService,s.parent,1,1,0,0);let c=s.parent.summonPet(l,s.savedPosition,!1,s);if(c.success){this.logService.createLog({message:`${s.name} summoned a 1/1 Cockroach.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:c.randomEvent});let d=s.parent.getThis(l);d.pet.increaseExp(o),this.logService.createLog({message:`${s.name} gave ${d.pet.name} +${o} exp.`,type:"ability",player:s.parent,tiger:r,randomEvent:d.random})}this.triggerTigerExecution(e)}copy(e){return new a_(e,this.logService,this.abilityService)}}class o_ extends S{constructor(e,t){super({name:"FrogAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>1===this.owner.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.nearestPetsAhead(1,s),l=s.parent.nearestPetsBehind(1,s);if(0===o.pets.length||0===l.pets.length)return;let c=o.pets[0],d=l.pets[0],p=c.attack,g=c.health,T=d.health;c.attack=d.attack,c.health=T,d.attack=p,d.health=g,this.logService.createLog({message:`${s.name} swapped the attack and health of ${c.name} and ${d.name}.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random||l.random}),this.triggerTigerExecution(e)}copy(e){return new o_(e,this.logService)}}class l_ extends S{constructor(e,t){super({name:"ChihuahuaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner,o=s.parent.opponent,l=o.getHighestHealthPet(void 0,s),c=l.pet;if(c){const d=this.level;this.logService.createLog({message:`${s.name} pushed ${c.name} forward ${d} space(s).`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random}),o.pushPet(c,d)}this.triggerTigerExecution(e)}copy(e){return new l_(e,this.logService)}}class c_ extends S{constructor(e,t){super({name:"SeahorseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,s=r.parent.opponent.getLastPet();if(null==s.pet)return;const o=s.pet;o.parent.pushPet(o,this.level),this.logService.createLog({message:`${r.name} pushed ${o.name} forward ${this.level} space(s).`,type:"ability",player:r.parent,tiger:t,pteranodon:i,randomEvent:s.random}),this.triggerTigerExecution(e)}copy(e){return new c_(e,this.logService)}}class u_ extends S{constructor(e,t){super({name:"IguanaAbility",owner:e,triggers:["EnemyPushed","EnemySummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,s=this.owner;let o=s.parent.getSpecificPet(s,i),l=o.pet;null!=l&&l.alive&&(s.snipePet(l,2*this.level,o.random,r),this.triggerTigerExecution(e))}copy(e){return new u_(e,this.logService)}}class h_ extends S{constructor(e,t,i){super({name:"HummingbirdAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.getPetsWithEquipment("Strawberry"),l=s.parent.nearestPetsBehind(this.level,s,o);if(0!==l.pets.length){for(let c of l.pets)c.givePetEquipment(new Fy(this.logService)),this.logService.createLog({message:`${s.name} gave ${c.name} strawberry.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random});this.triggerTigerExecution(e)}}copy(e){return new h_(e,this.logService,this.abilityService)}}class d_ extends S{constructor(e,t){super({name:"KoalaAbility",owner:e,triggers:["FriendHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,s=this.owner;let o=s.parent.getSpecificPet(s,i),l=o.pet;!l||(this.logService.createLog({message:`${s.name} gave ${l.name} Eucalyptus perk.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),l.givePetEquipment(new $y),this.triggerTigerExecution(e))}copy(e){return new d_(e,this.logService)}}class p_ extends S{constructor(e,t){super({name:"Yak Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=this.level,s=2*this.level;r.dealDamage(r,a),r.increaseAttack(s),this.logService.createLog({message:`${r.name} took ${a} damage and gained +${s} attack.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new p_(e,this.logService)}}class m_ extends S{constructor(e,t){super({name:"SalamanderAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.getThis(s),l=o.pet;if(null==l)return;let c=0;for(let d of s.parent.petArray)d.isSellPet()&&(c+=d.level*this.level);c>0&&(this.logService.createLog({message:`${s.name} gave ${l.name} ${c} attack and ${c} health from sell pets.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:o.random}),l.increaseAttack(c),l.increaseHealth(c)),this.triggerTigerExecution(e)}copy(e){return new m_(e,this.logService)}}class g_ extends S{constructor(e,t){super({name:"PandaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=.5*this.level,l={attack:Math.floor(s.attack*o),health:Math.floor(s.health*o)},c=s.parent.nearestPetsAhead(1,s);if(c.pets.length>0){let d=c.pets[0];d.increaseAttack(l.attack),d.increaseHealth(l.health),this.logService.createLog({message:`${s.name} gave ${d.name} ${l.attack} attack and ${l.health} health.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:c.random})}s.health=0,this.triggerTigerExecution(e)}copy(e){return new g_(e,this.logService)}}class f_ extends S{constructor(e,t){super({name:"PugAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.nearestPetsAhead(1,s);if(0===o.pets.length)return;let l=o.pets[0],c=this.level;this.logService.createLog({message:`${s.name} gave ${l.name} ${c} exp.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),l.increaseExp(c),this.triggerTigerExecution(e)}copy(e){return new f_(e,this.logService)}}class y_ extends S{constructor(e,t){super({name:"JellyfishAbility",owner:e,triggers:["FriendLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.getThis(s),l=o.pet;if(null==l)return;let c=this.level;l.increaseAttack(c),l.increaseHealth(c),this.logService.createLog({message:`${s.name} gave ${l.name} attack by ${c} and health by ${c}`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new y_(e,this.logService)}}class v_ extends S{constructor(e,t){super({name:"AtlanticPuffinAbility",owner:e,triggers:["FriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>{var r;const{triggerPet:a}=i;return!(!a||"Strawberry"!=(null===(r=a.equipment)||void 0===r?void 0:r.name))},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,s=this.owner;this.logService.createLog({message:`${s.name} removed ${i.name}'s ${i.equipment.name}.`,type:"ability",player:s.parent,tiger:r}),i.removePerk();let o=2*s.level,l=s.parent.opponent.getLastPet(),c=l.pet;null!=c&&(s.snipePet(c,o,l.random,r),this.triggerTigerExecution(e))}copy(e){return new v_(e,this.logService)}}class b_ extends S{constructor(e,t){super({name:"DoveAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.petArray.filter(d=>{var p;return d==s||"Strawberry"!=(null===(p=d.equipment)||void 0===p?void 0:p.name)}),l=s.parent.getRandomPets(3,o,null,null,s),c=l.pets;if(0!=c.length){for(let d of c){if("Strawberry"!=d.equipment.name)continue;this.logService.createLog({message:`${s.name} activated ${d.name}'s Strawberry.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random,pteranodon:a});let g=d.parent.getLastPet(null,d).pet,k=this.level+g.equipment.multiplier-1;g.increaseAttack(k),g.increaseHealth(k),this.logService.createLog({message:`${d.name} gave ${g.name} ${k} attack ${k} health (Strawberry) (x${this.level} ${s.name}).`,type:"equipment",player:s.parent,tiger:r,pteranodon:a})}this.triggerTigerExecution(e)}}copy(e){return new b_(e,this.logService)}}class A_ extends S{constructor(e,t,i,r){super({name:"StorkAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=i,this.petService=r}executeAbility(e){const{gameApi:t,tiger:r,pteranodon:a}=e,s=this.owner;let o=Math.max(1,t.previousShopTier-1);const l=T=>(null!=T?T:[]).filter(E=>E&&s.name&&E.toLowerCase()!==s.name.toLowerCase());let c=l(this.petService.allPets.get(o));if(c.length||(c=l(this.petService.allPets.get(1))),!c.length)return void this.triggerTigerExecution(e);let d=c[Math.floor(Math.random()*c.length)],p=t.oldStork,g=this.petService.createPet({name:d,attack:p?null:2*this.level,equipment:null,exp:s.minExpForLevel,health:p?null:2*this.level,mana:0},s.parent);s.parent.summonPet(g,s.savedPosition,!1,s).success&&this.logService.createLog({message:`${s.name} spawned ${g.name} Level ${this.level}`,type:"ability",player:s.parent,tiger:r,randomEvent:!0,pteranodon:a}),this.triggerTigerExecution(e)}copy(e){return new A_(e,this.logService,this.abilityService,this.petService)}}class k_ extends y{constructor(e,t,i,r,a,s,o,l,c,d){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="Stork",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(l,a,s,o,c,d)}initAbilities(){this.addAbility(new A_(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class S_ extends S{constructor(e,t,i,r){super({name:"ShimaEnagaAbility",owner:e,triggers:["FriendDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,condition:a=>{var s;const{triggerPet:o}=a;return o&&"Strawberry"==(null===(s=o.equipment)||void 0===s?void 0:s.name)},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=i,this.petService=r}executeAbility(e){const{triggerPet:i,tiger:r}=e,s=this.owner;let o=2*this.level,l=this.petService.createPet({name:s.name,attack:o,health:o,equipment:null,exp:0,mana:0},s.parent);s.parent.summonPet(l,i.position,!1,s).success&&this.logService.createLog({message:`${s.name} summoned a (${o}/${o}) Shima Enaga`,type:"ability",player:s.parent,tiger:r,randomEvent:!0}),this.triggerTigerExecution(e)}copy(e){return new S_(e,this.logService,this.abilityService,this.petService)}}class P_ extends y{constructor(e,t,i,r,a,s,o,l,c,d){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="Shima Enaga",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(l,a,s,o,c,d)}initAbilities(){this.addAbility(new S_(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class w_ extends S{constructor(e,t){super({name:"WoodpeckerAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=2*this.level;for(let l=0;l<o;l++){let c=s.parent.nearestPetsAhead(2,s,null,!0),d=c.pets;for(let p of d){let g=1;p.parent!=this.owner.parent&&(g*=2),s.snipePet(p,g,c.random,r)}}this.triggerTigerExecution(e)}copy(e){return new w_(e,this.logService)}}class T_ extends S{constructor(e,t){super({name:"TunaAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.timesHurt;for(let l=0;l<o;l++){const c=s.parent.getRandomPet([s],!0,!1,!0,s);if(null==c.pet)continue;const d=this.level;this.logService.createLog({message:`${s.name} gave ${c.pet.name} +${d} attack and +${d} health.`,type:"ability",player:s.parent,tiger:r,randomEvent:c.random}),c.pet.increaseAttack(d),c.pet.increaseHealth(d)}this.triggerTigerExecution(e)}copy(e){return new T_(e,this.logService)}}class N4 extends y{constructor(e,t,i,r,a,s,o,l,c,d){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Tuna",this.tier=3,this.pack="Star",this.attack=3,this.health=5,this.initPet(o,r,a,s,l,c),this.timesHurt=null!=d?d:0,this.originalTimesHurt=this.timesHurt}initAbilities(){this.addAbility(new T_(this,this.logService)),super.initAbilities()}}class __ extends S{constructor(e,t){super({name:"ToadAbility",owner:e,triggers:["EnemyHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2*e.level,condition:i=>{const{triggerPet:r}=i;return r&&r.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}reset(){this.maxUses=2*this.owner.level,super.reset()}executeAbility(e){var t;const{triggerPet:r,tiger:a}=e,o=this.owner;let l=o.parent.getSpecificPet(o,r),c=l.pet;if("Weak"===(null===(t=null==c?void 0:c.equipment)||void 0===t?void 0:t.name)){let d=o.parent.opponent.getPetsWithEquipment("Weak");l=o.parent.opponent.getRandomPet(d,null,!0,null,o),c=l.pet}null!=c&&(c.givePetEquipment(new Ds),this.logService.createLog({message:`${o.name} gave ${c.name} Weak.`,type:"ability",player:o.parent,tiger:a,randomEvent:l.random}),this.triggerTigerExecution(e))}copy(e){return new __(e,this.logService)}}class C_ extends S{constructor(e,t){super({name:"ClownfishAbility",owner:e,triggers:["FriendlyLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,s=this.owner;let o=s.parent.getSpecificPet(s,i),l=o.pet;if(null==l)return;let c=2*this.level;l.increaseAttack(c),l.increaseHealth(c),this.logService.createLog({message:`${s.name} gave ${l.name} ${c} attack and ${c} health.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new C_(e,this.logService)}}class E_ extends S{constructor(e,t){super({name:"BlobfishAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.nearestPetsBehind(2,s),l=o.pets;for(let c of l){let d=this.level;this.logService.createLog({message:`${s.name} gave ${c.name} ${d} exp.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),c.increaseExp(d)}this.triggerTigerExecution(e)}copy(e){return new E_(e,this.logService)}}class x_ extends S{constructor(e,t){super({name:"CassowaryAbility",owner:e,triggers:["FriendGainsPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>{var r;const{triggerPet:a}=i;return a&&"Strawberry"===(null===(r=a.equipment)||void 0===r?void 0:r.name)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner,o=this.level;let c=s.parent.getThis(s).pet;null!=c&&(this.logService.createLog({message:`${s.name} gave ${c.name} +${o} permanent health and +${o} attack for this battle.`,type:"ability",player:s.parent,tiger:r}),c.increaseHealth(o),c.increaseAttack(o),this.triggerTigerExecution(e))}copy(e){return new x_(e,this.logService)}}class B4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Orangutan",this.tier=3,this.pack="Star",this.attack=1,this.health=4,this.initPet(o,r,a,s,l,c)}}class Hy extends S{constructor(e){super({name:"FairyAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:t=>{this.executeAbility(t)}})}executeAbility(e){}copy(e){return new Hy(e)}}class O4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Fairy Ball",this.tier=1,this.pack="Star",this.attack=2,this.health=6,this.hidden=!0,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Hy(this)),super.initAbilities()}}class D_ extends S{constructor(e,t,i){super({name:"FairyArmadilloAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,s=this.owner,o=2*this.level,l=s.parent.getThis(s),c=l.pet;if(null==c)return;c.increaseHealth(o),this.logService.createLog({message:`${s.name} gave ${c.name} ${o} permanent health and transforms into a protected ball!`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random});const d=s.parent.getThis(s),p=d.pet;if(null==p)return;const g=new O4(this.logService,this.abilityService,p.parent,p.health,p.attack,p.mana,p.exp,p.equipment);this.logService.createLog({message:`${s.name} transformed ${p.name} into a protected ball!`,type:"ability",player:s.parent,tiger:r,randomEvent:d.random}),p.parent.transformPet(p,g),this.triggerTigerExecution(e)}copy(e){return new D_(e,this.logService,this.abilityService)}}class L_ extends S{constructor(e,t){super({name:"FossaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:r}=e,s=this.owner,l=s.parent===t.player?t.playerRollAmount:t.opponentRollAmount;if(l<=0)return;const c=this.level*l;let p=s.parent.opponent.getFurthestUpPets(2,void 0,s).pets;if(0!=p.length){for(let g of p)this.logService.createLog({message:`${s.name} removed ${c} health from ${g.name}.`,type:"ability",player:s.parent,tiger:r}),g.increaseHealth(-c);this.triggerTigerExecution(e)}}copy(e){return new L_(e,this.logService)}}class I_ extends S{constructor(e,t){super({name:"Eel Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=.5*this.level,s=Math.floor(r.health*a);r.increaseHealth(s),this.logService.createLog({message:`${r.name} gained +${s} health (+${100*a}%).`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new I_(e,this.logService)}}class M_ extends S{constructor(e,t){super({name:"Sea Anemone Ability",owner:e,triggers:["FriendSold","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.usesThisTurn=0,this.maxUsesPerTurn=3,this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const i=e.triggerPet;if(!i||!i.isSellPet())return void this.triggerTigerExecution(e);const r=t.parent.petArray.filter(o=>o&&o!==t&&o.alive);if(0===r.length)return void this.triggerTigerExecution(e);const a=r[Math.floor(Math.random()*r.length)],s=Math.min(Math.max(this.level,1),3);a.increaseAttack(s),a.increaseHealth(s),this.usesThisTurn++,this.logService.createLog({message:`${t.name} gave ${a.name} +${s}/+${s} after ${i.name} was sold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new M_(e,this.logService)}}class R_ extends S{constructor(e,t){super({name:"HawkAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.getOppositeEnemyPet(s),l=o.pet;l&&s.snipePet(l,7*this.level,o.random,r),this.triggerTigerExecution(e)}copy(e){return new R_(e,this.logService)}}class F_ extends S{constructor(e,t,i){super({name:"PlatypusAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=3*this.level,l=2*this.level,c=new r4(this.logService,this.abilityService,s.parent,l,o,0,this.minExpForLevel),d=new s4(this.logService,this.abilityService,s.parent,l,o,0,this.minExpForLevel),p=s.parent.summonPet(c,s.savedPosition,!1,s);p.success&&this.logService.createLog({message:`${s.name} spawned ${o}/${l} Duck level ${this.level}`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:p.randomEvent});let g=s.parent.summonPet(d,s.savedPosition,!1,s);g.success&&this.logService.createLog({message:`${s.name} spawned ${o}/${l} Beaver level ${this.level}`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:g.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new F_(e,this.logService,this.abilityService)}}class N_ extends S{constructor(e,t,i){super({name:"CrowAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new N_(e,this.logService,this.abilityService)}}class B_ extends S{constructor(e,t){super({name:"DonkeyAbility",owner:e,triggers:["FriendDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}reset(){this.maxUses=this.level,super.reset()}executeAbility(e){const{tiger:r}=e,s=this.owner;let l=s.parent.opponent.getLastPet();null!=l.pet&&(s.parent.pushPet(l.pet,l.pet.position),l.pet.increaseAttack(-3),this.logService.createLog({message:`${s.name} pushed ${l.pet.name} to the front and removed 3 attack.`,type:"ability",player:s.parent,tiger:r}),this.triggerTigerExecution(e))}copy(e){return new B_(e,this.logService)}}class O_ extends S{constructor(e,t,i){super({name:"PelicanStartAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.getPetsWithoutEquipment("Strawberry"),l=s.parent.nearestPetsAhead(this.level,s,o),c=l.pets;if(0!=c.length){for(let d of c){let p=this.petService.createPet({name:"Salmon",attack:d.attack,health:d.health,exp:d.exp,equipment:null,mana:0},s.parent);s.swallowedPets.push(p),d.health=0,this.logService.createLog({message:`${s.name} swallowed ${d.name}`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random})}this.triggerTigerExecution(e)}}copy(e){return new O_(e,this.logService,this.petService)}}class $_ extends S{constructor(e,t,i){super({name:"PelicanFaintAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)},ignoreRepeats:!0}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;for(;s.swallowedPets.length>0;){let o=s.swallowedPets.shift(),l=s.parent.summonPet(o,s.savedPosition,!1,s);l.success&&this.logService.createLog({message:`${s.name} summoned ${o.name} (level ${o.level}).`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:l.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new $_(e,this.logService,this.abilityService)}}class H_ extends y{constructor(e,t,i,r,a,s,o,l,c,d){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="Pelican",this.tier=5,this.pack="Star",this.attack=5,this.health=5,this.initPet(l,a,s,o,c,d)}initAbilities(){this.addAbility(new O_(this,this.logService,this.petService)),this.addAbility(new $_(this,this.logService,this.abilityService)),super.initAbilities()}}class G_ extends S{constructor(e,t,i){super({name:"AnteaterAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;for(let o=0;o<this.level;o++){let l=new kP(this.logService,this.abilityService,s.parent,1,1,0,5),c=s.parent.summonPet(l,s.savedPosition,!1,s);c.success&&this.logService.createLog({message:`${s.name} spawned 1/1 Ant level 3`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:c.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new G_(e,this.logService,this.abilityService)}}class q_ extends S{constructor(e,t){super({name:"SwordFishAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let l=s.parent.opponent.getHighestHealthPet(void 0,s),c=l.pet,d=s.attack*this.level;null!=c&&s.snipePet(c,d,l.random,r),s.snipePet(s,d,!1,r),this.triggerTigerExecution(e)}copy(e){return new q_(e,this.logService)}}class V_ extends S{constructor(e,t){super({name:"Polar Bear Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=[4,8,12],r=i[Math.min(Math.max(t.level-1,0),i.length-1)],a=t.parent.getRandomPets(1,[],!1,!1,t),s=a.pets[0];s?(s.increaseAttack(r),s.increaseHealth(r),this.logService.createLog({message:`${t.name} gave ${s.name} +${r}/+${r}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:a.random}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new V_(e,this.logService)}}class U_ extends S{constructor(e,t){super({name:"Siberian Husky Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=this.level,r=t.parent.petArray.filter(s=>!(!s||s===t||!s.alive||null!=s.equipment&&"shop"===s.equipment.equipmentClass));if(0===r.length)return void this.triggerTigerExecution(e);pa(r);const a=r.slice(0,3);for(const s of a)s.increaseAttack(i),s.increaseHealth(i);this.logService.createLog({message:`${t.name} gave ${a.map(s=>s.name).join(", ")} +${i}/+${i}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new U_(e,this.logService)}}class W_ extends S{constructor(e,t){super({name:"LionAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}conditionFunction(){const e=this.owner;let t=e.parent.petArray.filter(r=>r!==e),i=0;for(let r of t)r.tier>i&&(i=r.tier);return e.tier>i}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;if(!this.conditionFunction())return;let o=.5*this.level;s.increaseAttack(Math.floor(s.attack*o)),s.increaseHealth(Math.floor(s.health*o)),this.logService.createLog({message:`${s.name} increased its attack and health by ${100*o}% (${s.attack}/${s.health})`,type:"ability",player:s.parent,tiger:r,pteranodon:a}),this.triggerTigerExecution(e)}copy(e){return new W_(e,this.logService)}}class j_ extends S{constructor(e,t){super({name:"TriceratopsAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.getRandomPet([s],!0,!1,!0,s),l=3*this.level;null!=o.pet&&(o.pet.increaseAttack(l),o.pet.increaseHealth(l),this.logService.createLog({message:`${s.name} gave ${o.pet.name} ${l} attack and ${l} health.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e))}copy(e){return new j_(e,this.logService)}}class z_ extends S{constructor(e,t){super({name:"Zebra Ability",owner:e,triggers:["ThisBought","ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.getRandomPets(1,[t],!1,!1,t),r=i.pets[0];if(!r)return void this.triggerTigerExecution(e);const a=2*this.level;r.increaseAttack(a),r.increaseHealth(a),this.logService.createLog({message:`${t.name} gave ${r.name} +${a}/+${a}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new z_(e,this.logService)}}class K_ extends S{constructor(e,t){super({name:"Fox Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,r=Je.getInjector().get(Dt).getInstanceOfAllEquipment(),a=Array.from(r.values()).filter(d=>"shop"===d.equipmentClass);if(0===a.length)return void this.triggerTigerExecution(e);const s=a[a.length-1],o=this.level,c=Math.max(1,2*t.level)*o;t.increaseAttack(c),t.increaseHealth(c),this.logService.createLog({message:`${t.name} stole ${s.name} (x${o}) and gained +${c}/+${c}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new K_(e,this.logService)}}class Y_ extends S{constructor(e,t,i){super({name:"VultureAbility",owner:e,triggers:["FriendDied2"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,s=this.owner;let l=s.parent.opponent.getRandomPet([],!1,!0,!1,s);if(null==l.pet)return;let c=4*this.level;s.snipePet(l.pet,c,l.random,r),this.logService.createLog({message:`${s.name} sniped ${l.pet.name} for ${c} after a friend died.`,type:"ability",player:s.parent,tiger:r}),this.triggerTigerExecution(e)}copy(e){return new Y_(e,this.logService,this.abilityService)}}class Q_ extends S{constructor(e,t){super({name:"IbexAbility",owner:e,triggers:["EnemyHurt","EnemyPushed"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:i=>{const{triggerPet:r}=i;return r&&r.alive&&!this.affectedEnemies.has(r)},abilityFunction:i=>{this.executeAbility(i)}}),this.affectedEnemies=new Set,this.logService=t}reset(){this.maxUses=this.level,this.affectedEnemies=new Set,super.reset()}executeAbility(e){const{triggerPet:i,tiger:r}=e,s=this.owner;let o=s.parent.getSpecificPet(s,i),l=o.pet;if(null==l)return;let c=Math.floor(.7*i.health);l.increaseHealth(-c),this.affectedEnemies.add(l),this.logService.createLog({message:`${s.name} removed ${c} health from ${i.name} (70%)`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new Q_(e,this.logService)}}class Z_ extends S{constructor(e,t,i){super({name:"KomodoAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:r}=e,a=this.owner;if(0===a.position)return void this.triggerTigerExecution(e);const s=a.getPetsAhead(a.position,!1);if(0===s.length)return void this.triggerTigerExecution(e);const o=this.level;for(const c of s)c.increaseAttack(o),c.increaseHealth(o);t&&(t.komodoShuffle=!0);const l=s.map(c=>c.name).join(", ");this.logService.createLog({message:`${a.name} gave ${l} +${o}/+${o} at end of turn and shuffled positions.`,type:"ability",player:a.parent,tiger:i,pteranodon:r,randomEvent:!0}),this.triggerTigerExecution(e)}copy(e){return new Z_(e,this.logService,this.abilityService)}}class J_ extends S{constructor(e,t){super({name:"ReindeerAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}reset(){this.maxUses=this.level,super.reset()}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.getThis(s),l=o.pet;null!=l&&(l.givePetEquipment(new xs),this.logService.createLog({message:`${s.name} gave ${l.name} Melon.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e))}copy(e){return new J_(e,this.logService)}}class X_ extends S{constructor(e,t){super({name:"StegosaurusAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:r,pteranodon:a}=e,s=10*this.level,o=t.parent.petArray.find(l=>l&&l!==t&&l.alive&&!l.equipment);o?(o.increaseAttack(s),o.increaseHealth(s),this.logService.createLog({message:`${t.name} gave ${o.name} +${s}/+${s} at start of battle.`,type:"ability",player:t.parent,tiger:r,pteranodon:a}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new X_(e,this.logService)}}class e1 extends S{constructor(e,t){super({name:"PiranhaAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.getAll(!1,s,!0),l=o.pets,c=3*this.level;for(let d of l)d.increaseAttack(c),this.logService.createLog({message:`${s.name} gave ${d.name} ${c} attack.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random});this.triggerTigerExecution(e)}copy(e){return new e1(e,this.logService)}}class t1 extends S{constructor(e,t){super({name:"Hammerhead Shark Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){var t;const i=this.owner;if(!i.parent.petArray.some(o=>o&&o!==i&&3===o.level))return void this.triggerTigerExecution(e);const a=3*this.level,s=i.parent;s.gold=(null!==(t=s.gold)&&void 0!==t?t:0)+a,this.logService.createLog({message:`${i.name} gained +${a} gold from level 3 friends.`,type:"ability",player:i.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new t1(e,this.logService)}}class n1 extends S{constructor(e,t){super({name:"TherizinosaurusAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.getPetsWithoutEquipment("Strawberry"),l=s.parent.getFurthestUpPets(this.level,o,s),c=l.pets;for(let d of c)d.givePetEquipment(new ga),this.logService.createLog({message:`${s.name} gave ${d.name} Coconut.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:l.random});this.triggerTigerExecution(e)}copy(e){return new n1(e,this.logService)}}class r1 extends S{constructor(e,t,i){super({name:"HarpyEagleAbility",owner:e,triggers:["ThisHurt","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.usesThisTurn=0,this.logService=t,this.petService=i}executeAbility(e){if("StartTurn"===e.trigger)return void(this.usesThisTurn=0);if("ThisHurt"!==e.trigger||this.usesThisTurn>=3)return;this.usesThisTurn++;const{gameApi:t,tiger:i}=e,a=this.owner;let o,s=5*this.level;o=a.parent===t.player?t.playerPetPool.get(1):t.opponentPetPool.get(1);let l=o[Math.floor(Math.random()*o.length)],c=this.petService.createPet({name:l,attack:s,health:s,equipment:null,mana:0,exp:0},a.parent);a.parent.summonPet(c,a.savedPosition,!1,a).success&&this.logService.createLog({message:`${a.name} spawned ${c.name} (${s}/${s}).`,type:"ability",player:a.parent,tiger:i,randomEvent:!0}),this.triggerTigerExecution(e)}copy(e){return new r1(e,this.logService,this.petService)}}class s1 extends y{constructor(e,t,i,r,a,s,o,l,c,d){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="Harpy Eagle",this.tier=6,this.pack="Custom",this.attack=6,this.health=6,this.initPet(l,a,s,o,c,d)}initAbilities(){this.addAbility(new r1(this,this.logService,this.petService)),super.initAbilities()}}class a1 extends S{constructor(e,t){super({name:"Farmer Dog Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=this.level,r=t.parent.petArray.filter(a=>a&&a.alive&&a!==t);if(0!==r.length){for(const a of r){const s=new Ru;s.effectMultiplier=i,a.givePetEquipment(s)}this.logService.createLog({message:`${t.name} fed ${i} Corncob${1===i?"":"s"} to ${r.length} friend${1===r.length?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new a1(e,this.logService)}}class o1 extends S{constructor(e,t){super({name:"RealVelociraptorAbility",owner:e,triggers:["FriendLostPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:i=>{const{triggerPet:r}=i;return r&&r!==this.owner&&r.lastLostEquipment&&!this.friendAppliedThisTurn.has(r)},abilityFunction:i=>{this.executeAbility(i)}}),this.friendAppliedThisTurn=new Set,this.logService=t}reset(){this.maxUses=this.level,this.friendAppliedThisTurn=new Set,super.reset()}executeAbility(e){const{triggerPet:i,tiger:r}=e,s=this.owner;let o=this.createEquipmentInstance(i.lastLostEquipment);if(o){let l=s.parent.getSpecificPet(s,i),c=l.pet;if(null==c)return;c.givePetEquipment(o),this.logService.createLog({message:`${s.name} returned ${o.name} to ${c.name}.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random}),this.friendAppliedThisTurn.add(c)}this.triggerTigerExecution(e)}createEquipmentInstance(e){try{return new(0,e.constructor)}catch(t){return console.warn("Failed to create equipment instance:",e.name,t),null}}copy(e){return new o1(e,this.logService)}}class l1 extends S{constructor(e,t,i,r){super({name:"SabertoothTigerAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=i,this.petService=r}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.timesHurt;if(o>0)for(let l=0;l<this.level;l++){let c=Math.min(2*o,50),d=Math.min(3*o,50),p=this.petService.createPet({name:"Mammoth",attack:c,health:d,equipment:null,mana:0,exp:0},s.parent),g=s.parent.summonPet(p,s.savedPosition,!1,s);g.success&&this.logService.createLog({message:`${s.name} summoned ${p.name} (${c}/${d}).`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:g.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new l1(e,this.logService,this.abilityService,this.petService)}}class Gy extends y{constructor(e,t,i,r,a,s,o,l,c,d,p){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="Sabertooth Tiger",this.tier=6,this.pack="Star",this.attack=4,this.health=5,this.initPet(l,a,s,o,c,d),this.timesHurt=null!=p?p:0,this.originalTimesHurt=this.timesHurt}initAbilities(){this.addAbility(new l1(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}resetPet(){super.resetPet()}}class c1 extends S{constructor(e,t,i,r){super({name:"OrcaAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=i,this.petService=r}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;for(let o=0;o<this.level;o++){let l=this.petService.getRandomFaintPet(s.parent,void 0,[s.name]);l.attack=6,l.health=6,s.parent.summonPet(l,s.savedPosition,!1,s).success&&this.logService.createLog({message:`${s.name} spawned a 6/6 ${l.name}.`,type:"ability",player:s.parent,tiger:r,randomEvent:!0,pteranodon:a})}this.triggerTigerExecution(e)}copy(e){return new c1(e,this.logService,this.abilityService,this.petService)}}class u1 extends y{constructor(e,t,i,r,a,s,o,l,c,d){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="Orca",this.tier=6,this.pack="Star",this.attack=5,this.health=7,this.initPet(l,a,s,o,c,d)}initAbilities(){this.addAbility(new c1(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class h1 extends S{constructor(e,t){super({name:"SpinosaurusAbility",owner:e,triggers:["FriendDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o={attack:2*this.level,health:3*this.level},l=s.parent.getRandomPet([s],!0,!1,!0,s);null!=l.pet&&(l.pet.increaseAttack(o.attack),l.pet.increaseHealth(o.health),this.logService.createLog({message:`${s.name} gave ${l.pet.name} ${o.attack} attack and ${o.health} health.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e))}copy(e){return new h1(e,this.logService)}}class d1 extends S{constructor(e,t){super({name:"BulldogAbility",owner:e,triggers:["ThisFirstAttack"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>this.owner.timesAttacked<=1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=2*this.level,l=s.parent.getThis(s),c=l.pet;null!=c&&(c.increaseAttack(o),this.logService.createLog({message:`${s.name} gained +${o} attack.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e))}copy(e){return new d1(e,this.logService)}}class p1 extends S{constructor(e,t){super({name:"GroundhogAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:a}=e,s=this.owner,o=s.parent.resolveTrumpetGainTarget(s);o.player.gainTrumpets(this.level,s,a,void 0,void 0,o.random),this.triggerTigerExecution(e)}copy(e){return new p1(e,this.logService)}}class $4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Groundhog",this.tier=1,this.pack="Golden",this.attack=2,this.health=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new p1(this,this.logService)),super.initAbilities()}}class m1 extends S{constructor(e,t){super({name:"ConeSnailAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.nearestPetsBehind(1,s);if(0===o.pets.length)return;let l=o.pets[0],c=2*this.level;l.increaseHealth(c),this.logService.createLog({message:`${s.name} gave ${l.name} ${c} health.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new m1(e,this.logService)}}class g1 extends S{constructor(e,t){super({name:"GooseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.opponent.getFurthestUpPet(s),l=o.pet;if(null==l)return;let c=this.level;l.increaseAttack(-this.level),this.logService.createLog({message:`${s.name} removed ${c} attack from ${l.name}.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new g1(e,this.logService)}}class f1 extends S{constructor(e,t){super({name:"PiedTamarinAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>this.owner.parent.trumpets>=1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.opponent.getRandomPets(this.level,null,null,!0,s);for(let l of o.pets)null!=l&&s.snipePet(l,3,o.random,r,a);o.pets.length>0&&s.parent.spendTrumpets(1,s,a),this.triggerTigerExecution(e)}copy(e){return new f1(e,this.logService)}}class y1 extends S{constructor(e,t){super({name:"SilkmothAbility",owner:e,triggers:["FriendAheadHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,s=this.owner;let o=s.parent.getSpecificPet(s,i),l=o.pet;if(null==l)return;let c=this.level;l.increaseHealth(c),this.logService.createLog({message:`${s.name} gave ${l.name} ${c} health.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new y1(e,this.logService)}}class v1 extends S{constructor(e,t,i){super({name:"LemmingAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new v1(e,this.logService,this.abilityService)}}class b1 extends S{constructor(e,t,i){super({name:"MagpieAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new b1(e,this.logService,this.abilityService)}}class A1 extends S{constructor(e,t,i){super({name:"HerculesBeetleAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new A1(e,this.logService,this.abilityService)}}class k1 extends S{constructor(e,t,i){super({name:"StoatAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new k1(e,this.logService,this.abilityService)}}class S1 extends S{constructor(e,t){super({name:"BlackNeckedStiltAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:a}=e,s=this.owner;let o=2*this.level;const l=s.parent.resolveTrumpetGainTarget(s);l.player.gainTrumpets(o,s,a,void 0,void 0,l.random),this.triggerTigerExecution(e)}copy(e){return new S1(e,this.logService)}}class P1 extends S{constructor(e,t){super({name:"SquidAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>{if(this.owner.parent.trumpets<1)return!1},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=!1,l=s.parent.opponent.getPetsWithEquipment("Inked"),c=s.parent.opponent.getFurthestUpPets(this.level,l,s),d=c.pets;for(let p of d){if(null==p)break;o=!0,p.givePetEquipment(new Gw),this.logService.createLog({message:`${s.name} gave ${p.name} Inked.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:c.random})}o&&s.parent.spendTrumpets(1,s,a),this.triggerTigerExecution(e)}copy(e){return new P1(e,this.logService)}}class w1 extends S{constructor(e,t){super({name:"SeaUrchinAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.opponent.getFurthestUpPet(s),l=[o.pet],c=o.random;if(null!=l[0]){for(let d=0;d<this.level-1;d++){let p;if(p=c?s.parent.opponent.getFurthestUpPet(s).pet:l[d].petBehind(),null==p)break;l.push(p)}for(let d of l)null!=d&&(d.increaseHealth(-5),this.logService.createLog({message:`${s.name} removed 5 health from ${d.name}.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:c}));this.triggerTigerExecution(e)}}copy(e){return new w1(e,this.logService)}}class T1 extends S{constructor(e,t){super({name:"DoorHeadAntAbility",owner:e,triggers:["ClearFront"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.getThis(s),l=o.pet;if(null==l)return;s.parent.pushPetToFront(l,!0),this.logService.createLog({message:`${s.name} pushed ${l.name} to the front.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:o.random});let c=4*this.level,d=s.parent.getThis(s),p=d.pet;null!=p&&(p.increaseHealth(c),this.logService.createLog({message:`${s.name} gained ${c} health.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:d.random}),this.triggerTigerExecution(e))}copy(e){return new T1(e,this.logService)}}class H4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Lizard Tail",this.tier=1,this.pack="Golden",this.hidden=!0,this.attack=3,this.health=1,this.initPet(o,r,a,s,l,c)}}class _1 extends S{constructor(e,t,i){super({name:"LizardAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=new H4(this.logService,this.abilityService,s.parent,null,null,0,s.minExpForLevel),l=s.parent.summonPetInFront(s,o);l.success&&this.logService.createLog({message:`${s.name} spawned Lizard Tail Level ${s.level}`,type:"ability",player:s.parent,tiger:r,randomEvent:l.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new _1(e,this.logService,this.abilityService)}}class C1 extends S{constructor(e,t){super({name:"SeaTurtleAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r,pteranodon:a}=e,s=this.owner,o=2*this.level,l=Zr(s,i);if(!l.pet)return;const c=l.pet;c.increaseHealth(o),ai(this.logService,s,`${s.name} gave ${c.name} ${o} health.`,r,a,{randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new C1(e,this.logService)}}class E1 extends S{constructor(e,t,i){super({name:"AfricanPenguinAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new E1(e,this.logService,this.abilityService)}}class x1 extends S{constructor(e,t){super({name:"MuskOxAbility",owner:e,triggers:["FriendAheadDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o={attack:s.level,health:2*s.level},l=s.parent.getThis(s),c=l.pet;null!=c&&(c.increaseAttack(o.attack),c.increaseHealth(o.health),this.logService.createLog({message:`${s.name} gave ${c.name} ${o.attack} attack and ${o.health} health.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e))}copy(e){return new x1(e,this.logService)}}class D1 extends S{constructor(e,t){super({name:"FleaAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.opponent.getPetsWithEquipment("Weak"),l=s.parent.opponent.getHighestHealthPets(this.level,o,s);for(let c of l.pets)this.logService.createLog({message:`${s.name} gave ${c.name} Weak.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:l.random}),c.givePetEquipment(new Ds);this.triggerTigerExecution(e)}copy(e){return new D1(e,this.logService)}}class L1 extends S{constructor(e,t){super({name:"SurgeonFishAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>!(this.owner.parent.trumpets<2),abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.nearestPetsBehind(2,s),l=o.pets;if(0==l.length)return;s.parent.spendTrumpets(2,s);let c=4*this.level;for(let d of l)d.increaseHealth(c),this.logService.createLog({message:`${s.name} gave ${d.name} ${c} health.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:o.random});this.triggerTigerExecution(e)}copy(e){return new L1(e,this.logService)}}class I1 extends S{constructor(e,t){super({name:"WeaselAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;this.logService.createLog({message:`${s.name} gained ${this.level} Gold.`,type:"ability",player:s.parent,tiger:r,pteranodon:a}),this.triggerTigerExecution(e)}copy(e){return new I1(e,this.logService)}}class G4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Weasel",this.tier=3,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new I1(this,this.logService)),super.initAbilities()}}class M1 extends S{constructor(e,t){super({name:"GuineafowlAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:a}=e,s=this.owner;let o=2*this.level;const l=s.parent.resolveTrumpetGainTarget(s);l.player.gainTrumpets(o,s,a,void 0,void 0,l.random),this.triggerTigerExecution(e)}copy(e){return new M1(e,this.logService)}}class R1 extends S{constructor(e,t){super({name:"Betta Fish Ability",owner:e,triggers:["FriendLostPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.targetedPets=new Set,this.logService=t}reset(){this.maxUses=this.level,this.targetedPets.clear(),super.reset()}executeAbility(e){const{triggerPet:i,tiger:r}=e,s=this.owner;!i||i==s||this.targetedPets.has(i)||(this.targetedPets.add(i),i.givePetEquipment(new mP),this.logService.createLog({message:`${s.name} gave ${i.name} Guava.`,type:"ability",player:s.parent,tiger:r}),this.triggerTigerExecution(e))}copy(e){return new R1(e,this.logService)}}class F1 extends S{constructor(e,t){super({name:"MeerkatAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:r,pteranodon:a}=e,s=this.owner;let o;o=s.parent==t.player?t.playerGoldSpent:t.opponentGoldSpent;let l=Math.floor(o/4)*this.level,c=s.parent.nearestPetsBehind(1,s),d=s.parent.nearestPetsAhead(1,s);if(d.pets.length>0){let p=d.pets[0];p.increaseAttack(l),this.logService.createLog({message:`${s.name} gave ${p.name} ${l} attack.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:d.random})}if(c.pets.length>0){let p=c.pets[0];p.increaseAttack(l),this.logService.createLog({message:`${s.name} gave ${p.name} ${l} attack.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:c.random})}this.triggerTigerExecution(e)}copy(e){return new F1(e,this.logService)}}function q4(n,e,t,i,r={}){n.createLog(Object.assign({message:i,type:"ability",player:e.parent,tiger:t.tiger,pteranodon:t.pteranodon},r))}function N1(n){var e;if(n.amount<=0)return;const t=null!==(e=n.message)&&void 0!==e?e:`${n.owner.name} gave ${n.target.name} +${n.amount} experience.`;q4(n.logService,n.owner,n.context,t,n.extras),n.target.increaseExp(n.amount)}class B1 extends S{constructor(e,t){super({name:"FlyingFishAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i}=e,s=this.owner,o=2*this.level,l=Zr(s,i);!l.pet||(N1({logService:this.logService,owner:s,context:e,target:l.pet,amount:o,extras:{randomEvent:l.random}}),this.triggerTigerExecution(e))}copy(e){return new B1(e,this.logService)}}class O1 extends S{constructor(e,t,i){super({name:"BaboonAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new O1(e,this.logService,this.abilityService)}}class $1 extends S{constructor(e,t,i){super({name:"OspreyAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;for(let o=0;o<s.level;o++){let l=new $4(this.logService,this.abilityService,s.parent,null,null,0,0),c=s.parent.summonPet(l,s.savedPosition,!1,s);c.success&&this.logService.createLog({message:`${s.name} summoned a 2/1 Groundhog`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:c.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new $1(e,this.logService,this.abilityService)}}class H1 extends S{constructor(e,t,i){super({name:"ManateeAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new H1(e,this.logService,this.abilityService)}}class G1 extends S{constructor(e,t){super({name:"CuttlefishAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.opponent.getLastPets(this.level,void 0,s),l=o.pets;if(0==l.length)return;for(let k of l)k.increaseHealth(-3),this.logService.createLog({message:`${s.name} reduced ${k.name} health by 3`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:o.random});let d=s.parent.opponent.getPetsWithEquipment("Inked"),p=s.parent.opponent.getLastPets(this.level,d,s),g=p.pets;if(0!=g.length){for(let k of g)k.givePetEquipment(new Gw),this.logService.createLog({message:`${s.name} gave ${k.name} Inked.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:p.random});this.triggerTigerExecution(e)}}copy(e){return new G1(e,this.logService)}}class q1 extends S{constructor(e,t){super({name:"EgyptianVultureAbility",owner:e,triggers:["ThisKilledEnemy"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.petArray.filter(d=>!d.isFaintPet()),l=s.parent.nearestPetsBehind(1,s,o),c=l.pets[0];this.logService.createLog({message:`${s.name} activated ${c.name}'s ability.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:l.random}),c.activateAbilities(void 0,t,"Pet"),this.triggerTigerExecution(e)}reset(){super.reset(),this.maxUses=this.level}copy(e){return new q1(e,this.logService)}}class V1 extends S{constructor(e,t,i){super({name:"SaigaAntelopeAbility",owner:e,triggers:["FriendDied2"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner,o=s.parent.resolveTrumpetGainTarget(s);o.player.gainTrumpets(3*this.level,s,a,void 0,void 0,o.random),this.logService.createLog({message:`${s.name} gave ${3*this.level} trumpets after a friend died.`,type:"ability",player:s.parent,tiger:r,pteranodon:a}),this.triggerTigerExecution(e)}copy(e){return new V1(e,this.logService,this.abilityService)}}class U1 extends S{constructor(e,t,i){super({name:"SealionAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new U1(e,this.logService,this.abilityService)}}class W1 extends S{constructor(e,t){super({name:"VaquitaAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:a}=e,s=this.owner;let o=Math.max(Math.floor(.5*this.level*s.parent.trumpets),4*this.level);const l=s.parent.resolveTrumpetGainTarget(s);l.player.gainTrumpets(o,s,a,void 0,void 0,l.random),this.triggerTigerExecution(e)}copy(e){return new W1(e,this.logService)}}class V4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Smallest Slug",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,r,a,s,l,c)}}class j1 extends S{constructor(e,t,i){super({name:"SmallerSlugAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=new V4(this.logService,this.abilityService,s.parent,null,null,0,s.minExpForLevel),l=s.parent.summonPet(o,s.savedPosition,!1,s);l.success&&this.logService.createLog({message:`${s.name} spawned Smallest Slug Level ${s.level}`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:l.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new j1(e,this.logService,this.abilityService)}}class U4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Smaller Slug",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=2,this.attack=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new j1(this,this.logService,this.abilityService)),super.initAbilities()}}class z1 extends S{constructor(e,t,i){super({name:"SlugAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=new U4(this.logService,this.abilityService,s.parent,null,null,0,s.minExpForLevel),l=s.parent.summonPet(o,s.savedPosition,!1,s);l.success&&this.logService.createLog({message:`${s.name} spawned Smaller Slug Level ${s.level}`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:l.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new z1(e,this.logService,this.abilityService)}}class K1 extends S{constructor(e,t){super({name:"PoisonDartFrogAbility",owner:e,triggers:["FriendAheadDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.opponent.getHighestHealthPet(void 0,s),l=o.pet;null!=l&&(s.snipePet(l,4*s.level,o.random,r),this.triggerTigerExecution(e))}copy(e){return new K1(e,this.logService)}}class Y1 extends S{constructor(e,t){super({name:"SecretaryBirdAbility",owner:e,triggers:["FriendDied2"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.abilityUses=0,this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.nearestPetsAhead(1,s);if(0===o.pets.length)return;let l=o.pets[0],c=3*this.level,d=4*this.level;l.increaseAttack(c),l.increaseHealth(d),this.logService.createLog({message:`${s.name} gave ${l.name} ${c} attack and ${d} health.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:o.random}),this.triggerTigerExecution(e),this.logService.createLog({message:`${s.name} triggered secretary bird ability at level ${this.level}.`,type:"ability",player:s.parent,tiger:r,pteranodon:a})}copy(e){return new Y1(e,this.logService)}}class Q1 extends S{constructor(e,t){super({name:"RoyalFlycatcherAbility",owner:e,triggers:["EnemyFaint3"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=4*this.level,l=s.parent.opponent.getRandomPet([],null,!0,null,s),c=l.pet;null!=c&&(s.snipePet(c,o,l.random,r),this.triggerTigerExecution(e))}copy(e){return new Q1(e,this.logService)}}class Z1 extends S{constructor(e,t,i,r){super({name:"FalconAbility",owner:e,triggers:["ThisKilledEnemy"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.petService=i,this.abilityService=r}executeAbility(e){const{triggerPet:i,tiger:r}=e,s=this.owner;let o=3*this.level,l=this.petService.createPet({attack:o,health:o,name:i.name,exp:s.minExpForLevel,equipment:null,mana:0},s.parent),c=s.parent.summonPet(l,s.savedPosition,!1,s);c.success&&this.logService.createLog({message:`${s.name} spawned ${l.name} ${o}/${o} Level ${this.level}`,type:"ability",player:s.parent,tiger:r,randomEvent:c.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Z1(e,this.logService,this.petService,this.abilityService)}}class J1 extends y{constructor(e,t,i,r,a,s,o,l,c,d){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="Falcon",this.tier=4,this.pack="Golden",this.attack=5,this.health=5,this.initPet(l,a,s,o,c,d)}initAbilities(){this.addAbility(new Z1(this,this.logService,this.petService,this.abilityService)),super.initAbilities()}}class X1 extends S{constructor(e,t,i){super({name:"MantaRayAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new X1(e,this.logService,this.abilityService)}}class eC extends S{constructor(e,t,i){super({name:"MacaqueAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=12*this.level,l=new B4(this.logService,this.abilityService,s.parent,o,o,0,s.minExpForLevel,s.equipment),c=s.parent.summonPetInFront(s,l);if(c.success){let d=`${s.name} spawned Orangutan ${l.attack}/${l.health}`;null!=s.equipment&&(d+=` with ${s.equipment.name}`),d+=".",this.logService.createLog({message:d,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:c.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new eC(e,this.logService,this.abilityService)}}class tC extends S{constructor(e,t){super({name:"NyalaAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:a}=e,s=this.owner,o=s.parent.resolveTrumpetGainTarget(s);o.player.gainTrumpets(8*this.level,s,a,void 0,void 0,o.random),this.triggerTigerExecution(e)}copy(e){return new tC(e,this.logService)}}class iC extends S{constructor(e,t){super({name:"NurseSharkAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>0!=this.owner.parent.trumpets,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=3*Math.min(s.parent.trumpets,6),l=s.parent.opponent.getRandomPets(this.level,[],!1,!0,s),c=l.pets;if(0!=c.length){s.parent.spendTrumpets(Math.min(s.parent.trumpets,6),s,a);for(let d of c)s.snipePet(d,o,l.random,r,a);this.triggerTigerExecution(e)}}copy(e){return new iC(e,this.logService)}}class nC extends S{constructor(e,t,i,r){super({name:"BelugaWhaleAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)},ignoreRepeats:!0}),this.logService=t,this.abilityService=i,this.petService=r}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;if(null==s.belugaSwallowedPet||s.alive)return;let o=this.petService.createPet({attack:null,equipment:null,exp:s.minExpForLevel,health:null,name:s.belugaSwallowedPet,mana:0},s.parent),l=s.parent.summonPet(o,s.savedPosition,!1,s);l.success&&this.logService.createLog({message:`${s.name} spawned ${o.name} Level ${s.level}`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:l.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new nC(e,this.logService,this.abilityService,this.petService)}}class qy extends y{constructor(e,t,i,r,a,s,o,l,c,d,p){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="Beluga Whale",this.tier=5,this.pack="Golden",this.attack=3,this.health=8,this.initPet(l,a,s,o,c,d),this.belugaSwallowedPet=p}initAbilities(){this.addAbility(new nC(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class rC extends S{constructor(e,t,i,r){super({name:"WolfAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=i,this.petService=r}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o={attack:3*this.level,health:2*this.level};for(let l=0;l<3;l++){let c=this.petService.createPet({attack:o.attack,equipment:null,exp:s.minExpForLevel,health:o.health,name:"Pig",mana:0},s.parent),d=s.parent.summonPet(c,s.savedPosition,!1,s);d.success&&this.logService.createLog({message:`${s.name} spawned ${c.name} ${o.attack}/${o.health}`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:d.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new rC(e,this.logService,this.abilityService,this.petService)}}class sC extends y{constructor(e,t,i,r,a,s,o,l,c,d){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="Wolf",this.tier=5,this.pack="Golden",this.attack=4,this.health=4,this.initPet(l,a,s,o,c,d)}initAbilities(){this.addAbility(new rC(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class aC extends S{constructor(e,t){super({name:"Silver Fox Ability",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){var t;const i=this.owner,r=this.level,a=i.parent;a.gold=(null!==(t=a.gold)&&void 0!==t?t:0)+r,this.logService.createLog({message:`${i.name} gave ${r} gold to the owner.`,type:"ability",player:i.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new aC(e,this.logService)}}class oC extends S{constructor(e,t){super({name:"FireAntAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.getHighestTierPets(this.level,null,s),l=o.pets;if(0!=l.length){for(let c of l)c.increaseAttack(s.attack),this.logService.createLog({message:`${s.name} gave ${c.name} ${s.attack} attack.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random,pteranodon:a});this.triggerTigerExecution(e)}}copy(e){return new oC(e,this.logService)}}class lC extends S{constructor(e,t,i){super({name:"CockatooAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new lC(e,this.logService,this.abilityService)}}class cC extends S{constructor(e,t,i){super({name:"BlueRingedOctopusAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new cC(e,this.logService,this.abilityService)}}class uC extends S{constructor(e,t){super({name:"CraneAbility",owner:e,triggers:["FriendAheadHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.nearestPetsAhead(1,s);if(0==o.pets.length)return;let l=o.pets[0];l.increaseAttack(5),this.logService.createLog({message:`${s.name} gave ${l.name} 5 attack.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:o.random});let c=s.parent.nearestPetsAhead(1,s);if(0==c.pets.length)return;let d=c.pets[0];d.givePetEquipment(new xs),this.logService.createLog({message:`${s.name} gave ${d.name} Melon.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:c.random}),this.triggerTigerExecution(e)}reset(){super.reset(),this.maxUses=this.level}copy(e){return new uC(e,this.logService)}}class hC extends S{constructor(e,t){super({name:"EmuAbility",owner:e,triggers:["ClearFront"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.nearestPetsAhead(1,s);if(0==o.pets.length)return;let l=o.pets[0],c=4*this.level;l.increaseHealth(c),this.logService.createLog({message:`${s.name} gave ${l.name} ${c} health.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:o.random});let d=s.parent.nearestPetsAhead(1,s);if(0===d.pets.length)return;let p=d.pets[0];s.parent.pushPetToFront(p),this.logService.createLog({message:`${s.name} pushed ${p.name} to the front.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new hC(e,this.logService)}}class dC extends S{constructor(e,t){super({name:"WildebeestAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:i=>this.owner.parent.trumpets>=2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.getThis(s),l=o.pet;null!=l&&(l.givePetEquipment(new ga),this.logService.createLog({message:`${s.name} gave itself a Coconut.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:o.random}),s.parent.spendTrumpets(2,s),this.triggerTigerExecution(e))}reset(){super.reset(),this.maxUses=this.level}copy(e){return new dC(e,this.logService)}}class pC extends S{constructor(e,t){super({name:"HighlandCowAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:a}=e,s=this.owner;let o=4*this.level+Math.floor(s.health/3*this.level);const l=s.parent.resolveTrumpetGainTarget(s);l.player.gainTrumpets(o,s,a,void 0,void 0,l.random),this.triggerTigerExecution(e)}copy(e){return new pC(e,this.logService)}}class mC extends S{constructor(e,t,i){super({name:"CatfishAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new mC(e,this.logService,this.abilityService)}}class gC extends S{constructor(e,t,i,r){super({name:"PteranodonAbility",owner:e,triggers:["FriendDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:a=>{const{triggerPet:s}=a;return null!=s},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=i,this.petService=r}executeAbility(e){const{triggerPet:i,tiger:r,pteranodon:a}=e,s=this.owner;let o=this.petService.createPet({attack:1,health:1,equipment:null,exp:i.exp,name:i.name,mana:0},s.parent),l=s.parent.summonPetBehind(s,o);l.success&&this.logService.createLog({message:`${s.name} summoned a 1/1 ${i.name} behind it.`,type:"ability",player:s.parent,randomEvent:l.randomEvent,tiger:r,pteranodon:a}),this.triggerTigerExecution(e)}reset(){super.reset(),this.maxUses=this.level}copy(e){return new gC(e,this.logService,this.abilityService,this.petService)}}class fC extends y{constructor(e,t,i,r,a,s,o,l,c,d){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="Pteranodon",this.tier=6,this.pack="Golden",this.attack=3,this.health=5,this.initPet(l,a,s,o,c,d)}initAbilities(){this.addAbility(new gC(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class yC extends S{constructor(e,t){super({name:"WarthogAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=this.level,l=Math.floor(s.attack/3);for(let c=0;c<l;c++){let d=s.parent.getRandomPet([],!0,!1,!0,s);if(null==d.pet)break;d.pet.increaseAttack(o),d.pet.increaseHealth(o),this.logService.createLog({message:`${s.name} gave ${d.pet.name} ${o} attack and ${o} health.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:d.random})}this.triggerTigerExecution(e)}copy(e){return new yC(e,this.logService)}}class vC extends S{constructor(e,t){super({name:"CobraAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.opponent.getRandomPet([],!1,!0,!1,s);if(null==o.pet)return;let l=Math.floor(.2*s.attack*s.level);s.snipePet(o.pet,l,o.random,r),this.triggerTigerExecution(e)}copy(e){return new vC(e,this.logService)}}class bC extends S{constructor(e,t){super({name:"GrizzlyBearAbility",owner:e,triggers:["FriendlyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.opponent.getRandomPets(2,[],!0,!1,s),l=o.pets,c=6*this.level;for(let d of l)s.snipePet(d,c,o.random,r);this.triggerTigerExecution(e)}copy(e){return new bC(e,this.logService)}}class AC extends S{constructor(e,t){super({name:"GermanShepherdAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r,pteranodon:a}=e,s=this.owner;let o=Math.floor(s.attack*s.level*.25);const l=Zr(s,i);if(!l.pet)return;const c=l.pet;c.increaseAttack(o),ai(this.logService,s,`${s.name} gave ${c.name} ${o} attack.`,r,a,{randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new AC(e,this.logService)}}class kC extends S{constructor(e,t,i){super({name:"BirdOfParadiseAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new kC(e,this.logService,this.abilityService)}}class SC extends S{constructor(e,t,i){super({name:"OysterAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new SC(e,this.logService,this.abilityService)}}class PC extends S{constructor(e,t){super({name:"RockhopperPenguinAbility",owner:e,triggers:["ClearFront"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:1,condition:()=>null==e.parent.pet0,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=r.parent.getThis(r),s=a.pet;if(!s)return void this.triggerTigerExecution(e);r.parent.pushPetToFront(s,!0);const o=12*this.level,l=r.parent.resolveTrumpetGainTarget(r);l.player.gainTrumpets(o,r,i,void 0,void 0,l.random),this.logService.createLog({message:`${r.name} jumped to the front and gained +${o} trumpets.`,type:"ability",player:r.parent,tiger:t,pteranodon:i,randomEvent:a.random}),this.triggerTigerExecution(e)}copy(e){return new PC(e,this.logService)}}class wC extends S{constructor(e,t,i){super({name:"LoyalChinchillaAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new wC(e,this.logService,this.abilityService)}}class TC extends S{constructor(e,t,i){super({name:"MarmosetAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new TC(e,this.logService,this.abilityService)}}class _C extends S{constructor(e,t,i){super({name:"Jerboa Ability",owner:e,triggers:["AppleEatenByThis"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.lastTriggeredTurn=null,this.logService=t,this.abilityService=i}executeAbility(e){var t;const{tiger:i,pteranodon:r,gameApi:a}=e,s=this.owner,o=null!==(t=null==a?void 0:a.turnNumber)&&void 0!==t?t:null;if(null!=o&&this.lastTriggeredTurn===o)return void this.triggerTigerExecution(e);this.lastTriggeredTurn=o;const l=this.level,c=s.parent,d=c.petArray.filter(p=>p&&p.alive&&p!==s);if(0!==d.length){for(const p of d)p.increaseAttack(l),p.increaseHealth(l);this.logService.createLog({message:`${s.name} ate an apple and gave friendly pets +${l}/+${l}.`,type:"ability",player:c,tiger:i,pteranodon:r}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new _C(e,this.logService,this.abilityService)}}class CC extends S{constructor(e,t){super({name:"FrilledDragonAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=0;for(let l of s.parent.petArray)l!==s&&l.isFaintPet()&&o++;o*=this.level,s.increaseAttack(o),s.increaseHealth(o),this.logService.createLog({message:`${s.name} gained ${o} attack and ${o} health.`,type:"ability",player:s.parent,tiger:r,pteranodon:a}),this.triggerTigerExecution(e)}copy(e){return new CC(e,this.logService)}}class EC extends S{constructor(e,t){super({name:"FrigatebirdAbility",owner:e,triggers:["FriendGainsAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){var t;const{triggerPet:r}=e,o=this.owner,l=null==r?void 0:r.equipment;!l||!(null===(t=l.equipmentClass)||void 0===t?void 0:t.startsWith("ailment"))||(r.removePerk(),r.givePetEquipment(new Rw),this.logService.createLog({message:`${o.name} removed ${l.name} from ${r.name} and gave ${r.name} Rice.`,type:"ability",player:o.parent}),this.triggerTigerExecution(e))}reset(){this.maxUses=this.level,super.reset()}copy(e){return new EC(e,this.logService)}}class xC extends S{constructor(e,t,i){super({name:"BearAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner,o=this.level,l=s.savedPosition,c=[];for(const d of s.parent.petArray)if(d.alive){const p=Math.abs(d.position-l);p>0&&p<=o&&c.push(d)}for(const d of s.parent.opponent.petArray)d.alive&&l+d.position+1<=o&&c.push(d);for(let d of c)d.givePetEquipment(new f4(this.logService,this.abilityService)),this.logService.createLog({message:`${s.name} gave ${d.name} Honey.`,type:"ability",player:s.parent,tiger:r,pteranodon:a});this.triggerTigerExecution(e)}copy(e){return new xC(e,this.logService,this.abilityService)}}class DC extends S{constructor(e,t){super({name:"Porcupine Ability",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{triggerPet:t}=e,i=this.owner;if(t&&t.alive&&t.parent!==i.parent){const r=3*this.level;i.dealDamage(t,r),this.logService.createLog({message:`${i.name} reflected ${r} damage to ${t.name}.`,type:"ability",player:i.parent})}this.triggerTigerExecution(e)}copy(e){return new DC(e,this.logService)}}class LC extends S{constructor(e,t){super({name:"Wasp Ability",owner:e,triggers:["ShopUpgrade"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,r=Math.floor(t.attack*(.5*this.level));r>0&&(t.increaseAttack(r),this.logService.createLog({message:`${t.name} gained +${r} attack from Shop Upgrade.`,type:"ability",player:t.parent}))}copy(e){return new LC(e,this.logService)}}class IC extends S{constructor(e,t){super({name:"DragonflyAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=this.level,r=t.parent.petArray.filter(s=>s&&s.alive&&s!==t),a=new Map;for(const s of r)a.has(s.level)||a.set(s.level,s);if(0!==a.size){for(const s of a.values())s.increaseAttack(i),s.increaseHealth(i);this.logService.createLog({message:`${t.name} gave friends +${i}/+${i} based on unique levels.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new IC(e,this.logService)}}class MC extends S{constructor(e,t){super({name:"Lynx Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=r.parent.petArray.reduce((l,c)=>{var d;return l+(null!==(d=null==c?void 0:c.level)&&void 0!==d?d:0)},0);if(a<=0)return void this.triggerTigerExecution(e);const s=this.level,o=[];for(let l=0;l<s;l++){const c=r.parent.opponent.getRandomPet(o,!1,!1,!1,r);if(!c.pet)break;o.push(c.pet),r.snipePet(c.pet,a,c.random)}this.logService.createLog({message:`${r.name} dealt ${a} damage to ${o.length} enemy${1===o.length?"":"ies"}.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new MC(e,this.logService)}}class RC extends S{constructor(e,t){super({name:"SeagullAbility",owner:e,triggers:["FriendSummoned","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.usesThisTurn=0,this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:r,trigger:a}=e,s=this.owner;if("StartTurn"===a)return void(this.usesThisTurn=0);const o=Zr(s,t);if(!o.pet||!s.equipment||this.usesThisTurn>=this.level)return void this.triggerTigerExecution(e);const l=Je.getInjector().get(Dt),c=s.equipment,d=l.getInstanceOfAllEquipment().get(c.name);if(!d)return void this.triggerTigerExecution(e);const p=o.pet;p.givePetEquipment(d),this.usesThisTurn++,ai(this.logService,s,`${s.name} gave ${p.name} a ${c.name}`,i,r,{randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new RC(e,this.logService)}}class FC extends y{constructor(e,t,i,r,a,s,o,l,c,d,p){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=i,this.gameService=r,this.name="Seagull",this.tier=4,this.pack="Custom",this.attack=4,this.health=3,this.initPet(c,s,o,l,d,p)}initAbilities(){this.addAbility(new RC(this,this.logService)),super.initAbilities()}}class NC extends S{constructor(e,t){super({name:"AlpacaAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:i=>{const{triggerPet:r}=i;return r&&!(r instanceof W4)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}reset(){this.maxUses=this.level,super.reset()}executeAbility(e){const{triggerPet:i}=e,s=this.owner,o=Zr(s,i);!o.pet||(N1({logService:this.logService,owner:s,context:e,target:o.pet,amount:3,extras:{randomEvent:o.random}}),this.triggerTigerExecution(e))}copy(e){return new NC(e,this.logService)}}class W4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Alpaca",this.tier=6,this.pack="Star",this.attack=3,this.health=7,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new NC(this,this.logService)),super.initAbilities()}}class BC extends S{constructor(e,t){super({name:"HyenaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:r,pteranodon:a}=e;switch(this.level){case 1:this.level1Ability(t,r,a);break;case 2:this.level2Ability(t,r,a);break;case 3:this.level3Ability(t,r,a)}this.triggerTigerExecution(e)}level1Ability(e,t,i){const r=this.owner;let a=r.parent.getAll(!0,r);for(let s of a.pets){let o=s.health;s.health=s.attack,s.attack=o}this.logService.createLog({message:`${r.name} swapped all pets attack and health.`,type:"ability",player:r.parent,tiger:t,pteranodon:i})}level2Ability(e,t,i){const r=this.owner;this.shufflePets(e.player),this.shufflePets(e.opponent),this.logService.createLog({message:`${r.name} shuffled positions of all pets.`,type:"ability",player:r.parent,tiger:t,pteranodon:i,randomEvent:!0})}level3Ability(e,t,i){this.level1Ability(e,t,i),this.level2Ability(e,t,i)}shufflePets(e){let t=e.petArray;pa(t);for(let i=0;i<t.length;i++)e[`pet${i}`]=t[i]}copy(e){return new BC(e,this.logService)}}class OC extends S{constructor(e,t,i){super({name:"Moose Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){var t,i,r;const a=this.owner,s=e.gameApi,o=null!==(r=null===(i=null===(t=null==s?void 0:s.playerPetPool)||void 0===t?void 0:t.get(1))||void 0===i?void 0:i.length)&&void 0!==r?r:0;if(0===o)return void this.triggerTigerExecution(e);const c=3*this.level*o,d=a.parent.getRandomPets(1,[a],!1,!1,a),p=d.pets[0];p?(p.increaseHealth(c),this.logService.createLog({message:`${a.name} gave ${p.name} +${c} health from ${o} Tier 1 shop pets.`,type:"ability",player:a.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:d.random}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new OC(e,this.logService,this.abilityService)}}class $C extends S{constructor(e,t){super({name:"LionessAbility",owner:e,triggers:["StartTurn","FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.usesThisTurn=0,this.logService=t}executeAbility(e){var t,i,r;const a=this.owner,{trigger:s,triggerPet:o,tiger:l,pteranodon:c}=e;if("StartTurn"===s)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if("FriendSold"!==s)return void this.triggerTigerExecution(e);if(this.usesThisTurn>=2)return void this.triggerTigerExecution(e);this.usesThisTurn++;const d=null!==(t=null==o?void 0:o.tier)&&void 0!==t?t:a.tier,p="futureShopBuffs",g=null!==(i=a.parent[p])&&void 0!==i?i:new Map,k=null!==(r=g.get(d))&&void 0!==r?r:{attack:0,health:0};k.attack+=this.level,k.health+=this.level,g.set(d,k),a.parent[p]=g,this.logService.createLog({message:`${a.name} gave future tier ${d} shop pets +${this.level}/+${this.level} (uses ${this.usesThisTurn}/2 this turn).`,type:"ability",player:a.parent,tiger:l,pteranodon:c}),this.triggerTigerExecution(e)}copy(e){return new $C(e,this.logService)}}class HC extends S{constructor(e,t,i){super({name:"GoblinSharkStartAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=6*this.level;for(let l of s.parent.opponent.petArray)if(l.alive&&l.health<=o){let c=this.petService.createPet({name:l.name,attack:l.attack,health:l.health,exp:l.exp,equipment:null,mana:0},s.parent);s.swallowedPets.push(c),l.health=0,this.logService.createLog({message:`${s.name} swallowed ${l.name}`,type:"ability",player:s.parent,tiger:r,pteranodon:a});break}this.triggerTigerExecution(e)}copy(e){return new HC(e,this.logService,this.petService)}}class GC extends S{constructor(e,t,i){super({name:"GoblinSharkFaintAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:r=>this.owner.alive,abilityFunction:r=>{this.executeAbility(r)},ignoreRepeats:!0}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;for(;s.swallowedPets.length>0;){let o=s.swallowedPets.shift();o.health=1;let l=s.parent.summonPet(o,s.savedPosition,!1,s);l.success&&this.logService.createLog({message:`${s.name} summoned ${o.name} (level ${o.level}).`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:l.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new GC(e,this.logService,this.abilityService)}}class qC extends y{constructor(e,t,i,r,a,s,o,l,c,d){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="Goblin Shark",this.tier=4,this.pack="Custom",this.attack=6,this.health=3,this.initPet(l,a,s,o,c,d)}initAbilities(){this.addAbility(new HC(this,this.logService,this.petService)),this.addAbility(new GC(this,this.logService,this.abilityService)),super.initAbilities()}}class VC extends S{constructor(e,t,i){super({name:"Red Lipped Batfish Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=r.parent.opponent;if(!a)return void this.triggerTigerExecution(e);const s=a.getPetAtPosition(r.position);if(!s||!s.alive)return void this.triggerTigerExecution(e);const o=Math.max(1,4-this.level),l=this.petService.getRandomFaintPet(a,o);a.transformPet(s,l),this.logService.createLog({message:`${r.name} transformed ${s.name} into ${l.name} (tier ${o}).`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new VC(e,this.logService,this.petService)}}class UC extends y{constructor(e,t,i,r,a,s,o,l,c,d){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="Red Lipped Batfish",this.tier=4,this.pack="Custom",this.attack=5,this.health=3,this.initPet(l,a,s,o,c,d)}initAbilities(){this.addAbility(new VC(this,this.logService,this.petService)),super.initAbilities()}}class WC extends S{constructor(e,t,i,r){super({name:"KappaAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=i,this.petService=r}executeAbility(e){const{gameApi:t,tiger:r,pteranodon:a}=e,s=this.owner;let l=(s.parent==t.player?t.playerPetPool:t.opponentPetPool).get(3);for(let c=0;c<s.level;c++){let d=l[Math.floor(Math.random()*l.length)],p=l[Math.floor(Math.random()*l.length)],g=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:d},s.parent);s.parent.summonPet(g,s.savedPosition,!1,s).success&&this.logService.createLog({message:`${s.name} spawned a ${g.name} (14/16).`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:!0});let T=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:p},s.parent.opponent);s.parent.opponent.summonPet(T,s.savedPosition,!1,s).success&&this.logService.createLog({message:`${s.name} spawned a ${T.name} (14/16) for the opponent.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:!0})}this.triggerTigerExecution(e)}copy(e){return new WC(e,this.logService,this.abilityService,this.petService)}}class jC extends y{constructor(e,t,i,r,a,s,o,l,c,d){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="Kappa",this.tier=5,this.pack="Custom",this.attack=4,this.health=5,this.initPet(l,a,s,o,c,d)}initAbilities(){this.addAbility(new WC(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class zC extends S{constructor(e,t,i){super({name:"AbominationAbility",owner:e,triggers:["EndTurn","SpecialEndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.petService=i}executeAbility(e){const s=this.owner;let o=[],l=!1,c=!1,d=!1;const p=this.level;for(let g=0;g<p;g++)null==s.abominationSwallowedPet1||l?null==s.abominationSwallowedPet2||c?null!=s.abominationSwallowedPet3&&!d&&(o.push(s.abominationSwallowedPet3),d=!0):(o.push(s.abominationSwallowedPet2),c=!0):(o.push(s.abominationSwallowedPet1),l=!0);for(let g of o){let k=this.petService.createPet({attack:null,health:null,mana:null,equipment:null,name:g,exp:0},s.parent);if(!k)return;this.logService.createLog({message:`${s.name} gained ${g}'s Ability.`,type:"ability",player:s.parent}),s.removeAbility("AbominationAbility"),s.gainAbilities(k,"Pet",1)}this.triggerTigerExecution(e)}copy(e){return new zC(e,this.logService,this.petService)}}class Vy extends y{constructor(e,t,i,r,a,s,o,l,c,d,p,g,k){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="Abomination",this.tier=4,this.pack="Unicorn",this.attack=6,this.health=5,this.initPet(l,a,s,o,c,d),this.abominationSwallowedPet1=p,this.abominationSwallowedPet2=g,this.abominationSwallowedPet3=k}initAbilities(){this.addAbility(new zC(this,this.logService,this.petService)),super.initAbilities()}}class KC extends S{constructor(e,t,i){super({name:"IriomoteCatAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.petService=i}executeAbility(e){var t,i;const l=this.owner,c=null!==(i=null!==(t=Ep.iriomoteCat[this.level])&&void 0!==t?t:this.petService.allPets.get(this.level))&&void 0!==i?i:[];if(0===c.length)return;let p=c[_t(0,c.length-1)],g=this.petService.createPet({name:p,attack:l.attack,health:l.health,exp:0,equipment:l.equipment,mana:l.mana},l.parent);this.logService.createLog({message:`${l.name} transformed into a ${p} (Level ${g.level}).`,type:"ability",player:l.parent,randomEvent:!0}),l.parent.transformPet(l,g),this.triggerTigerExecution(e)}copy(e){return new KC(e,this.logService,this.petService)}}class YC extends y{constructor(e,t,i,r,a,s,o,l,c,d){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="Iriomote Cat",this.tier=1,this.pack="Danger",this.attack=2,this.health=2,this.initPet(l,a,s,o,c,d)}initAbilities(){this.addAbility(new KC(this,this.logService,this.petService)),super.initAbilities()}}class QC extends S{constructor(e,t,i,r){super({name:"TakhiAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=i,this.petService=r}executeAbility(e){const{gameApi:t,tiger:r,pteranodon:a}=e,s=this.owner;let c=this.petService.createPet({name:"African Wild Dog",attack:3*this.level,health:2*this.level,exp:0,mana:0,equipment:null},s.parent);if(c){let d=s.parent.summonPet(c,s.savedPosition,!1,s);d.success&&(this.logService.createLog({message:`${s.name} summoned a ${c.attack}/${c.health} ${c.name}`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:d.randomEvent}),c.activateAbilities("StartBattle",t,"Pet"))}this.triggerTigerExecution(e)}copy(e){return new QC(e,this.logService,this.abilityService,this.petService)}}class ZC extends y{constructor(e,t,i,r,a,s,o,l,c,d){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="Takhi",this.tier=2,this.pack="Danger",this.attack=2,this.health=2,this.initPet(l,a,s,o,c,d)}initAbilities(){this.addAbility(new QC(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class JC extends S{constructor(e,t,i){super({name:"RolowayMonkeyAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.nearestPetsAhead(2,s);if(0===o.pets.length)return;const l=Ep.rolowayMonkey;for(let c of o.pets){let d=Math.floor(Math.random()*l.length),g=this.petService.createPet({name:l[d],health:c.health,attack:c.attack,mana:c.mana,exp:s.exp,equipment:c.equipment},s.parent);s.parent.transformPet(c,g),this.logService.createLog({message:`${s.name} transformed ${c.name} into a ${g.attack}/${g.health} ${g.name}.`,type:"ability",player:s.parent,tiger:r,randomEvent:!0})}this.triggerTigerExecution(e)}copy(e){return new JC(e,this.logService,this.petService)}}class XC extends y{constructor(e,t,i,r,a,s,o,l,c,d){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="Roloway Monkey",this.tier=3,this.pack="Danger",this.attack=2,this.health=5,this.initPet(l,a,s,o,c,d)}initAbilities(){this.addAbility(new JC(this,this.logService,this.petService)),super.initAbilities()}}class eE extends y{constructor(e,t,i,r,a,s,o,l,c,d){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="Bonobo",this.tier=4,this.pack="Danger",this.attack=3,this.health=3,this.initPet(l,a,s,o,c,d)}}class tE extends S{constructor(e,t,i){super({name:"GoldenTamarinAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:r}=e,s=this.owner;let l=s.parent.getThis(s).pet;if(!l)return;const c=Ep.goldenTamarin;let d=Math.floor(Math.random()*c.length),g=this.petService.createPet({name:c[d],health:l.health,attack:l.attack,mana:l.mana,exp:l.exp,equipment:l.equipment},s.parent);s.parent.transformPet(l,g),this.logService.createLog({message:`${s.name} transformed ${l.name} into a ${g.attack}/${g.health} ${g.name}.`,type:"ability",player:s.parent,tiger:r,randomEvent:!0}),this.triggerTigerExecution(e)}copy(e){return new tE(e,this.logService,this.petService)}}class iE extends y{constructor(e,t,i,r,a,s,o,l,c,d){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="Golden Tamarin",this.tier=4,this.pack="Danger",this.attack=4,this.health=4,this.initPet(l,a,s,o,c,d)}initAbilities(){this.addAbility(new tE(this,this.logService,this.petService)),super.initAbilities()}}class nE extends S{constructor(e,t){super({name:"CaliforniaCondorAbility",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,s=this.owner;let o=i;!o||(this.logService.createLog({message:`California Condor copied ${o.name}'s level ${s.level} ability`,type:"ability",player:s.parent,tiger:r}),s.gainAbilities(o,"Pet"),this.triggerTigerExecution(e))}copy(e){return new nE(e,this.logService)}}class rE extends y{constructor(e,t,i,r,a,s,o,l,c,d){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="California Condor",this.tier=6,this.pack="Danger",this.attack=10,this.health=6,this.initPet(l,a,s,o,c,d)}initAbilities(){this.addAbility(new nE(this,this.logService)),super.initAbilities()}}class sE extends S{constructor(e,t,i){super({name:"SilkySifakaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=["Mammoth","Lionfish","Orca","Sabertooth Tiger","Warthog","Hydra","Phoenix","Bay Cat","Walrus","Ammonite"],c=s.parent.nearestPetsBehind(2,s).pets;for(let d of c){let p=o[Math.floor(Math.random()*o.length)],g=this.petService.createPet({name:p,attack:d.attack,health:d.health,mana:d.mana,exp:s.minExpForLevel,equipment:d.equipment},s.parent);s.parent.transformPet(d,g),this.logService.createLog({message:`${s.name} transformed ${d.name} into level ${s.level} ${g.name}`,type:"ability",player:s.parent,tiger:r,randomEvent:!0})}this.triggerTigerExecution(e)}copy(e){return new sE(e,this.logService,this.petService)}}class aE extends y{constructor(e,t,i,r,a,s,o,l,c,d){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="Silky Sifaka",this.tier=6,this.pack="Danger",this.attack=4,this.health=6,this.initPet(l,a,s,o,c,d)}initAbilities(){this.addAbility(new sE(this,this.logService,this.petService)),super.initAbilities()}}class oE extends S{constructor(e,t,i,r){super({name:"BayCatAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.petService=i,this.abilityService=r}executeAbility(e){const{gameApi:t,tiger:r,pteranodon:a}=e,s=this.owner;let o=Ep.bayCat;for(let l=0;l<s.level;l++){let c=o[Math.floor(Math.random()*o.length)],d=this.petService.createPet({name:c,attack:null,health:null,equipment:null,mana:0,exp:0},s.parent);s.parent.summonPet(d,s.savedPosition,!1,s).success&&(this.logService.createLog({message:`${s.name} summoned ${d.name}`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:!0}),d.hasAbility("StartBattle")&&(this.logService.createLog({message:`${d.name} activated its start of battle ability`,type:"ability",player:s.parent,tiger:r,pteranodon:a}),d.activateAbilities("StartBattle",t,"Pet")))}this.triggerTigerExecution(e)}copy(e){return new oE(e,this.logService,this.petService,this.abilityService)}}class lE extends y{constructor(e,t,i,r,a,s,o,l,c,d){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="Bay Cat",this.tier=6,this.pack="Danger",this.attack=7,this.health=5,this.initPet(l,a,s,o,c,d)}initAbilities(){this.addAbility(new oE(this,this.logService,this.petService,this.abilityService)),super.initAbilities()}}class cE extends S{constructor(e,t){super({name:"GoodDogAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.getAll(!0,s),l=o.pets;if(0===l.length)return;let c=Je.getInjector().get(Dt).getInstanceOfAllEquipment(),d=Array.from(c.values());for(let p of l){if(!p.alive)continue;let g=d[Math.floor(Math.random()*d.length)];this.logService.createLog({message:`${s.name} gave ${p.name} ${g.name}`,type:"ability",player:s.parent,randomEvent:o.random,tiger:r}),p.givePetEquipment(g)}this.triggerTigerExecution(e)}copy(e){return new cE(e,this.logService)}}class uE extends y{constructor(e,t,i,r,a,s,o,l,c,d,p){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=i,this.gameService=r,this.name="Good Dog",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=3,this.hidden=!0,this.initPet(c,s,o,l,d,p)}initAbilities(){this.addAbility(new cE(this,this.logService)),super.initAbilities()}}class j4 extends S{constructor(e){var t;super({name:e.name,owner:e.owner,triggers:e.triggers,abilityType:"Pet",maxUses:e.maxUses,abilitylevel:e.abilityLevel,native:null===(t=e.native)||void 0===t||t,ignoreRepeats:e.ignoreRepeats,alwaysIgnorePetLevel:e.alwaysIgnorePetLevel,condition:e.condition,abilityFunction:i=>{this.executeAbility(i)}})}}class hE extends j4{constructor(e,t,i){super({owner:e,name:"AmmoniteAbility",triggers:["BeforeThisDies"]}),this.logService=t,this.petService=i}executeAbility(e){const{gameApi:t}=e,s=this.owner;let o=s.parent.nearestPetsBehind(1,s);if(0===o.pets.length)return;let l=o.pets[0],d=Math.floor((s.parent===t.player?t.playerRollAmount:t.opponentRollAmount)/2)*this.level,p=this.petService.createPet({name:"Mimic Octopus",attack:l.attack,health:l.health,equipment:l.equipment,mana:l.mana,exp:null},s.parent);!function nQ(n){q4(n.logService,n.owner,n.context,n.message,n.extras),n.owner.parent.transformPet(n.fromPet,n.toPet)}({logService:this.logService,owner:s,context:e,fromPet:l,toPet:p,message:`${s.name} transformed ${l.name} into ${p.name}`,extras:{randomEvent:o.random}});let g=s.parent.getThis(p),k=g.pet;null!=k&&(N1({logService:this.logService,owner:s,context:e,target:k,amount:d,extras:{randomEvent:g.random}}),this.triggerTigerExecution(e))}copy(e){return new hE(e,this.logService,this.petService)}}class dE extends y{constructor(e,t,i,r,a,s,o,l,c,d){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="Ammonite",this.tier=6,this.pack="Star",this.attack=5,this.health=3,this.initPet(l,a,s,o,c,d)}initAbilities(){this.addAbility(new hE(this,this.logService,this.petService)),super.initAbilities()}}class z4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Smaller Slime",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=2,this.attack=2,this.initPet(o,r,a,s,l,c)}}class pE extends S{constructor(e,t){super({name:"Slime Ability",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){var t;const{tiger:i,pteranodon:r}=e,a=this.owner,s=Math.max(0,null!==(t=a.battlesFought)&&void 0!==t?t:0),o=Math.floor(s/2);if(o<=0)return void this.triggerTigerExecution(e);const l=2*this.level;let c=0;for(let d=0;d<o;d++){const p=new z4(this.logService,a.abilityService,a.parent,l,l);if(!a.parent.summonPet(p,a.position).success)break;c++}c>0&&this.logService.createLog({message:`${a.name} summoned ${c} ${l}/${l} Smaller Slime${1===c?"":"s"}.`,type:"ability",player:a.parent,tiger:i,pteranodon:r}),this.triggerTigerExecution(e)}copy(e){return new pE(e,this.logService)}}class K4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Slime",this.tier=3,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new pE(this,this.logService)),super.initAbilities()}}class mE extends S{constructor(e,t,i){super({name:"SarcasticFringeheadAbility",owner:e,triggers:["FoodEatenByThis","ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=t,this.petService=i}swallowFood(e){const t=this.owner;if(e.triggerPet!==t)return;const i=t.sarcasticFringeheadSwallowedPet;if(!i)return;const r=this.petService.createPet({name:i,attack:1,health:1,exp:t.minExpForLevel,equipment:null,mana:0},t.parent);!r||(t.swallowedPets.push(r),this.logService.createLog({message:`${t.name} swallowed ${i}.`,type:"ability",player:t.parent,tiger:e.tiger}))}spawnForOpponent(e){const t=this.owner,i=t.parent.opponent;for(;t.swallowedPets.length>0;){const r=t.swallowedPets.shift();if(!r)continue;r.parent=i;const a=i.summonPet(r,0,!1);!a.success||this.logService.createLog({message:`${t.name} spawned ${r.name} for the opponent.`,type:"ability",player:t.parent,tiger:e.tiger,randomEvent:a.randomEvent})}}executeAbility(e){const t=e.trigger;"FoodEatenByThis"===t?this.swallowFood(e):"ThisDied"===t&&this.spawnForOpponent(e),this.triggerTigerExecution(e)}copy(e){return new mE(e,this.logService,this.petService)}}class gE extends y{constructor(e,t,i,r,a,s,o,l,c,d){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="Sarcastic Fringehead",this.tier=3,this.pack="Custom",this.attack=4,this.health=7,this.initPet(l,a,s,o,c,d)}initAbilities(){this.addAbility(new mE(this,this.logService,this.petService)),super.initAbilities()}}class fE extends S{constructor(e,t,i,r){super({name:"Hippogriff Ability",owner:e,triggers:["FriendSummoned","EndTurn","ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>this.executeAbility(a)}),this.pendingBuffs=new Map,this.logService=t,this.abilityService=i,this.petService=r}executeAbility(e){const{trigger:t,triggerPet:i,gameApi:r}=e;if("FriendSummoned"===t){const l=Zr(this.owner,i);l.pet&&this.applyTemporaryBuff(l.pet,e,l.random)}else"EndTurn"===t?this.resetBuffs():"ThisDied"===t&&this.summonNextTierPet(r,e);this.triggerTigerExecution(e)}applyTemporaryBuff(e,t,i){var r;const a=this.owner,s=this.level;e.increaseAttack(s);const o=null!==(r=this.pendingBuffs.get(e))&&void 0!==r?r:0;this.pendingBuffs.set(e,o+s),ai(this.logService,a,`${a.name} gave ${e.name} +${s} attack until next turn.`,t.tiger,t.pteranodon,{randomEvent:i})}resetBuffs(){for(const[e,t]of this.pendingBuffs)e&&e.increaseAttack(-t);this.pendingBuffs.clear()}summonNextTierPet(e,t){const i=this.owner;if(!e)return;const r=Number.isFinite(e.previousShopTier)?e.previousShopTier:1,a=Math.min(6,Math.max(1,r+1)),s=k=>(null!=k?k:[]).filter(T=>T&&i.name&&T.toLowerCase()!==i.name.toLowerCase()),o=i.parent===e.player?e.playerPetPool:e.opponentPetPool;let l=s(null==o?void 0:o.get(a));if((null==l?void 0:l.length)||(l=s(this.petService.allPets.get(a))),(null==l?void 0:l.length)||(l=s(this.petService.allPets.get(1))),!l.length)return;const c=l[Math.floor(Math.random()*l.length)],d=5*this.level,p=this.petService.createPet({name:c,attack:d,equipment:null,exp:0,health:d,mana:0},i.parent);i.parent.summonPet(p,i.savedPosition,!1,i).success&&this.logService.createLog({message:`${i.name} spawned a ${p.attack}/${p.health} ${p.name} from tier ${a}.`,type:"ability",player:i.parent,tiger:t.tiger,randomEvent:!0,pteranodon:t.pteranodon})}copy(e){return new fE(e,this.logService,this.abilityService,this.petService)}}class yE extends y{constructor(e,t,i,r,a,s,o,l,c,d){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="Hippogriff",this.tier=5,this.pack="Custom",this.attack=5,this.health=5,this.initPet(l,a,s,o,c,d)}initAbilities(){this.addAbility(new fE(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}const Y4={Spider:NP,Whale:rw,Parrot:YP,Stork:k_,"Shima Enaga":P_,Eagle:KT,Pelican:H_,Falcon:J1,"Beluga Whale":qy,Wolf:sC,Pteranodon:fC,"Harpy Eagle":s1,"Sabertooth Tiger":Gy,Orca:u1,Hippogriff:yE,"Goblin Shark":qC,"Red Lipped Batfish":UC,Kappa:jC,Ammonite:dE,"Iriomote Cat":YC,Takhi:ZC,"Roloway Monkey":XC,Bonobo:eE,"Golden Tamarin":iE,"Bay Cat":lE,"California Condor":rE,"Silky Sifaka":aE,Abomination:Vy,"Sarcastic Fringehead":gE},Q4={Seagull:FC,"Good Dog":uE},QQ=[qC,UC,jC,Vy,YC,ZC,XC,eE,iE,rE,aE,lE,NP,KT,k_,P_,YP,rw,H_,J1,qy,sC,fC,s1,Gy,u1,dE,gE,yE],ZQ=[FC,uE],JQ={"Beluga Whale":(n,e,t,i)=>new qy(n.logService,n.abilityService,i,t,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed,e.belugaSwallowedPet),Abomination:(n,e,t,i)=>new Vy(n.logService,n.abilityService,i,t,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed,e.abominationSwallowedPet1,e.abominationSwallowedPet2,e.abominationSwallowedPet3),"Sabertooth Tiger":(n,e,t,i)=>new Gy(n.logService,n.abilityService,i,t,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed,e.timesHurt),Tuna:(n,e,t)=>new N4(n.logService,n.abilityService,t,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed,e.timesHurt),Slime:(n,e,t)=>new K4(n.logService,n.abilityService,t,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed)};let Z4=(()=>{class n{constructor(t,i,r){this.logService=t,this.abilityService=i,this.gameService=r}createPet(t,i,r,a,s){const o=t.constructor,l=t.parent,c=null!=s?s:iP(t.level);for(const d of ZQ)if(t instanceof d)return new d(this.logService,this.abilityService,i,this.gameService,l,a,r,0,c);return QQ.includes(o)?new o(this.logService,this.abilityService,i,l,a,r,0,c):new o(this.logService,this.abilityService,l,a,r,0,c)}createPetFromForm(t,i,r,a){const{name:s,health:o,attack:l,mana:c,exp:d,equipment:p,triggersConsumed:g}=t,k={logService:this.logService,abilityService:this.abilityService,gameService:this.gameService},T=R=>{var x,G;return R&&(R.sarcasticFringeheadSwallowedPet=null!==(x=t.sarcasticFringeheadSwallowedPet)&&void 0!==x?x:null,R.friendsDiedBeforeBattle=null!==(G=t.friendsDiedBeforeBattle)&&void 0!==G?G:0),R};if(Q4[s]){const x=new(0,Q4[s])(this.logService,this.abilityService,r,this.gameService,i,o,l,c,d,p,g);return T(this.applyEquipmentUsesOverride(x,t))}const E=JQ[s];if(E){const R=E(k,t,i,r);return T(this.applyEquipmentUsesOverride(R,t))}if(Y4[s]){const x=new(0,Y4[s])(this.logService,this.abilityService,r,i,o,l,c,d,p,g);return T(this.applyEquipmentUsesOverride(x,t))}const L=a[s];if(L){const R=new L(this.logService,this.abilityService,i,o,l,c,d,p,g);return T(this.applyEquipmentUsesOverride(R,t))}return null}applyEquipmentUsesOverride(t,i){return t&&(null!=i.equipmentUses&&(t.equipmentUsesOverride=i.equipmentUses),t)}}return n.\u0275fac=function(t){return new(t||n)(te(Pn),te(ya),te(fa))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class vE extends S{constructor(e,t){super({name:"TapirAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:r}=e,s=t.parent.getLastPet(void 0,t).pet;if(!s)return void this.triggerTigerExecution(e);const o=Math.min(3,Math.max(1,this.level)),l=10*o,c=1===o?0:2===o?2:5,d=Je.getInjector().get(Z4),p=Je.getInjector().get(vr),g=d.createPet(s,p,l,l,c);if(!g)return void this.triggerTigerExecution(e);const k=t.parent.summonPet(g,t.savedPosition,!1,t);k.success&&this.logService.createLog({message:`${t.name} summoned a ${l}/${l} copy of ${s.name}.`,type:"ability",player:t.parent,tiger:i,pteranodon:r,randomEvent:k.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new vE(e,this.logService)}}class bE extends S{constructor(e,t){super({name:"WalrusAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=r.parent.getRandomPets(this.level,[r],!1,!1,r),s=a.pets;if(0===s.length)return void this.triggerTigerExecution(e);const o=[];for(const l of s)l.givePetEquipment(new Sp),o.push(l.name);this.logService.createLog({message:`${r.name} gave Peanut Butter to ${o.join(", ")} on faint.`,type:"ability",player:r.parent,tiger:t,pteranodon:i,randomEvent:a.random}),this.triggerTigerExecution(e)}copy(e){return new bE(e,this.logService)}}class AE extends S{constructor(e,t){super({name:"WhiteTigerAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.nearestPetsBehind(this.level,s);for(let l of o.pets)this.logService.createLog({message:`${s.name} gave ${l.name} +3 experience.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:o.random}),l.increaseExp(3);this.triggerTigerExecution(e)}copy(e){return new AE(e,this.logService)}}class kE extends S{constructor(e,t){super({name:"AmargasaurusAbility",owner:e,triggers:["FriendHurt","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.healthRestoredThisTurn=0,this.logService=t}reset(){this.healthRestoredThisTurn=0,super.reset()}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return void(this.healthRestoredThisTurn=0);const{triggerPet:r,tiger:a,pteranodon:s}=e;let o;if(!r||(r.transformed?(o=r.transformedInto,o.originalHealth=r.originalHealth):o=r,!o||!o.alive)||o===t)return;const l=15*this.level,c=o.originalHealth-o.health;if(c<=0||this.healthRestoredThisTurn>=l)return;const p=Math.min(c,l-this.healthRestoredThisTurn);if(p>0){let k=t.parent.getSpecificPet(t,o).pet;if(null==k)return;this.logService.createLog({message:`${t.name} restored ${p} health to ${k.name}.`,type:"ability",player:t.parent,tiger:a,pteranodon:s}),k.increaseHealth(p),this.healthRestoredThisTurn+=p}this.triggerTigerExecution(e)}copy(e){return new kE(e,this.logService)}}class SE extends S{constructor(e,t,i){super({name:"OpossumAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new SE(e,this.logService,this.abilityService)}}class PE extends S{constructor(e,t){super({name:"KiwiAbility",owner:e,triggers:["ThisHurt","ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.petArray.filter(p=>{var g;return"Strawberry"!=(null===(g=p.equipment)||void 0===g?void 0:g.name)||p==s}),l=s.parent.getLastPet(o,s),c=l.pet;if(null==c)return;let d=this.level;c.increaseAttack(d),this.logService.createLog({message:`${s.name} gave ${c.name} +${d} attack`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new PE(e,this.logService)}}class wE extends S{constructor(e,t,i){super({name:"PheasantAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}reset(){this.maxUses=this.level,super.reset()}executeAbility(e){const{triggerPet:i,tiger:r,pteranodon:a}=e,s=this.owner,o=Zr(s,i);if(!o.pet)return;const l=o.pet;ai(this.logService,s,`${s.name} gave ${l.name} a Strawberry.`,r,a,{randomEvent:o.random}),l.givePetEquipment(new Fy(this.logService)),this.triggerTigerExecution(e)}copy(e){return new wE(e,this.logService,this.abilityService)}}class TE extends S{constructor(e,t){super({name:"FireflyAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.getPetsWithinXSpaces(s,this.level),l=o.pets;if(0!=l.length){for(const c of l)s.snipePet(c,1,o.random,r,a);this.triggerTigerExecution(e)}}copy(e){return new TE(e,this.logService)}}class _E extends S{constructor(e,t){super({name:"BassAbility",owner:e,triggers:["BeforeThisDies","ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner,o=s.parent.petArray.filter(p=>p==s&&!p.isSellPet()&&p.level<2);let l=s.parent.getRandomPet(o,!0,null,null,s);const c=l.pet;if(null==c)return;const d=this.level;this.logService.createLog({message:`${s.name} gave ${c.name} +${d} experience.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:l.random}),c.increaseExp(d),this.triggerTigerExecution(e)}copy(e){return new _E(e,this.logService)}}class CE extends S{constructor(e,t){super({name:"HareAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}reset(){this.maxUses=this.level,super.reset()}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.opponent.petArray,l=[];for(let k of o)k.equipment&&Je.getInjector().get(Dt).isUsefulPerk(k.equipment.name)&&l.push(k);if(0==l.length)return;let c=l[Math.floor(Math.random()*l.length)],d=c.equipment,g=s.parent.getThis(s).pet;null!=g&&(s.givePetEquipment(d),this.logService.createLog({message:`${s.name} copied ${d.name} to ${g.name} from ${c.name}.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.length>0}),this.triggerTigerExecution(e))}copy(e){return new CE(e,this.logService)}}class J4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="???",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=2,this.initPet(o,r,a,s,l,c)}}class EE extends S{constructor(e,t){super({name:"Axehandle Hound Ability",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.hasUsed=!1,this.logService=t}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:r}=e;if(this.hasUsed)return;const a=t.opponent;if(!a)return;const s=a.petArray.filter(c=>c.health>0),o=s.map(c=>c.name);if(new Set(o).size!==o.length){this.hasUsed=!0;const c=2*this.level;this.logService.createLog({message:`${this.owner.name} activated. Opponent has duplicates. Dealing ${c} damage to all enemies.`,type:"ability",player:this.owner.parent,tiger:i,pteranodon:r});for(const d of s)this.owner.dealDamage(d,c)}this.triggerTigerExecution(e)}copy(e){const t=new EE(e,this.logService);return t.hasUsed=this.hasUsed,t}}class xE extends S{constructor(e,t){super({name:"BarghestAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let c=[...s.parent.opponent.getPetsWithEquipment("perk"),...s.parent.opponent.getPetsWithEquipment("Spooked")],p=s.parent.opponent.getLastPets(this.level,c,s).pets;if(0!=p.length){for(let g of p)this.logService.createLog({message:`${s.name} gave ${g.name} Spooked`,type:"ability",player:s.parent,tiger:r}),g.givePetEquipment(new po);this.triggerTigerExecution(e)}}copy(e){return new xE(e,this.logService)}}class DE extends S{constructor(e,t){super({name:"TsuchinokoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let l=s.parent.getThis(s).pet;if(null==l)return;s.parent.pushPetToFront(l,!0),this.logService.createLog({message:`${s.name} pushed ${l.name} to the front and gained ${this.level} experience.`,type:"ability",player:s.parent,tiger:r});let d=s.parent.getThis(s).pet;null!=d&&(d.increaseExp(this.level),this.logService.createLog({message:`${s.name} gave ${d.name} +${this.level} experience.`,type:"ability",player:s.parent,tiger:r}),this.triggerTigerExecution(e))}copy(e){return new DE(e,this.logService)}}class LE extends S{constructor(e,t){super({name:"MurmelAbility",owner:e,triggers:["FriendGainedExp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=this.level,c=s.parent.getThis(s).pet;null!=c&&(this.logService.createLog({message:`${s.name} gave ${c.name} ${o} attack.`,type:"ability",player:s.parent,tiger:r}),c.increaseAttack(o),this.triggerTigerExecution(e))}copy(e){return new LE(e,this.logService)}}class IE extends S{constructor(e,t){super({name:"AlchemedesAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.nearestPetsAhead(1,s);if(0===o.pets.length)return;let l=o.pets[0];this.logService.createLog({message:`${s.name} gave ${l.name} ${this.level} mana.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),l.increaseMana(this.level),this.triggerTigerExecution(e)}copy(e){return new IE(e,this.logService)}}class ME extends S{constructor(e,t){super({name:"PengobbleAbility",owner:e,triggers:["ThisGainedMana"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner,o=2*this.level;let l=s.parent.getThis(s),c=l.pet;null!=c&&(this.logService.createLog({message:`${s.name} gave ${c.name} an extra ${o} bonus mana.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random}),s.mana+=o,this.triggerTigerExecution(e))}copy(e){return new ME(e,this.logService)}}class RE extends S{constructor(e,t){super({name:"Warf Ability",owner:e,triggers:["ThisGainedMana"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=r.parent.opponent.getRandomPet();if(a.pet){const s=a.pet,o=this.level;r.snipePet(s,o,a.random,t,i),this.logService.createLog({message:`${r.name} gained mana and dealt ${o} damage to ${s.name}.`,type:"ability",player:r.parent,tiger:t,pteranodon:i,randomEvent:a.random})}this.triggerTigerExecution(e)}copy(e){return new RE(e,this.logService)}}class FE extends S{constructor(e,t){super({name:"BunyipAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:r}=e,s=this.owner;let l;l=s.parent==t.player?t.playerRollAmount:t.opponentRollAmount,l=Math.min(2,l)*this.level;let d=s.parent.getThis(s).pet;null!=d&&(d.increaseHealth(l),this.logService.createLog({message:`${s.name} gave ${d.name} ${l} health.`,type:"ability",player:s.parent,tiger:r}),this.triggerTigerExecution(e))}copy(e){return new FE(e,this.logService)}}class X4 extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="CrackedEgg",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=4,this.health=2,this.initPet(o,r,a,s,l,c)}}class NE extends S{constructor(e,t,i){super({name:"SneakyEggAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,s=this.owner;let o={attack:4*this.level,health:2*this.level};s.health=0;let l=new X4(this.logService,this.abilityService,s.parent,o.health,o.attack,0),c=s.parent.summonPet(l,s.savedPosition,!1,s);c.success&&this.logService.createLog({message:`${s.name} spawned a ${o.attack}/${o.health} Cracked Egg`,type:"ability",player:s.parent,tiger:r,randomEvent:c.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new NE(e,this.logService,this.abilityService)}}class BE extends S{constructor(e,t){super({name:"FrostWolfAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.opponent.getPetsWithEquipment("Cold"),l=s.parent.opponent.getFurthestUpPet(s,o),c=l.pet;if(null==c)return;const d=new Hw;d.multiplier+=this.level-1;let p=".";2===this.level?p=" twice for double effect.":3===this.level&&(p=" thrice for triple effect."),this.logService.createLog({message:`${s.name} made ${c.name} Cold ${p}`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:l.random}),c.givePetEquipment(d),this.triggerTigerExecution(e)}copy(e){return new BE(e,this.logService)}}class OE extends S{constructor(e,t){super({name:"MothmanAbility",owner:e,triggers:["AnyoneGainedAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:5,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner,o=this.level;let c=s.parent.getThis(s).pet;null!=c&&(this.logService.createLog({message:`${s.name} gave ${c.name} +${o} attack and +${o} health.`,type:"ability",player:s.parent,tiger:r}),c.increaseAttack(o),c.increaseHealth(o),this.triggerTigerExecution(e))}copy(e){return new OE(e,this.logService)}}class $E extends S{constructor(e,t){super({name:"DropBearAbility",owner:e,triggers:["ClearFront"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;this.logService.createLog({message:`${s.name} pushed itself to the front.`,type:"ability",player:s.parent,tiger:r,pteranodon:a}),s.parent.pushPetToFront(s,!0);let o=3*this.level,l=s.parent.opponent.getLastPet();null!=l.pet&&(s.snipePet(l.pet,o,l.random,r),this.triggerTigerExecution(e))}copy(e){return new $E(e,this.logService)}}class HE extends S{constructor(e,t){super({name:"JackalopeAbility",owner:e,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i}=e,s=this.owner;let l=s.parent.getSpecificPet(s,i).pet;if(null==l)return;let c=this.level;s.jumped&&(c*=2),l.increaseAttack(c),this.logService.createLog({message:`${s.name} gave ${l.name} +${c} attack.`,type:"ability",player:this.owner.parent}),this.triggerTigerExecution(e)}copy(e){return new HE(e,this.logService)}}class GE extends S{constructor(e,t){super({name:"LuckyCatAbility",owner:e,triggers:["ThisLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=2;3==s.level&&(o=4);let c=s.parent.getThis(s).pet;null!=c&&(this.logService.createLog({message:`${s.name} gave ${c.name} ${o} attack and ${o} health.`,type:"ability",player:s.parent,tiger:r}),c.increaseAttack(o),c.increaseHealth(o),this.triggerTigerExecution(e))}copy(e){return new GE(e,this.logService)}}class qE extends S{constructor(e,t){super({name:"OgopogoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner,o=s.parent.getFurthestUpPets(this.level,[s],s),l=o.pets;if(0!==l.length){for(const c of l)this.logService.createLog({message:`${s.name} gave ${c.name} +1 experience.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),c.increaseExp(1);this.triggerTigerExecution(e)}}copy(e){return new qE(e,this.logService)}}class VE extends S{constructor(e,t){super({name:"ThunderbirdAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.nearestPetsAhead(2,s);if(o.pets.length<2)return;let c=o.pets[1];if(null==c)return;let d=3*this.level;this.logService.createLog({message:`${s.name} gave ${c.name} ${d} mana.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),c.increaseMana(d),this.triggerTigerExecution(e)}copy(e){return new VE(e,this.logService)}}class UE extends S{constructor(e,t){super({name:"GargoyleAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.mana*this.level;o+=2*this.level;let l=s.parent.nearestPetsBehind(1,s);if(0===l.pets.length)return;let c=l.pets[0];this.logService.createLog({message:`${s.name} spent ${s.mana} mana and gave ${o} health to ${c.name}.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:l.random}),c.increaseHealth(o),s.mana=0,this.triggerTigerExecution(e)}copy(e){return new UE(e,this.logService)}}class WE extends S{constructor(e,t){super({name:"SkeletonDogAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.getRandomPets(this.level,[s],!0,!1,s);for(let l of o.pets)null!=l&&(this.logService.createLog({message:`${s.name} gave 1 attack and 1 health to ${l.name}.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),l.increaseAttack(1),l.increaseHealth(1));this.triggerTigerExecution(e)}copy(e){return new WE(e,this.logService)}}class jE extends S{constructor(e,t){super({name:"MandrakeAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.opponent.getPetsWithEquipment("Dazed"),c=s.parent.opponent.getTierXOrLowerPet(2*this.level,o,s).pet;null!=c&&(this.logService.createLog({message:`${s.name} made ${c.name} Dazed.`,type:"ability",player:s.parent,tiger:r,randomEvent:!0}),c.givePetEquipment(new kp),this.triggerTigerExecution(e))}copy(e){return new jE(e,this.logService)}}class zE extends S{constructor(e,t){super({name:"FurBearingTroutAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=[],l=s;for(;o.length<this.level;){let c=l.petBehind();if(null==c)break;c.equipment instanceof Bw||o.push(c),l=c}if(0!==o.length){for(let c of o)this.logService.createLog({message:`${s.name} gave ${c.name} a Rambutan.`,type:"ability",player:s.parent,tiger:r}),c.givePetEquipment(new Bw(this.logService));this.triggerTigerExecution(e)}}copy(e){return new zE(e,this.logService)}}class KE extends S{constructor(e,t){super({name:"ManaHoundAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:r}=e,s=this.owner;let l;l=s.parent==t.player?t.playerRollAmount:t.opponentRollAmount,l=Math.min(l,3);let c=s.parent.nearestPetsAhead(1,s);if(0===c.pets.length)return;let d=c.pets[0],p=l*this.level*2;this.logService.createLog({message:`${s.name} gave ${d.name} ${p} mana.`,type:"ability",player:s.parent,tiger:r,randomEvent:c.random}),d.increaseMana(p),this.triggerTigerExecution(e)}copy(e){return new KE(e,this.logService)}}class YE extends S{constructor(e,t){super({name:"CalygreyhoundAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;if(0==s.mana)return;let o=s.parent.opponent.getHighestHealthPets(2,void 0,s),l=this.level*s.mana;for(let c of o.pets)c.health=Math.max(1,c.health-l),this.logService.createLog({message:`${s.name} reduced ${c.name}'s health by ${l} (${c.health}).`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random});s.mana=0,this.triggerTigerExecution(e)}copy(e){return new YE(e,this.logService)}}class QE extends S{constructor(e,t){super({name:"BrainCrampAbility",owner:e,triggers:["ClearFront"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=2*this.level,c=s.parent.getThis(s).pet;if(null==c)return;this.logService.createLog({message:`${s.name} pushed ${c.name} to the front.`,type:"ability",player:s.parent,tiger:r,pteranodon:a}),s.parent.pushPetToFront(c,!0);let p=s.parent.getThis(s).pet;if(null==p)return;this.logService.createLog({message:`${s.name} gave ${p.name} Melon.`,type:"ability",player:s.parent,tiger:r,pteranodon:a}),p.givePetEquipment(new xs);let k=s.parent.getThis(s).pet;null!=k&&(this.logService.createLog({message:`${s.name} gave ${k.name} ${o} attack.`,type:"ability",player:s.parent,tiger:r,pteranodon:a}),k.increaseAttack(o),this.triggerTigerExecution(e))}copy(e){return new QE(e,this.logService)}}class ZE extends S{constructor(e,t){super({name:"MinotaurAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,s=this.owner;if(!i)return;let o=this.level*i.level,l=s.parent.getThis(s),c=l.pet;null!=c&&(this.logService.createLog({message:`${s.name} gave ${c.name} ${o} attack and ${o} health.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random}),c.increaseAttack(o),c.increaseHealth(o),this.triggerTigerExecution(e))}copy(e){return new ZE(e,this.logService)}}class JE extends S{constructor(e,t){super({name:"KrakenAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.getAll(!0,s,!0),l=o.pets;if(0!=l.length){for(let c of l){let d=1==this.level?.15:2==this.level?.3:.45,p=Math.max(1,Math.floor(c.health*(1-d)));c.health=p,this.logService.createLog({message:`${s.name} reduced ${c.name} health by ${(100*d).toFixed(0)}% (${p})`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random})}this.triggerTigerExecution(e)}}copy(e){return new JE(e,this.logService)}}class XE extends S{constructor(e,t){super({name:"VisitorAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let l=s.parent.getPetsWithinXSpaces(s,this.level).pets.filter(c=>{var d;return"Icky"!==(null===(d=c.equipment)||void 0===d?void 0:d.name)});if(0!=l.length){for(let c of l)c.givePetEquipment(new Tp),this.logService.createLog({message:`${s.name} made ${c.name} Icky.`,type:"ability",player:s.parent,tiger:r,pteranodon:a});this.triggerTigerExecution(e)}}copy(e){return new XE(e,this.logService)}}class e0 extends S{constructor(e,t){super({name:"VampireBatAbility",owner:e,triggers:["EnemyGainedAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,s=this.owner;let o=4*this.level,c=s.parent.getSpecificPet(s,i).pet;if(null==c)return;let d=c.health,p=s.snipePet(c,o,!1,r),g=Math.min(p,d),k=s.parent.getThis(s),T=k.pet;null!=T&&(this.logService.createLog({message:`${s.name} gave ${T.name} ${g} health.`,type:"ability",player:s.parent,tiger:r,randomEvent:k.random}),T.increaseHealth(g),this.triggerTigerExecution(e))}copy(e){return new e0(e,this.logService)}}class t0 extends S{constructor(e,t){super({name:"TigerBugAbility",owner:e,triggers:["ClearFront"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let l=s.parent.getThis(s).pet;if(null==l)return;this.logService.createLog({message:`${s.name} pushed ${l.name} to the front.`,type:"ability",player:s.parent,tiger:r,pteranodon:a}),s.parent.pushPetToFront(l,!0);let c=s.parent.opponent.getFurthestUpPets(2,[],s),d=c.pets;if(0==d.length)return;let p=3*this.level;for(let g of d)null!=g&&s.snipePet(g,p,c.random,r);this.triggerTigerExecution(e)}copy(e){return new t0(e,this.logService)}}class n0 extends S{constructor(e,t){super({name:"TatzelwurmAbility",owner:e,triggers:["FriendAheadDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,s=this.owner;let o=2*this.level;i&&3==i.level&&(o*=2);let l=s.parent.opponent.getFurthestUpPet(s);null!=l.pet&&(s.snipePet(l.pet,o,l.random,r),this.triggerTigerExecution(e))}copy(e){return new n0(e,this.logService)}}class r0 extends S{constructor(e,t){super({name:"CyclopsAbility",owner:e,triggers:["FriendLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,s=this.owner;let o=2*this.level,l=s.parent.getSpecificPet(s,i),c=l.pet;if(null!=c){if(this.logService.createLog({message:`${s.name} gave ${c.name} ${o} mana.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random}),c.increaseMana(o),this.currentUses<this.level){let d=s.parent.getSpecificPet(s,i),p=d.pet;this.logService.createLog({message:`${s.name} gave ${p.name} 1 exp.`,type:"ability",player:s.parent,tiger:r,randomEvent:d.random}),p.increaseExp(1)}this.triggerTigerExecution(e)}}copy(e){return new r0(e,this.logService)}}class eB extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Chimera Lion",this.tier=1,this.pack="Custom",this.hidden=!0,this.attack=1,this.health=1,this.initPet(o,r,a,s,l,c)}}class tB extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Chimera Goat",this.tier=1,this.pack="Custom",this.hidden=!0,this.attack=1,this.health=1,this.initPet(o,r,a,s,l,c)}}class iB extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Chimera Snake",this.tier=1,this.pack="Custom",this.hidden=!0,this.attack=1,this.health=1,this.initPet(o,r,a,s,l,c)}}class s0 extends S{constructor(e,t,i){super({name:"ChimeraAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;if(s.mana<=0)return;const o=Math.floor(s.mana/2),d=3+1*o,p=3+2*o;this.logService.createLog({message:`${s.name} spent ${s.mana} mana.`,type:"ability",player:s.parent,tiger:r,pteranodon:a});let g=new eB(this.logService,this.abilityService,s.parent,p,d),k=s.parent.summonPet(g,s.savedPosition,!1,s);if(k.success&&this.logService.createLog({message:`${s.name} spawned a ${g.name} ${d}/${p}.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:k.randomEvent}),this.level>=2){let T=new tB(this.logService,this.abilityService,s.parent,p,d),E=s.parent.summonPet(T,s.savedPosition,!1,s);E.success&&this.logService.createLog({message:`${s.name} spawned a ${T.name} ${d}/${p}.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:E.randomEvent})}if(this.level>=3){let T=new iB(this.logService,this.abilityService,s.parent,p,d),E=s.parent.summonPet(T,s.savedPosition,!1,s);E.success&&this.logService.createLog({message:`${s.name} spawned a ${T.name} ${d}/${p}.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:E.randomEvent})}s.mana=0,this.triggerTigerExecution(e)}copy(e){return new s0(e,this.logService,this.abilityService)}}class a0 extends S{constructor(e,t){super({name:"RocAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.getPetsAhead(5);if(0==o.length)return;let l=s.parent.petArray.filter(c=>c==s||!o.includes(c));for(let c=0;c<3*this.level;c++){let d=s.parent.getRandomPet(l,!0,!1,!1,s);if(null==d.pet)break;this.logService.createLog({message:`${s.name} gave ${d.pet.name} 2 mana.`,type:"ability",player:s.parent,tiger:r,randomEvent:d.random}),d.pet.increaseMana(2)}this.triggerTigerExecution(e)}copy(e){return new a0(e,this.logService)}}class o0 extends S{constructor(e,t){super({name:"RedDragonAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.opponent.getPetsWithEquipment("Crisp"),l=s.parent.opponent.getLastPets(this.level,o,s),c=l.pets;if(0!=c.length){for(let d of c)this.logService.createLog({message:`${s.name} gave ${d.name} Crisp.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random}),d.givePetEquipment(new Ol);this.triggerTigerExecution(e)}}copy(e){return new o0(e,this.logService)}}class l0 extends S{constructor(e,t){super({name:"UnicornAbility",owner:e,triggers:["FriendGainsAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i}=e,s=this.owner;let o=2*this.level;if(!i)return;this.logService.createLog({message:`${s.name} removed ailment from ${i.name}.`,type:"ability",player:s.parent}),i.removePerk();let l=s.parent.getSpecificPet(s,i),c=l.pet;null!=c&&(this.logService.createLog({message:`${s.name} gave ${c.name} ${o} attack and ${o} health.`,type:"ability",player:s.parent,randomEvent:l.random}),c.increaseAttack(o),c.increaseHealth(o),this.triggerTigerExecution(e))}copy(e){return new l0(e,this.logService)}}class c0 extends S{constructor(e,t){super({name:"LovelandFrogmanAbility",owner:e,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i}=e,s=this.owner;let o={attack:1*s.level,health:2*s.level},l=s.parent.getSpecificPet(s,i),c=l.pet;null!=c&&(this.logService.createLog({message:`${s.name} gave ${c.name} ${o.attack} attack and ${o.health} health.`,type:"ability",player:s.parent,randomEvent:l.random}),c.increaseAttack(o.attack),c.increaseHealth(o.health),this.triggerTigerExecution(e))}copy(e){return new c0(e,this.logService)}}class u0 extends S{constructor(e,t){super({name:"AmalgamationAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r,pteranodon:a}=e,s=this.owner;if(!i)return;const o=Zr(s,i,(p,g)=>p.parent.getThis(g));if(!o.pet)return;const l=o.pet,c=3*this.level,d=4*this.level;ai(this.logService,s,`${s.name} gave ${l.name} +${c} attack, +${d} mana, and Spooked.`,r,a,{randomEvent:o.random}),l.increaseAttack(c),l.increaseMana(d),l.givePetEquipment(new po),this.triggerTigerExecution(e)}copy(e){return new u0(e,this.logService)}}class h0 extends S{constructor(e,t){super({name:"JerseyDevilAbility",owner:e,triggers:["FriendSummoned","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.pendingBuffs=new Map,this.logService=t}executeAbility(e){var t;const{gameApi:i,triggerPet:r,tiger:a,pteranodon:s}=e,o=this.owner;if("EndTurn"===e.trigger)return this.resetBuffs(),void this.triggerTigerExecution(e);if(!r)return;let c=o.parent===i.player?i.playerLevel3Sold:i.opponentLevel3Sold;c=Math.min(null!=c?c:0,5);const d=this.level*c,p=Zr(o,r,(T,E)=>T.parent.getThis(E));if(!p.pet||d<=0)return;const g=p.pet;g.increaseAttack(d),g.increaseHealth(d);const k=null!==(t=this.pendingBuffs.get(g))&&void 0!==t?t:{attack:0,health:0};this.pendingBuffs.set(g,{attack:k.attack+d,health:k.health+d}),ai(this.logService,o,`${o.name} gave ${g.name} ${d} attack and ${d} health until next turn.`,a,s,{randomEvent:p.random}),this.triggerTigerExecution(e)}resetBuffs(){for(const[e,t]of this.pendingBuffs)!e||(t.attack&&e.increaseAttack(-t.attack),t.health&&e.increaseHealth(-t.health));this.pendingBuffs.clear()}copy(e){return new h0(e,this.logService)}}class d0 extends S{constructor(e,t){super({name:"PixiuAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;s.mana<4||(this.logService.createLog({message:`${s.name} spent 4 mana and gained ${3*this.level} gold for next turn.`,type:"ability",player:s.parent,tiger:r}),s.mana-=4,this.triggerTigerExecution(e))}copy(e){return new d0(e,this.logService)}}class p0 extends S{constructor(e,t){super({name:"KitsuneAbility",owner:e,triggers:["KitsuneFriendDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;if(null==s.petAhead)return;let o=0;for(let d of s.parent.petArray)d.mana>0&&(o+=d.mana,d.mana=0,this.logService.createLog({message:`${s.name} took ${o} mana from ${d.name}.`,type:"ability",player:s.parent,tiger:r}));let l=s.parent.nearestPetsAhead(1,s);if(null==l.pets.length)return;let c=l.pets[0];this.logService.createLog({message:`${s.name} gave ${c.name} +${o+2*s.level} mana.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random}),c.increaseMana(o+2*s.level),this.triggerTigerExecution(e)}copy(e){return new p0(e,this.logService)}}class nB extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Nessie?",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,r,a,s,l,c)}}class m0 extends S{constructor(e,t,i){super({name:"NessieAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{gameApi:t,tiger:r,pteranodon:a}=e,s=this.owner;let c=3*this.level,d=3*this.level,p="";if(!s.parent.summonedBoatThisBattle){const E=(s.parent===t.player?t.playerRollAmount:t.opponentRollAmount)*this.level;c+=E,d+=E,s.parent.summonedBoatThisBattle=!0,p=` It's the first Boat, so it gains +${E}/+${E}!`}c=Math.min(50,c),d=Math.min(50,d);let g=new nB(this.logService,this.abilityService,s.parent,d,c,0),k=s.parent.summonPet(g,s.savedPosition,!1,s);k.success&&this.logService.createLog({message:`${s.name} spawned a Nessie? ${c}/${d}${p}`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:k.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new m0(e,this.logService,this.abilityService)}}class g0 extends S{constructor(e,t){super({name:"WerewolfAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:r}=e,s=this.owner;if(t.day){const o=6*this.level;let c=s.parent.getThis(s).pet;if(null==c)return;c.increaseMana(o),this.logService.createLog({message:`${s.name} gave ${c.name} ${o} mana.`,type:"ability",player:s.parent,tiger:r})}else{let l=s.parent.getThis(s).pet;if(null==l)return;let c=.5*this.level;const d=Math.floor(s.attack*c),p=Math.floor(s.health*c);let g=Math.min(50,s.attack+d),k=Math.min(50,s.health+p);this.logService.createLog({message:`${s.name} increased ${l.name}'s stats by ${100*c}% (${g}/${k}).`,type:"ability",player:s.parent,tiger:r}),l.increaseAttack(s.attack*c),l.increaseHealth(s.health*c)}this.triggerTigerExecution(e)}copy(e){return new g0(e,this.logService)}}class f0 extends S{constructor(e,t,i){super({name:"ManticoreAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){}copy(e){return new f0(e,this.logService,this.abilityService)}}class y0 extends S{constructor(e,t){super({name:"PhoenixFaintAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=3*this.level,c=[...s.parent.petArray,...s.parent.opponent.petArray].filter(g=>g.equipment instanceof Ol),d=s.parent.getRandomPets(o,c,!0,!0,s,!0),p=d.pets;if(p.length>0)for(let g of p)this.logService.createLog({message:`${s.name} gave ${g.name} Crisp.`,type:"ability",randomEvent:d.random,tiger:r,player:s.parent}),g.givePetEquipment(new Ol);this.triggerTigerExecution(e)}copy(e){return new y0(e,this.logService)}}class rB extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Young Phoenix",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=6,this.attack=6,this.initPet(o,r,a,s,l,c)}}class v0 extends S{constructor(e,t,i){super({name:"PhoenixAfterFaintAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=4*this.level,l=new rB(this.logService,this.abilityService,s.parent,o,o,0),c=s.parent.summonPet(l,s.savedPosition,!1,s);c.success&&this.logService.createLog({message:`${s.name} spawned a Young Phoenix (${o}/${o}).`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:c.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new v0(e,this.logService,this.abilityService)}}class b0 extends S{constructor(e,t){super({name:"TeamSpiritAbility",owner:e,triggers:["FriendLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.getAll(!1,s,!0),l=o.pets,c={attack:s.level,health:s.level};for(let d of l)this.logService.createLog({message:`${s.name} gave ${d.name} ${c.attack} attack and ${c.health} health.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),d.increaseAttack(c.attack),d.increaseHealth(c.health);this.triggerTigerExecution(e)}copy(e){return new b0(e,this.logService)}}class A0 extends S{constructor(e,t){super({name:"SleipnirAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=Math.floor(s.attack/2),l=s.parent.getFurthestUpPets(this.level,[s],s),c=l.pets;if(0!=c.length){for(let d of c)null!=d&&(this.logService.createLog({message:`${s.name} gave ${d.name} ${o} mana.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random}),d.increaseMana(o));this.triggerTigerExecution(e)}}copy(e){return new A0(e,this.logService)}}class k0 extends S{constructor(e,t){super({name:"SeaSerpentAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){var t;const{tiger:a,pteranodon:s}=e,o=this.owner,c=null!==(t=e.seaSerpentMana)&&void 0!==t?t:o.mana;if(0==c)return;null==e.seaSerpentMana&&(e.seaSerpentMana=c,o.mana=0);let d=c;this.logService.createLog({message:`${o.name} spent ${c} mana.`,type:"ability",player:o.parent,tiger:a,pteranodon:s});let g=o.parent.opponent.getHighestHealthPet(void 0,o);null!=g.pet&&o.snipePet(g.pet,d,g.random,a,s);let k=o.parent.opponent.getRandomPets(this.level,[g.pet],null,!0,o);for(let T of k.pets)null!=T&&o.snipePet(T,d,k.random,a,s);this.triggerTigerExecution(e)}copy(e){return new k0(e,this.logService)}}class sB extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Fire Pup",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=8,this.attack=8,this.initPet(o,r,a,s,l,c)}}class S0 extends S{constructor(e,t,i){super({name:"CerberusAbility",owner:e,triggers:["ClearFront"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:r=>null==this.owner.parent.pet0,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,s=this.owner;let l=new sB(this.logService,this.abilityService,s.parent,8,8,null,5),c=s.parent.summonPet(l,0,!1,s);c.success&&this.logService.createLog({message:`${s.name} spawned Fire Pup (8/8).`,type:"ability",player:s.parent,tiger:r,randomEvent:c.randomEvent}),this.triggerTigerExecution(e)}reset(){this.maxUses=this.level,super.reset()}copy(e){return new S0(e,this.logService,this.abilityService)}}class aB extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Head",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=5,this.attack=5,this.initPet(o,r,a,s,l,c)}}class P0 extends S{constructor(e,t,i){super({name:"HydraAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=Math.floor(s.attack/10);for(let l=0;l<o;l++){let c=5*this.level,d=new aB(this.logService,this.abilityService,s.parent,c,c),p=s.parent.summonPet(d,s.savedPosition,!1,s);p.success&&this.logService.createLog({message:`${s.name} spawned Head (${d.attack}/${d.health}).`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:p.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new P0(e,this.logService,this.abilityService)}}class w0 extends S{constructor(e,t,i){super({name:"BehemothAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){}copy(e){return new w0(e,this.logService,this.abilityService)}}class T0 extends S{constructor(e,t){super({name:"IliPikaAbility",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,s=this.owner;let o=s.parent.getSpecificPet(s,i),l=o.pet;if(!l)return;let c=1*this.level;l.attack>l.health?(l.increaseAttack(c),this.logService.createLog({message:`${s.name} give ${c} attack to ${l.name}.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random})):(l.increaseHealth(c),this.logService.createLog({message:`${s.name} give ${c} health to ${l.name}.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random})),this.triggerTigerExecution(e)}copy(e){return new T0(e,this.logService)}}class _0 extends S{constructor(e,t){super({name:"MalayTapirAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.getThis(s),l=o.pet;if(!l)return;let c=1*this.level;l.increaseHealth(c),this.logService.createLog({message:`${s.name} gave ${l.name} ${c} health`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new _0(e,this.logService)}}class C0 extends S{constructor(e,t,i){super({name:"BombusDahlbomiiAbility",owner:e,triggers:["EnemyAttacked2"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,s=this.owner;this.abilityService.setCounterEvent({callback:()=>{let o=s.parent.opponent.getFurthestUpPet(s),l=o.pet;l&&s.snipePet(l,1*this.level,o.random,r)},priority:s.attack,pet:s}),this.triggerTigerExecution(e)}copy(e){return new C0(e,this.logService,this.abilityService)}}class E0 extends S{constructor(e,t){super({name:"EthiopianWolfAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.opponent.getFurthestUpPets(this.level,void 0,s);for(const l of o.pets)(null==l?void 0:l.alive)&&(l.increaseAttack(-1),this.logService.createLog({message:`${s.name} removed 1 attack from ${l.name}.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:o.random}));this.triggerTigerExecution(e)}copy(e){return new E0(e,this.logService)}}class oB extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Ethiopian Wolf",this.tier=1,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new E0(this,this.logService)),super.initAbilities()}}class x0 extends S{constructor(e){super({name:"FanMusselAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:t=>{this.executeAbility(t)}})}executeAbility(e){}copy(e){return new x0(e)}}class D0 extends S{constructor(e,t){super({name:"TogianBabirusaAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.opponent.getRandomPet([],!1,!1,!1,s);o.pet&&(o.pet.increaseHealth(1),this.logService.createLog({message:`${s.name} gave ${o.pet.name} +1 health.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:o.random})),this.triggerTigerExecution(e)}copy(e){return new D0(e,this.logService)}}class L0 extends S{constructor(e,t){super({name:"VolcanoSnailAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let c=[...s.parent.opponent.getPetsWithEquipment("perk"),...s.parent.opponent.getPetsWithEquipment("Toasty")],d=s.parent.opponent.getRandomPets(3,c,null,null,s);if(0!==d.pets.length){for(let p of d.pets){let g=new eP;p.givePetEquipment(g),this.logService.createLog({message:`${s.name} made ${p.name} Toasty`,type:"ability",player:s.parent,tiger:r,randomEvent:d.random})}this.triggerTigerExecution(e)}}copy(e){return new L0(e,this.logService)}}class I0 extends S{constructor(e,t){super({name:"AfricanWildDogAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){var t;const{tiger:a}=e,o=this.owner;let c,l=o.parent.opponent.getFurthestUpPet(o);if(null!=l.pet){if(c=l.random?l.pet:null===(t=l.pet)||void 0===t?void 0:t.petBehind(),c){let d=3*this.level;o.jumpAttackPrep(c),o.jumpAttack(c,a,d,l.random)}this.triggerTigerExecution(e)}}copy(e){return new I0(e,this.logService)}}class M0 extends S{constructor(e,t){super({name:"AraripeManakinAbility",owner:e,triggers:["FriendTransformed","FriendJumped"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.getThis(s),l=o.pet;if(!l)return;let c=3*this.level;l.increaseHealth(c),this.logService.createLog({message:`${s.name} gave ${l.name} ${c} health`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new M0(e,this.logService)}}class R0 extends S{constructor(e,t){super({name:"EuropeanMinkAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:5,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=this.level,l=s.parent.nearestPetsAhead(1,s);if(l.pets.length>0){let d=l.pets[0];d.increaseAttack(o),this.logService.createLog({message:`${s.name} gave ${d.name} ${o} attack.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random})}let c=s.parent.nearestPetsBehind(1,s);if(c.pets.length>0){let d=c.pets[0];d.increaseAttack(o),this.logService.createLog({message:`${s.name} gave ${d.name} ${o} attack.`,type:"ability",player:s.parent,tiger:r,randomEvent:c.random})}this.triggerTigerExecution(e)}copy(e){return new R0(e,this.logService)}}class F0 extends S{constructor(e,t,i){super({name:"PygmyHogAbility",owner:e,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,s=this.owner;let o={health:Math.max(5*this.level,s.health),attack:Math.max(5*this.level,s.attack)},l=new d4(this.logService,this.abilityService,s.parent,o.health,o.attack,s.mana,s.exp,new Mw);this.logService.createLog({message:`${s.name} transformed into ${l.name} (${o.attack}/${o.health}) with Garlic!`,type:"ability",player:s.parent,tiger:r}),s.parent.transformPet(s,l),this.triggerTigerExecution(e)}copy(e){return new F0(e,this.logService,this.abilityService)}}class N0 extends S{constructor(e,t){super({name:"SakerFalconAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;if(s.parent.petArray.length<s.parent.opponent.petArray.length){let c=s.parent.getThis(s),d=c.pet;if(!d)return;let p=2*this.level;d.increaseAttack(p),d.increaseHealth(p),this.logService.createLog({message:`${s.name} gave ${d.name} ${p} attack and ${p} health (outnumbered)`,type:"ability",player:s.parent,tiger:r,randomEvent:c.random})}this.triggerTigerExecution(e)}copy(e){return new N0(e,this.logService)}}class B0 extends S{constructor(e,t,i){super({name:"TaitaShrewAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.getThis(s),l=o.pet;if(!l)return;let c=new G4(this.logService,this.abilityService,s.parent,l.health,l.attack,l.mana,l.exp,l.equipment);this.logService.createLog({message:`${s.name} transformed ${l.name} into ${c.name} (level ${this.level}).`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),s.parent.transformPet(l,c),this.triggerTigerExecution(e)}copy(e){return new B0(e,this.logService,this.abilityService)}}class O0 extends S{constructor(e,t){super({name:"WhiteBelliedHeronAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.nearestPetsAhead(1,s);if(0==o.pets.length)return;let l=o.pets[0],c=new g4;c.multiplier+=this.level-1,l.givePetEquipment(c);let d=".";2===this.level?d=" twice for double effect.":3===this.level&&(d=" thrice for triple effect."),this.logService.createLog({message:`${s.name} made ${l.name} Meat Bone${d}`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new O0(e,this.logService)}}class $0 extends S{constructor(e,t){super({name:"DarwinsFoxAbility",owner:e,triggers:["EnemyHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,s=this.owner;if(i&&i.alive){let o=s.parent.getSpecificPet(s,i),l=o.pet;if(!l)return;s.jumpAttackPrep(l),s.jumpAttack(l,r,void 0,o.random)}else{let o=s.parent.opponent.getFurthestUpPet(s),l=o.pet;if(!l)return;s.jumpAttackPrep(l),s.jumpAttack(l,r,void 0,o.random)}this.triggerTigerExecution(e)}reset(){this.maxUses=this.level,super.reset()}copy(e){return new $0(e,this.logService)}}class lB extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Darwin's Fox",this.tier=2,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new $0(this,this.logService)),super.initAbilities()}}class H0 extends S{constructor(e,t){super({name:"BlueThroatedMacawAbility",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,s=this.owner;if(i){if(i.position<s.position){let o=s.parent.getSpecificPet(s,i),l=o.pet;if(!l)return;let c=3*this.level;l.increaseAttack(c),this.logService.createLog({message:`${s.name} gave ${l.name} +${c} attack.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random})}else{let o=s.parent.getSpecificPet(s,i),l=o.pet;if(!l)return;let c=3*this.level;l.increaseHealth(c),this.logService.createLog({message:`${s.name} gave ${l.name} +${c} health.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random})}this.triggerTigerExecution(e)}}copy(e){return new H0(e,this.logService)}}class G0 extends S{constructor(e,t,i){super({name:"HirolaAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;for(let o=0;o<this.level;o++){let l=new oB(this.logService,this.abilityService,s.parent,3,4,s.mana,s.exp),c=s.parent.summonPet(l,s.savedPosition,!1,s);c.success&&this.logService.createLog({message:`${s.name} summoned a 4/3 ${l.name}.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:c.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new G0(e,this.logService,this.abilityService)}}class q0 extends S{constructor(e,t){super({name:"MonkeyFacedBatAbility",owner:e,triggers:["AnyoneBehindHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.getRandomPets(2,[s],!0,!1,s);for(let l of o.pets)if(null!=l){let c={attack:this.level,health:2*this.level};l.increaseAttack(c.attack),l.increaseHealth(c.health),this.logService.createLog({message:`${s.name} gave ${l.name} ${c.attack} attack and ${c.health} health`,type:"ability",player:s.parent,randomEvent:o.random,tiger:r})}this.triggerTigerExecution(e)}copy(e){return new q0(e,this.logService)}}class V0 extends S{constructor(e,t,i){super({name:"PygmyHippoAbility",owner:e,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=Math.floor(.33*s.health),l=s.parent.opponent.getLowestHealthPets(this.level,void 0,s);for(let c of l.pets)s.snipePet(c,o,l.random,r);this.triggerTigerExecution(e)}copy(e){return new V0(e,this.logService,this.abilityService)}}class U0 extends S{constructor(e,t){super({name:"TakinAbility",owner:e,triggers:["FriendAheadHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=this.level,l=2*this.level,c=s.parent.getThis(s),d=c.pet;d.increaseAttack(o),d.increaseHealth(l),this.logService.createLog({message:`${s.name} gave ${d.name} ${o} attack and ${l} health.`,type:"ability",player:s.parent,tiger:r,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new U0(e,this.logService)}}class W0 extends S{constructor(e,t){super({name:"TucuxiAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.getLastPet([s],s),l=o.pet;if(!l)return;s.parent.pushPetToFront(l,!1),this.logService.createLog({message:`${s.name} pushed ${l.name} to the front`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:o.random});let c=3*this.level;l.increaseAttack(c),l.increaseHealth(c),this.logService.createLog({message:`${s.name} gave ${l.name} +${c} attack and +${c} health`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new W0(e,this.logService)}}class j0 extends S{constructor(e,t){super({name:"AmamiRabbitAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=1*this.level,l=s.parent.opponent.getHighestAttackPet(void 0,s);if(l.pet&&l.pet.alive)if(s.jumpAttackPrep(l.pet),s.transformed&&s.transformedInto){let c=s.parent.getThis(s.transformedInto);c.pet&&(s.transformedInto.increaseAttack(o),this.logService.createLog({message:`${s.name} gave ${s.transformedInto.name} ${o} attack`,type:"ability",player:s.parent,tiger:r,randomEvent:c.random}))}else{let c=s.parent.getThis(s);c.pet&&(c.pet.increaseAttack(o),this.logService.createLog({message:`${s.name} gave ${c.pet.name} ${o} attack`,type:"ability",player:s.parent,tiger:r,randomEvent:c.random}))}s.jumpAttack(l.pet,r,void 0,l.random),this.triggerTigerExecution(e)}copy(e){return new j0(e,this.logService)}}class z0 extends S{constructor(e,t){super({name:"TreeKangarooAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:r}=e,s=this.owner;let d=[...s.parent.opponent.getPetsWithEquipment("perk"),...s.parent.opponent.petArray.filter(k=>"Tree Kangaroo"==k.name),...s.parent.petArray.filter(k=>"Tree Kangaroo"==k.name)],p=s.parent.opponent.getLastPet(d,s),g=p.pet;g&&(g.givePetEquipment(new _4),this.logService.createLog({message:`${s.name} gave ${g.name} Silly`,type:"ability",tiger:r,player:s.parent,randomEvent:p.random}));for(let k=0;k<this.level;k++){let E=s.parent.getSpecificPet(s,g).pet;E&&(this.logService.createLog({message:`${s.name} activated ${g.name}'s ability.`,type:"ability",tiger:r,player:s.parent,randomEvent:p.random}),E.activateAbilities(void 0,t,"Pet"))}this.triggerTigerExecution(e)}copy(e){return new z0(e,this.logService)}}class K0 extends S{constructor(e,t,i){super({name:"GiantTortoiseAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new K0(e,this.logService,this.abilityService)}}class Y0 extends S{constructor(e,t){super({name:"HumpheadWrasseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=.3*this.level,l=s.parent.opponent.getHighestAttackPet(void 0,s);if(!l.pet)return;let c=l.pet,d=Math.ceil(c.attack*o),p=Math.max(1,c.attack-d);c.attack=p,this.logService.createLog({message:`${s.name} reduced ${c.name}'s attack by ${100*o}% to (${c.attack})`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new Y0(e,this.logService)}}class Q0 extends S{constructor(e,t){super({name:"KakapoAbility",owner:e,triggers:["ThisFirstAttack"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,condition:i=>this.owner.timesAttacked<=1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.opponent.getHighestAttackPets(this.level,void 0,s);for(let c of o.pets)c.givePetEquipment(new po),this.logService.createLog({message:`${s.name} gave ${c.name} Spooked.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random});let l=s.parent.opponent.getHighestAttackPets(this.level,void 0,s);for(let c of l.pets)c.parent.pushPetToBack(c),this.logService.createLog({message:`${s.name} pushed ${c.name} to the back.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random});this.triggerTigerExecution(e)}copy(e){return new Q0(e,this.logService)}}class Z0 extends S{constructor(e,t){super({name:"LongcombSawfishAbility",owner:e,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=4*this.level,l=-4*this.level,c=s.parent.getThis(s),d=c.pet;d&&(d.increaseHealth(o),this.logService.createLog({message:`${s.name} gave ${d.name} ${o} health`,type:"ability",player:s.parent,tiger:r,randomEvent:c.random}));let g=s.parent.opponent.getAll(!1,s).pets;for(let k of g)k.increaseHealth(l),this.logService.createLog({message:`${s.name} reduced ${k.name} health by ${Math.abs(l)}`,type:"ability",player:s.parent,tiger:r});this.triggerTigerExecution(e)}copy(e){return new Z0(e,this.logService)}}class J0 extends S{constructor(e,t){super({name:"AmazonRiverDolphinAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,s=this.owner;let o=s.parent.getSpecificPet(s,i.currentTarget),l=o.pet;if(l&&l.alive)s.snipePet(l,3*this.level,o.random,r);else{let c=s.parent.getThis(s),d=c.pet;if(!d)return;let p=3*this.level;d.increaseAttack(p),this.logService.createLog({message:`${s.name} gave ${d.name} ${p} attack`,type:"ability",player:s.parent,tiger:r,randomEvent:c.random})}this.triggerTigerExecution(e)}copy(e){return new J0(e,this.logService)}}class X0 extends S{constructor(e,t){super({name:"TasmanianDevilAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.opponent.getLowestAttackPet(void 0,s);if(o.pet&&o.pet.alive){let l=new po;l.multiplier+=5*this.level-1,this.logService.createLog({message:`${s.name} gave ${o.pet.name} ${l.multiplier}x Spooked.`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),o.pet.givePetEquipment(l),s.jumpAttackPrep(o.pet),s.jumpAttack(o.pet,r,null,o.random)}this.triggerTigerExecution(e)}copy(e){return new X0(e,this.logService)}}class ex extends S{constructor(e,t){super({name:"GiantOtterAbility",owner:e,triggers:["BeforeStartBattle","AnyoneAttack"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.buffedFriends=new Map,this.logService=t}reset(){this.buffedFriends.clear(),super.reset()}removeConditionalBuffs(){for(let[e,t]of this.buffedFriends){let i=e;if(i.transformed&&i.transformedInto&&(i=i.transformedInto),i&&i.alive){if(i.attack>t.attack){const r=i.attack-t.attack;i.increaseAttack(-r),this.logService.createLog({message:`${i.name} lost ${r} attack (Giant Otter Buffs removed)`,type:"ability",player:this.owner.parent})}if(i.health>t.health){const r=i.health-t.health;i.increaseHealth(-r),this.logService.createLog({message:`${i.name} lost ${r} health (Giant Otter Buffs removed)`,type:"ability",player:this.owner.parent})}}this.buffedFriends.delete(e)}}executeAbility(e){const{gameApi:t,triggerPet:i,tiger:r}=e,s=this.owner;if(i)return void(t.FirstNonJumpAttackHappened&&this.removeConditionalBuffs());let o={attack:2*this.level,health:5*this.level},l=s.parent.getAll(!1,s,!0),c=l.pets;for(let d of c)this.buffedFriends.has(d)||this.buffedFriends.set(d,{attack:d.attack,health:d.health}),d.increaseAttack(o.attack),d.increaseHealth(o.health),this.logService.createLog({message:`${s.name} gave ${d.name} +${o.attack} attack and +${o.health} health`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random});this.triggerTigerExecution(e)}copy(e){return new ex(e,this.logService)}}class tx extends S{constructor(e,t,i){super({name:"AyeAyeAbility",owner:e,triggers:["EnemyAttacked8"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,s=this.owner;for(let c=0;c<2;c++){let d=3,p=3,g=new I4(this.logService,this.abilityService,s.parent,p,d,0,0),k=s.parent.summonPet(g,s.savedPosition,!1,s);k.success&&this.logService.createLog({message:`${s.name} summoned a ${d}/${p} ${g.name}.`,type:"ability",player:s.parent,tiger:r,randomEvent:k.randomEvent})}let o=3*this.level,l=s.parent.getAll(!1,s,!0);for(let c of l.pets)c.increaseAttack(o),c.increaseHealth(o),this.logService.createLog({message:`${s.name} gave ${c.name} +${o} attack and +${o} health.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random});this.triggerTigerExecution(e)}copy(e){return new tx(e,this.logService,this.abilityService)}}class ix extends S{constructor(e,t){super({name:"BanggaiCardinalfishAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=6*this.level,c=s.parent.getAll(!0,s,!0);for(let d of c.pets){let p=Math.max(d.attack-o,4);d.attack=p,this.logService.createLog({message:`${s.name} reduced ${d.name} attack by ${o} to (${p}).`,type:"ability",player:s.parent,tiger:r,randomEvent:c.random})}this.triggerTigerExecution(e)}copy(e){return new ix(e,this.logService)}}class nx extends S{constructor(e,t){super({name:"GeometricTortoiseAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,damageAmount:s}=e,o=this.owner;if(void 0===s||s<=0)return;let l=.33*this.level;3===o.level&&(l=1);let c=Math.floor(s*l);if(c>0){let d=o.parent.opponent.getRandomPet([],!1,!0,!1,o);d.pet&&o.snipePet(d.pet,c,d.random,r)}this.triggerTigerExecution(e)}copy(e){return new nx(e,this.logService)}}class rx extends S{constructor(e,t){super({name:"GiantPangasiusAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:r}=e,s=this.owner;if(!t)return;let o;o=s.parent===t.player?t.playerTransformationAmount:t.opponentTransformationAmount;let l=4*this.level;if(o>0)for(let c=0;c<o;c++){let d=s.parent.opponent.getRandomPet([],!1,!0,!1,s);d.pet&&s.snipePet(d.pet,l,d.random,r)}this.triggerTigerExecution(e)}copy(e){return new rx(e,this.logService)}}class sx extends S{constructor(e,t){super({name:"HawaiianMonkSealAbility",owner:e,triggers:["FriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,s=this.owner;let o=s.parent.getSpecificPet(s,i),l=o.pet;if(l&&!s.targettedFriends.has(l)){if(s.targettedFriends.size<3&&l.alive){let c=2*s.level;l.increaseHealth(c),s.targettedFriends.add(l),this.logService.createLog({message:`${s.name} gave ${l.name} ${c} health`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random})}this.triggerTigerExecution(e)}}copy(e){return new sx(e,this.logService)}}class ax extends S{constructor(e,t){super({name:"MarineIguanaAbility",owner:e,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:i=>{const{triggerPet:r}=i;return!this.targettedFriends.has(r)},abilityFunction:i=>{this.executeAbility(i)}}),this.targettedFriends=new Set,this.logService=t}reset(){this.targettedFriends=new Set,super.reset()}executeAbility(e){const{triggerPet:i,tiger:r}=e,s=this.owner;let o=s.parent.getSpecificPet(s,i),l=o.pet;!l||(l.givePetEquipment(new xs),this.targettedFriends.add(l),this.logService.createLog({message:`${s.name} gave ${l.name} Melon`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e))}copy(e){return new ax(e,this.logService)}}class ox extends S{constructor(e,t){super({name:"TaitaThrushAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=this.level,l=s.parent.getAll(!1,s,!0);for(let c of l.pets)c.increaseAttack(o),c.increaseHealth(o),this.logService.createLog({message:`${s.name} gave ${c.name} +${o} attack and +${o} health`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random});this.triggerTigerExecution(e)}copy(e){return new ox(e,this.logService)}}class lx extends S{constructor(e,t){super({name:"PaintedTerrapinAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.getPetsWithEquipment("White Okra"),l=s.parent.nearestPetsBehind(s.level,s,o),c=l.pets;for(let d of c)this.logService.createLog({message:`${s.name} gave ${d.name} White Okra perk`,type:"ability",tiger:r,player:s.parent,pteranodon:a,randomEvent:l.random}),d.givePetEquipment(new tP);this.triggerTigerExecution(e)}copy(e){return new lx(e,this.logService)}}class cx extends S{constructor(e,t){super({name:"SnowLeopardAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=5*this.level,l=s.parent.opponent.getRandomPet([],!1,!0,!1,s);if(l.pet&&l.pet.alive){if(s.jumpAttackPrep(l.pet),s.transformed&&s.transformedInto){let c=s.parent.getThis(s.transformedInto);c.pet&&(s.transformedInto.increaseAttack(o),s.transformedInto.increaseHealth(o),this.logService.createLog({message:`${s.name} gave ${s.transformedInto.name} ${o} attack and ${o} health`,type:"ability",player:s.parent,tiger:r,randomEvent:c.random}))}else{let c=s.parent.getThis(s);c.pet&&(c.pet.increaseAttack(o),c.pet.increaseHealth(o),this.logService.createLog({message:`${s.name} gave ${c.pet.name} ${o} attack and ${o} health`,type:"ability",player:s.parent,tiger:r,randomEvent:c.random}))}s.jumpAttack(l.pet,r,null,l.random)}this.triggerTigerExecution(e)}copy(e){return new cx(e,this.logService)}}class ux extends S{constructor(e,t){super({name:"AmsterdamAlbatrossAbility",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,s=this.owner;let o=2*s.level,l=2*s.level,d=s.parent.getSpecificPet(s,i).pet;null!=d&&(d.increaseAttack(o),d.increaseHealth(l),this.logService.createLog({message:`${s.name} gave ${d.name} +${o} attack and +${l} health.`,type:"ability",player:s.parent,tiger:r}),this.triggerTigerExecution(e))}copy(e){return new ux(e,this.logService)}}class hx extends S{constructor(e,t){super({name:"BlackRhinoAbility",owner:e,triggers:["EnemyAttacked7"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let l=s.parent.opponent.getHighestHealthPets(s.level,[],s),c=l.pets;for(let d of c)s.snipePet(d,30,l.random,r);this.triggerTigerExecution(e)}copy(e){return new hx(e,this.logService)}}class dx extends S{constructor(e,t,i){super({name:"BlueWhaleAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=2*this.level;this.logService.createLog({message:`${t.name} sold friends for +2 extra gold each and gave future shop pets +${i} attack and +${i} health.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}copy(e){return new dx(e,this.logService,this.abilityService)}}class px extends S{constructor(e,t){super({name:"GreenSeaTurtleAbility",owner:e,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let l=s.parent.getAll(!1,s).pets;for(let c of l)c.givePetEquipment(new xs,s.level),this.logService.createLog({message:`${s.name} gave ${c.name} Melon.`,type:"ability",player:s.parent,tiger:r});this.triggerTigerExecution(e)}copy(e){return new px(e,this.logService)}}class mx extends S{constructor(e,t){super({name:"PhilippineEagleAbility",owner:e,triggers:["AnyoneJumped"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.getRandomPet([],!1,!1,!1,s),l=o.pet;if(!l)return;let c=4*this.level;l.increaseAttack(c),this.logService.createLog({message:`${s.name} gave ${l.name} +${c} attack`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),l.increaseHealth(c),this.logService.createLog({message:`${s.name} gave ${l.name} +${c} health`,type:"ability",player:s.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new mx(e,this.logService)}}class gx extends j4{constructor(e,t){super({owner:e,name:"SumatranTigerAbility",triggers:["StartBattle"]}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.getOppositeEnemyPet(s),l=o.pet;if(l&&(s.jumpAttackPrep(l),s.jumpAttack(l,r,null,o.random),s.level>=2)){let c=2===this.level?6:12,d=[];if(o.random)d=s.parent.getRandomLivingPets(2).pets;else{let p=l.petBehind();p&&p.alive&&d.push(p);let g=l.petAhead;g&&g.alive&&d.push(g)}for(let p of d)s.snipePet(p,c,o.random,r)}this.triggerTigerExecution(e)}copy(e){return new gx(e,this.logService)}}class fx extends S{constructor(e,t,i){super({name:"RockAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new fx(e,this.logService,this.abilityService)}}class yx extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Rock",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new fx(this,this.logService,this.abilityService)),super.initAbilities()}}class cB extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Daycrawler",this.tier=1,this.pack="Custom",this.hidden=!0,this.health=1,this.attack=3,this.initPet(o,r,a,s,l,c)}}class vx extends S{constructor(e,t,i){super({name:"NightcrawlerAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{gameApi:t,tiger:r,pteranodon:a}=e,s=this.owner;let l=s.parent==t.player?t.playerSummonedAmount:t.opponentSummonedAmount;if(0==l)return;let c=Math.min(50,this.level*l),p=new cB(this.logService,this.abilityService,s.parent,c,6,0,0),g=s.parent.summonPet(p,s.savedPosition,!1,s);g.success&&this.logService.createLog({message:`${s.name} spawned Daycrawler (6/${c})`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:g.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new vx(e,this.logService,this.abilityService)}}class bx extends S{constructor(e){super({name:"Sphinx Ability",owner:e,triggers:["ThisBought"],abilityType:"Pet",abilitylevel:e.level,abilityFunction:t=>this.executeAbility(t)})}executeAbility(e){const{gameApi:t}=e,i=this.owner,r=this.level,a=["Tennis Ball","Plastic Saw","Toilet Paper","Foam Sword","Flashlight","Television"],o=a[Math.floor(Math.random()*a.length)],l=t.toyService.createToy(o,i.parent,r);l&&(i.parent.toy=l,t.logService.createLog({message:`${i.name} gained a level ${r} ${o}.`,type:"ability",player:i.parent})),this.triggerTigerExecution(e)}copy(e){return new bx(e)}}class Ax extends S{constructor(e,t){super({name:"ChupacabraAbility",owner:e,triggers:["ThisKilledEnemy"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;for(let o=0;o<2*this.level;o++){let l=s.parent.getRandomPet([s],!0,!1,!0,s);if(null==l.pet)return;l.pet.increaseHealth(1),this.logService.createLog({message:`${s.name} gave ${l.pet.name} 1 health.`,type:"ability",player:s.parent,tiger:r,randomEvent:l.random})}this.triggerTigerExecution(e)}copy(e){return new Ax(e,this.logService)}}class kx extends S{constructor(e,t,i){super({name:"GoldenBeetleAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new kx(e,this.logService,this.abilityService)}}class Sx extends S{constructor(e,t){super({name:"Foo Dog Ability",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} was bought and gave future shop pets from the next tier +${2*this.level} health.`,type:"ability",player:t.parent}),this.triggerTigerExecution(e)}copy(e){return new Sx(e,this.logService)}}class Px extends S{constructor(e,t){super({name:"Tree Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=[6,12,18],s=a[Math.min(this.level-1,a.length-1)];r.attack<=s&&(r.givePetEquipment(new ga),this.logService.createLog({message:`${r.name} gained Coconut perk for meeting the ${s} attack threshold.`,type:"ability",player:r.parent,tiger:t,pteranodon:i})),this.triggerTigerExecution(e)}copy(e){return new Px(e,this.logService)}}class wx extends S{constructor(e,t){super({name:"Deer Lord Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.petAhead;i&&(i.health=0,this.logService.createLog({message:`${t.name} knocked out ${i.name}.`,type:"ability",player:t.parent}),this.logService.createLog({message:`${t.name} stocked ${this.level} free Bacon.`,type:"ability",player:t.parent})),this.triggerTigerExecution(e)}copy(e){return new wx(e,this.logService)}}class Tx extends S{constructor(e,t,i){super({name:"Basilisk Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=r.petAhead;if(a&&a.alive){const s=5*this.level,o=new yx(this.logService,this.abilityService,a.parent);o.initPet(0,1+s,0,0,null),r.parent.transformPet(a,o),this.logService.createLog({message:`${r.name} transformed ${a.name} into a Rock with +${s} health.`,type:"ability",player:r.parent,tiger:t,pteranodon:i})}this.triggerTigerExecution(e)}copy(e){return new Tx(e,this.logService,this.abilityService)}}class _x extends S{constructor(e,t){super({name:"Rootling Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=this.level,o=r.parent.petArray.filter(l=>l&&l.alive&&l!==r&&l.health<r.health).sort((l,c)=>l.health-c.health).slice(0,2);for(const l of o)l.increaseAttack(a),l.increaseHealth(a);o.length>0&&this.logService.createLog({message:`${r.name} gave ${o.map(l=>l.name).join(", ")} +${a}/+${a}.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new _x(e,this.logService)}}class Cx extends S{constructor(e,t){super({name:"AnubisAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:r}=e,a=this.owner,s=[2,4,6],o=s[Math.min(Math.max(this.level,1)-1,s.length-1)],l=a.parent.petArray.filter(c=>c&&c!==a&&c.alive&&c.isFaintPet()&&c.tier<=o).sort((c,d)=>{var p,g;return(null!==(p=c.position)&&void 0!==p?p:0)-(null!==(g=d.position)&&void 0!==g?g:0)}).slice(0,2);for(const c of l)this.logService.createLog({message:`${a.name} activated ${c.name}'s faint ability (tier ${c.tier} <= ${o}).`,type:"ability",player:a.parent,tiger:i,pteranodon:r}),c.activateAbilities("ThisDied",t,"Pet");this.triggerTigerExecution(e)}copy(e){return new Cx(e,this.logService)}}class Ex extends S{constructor(e,t,i){super({name:"Old Mouse Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){var t;const{tiger:i,pteranodon:r}=e,a=this.owner,s=Je.getInjector().get(Jr),o=Math.max(1,Math.min(3,this.level)),l=null!==(t=s.toys.get(o))&&void 0!==t?t:[];if(0===l.length)return void this.triggerTigerExecution(e);const c=l[_t(0,l.length-1)],d=s.createToy(c,a.parent,o);d?(a.parent.toy=d,a.parent.toy.used=!1,a.parent.toy.triggers=0,ai(this.logService,a,`${a.name} summoned a level ${o} ${c} toy.`,i,r),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new Ex(e,this.logService,this.abilityService)}}class xx extends S{constructor(e,t){super({name:"HippocampusAbility",owner:e,triggers:["FriendAheadDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:r}=e,a=this.owner;if(!t)return void this.triggerTigerExecution(e);const s=a.parent===t.player?t.playerRollAmount||0:t.opponentRollAmount||0,o=s*this.level;o<=0||(a.increaseMana(o),ai(this.logService,a,`${a.name} gained ${o} mana from ${s} rolls this turn.`,i,r)),this.triggerTigerExecution(e)}copy(e){return new xx(e,this.logService)}}class Dx extends S{constructor(e,t){super({name:"PlatybelodonAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:r}=e,s=this.owner;let o=0;s.parent===t.player?o=t.playerRollAmount||0:s.parent===t.opponent&&(o=t.opponentRollAmount||0);let l=this.level*Math.min(o,8);if(l>0){const c=s.parent.resolveTrumpetGainTarget(s);c.player.gainTrumpets(l,s,r,void 0,void 0,c.random)}this.triggerTigerExecution(e)}copy(e){return new Dx(e,this.logService)}}class Lx extends S{constructor(e,t,i){super({name:"BoitataAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2*e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}reset(){this.maxUses=2*this.level,super.reset()}initUses(){this.maxUses=2*this.level,super.initUses()}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.opponent.getPetsWithEquipment("Crisp"),l=s.parent.opponent.getFurthestUpPet(s,o),c=l.pet;null!=c&&(this.logService.createLog({message:`${s.name} gave ${c.name} Crisp.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:l.random}),c.givePetEquipment(new Ol),this.triggerTigerExecution(e))}copy(e){return new Lx(e,this.logService,this.abilityService)}}class Ix extends S{constructor(e,t,i){super({name:"Mimic Ability",owner:e,triggers:["StartBattle","FriendDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){var t,i,r,a;const s=this.owner,o=s;if("StartBattle"===e.trigger)return o.mimicFaintCount=0,o.mimicTriggeredThreshold=0,s.parent.pendingGoldFromMimic=0,void this.triggerTigerExecution(e);if("FriendDied"===e.trigger){o.mimicFaintCount=(null!==(t=o.mimicFaintCount)&&void 0!==t?t:0)+1;const l=Math.floor((null!==(i=o.mimicFaintCount)&&void 0!==i?i:0)/3),c=null!==(r=o.mimicTriggeredThreshold)&&void 0!==r?r:0;if(l>c){const d=l-c;o.mimicTriggeredThreshold=l;const g=this.level*d,k="pendingGoldFromMimic";s.parent[k]=(null!==(a=s.parent[k])&&void 0!==a?a:0)+g,this.logService.createLog({message:`${s.name} will grant +${g} gold next turn after ${o.mimicFaintCount} friendly faints.`,type:"ability",player:s.parent})}}this.triggerTigerExecution(e)}copy(e){return new Ix(e,this.logService,this.abilityService)}}class Mx extends S{constructor(e){super({name:"NurikabeAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:t=>this.executeAbility(t)})}executeAbility(e){}copy(e){return new Mx(e)}}class Rx extends S{constructor(e,t,i){super({name:"LeviathanAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.petService=i}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:r}=e,a=6*this.level,s=2*this.level,o=this.petService.createPet({name:"Fish",attack:a,health:a,mana:0,exp:0,equipment:null,triggersConsumed:0},t.parent);o.increaseExp(s);const l=t.parent.summonPet(o,t.savedPosition,!1,t);l.success&&this.logService.createLog({message:`${t.name} summoned ${o.name} (${a}/${a}) and granted ${s} exp.`,type:"ability",player:t.parent,tiger:i,pteranodon:r,randomEvent:l.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Rx(e,this.logService,this.petService)}}class Fx extends S{constructor(e,t){super({name:"QuestingBeastAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){var t;const i=this.owner,r=Math.max(1,Math.min(3,this.level)),a=Je.getInjector().get(Jr),s=null!==(t=a.toys.get(r))&&void 0!==t?t:[];if(0===s.length)return void this.triggerTigerExecution(e);const o=s[_t(0,s.length-1)],l=a.createToy(o,i.parent,r);l?(i.parent.toy=l,i.parent.toy.used=!1,i.parent.toy.triggers=0,this.logService.createLog({message:`${i.name} created a level ${r} ${o} toy.`,type:"ability",player:i.parent}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new Fx(e,this.logService)}}class Nx extends S{constructor(e,t,i){super({name:"CockatriceAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.opponent.petArray.reverse(),l=null;for(let p of o)if(p.level<=this.level){l=p;break}if(null==l)return;this.logService.createLog({message:`${s.name} transformed ${l.name} into a Rock.`,type:"ability",player:s.parent,tiger:r,pteranodon:a});let c=new yx(this.logService,this.abilityService,l.parent,l.health,l.attack,l.mana,l.exp,l.equipment);s.parent.opponent.setPet(l.position,c,!1),this.triggerTigerExecution(e)}copy(e){return new Nx(e,this.logService,this.abilityService)}}class Bx extends S{constructor(e,t){super({name:"Albatross Ability",owner:e,triggers:["EnemyHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.handlingExtraDamage=!1,this.logService=t}executeAbility(e){if(this.handlingExtraDamage)return void(this.handlingExtraDamage=!1);if("EnemyHurt"!==e.trigger)return;const t=this.owner,i=e.triggerPet;if(!i||!i.alive||0===[t.petAhead,t.petBehind()].filter(s=>s&&s.alive&&s.parent===t.parent&&s.level<=4).length)return;const a=3*this.level;this.handlingExtraDamage=!0,t.dealDamage(i,a),this.handlingExtraDamage=!1,this.logService.createLog({message:`${t.name} boosted adjacent friends for an extra ${a} damage on ${i.name}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Bx(e,this.logService)}}class Ox extends S{constructor(e,t){super({name:"TarantulaHawkAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=Math.floor(s.attack/10)*this.level;if(o<=0)return;let c=s.parent.opponent.getAll(!1,s).pets;if(0!=c.length){for(let d of c)d.increaseHealth(-o),this.logService.createLog({message:`${s.name} removed ${o} health from ${d.name}`,type:"ability",player:s.parent,tiger:r,pteranodon:a});this.triggerTigerExecution(e)}}copy(e){return new Ox(e,this.logService)}}class $x extends S{constructor(e,t){super({name:"SalmonAbility",owner:e,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=1+Math.floor(s.health/25),l=5*this.level;for(let c=0;c<o;c++){let d=s.parent.opponent.getRandomPet([],!1,!0,!1,s);d.pet&&s.snipePet(d.pet,l,d.random,r)}this.triggerTigerExecution(e)}copy(e){return new $x(e,this.logService)}}class Hx extends S{constructor(e,t){super({name:"MimicOctopusAbility",owner:e,triggers:["ThisAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o=s.parent.opponent.getLowestHealthPets(s.level,void 0,s);for(let l of o.pets)s.snipePet(l,4,o.random,r);this.triggerTigerExecution(e)}copy(e){return new Hx(e,this.logService)}}class Gx extends S{constructor(e,t){super({name:"VelociraptorAbility",owner:e,triggers:["FriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,s=this.owner;let o;for(let c=s.parent.petArray.indexOf(s)-1;c>=0;c--){let d=s.parent.petArray[c];if(d.alive&&d.equipment&&"Strawberry"===d.equipment.name){o=d;break}}if(o){if(o&&o.equipment&&"Strawberry"===o.equipment.name){o.removePerk(),this.logService.createLog({message:`${s.name} removed Strawberry from ${o.name}`,type:"ability",player:s.parent,tiger:r});let c=2*this.level,d=3*this.level,p=s.parent.getAll(!1,s,!0),g=p.pets;for(let k of g)k.increaseAttack(c),k.increaseHealth(d),this.logService.createLog({message:`${s.name} gave ${k.name} +${c} attack and +${d} health`,type:"ability",player:s.parent,tiger:r,randomEvent:p.random})}this.triggerTigerExecution(e)}}copy(e){return new Gx(e,this.logService)}}class qx extends S{constructor(e,t){super({name:"BabyUrchinAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.opponent.getFurthestUpPet(s),l=[o.pet],c=o.random;if(l[0]){for(let d=0;d<s.level-1;d++){let p;if(p=c?s.parent.opponent.getFurthestUpPet(s).pet:l[d].petBehind(),!p)break;l.push(p)}for(let d of l)d&&(d.increaseHealth(-4),this.logService.createLog({message:`${s.name} removed 4 health from ${d.name}.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:c}));this.triggerTigerExecution(e)}}copy(e){return new qx(e,this.logService)}}class Vx extends S{constructor(e,t){super({name:"BudgieAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,s=Je.getInjector().get(Dt).getInstanceOfAllEquipment().get("Popcorn");r.givePetEquipment(s),r.increaseHealth(this.level),this.logService.createLog({message:`${r.name} gained Popcorn and +${this.level} health.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new Vx(e,this.logService)}}class Ux extends S{constructor(e,t){super({name:"FarmerMouseAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=r.getPetsBehind(this.level);if(0!==a.length){for(const s of a)s.givePetEquipment(new Ru),this.logService.createLog({message:`${r.name} fed ${s.name} Corncob.`,type:"ability",player:r.parent,tiger:t,pteranodon:i});this.triggerTigerExecution(e)}}copy(e){return new Ux(e,this.logService)}}class Wx extends S{constructor(e,t){super({name:"NudibranchAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>{const r=this.owner;let a=new Set;for(const s of r.parent.petArray){if(a.has(s.name))return!1;a.add(s.name)}return!0},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=3*this.level,s=this.level;r.increaseAttack(a),r.increaseHealth(s),this.logService.createLog({message:`${r.name} gained +${a} attack and +${s} health.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new Wx(e,this.logService)}}class jx extends S{constructor(e,t){super({name:"PeacockSpiderAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=wP(r);if(0!==a.length){for(const s of a){if(!n4(s,"Spooked"))continue;const o=new po;o.power=-this.level,o.originalPower=o.power,s.givePetEquipment(o),ai(this.logService,r,`${r.name} gave ${s.name} Spooked.`,t,i)}this.triggerTigerExecution(e)}}copy(e){return new jx(e,this.logService)}}class zx extends S{constructor(e,t){super({name:"PygmySeahorseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=r.parent.getRandomPets(3,[r],!1,!1,r),s=a.pets;if(0!==s.length){for(const o of s)o.increaseAttack(this.level),o.increaseHealth(this.level),this.logService.createLog({message:`${r.name} gave ${o.name} +${this.level} attack and +${this.level} health.`,type:"ability",player:r.parent,tiger:t,pteranodon:i,randomEvent:a.random});r.health=0,this.triggerTigerExecution(e)}}copy(e){return new zx(e,this.logService)}}class uB extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Quail",this.tier=1,this.pack="Custom",this.hidden=!0,this.attack=2,this.health=2,this.initPet(o,r,a,s,l,c)}}class hB extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Sleeping Gelada",this.tier=1,this.pack="Custom",this.hidden=!0,this.attack=3,this.health=7,this.initPet(o,r,a,s,l,c)}}class Kx extends S{constructor(e,t){super({name:"WeevilAbility",owner:e,triggers:["FoodEatenByFriendly"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:r}=e,a=this.owner,s=a.parent.getSpecificPet(a,t),o=s.pet;null!=o&&(o.increaseAttack(this.level),this.logService.createLog({message:`${a.name} gave ${o.name} +${this.level} attack.`,type:"ability",player:a.parent,tiger:i,pteranodon:r,randomEvent:s.random}),this.triggerTigerExecution(e))}copy(e){return new Kx(e,this.logService)}}class Yx extends S{constructor(e,t){super({name:"AlbinoSquirrelAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,s=Je.getInjector().get(Dt).getInstanceOfAllEquipment(),o=Array.from(s.values()).filter(c=>"shop"===c.equipmentClass);if(0===o.length)return;let l=[];for(let c=0;c<3;c++){let d=o[_t(0,o.length-1)];l.push(d.name)}this.logService.createLog({message:`${r.name} restocked shop food with ${l.join(", ")} at -${this.level} gold.`,type:"ability",player:r.parent,tiger:t,pteranodon:i,randomEvent:!0}),this.triggerTigerExecution(e)}copy(e){return new Yx(e,this.logService)}}class Qx extends S{constructor(e,t){super({name:"AmphisbaenaAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){var t;const{gameApi:i,tiger:r,pteranodon:a}=e,s=this.owner;let o=s.parent.nearestPetsAhead(1,s);if(0===o.pets.length)return;let l=o.pets[0];(null!==(t=null==i?void 0:i.turnNumber)&&void 0!==t?t:1)%2==1?(l.increaseAttack(this.level),this.logService.createLog({message:`${s.name} gave ${l.name} ${this.level} attack.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:o.random})):(l.increaseHealth(this.level),this.logService.createLog({message:`${s.name} gave ${l.name} ${this.level} health.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:o.random})),this.triggerTigerExecution(e)}copy(e){return new Qx(e,this.logService)}}class Zx extends S{constructor(e,t){super({name:"DesertRainFrogAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>this.owner.parent.trumpets>=1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=Je.getInjector().get(vr);let s=Math.min(6,r.tier+this.level),o=a.getRandomFaintPet(r.parent,s);this.logService.createLog({message:`${r.name} transformed into ${o.name}.`,type:"ability",player:r.parent,tiger:t,pteranodon:i,randomEvent:!0}),r.parent.spendTrumpets(1,r,i),r.parent.transformPet(r,o),this.triggerTigerExecution(e)}copy(e){return new Zx(e,this.logService)}}class Jx extends S{constructor(e,t){super({name:"DungBeetleAbility",owner:e,triggers:["FoodEatenByFriendly","ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){var t,i,r;const{gameApi:a,triggerPet:s,tiger:o,pteranodon:l}=e,c=this.owner,d=c,p=null!==(t=null==a?void 0:a.turnNumber)&&void 0!==t?t:0;if(d.dungBeetleFoodTurn!==p&&(d.dungBeetleFoodTurn=p,d.dungBeetleFoodEaten=0),s&&c.alive)return void(d.dungBeetleFoodEaten=Math.min(3,(null!==(i=d.dungBeetleFoodEaten)&&void 0!==i?i:0)+1));if(c.alive)return;const g=Math.min(3,null!==(r=d.dungBeetleFoodEaten)&&void 0!==r?r:0);if(g<=0)return;const k=3*this.level;for(let T=0;T<g;T++){let E=c.parent.opponent.getLowestHealthPet(void 0,c),L=E.pet;if(null==L)break;c.snipePet(L,k,E.random,o)}this.logService.createLog({message:`${c.name} dealt ${k} damage ${g} time(s) to the weakest enemy.`,type:"ability",player:c.parent,tiger:o,pteranodon:l}),this.triggerTigerExecution(e)}copy(e){return new Jx(e,this.logService)}}class Xx extends S{constructor(e,t){super({name:"FarmerChickenAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner;let a=r.parent.nearestPetsAhead(this.level,r);if(0!==a.pets.length){for(let s of a.pets)s.givePetEquipment(new Ru),this.logService.createLog({message:`${r.name} fed ${s.name} a Corncob.`,type:"ability",player:r.parent,tiger:t,pteranodon:i,randomEvent:a.random});this.triggerTigerExecution(e)}}copy(e){return new Xx(e,this.logService)}}class eD extends S{constructor(e,t){super({name:"FruitFlyAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner;let a=r.parent.getOppositeEnemyPet(r),s=a.pet;null!=s&&(s.givePetEquipment(new k4),this.logService.createLog({message:`${r.name} gave ${s.name} Blueberry.`,type:"ability",player:r.parent,tiger:t,pteranodon:i,randomEvent:a.random}),r.snipePet(s,2*this.level,a.random,t),this.triggerTigerExecution(e))}copy(e){return new eD(e,this.logService)}}class tD extends S{constructor(e,t){super({name:"OlmAbility",owner:e,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:r}=e,a=this.owner,s=a.parent===t.player?t.playerRollAmount||0:t.opponentRollAmount||0,o=a.parent.opponent.getPetsWithEquipment("Spooked"),l=a.parent.opponent.getRandomPet(o,null,!0,null,a),c=l.pet;if(!c)return;const d=new po;s>0&&(d.multiplier+=s),this.logService.createLog({message:`${a.name} made ${c.name}${d.multiplier>1?` ${d.multiplier}x`:""} Spooked.`,type:"ability",player:a.parent,tiger:i,pteranodon:r,randomEvent:l.random}),c.givePetEquipment(d),this.triggerTigerExecution(e)}copy(e){return new tD(e,this.logService)}}class iD extends S{constructor(e){super({name:"Pink Robin Ability",owner:e,triggers:["ThisDied"],abilityType:"Pet",abilitylevel:e.level,abilityFunction:t=>this.executeAbility(t)})}executeAbility(e){const t=e.gameApi,i=2*this.level,r=this.owner.parent.petArray.filter(a=>a.alive&&a!==this.owner&&a.tier<=i);if(r.length>0){const s=r[Math.floor(Math.random()*r.length)];t.abilityService.triggerAbility(s,"EndTurn",this.owner),t.logService.createLog({message:`${this.owner.name} activated End Turn on ${s.name}.`,type:"ability",player:this.owner.parent})}this.triggerTigerExecution(e)}copy(e){return new iD(e)}}class nD extends S{constructor(e){super({name:"Roadrunner Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",abilitylevel:e.level,abilityFunction:t=>this.executeAbility(t)})}executeAbility(e){const{gameApi:t}=e,i=this.owner,r=this.level,s=i.parent.petArray.filter(o=>o.alive&&o.position<i.position).sort((o,l)=>l.position-o.position).slice(0,r);for(const o of s){const l=t.equipmentService.createEquipment("Strawberry",o);l&&o.applyEquipment(l),o.attack+=2,t.logService.createLog({message:`${i.name} gave Strawberry and +2 attack to ${o.name}.`,type:"ability",player:i.parent})}this.triggerTigerExecution(e)}copy(e){return new nD(e)}}class rD extends S{constructor(e){super({name:"Spotted Handfish Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",abilitylevel:e.level,abilityFunction:t=>this.executeAbility(t)})}executeAbility(e){const{gameApi:t}=e,i=this.owner,r=this.level,a=["Cold","Crisp","Dazed","Icky","Ink","Inked","Spooked","Weak","Silly","Bloated","Confused","Cursed","Sad","Sleepy","Webbed"];for(let s=0;s<r;s++){const l=a[Math.floor(Math.random()*a.length)];i.parent.cannedAilments.push(l),t.logService.createLog({message:`${i.name} stocked a canned ${l}.`,type:"ability",player:i.parent})}this.triggerTigerExecution(e)}copy(e){return new rD(e)}}class sD extends S{constructor(e){super({name:"Tadpole Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",abilitylevel:e.level,abilityFunction:t=>this.executeAbility(t)})}executeAbility(e){const{gameApi:t}=e,i=this.owner,r=i.level,a=t.petService.createPet("Frog",i.parent,iP(r));a&&(i.parent.transformPet(i,a),t.logService.createLog({message:`${i.name} transformed into a level ${r} Frog.`,type:"ability",player:i.parent})),this.triggerTigerExecution(e)}copy(e){return new sD(e)}}class aD extends S{constructor(e,t){super({name:"Pegasus Ability",owner:e,triggers:["FriendSummoned","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.pendingBuffs=new Map,this.logService=t}executeAbility(e){var t;const{trigger:i,tiger:r,pteranodon:a}=e,s=this.owner;if("FriendSummoned"===i){const o=s.parent.getRandomPets(3,[],!1,!1,s),l=this.level;if(o.pets.length>0){const c=[];for(const d of o.pets){d.increaseAttack(l);const p=null!==(t=this.pendingBuffs.get(d))&&void 0!==t?t:0;this.pendingBuffs.set(d,p+l),c.push(d.name)}this.logService.createLog({message:`${s.name} temporarily buffed ${c.join(", ")} for +${l} attack until next turn.`,type:"ability",player:s.parent,tiger:r,pteranodon:a,randomEvent:o.random})}}else"EndTurn"===i&&this.resetBuffs();this.triggerTigerExecution(e)}resetBuffs(){for(const[e,t]of this.pendingBuffs)e.alive&&e.increaseAttack(-t);this.pendingBuffs.clear()}copy(e){return new aD(e,this.logService)}}class oD extends S{constructor(e,t){super({name:"Thorny Dragon Ability",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=3*this.level,s=r.parent.opponent.petArray.filter(d=>d.alive);if(0===s.length)return;const o=s.filter(d=>!!d.equipment&&("ailment-attack"===d.equipment.equipmentClass||"ailment-defense"===d.equipment.equipmentClass||"ailment-other"===d.equipment.equipmentClass)),l=o.length>0?o:s,c=l[Math.floor(Math.random()*l.length)];c&&(r.snipePet(c,a,!0,t,i),this.logService.createLog({message:`${r.name} fainted and dealt ${a} damage to ${c.name} (prioritizing ailments).`,type:"ability",player:r.parent,tiger:t,pteranodon:i,randomEvent:!0})),this.triggerTigerExecution(e)}copy(e){return new oD(e,this.logService)}}class lD extends S{constructor(e,t){super({name:"Vervet Ability",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{gameApi:t}=e,i=this.owner,r=this.level,a="Microwave Oven",s=t.toyService.createToy(a,i.parent,r);s&&(i.parent.toy=s,this.logService.createLog({message:`${i.name} was bought and summoned a level ${r} ${a}.`,type:"ability",player:i.parent})),this.triggerTigerExecution(e)}copy(e){return new lD(e,this.logService)}}class cD extends S{constructor(e,t){super({name:"Caladrius Ability",owner:e,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:r}=e,a=this.owner;if(t&&t.parent===a.parent&&t!==a&&t.mana>=3){const s=2*this.level;t.mana-=3,t.increaseAttack(s),t.increaseHealth(s),this.logService.createLog({message:`${a.name} spent 3 mana from ${t.name} to give it +${s}/+${s}.`,type:"ability",player:a.parent,tiger:i,pteranodon:r})}this.triggerTigerExecution(e)}copy(e){return new cD(e,this.logService)}}class See extends y{constructor(e,t,i,r,a,s,o,l){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Dimetrodon",this.tier=3,this.pack="Custom",this.hidden=!0,this.initPet(o,r,a,s,null,l)}initAbilities(){}}class uD extends S{constructor(e,t){super({name:"Dimetrodon Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=this.level,s=5*a,o=new See(this.logService,r.abilityService,r.parent,s,s);if(r.parent.summonPet(o,r.position).success)this.logService.createLog({message:`${r.name} summoned a ${s}/${s} Dimetrodon.`,type:"ability",player:r.parent,tiger:t,pteranodon:i});else{const c=a,d=r.parent.petArray.filter(p=>p&&p!==r);for(const p of d)p.increaseAttack(c),p.increaseHealth(c);d.length>0&&this.logService.createLog({message:`${r.name} gave friends +${c}/+${c}.`,type:"ability",player:r.parent,tiger:t,pteranodon:i})}this.triggerTigerExecution(e)}copy(e){return new uD(e,this.logService)}}class hD extends S{constructor(e,t){super({name:"Dugong Ability",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=this.level,s=2*this.level,o=Je.getInjector().get(vr),l=r.parent.pack,c=r.parent.petArray.filter(d=>d.alive&&d!==r&&!this.isPetInActivePack(d,l,o));for(const d of c)d.increaseAttack(a),d.increaseHealth(s);c.length>0&&this.logService.createLog({message:`${r.name} gave +${a}/+${s} to pets outside ${l}.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}isPetInActivePack(e,t,i){var r,a,s,o;if(!i)return e.pack===t;if(vP.includes(t))return(null!==(a=null===(r=i.basePackPetsByName[t])||void 0===r?void 0:r.get(e.tier))&&void 0!==a?a:[]).includes(e.name);const l=i.playerCustomPackPets.get(t);return l?null!==(o=null===(s=l.get(e.tier))||void 0===s?void 0:s.includes(e.name))&&void 0!==o&&o:e.pack===t}copy(e){return new hD(e,this.logService)}}class dD extends S{constructor(e,t){super({name:"Emperor Tamarin Ability",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} sold and gave ${1===this.level?33:2===this.level?66:100}% of its stats to the leftmost shop pet.`,type:"ability",player:t.parent}),this.triggerTigerExecution(e)}copy(e){return new dD(e,this.logService)}}class pD extends S{constructor(e,t){super({name:"Farmer Pig Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=[r.petAhead,r.petBehind()].filter(s=>null!==s&&s.alive);for(const s of a)s.applyEquipment(new Ru);a.length>0&&this.logService.createLog({message:`${r.name} fed adjacent friends Corncob.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new pD(e,this.logService)}}class mD extends S{constructor(e,t){super({name:"Gerenuk Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){var t,i;const{tiger:r,pteranodon:a}=e,s=this.owner,o=s.parent.opponent;let l=this.level;for(;l>0;){const c=this.getHighestTierPerkPet(o);if(!c)break;const d=null!==(i=null===(t=c.equipment)||void 0===t?void 0:t.name)&&void 0!==i?i:"perk";c.removePerk(!0),this.logService.createLog({message:`${s.name} removed ${c.name}'s ${d}.`,type:"ability",player:s.parent,tiger:r,pteranodon:a}),l--}this.triggerTigerExecution(e)}getHighestTierPerkPet(e){var t;const i=e.petArray.filter(s=>s.alive&&s.equipment&&!this.isAilmentEquipment(s.equipment));if(0===i.length)return null;let r=Math.max(...i.map(s=>{var o,l;return null!==(l=null===(o=s.equipment)||void 0===o?void 0:o.tier)&&void 0!==l?l:0}));return null!==(t=i.filter(s=>{var o,l;return(null!==(l=null===(o=s.equipment)||void 0===o?void 0:o.tier)&&void 0!==l?l:0)===r}).sort((s,o)=>s.position-o.position)[0])&&void 0!==t?t:null}isAilmentEquipment(e){return"ailment-attack"===e.equipmentClass||"ailment-defense"===e.equipmentClass||"ailment-other"===e.equipmentClass}copy(e){return new mD(e,this.logService)}}class gD extends S{constructor(e,t){super({name:"Great Potoo Ability",owner:e,triggers:["AnyoneHurt"],abilityType:"Pet",native:!0,maxUses:5,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{gameApi:t}=e,i=this.owner;if(!0!==t.FirstNonJumpAttackHappened){const a=2*this.level;i.increaseHealth(a),this.logService.createLog({message:`${i.name} gained +${a} health from AnyoneHurt (before any attacks).`,type:"ability",player:i.parent})}this.triggerTigerExecution(e)}copy(e){return new gD(e,this.logService)}}class fD extends S{constructor(e,t){super({name:"Jewel Caterpillar Ability",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=r.parent;if(a.trumpets<2)return void this.triggerTigerExecution(e);const o=a.petArray.filter(d=>d.alive&&d!==r).slice(-2);if(0===o.length)return void this.triggerTigerExecution(e);const l=this.level;o.forEach(d=>d.increaseSellValue(l)),a.spendTrumpets(2,r,i);const c=this.formatNames(o.map(d=>d.name));this.logService.createLog({message:`${r.name} spent 2 trumpets to give ${c} +${l} sell value each permanently.`,type:"ability",player:a,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}formatNames(e){return 0===e.length?"no friends":1===e.length?e[0]:`${e.slice(0,-1).join(", ")} and ${e[e.length-1]}`}copy(e){return new fD(e,this.logService)}}class yD extends S{constructor(e,t){super({name:"Pangasius Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){var t;const{tiger:i,pteranodon:r}=e,a=this.owner,s=this.getFriendWithAilment(a.parent),o=this.getFirstEnemy(a.parent.opponent);if(!s||!o)return void this.triggerTigerExecution(e);const l=this.level,c=s.equipment;if(!c)return void this.triggerTigerExecution(e);for(let g=0;g<l;g++){const k=(0,mi.cloneDeep)(c);o.givePetEquipment(k)}const d=["copied","copied with double effect","copied with triple effect"],p=d[Math.min(l,d.length)-1];this.logService.createLog({message:`${a.name} ${p} ${s.name}'s ${null!==(t=null==c?void 0:c.name)&&void 0!==t?t:"ailment"} onto ${o.name}.`,type:"ability",player:a.parent,tiger:i,pteranodon:r}),this.triggerTigerExecution(e)}getFriendWithAilment(e){var t;return null!==(t=e.petArray.filter(r=>r.alive&&r.equipment&&this.isAilmentEquipment(r.equipment)).sort((r,a)=>r.position-a.position)[0])&&void 0!==t?t:null}getFirstEnemy(e){var t;return null!==(t=e.petArray.find(i=>i.alive))&&void 0!==t?t:null}isAilmentEquipment(e){return"ailment-attack"===e.equipmentClass||"ailment-defense"===e.equipmentClass||"ailment-other"===e.equipmentClass}copy(e){return new yD(e,this.logService)}}class vD extends S{constructor(e,t){super({name:"Patagonian Mara Ability",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=r.parent,s=4*this.level;a.gainTrumpets(s,r,i);const o=Je.getInjector().get(ya),l=new yP(this.logService,o,a,this.level,this.level);a.summonPet(l,r.position),this.logService.createLog({message:`${r.name} gained ${s} trumpets and summoned a Golden Retriever.`,type:"ability",player:a,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new vD(e,this.logService)}}class bD extends S{constructor(e,t){super({name:"Pony Ability",owner:e,triggers:["ThisKilledEnemy"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=r.parent,s=this.level,o=this.getBackMostFriend(a);if(!o)return void this.triggerTigerExecution(e);const l=a.abilityService;for(let c=0;c<s;c++)this.applyApple(o,l);this.logService.createLog({message:`${r.name} fed ${o.name} ${s} apple${1===s?"":"s"} after knocking out an enemy.`,type:"ability",player:a,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}applyApple(e,t){e.increaseAttack(1),e.increaseHealth(1),null==t||t.triggerFoodEvents(e,"apple")}getBackMostFriend(e){for(let t=e.petArray.length-1;t>=0;t--){const i=e.petArray[t];if(i&&i.alive&&i!==this.owner)return i}return null}copy(e){return new bD(e,this.logService)}}class AD extends S{constructor(e,t,i){super({name:"Quail Chick Ability",owner:e,triggers:["FoodEatenByThis"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=2*this.level,s=r.petAhead;s&&s.alive&&(s.increaseAttack(a),s.increaseHealth(a));const o=new uB(this.logService,this.abilityService,r.parent,void 0,void 0,void 0,r.exp);r.parent.transformPet(r,o),this.logService.createLog(s&&s.alive?{message:`${r.name} transformed into ${o.name} and gave ${s.name} +${a} attack and +${a} health.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}:{message:`${r.name} transformed into ${o.name}.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new AD(e,this.logService,this.abilityService)}}class kD extends S{constructor(e,t){super({name:"Queen Bee Ability",owner:e,triggers:["BeeSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i,triggerPet:r}=e,a=this.owner,s=r;if(!s||"Bee"!==s.name)return void this.triggerTigerExecution(e);const o=3*this.level;s.increaseAttack(o),s.increaseHealth(o);const l=this.removeOtherQueenBees(a);this.logService.createLog({message:`${a.name} gave ${s.name} +${o}/+${o} and removed ${l} other Queen Bees.`,type:"ability",player:a.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}removeOtherQueenBees(e){const t=[e.parent,e.parent.opponent];let i=0;for(const r of t){for(const a of[...r.petArray])a!==e&&a.alive&&"Queen Bee"===a.name&&(a.health=0,r.handleDeath(a),i++);r.removeDeadPets()}return i}copy(e){return new kD(e,this.logService)}}class SD extends S{constructor(e,t){super({name:"Quetzalcoatlus Ability",owner:e,triggers:["ThisKilled"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:r}=e,a=this.owner;if(!t||!t.alive)return void this.triggerTigerExecution(e);const s=this.level,o=t.parent.petArray.filter(l=>l.alive);for(const l of o)l.increaseAttack(s),l.increaseHealth(s);this.logService.createLog({message:`${a.name} (Faint) gave +${s}/+${s} to ${t.name} and its friends.`,type:"ability",player:a.parent,tiger:i,pteranodon:r}),this.triggerTigerExecution(e)}copy(e){return new SD(e,this.logService)}}class PD extends S{constructor(e,t){super({name:"Sage-Grouse Ability",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){var t,i;const{tiger:r,pteranodon:a}=e,s=this.owner,o=s.parent;"Strawberry"===(null===(t=s.equipment)||void 0===t?void 0:t.name)?(s.removePerk(!0),o.gold=null!==(i=o.gold)&&void 0!==i?i:0,o.gold+=3,this.logService.createLog({message:`${s.name} sold and removed Strawberry to gain +3 gold.`,type:"ability",player:o,tiger:r,pteranodon:a}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new PD(e,this.logService)}}class wD extends S{constructor(e,t){super({name:"Silkie Chicken Ability",owner:e,triggers:["FriendGainsAilment"],abilityType:"Pet",native:!0,maxUses:2,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i,triggerPet:r}=e,a=this.owner,s=r;if(!s||!s.alive)return void this.triggerTigerExecution(e);const l=Je.getInjector().get(Dt).getUsefulPerksByTier(1);if(0===l.length)return void this.triggerTigerExecution(e);const d=l[_t(0,l.length-1)];s.givePetEquipment(d),this.logService.createLog({message:`${a.name} gave ${s.name} the ${d.name} perk.`,type:"ability",player:a.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new wD(e,this.logService)}}class TD extends S{constructor(e,t){super({name:"Sugar Glider Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=2*this.level,o=pa(r.parent.petArray.filter(l=>l.alive&&l!==r)).slice(0,2);for(const l of o)l.mana+=a;o.length>0&&this.logService.createLog({message:`${r.name} gave ${a} mana to ${o.length} friends.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new TD(e,this.logService)}}class _D extends S{constructor(e,t){super({name:"Vampire Parrot Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=r.parent.petArray.filter(g=>g.alive&&g.equipment),s=new Set;for(const g of a){const k=g.equipment.equipmentClass;("ailment-attack"===k||"ailment-defense"===k||"ailment-other"===k)&&s.add(g.equipment.name)}const o=s.size;if(0===o)return void this.triggerTigerExecution(e);const l=this.level,c=2*this.level,d=o*l,p=o*c;r.increaseAttack(d),r.increaseHealth(p),this.logService.createLog({message:`${r.name} gained +${d}/+${p} (+${l}/+${c} per unique ailment) from ${o} friendly pets with different ailments.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new _D(e,this.logService)}}class CD extends S{constructor(e,t){super({name:"Blue-Footed Booby Ability",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner;if(r.parent.trumpets<4)return void this.triggerTigerExecution(e);const o=r.getPetsBehind(1,"Melon Slice")[0];if(!o||!o.alive)return void this.triggerTigerExecution(e);r.parent.spendTrumpets(4,r);const l=new Nw;l.uses=this.level,l.originalUses=l.uses,o.givePetEquipment(l),this.logService.createLog({message:`${r.name} spent 4 trumpets to give ${o.name} a Melon Slice (${l.uses} uses).`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new CD(e,this.logService)}}class ED extends S{constructor(e,t){super({name:"Cuckoo Ability",owner:e,triggers:["EnemyDied"],abilityType:"Pet",native:!0,maxUses:2*e.level,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r,pteranodon:a}=e,s=this.owner;if(!i||!i.parent)return;const o=i.parent;if(!o.alive())return;const l=new dw(this.logService,s.abilityService,o);o.summonPet(l,0).success&&this.logService.createLog({message:`${s.name} summoned a 1/1 Chick for the enemy front.`,type:"ability",player:s.parent,tiger:r,pteranodon:a}),this.triggerTigerExecution(e)}copy(e){return new ED(e,this.logService)}}class xD extends S{constructor(e,t){super({name:"Deinocheirus Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=r.equipment;if(!a)return void this.triggerTigerExecution(e);const s=a.equipmentClass;if(!(null==s?void 0:s.startsWith("ailment")))return void this.triggerTigerExecution(e);const o=this.level,l=o,c=2*o;r.increaseAttack(l),r.increaseHealth(c),this.logService.createLog({message:`${r.name} reversed ${a.name} and gained +${l}/+${c} (x${o}).`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new xD(e,this.logService)}}class DD extends S{constructor(e,t){super({name:"Gazelle Ability",owner:e,triggers:["StartTurn","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.pendingAttackBuff=0,this.pendingHealthBuff=0,this.logService=t}executeAbility(e){const{trigger:t,gameApi:i,tiger:r,pteranodon:a}=e,s=this.owner;"StartTurn"===t?this.applyBonus(i,s,r,a):"EndTurn"===t&&this.removeBonus(s)}applyBonus(e,t,i,r){const a=t.parent===(null==e?void 0:e.player)?e.playerGoldSpent:null==e?void 0:e.opponentGoldSpent,s=Math.max(0,(null!=a?a:0)-10);if(s<=0)return this.pendingAttackBuff=0,void(this.pendingHealthBuff=0);const c=s*[2,4,6][Math.min(this.level-1,2)],d=s*[1,2,3][Math.min(this.level-1,2)];t.increaseAttack(c),t.increaseHealth(d),this.pendingAttackBuff=c,this.pendingHealthBuff=d,this.logService.createLog({message:`${t.name} gained +${c}/+${d} (per gold over 10) from ${s} gold.`,type:"ability",player:t.parent,tiger:i,pteranodon:r})}removeBonus(e){(0!==this.pendingAttackBuff||0!==this.pendingHealthBuff)&&(e.increaseAttack(-this.pendingAttackBuff),e.increaseHealth(-this.pendingHealthBuff),this.pendingAttackBuff=0,this.pendingHealthBuff=0)}copy(e){return new DD(e,this.logService)}}class LD extends S{constructor(e,t,i){super({name:"Gelada Ability",owner:e,triggers:["Eat2"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=this.level;if(a<=0)return void this.triggerTigerExecution(e);const s=new hB(this.logService,this.abilityService,r.parent,void 0,void 0,void 0,r.exp);r.parent.transformPet(r,s),this.feedFriends(a),this.logService.createLog({message:`${r.name} transformed into ${s.name} and fed each friend ${a} Pear${1===a?"":"s"}.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}feedFriends(e){if(e<=0)return;const r=this.owner.parent.petArray.filter(a=>a&&a.alive);for(const a of r)for(let s=0;s<e;s++)a.increaseAttack(1),a.increaseHealth(1),this.abilityService.triggerFoodEvents(a,"pear")}copy(e){return new LD(e,this.logService,this.abilityService)}}class ID extends S{constructor(e,t){super({name:"Hoatzin Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){var t;const{tiger:i,pteranodon:r}=e,a=this.owner,s=a.parent,o=3*this.level;let l=0;for(const p of s.petArray)!p||!p.alive||"Strawberry"===(null===(t=p.equipment)||void 0===t?void 0:t.name)&&(p.removePerk(),l++);if(0===l)return void this.triggerTigerExecution(e);const c=o*l,d=s.resolveTrumpetGainTarget(a);d.player.gainTrumpets(c,a,i,void 0,void 0,d.random),this.logService.createLog({message:`${a.name} removed ${l} Strawberry${1===l?"":"s"} for +${c} trumpets.`,type:"ability",player:s,tiger:i,pteranodon:r}),this.triggerTigerExecution(e)}copy(e){return new ID(e,this.logService)}}class MD extends S{constructor(e,t){super({name:"Leaf Gecko Ability",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=Je.getInjector().get(Dt),s=Array.from(a.getInstanceOfAllAilments().keys()),o=[...r.parent.petArray,...r.parent.opponent.petArray].filter(k=>null==k?void 0:k.alive);if(0===s.length||0===o.length)return void this.triggerTigerExecution(e);const l=3*this.level;let c=0,d=0;const p=5*l;for(;c<l&&d<p;){const k=o[_t(0,o.length-1)],T=s[_t(0,s.length-1)];if(!k||!n4(k,T)){d++;continue}const E=a.getInstanceOfAllAilments().get(T);E?(k.givePetEquipment(E),c++,d++):d++}ai(this.logService,r,c>0?`${r.name} cursed ${c} pet${1===c?"":"s"} with random ailments.`:`${r.name} could not apply any random ailments.`,t,i),this.triggerTigerExecution(e)}copy(e){return new MD(e,this.logService)}}class RD extends S{constructor(e,t){super({name:"Leafy Sea Dragon Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=this.level,s=wP(r);s.forEach(l=>{l.increaseExp(a)}),r.health=0,r.parent.handleDeath(r),r.parent.removeDeadPets(),ai(this.logService,r,`${r.name} gave ${s.length} adjacent friend${1===s.length?"":"s"} +${a} experience and removed itself.`,t,i),this.triggerTigerExecution(e)}copy(e){return new RD(e,this.logService)}}class Jee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.name="Plain Locust",this.tier=1,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,r,a,s,l,c)}initAbilities(){}}class FD extends S{constructor(e,t,i){super({name:"Locust Ability",owner:e,triggers:["FoodEatenByThis","ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=t,this.abilityService=i}executeAbility(e){var t,i,r,a,s;const{gameApi:o,tiger:l,pteranodon:c}=e,d=this.owner,p=d,g=null!==(t=null==o?void 0:o.turnNumber)&&void 0!==t?t:0;if(p.locustFoodTurn!==g&&(p.locustFoodTurn=g,p.locustFoodEaten=0),"FoodEatenByThis"===e.trigger&&d.alive)return void(p.locustFoodEaten=(null!==(i=p.locustFoodEaten)&&void 0!==i?i:0)+1);if("ThisDied"!==e.trigger)return void this.triggerTigerExecution(e);const k=null!==(r=p.locustFoodEaten)&&void 0!==r?r:0;if(k<=0)return void this.triggerTigerExecution(e);const T=3*this.level;let E=0;const L=null!==(s=null!==(a=d.position)&&void 0!==a?a:d.savedPosition)&&void 0!==s?s:0;for(let R=0;R<k;R++){const x=new Jee(this.logService,this.abilityService,d.parent,T,T);if(!d.parent.summonPet(x,L,!1,d).success)break;E++}this.logService.createLog({message:`${d.name} summoned ${E} ${T}/${T} plain Locust${1===E?"":"s"}.`,type:"ability",player:d.parent,tiger:l,pteranodon:c}),this.triggerTigerExecution(e)}copy(e){return new FD(e,this.logService,this.abilityService)}}class ND extends S{constructor(e,t){super({name:"Poodle Moth Ability",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",maxUses:e.level,native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:r}=e,a=this.owner;t&&t.parent===a.parent?(t.increaseExp(3),this.logService.createLog({message:`${a.name} gave ${t.name} +3 experience after transforming.`,type:"ability",player:a.parent,tiger:i,pteranodon:r}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new ND(e,this.logService)}}class BD extends S{constructor(e,t){super({name:"Racket Tail Ability",owner:e,triggers:["BeforeFriendAttacks"],abilityType:"Pet",maxUses:e.level,native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:r}=e,a=this.owner;if(!t||t.parent!==a.parent||!t.alive)return void this.triggerTigerExecution(e);const o=Je.getInjector().get(Dt).getInstanceOfAllEquipment().get("Strawberry");o&&t.givePetEquipment(o),t.increaseAttack(5),this.logService.createLog({message:`${a.name} gave ${t.name} Strawberry and +5 attack before attacking.`,type:"ability",player:a.parent,tiger:i,pteranodon:r}),this.triggerTigerExecution(e)}copy(e){return new BD(e,this.logService)}}class OD extends S{constructor(e,t){super({name:"Spider Crab Ability",owner:e,triggers:["BeforeFriendAttacks","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.affectedPets=new Set,this.logService=t}executeAbility(e){const t=this.owner,{triggerPet:i,tiger:r,pteranodon:a}=e;if("StartTurn"===e.trigger)return this.affectedPets.clear(),void this.triggerTigerExecution(e);i&&i.parent===t.parent?(this.affectedPets.has(i)||this.affectedPets.size>=this.level||(i.increaseHealth(4),i.parent.pushPetToBack(i),this.affectedPets.add(i),this.logService.createLog({message:`${t.name} moved ${i.name} to the back and gave it +4 health.`,type:"ability",player:t.parent,tiger:r,pteranodon:a})),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new OD(e,this.logService)}}class $D extends S{constructor(e,t){super({name:"Spiny Bush Viper Ability",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){var t,i,r,a;const s=this.owner,o=s.parent.opponent.petArray.filter(p=>p&&p.alive);if(0===o.length)return void this.triggerTigerExecution(e);const l=pa([...o]).slice(0,Math.min(2,o.length)),c=null!==(i=null!==(t=s.position)&&void 0!==t?t:s.savedPosition)&&void 0!==i?i:0,d=[];for(const p of l){const g=null!==(a=null!==(r=p.position)&&void 0!==r?r:p.savedPosition)&&void 0!==a?a:0,k=Math.max(1,Math.abs(c-g)),T=Math.max(1,this.level)*k;s.dealDamage(p,T),d.push(`${T} to ${p.name}`)}d.length>0&&this.logService.createLog({message:`${s.name} dealt ${d.join(" and ")}.`,type:"ability",player:s.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new $D(e,this.logService)}}class ate extends y{constructor(e,t,i,r,a){super(e,t,i),this.name="Tardigrade",this.tier=1,this.pack="Custom",this.attack=3,this.health=3,this.initPet(0,r,a,0,void 0,0)}initAbilities(){}}class HD extends S{constructor(e,t,i){super({name:"Tardigrade Ability",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=t,this.abilityService=i}executeAbility(e){var t,i;const r=this.owner,a=3*Math.max(1,this.level),s=null!==(i=null!==(t=r.position)&&void 0!==t?t:r.savedPosition)&&void 0!==i?i:0,o=new ate(this.logService,this.abilityService,r.parent,a,a);r.parent.summonPet(o,s,!1,r).success&&(o.givePetEquipment(new kp),this.logService.createLog({message:`${r.name} summoned a ${a}/${a} level ${this.level} Tardigrade (Dazed).`,type:"ability",player:r.parent,tiger:e.tiger,pteranodon:e.pteranodon})),this.triggerTigerExecution(e)}copy(e){return new HD(e,this.logService,this.abilityService)}}class GD extends S{constructor(e,t){super({name:"Trout Ability",owner:e,triggers:["FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=e.triggerPet;if(!i||i.sellValue<3)return void this.triggerTigerExecution(e);const r=Math.max(1,this.level),a=2*r;t.increaseAttack(r),t.increaseHealth(a),this.logService.createLog({message:`${t.name} gained +${r}/+${a} after ${i.name} was sold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new GD(e,this.logService)}}class qD extends S{constructor(e,t){super({name:"Yeti Crab Ability",owner:e,triggers:["PetLostPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=e.triggerPet,{tiger:r,pteranodon:a}=e;if(i){if(i.parent===t.parent){const s=t.parent.getSpecificPet(t,i),o=new Nw;i.givePetEquipment(o),this.logService.createLog({message:`${t.name} gave ${i.name} a Melon Slice after losing a perk.`,type:"ability",player:t.parent,tiger:r,randomEvent:s.random})}else t.dealDamage(i,6),this.logService.createLog({message:`${t.name} dealt 6 damage to ${i.name} after they lost a perk.`,type:"ability",player:t.parent,tiger:r,pteranodon:a});this.triggerTigerExecution(e)}}copy(e){return new qD(e,this.logService)}}class VD extends S{constructor(e,t){super({name:"Blue Jay Ability",owner:e,triggers:["FoodEatenByThis","StartTurn","ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.foodsEatenThisTurn=0,this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"!==e.trigger)if("FoodEatenByThis"!==e.trigger){if("ThisDied"===e.trigger){const r=this.level*this.foodsEatenThisTurn;if(r<=0)return void this.triggerTigerExecution(e);const a=t.parent.petArray.filter(o=>o&&o!==t&&o.alive);if(0===a.length)return void this.triggerTigerExecution(e);pa(a);const s=a.slice(0,3);for(const o of s)o.increaseAttack(r),o.increaseHealth(r);this.logService.createLog({message:`${t.name} gave ${s.map(o=>o.name).join(", ")} +${r}/+${r} after fainting.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}else this.foodsEatenThisTurn++;else this.foodsEatenThisTurn=0}copy(e){return new VD(e,this.logService)}}class UD extends S{constructor(e,t){super({name:"Brahma Chicken Ability",owner:e,triggers:["FriendAttacked","ThisDied","StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.attackers=new Set,this.logService=t}executeAbility(e){const t=this.owner,{triggerPet:i,tiger:r,pteranodon:a}=e;if("StartBattle"!==e.trigger){if("FriendAttacked"===e.trigger&&i&&i.parent===t.parent)this.attackers.add(i);else if("ThisDied"===e.trigger){const s=pa(Array.from(this.attackers).filter(d=>d&&d.alive)),o=Math.min(3,s.length),l=this.level,c=s.slice(0,o);for(const d of c)d.increaseAttack(l),d.increaseHealth(l);c.length>0&&this.logService.createLog({message:`${t.name} gave ${c.map(d=>d.name).join(", ")} +${l}/+${l} after fainting.`,type:"ability",player:t.parent,tiger:r,pteranodon:a}),this.triggerTigerExecution(e)}}else this.attackers.clear()}copy(e){return new UD(e,this.logService)}}class dte extends y{constructor(e,t,i,r,a){super(e,t,i),this.name="Estemmenosuchus's Ally",this.tier=1,this.pack="Custom",this.attack=1,this.health=1,this.initPet(0,a,r,0,void 0,0)}initAbilities(){}}class WD extends S{constructor(e,t,i){super({name:"Estemmenosuchus Ability",owner:e,triggers:["ThisAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>this.executeAbility(r)}),this.triggered=!1,this.logService=t,this.abilityService=i}countAilments(){return this.owner.parent.petArray.filter(t=>{var i;const r=null===(i=null==t?void 0:t.equipment)||void 0===i?void 0:i.equipmentClass;return!!r&&r.startsWith("ailment")}).length}executeAbility(e){var t,i;if(this.triggered)return void this.triggerTigerExecution(e);const r=this.owner,a=Math.max(0,this.countAilments()),s=Math.max(1,a+1),o=Math.min(this.level,3),l=null!==(i=null!==(t=r.position)&&void 0!==t?t:r.savedPosition)&&void 0!==i?i:0;let c=0;for(let d=0;d<o;d++){const p=new dte(this.logService,this.abilityService,r.parent,s,s);if(!r.parent.summonPet(p,l,!1,r).success)break;c++}c>0&&this.logService.createLog({message:`${r.name} summoned ${c} ally${1===c?"":"ies"} with +${s}/+${s} after its first attack.`,type:"ability",player:r.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggered=!0,this.triggerTigerExecution(e)}copy(e){return new WD(e,this.logService,this.abilityService)}}class jD extends S{constructor(e,t){super({name:"Farmer Crow Ability",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=Math.min(t.level,3),a=t.parent.nearestPetsBehind(i,t),s=a.pets;for(const o of s)for(let l=0;l<3;l++){const c=new Ru;c.effectMultiplier=3,o.applyEquipment(c)}s.length>0&&this.logService.createLog({message:`${t.name} fed Corncobs with 3x effect to ${s.length} friend${1===s.length?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:a.random}),this.triggerTigerExecution(e)}copy(e){return new jD(e,this.logService)}}class zD extends S{constructor(e,t){super({name:"Flounder Ability",owner:e,triggers:["FoodEatenByThis","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.foodsEaten=0,this.triggeredThisTurn=!1,this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.foodsEaten=0,this.triggeredThisTurn=!1,void this.triggerTigerExecution(e);if(this.triggeredThisTurn)return void this.triggerTigerExecution(e);if(this.foodsEaten++,this.foodsEaten<2)return void this.triggerTigerExecution(e);const i=this.level,r=t.parent.nearestPetsBehind(2,t);for(const a of r.pets)a.increaseExp(i),this.logService.createLog({message:`${t.name} gave ${a.name} ${i} exp.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:r.random});this.triggeredThisTurn=!0,this.triggerTigerExecution(e)}copy(e){return new zD(e,this.logService)}}class KD extends S{constructor(e,t){super({name:"Giant Isopod Ability",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.triggerCount=0,this.logService=t}executeAbility(e){const t=this.owner,a=[2,4,6][Math.min(Math.max(this.level-1,0),2)]+Math.floor(this.triggerCount/2),s=t.parent.petArray.filter(o=>o&&o.alive&&o!==t);for(const o of s)o.increaseHealth(a);this.logService.createLog({message:`${t.name} gave ${s.length} friends +${a} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),t.parent.trumpets>=2&&t.parent.spendTrumpets(2,t),this.triggerCount++,this.triggerTigerExecution(e)}copy(e){return new KD(e,this.logService)}}class YD extends S{constructor(e,t){super({name:"Jackal Ability",owner:e,triggers:["AnyoneFlung"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=e.triggerPet;if(!i||i!==t)return;const r=[13,26,39],a=r[Math.min(Math.max(this.level-1,0),r.length-1)];t.attack=a,t.health=a,this.logService.createLog({message:`${t.name} was flung and reset to ${a}/${a}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new YD(e,this.logService)}}class QD extends S{constructor(e,t){super({name:"Lusca Ability",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.mana;if(i<=0)return void this.triggerTigerExecution(e);t.mana=0;const s=t.parent.opponent.getRandomPets(this.level,[],!1,!1,t).pets;if(0!==s.length){for(const o of s){const l=i,c=Math.max(0,o.attack-l),d=Math.max(0,o.health-l);o.attack=c,o.health=Math.max(1,d)}this.logService.createLog({message:`${t.name} spent ${i} mana and drained ${s.map(o=>o.name).join(", ")}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new QD(e,this.logService)}}class ZD extends S{constructor(e,t){super({name:"Maltese Ability",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent,r=t.petBehind();if(!r)return void this.triggerTigerExecution(e);const a=i.trumpets;a>0&&i.spendTrumpets(a,t,e.pteranodon);const l=3*this.level+a*this.level;r.increaseMana(l),this.logService.createLog({message:`${t.name} spent ${a} trumpets to give ${r.name} +${l} mana.`,type:"ability",player:i,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new ZD(e,this.logService)}}class JD extends S{constructor(e,t){super({name:"Namazu Ability",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.mana;if(i<=0)return void this.triggerTigerExecution(e);const s=Math.min(Math.max(this.level-1,0),2),c=[3,6,9][s]+i*[1,2,3][s];t.parent.gainTrumpets(c,t,e.pteranodon),t.mana=0,this.logService.createLog({message:`${t.name} spent ${i} mana and gained ${c} trumpets.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new JD(e,this.logService)}}class XD extends S{constructor(e,t){super({name:"Pacific Fanfish Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=4*this.level,r=t.parent.petArray.filter(s=>s&&s!==t&&s.alive&&s.sellValue>=3);if(0===r.length)return void this.triggerTigerExecution(e);const a=i*r.length;t.increaseAttack(a),t.increaseHealth(a),this.logService.createLog({message:`${t.name} gained +${a}/+${a} from ${r.length} friend(s) with \u22653 sell value.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new XD(e,this.logService)}}class eL extends S{constructor(e,t){super({name:"Tarasque Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,a=[.25,.5,.75][Math.min(Math.max(t.level-1,0),2)],s=t.parent.petArray.filter(k=>k&&k.alive);if(0===s.length)return void this.triggerTigerExecution(e);let o=0,l=0;for(const k of s){const T=Math.floor(k.attack*a),E=Math.floor(k.health*a);k.attack=Math.max(1,k.attack-T),k.health=Math.max(1,k.health-E),o+=T,l+=E}const c=Math.floor(o/s.length),d=Math.floor(l/s.length),p=o%s.length,g=l%s.length;for(let k=0;k<s.length;k++){const T=s[k];let E=c+(k<p?1:0),L=d+(k<g?1:0);E>0&&T.increaseAttack(E),L>0&&T.increaseHealth(L)}this.logService.createLog({message:`${t.name} redistributed ${o}/${l} stats across ${s.length} pets.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new eL(e,this.logService)}}class tL extends S{constructor(e,t){super({name:"Akhlut Ability",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if(t.mana<2)return;t.mana=Math.max(t.mana-2,0);const i=t.parent.nearestPetsBehind(1,t,[t]),r=i.pets[0];if(!r)return;const a=3*this.level;r.increaseAttack(a),r.increaseHealth(a),this.logService.createLog({message:`${t.name} spent 2 mana to give ${r.name} +${a}/+${a}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new tL(e,this.logService)}}class iL extends S{constructor(e,t){super({name:"Bakunawa Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.opponent.petArray.filter(o=>{var l;return o&&o.alive&&"Sleepy"!==(null===(l=o.equipment)||void 0===l?void 0:l.name)}).sort((o,l)=>{var c,d;return l.attack!==o.attack?l.attack-o.attack:(null!==(c=o.position)&&void 0!==c?c:0)-(null!==(d=l.position)&&void 0!==d?d:0)});if(0===i.length)return void this.triggerTigerExecution(e);const r=i.slice(0,Math.min(this.level,i.length));for(const o of r){const l=new pP;l.multiplier+=this.level-1,o.givePetEquipment(l)}const a=["."," twice for double effect."," thrice for triple effect."],s=`${t.name} made ${r.map(o=>o.name).join(", ")} Sleepy${a[Math.min(this.level,a.length)-1]}`;this.logService.createLog({message:s,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new iL(e,this.logService)}}class nL extends S{constructor(e,t){super({name:"Black Bear Ability",owner:e,triggers:["StartTurn","FoodEatenByThis","ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.foodsEatenThisTurn=0,this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"!==e.trigger)if("FoodEatenByThis"!==e.trigger){if("ThisDied"===e.trigger){const r=4*this.level*this.foodsEatenThisTurn;if(r<=0)return void this.triggerTigerExecution(e);const a=t.parent.opponent.getRandomPets(1,[],!1,!0,t),s=a.pets[0];if(!s)return void this.triggerTigerExecution(e);t.dealDamage(s,r),this.logService.createLog({message:`${t.name} dealt ${r} damage to ${s.name} after eating ${this.foodsEatenThisTurn} food item${1===this.foodsEatenThisTurn?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:a.random}),this.triggerTigerExecution(e)}}else this.foodsEatenThisTurn++;else this.foodsEatenThisTurn=0}copy(e){return new nL(e,this.logService)}}class rL extends S{constructor(e,t){super({name:"Chimpanzee Ability",owner:e,triggers:["CornEatenByFriend"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.getSpecificPet(t,e.triggerPet),r=i.pet;if(!r)return void this.triggerTigerExecution(e);const a=this.level;r.increaseAttack(a),r.increaseHealth(a),this.logService.createLog({message:`${t.name} gave ${r.name} +${a}/+${a} after eating Corncob.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new rL(e,this.logService)}}class sL extends S{constructor(e,t){super({name:"Coconut Crab Ability",owner:e,triggers:["Eat2","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.hasCoconut=!1,this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"!==e.trigger){if("Eat2"===e.trigger){const i=new ga;i.uses=this.level,i.originalUses=this.level,t.givePetEquipment(i),this.hasCoconut=!0,this.logService.createLog({message:`${t.name} gained Coconut perk that works ${1===this.level?"once":2===this.level?"twice":"thrice"} until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}else this.hasCoconut&&(t.removePerk(!0),this.hasCoconut=!1)}copy(e){return new sL(e,this.logService)}}class aL extends S{constructor(e,t){super({name:"Dunkleosteus Ability",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.equipment;if(!i||!this.isAilmentEquipment(i))return void this.triggerTigerExecution(e);const r=t.parent.opponent.petArray.filter(c=>c&&c.alive);if(0===r.length)return void this.triggerTigerExecution(e);const a=(0,mi.cloneDeep)(i);t.removePerk(!0);const s=r.slice(0,Math.min(this.level,r.length));for(const c of s){const d=(0,mi.cloneDeep)(a);d.multiplier+=this.level-1,c.givePetEquipment(d)}const o=["."," twice for double effect."," thrice for triple effect."],l=`${t.name} moved ${a.name} to ${s.map(c=>c.name).join(", ")}${o[Math.min(this.level,o.length)-1]}`;this.logService.createLog({message:l,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}isAilmentEquipment(e){return"ailment-attack"===e.equipmentClass||"ailment-defense"===e.equipmentClass||"ailment-other"===e.equipmentClass}copy(e){return new aL(e,this.logService)}}class oL extends S{constructor(e,t){super({name:"Eagle Owl Ability",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){var t;const i=this.owner,r=Math.max(0,null!==(t=i.battlesFought)&&void 0!==t?t:0);if(r<=0)return void this.triggerTigerExecution(e);const s=r*this.level,o=i.parent.getRandomPets(3,[i],!0,!1,i),l=o.pets;if(0!==l.length){for(const c of l)c.increaseAttack(s),c.increaseHealth(s);this.logService.createLog({message:`${i.name} gave ${l.map(c=>c.name).join(", ")} +${s}/+${s} after fighting ${r} battle${1===r?"":"s"}.`,type:"ability",player:i.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:o.random}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new oL(e,this.logService)}}class lL extends S{constructor(e,t){super({name:"Hooded Seal Ability",owner:e,triggers:["FriendTransformed","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.usesThisTurn=0,this.logService=t}executeAbility(e){if("StartTurn"===e.trigger)return void(this.usesThisTurn=0);if(this.usesThisTurn>=2)return void this.triggerTigerExecution(e);const t=e.triggerPet;if(!t)return void this.triggerTigerExecution(e);this.usesThisTurn++;const i=nP(this.level);t.exp=Math.min(t.exp,i),t.resetAbilityUses(),this.logService.createLog({message:`${this.owner.name} capped ${t.name} to level ${this.level}.`,type:"ability",player:this.owner.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new lL(e,this.logService)}}class cL extends S{constructor(e,t){super({name:"LampreyAbility",owner:e,triggers:["FriendDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:r}=e,a=this.owner;if(!t)return void this.triggerTigerExecution(e);const s=a.parent.nearestPetsAhead(this.level,a);if(0===s.pets.length)return void this.triggerTigerExecution(e);const o=s.pets;for(const c of o)a.dealDamage(c,1);const l=o.map(c=>c.name).join(", ");this.logService.createLog({message:`${a.name} dealt 1 damage to ${l} when ${t.name} fainted.`,type:"ability",player:a.parent,tiger:i,pteranodon:r,randomEvent:s.random}),this.triggerTigerExecution(e)}copy(e){return new cL(e,this.logService)}}class uL extends S{constructor(e,t){super({name:"MarkhorAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:r}=e,a=t.parent;if(a.trumpets<4)return void this.triggerTigerExecution(e);const s=a.petArray.filter(k=>k&&k!==t&&k.alive);if(0===s.length)return void this.triggerTigerExecution(e);a.trumpets-=4;const o=4*this.level,l=4*this.level,c=Math.floor(o/s.length),d=Math.floor(l/s.length),p=o-c*s.length,g=l-d*s.length;for(let k=0;k<s.length;k++){const T=s[k],L=k<g?1:0;T.increaseAttack(c+(k<p?1:0)),T.increaseHealth(d+L)}this.logService.createLog({message:`${t.name} spent 4 trumpets to grant ${o}/${l} evenly among ${s.length} friends.`,type:"ability",player:a,tiger:i,pteranodon:r}),this.triggerTigerExecution(e)}copy(e){return new uL(e,this.logService)}}class hL extends S{constructor(e,t){super({name:"SmallOneAbility",owner:e,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:r}=e,a=t.parent.getAll(!0,t).pets.filter(l=>l&&l!==t);if(0!==a.length){for(let l=0;l<this.level;l++)for(const c of a)t.dealDamage(c,c.parent===t.parent?2:4);this.logService.createLog({message:`${t.name} dealt 2 (4 vs enemies) damage ${this.level}x to all other pets.`,type:"ability",player:t.parent,tiger:i,pteranodon:r}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new hL(e,this.logService)}}class dL extends S{constructor(e,t){super({name:"SunfishAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){var t;const i=this.owner,{gameApi:r,tiger:a,pteranodon:s}=e,o=null!==(t=null==r?void 0:r.turnNumber)&&void 0!==t?t:1;if(o%2==0)return void this.triggerTigerExecution(e);const l=4*this.level,c=i.getPetsAhead(5,!0);if(0===c.length)return void this.triggerTigerExecution(e);for(const p of c)i.dealDamage(p,l);const d=c.map(p=>p.name).join(", ");this.logService.createLog({message:`${i.name} hit ${d} ahead for ${l} damage because turn ${o} is odd.`,type:"ability",player:i.parent,tiger:a,pteranodon:s}),this.triggerTigerExecution(e)}copy(e){return new dL(e,this.logService)}}class pL extends S{constructor(e,t){super({name:"TerrorBirdAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:r}=e,a=t.parent.petArray.filter(o=>{var l;return o&&o!==t&&o.alive&&"Strawberry"===(null===(l=o.equipment)||void 0===l?void 0:l.name)}).sort((o,l)=>o.position-l.position).slice(0,this.level);if(0===a.length)return void this.triggerTigerExecution(e);for(const o of a)o.givePetEquipment(new Ry);const s=a.map(o=>o.name).join(", ");this.logService.createLog({message:`${t.name} gave Peanut to ${s} at start of battle.`,type:"ability",player:t.parent,tiger:i,pteranodon:r}),this.triggerTigerExecution(e)}copy(e){return new pL(e,this.logService)}}class mL extends S{constructor(e,t){super({name:"VampireSquidAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){var t;const{tiger:i,pteranodon:r}=e,a=this.owner,s=new Map;for(const d of a.parent.petArray)!d||d===a||!d.alive||!d.equipment||!(null!==(t=d.equipment.equipmentClass)&&void 0!==t?t:"").startsWith("ailment")||s.has(d.equipment.name)||s.set(d.equipment.name,d);if(0===s.size)return void this.triggerTigerExecution(e);const o=this.level,l=2*this.level,c=[];s.forEach(d=>{d.increaseAttack(o),d.increaseHealth(l),c.push(d.name)}),this.logService.createLog({message:`${a.name} gave ${c.join(", ")} +${o}/+${l} at end of turn for having unique ailments.`,type:"ability",player:a.parent,tiger:i,pteranodon:r}),this.triggerTigerExecution(e)}copy(e){return new mL(e,this.logService)}}class gL extends S{constructor(e,t){super({name:"WinterSpiritAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=r.getPetsAhead(2);if(0===a.length)return void this.triggerTigerExecution(e);const s=5*this.level,o=[];for(const l of a)l.increaseMana(s),o.push(l.name);this.logService.createLog({message:`${r.name} gave ${o.join(", ")} +${s} mana at end of turn.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new gL(e,this.logService)}}class fL extends S{constructor(e,t){super({name:"YellowBoxfishAbility",owner:e,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=r.parent.getAll(!0,r).pets.filter(c=>c&&c.alive&&c!==r);if(0===a.length)return void this.triggerTigerExecution(e);const o=[...a].sort((c,d)=>d.attack+d.health-(c.attack+c.health)).slice(0,this.level);if(0===o.length)return void this.triggerTigerExecution(e);for(const c of o)c.attack=20,c.health=20;const l=o.map(c=>c.name).join(", ");this.logService.createLog({message:`${r.name} set ${l} to 20/20 at faint.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new fL(e,this.logService)}}const Gte={Ant:kP,Cricket:class xU extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Cricket",this.tier=1,this.pack="Turtle",this.health=3,this.attack=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new PP(this,this.logService,this.abilityService)),super.initAbilities()}},Fish:i4,Horse:class DU extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Horse",this.tier=1,this.pack="Turtle",this.health=1,this.attack=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new TP(this,this.logService)),super.initAbilities()}},Mosquito:class LU extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Mosquito",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new _P(this,this.logService)),super.initAbilities()}},Duck:r4,Beaver:s4,Otter:class IU extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Otter",this.tier=1,this.pack="Turtle",this.health=4,this.attack=1,this.initPet(o,r,a,s,l,c)}},Pig:class MU extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Pig",this.tier=1,this.pack="Turtle",this.health=1,this.attack=4,this.initPet(o,r,a,s,l,c)}},Snail:class NU extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Snail",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,r,a,s,l,c)}},Crab:class BU extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Crab",this.tier=2,this.pack="Turtle",this.health=1,this.attack=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new xP(this,this.logService)),super.initAbilities()}},Swan:class OU extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Swan",this.tier=2,this.pack="Turtle",this.health=2,this.attack=1,this.initPet(o,r,a,s,l,c)}},Rat:class $U extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Rat",this.tier=2,this.pack="Turtle",this.health=6,this.attack=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new DP(this,this.logService,this.abilityService)),super.initAbilities()}},Hedgehog:class HU extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Hedgehog",this.tier=2,this.pack="Turtle",this.attack=4,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new LP(this,this.logService)),super.initAbilities()}},Peacock:class GU extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Peacock",this.tier=2,this.pack="Turtle",this.health=5,this.attack=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new IP(this,this.logService)),super.initAbilities()}},Flamingo:class qU extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Flamingo",this.tier=2,this.pack="Turtle",this.health=2,this.attack=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new MP(this,this.logService)),super.initAbilities()}},Worm:class VU extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Worm",this.tier=2,this.pack="Turtle",this.health=4,this.attack=1,this.initPet(o,r,a,s,l,c)}},Kangaroo:class UU extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Kangaroo",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new RP(this,this.logService)),super.initAbilities()}},Dodo:class WU extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Dodo",this.tier=3,this.pack="Turtle",this.health=2,this.attack=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new BP(this,this.logService)),super.initAbilities()}},Badger:class jU extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Badger",this.tier=3,this.pack="Turtle",this.health=3,this.attack=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new OP(this,this.logService)),super.initAbilities()}},Dolphin:o4,Giraffe:class zU extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Giraffe",this.tier=3,this.pack="Turtle",this.attack=1,this.health=2,this.initPet(o,r,a,s,l,c)}},Elephant:class KU extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Elephant",this.tier=3,this.pack="Turtle",this.health=7,this.attack=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new HP(this,this.logService)),super.initAbilities()}},Camel:class YU extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Camel",this.tier=3,this.pack="Turtle",this.health=3,this.attack=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new GP(this,this.logService)),super.initAbilities()}},Rabbit:class QU extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Rabbit",this.tier=3,this.pack="Turtle",this.health=2,this.attack=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new qP(this,this.logService)),super.initAbilities()}},Ox:class ZU extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Ox",this.tier=3,this.pack="Turtle",this.health=3,this.attack=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new VP(this,this.logService)),super.initAbilities()}},Dog:class JU extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Dog",this.tier=3,this.pack="Turtle",this.attack=3,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new UP(this,this.logService)),super.initAbilities()}},Sheep:class XU extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Sheep",this.tier=3,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new jP(this,this.logService,this.abilityService)),super.initAbilities()}},Skunk:class tW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Skunk",this.tier=4,this.pack="Turtle",this.attack=3,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new QP(this,this.logService)),super.initAbilities()}},Hippo:class iW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Hippo",this.tier=4,this.pack="Turtle",this.attack=4,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new ZP(this,this.logService)),super.initAbilities()}},Bison:class nW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Bison",this.tier=4,this.pack="Turtle",this.attack=4,this.health=4,this.initPet(o,r,a,s,l,c)}},Blowfish:class rW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Blowfish",this.tier=4,this.pack="Turtle",this.attack=3,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new JP(this,this.logService)),super.initAbilities()}},Turtle:class sW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Turtle",this.tier=4,this.pack="Turtle",this.attack=2,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new XP(this,this.logService)),super.initAbilities()}},Squirrel:class aW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Squirrel",this.tier=4,this.pack="Turtle",this.attack=3,this.health=5,this.initPet(o,r,a,s,l,c)}},Penguin:class oW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Penguin",this.tier=4,this.pack="Turtle",this.attack=2,this.health=4,this.initPet(o,r,a,s,l,c)}},Deer:class lW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Deer",this.tier=4,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new tw(this,this.logService,this.abilityService)),super.initAbilities()}},Scorpion:class cW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Scorpion",this.tier=5,this.pack="Turtle",this.attack=1,this.health=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new aw(this,this.logService)),super.initAbilities()}},Crocodile:class uW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Crocodile",this.tier=5,this.pack="Turtle",this.attack=8,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new ow(this,this.logService)),super.initAbilities()}},Rhino:class hW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Rhino",this.tier=5,this.pack="Turtle",this.attack=6,this.health=9,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new lw(this,this.logService)),super.initAbilities()}},Monkey:p4,Armadillo:class dW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Armadillo",this.tier=5,this.pack="Turtle",this.attack=4,this.health=8,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new cw(this,this.logService)),super.initAbilities()}},Cow:class pW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Cow",this.tier=5,this.pack="Turtle",this.attack=4,this.health=6,this.initPet(o,r,a,s,l,c)}},Seal:class mW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Seal",this.tier=5,this.pack="Turtle",this.attack=3,this.health=8,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new uw(this,this.logService)),super.initAbilities()}},Rooster:class gW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Rooster",this.tier=5,this.pack="Turtle",this.attack=6,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new pw(this,this.logService,this.abilityService)),super.initAbilities()}},Shark:class fW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Shark",this.tier=5,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new mw(this,this.logService)),super.initAbilities()}},Turkey:class yW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Turkey",this.tier=5,this.pack="Turtle",this.attack=3,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new gw(this,this.logService)),super.initAbilities()}},Leopard:class vW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Leopard",this.tier=6,this.pack="Turtle",this.attack=10,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new fw(this,this.logService)),super.initAbilities()}},Boar:class bW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Boar",this.tier=6,this.pack="Turtle",this.attack=10,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new yw(this,this.logService)),super.initAbilities()}},Tiger:class eW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Tiger",this.tier=6,this.pack="Turtle",this.attack=6,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new zP(this,this.logService,this.abilityService)),super.initAbilities()}},Wolverine:class AW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Wolverine",this.tier=6,this.pack="Turtle",this.attack=5,this.health=7,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new vw(this,this.logService,this.abilityService)),super.initAbilities()}},Gorilla:class kW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Gorilla",this.tier=6,this.pack="Turtle",this.attack=7,this.health=10,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new bw(this,this.logService)),super.initAbilities()}},Dragon:class SW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Dragon",this.tier=6,this.pack="Turtle",this.attack=3,this.health=8,this.initPet(o,r,a,s,l,c)}},Mammoth:class PW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Mammoth",this.tier=6,this.pack="Turtle",this.attack=4,this.health=12,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Aw(this,this.logService)),super.initAbilities()}},Cat:class wW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Cat",this.tier=6,this.pack="Turtle",this.attack=4,this.health=5,this.initPet(o,r,a,s,l,c)}},Snake:class TW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Snake",this.tier=6,this.pack="Turtle",this.attack=6,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new kw(this,this.logService)),super.initAbilities()}},Fly:class _W extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Fly",this.tier=6,this.pack="Turtle",this.attack=5,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new ww(this,this.logService,this.abilityService)),super.initAbilities()}},Moth:class CW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Moth",this.tier=1,this.pack="Puppy",this.health=3,this.attack=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Tw(this,this.logService)),super.initAbilities()}},Bluebird:class EW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Bluebird",this.tier=1,this.pack="Puppy",this.attack=2,this.health=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new _w(this,this.logService,this.abilityService)),super.initAbilities()}},Chinchilla:class xW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Chinchilla",this.tier=1,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Cw(this,this.logService,this.abilityService)),super.initAbilities()}},Beetle:class DW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Beetle",this.tier=1,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Ew(this,this.logService,this.abilityService)),super.initAbilities()}},Ladybug:class LW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Ladybug",this.tier=1,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new xw(this,this.logService)),super.initAbilities()}},Chipmunk:class IW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Chipmunk",this.tier=1,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Dw(this,this.logService,this.abilityService)),super.initAbilities()}},Gecko:class MW extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Gecko",this.tier=1,this.pack="Puppy",this.attack=3,this.health=1,this.toyPet=!0,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Lw(this,this.logService)),super.initAbilities()}},Ferret:class wz extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Ferret",this.tier=1,this.pack="Puppy",this.attack=1,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Ww(this,this.logService,this.abilityService)),super.initAbilities()}},Robin:class Cz extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Robin",this.tier=2,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Kw(this,this.logService,this.abilityService)),super.initAbilities()}},Bat:class Tz extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Bat",this.tier=2,this.pack="Puppy",this.attack=2,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new jw(this,this.logService)),super.initAbilities()}},Bilby:class _z extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Bilby",this.tier=2,this.pack="Puppy",this.attack=2,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new zw(this,this.logService)),super.initAbilities()}},Dromedary:class Ez extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Dromedary",this.tier=2,this.pack="Puppy",this.attack=2,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Yw(this,this.logService,this.abilityService)),super.initAbilities()}},Shrimp:class xz extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Shrimp",this.tier=2,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Qw(this,this.logService,this.abilityService)),super.initAbilities()}},Toucan:class Dz extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Toucan",this.tier=3,this.pack="Puppy",this.attack=4,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Zw(this,this.logService)),super.initAbilities()}},"Beluga Sturgeon":class Lz extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Beluga Sturgeon",this.tier=2,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Jw(this,this.logService,this.abilityService)),super.initAbilities()}},"Tabby Cat":class Iz extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Tabby Cat",this.tier=2,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Xw(this,this.logService)),super.initAbilities()}},Mandrill:class Mz extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Mandrill",this.tier=2,this.pack="Puppy",this.attack=3,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new eT(this,this.logService,this.abilityService)),super.initAbilities()}},Lemur:I4,"Hoopoe Bird":class Rz extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Hoopoe Bird",this.tier=3,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new iT(this,this.logService)),super.initAbilities()}},"Tropical Fish":class Fz extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Tropical Fish",this.tier=3,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new nT(this,this.logService,this.abilityService)),super.initAbilities()}},"Hatching Chick":class Nz extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Hatching Chick",this.tier=3,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new rT(this,this.logService,this.abilityService)),super.initAbilities()}},Owl:class Oz extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Owl",this.tier=3,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(o,r,a,s,l,c)}},Mole:M4,Raccoon:class $z extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Raccoon",this.tier=5,this.pack="Custom",this.attack=4,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new oT(this,this.logService)),super.initAbilities()}},Aardvark:class Gz extends y{constructor(e,t,i){super(e,t,i),this.name="Aardvark",this.tier=3,this.pack="Custom",this.attack=2,this.health=3}initAbilities(){this.abilityList=[new cT(this,this.logService)],super.initAbilities()}},Pegasus:class vee extends y{constructor(e,t,i){super(e,t,i),this.name="Pegasus",this.tier=4,this.pack="Custom",this.attack=2,this.health=4}initAbilities(){this.abilityList=[new aD(this,this.logService)],super.initAbilities()}},Barnacle:class qz extends y{constructor(e,t,i){super(e,t,i),this.name="Barnacle",this.tier=3,this.pack="Custom",this.attack=1,this.health=3}initAbilities(){this.abilityList=[new uT(this,this.logService)],super.initAbilities()}},"Blue Dragon":class Vz extends y{constructor(e,t,i){super(e,t,i),this.name="Blue Dragon",this.tier=3,this.pack="Custom",this.attack=3,this.health=4}initAbilities(){this.abilityList=[new hT(this,this.logService)],super.initAbilities()}},"Brazillian Treehopper":class Uz extends y{constructor(e,t,i){super(e,t,i),this.name="Brazillian Treehopper",this.tier=3,this.pack="Custom",this.attack=2,this.health=3}initAbilities(){this.abilityList=[new dT(this,this.logService)],super.initAbilities()}},"Flying Squirrel":class Wz extends y{constructor(e,t,i){super(e,t,i),this.name="Flying Squirrel",this.tier=3,this.pack="Custom",this.attack=3,this.health=3}initAbilities(){this.abilityList=[new pT(this,this.logService)],super.initAbilities()}},Pangolin:class jz extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Pangolin",this.tier=3,this.pack="Puppy",this.attack=2,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new mT(this,this.logService)),super.initAbilities()}},Puppy:class zz extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Puppy",this.tier=4,this.pack="Puppy",this.attack=3,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new gT(this,this.logService,this.abilityService)),super.initAbilities()}},"Purple Frog":class Kz extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Purple Frog",this.tier=3,this.pack="Puppy",this.attack=4,this.health=2,this.initPet(o,r,a,s,l,c)}},Hare:class cZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Hare",this.tier=3,this.pack="Puppy",this.health=4,this.attack=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new CE(this,this.logService)),super.initAbilities()}},Microbe:class Yz extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Microbe",this.tier=4,this.pack="Puppy",this.attack=4,this.health=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new fT(this,this.logService)),super.initAbilities()}},Lobster:class Qz extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Lobster",this.tier=4,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}},Buffalo:class Zz extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Buffalo",this.tier=4,this.pack="Puppy",this.attack=4,this.health=4,this.initPet(o,r,a,s,l,c)}},Llama:class Jz extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Llama",this.tier=4,this.pack="Puppy",this.attack=3,this.health=5,this.initPet(o,r,a,s,l,c)}},Caterpillar:class Xz extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Caterpillar",this.tier=4,this.pack="Puppy",this.attack=1,this.health=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new vT(this,this.logService,this.abilityService)),super.initAbilities()}},Doberman:class eK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Doberman",this.tier=4,this.pack="Puppy",this.attack=1,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new bT(this,this.logService)),super.initAbilities()}},Tahr:class tK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Tahr",this.tier=4,this.pack="Puppy",this.attack=5,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new AT(this,this.logService,this.abilityService)),super.initAbilities()}},"Whale Shark":class iK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Whale Shark",this.tier=4,this.pack="Puppy",this.attack=2,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new kT(this,this.logService,this.abilityService)),super.initAbilities()}},Chameleon:class oK extends y{constructor(e,t,i,r,a,s,o,l,c,d,p){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Chameleon",this.tier=4,this.pack="Puppy",this.attack=3,this.health=5,this.toyService=d,this.equipmentService=p,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new qT(this,this.logService,this.abilityService,this.equipmentService)),super.initAbilities()}},Gharial:class lK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Gharial",this.tier=3,this.pack="Puppy",this.attack=5,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new VT(this,this.logService,this.abilityService)),super.initAbilities()}},Stonefish:class cK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Stonefish",this.tier=5,this.pack="Puppy",this.attack=7,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new UT(this,this.logService)),super.initAbilities()}},Poodle:class uK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Poodle",this.tier=6,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new WT(this,this.logService)),super.initAbilities()}},Goat:class gK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Goat",this.tier=5,this.pack="Puppy",this.attack=4,this.health=6,this.initPet(o,r,a,s,l,c)}},Chicken:class hK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Chicken",this.tier=5,this.pack="Puppy",this.attack=3,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new jT(this,this.logService,this.abilityService)),super.initAbilities()}},"Orchid Mantis":class dK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Orchid Mantis",this.tier=5,this.pack="Puppy",this.attack=8,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new YT(this,this.logService,this.abilityService)),super.initAbilities()}},Panther:class pK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Panther",this.tier=5,this.pack="Puppy",this.attack=3,this.health=5,this.initPet(o,r,a,s,l,c)}},Axolotl:class mK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Axolotl",this.tier=5,this.pack="Puppy",this.attack=2,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new QT(this,this.logService)),super.initAbilities()}},"Snapping Turtle":class fK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Snapping Turtle",this.tier=5,this.pack="Puppy",this.attack=4,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new ZT(this,this.logService)),super.initAbilities()}},Mosasaurus:class yK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Mosasaurus",this.tier=5,this.pack="Puppy",this.attack=5,this.health=6,this.initPet(o,r,a,s,l,c)}friendlyToyBroke(e,t){let i=[],r=!1,a=this.parent.nearestPetsAhead(1,this);a.pets.length>0&&(i.push(a.pets[0]),r=a.random);let s=this.parent.nearestPetsBehind(1,this);if(s.pets.length>0&&(i.push(s.pets[0]),r=r||s.random),0==i.length)return;for(let l of i)this.logService.createLog({message:`${this.name} gave ${l.name} 2 attach and 3 health.`,type:"ability",player:this.parent,randomEvent:r,tiger:t}),l.increaseHealth(3),l.increaseAttack(2)}},"Sting Ray":class vK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Sting Ray",this.tier=5,this.pack="Puppy",this.attack=5,this.health=7,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new JT(this,this.logService,this.abilityService)),super.initAbilities()}},"Mantis Shrimp":class bK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Mantis Shrimp",this.tier=6,this.pack="Puppy",this.attack=9,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new XT(this,this.logService)),super.initAbilities()}},Lionfish:class AK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Lionfish",this.tier=6,this.pack="Puppy",this.attack=10,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new e_(this,this.logService)),super.initAbilities()}},Tyrannosaurus:class kK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Tyrannosaurus",this.tier=6,this.pack="Puppy",this.attack=7,this.health=7,this.initPet(o,r,a,s,l,c)}},Octopus:class SK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Octopus",this.tier=6,this.pack="Puppy",this.attack=8,this.health=8,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new t_(this,this.logService)),super.initAbilities()}},Anglerfish:class PK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Anglerfish",this.tier=6,this.pack="Puppy",this.attack=7,this.health=4,this.initPet(o,r,a,s,l,c)}},Sauropod:class wK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Sauropod",this.tier=6,this.pack="Puppy",this.attack=4,this.health=12,this.initPet(o,r,a,s,l,c)}},"Elephant Seal":class TK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Elephant Seal",this.tier=6,this.pack="Puppy",this.attack=4,this.health=8,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new i_(this,this.logService)),super.initAbilities()}},Puma:Cp,Mongoose:class _K extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Mongoose",this.tier=6,this.pack="Puppy",this.attack=7,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new n_(this,this.logService,this.abilityService)),super.initAbilities()}},Pillbug:class CK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Pillbug",this.tier=1,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new r_(this,this.logService,this.abilityService)),super.initAbilities()}},Duckling:class EK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Duckling",this.tier=1,this.pack="Custom",this.attack=1,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new s_(this,this.logService,this.abilityService)),super.initAbilities()}},Cockroach:class DK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Cockroach",this.tier=1,this.pack="Star",this.attack=1,this.health=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new a_(this,this.logService,this.abilityService)),super.initAbilities()}},Frog:class LK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Frog",this.tier=1,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new o_(this,this.logService)),super.initAbilities()}},Seahorse:class MK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Seahorse",this.tier=2,this.pack="Custom",this.attack=2,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new c_(this,this.logService)),super.initAbilities()}},Iguana:class RK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Iguana",this.tier=2,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new u_(this,this.logService)),super.initAbilities()}},Hummingbird:class FK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Hummingbird",this.tier=1,this.pack="Star",this.attack=2,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new h_(this,this.logService,this.abilityService)),super.initAbilities()}},Marmoset:class OQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Marmoset",this.tier=1,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new TC(this,this.logService,this.abilityService)),super.initAbilities()}},Pheasant:class sZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Pheasant",this.tier=1,this.pack="Star",this.attack=2,this.health=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new wE(this,this.logService,this.abilityService)),super.initAbilities()}},Kiwi:class rZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Kiwi",this.tier=1,this.pack="Star",this.attack=2,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new PE(this,this.logService)),super.initAbilities()}},Chihuahua:class IK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Chihuahua",this.tier=1,this.pack="Star",this.attack=4,this.health=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new l_(this,this.logService)),super.initAbilities()}},Firefly:class aZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Firefly",this.tier=1,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new TE(this,this.logService)),super.initAbilities()}},Koala:class NK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Koala",this.tier=2,this.pack="Star",this.attack=4,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new d_(this,this.logService)),super.initAbilities()}},Yak:class BK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Yak",this.tier=2,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new p_(this,this.logService)),super.initAbilities()}},Salamander:class $K extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Salamander",this.tier=2,this.pack="Star",this.attack=1,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new m_(this,this.logService)),super.initAbilities()}},Panda:class HK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Panda",this.tier=2,this.pack="Custom",this.attack=2,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new g_(this,this.logService)),super.initAbilities()}},"Guinea Pig":class GK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Guinea Pig",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,r,a,s,l,c)}},Jellyfish:class UK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Jellyfish",this.tier=2,this.pack="Star",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new y_(this,this.logService)),super.initAbilities()}},Pug:class qK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Pug",this.tier=3,this.pack="Star",this.attack=5,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new f_(this,this.logService)),super.initAbilities()}},"Atlantic Puffin":class WK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Atlantic Puffin",this.tier=2,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new v_(this,this.logService)),super.initAbilities()}},Dove:class jK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Dove",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new b_(this,this.logService)),super.initAbilities()}},"Dumbo Octopus":class OK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Dumbo Octopus",this.tier=2,this.pack="Star",this.health=5,this.attack=2,this.initPet(o,r,a,s,l,c)}},Bass:class oZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Bass",this.tier=2,this.pack="Star",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new _E(this,this.logService)),super.initAbilities()}},Leech:class zK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Leech",this.tier=3,this.pack="Star",this.attack=4,this.health=2,this.initPet(o,r,a,s,l,c)}},Woodpecker:class KK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Woodpecker",this.tier=5,this.pack="Star",this.attack=6,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new w_(this,this.logService)),super.initAbilities()}},Toad:class YK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Toad",this.tier=3,this.pack="Star",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new __(this,this.logService)),super.initAbilities()}},Starfish:class QK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Starfish",this.tier=5,this.pack="Star",this.attack=3,this.health=7,this.initPet(o,r,a,s,l,c)}},Clownfish:class ZK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Clownfish",this.tier=4,this.pack="Star",this.attack=3,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new C_(this,this.logService)),super.initAbilities()}},Blobfish:class JK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Blobfish",this.tier=5,this.pack="Star",this.attack=2,this.health=10,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new E_(this,this.logService)),super.initAbilities()}},Capybara:class XK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Capybara",this.tier=3,this.pack="Star",this.attack=2,this.health=5,this.initPet(o,r,a,s,l,c)}},Okapi:class eY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Okapi",this.tier=3,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,r,a,s,l,c)}},Cassowary:class tY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Cassowary",this.tier=3,this.pack="Star",this.attack=5,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new x_(this,this.logService)),super.initAbilities()}},Anteater:class pY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Anteater",this.tier=3,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new G_(this,this.logService,this.abilityService)),super.initAbilities()}},Orangutan:B4,Eel:class aY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Eel",this.tier=3,this.pack="Custom",this.attack=4,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new I_(this,this.logService)),super.initAbilities()}},Hawk:class lY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Hawk",this.tier=4,this.pack="Star",this.attack=4,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new R_(this,this.logService)),super.initAbilities()}},Platypus:class cY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Platypus",this.tier=4,this.pack="Star",this.attack=2,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new F_(this,this.logService,this.abilityService)),super.initAbilities()}},"Praying Mantis":F4,Crow:class uY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Crow",this.tier=4,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new N_(this,this.logService,this.abilityService)),super.initAbilities()}},Donkey:class hY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Donkey",this.tier=4,this.pack="Star",this.attack=4,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new B_(this,this.logService)),super.initAbilities()}},"Fairy Armadillo":class rY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Fairy Armadillo",this.tier=4,this.pack="Star",this.attack=2,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new D_(this,this.logService,this.abilityService)),super.initAbilities()}},Fossa:class sY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Fossa",this.tier=4,this.pack="Star",this.attack=6,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new L_(this,this.logService)),super.initAbilities()}},Siamese:class iY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Siamese",this.tier=4,this.pack="Star",this.health=4,this.attack=1,this.initPet(o,r,a,s,l,c)}},Elk:class nY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Elk",this.tier=4,this.pack="Star",this.attack=2,this.health=6,this.initPet(o,r,a,s,l,c)}},Sparrow:class dY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Sparrow",this.tier=4,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,r,a,s,l,c)}},"Sword Fish":class mY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Sword Fish",this.tier=5,this.pack="Star",this.attack=5,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new q_(this,this.logService)),super.initAbilities()}},"Polar Bear":class gY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Polar Bear",this.tier=5,this.pack="Custom",this.attack=4,this.health=8,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new V_(this,this.logService)),super.initAbilities()}},"Siberian Husky":class fY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Siberian Husky",this.tier=5,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new U_(this,this.logService)),super.initAbilities()}},Lion:class yY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Lion",this.tier=5,this.pack="Custom",this.attack=6,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new W_(this,this.logService)),super.initAbilities()}},Triceratops:class vY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Triceratops",this.tier=5,this.pack="Star",this.attack=5,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new j_(this,this.logService)),super.initAbilities()}},Zebra:class bY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Zebra",this.tier=5,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new z_(this,this.logService)),super.initAbilities()}},Fox:class AY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Fox",this.tier=5,this.pack="Custom",this.attack=6,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new K_(this,this.logService)),super.initAbilities()}},Hamster:class kY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Hamster",this.tier=5,this.pack="Star",this.attack=4,this.health=4,this.initPet(o,r,a,s,l,c)}},Shoebill:class SY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Shoebill",this.tier=5,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,r,a,s,l,c)}},Vulture:class PY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Vulture",this.tier=5,this.pack="Star",this.attack=4,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Y_(this,this.logService,this.abilityService)),super.initAbilities()}},Ibex:class wY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Ibex",this.tier=5,this.pack="Star",this.attack=6,this.health=7,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Q_(this,this.logService)),super.initAbilities()}},Komodo:class TY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Komodo",this.tier=6,this.pack="Custom",this.attack=6,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Z_(this,this.logService,this.abilityService)),super.initAbilities()}endTurn(e){if(!e.komodoShuffle)return;let i=this.position;if(0==i)return;let a=this.shufflePets(0,i).map(s=>s.name).join(", ");this.logService.createLog({message:`${this.name} shuffled positions of pets (${a}).`,type:"ability",player:this.parent,randomEvent:!0})}shufflePets(e,t){let i=this.parent.petArray.slice(e,t);pa(i);for(let r=0;r<i.length;r++)this.parent[`pet${r}`]=i[r];return i}},Ostrich:class _Y extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Ostrich",this.tier=6,this.pack="Star",this.attack=6,this.health=7,this.initPet(o,r,a,s,l,c)}},Reindeer:class CY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Reindeer",this.tier=6,this.pack="Star",this.attack=9,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new J_(this,this.logService)),super.initAbilities()}},Stegosaurus:class EY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Stegosaurus",this.tier=6,this.pack="Custom",this.attack=3,this.health=8,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new X_(this,this.logService)),super.initAbilities()}},Piranha:class xY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Piranha",this.tier=6,this.pack="Star",this.attack=10,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new e1(this,this.logService)),super.initAbilities()}},"Hammerhead Shark":class DY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Hammerhead Shark",this.tier=6,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new t1(this,this.logService)),super.initAbilities()}},Therizinosaurus:class LY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Therizinosaurus",this.tier=6,this.pack="Custom",this.attack=3,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new n1(this,this.logService)),super.initAbilities()}},"Real Velociraptor":class MY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Real Velociraptor",this.tier=6,this.pack="Star",this.attack=6,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new o1(this,this.logService)),super.initAbilities()}},Spinosaurus:class RY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Spinosaurus",this.tier=6,this.pack="Star",this.attack=4,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new h1(this,this.logService)),super.initAbilities()}},Bulldog:class FY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Bulldog",this.tier=1,this.pack="Golden",this.attack=1,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new d1(this,this.logService)),super.initAbilities()}},Groundhog:$4,"Cone Snail":class NY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Cone Snail",this.tier=1,this.pack="Golden",this.attack=1,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new m1(this,this.logService)),super.initAbilities()}},Goose:class BY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Goose",this.tier=1,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new g1(this,this.logService)),super.initAbilities()}},Lemming:class HY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Lemming",this.tier=1,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new v1(this,this.logService,this.abilityService)),super.initAbilities()}},"Pied Tamarin":class OY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Pied Tamarin",this.tier=1,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new f1(this,this.logService)),super.initAbilities()}},Opossum:class nZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Opossum",this.tier=1,this.pack="Golden",this.attack=2,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new SE(this,this.logService,this.abilityService)),super.initAbilities()}},Silkmoth:class $Y extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Silkmoth",this.tier=1,this.pack="Golden",this.attack=3,this.health=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new y1(this,this.logService)),super.initAbilities()}},Magpie:class GY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Magpie",this.tier=1,this.pack="Golden",this.attack=1,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new b1(this,this.logService,this.abilityService)),super.initAbilities()}},"Hercules Beetle":class qY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Hercules Beetle",this.tier=2,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new A1(this,this.logService,this.abilityService)),super.initAbilities()}},Stoat:class VY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Stoat",this.tier=2,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new k1(this,this.logService,this.abilityService)),super.initAbilities()}},"Black Necked Stilt":class UY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Black Necked Stilt",this.tier=2,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new S1(this,this.logService)),super.initAbilities()}},Squid:class WY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Squid",this.tier=2,this.pack="Golden",this.attack=5,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new P1(this,this.logService)),super.initAbilities()}},"Sea Urchin":class jY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Sea Urchin",this.tier=2,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new w1(this,this.logService)),super.initAbilities()}},"Door Head Ant":class zY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Door Head Ant",this.tier=2,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new T1(this,this.logService)),super.initAbilities()}},Lizard:class KY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Lizard",this.tier=2,this.pack="Golden",this.attack=1,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new _1(this,this.logService,this.abilityService)),super.initAbilities()}},"Sea Turtle":class YY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Sea Turtle",this.tier=2,this.pack="Golden",this.attack=1,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new C1(this,this.logService)),super.initAbilities()}},"African Penguin":class QY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="African Penguin",this.tier=2,this.pack="Golden",this.attack=1,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new E1(this,this.logService,this.abilityService)),super.initAbilities()}},"Musk Ox":class ZY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Musk Ox",this.tier=3,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new x1(this,this.logService)),super.initAbilities()}},Flea:class JY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Flea",this.tier=3,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new D1(this,this.logService)),super.initAbilities()}},"Royal Flycatcher":class fQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Royal Flycatcher",this.tier=3,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Q1(this,this.logService)),super.initAbilities()}},"Surgeon Fish":class XY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Surgeon Fish",this.tier=3,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new L1(this,this.logService)),super.initAbilities()}},Weasel:G4,Guineafowl:class eQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Guineafowl",this.tier=3,this.pack="Golden",this.attack=2,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new M1(this,this.logService)),super.initAbilities()}},"Betta Fish":class tQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Betta Fish",this.tier=3,this.pack="Golden",this.attack=2,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new R1(this,this.logService)),super.initAbilities()}},Meerkat:class iQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Meerkat",this.tier=2,this.pack="Golden",this.attack=1,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new F1(this,this.logService)),super.initAbilities()}},"Flying Fish":class rQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Flying Fish",this.tier=3,this.pack="Golden",this.attack=5,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new B1(this,this.logService)),super.initAbilities()}},Baboon:class sQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Baboon",this.tier=3,this.pack="Golden",this.attack=1,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new O1(this,this.logService,this.abilityService)),super.initAbilities()}},Osprey:class aQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Osprey",this.tier=3,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new $1(this,this.logService,this.abilityService)),super.initAbilities()}},Manatee:class oQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Manatee",this.tier=4,this.pack="Golden",this.attack=2,this.health=11,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new H1(this,this.logService,this.abilityService)),super.initAbilities()}},Cuttlefish:class lQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Cuttlefish",this.tier=4,this.pack="Golden",this.attack=8,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new G1(this,this.logService)),super.initAbilities()}},"Egyptian Vulture":class cQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Egyptian Vulture",this.tier=5,this.pack="Golden",this.attack=7,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new q1(this,this.logService)),super.initAbilities()}},"Saiga Antelope":class uQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Saiga Antelope",this.tier=4,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new V1(this,this.logService,this.abilityService)),super.initAbilities()}},Sealion:class hQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Sealion",this.tier=4,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new U1(this,this.logService,this.abilityService)),super.initAbilities()}},Vaquita:class dQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Vaquita",this.tier=4,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new W1(this,this.logService)),super.initAbilities()}},Slug:class pQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Slug",this.tier=4,this.pack="Golden",this.attack=4,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new z1(this,this.logService,this.abilityService)),super.initAbilities()}},"Poison Dart Frog":class mQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Poison Dart Frog",this.tier=4,this.pack="Golden",this.attack=5,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new K1(this,this.logService)),super.initAbilities()}},"Secretary Bird":class gQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Secretary Bird",this.tier=4,this.pack="Golden",this.attack=3,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Y1(this,this.logService)),super.initAbilities()}},"Manta Ray":class yQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Manta Ray",this.tier=4,this.pack="Golden",this.attack=5,this.health=7,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new X1(this,this.logService,this.abilityService)),super.initAbilities()}},Macaque:class vQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Macaque",this.tier=5,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new eC(this,this.logService,this.abilityService)),super.initAbilities()}},Nyala:class bQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Nyala",this.tier=5,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new tC(this,this.logService)),super.initAbilities()}},"Nurse Shark":class AQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Nurse Shark",this.tier=5,this.pack="Golden",this.attack=5,this.health=7,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new iC(this,this.logService)),super.initAbilities()}},"Silver Fox":class kQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Silver Fox",this.tier=5,this.pack="Custom",this.attack=3,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new aC(this,this.logService)),super.initAbilities()}},"Fire Ant":class SQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Fire Ant",this.tier=5,this.pack="Golden",this.attack=8,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new oC(this,this.logService)),super.initAbilities()}},Cockatoo:class PQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Cockatoo",this.tier=4,this.pack="Golden",this.attack=4,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new lC(this,this.logService,this.abilityService)),super.initAbilities()}},"Blue Ringed Octopus":class wQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Blue Ringed Octopus",this.tier=5,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new cC(this,this.logService,this.abilityService)),super.initAbilities()}},Crane:class TQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Crane",this.tier=5,this.pack="Golden",this.attack=6,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new uC(this,this.logService)),super.initAbilities()}},Emu:class _Q extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Emu",this.tier=5,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new hC(this,this.logService)),super.initAbilities()}},Wildebeest:class CQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Wildebeest",this.tier=6,this.pack="Golden",this.attack=8,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new dC(this,this.logService)),super.initAbilities()}},"Highland Cow":class EQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Highland Cow",this.tier=6,this.pack="Golden",this.attack=4,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new pC(this,this.logService)),super.initAbilities()}},Catfish:class xQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Catfish",this.tier=6,this.pack="Golden",this.attack=4,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new mC(this,this.logService,this.abilityService)),super.initAbilities()}},Warthog:class DQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Warthog",this.tier=6,this.pack="Golden",this.attack=9,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new yC(this,this.logService)),super.initAbilities()}},Cobra:class LQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Cobra",this.tier=6,this.pack="Golden",this.attack=12,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new vC(this,this.logService)),super.initAbilities()}},"Grizzly Bear":class IQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Grizzly Bear",this.tier=6,this.pack="Golden",this.attack=6,this.health=8,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new bC(this,this.logService)),super.initAbilities()}},"German Shepherd":class MQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="German Shepherd",this.tier=6,this.pack="Golden",this.attack=10,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new AC(this,this.logService)),super.initAbilities()}},"Bird of Paradise":class RQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Bird of Paradise",this.tier=6,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new kC(this,this.logService,this.abilityService)),super.initAbilities()}},Oyster:class FQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Oyster",this.tier=6,this.pack="Golden",this.attack=2,this.health=10,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new SC(this,this.logService,this.abilityService)),super.initAbilities()}},"Rockhopper Penguin":class NQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Rockhopper Penguin",this.tier=6,this.pack="Custom",this.attack=2,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new PC(this,this.logService)),super.initAbilities()}},Jerboa:class $Q extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Jerboa",this.tier=4,this.pack="Custom",this.attack=1,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new _C(this,this.logService,this.abilityService)),super.initAbilities()}},"Frilled Dragon":class HQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Frilled Dragon",this.tier=1,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new CC(this,this.logService)),super.initAbilities()}},Basilisk:class bX extends y{constructor(e,t,i){super(e,t,i),this.name="Basilisk",this.tier=3,this.pack="Custom",this.attack=5,this.health=2}initAbilities(){this.abilityList=[new Tx(this,this.logService,this.abilityService)],super.initAbilities()}},Frigatebird:class GQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Frigatebird",this.tier=2,this.pack="Custom",this.attack=2,this.health=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new EC(this,this.logService)),super.initAbilities()}resetPet(){super.resetPet()}},"Axehandle Hound":class hZ extends y{constructor(e,t,i){super(e,t,i),this.name="Axehandle Hound",this.attack=4,this.health=3,this.tier=3,this.pack="Custom"}initAbilities(){this.abilityList=[new EE(this,this.logService)],super.initAbilities()}},Bear:class qQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Bear",this.tier=3,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new xC(this,this.logService,this.abilityService)),super.initAbilities()}},"Emperor Tamarin":class Tee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Emperor Tamarin",this.tier=3,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new dD(this,this.logService)),super.initAbilities()}},Porcupine:class VQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Porcupine",this.tier=3,this.pack="Custom",this.attack=2,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new DC(this,this.logService)),super.initAbilities()}},Wasp:class UQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Wasp",this.tier=3,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new LC(this,this.logService)),super.initAbilities()}},Dragonfly:class WQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Dragonfly",this.tier=4,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new IC(this,this.logService)),super.initAbilities()}},Lynx:class jQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Lynx",this.tier=4,this.pack="Custom",this.attack=5,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new MC(this,this.logService)),super.initAbilities()}},Alpaca:W4,Hyena:class zQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Hyena",this.tier=5,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new BC(this,this.logService)),super.initAbilities()}},Moose:class KQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Moose",this.tier=5,this.pack="Custom",this.attack=5,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new OC(this,this.logService,this.abilityService)),super.initAbilities()}},"Sea Cucumber":class Hz extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Sea Cucumber",this.tier=5,this.pack="Custom",this.health=5,this.attack=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new lT(this,this.logService,this.abilityService)),super.initAbilities()}},Lioness:class YQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Lioness",this.tier=6,this.pack="Custom",this.attack=4,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new $C(this,this.logService)),super.initAbilities()}},Walrus:class eZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Walrus",this.tier=6,this.pack="Custom",this.attack=7,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new bE(this,this.logService)),super.initAbilities()}},"White Tiger":class tZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="White Tiger",this.tier=6,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new AE(this,this.logService)),super.initAbilities()}},Nightcrawler:class dX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Nightcrawler",this.tier=2,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new vx(this,this.logService,this.abilityService)),super.initAbilities()}},Sphinx:class pX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Sphinx",this.tier=2,this.pack="Custom",this.attack=2,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new bx(this)),super.initAbilities()}},Chupacabra:class mX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Chupacabra",this.tier=2,this.pack="Custom",this.attack=4,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Ax(this,this.logService)),super.initAbilities()}},"Golden Beetle":class gX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Golden Beetle",this.tier=2,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new kx(this,this.logService,this.abilityService)),super.initAbilities()}},"Foo Dog":class fX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Foo Dog",this.tier=3,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Sx(this,this.logService)),super.initAbilities()}},Tree:class yX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Tree",this.tier=3,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Px(this,this.logService)),super.initAbilities()}},"Deer Lord":class vX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Deer Lord",this.tier=3,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new wx(this,this.logService)),super.initAbilities()}},Fairy:class AX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Fairy",this.tier=4,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Hy(this)),super.initAbilities()}},Rootling:class kX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Rootling",this.tier=4,this.pack="Custom",this.attack=1,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new _x(this,this.logService)),super.initAbilities()}},Anubis:class SX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Anubis",this.tier=4,this.pack="Custom",this.attack=4,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Cx(this,this.logService)),super.initAbilities()}},"Old Mouse":class PX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Old Mouse",this.tier=4,this.pack="Custom",this.attack=1,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Ex(this,this.logService,this.abilityService)),super.initAbilities()}},Hippocampus:class wX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Hippocampus",this.tier=4,this.pack="Custom",this.attack=2,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new xx(this,this.logService)),super.initAbilities()}},Platybelodon:class TX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Platybelodon",this.tier=4,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Dx(this,this.logService)),super.initAbilities()}},Boitata:class _X extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Boitata",this.tier=5,this.pack="Custom",this.attack=2,this.health=9,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Lx(this,this.logService,this.abilityService)),super.initAbilities()}},Mimic:class CX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Mimic",this.tier=5,this.pack="Custom",this.attack=3,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Ix(this,this.logService,this.abilityService)),super.initAbilities()}},Nurikabe:class EX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Nurikabe",this.tier=5,this.pack="Custom",this.attack=5,this.health=6,this.maxAbilityUses=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Mx(this)),super.initAbilities()}},Tandgnost:P4,Tandgrisner:w4,"Great One":Vw,Leviathan:class xX extends y{constructor(e,t,i,r,a,s,o,l,c,d){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.name="Leviathan",this.tier=6,this.pack="Custom",this.attack=6,this.health=10,this.initPet(l,a,s,o,c,d)}initAbilities(){this.addAbility(new Rx(this,this.logService,this.petService)),super.initAbilities()}},"Questing Beast":class DX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Questing Beast",this.tier=6,this.pack="Custom",this.attack=7,this.health=9,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Fx(this,this.logService)),super.initAbilities()}},Cockatrice:class LX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Cockatrice",this.tier=6,this.pack="Custom",this.attack=5,this.health=7,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Nx(this,this.logService,this.abilityService)),super.initAbilities()}},Amargasaurus:class iZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Amargasaurus",this.tier=5,this.pack="Star",this.attack=5,this.health=7,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new kE(this,this.logService)),super.initAbilities()}},"Tarantula Hawk":class MX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Tarantula Hawk",this.tier=6,this.pack="Custom",this.health=2,this.attack=10,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Ox(this,this.logService)),super.initAbilities()}},"Angry Pygmy Hog":d4,Bee:h4,Bus:c4,Butterfly:R4,Chick:dw,"Dirty Rat":a4,"Golden Retriever":yP,"Lizard Tail":H4,Nest:Fw,Ram:l4,"Smaller Slug":U4,"Loyal Chinchilla":class BQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Loyal Chinchilla",this.tier=1,this.pack="Puppy",this.hidden=!0,this.health=2,this.attack=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new wC(this,this.logService,this.abilityService)),super.initAbilities()}},"Smallest Slug":V4,"Zombie Cricket":t4,"Zombie Fly":Pw,"Cracked Egg":X4,"Nessie?":nB,"Young Phoenix":rB,"Fire Pup":sB,Monty:S4,Rock:yx,Daycrawler:cB,"Smaller Slime":z4,"Chimera Goat":tB,Head:aB,Salmon:class RX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Salmon",this.tier=1,this.pack="Star",this.attack=1,this.health=1,this.hidden=!0,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new $x(this,this.logService)),super.initAbilities()}},"Mimic Octopus":class FX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Mimic Octopus",this.tier=6,this.pack="Star",this.attack=3,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Hx(this,this.logService)),super.initAbilities()}},Velociraptor:class NX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Velociraptor",this.tier=6,this.pack="Star",this.attack=3,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Gx(this,this.logService)),super.initAbilities()}},"Baby Urchin":class BX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Baby Urchin",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new qx(this,this.logService)),super.initAbilities()}},"Fairy Ball":O4,Baku:class uZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Baku",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(o,r,a,s,l,c)}},Barghest:class dZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Barghest",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new xE(this,this.logService)),super.initAbilities()}},Tsuchinoko:class pZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Tsuchinoko",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new DE(this,this.logService)),super.initAbilities()}},Murmel:class mZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Murmel",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new LE(this,this.logService)),super.initAbilities()}},Alchemedes:class gZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Alchemedes",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new IE(this,this.logService)),super.initAbilities()}},Pengobble:class fZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Pengobble",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new ME(this,this.logService)),super.initAbilities()}},Warf:class yZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Warf",this.tier=2,this.pack="Custom",this.attack=2,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new RE(this,this.logService)),super.initAbilities()}},Bunyip:class vZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Bunyip",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new FE(this,this.logService)),super.initAbilities()}},"Sneaky Egg":class bZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Sneaky Egg",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new NE(this,this.logService,this.abilityService)),super.initAbilities()}},"Cuddle Toad":class AZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Cuddle Toad",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,r,a,s,l,c)}},"???":J4,"Ghost Kitten":class kZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Ghost Kitten",this.tier=2,this.pack="Unicorn",this.attack=4,this.health=3,this.initPet(o,r,a,s,l,c)}},"Frost Wolf":class SZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Frost Wolf",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new BE(this,this.logService)),super.initAbilities()}},Mothman:class PZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Mothman",this.tier=2,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new OE(this,this.logService)),super.initAbilities()}},"Drop Bear":class wZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Drop Bear",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new $E(this,this.logService)),super.initAbilities()}},Jackalope:class TZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Jackalope",this.tier=2,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new HE(this,this.logService)),super.initAbilities()}},Ogopogo:class CZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Ogopogo",this.tier=2,this.pack="Unicorn",this.attack=3,this.health=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new qE(this,this.logService)),super.initAbilities()}},Thunderbird:class EZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Thunderbird",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new VE(this,this.logService)),super.initAbilities()}},Gargoyle:class xZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Gargoyle",this.tier=2,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new UE(this,this.logService)),super.initAbilities()}},Bigfoot:class DZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Bigfoot",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,r,a,s,l,c)}},"Lucky Cat":class _Z extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Lucky Cat",this.tier=3,this.pack="Unicorn",this.attack=1,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new GE(this,this.logService)),super.initAbilities()}},"Skeleton Dog":class LZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Skeleton Dog",this.tier=3,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new WE(this,this.logService)),super.initAbilities()}},Mandrake:class IZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Mandrake",this.tier=3,this.pack="Unicorn",this.attack=4,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new jE(this,this.logService)),super.initAbilities()}},"Fur-Bearing Trout":class MZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Fur-Bearing Trout",this.tier=3,this.pack="Unicorn",this.attack=3,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new zE(this,this.logService)),super.initAbilities()}},"Mana Hound":class RZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Mana Hound",this.tier=3,this.pack="Unicorn",this.attack=4,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new KE(this,this.logService)),super.initAbilities()}},Calygreyhound:class FZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Calygreyhound",this.tier=3,this.pack="Unicorn",this.attack=4,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new YE(this,this.logService)),super.initAbilities()}},"Brain Cramp":class NZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Brain Cramp",this.tier=3,this.pack="Unicorn",this.attack=1,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new QE(this,this.logService)),super.initAbilities()}},Minotaur:class BZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Minotaur",this.tier=4,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new ZE(this,this.logService)),super.initAbilities()}},Wyvern:class OZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Wyvern",this.tier=3,this.pack="Unicorn",this.attack=3,this.health=4,this.initPet(o,r,a,s,l,c)}},Ouroboros:class $Z extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Ouroboros",this.tier=3,this.pack="Unicorn",this.attack=2,this.health=4,this.initPet(o,r,a,s,l,c)}},Griffin:class HZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Griffin",this.tier=3,this.pack="Unicorn",this.attack=5,this.health=4,this.initPet(o,r,a,s,l,c)}},Kraken:class GZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Kraken",this.tier=4,this.pack="Unicorn",this.attack=5,this.health=7,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new JE(this,this.logService)),super.initAbilities()}},Visitor:class qZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Visitor",this.tier=4,this.pack="Unicorn",this.attack=7,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new XE(this,this.logService)),super.initAbilities()}},"Vampire Bat":class VZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Vampire Bat",this.tier=5,this.pack="Unicorn",this.attack=2,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new e0(this,this.logService)),super.initAbilities()}},"Tiger Bug":class UZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Tiger Bug",this.tier=4,this.pack="Unicorn",this.attack=4,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new t0(this,this.logService)),super.initAbilities()}},Tatzelwurm:class WZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Tatzelwurm",this.tier=4,this.pack="Unicorn",this.attack=1,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new n0(this,this.logService)),super.initAbilities()}},Cyclops:class jZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Cyclops",this.tier=4,this.pack="Unicorn",this.attack=2,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new r0(this,this.logService)),super.initAbilities()}},Chimera:class zZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Chimera",this.tier=4,this.pack="Unicorn",this.attack=2,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new s0(this,this.logService,this.abilityService)),super.initAbilities()}},Roc:class KZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Roc",this.tier=4,this.pack="Unicorn",this.attack=4,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new a0(this,this.logService)),super.initAbilities()}},"Worm of Sand":class YZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Worm of Sand",this.tier=4,this.pack="Unicorn",this.attack=4,this.health=1,this.initPet(o,r,a,s,l,c)}},"Red Dragon":class QZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Red Dragon",this.tier=5,this.pack="Unicorn",this.attack=4,this.health=8,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new o0(this,this.logService)),super.initAbilities()}},Unicorn:class ZZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Unicorn",this.tier=4,this.pack="Unicorn",this.attack=2,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new l0(this,this.logService)),super.initAbilities()}},"Loveland Frogman":class JZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Loveland Frogman",this.tier=5,this.pack="Unicorn",this.attack=1,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new c0(this,this.logService)),super.initAbilities()}},"Salmon of Knowledge":E4,"Jersey Devil":class eJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Jersey Devil",this.tier=5,this.pack="Unicorn",this.attack=5,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new h0(this,this.logService)),super.initAbilities()}},Pixiu:class tJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Pixiu",this.tier=5,this.pack="Unicorn",this.attack=4,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new d0(this,this.logService)),super.initAbilities()}},Kitsune:class iJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Kitsune",this.tier=5,this.pack="Unicorn",this.attack=2,this.health=7,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new p0(this,this.logService)),super.initAbilities()}},Nessie:class nJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Nessie",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new m0(this,this.logService,this.abilityService)),super.initAbilities()}},"Bad Dog":class rJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Bad Dog",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}},Werewolf:class sJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Werewolf",this.tier=5,this.pack="Unicorn",this.attack=7,this.health=7,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new g0(this,this.logService)),super.initAbilities()}},Amalgamation:class XZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Amalgamation",this.tier=5,this.pack="Unicorn",this.attack=4,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new u0(this,this.logService)),super.initAbilities()}},Manticore:class aJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Manticore",this.tier=6,this.pack="Unicorn",this.attack=7,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new f0(this,this.logService,this.abilityService)),super.initAbilities()}},Phoenix:class oJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Phoenix",this.tier=6,this.pack="Unicorn",this.attack=8,this.health=8,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new y0(this,this.logService)),this.addAbility(new v0(this,this.logService,this.abilityService)),super.initAbilities()}},Quetzalcoatl:class lJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Quetzalcoatl",this.tier=6,this.pack="Unicorn",this.attack=4,this.health=8,this.initPet(o,r,a,s,l,c)}},"Team Spirit":class cJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Team Spirit",this.tier=6,this.pack="Unicorn",this.attack=4,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new b0(this,this.logService)),super.initAbilities()}},Sleipnir:class uJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Sleipnir",this.tier=6,this.pack="Unicorn",this.attack=8,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new A0(this,this.logService)),super.initAbilities()}},"Sea Serpent":class hJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Sea Serpent",this.tier=6,this.pack="Unicorn",this.attack=6,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new k0(this,this.logService)),super.initAbilities()}},Yeti:class dJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Yeti",this.tier=6,this.pack="Unicorn",this.attack=5,this.health=9,this.initPet(o,r,a,s,l,c)}},Cerberus:class pJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Cerberus",this.tier=6,this.pack="Unicorn",this.attack=9,this.health=9,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new S0(this,this.logService,this.abilityService)),super.initAbilities()}},Hydra:class mJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Hydra",this.tier=6,this.pack="Unicorn",this.attack=10,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new P0(this,this.logService,this.abilityService)),super.initAbilities()}},Behemoth:class gJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Behemoth",this.tier=6,this.pack="Unicorn",this.attack=12,this.health=12,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new w0(this,this.logService,this.abilityService)),super.initAbilities()}},"Ili Pika":class fJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Ili Pika",this.tier=1,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new T0(this,this.logService)),super.initAbilities()}},"Malay Tapir":class yJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Malay Tapir",this.tier=1,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new _0(this,this.logService)),super.initAbilities()}},"Bombus Dahlbomii":class vJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Bombus Dahlbomii",this.tier=1,this.pack="Danger",this.attack=1,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new C0(this,this.logService,this.abilityService)),super.initAbilities()}},"African Wild Dog":class PJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="African Wild Dog",this.tier=1,this.pack="Danger",this.attack=2,this.health=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new I0(this,this.logService)),super.initAbilities()}},"Ethiopian Wolf":oB,"Fan Mussel":class bJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Fan Mussel",this.tier=1,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new x0(this)),super.initAbilities()}},"Togian Babirusa":class AJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Togian Babirusa",this.tier=1,this.pack="Danger",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new D0(this,this.logService)),super.initAbilities()}},"Tooth Billed Pigeon":class kJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Tooth Billed Pigeon",this.tier=1,this.pack="Danger",this.attack=3,this.health=1,this.initPet(o,r,a,s,l,c)}},"Volcano Snail":class SJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Volcano Snail",this.tier=1,this.pack="Danger",this.attack=1,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new L0(this,this.logService)),super.initAbilities()}},"Araripe Manakin":class wJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Araripe Manakin",this.tier=2,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new M0(this,this.logService)),super.initAbilities()}},"European Mink":class TJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="European Mink",this.tier=2,this.pack="Danger",this.attack=4,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new R0(this,this.logService)),super.initAbilities()}},"Proboscis Monkey":class _J extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Proboscis Monkey",this.tier=2,this.pack="Danger",this.attack=4,this.health=4,this.initPet(o,r,a,s,l,c)}},"Pygmy Hog":class CJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Pygmy Hog",this.tier=2,this.pack="Danger",this.attack=1,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new F0(this,this.logService,this.abilityService)),super.initAbilities()}},Saola:class EJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Saola",this.tier=2,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,r,a,s,l,c)}},"Saker Falcon":class xJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Saker Falcon",this.tier=2,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new N0(this,this.logService)),super.initAbilities()}},"Taita Shrew":class DJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Taita Shrew",this.tier=2,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new B0(this,this.logService,this.abilityService)),super.initAbilities()}},"Darwin's Fox":lB,"White-Bellied Heron":class LJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="White-Bellied Heron",this.tier=2,this.pack="Danger",this.attack=4,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new O0(this,this.logService)),super.initAbilities()}},"Amami Rabbit":class $J extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Amami Rabbit",this.tier=3,this.pack="Danger",this.attack=1,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new j0(this,this.logService)),super.initAbilities()}},"Tree Kangaroo":class HJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Tree Kangaroo",this.tier=3,this.pack="Danger",this.attack=3,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new z0(this,this.logService)),super.initAbilities()}},"Blue-Throated Macaw":class IJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Blue-Throated Macaw",this.tier=3,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new H0(this,this.logService)),super.initAbilities()}},Hirola:class MJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Hirola",this.tier=3,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new G0(this,this.logService,this.abilityService)),super.initAbilities()}},"Monkey-Faced Bat":class RJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Monkey-Faced Bat",this.tier=3,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new q0(this,this.logService)),super.initAbilities()}},Takin:class NJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Takin",this.tier=3,this.pack="Danger",this.attack=1,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new U0(this,this.logService)),super.initAbilities()}},Tucuxi:class BJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Tucuxi",this.tier=3,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new W0(this,this.logService)),super.initAbilities()}},"Pygmy Hippo":class FJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Pygmy Hippo",this.tier=3,this.pack="Danger",this.attack=2,this.health=7,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new V0(this,this.logService,this.abilityService)),super.initAbilities()}},"Spoon-Billed Sandpiper":class OJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Spoon-Billed Sandpiper",this.tier=3,this.pack="Danger",this.attack=3,this.health=2,this.initPet(o,r,a,s,l,c)}},Angelshark:class GJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Angelshark",this.tier=4,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,r,a,s,l,c)}},"Giant Otter":class KJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Giant Otter",this.tier=4,this.pack="Danger",this.attack=4,this.health=3,this.buffedFriends=new Map,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new ex(this,this.logService)),super.initAbilities()}},"Giant Tortoise":class qJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Giant Tortoise",this.tier=4,this.pack="Danger",this.attack=4,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new K0(this,this.logService,this.abilityService)),super.initAbilities()}},"Humphead Wrasse":class VJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Humphead Wrasse",this.tier=4,this.pack="Danger",this.attack=6,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Y0(this,this.logService)),super.initAbilities()}},Kakapo:class UJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Kakapo",this.tier=4,this.pack="Danger",this.attack=4,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Q0(this,this.logService)),super.initAbilities()}},"Longcomb Sawfish":class WJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Longcomb Sawfish",this.tier=4,this.pack="Danger",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Z0(this,this.logService)),super.initAbilities()}},"Tasmanian Devil":class zJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Tasmanian Devil",this.tier=4,this.pack="Danger",this.attack=1,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new X0(this,this.logService)),super.initAbilities()}},"Amazon River Dolphin":class jJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Amazon River Dolphin",this.tier=4,this.pack="Danger",this.attack=4,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new J0(this,this.logService)),super.initAbilities()}},"Aye-aye":class YJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Aye-aye",this.tier=5,this.pack="Danger",this.attack=3,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new tx(this,this.logService,this.abilityService)),super.initAbilities()}},"Banggai Cardinalfish":class QJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Banggai Cardinalfish",this.tier=5,this.pack="Danger",this.attack=4,this.health=7,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new ix(this,this.logService)),super.initAbilities()}},"Geometric Tortoise":class ZJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Geometric Tortoise",this.tier=5,this.pack="Danger",this.attack=3,this.health=10,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new nx(this,this.logService)),super.initAbilities()}},"Giant Pangasius":class JJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Giant Pangasius",this.tier=5,this.pack="Danger",this.attack=4,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new rx(this,this.logService)),super.initAbilities()}},"Hawaiian Monk Seal":class XJ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Hawaiian Monk Seal",this.tier=5,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new sx(this,this.logService)),super.initAbilities()}},"Marine Iguana":class eX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Marine Iguana",this.tier=5,this.pack="Danger",this.attack=4,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new ax(this,this.logService)),super.initAbilities()}},"Red Panda":class tX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Red Panda",this.tier=5,this.pack="Danger",this.health=4,this.attack=4,this.initPet(o,r,a,s,l,c)}},"Taita Thrush":class iX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Taita Thrush",this.tier=5,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new ox(this,this.logService)),super.initAbilities()}},"Snow Leopard":class rX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Snow Leopard",this.tier=5,this.pack="Danger",this.attack=3,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new cx(this,this.logService)),super.initAbilities()}},"Painted Terrapin":class nX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Painted Terrapin",this.tier=5,this.pack="Danger",this.health=6,this.attack=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new lx(this,this.logService)),super.initAbilities()}},"Amsterdam Albatross":class sX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Amsterdam Albatross",this.tier=6,this.pack="Danger",this.attack=3,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new ux(this,this.logService)),super.initAbilities()}},"Black Rhino":class aX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Black Rhino",this.tier=6,this.pack="Danger",this.attack=5,this.health=9,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new hx(this,this.logService)),super.initAbilities()}},"Blue Whale":class oX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Blue Whale",this.tier=6,this.pack="Danger",this.health=12,this.attack=12,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new dx(this,this.logService,this.abilityService)),super.initAbilities()}},"Green Sea Turtle":class lX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Green Sea Turtle",this.tier=6,this.pack="Danger",this.attack=5,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new px(this,this.logService)),super.initAbilities()}},"Helmeted Hornbill":class cX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Helmeted Hornbill",this.tier=6,this.pack="Danger",this.health=4,this.attack=5,this.initPet(o,r,a,s,l,c)}},"Philippine Eagle":class uX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Philippine Eagle",this.tier=6,this.pack="Danger",this.attack=7,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new mx(this,this.logService)),super.initAbilities()}},"Sumatran Tiger":class hX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Sumatran Tiger",this.tier=6,this.pack="Danger",this.attack=9,this.health=9,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new gx(this,this.logService)),super.initAbilities()}},"Adult Flounder":class OX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Adult Flounder",this.tier=1,this.pack="Custom",this.hidden=!0,this.attack=2,this.health=4,this.initPet(o,r,a,s,l,c)}},Budgie:class $X extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Budgie",this.tier=1,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Vx(this,this.logService)),super.initAbilities()}},Burbel:class HX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Burbel",this.tier=1,this.pack="Custom",this.hidden=!0,this.attack=1,this.health=2,this.initPet(o,r,a,s,l,c)}},"Chimera Lion":eB,"Chimera Snake":iB,"Cooked Roach":class GX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Cooked Roach",this.tier=1,this.pack="Custom",this.hidden=!0,this.attack=1,this.health=1,this.initPet(o,r,a,s,l,c)}},"Cuckoo Chick":class qX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Cuckoo Chick",this.tier=1,this.pack="Custom",this.hidden=!0,this.attack=1,this.health=1,this.initPet(o,r,a,s,l,c)}},"Fake Nessie":class VX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Fake Nessie",this.tier=1,this.pack="Custom",this.hidden=!0,this.attack=1,this.health=2,this.initPet(o,r,a,s,l,c)}},"Farmer Mouse":class UX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Farmer Mouse",this.tier=1,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Ux(this,this.logService)),super.initAbilities()}},"Guinea Piglet":class WX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Guinea Piglet",this.tier=1,this.pack="Custom",this.hidden=!0,this.attack=1,this.health=1,this.initPet(o,r,a,s,l,c)}},"Hydra Head":class jX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Hydra Head",this.tier=1,this.pack="Custom",this.hidden=!0,this.attack=5,this.health=5,this.initPet(o,r,a,s,l,c)}},"Moby Dick":class zX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Moby Dick",this.tier=1,this.pack="Custom",this.hidden=!0,this.attack=8,this.health=8,this.initPet(o,r,a,s,l,c)}},Nudibranch:class KX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Nudibranch",this.tier=1,this.pack="Custom",this.attack=2,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Wx(this,this.logService)),super.initAbilities()}},"Peacock Spider":class YX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Peacock Spider",this.tier=1,this.pack="Custom",this.attack=3,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new jx(this,this.logService)),super.initAbilities()}},"Pygmy Seahorse":class QX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Pygmy Seahorse",this.tier=1,this.pack="Custom",this.attack=3,this.health=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new zx(this,this.logService)),super.initAbilities()}},Quail:uB,Quoll:class ZX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Quoll",this.tier=1,this.pack="Custom",this.attack=3,this.health=2,this.initPet(o,r,a,s,l,c)}},Silverfish:class JX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Silverfish",this.tier=1,this.pack="Custom",this.attack=3,this.health=2,this.initPet(o,r,a,s,l,c)}},"Sleeping Gelada":hB,Sloth:class XX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Sloth",this.tier=1,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,r,a,s,l,c)}},"Umbrella Bird":class eee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Umbrella Bird",this.tier=1,this.pack="Custom",this.attack=3,this.health=2,this.initPet(o,r,a,s,l,c)}},Weevil:class tee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Weevil",this.tier=1,this.pack="Custom",this.attack=2,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Kx(this,this.logService)),super.initAbilities()}},"Albino Squirrel":class iee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Albino Squirrel",this.tier=2,this.pack="Custom",this.attack=3,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Yx(this,this.logService)),super.initAbilities()}},Amphisbaena:class nee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Amphisbaena",this.tier=2,this.pack="Custom",this.attack=2,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Qx(this,this.logService)),super.initAbilities()}},"Desert Rain Frog":class ree extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Desert Rain Frog",this.tier=2,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Zx(this,this.logService)),super.initAbilities()}},"Dung Beetle":class see extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Dung Beetle",this.tier=2,this.pack="Custom",this.attack=2,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Jx(this,this.logService)),super.initAbilities()}},"Farmer Chicken":class aee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Farmer Chicken",this.tier=2,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Xx(this,this.logService)),super.initAbilities()}},"Fruit Fly":class oee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Fruit Fly",this.tier=2,this.pack="Custom",this.attack=2,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new eD(this,this.logService)),super.initAbilities()}},"Giant Squirrel":class lee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Giant Squirrel",this.tier=2,this.pack="Custom",this.attack=2,this.health=4,this.initPet(o,r,a,s,l,c)}},"Hermit Crab":class cee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Hermit Crab",this.tier=2,this.pack="Custom",this.attack=1,this.health=5,this.initPet(o,r,a,s,l,c)}},"Honduran White Bat":class uee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Honduran White Bat",this.tier=2,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,r,a,s,l,c)}},Mandarinfish:class hee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Mandarinfish",this.tier=2,this.pack="Custom",this.attack=2,this.health=2,this.initPet(o,r,a,s,l,c)}},Mink:class dee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Mink",this.tier=2,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}},Olm:class pee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Olm",this.tier=2,this.pack="Custom",this.attack=3,this.health=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new tD(this,this.logService)),super.initAbilities()}},"Pink Robin":class mee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Pink Robin",this.tier=2,this.pack="Custom",this.attack=3,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new iD(this)),super.initAbilities()}},Roadrunner:class gee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Roadrunner",this.tier=2,this.pack="Custom",this.attack=4,this.health=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new nD(this)),super.initAbilities()}},"Spotted Handfish":class fee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Spotted Handfish",this.tier=2,this.pack="Custom",this.attack=3,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new rD(this)),super.initAbilities()}},Tadpole:class yee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Tadpole",this.tier=2,this.pack="Custom",this.attack=2,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new sD(this)),super.initAbilities()}},"Thorny Dragon":class bee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Thorny Dragon",this.tier=2,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new oD(this,this.logService)),super.initAbilities()}},Vervet:class Aee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Vervet",this.tier=2,this.pack="Custom",this.attack=1,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new lD(this,this.logService)),super.initAbilities()}},Caladrius:class kee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Caladrius",this.tier=3,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new cD(this,this.logService)),super.initAbilities()}},Dimetrodon:class Pee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Dimetrodon",this.tier=3,this.pack="Custom",this.attack=1,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new uD(this,this.logService)),super.initAbilities()}},Dugong:class wee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Dugong",this.tier=3,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new hD(this,this.logService)),super.initAbilities()}},"Farmer Pig":class _ee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Farmer Pig",this.tier=3,this.pack="Custom",this.attack=3,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new pD(this,this.logService)),super.initAbilities()}},Gerenuk:class Cee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Gerenuk",this.tier=3,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new mD(this,this.logService)),super.initAbilities()}},"Great Potoo":class Eee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Great Potoo",this.tier=3,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new gD(this,this.logService)),super.initAbilities()}},"Jewel Caterpillar":class xee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Jewel Caterpillar",this.tier=3,this.pack="Custom",this.attack=2,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new fD(this,this.logService)),super.initAbilities()}},Pangasius:class Dee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Pangasius",this.tier=3,this.pack="Custom",this.attack=3,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new yD(this,this.logService)),super.initAbilities()}},"Patagonian Mara":class Lee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Patagonian Mara",this.tier=3,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new vD(this,this.logService)),super.initAbilities()}},Pony:class Iee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Pony",this.tier=3,this.pack="Custom",this.attack=4,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new bD(this,this.logService)),super.initAbilities()}},"Quail Chick":class Mee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Quail Chick",this.tier=3,this.pack="Custom",this.attack=3,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new AD(this,this.logService,this.abilityService)),super.initAbilities()}},"Queen Bee":class Ree extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Queen Bee",this.tier=3,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new kD(this,this.logService)),super.initAbilities()}},Quetzalcoatlus:class Fee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Quetzalcoatlus",this.tier=3,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new SD(this,this.logService)),super.initAbilities()}},"Sage-Grouse":class Nee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Sage-Grouse",this.tier=3,this.pack="Custom",this.attack=3,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new PD(this,this.logService)),super.initAbilities()}},"Sarcastic Fringehead":gE,"Silkie Chicken":class Bee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Silkie Chicken",this.tier=3,this.pack="Custom",this.attack=1,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new wD(this,this.logService)),super.initAbilities()}},"Sugar Glider":class Oee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Sugar Glider",this.tier=3,this.pack="Custom",this.attack=3,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new TD(this,this.logService)),super.initAbilities()}},"Vampire Parrot":class $ee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Vampire Parrot",this.tier=3,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new _D(this,this.logService)),super.initAbilities()}},Ahuizotl:class Hee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Ahuizotl",this.tier=4,this.pack="Custom",this.attack=3,this.health=6,this.initPet(o,r,a,s,l,c)}},Andrewsarchus:class Gee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Andrewsarchus",this.tier=4,this.pack="Custom",this.attack=6,this.health=2,this.initPet(o,r,a,s,l,c)}},Bloodhound:class qee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Bloodhound",this.tier=4,this.pack="Custom",this.attack=4,this.health=4,this.initPet(o,r,a,s,l,c)}},"Blue-Footed Booby":class Vee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Blue-Footed Booby",this.tier=4,this.pack="Custom",this.attack=2,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new CD(this,this.logService)),super.initAbilities()}},Cuckoo:class Uee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Cuckoo",this.tier=4,this.pack="Custom",this.attack=5,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new ED(this,this.logService)),super.initAbilities()}},Deinocheirus:class Wee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Deinocheirus",this.tier=4,this.pack="Custom",this.attack=4,this.health=7,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new xD(this,this.logService)),super.initAbilities()}},FarmerCat:class jee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Farmer Cat",this.tier=4,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,r,a,s,l,c)}},Gazelle:class zee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Gazelle",this.tier=4,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new DD(this,this.logService)),super.initAbilities()}},Gelada:class Kee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Gelada",this.tier=4,this.pack="Custom",this.attack=4,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new LD(this,this.logService,this.abilityService)),super.initAbilities()}},Hoatzin:class Yee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Hoatzin",this.tier=4,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new ID(this,this.logService)),super.initAbilities()}},"Leaf Gecko":class Qee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Leaf Gecko",this.tier=4,this.pack="Custom",this.attack=4,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new MD(this,this.logService)),super.initAbilities()}},"Leafy Sea Dragon":class Zee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Leafy Sea Dragon",this.tier=4,this.pack="Custom",this.attack=7,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new RD(this,this.logService)),super.initAbilities()}},Locust:class Xee extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Locust",this.tier=4,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new FD(this,this.logService,this.abilityService)),super.initAbilities()}},"Poodle Moth":class ete extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Poodle Moth",this.tier=4,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new ND(this,this.logService)),super.initAbilities()}},"Racket Tail":class tte extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Racket Tail",this.tier=4,this.pack="Custom",this.attack=2,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new BD(this,this.logService)),super.initAbilities()}},"Ruspolis Turaco":class ite extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Ruspolis Turaco",this.tier=4,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,r,a,s,l,c)}},"Spider Crab":class nte extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Spider Crab",this.tier=4,this.pack="Custom",this.attack=3,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new OD(this,this.logService)),super.initAbilities()}},"Spiny Bush Viper":class rte extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Spiny Bush Viper",this.tier=4,this.pack="Custom",this.attack=5,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new $D(this,this.logService)),super.initAbilities()}},"Tand and Tand":class ste extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Tand and Tand",this.tier=4,this.pack="Custom",this.hidden=!0,this.attack=1,this.health=1,this.initPet(o,r,a,s,l,c)}},Tardigrade:class ote extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Tardigrade",this.tier=4,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new HD(this,this.logService,this.abilityService)),super.initAbilities()}},Trout:class lte extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Trout",this.tier=4,this.pack="Custom",this.attack=3,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new GD(this,this.logService)),super.initAbilities()}},"Yeti Crab":class cte extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Yeti Crab",this.tier=4,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new qD(this,this.logService)),super.initAbilities()}},"Blue Jay":class ute extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Blue Jay",this.tier=5,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new VD(this,this.logService)),super.initAbilities()}},"Brahma Chicken":class hte extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Brahma Chicken",this.tier=5,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new UD(this,this.logService)),super.initAbilities()}},Estemmenosuchus:class pte extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Estemmenosuchus",this.tier=5,this.pack="Custom",this.attack=4,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new WD(this,this.logService,this.abilityService)),super.initAbilities()}},"Farmer Crow":class mte extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Farmer Crow",this.tier=5,this.pack="Custom",this.attack=6,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new jD(this,this.logService)),super.initAbilities()}},Flounder:class gte extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Flounder",this.tier=5,this.pack="Custom",this.attack=2,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new zD(this,this.logService)),super.initAbilities()}},"Giant Isopod":class fte extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Giant Isopod",this.tier=5,this.pack="Custom",this.attack=5,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new KD(this,this.logService)),super.initAbilities()}},Hippogriff:yE,Jackal:class yte extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Jackal",this.tier=5,this.pack="Custom",this.attack=3,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new YD(this,this.logService)),super.initAbilities()}},Lusca:class vte extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Lusca",this.tier=5,this.pack="Custom",this.attack=7,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new QD(this,this.logService)),super.initAbilities()}},Maltese:class bte extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Maltese",this.tier=5,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new ZD(this,this.logService)),super.initAbilities()}},Namazu:class Ate extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Namazu",this.tier=5,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new JD(this,this.logService)),super.initAbilities()}},"Pacific Fanfish":class kte extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Pacific Fanfish",this.tier=5,this.pack="Custom",this.attack=4,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new XD(this,this.logService)),super.initAbilities()}},Tarasque:class Ste extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Tarasque",this.tier=5,this.pack="Custom",this.attack=4,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new eL(this,this.logService)),super.initAbilities()}},"Venus Flytrap":class Pte extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Venus Flytrap",this.tier=5,this.pack="Custom",this.attack=2,this.health=7,this.initPet(o,r,a,s,l,c)}},"Woolly Rhino":class wte extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Woolly Rhino",this.tier=5,this.pack="Custom",this.attack=3,this.health=7,this.initPet(o,r,a,s,l,c)}},Akhlut:class Tte extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Akhlut",this.tier=6,this.pack="Custom",this.attack=5,this.health=7,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new tL(this,this.logService)),super.initAbilities()}},Bakunawa:class _te extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Bakunawa",this.tier=6,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new iL(this,this.logService)),super.initAbilities()}},"Black Bear":class Cte extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Black Bear",this.tier=6,this.pack="Custom",this.attack=5,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new nL(this,this.logService)),super.initAbilities()}},Chimpanzee:class Ete extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Chimpanzee",this.tier=6,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new rL(this,this.logService)),super.initAbilities()}},"Coconut Crab":class xte extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Coconut Crab",this.tier=6,this.pack="Custom",this.attack=4,this.health=8,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new sL(this,this.logService)),super.initAbilities()}},Dunkleosteus:class Dte extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Dunkleosteus",this.tier=6,this.pack="Custom",this.attack=6,this.health=8,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new aL(this,this.logService)),super.initAbilities()}},"Eagle Owl":class Lte extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Eagle Owl",this.tier=6,this.pack="Custom",this.attack=8,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new oL(this,this.logService)),super.initAbilities()}},"Hooded Seal":class Ite extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Hooded Seal",this.tier=6,this.pack="Custom",this.attack=4,this.health=9,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new lL(this,this.logService)),super.initAbilities()}},Lamprey:class Mte extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Lamprey",this.tier=6,this.pack="Custom",this.attack=3,this.health=2,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new cL(this,this.logService)),super.initAbilities()}},Markhor:class Rte extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Markhor",this.tier=6,this.pack="Custom",this.attack=6,this.health=6,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new uL(this,this.logService)),super.initAbilities()}},"Small One":class Fte extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Small One",this.tier=6,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new hL(this,this.logService)),super.initAbilities()}},Sunfish:class Nte extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Sunfish",this.tier=6,this.pack="Custom",this.attack=5,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new dL(this,this.logService)),super.initAbilities()}},"Terror Bird":class Bte extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Terror Bird",this.tier=6,this.pack="Custom",this.attack=8,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new pL(this,this.logService)),super.initAbilities()}},"Vampire Squid":class Ote extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Vampire Squid",this.tier=6,this.pack="Custom",this.attack=4,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new mL(this,this.logService)),super.initAbilities()}},"Winter Spirit":class $te extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Winter Spirit",this.tier=6,this.pack="Custom",this.attack=3,this.health=8,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new gL(this,this.logService)),super.initAbilities()}},"Yellow Boxfish":class Hte extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Yellow Boxfish",this.tier=6,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new fL(this,this.logService)),super.initAbilities()}},Abomination:Vy,Albatross:class IX extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Albatross",this.tier=6,this.pack="Custom",this.attack=5,this.health=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new Bx(this,this.logService)),super.initAbilities()}},Ammonite:dE,"Bay Cat":lE,"Beluga Whale":qy,Bonobo:eE,"California Condor":rE,Cardinal:class VK extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Cardinal",this.tier=3,this.pack="Star",this.health=3,this.attack=4,this.initPet(o,r,a,s,l,c)}},"Darwins Fox":lB,Eagle:KT,Falcon:J1,"Farmer Dog":class IY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Farmer Dog",this.tier=6,this.pack="Custom",this.health=3,this.attack=4,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new a1(this,this.logService)),super.initAbilities()}},"Giant Eyes Dog":x4,Gibbon:class RU extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Gibbon",this.tier=1,this.pack="Custom",this.health=2,this.attack=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new CP(this,this.logService,this.abilityService)),super.initAbilities()}},"Goblin Shark":qC,Goldfish:class Bz extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Goldfish",this.tier=2,this.pack="Puppy",this.attack=1,this.health=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new sT(this,this.logService,this.abilityService)),super.initAbilities()}},"Golden Tamarin":iE,"Good Dog":uE,"Harpy Eagle":s1,"Iriomote Cat":YC,Kappa:jC,Mouse:e4,Orca:u1,Parrot:YP,Pelican:H_,Pigeon:class lZ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Pigeon",this.tier=1,this.pack="Turtle",this.attack=3,this.health=1,this.initPet(o,r,a,s,l,c)}},Pteranodon:fC,"Question Marks":J4,"Red Lipped Batfish":UC,"Roloway Monkey":XC,"Sabertooth Tiger":Gy,"Sea Anemone":class oY extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Sea Anemone",this.tier=4,this.pack="Custom",this.health=4,this.attack=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new M_(this,this.logService)),super.initAbilities()}},Seagull:FC,"Shima Enaga":P_,"Silky Sifaka":aE,Slime:K4,Spider:NP,Stork:k_,Takhi:ZC,Tapir:class XQ extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Tapir",this.tier=6,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new vE(this,this.logService)),super.initAbilities()}},Termite:class FU extends y{constructor(e,t,i,r,a,s,o,l,c){super(e,t,i),this.logService=e,this.abilityService=t,this.name="Termite",this.tier=1,this.pack="Custom",this.health=4,this.attack=1,this.initPet(o,r,a,s,l,c)}initAbilities(){this.addAbility(new EP(this,this.logService,this.abilityService)),super.initAbilities()}},Tuna:N4,Whale:rw,Wolf:sC},Uy=JSON.parse('[{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and Spooked until next turn to the nearest friend ahead."},{"Level":2,"About":"End turn: Give +2 attack and Spooked until next turn to the nearest friend ahead."},{"Level":3,"About":"End turn: Give +3 attack and Spooked until next turn to the nearest friend ahead."}],"Id":"624","Name":"???","NameId":"Leafling","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Jump attack the second enemy for 3 damage."},{"Level":2,"About":"Start of battle: Jump attack the second enemy for 6 damage."},{"Level":3,"About":"Start of battle: Jump attack the second enemy for 9 damage."}],"Id":"388","Name":"African Wild Dog","NameId":"AfricanWildDog","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend ahead +1 mana."},{"Level":2,"About":"Start of battle: Give the nearest friend ahead +2 mana."},{"Level":3,"About":"Start of battle: Give the nearest friend ahead +3 mana."}],"Id":"626","Name":"Alchemedes","NameId":"AlchemistBug","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Give one random friend +1 attack and +1 health."},{"Level":2,"About":"Faint: Give one random friend +2 attack and +2 health."},{"Level":3,"About":"Faint: Give one random friend +3 attack and +3 health."}],"Id":"0","Name":"Ant","NameId":"Ant","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"End turn: If turn number is even, replace random ailments with +1 health on two friends."},{"Level":2,"About":"End turn: If turn number is even, replace random ailments with +2 health on two friends."},{"Level":3,"About":"End turn: If turn number is even, replace random ailments with +3 health on two friends."}],"Id":"628","Name":"Baku","NameId":"Baku","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make the last perk-less enemy Spooked."},{"Level":2,"About":"Start of battle: Make the two last perk-less enemies Spooked."},{"Level":3,"About":"Start of battle: Make the three last perk-less enemies Spooked."}],"Id":"621","Name":"Barghest","NameId":"Barghest","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Give two random friends +1 attack."},{"Level":2,"About":"Sell: Give two random friends +2 attack."},{"Level":3,"About":"Sell: Give two random friends +3 attack."}],"Id":"3","Name":"Beaver","NameId":"Beaver","Tier":1,"TierMax":2147483647,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"4","Name":"Bee","NameId":"Bee","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give Walnut perk to nearest friend behind."},{"Level":2,"About":"Start of battle: Give Walnut perk with double effect to nearest friend behind."},{"Level":3,"About":"Start of battle: Give Walnut perk with triple effect to nearest friend behind."}],"Id":"88","Name":"Beetle","NameId":"Beetle","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Block 2 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Give one random friend +1 attack."},{"Level":2,"About":"End turn: Give one random friend +2 attack."},{"Level":3,"About":"End turn: Give one random friend +3 attack."}],"Id":"89","Name":"Bluebird","NameId":"Bluebird","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Two enemy attacks: Deal 1 damage to the first enemy. Works 2 times per battle."},{"Level":2,"About":"Two enemy attacks: Deal 2 damage to the first enemy. Works 2 times per battle."},{"Level":3,"About":"Two enemy attacks: Deal 3 damage to the first enemy. Works 2 times per battle."}],"Id":"401","Name":"Bombus Dahlbomii","NameId":"BombusDahlbomii","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain the Popcorn perk and +1 health."},{"Level":2,"About":"Start of battle: Gain the Popcorn perk and +2 health."},{"Level":3,"About":"Start of battle: Gain the Popcorn perk and +3 health."}],"Id":"775","Name":"Budgie","NameId":"Budgie","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks","Summon"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"After first attack: Gain +2 attack."},{"Level":2,"About":"After first attack: Gain +4 attack."},{"Level":3,"About":"After first attack: Gain +6 attack."}],"Id":"189","Name":"Bulldog","NameId":"Bulldog","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 health for each roll (max 2)."},{"Level":2,"About":"Start of battle: Gain +2 health for each roll (max 2)."},{"Level":3,"About":"Start of battle: Gain +3 health for each roll (max 2)."}],"Id":"601","Name":"Bunyip","NameId":"Bunyip","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"85","Name":"Bus","NameId":"Bus","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"13","Name":"Chick","NameId":"Chick","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Push the most healthy enemy one space forward."},{"Level":2,"About":"Start of battle: Push the most healthy enemy two spaces forward."},{"Level":3,"About":"Start of battle: Push the most healthy enemy three spaces forward."}],"Id":"541","Name":"Chihuahua","NameId":"Chihuahua","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Summon one 2/2 level 1 Loyal Chinchilla."},{"Level":2,"About":"Sell: Summon one 4/4 level 2 Loyal Chinchilla."},{"Level":3,"About":"Sell: Summon one 6/6 level 3 Loyal Chinchilla."}],"Id":"161","Name":"Chinchilla","NameId":"Chinchilla","Tier":1,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Stock one free copy of this pet\'s food perk."},{"Level":2,"About":"Sell: Stock two free copies of this pet\'s food perk."},{"Level":3,"About":"Sell: Stock three free copies of this pet\'s food perk."}],"Id":"184","Name":"Chipmunk","NameId":"Chipmunk","Tier":1,"TierMax":2147483647,"Packs":["Pack2","Pack4"],"PacksRequired":["Pack2","Pack4"],"Rollable":true,"CustomArchetypes":["Perks","Mvp"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Cockroach and give it +1 experience."},{"Level":2,"About":"Faint: Summon one 1/1 Cockroach and give it +2 experience."},{"Level":3,"About":"Faint: Summon one 1/1 Cockroach and give it +3 experience."}],"Id":"18","Name":"Cockroach","NameId":"Cockroach","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels","Summon"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend behind +2 health."},{"Level":2,"About":"Start of battle: Give the nearest friend behind +4 health."},{"Level":3,"About":"Start of battle: Give the nearest friend behind +6 health."}],"Id":"272","Name":"Cone Snail","NameId":"ConeSnail","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Does not provide shop rewards on level-up."},{"Level":2,"About":"Does not provide shop rewards on level-up."},{"Level":3,"About":"Does not provide shop rewards on level-up."}],"Id":"710","Name":"Cooked Roach","NameId":"CockroachToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"647","Name":"Cracked Egg","NameId":"EggLadCracked","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Cricket."},{"Level":2,"About":"Faint: Summon one 2/2 Cricket."},{"Level":3,"About":"Faint: Summon one 3/3 Cricket."}],"Id":"17","Name":"Cricket","NameId":"Cricket","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"788","Name":"Cuckoo Chick","NameId":"CuckooBaby","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Choose one witch toy that breaks after 2 turns."},{"Level":2,"About":"Sell: Choose one witch toy that breaks after 4 turns."},{"Level":3,"About":"Sell: Choose one witch toy that breaks after 6 turns."}],"Id":"611","Name":"Cuddle Toad","NameId":"CuddleToad","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"641","Name":"Daycrawler","NameId":"DayCrawler","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"58","Name":"Dirty Rat","NameId":"RatToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Give shop pets +1 health."},{"Level":2,"About":"Sell: Give shop pets +2 health."},{"Level":3,"About":"Sell: Give shop pets +3 health."}],"Id":"26","Name":"Duck","NameId":"Duck","Tier":1,"TierMax":2147483647,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Give left-most shop pet +2 health."},{"Level":2,"About":"Sell: Give left-most shop pet +4 health."},{"Level":3,"About":"Sell: Give left-most shop pet +6 health."}],"Id":"113","Name":"Duckling","NameId":"BabyDuck","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Remove 1 attack from the first enemy."},{"Level":2,"About":"Faint: Remove 1 attack from the first two enemies."},{"Level":3,"About":"Faint: Remove 1 attack from the first three enemies."}],"Id":"406","Name":"Ethiopian Wolf","NameId":"EthiopianWolf","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Takes 1 less damage. Works 2 times per turn."},{"Level":2,"About":"Takes 2 less damage. Works 2 times per turn."},{"Level":3,"About":"Takes 3 less damage. Works 2 times per turn."}],"Id":"408","Name":"Fan Mussel","NameId":"FanMussel","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Feed one Corncob to the nearest friend behind."},{"Level":2,"About":"Faint: Feed one Corncob to the nearest two friends behind."},{"Level":3,"About":"Faint: Feed one Corncob to the nearest three friends behind."}],"Id":"693","Name":"Farmer Mouse","NameId":"FarmerMouse","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Ferret toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Ferret toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Ferret toy."}],"Id":"172","Name":"Ferret","NameId":"Ferret","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"343","Name":"Fire Pup","NameId":"FirePup","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Deal 1 damage to ALL pets within one space."},{"Level":2,"About":"Faint: Deal 1 damage to ALL pets within two spaces."},{"Level":3,"About":"Faint: Deal 1 damage to ALL pets within three spaces."}],"Id":"548","Name":"Firefly","NameId":"Firefly","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Level-up: Give two friends +1 attack and +1 health."},{"Level":2,"About":"Level-up: Give two friends +2 attack and +2 health."},{"Level":3,"About":"No ability."}],"Id":"32","Name":"Fish","NameId":"Fish","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack and +1 health per Faint friend."},{"Level":2,"About":"Start of battle: Gain +2 attack and +2 health per Faint friend."},{"Level":3,"About":"Start of battle: Gain +3 attack and +3 health per Faint friend."}],"Id":"198","Name":"Frilled Dragon","NameId":"FrilledDragon","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: If both adjacent friends are tier 2 or lower, swap their stats."},{"Level":2,"About":"Sell: If both adjacent friends are tier 4 or lower, swap their stats."},{"Level":3,"About":"Sell: If both adjacent friends are tier 6 or lower, swap their stats."}],"Id":"139","Name":"Frog","NameId":"Frog","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Mvp"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: If you have a toy, gain +2 health."},{"Level":2,"About":"Start of battle: If you have a toy, gain +4 health."},{"Level":3,"About":"Start of battle: If you have a toy, gain +6 health."}],"Id":"229","Name":"Gecko","NameId":"Gecko","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"644","Name":"Giant Eyes Dog","NameId":"GiantEyesDog","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Shop tier upgraded: Give the two nearest pets behind +1 health."},{"Level":2,"About":"Shop tier upgraded: Give the two nearest pets behind +2 health."},{"Level":3,"About":"Shop tier upgraded: Give the two nearest pets behind +3 health."}],"Id":"550","Name":"Gibbon","NameId":"Gibbon","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"648","Name":"Goat","NameId":"ChimeraGoat","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Always there for his friends!"},{"Level":2,"About":"Always there for his friends!"},{"Level":3,"About":"Always there for his friends!"}],"Id":"188","Name":"Golden Retriever","NameId":"GoldenRetriever","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give friends plenty of useful perks!"},{"Level":2,"About":"Start of battle: Give friends lots of useful perks!"},{"Level":3,"About":"Start of battle: Give friends silly amounts of useful perks!"}],"Id":"658","Name":"Good Dog","NameId":"GoodDog","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Remove 1 attack from the first enemy."},{"Level":2,"About":"Start of battle: Remove 2 attack from the first enemy."},{"Level":3,"About":"Start of battle: Remove 3 attack from the first enemy."}],"Id":"232","Name":"Goose","NameId":"Goose","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":7,"Health":13,"Abilities":[{"Level":1,"About":"Summoned: Deal 5 damage to ALL other pets."},{"Level":2,"About":"Summoned: Deal 10 damage to ALL other pets."},{"Level":3,"About":"Summoned: Deal 15 damage to ALL other pets."}],"Id":"335","Name":"Great One","NameId":"Cthulu","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Gain +1 trumpet."},{"Level":2,"About":"Faint: Gain +2 trumpets."},{"Level":3,"About":"Faint: Gain +3 trumpets."}],"Id":"233","Name":"Groundhog","NameId":"Groundhog","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 attack until next turn."},{"Level":2,"About":"Friend summoned: Give it +2 attack until next turn."},{"Level":3,"About":"Friend summoned: Give it +3 attack until next turn."}],"Id":"39","Name":"Horse","NameId":"Horse","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Give Strawberry perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Strawberry perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Strawberry perk to the three nearest friends behind."}],"Id":"138","Name":"Hummingbird","NameId":"Hummingbird","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Perks"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"643","Name":"Hydra Head","NameId":"HydraHead","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Friend transformed: Give it +1 to its highest stat until next turn."},{"Level":2,"About":"Friend transformed: Give it +2 to its highest stat until next turn."},{"Level":3,"About":"Friend transformed: Give it +3 to its highest stat until next turn."}],"Id":"417","Name":"Ili Pika","NameId":"IliPika","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Before battle: Transform into ANY useful level 1 pet from tier 1."},{"Level":2,"About":"Before battle: Transform into ANY useful level 1 pet from tier 2."},{"Level":3,"About":"Before battle: Transform into ANY useful level 1 pet from tier 3."}],"Id":"418","Name":"Iriomote Cat","NameId":"IriomoteCat","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Hurt & Sell: Give the back-most friendly Strawberry pet +1 attack."},{"Level":2,"About":"Hurt & Sell: Give the back-most friendly Strawberry pet +2 attack."},{"Level":3,"About":"Hurt & Sell: Give the back-most friendly Strawberry pet +3 attack."}],"Id":"131","Name":"Kiwi","NameId":"Kiwi","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friendly gained perk: Gain +2 attack until next turn."},{"Level":2,"About":"Friendly gained perk: Gain +4 attack until next turn."},{"Level":3,"About":"Friendly gained perk: Gain +6 attack until next turn."}],"Id":"92","Name":"Ladybug","NameId":"Ladybug","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Gain +1 gold next turn."},{"Level":2,"About":"Sell: Gain +2 gold next turn."},{"Level":3,"About":"Sell: Gain +3 gold next turn."}],"Id":"555","Name":"Lemming","NameId":"Lemming","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"650","Name":"Lion","NameId":"ChimeraLion","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"282","Name":"Lizard Tail","NameId":"LizardToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"183","Name":"Loyal Chinchilla","NameId":"ChinchillaToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Spend up to 1 gold and gain it back next turn."},{"Level":2,"About":"End turn: Spend up to 2 gold and gain it back next turn."},{"Level":3,"About":"End turn: Spend up to 3 gold and gain it back next turn."}],"Id":"239","Name":"Magpie","NameId":"Magpie","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Gain +1 health. Works 3 times per turn."},{"Level":2,"About":"Adjacent friend attacked: Gain +2 health. Works 3 times per turn."},{"Level":3,"About":"Adjacent friend attacked: Gain +3 health. Works 3 times per turn."}],"Id":"421","Name":"Malay Tapir","NameId":"MalayTapir","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Your next roll is free."},{"Level":2,"About":"Sell: Your next two rolls are free."},{"Level":3,"About":"Sell: Your next three rolls are free."}],"Id":"204","Name":"Marmoset","NameId":"Marmoset","Tier":1,"TierMax":2147483647,"Packs":["Pack3","Custom"],"PacksRequired":["Pack3","Custom"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Attack for double damage."},{"Level":2,"About":"Attack for triple damage."},{"Level":3,"About":"Attack for quadruple damage."}],"Id":"384","Name":"Monty","NameId":"WhiteKillerRabbit","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Deal 1 damage to one random enemy."},{"Level":2,"About":"Start of battle: Deal 1 damage to two random enemies."},{"Level":3,"About":"Start of battle: Deal 1 damage to three random enemies."}],"Id":"47","Name":"Mosquito","NameId":"Mosquito","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give front-most friendly pet +2 attack."},{"Level":2,"About":"Start of battle: Give front-most friendly pet +4 attack."},{"Level":3,"About":"Start of battle: Give front-most friendly pet +6 attack."}],"Id":"141","Name":"Moth","NameId":"Moth","Tier":1,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Replace shop food with one free Apple."},{"Level":2,"About":"Sell: Replace shop food with one free Better Apple."},{"Level":3,"About":"Sell: Replace shop food with one free Best Apple."}],"Id":"48","Name":"Mouse","NameId":"Mouse","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Friend gained experience: Gain +1 attack until next turn."},{"Level":2,"About":"Friend gained experience: Gain +2 attack until next turn."},{"Level":3,"About":"Friend gained experience: Gain +3 attack until next turn."}],"Id":"362","Name":"Murmel","NameId":"Murloc","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Egg perk has regular effect."},{"Level":2,"About":"Egg perk has double effect."},{"Level":3,"About":"Egg perk has triple effect."}],"Id":"508","Name":"Nest","NameId":"Nest","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: If there are no friendly duplicates, gain +3 attack and +1 health."},{"Level":2,"About":"Start of battle: If there are no friendly duplicates, gain +6 attack and +2 health."},{"Level":3,"About":"Start of battle: If there are no friendly duplicates, gain +9 attack and +3 health."}],"Id":"757","Name":"Nudibranch","NameId":"Nudibranchs","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Give one random Faint pet in the shop +1 attack and +1 health."},{"Level":2,"About":"Sell: Give one random Faint pet in the shop +2 attack and +2 health."},{"Level":3,"About":"Sell: Give one random Faint pet in the shop +3 attack and +3 health."}],"Id":"187","Name":"Opossum","NameId":"Opossum","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Give one random friend +1 health."},{"Level":2,"About":"Buy: Give two random friends +1 health."},{"Level":3,"About":"Buy: Give three random friends +1 health."}],"Id":"51","Name":"Otter","NameId":"Otter","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Make adjacent perk-less pets Spooked."},{"Level":2,"About":"Faint: Make adjacent perk-less pets Spooked with double effect."},{"Level":3,"About":"Faint: Make adjacent perk-less pets Spooked with triple effect."}],"Id":"745","Name":"Peacock Spider","NameId":"PeacockSpider","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Gains mana: Gain 2 bonus mana. Works 2 times per turn."},{"Level":2,"About":"Gains mana: Gain 4 bonus mana. Works 2 times per turn."},{"Level":3,"About":"Gains mana: Gain 6 bonus mana. Works 2 times per turn."}],"Id":"627","Name":"Pengobble","NameId":"Pengobble","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Friend summoned: Give it the Strawberry perk until next turn. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Give it the Strawberry perk until next turn. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Give it the Strawberry perk until next turn. Works 3 times per turn."}],"Id":"558","Name":"Pheasant","NameId":"Pheasant","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Perks"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Spend 1 trumpet to deal 3 damage to one random enemy."},{"Level":2,"About":"Faint: Spend 1 trumpet to deal 3 damage to two random enemies."},{"Level":3,"About":"Faint: Spend 1 trumpet to deal 3 damage to three random enemies."}],"Id":"251","Name":"Pied Tamarin","NameId":"PiedTamarin","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Sell: Gain +1 gold."},{"Level":2,"About":"Sell: Gain +2 gold."},{"Level":3,"About":"Sell: Gain +3 gold."}],"Id":"59","Name":"Pig","NameId":"Pig","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Sell: Stock one free Bread Crumbs."},{"Level":2,"About":"Sell: Stock two free Bread Crumbs."},{"Level":3,"About":"Sell: Stock three free Bread Crumbs."}],"Id":"559","Name":"Pigeon","NameId":"Pigeon","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Stock one free Sleeping Pill."},{"Level":2,"About":"Sell: Stock two free Sleeping Pills."},{"Level":3,"About":"Sell: Stock three free Sleeping Pills."}],"Id":"149","Name":"Pillbug","NameId":"Pillbug","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give three random friends +1 attack and +1 health and remove this."},{"Level":2,"About":"Start of battle: Give three random friends +2 attack and +2 health and remove this."},{"Level":3,"About":"Start of battle: Give three random friends +3 attack and +3 health and remove this."}],"Id":"761","Name":"Pygmy Seahorse","NameId":"PygmySeahorse","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Choose one tier 1 food to stock at 1 gold."},{"Level":2,"About":"Sell: Choose one tier 1 food to stock at 1 gold. Stock two copies."},{"Level":3,"About":"Sell: Choose one tier 1 food to stock at 1 gold. Stock three copies."}],"Id":"704","Name":"Quoll","NameId":"Quoll","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Food","Perks"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"62","Name":"Ram","NameId":"Ram","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"638","Name":"Rock","NameId":"Rock","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Friend ahead hurt: Give it +1 health. Works 2 times per turn."},{"Level":2,"About":"Friend ahead hurt: Give it +2 health. Works 2 times per turn."},{"Level":3,"About":"Friend ahead hurt: Give it +3 health. Works 2 times per turn."}],"Id":"260","Name":"Silkmoth","NameId":"Silkmoth","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Sells for +2 gold extra, but lose 2 next turn."},{"Level":2,"About":"Sell: Sells for +4 gold extra, but lose 4 next turn."},{"Level":3,"About":"Sell: Sells for +6 gold extra, but lose 6 next turn."}],"Id":"566","Name":"Silverfish","NameId":"Silverfish","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Has no special ability. Is kind of lame combat-wise. But he truly believes in you!"},{"Level":2,"About":"Has no special ability. Is kind of lame combat-wise. But he truly believes in you!"},{"Level":3,"About":"Has no special ability. Is kind of lame combat-wise. But he truly believes in you!"}],"Id":"71","Name":"Sloth","NameId":"Sloth","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"642","Name":"Smaller Slime","NameId":"SmallerSlime","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Smallest Slug."},{"Level":2,"About":"Faint: Summon one 2/2 Smallest Slug."},{"Level":3,"About":"Faint: Summon one 3/3 Smallest Slug."}],"Id":"270","Name":"Smaller Slug","NameId":"SlugToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"477","Name":"Smallest Slug","NameId":"SlugToken2","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"649","Name":"Snake","NameId":"ChimeraSnake","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Faint and summon one 4/2 Cracked Egg."},{"Level":2,"About":"Start of battle: Faint and summon one 8/4 Cracked Egg."},{"Level":3,"About":"Start of battle: Faint and summon one 12/6 Cracked Egg."}],"Id":"617","Name":"Sneaky Egg","NameId":"EggLadCovered","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Set attack to the current shop tier + 1."},{"Level":2,"About":"Start of turn: Set attack to the current shop tier + 2."},{"Level":3,"About":"Start of turn: Set attack to the current shop tier + 3."}],"Id":"571","Name":"Termite","NameId":"Termite","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give one random enemy +1 health."},{"Level":2,"About":"Faint: Give one random enemy +1 health."},{"Level":3,"About":"Faint: Give one random enemy +1 health."}],"Id":"713","Name":"Togian Babirusa","NameId":"TogianBabirusa","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Sell: Stock one free Seed Pile."},{"Level":2,"About":"Sell: Stock two free Seed Pile."},{"Level":3,"About":"Sell: Stock three free Seed Pile."}],"Id":"438","Name":"Tooth Billed Pigeon","NameId":"ToothBilledPigeon","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Jump to the front space and gain +1 experience."},{"Level":2,"About":"Start of battle: Jump to the front space and gain +2 experience."},{"Level":3,"About":"Start of battle: Jump to the front space and gain +3 experience."}],"Id":"379","Name":"Tsuchinoko","NameId":"Tsuchinoko","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Guard"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Make the nearest friend ahead Dazed."},{"Level":2,"About":"End turn: Make the two nearest friends ahead Dazed."},{"Level":3,"About":"End turn: Make the three nearest friends ahead Dazed."}],"Id":"746","Name":"Umbrella Bird","NameId":"LongWattledUmbrellabird","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"PerkNote":"Prevent ability from activating.","CustomArchetypes":["Ailments"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Make one random perk-less enemy Toasty."},{"Level":2,"About":"Faint: Make two random perk-less enemies Toasty."},{"Level":3,"About":"Faint: Make three random perk-less enemies Toasty."}],"Id":"440","Name":"Volcano Snail","NameId":"VolcanoSnail","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friendly ate food: Give them +1 attack until next turn. Works 3 times per turn."},{"Level":2,"About":"Friendly ate food: Give them +2 attack until next turn. Works 3 times per turn."},{"Level":3,"About":"Friendly ate food: Give them +3 attack until next turn. Works 3 times per turn."}],"Id":"708","Name":"Weevil","NameId":"Weevil","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"646","Name":"Young Phoenix","NameId":"BabyPhoenix","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"86","Name":"Zombie Cricket","NameId":"CricketToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"31","Name":"Zombie Fly","NameId":"FlyToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Give three random friends +1 attack."},{"Level":2,"About":"Buy: Give three random friends +2 attack."},{"Level":3,"About":"Buy: Give three random friends +3 attack."}],"Id":"210","Name":"African Penguin","NameId":"AfricanPenguin","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Replace shop food with three random food and discount them by 1 gold."},{"Level":2,"About":"Sell: Replace shop food with three random food and discount them by 2 gold."},{"Level":3,"About":"Sell: Replace shop food with three random food and discount them by 3 gold."}],"Id":"686","Name":"Albino Squirrel","NameId":"AlbinoSquirrel","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give the nearest friend ahead +1 attack on odd turns and +1 health on even."},{"Level":2,"About":"End turn: Give the nearest friend ahead +2 attack on odd turns and +2 health on even."},{"Level":3,"About":"End turn: Give the nearest friend ahead +3 attack on odd turns and +3 health on even."}],"Id":"811","Name":"Amphisbaena","NameId":"Amphisbaena","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Really angry!"},{"Level":2,"About":"Really angry!"},{"Level":3,"About":"Really angry!"}],"Id":"821","Name":"Angry Pygmy Hog","NameId":"AngryPygmyHog","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friend jumped or transformed: Gain +3 health until next turn. Works 2 times per turn."},{"Level":2,"About":"Friend jumped or transformed: Gain +6 health until next turn. Works 2 times per turn."},{"Level":3,"About":"Friend jumped or transformed: Gain +9 health until next turn. Works 2 times per turn."}],"Id":"394","Name":"Araripe Manakin","NameId":"AraripeManakin","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Guard"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Friendly attacked: Remove its Strawberry perk to deal 2 damage to the last enemy."},{"Level":2,"About":"Friendly attacked: Remove its Strawberry perk to deal 4 damage to the last enemy."},{"Level":3,"About":"Friendly attacked: Remove its Strawberry perk to deal 6 damage to the last enemy."}],"Id":"132","Name":"Atlantic Puffin","NameId":"AtlanticPuffin","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint & Sell: Give one level 2 <b>Sell</b> friend +1 experience."},{"Level":2,"About":"Faint & Sell: Give one level 2 <b>Sell</b> friend +2 experience."},{"Level":3,"About":"Faint & Sell: Give one level 2 <b>Sell</b> friend +3 experience."}],"Id":"537","Name":"Bass","NameId":"Bass","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Before attack: Make one random enemy Weak. Works 1 time per battle."},{"Level":2,"About":"Before attack: Make one random enemy Weak. Works 2 times per battle."},{"Level":3,"About":"Before attack: Make one random enemy Weak. Works 3 times per battle."}],"Id":"87","Name":"Bat","NameId":"Bat","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/3 Dolphin in the back and give it Rice."},{"Level":2,"About":"Faint: Summon two 2/3 Dolphins in the back and give them Rice."},{"Level":3,"About":"Faint: Summon three 2/3 Dolphins in the back and give them Rice."}],"Id":"213","Name":"Beluga Sturgeon","NameId":"BelugaSturgeon","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Sell for +2 gold.","CustomArchetypes":["Summon"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Gain one free roll next turn."},{"Level":2,"About":"Faint: Gain two free rolls next turn."},{"Level":3,"About":"Faint: Gain three free rolls next turn."}],"Id":"334","Name":"Bigfoot","NameId":"Bigfoot","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend lost perk: Give it Garlic. Works 1 time per turn."},{"Level":2,"About":"Friend lost perk: Give it Garlic. Works 2 times per turn."},{"Level":3,"About":"Friend lost perk: Give it Garlic. Works 3 times per turn."}],"Id":"758","Name":"Bilby","NameId":"Bilby","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Takes 2 less damage.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Gain +2 trumpets."},{"Level":2,"About":"Faint: Gain +4 trumpets."},{"Level":3,"About":"Faint: Gain +6 trumpets."}],"Id":"215","Name":"Black Necked Stilt","NameId":"BlackNeckedStilt","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Knock out: Give +1 health to one random friend. Triggers 2 times."},{"Level":2,"About":"Knock out: Give +1 health to one random friend. Triggers 4 times."},{"Level":3,"About":"Knock out: Give +1 health to one random friend. Triggers 6 times."}],"Id":"339","Name":"Chupacabra","NameId":"Chupacabra","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain health equal to 25% of the most healthy friend."},{"Level":2,"About":"Start of battle: Gain health equal to 50% of the most healthy friend."},{"Level":3,"About":"Start of battle: Gain health equal to 75% of the most healthy friend."}],"Id":"16","Name":"Crab","NameId":"Crab","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Enemy hurt: Jump-attack it, or the first enemy. Works 1 time per battle."},{"Level":2,"About":"Enemy hurt: Jump-attack it, or the first enemy. Works 2 times per battle."},{"Level":3,"About":"Enemy hurt: Jump-attack it, or the first enemy. Works 3 times per battle."}],"Id":"404","Name":"Darwin\'s Fox","NameId":"DarwinsFox","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Before attack: Spend 1 trumpet to transform into a level 1 <b>Faint</b> pet from one tier above."},{"Level":2,"About":"Before attack: Spend 1 trumpet to transform into a level 1 <b>Faint</b> pet from two tiers above."},{"Level":3,"About":"Before attack: Spend 1 trumpet to transform into a level 1 <b>Faint</b> pet from three tiers above."}],"Id":"768","Name":"Desert Rain Frog","NameId":"DesertRainFrog","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and gain +4 health in battle."},{"Level":2,"About":"Empty front space: Jump to the front and gain +8 health in battle."},{"Level":3,"About":"Empty front space: Jump to the front and gain +12 health in battle."}],"Id":"220","Name":"Door Head Ant","NameId":"DoorHeadAnt","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Activate three friendly Strawberries."},{"Level":2,"About":"Faint: Activate three friendly Strawberries with double effect."},{"Level":3,"About":"Faint: Activate three friendly Strawberries with triple effect."}],"Id":"24","Name":"Dove","NameId":"Dove","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Give the two left-most shop pets +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give the two left-most shop pets +2 attack and +2 health."},{"Level":3,"About":"Start of turn: Give the two left-most shop pets +3 attack and +3 health."}],"Id":"104","Name":"Dromedary","NameId":"Dromedary","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and deal 3 damage to the last enemy in battle."},{"Level":2,"About":"Empty front space: Jump to the front and deal 6 damage to the last enemy in battle."},{"Level":3,"About":"Empty front space: Jump to the front and deal 9 damage to the last enemy in battle."}],"Id":"341","Name":"Drop Bear","NameId":"DropBear","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Roll 3 times: Stock ANY food from the 3 last unlocked tiers and discount it by 1 gold."},{"Level":2,"About":"Roll 3 times: Stock ANY food from the 3 last unlocked tiers and discount it by 2 gold."},{"Level":3,"About":"Roll 3 times: Stock ANY food from the 3 last unlocked tiers and discount it by 3 gold."}],"Id":"545","Name":"Dumbo Octopus","NameId":"DumboOctopus","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Deal 3 damage to the least healthy enemy for each food eaten this turn, up to 3 food."},{"Level":2,"About":"Faint: Deal 6 damage to the least healthy enemy for each food eaten this turn, up to 3 food."},{"Level":3,"About":"Faint: Deal 9 damage to the least healthy enemy for each food eaten this turn, up to 3 food."}],"Id":"721","Name":"Dung Beetle","NameId":"DungBeetle","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption","Food"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Give adjacent friends +1 attack. Works 5 times per turn."},{"Level":2,"About":"Adjacent friend attacked: Give adjacent friends +2 attack. Works 5 times per turn."},{"Level":3,"About":"Adjacent friend attacked: Give adjacent friends +3 attack. Works 5 times per turn."}],"Id":"407","Name":"European Mink","NameId":"EuropeanMink","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Spend 1 gold to feed one Corncob to the nearest friend ahead."},{"Level":2,"About":"End turn: Spend 1 gold to feed one Corncob to the nearest two friends ahead."},{"Level":3,"About":"End turn: Spend 1 gold to feed one Corncob to the nearest three friends ahead."}],"Id":"690","Name":"Farmer Chicken","NameId":"FarmerChicken","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Give the two nearest friends behind +1 attack and +1 health."},{"Level":2,"About":"Faint: Give the two nearest friends behind +2 attack and +2 health."},{"Level":3,"About":"Faint: Give the two nearest friends behind +3 attack and +3 health."}],"Id":"29","Name":"Flamingo","NameId":"Flamingo","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Friend gained ailment: Give it Rice. Works 1 time per turn."},{"Level":2,"About":"Friend gained ailment: Give it Rice. Works 2 times per turn."},{"Level":3,"About":"Friend gained ailment: Give it Rice. Works 3 times per turn."}],"Id":"137","Name":"Frigatebird","NameId":"Frigatebird","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Sell for +2 gold.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Make the first enemy Cold."},{"Level":2,"About":"Faint: Make the first enemy Cold twice for double effect."},{"Level":3,"About":"Faint: Make the first enemy Cold thrice for triple effect."}],"Id":"344","Name":"Frost Wolf","NameId":"FrostWolf","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take +5 damage, once.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give Blueberry perk to the opposite enemy and deal 2 damage to it."},{"Level":2,"About":"Start of battle: Give Blueberry perk to the opposite enemy and deal 4 damage to it."},{"Level":3,"About":"Start of battle: Give Blueberry perk to the opposite enemy and deal 6 damage to it."}],"Id":"695","Name":"Fruit Fly","NameId":"FruitFly","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give the nearest friend behind +2 health. Spend mana to give 1 more per mana."},{"Level":2,"About":"Faint: Give the nearest friend behind +4 health. Spend mana to give 2 more per mana."},{"Level":3,"About":"Faint: Give the nearest friend behind +6 health. Spend mana to give 3 more per mana."}],"Id":"345","Name":"Gargoyle","NameId":"Gargoyle","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Takes 3 less damage from abilities."},{"Level":2,"About":"Takes 6 less damage from abilities."},{"Level":3,"About":"Takes 9 less damage from abilities."}],"Id":"346","Name":"Ghost Kitten","NameId":"GhostKitten","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"After attack: Copy perk to the back-most pets from BOTH teams. Works 1 time per battle."},{"Level":2,"About":"After attack: Copy perk to the back-most pets from BOTH teams. Works 2 times per battle."},{"Level":3,"About":"After attack: Copy perk to the back-most pets from BOTH teams. Works 3 times per battle."}],"Id":"800","Name":"Giant Squirrel","NameId":"GiantSquirrel","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Increase sell value by 1 gold."},{"Level":2,"About":"Start of turn: Increase sell value by 2 gold."},{"Level":3,"About":"Start of turn: Increase sell value by 3 gold."}],"Id":"121","Name":"Gold Fish","NameId":"GoldFish","Tier":2,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Gain +1 gold. Triple if attack is at least 10."},{"Level":2,"About":"Sell: Gain +2 gold. Triple if attack is at least 10."},{"Level":3,"About":"Sell: Gain +3 gold. Triple if attack is at least 10."}],"Id":"634","Name":"Golden Beetle","NameId":"DwarvenBeetle","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Cycle","Gold"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Summon one 1/1 Guinea Pig."},{"Level":2,"About":"Buy: Summon one 2/2 Guinea Pig."},{"Level":3,"About":"Buy: Summon one 3/3 Guinea Pig."}],"Id":"109","Name":"Guinea Pig","NameId":"GuineaPig","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Deal 2 damage to ALL pets."},{"Level":2,"About":"Faint: Deal 4 damage to ALL pets."},{"Level":3,"About":"Faint: Deal 6 damage to ALL pets."}],"Id":"37","Name":"Hedgehog","NameId":"Hedgehog","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Sell: Give friends +1 attack for each battle this has fought evenly spread."},{"Level":2,"About":"Sell: Give friends +2 attack for each battle this has fought evenly spread."},{"Level":3,"About":"Sell: Give friends +3 attack for each battle this has fought evenly spread."}],"Id":"234","Name":"Hercules Beetle","NameId":"HerculesBeetle","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: If current perk is tier 2 or lower, copy it to the Golden Retriever when summoned."},{"Level":2,"About":"Start of battle: If current perk is tier 4 or lower, copy it to the Golden Retriever when summoned."},{"Level":3,"About":"Start of battle: If current perk is tier 6 or lower, copy it to the Golden Retriever when summoned."}],"Id":"783","Name":"Hermit Crab","NameId":"HermitCrab","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 trumpet for one friend of each tier."},{"Level":2,"About":"Start of battle: Gain +2 trumpets for one friend of each tier."},{"Level":3,"About":"Start of battle: Gain +3 trumpets for one friend of each tier."}],"Id":"726","Name":"Honduran White Bat","NameId":"HonduranWhiteBat","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Enemy summoned or pushed: Deal 2 damage to it."},{"Level":2,"About":"Enemy summoned or pushed: Deal 4 damage to it."},{"Level":3,"About":"Enemy summoned or pushed: Deal 6 damage to it."}],"Id":"147","Name":"Iguana","NameId":"Iguana","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it +1 attack. Double if it jumped. Works 3 times per battle."},{"Level":2,"About":"Before friend attacks: Give it +2 attack. Double if it jumped. Works 3 times per battle."},{"Level":3,"About":"Before friend attacks: Give it +3 attack. Double if it jumped. Works 3 times per battle."}],"Id":"353","Name":"Jackalope","NameId":"Jackalope","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friend level-up: Gain +1 attack and +1 health."},{"Level":2,"About":"Friend level-up: Gain +2 attack and +2 health."},{"Level":3,"About":"Friend level-up: Gain +3 attack and +3 health."}],"Id":"122","Name":"Jellyfish","NameId":"Jellyfish","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Gain +1 attack and +1 health."},{"Level":2,"About":"Friend ahead attacks: Gain +2 attack and +2 health."},{"Level":3,"About":"Friend ahead attacks: Gain +3 attack and +3 health."}],"Id":"40","Name":"Kangaroo","NameId":"Kangaroo","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Friend hurt: Give it the Eucalyptus perk. Works 1 time per turn."},{"Level":2,"About":"Friend hurt: Give it the Eucalyptus perk. Works 2 times per turn."},{"Level":3,"About":"Friend hurt: Give it the Eucalyptus perk. Works 3 times per turn."}],"Id":"112","Name":"Koala","NameId":"Koala","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Block 4 enemy damage, once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Lemur toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Lemur toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Lemur toy."}],"Id":"236","Name":"Lemur","NameId":"Lemur","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Hurt: Summon one 3/1 Lizard Tail. Works 2 times per turn."},{"Level":2,"About":"Hurt: Summon one 6/2 Lizard Tail. Works 2 times per turn."},{"Level":3,"About":"Hurt: Summon one 9/3 Lizard Tail. Works 2 times per turn."}],"Id":"237","Name":"Lizard","NameId":"Lizard","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Before attack: Replace own ailment with +2 attack and +2 health."},{"Level":2,"About":"Before attack: Replace own ailment with +4 attack and +4 health."},{"Level":3,"About":"Before attack: Replace own ailment with +6 attack and +6 health."}],"Id":"724","Name":"Mandarinfish","NameId":"Mandarinfish","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Break friendly tier 2 or lower toy."},{"Level":2,"About":"Faint: Break friendly tier 4 or lower toy."},{"Level":3,"About":"Faint: Break friendly tier 6 or lower toy."}],"Id":"405","Name":"Mandrill","NameId":"Drill","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give adjacent friends +1 attack for every 4 gold spent this turn."},{"Level":2,"About":"Start of battle: Give adjacent friends +2 attack for every 4 gold spent this turn."},{"Level":3,"About":"Start of battle: Give adjacent friends +3 attack for every 4 gold spent this turn."}],"Id":"203","Name":"Meerkat","NameId":"Meerkat","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Gain ANY useful perk from the previous tier."},{"Level":2,"About":"Start of battle: Gain ANY useful perk from the previous tier with double effect."},{"Level":3,"About":"Start of battle: Gain ANY useful perk from the previous tier with triple effect."}],"Id":"700","Name":"Mink","NameId":"Mink","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Anyone gained ailment: Gain +1 attack and +1 health until next turn. Works 5 times per turn."},{"Level":2,"About":"Anyone gained ailment: Gain +2 attack and +2 health until next turn. Works 5 times per turn."},{"Level":3,"About":"Anyone gained ailment: Gain +3 attack and +3 health until next turn. Works 5 times per turn."}],"Id":"604","Name":"Mothman","NameId":"Mothman","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Summon one Crawler with 3 attack, and +1 health for each friend summoned this turn."},{"Level":2,"About":"Faint: Summon one Crawler with 6 attack, and +2 health for each friend summoned this turn."},{"Level":3,"About":"Faint: Summon one Crawler with 9 attack, and +3 health for each friend summoned this turn."}],"Id":"605","Name":"Nightcrawler","NameId":"NightCrawler","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend +1 experience."},{"Level":2,"About":"Start of battle: Give the two front-most friends +1 experience."},{"Level":3,"About":"Start of battle: Give the three front-most friends +1 experience."}],"Id":"639","Name":"Ogopogo","NameId":"Ogopogo","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Make one random enemy Spooked and multiply the effect once for each roll this turn."},{"Level":2,"About":"Faint: Make one random enemy Spooked and multiply the effect twice for each roll this turn."},{"Level":3,"About":"Faint: Make one random enemy Spooked and multiply the effect thrice for each roll this turn."}],"Id":"725","Name":"Olm","NameId":"Olm","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments","Roll"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Faint to give 50% attack and health to the nearest friend ahead."},{"Level":2,"About":"Start of battle: Faint to give 100% attack and health to the nearest friend ahead."},{"Level":3,"About":"Start of battle: Faint to give 150% attack and health to the nearest friend ahead."}],"Id":"107","Name":"Panda","NameId":"Panda","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Hurt: Gain +3 attack."},{"Level":2,"About":"Hurt: Gain +6 attack."},{"Level":3,"About":"Hurt: Gain +9 attack."}],"Id":"54","Name":"Peacock","NameId":"Peacock","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Activate <b>End Turn</b> on one random tier 2 or lower friend."},{"Level":2,"About":"Faint: Activate <b>End Turn</b> on one random tier 4 or lower friend."},{"Level":3,"About":"Faint: Activate <b>End Turn</b> on one random tier 6 or lower friend."}],"Id":"732","Name":"Pink Robin","NameId":"PinkRobin","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Transform the nearest friend ahead into another pet from the same tier."},{"Level":2,"About":"Start of turn: Transform the nearest two friends ahead into other pets from the same tier."},{"Level":3,"About":"Start of turn: Transform the nearest three friends ahead into other pets from the same tier."}],"Id":"425","Name":"Proboscis Monkey","NameId":"ProboscisMonkey","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Five enemy attacks: Transform into an Angry Hog with Garlic and at least 5 attack and health."},{"Level":2,"About":"Five enemy attacks: Transform into an Angry Hog with Garlic and at least 10 attack and health."},{"Level":3,"About":"Five enemy attacks: Transform into an Angry Hog with Garlic and at least 15 attack and health."}],"Id":"427","Name":"Pygmy Hog","NameId":"PygmyHog","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Takes 2 less damage.","CustomArchetypes":["Transform","Summon"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Dirty Rat up front for the opponent.","FinePrint":"Doesn\'t trigger any summon abilities."},{"Level":2,"About":"Faint: Summon two 1/1 Dirty Rats up front for the opponent.","FinePrint":"Doesn\'t trigger any summon abilities."},{"Level":3,"About":"Faint: Summon three 1/1 Dirty Rats up front for the opponent.","FinePrint":"Doesn\'t trigger any summon abilities."}],"Id":"57","Name":"Rat","NameId":"Rat","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give Strawberry perk and +2 attack to the nearest friend ahead."},{"Level":2,"About":"Start of battle: Give Strawberry perk and +2 attack to the two nearest friends ahead."},{"Level":3,"About":"Start of battle: Give Strawberry perk and +2 attack to the three nearest friends ahead."}],"Id":"765","Name":"Roadrunner","NameId":"Roadrunner","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Faint: Give the back-most friend +1 attack and +1 health.","CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 2/3 level 1 Nest and give it Egg perk."},{"Level":2,"About":"Start of battle: Summon one 4/6 level 2 Nest and give it Egg perk."},{"Level":3,"About":"Start of battle: Summon one 6/9 level 3 Nest and give it Egg perk."}],"Id":"255","Name":"Robin","NameId":"Robin","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Before attack: Deal 2 damage to target, once.","CustomArchetypes":["Cycle"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Before attack: If outnumbered, gain +2 attack and +2 health. Works 3 times per turn."},{"Level":2,"About":"Before attack: If outnumbered, gain +4 attack and +4 health. Works 3 times per turn."},{"Level":3,"About":"Before attack: If outnumbered, gain +6 attack and +6 health. Works 3 times per turn."}],"Id":"430","Name":"Saker Falcon","NameId":"SakerFalcon","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack and +1 health for each level of each Sell friend."},{"Level":2,"About":"Start of battle: Gain +2 attack and +2 health for each level of each Sell friend."},{"Level":3,"About":"Start of battle: Gain +3 attack and +3 health for each level of each Sell friend."}],"Id":"164","Name":"Salamander","NameId":"Salamander","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give the highest attack friend -1 attack and +2 health."},{"Level":2,"About":"End turn: Give the two highest attack friends -1 attack and +2 health."},{"Level":3,"About":"End turn: Give the three highest attack friends -1 attack and +2 health."}],"Id":"431","Name":"Saola","NameId":"Saola","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +2 health until next turn."},{"Level":2,"About":"Friend summoned: Give it +4 health until next turn."},{"Level":3,"About":"Friend summoned: Give it +6 health until next turn."}],"Id":"191","Name":"Sea Turtle","NameId":"SeaTurtle","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Remove 5 health from the first enemy."},{"Level":2,"About":"Faint: Remove 5 health from the first two enemies."},{"Level":3,"About":"Faint: Remove 5 health from the first three enemies."}],"Id":"258","Name":"Sea Urchin","NameId":"SeaUrchin","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Push the last enemy one space forward."},{"Level":2,"About":"Start of battle: Push the last enemy two spaces forward."},{"Level":3,"About":"Start of battle: Push the last enemy three spaces forward."}],"Id":"152","Name":"Seahorse","NameId":"Seahorse","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Friend faints: If it had a Strawberry, summon one 2/2 friend in its place. Works 2 times per turn."},{"Level":2,"About":"Friend faints: If it had a Strawberry, summon one 4/4 friend in its place. Works 2 times per turn."},{"Level":3,"About":"Friend faints: If it had a Strawberry, summon one 6/6 friend in its place. Works 2 times per turn."}],"Id":"803","Name":"Shima Enaga","NameId":"ShimaEnaga","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friend sold: Give one random friend +1 health. Works 3 times per turn."},{"Level":2,"About":"Friend sold: Give one random friend +2 health. Works 3 times per turn."},{"Level":3,"About":"Friend sold: Give one random friend +3 health. Works 3 times per turn."}],"Id":"67","Name":"Shrimp","NameId":"Shrimp","Tier":2,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: If you lost last battle, give the three nearest friends ahead +1 attack."},{"Level":2,"About":"End turn: If you lost last battle, give the three nearest friends ahead +2 attack."},{"Level":3,"About":"End turn: If you lost last battle, give the three nearest friends ahead +3 attack."}],"Id":"72","Name":"Snail","NameId":"Snail","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 adventurous toy."},{"Level":2,"About":"Buy: Choose one level 2 adventurous toy."},{"Level":3,"About":"Buy: Choose one level 3 adventurous toy."}],"Id":"376","Name":"Sphinx","NameId":"Sphinx","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one tier 3 pet as a 2/2 level 1."},{"Level":2,"About":"Faint: Summon one tier 3 pet as a 4/4 level 2."},{"Level":3,"About":"Faint: Summon one tier 3 pet as a 6/6 level 3."}],"Id":"74","Name":"Spider","NameId":"Spider","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon","Mvp","Mvp"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Stock one random canned ailment."},{"Level":2,"About":"Start of turn: Stock two random canned ailments to choose from."},{"Level":3,"About":"Start of turn: Stock three random canned ailments to choose from."}],"Id":"735","Name":"Spotted Handfish","NameId":"SpottedHandfish","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Spend 1 trumpet to make the first enemy Inked."},{"Level":2,"About":"Faint: Spend 1 trumpet to make the two first enemies Inked."},{"Level":3,"About":"Faint: Spend 1 trumpet to make the three first enemies Inked."}],"Id":"177","Name":"Squid","NameId":"Squid","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":["Trumpets"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Summon one level 1 pet from your current tier as a 1/1."},{"Level":2,"About":"Sell: Summon one level 2 pet from your current tier as a 1/1."},{"Level":3,"About":"Sell: Summon one level 3 pet from your current tier as a 1/1."}],"Id":"263","Name":"Stoat","NameId":"Stoat","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle","Mvp"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Summon ANY one level 1 pet from the previous shop tier as a 2/2."},{"Level":2,"About":"Faint: Summon ANY one level 2 pet from the previous shop tier as a 4/4."},{"Level":3,"About":"Faint: Summon ANY one level 3 pet from the previous shop tier as a 6/6."}],"Id":"136","Name":"Stork","NameId":"Stork","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Gain +1 gold."},{"Level":2,"About":"Start of turn: Gain +2 gold."},{"Level":3,"About":"Start of turn: Gain +3 gold."}],"Id":"76","Name":"Swan","NameId":"Swan","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friendly gained perk: Give two random friends +1 health until next turn."},{"Level":2,"About":"Friendly gained perk: Give two random friends +2 health until next turn."},{"Level":3,"About":"Friendly gained perk: Give two random friends +3 health until next turn."}],"Id":"99","Name":"Tabby Cat","NameId":"TabbyCat","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Transform into a level 1 Frog and gain +2 experience."},{"Level":2,"About":"Start of battle: Transform into a level 1 Frog and gain +4 experience."},{"Level":3,"About":"Start of battle: Transform into a level 1 Frog and gain +6 experience."}],"Id":"805","Name":"Tadpole","NameId":"Tadpole","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Transform","Levels"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Transform into a level 1 Weasel."},{"Level":2,"About":"Start of battle: Transform into a level 2 Weasel."},{"Level":3,"About":"Start of battle: Transform into a level 3 Weasel."}],"Id":"435","Name":"Taita Shrew","NameId":"TaitaShrew","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Gold"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/2 African Wild Dog that jump-attacks the second enemy."},{"Level":2,"About":"Faint: Summon one 6/4 African Wild Dog that jump-attacks the second enemy."},{"Level":3,"About":"Faint: Summon one 9/6 African Wild Dog that jump-attacks the second enemy."}],"Id":"715","Name":"Takhi","NameId":"Takhi","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Deal 3 damage to one random enemy and prioritize those with ailments."},{"Level":2,"About":"Faint: Deal 6 damage to one random enemy and prioritize those with ailments."},{"Level":3,"About":"Faint: Deal 9 damage to one random enemy and prioritize those with ailments."}],"Id":"731","Name":"Thorny Dragon","NameId":"ThornyDragon","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the second nearest friend ahead +3 mana."},{"Level":2,"About":"Start of battle: Give the second nearest friend ahead +6 mana."},{"Level":3,"About":"Start of battle: Give the second nearest friend ahead +9 mana."}],"Id":"610","Name":"Thunderbird","NameId":"Thunderbird","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Summon one level 1 Microwave Oven."},{"Level":2,"About":"Buy: Summon one level 2 Microwave Oven."},{"Level":3,"About":"Buy: Summon one level 3 Microwave Oven."}],"Id":"707","Name":"Vervet","NameId":"Vervet","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Toys","Summon"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Gains mana: Deal 1 damage to one random enemy."},{"Level":2,"About":"Gains mana: Deal 2 damage to one random enemy."},{"Level":3,"About":"Gains mana: Deal 3 damage to one random enemy."}],"Id":"382","Name":"Warf","NameId":"Warg","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give Meat Bone to the friend ahead."},{"Level":2,"About":"Start of battle: Give Meat Bone to the friend ahead with double effect."},{"Level":3,"About":"Start of battle: Give Meat Bone to the friend ahead with triple effect."}],"Id":"441","Name":"White-Bellied Heron","NameId":"WhiteBelliedHeron","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Before attack: Copy ability from the first <b>Faint</b> enemy as level 1."},{"Level":2,"About":"Before attack: Copy ability from the first <b>Faint</b> enemy as level 2."},{"Level":3,"About":"Before attack: Copy ability from the first <b>Faint</b> enemy as level 3."}],"Id":"207","Name":"Wombat","NameId":"Wombat","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Stock one 2-gold Apple."},{"Level":2,"About":"Start of turn: Stock one 2-gold Better Apple."},{"Level":3,"About":"Start of turn: Stock one 2-gold Best Apple."}],"Id":"82","Name":"Worm","NameId":"Worm","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friendly level-up: Gain 1 extra shop reward."},{"Level":2,"About":"Friendly level-up: Gain 2 extra shop reward."},{"Level":3,"About":"Friendly level-up: Gain 3 extra shop reward."}],"Id":"385","Name":"Wyvern","NameId":"Wyvern","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Take 1 damage and gain +2 attack."},{"Level":2,"About":"End turn: Take 2 damage and gain +4 attack."},{"Level":3,"About":"End turn: Take 3 damage and gain +6 attack."}],"Id":"163","Name":"Yak","NameId":"Yak","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Enemy summoned: Gain +2 attack and +2 health."},{"Level":2,"About":"Enemy summoned: Gain +4 attack and +4 health."},{"Level":3,"About":"Enemy summoned: Gain +6 attack and +6 health."}],"Id":"193","Name":"Aardvark","NameId":"Aardvark","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack permanently and jump-attack the highest attack enemy."},{"Level":2,"About":"Start of battle: Gain +2 attack permanently and jump-attack the highest attack enemy."},{"Level":3,"About":"Start of battle: Gain +3 attack permanently and jump-attack the highest attack enemy."}],"Id":"389","Name":"Amami Rabbit","NameId":"AmamiRabbit","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 level 3 Ant."},{"Level":2,"About":"Faint: Summon two 1/1 level 3 Ants."},{"Level":3,"About":"Faint: Summon three 1/1 level 3 Ants."}],"Id":"105","Name":"Anteater","NameId":"Anteater","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Before attack: If opponent has duplicates, deal 2 damage to all enemies. Works 1 time per battle."},{"Level":2,"About":"Before attack: If opponent has duplicates, deal 4 damage to all enemies. Works 1 time per battle."},{"Level":3,"About":"Before attack: If opponent has duplicates, deal 6 damage to all enemies. Works 1 time per battle."}],"Id":"377","Name":"Axehandle Hound","NameId":"AxehandleHound","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Give one random friend from the current or higher shop tier +1 attack and +1 health."},{"Level":2,"About":"End turn: Give one random friend from the current or higher shop tier +2 attack and +2 health."},{"Level":3,"About":"End turn: Give one random friend from the current or higher shop tier +3 attack and +3 health."}],"Id":"171","Name":"Baboon","NameId":"Baboon","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Remove 4 health from the first enemy."},{"Level":2,"About":"Faint: Remove 4 health from the first two enemies."},{"Level":3,"About":"Faint: Remove 4 health from the first three enemies."}],"Id":"822","Name":"Baby Urchin","NameId":"BabySeaUrchin","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":6,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Deal 50% attack damage to adjacent pets."},{"Level":2,"About":"Faint: Deal 100% attack damage to adjacent pets."},{"Level":3,"About":"Faint: Deal 150% attack damage to adjacent pets."}],"Id":"2","Name":"Badger","NameId":"Badger","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"End turn: If you did not roll this turn, gain +1 experience."},{"Level":2,"About":"End turn: If you did not roll this turn, gain +2 experience."},{"Level":3,"About":"End turn: If you did not roll this turn, gain +3 experience."}],"Id":"796","Name":"Barnacle","NameId":"Barnacle","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Transform the nearest pet ahead to Rock with +5 health."},{"Level":2,"About":"Start of battle: Transform the nearest pet ahead to Rock with +5 health. Double on friendly pets."},{"Level":3,"About":"Start of battle: Transform the nearest pet ahead to Rock with +5 health. Triple on friendly pets."}],"Id":"332","Name":"Basilisk","NameId":"Basilisk","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Transform","Disruption"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Honey perk to all pets within one space."},{"Level":2,"About":"Faint: Give Honey perk to all pets within two spaces."},{"Level":3,"About":"Faint: Give Honey perk to all pets within three spaces."}],"Id":"140","Name":"Bear","NameId":"Bear","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Faint: Summon one 1/1 Bee.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Friend lost perk: Give it the Guava perk. Works on one friend per turn."},{"Level":2,"About":"Friend lost perk: Give it the Guava perk. Works on two different friends per turn."},{"Level":3,"About":"Friend lost perk: Give it the Guava perk. Works on three different friends per turn."}],"Id":"214","Name":"Betta Fish","NameId":"BettaFish","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 3 damage, and attack for +3 damage, once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 trumpet for each friend behind and give friends ahead +1 mana."},{"Level":2,"About":"Start of battle: Gain +2 trumpets for each friend behind and give friends ahead +2 mana."},{"Level":3,"About":"Start of battle: Gain +3 trumpets for each friend behind and give friends ahead +3 mana."}],"Id":"728","Name":"Blue Dragon","NameId":"GlaucusAtlanticus","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4","Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Trumpets"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend transformed: If it is ahead, give it +3 attack until next turn. Otherwise give health."},{"Level":2,"About":"Friend transformed: If it is ahead, give it +6 attack until next turn. Otherwise give health."},{"Level":3,"About":"Friend transformed: If it is ahead, give it +9 attack until next turn. Otherwise give health."}],"Id":"400","Name":"Blue-Throated Macaw","NameId":"BlueThroatedMacaw","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and gain +2 attack and Melon perk in battle."},{"Level":2,"About":"Empty front space: Jump to the front and gain +4 attack and Melon perk in battle."},{"Level":3,"About":"Empty front space: Jump to the front and gain +6 attack and Melon perk in battle."}],"Id":"349","Name":"Brain Cramp","NameId":"Headcrab","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Guard","Perks"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Randomly redistribute stats of the highest health enemy."},{"Level":2,"About":"Start of battle: Randomly redistribute stats of the two highest health enemies."},{"Level":3,"About":"Start of battle: Randomly redistribute stats of the three highest health enemies."}],"Id":"798","Name":"Brazillian Treehopper","NameId":"BrazillianTreehopper","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Before friend attacks: Replace 3 mana on it with +2 attack and +2 health."},{"Level":2,"About":"Before friend attacks: Replace 3 mana on it with +4 attack and +4 health."},{"Level":3,"About":"Before friend attacks: Replace 3 mana on it with +6 attack and +6 health."}],"Id":"786","Name":"Caladrius","NameId":"Caladrius","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Spend mana to remove 1 health per mana from the two most healthy enemies."},{"Level":2,"About":"Faint: Spend mana to remove 2 health per mana from the two most healthy enemies."},{"Level":3,"About":"Faint: Spend mana to remove 3 health per mana from the two most healthy enemies."}],"Id":"336","Name":"Calygreyhound","NameId":"Calygreyhound","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Hurt: Give the nearest friend behind +1 attack and +2 health."},{"Level":2,"About":"Hurt: Give the nearest friend behind +2 attack and +4 health."},{"Level":3,"About":"Hurt: Give the nearest friend behind +3 attack and +6 health."}],"Id":"10","Name":"Camel","NameId":"Camel","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Roll & Sell: Give newly rolled shop pets +1 attack and +1 health."},{"Level":2,"About":"Roll & Sell: Give newly rolled shop pets +2 attack and +2 health."},{"Level":3,"About":"Roll & Sell: Give newly rolled shop pets +3 attack and +3 health."}],"Id":"154","Name":"Capybara","NameId":"Capybara","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Copy and stock the nearest perk ahead and discount it by 1 gold.","FinePrint":"Skips over perks from locked tiers."},{"Level":2,"About":"End turn: Copy and stock the nearest perk ahead and discount it by 2 gold.","FinePrint":"Skips over perks from locked tiers."},{"Level":3,"About":"End turn: Copy and stock the nearest perk ahead and discount it by 3 gold.","FinePrint":"Skips over perks from locked tiers."}],"Id":"539","Name":"Cardinal","NameId":"Cardinal","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Friendly gained strawberry: Gain +1 health. Also gain +1 attack until next turn."},{"Level":2,"About":"Friendly gained strawberry: Gain +2 health. Also gain +2 attack until next turn."},{"Level":3,"About":"Friendly gained strawberry: Gain +3 health. Also gain +3 attack until next turn."}],"Id":"133","Name":"Cassowary","NameId":"Cassowary","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Friend bought: Gain +1 attack and +1 health times its tier until next turn. Works 1 time per turn."},{"Level":2,"About":"Friend bought: Gain +2 attack and +2 health times its tier until next turn. Works 1 time per turn."},{"Level":3,"About":"Friend bought: Gain +3 attack and +3 health times its tier until next turn. Works 1 time per turn."}],"Id":"540","Name":"Centipede","NameId":"Centipede","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Knock out the nearest friend ahead and stock one free Bacon."},{"Level":2,"About":"End turn: Knock out the nearest friend ahead and stock two free Bacons."},{"Level":3,"About":"End turn: Knock out the nearest friend ahead and stock three free Bacons."}],"Id":"651","Name":"Deer Lord","NameId":"Wendigo","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mvp"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 5/5 friend if able. Otherwise give friends +1 attack and +1 health."},{"Level":2,"About":"Start of battle: Summon one 10/10 friend if able. Otherwise give friends +2 attack and +2 health."},{"Level":3,"About":"Start of battle: Summon one 15/15 friend if able. Otherwise give friends +3 attack and +3 health."}],"Id":"543","Name":"Dimetrodon","NameId":"Dimetrodon","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give 50% of attack to the nearest friend ahead."},{"Level":2,"About":"Start of battle: Give 100% of attack to the nearest friend ahead."},{"Level":3,"About":"Start of battle: Give 150% of attack to the nearest friend ahead."}],"Id":"21","Name":"Dodo","NameId":"Dodo","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: Gain +2 attack and +1 health until next turn."},{"Level":2,"About":"Friend summoned: Gain +4 attack and +2 health until next turn."},{"Level":3,"About":"Friend summoned: Gain +6 attack and +3 health until next turn."}],"Id":"22","Name":"Dog","NameId":"Dog","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Deal 4 damage to the lowest health enemy."},{"Level":2,"About":"Start of battle: Deal 4 damage to the lowest health enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 4 damage to the lowest health enemy. Triggers 3 times."}],"Id":"23","Name":"Dolphin","NameId":"Dolphin","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give friends that aren\'t from your pack +1 attack and +2 health."},{"Level":2,"About":"Faint: Give friends that aren\'t from your pack +2 attack and +4 health."},{"Level":3,"About":"Faint: Give friends that aren\'t from your pack +3 attack and +6 health."}],"Id":"544","Name":"Dugong","NameId":"Dugong","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Gain +50% health."},{"Level":2,"About":"Start of battle: Gain +100% health."},{"Level":3,"About":"Start of battle: Gain +150% health."}],"Id":"120","Name":"Eel","NameId":"Eel","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"After attack: Deal 1 damage to the nearest friend behind."},{"Level":2,"About":"After attack: Deal 1 damage to the nearest friend behind. Triggers 2 times."},{"Level":3,"About":"After attack: Deal 1 damage to the nearest friend behind. Triggers 3 times."}],"Id":"28","Name":"Elephant","NameId":"Elephant","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Give 33% attack and health to the leftmost shop pet."},{"Level":2,"About":"Sell: Give 66% attack and health to the leftmost shop pet."},{"Level":3,"About":"Sell: Give 100% attack and health to the leftmost shop pet."}],"Id":"197","Name":"Emperor Tamarin","NameId":"EmperorTamarin","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Feed adjacent friends one Corncob."},{"Level":2,"About":"Start of battle: Feed adjacent friends two Corncobs."},{"Level":3,"About":"Start of battle: Feed adjacent friends three Corncobs."}],"Id":"694","Name":"Farmer Pig","NameId":"FarmerPig","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Make the most healthy enemy Weak."},{"Level":2,"About":"Faint: Make the two most healthy enemies Weak."},{"Level":3,"About":"Faint: Make the three most healthy enemies Weak."}],"Id":"225","Name":"Flea","NameId":"Flea","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments","Mvp"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: If in battle, give it +2 experience. Works 2 times per turn."},{"Level":2,"About":"Friend summoned: If in battle, give it +4 experience. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: If in battle, give it +6 experience. Works 2 times per turn."}],"Id":"226","Name":"Flying Fish","NameId":"FlyingFish","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon","Mvp","Mvp"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friendly toy broke: Gain +2 attack and re-summon the toy at up to level 1."},{"Level":2,"About":"Friendly toy broke: Gain +4 attack and re-summon the toy at up to level 2."},{"Level":3,"About":"Friendly toy broke: Gain +6 attack and re-summon the toy at up to level 3."}],"Id":"227","Name":"Flying Squirrel","NameId":"FlyingSquirrel","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Buy: Give future shop pets from the next tier permanent +2 health."},{"Level":2,"About":"Buy: Give future shop pets from the next tier permanent +4 health."},{"Level":3,"About":"Buy: Give future shop pets from the next tier permanent +6 health."}],"Id":"625","Name":"Foo Dog","NameId":"FuLion","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Rambutan perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Rambutan perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Rambutan perk to the three nearest friends behind."}],"Id":"653","Name":"Fur-Bearing Trout","NameId":"FurBearingTrout","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Before attack: Gain +3 mana.","CustomArchetypes":["Mana","Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Remove the highest tier perk from one enemy."},{"Level":2,"About":"Start of battle: Remove the highest tier perks from two enemies."},{"Level":3,"About":"Start of battle: Remove the highest tier perks from three enemies."}],"Id":"740","Name":"Gerenuk","NameId":"Gerenuk","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Gharial toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Gharial toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Gharial toy."}],"Id":"231","Name":"Gharial","NameId":"Gharial","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Give the nearest friend ahead +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give the nearest two friends ahead +1 attack and +1 health."},{"Level":3,"About":"Start of turn: Give the nearest three friends ahead +1 attack and +1 health."}],"Id":"33","Name":"Giraffe","NameId":"Giraffe","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Anyone hurt: If nobody has attacked, gain +2 health until next turn. Works 5 times per turn."},{"Level":2,"About":"Anyone hurt: If nobody has attacked, gain +4 health until next turn. Works 5 times per turn."},{"Level":3,"About":"Anyone hurt: If nobody has attacked, gain +6 health until next turn. Works 5 times per turn."}],"Id":"697","Name":"Great Potoo","NameId":"GreatPotoo","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 toy from Griffin\'s collection."},{"Level":2,"About":"Buy: Choose one level 2 toy from Griffin\'s collection."},{"Level":3,"About":"Buy: Choose one level 3 toy from Griffin\'s collection."}],"Id":"348","Name":"Griffin","NameId":"Griffin","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Hurt: Gain +2 trumpets."},{"Level":2,"About":"Hurt: Gain +4 trumpets."},{"Level":3,"About":"Hurt: Gain +6 trumpets."}],"Id":"228","Name":"Guineafowl","NameId":"FowlBird","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Hurt"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Before attack: Copy a useful food perk from one random enemy. Works 1 time per battle."},{"Level":2,"About":"Before attack: Copy a useful food perk from one random enemy. Works 2 times per battle."},{"Level":3,"About":"Before attack: Copy a useful food perk from one random enemy. Works 3 times per battle."}],"Id":"551","Name":"Hare","NameId":"Hare","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give the nearest friend ahead +3 attack and +3 health until next turn.","FinePrint":"Will give permanent stats at level 2."},{"Level":2,"About":"End turn: Give the nearest friend ahead +2 attack and +2 health.","FinePrint":"Will give experience at level 3."},{"Level":3,"About":"End turn: Give the nearest friend ahead +1 experience."}],"Id":"91","Name":"Hatching Chick","NameId":"HatchingChick","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff","Levels","Mvp"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 4/3 Ethiopian Wolf."},{"Level":2,"About":"Faint: Summon two 4/3 Ethiopian Wolves."},{"Level":3,"About":"Faint: Summon three 4/3 Ethiopian Wolves."}],"Id":"717","Name":"Hirola","NameId":"Hirola","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Deal 2 damage to the first and last enemy."},{"Level":2,"About":"Faint: Deal 4 damage to the first and last enemy."},{"Level":3,"About":"Faint: Deal 6 damage to the first and last enemy."}],"Id":"235","Name":"Hoopoe Bird","NameId":"HoopoeBird","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Spend 2 trumpets to increase sell value of the two back-most friends permanently by 1 gold."},{"Level":2,"About":"Faint: Spend 2 trumpets to increase sell value of the two back-most friends permanently by 2 gold."},{"Level":3,"About":"Faint: Spend 2 trumpets to increase sell value of the two back-most friends permanently by 3 gold."}],"Id":"736","Name":"Jewel Caterpillar","NameId":"JewelCaterpillar","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Deal 1 damage to the nearest friend ahead and gain damage as health."},{"Level":2,"About":"End turn: Deal 2 damage to the nearest friend ahead and gain damage as health."},{"Level":3,"About":"End turn: Deal 3 damage to the nearest friend ahead and gain damage as health."}],"Id":"165","Name":"Leech","NameId":"Leech","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt","Mvp"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Level-up: Gain +2 attack and +2 health now and +2 gold next turn."},{"Level":2,"About":"Level-up: Gain +4 attack and +4 health now and +4 gold next turn."},{"Level":3,"About":"No ability."}],"Id":"623","Name":"Lucky Cat","NameId":"LuckyCat","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend ahead +2 mana for each roll this turn, up to 3 rolls."},{"Level":2,"About":"Start of battle: Give the nearest friend ahead +4 mana for each roll this turn, up to 3 rolls."},{"Level":3,"About":"Start of battle: Give the nearest friend ahead +6 mana for each roll this turn, up to 3 rolls."}],"Id":"635","Name":"Mana Hound","NameId":"ManaHound","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Roll"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make one tier 2 or lower enemy Dazed and prioritize <b>Faint</b> pets."},{"Level":2,"About":"Start of battle: Make one tier 4 or lower enemy Dazed and prioritize <b>Faint</b> pets."},{"Level":3,"About":"Start of battle: Make one tier 6 or lower enemy Dazed and prioritize <b>Faint</b> pets."}],"Id":"357","Name":"Mandrake","NameId":"Mandrake","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Prevent ability from activating.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Remove the two nearest friendly perks to summon one 6/6 Mole."},{"Level":2,"About":"Faint: Remove the two nearest friendly perks to summon one 12/12 Mole."},{"Level":3,"About":"Faint: Remove the two nearest friendly perks to summon one 18/18 Mole."}],"Id":"168","Name":"Mole","NameId":"Mole","Tier":3,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Anyone behind hurt: Give two random friendly pets +1 attack and +2 health. Works 2 times per battle."},{"Level":2,"About":"Anyone behind hurt: Give two random friendly pets +2 attack and +4 health. Works 2 times per battle."},{"Level":3,"About":"Anyone behind hurt: Give two random friendly pets +3 attack and +6 health. Works 2 times per battle."}],"Id":"422","Name":"Monkey-Faced Bat","NameId":"MonkeyFacedBat","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend ahead faints: Gain +1 attack and +2 health until next turn."},{"Level":2,"About":"Friend ahead faints: Gain +2 attack and +4 health until next turn."},{"Level":3,"About":"Friend ahead faints: Gain +3 attack and +6 health until next turn."}],"Id":"245","Name":"Musk Ox","NameId":"MuskOx","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Roll: Gain +1 attack and +1 health until next turn. Works 5 times per turn."},{"Level":2,"About":"Roll: Gain +2 attack and +2 health until next turn. Works 5 times per turn."},{"Level":3,"About":"Roll: Gain +3 attack and +3 health until next turn. Works 5 times per turn."}],"Id":"130","Name":"Okapi","NameId":"Okapi","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give the lowest health friendly pet +3 health."},{"Level":2,"About":"End turn: Give the lowest health friendly pet +6 health."},{"Level":3,"About":"End turn: Give the lowest health friendly pet +9 health."}],"Id":"157","Name":"Orangutan","NameId":"Orangutan","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/1 Groundhog."},{"Level":2,"About":"Faint: Summon two 2/1 Groundhogs."},{"Level":3,"About":"Faint: Summon three 2/1 Groundhogs."}],"Id":"247","Name":"Osprey","NameId":"Osprey","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Roll: Give new shop pets +1 attack and +1 health until next turn for each roll, up to 5 rolls.","FinePrint":"Exclude pets that already have temp stats."},{"Level":2,"About":"Roll: Give new shop pets +2 attack and +2 health until next turn for each roll, up to 5 rolls.","FinePrint":"Exclude pets that already have temp stats."},{"Level":3,"About":"Roll: Give new shop pets +3 attack and +3 health until next turn for each roll, up to 5 rolls.","FinePrint":"Exclude pets that already have temp stats."}],"Id":"364","Name":"Ouroboros","NameId":"Ouroboros","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Summon one level 1 Mouse."},{"Level":2,"About":"Start of turn: Summon one level 2 Mouse."},{"Level":3,"About":"Start of turn: Summon one level 3 Mouse."}],"Id":"95","Name":"Owl","NameId":"Owl","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle","Mvp"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead faints: Gain Melon perk and +1 attack. Works 1 time per turn."},{"Level":2,"About":"Friend ahead faints: Gain Melon perk and +1 attack. Works 2 times per turn."},{"Level":3,"About":"Friend ahead faints: Gain Melon perk and +1 attack. Works 3 times per turn."}],"Id":"52","Name":"Ox","NameId":"Ox","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Copy ailment to the first enemy."},{"Level":2,"About":"Start of battle: Copy ailment to the first enemy with double effect."},{"Level":3,"About":"Start of battle: Copy ailment to the first enemy with triple effect."}],"Id":"701","Name":"Pangasius","NameId":"Pangasius","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: If you have a toy, give the nearest friend behind +4 health."},{"Level":2,"About":"Faint: If you have a toy, give the nearest friend behind +8 health."},{"Level":3,"About":"Faint: If you have a toy, give the nearest friend behind +12 health."}],"Id":"249","Name":"Pangolin","NameId":"Pangolin","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +4 trumpets and summon the Golden Retriever immediately."},{"Level":2,"About":"Faint: Gain +8 trumpets and summon the Golden Retriever immediately."},{"Level":3,"About":"Faint: Gain +12 trumpets and summon the Golden Retriever immediately."}],"Id":"733","Name":"Patagonian Mara","NameId":"PatagonianMara","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Summon"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Knock out: Feed the back-most friend with one apple."},{"Level":2,"About":"Knock out: Feed the back-most friend with two apples."},{"Level":3,"About":"Knock out: Feed the back-most friend with three apples."}],"Id":"560","Name":"Pony","NameId":"Pony","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Deal 3 damage directly back."},{"Level":2,"About":"Hurt: Deal 6 damage directly back."},{"Level":3,"About":"Hurt: Deal 9 damage directly back."}],"Id":"169","Name":"Porcupine","NameId":"Porcupine","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend ahead +1 experience."},{"Level":2,"About":"Start of battle: Give the nearest friend ahead +2 experience."},{"Level":3,"About":"Start of battle: Give the nearest friend ahead +3 experience."}],"Id":"145","Name":"Pug","NameId":"Pug","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: Activate and disable its <b>Start of turn</b> ability until next turn. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Activate and disable its <b>Start of turn</b> ability until next turn. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Activate and disable its <b>Start of turn</b> ability until next turn. Works 3 times per turn."}],"Id":"744","Name":"Purple Frog","NameId":"PurpleFrog","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":7,"Abilities":[{"Level":1,"About":"Five enemy attacks: Deal 33% of health as damage to the least healthy enemy."},{"Level":2,"About":"Five enemy attacks: Deal 33% of health as damage to the two least healthy enemies."},{"Level":3,"About":"Five enemy attacks: Deal 33% of health as damage to the three least healthy enemies."}],"Id":"426","Name":"Pygmy Hippo","NameId":"PygmyHippo","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Transformed: Give front-most friend +2 attack and +2 health. Double in battle."},{"Level":2,"About":"Transformed: Give front-most friend +4 attack and +4 health. Double in battle."},{"Level":3,"About":"Transformed: Give front-most friend +6 attack and +6 health. Double in battle."}],"Id":"702","Name":"Quail","NameId":"Quail","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Eats food: Transform and give front-most friend +2 attack and +2 health. Double in battle."},{"Level":2,"About":"Eats food: Transform and give front-most friend +4 attack and +4 health. Double in battle."},{"Level":3,"About":"Eats food: Transform and give front-most friend +6 attack and +6 health. Double in battle."}],"Id":"778","Name":"Quail Chick","NameId":"QuailChick","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Transform","Food"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Bee summoned: Give it +3 attack and +3 health and remove ALL other Queen Bees.","FinePrint":"There can bee only one!"},{"Level":2,"About":"Bee summoned: Give it +6 attack and +6 health and remove ALL other Queen Bees.","FinePrint":"There can bee only one!"},{"Level":3,"About":"Bee summoned: Give it +9 attack and +9 health and remove ALL other Queen Bees.","FinePrint":"There can bee only one!"}],"Id":"703","Name":"Queen Bee","NameId":"QueenBee","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give the pet that knocked this out and its friends +1 attack and +1 health."},{"Level":2,"About":"Faint: Give the pet that knocked this out and its friends +2 attack and +2 health."},{"Level":3,"About":"Faint: Give the pet that knocked this out and its friends +3 attack and +3 health."}],"Id":"751","Name":"Quetzalcoatlus","NameId":"Quetzalcoatlus","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Friendly ate food: Give them +1 health. Works 3 times per turn."},{"Level":2,"About":"Friendly ate food: Give them +2 health. Works 3 times per turn."},{"Level":3,"About":"Friendly ate food: Give them +3 health. Works 3 times per turn."}],"Id":"60","Name":"Rabbit","NameId":"Rabbit","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Transform two friends ahead into ANY useful level 1 <b>Hurt</b> pets from tier 3 or lower."},{"Level":2,"About":"Start of battle: Transform two friends ahead into ANY useful level 2 <b>Hurt</b> pets from tier 3 or lower."},{"Level":3,"About":"Start of battle: Transform two friends ahead into ANY useful level 3 <b>Hurt</b> pets from tier 3 or lower."}],"Id":"429","Name":"Roloway Monkey","NameId":"RolowayMonkey","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Hurt"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Three enemies faint: Deal 4 damage to one random enemy."},{"Level":2,"About":"Three enemies faint: Deal 8 damage to one random enemy."},{"Level":3,"About":"Three enemies faint: Deal 12 damage to one random enemy."}],"Id":"256","Name":"Royal Flycatcher","NameId":"RoyalFlycatcher","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Sell friend: Remove its Strawberry perk to gain +3 gold. Works 1 time per turn."},{"Level":2,"About":"Sell friend: Remove its Strawberry perk to gain +3 gold. Works 2 times per turn."},{"Level":3,"About":"Sell friend: Remove its Strawberry perk to gain +3 gold. Works 3 times per turn."}],"Id":"531","Name":"Sage-Grouse","NameId":"GreaterSageGrouse","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"Eats food: Swallow the left-most shop pet. Summon a 1/1 level 1 copy up front for the opponent on faint."},{"Level":2,"About":"Eats food: Swallow the left-most shop pet. Summon a 1/1 level 2 copy up front for the opponent on faint."},{"Level":3,"About":"Eats food: Swallow the left-most shop pet. Summon a 1/1 level 3 copy up front for the opponent on faint."}],"Id":"763","Name":"Sarcastic Fringehead","NameId":"SarcasticFringehead","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon two 2/2 Rams."},{"Level":2,"About":"Faint: Summon two 4/4 Rams."},{"Level":3,"About":"Faint: Summon two 6/6 Rams."}],"Id":"68","Name":"Sheep","NameId":"Sheep","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Friend gained ailment: Give it a random tier 1 perk. Works 2 times per turn."},{"Level":2,"About":"Friend gained ailment: Give it a random tier 2 perk. Works 2 times per turn."},{"Level":3,"About":"Friend gained ailment: Give it a random tier 3 perk. Works 2 times per turn."}],"Id":"722","Name":"Silkie Chicken","NameId":"SilkieChicken","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give one random friend permanent +1 attack and +1 health."},{"Level":2,"About":"Faint: Give two random friends permanent +1 attack and +1 health."},{"Level":3,"About":"Faint: Give three random friends permanent +1 attack and +1 health."}],"Id":"374","Name":"Skeleton Dog","NameId":"SkeletonDog","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/2 Slime for each two battles fought."},{"Level":2,"About":"Faint: Summon one 4/4 Slime for each two battles fought."},{"Level":3,"About":"Faint: Summon one 6/6 Slime for each two battles fought."}],"Id":"375","Name":"Slime","NameId":"Slime","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Give the nearest friend behind +2 to their lowest stat."},{"Level":2,"About":"Start of turn: Give the nearest two friends behind +2 to their lowest stat."},{"Level":3,"About":"Start of turn: Give the nearest three friends behind +2 to their lowest stat."}],"Id":"433","Name":"Spoon-Billed Sandpiper","NameId":"SpoonBilledSandpiper","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Stock one free Cupcake."},{"Level":2,"About":"Start of turn: Stock one free Cupcake with double effect."},{"Level":3,"About":"Start of turn: Stock one free Cupcake with triple effect."}],"Id":"705","Name":"Sugar Glider","NameId":"SugarGlider","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Spend 2 trumpets to give the two nearest friends behind +4 health."},{"Level":2,"About":"Faint: Spend 2 trumpets to give the two nearest friends behind +8 health."},{"Level":3,"About":"Faint: Spend 2 trumpets to give the two nearest friends behind +12 health."}],"Id":"264","Name":"Surgeon Fish","NameId":"SurgeonFish","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Friend ahead hurt: Gain +1 attack and +2 health until next turn."},{"Level":2,"About":"Friend ahead hurt: Gain +2 attack and +4 health until next turn."},{"Level":3,"About":"Friend ahead hurt: Gain +3 attack and +6 health until next turn."}],"Id":"719","Name":"Takin","NameId":"Takin","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Hurt"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead faints: Deal 2 damage to the first enemy. Double if the friend was level 3."},{"Level":2,"About":"Friend ahead faints: Deal 4 damage to the first enemy. Double if the friend was level 3."},{"Level":3,"About":"Friend ahead faints: Deal 6 damage to the first enemy. Double if the friend was level 3."}],"Id":"654","Name":"Tatzelwurm","NameId":"Tatzelwurm","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Enemy hurt: Make it Weak. Works 2 times per battle."},{"Level":2,"About":"Enemy hurt: Make it Weak. Works 4 times per battle."},{"Level":3,"About":"Enemy hurt: Make it Weak. Works 6 times per battle."}],"Id":"162","Name":"Toad","NameId":"Toad","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Before first attack: Copy tier 5 or lower perk (or Egg) to the nearest friend behind."},{"Level":2,"About":"Before first attack: Copy tier 5 or lower perk (or Egg) to the two nearest friends behind."},{"Level":3,"About":"Before first attack: Copy tier 5 or lower perk (or Egg) to the three nearest friends behind."}],"Id":"151","Name":"Toucan","NameId":"Toucan","Tier":3,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: If this has 6 or less attack, gain Coconut perk."},{"Level":2,"About":"Start of battle: If this has 12 or less attack, gain Coconut perk."},{"Level":3,"About":"Start of battle: If this has 18 or less attack, gain Coconut perk."}],"Id":"378","Name":"Tree","NameId":"TreeEnt","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Make the last perk-less enemy Silly and activate it."},{"Level":2,"About":"Start of battle: Make the last perk-less enemy Silly and activate it twice."},{"Level":3,"About":"Start of battle: Make the last perk-less enemy Silly and activate it thrice."}],"Id":"534","Name":"Tree Kangaroo","NameId":"TreeKangaroo","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Ability has random targets in battle.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Give adjacent friends +1 health."},{"Level":2,"About":"Start of turn: Give adjacent friends +2 health."},{"Level":3,"About":"Start of turn: Give adjacent friends +3 health."}],"Id":"100","Name":"Tropical Fish","NameId":"TropicalFish","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Push the back-most friend to the front and give it +3 attack and +3 health in battle."},{"Level":2,"About":"Faint: Push the back-most friend to the front and give it +6 attack and +6 health in battle."},{"Level":3,"About":"Faint: Push the back-most friend to the front and give it +9 attack and +9 health in battle."}],"Id":"439","Name":"Tucuxi","NameId":"Tucuxi","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give one random friend +1 attack and +1 health for each time this was hurt."},{"Level":2,"About":"Faint: Give one random friend +2 attack and +2 health for each time this was hurt."},{"Level":3,"About":"Faint: Give one random friend +3 attack and +3 health for each time this was hurt."}],"Id":"572","Name":"Tuna","NameId":"Tuna","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack and +2 health for each friendly pet with a different ailment."},{"Level":2,"About":"Start of battle: Gain +2 attack and +4 health for each friendly pet with a different ailment."},{"Level":3,"About":"Start of battle: Gain +3 attack and +6 health for each friendly pet with a different ailment."}],"Id":"791","Name":"Vampire Parrot","NameId":"VampireParrot","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Shop tier upgraded: Gain +50% attack."},{"Level":2,"About":"Shop tier upgraded: Gain +100% attack."},{"Level":3,"About":"Shop tier upgraded: Gain +150% attack."}],"Id":"160","Name":"Wasp","NameId":"Wasp","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +1 gold on next turn."},{"Level":2,"About":"Faint: Gain +2 gold on next turn."},{"Level":3,"About":"Faint: Gain +3 gold on next turn."}],"Id":"173","Name":"Weasel","NameId":"Weasel","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Swallow and copy the left-most unfrozen shop pet until next turn."},{"Level":2,"About":"End turn: Swallow and copy the two left-most unfrozen and different shop pets until next turn."},{"Level":3,"About":"End turn: Swallow and copy the three left-most unfrozen and different shop pets until next turn."}],"Id":"373","Name":"Abomination","NameId":"Shoggoth","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Summon one level 1 Ocarina."},{"Level":2,"About":"End turn: Summon one level 2 Ocarina."},{"Level":3,"About":"End turn: Summon one level 3 Ocarina."}],"Id":"785","Name":"Ahuizotl","NameId":"Ahuizotl","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Deal 3 damage to its target, or gain +3 attack."},{"Level":2,"About":"Adjacent friend attacked: Deal 6 damage to its target, or gain +6 attack."},{"Level":3,"About":"Adjacent friend attacked: Deal 9 damage to its target, or gain +9 attack."}],"Id":"390","Name":"Amazon River Dolphin","NameId":"AmazonRiverDolphin","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":6,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Remove the shop pet below and gain 50% of its attack and health until next turn."},{"Level":2,"About":"End turn: Remove the shop pet below and gain 100% of its attack and health until next turn."},{"Level":3,"About":"End turn: Remove the shop pet below and gain 150% of its attack and health until next turn."}],"Id":"730","Name":"Andrewsarchus","NameId":"Andrewsarchus","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give friends +1 to their highest stat."},{"Level":2,"About":"End turn: Give friends +2 to their highest stat."},{"Level":3,"About":"End turn: Give friends +3 to their highest stat."}],"Id":"392","Name":"Angelshark","NameId":"Angelshark","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Activate two Faint friends from tier 2 or lower front-to-back."},{"Level":2,"About":"Start of battle: Activate two Faint friends from tier 4 or lower front-to-back."},{"Level":3,"About":"Start of battle: Activate two Faint friends from tier 6 or lower front-to-back."}],"Id":"331","Name":"Anubis","NameId":"Anubis","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"End turn: If this has a level 3 friend, gain +1 attack and +2 health."},{"Level":2,"About":"End turn: If this has a level 3 friend, gain +2 attack and +4 health."},{"Level":3,"About":"End turn: If this has a level 3 friend, gain +3 attack and +6 health."}],"Id":"5","Name":"Bison","NameId":"Bison","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: Stock one copy of it. Works 1 time per turn."},{"Level":2,"About":"Friend sold: Stock one copy of it. Works 2 times per turn."},{"Level":3,"About":"Friend sold: Stock one copy of it. Works 3 times per turn."}],"Id":"797","Name":"Bloodhound","NameId":"Bloodhound","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Deal 3 damage to one random enemy."},{"Level":2,"About":"Hurt: Deal 6 damage to one random enemy."},{"Level":3,"About":"Hurt: Deal 9 damage to one random enemy."}],"Id":"7","Name":"Blowfish","NameId":"Blowfish","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Hurt"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Spend 4 trumpets to give nearest friend behind permanent Melon Slice."},{"Level":2,"About":"Faint: Spend 4 trumpets to give nearest friend behind permanent Melon Slice that works twice."},{"Level":3,"About":"Faint: Spend 4 trumpets to give nearest friend behind permanent Melon Slice that works thrice."}],"Id":"530","Name":"Blue-Footed Booby","NameId":"BlueFootedBooby","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Transform into the front-most friend."},{"Level":2,"About":"Start of turn: Transform into the front-most friend."},{"Level":3,"About":"Start of turn: Transform into the front-most friend."}],"Id":"402","Name":"Bonobo","NameId":"Bonobo","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Levels","Mvp"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: Gain +2 attack and +2 health until next turn."},{"Level":2,"About":"Friend sold: Gain +4 attack and +4 health until next turn."},{"Level":3,"About":"Friend sold: Gain +6 attack and +6 health until next turn."}],"Id":"8","Name":"Buffalo","NameId":"Buffalo","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Transformed: Copy 33% attack and health from the strongest enemy."},{"Level":2,"About":"Transformed: Copy 66% attack and health from the strongest enemy."},{"Level":3,"About":"Transformed: Copy 100% attack and health from the strongest enemy."}],"Id":"9","Name":"Butterfly","NameId":"Butterfly","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Gain +1 experience.","FinePrint":"Will copy an enemy\'s stats at level 3."},{"Level":2,"About":"Start of turn: Gain +1 experience.","FinePrint":"Will copy an enemy\'s stats at level 3."},{"Level":3,"About":"Start of battle: Transform into a 1/1 Butterfly and copy stats of the strongest enemy."}],"Id":"12","Name":"Caterpillar","NameId":"Caterpillar","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Levels","Transform"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Copy friendly toy ability at up to level 1 until next turn.","FinePrint":"Break abilities trigger on faint instead."},{"Level":2,"About":"End turn: Copy friendly toy ability at up to level 2 until next turn.","FinePrint":"Break abilities trigger on faint instead."},{"Level":3,"About":"End turn: Copy friendly toy ability at up to level 3 until next turn.","FinePrint":"Break abilities trigger on faint instead."}],"Id":"216","Name":"Chameleon","NameId":"Chameleon","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 pet. Spend mana to give it +1 attack and +2 health per 2 mana."},{"Level":2,"About":"Faint: Summon two 3/3 pets. Spend mana to give them +1 attack and +2 health per 2 mana."},{"Level":3,"About":"Faint: Summon three 3/3 pets. Spend mana to give them +1 attack and +2 health per 2 mana."}],"Id":"338","Name":"Chimera","NameId":"Chimera","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friendly level-up: Give it +2 attack and +2 health."},{"Level":2,"About":"Friendly level-up: Give it +4 attack and +4 health."},{"Level":3,"About":"Friendly level-up: Give it +6 attack and +6 health."}],"Id":"117","Name":"Clownfish","NameId":"ClownFish","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Buy: Give the highest tier friend +2 attack and +2 health."},{"Level":2,"About":"Buy: Give the highest tier friend +4 attack and +4 health."},{"Level":3,"About":"Buy: Give the highest tier friend +6 attack and +6 health."}],"Id":"218","Name":"Cockatoo","NameId":"Cockatoo","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Stock one Chocolate."},{"Level":2,"About":"Sell: Stock one Better Chocolate."},{"Level":3,"About":"Sell: Stock one Best Chocolate."}],"Id":"195","Name":"Crow","NameId":"Crow","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels","Mvp"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Enemy faints: Summon 1/1 bad Chicks up front for the enemy early. Can summon up to 2 per battle."},{"Level":2,"About":"Enemy faints: Summon 1/1 bad Chicks up front for the enemy early. Can summon up to 4 per battle."},{"Level":3,"About":"Enemy faints: Summon 1/1 bad Chicks up front for the enemy early. Can summon up to 6 per battle."}],"Id":"787","Name":"Cuckoo","NameId":"Cuckoo","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":8,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Remove 3 health from the last enemy and make it Inked."},{"Level":2,"About":"Faint: Remove 3 health from the last two enemies and make them Inked."},{"Level":3,"About":"Faint: Remove 3 health from the last three enemies and make them Inked."}],"Id":"176","Name":"Cuttlefish","NameId":"Cuddlefish","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Friend level-up: Give it +2 mana. Also give +1 experience on the first trigger this turn."},{"Level":2,"About":"Friend level-up: Give it +4 mana. Also give +1 experience on the first two triggers this turn."},{"Level":3,"About":"Friend level-up: Give it +6 mana. Also give +1 experience on the first three triggers this turn."}],"Id":"630","Name":"Cyclops","NameId":"Cyclops","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Mana"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 5/3 Bus with Chili."},{"Level":2,"About":"Faint: Summon one 10/6 Bus with Chili."},{"Level":3,"About":"Faint: Summon one 15/9 Bus with Chili."}],"Id":"20","Name":"Deer","NameId":"Deer","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Attack second enemy for 5 damage.","CustomArchetypes":["Summon"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"Ailments on this work in reverse.","FinePrint":"Weak and Spooked works 3 times."},{"Level":2,"About":"Ailments on this work in reverse and are two times better.","FinePrint":"Weak and Spooked works 3 times."},{"Level":3,"About":"Ailments on this work in reverse and are three times better.","FinePrint":"Weak and Spooked works 3 times."}],"Id":"748","Name":"Deinocheirus","NameId":"Deinocheirus","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +8 attack. If all friends are higher tiers, also gain Coconut perk."},{"Level":2,"About":"Start of battle: Gain +16 attack. If all friends are higher tiers, also gain Coconut perk."},{"Level":3,"About":"Start of battle: Gain +24 attack. If all friends are higher tiers, also gain Coconut perk."}],"Id":"273","Name":"Doberman","NameId":"Doberman","Tier":4,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Perks"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Friend faints: Push the last enemy to the front and remove 3 attack. Works 1 time per battle."},{"Level":2,"About":"Friend faints: Push the last enemy to the front and remove 3 attack. Works 2 times per battle."},{"Level":3,"About":"Friend faints: Push the last enemy to the front and remove 3 attack. Works 3 times per battle."}],"Id":"111","Name":"Donkey","NameId":"Donkey","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Increase sell value of one random <b>Sell</b> friend by 2 gold.","FinePrint":"Max gold limit is 30."},{"Level":2,"About":"End turn: Increase sell value of one random <b>Sell</b> friend by 4 gold.","FinePrint":"Max gold limit is 30."},{"Level":3,"About":"End turn: Increase sell value of one random <b>Sell</b> friend by 6 gold.","FinePrint":"Max gold limit is 30."}],"Id":"546","Name":"Elk","NameId":"Elk","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 wondrous toy."},{"Level":2,"About":"Buy: Choose one level 2 wondrous toy."},{"Level":3,"About":"Buy: Choose one level 3 wondrous toy."}],"Id":"342","Name":"Fairy","NameId":"Fairy","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: If still standing, gain permanent +2 health and transform into a protected ball."},{"Level":2,"About":"Hurt: If still standing, gain permanent +4 health and transform into a protected ball."},{"Level":3,"About":"Hurt: If still standing, gain permanent +6 health and transform into a protected ball."}],"Id":"547","Name":"Fairy Armadillo","NameId":"FairyArmadillo","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Transform","Hurt"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Takes 2 less damage."},{"Level":2,"About":"Takes 4 less damage."},{"Level":3,"About":"Takes 6 less damage."}],"Id":"771","Name":"Fairy Ball","NameId":"FairyArmadilloBall","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Knock out: Summon one 3/3 level 1 copy of it. Works 3 times per battle.","FinePrint":"Does not summon other Falcons."},{"Level":2,"About":"Knock out: Summon one 6/6 level 2 copy of it. Works 3 times per battle.","FinePrint":"Does not summon other Falcons."},{"Level":3,"About":"Knock out: Summon one 9/9 level 3 copy of it. Works 3 times per battle.","FinePrint":"Does not summon other Falcons."}],"Id":"224","Name":"Falcon","NameId":"Falcon","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Feed friends one Corncob."},{"Level":2,"About":"Buy: Feed friends two Corncobs."},{"Level":3,"About":"Buy: Feed friends three Corncobs."}],"Id":"689","Name":"Farmer Cat","NameId":"FarmerCat","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Remove 1 health from the two first enemies for each roll this turn."},{"Level":2,"About":"Start of battle: Remove 2 health from the two first enemies for each roll this turn."},{"Level":3,"About":"Start of battle: Remove 3 health from the two first enemies for each roll this turn."}],"Id":"549","Name":"Fossa","NameId":"Fossa","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Gain +2 attack and +1 health until next turn for each gold over 10."},{"Level":2,"About":"Start of turn: Gain +4 attack and +2 health until next turn for each gold over 10."},{"Level":3,"About":"Start of turn: Gain +6 attack and +3 health until next turn for each gold over 10."}],"Id":"185","Name":"Gazelle","NameId":"Gazelle","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Eats two food: Transform and feed one Pear to each friend."},{"Level":2,"About":"Eats two food: Transform and feed two Pears to each friend."},{"Level":3,"About":"Eats two food: Transform and feed three Pears to each friend."}],"Id":"696","Name":"Gelada","NameId":"Gelada","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food","Transform"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Before battle: Give friends +2 attack and +5 health until after the first non-jump attack."},{"Level":2,"About":"Before battle: Give friends +4 attack and +10 health until after the first non-jump attack."},{"Level":3,"About":"Before battle: Give friends +6 attack and +15 health until after the first non-jump attack."}],"Id":"410","Name":"Giant Otter","NameId":"GiantOtter","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Gain +2 health, and set attack to 4. Health can go to 100!"},{"Level":2,"About":"End turn: Gain +4 health, and set attack to 8. Health can go to 100!"},{"Level":3,"About":"End turn: Gain +6 health, and set attack to 12. Health can go to 100!"}],"Id":"412","Name":"Giant Tortoise","NameId":"GiantTortoise","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":6,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Swallow the first enemy with 6 health or less. Release it with 1 health on faint."},{"Level":2,"About":"Start of battle: Swallow the first enemy with 12 health or less. Release it with 1 health on faint."},{"Level":3,"About":"Start of battle: Swallow the first enemy with 18 health or less. Release it with 1 health on faint."}],"Id":"754","Name":"Goblin Shark","NameId":"GoblinShark","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Before battle: Transform into ANY useful level 1 <b>Start of Battle</b> pet from tier 5."},{"Level":2,"About":"Before battle: Transform into ANY useful level 2 <b>Start of Battle</b> pet from tier 5."},{"Level":3,"About":"Before battle: Transform into ANY useful level 3 <b>Start of Battle</b> pet from tier 5."}],"Id":"720","Name":"Golden Tamarin","NameId":"GoldenTamarin","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Deal 7 damage to the opposite enemy."},{"Level":2,"About":"Start of battle: Deal 14 damage to the opposite enemy."},{"Level":3,"About":"Start of battle: Deal 21 damage to the opposite enemy."}],"Id":"127","Name":"Hawk","NameId":"Hawk","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Knock out: Gain +3 attack and +3 health. Works 3 times per battle."},{"Level":2,"About":"Knock out: Gain +6 attack and +6 health. Works 3 times per battle."},{"Level":3,"About":"Knock out: Gain +9 attack and +9 health. Works 3 times per battle."}],"Id":"38","Name":"Hippo","NameId":"Hippo","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Remove friendly strawberries to gain +3 trumpets for each."},{"Level":2,"About":"Start of battle: Remove friendly strawberries to gain +6 trumpets for each."},{"Level":3,"About":"Start of battle: Remove friendly strawberries to gain +9 trumpets for each."}],"Id":"755","Name":"Hoatzin","NameId":"Hoatzin","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Trumpets"]},{"Attack":6,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Remove 30% attack from the highest attack enemy."},{"Level":2,"About":"Start of battle: Remove 60% attack from the highest attack enemy."},{"Level":3,"About":"Start of battle: Remove 90% attack from the highest attack enemy."}],"Id":"416","Name":"Humphead Wrasse","NameId":"HumpheadWrasse","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Eats apple: Give friends +1 attack and +1 health. Works 1 time per turn."},{"Level":2,"About":"Eats apple: Give friends +2 attack and +2 health. Works 1 time per turn."},{"Level":3,"About":"Eats apple: Give friends +3 attack and +3 health. Works 1 time per turn."}],"Id":"199","Name":"Jerboa","NameId":"Jerboa","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"After first attack: Make the highest attack enemy Spooked and push it to the back."},{"Level":2,"About":"After first attack: Make the two highest attack enemies Spooked and push them to the back."},{"Level":3,"About":"After first attack: Make the three highest attack enemies Spooked and push them to the back."}],"Id":"419","Name":"Kakapo","NameId":"Kakapo","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments","Disruption"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Remove 15% health from ALL other pets."},{"Level":2,"About":"Start of battle: Remove 30% health from ALL other pets."},{"Level":3,"About":"Start of battle: Remove 45% health from ALL other pets."}],"Id":"355","Name":"Kraken","NameId":"Kraken","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Give random ailments to ANY three random pets."},{"Level":2,"About":"Faint: Give random ailments to ANY six random pets."},{"Level":3,"About":"Faint: Give random ailments to ANY nine random pets."}],"Id":"750","Name":"Leaf Gecko","NameId":"SatanicLeafTailedGecko","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":7,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give adjacent friends 1 experience and remove this."},{"Level":2,"About":"Start of battle: Give adjacent friends 2 experience and remove this."},{"Level":3,"About":"Start of battle: Give adjacent friends 3 experience and remove this."}],"Id":"723","Name":"Leafy Sea Dragon","NameId":"LeafySeaDragon","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Cycle","Levels"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"End turn: If there is an empty space, gain +1 attack and +2 health."},{"Level":2,"About":"End turn: If there is an empty space, gain +2 attack and +4 health."},{"Level":3,"About":"End turn: If there is an empty space, gain +3 attack and +6 health."}],"Id":"44","Name":"Llama","NameId":"Llama","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friend summoned: If outside battle, give it +1 attack and +2 health."},{"Level":2,"About":"Friend summoned: If outside battle, give it +2 attack and +4 health."},{"Level":3,"About":"Friend summoned: If outside battle, give it +3 attack and +6 health."}],"Id":"93","Name":"Lobster","NameId":"Lobster","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 plain Locust for each food eaten this turn."},{"Level":2,"About":"Faint: Summon one 6/6 plain Locust for each food eaten this turn."},{"Level":3,"About":"Faint: Summon one 9/9 plain Locust for each food eaten this turn."}],"Id":"698","Name":"Locust","NameId":"Locust","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Summon","Food"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Five enemy attacks: Gain +4 health and remove 4 health from all enemies."},{"Level":2,"About":"Five enemy attacks: Gain +8 health and remove 8 health from all enemies."},{"Level":3,"About":"Five enemy attacks: Gain +12 health and remove 12 health from all enemies."}],"Id":"420","Name":"Longcomb Sawfish","NameId":"LongcombSawfish","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Deal damage to one random enemy equal to the sum of all friendly levels."},{"Level":2,"About":"Start of battle: Deal damage to two random enemies equal to the sum of all friendly levels."},{"Level":3,"About":"Start of battle: Deal damage to three random enemies equal to the sum of all friendly levels."}],"Id":"200","Name":"Lynx","NameId":"Lynx","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels","Disruption"]},{"Attack":2,"Health":11,"Abilities":[{"Level":1,"About":"End turn: Take 5 damage and give the nearest friend ahead +2 attack and +1 health."},{"Level":2,"About":"End turn: Take 5 damage and give the nearest friend ahead +4 attack and +2 health."},{"Level":3,"About":"End turn: Take 5 damage and give the nearest friend ahead +6 attack and +3 health."}],"Id":"192","Name":"Manatee","NameId":"Manatee","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"End turn: If there is an empty space, gain +2 gold next turn."},{"Level":2,"About":"End turn: If there is an empty space, gain +4 gold next turn."},{"Level":3,"About":"End turn: If there is an empty space, gain +6 gold next turn."}],"Id":"240","Name":"Manta Ray","NameId":"MantaRay","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Make ALL pets within 3 spaces Weak."},{"Level":2,"About":"Faint: Make ALL pets within 6 spaces Weak."},{"Level":3,"About":"Faint: Make ALL pets within 9 spaces Weak."}],"Id":"94","Name":"Microbe","NameId":"Microbe","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Three friends faint: Gain +1 gold on next turn."},{"Level":2,"About":"Three friends faint: Gain +2 gold on next turn."},{"Level":3,"About":"Three friends faint: Gain +3 gold on next turn."}],"Id":"359","Name":"Mimic","NameId":"Mimic","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Gold","Summon"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Gain +1 attack and +1 health for each of the friend\'s level."},{"Level":2,"About":"Friend ahead attacks: Gain +2 attack and +2 health for each of the friend\'s level."},{"Level":3,"About":"Friend ahead attacks: Gain +3 attack and +3 health for each of the friend\'s level."}],"Id":"360","Name":"Minotaur","NameId":"Minotaur","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Summon one random level 1 nostalgic toy."},{"Level":2,"About":"Start of turn: Summon one random level 2 nostalgic toy."},{"Level":3,"About":"Start of turn: Summon one random level 3 nostalgic toy."}],"Id":"612","Name":"Old Mouse","NameId":"OldMouse","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Copy ability from the nearest pet ahead as level 1 until next turn."},{"Level":2,"About":"End turn: Copy ability from the nearest pet ahead as level 2 until next turn."},{"Level":3,"About":"End turn: Copy ability from the nearest pet ahead as level 3 until next turn."}],"Id":"53","Name":"Parrot","NameId":"Parrot","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Mvp","Mvp"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend summoned: Give three friends +1 attack until next turn."},{"Level":2,"About":"Friend summoned: Give three friends +2 attack until next turn."},{"Level":3,"About":"Friend summoned: Give three friends +3 attack until next turn."}],"Id":"365","Name":"Pegasus","NameId":"Pegasus","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Give two level 2 or higher friends +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give two level 2 or higher friends +2 attack and +2 health."},{"Level":3,"About":"Start of turn: Give two level 2 or higher friends +3 attack and +3 health."}],"Id":"56","Name":"Penguin","NameId":"Penguin","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 trumpet for each roll (max 8) this turn."},{"Level":2,"About":"Start of battle: Gain +2 trumpets for each roll (max 8) this turn."},{"Level":3,"About":"Start of battle: Gain +3 trumpets for each roll (max 8) this turn."}],"Id":"734","Name":"Platybelodon","NameId":"Platybelodon","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Roll"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint & Sell: Summon one 3/2 level 1 Duck and Beaver."},{"Level":2,"About":"Faint & Sell: Summon one 6/4 level 2 Duck and Beaver."},{"Level":3,"About":"Faint & Sell: Summon one 9/6 level 3 Duck and Beaver."}],"Id":"159","Name":"Platypus","NameId":"Platypus","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Cycle","Summon"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Friend ahead faints: Deal 4 damage to the highest health enemy."},{"Level":2,"About":"Friend ahead faints: Deal 8 damage to the highest health enemy."},{"Level":3,"About":"Friend ahead faints: Deal 12 damage to the highest health enemy."}],"Id":"252","Name":"Poison Dart Frog","NameId":"PoisonDartFrog","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Friend transformed: Give it +3 experience. Works 1 time per battle."},{"Level":2,"About":"Friend transformed: Give it +3 experience. Works 2 times per battle."},{"Level":3,"About":"Friend transformed: Give it +3 experience. Works 3 times per battle."}],"Id":"729","Name":"Poodle Moth","NameId":"PoodleMoth","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels","Transform"]},{"Attack":7,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Deal 50 damage to adjacent friends and gain +2 attack and +2 health."},{"Level":2,"About":"Start of turn: Deal 50 damage to adjacent friends and gain +4 attack and +4 health."},{"Level":3,"About":"Start of turn: Deal 50 damage to adjacent friends and gain +6 attack and +6 health."}],"Id":"126","Name":"Praying Mantis","NameId":"PrayingMantis","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff","Mvp"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Puppy toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Puppy toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Puppy toy."}],"Id":"97","Name":"Puppy","NameId":"Puppy","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it the Strawberry perk and +5 attack. Works 1 time per battle."},{"Level":2,"About":"Before friend attacks: Give it the Strawberry perk and +5 attack. Works 2 times per battle."},{"Level":3,"About":"Before friend attacks: Give it the Strawberry perk and +5 attack. Works 3 times per battle."}],"Id":"760","Name":"Racket Tail","NameId":"WhiteBootedRacketTail","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Transform the opposite enemy into ANY random <b>Faint</b> pet from one tier below."},{"Level":2,"About":"Start of battle: Transform the opposite enemy into ANY random <b>Faint</b> pet from two tiers below."},{"Level":3,"About":"Start of battle: Transform the opposite enemy into ANY random <b>Faint</b> pet from three tiers below."}],"Id":"742","Name":"Red Lipped Batfish","NameId":"RedLippedBatfish","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Give one friend ahead +2 mana. Repeat 3 times and spread evenly."},{"Level":2,"About":"Start of battle: Give one friend ahead +2 mana. Repeat 6 times and spread evenly."},{"Level":3,"About":"Start of battle: Give one friend ahead +2 mana. Repeat 9 times and spread evenly."}],"Id":"369","Name":"Roc","NameId":"Roc","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":1,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Give two friends with less health than this +1 attack and +1 health."},{"Level":2,"About":"End turn: Give two friends with less health than this +2 attack and +2 health."},{"Level":3,"About":"End turn: Give two friends with less health than this +3 attack and +3 health."}],"Id":"622","Name":"Rootling","NameId":"Rootler","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Replace friendly strawberries with +4 mana."},{"Level":2,"About":"Start of battle: Replace friendly strawberries with +8 mana."},{"Level":3,"About":"Start of battle: Replace friendly strawberries with +12 mana."}],"Id":"802","Name":"Ruspoli\'s Turaco","NameId":"RuspolisTuraco","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Mana"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Two friends faint: Gain +3 trumpets."},{"Level":2,"About":"Two friends faint: Gain +6 trumpets."},{"Level":3,"About":"Two friends faint: Gain +9 trumpets."}],"Id":"257","Name":"Saiga Antelope","NameId":"SaigaAntelope","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Summon"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: If it was a Sell pet, give one random friend +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Friend sold: If it was a Sell pet, give one random friend +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Friend sold: If it was a Sell pet, give one random friend +3 attack and +3 health. Works 3 times per turn."}],"Id":"563","Name":"Sea Anemone","NameId":"SeaAnemone","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Friend summoned: Copy this pet\'s food perk to it. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Copy this pet\'s food perk to it. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Copy this pet\'s food perk to it. Works 3 times per turn."}],"Id":"128","Name":"Seagull","NameId":"Seagull","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks","Summon"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give friends behind +1 attack and friends ahead +1 health."},{"Level":2,"About":"End turn: Give friends behind +2 attack and friends ahead +2 health."},{"Level":3,"About":"End turn: Give friends behind +3 attack and friends ahead +3 health."}],"Id":"175","Name":"Sealion","NameId":"Sealion","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Give adjacent pets +1 attack. Also +1 health if the shop has discounted food."},{"Level":2,"About":"End turn: Give adjacent pets +2 attack. Also +2 health if the shop has discounted food."},{"Level":3,"About":"End turn: Give adjacent pets +3 attack. Also +3 health if the shop has discounted food."}],"Id":"565","Name":"Siamese","NameId":"Siamese","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Remove 33% health from the highest health enemy."},{"Level":2,"About":"Start of battle: Remove 66% health from the highest health enemy."},{"Level":3,"About":"Start of battle: Remove 99% health from the highest health enemy."}],"Id":"70","Name":"Skunk","NameId":"Skunk","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Transformed: Feed one Pear to each friend."},{"Level":2,"About":"Transformed: Feed two Pears to each friend."},{"Level":3,"About":"Transformed: Feed three Pears to each friend."}],"Id":"780","Name":"Sleeping Gelada","NameId":"GeladaSleeping","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/2 Smaller Slug that summons one 1/1 Smallest Slug."},{"Level":2,"About":"Faint: Summon one 4/4 Smaller Slug that summons one 2/2 Smallest Slug."},{"Level":3,"About":"Faint: Summon one 6/6 Smaller Slug that summons one 3/3 Smallest Slug."}],"Id":"262","Name":"Slug","NameId":"Slug","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon","Guard"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friendly Strawberries block 5 damage twice, or ailments once."},{"Level":2,"About":"Friendly Strawberries block 10 damage twice, or ailments once."},{"Level":3,"About":"Friendly Strawberries block 15 damage twice, or ailments once."}],"Id":"567","Name":"Sparrow","NameId":"Sparrow","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Friend attacks: Give it +4 health and move it far back. Works on one friend per turn."},{"Level":2,"About":"Friend attacks: Give it +4 health and move it far back. Works on two different friends per turn."},{"Level":3,"About":"Friend attacks: Give it +4 health and move it far back. Works on three different friends per turn."}],"Id":"727","Name":"Spider Crab","NameId":"SpiderCrab","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Deal 1 damage to two random enemies and multiply damage by the distance."},{"Level":2,"About":"Faint: Deal 2 damage to two random enemies and multiply damage by the distance."},{"Level":3,"About":"Faint: Deal 3 damage to two random enemies and multiply damage by the distance."}],"Id":"804","Name":"Spiny Bush Viper","NameId":"SpinyBushViper","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of turn: Discount all shop food by 1 gold."},{"Level":2,"About":"Start of turn: Discount all shop food by 2 gold."},{"Level":3,"About":"Start of turn: Discount all shop food by 3 gold."}],"Id":"75","Name":"Squirrel","NameId":"Squirrel","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give Mild Chili perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Mild Chili perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Mild Chili perk to the three nearest friends behind."}],"Id":"393","Name":"Tahr","NameId":"ArabianTahr","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Attack second enemy for 4 damage.","CustomArchetypes":["Perks"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Transformed: Summon a level 1 Thunder Hammer."},{"Level":2,"About":"Transformed: Summon a level 2 Thunder Hammer."},{"Level":3,"About":"Transformed: Summon a level 3 Thunder Hammer."}],"Id":"819","Name":"Tand & Tand","NameId":"ThorGoats","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":6,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give one random friendly Tandgrisner +3 health. Can also..."},{"Level":2,"About":"End turn: Give one random friendly Tandgrisner +6 health. Can also..."},{"Level":3,"About":"End turn: Give one random friendly Tandgrisner +9 health. Can also..."}],"Id":"607","Name":"Tandgnost","NameId":"ThorGoat1","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Give one random friendly Tandgnost +3 attack. Can also..."},{"Level":2,"About":"End turn: Give one random friendly Tandgnost +6 attack. Can also..."},{"Level":3,"About":"End turn: Give one random friendly Tandgnost +9 attack. Can also..."}],"Id":"608","Name":"Tandgrisner","NameId":"ThorGoat2","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 level 1 Tardigrade and make it Dazed."},{"Level":2,"About":"Faint: Summon one 6/6 level 2 Tardigrade and make it Dazed."},{"Level":3,"About":"Faint: Summon one 9/9 level 3 Tardigrade and make it Dazed."}],"Id":"570","Name":"Tardigrade","NameId":"Tardigrade","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"PerkNote":"Prevent ability from activating.","CustomArchetypes":["Summon","Ailments"]},{"Attack":1,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Make the lowest attack enemy 5x\xa0Spooked and jump-attack it."},{"Level":2,"About":"Start of battle: Make the lowest attack enemy 10x\xa0Spooked and jump-attack it."},{"Level":3,"About":"Start of battle: Make the lowest attack enemy 15x\xa0Spooked and jump-attack it."}],"Id":"437","Name":"Tasmanian Devil","NameId":"TasmanianDevil","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Guard","Ailments"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and deal 3 damage to the two first enemies."},{"Level":2,"About":"Empty front space: Jump to the front and deal 6 damage to the two first enemies."},{"Level":3,"About":"Empty front space: Jump to the front and deal 9 damage to the two first enemies."}],"Id":"330","Name":"Tiger Bug","NameId":"AntLion","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: If it was sold for at least 3 gold, gain +1 attack and +2 health."},{"Level":2,"About":"Friend sold: If it was sold for at least 3 gold, gain +2 attack and +4 health."},{"Level":3,"About":"Friend sold: If it was sold for at least 3 gold, gain +3 attack and +6 health."}],"Id":"706","Name":"Trout","NameId":"Trout","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Melon perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Melon perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Melon perk to the three nearest friends behind."}],"Id":"80","Name":"Turtle","NameId":"Turtle","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend gained ailment: Replace it with permanent +2 attack and +2 health. Works 1 time per turn."},{"Level":2,"About":"Friend gained ailment: Replace it with permanent +2 attack and +2 health. Works 2 times per turn."},{"Level":3,"About":"Friend gained ailment: Replace it with permanent +2 attack and +2 health. Works 3 times per turn."}],"Id":"380","Name":"Unicorn","NameId":"Unicorn","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +50% trumpets, and minimum +4 trumpets."},{"Level":2,"About":"Faint: Gain +100% trumpets, and minimum +8 trumpets."},{"Level":3,"About":"Faint: Gain +150% trumpets, and minimum +12 trumpets."}],"Id":"265","Name":"Vaquita","NameId":"Vaquita","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Make ALL pets within one space Icky."},{"Level":2,"About":"Faint: Make ALL pets within two spaces Icky."},{"Level":3,"About":"Faint: Make ALL pets within three spaces Icky."}],"Id":"386","Name":"Visitor","NameId":"Xenomorph","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take double damage, twice.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Swallow the nearest friend ahead and release it at level 1 on faint."},{"Level":2,"About":"Start of battle: Swallow the nearest friend ahead and release it at level 2 on faint."},{"Level":3,"About":"Start of battle: Swallow the nearest friend ahead and release it at level 3 on faint."}],"Id":"81","Name":"Whale","NameId":"Whale","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Gain perk or ailment: Remove it and gain +1 attack and +1 health. Triple in battle."},{"Level":2,"About":"Gain perk or ailment: Remove it and gain +2 attack and +2 health. Triple in battle."},{"Level":3,"About":"Gain perk or ailment: Remove it and gain +3 attack and +3 health. Triple in battle."}],"Id":"267","Name":"Whale Shark","NameId":"WhaleShark","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks","Ailments"]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Give adjacent friends +1 attack and +1 health for every 4 roll, up to 8 rolls."},{"Level":2,"About":"End turn: Give adjacent friends +2 attack and +2 health for every 4 roll, up to 8 rolls."},{"Level":3,"About":"End turn: Give adjacent friends +3 attack and +3 health for every 4 roll, up to 8 rolls."}],"Id":"371","Name":"Worm of Sand","NameId":"Sandworm","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Pet lost perk: Give it Melon Slice if friendly, or deal 6 damage if enemy. Works 1 time per battle."},{"Level":2,"About":"Pet lost perk: Give it Melon Slice if friendly, or deal 6 damage if enemy. Works 2 times per battle."},{"Level":3,"About":"Pet lost perk: Give it Melon Slice if friendly, or deal 6 damage if enemy. Works 3 times per battle."}],"Id":"756","Name":"Yeti Crab","NameId":"YetiCrab","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block 10 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Transformed: Give two back-most friends 1 experience."},{"Level":2,"About":"Transformed: Give two back-most friends 2 experience."},{"Level":3,"About":"Transformed: Give two back-most friends 3 experience."}],"Id":"777","Name":"Adult Flounder","NameId":"FlounderAdult","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +3 attack and +4 mana and Spooked. Works 2 times per turn."},{"Level":2,"About":"Friend summoned: Give it +6 attack and +8 mana and Spooked. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Give it +9 attack and +12 mana and Spooked. Works 2 times per turn."}],"Id":"631","Name":"Amalgamation","NameId":"Amalgam","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Ailments","Summon"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Give ALL pets +8 health."},{"Level":2,"About":"Start of battle: Give ALL pets +16 health."},{"Level":3,"About":"Start of battle: Give ALL pets +24 health."}],"Id":"166","Name":"Armadillo","NameId":"Armadillo","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Friendly gained perk: Give it permanent +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Friendly gained perk: Give it permanent +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Friendly gained perk: Give it permanent +3 attack and +3 health. Works 3 times per turn."}],"Id":"212","Name":"Axolotl","NameId":"Axolotl","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Seven enemy attacks: Summon two Lemurs and give all friends +3 attack and +3 health."},{"Level":2,"About":"Seven enemy attacks: Summon two Lemurs and give all friends +6 attack and +6 health."},{"Level":3,"About":"Seven enemy attacks: Summon two Lemurs and give all friends +9 attack and +9 health."}],"Id":"395","Name":"Aye-aye","NameId":"AyeAye","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 toy that brings doom and chaos!"},{"Level":2,"About":"Buy: Choose one level 2 toy that brings doom and chaos!"},{"Level":3,"About":"Buy: Choose one level 3 toy that brings doom and chaos!"}],"Id":"613","Name":"Bad Dog","NameId":"BadDog","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys","Disruption"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Remove 6 attack from ALL other pets to a minimum of 4 attack."},{"Level":2,"About":"Start of battle: Remove 12 attack from ALL other pets to a minimum of 4 attack."},{"Level":3,"About":"Start of battle: Remove 18 attack from ALL other pets to a minimum of 4 attack."}],"Id":"396","Name":"Banggai Cardinalfish","NameId":"BanggaiCardinalfish","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Eats food: Swallow the left-most shop pet and summon it at level 1 with base stats on faint."},{"Level":2,"About":"Eats food: Swallow the left-most shop pet and summon it at level 2 with double stats on faint."},{"Level":3,"About":"Eats food: Swallow the left-most shop pet and summon it at level 3 with triple stats on faint."}],"Id":"182","Name":"Beluga Whale","NameId":"WhiteWhale","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon","Mvp"]},{"Attack":2,"Health":10,"Abilities":[{"Level":1,"About":"Faint: Give the nearest friend behind +1 experience. Give to one more friend in battle."},{"Level":2,"About":"Faint: Give the nearest friend behind +2 experience. Give to one more friend in battle."},{"Level":3,"About":"Faint: Give the nearest friend behind +3 experience. Give to one more friend in battle."}],"Id":"150","Name":"Blobfish","NameId":"Blobfish","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give three random friends +1 attack and +1 health for each food this has eaten this turn."},{"Level":2,"About":"Faint: Give three random friends +2 attack and +2 health for each food this has eaten this turn."},{"Level":3,"About":"Faint: Give three random friends +3 attack and +3 health for each food this has eaten this turn."}],"Id":"774","Name":"Blue Jay","NameId":"BlueJay","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Give friends +1 attack and +1 health."},{"Level":2,"About":"Buy: Give friends +2 attack and +2 health."},{"Level":3,"About":"Buy: Give friends +3 attack and +3 health."}],"Id":"271","Name":"Blue Ringed Octopus","NameId":"BlueRingedOctopus","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":2,"Health":12,"Abilities":[{"Level":1,"About":"Before attack: Make the target Crisp. Works 2 times per battle."},{"Level":2,"About":"Before attack: Make the target Crisp. Works 4 times per battle."},{"Level":3,"About":"Before attack: Make the target Crisp. Works 6 times per battle."}],"Id":"656","Name":"Boitata","NameId":"Boitata","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give three friends that dealt damage this battle permanent +1 attack and +1 health."},{"Level":2,"About":"Faint: Give three friends that dealt damage this battle permanent +2 attack and +2 health."},{"Level":3,"About":"Faint: Give three friends that dealt damage this battle permanent +3 attack and +3 health."}],"Id":"688","Name":"Brahma Chicken","NameId":"BrahmaChicken","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Give future shop pets +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give future shop pets +2 attack and +2 health."},{"Level":3,"About":"Start of turn: Give future shop pets +3 attack and +3 health."}],"Id":"14","Name":"Chicken","NameId":"Chicken","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Buy: Replace shop food with two free Milk."},{"Level":2,"About":"Buy: Replace shop food with two free Better Milk."},{"Level":3,"About":"Buy: Replace shop food with two free Best Milk."}],"Id":"15","Name":"Cow","NameId":"Cow","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food","Cycle"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Friend ahead hurt: Give it Melon perk and +5 attack. Works 1 time per turn."},{"Level":2,"About":"Friend ahead hurt: Give it Melon perk and +5 attack. Works 2 times per turn."},{"Level":3,"About":"Friend ahead hurt: Give it Melon perk and +5 attack. Works 3 times per turn."}],"Id":"219","Name":"Crane","NameId":"Crane","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":8,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Deal 8 damage to the last enemy."},{"Level":2,"About":"Start of battle: Deal 8 damage to the last enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 8 damage to the last enemy. Triggers 3 times."}],"Id":"19","Name":"Crocodile","NameId":"Crocodile","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and +1 health to one friend of each level."},{"Level":2,"About":"End turn: Give +2 attack and +2 health to one friend of each level."},{"Level":3,"About":"End turn: Give +3 attack and +3 health to one friend of each level."}],"Id":"196","Name":"Dragonfly","NameId":"Dragonfly","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one 5/5 level 1 pet from the next shop tier."},{"Level":2,"About":"Faint: Summon one 10/10 level 2 pet from the next shop tier."},{"Level":3,"About":"Faint: Summon one 15/15 level 3 pet from the next shop tier."}],"Id":"27","Name":"Eagle","NameId":"Eagle","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Summon","Mvp","Mvp"]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Knock out: Activate ability on the nearest Faint friend behind. Works 1 time per battle."},{"Level":2,"About":"Knock out: Activate ability on the nearest Faint friend behind. Works 2 times per battle."},{"Level":3,"About":"Knock out: Activate ability on the nearest Faint friend behind. Works 3 times per battle."}],"Id":"221","Name":"Egyptian Vulture","NameId":"EgyptianVulture","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Empty front space: Give nearest friend ahead +4 health and move it to the front in battle."},{"Level":2,"About":"Empty front space: Give nearest friend ahead +8 health and move it to the front in battle."},{"Level":3,"About":"Empty front space: Give nearest friend ahead +12 health and move it to the front in battle."}],"Id":"223","Name":"Emu","NameId":"Emu","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"After first attack: Summon one friend with +1 attack and +1 health for each ailment gained."},{"Level":2,"About":"After first attack: Summon two friends with +1 attack and +1 health for each ailment gained."},{"Level":3,"About":"After first attack: Summon three friends with +1 attack and +1 health for each ailment gained."}],"Id":"770","Name":"Estemmenosuchus","NameId":"Estemmenosuchus","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments","Summon"]},{"Attack":6,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Feed three Corncobs with triple effect to the nearest friend behind."},{"Level":2,"About":"Faint: Feed three Corncobs with triple effect to the nearest two friends behind."},{"Level":3,"About":"Faint: Feed three Corncobs with triple effect to the nearest three friends behind."}],"Id":"691","Name":"Farmer Crow","NameId":"FarmerCrow","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give attack to the highest tier friend."},{"Level":2,"About":"Faint: Give attack to the two highest tier friends."},{"Level":3,"About":"Faint: Give attack to the three highest tier friends."}],"Id":"274","Name":"Fire Ant","NameId":"FireAnt","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Eats two food: Transform and give the two back-most friends 1 experience."},{"Level":2,"About":"Eats two food: Transform and give the two back-most friends 2 experience."},{"Level":3,"About":"Eats two food: Transform and give the two back-most friends 3 experience."}],"Id":"776","Name":"Flounder","NameId":"FlounderYoung","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":6,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Steal the right-most shop food."},{"Level":2,"About":"End turn: Steal the right-most shop food and double its attack and health effects."},{"Level":3,"About":"End turn: Steal the right-most shop food and triple its attack and health effects."}],"Id":"106","Name":"Fox","NameId":"Fox","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":10,"Abilities":[{"Level":1,"About":"Hurt: Deal 33% of damage taken as damage to one random enemy."},{"Level":2,"About":"Hurt: Deal 66% of damage taken as damage to one random enemy."},{"Level":3,"About":"Hurt: Deal 100% of damage taken as damage to one random enemy."}],"Id":"409","Name":"Geometric Tortoise","NameId":"GeometricTortoise","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give friends +2 health. Spend 2 trumpets to give 1 more health in the future."},{"Level":2,"About":"Faint: Give friends +4 health. Spend 2 trumpets to give 2 more health in the future."},{"Level":3,"About":"Faint: Give friends +6 health. Spend 2 trumpets to give 3 more health in the future."}],"Id":"752","Name":"Giant Isopod","NameId":"GiantIsopod","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Deal 4 damage to one random enemy for each friendly transformation this turn."},{"Level":2,"About":"Faint: Deal 8 damage to one random enemy for each friendly transformation this turn."},{"Level":3,"About":"Faint: Deal 12 damage to one random enemy for each friendly transformation this turn."}],"Id":"411","Name":"Giant Pangasius","NameId":"GiantPangasius","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Disruption","Transform"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Friend bought: Gain +1 gold. Works 2 times per turn."},{"Level":2,"About":"Friend bought: Gain +2 gold. Works 2 times per turn."},{"Level":3,"About":"Friend bought: Gain +3 gold. Works 2 times per turn."}],"Id":"34","Name":"Goat","NameId":"Goat","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle","Gold"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Roll: Gain one free roll. Works 2 times per turn."},{"Level":2,"About":"Roll: Gain one free roll. Works 4 times per turn."},{"Level":3,"About":"Roll: Gain one free roll. Works 6 times per turn."}],"Id":"110","Name":"Hamster","NameId":"Hamster","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Give three random friends that fainted last battle +2 health."},{"Level":2,"About":"Start of turn: Give three random friends that fainted last battle +4 health."},{"Level":3,"About":"Start of turn: Give three random friends that fainted last battle +6 health."}],"Id":"414","Name":"Hawaiian Monk Seal","NameId":"HawaiianMonkSeal","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Friend ahead faints: Gain +1 mana for each roll this turn."},{"Level":2,"About":"Friend ahead faints: Gain +2 mana for each roll this turn."},{"Level":3,"About":"Friend ahead faints: Gain +3 mana for each roll this turn."}],"Id":"350","Name":"Hippocampus","NameId":"Hippocampus","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll","Guard","Mana"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Swap attack and health of ALL pets.","FinePrint":"Will shuffle positions of all pets at level 2."},{"Level":2,"About":"Start of battle: Shuffle positions of ALL pets.","FinePrint":"Will swap stats and shuffe positions of all pets at level 3."},{"Level":3,"About":"Start of battle: Swap attack and health and shuffle positions of ALL pets."}],"Id":"167","Name":"Hyena","NameId":"Hyena","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":6,"Health":7,"Abilities":[{"Level":1,"About":"Enemy hurt or pushed: Remove 70% health from it. Works on one enemy per battle."},{"Level":2,"About":"Enemy hurt or pushed: Remove 70% health from it. Works on two different enemies per battle."},{"Level":3,"About":"Enemy hurt or pushed: Remove 70% health from it. Works on three different enemies per battle."}],"Id":"553","Name":"Ibex","NameId":"Ibex","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Pet flung: Set attack and health to 13."},{"Level":2,"About":"Pet flung: Set attack and health to 26."},{"Level":3,"About":"Pet flung: Set attack and health to 39."}],"Id":"554","Name":"Jackal","NameId":"Jackal","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one random 14/16 pet from tier 3 up front for you and the opponent."},{"Level":2,"About":"Faint: Summon two random 14/16 pets from tier 3 up front for you and the opponent."},{"Level":3,"About":"Faint: Summon three random 14/16 pets from tier 3 up front for you and the opponent."}],"Id":"655","Name":"Kappa","NameId":"Kappa","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":7,"Abilities":[{"Level":1,"About":"Friend faints: Transfer all friendly mana + 2 to nearest friend ahead."},{"Level":2,"About":"Friend faints: Transfer all friendly mana + 4 to nearest friend ahead."},{"Level":3,"About":"Friend faints: Transfer all friendly mana + 6 to nearest friend ahead."}],"Id":"354","Name":"Kitsune","NameId":"Kitsune","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":1,"Health":5,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it +1 attack and +2 health once. Permanent if it jumped."},{"Level":2,"About":"Before friend attacks: Give it +2 attack and +4 health once. Permanent if it jumped."},{"Level":3,"About":"Before friend attacks: Give it +3 attack and +6 health once. Permanent if it jumped."}],"Id":"640","Name":"Loveland Frogman","NameId":"LovelandFrogman","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Spend mana to remove 1 attack and health per mana from one random enemy."},{"Level":2,"About":"Faint: Spend mana to remove 1 attack and health per mana from two random enemies."},{"Level":3,"About":"Faint: Spend mana to remove 1 attack and health per mana from three random enemies."}],"Id":"808","Name":"Lusca","NameId":"Lusca","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 12/12 Orangutan with the same food perk as this."},{"Level":2,"About":"Start of battle: Summon one 24/24 Orangutan with the same food perk as this."},{"Level":3,"About":"Start of battle: Summon one 36/36 Orangutan with the same food perk as this."}],"Id":"238","Name":"Macaque","NameId":"Macaque","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Spend trumpets to give 3 mana + 1 for each trumpet to the nearest friend behind."},{"Level":2,"About":"Faint: Spend trumpets to give 6 mana + 2 for each trumpet to the nearest friend behind."},{"Level":3,"About":"Faint: Spend trumpets to give 9 mana + 3 for each trumpet to the nearest friend behind."}],"Id":"556","Name":"Maltese","NameId":"Maltese","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Mana"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it Melon. Works on one friend per turn."},{"Level":2,"About":"Before friend attacks: Give it Melon. Works on two different friends per turn."},{"Level":3,"About":"Before friend attacks: Give it Melon. Works on three different friends per turn."}],"Id":"532","Name":"Marine Iguana","NameId":"MarineIguana","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give front-most friendly pet +2 attack and +2 health."},{"Level":2,"About":"End turn: Give front-most friendly pet +4 attack and +4 health."},{"Level":3,"About":"End turn: Give front-most friendly pet +6 attack and +6 health."}],"Id":"46","Name":"Monkey","NameId":"Monkey","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Unfreeze shop and give one random friend +3 health for each tier 1 shop pet."},{"Level":2,"About":"End turn: Unfreeze shop and give one random friend +6 health for each tier 1 shop pet."},{"Level":3,"About":"End turn: Unfreeze shop and give one random friend +9 health for each tier 1 shop pet."}],"Id":"202","Name":"Moose","NameId":"Moose","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Roll"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Friendly toy broke: Give adjacent friends +2 attack and +3 health."},{"Level":2,"About":"Friendly toy broke: Give adjacent friends +4 attack and +6 health."},{"Level":3,"About":"Friendly toy broke: Give adjacent friends +6 attack and +9 health."}],"Id":"242","Name":"Mosasaurus","NameId":"Mosasaurus","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Spend mana to gain 3 trumpets + 1 for each mana."},{"Level":2,"About":"Faint: Spend mana to gain 6 trumpets + 2 for each mana."},{"Level":3,"About":"Faint: Spend mana to gain 9 trumpets + 3 for each mana."}],"Id":"784","Name":"Namazu","NameId":"Namazu","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Trumpets"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 Boat. If it\'s your first Boat this battle, give it +1 and +1 for each roll."},{"Level":2,"About":"Faint: Summon one 6/6 Boat. If it\'s your first Boat this battle, give it +2 and +2 for each roll."},{"Level":3,"About":"Faint: Summon one 9/9 Boat. If it\'s your first Boat this battle, give it +3 and +3 for each roll."}],"Id":"363","Name":"Nessie","NameId":"Nessie","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"614","Name":"Nessie?","NameId":"FakeNessie","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Takes 4 less damage. Works 3 times per turn."},{"Level":2,"About":"Takes 8 less damage. Works 3 times per turn."},{"Level":3,"About":"Takes 12 less damage. Works 3 times per turn."}],"Id":"657","Name":"Nurikabe","NameId":"Nurikabe","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Faint: Spend up to 6 trumpets and deal triple as damage to one random enemy."},{"Level":2,"About":"Faint: Spend up to 6 trumpets and deal triple as damage to two random enemies."},{"Level":3,"About":"Faint: Spend up to 6 trumpets and deal triple as damage to three random enemies."}],"Id":"276","Name":"Nurse Shark","NameId":"NurseShark","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +8 trumpets."},{"Level":2,"About":"Faint: Gain +16 trumpets."},{"Level":3,"About":"Faint: Gain +24 trumpets."}],"Id":"246","Name":"Nyala","NameId":"Nyala","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":8,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Summon one Mantis with 40% attack and health of this."},{"Level":2,"About":"Start of battle: Summon one Mantis with 80% attack and health of this."},{"Level":3,"About":"Start of battle: Summon one Mantis with 120% attack and health of this."}],"Id":"557","Name":"Orchid Mantis","NameId":"OrchidMantis","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +4 attack and +4 health for each friend that sells for at least 3 gold."},{"Level":2,"About":"Start of battle: Gain +8 attack and +8 health for each friend that sells for at least 3 gold."},{"Level":3,"About":"Start of battle: Gain +12 attack and +12 health for each friend that sells for at least 3 gold."}],"Id":"801","Name":"Pacific Fanfish","NameId":"PacificFanfish","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give White Okra perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give White Okra perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give White Okra perk to the three nearest friends behind."}],"Id":"423","Name":"Painted Terrapin","NameId":"PaintedTerrapin","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Block 10 damage twice or ailment once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Perks are two times stronger on this in battle."},{"Level":2,"About":"Perks are three times stronger on this in battle."},{"Level":3,"About":"Perks are four times stronger on this in battle."}],"Id":"250","Name":"Panther","NameId":"Panther","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Swallow one Strawberry friend ahead and turn it into a Salmon on faint."},{"Level":2,"About":"Start of battle: Swallow two Strawberry friends ahead and turn them into Salmons on faint."},{"Level":3,"About":"Start of battle: Swallow three Strawberry friends ahead and turn them into Salmons on faint."}],"Id":"129","Name":"Pelican","NameId":"Pelican","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Summon"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Spend 4 mana to gain +3 gold next turn."},{"Level":2,"About":"Faint: Spend 4 mana to gain +6 gold next turn."},{"Level":3,"About":"Faint: Spend 4 mana to gain +9 gold next turn."}],"Id":"619","Name":"Pixiu","NameId":"Pixiu","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Start of turn: Give one random frozen shop pet +4 attack and +4 health."},{"Level":2,"About":"Start of turn: Give one random frozen shop pet +8 attack and +8 health."},{"Level":3,"About":"Start of turn: Give one random frozen shop pet +12 attack and +12 health."}],"Id":"108","Name":"Polar Bear","NameId":"PolarBear","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Before attack: Steal food perk from target. Works 1 time per battle."},{"Level":2,"About":"Before attack: Steal food perk from target. Works 2 times per battle."},{"Level":3,"About":"Before attack: Steal food perk from target. Works 3 times per battle."}],"Id":"158","Name":"Raccoon","NameId":"Racoon","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Make the last enemy Crisp."},{"Level":2,"About":"Start of battle: Make the two last enemies Crisp."},{"Level":3,"About":"Start of battle: Make the three last enemies Crisp."}],"Id":"368","Name":"Red Dragon","NameId":"RedDragon","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Anyone attacks: Take 6 damage, once.","CustomArchetypes":["Ailments"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Choose and transform into a pet from the next shop tier from ANY pack."},{"Level":2,"About":"Buy: Choose and transform into a pet from the next shop tier from ANY pack."},{"Level":3,"About":"Buy: Choose and transform into a pet from the next shop tier from ANY pack."}],"Id":"428","Name":"Red Panda","NameId":"RedPanda","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":6,"Health":7,"Abilities":[{"Level":1,"About":"Knock out: Deal 4 damage to the first enemy. Double against tier 1 pets."},{"Level":2,"About":"Knock out: Deal 8 damage to the first enemy. Double against tier 1 pets."},{"Level":3,"About":"Knock out: Deal 12 damage to the first enemy. Double against tier 1 pets."}],"Id":"55","Name":"Rhino","NameId":"Rhino","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one Chick with 1 health and 50% attack of this."},{"Level":2,"About":"Faint: Summon two Chicks with 1 health and 50% attack of this."},{"Level":3,"About":"Faint: Summon three Chicks with 1 health and 50% attack of this."}],"Id":"63","Name":"Rooster","NameId":"Rooster","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Summoned: Deal 5 damage to one random enemy. Repeat for every 25 health this has."},{"Level":2,"About":"Summoned: Deal 10 damage to one random enemy. Repeat for every 25 health this has."},{"Level":3,"About":"Summoned: Deal 15 damage to one random enemy. Repeat for every 25 health this has."}],"Id":"562","Name":"Salmon","NameId":"Salmon","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give the two front-most friends AND enemies +2 experience."},{"Level":2,"About":"Start of battle: Give the two front-most friends AND enemies +4 experience."},{"Level":3,"About":"Start of battle: Give the two front-most friends AND enemies +6 experience."}],"Id":"370","Name":"Salmon of Knowledge","NameId":"SalmonofWisdom","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Summoned: Gain Peanut perk."},{"Level":2,"About":"Summoned: Gain Peanut perk."},{"Level":3,"About":"Summoned: Gain Peanut perk."}],"Id":"65","Name":"Scorpion","NameId":"Scorpion","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Make one random enemy Tasty."},{"Level":2,"About":"Start of battle: Make two random enemies Tasty."},{"Level":3,"About":"Start of battle: Make three random enemies Tasty."}],"Id":"564","Name":"Sea Cucumber","NameId":"SeaCucumber","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Faint: Give one random enemy permanent +2 attack and +2 health.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Eats food: Give three random friends +1 attack."},{"Level":2,"About":"Eats food: Give three random friends +2 attack."},{"Level":3,"About":"Eats food: Give three random friends +3 attack."}],"Id":"66","Name":"Seal","NameId":"Seal","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Two friends faint: Give the nearest friend ahead +3 attack and +4 health."},{"Level":2,"About":"Two friends faint: Give the nearest friend ahead +6 attack and +8 health."},{"Level":3,"About":"Two friends faint: Give the nearest friend ahead +9 attack and +12 health."}],"Id":"259","Name":"Secretary Bird","NameId":"SecretaryBird","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friend faints: Gain +2 attack and +2 health."},{"Level":2,"About":"Friend faints: Gain +4 attack and +4 health."},{"Level":3,"About":"Friend faints: Gain +6 attack and +6 health."}],"Id":"69","Name":"Shark","NameId":"Shark","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Replace the nearest Strawberry ahead with +4 attack and +4 health."},{"Level":2,"About":"Start of turn: Replace the nearest Strawberry ahead with +8 attack and +8 health."},{"Level":3,"About":"Start of turn: Replace the nearest Strawberry ahead with +12 attack and +12 health."}],"Id":"134","Name":"Shoebill","NameId":"Shoebill","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Give three random friends with no food perks +1 attack and +1 health."},{"Level":2,"About":"End turn: Give three random friends with no food perks +2 attack and +2 health."},{"Level":3,"About":"End turn: Give three random friends with no food perks +3 attack and +3 health."}],"Id":"146","Name":"Siberian Husky","NameId":"SiberianHusky","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Gain +1 gold on next turn. Works 3 times per battle."},{"Level":2,"About":"Before attack: Gain +2 gold on next turn. Works 3 times per battle."},{"Level":3,"About":"Before attack: Gain +3 gold on next turn. Works 3 times per battle."}],"Id":"261","Name":"Silver Fox","NameId":"SilverFox","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Skewer perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Skewer perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Skewer perk to the three nearest friends behind."}],"Id":"277","Name":"Snapping Turtle","NameId":"SnappingJawTurtle","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Attack second and third enemy for 3 damage.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Gain +5 attack and +5 health and jump-attack one random enemy."},{"Level":2,"About":"Start of battle: Gain +10 attack and +10 health and jump-attack one random enemy."},{"Level":3,"About":"Start of battle: Gain +15 attack and +15 health and jump-attack one random enemy."}],"Id":"716","Name":"Snow Leopard","NameId":"SnowLeopard","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Level 3 friend sold: Give friends +1 attack and +1 health. Triple if sold pet had at least 10 attack."},{"Level":2,"About":"Level 3 friend sold: Give friends +2 attack and +2 health. Triple if sold pet had at least 10 attack."},{"Level":3,"About":"Level 3 friend sold: Give friends +3 attack and +3 health. Triple if sold pet had at least 10 attack."}],"Id":"153","Name":"Starfish","NameId":"Starfish","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Sting Ray toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Sting Ray toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Sting Ray toy."}],"Id":"178","Name":"Sting Ray","NameId":"Stingray","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Deal attack damage directly back to whoever knocked this out."},{"Level":2,"About":"Faint: Deal double attack damage directly back to whoever knocked this out."},{"Level":3,"About":"Faint: Deal triple attack damage directly back to whoever knocked this out."}],"Id":"278","Name":"Stonefish","NameId":"Stonefish","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":6,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Deal 100% attack damage to the most healthy enemy and itself."},{"Level":2,"About":"Start of battle: Deal 200% attack damage to the most healthy enemy and itself."},{"Level":3,"About":"Start of battle: Deal 300% attack damage to the most healthy enemy and itself."}],"Id":"119","Name":"Swordfish","NameId":"SwordFish","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Give friends +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Adjacent friend attacked: Give friends +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Adjacent friend attacked: Give friends +3 attack and +3 health. Works 3 times per turn."}],"Id":"436","Name":"Taita Thrush","NameId":"TaitaThrush","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":10,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Remove 1 health from all enemies for every 10 attack this has."},{"Level":2,"About":"Start of battle: Remove 2 health from all enemies for every 10 attack this has."},{"Level":3,"About":"Start of battle: Remove 3 health from all enemies for every 10 attack this has."}],"Id":"569","Name":"Tarantula Hawk","NameId":"TarantulaHawk","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Remove 25% of all stats and divide them out. Socialism!"},{"Level":2,"About":"Start of battle: Remove 50% of all stats and divide them out. Socialism!"},{"Level":3,"About":"Start of battle: Remove 75% of all stats and divide them out. Socialism!"}],"Id":"812","Name":"Tarasque","NameId":"Tarasque","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Give one random friend +3 attack and +3 health."},{"Level":2,"About":"Hurt: Give one random friend +6 attack and +6 health."},{"Level":3,"About":"Hurt: Give one random friend +9 attack and +9 health."}],"Id":"142","Name":"Triceratops","NameId":"Triceratops","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +3 attack and +1 health."},{"Level":2,"About":"Friend summoned: Give it +6 attack and +2 health."},{"Level":3,"About":"Friend summoned: Give it +9 attack and +3 health."}],"Id":"79","Name":"Turkey","NameId":"Turkey","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Enemy gained ailment: Deal 4 damage to it and gain damage as health. Works 2 times per battle."},{"Level":2,"About":"Enemy gained ailment: Deal 8 damage to it and gain damage as health. Works 2 times per battle."},{"Level":3,"About":"Enemy gained ailment: Deal 12 damage to it and gain damage as health. Works 2 times per battle."}],"Id":"381","Name":"Vampire Bat","NameId":"VampireBat","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":2,"Health":7,"Abilities":[{"Level":1,"About":"Sell: Choose one remaining pet from last battle to stock at 2 gold.","FinePrint":"Can\'t stock itself or Anglerfish."},{"Level":2,"About":"Sell: Choose one remaining pet from last battle to stock at 2 gold, twice.","FinePrint":"Can\'t stock itself or Anglerfish."},{"Level":3,"About":"Sell: Choose one remaining pet from last battle to stock at 2 gold, thrice.","FinePrint":"Can\'t stock itself or Anglerfish."}],"Id":"573","Name":"Venus Flytrap","NameId":"VenusFlytrap","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Two friends faint: Deal 4 damage to one random enemy."},{"Level":2,"About":"Two friends faint: Deal 8 damage to one random enemy."},{"Level":3,"About":"Two friends faint: Deal 12 damage to one random enemy."}],"Id":"135","Name":"Vulture","NameId":"Vulture","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption","Summon"]},{"Attack":7,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: If turn number is even, gain +50% attack and health. Otherwise gain 6 mana."},{"Level":2,"About":"Start of battle: If turn number is even, gain +100% attack and health. Otherwise gain 12 mana."},{"Level":3,"About":"Start of battle: If turn number is even, gain +150% attack and health. Otherwise gain 18 mana."}],"Id":"383","Name":"Werewolf","NameId":"Werewolf","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Summon three 3/2 Pigs."},{"Level":2,"About":"Faint: Summon three 6/4 Pigs."},{"Level":3,"About":"Faint: Summon three 9/6 Pigs."}],"Id":"170","Name":"Wolf","NameId":"Wolf","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Deal 1 damage to nearest two pets ahead two times. Double against enemies."},{"Level":2,"About":"Start of battle: Deal 1 damage to nearest two pets ahead four times. Double against enemies."},{"Level":3,"About":"Start of battle: Deal 1 damage to nearest two pets ahead six times. Double against enemies."}],"Id":"156","Name":"Woodpecker","NameId":"Woodpecker","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt","Disruption"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Deal 3 damage for each different friendly ailment to the first enemy."},{"Level":2,"About":"Start of battle: Deal 3 damage for each different friendly ailment to the first two enemies."},{"Level":3,"About":"Start of battle: Deal 3 damage for each different friendly ailment to the first three enemies."}],"Id":"807","Name":"Woolly Rhino","NameId":"WoollyRhino","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Buy & Sell: Give one random friend +2 attack and +2 health."},{"Level":2,"About":"Buy & Sell: Give one random friend +4 attack and +4 health."},{"Level":3,"About":"Buy & Sell: Give one random friend +6 attack and +6 health."}],"Id":"155","Name":"Zebra","NameId":"Zebra","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Faint: Spend 2 mana to give the nearest friend behind permanent +3 attack and +3 health."},{"Level":2,"About":"Faint: Spend 2 mana to give the nearest friend behind permanent +6 attack and +6 health."},{"Level":3,"About":"Faint: Spend 2 mana to give the nearest friend behind permanent +9 attack and +9 health."}],"Id":"782","Name":"Akhlut","NameId":"Akhlut","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Adjacent tier 4 or lower friends deals 3 ability damage extra."},{"Level":2,"About":"Adjacent tier 4 or lower friends deals 6 ability damage extra."},{"Level":3,"About":"Adjacent tier 4 or lower friends deals 9 ability damage extra."}],"Id":"535","Name":"Albatross","NameId":"Albatross","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 experience. Triple in battle. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Give it +1 experience. Triple in battle. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Give it +1 experience. Triple in battle. Works 3 times per turn."}],"Id":"194","Name":"Alpaca","NameId":"Alpaca","Tier":6,"TierMax":2147483647,"Packs":["Pack3","Custom"],"PacksRequired":["Pack3","Custom"],"Rollable":true,"CustomArchetypes":["Levels","Summon"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Friend hurt: Restore its health. Can restore up to 15 health per turn."},{"Level":2,"About":"Friend hurt: Restore its health. Can restore up to 30 health per turn."},{"Level":3,"About":"Friend hurt: Restore its health. Can restore up to 45 health per turn."}],"Id":"772","Name":"Amargasaurus","NameId":"Amargasaurus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Transform friend behind into a level 1 Mimic Octopus. Give it +1 XP in battle for every 2 roll."},{"Level":2,"About":"Faint: Transform friend behind into a level 1 Mimic Octopus. Give it +2 XP in battle for every 2 roll."},{"Level":3,"About":"Faint: Transform friend behind into a level 1 Mimic Octopus. Give it +3 XP in battle for every 2 roll."}],"Id":"536","Name":"Ammonite","NameId":"Ammonite","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Transform","Levels","Roll"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Friend transformed: Give it permanent +2 attack and +2 health. Works 2 times per turn."},{"Level":2,"About":"Friend transformed: Give it permanent +4 attack and +4 health. Works 2 times per turn."},{"Level":3,"About":"Friend transformed: Give it permanent +6 attack and +6 health. Works 2 times per turn."}],"Id":"391","Name":"Amsterdam Albatross","NameId":"AmsterdamAlbatross","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Choose one free pet from your last opponent to stock."},{"Level":2,"About":"Buy: Choose one free pet from your last opponent to stock twice."},{"Level":3,"About":"Buy: Choose one free pet from your last opponent to stock thrice."}],"Id":"180","Name":"Anglerfish","NameId":"Anglerfish","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make the highest attack enemy Sleepy."},{"Level":2,"About":"Start of battle: Make the two highest attack enemies Sleepy."},{"Level":3,"About":"Start of battle: Make the three highest attack enemies Sleepy."}],"Id":"603","Name":"Bakunawa","NameId":"Bakunawa","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Attack with half damage, once.","CustomArchetypes":["Ailments"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon ANY one useful <b>Start of Battle</b> pet from tier 4 and activate its ability."},{"Level":2,"About":"Faint: Summon ANY two useful <b>Start of Battle</b> pets from tier 4 and activate their abilities."},{"Level":3,"About":"Faint: Summon ANY three useful <b>Start of Battle</b> pets from tier 4 and activate their abilities."}],"Id":"397","Name":"Bay Cat","NameId":"BayCat","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":12,"Health":12,"Abilities":[{"Level":1,"About":"End turn: Gain +2 attack and +2 health. Attack and health can go up to 100!"},{"Level":2,"About":"End turn: Gain +4 attack and +4 health. Attack and health can go up to 100!"},{"Level":3,"About":"End turn: Gain +6 attack and +6 health. Attack and health can go up to 100!"}],"Id":"333","Name":"Behemoth","NameId":"Behemoth","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff","Mvp"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Spend 7 gold: Give three random friends +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Spend 7 gold: Give three random friends +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Spend 7 gold: Give three random friends +3 attack and +3 health. Works 3 times per turn."}],"Id":"181","Name":"Bird of Paradise","NameId":"ParadiseBird","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff","Gold"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Remove 4 health from one random enemy for each food this has eaten this turn."},{"Level":2,"About":"Faint: Remove 8 health from one random enemy for each food this has eaten this turn."},{"Level":3,"About":"Faint: Remove 12 health from one random enemy for each food this has eaten this turn."}],"Id":"687","Name":"Black Bear","NameId":"BlackBear","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption","Food"]},{"Attack":5,"Health":9,"Abilities":[{"Level":1,"About":"Seven enemy attacks: Deal 30 damage to the most healthy enemy."},{"Level":2,"About":"Seven enemy attacks: Deal 30 damage to the two most healthy enemies."},{"Level":3,"About":"Seven enemy attacks: Deal 30 damage to the three most healthy enemies."}],"Id":"398","Name":"Black Rhino","NameId":"BlackRhino","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":12,"Health":12,"Abilities":[{"Level":1,"About":"Start of turn: Sell friends for +2 extra gold each and give future shop pets +2 attack and +2 health."},{"Level":2,"About":"Start of turn: Sell friends for +2 extra gold each and give future shop pets +4 attack and +4 health."},{"Level":3,"About":"Start of turn: Sell friends for +2 extra gold each and give future shop pets +6 attack and +6 health."}],"Id":"399","Name":"Blue Whale","NameId":"BlueWhale","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Gain +4 attack and +2 health."},{"Level":2,"About":"Before attack: Gain +8 attack and +4 health."},{"Level":3,"About":"Before attack: Gain +12 attack and +6 health."}],"Id":"103","Name":"Boar","NameId":"Boar","Tier":6,"TierMax":2147483647,"Packs":["Pack1","Custom"],"PacksRequired":["Pack1","Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Friend transformed: Gain its level 1 ability. Works 2 times per battle."},{"Level":2,"About":"Friend transformed: Gain its level 2 ability. Works 2 times per battle."},{"Level":3,"About":"Friend transformed: Gain its level 3 ability. Works 2 times per battle."}],"Id":"403","Name":"California Condor","NameId":"CaliforniaCondor","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Shop food gives two times attack and health. Works 2 times per turn.","FinePrint":"Does not include perks."},{"Level":2,"About":"Shop food gives three times attack and health. Works 2 times per turn.","FinePrint":"Does not include perks."},{"Level":3,"About":"Shop food gives four times attack and health. Works 2 times per turn.","FinePrint":"Does not include perks."}],"Id":"11","Name":"Cat","NameId":"Cat","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff","Food","Mvp"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Activate Buy ability on the nearest friend ahead once, or give it +4 health."},{"Level":2,"About":"Start of turn: Activate Buy ability on the nearest friend ahead twice, or give it +8 health."},{"Level":3,"About":"Start of turn: Activate Buy ability on the nearest friend ahead thrice, or give it +12 health."}],"Id":"174","Name":"Catfish","NameId":"Catfish","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":9,"Health":9,"Abilities":[{"Level":1,"About":"Empty front space: Summon one 8/8 Fire Pup at level 3 up front. Works 1 time per battle."},{"Level":2,"About":"Empty front space: Summon one 8/8 Fire Pup at level 3 up front. Works 2 times per battle."},{"Level":3,"About":"Empty front space: Summon one 8/8 Fire Pup at level 3 up front. Works 3 times per battle."}],"Id":"337","Name":"Cerberus","NameId":"Cerberus","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard","Summon"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Friend ate corncob: Give them +1 attack and +1 health."},{"Level":2,"About":"Friend ate corncob: Give them +2 attack and +2 health."},{"Level":3,"About":"Friend ate corncob: Give them +3 attack and +3 health."}],"Id":"542","Name":"Chimpanzee","NameId":"Chimpanzee","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":12,"Health":6,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Deal 20% attack damage to one random enemy."},{"Level":2,"About":"Friend ahead attacks: Deal 40% attack damage to one random enemy."},{"Level":3,"About":"Friend ahead attacks: Deal 60% attack damage to one random enemy."}],"Id":"217","Name":"Cobra","NameId":"Cobra","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Disruption","Guard"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Transform the back-most level 1 or lower enemy to rock."},{"Level":2,"About":"Start of battle: Transform the back-most level 2 or lower enemy to rock."},{"Level":3,"About":"Start of battle: Transform the back-most level 3 or lower enemy to rock."}],"Id":"340","Name":"Cockatrice","NameId":"Cockatrice","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Eats two food: Gain Coconut perk until next turn."},{"Level":2,"About":"Eats two food: Gain Coconut perk that works twice until next turn."},{"Level":3,"About":"Eats two food: Gain Coconut perk that works thrice until next turn."}],"Id":"779","Name":"Coconut Crab","NameId":"CoconutCrab","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Food"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Tier 1 friend bought: Give friends +1 attack and +1 health. Works 4 times per turn."},{"Level":2,"About":"Tier 1 friend bought: Give friends +2 attack and +2 health. Works 4 times per turn."},{"Level":3,"About":"Tier 1 friend bought: Give friends +3 attack and +3 health. Works 4 times per turn."}],"Id":"25","Name":"Dragon","NameId":"Dragon","Tier":6,"TierMax":2147483647,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":["Buff","Cycle"]},{"Attack":6,"Health":8,"Abilities":[{"Level":1,"About":"Before attack: Move ailment to the first enemy with double effect."},{"Level":2,"About":"Before attack: Move ailment to the first two enemies with double effects."},{"Level":3,"About":"Before attack: Move ailment to the first three enemies with double effects."}],"Id":"769","Name":"Dunkleosteus","NameId":"Dunkleosteus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give three random friends +1 attack and +1 health for each battle this has fought."},{"Level":2,"About":"Faint: Give three random friends +2 attack and +2 health for each battle this has fought."},{"Level":3,"About":"Faint: Give three random friends +3 attack and +3 health for each battle this has fought."}],"Id":"781","Name":"Eagle Owl","NameId":"EagleOwl","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Gain perk: Give three friends +4 attack and +4 health until next turn. Works 1 time per turn."},{"Level":2,"About":"Gain perk: Give three friends +8 attack and +8 health until next turn. Works 1 time per turn."},{"Level":3,"About":"Gain perk: Give three friends +12 attack and +12 health until next turn. Works 1 time per turn."}],"Id":"222","Name":"Elephant Seal","NameId":"ElephantSeal","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Feed one Corncob to all friends."},{"Level":2,"About":"End turn: Feed two Corncobs to all friends."},{"Level":3,"About":"End turn: Feed three Corncobs to all friends."}],"Id":"692","Name":"Farmer Dog","NameId":"FarmerDog","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend faints: Summon one 4/4 fly in its place. Works 3 times per turn."},{"Level":2,"About":"Friend faints: Summon one 8/8 fly in its place. Works 3 times per turn."},{"Level":3,"About":"Friend faints: Summon one 12/12 fly in its place. Works 3 times per turn."}],"Id":"30","Name":"Fly","NameId":"Fly","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Friend summoned: Give 25% of attack to it until next turn."},{"Level":2,"About":"Friend summoned: Give 50% of attack to it until next turn."},{"Level":3,"About":"Friend summoned: Give 75% of attack to it until next turn."}],"Id":"230","Name":"German Shepherd","NameId":"GermanShepard","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":7,"Health":10,"Abilities":[{"Level":1,"About":"Hurt: Gain Coconut perk. Works 1 time per turn."},{"Level":2,"About":"Hurt: Gain Coconut perk. Works 2 times per turn."},{"Level":3,"About":"Hurt: Gain Coconut perk. Works 3 times per turn."}],"Id":"36","Name":"Gorilla","NameId":"Gorilla","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Hurt"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Five enemy attacks: Give all friendly pets Melon that blocks 20 damage. Works 1 time per turn."},{"Level":2,"About":"Five enemy attacks: Give all friendly pets Melon that blocks 40 damage. Works 1 time per turn."},{"Level":3,"About":"Five enemy attacks: Give all friendly pets Melon that blocks 60 damage. Works 1 time per turn."}],"Id":"413","Name":"Green Sea Turtle","NameId":"GreenSeaTurtle","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Perks","Summon"]},{"Attack":6,"Health":8,"Abilities":[{"Level":1,"About":"Five friendly attacks: Deal 6 damage to two random enemies."},{"Level":2,"About":"Five friendly attacks: Deal 12 damage to two random enemies."},{"Level":3,"About":"Five friendly attacks: Deal 18 damage to two random enemies."}],"Id":"275","Name":"Grizzly Bear","NameId":"GrizzlyBear","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Disruption","Summon"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of turn: If this has a level 3 friend, gain +3 gold."},{"Level":2,"About":"Start of turn: If this has a level 3 friend, gain +6 gold."},{"Level":3,"About":"Start of turn: If this has a level 3 friend, gain +9 gold."}],"Id":"123","Name":"Hammerhead Shark","NameId":"Hammershark","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Gold","Levels"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Summon one random 5/5 pet from tier 1. Works 3 times per turn."},{"Level":2,"About":"Hurt: Summon one random 10/10 pet from tier 1. Works 3 times per turn."},{"Level":3,"About":"Hurt: Summon one random 15/15 pet from tier 1. Works 3 times per turn."}],"Id":"552","Name":"Harpy Eagle","NameId":"HarpyEagle","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give three friends +2 to their lowest stat."},{"Level":2,"About":"End turn: Give three friends +4 to their lowest stat."},{"Level":3,"About":"End turn: Give three friends +6 to their lowest stat."}],"Id":"415","Name":"Helmeted Hornbill","NameId":"HelmetedHornbill","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Start of battle: Gain +4 trumpets and 1 more for each 3 health this has."},{"Level":2,"About":"Start of battle: Gain +8 trumpets and 2 more for each 3 health this has."},{"Level":3,"About":"Start of battle: Gain +12 trumpets and 3 more for each 3 health this has."}],"Id":"186","Name":"Highland Cow","NameId":"HighlandCow","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":9,"Abilities":[{"Level":1,"About":"Friend transformed: Transform it back and down to level 1. Works 2 times per turn."},{"Level":2,"About":"Friend transformed: Transform it back and down to level 2. Works 2 times per turn."},{"Level":3,"About":"Friend transformed: Transform it back and down to level 3. Works 2 times per turn."}],"Id":"753","Name":"Hooded Seal","NameId":"HoodedSeal","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 5/5 Head for each 10 attack this has."},{"Level":2,"About":"Faint: Summon one 10/10 Head for each 10 attack this has."},{"Level":3,"About":"Faint: Summon one 15/15 Head for each 10 attack this has."}],"Id":"352","Name":"Hydra","NameId":"Hydra","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 attack and +1 health until next turn for each level 3 pet sold this game (max 5)."},{"Level":2,"About":"Friend summoned: Give it +2 attack and +2 health until next turn for each level 3 pet sold this game (max 5)."},{"Level":3,"About":"Friend summoned: Give it +3 attack and +3 health until next turn for each level 3 pet sold this game (max 5)."}],"Id":"652","Name":"Jersey Devil","NameId":"JerseyDevil","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Summon"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Give friends ahead +1 attack and +1 health and then shuffle their positions."},{"Level":2,"About":"End turn: Give friends ahead +2 attack and +2 health and then shuffle their positions."},{"Level":3,"About":"End turn: Give friends ahead +3 attack and +3 health and then shuffle their positions."}],"Id":"124","Name":"Komodo","NameId":"Komodo","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friend faints: Deal 1 damage to the nearest friend ahead."},{"Level":2,"About":"Friend faints: Deal 1 damage to the nearest two friends ahead."},{"Level":3,"About":"Friend faints: Deal 1 damage to the nearest three friends ahead."}],"Id":"749","Name":"Lamprey","NameId":"Lamprey","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":10,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Deal 50% attack damage to one random enemy."},{"Level":2,"About":"Start of battle: Deal 50% attack damage to two random enemies."},{"Level":3,"About":"Start of battle: Deal 50% attack damage to three random enemies."}],"Id":"41","Name":"Leopard","NameId":"Leopard","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Start of turn: Summon one 6/6 Fish and give it +2 experience."},{"Level":2,"About":"Start of turn: Summon one 12/12 Fish and give it +4 experience."},{"Level":3,"About":"Start of turn: Summon one 18/18 Fish and give it +6 experience."}],"Id":"356","Name":"Leviathan","NameId":"Leviathan","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Cycle"]},{"Attack":7,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: If this is your highest tier pet, gain +50% attack and health."},{"Level":2,"About":"Start of battle: If this is your highest tier pet, gain +100% attack and health."},{"Level":3,"About":"Start of battle: If this is your highest tier pet, gain +150% attack and health."}],"Id":"42","Name":"Lion","NameId":"Lion","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Pet sold: Give future shop pets of the same tier +1 attack and +1 health. Works 2 times per turn."},{"Level":2,"About":"Pet sold: Give future shop pets of the same tier +2 attack and +2 health. Works 2 times per turn."},{"Level":3,"About":"Pet sold: Give future shop pets of the same tier +3 attack and +3 health. Works 2 times per turn."}],"Id":"114","Name":"Lioness","NameId":"Lioness","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":10,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Deal 3 damage to one random enemy. Repeat for each 10 attack this has."},{"Level":2,"About":"Faint: Deal 6 damage to one random enemy. Repeat for each 10 attack this has."},{"Level":3,"About":"Faint: Deal 9 damage to one random enemy. Repeat for each 10 attack this has."}],"Id":"201","Name":"Lionfish","NameId":"Lionfish","Tier":6,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":12,"Abilities":[{"Level":1,"About":"Faint: Give friends +2 attack and +2 health."},{"Level":2,"About":"Faint: Give friends +4 attack and +4 health."},{"Level":3,"About":"Faint: Give friends +6 attack and +6 health."}],"Id":"45","Name":"Mammoth","NameId":"Mammoth","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Enemy ailments are two times worse."},{"Level":2,"About":"Enemy ailments are three times worse."},{"Level":3,"About":"Enemy ailments are four times worse."}],"Id":"358","Name":"Manticore","NameId":"Manticore","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":9,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Deal 10 damage to the first enemy."},{"Level":2,"About":"Start of battle: Deal 10 damage to the first enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 10 damage to the first enemy. Triggers 3 times."}],"Id":"190","Name":"Mantis Shrimp","NameId":"ShrimpMantis","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Spend 4 trumpets to give friends permanent +4 attack and +4 health evenly spread."},{"Level":2,"About":"Faint: Spend 4 trumpets to give friends permanent +8 attack and +8 health evenly spread."},{"Level":3,"About":"Faint: Spend 4 trumpets to give friends permanent +12 attack and +12 health evenly spread."}],"Id":"743","Name":"Markhor","NameId":"Markhor","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"After attack: Deal 4 damage to the least healthy enemy."},{"Level":2,"About":"After attack: Deal 4 damage to the two least healthy enemies."},{"Level":3,"About":"After attack: Deal 4 damage to the three least healthy enemies."}],"Id":"712","Name":"Mimic Octopus","NameId":"MimicOctopus","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":7,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Mongoose toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Mongoose toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Mongoose toy."}],"Id":"241","Name":"Mongoose","NameId":"Mongoose","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"After attack: Deal 6 damage to one random enemy."},{"Level":2,"About":"After attack: Deal 6 damage to two random enemies."},{"Level":3,"About":"After attack: Deal 6 damage to three random enemies."}],"Id":"50","Name":"Octopus","NameId":"Octopus","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Faint: Summon one random Faint pet from ANY pack as 6/6."},{"Level":2,"About":"Faint: Summon two random Faint pets from ANY pack as 6/6."},{"Level":3,"About":"Faint: Summon three random Faint pets from ANY pack as 6/6."}],"Id":"116","Name":"Orca","NameId":"Orca","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":6,"Health":7,"Abilities":[{"Level":1,"About":"Roll: If 4 shop pets are the same tier, re-roll and give friends +2 health. Works 4 times per turn."},{"Level":2,"About":"Roll: If 4 shop pets are the same tier, re-roll and give friends +4 health. Works 4 times per turn."},{"Level":3,"About":"Roll: If 4 shop pets are the same tier, re-roll and give friends +6 health. Works 4 times per turn."}],"Id":"125","Name":"Ostrich","NameId":"Ostrich","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll","Buff"]},{"Attack":2,"Health":10,"Abilities":[{"Level":1,"About":"Sell: Gain +3 gold."},{"Level":2,"About":"Sell: Gain +6 gold."},{"Level":3,"About":"Sell: Gain +9 gold."}],"Id":"248","Name":"Oyster","NameId":"Oyster","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":7,"Health":6,"Abilities":[{"Level":1,"About":"Anyone jumped: Give one random friendly pet +4 attack and +4 health."},{"Level":2,"About":"Anyone jumped: Give one random friendly pet +8 attack and +8 health."},{"Level":3,"About":"Anyone jumped: Give one random friendly pet +12 attack and +12 health."}],"Id":"424","Name":"Philippine Eagle","NameId":"PhilippineEagle","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"Faint: Make ANY three random pets Crisp, then summon one 4/4 Young Phoenix."},{"Level":2,"About":"Faint: Make ANY six random pets Crisp, then summon one 8/8 Young Phoenix."},{"Level":3,"About":"Faint: Make ANY nine random pets Crisp, then summon one 12/12 Young Phoenix."}],"Id":"366","Name":"Phoenix","NameId":"Phoenix","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Anyone attacks: Take 6 damage, once.","CustomArchetypes":["Ailments"]},{"Attack":10,"Health":4,"Abilities":[{"Level":1,"About":"Hurt: Give friends +3 attack."},{"Level":2,"About":"Hurt: Give friends +6 attack."},{"Level":3,"About":"Hurt: Give friends +9 attack."}],"Id":"118","Name":"Piranha","NameId":"Piranha","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and +1 health to one friend of each tier."},{"Level":2,"About":"End turn: Give +2 attack and +2 health to one friend of each tier."},{"Level":3,"About":"End turn: Give +3 attack and +3 health to one friend of each tier."}],"Id":"96","Name":"Poodle","NameId":"Poodle","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Friend faints: Re-summon it behind this as a 1/1. Works 1 time per battle.","FinePrint":"Does not summon other Pteranodons."},{"Level":2,"About":"Friend faints: Re-summon it behind this as a 1/1. Works 2 times per battle.","FinePrint":"Does not summon other Pteranodons."},{"Level":3,"About":"Friend faints: Re-summon it behind this as a 1/1. Works 3 times per battle.","FinePrint":"Does not summon other Pteranodons."}],"Id":"253","Name":"Pteranodon","NameId":"Pteranodon","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Friendly toy repeats its ability as level 1."},{"Level":2,"About":"Friendly toy repeats its ability as level 2."},{"Level":3,"About":"Friendly toy repeats its ability as level 3."}],"Id":"254","Name":"Puma","NameId":"Puma","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":7,"Health":9,"Abilities":[{"Level":1,"About":"Sell: Choose one level 1 king toy."},{"Level":2,"About":"Sell: Choose one level 2 king toy."},{"Level":3,"About":"Sell: Choose one level 3 king toy."}],"Id":"616","Name":"Questing Beast","NameId":"QuestingBeast","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"End turn: Give one random tier 3 or lower friend +2 experience."},{"Level":2,"About":"End turn: Give one random tier 3 or lower friend +2 experience. Triggers 2 times."},{"Level":3,"About":"End turn: Give one random tier 3 or lower friend +2 experience. Triggers 3 times."}],"Id":"367","Name":"Quetzalcoatl","NameId":"Quetzalcoatl","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Friend lost perk: Return its perk. Works on one friend per turn."},{"Level":2,"About":"Friend lost perk: Return its perk. Works on two different friends per turn."},{"Level":3,"About":"Friend lost perk: Return its perk. Works on three different friends per turn."}],"Id":"561","Name":"Real Velociraptor","NameId":"RealVelociraptor","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":9,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Gain Melon perk. Works 1 time per battle."},{"Level":2,"About":"Before attack: Gain Melon perk. Works 2 times per battle."},{"Level":3,"About":"Before attack: Gain Melon perk. Works 3 times per battle."}],"Id":"205","Name":"Reindeer","NameId":"Reindeer","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and gain +12 trumpets. Works 1 time per battle."},{"Level":2,"About":"Empty front space: Jump to the front and gain +24 trumpets. Works 1 time per battle."},{"Level":3,"About":"Empty front space: Jump to the front and gain +36 trumpets. Works 1 time per battle."}],"Id":"533","Name":"Rockhopper Penguin","NameId":"SouthernRockhopperPenguin","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard","Trumpets"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one Mammoth with +2 attack and +3 health for each time this was hurt."},{"Level":2,"About":"Faint: Summon two Mammoths with +2 attack and +3 health for each time this was hurt."},{"Level":3,"About":"Faint: Summon three Mammoths with +2 attack and +3 health for each time this was hurt."}],"Id":"148","Name":"Sabertooth Tiger","NameId":"SabertoothTiger","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon","Hurt"]},{"Attack":4,"Health":12,"Abilities":[{"Level":1,"About":"Friendly gained perk: Gain +1 gold next turn. Works 3 times per turn."},{"Level":2,"About":"Friendly gained perk: Gain +2 gold next turn. Works 3 times per turn."},{"Level":3,"About":"Friendly gained perk: Gain +3 gold next turn. Works 3 times per turn."}],"Id":"98","Name":"Sauropod","NameId":"Sauropod","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Gold","Perks"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"This pet\'s mana damage hits the most healthy enemy and one extra enemy."},{"Level":2,"About":"This pet\'s mana damage hits the most healthy enemy and two extra enemies."},{"Level":3,"About":"This pet\'s mana damage hits the most healthy enemy and three extra enemies."}],"Id":"372","Name":"Sea Serpent","NameId":"SeaSerpent","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Disruption"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Start of battle: Transform two friends behind into ANY useful level 1 <b>Faint</b> pets from tier 6."},{"Level":2,"About":"Start of battle: Transform two friends behind into ANY useful level 2 <b>Faint</b> pets from tier 6."},{"Level":3,"About":"Start of battle: Transform two friends behind into ANY useful level 3 <b>Faint</b> pets from tier 6."}],"Id":"432","Name":"Silky Sifaka","NameId":"SilkySifaka","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":8,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend +1 mana for each 2 attack this has."},{"Level":2,"About":"Start of battle: Give the two front-most friends +1 mana for each 2 attack this has."},{"Level":3,"About":"Start of battle: Give the three front-most friends +1 mana for each 2 attack this has."}],"Id":"606","Name":"Sleipnir","NameId":"Sleipnir","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Summoned: Deal 2 damage to ALL other pets. Double against enemies."},{"Level":2,"About":"Summoned: Deal 2 damage to ALL other pets. Double against enemies. Triggers 2 times."},{"Level":3,"About":"Summoned: Deal 2 damage to ALL other pets. Double against enemies. Triggers 3 times."}],"Id":"773","Name":"Small One","NameId":"BabyCthulhu","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Deal 5 damage to one random enemy. Works 5 times per battle."},{"Level":2,"About":"Friend ahead attacks: Deal 10 damage to one random enemy. Works 5 times per battle."},{"Level":3,"About":"Friend ahead attacks: Deal 15 damage to one random enemy. Works 5 times per battle."}],"Id":"73","Name":"Snake","NameId":"Snake","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Guard"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend faints: Give one random friend +2 attack and +3 health."},{"Level":2,"About":"Friend faints: Give one random friend +4 attack and +6 health."},{"Level":3,"About":"Friend faints: Give one random friend +6 attack and +9 health."}],"Id":"143","Name":"Spinosaurus","NameId":"Spinosaurus","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon","Mvp"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Give one perk-less friend +10 attack and +10 health."},{"Level":2,"About":"Start of battle: Give one perk-less friend +20 attack and +20 health."},{"Level":3,"About":"Start of battle: Give one perk-less friend +30 attack and +30 health."}],"Id":"144","Name":"Stegosaurus","NameId":"Stegosaurus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":9,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Jump-attack the opposite enemy."},{"Level":2,"About":"Start of battle: Jump-attack the opposite enemy and deal 6 damage to adjacent enemies."},{"Level":3,"About":"Start of battle: Jump-attack the opposite enemy and deal 12 damage to adjacent enemies."}],"Id":"434","Name":"Sumatran Tiger","NameId":"SumatranTiger","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: If turn number is odd, deal 4 damage to ALL pets ahead."},{"Level":2,"About":"Start of battle: If turn number is odd, deal 8 damage to ALL pets ahead."},{"Level":3,"About":"Start of battle: If turn number is odd, deal 12 damage to ALL pets ahead."}],"Id":"568","Name":"Sunfish","NameId":"Sunfish","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 10/10 level 1 copy of the back-most friend."},{"Level":2,"About":"Start of battle: Summon one 20/20 level 2 copy of the back-most friend."},{"Level":3,"About":"Start of battle: Summon one 30/30 level 3 copy of the back-most friend."}],"Id":"208","Name":"Tapir","NameId":"Tapir","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Friend level-up: Give friends +1 attack and +1 health."},{"Level":2,"About":"Friend level-up: Give friends +2 attack and +2 health."},{"Level":3,"About":"Friend level-up: Give friends +3 attack and +3 health."}],"Id":"636","Name":"Team Spirit","NameId":"TeamSpirit","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give Peanut perk to the front-most Strawberry friend."},{"Level":2,"About":"Start of battle: Give Peanut perk to the two front-most Strawberry friends."},{"Level":3,"About":"Start of battle: Give Peanut perk to the three front-most Strawberry friends."}],"Id":"806","Name":"Terror Bird","NameId":"TerrorBird","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this.","CustomArchetypes":["Strawberry"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Give Coconut perk to the front-most Strawberry friend."},{"Level":2,"About":"Start of battle: Give Coconut perk to the two front-most Strawberry friends."},{"Level":3,"About":"Start of battle: Give Coconut perk to the three front-most Strawberry friends."}],"Id":"759","Name":"Therizinosaurus","NameId":"Therizinosaurus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Strawberry"]},{"Attack":6,"Health":4,"Abilities":[{"Level":1,"About":"The friend ahead repeats their ability in battle as if they were level 1."},{"Level":2,"About":"The friend ahead repeats their ability in battle as if they were level 2."},{"Level":3,"About":"The friend ahead repeats their ability in battle as if they were level 3."}],"Id":"77","Name":"Tiger","NameId":"Tiger","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Mvp","Mvp"]},{"Attack":7,"Health":7,"Abilities":[{"Level":1,"About":"Start of turn: Give two tier 5 friends or higher +2 attack and +2 health."},{"Level":2,"About":"Start of turn: Give two tier 5 friends or higher +4 attack and +4 health."},{"Level":3,"About":"Start of turn: Give two tier 5 friends or higher +6 attack and +6 health."}],"Id":"78","Name":"Tyrannosaurus","NameId":"Tyrannosaurus","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and +2 health to each friend with a different ailment."},{"Level":2,"About":"End turn: Give +2 attack and +4 health to each friend with a different ailment."},{"Level":3,"About":"End turn: Give +3 attack and +6 health to each friend with a different ailment."}],"Id":"711","Name":"Vampire Squid","NameId":"VampireSquid","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Friend attacks: Steal friendly Strawberry ahead to give friends +2 attack and +3 health."},{"Level":2,"About":"Friend attacks: Steal friendly Strawberry ahead to give friends +4 attack and +6 health."},{"Level":3,"About":"Friend attacks: Steal friendly Strawberry ahead to give friends +6 attack and +9 health."}],"Id":"115","Name":"Velociraptor","NameId":"Velociraptor","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Peanut Butter perk to one random friend."},{"Level":2,"About":"Faint: Give Peanut Butter perk to two random friends."},{"Level":3,"About":"Faint: Give Peanut Butter perk to three random friends."}],"Id":"209","Name":"Walrus","NameId":"Walrus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this, once.","CustomArchetypes":["Perks"]},{"Attack":9,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give random friends +1 attack and +1 health for every 3 attack this has."},{"Level":2,"About":"Faint: Give random friends +2 attack and +2 health for every 3 attack this has."},{"Level":3,"About":"Faint: Give random friends +3 attack and +3 health for every 3 attack this has."}],"Id":"266","Name":"Warthog","NameId":"Warthog","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend behind +3 experience."},{"Level":2,"About":"Start of battle: Give the two nearest friends behind +3 experience."},{"Level":3,"About":"Start of battle: Give the three nearest friends behind +3 experience."}],"Id":"206","Name":"White Tiger","NameId":"WhiteTiger","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":8,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Spend 2 trumpets to gain Coconut perk. Works 1 time per battle."},{"Level":2,"About":"Before attack: Spend 2 trumpets to gain Coconut perk. Works 2 times per battle."},{"Level":3,"About":"Before attack: Spend 2 trumpets to gain Coconut perk. Works 3 times per battle."}],"Id":"268","Name":"Wildebeest","NameId":"Wildebeest","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Trumpets"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"End turn: Give the nearest two friends ahead 5 mana."},{"Level":2,"About":"End turn: Give the nearest two friends ahead 10 mana."},{"Level":3,"About":"End turn: Give the nearest two friends ahead 15 mana."}],"Id":"633","Name":"Winter Spirit","NameId":"ForestSpirit","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Four friends hurt: Remove 3 health from all enemies."},{"Level":2,"About":"Four friends hurt: Remove 6 health from all enemies."},{"Level":3,"About":"Four friends hurt: Remove 9 health from all enemies."}],"Id":"269","Name":"Wolverine","NameId":"Wolverine","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Set attack and health of the most healthy pet from ANY team to 20."},{"Level":2,"About":"Faint: Set attack and health of the two most healthy pets from ANY team to 20."},{"Level":3,"About":"Faint: Set attack and health of the three most healthy pets from ANY team to 20."}],"Id":"766","Name":"Yellow Boxfish","NameId":"YellowBoxFish","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":9,"Abilities":[{"Level":1,"About":"Start of turn: Roll four times while freezing pet copies and tier 6 food."},{"Level":2,"About":"Start of turn: Roll eight times while freezing pet copies and tier 6 food."},{"Level":3,"About":"Start of turn: Roll twelve times while freezing pet copies and tier 6 food."}],"Id":"387","Name":"Yeti","NameId":"Yeti","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"]}]');var yL=Zt.t(Uy,2);const qte={Pack1:"Turtle",Pack2:"Puppy",Pack3:"Star",Pack4:"Golden",Pack5:"Unicorn",Danger:"Danger",Custom:"Custom",MiniPack1:"Custom",MiniPack2:"Custom",MiniPack3:"Custom"};let vr=(()=>{class n{constructor(t,i,r,a){this.logService=t,this.abilityService=i,this.gameService=r,this.petFactory=a,this.turtlePackPets=new Map,this.puppyPackPets=new Map,this.starPackPets=new Map,this.goldenPackPets=new Map,this.unicornPackPets=new Map,this.customPackPets=new Map,this.dangerPackPets=new Map,this.playerCustomPackPets=new Map,this.allPets=new Map,this.startOfBattlePets=[],this.basePackPetsByName={Turtle:this.turtlePackPets,Puppy:this.puppyPackPets,Star:this.starPackPets,Golden:this.goldenPackPets,Unicorn:this.unicornPackPets,Danger:this.dangerPackPets,Custom:this.customPackPets}}buildCustomPackPets(t){for(let i of t.controls){let r=new Map;for(let a=1;a<=6;a++)r.set(a,i.get(`tier${a}Pets`).value);this.playerCustomPackPets.set(i.get("name").value,r)}}resetPackMaps(){const t=[this.turtlePackPets,this.puppyPackPets,this.starPackPets,this.goldenPackPets,this.unicornPackPets,this.dangerPackPets,this.customPackPets];for(const i of t){i.clear();for(let r=1;r<=6;r++)i.set(r,[])}}getPetEntriesFromJson(){var t,i;return(null!==(i=null!==(t=Uy)&&void 0!==t?t:yL)&&void 0!==i?i:[]).filter(a=>Boolean(null==a?void 0:a.Name))}populatePackMaps(t){for(const i of t){const r=Number(i.Tier);if(!(!Number.isFinite(r)||r<1||r>6))for(const a of this.getPackNamesFromEntry(i)){const s=this.basePackPetsByName[a],o=null==s?void 0:s.get(r);o&&o.push(i.Name)}}for(const i of Object.values(this.basePackPetsByName))this.deduplicateTierMap(i)}getPackNamesFromEntry(t){const i=new Set;Array.isArray(t.Packs)&&t.Packs.forEach(a=>{a&&i.add(a.trim())}),Array.isArray(t.PacksRequired)&&t.PacksRequired.forEach(a=>{a&&i.add(a.trim())});const r=new Set;for(const a of i){const s=qte[a];s&&r.add(s)}return Array.from(r)}deduplicateTierMap(t){for(const[i,r]of t)t.set(i,[...new Set(r)])}buildStartOfBattlePets(t){const i=new Set;for(const r of t)!Array.isArray(r.Abilities)||r.Abilities.some(a=>{const s=null==a?void 0:a.About;return"string"==typeof s&&s.toLowerCase().includes("start of battle")})&&i.add(r.Name);return Array.from(i)}init(){this.resetPackMaps();const t=this.getPetEntriesFromJson();this.populatePackMaps(t),this.startOfBattlePets=this.buildStartOfBattlePets(t),this.setAllPets()}setAllPets(){this.allPets=new Map;for(let t=1;t<=6;t++)this.allPets.set(t,[]);for(const t of vP){const i=this.basePackPetsByName[t];for(let[r,a]of i)this.allPets.get(r).push(...a)}for(let[t,i]of this.allPets)this.allPets.set(t,[...new Set(i)])}createPet(t,i){return this.petFactory.createPetFromForm(t,i,this,Gte)||new e4(this.logService,this.abilityService,i,t.health,t.attack,t.mana,t.exp,t.equipment,t.triggersConsumed)}createDefaultVersionOfPet(t,i=null,r=null){return this.petFactory.createPet(t,this,i,r)}getRandomPet(t){let r,i=_t(1,6);r="Turtle"==t.pack?this.turtlePackPets.get(i):"Puppy"==t.pack?this.puppyPackPets.get(i):"Star"==t.pack?this.starPackPets.get(i):"Golden"==t.pack?this.goldenPackPets.get(i):"Unicorn"==t.pack?this.unicornPackPets.get(i):"Danger"==t.pack?this.dangerPackPets.get(i):this.playerCustomPackPets.get(t.pack).get(i);let s=r[_t(0,r.length-1)];return this.createPet({attack:null,equipment:null,exp:_t(0,5),health:null,name:s,mana:null},t)}getRandomFaintPet(t,i,r=[]){let a={1:["Ant","Cockroach","Cricket","Ethiopian Wolf","Farmer Mouse","Firefly","Groundhog","Hummingbird","Peacock Spider","Pied Tamarin","Sneaky Egg","Togian Babirusa","Volcano Snail"],2:["Beluga Sturgeon","Bigfoot","Black Necked Stilt","Dove","Dung Beetle","Flamingo","Frost Wolf","Gargoyle","Hedgehog","Mandrill","Nightcrawler","Olm","Pink Robin","Rat","Sea Urchin","Spider","Squid","Stork","Takhi","Thorny Dragon"],3:["Anteater","Baby Urchin","Badger","Bear","Betta Fish","Calygreyhound","Dugong","Flea","Fur-Bearing Trout","Hirola","Hoopoe Bird","Jewel Caterpillar","Mandrake","Mole","Musk Ox","Osprey","Ox","Pangolin","Patagonian Mara","Quetzalcoatlus","Royal Flycatcher","Sarcastic Fringehead","Sheep","Skeleton Dog","Slime","Surgeon Fish","Tatzelwurm","Tucuxi","Tuna","Weasel"],4:["Blue-Footed Booby","Chimera","Cuttlefish","Deer","Donkey","Goblin Shark","Kakapo","Leaf Gecko","Locust","Microbe","Mimic","Platypus","Poison Dart Frog","Red Lipped Batfish","Saiga Antelope","Slug","Spiny Bush Viper","Tahr","Tardigrade","Turtle","Vaquita","Visitor","Whale"],5:["Beluga Whale","Blobfish","Blue Jay","Brahma Chicken","Eagle","Egyptian Vulture","Farmer Crow","Fire Ant","Giant Isopod","Giant Pangasius","Hawaiian Monk Seal","Hippocampus","Kappa","Kitsune","Lusca","Maltese","Namazu","Nessie","Nurse Shark","Nyala","Painted Terrapin","Pelican","Pixiu","Rooster","Secretary Bird","Shark","Snapping Turtle","Stonefish","Tarasque","Vulture","Wolf"],6:["Akhlut","Ammonite","Bay Cat","Black Bear","Eagle Owl","Fly","Hydra","Lamprey","Lionfish","Mammoth","Markhor","Orca","Phoenix","Sabertooth Tiger","Walrus","Warthog","Yellow Boxfish"]},s=[];s=i&&a[i]?a[i]:[].concat(...Object.values(a));const o=new Set(r.map(p=>null==p?void 0:p.toLowerCase()));let c=s.filter(p=>!o.has(p.toLowerCase()));if(!c.length&&i){const p=[].concat(...Object.values(a)).filter(g=>!o.has(g.toLowerCase()));p.length&&(c=p)}c.length||(c=s);let d=c[_t(0,c.length-1)];return this.createPet({name:d,attack:null,equipment:null,exp:0,health:null,mana:null},t)}}return n.\u0275fac=function(t){return new(t||n)(te(Pn),te(ya),te(fa),te(Z4))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Vte(n,e){if(1&n){const t=mr();b(0,"span",28),Ee("click",function(){return ot(t),ye().setExp(0)}),P(1,"x"),v()}}function Ute(n,e){if(1&n&&(b(0,"option",13),P(1),v()),2&n){const t=e.$implicit;$("ngValue",t),N(1),Si(t)}}function Wte(n,e){if(1&n&&(b(0,"option",31),P(1),v()),2&n){const t=e.$implicit,i=ye(2);$("ngValue",t)("hidden",i.optionHidden(t))("disabled",i.optionHidden(t)),N(1),Si(t)}}function jte(n,e){if(1&n&&(b(0,"optgroup",29),he(1,Wte,2,4,"option",30),v()),2&n){const t=e.$implicit;$("label","Tier "+t.key),N(1),$("ngForOf",t.value)}}function zte(n,e){1&n&&(b(0,"div",18)(1,"label",32),P(2,"Battles Fought"),v(),ne(3,"input",33),v())}function Kte(n,e){1&n&&(b(0,"div",18)(1,"label",34),P(2,"Times Hurt"),v(),ne(3,"input",35),v())}function Yte(n,e){1&n&&(b(0,"div",18)(1,"label",34),P(2,"Times Hurt"),v(),ne(3,"input",35),v())}function Qte(n,e){if(1&n&&(b(0,"option",31),P(1),v()),2&n){const t=e.$implicit,i=ye(3);$("ngValue",t)("hidden",i.optionHidden(t))("disabled",i.optionHidden(t)),N(1),Si(t)}}function Zte(n,e){if(1&n&&(b(0,"optgroup",29),he(1,Qte,2,4,"option",30),v()),2&n){const t=e.$implicit;$("label","Tier "+t.key),N(1),$("ngForOf",t.value)}}function Jte(n,e){if(1&n&&(b(0,"div",18)(1,"label",36),P(2,"Swallowed Pet"),v(),b(3,"select",37)(4,"option",13),P(5,"None"),v(),he(6,Zte,2,2,"optgroup",16),El(7,"keyvalue"),v()()),2&n){const t=ye();N(4),$("ngValue",null),N(2),$("ngForOf",xl(7,2,t.pets))}}function Xte(n,e){if(1&n&&(b(0,"option",31),P(1),v()),2&n){const t=e.$implicit,i=ye(4);$("ngValue",t)("hidden",i.optionHidden(t))("disabled",i.optionHidden(t)),N(1),Si(t)}}function eie(n,e){if(1&n&&(b(0,"optgroup",29),he(1,Xte,2,4,"option",30),v()),2&n){const t=e.$implicit;$("label","Tier "+t.key),N(1),$("ngForOf",t.value)}}function tie(n,e){if(1&n&&(b(0,"div")(1,"label",39),P(2,"Swallowed Pet"),v(),b(3,"select",40)(4,"option",13),P(5,"None"),v(),he(6,eie,2,2,"optgroup",16),El(7,"keyvalue"),v()()),2&n){const t=e.index,i=ye(2);N(1),Kd("for","abominationSwallowedPet",t+1,""),N(2),Kd("formControlName","abominationSwallowedPet",t+1,""),N(1),$("ngValue",null),N(2),$("ngForOf",xl(7,4,i.pets))}}const iie=function(){return[]};function nie(n,e){if(1&n&&(b(0,"div",18),he(1,tie,8,6,"div",38),v()),2&n){const t=ye();N(1),$("ngForOf",zf(1,iie).constructor(t.pet.level))}}function rie(n,e){if(1&n&&(b(0,"option",31),P(1),v()),2&n){const t=e.$implicit,i=ye(3);$("ngValue",t)("hidden",i.optionHidden(t))("disabled",i.optionHidden(t)),N(1),Si(t)}}function sie(n,e){if(1&n&&(b(0,"optgroup",29),he(1,rie,2,4,"option",30),v()),2&n){const t=e.$implicit;$("label","Tier "+t.key),N(1),$("ngForOf",t.value)}}function aie(n,e){if(1&n&&(b(0,"div",18)(1,"label",41),P(2,"Swallowed Pet"),v(),b(3,"select",42)(4,"option",13),P(5,"None"),v(),he(6,sie,2,2,"optgroup",16),El(7,"keyvalue"),v()()),2&n){const t=ye();N(4),$("ngValue",null),N(2),$("ngForOf",xl(7,2,t.pets))}}function oie(n,e){1&n&&(b(0,"div",18)(1,"label",43),P(2,"Friends Fainted in Shop"),v(),ne(3,"input",44),v())}function lie(n,e){if(1&n&&(b(0,"option",13),P(1),v()),2&n){const t=e.$implicit;$("ngValue",t),N(1),Si(t.name)}}function cie(n,e){if(1&n&&(b(0,"optgroup",29),he(1,lie,2,2,"option",15),v()),2&n){const t=e.$implicit;$("label",t.label),N(1),$("ngForOf",t.items)}}function uie(n,e){if(1&n&&(b(0,"option",13),P(1),v()),2&n){const t=e.$implicit;$("ngValue",t),N(1),Si(t.name)}}function hie(n,e){if(1&n&&(b(0,"optgroup",29),he(1,uie,2,2,"option",15),v()),2&n){const t=e.$implicit;$("label",t.label),N(1),$("ngForOf",t.items)}}function die(n,e){if(1&n&&(b(0,"div",45)(1,"label",46),P(2,"Uses"),v(),ne(3,"input",47),v()),2&n){const t=ye();N(1),$("for",t.equipmentUsesInputId),N(2),$("id",t.equipmentUsesInputId)}}function pie(n,e){if(1&n){const t=mr();b(0,"img",49),Ee("error",function(){return ot(t),ye(3).equipmentImageBroken=!0}),v()}if(2&n){const t=ye(3);$("src",t.equipmentImageSrc,$r)("alt",(null==t.formGroup.get("equipment").value?null:t.formGroup.get("equipment").value.name)||"Equipment")}}function mie(n,e){if(1&n){const t=mr();b(0,"img",49),Ee("error",function(){return ot(t),ye(3).equipmentImageBroken=!0}),v()}if(2&n){const t=ye(3);$("src",t.ailmentImageSrc,$r)("alt",(null==t.formGroup.get("equipment").value?null:t.formGroup.get("equipment").value.name)||"Ailment")}}function gie(n,e){if(1&n&&(b(0,"div",53),he(1,pie,1,2,"img",54),he(2,mie,1,2,"img",54),v()),2&n){const t=ye(2);N(1),$("ngIf",t.equipmentImageSrc),N(1),$("ngIf",!t.equipmentImageSrc&&t.ailmentImageSrc)}}function fie(n,e){if(1&n&&(b(0,"div",55),ne(1,"img",56),v()),2&n){const t=ye(2);N(1),$("src",t.swallowedPetImageSrc,$r)}}function yie(n,e){1&n&&ne(0,"img",56),2&n&&$("src",e.$implicit,$r)}function vie(n,e){if(1&n&&(b(0,"div",57),he(1,yie,1,1,"img",58),v()),2&n){const t=ye(2);N(1),$("ngForOf",t.abominationSwallowedPetImages)}}function bie(n,e){if(1&n){const t=mr();b(0,"div",48)(1,"img",49),Ee("error",function(){return ot(t),ye().petImageBroken=!0}),v(),he(2,gie,3,2,"div",50),he(3,fie,2,1,"div",51),he(4,vie,2,1,"div",52),v()}if(2&n){const t=ye();so("equipment-left",!t.flipImage)("equipment-right",t.flipImage),N(1),so("flipped",t.flipImage),$("src",t.petImageSrc,$r)("alt",t.formGroup.get("name").value||"Pet"),N(1),$("ngIf",(t.equipmentImageSrc||t.ailmentImageSrc)&&!t.equipmentImageBroken),N(1),$("ngIf",t.swallowedPetImageSrc),N(1),$("ngIf",t.abominationSwallowedPetImages.length)}}function Aie(n,e){1&n&&(b(0,"div",60)(1,"div",61),ne(2,"input",62),v()())}function kie(n,e){1&n&&(b(0,"div",60),ne(1,"input",63),v())}function Sie(n,e){1&n&&(wl(0),b(1,"div",23)(2,"div",61),ne(3,"input",62),v()(),b(4,"div",23),ne(5,"input",64),v(),Tl())}function Pie(n,e){if(1&n&&(wl(0),he(1,Aie,3,0,"div",59),he(2,kie,2,0,"div",59),he(3,Sie,6,0,"ng-container",22),Tl()),2&n){const t=ye();N(1),$("ngIf",t.mana&&!t.triggersConsumed),N(1),$("ngIf",!t.mana&&t.triggersConsumed),N(1),$("ngIf",t.mana&&t.triggersConsumed)}}let dB=(()=>{class n{constructor(t,i){this.petService=t,this.equipmentService=i,this.flipImage=!1,this.equipmentCategoryGroups=[],this.ailmentCategoryGroups=[],this.attackHealthMax=100,this.petImageBroken=!1,this.equipmentImageBroken=!1,this.compareEquipment=(r,a)=>(null==r?void 0:r.name)===(null==a?void 0:a.name),this.basePackSets=new Map,this.friendsDiedCaps=new Map([["Vulture",1],["Saiga Antelope",1],["Secretary Bird",1],["Mimic",2]]),this.customPackPetsCache=new Map,this.cachedPlayerPack=null,this.cachedOpponentPack=null,this.cachedPlayerPackSet=null,this.cachedOpponentPackSet=null,this.customPackSubscription=null,this.showTokenPets=!1,this.tokenPets=["Bee","Bus","Chick","Dirty Rat","Lizard Tail","Ram","Smaller Slug","Smallest Slug","Zombie Cricket","Zombie Fly","Chimera Goat","Chimera Lion","Chimera Snake","Daycrawler","Head","Monty","Nessie?","Smaller Slime","Young Phoenix","Good Dog","Adult Flounder","Burbel","Cooked Roach","Cuckoo Chick","Fake Nessie","Guinea Piglet","Hydra Head","Moby Dick","Quail","Sleeping Gelada","Tand and Tand"]}ngOnInit(){var t,i,r;this.initSelector(),this.initPackSets(),this.customPackSubscription=null!==(r=null===(i=null===(t=this.customPacks)||void 0===t?void 0:t.valueChanges)||void 0===i?void 0:i.subscribe(()=>{this.invalidatePackCaches()}))&&void 0!==r?r:null,this.fixLoadEquipment()}initSelector(){this.initPets(),this.initEquipment(),this.initForm()}initPets(){this.pets=new Map;for(let t=1;t<=6;t++)this.pets.set(t,[]);for(const t of Oy){const i=this.petService.basePackPetsByName[t];for(let[r,a]of i)this.pets.get(r).push(...a)}for(let[t,i]of this.pets)this.pets.set(t,[...new Set(i)]);this.initStartOfBattlePets()}initStartOfBattlePets(){this.startOfBattlePets=new Map;for(let t=1;t<=6;t++){let i=[];for(let r of this.pets.get(t))this.petService.startOfBattlePets.includes(r)&&i.push(r);this.startOfBattlePets.set(t,i)}}ngOnDestroy(){var t;null===(t=this.customPackSubscription)||void 0===t||t.unsubscribe()}initEquipment(){this.equipment=this.equipmentService.getInstanceOfAllEquipment(),this.ailmentEquipment=this.equipmentService.getInstanceOfAllAilments(),this.equipmentCategoryGroups=this.buildCategoryGroups(CU,this.equipment),this.ailmentCategoryGroups=this.buildCategoryGroups(EU,this.ailmentEquipment)}buildCategoryGroups(t,i){return Object.entries(t).map(([r,a])=>{const s=[];for(const o of a){const l=i.get(o);l&&s.push(l)}return{label:r,items:s}}).filter(r=>r.items.length>0)}initForm(){var t,i,r;this.formGroup.get("name").valueChanges.subscribe(s=>{this.petImageBroken=!1,null!=s?this.substitutePet(!0):this.removePet()}),this.formGroup.get("attack").valueChanges.subscribe(()=>{this.clampControl("attack",0,100),this.substitutePet(!1)}),this.formGroup.get("health").valueChanges.subscribe(()=>{this.clampControl("health",0,100),this.substitutePet(!1)}),this.formGroup.get("exp").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("equipmentUses"),this.formGroup.get("equipment").valueChanges.subscribe(s=>{if(this.equipmentImageBroken=!1,null!=s&&null==s.reset){let o=this.equipment.get(s.name);null==o&&(o=this.ailmentEquipment.get(s.name)),this.formGroup.get("equipment").setValue(o,{emitEvent:!1})}this.substitutePet(!1)}),null===(t=this.formGroup.get("equipmentUses"))||void 0===t||t.valueChanges.subscribe(()=>this.substitutePet(!1)),this.formGroup.get("belugaSwallowedPet").valueChanges.subscribe(s=>{this.setBelugaSwallow(s)}),null===(i=this.formGroup.get("sarcasticFringeheadSwallowedPet"))||void 0===i||i.valueChanges.subscribe(s=>{this.setSarcasticFringeheadSwallowedPet(s)}),this.formGroup.get("abominationSwallowedPet1").valueChanges.subscribe(s=>{this.setSwallowedPets(s)}),this.formGroup.get("abominationSwallowedPet2").valueChanges.subscribe(s=>{this.setSwallowedPets(s)}),this.formGroup.get("abominationSwallowedPet3").valueChanges.subscribe(s=>{this.setSwallowedPets(s)}),this.formGroup.get("mana").valueChanges.subscribe(()=>{this.clampControl("mana",0,50),this.substitutePet(!1)}),this.formGroup.get("triggersConsumed").valueChanges.subscribe(()=>{this.clampControl("triggersConsumed",0,10),this.substitutePet(!1)}),null===(r=this.formGroup.get("friendsDiedBeforeBattle"))||void 0===r||r.valueChanges.subscribe(()=>{this.clampFriendsDiedBeforeBattle(),this.substitutePet(!1)}),this.formGroup.get("battlesFought").valueChanges.subscribe(s=>{this.setBattlesFought(s)}),this.formGroup.get("timesHurt").valueChanges.subscribe(s=>{this.setTimesHurt(s)})}setExp(t){this.formGroup.get("exp").setValue(t)}getIsSelected(t){return this.formGroup.get("exp").value>=t}showRemoveExp(){return this.formGroup.get("exp").value>0}substitutePet(t=!1){setTimeout(()=>{var i;let r=this.formGroup.value;t&&(r.attack=null,r.health=null,r.mana=null,r.triggersConsumed=null),this.applyStatCaps(r);let a=r.equipment;if(null!=a){const o=null!==(i=this.equipment.get(a.name))&&void 0!==i?i:this.ailmentEquipment.get(a.name);if(null!=o){const l=By(o);if(this.allowEquipmentUseOverrides){const c=Number(r.equipmentUses),d=Number.isFinite(c)?c:l.uses;null!=d&&(l.uses=d,l.originalUses=d)}r.equipment=l}else r.equipment=o}let s=this.petService.createPet(r,this.player);this.player.setPet(this.index,s,!0),t&&(this.formGroup.get("attack").setValue(s.attack,{emitEvent:!1}),this.formGroup.get("health").setValue(s.health,{emitEvent:!1}),this.formGroup.get("mana").setValue(s.mana,{emitEvent:!1}),this.formGroup.get("triggersConsumed").setValue(s.triggersConsumed,{emitEvent:!1}))})}get petImageSrc(){var t,i;const r=null===(i=null===(t=this.formGroup)||void 0===t?void 0:t.get("name"))||void 0===i?void 0:i.value;if(!r)return null;const a=this.normalizePetName(this.mapPetNameToAsset(r));return a?`/assets/art/Public/Public/Pets/${a}.png`:null}get swallowedPetImageSrc(){var t,i,r,a;const s=null===(i=null===(t=this.formGroup)||void 0===t?void 0:t.get("name"))||void 0===i?void 0:i.value;return"Beluga Whale"===s?this.getPetImagePath(null===(r=this.formGroup.get("belugaSwallowedPet"))||void 0===r?void 0:r.value):"Sarcastic Fringehead"===s?this.getPetImagePath(null===(a=this.formGroup.get("sarcasticFringeheadSwallowedPet"))||void 0===a?void 0:a.value):null}get abominationSwallowedPetImages(){var t,i,r,a,s;return"Abomination"!==(null===(i=null===(t=this.formGroup)||void 0===t?void 0:t.get("name"))||void 0===i?void 0:i.value)?[]:[null===(r=this.formGroup.get("abominationSwallowedPet1"))||void 0===r?void 0:r.value,null===(a=this.formGroup.get("abominationSwallowedPet2"))||void 0===a?void 0:a.value,null===(s=this.formGroup.get("abominationSwallowedPet3"))||void 0===s?void 0:s.value].map(c=>this.getPetImagePath(c)).filter(c=>null!=c)}get equipmentImageSrc(){var t,i,r;const a=null===(i=null===(t=this.formGroup)||void 0===t?void 0:t.get("equipment"))||void 0===i?void 0:i.value;if(!(null==a?void 0:a.name)||(null===(r=a.equipmentClass)||void 0===r?void 0:r.startsWith("ailment")))return null;const s=this.normalizePetName(a.name);return s?`/assets/art/Public/Public/Food/${s}.png`:null}get ailmentImageSrc(){var t,i,r;const a=null===(i=null===(t=this.formGroup)||void 0===t?void 0:t.get("equipment"))||void 0===i?void 0:i.value;if(!(null==a?void 0:a.name)||!(null===(r=a.equipmentClass)||void 0===r?void 0:r.startsWith("ailment")))return null;const s=this.normalizePetName(a.name);return s?`/assets/art/Ailments/Ailments/${s}.png`:null}get equipmentSelected(){var t,i;return!!(null===(i=null===(t=this.formGroup)||void 0===t?void 0:t.get("equipment"))||void 0===i?void 0:i.value)}get equipmentHasUses(){var t,i;const r=null===(i=null===(t=this.formGroup)||void 0===t?void 0:t.get("equipment"))||void 0===i?void 0:i.value;return null!=(null==r?void 0:r.uses)}get equipmentUsesToggleId(){var t;return`equipmentUsesToggle-${null!==(t=this.index)&&void 0!==t?t:"none"}`}get equipmentUsesInputId(){var t;return`equipmentUsesInput-${null!==(t=this.index)&&void 0!==t?t:"none"}`}get equipmentUsesAvailable(){return this.equipmentSelected&&this.equipmentHasUses}normalizePetName(t){return(t||"").replace(/[^a-zA-Z0-9]/g,"")}shouldShowFriendsDiedInput(){return this.friendsDiedCaps.has(this.formGroup.get("name").value)}clampFriendsDiedBeforeBattle(){const t=this.getFriendsDiedMax();this.clampControl("friendsDiedBeforeBattle",0,t)}getFriendsDiedMax(){var t;const i=this.formGroup.get("name").value;return null!==(t=this.friendsDiedCaps.get(i))&&void 0!==t?t:5}mapPetNameToAsset(t){switch(t){case"Beluga Whale":return"WhiteWhale";case"Great One":return"Cthulu";case"Small One":return"BabyCthulhu";default:return t}}getPetImagePath(t){if(!t)return null;const i=this.normalizePetName(this.mapPetNameToAsset(t));return i?`/assets/art/Public/Public/Pets/${i}.png`:null}applyStatCaps(t){const i=this.clampValue(t.attack,0,100),r=this.clampValue(t.health,0,100),a=this.clampValue(t.mana,0,50),s=this.clampValue(t.triggersConsumed,0,10);i!==t.attack&&null!=t.attack&&(this.formGroup.get("attack").setValue(i,{emitEvent:!1}),t.attack=i),r!==t.health&&null!=t.health&&(this.formGroup.get("health").setValue(r,{emitEvent:!1}),t.health=r),a!==t.mana&&null!=t.mana&&(this.formGroup.get("mana").setValue(a,{emitEvent:!1}),t.mana=a),s!==t.triggersConsumed&&null!=t.triggersConsumed&&(this.formGroup.get("triggersConsumed").setValue(s,{emitEvent:!1}),t.triggersConsumed=s)}clampControl(t,i,r){const a=this.formGroup.get(t);if(!a)return;const s=a.value,o=this.clampValue(s,i,r);o!==s&&null!=s&&""!==s&&a.setValue(o,{emitEvent:!1})}clampValue(t,i,r){if(null==t||""===t)return t;const a=Number(t);return Number.isNaN(a)?t:Math.min(r,Math.max(i,a))}setBelugaSwallow(t){let i=this.player.getPet(this.index);null!=i&&(i.belugaSwallowedPet=t)}setSarcasticFringeheadSwallowedPet(t){let i=this.player.getPet(this.index);null!=i&&(i.sarcasticFringeheadSwallowedPet=t)}setSwallowedPets(t){let i=this.player.getPet(this.index);if(null==i)return;let r=[];null!=this.formGroup.get("abominationSwallowedPet1").value&&r.push(this.formGroup.get("abominationSwallowedPet1").value),null!=this.formGroup.get("abominationSwallowedPet2").value&&r.push(this.formGroup.get("abominationSwallowedPet2").value),null!=this.formGroup.get("abominationSwallowedPet3").value&&r.push(this.formGroup.get("abominationSwallowedPet3").value),console.log(r),i.abominationSwallowedPet1=r[0],i.abominationSwallowedPet2=r[1],i.abominationSwallowedPet3=r[2]}setBattlesFought(t){let i=this.player.getPet(this.index);null!=i&&(i.battlesFought=t)}setTimesHurt(t){let i=this.player.getPet(this.index);null!=i&&(i.timesHurt=t,this.substitutePet(!1))}removePet(){this.player.setPet(this.index,null,!0),this.formGroup.get("name").setValue(null,{emitEvent:!1}),this.formGroup.get("attack").setValue(0,{emitEvent:!1}),this.formGroup.get("health").setValue(0,{emitEvent:!1}),this.formGroup.get("exp").setValue(0,{emitEvent:!1}),this.formGroup.get("equipment").setValue(null,{emitEvent:!1}),this.formGroup.get("mana").setValue(0,{emitEvent:!1}),this.formGroup.get("triggersConsumed").setValue(0,{emitEvent:!1})}optionHidden(t){var i;return!(this.allPets||this.getPlayerPackSet().has(t)||this.angler&&this.getOpponentPackSet().has(t)||(null===(i=this.player.getPet(this.index))||void 0===i?void 0:i.name)==t)}initPackSets(){for(const t of vP)this.basePackSets.set(t,this.buildPackSetFromMap(this.petService.basePackPetsByName[t]))}buildPackSetFromMap(t){const i=new Set;for(const r of t.values())for(const a of r)i.add(a);return i}invalidatePackCaches(){this.customPackPetsCache.clear(),this.cachedPlayerPack=null,this.cachedOpponentPack=null,this.cachedPlayerPackSet=null,this.cachedOpponentPackSet=null}getPlayerPackSet(){var t;const i=(null===(t=this.player)||void 0===t?void 0:t.pack)||"Turtle";return(this.cachedPlayerPack!==i||!this.cachedPlayerPackSet)&&(this.cachedPlayerPack=i,this.cachedPlayerPackSet=this.getPackSetForName(i)),this.cachedPlayerPackSet}getOpponentPackSet(){var t;const i=(null===(t=this.opponent)||void 0===t?void 0:t.pack)||"Turtle";return(this.cachedOpponentPack!==i||!this.cachedOpponentPackSet)&&(this.cachedOpponentPack=i,this.cachedOpponentPackSet=this.getPackSetForName(i)),this.cachedOpponentPackSet}getPackSetForName(t){const i=this.basePackSets.get(t);if(i)return i;const r=this.customPackPetsCache.get(t);if(r)return r;const a=this.buildCustomPackSet(t);return this.customPackPetsCache.set(t,a),a}buildCustomPackSet(t){var i,r;const a=null!==(i=this.basePackSets.get("Turtle"))&&void 0!==i?i:new Set,s=this.customPacks;if(!(null===(r=null==s?void 0:s.controls)||void 0===r?void 0:r.length))return a;const o=s.controls.find(c=>c.get("name").value===t);if(!o)return a;const l=new Set;for(let c=1;c<=6;c++){const d=o.get(`tier${c}Pets`).value||[];for(const p of d)p&&l.add(p)}return l}fixLoadEquipment(){let t=this.formGroup.get("equipment").value;if(null==t)return;let i=this.equipment.get(t.name);null==i&&(i=this.ailmentEquipment.get(t.name)),setTimeout(()=>{this.formGroup.get("equipment").setValue(i,{emitEvent:!1}),this.formGroup.get("equipment").updateValueAndValidity({emitEvent:!1})})}}return n.\u0275fac=function(t){return new(t||n)(U(vr),U(Dt))},n.\u0275cmp=Gn({type:n,selectors:[["app-pet-selector"]],inputs:{pet:"pet",player:"player",opponent:"opponent",index:"index",angler:"angler",ailments:"ailments",allPets:"allPets",mana:"mana",triggersConsumed:"triggersConsumed",formGroup:"formGroup",customPacks:"customPacks",flipImage:"flipImage",allowEquipmentUseOverrides:"allowEquipmentUseOverrides",showTokenPets:"showTokenPets"},decls:48,vars:34,consts:[[1,"card","p-3"],[1,"row","form-group",3,"formGroup"],[1,"col-12","d-flex","level-bar-numbers","mb-1"],[1,"level-icon"],["src","/assets/art/Public/Public/Icons/Level_L1.png","alt","Level 1"],["src","/assets/art/Public/Public/Icons/Level_L2.png","alt","Level 2"],[1,"level-icon","level-3"],["src","/assets/art/Public/Public/Icons/Level_L3.png","alt","Level 3"],[1,"col-12","d-flex","level-bar","mb-2"],["class","remove-exp",3,"click",4,"ngIf"],[3,"click"],[1,"col-12","mb-2","d-flex"],["formControlName","name",1,"form-control"],[3,"ngValue"],["label","Token Pets",3,"hidden"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"label",4,"ngFor","ngForOf"],["class","col-12 mb-2",4,"ngIf"],[1,"col-12","mb-2"],["formControlName","equipment",1,"form-control",3,"compareWith"],["class","col-6 mb-2",4,"ngIf"],["class","col-12 pet-art",3,"equipment-left","equipment-right",4,"ngIf"],[4,"ngIf"],[1,"col-6"],[1,"stat-tile","stat-attack"],["formControlName","attack","type","number","min","1",1,"form-control","stat-input","select-attack",3,"max"],[1,"stat-tile","stat-health"],["formControlName","health","type","number","min","1",1,"form-control","stat-input","select-health",3,"max"],[1,"remove-exp",3,"click"],[3,"label"],[3,"ngValue","hidden","disabled",4,"ngFor","ngForOf"],[3,"ngValue","hidden","disabled"],["for","battlesFought"],["formControlName","battlesFought","type","number","max","99",1,"form-control"],["for","timesHurt"],["formControlName","timesHurt","type","number","min","0","max","99",1,"form-control"],["for","belugaSwallowedPet",1,"swallowed-label"],["formControlName","belugaSwallowedPet",1,"form-control"],[4,"ngFor","ngForOf"],[1,"swallowed-label",3,"for"],[1,"form-control",3,"formControlName"],["for","sarcasticFringeheadSwallowedPet",1,"swallowed-label"],["formControlName","sarcasticFringeheadSwallowedPet",1,"form-control"],["for","friendsDiedBeforeBattle",1,"swallowed-label"],["type","number","min","0","max","5","formControlName","friendsDiedBeforeBattle",1,"form-control"],[1,"col-6","mb-2"],[3,"for"],["type","number","min","1","max","99","formControlName","equipmentUses",1,"form-control",3,"id"],[1,"col-12","pet-art"],[3,"src","alt","error"],["class","equipment-art",4,"ngIf"],["class","swallowed-art",4,"ngIf"],["class","swallowed-art swallowed-stack",4,"ngIf"],[1,"equipment-art"],[3,"src","alt","error",4,"ngIf"],[1,"swallowed-art"],["alt","Swallowed Pet",3,"src"],[1,"swallowed-art","swallowed-stack"],["alt","Swallowed Pet",3,"src",4,"ngFor","ngForOf"],["class","col-12",4,"ngIf"],[1,"col-12"],[1,"stat-tile","stat-mana"],["formControlName","mana","type","number","min","0","max","50","placeholder","Mana",1,"form-control","stat-input","select-mana"],["formControlName","triggersConsumed","type","number","min","0","max","10","placeholder","Triggers Consumed",1,"form-control","select-triggers-consumed","single-stat-input"],["formControlName","triggersConsumed","type","number","min","0","max","10","placeholder","Triggers Consumed",1,"form-control","select-triggers-consumed"]],template:function(t,i){1&t&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),ne(4,"img",4),v(),ne(5,"span"),b(6,"span",3),ne(7,"img",5),v(),ne(8,"span"),b(9,"span",6),ne(10,"img",7),v()(),b(11,"div",8),he(12,Vte,2,0,"span",9),b(13,"span",10),Ee("click",function(){return i.setExp(1)}),v(),b(14,"span",10),Ee("click",function(){return i.setExp(2)}),v(),b(15,"span",10),Ee("click",function(){return i.setExp(3)}),v(),b(16,"span",10),Ee("click",function(){return i.setExp(4)}),v(),b(17,"span",10),Ee("click",function(){return i.setExp(5)}),v()(),b(18,"div",11)(19,"select",12)(20,"option",13),P(21,"None"),v(),b(22,"optgroup",14),he(23,Ute,2,2,"option",15),v(),he(24,jte,2,2,"optgroup",16),El(25,"keyvalue"),v()(),he(26,zte,4,0,"div",17),he(27,Kte,4,0,"div",17),he(28,Yte,4,0,"div",17),he(29,Jte,8,4,"div",17),he(30,nie,2,2,"div",17),he(31,aie,8,4,"div",17),he(32,oie,4,0,"div",17),b(33,"div",18)(34,"select",19)(35,"option",13),P(36,"None"),v(),he(37,cie,2,2,"optgroup",16),he(38,hie,2,2,"optgroup",16),v()(),he(39,die,4,2,"div",20),he(40,bie,5,11,"div",21),he(41,Pie,4,3,"ng-container",22),b(42,"div",23)(43,"div",24),ne(44,"input",25),v()(),b(45,"div",23)(46,"div",26),ne(47,"input",27),v()()()()),2&t&&(N(1),$("formGroup",i.formGroup),N(11),$("ngIf",i.showRemoveExp()),N(1),gr(i.getIsSelected(1)?"selected":""),N(1),gr(i.getIsSelected(2)?"selected":""),N(1),gr(i.getIsSelected(3)?"selected":""),N(1),gr(i.getIsSelected(4)?"selected":""),N(1),gr(i.getIsSelected(5)?"selected":""),N(3),$("ngValue",null),N(2),$("hidden",!i.showTokenPets),N(1),$("ngForOf",i.tokenPets),N(1),$("ngForOf",xl(25,32,i.pets)),N(2),$("ngIf","Slime"==(null==i.pet?null:i.pet.name)),N(1),$("ngIf","Sabertooth Tiger"==(null==i.pet?null:i.pet.name)),N(1),$("ngIf","Tuna"==(null==i.pet?null:i.pet.name)),N(1),$("ngIf","Beluga Whale"==(null==i.pet?null:i.pet.name)),N(1),$("ngIf","Abomination"==(null==i.pet?null:i.pet.name)),N(1),$("ngIf","Sarcastic Fringehead"==i.formGroup.get("name").value),N(1),$("ngIf",i.shouldShowFriendsDiedInput()),N(2),$("compareWith",i.compareEquipment),N(1),$("ngValue",null),N(2),$("ngForOf",i.equipmentCategoryGroups),N(1),$("ngForOf",i.ailmentCategoryGroups),N(1),$("ngIf",i.allowEquipmentUseOverrides&&i.equipmentUsesAvailable),N(1),$("ngIf",i.petImageSrc&&!i.petImageBroken),N(1),$("ngIf",i.mana||i.triggersConsumed),N(3),$("max",i.attackHealthMax),N(3),$("max",i.attackHealthMax))},directives:[Nl,da,Ml,Ap,Fl,ho,ZS,XS,hp,ha,bp,Ly,Iy],pipes:[SS],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/fist-from-textmap.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/heart-from-textmap.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/mana-from-textmap.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none;background:transparent;text-align:center;color:#fff;font-size:1.5em;line-height:52px;box-shadow:none;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.swallowed-art[_ngcontent-%COMP%]{position:absolute;right:-6px;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-label[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;height:100%}.level-bar-numbers[_ngcontent-%COMP%]{align-items:center}.level-bar-numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;justify-content:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.level-bar[_ngcontent-%COMP%]{position:relative}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;position:absolute;left:0;bottom:.33em;padding:0 .25rem;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8)}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{box-shadow:0 2px 4px #00000080}.level-3[_ngcontent-%COMP%]{text-align:right}.fly-out[_ngcontent-%COMP%]{position:absolute;left:100%;background-color:#fff;width:100%;z-index:1;box-shadow:12px 4px 9px 7px #0000001a}.card[_ngcontent-%COMP%]{background-color:transparent;border-color:transparent;box-shadow:none}"]}),n})();var wn="top",Yn="bottom",Qn="right",Tn="left",Wy="auto",Fu=[wn,Yn,Qn,Tn],$l="start",Nu="end",pB="clippingParents",vL="viewport",Bu="popper",mB="reference",bL=Fu.reduce(function(n,e){return n.concat([e+"-"+$l,e+"-"+Nu])},[]),AL=[].concat(Fu,[Wy]).reduce(function(n,e){return n.concat([e,e+"-"+$l,e+"-"+Nu])},[]),gB="beforeRead",fB="read",yB="afterRead",vB="beforeMain",bB="main",AB="afterMain",kB="beforeWrite",SB="write",PB="afterWrite",wB=[gB,fB,yB,vB,bB,AB,kB,SB,PB];function Ls(n){return n?(n.nodeName||"").toLowerCase():null}function Zn(n){if(null==n)return window;if("[object Window]"!==n.toString()){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Hl(n){return n instanceof Zn(n).Element||n instanceof Element}function br(n){return n instanceof Zn(n).HTMLElement||n instanceof HTMLElement}function kL(n){return"undefined"!=typeof ShadowRoot&&(n instanceof Zn(n).ShadowRoot||n instanceof ShadowRoot)}const SL={name:"applyStyles",enabled:!0,phase:"write",fn:function wie(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},a=e.elements[t];!br(a)||!Ls(a)||(Object.assign(a.style,i),Object.keys(r).forEach(function(s){var o=r[s];!1===o?a.removeAttribute(s):a.setAttribute(s,!0===o?"":o)}))})},effect:function Tie(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],a=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]).reduce(function(l,c){return l[c]="",l},{});!br(r)||!Ls(r)||(Object.assign(r.style,o),Object.keys(a).forEach(function(l){r.removeAttribute(l)}))})}},requires:["computeStyles"]};function Is(n){return n.split("-")[0]}var Gl=Math.max,jy=Math.min,Ou=Math.round;function PL(){var n=navigator.userAgentData;return null!=n&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function TB(){return!/^((?!chrome|android).)*safari/i.test(PL())}function $u(n,e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var i=n.getBoundingClientRect(),r=1,a=1;e&&br(n)&&(r=n.offsetWidth>0&&Ou(i.width)/n.offsetWidth||1,a=n.offsetHeight>0&&Ou(i.height)/n.offsetHeight||1);var o=(Hl(n)?Zn(n):window).visualViewport,l=!TB()&&t,c=(i.left+(l&&o?o.offsetLeft:0))/r,d=(i.top+(l&&o?o.offsetTop:0))/a,p=i.width/r,g=i.height/a;return{width:p,height:g,top:d,right:c+p,bottom:d+g,left:c,x:c,y:d}}function wL(n){var e=$u(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function _B(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&kL(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function va(n){return Zn(n).getComputedStyle(n)}function _ie(n){return["table","td","th"].indexOf(Ls(n))>=0}function mo(n){return((Hl(n)?n.ownerDocument:n.document)||window.document).documentElement}function zy(n){return"html"===Ls(n)?n:n.assignedSlot||n.parentNode||(kL(n)?n.host:null)||mo(n)}function CB(n){return br(n)&&"fixed"!==va(n).position?n.offsetParent:null}function xp(n){for(var e=Zn(n),t=CB(n);t&&_ie(t)&&"static"===va(t).position;)t=CB(t);return t&&("html"===Ls(t)||"body"===Ls(t)&&"static"===va(t).position)?e:t||function Cie(n){var e=/firefox/i.test(PL());if(/Trident/i.test(PL())&&br(n)&&"fixed"===va(n).position)return null;var r=zy(n);for(kL(r)&&(r=r.host);br(r)&&["html","body"].indexOf(Ls(r))<0;){var a=va(r);if("none"!==a.transform||"none"!==a.perspective||"paint"===a.contain||-1!==["transform","perspective"].indexOf(a.willChange)||e&&"filter"===a.willChange||e&&a.filter&&"none"!==a.filter)return r;r=r.parentNode}return null}(n)||e}function TL(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Dp(n,e,t){return Gl(n,jy(e,t))}function xB(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function DB(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}const LB={name:"arrow",enabled:!0,phase:"main",fn:function Die(n){var e,t=n.state,i=n.name,r=n.options,a=t.elements.arrow,s=t.modifiersData.popperOffsets,o=Is(t.placement),l=TL(o),d=[Tn,Qn].indexOf(o)>=0?"height":"width";if(a&&s){var p=function(e,t){return xB("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:DB(e,Fu))}(r.padding,t),g=wL(a),k="y"===l?wn:Tn,T="y"===l?Yn:Qn,E=t.rects.reference[d]+t.rects.reference[l]-s[l]-t.rects.popper[d],L=s[l]-t.rects.reference[l],R=xp(a),x=R?"y"===l?R.clientHeight||0:R.clientWidth||0:0,W=x/2-g[d]/2+(E/2-L/2),ee=Dp(p[k],W,x-g[d]-p[T]);t.modifiersData[i]=((e={})[l]=ee,e.centerOffset=ee-W,e)}},effect:function Lie(n){var e=n.state,i=n.options.element,r=void 0===i?"[data-popper-arrow]":i;null!=r&&("string"==typeof r&&!(r=e.elements.popper.querySelector(r))||!_B(e.elements.popper,r)||(e.elements.arrow=r))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Hu(n){return n.split("-")[1]}var Iie={top:"auto",right:"auto",bottom:"auto",left:"auto"};function IB(n){var e,t=n.popper,i=n.popperRect,r=n.placement,a=n.variation,s=n.offsets,o=n.position,l=n.gpuAcceleration,c=n.adaptive,d=n.roundOffsets,p=n.isFixed,g=s.x,k=void 0===g?0:g,T=s.y,E=void 0===T?0:T,L="function"==typeof d?d({x:k,y:E}):{x:k,y:E};k=L.x,E=L.y;var R=s.hasOwnProperty("x"),x=s.hasOwnProperty("y"),G=Tn,O=wn,q=window;if(c){var W=xp(t),ee="clientHeight",re="clientWidth";W===Zn(t)&&"static"!==va(W=mo(t)).position&&"absolute"===o&&(ee="scrollHeight",re="scrollWidth"),(r===wn||(r===Tn||r===Qn)&&a===Nu)&&(O=Yn,E-=(p&&W===q&&q.visualViewport?q.visualViewport.height:W[ee])-i.height,E*=l?1:-1),r!==Tn&&(r!==wn&&r!==Yn||a!==Nu)||(G=Qn,k-=(p&&W===q&&q.visualViewport?q.visualViewport.width:W[re])-i.width,k*=l?1:-1)}var de,ge=Object.assign({position:o},c&&Iie),Ne=!0===d?function Mie(n,e){var i=n.y,r=e.devicePixelRatio||1;return{x:Ou(n.x*r)/r||0,y:Ou(i*r)/r||0}}({x:k,y:E},Zn(t)):{x:k,y:E};return k=Ne.x,E=Ne.y,Object.assign({},ge,l?((de={})[O]=x?"0":"",de[G]=R?"0":"",de.transform=(q.devicePixelRatio||1)<=1?"translate("+k+"px, "+E+"px)":"translate3d("+k+"px, "+E+"px, 0)",de):((e={})[O]=x?E+"px":"",e[G]=R?k+"px":"",e.transform="",e))}const _L={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Rie(n){var e=n.state,t=n.options,i=t.gpuAcceleration,r=void 0===i||i,a=t.adaptive,s=void 0===a||a,o=t.roundOffsets,l=void 0===o||o,c={placement:Is(e.placement),variation:Hu(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,IB(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,IB(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var Ky={passive:!0};const CL={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Fie(n){var e=n.state,t=n.instance,i=n.options,r=i.scroll,a=void 0===r||r,s=i.resize,o=void 0===s||s,l=Zn(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&c.forEach(function(d){d.addEventListener("scroll",t.update,Ky)}),o&&l.addEventListener("resize",t.update,Ky),function(){a&&c.forEach(function(d){d.removeEventListener("scroll",t.update,Ky)}),o&&l.removeEventListener("resize",t.update,Ky)}},data:{}};var Nie={left:"right",right:"left",bottom:"top",top:"bottom"};function Yy(n){return n.replace(/left|right|bottom|top/g,function(e){return Nie[e]})}var Bie={start:"end",end:"start"};function MB(n){return n.replace(/start|end/g,function(e){return Bie[e]})}function EL(n){var e=Zn(n);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function xL(n){return $u(mo(n)).left+EL(n).scrollLeft}function DL(n){var e=va(n);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function RB(n){return["html","body","#document"].indexOf(Ls(n))>=0?n.ownerDocument.body:br(n)&&DL(n)?n:RB(zy(n))}function Lp(n,e){var t;void 0===e&&(e=[]);var i=RB(n),r=i===(null==(t=n.ownerDocument)?void 0:t.body),a=Zn(i),s=r?[a].concat(a.visualViewport||[],DL(i)?i:[]):i,o=e.concat(s);return r?o:o.concat(Lp(zy(s)))}function LL(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function FB(n,e,t){return e===vL?LL(function Oie(n,e){var t=Zn(n),i=mo(n),r=t.visualViewport,a=i.clientWidth,s=i.clientHeight,o=0,l=0;if(r){a=r.width,s=r.height;var c=TB();(c||!c&&"fixed"===e)&&(o=r.offsetLeft,l=r.offsetTop)}return{width:a,height:s,x:o+xL(n),y:l}}(n,t)):Hl(e)?function Hie(n,e){var t=$u(n,!1,"fixed"===e);return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}(e,t):LL(function $ie(n){var e,t=mo(n),i=EL(n),r=null==(e=n.ownerDocument)?void 0:e.body,a=Gl(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=Gl(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),o=-i.scrollLeft+xL(n),l=-i.scrollTop;return"rtl"===va(r||t).direction&&(o+=Gl(t.clientWidth,r?r.clientWidth:0)-a),{width:a,height:s,x:o,y:l}}(mo(n)))}function NB(n){var l,e=n.reference,t=n.element,i=n.placement,r=i?Is(i):null,a=i?Hu(i):null,s=e.x+e.width/2-t.width/2,o=e.y+e.height/2-t.height/2;switch(r){case wn:l={x:s,y:e.y-t.height};break;case Yn:l={x:s,y:e.y+e.height};break;case Qn:l={x:e.x+e.width,y:o};break;case Tn:l={x:e.x-t.width,y:o};break;default:l={x:e.x,y:e.y}}var c=r?TL(r):null;if(null!=c){var d="y"===c?"height":"width";switch(a){case $l:l[c]=l[c]-(e[d]/2-t[d]/2);break;case Nu:l[c]=l[c]+(e[d]/2-t[d]/2)}}return l}function Gu(n,e){void 0===e&&(e={});var i=e.placement,r=void 0===i?n.placement:i,a=e.strategy,s=void 0===a?n.strategy:a,o=e.boundary,l=void 0===o?pB:o,c=e.rootBoundary,d=void 0===c?vL:c,p=e.elementContext,g=void 0===p?Bu:p,k=e.altBoundary,T=void 0!==k&&k,E=e.padding,L=void 0===E?0:E,R=xB("number"!=typeof L?L:DB(L,Fu)),G=n.rects.popper,O=n.elements[T?g===Bu?mB:Bu:g],q=function qie(n,e,t,i){var r="clippingParents"===e?function Gie(n){var e=Lp(zy(n)),i=["absolute","fixed"].indexOf(va(n).position)>=0&&br(n)?xp(n):n;return Hl(i)?e.filter(function(r){return Hl(r)&&_B(r,i)&&"body"!==Ls(r)}):[]}(n):[].concat(e),a=[].concat(r,[t]),o=a.reduce(function(l,c){var d=FB(n,c,i);return l.top=Gl(d.top,l.top),l.right=jy(d.right,l.right),l.bottom=jy(d.bottom,l.bottom),l.left=Gl(d.left,l.left),l},FB(n,a[0],i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}(Hl(O)?O:O.contextElement||mo(n.elements.popper),l,d,s),W=$u(n.elements.reference),ee=NB({reference:W,element:G,strategy:"absolute",placement:r}),re=LL(Object.assign({},G,ee)),ce=g===Bu?re:W,ue={top:q.top-ce.top+R.top,bottom:ce.bottom-q.bottom+R.bottom,left:q.left-ce.left+R.left,right:ce.right-q.right+R.right},ge=n.modifiersData.offset;if(g===Bu&&ge){var Ne=ge[r];Object.keys(ue).forEach(function(de){var gt=[Qn,Yn].indexOf(de)>=0?1:-1,st=[wn,Yn].indexOf(de)>=0?"y":"x";ue[de]+=Ne[st]*gt})}return ue}const BB={name:"flip",enabled:!0,phase:"main",fn:function Wie(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var r=t.mainAxis,a=void 0===r||r,s=t.altAxis,o=void 0===s||s,l=t.fallbackPlacements,c=t.padding,d=t.boundary,p=t.rootBoundary,g=t.altBoundary,k=t.flipVariations,T=void 0===k||k,E=t.allowedAutoPlacements,L=e.options.placement,R=Is(L),G=l||(R!==L&&T?function Uie(n){if(Is(n)===Wy)return[];var e=Yy(n);return[MB(n),e,MB(e)]}(L):[Yy(L)]),O=[L].concat(G).reduce(function(Ve,Vi){return Ve.concat(Is(Vi)===Wy?function Vie(n,e){void 0===e&&(e={});var r=e.boundary,a=e.rootBoundary,s=e.padding,o=e.flipVariations,l=e.allowedAutoPlacements,c=void 0===l?AL:l,d=Hu(e.placement),p=d?o?bL:bL.filter(function(T){return Hu(T)===d}):Fu,g=p.filter(function(T){return c.indexOf(T)>=0});0===g.length&&(g=p);var k=g.reduce(function(T,E){return T[E]=Gu(n,{placement:E,boundary:r,rootBoundary:a,padding:s})[Is(E)],T},{});return Object.keys(k).sort(function(T,E){return k[T]-k[E]})}(e,{placement:Vi,boundary:d,rootBoundary:p,padding:c,flipVariations:T,allowedAutoPlacements:E}):Vi)},[]),q=e.rects.reference,W=e.rects.popper,ee=new Map,re=!0,ce=O[0],ue=0;ue<O.length;ue++){var ge=O[ue],Ne=Is(ge),de=Hu(ge)===$l,gt=[wn,Yn].indexOf(Ne)>=0,st=gt?"width":"height",J=Gu(e,{placement:ge,boundary:d,rootBoundary:p,altBoundary:g,padding:c}),se=gt?de?Qn:Tn:de?Yn:wn;q[st]>W[st]&&(se=Yy(se));var ve=Yy(se),$e=[];if(a&&$e.push(J[Ne]<=0),o&&$e.push(J[se]<=0,J[ve]<=0),$e.every(function(Ve){return Ve})){ce=ge,re=!1;break}ee.set(ge,$e)}if(re)for(var nt=function(Vi){var oi=O.find(function(At){var _n=ee.get(At);if(_n)return _n.slice(0,Vi).every(function(Tr){return Tr})});if(oi)return ce=oi,"break"},Lt=T?3:1;Lt>0&&"break"!==nt(Lt);Lt--);e.placement!==ce&&(e.modifiersData[i]._skip=!0,e.placement=ce,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function OB(n,e,t){return void 0===t&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function $B(n){return[wn,Qn,Yn,Tn].some(function(e){return n[e]>=0})}const HB={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function jie(n){var e=n.state,t=n.name,i=e.rects.reference,r=e.rects.popper,a=e.modifiersData.preventOverflow,s=Gu(e,{elementContext:"reference"}),o=Gu(e,{altBoundary:!0}),l=OB(s,i),c=OB(o,r,a),d=$B(l),p=$B(c);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}},GB={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Kie(n){var e=n.state,i=n.name,r=n.options.offset,a=void 0===r?[0,0]:r,s=AL.reduce(function(d,p){return d[p]=function zie(n,e,t){var i=Is(n),r=[Tn,wn].indexOf(i)>=0?-1:1,a="function"==typeof t?t(Object.assign({},e,{placement:n})):t,s=a[0],o=a[1];return s=s||0,o=(o||0)*r,[Tn,Qn].indexOf(i)>=0?{x:o,y:s}:{x:s,y:o}}(p,e.rects,a),d},{}),o=s[e.placement],c=o.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=o.x,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=s}},IL={name:"popperOffsets",enabled:!0,phase:"read",fn:function Yie(n){var e=n.state;e.modifiersData[n.name]=NB({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},qB={name:"preventOverflow",enabled:!0,phase:"main",fn:function Zie(n){var e=n.state,t=n.options,i=n.name,r=t.mainAxis,a=void 0===r||r,s=t.altAxis,o=void 0!==s&&s,g=t.tether,k=void 0===g||g,T=t.tetherOffset,E=void 0===T?0:T,L=Gu(e,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),R=Is(e.placement),x=Hu(e.placement),G=!x,O=TL(R),q=function Qie(n){return"x"===n?"y":"x"}(O),W=e.modifiersData.popperOffsets,ee=e.rects.reference,re=e.rects.popper,ce="function"==typeof E?E(Object.assign({},e.rects,{placement:e.placement})):E,ue="number"==typeof ce?{mainAxis:ce,altAxis:ce}:Object.assign({mainAxis:0,altAxis:0},ce),ge=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Ne={x:0,y:0};if(W){if(a){var de,gt="y"===O?wn:Tn,st="y"===O?Yn:Qn,J="y"===O?"height":"width",se=W[O],ve=se+L[gt],$e=se-L[st],Ye=k?-re[J]/2:0,nt=x===$l?ee[J]:re[J],Lt=x===$l?-re[J]:-ee[J],Kt=e.elements.arrow,Ve=k&&Kt?wL(Kt):{width:0,height:0},Vi=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},oi=Vi[gt],At=Vi[st],_n=Dp(0,ee[J],Ve[J]),Tr=G?ee[J]/2-Ye-_n-oi-ue.mainAxis:nt-_n-oi-ue.mainAxis,Pa=G?-ee[J]/2+Ye+_n+At+ue.mainAxis:Lt+_n+At+ue.mainAxis,Jl=e.elements.arrow&&xp(e.elements.arrow),BH=null!=(de=null==ge?void 0:ge[O])?de:0,hde=se+Pa-BH,OH=Dp(k?jy(ve,se+Tr-BH-(Jl?"y"===O?Jl.clientTop||0:Jl.clientLeft||0:0)):ve,se,k?Gl($e,hde):$e);W[O]=OH,Ne[O]=OH-se}if(o){var $H,Xl=W[q],Vv="y"===q?"height":"width",HH=Xl+L["x"===O?wn:Tn],GH=Xl-L["x"===O?Yn:Qn],nI=-1!==[wn,Tn].indexOf(R),qH=null!=($H=null==ge?void 0:ge[q])?$H:0,VH=nI?HH:Xl-ee[Vv]-re[Vv]-qH+ue.altAxis,UH=nI?Xl+ee[Vv]+re[Vv]-qH-ue.altAxis:GH,WH=k&&nI?function Eie(n,e,t){var i=Dp(n,e,t);return i>t?t:i}(VH,Xl,UH):Dp(k?VH:HH,Xl,k?UH:GH);W[q]=WH,Ne[q]=WH-Xl}e.modifiersData[i]=Ne}},requiresIfExists:["offset"]};function tne(n,e,t){void 0===t&&(t=!1);var i=br(e),r=br(e)&&function ene(n){var e=n.getBoundingClientRect(),t=Ou(e.width)/n.offsetWidth||1,i=Ou(e.height)/n.offsetHeight||1;return 1!==t||1!==i}(e),a=mo(e),s=$u(n,r,t),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!t)&&(("body"!==Ls(e)||DL(a))&&(o=function Xie(n){return n!==Zn(n)&&br(n)?function Jie(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):EL(n)}(e)),br(e)?((l=$u(e,!0)).x+=e.clientLeft,l.y+=e.clientTop):a&&(l.x=xL(a))),{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function ine(n){var e=new Map,t=new Set,i=[];function r(a){t.add(a.name),[].concat(a.requires||[],a.requiresIfExists||[]).forEach(function(o){if(!t.has(o)){var l=e.get(o);l&&r(l)}}),i.push(a)}return n.forEach(function(a){e.set(a.name,a)}),n.forEach(function(a){t.has(a.name)||r(a)}),i}function rne(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}var VB={placement:"bottom",modifiers:[],strategy:"absolute"};function UB(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function Qy(n){void 0===n&&(n={});var t=n.defaultModifiers,i=void 0===t?[]:t,r=n.defaultOptions,a=void 0===r?VB:r;return function(o,l,c){void 0===c&&(c=a);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},VB,a),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},p=[],g=!1,k={state:d,setOptions:function(R){var x="function"==typeof R?R(d.options):R;E(),d.options=Object.assign({},a,d.options,x),d.scrollParents={reference:Hl(o)?Lp(o):o.contextElement?Lp(o.contextElement):[],popper:Lp(l)};var G=function nne(n){var e=ine(n);return wB.reduce(function(t,i){return t.concat(e.filter(function(r){return r.phase===i}))},[])}(function sne(n){var e=n.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(i,d.options.modifiers)));return d.orderedModifiers=G.filter(function(O){return O.enabled}),function T(){d.orderedModifiers.forEach(function(L){var x=L.options,O=L.effect;if("function"==typeof O){var q=O({state:d,name:L.name,instance:k,options:void 0===x?{}:x});p.push(q||function(){})}})}(),k.update()},forceUpdate:function(){if(!g){var R=d.elements,x=R.reference,G=R.popper;if(UB(x,G)){d.rects={reference:tne(x,xp(G),"fixed"===d.options.strategy),popper:wL(G)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(ue){return d.modifiersData[ue.name]=Object.assign({},ue.data)});for(var O=0;O<d.orderedModifiers.length;O++)if(!0!==d.reset){var q=d.orderedModifiers[O],W=q.fn,ee=q.options;"function"==typeof W&&(d=W({state:d,options:void 0===ee?{}:ee,name:q.name,instance:k})||d)}else d.reset=!1,O=-1}}},update:rne(function(){return new Promise(function(L){k.forceUpdate(),L(d)})}),destroy:function(){E(),g=!0}};if(!UB(o,l))return k;function E(){p.forEach(function(L){return L()}),p=[]}return k.setOptions(c).then(function(L){!g&&c.onFirstUpdate&&c.onFirstUpdate(L)}),k}}var ane=Qy(),ML=Qy({defaultModifiers:[CL,IL,_L,SL,GB,BB,qB,LB,HB]}),cne=Qy({defaultModifiers:[CL,IL,_L,SL]});const go=new Map,RL={set(n,e,t){go.has(n)||go.set(n,new Map);const i=go.get(n);i.has(e)||0===i.size?i.set(e,t):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(n,e)=>go.has(n)&&go.get(n).get(e)||null,remove(n,e){if(!go.has(n))return;const t=go.get(n);t.delete(e),0===t.size&&go.delete(n)}},FL="transitionend",WB=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),dne=n=>null==n?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),jB=n=>{n.dispatchEvent(new Event(FL))},ba=n=>!(!n||"object"!=typeof n)&&(void 0!==n.jquery&&(n=n[0]),void 0!==n.nodeType),fo=n=>ba(n)?n.jquery?n[0]:n:"string"==typeof n&&n.length>0?document.querySelector(WB(n)):null,qu=n=>{if(!ba(n)||0===n.getClientRects().length)return!1;const e="visible"===getComputedStyle(n).getPropertyValue("visibility"),t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const i=n.closest("summary");if(i&&i.parentNode!==t||null===i)return!1}return e},yo=n=>!(n&&n.nodeType===Node.ELEMENT_NODE&&!n.classList.contains("disabled"))||(void 0!==n.disabled?n.disabled:n.hasAttribute("disabled")&&"false"!==n.getAttribute("disabled")),zB=n=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof n.getRootNode){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?zB(n.parentNode):null},Zy=()=>{},KB=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,NL=[],Ar=()=>"rtl"===document.documentElement.dir,kr=n=>{(n=>{"loading"===document.readyState?(NL.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of NL)e()}),NL.push(n)):n()})(()=>{const e=KB();if(e){const t=n.NAME,i=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=i,n.jQueryInterface)}})},On=(n,e=[],t=n)=>"function"==typeof n?n(...e):t,YB=(n,e,t=!0)=>{if(!t)return void On(n);const r=(n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const i=Number.parseFloat(e),r=Number.parseFloat(t);return i||r?(e=e.split(",")[0],t=t.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(t))):0})(e)+5;let a=!1;const s=({target:o})=>{o===e&&(a=!0,e.removeEventListener(FL,s),On(n))};e.addEventListener(FL,s),setTimeout(()=>{a||jB(e)},r)},BL=(n,e,t,i)=>{const r=n.length;let a=n.indexOf(e);return-1===a?!t&&i?n[r-1]:n[0]:(a+=t?1:-1,i&&(a=(a+r)%r),n[Math.max(0,Math.min(a,r-1))])},fne=/[^.]*(?=\..*)\.|.*/,yne=/\..*/,vne=/::\d+$/,OL={};let QB=1;const ZB={mouseenter:"mouseover",mouseleave:"mouseout"},bne=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function JB(n,e){return e&&`${e}::${QB++}`||n.uidEvent||QB++}function XB(n){const e=JB(n);return n.uidEvent=e,OL[e]=OL[e]||{},OL[e]}function eO(n,e,t=null){return Object.values(n).find(i=>i.callable===e&&i.delegationSelector===t)}function tO(n,e,t){const i="string"==typeof e,r=i?t:e||t;let a=nO(n);return bne.has(a)||(a=n),[i,r,a]}function iO(n,e,t,i,r){if("string"!=typeof e||!n)return;let[a,s,o]=tO(e,t,i);var T;e in ZB&&(T=s,s=function(E){if(!E.relatedTarget||E.relatedTarget!==E.delegateTarget&&!E.delegateTarget.contains(E.relatedTarget))return T.call(this,E)});const l=XB(n),c=l[o]||(l[o]={}),d=eO(c,s,a?t:null);if(d)return void(d.oneOff=d.oneOff&&r);const p=JB(s,e.replace(fne,"")),g=a?function kne(n,e,t){return function i(r){const a=n.querySelectorAll(e);for(let{target:s}=r;s&&s!==this;s=s.parentNode)for(const o of a)if(o===s)return HL(r,{delegateTarget:s}),i.oneOff&&X.off(n,r.type,e,t),t.apply(s,[r])}}(n,t,s):function Ane(n,e){return function t(i){return HL(i,{delegateTarget:n}),t.oneOff&&X.off(n,i.type,e),e.apply(n,[i])}}(n,s);g.delegationSelector=a?t:null,g.callable=s,g.oneOff=r,g.uidEvent=p,c[p]=g,n.addEventListener(o,g,a)}function $L(n,e,t,i,r){const a=eO(e[t],i,r);!a||(n.removeEventListener(t,a,Boolean(r)),delete e[t][a.uidEvent])}function Sne(n,e,t,i){const r=e[t]||{};for(const[a,s]of Object.entries(r))a.includes(i)&&$L(n,e,t,s.callable,s.delegationSelector)}function nO(n){return n=n.replace(yne,""),ZB[n]||n}const X={on(n,e,t,i){iO(n,e,t,i,!1)},one(n,e,t,i){iO(n,e,t,i,!0)},off(n,e,t,i){if("string"!=typeof e||!n)return;const[r,a,s]=tO(e,t,i),o=s!==e,l=XB(n),c=l[s]||{},d=e.startsWith(".");if(void 0===a){if(d)for(const p of Object.keys(l))Sne(n,l,p,e.slice(1));for(const[p,g]of Object.entries(c)){const k=p.replace(vne,"");(!o||e.includes(k))&&$L(n,l,s,g.callable,g.delegationSelector)}}else{if(!Object.keys(c).length)return;$L(n,l,s,a,r?t:null)}},trigger(n,e,t){if("string"!=typeof e||!n)return null;const i=KB();let s=null,o=!0,l=!0,c=!1;e!==nO(e)&&i&&(s=i.Event(e,t),i(n).trigger(s),o=!s.isPropagationStopped(),l=!s.isImmediatePropagationStopped(),c=s.isDefaultPrevented());const d=HL(new Event(e,{bubbles:o,cancelable:!0}),t);return c&&d.preventDefault(),l&&n.dispatchEvent(d),d.defaultPrevented&&s&&s.preventDefault(),d}};function HL(n,e={}){for(const[t,i]of Object.entries(e))try{n[t]=i}catch(r){Object.defineProperty(n,t,{configurable:!0,get:()=>i})}return n}function rO(n){if("true"===n)return!0;if("false"===n)return!1;if(n===Number(n).toString())return Number(n);if(""===n||"null"===n)return null;if("string"!=typeof n)return n;try{return JSON.parse(decodeURIComponent(n))}catch(e){return n}}function GL(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Aa={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${GL(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${GL(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of t){let r=i.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=rO(n.dataset[i])}return e},getDataAttribute:(n,e)=>rO(n.getAttribute(`data-bs-${GL(e)}`))};class Mp{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const i=ba(t)?Aa.getDataAttribute(t,"config"):{};return en(en(en(en({},this.constructor.Default),"object"==typeof i?i:{}),ba(t)?Aa.getDataAttributes(t):{}),"object"==typeof e?e:{})}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[i,r]of Object.entries(t)){const a=e[i],s=ba(a)?"element":dne(a);if(!new RegExp(r).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${s}" but expected type "${r}".`)}}}class Xr extends Mp{constructor(e,t){super(),(e=fo(e))&&(this._element=e,this._config=this._getConfig(t),RL.set(this._element,this.constructor.DATA_KEY,this))}dispose(){RL.remove(this._element,this.constructor.DATA_KEY),X.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,i=!0){YB(e,t,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return RL.get(fo(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.1"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const qL=n=>{let e=n.getAttribute("data-bs-target");if(!e||"#"===e){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&"#"!==t?t.trim():null}return WB(e)},Pe={find:(n,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,n)),findOne:(n,e=document.documentElement)=>Element.prototype.querySelector.call(e,n),children:(n,e)=>[].concat(...n.children).filter(t=>t.matches(e)),parents(n,e){const t=[];let i=n.parentNode.closest(e);for(;i;)t.push(i),i=i.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!yo(t)&&qu(t))},getSelectorFromElement(n){const e=qL(n);return e&&Pe.findOne(e)?e:null},getElementFromSelector(n){const e=qL(n);return e?Pe.findOne(e):null},getMultipleElementsFromSelector(n){const e=qL(n);return e?Pe.find(e):[]}},Jy=(n,e="hide")=>{const i=n.NAME;X.on(document,`click.dismiss${n.EVENT_KEY}`,`[data-bs-dismiss="${i}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),yo(this))return;const a=Pe.getElementFromSelector(this)||this.closest(`.${i}`);n.getOrCreateInstance(a)[e]()})},sO=".bs.alert",Tne=`close${sO}`,_ne=`closed${sO}`;class Xy extends Xr{static get NAME(){return"alert"}close(){if(X.trigger(this._element,Tne).defaultPrevented)return;this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),X.trigger(this._element,_ne),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=Xy.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Jy(Xy,"close"),kr(Xy);const aO='[data-bs-toggle="button"]';class ev extends Xr{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each(function(){const t=ev.getOrCreateInstance(this);"toggle"===e&&t[e]()})}}X.on(document,"click.bs.button.data-api",aO,n=>{n.preventDefault();const e=n.target.closest(aO);ev.getOrCreateInstance(e).toggle()}),kr(ev);const Vu=".bs.swipe",Fne=`touchstart${Vu}`,Nne=`touchmove${Vu}`,Bne=`touchend${Vu}`,One=`pointerdown${Vu}`,$ne=`pointerup${Vu}`,Une={endCallback:null,leftCallback:null,rightCallback:null},Wne={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class tv extends Mp{constructor(e,t){super(),this._element=e,e&&tv.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Une}static get DefaultType(){return Wne}static get NAME(){return"swipe"}dispose(){X.off(this._element,Vu)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),On(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&On(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(X.on(this._element,One,e=>this._start(e)),X.on(this._element,$ne,e=>this._end(e)),this._element.classList.add("pointer-event")):(X.on(this._element,Fne,e=>this._start(e)),X.on(this._element,Nne,e=>this._move(e)),X.on(this._element,Bne,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const vo=".bs.carousel",oO=".data-api",Rp="next",Uu="prev",Wu="left",iv="right",Qne=`slide${vo}`,VL=`slid${vo}`,Zne=`keydown${vo}`,Jne=`mouseenter${vo}`,Xne=`mouseleave${vo}`,ere=`dragstart${vo}`,tre=`load${vo}${oO}`,ire=`click${vo}${oO}`,lO="carousel",nv="active",pre={ArrowLeft:iv,ArrowRight:Wu},mre={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},gre={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Fp extends Xr{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Pe.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===lO&&this.cycle()}static get Default(){return mre}static get DefaultType(){return gre}static get NAME(){return"carousel"}next(){this._slide(Rp)}nextWhenVisible(){!document.hidden&&qu(this._element)&&this.next()}prev(){this._slide(Uu)}pause(){this._isSliding&&jB(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void X.one(this._element,VL,()=>this.cycle());this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void X.one(this._element,VL,()=>this.to(e));const i=this._getItemIndex(this._getActive());i!==e&&this._slide(e>i?Rp:Uu,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&X.on(this._element,Zne,e=>this._keydown(e)),"hover"===this._config.pause&&(X.on(this._element,Jne,()=>this.pause()),X.on(this._element,Xne,()=>this._maybeEnableCycle())),this._config.touch&&tv.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of Pe.find(".carousel-item img",this._element))X.on(i,ere,r=>r.preventDefault());this._swipeHelper=new tv(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Wu)),rightCallback:()=>this._slide(this._directionToOrder(iv)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=pre[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=Pe.findOne(".active",this._indicatorsElement);t.classList.remove(nv),t.removeAttribute("aria-current");const i=Pe.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(nv),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const i=this._getActive(),r=e===Rp,a=t||BL(this._getItems(),i,r,this._config.wrap);if(a===i)return;const s=this._getItemIndex(a),o=k=>X.trigger(this._element,k,{relatedTarget:a,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:s});if(o(Qne).defaultPrevented||!i||!a)return;const c=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=a;const d=r?"carousel-item-start":"carousel-item-end",p=r?"carousel-item-next":"carousel-item-prev";a.classList.add(p),i.classList.add(d),a.classList.add(d),this._queueCallback(()=>{a.classList.remove(d,p),a.classList.add(nv),i.classList.remove(nv,p,d),this._isSliding=!1,o(VL)},i,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Pe.findOne(".active.carousel-item",this._element)}_getItems(){return Pe.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Ar()?e===Wu?Uu:Rp:e===Wu?Rp:Uu}_orderToDirection(e){return Ar()?e===Uu?Wu:iv:e===Uu?iv:Wu}static jQueryInterface(e){return this.each(function(){const t=Fp.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)})}}X.on(document,ire,"[data-bs-slide], [data-bs-slide-to]",function(n){const e=Pe.getElementFromSelector(this);if(!e||!e.classList.contains(lO))return;n.preventDefault();const t=Fp.getOrCreateInstance(e),i=this.getAttribute("data-bs-slide-to");return i?(t.to(i),void t._maybeEnableCycle()):"next"===Aa.getDataAttribute(this,"slide")?(t.next(),void t._maybeEnableCycle()):(t.prev(),void t._maybeEnableCycle())}),X.on(window,tre,()=>{const n=Pe.find('[data-bs-ride="carousel"]');for(const e of n)Fp.getOrCreateInstance(e)}),kr(Fp);const Np=".bs.collapse",vre=`show${Np}`,bre=`shown${Np}`,Are=`hide${Np}`,kre=`hidden${Np}`,Sre=`click${Np}.data-api`,UL="show",ju="collapse",rv="collapsing",wre=`:scope .${ju} .${ju}`,WL='[data-bs-toggle="collapse"]',xre={parent:null,toggle:!0},Dre={parent:"(null|element)",toggle:"boolean"};class Bp extends Xr{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const i=Pe.find(WL);for(const r of i){const a=Pe.getSelectorFromElement(r),s=Pe.find(a).filter(o=>o===this._element);null!==a&&s.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return xre}static get DefaultType(){return Dre}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(o=>o!==this._element).map(o=>Bp.getOrCreateInstance(o,{toggle:!1}))),e.length&&e[0]._isTransitioning||X.trigger(this._element,vre).defaultPrevented)return;for(const o of e)o.hide();const i=this._getDimension();this._element.classList.remove(ju),this._element.classList.add(rv),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const s=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(rv),this._element.classList.add(ju,UL),this._element.style[i]="",X.trigger(this._element,bre)},this._element,!0),this._element.style[i]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._isShown()||X.trigger(this._element,Are).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,this._element.classList.add(rv),this._element.classList.remove(ju,UL);for(const r of this._triggerArray){const a=Pe.getElementFromSelector(r);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([r],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(rv),this._element.classList.add(ju),X.trigger(this._element,kre)},this._element,!0)}_isShown(e=this._element){return e.classList.contains(UL)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=fo(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(WL);for(const t of e){const i=Pe.getElementFromSelector(t);i&&this._addAriaAndCollapsedClass([t],this._isShown(i))}}_getFirstLevelChildren(e){const t=Pe.find(wre,this._config.parent);return Pe.find(e,this._config.parent).filter(i=>!t.includes(i))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const i of e)i.classList.toggle("collapsed",!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const i=Bp.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===i[e])throw new TypeError(`No method named "${e}"`);i[e]()}})}}X.on(document,Sre,WL,function(n){("A"===n.target.tagName||n.delegateTarget&&"A"===n.delegateTarget.tagName)&&n.preventDefault();for(const e of Pe.getMultipleElementsFromSelector(this))Bp.getOrCreateInstance(e,{toggle:!1}).toggle()}),kr(Bp);const hO="dropdown",ql=".bs.dropdown",jL=".data-api",Ire="ArrowUp",pO="ArrowDown",Rre=`hide${ql}`,Fre=`hidden${ql}`,Nre=`show${ql}`,Bre=`shown${ql}`,mO=`click${ql}${jL}`,gO=`keydown${ql}${jL}`,Ore=`keyup${ql}${jL}`,zu="show",Vl='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Ure=`${Vl}.show`,sv=".dropdown-menu",Kre=Ar()?"top-end":"top-start",Yre=Ar()?"top-start":"top-end",Qre=Ar()?"bottom-end":"bottom-start",Zre=Ar()?"bottom-start":"bottom-end",Jre=Ar()?"left-start":"right-start",Xre=Ar()?"right-start":"left-start",ise={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},nse={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ms extends Xr{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=Pe.next(this._element,sv)[0]||Pe.prev(this._element,sv)[0]||Pe.findOne(sv,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ise}static get DefaultType(){return nse}static get NAME(){return hO}toggle(){return this._isShown()?this.hide():this.show()}show(){if(yo(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!X.trigger(this._element,Nre,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const i of[].concat(...document.body.children))X.on(i,"mouseover",Zy);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(zu),this._element.classList.add(zu),X.trigger(this._element,Bre,e)}}hide(){!yo(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!X.trigger(this._element,Rre,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))X.off(i,"mouseover",Zy);this._popper&&this._popper.destroy(),this._menu.classList.remove(zu),this._element.classList.remove(zu),this._element.setAttribute("aria-expanded","false"),Aa.removeDataAttribute(this._menu,"popper"),X.trigger(this._element,Fre,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!ba(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${hO.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===es)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:ba(this._config.reference)?e=fo(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=ML(e,this._menu,t)}_isShown(){return this._menu.classList.contains(zu)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return Jre;if(e.classList.contains("dropstart"))return Xre;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?Yre:Kre:t?Zre:Qre}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Aa.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),en(en({},e),On(this._config.popperConfig,[e]))}_selectMenuItem({key:e,target:t}){const i=Pe.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(r=>qu(r));!i.length||BL(i,t,e===pO,!i.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=Ms.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=Pe.find(Ure);for(const i of t){const r=Ms.getInstance(i);if(!r||!1===r._config.autoClose)continue;const a=e.composedPath(),s=a.includes(r._menu);if(a.includes(r._element)||"inside"===r._config.autoClose&&!s||"outside"===r._config.autoClose&&s||r._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const o={relatedTarget:r._element};"click"===e.type&&(o.clickEvent=e),r._completeHide(o)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),i="Escape"===e.key,r=[Ire,pO].includes(e.key);if(!r&&!i||t&&!i)return;e.preventDefault();const a=this.matches(Vl)?this:Pe.prev(this,Vl)[0]||Pe.next(this,Vl)[0]||Pe.findOne(Vl,e.delegateTarget.parentNode),s=Ms.getOrCreateInstance(a);if(r)return e.stopPropagation(),s.show(),void s._selectMenuItem(e);s._isShown()&&(e.stopPropagation(),s.hide(),a.focus())}}X.on(document,gO,Vl,Ms.dataApiKeydownHandler),X.on(document,gO,sv,Ms.dataApiKeydownHandler),X.on(document,mO,Ms.clearMenus),X.on(document,Ore,Ms.clearMenus),X.on(document,mO,Vl,function(n){n.preventDefault(),Ms.getOrCreateInstance(this).toggle()}),kr(Ms);const fO="backdrop",vO=`mousedown.bs.${fO}`,sse={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ase={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class bO extends Mp{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return sse}static get DefaultType(){return ase}static get NAME(){return fO}show(e){if(!this._config.isVisible)return void On(e);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{On(e)})}hide(e){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),On(e)})):On(e)}dispose(){!this._isAppended||(X.off(this._element,vO),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=fo(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),X.on(e,vO,()=>{On(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){YB(e,this._getElement(),this._config.isAnimated)}}const av=".bs.focustrap",lse=`focusin${av}`,cse=`keydown.tab${av}`,AO="backward",dse={autofocus:!0,trapElement:null},pse={autofocus:"boolean",trapElement:"element"};class kO extends Mp{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return dse}static get DefaultType(){return pse}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),X.off(document,av),X.on(document,lse,e=>this._handleFocusin(e)),X.on(document,cse,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,X.off(document,av))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const i=Pe.focusableChildren(t);0===i.length?t.focus():this._lastTabNavDirection===AO?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?AO:"forward")}}const SO=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",PO=".sticky-top",ov="padding-right",wO="margin-right";class zL{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ov,t=>t+e),this._setElementAttributes(SO,ov,t=>t+e),this._setElementAttributes(PO,wO,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ov),this._resetElementAttributes(SO,ov),this._resetElementAttributes(PO,wO)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){const r=this.getWidth();this._applyManipulationCallback(e,s=>{if(s!==this._element&&window.innerWidth>s.clientWidth+r)return;this._saveInitialAttribute(s,t);const o=window.getComputedStyle(s).getPropertyValue(t);s.style.setProperty(t,`${i(Number.parseFloat(o))}px`)})}_saveInitialAttribute(e,t){const i=e.style.getPropertyValue(t);i&&Aa.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,r=>{const a=Aa.getDataAttribute(r,t);null!==a?(Aa.removeDataAttribute(r,t),r.style.setProperty(t,a)):r.style.removeProperty(t)})}_applyManipulationCallback(e,t){if(ba(e))t(e);else for(const i of Pe.find(e,this._element))t(i)}}const Sr=".bs.modal",yse=`hide${Sr}`,vse=`hidePrevented${Sr}`,TO=`hidden${Sr}`,_O=`show${Sr}`,bse=`shown${Sr}`,Ase=`resize${Sr}`,kse=`click.dismiss${Sr}`,Sse=`mousedown.dismiss${Sr}`,Pse=`keydown.dismiss${Sr}`,wse=`click${Sr}.data-api`,CO="modal-open",KL="modal-static",Dse={backdrop:!0,focus:!0,keyboard:!0},Lse={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ul extends Xr{constructor(e,t){super(e,t),this._dialog=Pe.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new zL,this._addEventListeners()}static get Default(){return Dse}static get DefaultType(){return Lse}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||X.trigger(this._element,_O,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(CO),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||X.trigger(this._element,yse).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){X.off(window,Sr),X.off(this._dialog,Sr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new bO({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new kO({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=Pe.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,X.trigger(this._element,bse,{relatedTarget:e})},this._dialog,this._isAnimated())}_addEventListeners(){X.on(this._element,Pse,e=>{if("Escape"===e.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),X.on(window,Ase,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),X.on(this._element,Sse,e=>{X.one(this._element,kse,t=>{if(this._element===e.target&&this._element===t.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(CO),this._resetAdjustments(),this._scrollBar.reset(),X.trigger(this._element,TO)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(X.trigger(this._element,vse).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;"hidden"===i||this._element.classList.contains(KL)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(KL),this._queueCallback(()=>{this._element.classList.remove(KL),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;if(i&&!e){const r=Ar()?"paddingLeft":"paddingRight";this._element.style[r]=`${t}px`}if(!i&&e){const r=Ar()?"paddingRight":"paddingLeft";this._element.style[r]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const i=Ul.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===i[e])throw new TypeError(`No method named "${e}"`);i[e](t)}})}}X.on(document,wse,'[data-bs-toggle="modal"]',function(n){const e=Pe.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),X.one(e,_O,r=>{r.defaultPrevented||X.one(e,TO,()=>{qu(this)&&this.focus()})});const t=Pe.findOne(".modal.show");t&&Ul.getInstance(t).hide(),Ul.getOrCreateInstance(e).toggle(this)}),Jy(Ul),kr(Ul);const ka=".bs.offcanvas",xO=".data-api",Mse=`load${ka}${xO}`,LO="showing",MO=".offcanvas.show",Nse=`show${ka}`,Bse=`shown${ka}`,Ose=`hide${ka}`,RO=`hidePrevented${ka}`,FO=`hidden${ka}`,$se=`resize${ka}`,Hse=`click${ka}${xO}`,Gse=`keydown.dismiss${ka}`,Vse={backdrop:!0,keyboard:!0,scroll:!1},Use={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class bo extends Xr{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Vse}static get DefaultType(){return Use}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||X.trigger(this._element,Nse,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new zL).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(LO),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(LO),X.trigger(this._element,Bse,{relatedTarget:e})},this._element,!0))}hide(){this._isShown&&!X.trigger(this._element,Ose).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new zL).reset(),X.trigger(this._element,FO)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=Boolean(this._config.backdrop);return new bO({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{"static"!==this._config.backdrop?this.hide():X.trigger(this._element,RO)}:null})}_initializeFocusTrap(){return new kO({trapElement:this._element})}_addEventListeners(){X.on(this._element,Gse,e=>{if("Escape"===e.key){if(this._config.keyboard)return void this.hide();X.trigger(this._element,RO)}})}static jQueryInterface(e){return this.each(function(){const t=bo.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}X.on(document,Hse,'[data-bs-toggle="offcanvas"]',function(n){const e=Pe.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),yo(this))return;X.one(e,FO,()=>{qu(this)&&this.focus()});const t=Pe.findOne(MO);t&&t!==e&&bo.getInstance(t).hide(),bo.getOrCreateInstance(e).toggle(this)}),X.on(window,Mse,()=>{for(const n of Pe.find(MO))bo.getOrCreateInstance(n).show()}),X.on(window,$se,()=>{for(const n of Pe.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(n).position&&bo.getOrCreateInstance(n).hide()}),Jy(bo),kr(bo);const NO={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Wse=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),jse=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,zse=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?!Wse.has(t)||Boolean(jse.test(n.nodeValue)):e.filter(i=>i instanceof RegExp).some(i=>i.test(t))},Qse={allowList:NO,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Zse={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Jse={entry:"(string|element|function|null)",selector:"(string|element)"};class Xse extends Mp{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Qse}static get DefaultType(){return Zse}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content=en(en({},this._config.content),e),this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[r,a]of Object.entries(this._config.content))this._setContent(e,a,r);const t=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&t.classList.add(...i.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,i]of Object.entries(e))super._typeCheckConfig({selector:t,entry:i},Jse)}_setContent(e,t,i){const r=Pe.findOne(i,e);if(r){if(!(t=this._resolvePossibleFunction(t)))return void r.remove();if(ba(t))return void this._putElementInTemplate(fo(t),r);if(this._config.html)return void(r.innerHTML=this._maybeSanitize(t));r.textContent=t}}_maybeSanitize(e){return this._config.sanitize?function Kse(n,e,t){if(!n.length)return n;if(t&&"function"==typeof t)return t(n);const r=(new window.DOMParser).parseFromString(n,"text/html"),a=[].concat(...r.body.querySelectorAll("*"));for(const s of a){const o=s.nodeName.toLowerCase();if(!Object.keys(e).includes(o)){s.remove();continue}const l=[].concat(...s.attributes),c=[].concat(e["*"]||[],e[o]||[]);for(const d of l)zse(d,c)||s.removeAttribute(d.nodeName)}return r.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return On(e,[this])}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const tae=new Set(["sanitize","allowList","sanitizeFn"]),YL="fade",lv="show",OO="hide.bs.modal",Op="hover",QL="focus",fae={AUTO:"auto",TOP:"top",RIGHT:Ar()?"left":"right",BOTTOM:"bottom",LEFT:Ar()?"right":"left"},yae={allowList:NO,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},vae={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ku extends Xr{constructor(e,t){if(void 0===es)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return yae}static get DefaultType(){return vae}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),X.off(this._element.closest(".modal"),OO,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=X.trigger(this._element,this.constructor.eventName("show")),i=(zB(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!i)return;this._disposePopper();const r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));const{container:a}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(a.append(r),X.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(r),r.classList.add(lv),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))X.on(o,"mouseover",Zy);this._queueCallback(()=>{X.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!X.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(lv),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))X.off(r,"mouseover",Zy);this._activeTrigger.click=!1,this._activeTrigger[QL]=!1,this._activeTrigger[Op]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),X.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(YL,lv),t.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(n=>{do{n+=Math.floor(1e6*Math.random())}while(document.getElementById(n));return n})(this.constructor.NAME).toString();return t.setAttribute("id",i),this._isAnimated()&&t.classList.add(YL),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Xse(Uv(en({},this._config),{content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(YL)}_isShown(){return this.tip&&this.tip.classList.contains(lv)}_createPopper(e){const t=On(this._config.placement,[this,e,this._element]),i=fae[t.toUpperCase()];return ML(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return On(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return en(en({},t),On(this._config.popperConfig,[t]))}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)X.on(this._element,this.constructor.eventName("click"),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if("manual"!==t){const i=this.constructor.eventName(t===Op?"mouseenter":"focusin"),r=this.constructor.eventName(t===Op?"mouseleave":"focusout");X.on(this._element,i,this._config.selector,a=>{const s=this._initializeOnDelegatedTarget(a);s._activeTrigger["focusin"===a.type?QL:Op]=!0,s._enter()}),X.on(this._element,r,this._config.selector,a=>{const s=this._initializeOnDelegatedTarget(a);s._activeTrigger["focusout"===a.type?QL:Op]=s._element.contains(a.relatedTarget),s._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},X.on(this._element.closest(".modal"),OO,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");!e||(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=Aa.getDataAttributes(this._element);for(const i of Object.keys(t))tae.has(i)&&delete t[i];return e=en(en({},t),"object"==typeof e&&e?e:{}),e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:fo(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,i]of Object.entries(this._config))this.constructor.Default[t]!==i&&(e[t]=i);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=Ku.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}}kr(Ku);const Sae=Uv(en({},Ku.Default),{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),Pae=Uv(en({},Ku.DefaultType),{content:"(null|string|element|function)"});class ZL extends Ku{static get Default(){return Sae}static get DefaultType(){return Pae}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=ZL.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}}kr(ZL);const JL=".bs.scrollspy",_ae=`activate${JL}`,$O=`click${JL}`,Cae=`load${JL}.data-api`,Yu="active",XL="[href]",HO=".nav-link",Lae=`${HO}, .nav-item > ${HO}, .list-group-item`,Rae={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Fae={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class cv extends Xr{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Rae}static get DefaultType(){return Fae}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=fo(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){!this._config.smoothScroll||(X.off(this._config.target,$O),X.on(this._config.target,$O,XL,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const i=this._rootElement||window,r=t.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:r,behavior:"smooth"});i.scrollTop=r}}))}_getNewObserver(){return new IntersectionObserver(t=>this._observerCallback(t),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(e){const t=s=>this._targetLinks.get(`#${s.target.id}`),i=s=>{this._previousScrollData.visibleEntryTop=s.target.offsetTop,this._process(t(s))},r=(this._rootElement||document.documentElement).scrollTop,a=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(const s of e){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(s));continue}const o=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(a&&o){if(i(s),!r)return}else!a&&!o&&i(s)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Pe.find(XL,this._config.target);for(const t of e){if(!t.hash||yo(t))continue;const i=Pe.findOne(decodeURI(t.hash),this._element);qu(i)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,i))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Yu),this._activateParents(e),X.trigger(this._element,_ae,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))Pe.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(Yu);else for(const t of Pe.parents(e,".nav, .list-group"))for(const i of Pe.prev(t,Lae))i.classList.add(Yu)}_clearActiveClass(e){e.classList.remove(Yu);const t=Pe.find(`${XL}.${Yu}`,e);for(const i of t)i.classList.remove(Yu)}static jQueryInterface(e){return this.each(function(){const t=cv.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}X.on(window,Cae,()=>{for(const n of Pe.find('[data-bs-spy="scroll"]'))cv.getOrCreateInstance(n)}),kr(cv);const Wl=".bs.tab",Bae=`hide${Wl}`,Oae=`hidden${Wl}`,$ae=`show${Wl}`,Hae=`shown${Wl}`,Gae=`click${Wl}`,qae=`keydown${Wl}`,Vae=`load${Wl}`,Uae="ArrowLeft",GO="ArrowRight",Wae="ArrowUp",qO="ArrowDown",e2="Home",VO="End",jl="active",t2="show",n2=":not(.dropdown-toggle)",WO='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',r2=`.nav-link${n2}, .list-group-item${n2}, [role="tab"]${n2}, ${WO}`,Jae=`.${jl}[data-bs-toggle="tab"], .${jl}[data-bs-toggle="pill"], .${jl}[data-bs-toggle="list"]`;class Qu extends Xr{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),X.on(this._element,qae,t=>this._keydown(t)))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),i=t?X.trigger(t,Bae,{relatedTarget:e}):null;X.trigger(e,$ae,{relatedTarget:t}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(jl),this._activate(Pe.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),X.trigger(e,Hae,{relatedTarget:t})):e.classList.add(t2)},e,e.classList.contains("fade")))}_deactivate(e,t){e&&(e.classList.remove(jl),e.blur(),this._deactivate(Pe.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),X.trigger(e,Oae,{relatedTarget:t})):e.classList.remove(t2)},e,e.classList.contains("fade")))}_keydown(e){if(![Uae,GO,Wae,qO,e2,VO].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(r=>!yo(r));let i;if([e2,VO].includes(e.key))i=t[e.key===e2?0:t.length-1];else{const r=[GO,qO].includes(e.key);i=BL(t,e.target,r,!0)}i&&(i.focus({preventScroll:!0}),Qu.getOrCreateInstance(i).show())}_getChildren(){return Pe.find(r2,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const i of t)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",t),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=Pe.getElementFromSelector(e);!t||(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const i=this._getOuterElement(e);if(!i.classList.contains("dropdown"))return;const r=(a,s)=>{const o=Pe.findOne(a,i);o&&o.classList.toggle(s,t)};r(".dropdown-toggle",jl),r(".dropdown-menu",t2),i.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,i){e.hasAttribute(t)||e.setAttribute(t,i)}_elemIsActive(e){return e.classList.contains(jl)}_getInnerElement(e){return e.matches(r2)?e:Pe.findOne(r2,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each(function(){const t=Qu.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}X.on(document,Gae,WO,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!yo(this)&&Qu.getOrCreateInstance(this).show()}),X.on(window,Vae,()=>{for(const n of Pe.find(Jae))Qu.getOrCreateInstance(n)}),kr(Qu);const Ao=".bs.toast",eoe=`mouseover${Ao}`,toe=`mouseout${Ao}`,ioe=`focusin${Ao}`,noe=`focusout${Ao}`,roe=`hide${Ao}`,soe=`hidden${Ao}`,aoe=`show${Ao}`,ooe=`shown${Ao}`,uv="show",hv="showing",coe={animation:"boolean",autohide:"boolean",delay:"number"},uoe={animation:!0,autohide:!0,delay:5e3};class dv extends Xr{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return uoe}static get DefaultType(){return coe}static get NAME(){return"toast"}show(){X.trigger(this._element,aoe).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(uv,hv),this._queueCallback(()=>{this._element.classList.remove(hv),X.trigger(this._element,ooe),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!X.trigger(this._element,roe).defaultPrevented&&(this._element.classList.add(hv),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(hv,uv),X.trigger(this._element,soe)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(uv),super.dispose()}isShown(){return this._element.classList.contains(uv)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){X.on(this._element,eoe,e=>this._onInteraction(e,!0)),X.on(this._element,toe,e=>this._onInteraction(e,!1)),X.on(this._element,ioe,e=>this._onInteraction(e,!0)),X.on(this._element,noe,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=dv.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}})}}let s2;Jy(dv),kr(dv);try{s2="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){s2=!1}let $p,a2,zO=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function f8(n){return n===L3}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!s2)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(te(Xf))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Hp(n){return function hoe(){if(null==$p&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>$p=!0}))}finally{$p=$p||!1}return $p}()?n:!!n.capture}function YO(n){if(function doe(){if(null==a2){const n="undefined"!=typeof document?document.head:null;a2=!(!n||!n.createShadowRoot&&!n.attachShadow)}return a2}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function mv(n){return n.composedPath?n.composedPath()[0]:n.target}function Ju(n){return null!=n&&"false"!=`${n}`}function QO(n,e=0){return function poe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function $n(n){return n instanceof An?n.nativeElement:n}class Doe extends Xe{constructor(e,t){super()}schedule(e,t=0){return this}}class o2 extends Doe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,i=0){return setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(a){i=!0,r=!!a&&a||new Error(a)}if(i)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,i=t.actions,r=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&i.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let e$=(()=>{class n{constructor(t,i=n.now){this.SchedulerAction=t,this.now=i}schedule(t,i=0,r){return new this.SchedulerAction(this,t).schedule(r,i)}}return n.now=()=>Date.now(),n})();class Rs extends e${constructor(e,t=e$.now){super(e,()=>Rs.delegate&&Rs.delegate!==this?Rs.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,i){return Rs.delegate&&Rs.delegate!==this?Rs.delegate.schedule(e,t,i):super.schedule(e,t,i)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let i;this.active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const gv=new Rs(o2);function l2(n){return!To(n)&&n-parseFloat(n)+1>=0}function Ioe(n){const{subscriber:e,counter:t,period:i}=n;e.next(t),this.schedule({subscriber:e,counter:t+1,period:i},i)}const t$=new class Roe extends Rs{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let i,r=-1,a=t.length;e=e||t.shift();do{if(i=e.execute(e.state,e.delay))break}while(++r<a&&(e=t.shift()));if(this.active=!1,i){for(;++r<a&&(e=t.shift());)e.unsubscribe();throw i}}}(class Moe extends o2{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});function fv(n){return e=>e.lift(new Foe(n))}class Foe{constructor(e){this.notifier=e}call(e,t){const i=new Noe(e),r=Wi(this.notifier,new Cn(i));return r&&!i.seenValue?(i.add(r),t.subscribe(i)):i}}class Noe extends rc{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function c2(...n){let e=n[n.length-1];return xo(e)?(n.pop(),Ea(n,e)):xa(n)}function i$(...n){return function Boe(){return em(1)}()(c2(...n))}function u2(...n){const e=n[n.length-1];return xo(e)?(n.pop(),t=>i$(n,t,e)):t=>i$(n,t)}const Ooe=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})(),$oe=new at(n=>n.complete());function n$(n){return e=>0===n?function Hoe(n){return n?function Goe(n){return new at(e=>n.schedule(()=>e.complete()))}(n):$oe}():e.lift(new qoe(n))}class qoe{constructor(e){if(this.total=e,this.total<0)throw new Ooe}call(e,t){return t.subscribe(new Voe(e,this.total))}}class Voe extends Jt{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,i=++this.count;i<=t&&(this.destination.next(e),i===t&&(this.destination.complete(),this.unsubscribe()))}}function ko(){}class Woe{constructor(e,t,i){this.nextOrObserver=e,this.error=t,this.complete=i}call(e,t){return t.subscribe(new joe(e,this.nextOrObserver,this.error,this.complete))}}class joe extends Jt{constructor(e,t,i,r){super(e),this._tapNext=ko,this._tapError=ko,this._tapComplete=ko,this._tapError=i||ko,this._tapComplete=r||ko,I(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||ko,this._tapError=t.error||ko,this._tapComplete=t.complete||ko)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}function r$(n,e){return"function"==typeof e?t=>t.pipe(r$((i,r)=>nc(n(i,r)).pipe(er((a,s)=>e(i,a,r,s))))):t=>t.lift(new zoe(n))}class zoe{constructor(e){this.project=e}call(e,t){return t.subscribe(new Koe(e,this.project))}}class Koe extends rc{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const i=new Cn(this),r=this.destination;r.add(i),this.innerSubscription=Wi(e,i),this.innerSubscription!==i&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}function s$(n,e,t,i){return I(t)&&(i=t,t=void 0),i?s$(n,e,t).pipe(er(r=>To(r)?i(...r):i(r))):new at(r=>{a$(n,e,function a(s){r.next(arguments.length>1?Array.prototype.slice.call(arguments):s)},r,t)})}function a$(n,e,t,i,r){let a;if(function Zoe(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const s=n;n.addEventListener(e,t,r),a=()=>s.removeEventListener(e,t,r)}else if(function Qoe(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const s=n;n.on(e,t),a=()=>s.off(e,t)}else if(function Yoe(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const s=n;n.addListener(e,t),a=()=>s.removeListener(e,t)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let s=0,o=n.length;s<o;s++)a$(n[s],e,t,i,r)}i.add(a)}let Joe=1;const Xoe=Promise.resolve(),yv={};function o$(n){return n in yv&&(delete yv[n],!0)}const l$={setImmediate(n){const e=Joe++;return yv[e]=!0,Xoe.then(()=>o$(e)&&n()),e},clearImmediate(n){o$(n)}};new class tle extends Rs{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let i,r=-1,a=t.length;e=e||t.shift();do{if(i=e.execute(e.state,e.delay))break}while(++r<a&&(e=t.shift()));if(this.active=!1,i){for(;++r<a&&(e=t.shift());)e.unsubscribe();throw i}}}(class ele extends o2{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=l$.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(l$.clearImmediate(t),e.scheduled=void 0)}});class rle{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new sle(e,this.durationSelector))}}class sle extends rc{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let t;try{const{durationSelector:r}=this;t=r(e)}catch(r){return this.destination.error(r)}const i=Wi(t,new Cn(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:e,hasValue:t,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function ole(n){const{index:e,period:t,subscriber:i}=n;if(i.next(e),!i.closed){if(-1===t)return i.complete();n.index=e+1,this.schedule(n,t)}}function c$(n,e=gv){return function nle(n){return function(t){return t.lift(new rle(n))}}(()=>function ale(n=0,e,t){let i=-1;return l2(e)?i=Number(e)<1?1:Number(e):xo(e)&&(t=e),xo(t)||(t=gv),new at(r=>{const a=l2(n)?n:+n-t.now();return t.schedule(ole,a,{index:0,period:i,subscriber:r})})}(n,e))}function u$(n,e){return function(i){return i.lift(new lle(n,e))}}class lle{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new cle(e,this.predicate,this.thisArg))}}class cle extends Jt{constructor(e,t,i){super(e),this.predicate=t,this.thisArg=i,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}t&&this.destination.next(e)}}let hle=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Ct,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new at(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(c$(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):c2()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(u$(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=$n(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>s$(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(te(ri),te(zO),te(Pi,8))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ple=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Ct,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(c$(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(te(zO),te(ri),te(Pi,8))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mle=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ri({}),n})();const gle=new Ae("cdk-dir-doc",{providedIn:"root",factory:function fle(){return Nc(Pi)}}),yle=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let h$=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new bt,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function vle(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?yle.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(te(gle,8))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function h2(n,e,t){for(let i in e)if(e.hasOwnProperty(i)){const r=e[i];r?n.setProperty(i,r,(null==t?void 0:t.has(i))?"important":""):n.removeProperty(i)}return n}function Xu(n,e){const t=e?"":"none";h2(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function d$(n,e,t){h2(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function vv(n,e){return e&&"none"!=e?n+" "+e:n}function p$(n){const e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function d2(n,e){return n.getPropertyValue(e).split(",").map(i=>i.trim())}function p2(n){const e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function m2(n,e,t){const{top:i,bottom:r,left:a,right:s}=n;return t>=i&&t<=r&&e>=a&&e<=s}function Gp(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function m$(n,e,t,i){const{top:r,right:a,bottom:s,left:o,width:l,height:c}=n,d=l*e,p=c*e;return i>r-p&&i<s+p&&t>o-d&&t<a+d}class g${constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:p2(t)})})}handleScroll(e){const t=mv(e),i=this.positions.get(t);if(!i)return null;const r=i.scrollPosition;let a,s;if(t===this._document){const c=this.getViewportScrollPosition();a=c.top,s=c.left}else a=t.scrollTop,s=t.scrollLeft;const o=r.top-a,l=r.left-s;return this.positions.forEach((c,d)=>{c.clientRect&&t!==d&&t.contains(d)&&Gp(c.clientRect,o,l)}),r.top=a,r.left=s,{top:o,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function f$(n){const e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();e.removeAttribute("id");for(let r=0;r<t.length;r++)t[r].removeAttribute("id");return"canvas"===i?b$(n,e):("input"===i||"select"===i||"textarea"===i)&&v$(n,e),y$("canvas",n,e,b$),y$("input, textarea, select",n,e,v$),e}function y$(n,e,t,i){const r=e.querySelectorAll(n);if(r.length){const a=t.querySelectorAll(n);for(let s=0;s<r.length;s++)i(r[s],a[s])}}let Ale=0;function v$(n,e){"file"!==e.type&&(e.value=n.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${Ale++}`)}function b$(n,e){const t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch(i){}}const A$=Hp({passive:!0}),bv=Hp({passive:!1}),g2=new Set(["position"]);class Sle{constructor(e,t,i,r,a,s){this._config=t,this._document=i,this._ngZone=r,this._viewportRuler=a,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Ct,this._pointerMoveSubscription=Xe.EMPTY,this._pointerUpSubscription=Xe.EMPTY,this._scrollSubscription=Xe.EMPTY,this._resizeSubscription=Xe.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Ct,this.started=new Ct,this.released=new Ct,this.ended=new Ct,this.entered=new Ct,this.exited=new Ct,this.dropped=new Ct,this.moved=this._moveEvents,this._pointerDown=o=>{if(this.beforeStarted.next(),this._handles.length){const l=this._getTargetHandle(o);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,o)}else this.disabled||this._initializeDragSequence(this._rootElement,o)},this._pointerMove=o=>{const l=this._getPointerPositionOnPage(o);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const k=Date.now()>=this._dragStartTime+this._getDragStartDelay(o),T=this._dropContainer;if(!k)return void this._endDragSequence(o);(!T||!T.isDragging()&&!T.isReceiving())&&(o.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(o)))}return}o.preventDefault();const c=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(c),this._dropContainer)this._updateActiveDropContainer(c,l);else{const d=this._activeTransform;d.x=c.x-this._pickupPositionOnPage.x+this._passiveTransform.x,d.y=c.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(d.x,d.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:c,event:o,distance:this._getDragDistance(c),delta:this._pointerDirectionDelta})})},this._pointerUp=o=>{this._endDragSequence(o)},this._nativeDragStart=o=>{if(this._handles.length){const l=this._getTargetHandle(o);l&&!this._disabledHandles.has(l)&&!this.disabled&&o.preventDefault()}else this.disabled||o.preventDefault()},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new g$(i),s.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=Ju(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(i=>Xu(i,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(i=>$n(i)),this._handles.forEach(i=>Xu(i,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=$n(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,bv),t.addEventListener("touchstart",this._pointerDown,A$),t.addEventListener("dragstart",this._nativeDragStart,bv)}),this._initialTransform=void 0,this._rootElement=t),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?$n(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){var e,t;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(e=this._rootElement)||void 0===e||e.remove()),null===(t=this._anchor)||void 0===t||t.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),Xu(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),Xu(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var e,t;null===(e=this._preview)||void 0===e||e.remove(),null===(t=this._previewRef)||void 0===t||t.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var e,t;null===(e=this._placeholder)||void 0===e||e.remove(),null===(t=this._placeholderRef)||void 0===t||t.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){qp(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const i=this._rootElement,r=i.parentNode,a=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment(""),o=this._getShadowRoot();r.insertBefore(s,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),d$(i,!1,g2),this._document.body.appendChild(r.replaceChild(a,i)),this._getPreviewInsertionPoint(r,o).appendChild(this._preview),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const i=this.isDragging(),r=qp(t),a=!r&&0!==t.button,s=this._rootElement,o=mv(t),l=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),c=r?function Eoe(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(t):function Coe(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(t);if(o&&o.draggable&&"mousedown"===t.type&&t.preventDefault(),i||a||l||c)return;if(this._handles.length){const g=s.style;this._rootElementTapHighlight=g.webkitTapHighlightColor||"",g.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(g=>this._updateOnScroll(g)),this._boundaryElement&&(this._boundaryRect=p2(this._boundaryElement));const d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);const p=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:p.x,y:p.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){d$(this._rootElement,!0,g2),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,i=t.getItemIndex(this),r=this._getPointerPositionOnPage(e),a=this._getDragDistance(r),s=t._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:a,dropPoint:r}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:a,dropPoint:r}),t.drop(this,i,this._initialIndex,this._initialContainer,s,a,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:i,y:r}){let a=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!a&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(a=this._initialContainer),a&&a!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=a,this._dropContainer.enter(this,e,t,a===this._initialContainer&&a.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:a,currentIndex:a.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,i=e?e.template:null;let r;if(i&&e){const a=e.matchSize?this._rootElement.getBoundingClientRect():null,s=e.viewContainer.createEmbeddedView(i,e.context);s.detectChanges(),r=S$(s,this._document),this._previewRef=s,e.matchSize?P$(r,a):r.style.transform=Av(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const a=this._rootElement;r=f$(a),P$(r,a.getBoundingClientRect()),this._initialTransform&&(r.style.transform=this._initialTransform)}return h2(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},g2),Xu(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(a=>r.classList.add(a)):r.classList.add(t)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function ble(n){const e=getComputedStyle(n),t=d2(e,"transition-property"),i=t.find(o=>"transform"===o||"all"===o);if(!i)return 0;const r=t.indexOf(i),a=d2(e,"transition-duration"),s=d2(e,"transition-delay");return p$(a[r])+p$(s[r])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=s=>{var o;(!s||mv(s)===this._preview&&"transform"===s.propertyName)&&(null===(o=this._preview)||void 0===o||o.removeEventListener("transitionend",r),i(),clearTimeout(a))},a=setTimeout(r,1.5*t);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let i;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),i=S$(this._placeholderRef,this._document)):i=f$(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(e,t){const i=this._rootElement.getBoundingClientRect(),r=e===this._rootElement?null:e,a=r?r.getBoundingClientRect():i,s=qp(t)?t.targetTouches[0]:t,o=this._getViewportScrollPosition();return{x:a.left-i.left+(s.pageX-a.left-o.left),y:a.top-i.top+(s.pageY-a.top-o.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),i=qp(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,r=i.pageX-t.left,a=i.pageY-t.top;if(this._ownerSVGElement){const s=this._ownerSVGElement.getScreenCTM();if(s){const o=this._ownerSVGElement.createSVGPoint();return o.x=r,o.y=a,o.matrixTransform(s.inverse())}}return{x:r,y:a}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(e,this):e;if("x"===this.lockAxis||"x"===t?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:a,y:s}=this._pickupPositionInElement,o=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),d=o.top+s,p=o.bottom-(c-s);i=k$(i,o.left+a,o.right-(l-a)),r=k$(r,d,p)}return{x:i,y:r}}_updatePointerDirectionDelta(e){const{x:t,y:i}=e,r=this._pointerDirectionDelta,a=this._pointerPositionAtLastDirectionChange,s=Math.abs(t-a.x),o=Math.abs(i-a.y);return s>this._config.pointerDirectionChangeThreshold&&(r.x=t>a.x?1:-1,a.x=t),o>this._config.pointerDirectionChangeThreshold&&(r.y=i>a.y?1:-1,a.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Xu(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,bv),e.removeEventListener("touchstart",this._pointerDown,A$),e.removeEventListener("dragstart",this._nativeDragStart,bv)}_applyRootElementTransform(e,t){const i=Av(e,t),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=vv(i,this._initialTransform)}_applyPreviewTransform(e,t){var i;const r=(null===(i=this._previewTemplate)||void 0===i?void 0:i.template)?void 0:this._initialTransform,a=Av(e,t);this._preview.style.transform=vv(a,r)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),r=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===r.width&&0===r.height)return;const a=i.left-r.left,s=r.right-i.right,o=i.top-r.top,l=r.bottom-i.bottom;i.width>r.width?(a>0&&(e+=a),s>0&&(e-=s)):e=0,i.height>r.height?(o>0&&(t+=o),l>0&&(t-=l)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:qp(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const i=mv(e);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Gp(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var e;return(null===(e=this._parentPositions.positions.get(this._document))||void 0===e?void 0:e.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=YO(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const i=this._previewContainer||"global";if("parent"===i)return e;if("global"===i){const r=this._document;return t||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return $n(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}}function Av(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function k$(n,e,t){return Math.max(e,Math.min(t,n))}function qp(n){return"t"===n.type[0]}function S$(n,e){const t=n.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const i=e.createElement("div");return t.forEach(r=>i.appendChild(r)),i}function P$(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=Av(e.left,e.top)}function w$(n,e,t){const i=Vp(e,n.length-1),r=Vp(t,n.length-1);if(i===r)return;const a=n[i],s=r<i?-1:1;for(let o=i;o!==r;o+=s)n[o]=n[o+s];n[r]=a}function Vp(n,e){return Math.max(0,Math.min(e,n))}class Ple{constructor(e,t,i,r,a){this._dragDropRegistry=t,this._ngZone=r,this._viewportRuler=a,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Ct,this.entered=new Ct,this.exited=new Ct,this.dropped=new Ct,this.sorted=new Ct,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Xe.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Ct,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function Loe(n=0,e=gv){return(!l2(n)||n<0)&&(n=0),(!e||"function"!=typeof e.schedule)&&(e=gv),new at(t=>(t.add(e.schedule(Ioe,n,{subscriber:t,counter:0,period:n})),t))}(0,t$).pipe(fv(this._stopScrollTimers)).subscribe(()=>{const s=this._scrollNode,o=this.autoScrollStep;1===this._verticalScrollDirection?s.scrollBy(0,-o):2===this._verticalScrollDirection&&s.scrollBy(0,o),1===this._horizontalScrollDirection?s.scrollBy(-o,0):2===this._horizontalScrollDirection&&s.scrollBy(o,0)})},this.element=$n(e),this._document=i,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new g$(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,i,r){let a;this._draggingStarted(),null==r?(a=this.sortingDisabled?this._draggables.indexOf(e):-1,-1===a&&(a=this._getItemIndexFromPointerPosition(e,t,i))):a=r;const s=this._activeDraggables,o=s.indexOf(e),l=e.getPlaceholderElement();let c=s[a];if(c===e&&(c=s[a+1]),!c&&(null==a||-1===a||a<s.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(c=s[0]),o>-1&&s.splice(o,1),c&&!this._dragDropRegistry.isDragging(c)){const d=c.getRootElement();d.parentElement.insertBefore(l,d),s.splice(a,0,e)}else $n(this.element).appendChild(l),s.push(e);l.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,i,r,a,s,o){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:a,distance:s,dropPoint:o})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(r=>r.isDragging()).every(r=>-1===e.indexOf(r))?this._reset():this._cacheItems()),this}withDirection(e){return this._direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._orientation=e,this}withScrollableParents(e){const t=$n(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,i,r){if(this.sortingDisabled||!this._clientRect||!m$(this._clientRect,.05,t,i))return;const a=this._itemPositions,s=this._getItemIndexFromPointerPosition(e,t,i,r);if(-1===s&&a.length>0)return;const o="horizontal"===this._orientation,l=a.findIndex(L=>L.drag===e),c=a[s],p=c.clientRect,g=l>s?1:-1,k=this._getItemOffsetPx(a[l].clientRect,p,g),T=this._getSiblingOffsetPx(l,a,g),E=a.slice();w$(a,l,s),this.sorted.next({previousIndex:l,currentIndex:s,container:this,item:e}),a.forEach((L,R)=>{if(E[R]===L)return;const x=L.drag===e,G=x?k:T,O=x?e.getPlaceholderElement():L.drag.getRootElement();L.offset+=G,o?(O.style.transform=vv(`translate3d(${Math.round(L.offset)}px, 0, 0)`,L.initialTransform),Gp(L.clientRect,0,G)):(O.style.transform=vv(`translate3d(0, ${Math.round(L.offset)}px, 0)`,L.initialTransform),Gp(L.clientRect,G,0))}),this._previousSwap.overlaps=m2(p,t,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=o?r.x:r.y}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let i,r=0,a=0;if(this._parentPositions.positions.forEach((s,o)=>{o===this._document||!s.clientRect||i||m$(s.clientRect,.05,e,t)&&([r,a]=function wle(n,e,t,i){const r=C$(e,i),a=E$(e,t);let s=0,o=0;if(r){const l=n.scrollTop;1===r?l>0&&(s=1):n.scrollHeight-l>n.clientHeight&&(s=2)}if(a){const l=n.scrollLeft;1===a?l>0&&(o=1):n.scrollWidth-l>n.clientWidth&&(o=2)}return[s,o]}(o,s.clientRect,e,t),(r||a)&&(i=o))}),!r&&!a){const{width:s,height:o}=this._viewportRuler.getViewportSize(),l={width:s,height:o,top:0,right:s,bottom:o,left:0};r=C$(l,t),a=E$(l,e),i=window}i&&(r!==this._verticalScrollDirection||a!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=a,this._scrollNode=i,(r||a)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=$n(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=$n(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_cacheItemPositions(){const e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:p2(i)}}).sort((t,i)=>e?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const e=$n(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{var i;const r=t.getRootElement();if(r){const a=null===(i=this._itemPositions.find(s=>s.drag===t))||void 0===i?void 0:i.initialTransform;r.style.transform=a||""}}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(e,t,i){const r="horizontal"===this._orientation,a=t[e].clientRect,s=t[e+-1*i];let o=a[r?"width":"height"]*i;if(s){const l=r?"left":"top",c=r?"right":"bottom";-1===i?o-=s.clientRect[l]-a[c]:o+=a[l]-s.clientRect[c]}return o}_getItemOffsetPx(e,t,i){const r="horizontal"===this._orientation;let a=r?t.left-e.left:t.top-e.top;return-1===i&&(a+=r?t.width-e.width:t.height-e.height),a}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const s=i[i.length-1].clientRect;return r?e>=s.right:t>=s.bottom}{const s=i[0].clientRect;return r?e<=s.left:t<=s.top}}_getItemIndexFromPointerPosition(e,t,i,r){const a="horizontal"===this._orientation,s=this._itemPositions.findIndex(({drag:o,clientRect:l})=>{if(o===e)return!1;if(r){const c=a?r.x:r.y;if(o===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return a?t>=Math.floor(l.left)&&t<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom)});return-1!==s&&this.sortPredicate(s,e,this)?s:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(e,t){return null!=this._clientRect&&m2(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,i){return this._siblings.find(r=>r._canReceive(e,t,i))}_canReceive(e,t,i){if(!this._clientRect||!m2(this._clientRect,t,i)||!this.enterPredicate(e,this))return!1;const r=this._getShadowRoot().elementFromPoint(t,i);if(!r)return!1;const a=$n(this.element);return r===a||a.contains(r)}_startReceiving(e,t){const i=this._activeSiblings;!i.has(e)&&t.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&(this._itemPositions.forEach(({clientRect:i})=>{Gp(i,t.top,t.left)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=YO($n(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function C$(n,e){const{top:t,bottom:i,height:r}=n,a=.05*r;return e>=t-a&&e<=t+a?1:e>=i-a&&e<=i+a?2:0}function E$(n,e){const{left:t,right:i,width:r}=n,a=.05*r;return e>=t-a&&e<=t+a?1:e>=i-a&&e<=i+a?2:0}const kv=Hp({passive:!1,capture:!0});let Tle=(()=>{class n{constructor(t,i){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new Ct,this.pointerUp=new Ct,this.scroll=new Ct,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,kv)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,kv)}startDragging(t,i){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:a=>this.pointerUp.next(a),options:!0}).set("scroll",{handler:a=>this.scroll.next(a),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:kv}),r||this._globalListeners.set("mousemove",{handler:a=>this.pointerMove.next(a),options:kv}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((a,s)=>{this._document.addEventListener(s,a.handler,a.options)})})}}stopDragging(t){const i=this._activeDragInstances.indexOf(t);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const i=[this.scroll];return t&&t!==this._document&&i.push(new at(r=>this._ngZone.runOutsideAngular(()=>{const s=o=>{this._activeDragInstances.length&&r.next(o)};return t.addEventListener("scroll",s,!0),()=>{t.removeEventListener("scroll",s,!0)}}))),is(...i)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,i)=>{this._document.removeEventListener(i,t.handler,t.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(t){return new(t||n)(te(ri),te(Pi))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _le={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let f2=(()=>{class n{constructor(t,i,r,a){this._document=t,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=a}createDrag(t,i=_le){return new Sle(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Ple(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(t){return new(t||n)(te(Pi),te(ri),te(ple),te(Tle))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const y2=new Ae("CDK_DRAG_PARENT"),x$=new Ae("CdkDropListGroup"),D$=new Ae("CDK_DRAG_CONFIG");let Cle=0;const L$=new Ae("CdkDropList");let Ele=(()=>{class n{constructor(t,i,r,a,s,o,l){this.element=t,this._changeDetectorRef=r,this._scrollDispatcher=a,this._dir=s,this._group=o,this._destroyed=new Ct,this.connectedTo=[],this.id="cdk-drop-list-"+Cle++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new bt,this.entered=new bt,this.exited=new bt,this.sorted=new bt,this._unsortedItems=new Set,this._dropListRef=i.createDropList(t),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(c,d)=>this.enterPredicate(c.data,d.data),this._dropListRef.sortPredicate=(c,d,p)=>this.sortPredicate(c,d.data,p.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),o&&o._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=Ju(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,i)=>t._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=n._dropLists.indexOf(this);t>-1&&n._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(u2(this._dir.value),fv(this._destroyed)).subscribe(i=>t.withDirection(i)),t.beforeStarted.subscribe(()=>{const i=function moe(n){return Array.isArray(n)?n:[n]}(this.connectedTo).map(r=>"string"==typeof r?n._dropLists.find(s=>s.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===i.indexOf(r)&&i.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(a=>a.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=Ju(this.sortingDisabled),t.autoScrollDisabled=Ju(this.autoScrollDisabled),t.autoScrollStep=QO(this.autoScrollStep,2),t.connectedTo(i.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:i,draggingDisabled:r,sortingDisabled:a,listAutoScrollDisabled:s,listOrientation:o}=t;this.disabled=null!=r&&r,this.sortingDisabled=null!=a&&a,this.autoScrollDisabled=null!=s&&s,this.orientation=o||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return n._dropLists=[],n.\u0275fac=function(t){return new(t||n)(U(An),U(f2),U(ey),U(hle),U(h$,8),U(x$,12),U(D$,8))},n.\u0275dir=xe({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,i){2&t&&(jt("id",i.id),so("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[xt([{provide:x$,useValue:void 0},{provide:L$,useExisting:n}])]}),n})();const v2=new Ae("CdkDragHandle");let xle=(()=>{class n{constructor(t,i){this.element=t,this._stateChanges=new Ct,this._disabled=!1,this._parentDrag=i}get disabled(){return this._disabled}set disabled(t){this._disabled=Ju(t),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(t){return new(t||n)(U(An),U(y2,12))},n.\u0275dir=xe({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[xt([{provide:v2,useExisting:n}])]}),n})();const Dle=new Ae("CdkDragPlaceholder"),Lle=new Ae("CdkDragPreview");let Mle=(()=>{class n{constructor(t,i,r,a,s,o,l,c,d,p,g){this.element=t,this.dropContainer=i,this._ngZone=a,this._viewContainerRef=s,this._dir=l,this._changeDetectorRef=d,this._selfHandle=p,this._parentDrag=g,this._destroyed=new Ct,this.started=new bt,this.released=new bt,this.ended=new bt,this.entered=new bt,this.exited=new bt,this.dropped=new bt,this.moved=new at(k=>{const T=this._dragRef.moved.pipe(er(E=>({source:this,pointerPosition:E.pointerPosition,event:E.event,delta:E.delta,distance:E.distance}))).subscribe(k);return()=>{T.unsubscribe()}}),this._dragRef=c.createDrag(t,{dragStartThreshold:o&&null!=o.dragStartThreshold?o.dragStartThreshold:5,pointerDirectionChangeThreshold:o&&null!=o.pointerDirectionChangeThreshold?o.pointerDirectionChangeThreshold:5,zIndex:null==o?void 0:o.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),o&&this._assignDefaults(o),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Ju(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(n$(1),fv(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const i=t.rootElementSelector,r=t.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=n._dragInstances.indexOf(this);t>-1&&n._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var t;const i=this.element.nativeElement;let r=i;this.rootElementSelector&&(r=void 0!==i.closest?i.closest(this.rootElementSelector):null===(t=i.parentElement)||void 0===t?void 0:t.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||i)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):$n(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const i=this._dir,r=this.dragStartDelay,a=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof r&&r?r:QO(r),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(a).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),i&&t.withDirection(i.value)}}),t.beforeStarted.pipe(n$(1)).subscribe(()=>{var i;if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(r.classList.contains("cdk-drag")){t.withParent((null===(i=n._dragInstances.find(a=>a.element.nativeElement===r))||void 0===i?void 0:i._dragRef)||null);break}r=r.parentElement}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint})})}_assignDefaults(t){const{lockAxis:i,dragStartDelay:r,constrainPosition:a,previewClass:s,boundaryElement:o,draggingDisabled:l,rootElementSelector:c,previewContainer:d}=t;this.disabled=null!=l&&l,this.dragStartDelay=r||0,i&&(this.lockAxis=i),a&&(this.constrainPosition=a),s&&(this.previewClass=s),o&&(this.boundaryElement=o),c&&(this.rootElementSelector=c),d&&(this.previewContainer=d)}_setupHandlesListener(){this._handles.changes.pipe(u2(this._handles),function Uoe(n,e,t){return function(r){return r.lift(new Woe(n,e,t))}}(t=>{const i=t.filter(r=>r._parentDrag===this).map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),r$(t=>is(...t.map(i=>i._stateChanges.pipe(u2(i))))),fv(this._destroyed)).subscribe(t=>{const i=this._dragRef,r=t.element.nativeElement;t.disabled?i.disableHandle(r):i.enableHandle(r)})}}return n._dragInstances=[],n.\u0275fac=function(t){return new(t||n)(U(An),U(L$,12),U(Pi),U(ri),U(Kr),U(D$,8),U(h$,8),U(f2),U(ey),U(v2,10),U(y2,12))},n.\u0275dir=xe({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(t,i,r){if(1&t&&(Yf(r,Lle,5),Yf(r,Dle,5),Yf(r,v2,5)),2&t){let a;Eu(a=xu())&&(i._previewTemplate=a.first),Eu(a=xu())&&(i._placeholderTemplate=a.first),Eu(a=xu())&&(i._handles=a)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,i){2&t&&so("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[xt([{provide:y2,useExisting:n}]),rr]}),n})(),Rle=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ri({providers:[f2],imports:[mle]}),n})();class I${}const Sa="*";function Nle(n,e){return{type:7,name:n,definitions:e,options:{}}}function Ble(n,e=null){return{type:4,styles:e,timings:n}}function M$(n,e=null){return{type:2,steps:n,options:e}}function Sv(n){return{type:6,styles:n,offset:null}}function R$(n,e,t){return{type:0,name:n,styles:e,options:t}}function Ole(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function F$(n){Promise.resolve(null).then(n)}class Up{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){F$(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class N${constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?F$(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==a&&this._onFinish()}),s.onDestroy(()=>{++i==a&&this._onDestroy()}),s.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((s,o)=>Math.max(s,o.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}let A2=(()=>{class n{constructor(){this.key="sapData"}getStorage(){return window.localStorage.getItem(this.key),window.localStorage.getItem(this.key)}setFormStorage(t){let i=(0,mi.cloneDeep)(t.value);const r=[...i.playerPets||[],...i.opponentPets||[]];for(const a of r)a&&(delete a.parent,delete a.logService,delete a.abilityService,delete a.gameService,delete a.petService,null!=a.equipment&&(a.equipment={name:a.equipment.name}));this.setStorage(i)}setStorage(t){"object"==typeof t&&(t=JSON.stringify(t)),window.localStorage.setItem(this.key,t)}clearStorage(){window.localStorage.removeItem(this.key)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $le={pP:"playerPack",oP:"opponentPack",pT:"playerToy",pTL:"playerToyLevel",oT:"opponentToy",oTL:"opponentToyLevel",t:"turn",pGS:"playerGoldSpent",oGS:"opponentGoldSpent",pRA:"playerRollAmount",oRA:"opponentRollAmount",pSA:"playerSummonedAmount",oSA:"opponentSummonedAmount",pL3:"playerLevel3Sold",oL3:"opponentLevel3Sold",p:"playerPets",o:"opponentPets",an:"angler",ap:"allPets",lf:"logFilter",fs:"fontSize",cp:"customPacks",os:"oldStork",tp:"tokenPets",ks:"komodoShuffle",m:"mana",tc:"triggersConsumed",sa:"showAdvanced",ae:"ailmentEquipment",pTA:"playerTransformationAmount",oTA:"opponentTransformationAmount",n:"name",a:"attack",h:"health",e:"exp",eq:"equipment",bSP:"belugaSwallowedPet",tH:"timesHurt"};function k2(n){if(Array.isArray(n))return n.map(e=>k2(e));if(null!==n&&"object"==typeof n){const e={};for(const t in n)e[$le[t]||t]=k2(n[t]);return e}return n}let Hle=(()=>{class n{parseCalculatorStateFromUrl(){const i=new URLSearchParams(window.location.search).get("c");if(!i)return{state:null};try{const r=decodeURIComponent(i);let a;if(r.trim().startsWith("{"))a=JSON.parse(r);else{const o=atob(i),l=decodeURIComponent(o);a=JSON.parse(l)}return{state:k2(a)}}catch(r){return{state:null,error:"Failed to parse calculator state from URL."}}}parseApiStateFromUrl(){const i=new URLSearchParams(window.location.search).get("code");if(!i)return{state:null};try{return{state:JSON.parse(decodeURIComponent(i))}}catch(r){return{state:null,error:"Error parsing API data from URL."}}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gle=(()=>{class n{constructor(t){this.gameService=t}applyCalculatorState(t,i,r,a){const s=this.getDefaultState(),o=Object.assign(Object.assign({},s),i);t.patchValue(o,{emitEvent:!1});const l=null==i?void 0:i.customPacks;i&&(i.customPacks=[]),this.loadCustomPacks(t,l),t.patchValue(i,{emitEvent:!1}),a&&setTimeout(()=>a()),this.gameService.gameApi.oldStork=t.get("oldStork").value,this.gameService.gameApi.komodoShuffle=t.get("komodoShuffle").value,this.gameService.gameApi.mana=t.get("mana").value,this.gameService.gameApi.playerRollAmount=t.get("playerRollAmount").value,this.gameService.gameApi.opponentRollAmount=t.get("opponentRollAmount").value,this.gameService.gameApi.playerLevel3Sold=t.get("playerLevel3Sold").value,this.gameService.gameApi.opponentLevel3Sold=t.get("opponentLevel3Sold").value,this.gameService.gameApi.playerSummonedAmount=t.get("playerSummonedAmount").value,this.gameService.gameApi.opponentSummonedAmount=t.get("opponentSummonedAmount").value,this.gameService.gameApi.playerTransformationAmount=t.get("playerTransformationAmount").value,this.gameService.gameApi.opponentTransformationAmount=t.get("opponentTransformationAmount").value,this.gameService.gameApi.day=r,this.gameService.gameApi.turnNumber=t.get("turn").value}loadCustomPacks(t,i){const r=t.get("customPacks");r.clear();const a=Array.isArray(i)?i:[];for(const s of a){const o=TU(s);r.push(o)}}getDefaultState(){return{playerPack:"Turtle",opponentPack:"Turtle",playerToy:null,playerToyLevel:"1",opponentToy:null,opponentToyLevel:"1",turn:11,playerGoldSpent:10,opponentGoldSpent:10,playerRollAmount:4,opponentRollAmount:4,playerSummonedAmount:0,opponentSummonedAmount:0,playerTransformationAmount:0,opponentTransformationAmount:0,playerLevel3Sold:0,opponentLevel3Sold:0,playerPets:Array(5).fill(null),opponentPets:Array(5).fill(null),angler:!1,allPets:!1,logFilter:null,fontSize:13,customPacks:[],oldStork:!1,tokenPets:!1,komodoShuffle:!1,mana:!1,showAdvanced:!1,ailmentEquipment:!1}}}return n.\u0275fac=function(t){return new(t||n)(te(fa))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class qle{constructor(e,t,i,r,a,s){this.logService=e,this.gameService=t,this.abilityService=i,this.petService=r,this.equipmentService=a,this.toyService=s,this.battleStarted=!1,this.turns=0,this.maxTurns=71,this.battles=[],this.playerWinner=0,this.opponentWinner=0,this.draw=0,this.player=new Ny(e,i,t),this.opponent=new Ny(e,i,t),this.opponent.isOpponent=!0,this.gameService.init(this.player,this.opponent)}run(e){const t=e.simulationCount||1e3;this.resetSimulation(),this.setupGameEnvironment(e);for(let i=0;i<t;i++)this.initBattle(e),this.prepareBattle(e),this.executeBattleLoop(),this.reset();return{playerWins:this.playerWinner,opponentWins:this.opponentWinner,draws:this.draw,battles:this.battles}}resetSimulation(){this.playerWinner=0,this.opponentWinner=0,this.draw=0,this.battles=[],this.currBattle=null}setupGameEnvironment(e){var t,i,r,a,s,o,l,c,d;let p=1;e.turn>2&&(p=2),e.turn>4&&(p=3),e.turn>6&&(p=4),e.turn>8&&(p=5),e.turn>10&&(p=6),this.gameService.setPreviousShopTier(p),this.gameService.setTurnNumber(e.turn),this.gameService.setGoldSpent(null!==(t=e.playerGoldSpent)&&void 0!==t?t:10,null!==(i=e.opponentGoldSpent)&&void 0!==i?i:10),this.gameService.gameApi.oldStork=null!==(r=e.oldStork)&&void 0!==r&&r,this.gameService.gameApi.komodoShuffle=null!==(a=e.komodoShuffle)&&void 0!==a&&a,this.gameService.gameApi.mana=null!==(s=e.mana)&&void 0!==s&&s,this.gameService.gameApi.playerRollAmount=null!==(o=e.playerRollAmount)&&void 0!==o?o:4,this.gameService.gameApi.opponentRollAmount=null!==(l=e.opponentRollAmount)&&void 0!==l?l:4,this.gameService.gameApi.playerLevel3Sold=null!==(c=e.playerLevel3Sold)&&void 0!==c?c:0,this.gameService.gameApi.opponentLevel3Sold=null!==(d=e.opponentLevel3Sold)&&void 0!==d?d:0,this.player.pack=e.playerPack,this.opponent.pack=e.opponentPack;const g=E=>{switch(E){case"Turtle":return this.petService.turtlePackPets;case"Puppy":return this.petService.puppyPackPets;case"Star":return this.petService.starPackPets;case"Golden":return this.petService.goldenPackPets;case"Unicorn":return this.petService.unicornPackPets;case"Danger":return this.petService.dangerPackPets;default:return this.petService.playerCustomPackPets.get(E)||new Map}},k=g(e.playerPack),T=g(e.opponentPack);this.gameService.setTierGroupPets(k,T)}initBattle(e){var t,i,r,a;this.logService.reset(),this.currBattle={winner:"draw",logs:this.logService.getLogs()},this.battles.push(this.currBattle),this.gameService.gameApi.opponentSummonedAmount=null!==(t=e.opponentSummonedAmount)&&void 0!==t?t:0,this.gameService.gameApi.playerSummonedAmount=null!==(i=e.playerSummonedAmount)&&void 0!==i?i:0,this.gameService.gameApi.opponentTransformationAmount=null!==(r=e.opponentTransformationAmount)&&void 0!==r?r:0,this.gameService.gameApi.playerTransformationAmount=null!==(a=e.playerTransformationAmount)&&void 0!==a?a:0}prepareBattle(e){var t,i;this.reset(),this.createPets(this.player,e.playerPets),this.createPets(this.opponent,e.opponentPets),this.applyPreBattleFriendDeathCounts(),e.playerToy?(this.player.toy=this.toyService.createToy(e.playerToy,this.player,null!==(t=e.playerToyLevel)&&void 0!==t?t:1),this.player.originalToy=this.player.toy):(this.player.toy=null,this.player.originalToy=null),e.opponentToy?(this.opponent.toy=this.toyService.createToy(e.opponentToy,this.opponent,null!==(i=e.opponentToyLevel)&&void 0!==i?i:1),this.opponent.originalToy=this.opponent.toy):(this.opponent.toy=null,this.opponent.originalToy=null),this.startBattle(),this.initToys(),this.gameService.gameApi.FirstNonJumpAttackHappened=!1,this.abilityService.initSpecialEndTurnAbility(this.player),this.abilityService.initSpecialEndTurnAbility(this.opponent),this.initializeEquipmentMultipliers(),this.abilityService.triggerBeforeStartOfBattleEvents(),this.abilityService.executeBeforeStartOfBattleEvents(),this.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);this.toyService.executeStartOfBattleEvents(),this.abilityService.triggerStartBattleEvents(),this.abilityService.executeStartBattleEvents(),this.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents)}createPets(e,t){var i,r,a,s,o,l,c,d,p;const g=this.equipmentService.getInstanceOfAllEquipment();for(let k=0;k<5;k++){const T=t[k];if(!T||!T.name)continue;let E=(null===(i=T.equipment)||void 0===i?void 0:i.name)?g.get(T.equipment.name):void 0;if(E&&(E=Object.assign(Object.create(Object.getPrototypeOf(E)),E),null!=T.equipmentUses)){const R=Number(T.equipmentUses),x=Number.isFinite(R)?R:E.uses;null!=x&&(E.uses=x,E.originalUses=x)}const L=this.petService.createPet({name:T.name,attack:null!==(r=T.attack)&&void 0!==r?r:0,health:null!==(a=T.health)&&void 0!==a?a:0,exp:null!==(s=T.exp)&&void 0!==s?s:0,mana:null!==(o=T.mana)&&void 0!==o?o:0,equipment:E,triggersConsumed:null!==(l=T.triggersConsumed)&&void 0!==l?l:0,belugaSwallowedPet:T.belugaSwallowedPet,abominationSwallowedPet1:T.abominationSwallowedPet1,abominationSwallowedPet2:T.abominationSwallowedPet2,abominationSwallowedPet3:T.abominationSwallowedPet3,battlesFought:null!==(c=T.battlesFought)&&void 0!==c?c:0,timesHurt:null!==(d=T.timesHurt)&&void 0!==d?d:0},e);L.friendsDiedBeforeBattle=null!==(p=T.friendsDiedBeforeBattle)&&void 0!==p?p:0,e.setPet(k,L,!0)}}applyPreBattleFriendDeathCounts(){const e=[this.player,this.opponent];for(const t of e)for(const i of t.petArray)(null==i?void 0:i.friendsDiedBeforeBattle)&&this.abilityService.simulateFriendDiedCounters(i,i.friendsDiedBeforeBattle)}executeBattleLoop(){for(;this.battleStarted;)this.nextTurn()}startBattle(){this.reset(),this.battleStarted=!0,this.turns=0}reset(){this.player.resetPets(),this.opponent.resetPets()}nextTurn(){let e=!1,t=null;if(this.turns++,!this.player.alive()&&this.opponent.alive()&&(t=this.opponent,this.currBattle.winner="opponent",this.opponentWinner++,e=!0),!this.opponent.alive()&&this.player.alive()&&(t=this.player,this.currBattle.winner="player",this.playerWinner++,e=!0),this.opponent.alive()||this.player.alive()?this.turns>=this.maxTurns&&(this.draw++,e=!0):(this.draw++,e=!0),e)return this.logService.printState(this.player,this.opponent),this.endLog(t),void(this.battleStarted=!1);for(this.pushPetsForwards(),this.logService.printState(this.player,this.opponent);;){let i=this.player.pet0,r=this.opponent.pet0;this.abilityService.triggerBeforeAttackEvent(this.player.pet0),this.abilityService.triggerBeforeAttackEvent(this.opponent.pet0),this.abilityService.executeBeforeAttackEvents(),this.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);if(!this.player.alive()||!this.opponent.alive())return;if(this.pushPetsForwards(),i&&i.transformed&&(i=i.transformedInto),r&&r.transformed&&(r=r.transformedInto),this.player.pet0==i&&this.opponent.pet0==r)break}this.player.resetJumpedFlags(),this.opponent.resetJumpedFlags(),this.fight(),this.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents)}fight(){let e=this.player.pet0,t=this.opponent.pet0;e.attackPet(t),t.attackPet(e),e.useAttackDefenseEquipment(),t.useAttackDefenseEquipment(),this.gameService.gameApi.FirstNonJumpAttackHappened=!0,this.checkPetsAlive(),this.abilityService.executeAfterAttackEvents()}abilityCycle(){for(this.emptyFrontSpaceCheck();this.abilityService.hasGlobalEvents;){const t=this.abilityService.peekNextHighestPriorityEvent();if(t&&this.abilityService.getPriorityNumber(t.abilityType)>=23&&(this.checkPetsAlive(),this.removeDeadPets())){this.emptyFrontSpaceCheck();continue}const i=this.abilityService.getNextHighestPriorityEvent();if(!i){console.error("AbilityCycle: Expected event from queue but got null. Queue state inconsistent.");break}this.abilityService.executeEventCallback(i),this.checkPetsAlive()}this.removeDeadPets()&&this.emptyFrontSpaceCheck(),this.abilityService.hasGlobalEvents||(this.player.checkGoldenSpawn(),this.opponent.checkGoldenSpawn())}checkPetsAlive(){this.player.checkPetsAlive(),this.opponent.checkPetsAlive()}removeDeadPets(){let e=!1;return e=this.player.removeDeadPets(),e=this.opponent.removeDeadPets()||e,e}emptyFrontSpaceCheck(){if(null==this.player.pet0)this.abilityService.triggerEmptyFrontSpaceEvents(this.player);else for(const e of this.player.petArray)e.clearFrontTriggered=!1;if(null==this.opponent.pet0)this.abilityService.triggerEmptyFrontSpaceEvents(this.opponent);else for(const e of this.opponent.petArray)e.clearFrontTriggered=!1;null==this.player.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.player),null==this.opponent.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.opponent),this.abilityService.executeEmptyFrontSpaceToyEvents()}initToys(){var e,t;(null===(e=this.player.toy)||void 0===e?void 0:e.startOfBattle)&&this.toyService.setStartOfBattleEvent({callback:()=>{this.player.toy.startOfBattle(this.gameService.gameApi);let i=this.player.toy.level;for(let r of this.player.petArray)r instanceof Cp&&(this.player.toy.level=r.level,this.player.toy.startOfBattle(this.gameService.gameApi,!0),this.player.toy.level=i)},priority:this.player.toy.tier,player:this.player}),(null===(t=this.opponent.toy)||void 0===t?void 0:t.startOfBattle)&&this.toyService.setStartOfBattleEvent({callback:()=>{this.opponent.toy.startOfBattle(this.gameService.gameApi);let i=this.opponent.toy.level;for(let r of this.opponent.petArray)r instanceof Cp&&(this.opponent.toy.level=r.level,this.opponent.toy.startOfBattle(this.gameService.gameApi,!0),this.opponent.toy.level=i)},priority:this.opponent.toy.tier,player:this.opponent})}pushPetsForwards(){this.player.pushPetsForward(),this.opponent.pushPetsForward()}endLog(e){let t;t=null==e?"Draw":e==this.player?"Player is the winner":"Opponent is the winner",this.logService.createLog({message:t,type:"board"})}initializeEquipmentMultipliers(){for(let e of this.player.petArray)e.equipment&&e.setEquipmentMultiplier();for(let e of this.opponent.petArray)e.equipment&&e.setEquipmentMultiplier()}}let Vle=(()=>{class n{constructor(t,i,r,a,s,o){this.logService=t,this.gameService=i,this.abilityService=r,this.petService=a,this.equipmentService=s,this.toyService=o}runSimulation(t,i,r,a){const s=this.buildConfig(t,i),l=new qle(this.logService,this.gameService,this.abilityService,this.petService,this.equipmentService,this.toyService).run(s);return this.gameService.init(r,a),l}buildConfig(t,i){return{playerPack:t.get("playerPack").value,opponentPack:t.get("opponentPack").value,playerToy:t.get("playerToy").value,playerToyLevel:t.get("playerToyLevel").value,opponentToy:t.get("opponentToy").value,opponentToyLevel:t.get("opponentToyLevel").value,turn:t.get("turn").value,playerGoldSpent:t.get("playerGoldSpent").value,opponentGoldSpent:t.get("opponentGoldSpent").value,playerRollAmount:this.gameService.gameApi.playerRollAmount,opponentRollAmount:this.gameService.gameApi.opponentRollAmount,playerSummonedAmount:this.gameService.gameApi.playerSummonedAmount,opponentSummonedAmount:this.gameService.gameApi.opponentSummonedAmount,playerLevel3Sold:this.gameService.gameApi.playerLevel3Sold,opponentLevel3Sold:this.gameService.gameApi.opponentLevel3Sold,playerTransformationAmount:this.gameService.gameApi.playerTransformationAmount,opponentTransformationAmount:this.gameService.gameApi.opponentTransformationAmount,playerPets:t.get("playerPets").value,opponentPets:t.get("opponentPets").value,angler:t.get("angler").value,allPets:t.get("allPets").value,oldStork:t.get("oldStork").value,tokenPets:t.get("tokenPets").value,komodoShuffle:t.get("komodoShuffle").value,mana:t.get("mana").value,simulationCount:i}}}return n.\u0275fac=function(t){return new(t||n)(te(Pn),te(fa),te(ya),te(vr),te(Dt),te(Jr))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ule=(()=>{class n{constructor(){this.storageKey="sap-team-presets"}loadTeams(){const t=window.localStorage.getItem(this.storageKey);if(!t)return this.getDefaultTeams();try{const i=JSON.parse(t),r=Array.isArray(i)?i:[];return this.mergeDefaultTeams(r)}catch(i){return this.getDefaultTeams()}}persistTeams(t){window.localStorage.setItem(this.storageKey,JSON.stringify(t))}getDefaultTeams(){return[{id:"default-max-damage",name:"1000 Mana",createdAt:Date.now(),toyName:"Toilet Paper",toyLevel:3,pets:Array.from({length:5},()=>({name:"Sea Serpent",attack:50,health:50,exp:5,equipment:{name:"Coconut"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,battlesFought:0,timesHurt:0,equipmentUses:null}))},{id:"default-great-many",name:"Great Many",createdAt:Date.now(),toyName:"Evil Book",toyLevel:3,pets:Array.from({length:5},()=>({name:"Beluga Whale",attack:50,health:50,exp:5,equipment:{name:"White Okra"},belugaSwallowedPet:"Great One",sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,battlesFought:0,timesHurt:0,equipmentUses:null}))},{id:"default-ability-removal",name:"Ability Removal",createdAt:Date.now(),toyName:"Nutcracker",toyLevel:3,pets:[{name:"Cockatrice",attack:50,health:50,exp:5,equipment:{name:"Coconut"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,battlesFought:0,timesHurt:0,equipmentUses:null},...Array.from({length:3},()=>({name:"Tree Kangaroo",attack:50,health:50,exp:5,equipment:{name:"Coconut"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,battlesFought:0,timesHurt:0,equipmentUses:null})),{name:"Gerenuk",attack:50,health:50,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,battlesFought:0,timesHurt:0,equipmentUses:null}]},{id:"default-sloths",name:"Sloths",createdAt:Date.now(),toyName:null,toyLevel:1,pets:Array.from({length:5},()=>({name:"Sloth",attack:1,health:1,exp:0,equipment:null,belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:0,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,battlesFought:0,timesHurt:0,equipmentUses:null}))}]}mergeDefaultTeams(t){const i=this.getDefaultTeams(),r=new Set(t.map(s=>s.id)),a=[...t];for(const s of i)r.has(s.id)||a.push(s);return a}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wle=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Gn({type:n,selectors:[["app-patch-notes"]],decls:629,vars:0,template:function(t,i){1&t&&(b(0,"h2"),P(1,"v0.9.3"),v(),b(2,"ul")(3,"li"),P(4,"All Custom pets implemented."),v(),b(5,"li"),P(6,"Fixed bug with Amazon River Dolphin and Ammonite."),v()(),b(7,"h2"),P(8,"v0.9.2"),v(),b(9,"ul")(10,"li"),P(11,"Finished adding all the changes in the recent patch"),v(),b(12,"li"),P(13,"Fixed bug with Chameleon Foam Sword not working (Thanks LG)"),v(),b(14,"li"),P(15,"Corrected the trigger order for pet pushed (Thanks Freetz)"),v()(),b(16,"h2"),P(17,"v0.9.1"),v(),b(18,"ul")(19,"li"),P(20,"Fixed misspellings of pets"),v(),b(21,"li"),P(22,"Added templates for custom pets, and equipments"),v()(),b(23,"h2"),P(24,"v0.9.0"),v(),b(25,"ul")(26,"li"),P(27,"Added the changes to p1 and p2 in the recent patch"),v()(),b(28,"h2"),P(29,"v0.8.2"),v(),b(30,"ul")(31,"li"),P(32,"Fixed Bug with Silly Ammonite breaking the calculator (Thanks LG)"),v(),b(33,"li"),P(34,"Fixed Bug with result not being displayed correctly when battle ends in automatic draw after too many attacks and correctly maximum number of attacks. (Thanks Freetz)"),v(),b(35,"li"),P(36,"Fixed Bug Lost Perk abilities not triggering correctly. (Thanks Slop)"),v()(),b(37,"h2"),P(38,"v0.8.1"),v(),b(39,"ul")(40,"li"),P(41,"Fixed Bug with Silly not working on pets that gain trumpets (Thanks gyomber)"),v(),b(42,"li"),P(43,"Fixed Bug with Friend Ahead Faints ability not working (Thanks Freetz)"),v(),b(44,"li"),P(45,"Fixed Bug with Pie effect not applying when a pet transformed before battle. (Thanks Tweej)"),v()(),b(46,"h2"),P(47,"v0.8.0"),v(),b(48,"ul")(49,"li"),P(50,"Updated all pets"),v(),b(51,"li"),P(52,"Fixed bug with Great One triggering twice (Thanks nick_reznee)"),v(),b(53,"li"),P(54,"Fixed bug with Geometric Tortoise's reflection damage capped by health (Thanks gwen)"),v(),b(55,"li"),P(56,"Fixed bug with Iriomote Cat transforming into lvl 2 or 3 pets"),v(),b(57,"li"),P(58,"Fixed bug with Tree Kangaroo giving Silly to pets with perk"),v(),b(59,"li"),P(60,"Fixed bug with Fossa targetting the wrong team (Thanks Freetz)"),v(),b(61,"li"),P(62,"Moved Tandgnost to tier 4 (Thanks gwen)"),v()(),b(63,"h2"),P(64,"v0.7.4"),v(),b(65,"ul")(66,"li"),P(67,"Fixed bug with Chihuahua removing pets when pushing. (Thanks gwen)"),v()(),b(68,"h2"),P(69,"v0.7.3"),v(),b(70,"ul")(71,"li"),P(72,"Updated ability copying, gaining, and acitavtion. Abomination and California Condor work now. Tree Kangaroo is able to activate pets with in-battle abilities."),v(),b(73,"li"),P(74,"Added an option to input triggers consumed for pets."),v()(),b(75,"h2"),P(76,"v0.7.2"),v(),b(77,"ul")(78,"li"),P(79,"Fixed bug with equipment multiplier not resetting"),v()(),b(80,"h2"),P(81,"v0.7.1"),v(),b(82,"ul")(83,"li"),P(84,"Updated all perks, and pets execept Iriomote Cat"),v(),b(85,"li"),P(86,"Fixed bug with Toucan breaking calculator when giving egg. (Thanks Tangl)"),v()(),b(87,"h2"),P(88,"v0.7.0"),v(),b(89,"ul")(90,"li"),P(91,"Updated Abomination swallow options, note that Abomination and California still doesn't work for lots of abilites, especially those with multiple triggers, trigger limit, or special mechanics. Also can't gain multiple abilities with the same trigger"),v(),b(92,"li"),P(93,"Fixed bug with dazed not working, multiple mandrakes dazing same pet, bigfoot not recognised as a faint pet by mandrake, ghost kitten not reducing damage from crisp, chili, skewer, front thunderbird, salmon of knowledge affects themself, cyclops gives mana to itself on friend level, dazed makes mana snipes not go off, levelling a pet from level 1 to level 3 only triggers team spirit once. (Thanks Xrb) "),v(),b(94,"li"),P(95,"Updated most pets in the recent update"),v()(),b(96,"h2"),P(97,"v0.6.19"),v(),b(98,"ul")(99,"li"),P(100,"Fixed bug with Bunyip gaining health after it fainted. (Thanks ProfNinja)"),v(),b(101,"li"),P(102,"Implemented Silly logic in static packs, no acitavtion yet"),v(),b(103,"li"),P(104,"Fixed Bug with Pandoras Box (Thanks Tangl)"),v(),b(105,"li"),P(106,"Fixed Bug with not able to drag and drop sometimes (Thanks Tangl)"),v()(),b(107,"h2"),P(108,"v0.6.18"),v(),b(109,"ul")(110,"li"),P(111,"Fixed bug with 1 attack pet dealing 2 damage to pets with garlic. (Thanks Zoklev)"),v(),b(112,"li"),P(113,"Fixed bug with Octopus sniping same pet twice (Thanks Zoklev)"),v()(),b(114,"h2"),P(115,"v0.6.17"),v(),b(116,"ul")(117,"li"),P(118,"All pets and perks in star pack are updated."),v(),b(119,"li"),P(120,"Updated some star pack pets.(Thanks Tangl)"),v(),b(121,"li"),P(122,"All pets and perks execept Tree Kangaroo is updated"),v(),b(123,"li"),P(124,"Fixed bug with pets not removed correctly(Thanks Zoklev)"),v()(),b(125,"h2"),P(126,"v0.6.16"),v(),b(127,"ul")(128,"li"),P(129,"Updated Unicorn Perks."),v(),b(130,"li"),P(131,"Updated some star pack pets.(Thanks Tangl)"),v(),b(132,"li"),P(133,"Fixed bug with Rooster chicks being death linked"),v(),b(134,"li"),P(135,"Fixed Boar triggering twice"),v(),b(136,"li"),P(137,"Fixed Same Attack trigger not being random"),v(),b(138,"li"),P(139,"Fixed Hippo breaking the calculator"),v(),b(140,"li"),P(141,"Fixed Whale summon"),v(),b(142,"li"),P(143,"Fixed Tiger not working with summon"),v(),b(144,"li"),P(145,"Thanks Freetz for finding all the bugs"),v()(),b(146,"h2"),P(147,"v0.6.15"),v(),b(148,"ul")(149,"li"),P(150,"Updated trigger order"),v(),b(151,"li"),P(152,"Updated Golden pack"),v()(),b(153,"h2"),P(154,"v0.6.14"),v(),b(155,"ul")(156,"li"),P(157,"Fixed Bug with Dodo causing SOB ability triggering again. (Thanks JOEBOBBOBJOE)"),v(),b(158,"li"),P(159,"Fixed Bug with wrong summon place. (Thanks Freetz)"),v(),b(160,"li"),P(161,"Updated pets & perks in Puppy Pack."),v(),b(162,"li"),P(163,"Updated pets in Unicorn Pack. (Thanks Tangl)"),v()(),b(164,"h2"),P(165,"v0.6.13"),v(),b(166,"ul")(167,"li"),P(168,"Updated Deer, Turkey, Whale, and Wolverine."),v(),b(169,"li"),P(170,"Added gain perk trigger for rabbit and seal."),v()(),b(171,"h2"),P(172,"v0.6.12"),v(),b(173,"ul")(174,"li"),P(175,"Fixed bug with Parrot chaining when front Parrot has lower attack. (Thanks jer.re)"),v(),b(176,"li"),P(177,"Fixed bug with level 1 Crab having 0 health when copying health of pet with 1 health. (Thanks Freetz)"),v()(),b(178,"h2"),P(179,"v0.6.11"),v(),b(180,"ul")(181,"li"),P(182,"Fixed bug with spawn perks having unpredictable spawn locations. (Thanks Tangl and Wombat)"),v(),b(183,"li"),P(184,"Fixed bug with Parrot chaining. (Thanks Tangl)"),v(),b(185,"li"),P(186,"Fixed bug with Fig (and probably other perks) not working with Parrot."),v()(),b(187,"h2"),P(188,"v0.6.10"),v(),b(189,"ul")(190,"li"),P(191,"Fixed bug on Import Calculator where importing an empty slot would cause pets from previous calculator to persist. (Thanks jer.re and Freetz)"),v(),b(192,"li"),P(193,"Fixed Pandoras Box"),v(),b(194,"ul")(195,"li"),P(196,"Removed perks available according to here: https://superautopets.wiki.gg/wiki/Pandoras_Box"),v(),b(197,"li"),P(198,"Pandoras Box has a 50% chance to give an ailment. If this is incorrect direct hate towards Cheese from SAP Dojo."),v()()(),b(199,"h2"),P(200,"v0.6.9"),v(),b(201,"ul")(202,"li"),P(203,"Fixed more tiger interactions breaking calculator. (Thanks tibby)"),v()(),b(204,"h2"),P(205,"v0.6.8"),v(),b(206,"ul")(207,"li"),P(208,"Added Export Calculator modal."),v(),b(209,"li"),P(210,"Fixed bug with Dodo not changing Start of Battle priorities in battle. (Thanks Plkess and CrocsAreNice)"),v(),b(211,"li"),P(212,"Fixed bug with Armadillo not giving itself health."),v(),b(213,"li"),P(214,"Fixed Salmon of Knowledge giving itself experience. (Thanks Wombat)"),v(),b(215,"li"),P(216,"Added Unicorn Pack to custom pack editor. (Thanks Rake News)"),v(),b(217,"li"),P(218,"Changed priorty order of knock out and pet ahead faints abilities - fixes Rhino/Ox interaction. (Thanks Mazl0w) "),v()(),b(219,"h2"),P(220,"v0.6.7"),v(),b(221,"ul")(222,"li"),P(223,"Fixed bug with Tiger sometimes using the wrong level. (Thanks hop)"),v()(),b(224,"h2"),P(225,"v0.6.6"),v(),b(226,"ul")(227,"li"),P(228,"Fixed bug with parrot. (Thanks hop)"),v(),b(229,"li"),P(230,"Fixed bug with Crisp always doing 6 damage. (Thanks Kutarba)"),v()(),b(231,"h2"),P(232,"v0.6.5"),v(),b(233,"ul")(234,"li"),P(235,"Fixed Anubis feint abilities happening before other start of battle abilities. (Thanks Grounded)"),v(),b(236,"li"),P(237,"Fixed Roc. (Thanks Grounded)"),v(),b(238,"li"),P(239,"Fixed mana snipe going off after Kitsune removes the mana. (Thanks Grounded)"),v(),b(240,"li"),P(241,"Fixed Manticore ability not going off if it feints. (Thanks goose)"),v(),b(242,"li"),P(243,"Fixed issue with Calygreyhound and there being only one pet left. (Thanks MAi.k)"),v(),b(244,"li"),P(245,"Fixed issue with Slepnir not targeting correctly. (Thanks goose)"),v(),b(246,"li"),P(247,"Max mana is now 50. (Thanks goose)"),v(),b(248,"li"),P(249,"Fixed potato."),v(),b(250,"li"),P(251,"Fixed issue with Pteradon not summoning behind itself in some cases."),v(),b(252,"li"),P(253,"Fixed Snake + Tiger bug. (Thanks mumf)"),v()(),b(254,"h2"),P(255,"v0.6.4"),v(),b(256,"ul")(257,"li"),P(258,"Fixed order of Friend Faints events so that it triggers after friendly units are summoned. (Thanks Grounded) "),v(),b(259,"li"),P(260,"Fixed calculator simulating only once. \u{1f926}\u200d\u2642\ufe0f"),v()(),b(261,"h2"),P(262,"v0.6.3"),v(),b(263,"ul")(264,"li"),P(265,"Added Yggdrasil Fruit (Thanks Vuenc)"),v(),b(266,"li"),P(267,"Fixed issue with some pets when spawned having mana. (Thanks Grounded)"),v()(),b(268,"h2"),P(269,"v0.6.2"),v(),b(270,"ul")(271,"li"),P(272,"Fixed Monty's base stats. (Thanks goose)"),v(),b(273,"li"),P(274,"Fixed Visitor's (and Bear's) ability not targeting ahead friendly units. (Thanks goose)"),v(),b(275,"li"),P(276,"Fixed bug where Tiger fainting before Start of Battle abilities did not triger the Tiger's ability. (Thanks goose)"),v(),b(277,"li"),P(278,"Fixed bug with certain pets having Donut breaking the calculator. (Thanks Freetz)"),v(),b(279,"li"),P(280,"Fixed Manticore not working with Crips. (Thanks Freetz)"),v(),b(281,"li"),P(282,"Added 'Ailment Equipment' mode."),v()(),b(283,"h2"),P(284,"v0.6.1"),v(),b(285,"ul")(286,"li"),P(287,"Fixed Roc not targeting Donut pets. (Thanks mewi3977)"),v(),b(288,"li"),P(289,"Updated to SAP Version 0.33.3-151 BETA"),v(),b(290,"ul")(291,"li"),P(292,"Changed Chimera, Nessie, Axehandle Hound, Unicorn, Vampire Bat, Warf, Barghest, Cyclops, Mana Hound, Loveland Frogman, Jersey Devil, Tigerbug, Bigfoot, Calygreyhound, Gargoyle, Ghost Kitten, Jackalope, Minotaur, Worm of Sand, Werewolf, Lucky Cat, Ogopogo. "),v(),b(293,"li"),P(294,"Added Spooked"),v(),b(295,"li"),P(296,"Minotaur stacks."),v()(),b(297,"li"),P(298,"Added Weak as an equipment option."),v(),b(299,"li"),P(300,"Import pack works with Unicorn pets."),v()(),b(301,"h2"),P(302,"v0.6.0"),v(),b(303,"ul")(304,"li"),P(305,"Unicorn Pack \u{1f389}"),v(),b(306,"li"),P(307,"Updated Info/Guide"),v()(),b(308,"h2"),P(309,"v0.5.27"),v(),b(310,"ul")(311,"li"),P(312,"Fixed bug with Camel's ability logs showing incorrect values."),v()(),b(313,"h2"),P(314,"v0.5.26"),v(),b(315,"ul")(316,"li"),P(317,"Fixed bugs with drag and drop. (Thanks Agentcore)"),v()(),b(318,"h2"),P(319,"v0.5.25"),v(),b(320,"ul")(321,"li"),P(322,"Fixed some import bugs."),v()(),b(323,"h2"),P(324,"v0.5.24"),v(),b(325,"ul")(326,"li"),P(327,"Fixed bug with Custom Pack dialog not opening."),v()(),b(328,"h2"),P(329,"v0.5.23"),v(),b(330,"ul")(331,"li"),P(332,"Fixed bug with importing empty pet slots."),v(),b(333,"li"),P(334,"Fixed bug with pets that Tapir summon being disjointed from its' parent player. (Thanks goose)"),v()(),b(335,"h2"),P(336,"v0.5.22"),v(),b(337,"ul")(338,"li"),P(339,"Fixed Pigeon base stats. (Thanks goose)"),v(),b(340,"li"),P(341,"Fixed Crab copying highest health pets stats even after fainting from other start of battle abilities. (Thanks Phoenix)"),v()(),b(342,"h2"),P(343,"v0.5.21"),v(),b(344,"ul")(345,"li"),P(346,"Fixed a few Panther/equipment interactions."),v(),b(347,"ul")(348,"li"),P(349,"Tomato (Thanks jer.re), Salt, Cheese, Durian, Egg."),v()()(),b(350,"h2"),P(351,"v0.5.20"),v(),b(352,"ul")(353,"li"),P(354,"Added Komodo Shuffle option."),v()(),b(355,"h2"),P(356,"v0.5.19"),v(),b(357,"ul")(358,"li"),P(359,"Removed Beluga Whale from Orca spawn pool."),v()(),b(360,"h2"),P(361,"v0.5.18"),v(),b(362,"ul")(363,"li"),P(364,"Fixed bug with Friend Ahead Attacks ability pets not triggering when fainting. (Thanks tibby)"),v()(),b(365,"h2"),P(366,"v0.5.17"),v(),b(367,"ul")(368,"li"),P(369,"Fixed bug that required running simulation on export."),v(),b(370,"li"),P(371,"Fixed bug with ailment overwritting faint food while pet faints breaking simulation."),v(),b(372,"li"),P(373,'Added "Token Pets" option.'),v(),b(374,"li"),P(375,"Added confirmation window to Reset and Randomize buttons."),v()(),b(376,"h2"),P(377,"v0.5.16"),v(),b(378,"ul")(379,"li"),P(380,"Fixed bug with Beluga Whale pet not spawning. (Thanks goose)"),v(),b(381,"li"),P(382,"Fixed bug with Chocolate Cake not triggering Knocked Out abilities."),v(),b(383,"li"),P(384,"Fixed bug with Cherry/Fig triggering multiple times after running multiple simulations."),v()(),b(385,"h2"),P(386,"v0.5.15"),v(),b(387,"ul")(388,"li"),P(389,"Updated to SAP Version 0.31.9-145 BETA"),v(),b(390,"ul")(391,"li"),P(392,"Added Pigeon, Hare."),v(),b(393,"li"),P(394,"Changed Cricket, Mouse Nest, Robin, Tabby Cat, Dog, Dolphin, Flying Squirrel, Hatching Chick, Owl, Ox, Raccoon, Cockatoo, Mosasaurus, Tyrannosaurus."),v(),b(395,"li"),P(396,"Added Fig."),v(),b(397,"li"),P(398,"Changed Cherry."),v()()(),b(399,"h2"),P(400,"v0.5.14"),v(),b(401,"ul")(402,"li"),P(403,"Bug Report System."),v()(),b(404,"h2"),P(405,"v0.5.13"),v(),b(406,"ul")(407,"li"),P(408,"Fixed bug with Opponent Empty Front Space events not triggering. (Thanks jer.re)"),v()(),b(409,"h2"),P(410,"v0.5.12"),v(),b(411,"ul")(412,"li"),P(413,"Pug is tier 3."),v(),b(414,"li"),P(415,"Siberian Husky spelling fix."),v(),b(416,"li"),P(417,"Fixed Kiwi not availble on Star pack. (Thanks Grounded)"),v()(),b(418,"h2"),P(419,"v0.5.11"),v(),b(420,"ul")(421,"li"),P(422,"Opossum is spelled correctly."),v()(),b(423,"h2"),P(424,"v0.5.10"),v(),b(425,"ul")(426,"li"),P(427,"Buff pets do not target 50/50 friends."),v()(),b(428,"h2"),P(429,"v0.5.9"),v(),b(430,"ul")(431,"li"),P(432,"Fixed Rhino base stats."),v(),b(433,"li"),P(434,"Fixed bug with Tiger behind Hurt pet. (Thanks Freetz)."),v(),b(435,"li"),P(436,"Reset button resets Equipment."),v(),b(437,"li"),P(438,"Fixed bugs with export/import."),v()(),b(439,"h2"),P(440,"v0.5.8"),v(),b(441,"ul")(442,"li"),P(443,"Fixed bug where Zombie Flies sometimes would spawn in the wrong position. (Thanks Grounded)"),v()(),b(444,"h2"),P(445,"v0.5.7"),v(),b(446,"ul")(447,"li"),P(448,"Added Pineapple."),v()(),b(449,"h2"),P(450,"v0.5.6"),v(),b(451,"ul")(452,"li"),P(453,"Fixed bug with Turtle always behaving as a level 1."),v()(),b(454,"h2"),P(455,"v0.5.5"),v(),b(456,"ul")(457,"li"),P(458,"Fixed bug with Pancakes pet getting all of the stats. (Thanks Grounded)"),v()(),b(459,"h2"),P(460,"v0.5.4"),v(),b(461,"ul")(462,"li"),P(463,"Calculator is (more) usable on mobile devices."),v()(),b(464,"h2"),P(465,"v0.5.3"),v(),b(466,"ul")(467,"li"),P(468,"Added Reset buttons for the Player and Opponent."),v(),b(469,"li"),P(470,"Export/Import Calculator."),v(),b(471,"li"),P(472,'Added "Old Stork" mode.'),v(),b(473,"li"),P(474,"Fixed spawn bug sometimes duplicating pets when up against Royal Flycatcher. (Thanks Freetz)"),v(),b(475,"li"),P(476,"Fixed bug with pets having Friend Summoned abilities hitting themselves when summoned with a mushroom."),v(),b(477,"li"),P(478,"Fixed bug with Pteradon's ability triggering if it also faints."),v()(),b(479,"h2"),P(480,"v0.5.2"),v(),b(481,"ul")(482,"li"),P(483,"Import Custom Packs"),v(),b(484,"li"),P(485,"Custom Pack editor improvments."),v()(),b(486,"h2"),P(487,"v0.5.1"),v(),b(488,"ul")(489,"li"),P(490,"Added remaining custom pack pets."),v(),b(491,"ul")(492,"li"),P(493,"Frilled Dragon, Wombat, Aardvark, Bear, Emperor Tamerain, Procupine, Wasp Dragonfly, Lynx, Seagull, Alpaca, Hyena, Moose, Lioness, Tapir, Walrus, White Tiger"),v()(),b(494,"li"),P(495,"Added remaining custom pack food."),v(),b(496,"ul")(497,"li"),P(498,"Blueberry, Donut"),v()(),b(499,"li"),P(500,"Fixed bug with blobfish showing as tier 3. (Thanks Freetz)"),v(),b(501,"li"),P(502,"Fixed bug with eggplant triggering multiple times when running the simulation multiple times. (Thanks Freetz) "),v(),b(503,"li"),P(504,"Fixed bug with mosquito able to target the same pet."),v()(),b(505,"h2"),P(506,"v0.5.0"),v(),b(507,"ul")(508,"li"),P(509,"Added custom packs!"),v(),b(510,"li"),P(511,"Added Jerboa"),v(),b(512,"li"),P(513,"Added Fortune Cookie"),v()(),b(514,"h2"),P(515,"v0.4.16"),v(),b(516,"ul")(517,"li"),P(518,"Updated to SAP Version 0.30.6-138 BETA"),v(),b(519,"ul")(520,"li"),P(521," Updated stats/abilities of these pets: Whale, Frog, Iguana, Marmoset, Mouse, Koala, Panda, Shrimp, Tabby Cat, Camel, Eel, Giraffe, Musk Ox, Owl, Ox, Starfish, Anteater, Chameleon, Egyptian Vulture, Manta Ray, Platypus, Cockatoo, Crane, Monkey, Shark, Piranha, Sabertooth Tiger. "),v(),b(522,"li"),P(523," Added Durian. "),v()()(),b(524,"h2"),P(525,"v0.4.15"),v(),b(526,"ul")(527,"li"),P(528,"Fixed bug with Eggplant triggering too many times. (Thanks Freetz)"),v()(),b(529,"h2"),P(530,"v0.4.14"),v(),b(531,"ul")(532,"li"),P(533,"Fixed rounding error with Skunk ability/Stinky Sock."),v(),b(534,"li"),P(535,"Fixed faint pets ability being the level of the whale when swallowed. (Thanks kutarba)"),v()(),b(536,"h2"),P(537,"v0.4.13"),v(),b(538,"ul")(539,"li"),P(540,"Fixed Pteradon"),v()(),b(541,"h2"),P(542,"v0.4.12"),v(),b(543,"ul")(544,"li"),P(545,"Updated to SAP Version 0.29.6-135 BETA"),v(),b(546,"ul")(547,"li"),P(548,"Updated stats/abilities of these pets: Ladybug, Atlantic Puffin, Guinea Pig, Hedgehog, Jellyfish, Pug, Salamander, Toucan, Blobfish, Clownfish, Flea, Flying Fish, Mole, Chameleon, Eel, Hippo, Poison Dart Frog, Whale, Fire Ant, Fox, Turkey, Lionfish, Pteradon, Tyrannosaurus. "),v()()(),b(549,"h2"),P(550,"v0.4.11"),v(),b(551,"ul")(552,"li"),P(553,"Fixed bug with Tiger not triggering Leopard when there are few enemies. (Thanks /u/MHolmesSC)"),v(),b(554,"li"),P(555,"Fixed bug with Ant over buffing units on faint. (Thanks /u/MHolmesSC)"),v(),b(556,"li"),P(557,"Fixed bug with Spider behaving odd. (Thanks /u/-RARO-)"),v(),P(558,"ng\n"),v(),b(559,"h2"),P(560,"v0.4.10"),v(),b(561,"ul")(562,"li"),P(563,"Fixed bug with Fly not spawning Zombie Fly from Start of Battle abilities fainting pets. (Thanks /u/Danielmac757)"),v()(),b(564,"h2"),P(565,"v0.4.9"),v(),b(566,"ul")(567,"li"),P(568,"Info/Guide modal."),v()(),b(569,"h2"),P(570,"v0.4.8"),v(),b(571,"ul")(572,"li"),P(573,"Fixed a bug with Fly attempting to spawn Zombie Fly when there is no room."),v()(),b(574,"h2"),P(575,"v0.4.7"),v(),b(576,"ul")(577,"li"),P(578,"Updated to SAP Version 0.28.20-130 BETA"),v(),b(579,"ul")(580,"li"),P(581,"Changed pets so they all move forward after start of battle abilities."),v()()(),b(582,"h2"),P(583,"v0.4.6"),v(),b(584,"ul")(585,"li"),P(586,"Fixed a bug with mushroom breaking the simulation by breaking the cache process. (Thanks BeastiaVenator)"),v(),b(587,"li"),P(588,"Fixed a bug with loading equipment from the browser cache."),v()(),b(589,"h2"),P(590,"v0.4.5"),v(),b(591,"ul")(592,"li"),P(593,"Drag and Drop!"),v()(),b(594,"h2"),P(595,"v0.4.4"),v(),b(596,"ul")(597,"li"),P(598,"Fixed a handful of Tiger bugs causing infinite loops."),v(),b(599,"li"),P(600,"Fixed a bug with typing select options."),v()(),b(601,"h2"),P(602,"v0.4.3"),v(),b(603,"ul")(604,"li"),P(605,"Duplicate pet option hotfix."),v()(),b(606,"h2"),P(607,"v0.4.2"),v(),b(608,"ul")(609,"li"),P(610,"Calculator state saves on 'Simulate'."),v(),b(611,"ul")(612,"li"),P(613,"This is stored in the browser cache. You can clear the cache by clicking on the link on the bottom of this modal."),v()(),b(614,"li"),P(615,"Fixed bugs with Angler mode toggling."),v(),b(616,"li"),P(617,"Zoom In/Out feature."),v(),b(618,"li"),P(619,"Fixed bug with Fly triggering twice instead of three times. (Thanks nob)"),v(),b(620,"li"),P(621,"Fixed bug with some snipe pets having no targets breaking simulation."),v()(),b(622,"h2"),P(623,"v0.4.1"),v(),b(624,"ul")(625,"li"),P(626,"Fixed a bug where Shark would gain attack/health on its own death. (Thanks mumf)"),v(),b(627,"li"),P(628,"Fixed a bug where attack bonus food would affect snipes. (Thanks Tangl)"),v()())},styles:[""]}),n})();function jle(n,e){1&n&&(b(0,"div",12),P(1," That name is not allowed. "),v())}function zle(n,e){if(1&n&&(b(0,"div",13),ne(1,"input",14),b(2,"label",15),P(3),v()()),2&n){const t=e.$implicit;N(1),$("id",t)("formControlName",t),N(1),$("for",t),N(1),qt(" ",t," ")}}function Kle(n,e){if(1&n&&(b(0,"div",13),ne(1,"input",14),b(2,"label",15),P(3),v()()),2&n){const t=e.$implicit;N(1),$("id",t)("formControlName",t),N(1),$("for",t),N(1),qt(" ",t," ")}}function Yle(n,e){if(1&n&&(b(0,"div",13),ne(1,"input",14),b(2,"label",15),P(3),v()()),2&n){const t=e.$implicit;N(1),$("id",t)("formControlName",t),N(1),$("for",t),N(1),qt(" ",t," ")}}function Qle(n,e){if(1&n&&(b(0,"div",13),ne(1,"input",14),b(2,"label",15),P(3),v()()),2&n){const t=e.$implicit;N(1),$("id",t)("formControlName",t),N(1),$("for",t),N(1),qt(" ",t," ")}}function Zle(n,e){if(1&n&&(b(0,"div",13),ne(1,"input",14),b(2,"label",15),P(3),v()()),2&n){const t=e.$implicit;N(1),$("id",t)("formControlName",t),N(1),$("for",t),N(1),qt(" ",t," ")}}function Jle(n,e){if(1&n&&(b(0,"div",13),ne(1,"input",14),b(2,"label",15),P(3),v()()),2&n){const t=e.$implicit;N(1),$("id",t)("formControlName",t),N(1),$("for",t),N(1),qt(" ",t," ")}}function Xle(n,e){1&n&&(b(0,"div",12),P(1," Name is required. "),v())}let ece=(()=>{class n{constructor(t){this.equipmentService=t,this.submitEvent=new bt,this.cancelEvent=new bt,this.loaded=!1}ngOnInit(){this.initCheckboxFormGroup(),this.formGroup.updateValueAndValidity()}initCheckboxFormGroup(){let t=new Ii({}),i=new Ii({}),r=new Ii({}),a=new Ii({}),s=new Ii({}),o=new Ii({});for(let l of this.getPets(1)){let c=new ie(this.formGroup.get("tier1Pets").value.includes(l));c.valueChanges.subscribe(d=>{this.processCheckboxChange(1,l,d)}),t.addControl(l,c)}for(let l of this.getPets(2)){let c=new ie(this.formGroup.get("tier2Pets").value.includes(l));c.valueChanges.subscribe(d=>{this.processCheckboxChange(2,l,d)}),i.addControl(l,c)}for(let l of this.getPets(3)){let c=new ie(this.formGroup.get("tier3Pets").value.includes(l));c.valueChanges.subscribe(d=>{this.processCheckboxChange(3,l,d)}),r.addControl(l,c)}for(let l of this.getPets(4)){let c=new ie(this.formGroup.get("tier4Pets").value.includes(l));c.valueChanges.subscribe(d=>{this.processCheckboxChange(4,l,d)}),a.addControl(l,c)}for(let l of this.getPets(5)){let c=new ie(this.formGroup.get("tier5Pets").value.includes(l));c.valueChanges.subscribe(d=>{this.processCheckboxChange(5,l,d)}),s.addControl(l,c)}for(let l of this.getPets(6)){let c=new ie(this.formGroup.get("tier6Pets").value.includes(l));c.valueChanges.subscribe(d=>{this.processCheckboxChange(6,l,d)}),o.addControl(l,c)}this.checkboxFormGroup=new Ii({tier1Pets:t,tier2Pets:i,tier3Pets:r,tier4Pets:a,tier5Pets:s,tier6Pets:o})}getCheckboxFormGroup(t){return this.checkboxFormGroup.get(`tier${t}Pets`)}getPets(t){let i=[];for(let[r,a]of this.petPackMap.get(t))i.push(...a);return i=[...new Set(i)],i}getCount(t){return this.formGroup.get(`tier${t}Pets`).value.length}processCheckboxChange(t,i,r){let a=this.formGroup.get(`tier${t}Pets`).value;r?a.push(i):(0,mi.remove)(a,s=>s===i),this.formGroup.get(`tier${t}Pets`).updateValueAndValidity()}submit(){this.submitEvent.emit(this.formGroup)}cancel(){confirm("Are you sure you want to cancel?")&&this.cancelEvent.emit(this.formGroup)}submitDisabled(){return this.formGroup.get("name").invalid}}return n.\u0275fac=function(t){return new(t||n)(U(Dt))},n.\u0275cmp=Gn({type:n,selectors:[["app-custom-pack-form"]],inputs:{formGroup:"formGroup",petPackMap:"petPackMap"},outputs:{submitEvent:"submitEvent",cancelEvent:"cancelEvent"},decls:68,vars:34,consts:[[3,"formGroup"],[1,"row","mb-4"],[1,"col-12"],["for","name",1,"form-label"],["id","name","formControlName","name",1,"form-control"],["class","invalid",4,"ngIf"],[1,"row","mb-4",3,"formGroup"],[1,"row"],[1,"col-12","editor-grid"],["class","form-check",4,"ngFor","ngForOf"],[1,"btn","btn-primary","me-2",3,"disabled","click"],[1,"btn","btn-danger",3,"click"],[1,"invalid"],[1,"form-check"],["type","checkbox","value","",1,"form-check-input",3,"id","formControlName"],[1,"form-check-label",3,"for"]],template:function(t,i){1&t&&(b(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),P(4,"Pack Name"),v(),ne(5,"input",4),he(6,jle,2,0,"div",5),v()(),b(7,"div",6)(8,"div",2)(9,"h3"),P(10,"Tier 1 Pets "),b(11,"span"),P(12),v()(),b(13,"div",7)(14,"div",8),he(15,zle,4,4,"div",9),v()()()(),b(16,"div",6)(17,"div",2)(18,"h3"),P(19,"Tier 2 Pets "),b(20,"span"),P(21),v()(),b(22,"div",7)(23,"div",8),he(24,Kle,4,4,"div",9),v()()()(),b(25,"div",6)(26,"div",2)(27,"h3"),P(28,"Tier 3 Pets "),b(29,"span"),P(30),v()(),b(31,"div",7)(32,"div",8),he(33,Yle,4,4,"div",9),v()()()(),b(34,"div",6)(35,"div",2)(36,"h3"),P(37,"Tier 4 Pets "),b(38,"span"),P(39),v()(),b(40,"div",7)(41,"div",8),he(42,Qle,4,4,"div",9),v()()()(),b(43,"div",6)(44,"div",2)(45,"h3"),P(46,"Tier 5 Pets "),b(47,"span"),P(48),v()(),b(49,"div",7)(50,"div",8),he(51,Zle,4,4,"div",9),v()()()(),b(52,"div",6)(53,"div",2)(54,"h3"),P(55,"Tier 6 Pets "),b(56,"span"),P(57),v()(),b(58,"div",7)(59,"div",8),he(60,Jle,4,4,"div",9),v()()()(),b(61,"div",7)(62,"div",2)(63,"button",10),Ee("click",function(){return i.submit()}),P(64,"Submit Pack"),v(),b(65,"button",11),Ee("click",function(){return i.cancel()}),P(66,"Cancel"),v(),he(67,Xle,2,0,"div",5),v()()()),2&t&&($("formGroup",i.formGroup),N(6),$("ngIf",null==i.formGroup.get("name").errors?null:i.formGroup.get("name").errors.forbiddenName),N(1),$("formGroup",i.getCheckboxFormGroup(1)),N(4),gr(10==i.getCount(1)?"valid":"invalid"),N(1),qt("",i.getCount(1),"/10"),N(3),$("ngForOf",i.getPets(1)),N(1),$("formGroup",i.getCheckboxFormGroup(2)),N(4),gr(10==i.getCount(2)?"valid":"invalid"),N(1),qt("",i.getCount(2),"/10"),N(3),$("ngForOf",i.getPets(2)),N(1),$("formGroup",i.getCheckboxFormGroup(3)),N(4),gr(10==i.getCount(3)?"valid":"invalid"),N(1),qt("",i.getCount(3),"/10"),N(3),$("ngForOf",i.getPets(3)),N(1),$("formGroup",i.getCheckboxFormGroup(4)),N(4),gr(10==i.getCount(4)?"valid":"invalid"),N(1),qt("",i.getCount(4),"/10"),N(3),$("ngForOf",i.getPets(4)),N(1),$("formGroup",i.getCheckboxFormGroup(5)),N(4),gr(10==i.getCount(5)?"valid":"invalid"),N(1),qt("",i.getCount(5),"/10"),N(3),$("ngForOf",i.getPets(5)),N(1),$("formGroup",i.getCheckboxFormGroup(6)),N(4),gr(10==i.getCount(6)?"valid":"invalid"),N(1),qt("",i.getCount(6),"/10"),N(3),$("ngForOf",i.getPets(6)),N(3),$("disabled",i.submitDisabled()),N(4),$("ngIf",i.submitDisabled()))},directives:[LN,Nl,da,ha,Fl,ho,Ml,hp,Ay],styles:[".editor-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);grid-gap:1rem}.invalid[_ngcontent-%COMP%]{color:red}.valid[_ngcontent-%COMP%]{color:#0ab40a}"]}),n})();function tce(n,e){if(1&n){const t=mr();b(0,"div",2)(1,"div",3)(2,"app-custom-pack-form",4),Ee("submitEvent",function(r){return ot(t),ye().submitEvent(r)})("cancelEvent",function(r){return ot(t),ye().cancelEvent(r)}),v()()()}if(2&n){const t=ye();N(2),$("formGroup",t.makeFormGroup(t.focusedGroup))("petPackMap",t.petPackMap)}}function ice(n,e){1&n&&(b(0,"span",15),P(1,"Valid"),v())}function nce(n,e){1&n&&(b(0,"span",16),P(1,"Invalid"),v())}function rce(n,e){if(1&n){const t=mr();b(0,"tr")(1,"td",11),P(2),v(),b(3,"td",11),he(4,ice,2,0,"span",12),he(5,nce,2,0,"span",13),v(),b(6,"td")(7,"button",8),Ee("click",function(){const a=ot(t).$implicit;return ye(2).editPack(a)}),P(8,"Edit"),v()(),b(9,"td")(10,"button",14),Ee("click",function(){const a=ot(t).$implicit;return ye(2).deletePack(a)}),P(11,"Delete"),v()()()}if(2&n){const t=e.$implicit;N(2),Si(t.get("name").value),N(2),$("ngIf",t.valid),N(1),$("ngIf",!t.valid)}}function sce(n,e){if(1&n){const t=mr();b(0,"div")(1,"div",5)(2,"div",3)(3,"h3"),P(4,"Custom Packs"),v(),b(5,"table"),he(6,rce,12,3,"tr",6),v()()(),b(7,"div",7)(8,"div",3)(9,"button",8),Ee("click",function(){return ot(t),ye().createNewPack()}),P(10,"Create New Pack"),v()()(),b(11,"div",5)(12,"div",3)(13,"h3"),P(14,"Import Custom Pack"),v(),b(15,"div",9),ne(16,"textarea",10),v()()(),b(17,"div",2)(18,"div",3)(19,"button",8),Ee("click",function(){return ot(t),ye().importCustomPack()}),P(20,"Import"),v()()()()}if(2&n){const t=ye();N(6),$("ngForOf",t.customPacks.controls),N(9),$("formGroup",t.importFormGroup)}}let ace=(()=>{class n{constructor(t,i){this.petService=t,this.localStorageService=i,this.petIdLookup=new Map,this.petNameToTier=new Map,this.focusedGroup=null,this.importFormGroup=new Ii({code:new ie(null)})}ngOnInit(){this.customPacks=this.formGroup.get("customPacks"),this.buildPetPackMap(),this.buildPetNameToTierMap(),this.buildPetIdLookup()}buildPetPackMap(){this.petPackMap=new Map;for(let t=1;t<=6;t++){let i=new Map;for(const r of Oy)i.set(r,[]);this.petPackMap.set(t,i)}for(const t of Oy){const i=this.petService.basePackPetsByName[t];for(let[r,a]of i)this.petPackMap.get(r).get(t).push(...a)}}createNewPack(){let t=this.createPack();this.focusedGroup=t}createPack(){return new Ii({name:new ie(null,[mp.required,this.forbiddenNameValidator()]),tier1Pets:new ie([],this.controlArrayLengthOf10()),tier2Pets:new ie([],this.controlArrayLengthOf10()),tier3Pets:new ie([],this.controlArrayLengthOf10()),tier4Pets:new ie([],this.controlArrayLengthOf10()),tier5Pets:new ie([],this.controlArrayLengthOf10()),tier6Pets:new ie([],this.controlArrayLengthOf10())})}makeFormGroup(t){return t}controlArrayLengthOf10(){return t=>10!==t.value.length?{length:!0}:null}submitEvent(t){this.customPacks.controls.includes(t)||this.customPacks.push(t),this.petService.buildCustomPackPets(this.customPacks),this.focusedGroup=null,this.localStorageService.setStorage(this.formGroup.value)}cancelEvent(t){this.focusedGroup=null}editPack(t){this.focusedGroup=t}deletePack(t){if(confirm("Are you sure you want to delete this pack?")){let i=this.customPacks.controls.indexOf(t);this.customPacks.removeAt(i),this.localStorageService.setStorage(this.formGroup.value)}}forbiddenNameValidator(){return t=>{var i,r;let a=["custom"];for(let s of this.customPacks.controls)t!=s.get("name")&&a.push(null===(i=s.get("name").value)||void 0===i?void 0:i.toLowerCase());return a.includes(null===(r=t.value)||void 0===r?void 0:r.toLowerCase())?{forbiddenName:!0}:null}}importCustomPack(){let t=this.importFormGroup.get("code").value;try{t=JSON.parse(t);let i=this.parseMinions(t.Minions,t.MinionMap),r={name:t.Title,tier1Pets:i.tierMinions.get(1),tier2Pets:i.tierMinions.get(2),tier3Pets:i.tierMinions.get(3),tier4Pets:i.tierMinions.get(4),tier5Pets:i.tierMinions.get(5),tier6Pets:i.tierMinions.get(6)};this.createNewPack(),this.focusedGroup.patchValue(r),i.missingMinions.length>0&&alert(`Some minion IDs were not recognized and were skipped: ${i.missingMinions.join(", ")}`)}catch(i){alert("Invalid code"),console.error(i)}}buildPetIdLookup(){var t;this.petIdLookup=new Map;const i=null!==(t=Uy)&&void 0!==t?t:yL;for(let r of i){let a=Number(r.Tier),s=String(r.Id);this.petIdLookup.has(s)||this.petIdLookup.set(s,{name:r.Name,tier:a})}}buildPetNameToTierMap(){this.petNameToTier=new Map;for(let[t,i]of this.petPackMap)for(let r of i.values())for(let a of r)this.petNameToTier.has(a)||this.petNameToTier.set(a,t)}parseMinions(t,i={}){let r=new Map;for(let s=1;s<=6;s++)r.set(s,[]);let a=[];if(!Array.isArray(t))return{tierMinions:r,missingMinions:a};for(let s of t){let o=null,l=null;if("number"==typeof s)l=String(s);else if("string"==typeof s){let d=s.trim();d&&d.match(/^\d+$/)?l=d:o=s}if(l){let d=this.petIdLookup.get(l);d?o=d.name:i&&i[l]&&(o=i[l])}if(!o){a.push(s);continue}let c=this.petNameToTier.get(o);c?r.get(c).push(o):a.push(s)}return{tierMinions:r,missingMinions:a}}}return n.\u0275fac=function(t){return new(t||n)(U(vr),U(A2))},n.\u0275cmp=Gn({type:n,selectors:[["app-custom-pack-editor"]],inputs:{formGroup:"formGroup"},decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-12"],[3,"formGroup","petPackMap","submitEvent","cancelEvent"],[1,"row","mb-3"],[4,"ngFor","ngForOf"],[1,"row","mb-4"],[1,"btn","btn-primary",3,"click"],[1,"form-group",3,"formGroup"],["id","code","rows","3","formControlName","code",1,"form-control"],[1,"text"],["class","valid",4,"ngIf"],["class","invalid",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"valid"],[1,"invalid"]],template:function(t,i){1&t&&(he(0,tce,3,2,"div",0),he(1,sce,21,2,"div",1)),2&t&&($("ngIf",null!=i.focusedGroup),N(1),$("ngIf",null==i.focusedGroup))},directives:[Ml,ece,Nl,da,hp,ha,Fl,ho],styles:[".valid[_ngcontent-%COMP%]{color:#4caf50}.invalid[_ngcontent-%COMP%]{color:#f44336}.text[_ngcontent-%COMP%]{font-size:1.5em}td[_ngcontent-%COMP%]{padding:.25em .5em}"]}),n})(),oce=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Gn({type:n,selectors:[["app-info"]],decls:101,vars:0,consts:[["src","./assets/info/pack.PNG","alt","pack"],["src","./assets/info/toy.PNG","alt","toy"],["src","./assets/info/angler.PNG","alt","angler"],["src","./assets/info/zoom.PNG","alt","zoom"],["src","./assets/info/advanced.PNG","alt","advanced"],["src","./assets/info/advanced-settings.PNG","alt","advanced settings"],["src","./assets/info/board.PNG","alt","board"],["src","./assets/info/pet.png","alt","pet"],["src","/assets/info/simulate.PNG","alt","simulate"],["src","/assets/info/report-bug.PNG","alt","report bug"],["src","/assets/info/outcome.PNG","alt","outcome"],["src","/assets/info/battles.PNG","alt","battles"],["src","/assets/info/logs.PNG","alt","logs"]],template:function(t,i){1&t&&(b(0,"p"),P(1," The SAP Calculator is an analysis tool that allows you to easily calculate the approximate odds of your team beating another team. The SAP Calculator simulates the defined battle 1000 times and determines the percentage of wins, draws and loses.\n"),v(),b(2,"p")(3,"b"),P(4,"Disclaimer: The SAP Calculator is not an official tool of the game and is not affiliated with the game's developers. The SAP Calculator is a fan-made tool, and is not intended to replace the official game."),v()(),b(5,"p"),P(6," The SAP Calculator engine is based on the official game engine, but it may not be 100% accurate. It is pretty darn close though, and should be completely accurate for nearly every possible battle.\n"),v(),b(7,"h1"),P(8,"Guide"),v(),ne(9,"img",0),b(10,"p"),P(11," Select the pack that the player and opponent are using. This determines the pets that are available to each player.\n"),v(),ne(12,"img",1),b(13,"p"),P(14," Toy configuration.\n"),v(),ne(15,"img",2),b(16,"ul")(17,"li"),P(18,"Angler Mode: The opposite player's pets are available to be selected for each player. (This does not affect pets that summon from your pack pet pool)"),v(),b(19,"li"),P(20,"All Pets: All pets are availble to select. (This does not affect pets that summon from your pack pet pool)"),v(),b(21,"li"),P(22,"Old Stork: Stork summons pets with base stats."),v(),b(23,"li"),P(24,"Token Pets: Token pets are available to select. (This does not affect pets that summon from your pack pet pool)"),v(),b(25,"li"),P(26,"Komodo Shuffle: Shuffle pet order each battle in front of a Komondo."),v(),b(27,"li"),P(28,"Mana: Show/hide mana stat on the pet selector."),v()(),ne(29,"img",3),b(30,"p"),P(31,"Adjust the zoom level of the application."),v(),ne(32,"img",4),b(33,"p"),P(34,"Toggle advanced settings."),v(),ne(35,"img",5),b(36,"p"),P(37,"Advanced settings. They allow you to configure the battle to a more specific scenario."),v(),b(38,"ul")(39,"li"),P(40,"Turn: The turn the battle takes place. This will affect pets such as the Stork, Eagle, and Stegosaurus."),v(),b(41,"li"),P(42,"Player Gold Spent: Player gold spent the previous round. This will affect the Meerkat."),v(),b(43,"li"),P(44,"Opponent Gold Spent: Same as above but for the Opponent player."),v(),b(45,"li"),P(46,"Player Roll Amount: The amount of times the Player rolled in the shop phase."),v(),b(47,"li"),P(48,"Opponent Roll Amount: Same as above but for the Opponent player."),v(),b(49,"li"),P(50,"Player Lvl 3 Sold: The amount of times the Player sold a Level 3 pet."),v(),b(51,"li"),P(52,"Opponent Lvl 3 Sold: Same as above but for the Opponent player."),v(),b(53,"li"),P(54,"Player Summoned Amt: The amount of times the Player summoned a pet in the shop phase."),v(),b(55,"li"),P(56,"Opponent Summoned Amt: Same as above but for the Opponent player."),v(),b(57,"li"),P(58,"Player Transformation Amt: The amount of times the Player transformed a pet in the shop phase."),v(),b(59,"li"),P(60,"Opponent Transformation Amt: Same as above but for the Opponent player."),v()(),ne(61,"img",6),b(62,"p"),P(63," This is the board. The left side is the Player pets and the right side is the Opponent Pets. Each white box contains a pet and its' stats/equipment. The layout of the pets are identical to as they would be in battle. The right most Player pet is clashing with the left most Opponent pet.\n"),v(),ne(64,"img",7),b(65,"p"),P(66," This is a pet.\n"),v(),b(67,"ul")(68,"li"),P(69,"A: This select box is where you may choose the pet that will occupy this space."),v(),b(70,"li"),P(71,"B: This select box is where you may choose the pet's equipment."),v(),b(72,"li"),P(73,"C: These fields are where you may input the pet's stats. The gray field is attack, the red field is health, and the indigo field is mana."),v(),b(74,"li"),P(75,"D: This component determines the amount of exp the pet has. A pet may have 0-5 exp denoted by the number of boxes highlighted. The numbers (1, 2, 3) on top of the exp bar signify the level of the pet. 0-1 exp is level 1, 2-4 exp is level 2, and 5 exp is level 3. The x on the left will clear the exp bar leaving the pet at level 1 with 0 exp. "),v(),b(76,"li"),P(77,"E: This is a drag and drop tool. Use this to reorder your pets."),v()(),ne(78,"img",8),b(79,"ul")(80,"li"),P(81,"Simulate: Run the simulation."),v(),b(82,"li"),P(83,"Randomize: Randomize the Player's and Opponents's pets and equipment."),v()(),ne(84,"img",9),b(85,"ul")(86,"li"),P(87,"Report A Bug: Report a bug to the SAP Calculator develepor."),v(),b(88,"li"),P(89,"Export Calculator: Saves a code to your devices clipboard that can be used to import the calculator state."),v(),b(90,"li"),P(91,"Import Calculator: Import a calculator state."),v()(),ne(92,"img",10),b(93,"p"),P(94," This is the outcome summary. It shows the number of wins, draws, and loses for the last simulation ran.\n"),v(),ne(95,"img",11),b(96,"p"),P(97," This is the Battles table. It is a table of all the battles that were simulated. You may filter the table by the outcome of the battle.\n"),v(),ne(98,"img",12),b(99,"p"),P(100," These are the logs of the last selected simulated battle. Logs that are highlighted green are logs from a pet on the Player's team and logs that are highlighted red are logs from a pet on the Opponent's team. Logs that are highlighted purple are random events. Note: Not everything is logged.\n"),v())},styles:["img[_ngcontent-%COMP%]{margin-bottom:.5em;max-width:100%;border:1px solid #bfbfbf}"]}),n})();const B$=JSON.parse('[{"Ability":"Block ailment or 8 damage, once.","Positive":true,"Id":"60","Name":"Ambrosia","NameId":"Ambrosia"},{"Ability":"Before attack: Remove the front-most enemy perk, once.","Positive":true,"Id":"64","Name":"Baguette","NameId":"Baguette"},{"Ability":"Faint: Summon one 4/4 Monkey.","Positive":true,"Id":"25","Name":"Banana","NameId":"Banana"},{"Ability":"Before battle: Gain +7 mana.","Positive":true,"Id":"87","Name":"Big Mana Potion","NameId":"ManaPotion2"},{"Ability":"Gain +1 attack and +2 health.","Positive":true,"Id":"89","Name":"Blackberry","NameId":"Blackberry"},{"Ability":"Can\'t gain perk, once.","Id":"120","Name":"Bloated","NameId":"Bloated"},{"Ability":"Prioritize this for enemy random abilities.","Positive":true,"Id":"28","Name":"Blueberry","NameId":"BlueBerries"},{"Ability":"Gain +3 health when this would faint, once.","Positive":true,"Id":"111","Name":"Bok Choy","NameId":"BokChoy"},{"Ability":"Block being pushed or 5 damage, once.","Positive":true,"Id":"66","Name":"Brussels Sprout","NameId":"BrusselsSprout"},{"Ability":"End turn: Increase sell value by 1 gold.","Positive":true,"Id":"44","Name":"Cake","NameId":"BirthdayCake"},{"Ability":"Before attack: Combine friendly Caramels to deal 3 damage each to the most healthy enemy, once.","Positive":true,"Id":"67","Name":"Caramel","NameId":"Caramel"},{"Ability":"End turn: Gain +1 attack and +1 health.","Positive":true,"Id":"15","Name":"Carrot","NameId":"Carrot"},{"Ability":"Before battle: Deal 1 damage to the second nearest pet ahead. Double against enemies.","Positive":true,"Id":"115","Name":"Cashew Nut","NameId":"CashewNut"},{"Ability":"Knock out: If still standing, gain permanent +1 attack and +1 health, once.","Positive":true,"Id":"71","Name":"Cauliflower","NameId":"Cauliflower"},{"Ability":"Attack with at least 15 attack, once.","Positive":true,"Id":"23","Name":"Cheese","NameId":"Cheese"},{"Ability":"Before battle: Gain 2 trumpets and remove perk.","Positive":true,"Id":"7","Name":"Cherry","NameId":"Cherries"},{"Ability":"Attack second enemy for 5 damage.","Positive":true,"Id":"5","Name":"Chili","NameId":"Chili"},{"Ability":"Before attack: Gain +3 experience and faint.","Positive":true,"Id":"30","Name":"Chocolate Cake","NameId":"ChocolateCake"},{"Ability":"Activate ability before other pets with the same trigger.","Positive":true,"Id":"70","Name":"Churros","NameId":"Churros"},{"Ability":"Before attack: Transform into an exact copy of a random enemy, once.","Positive":true,"Id":"94","Name":"Cocoa Bean","NameId":"CocoaBean"},{"Ability":"Block damage, once.","Positive":true,"Id":"0","Name":"Coconut","NameId":"Coconut"},{"Ability":"Faint: Summon one 2/3 Fish.","Positive":true,"Id":"104","Name":"Cod Roe","NameId":"CodRoe"},{"Ability":"Take +5 damage, once.","Id":"54","Name":"Cold","NameId":"Frozen"},{"Ability":"Before attack: Transform into a pet from one tier below, once.","Id":"118","Name":"Confused","NameId":"Confused"},{"Ability":"Anyone attacks: Take 6 damage, once.","Id":"57","Name":"Crisp","NameId":"Burn"},{"Ability":"End turn: Gain +1 attack.","Positive":true,"Id":"20","Name":"Croissant","NameId":"Croissant"},{"Ability":"End turn: Gain +1 health.","Positive":true,"Id":"19","Name":"Cucumber","NameId":"Cucumber"},{"Ability":"Faint: Make one random friend Cursed.","Id":"119","Name":"Cursed","NameId":"Curse"},{"Ability":"Prevent ability from activating.","Id":"55","Name":"Dazed","NameId":"Deaf"},{"Ability":"Prioritize this for friendly random abilities.","Positive":true,"Id":"36","Name":"Donut","NameId":"Doughnut"},{"Ability":"Before attack: Reduce the most healthy enemy by 33% health, once.","Positive":true,"Id":"45","Name":"Durian","NameId":"Durian"},{"Ability":"Faint: Summon one 3/3 Bunny that attacks for double damage.","Positive":true,"Id":"51","Name":"Easter Egg","NameId":"EasterEgg"},{"Ability":"Before attack: Deal 2 damage to target, once.","Positive":true,"Id":"24","Name":"Egg","NameId":"Egg"},{"Ability":"Before battle: Push opposite enemy 1 space forward.","Positive":true,"Id":"38","Name":"Eggplant","NameId":"EggPlant"},{"Ability":"Block 4 enemy damage, once.","Positive":true,"Id":"68","Name":"Eucalyptus","NameId":"Eucalyptus"},{"Ability":"Faint: Summon ANY one tier 1 <b>Faint</b> pet.","Positive":true,"Id":"86","Name":"Faint Bread","NameId":"DeadBread"},{"Ability":"Empty front space: Jump to the front and gain +2 mana, once.","Positive":true,"Id":"49","Name":"Fairy Dust","NameId":"FairyDust"},{"Ability":"Before attack: Deal 4 damage to the lowest health enemy, once.","Positive":true,"Id":"46","Name":"Fig","NameId":"Fig"},{"Ability":"Attack has 50% chance to deal double damage.","Positive":true,"Id":"11","Name":"Fortune Cookie","NameId":"FortuneCookie"},{"Ability":"Takes 2 less damage.","FinePrint":"Damage can\'t be reduced to less than 2.","Positive":true,"Id":"9","Name":"Garlic","NameId":"Garlic"},{"Ability":"Before battle: Gain +1 experience.","Positive":true,"Id":"52","Name":"Gingerbread Man","NameId":"GingerbreadMan"},{"Ability":"Before attack: Deal 6 damage to target, once.","Positive":true,"Id":"47","Name":"Golden Egg","NameId":"GoldenEgg"},{"Ability":"Start of turn: Gain +1 gold.","Positive":true,"Id":"16","Name":"Grapes","NameId":"Grapes"},{"Ability":"Before attack: Transform into an Ant.","Positive":true,"Id":"103","Name":"Gros Michel Banana","NameId":"GrosMichelBanana"},{"Ability":"Block 3 damage, and attack for +3 damage, once.","Positive":true,"Id":"105","Name":"Guava","NameId":"Guava"},{"Ability":"Before battle: Give the front-most friendly pet +2 health.","Positive":true,"Id":"58","Name":"Health Potion","NameId":"HealthPotion"},{"Ability":"Faint: Summon one 1/1 Bee.","Positive":true,"Id":"8","Name":"Honey","NameId":"Honey"},{"Ability":"Block 10 damage, and attack for +5 damage, once.","Positive":true,"Id":"110","Name":"Honeydew Melon","NameId":"HoneydewMelon"},{"Ability":"Take double damage, twice.","Id":"56","Name":"Icky","NameId":"Acid"},{"Ability":"Attack and ability deal 3 less damage.","Id":"37","Name":"Inked","NameId":"Ink"},{"Ability":"Ability deals exactly 10 damage, once.","Positive":true,"Id":"78","Name":"Kiwano","NameId":"Kiwano"},{"Ability":"Before battle: Gain +3 health.","Positive":true,"Id":"107","Name":"Kiwifruit","NameId":"Kiwi"},{"Ability":"Block 7 damage, twice.","Positive":true,"Id":"22","Name":"Lemon","NameId":"Lemon"},{"Ability":"Takes 1 less damage.","Positive":true,"Id":"108","Name":"Lime","NameId":"Lime"},{"Ability":"Activate ability at level 1.","Positive":true,"Id":"122","Name":"Liquorice","NameId":"SweetLiquorice"},{"Ability":"Before battle: Summon one 5/5 pet like this.","Positive":true,"Id":"59","Name":"Love Potion","NameId":"LovePotion"},{"Ability":"Before battle: Copy ability to the nearest friend ahead.","Positive":true,"Id":"76","Name":"Lychee","NameId":"Lychee"},{"Ability":"Activate ability after other pets with the same trigger.","Positive":true,"Id":"117","Name":"Macaron","NameId":"Macaron"},{"Ability":"Start of turn: Gain the Golden Egg perk and increase sell value by 4 gold.","Positive":true,"Id":"48","Name":"Magic Beans","NameId":"MagicBeans"},{"Ability":"Before battle: Gain +6 mana.","Positive":true,"Id":"61","Name":"Mana Potion","NameId":"ManaPotion"},{"Ability":"Attack for 50% damage and block 50% damage, thrice.","Positive":true,"Id":"93","Name":"Maple Syrup","NameId":"MapleSyrup"},{"Ability":"Attack with +3 damage.","Positive":true,"Id":"6","Name":"Meat Bone","NameId":"MeatBone"},{"Ability":"Block 20 damage, once.","Positive":true,"Id":"13","Name":"Melon","NameId":"Melon"},{"Ability":"Block 10 damage, once.","Positive":true,"Id":"79","Name":"Melon Slice","NameId":"WaterMelon"},{"Ability":"Attack second enemy for 4 damage.","Positive":true,"Id":"123","Name":"Mild Chili","NameId":"MildChili"},{"Ability":"Faint: Come back as a 1/1.","Positive":true,"Id":"1","Name":"Mushroom","NameId":"Mushroom"},{"Ability":"Before attack: Convert up to 3 health into attack.","Positive":true,"Id":"116","Name":"Nachos","NameId":"Nachos"},{"Ability":"Before attack: Move to the back, once.","Positive":true,"Id":"31","Name":"Onion","NameId":"Onion"},{"Ability":"Before attack: Set attack and health to at least 9, once.","Positive":true,"Id":"77","Name":"Oyster Mushroom","NameId":"OysterMushroom"},{"Ability":"Before battle: Give friends +2 attack and +2 health.","Positive":true,"Id":"35","Name":"Pancakes","NameId":"Pancakes"},{"Ability":"Knock out any pet attacked and hurt by this.","Positive":true,"Id":"2","Name":"Peanut","NameId":"Peanut"},{"Ability":"Knock out any pet attacked and hurt by this, once.","Positive":true,"Id":"88","Name":"Peanut Butter","NameId":"PeanutButter"},{"Ability":"Health does not go under 1. Removed after taking damage.","Positive":true,"Id":"18","Name":"Pepper","NameId":"Pepper"},{"Ability":"Before battle: Gain +4 attack and +3 health.","Positive":true,"Id":"39","Name":"Pie","NameId":"Pie"},{"Ability":"Ability deals +2 damage, thrice.","Positive":true,"Id":"21","Name":"Pineapple","NameId":"Pineapple"},{"Ability":"Hurt: Gain +15 health, once.","Positive":true,"Id":"33","Name":"Pita Bread","NameId":"PitaBread"},{"Ability":"Faint: Summon one random pet from the same tier.","Positive":true,"Id":"17","Name":"Popcorn","NameId":"Popcorn"},{"Ability":"Block 10 damage from abilities and perks, twice.","Positive":true,"Id":"29","Name":"Potato","NameId":"Potato"},{"Ability":"Before battle: Gain ANY useful perk from the pet\'s tier.","Positive":true,"Id":"65","Name":"Radish","NameId":"Radish"},{"Ability":"Before attack: Gain +3 mana.","Positive":true,"Id":"62","Name":"Rambutan","NameId":"Rambutan"},{"Ability":"Sell for +2 gold.","Positive":true,"Id":"43","Name":"Rice","NameId":"RiceBall"},{"Ability":"Attack for double damage, once.","Positive":true,"Id":"3","Name":"Salt","NameId":"Salt"},{"Ability":"Start of turn: Gain +2 gold.","Positive":true,"Id":"100","Name":"Sardinian Currant","NameId":"SardinianCurrant"},{"Ability":"Start of turn: Gain one free roll.","Positive":true,"Id":"69","Name":"Sausage","NameId":"Sausage"},{"Ability":"Before attack: Transform into a Baby Urchin.","Positive":true,"Id":"72","Name":"Seaweed","NameId":"Seaweed"},{"Ability":"Ability has random targets in battle.","Id":"75","Name":"Silly","NameId":"Silly"},{"Ability":"Attack second and third enemy for 3 damage.","Positive":true,"Id":"26","Name":"Skewer","NameId":"Skewer"},{"Ability":"Attack with half damage, once.","Id":"84","Name":"Sleepy","NameId":"Drowsy"},{"Ability":"Take +1 damage.","Id":"63","Name":"Spooked","NameId":"Scared"},{"Ability":"Before attack: Remove 6 health from target, once.","Positive":true,"Id":"109","Name":"Squash","NameId":"Squash"},{"Ability":"Attack with +20 damage, once.","Positive":true,"Id":"12","Name":"Steak","NameId":"Steak"},{"Ability":"Faint: Give the back-most friend +1 attack and +1 health.","Positive":true,"Id":"14","Name":"Strawberry","NameId":"Strawberry"},{"Ability":"Hurt: If still standing, gain permanent +1 health, once.","Positive":true,"Id":"95","Name":"Sudduth Tomato","NameId":"SudduthTomato"},{"Ability":"Faint: Give one random enemy permanent +2 attack and +2 health.","Id":"85","Name":"Tasty","NameId":"Tasty"},{"Ability":"Anyone attacks: Take 1 damage, once.","Id":"73","Name":"Toasty","NameId":"Toasty"},{"Ability":"Before attack: Deal 10 damage to the last enemy, once.","Positive":true,"Id":"34","Name":"Tomato","NameId":"Tomato"},{"Ability":"Start of battle: Deal 2 damage to a random enemy.","Positive":true,"Id":"97","Name":"Unagi","NameId":"Unagi"},{"Ability":"Block 2 damage, once.","Positive":true,"Id":"80","Name":"Walnut","NameId":"Walnut"},{"Ability":"Take +3 damage.","Id":"10","Name":"Weak","NameId":"Weak"},{"Ability":"Faint: Summon one 2/2 Spider up front for the opponent.","Id":"27","Name":"Webbed","NameId":"Web"},{"Ability":"Block 10 damage twice or ailment once.","Positive":true,"Id":"101","Name":"White Okra","NameId":"WhiteOkra"},{"Ability":"Friend faints: Gain +4 attack and jump-attack the highest attack enemy, once.","Positive":true,"Id":"91","Name":"White Truffle","NameId":"WhiteTruffle"},{"Ability":"Faint: Summon two 5/5 Nordic Goats.","Positive":true,"Id":"50","Name":"Yggdrasil Fruit","NameId":"YggdrasilFruit"}]');var S2,P2,w2,lce=Zt.t(B$,2);const T2=new Map,O$=new Map;(null!==(S2=Uy)&&void 0!==S2?S2:yL).forEach(n=>{const e=String(n.Id),t=Number(n.Tier);T2.set(e,n.Name),Number.isFinite(t)&&O$.set(e,{name:n.Name,tier:t})});const cce=null!==(P2=B$)&&void 0!==P2?P2:lce,uce=null!==(w2=Iw)&&void 0!==w2?w2:m4,hce=new Map(cce.map(n=>[String(n.Id),n.Name])),dce=new Map(uce.map(n=>[String(n.Id),n.Name])),$$={0:"Turtle",1:"Puppy",2:"Star",5:"Golden",6:"Unicorn",7:"Danger"},pce={playerPack:"pP",opponentPack:"oP",playerToy:"pT",playerToyLevel:"pTL",opponentToy:"oT",opponentToyLevel:"oTL",turn:"t",playerGoldSpent:"pGS",opponentGoldSpent:"oGS",playerRollAmount:"pRA",opponentRollAmount:"oRA",playerSummonedAmount:"pSA",opponentSummonedAmount:"oSA",playerLevel3Sold:"pL3",opponentLevel3Sold:"oL3",playerTransformationAmount:"pTA",opponentTransformationAmount:"oTA",playerPets:"p",opponentPets:"o",angler:"an",allPets:"ap",logFilter:"lf",fontSize:"fs",customPacks:"cp",oldStork:"os",tokenPets:"tp",komodoShuffle:"ks",mana:"m",triggersConsumed:"tc",showAdvanced:"sa",ailmentEquipment:"ae",name:"n",attack:"a",health:"h",exp:"e",equipment:"eq",belugaSwallowedPet:"bSP",timesHurt:"tH"};class mce{parseReplayForCalculator(e,t,i){var r,a;const s=null!==(r=null==e?void 0:e.UserBoard)&&void 0!==r?r:null==i?void 0:i.userBoard,o=null!==(a=null==e?void 0:e.OpponentBoard)&&void 0!==a?a:null==i?void 0:i.opponentBoard,l=(O,q,W=null)=>{const ee=null==O?void 0:O[q];return void 0===ee?W:ee},p=O=>{var q;const W=((null===(q=null==O?void 0:O.Mins)||void 0===q?void 0:q.Items)||[]).filter(Boolean),ee=Array(5).fill(null);return W.forEach((re,ce)=>{var ue;let ge=null===(ue=re.Poi)||void 0===ue?void 0:ue.x;void 0===ge&&(ge=ce),ge>=0&&ge<5&&(ee[ge]=(O=>{var q,W,ee,re,ce,ue,ge,Ne,de,gt,st,J;if(!O)return null;const se=String(null!==(q=O.Enu)&&void 0!==q?q:0),ve=null!==(ee=null===(W=O.At)||void 0===W?void 0:W.Temp)&&void 0!==ee?ee:0,$e=null!==(ce=null===(re=O.Hp)||void 0===re?void 0:re.Temp)&&void 0!==ce?ce:0;let Ye=null;if("182"===se){const Ve=(null===(ge=null===(ue=null==O?void 0:O.MiMs)||void 0===ue?void 0:ue.Lsts)||void 0===ge?void 0:ge.WhiteWhaleAbility)||[];if(Ve.length>0){const Vi=null===(Ne=Ve[0])||void 0===Ne?void 0:Ne.Enu;Ye=T2.get(String(Vi))||`Pet #${Vi}`}}const nt=(O=>{var q;const W=null===(q=null==O?void 0:O.Pow)||void 0===q?void 0:q.SabertoothTigerAbility;return Number.isFinite(W)?W:null})(O),Lt=((null==O?void 0:O.Abil)||[]).map(Ve=>null==Ve?void 0:Ve.TrCo).filter(Ve=>Number.isFinite(Ve)),Kt={name:T2.get(se)||null,attack:(null!==(gt=null===(de=O.At)||void 0===de?void 0:de.Perm)&&void 0!==gt?gt:0)+ve,health:(null!==(J=null===(st=O.Hp)||void 0===st?void 0:st.Perm)&&void 0!==J?J:0)+$e,exp:O.Exp||0,equipment:O.Perk?{name:hce.get(String(O.Perk))||"Unknown Perk"}:null,mana:O.Mana||0,belugaSwallowedPet:Ye,sarcasticFringeheadSwallowedPet:null,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,battlesFought:0,triggersConsumed:Lt.length>0?Math.max(...Lt):0};return null!==nt&&(Kt.timesHurt=nt),Kt})(re))}),ee.reverse()},g=O=>{var q;const W=((null===(q=null==O?void 0:O.Rel)||void 0===q?void 0:q.Items)||[]).find(ee=>ee&&ee.Enu);if(W){const ee=String(W.Enu);return{name:dce.get(ee)||null,level:W.Lvl||1}}return{name:null,level:1}},k=g(s),T=g(o),E=this.buildCustomPacksFromGenesis(t,e),L=this.findCustomPackFromDeck(E,null==s?void 0:s.Deck),R=this.findCustomPackFromDeck(E,null==o?void 0:o.Deck);return{playerPack:$$[null==s?void 0:s.Pack]||(null==L?void 0:L.name)||"Turtle",opponentPack:$$[null==o?void 0:o.Pack]||(null==R?void 0:R.name)||"Turtle",playerToy:k.name,playerToyLevel:String(k.level),opponentToy:T.name,opponentToyLevel:String(T.level),turn:l(s,"Tur",1)||1,playerGoldSpent:l(s,"GoSp",0)||0,opponentGoldSpent:l(o,"GoSp",0)||0,playerRollAmount:l(s,"Rold",0)||0,opponentRollAmount:l(o,"Rold",0)||0,playerSummonedAmount:l(s,"MiSu",0)||0,opponentSummonedAmount:l(o,"MiSu",0)||0,playerLevel3Sold:l(s,"MSFL",0)||0,opponentLevel3Sold:l(o,"MSFL",0)||0,playerTransformationAmount:l(s,"TrTT",0)||0,opponentTransformationAmount:l(o,"TrTT",0)||0,playerPets:p(s),opponentPets:p(o),angler:!1,allPets:!1,logFilter:null,fontSize:13,customPacks:E,oldStork:!1,tokenPets:!1,komodoShuffle:!1,mana:!0,triggersConsumed:!0,showAdvanced:!0,ailmentEquipment:!1}}buildCustomPacksFromGenesis(e,t){var i,r,a;const s=[null===(i=null==e?void 0:e.Bor)||void 0===i?void 0:i.Deck,null===(r=null==t?void 0:t.UserBoard)||void 0===r?void 0:r.Deck,null===(a=null==t?void 0:t.OpponentBoard)||void 0===a?void 0:a.Deck].filter(d=>d&&Array.isArray(d.Minions)),o=[],l=new Set,c=new Set;for(const d of s){const p=(null==d?void 0:d.Id)?String(d.Id):null;if(p&&l.has(p))continue;p&&l.add(p);const g=this.buildCustomPackFromDeck(d,c);g&&o.push(Object.assign(Object.assign({},g),{deckId:p}))}return o}generateCalculatorLink(e){const t=window.location.origin+window.location.pathname,i=this.stripDefaultValues(e),r=this.truncateKeys(i),a=JSON.stringify(r);return`${t}?c=${btoa(a)}`}buildCustomPackFromDeck(e,t){if(!e||!Array.isArray(e.Minions))return null;const i=e.Minions.map(o=>String(o)),r={1:[],2:[],3:[],4:[],5:[],6:[]};for(const o of i){const l=O$.get(o);!l||r[l.tier]&&r[l.tier].push(l.name)}const a=o=>{const l=o.slice(0,10);for(;l.length<10;)l.push(null);return l};let s=e.Title||"Custom Pack";if(t.has(s)){let o=2;for(;t.has(`${s} (${o})`);)o+=1;s=`${s} (${o})`}return t.add(s),{name:s,tier1Pets:a(r[1]),tier2Pets:a(r[2]),tier3Pets:a(r[3]),tier4Pets:a(r[4]),tier5Pets:a(r[5]),tier6Pets:a(r[6])}}findCustomPackFromDeck(e,t){if(!t)return null;const i=(null==t?void 0:t.Id)?String(t.Id):null;if(i){const a=e.find(s=>s.deckId===i);if(a)return a}const r=null==t?void 0:t.Title;return r&&e.find(a=>a.name===r)||null}stripDefaultValues(e){const t={};"Turtle"!==e.playerPack&&(t.playerPack=e.playerPack),"Turtle"!==e.opponentPack&&(t.opponentPack=e.opponentPack),e.playerToy&&(t.playerToy=e.playerToy),e.playerToyLevel&&"1"!==e.playerToyLevel&&(t.playerToyLevel=e.playerToyLevel),e.opponentToy&&(t.opponentToy=e.opponentToy),e.opponentToyLevel&&"1"!==e.opponentToyLevel&&(t.opponentToyLevel=e.opponentToyLevel),11!==e.turn&&(t.turn=e.turn),10!==e.playerGoldSpent&&(t.playerGoldSpent=e.playerGoldSpent),10!==e.opponentGoldSpent&&(t.opponentGoldSpent=e.opponentGoldSpent),4!==e.playerRollAmount&&(t.playerRollAmount=e.playerRollAmount),4!==e.opponentRollAmount&&(t.opponentRollAmount=e.opponentRollAmount),0!==e.playerSummonedAmount&&(t.playerSummonedAmount=e.playerSummonedAmount),0!==e.opponentSummonedAmount&&(t.opponentSummonedAmount=e.opponentSummonedAmount),0!==e.playerLevel3Sold&&(t.playerLevel3Sold=e.playerLevel3Sold),0!==e.opponentLevel3Sold&&(t.opponentLevel3Sold=e.opponentLevel3Sold),0!==e.playerTransformationAmount&&(t.playerTransformationAmount=e.playerTransformationAmount),0!==e.opponentTransformationAmount&&(t.opponentTransformationAmount=e.opponentTransformationAmount),e.angler&&(t.angler=!0),e.allPets&&(t.allPets=!0),e.oldStork&&(t.oldStork=!0),e.tokenPets&&(t.tokenPets=!0),e.komodoShuffle&&(t.komodoShuffle=!0),e.mana&&(t.mana=!0),e.triggersConsumed&&(t.triggersConsumed=!0),e.showAdvanced&&(t.showAdvanced=!0),e.ailmentEquipment&&(t.ailmentEquipment=!0),e.logFilter&&(t.logFilter=e.logFilter),13!==e.fontSize&&(t.fontSize=e.fontSize),e.customPacks&&e.customPacks.length>0&&(t.customPacks=e.customPacks);const i=s=>{if(!s||!s.name)return null;const o={name:s.name};return 0!==s.attack&&(o.attack=s.attack),0!==s.health&&(o.health=s.health),0!==s.exp&&(o.exp=s.exp),0!==s.mana&&(o.mana=s.mana),s.equipment&&(o.equipment=s.equipment),s.triggersConsumed&&(o.triggersConsumed=s.triggersConsumed),null!==s.belugaSwallowedPet&&(o.belugaSwallowedPet=s.belugaSwallowedPet),s.timesHurt&&(o.timesHurt=s.timesHurt),o},r=e.playerPets.map(i);r.some(s=>null!==s)&&(t.playerPets=r);const a=e.opponentPets.map(i);return a.some(s=>null!==s)&&(t.opponentPets=a),t}truncateKeys(e){if(Array.isArray(e))return e.map(t=>this.truncateKeys(t));if(null!==e&&"object"==typeof e){const t={};for(const i in e)t[pce[i]||i]=this.truncateKeys(e[i]);return t}return e}}let gce=(()=>{class n{constructor(){this.parser=new mce}parseReplayForCalculator(t,i,r){return this.parser.parseReplayForCalculator(t,i,r)}buildCustomPacksFromGenesis(t,i){return this.parser.buildCustomPacksFromGenesis(t,i)}generateCalculatorLink(t){return this.parser.generateCalculatorLink(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class H${}class G${}class Fs{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(s):this.headers.set(a,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Fs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Fs;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Fs?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let s=this.headers.get(t);if(!s)return;s=s.filter(o=>-1===a.indexOf(o)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class yce{encodeKey(e){return q$(e)}encodeValue(e){return q$(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const bce=/%(\d[a-f0-9])/gi,Ace={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function q$(n){return encodeURIComponent(n).replace(bce,(e,t)=>{var i;return null!==(i=Ace[t])&&void 0!==i?i:e})}function V$(n){return`${n}`}class So{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new yce,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function vce(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[s,o]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],l=t.get(s)||[];l.push(o),t.set(s,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new So({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(V$(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(V$(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class kce{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function U$(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function W$(n){return"undefined"!=typeof Blob&&n instanceof Blob}function j$(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Wp{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Sce(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Fs),this.context||(this.context=new kce),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const o=t.indexOf("?");this.urlWithParams=t+(-1===o?"?":o<t.length-1?"&":"")+s}}else this.params=new So,this.urlWithParams=t}serializeBody(){return null===this.body?null:U$(this.body)||W$(this.body)||j$(this.body)||function Pce(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof So?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||j$(this.body)?null:W$(this.body)?this.body.type||null:U$(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof So?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,a=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,d=e.params||this.params;const p=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((g,k)=>g.set(k,e.setHeaders[k]),c)),e.setParams&&(d=Object.keys(e.setParams).reduce((g,k)=>g.set(k,e.setParams[k]),d)),new Wp(i,r,s,{params:d,headers:c,context:p,reportProgress:l,responseType:a,withCredentials:o})}}var gi=(()=>((gi=gi||{})[gi.Sent=0]="Sent",gi[gi.UploadProgress=1]="UploadProgress",gi[gi.ResponseHeader=2]="ResponseHeader",gi[gi.DownloadProgress=3]="DownloadProgress",gi[gi.Response=4]="Response",gi[gi.User=5]="User",gi))();class _2{constructor(e,t=200,i="OK"){this.headers=e.headers||new Fs,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class C2 extends _2{constructor(e={}){super(e),this.type=gi.ResponseHeader}clone(e={}){return new C2({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Pv extends _2{constructor(e={}){super(e),this.type=gi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Pv({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class z$ extends _2{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function E2(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let x2=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof Wp)a=t;else{let l,c;l=r.headers instanceof Fs?r.headers:new Fs(r.headers),r.params&&(c=r.params instanceof So?r.params:new So({fromObject:r.params})),a=new Wp(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=c2(a).pipe(function fce(n,e){return qs(n,e,1)}(l=>this.handler.handle(l)));if(t instanceof Wp||"events"===r.observe)return s;const o=s.pipe(u$(l=>l instanceof Pv));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return o.pipe(er(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return o.pipe(er(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return o.pipe(er(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return o.pipe(er(l=>l.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new So).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,E2(r,i))}post(t,i,r={}){return this.request("POST",t,E2(r,i))}put(t,i,r={}){return this.request("PUT",t,E2(r,i))}}return n.\u0275fac=function(t){return new(t||n)(te(H$))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();class K${constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Y$=new Ae("HTTP_INTERCEPTORS");let wce=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();const Tce=/^\)\]\}',?\n/;let Q$=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new at(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((k,T)=>r.setRequestHeader(k,T.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const k=t.detectContentTypeHeader();null!==k&&r.setRequestHeader("Content-Type",k)}if(t.responseType){const k=t.responseType.toLowerCase();r.responseType="json"!==k?k:"text"}const a=t.serializeBody();let s=null;const o=()=>{if(null!==s)return s;const k=r.statusText||"OK",T=new Fs(r.getAllResponseHeaders()),E=function _ce(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new C2({headers:T,status:r.status,statusText:k,url:E}),s},l=()=>{let{headers:k,status:T,statusText:E,url:L}=o(),R=null;204!==T&&(R=void 0===r.response?r.responseText:r.response),0===T&&(T=R?200:0);let x=T>=200&&T<300;if("json"===t.responseType&&"string"==typeof R){const G=R;R=R.replace(Tce,"");try{R=""!==R?JSON.parse(R):null}catch(O){R=G,x&&(x=!1,R={error:O,text:R})}}x?(i.next(new Pv({body:R,headers:k,status:T,statusText:E,url:L||void 0})),i.complete()):i.error(new z$({error:R,headers:k,status:T,statusText:E,url:L||void 0}))},c=k=>{const{url:T}=o(),E=new z$({error:k,status:r.status||0,statusText:r.statusText||"Unknown Error",url:T||void 0});i.error(E)};let d=!1;const p=k=>{d||(i.next(o()),d=!0);let T={type:gi.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(T.total=k.total),"text"===t.responseType&&!!r.responseText&&(T.partialText=r.responseText),i.next(T)},g=k=>{let T={type:gi.UploadProgress,loaded:k.loaded};k.lengthComputable&&(T.total=k.total),i.next(T)};return r.addEventListener("load",l),r.addEventListener("error",c),r.addEventListener("timeout",c),r.addEventListener("abort",c),t.reportProgress&&(r.addEventListener("progress",p),null!==a&&r.upload&&r.upload.addEventListener("progress",g)),r.send(a),i.next({type:gi.Sent}),()=>{r.removeEventListener("error",c),r.removeEventListener("abort",c),r.removeEventListener("load",l),r.removeEventListener("timeout",c),t.reportProgress&&(r.removeEventListener("progress",p),null!==a&&r.upload&&r.upload.removeEventListener("progress",g)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(te(M3))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();const D2=new Ae("XSRF_COOKIE_NAME"),L2=new Ae("XSRF_HEADER_NAME");class Z${}let Cce=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=T3(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(te(Pi),te(Xf),te(D2))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),I2=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const a=this.tokenService.getToken();return null!==a&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,a)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(te(Z$),te(L2))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),Ece=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(Y$,[]);this.chain=i.reduceRight((r,a)=>new K$(r,a),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(te(G$),te(vn))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),xce=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:I2,useClass:wce}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:D2,useValue:t.cookieName}:[],t.headerName?{provide:L2,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ri({providers:[I2,{provide:Y$,useExisting:I2,multi:!0},{provide:Z$,useClass:Cce},{provide:D2,useValue:"XSRF-TOKEN"},{provide:L2,useValue:"X-XSRF-TOKEN"}]}),n})(),Dce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ri({providers:[x2,{provide:H$,useClass:Ece},Q$,{provide:G$,useExisting:Q$}],imports:[[xce.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();function Lce(n,e){if(1&n&&(b(0,"div",9),P(1),v()),2&n){const t=ye();N(1),Si(t.errorMessage)}}let Ice=(()=>{class n{constructor(t,i){this.replayCalcService=t,this.http=i,this.formGroup=new Ii({calcCode:new ie(null,mp.required),turn:new ie(1,mp.min(1))}),this.errorMessage="",this.loading=!1}ngOnInit(){}submit(){var t,i,r;this.errorMessage="";const a=null===(t=this.formGroup.get("calcCode").value)||void 0===t?void 0:t.trim();if(!a)return void(this.errorMessage="Paste calculator JSON or replay JSON.");let s;try{s=JSON.parse(a)}catch(o){return void(this.errorMessage="Invalid JSON. Please paste a valid calculator or replay JSON.")}if((null==s?void 0:s.Pid)&&!(null==s?void 0:s.Actions)){const o=Number(null!==(i=null==s?void 0:s.T)&&void 0!==i?i:this.formGroup.get("turn").value);return!Number.isFinite(o)||o<=0?void(this.errorMessage="Enter a valid turn number."):(this.loading=!0,void this.http.post("/api/replay-battle",{Pid:s.Pid,T:o}).subscribe({next:l=>{this.loading=!1;const c=null==l?void 0:l.battle;c?this.importReplayBattle(c,null==l?void 0:l.genesisBuildModel):this.errorMessage="Replay lookup failed to return a battle."},error:l=>{var c;this.loading=!1,this.errorMessage=(null===(c=null==l?void 0:l.error)||void 0===c?void 0:c.error)||"Failed to fetch replay data."}}))}if((null==s?void 0:s.UserBoard)&&(null==s?void 0:s.OpponentBoard))this.importReplayBattle(s,null==s?void 0:s.GenesisBuildModel,{userBoard:null==s?void 0:s.UserBoard,opponentBoard:null==s?void 0:s.OpponentBoard});else{if(null==s?void 0:s.Actions){const o=Number(null!==(r=this.formGroup.get("turn").value)&&void 0!==r?r:null==s?void 0:s.T);if(!Number.isFinite(o)||o<=0)return void(this.errorMessage="Enter a valid turn number.");let l=0,c=null;for(const d of s.Actions)if(0===(null==d?void 0:d.Type)&&(null==d?void 0:d.Battle)&&(l+=1,l===o)){try{c=JSON.parse(d.Battle)}catch(p){return void(this.errorMessage=`Failed to parse battle JSON for turn ${o}.`)}break}return c?void this.importReplayBattle(c,null==s?void 0:s.GenesisBuildModel,{userBoard:null==s?void 0:s.UserBoard,opponentBoard:null==s?void 0:s.OpponentBoard}):void(this.errorMessage=`No battle found for turn ${o}.`)}this.importFunc(a)?alert("Import successful"):this.errorMessage="Import failed."}}importReplayBattle(t,i,r){const a=this.replayCalcService.parseReplayForCalculator(t,i,r);this.importFunc(JSON.stringify(a))?alert("Import successful"):this.errorMessage="Import failed."}}return n.\u0275fac=function(t){return new(t||n)(U(gce),U(x2))},n.\u0275cmp=Gn({type:n,selectors:[["app-import-calculator"]],inputs:{importFunc:"importFunc"},decls:14,vars:4,consts:[[1,"form-group",3,"formGroup"],[1,"text-muted","mb-2"],["id","calcCode","rows","8","formControlName","calcCode",1,"form-control","mb-2","calc-textarea"],[1,"d-flex","align-items-end","gap-3","flex-wrap","mb-2"],["for","turnNumber",1,"form-label"],["id","turnNumber","type","number","min","1","formControlName","turn",1,"form-control"],[1,"btn","btn-primary",3,"disabled","click"],[1,"warning","mb-2"],["class","text-danger mb-2",4,"ngIf"],[1,"text-danger","mb-2"]],template:function(t,i){1&t&&(b(0,"div",0)(1,"div",1),P(2," Paste calculator JSON or replay JSON. Replay inputs can include Actions, a single battle JSON, or a Pid lookup. "),v(),ne(3,"textarea",2),b(4,"div",3)(5,"div")(6,"label",4),P(7,"Turn (1-based)"),v(),ne(8,"input",5),v(),b(9,"button",6),Ee("click",function(){return i.submit()}),P(10),v()(),b(11,"div",7),P(12," Warning: This will overwrite any existing custom packs. Any custom packs in the import will be added. "),v(),he(13,Lce,2,1,"div",8),v()),2&t&&($("formGroup",i.formGroup),N(9),$("disabled",i.loading),N(1),qt(" ",i.loading?"Fetching...":"Import / Replay"," "),N(3),$("ngIf",i.errorMessage))},directives:[Nl,da,ha,Fl,ho,Iy,bp,Ml],styles:[".calc-textarea[_ngcontent-%COMP%]{min-height:180px;font-family:Courier New,Courier,monospace;white-space:pre;overflow-wrap:normal;overflow:auto;resize:vertical}"]}),n})(),Mce=(()=>{class n{constructor(t){this.localStorageService=t}ngOnInit(){}formGroupValueString(){if(!this.formGroup)return"";try{const i=(0,mi.cloneDeep)(this.formGroup.value),r=[...i.playerPets||[],...i.opponentPets||[]];for(const a of r)a&&(delete a.parent,delete a.logService,delete a.abilityService,delete a.gameService,delete a.petService,a.equipment&&(a.equipment={name:a.equipment.name}));return JSON.stringify(i,null,2)}catch(t){return console.error("Error creating export string:",t),"Error: Could not generate the export data."}}copyToClipboard(){this.localStorageService.setFormStorage(this.formGroup);const t=this.formGroupValueString();t.startsWith("Error:")?alert("Failed to export"):navigator.clipboard.writeText(t).then(()=>{alert("Copied to clipboard")}).catch(i=>{console.error("Clipboard error:",i),alert("Failed to copy to clipboard.")})}}return n.\u0275fac=function(t){return new(t||n)(U(A2))},n.\u0275cmp=Gn({type:n,selectors:[["app-export-calculator"]],inputs:{formGroup:"formGroup"},decls:4,vars:1,consts:[[1,"form-group"],["id","calcCode","rows","8","readonly","",1,"form-control","mb-2","calc-textarea",3,"value"],[1,"btn","btn-primary",3,"click"]],template:function(t,i){1&t&&(b(0,"div",0),ne(1,"textarea",1),b(2,"button",2),Ee("click",function(){return i.copyToClipboard()}),P(3,"Copy to Clipboard"),v()()),2&t&&(N(1),$("value",i.formGroupValueString()))},styles:[".calc-textarea[_ngcontent-%COMP%]{min-height:180px;font-family:Courier New,Courier,monospace;white-space:pre;overflow-wrap:normal;overflow:auto;resize:vertical}"]}),n})();const Rce=function(n){return["form-group","mb-3",n]};function Fce(n,e){if(1&n){const t=mr();b(0,"div")(1,"p"),P(2," A shareable link of the current calculator will automatically be sent to the developer. Please make sure the calculator is currently relevant to the bug you are reporting. Provide a description of the bug below. (Player should have won, pet's ability is wrong, etc.) Name is optional. Provide your Discord ID if you want me to follow up with you. "),v(),b(3,"div",1)(4,"div",2)(5,"label",3),P(6,"Name/Alias/Discord ID"),v(),ne(7,"input",4),v(),b(8,"div")(9,"label",5),P(10,"Description"),v(),ne(11,"textarea",6),v()(),b(12,"button",7),Ee("click",function(){return ot(t),ye().submit()}),P(13,"Submit"),v()()}if(2&n){const t=ye();N(3),$("ngClass",function gF(n,e,t,i){return yF(Q(),Ni(),n,e,t,i)}(2,Rce,t.submitted?"was-validated":""))("formGroup",t.formGroup)}}function Nce(n,e){if(1&n){const t=mr();b(0,"div")(1,"h1"),P(2,"Thank you for the bug report!"),v(),b(3,"button",7),Ee("click",function(){return ot(t),ye().back()}),P(4,"Report another bug :("),v()()}}let Bce=(()=>{class n{constructor(t){this.http=t,this.formGroup=new Ii({name:new ie(""),description:new ie(null,mp.required)}),this.reported=!1,this.submitted=!1}ngOnInit(){}submit(){if(this.submitted=!0,this.formGroup.invalid)return;let t;try{const s=(0,mi.cloneDeep)(this.calcFormGroup.value),o=[...s.playerPets||[],...s.opponentPets||[]];for(const p of o)p&&(delete p.parent,delete p.logService,delete p.abilityService,delete p.gameService,delete p.petService,p.equipment&&(p.equipment={name:p.equipment.name}));const l=JSON.stringify(s);t=`http://localhost:4200/?c=${encodeURIComponent(l)}`}catch(a){console.error("Error creating bug report data:",a),t="Error: Could not generate shareable link"}let i=Object.assign(Object.assign({},this.formGroup.value),{link:t});const r=new Fs({"Content-Type":"application/json"});this.http.post("https://formspree.io/f/mgvzngzp",{name:"SAP CALC",replyto:"Ruihan20080129@gmail.com",message:i},{headers:r}).subscribe(a=>{console.log("Bug report submitted successfully:",a),this.reported=!0},a=>{console.error("Error submitting bug report:",a),alert("Failed to submit bug report. Please try again or contact the developer directly.")})}back(){this.formGroup.reset(),this.submitted=!1,this.reported=!1}}return n.\u0275fac=function(t){return new(t||n)(U(x2))},n.\u0275cmp=Gn({type:n,selectors:[["app-report-a-bug"]],inputs:{calcFormGroup:"calcFormGroup"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngClass","formGroup"],[1,"mb-3"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],["for","description"],["rows","3","formControlName","description","required","",1,"form-control"],[1,"btn","btn-primary",3,"click"]],template:function(t,i){1&t&&(he(0,Fce,14,4,"div",0),he(1,Nce,5,0,"div",0)),2&t&&($("ngIf",!i.reported),N(1),$("ngIf",i.reported))},directives:[Ml,bS,Nl,da,ha,Fl,ho,My],styles:[""]}),n})();const Oce=["customPackEditor"];function $ce(n,e){if(1&n&&(wl(0),b(1,"div",1),P(2),v(),Tl()),2&n){const t=ye();N(2),Si(t.apiResponse)}}function Hce(n,e){1&n&&ne(0,"img",119),2&n&&$("src",ye(2).playerToyImageUrl,$r)}function Gce(n,e){if(1&n&&(b(0,"span",120),P(1),v()),2&n){const t=ye(2);N(1),qt("Lv",t.formGroup.get("playerToyLevel").value,"")}}function qce(n,e){if(1&n&&(b(0,"div",121)(1,"div",122),Dh(),b(2,"svg",123),ne(3,"path",124)(4,"path",125),v()(),Lh(),ne(5,"app-pet-selector",126),v()),2&n){const t=e.$implicit,i=e.index,r=ye(2);N(5),$("pet",r.player["pet"+(4-i)])("player",r.player)("opponent",r.opponent)("index",4-i)("formGroup",r.makeFormGroup(t))("angler",r.formGroup.get("angler").value)("ailments",!0)("allPets",r.formGroup.get("allPets").value)("mana",r.formGroup.get("mana").value)("triggersConsumed",r.formGroup.get("triggersConsumed").value)("allowEquipmentUseOverrides",r.formGroup.get("changeEquipmentUses").value)("showTokenPets",r.formGroup.get("tokenPets").value)("flipImage",!0)("customPacks",r.formGroup.get("customPacks"))}}function Vce(n,e){1&n&&ne(0,"img",127),2&n&&$("src",ye(2).opponentToyImageUrl,$r)}function Uce(n,e){if(1&n&&(b(0,"span",120),P(1),v()),2&n){const t=ye(2);N(1),qt("Lv",t.formGroup.get("opponentToyLevel").value,"")}}function Wce(n,e){if(1&n&&(b(0,"div",128)(1,"div",122),Dh(),b(2,"svg",123),ne(3,"path",124)(4,"path",125),v()(),Lh(),ne(5,"app-pet-selector",129),v()),2&n){const t=e.$implicit,i=e.index,r=ye(2);N(5),$("pet",r.opponent["pet"+i])("player",r.opponent)("opponent",r.player)("index",i)("formGroup",r.makeFormGroup(t))("angler",r.formGroup.get("angler").value)("ailments",!0)("allPets",r.formGroup.get("allPets").value)("mana",r.formGroup.get("mana").value)("triggersConsumed",r.formGroup.get("triggersConsumed").value)("allowEquipmentUseOverrides",r.formGroup.get("changeEquipmentUses").value)("showTokenPets",r.formGroup.get("tokenPets").value)("customPacks",r.formGroup.get("customPacks"))}}function jce(n,e){if(1&n&&(b(0,"div",130)(1,"div",131)(2,"label"),P(3,"Player Wins:"),v(),b(4,"span"),P(5),v(),b(6,"label"),P(7,"Opponent Wins:"),v(),b(8,"span"),P(9),v(),b(10,"label"),P(11,"Draws:"),v(),b(12,"span"),P(13),v()(),b(14,"div",132)(15,"span",133),ne(16,"span",134)(17,"span",135),v()()()),2&n){const t=ye(2);N(5),Zd("",t.playerWinner," - ",t.winPercent,"%"),N(4),Zd("",t.opponentWinner," - ",t.losePercent,"%"),N(4),Zd("",t.draw," - ",t.drawPercent,"%"),N(3),Yd("width",t.getDrawWidth()),N(1),Yd("width",t.getLoseWidth())}}function zce(n,e){if(1&n&&(b(0,"option",136),P(1),v()),2&n){const t=e.$implicit;$("value",t.id),N(1),Si(t.name)}}function Kce(n,e){if(1&n&&(b(0,"option",136),P(1),v()),2&n){const t=e.$implicit;$("value",t.get("name").value),N(1),qt(" ",t.get("name").value,"")}}function Yce(n,e){if(1&n&&(b(0,"option",136),P(1),v()),2&n){const t=e.$implicit;$("value",t.get("name").value),N(1),qt(" ",t.get("name").value,"")}}function Qce(n,e){if(1&n&&(b(0,"option",64),P(1),v()),2&n){const t=e.$implicit;$("ngValue",t),N(1),Si(t)}}function Zce(n,e){if(1&n&&(b(0,"optgroup",137),he(1,Qce,2,2,"option",138),v()),2&n){const t=e.$implicit;$("label","Tier "+t.key),N(1),$("ngForOf",t.value)}}function Jce(n,e){if(1&n&&(b(0,"option",64),P(1),v()),2&n){const t=e.$implicit;$("ngValue",t),N(1),Si(t)}}function Xce(n,e){if(1&n&&(b(0,"optgroup",137),he(1,Jce,2,2,"option",138),v()),2&n){const t=e.$implicit;$("label","Tier "+t.key),N(1),$("ngForOf",t.value)}}function eue(n,e){1&n&&(b(0,"div",39)(1,"div",40)(2,"div",139)(3,"div",140)(4,"label",141),P(5,"Turn"),v(),ne(6,"input",142),v(),b(7,"div",143)(8,"label",144),P(9,"Player Gold Spent"),v(),ne(10,"input",145),v(),b(11,"div",143)(12,"label",146),P(13,"Opponent Gold Spent"),v(),ne(14,"input",147),v(),b(15,"div",143)(16,"label",148),P(17,"Player Roll Amt"),v(),ne(18,"input",149),v(),b(19,"div",143)(20,"label",150),P(21,"Opponent Roll Amt"),v(),ne(22,"input",151),v(),b(23,"div",143)(24,"label",152),P(25,"Player Lvl 3 Sold"),v(),ne(26,"input",153),v(),b(27,"div",143)(28,"label",154),P(29,"Opponent Lvl 3 Sold"),v(),ne(30,"input",155),v(),b(31,"div",143)(32,"label",156),P(33,"Player Summoned Amt"),v(),ne(34,"input",157),v(),b(35,"div",143)(36,"label",158),P(37,"Opponent Summoned Amt"),v(),ne(38,"input",159),v(),b(39,"div",143)(40,"label",160),P(41,"Player Transformation Amt"),v(),ne(42,"input",161),v(),b(43,"div",143)(44,"label",162),P(45,"Opponent Transformation Amt"),v(),ne(46,"input",163),v()()()())}function tue(n,e){if(1&n){const t=mr();b(0,"tr",185),Ee("click",function(){const a=ot(t).$implicit;return ye(3).setViewBattle(a)}),b(1,"td"),P(2),v(),b(3,"td"),P(4),v(),b(5,"td",186),P(6),v()()}if(2&n){const t=e.$implicit,i=e.index,r=ye(3);$("ngClass","player"===t.winner?"battle-win":"opponent"===t.winner?"battle-loss":""),N(2),Si(i),N(2),Si(t.winner),N(2),Si(r.getRandomEvents(t))}}const iue=function(n,e){return[n,e]};function nue(n,e){if(1&n&&(b(0,"div",167)(1,"span",187),P(2),v()()),2&n){const t=e.$implicit,i=ye(3);N(1),$("ngClass",fF(2,iue,i.getPlayerClass(t),t.randomEvent?"random-event":"")),N(1),Si(t.message)}}function rue(n,e){if(1&n&&(b(0,"div",164)(1,"div",165)(2,"h3"),P(3,"Battles"),v(),b(4,"div",166)(5,"div",167)(6,"label",168),P(7,"Filter Battles By Winner"),v()(),b(8,"div",167)(9,"div",169),ne(10,"input",170),b(11,"label",171),P(12,"None"),v()(),b(13,"div",169),ne(14,"input",172),b(15,"label",173),P(16,"Player"),v()(),b(17,"div",169),ne(18,"input",174),b(19,"label",175),P(20,"Opponent"),v()(),b(21,"div",169),ne(22,"input",176),b(23,"label",177),P(24,"Draw"),v()()()(),b(25,"div",178)(26,"table",179)(27,"thead")(28,"tr")(29,"th",180),P(30,"Battle No."),v(),b(31,"th"),P(32,"Winner"),v(),b(33,"th"),P(34,"Random Events"),v()()(),b(35,"tbody"),he(36,tue,7,4,"tr",181),v()()()(),b(37,"div",182)(38,"h3"),P(39,"Logs"),v(),b(40,"div",183),he(41,nue,3,5,"div",184),v()()()),2&n){const t=ye(2);N(10),$("value",null),N(26),$("ngForOf",t.filteredBattles),N(5),$("ngForOf",t.getViewBattleLogs())}}const J$=function(){return{standalone:!0}};function sue(n,e){if(1&n){const t=mr();wl(0),b(1,"div",2,3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7)(7,"h2",8),P(8,"Player"),v(),he(9,Hce,1,1,"img",9),he(10,Gce,2,1,"span",10),v(),b(11,"button",11),Ee("click",function(){return ot(t),ye().resetPlayer("player")}),P(12,"Reset"),v()(),b(13,"div",12)(14,"div",13),Ee("cdkDropListDropped",function(r){return ot(t),ye().drop(r,"player")}),he(15,qce,6,14,"div",14),v()()(),b(16,"div",15)(17,"div",6)(18,"div",7)(19,"h2",8),P(20,"Opponent"),v(),he(21,Vce,1,1,"img",16),he(22,Uce,2,1,"span",10),v(),b(23,"button",11),Ee("click",function(){return ot(t),ye().resetPlayer("opponent")}),P(24,"Reset"),v()(),b(25,"div",17)(26,"div",13),Ee("cdkDropListDropped",function(r){return ot(t),ye().drop(r,"opponent")}),he(27,Wce,6,13,"div",18),v()()()(),b(28,"div",19)(29,"div",20)(30,"span",21),P(31,"Info/Guide"),v(),b(32,"span",22),P(33),v(),b(34,"span",22),P(35),v(),b(36,"span",23),P(37,"Patch Notes"),v()(),b(38,"div",24)(39,"div")(40,"button",25),Ee("click",function(){return ot(t),ye().simulate(1e3)}),P(41,"Simulate 1000 Times"),v(),b(42,"button",25),Ee("click",function(){return ot(t),ye().simulate(100)}),P(43,"Simulate 100 Times"),v(),b(44,"button",25),Ee("click",function(){return ot(t),ye().randomize()}),P(45,"Randomize"),v()(),he(46,jce,18,10,"div",26),b(47,"div")(48,"button",27),P(49,"Report A Bug"),v(),b(50,"button",28),P(51,"Export Calculator"),v(),b(52,"button",29),P(53,"Import / Replay"),v(),b(54,"button",25),Ee("click",function(){return ot(t),ye().generateShareLink()}),P(55,"Generate Link"),v()()(),b(56,"div",30)(57,"div",31)(58,"input",32),Ee("ngModelChange",function(r){return ot(t),ye().teamName=r}),v(),b(59,"button",33),Ee("click",function(){return ot(t),ye().saveTeam("player")}),P(60,"Save Player"),v(),b(61,"button",33),Ee("click",function(){return ot(t),ye().saveTeam("opponent")}),P(62,"Save Opponent"),v()(),b(63,"div",34)(64,"select",35),Ee("ngModelChange",function(r){return ot(t),ye().selectedTeamId=r}),b(65,"option",36),P(66,"Saved teams"),v(),he(67,zce,2,2,"option",37),v(),b(68,"button",38),Ee("click",function(){return ot(t),ye().loadTeam("player")}),P(69,"Load Player"),v(),b(70,"button",38),Ee("click",function(){return ot(t),ye().loadTeam("opponent")}),P(71,"Load Opponent"),v()()()(),b(72,"div",39)(73,"div",40)(74,"div",41)(75,"div",42)(76,"div",43)(77,"label",44),P(78,"Player Pack"),v(),b(79,"select",45)(80,"option",46),P(81,"Turtle"),v(),b(82,"option",47),P(83,"Puppy"),v(),b(84,"option",48),P(85,"Star"),v(),b(86,"option",49),P(87,"Golden"),v(),b(88,"option",50),P(89,"Unicorn"),v(),b(90,"option",51),P(91,"Danger"),v(),b(92,"optgroup",52),he(93,Kce,2,2,"option",37),b(94,"option",53),P(95,"Add Custom Pack"),v()()()(),b(96,"div",43)(97,"label",44),P(98,"Opponent Pack"),v(),b(99,"select",54)(100,"option",46),P(101,"Turtle"),v(),b(102,"option",47),P(103,"Puppy"),v(),b(104,"option",48),P(105,"Star"),v(),b(106,"option",49),P(107,"Golden"),v(),b(108,"option",50),P(109,"Unicorn"),v(),b(110,"option",51),P(111,"Danger"),v(),b(112,"optgroup",52),he(113,Yce,2,2,"option",37),b(114,"option",53),P(115,"Add Custom Pack"),v()()()(),b(116,"div",55)(117,"div",56),ne(118,"input",57),b(119,"label",58),P(120," Angler "),v()(),b(121,"div",59),ne(122,"input",60),b(123,"label",61),P(124," All Pets "),v()()()(),b(125,"div",62)(126,"div",43)(127,"label",44),P(128,"Player Toy"),v(),b(129,"select",63)(130,"option",64),P(131,"None"),v(),he(132,Zce,2,2,"optgroup",65),El(133,"keyvalue"),v()(),b(134,"div",66)(135,"label",67),P(136,"Toy Level"),v(),b(137,"select",68)(138,"option"),P(139,"1"),v(),b(140,"option"),P(141,"2"),v(),b(142,"option"),P(143,"3"),v()()(),b(144,"div",43)(145,"label",44),P(146,"Opponent Toy"),v(),b(147,"select",69)(148,"option",64),P(149,"None"),v(),he(150,Xce,2,2,"optgroup",65),El(151,"keyvalue"),v()(),b(152,"div",66)(153,"label",70),P(154,"Toy Level"),v(),b(155,"select",71)(156,"option"),P(157,"1"),v(),b(158,"option"),P(159,"2"),v(),b(160,"option"),P(161,"3"),v()()()(),b(162,"div",72)(163,"div",73),ne(164,"input",74),b(165,"label",75),P(166," Token Pets "),v()(),b(167,"div",76),ne(168,"input",77),b(169,"label",78),P(170," Komodo Shuffle "),v()(),b(171,"div",79),ne(172,"input",80),b(173,"label",81),P(174," Change number of uses of equipment "),v()(),b(175,"div",82),ne(176,"input",83),b(177,"label",84),P(178," Mana "),v()(),b(179,"div",85),ne(180,"input",86),b(181,"label",87),P(182," Triggers Consumed "),v()(),b(183,"div",88)(184,"span",89),Ee("click",function(){return ot(t),ye().toggleAdvanced()}),P(185),v()()()(),b(186,"div",90)(187,"label",91),P(188,"Zoom"),v(),b(189,"div")(190,"button",92),Ee("click",function(){return ot(t),ye().zoomIn()}),P(191,"+"),v(),b(192,"button",93),Ee("click",function(){return ot(t),ye().zoomOut()}),P(193,"-"),v()()()()(),he(194,eue,47,0,"div",94),he(195,rue,42,3,"div",95),v(),b(196,"div",96)(197,"div",97)(198,"div",98)(199,"div",99)(200,"h1",100),P(201,"Patch Notes"),v(),ne(202,"button",101),v(),b(203,"div",102),ne(204,"app-patch-notes"),v(),b(205,"div",103)(206,"span",89),Ee("click",function(){return ot(t),ye().clearCache()}),P(207,"Clear Cache"),v()()()()(),b(208,"div",104,105)(210,"div",106)(211,"div",98)(212,"div",99)(213,"h1",107),P(214,"Custom Pack Editor"),v(),ne(215,"button",101),v(),b(216,"div",102),ne(217,"app-custom-pack-editor",108),v()()()(),b(218,"div",109)(219,"div",106)(220,"div",98)(221,"div",99)(222,"h1",110),P(223,"Info"),v(),ne(224,"button",101),v(),b(225,"div",102),ne(226,"app-info"),v()()()(),b(227,"div",111)(228,"div",106)(229,"div",98)(230,"div",99)(231,"h1",112),P(232,"Import / Replay"),v(),ne(233,"button",101),v(),b(234,"div",102),ne(235,"app-import-calculator",113),v()()()(),b(236,"div",114)(237,"div",106)(238,"div",98)(239,"div",99)(240,"h1",115),P(241,"Export Calculator"),v(),ne(242,"button",101),v(),b(243,"div",102),ne(244,"app-export-calculator",108),v()()()(),b(245,"div",116)(246,"div",106)(247,"div",98)(248,"div",99)(249,"h1",117),P(250,"Report A Bug"),v(),ne(251,"button",101),v(),b(252,"div",102),ne(253,"app-report-a-bug",118),v()()()(),Tl()}if(2&n){const t=ye();N(1),$("formGroup",t.formGroup),N(2),Yd("background-image",t.battleBackgroundUrl?"url("+t.battleBackgroundUrl+")":""),N(6),$("ngIf",t.playerToyImageUrl),N(1),$("ngIf",t.playerToyImageUrl),N(5),$("ngForOf",t.getPlayerPetsFormArray()),N(6),$("ngIf",t.opponentToyImageUrl),N(1),$("ngIf",t.opponentToyImageUrl),N(5),$("ngForOf",t.getOpponentPetsFormArray()),N(6),qt("Last Updated: ",t.lastUpdated,""),N(2),qt("Version: ",t.version,""),N(11),$("ngIf",t.simulated),N(12),$("ngModel",t.teamName)("ngModelOptions",zf(36,J$)),N(6),$("ngModel",t.selectedTeamId)("ngModelOptions",zf(37,J$)),N(3),$("ngForOf",t.savedTeams),N(1),$("disabled",!t.selectedTeamId),N(2),$("disabled",!t.selectedTeamId),N(23),$("ngForOf",t.validCustomPacks),N(20),$("ngForOf",t.validCustomPacks),N(17),$("ngValue",null),N(2),$("ngForOf",xl(133,32,t.toys)),N(16),$("ngValue",null),N(2),$("ngForOf",xl(151,34,t.toys)),N(35),qt("",t.formGroup.get("showAdvanced").value?"Hide":"Show"," Advanced Settings"),N(9),$("ngIf",t.formGroup.get("showAdvanced").value),N(1),$("ngIf",t.simulated),N(22),$("formGroup",t.formGroup),N(18),$("importFunc",t.import.bind(t)),N(9),$("formGroup",t.formGroup),N(9),$("calcFormGroup",t.formGroup)}}let uue=(()=>{class n{constructor(t,i,r,a,s,o,l,c,d,p,g,k){this.logService=t,this.injector=i,this.abilityService=r,this.gameService=a,this.petService=s,this.toyService=o,this.equipmentService=l,this.localStorageService=c,this.urlStateService=d,this.calculatorStateService=p,this.simulationService=g,this.teamPresetsService=k,this.version="0.9.3",this.sapVersion="0.33.3-156 BETA",this.lastUpdated="1/14/2026",this.title="sap-calculator",this.maxTurns=71,this.turns=0,this.attackCount=0,this.battleStarted=!1,this.simulationBattleAmt=1e3,this.playerWinner=0,this.opponentWinner=0,this.draw=0,this.battles=[],this.simulated=!1,this.previousPackPlayer=null,this.previousPackOpponent=null,this.dayNight=!0,this.battleBackgroundUrl="",this.playerToyImageUrl="",this.opponentToyImageUrl="",this.savedTeams=[],this.selectedTeamId="",this.teamName="",this.battleBackgrounds=["AboveCloudsBattle.png","ArcticBattle.png","AutumnForestBattle.png","BeachBattle.png","BridgeBattle.png","CastleWallBattle.png","CaveBattle.png","ColosseumBattle.png","CornFieldBattle.png","DesertBattle.png","DungeonBattle.png","FarmBattle.png","FieldBattle.png","FoodLandBattle.png","FrontYardBattle.png","HalloweenStreetBattle.png","JungleBattle.png","LavaCaveBattle.png","LavaMountainBattle.png","MoneyBinBattle.png","MoonBattle.png","PagodaBattle.png","PlaygroundBattle.png","SavannaBattle.png","ScaryForestBattle.png","SnowBattle.png","SpaceStationBattle.png","UnderwaterBattle.png","UrbanCityBattle.png","WildWestTownBattle.png","WinterPineForestBattle.png","WizardSchoolBattle.png"],this.api=!1,this.apiResponse=null,this.isLoadedFromUrl=!1,Je.setInjector(this.injector),this.player=new Ny(t,r,a),this.opponent=new Ny(t,r,a),this.opponent.isOpponent=!0,this.gameService.init(this.player,this.opponent),this.petService.init(),this.initFormGroup();const T=this.urlStateService.parseApiStateFromUrl();T.state?(this.api=!0,this.applyCalculatorState(T.state),this.simulate(),this.buildApiResponse()):T.error&&(console.error(T.error),this.apiResponse=JSON.stringify({error:"Invalid or corrupted data provided in the URL."}))}buildApiResponse(){this.apiResponse=JSON.stringify({playerWins:this.playerWinner,opponentWins:this.opponentWinner,draws:this.draw},null)}printFormGroup(){console.log(this.formGroup)}ngOnInit(){this.isLoadedFromUrl=this.loadStateFromUrl(!0),this.isLoadedFromUrl||this.loadLocalStorage(),this.initApp(),this.loadTeamPresets(),this.setRandomBackground(),this.initGameApi(),this.setDayNight(),this.toys=this.toyService.toys}loadStateFromUrl(t=!1){const i=this.urlStateService.parseCalculatorStateFromUrl();if(!i.state)return i.error&&(console.error(i.error),alert("Could not load the shared calculator link. The data may be corrupted.")),!1;const r=this.import(JSON.stringify(i.state),t);return r&&console.log("Calculator state loaded from URL."),r}ngAfterViewInit(){this.isLoadedFromUrl&&this.petSelectors.forEach(t=>{t.fixLoadEquipment()}),this.api||this.initModals()}loadLocalStorage(){if(this.localStorageService.getStorage())try{let i=JSON.parse(this.localStorageService.getStorage());this.applyCalculatorState(i)}catch(i){console.log("error loading local storage",i),this.localStorageService.clearStorage()}}applyCalculatorState(t){this.calculatorStateService.applyCalculatorState(this.formGroup,t,this.dayNight,()=>this.fixCustomPackSelect())}setDayNight(){let i=this.formGroup.get("turn").value%2==1;this.dayNight=i,this.gameService.gameApi.day=i}setRandomBackground(){if(!this.battleBackgrounds.length)return void(this.battleBackgroundUrl="");const t=Math.floor(Math.random()*this.battleBackgrounds.length);this.battleBackgroundUrl=`/assets/art/Public/Public/Background/${this.battleBackgrounds[t]}`}fixCustomPackSelect(){this.formGroup.get("playerPack").setValue(this.formGroup.get("playerPack").value,{emitEvent:!1}),this.formGroup.get("opponentPack").setValue(this.formGroup.get("opponentPack").value,{emitEvent:!1})}initApp(){this.petService.buildCustomPackPets(this.formGroup.get("customPacks")),this.setFontSize(),this.initPlayerPets(),this.updatePlayerPack(this.player,this.formGroup.get("playerPack").value,!1),this.updatePlayerPack(this.opponent,this.formGroup.get("opponentPack").value,!1),this.updatePlayerToy(this.player,this.formGroup.get("playerToy").value),this.updatePlayerToy(this.opponent,this.formGroup.get("opponentToy").value),this.previousPackOpponent=this.opponent.pack,this.previousPackPlayer=this.player.pack}initGameApi(){this.gameService.gameApi.day=this.dayNight,this.gameService.gameApi.oldStork=this.formGroup.get("oldStork").value,this.gameService.gameApi.komodoShuffle=this.formGroup.get("komodoShuffle").value,this.gameService.gameApi.mana=this.formGroup.get("mana").value,this.gameService.gameApi.playerRollAmount=this.formGroup.get("playerRollAmount").value,this.gameService.gameApi.opponentRollAmount=this.formGroup.get("opponentRollAmount").value,this.gameService.gameApi.playerLevel3Sold=this.formGroup.get("playerLevel3Sold").value,this.gameService.gameApi.opponentLevel3Sold=this.formGroup.get("opponentLevel3Sold").value,this.gameService.gameApi.playerSummonedAmount=this.formGroup.get("playerSummonedAmount").value,this.gameService.gameApi.opponentSummonedAmount=this.formGroup.get("opponentSummonedAmount").value,this.gameService.gameApi.playerTransformationAmount=this.formGroup.get("playerTransformationAmount").value,this.gameService.gameApi.opponentTransformationAmount=this.formGroup.get("opponentTransformationAmount").value}initPlayerPets(){for(let t=0;t<5;t++){let i=this.formGroup.get("playerPets").controls[t];if(null==i.get("name").value)continue;let r=this.petService.createPet(i.value,this.player);this.player.setPet(t,r,!0)}for(let t=0;t<5;t++){let i=this.formGroup.get("opponentPets").controls[t];if(null==i.get("name").value)continue;let r=this.petService.createPet(i.value,this.opponent);this.opponent.setPet(t,r,!0)}}randomizePlayerPets(t){for(let i=0;i<5;i++){const r=this.petService.getRandomPet(t);r.equipment=this.getRandomEquipment(),t.setPet(i,r,!0)}}makeFormGroup(t){return t}initFormGroup(){var t,i,r,a,s,o;this.updatePreviousShopTier(11),this.updateGoldSpent(10,10),this.formGroup=new Ii({playerPack:new ie(this.player.pack),opponentPack:new ie(this.opponent.pack),playerToy:new ie(null===(t=this.player.toy)||void 0===t?void 0:t.name),playerToyLevel:new ie(null!==(r=null===(i=this.player.toy)||void 0===i?void 0:i.level)&&void 0!==r?r:1),opponentToy:new ie(null===(a=this.opponent.toy)||void 0===a?void 0:a.name),opponentToyLevel:new ie(null!==(o=null===(s=this.opponent.toy)||void 0===s?void 0:s.level)&&void 0!==o?o:1),turn:new ie(11),playerGoldSpent:new ie(10),opponentGoldSpent:new ie(10),angler:new ie(!1),allPets:new ie(!1),logFilter:new ie(null),playerPets:new Dy([]),opponentPets:new Dy([]),fontSize:new ie(13),customPacks:new Dy([]),oldStork:new ie(!1),tokenPets:new ie(!1),komodoShuffle:new ie(!1),mana:new ie(!1),triggersConsumed:new ie(!1),playerRollAmount:new ie(4),opponentRollAmount:new ie(4),playerLevel3Sold:new ie(0),opponentLevel3Sold:new ie(0),playerSummonedAmount:new ie(0),opponentSummonedAmount:new ie(0),playerTransformationAmount:new ie(0),opponentTransformationAmount:new ie(0),showAdvanced:new ie(!1),ailmentEquipment:new ie(!0),changeEquipmentUses:new ie(!1)}),this.initPetForms(),this.formGroup.get("playerPack").valueChanges.subscribe(p=>{if(null!=p){if("Add Custom Pack"==p)return void this.openCustomPackEditor();this.previousPackPlayer=p,this.updatePlayerPack(this.player,p)}}),this.formGroup.get("opponentPack").valueChanges.subscribe(p=>{if(null!=p){if("Add Custom Pack"==p)return void this.openCustomPackEditor();this.previousPackOpponent=p,this.updatePlayerPack(this.opponent,p)}}),this.formGroup.get("playerToy").valueChanges.subscribe(p=>{this.updatePlayerToy(this.player,p)}),this.formGroup.get("opponentToy").valueChanges.subscribe(p=>{this.updatePlayerToy(this.opponent,p)}),this.formGroup.get("playerToyLevel").valueChanges.subscribe(p=>{this.updateToyLevel(this.player,p)}),this.formGroup.get("opponentToyLevel").valueChanges.subscribe(p=>{this.updateToyLevel(this.opponent,p)}),this.formGroup.get("turn").valueChanges.subscribe(p=>{this.updatePreviousShopTier(p),this.setDayNight()}),this.formGroup.get("playerGoldSpent").valueChanges.subscribe(p=>{this.updateGoldSpent(p,null)}),this.formGroup.get("opponentGoldSpent").valueChanges.subscribe(p=>{this.updateGoldSpent(null,p)}),this.formGroup.get("angler").valueChanges.subscribe(p=>{setTimeout(()=>{this.updateSelectorPets()})}),this.formGroup.get("oldStork").valueChanges.subscribe(p=>{this.gameService.gameApi.oldStork=p}),this.formGroup.get("komodoShuffle").valueChanges.subscribe(p=>{this.gameService.gameApi.komodoShuffle=p}),this.formGroup.get("mana").valueChanges.subscribe(p=>{this.gameService.gameApi.mana=p}),this.formGroup.get("playerRollAmount").valueChanges.subscribe(p=>{this.gameService.gameApi.playerRollAmount=p,console.log("playerRollAmount",p)}),this.formGroup.get("opponentRollAmount").valueChanges.subscribe(p=>{this.gameService.gameApi.opponentRollAmount=p,console.log("opponentRollAmount",p)}),this.formGroup.get("playerLevel3Sold").valueChanges.subscribe(p=>{this.gameService.gameApi.playerLevel3Sold=p}),this.formGroup.get("opponentLevel3Sold").valueChanges.subscribe(p=>{this.gameService.gameApi.opponentLevel3Sold=p}),this.formGroup.get("playerSummonedAmount").valueChanges.subscribe(p=>{this.gameService.gameApi.playerSummonedAmount=p}),this.formGroup.get("opponentSummonedAmount").valueChanges.subscribe(p=>{this.gameService.gameApi.opponentSummonedAmount=p}),this.formGroup.get("playerTransformationAmount").valueChanges.subscribe(p=>{this.gameService.gameApi.playerTransformationAmount=p}),this.formGroup.get("opponentTransformationAmount").valueChanges.subscribe(p=>{this.gameService.gameApi.opponentTransformationAmount=p})}toggleAdvanced(){let t=this.formGroup.get("showAdvanced").value;this.formGroup.get("showAdvanced").setValue(!t)}initPetForms(){let t=[0,1,2,3,4],i=t.map(o=>{var l,c,d,p,g,k,T,E,L,R,x,G,O,q,W,ee,re,ce,ue,ge,Ne,de,gt,st,J,se;return new Ii({name:new ie(null===(l=this.player[`pet${o}`])||void 0===l?void 0:l.name),attack:new ie(null!==(d=null===(c=this.player[`pet${o}`])||void 0===c?void 0:c.attack)&&void 0!==d?d:0),health:new ie(null!==(g=null===(p=this.player[`pet${o}`])||void 0===p?void 0:p.health)&&void 0!==g?g:0),exp:new ie(null!==(T=null===(k=this.player[`pet${o}`])||void 0===k?void 0:k.exp)&&void 0!==T?T:0),equipment:new ie(null===(E=this.player[`pet${o}`])||void 0===E?void 0:E.equipment),equipmentUses:new ie(null!==(x=null===(R=null===(L=this.player[`pet${o}`])||void 0===L?void 0:L.equipment)||void 0===R?void 0:R.uses)&&void 0!==x?x:null),belugaSwallowedPet:new ie(null===(G=this.player[`pet${o}`])||void 0===G?void 0:G.belugaSwallowedPet),sarcasticFringeheadSwallowedPet:new ie(null===(O=this.player[`pet${o}`])||void 0===O?void 0:O.sarcasticFringeheadSwallowedPet),mana:new ie(null!==(W=null===(q=this.player[`pet${o}`])||void 0===q?void 0:q.mana)&&void 0!==W?W:0),triggersConsumed:new ie(null!==(re=null===(ee=this.player[`pet${o}`])||void 0===ee?void 0:ee.triggersConsumed)&&void 0!==re?re:0),abominationSwallowedPet1:new ie(null===(ce=this.player[`pet${o}`])||void 0===ce?void 0:ce.abominationSwallowedPet1),abominationSwallowedPet2:new ie(null===(ue=this.player[`pet${o}`])||void 0===ue?void 0:ue.abominationSwallowedPet2),abominationSwallowedPet3:new ie(null===(ge=this.player[`pet${o}`])||void 0===ge?void 0:ge.abominationSwallowedPet3),friendsDiedBeforeBattle:new ie(null!==(de=null===(Ne=this.player[`pet${o}`])||void 0===Ne?void 0:Ne.friendsDiedBeforeBattle)&&void 0!==de?de:0),battlesFought:new ie(null!==(st=null===(gt=this.player[`pet${o}`])||void 0===gt?void 0:gt.battlesFought)&&void 0!==st?st:0),timesHurt:new ie(null!==(se=null===(J=this.player[`pet${o}`])||void 0===J?void 0:J.timesHurt)&&void 0!==se?se:0)})}),r=this.formGroup.get("playerPets");r.clear();for(let o of i)r.push(o);let a=t.map(o=>{var l,c,d,p,g,k,T,E,L,R,x,G,O,q,W,ee,re,ce,ue,ge,Ne,de,gt,st,J,se;return new Ii({name:new ie(null===(l=this.opponent[`pet${o}`])||void 0===l?void 0:l.name),attack:new ie(null!==(d=null===(c=this.opponent[`pet${o}`])||void 0===c?void 0:c.attack)&&void 0!==d?d:0),health:new ie(null!==(g=null===(p=this.opponent[`pet${o}`])||void 0===p?void 0:p.health)&&void 0!==g?g:0),exp:new ie(null!==(T=null===(k=this.opponent[`pet${o}`])||void 0===k?void 0:k.exp)&&void 0!==T?T:0),equipment:new ie(null===(E=this.opponent[`pet${o}`])||void 0===E?void 0:E.equipment),equipmentUses:new ie(null!==(x=null===(R=null===(L=this.opponent[`pet${o}`])||void 0===L?void 0:L.equipment)||void 0===R?void 0:R.uses)&&void 0!==x?x:null),belugaSwallowedPet:new ie(null===(G=this.opponent[`pet${o}`])||void 0===G?void 0:G.belugaSwallowedPet),sarcasticFringeheadSwallowedPet:new ie(null===(O=this.opponent[`pet${o}`])||void 0===O?void 0:O.sarcasticFringeheadSwallowedPet),mana:new ie(null!==(W=null===(q=this.opponent[`pet${o}`])||void 0===q?void 0:q.mana)&&void 0!==W?W:0),triggersConsumed:new ie(null!==(re=null===(ee=this.opponent[`pet${o}`])||void 0===ee?void 0:ee.triggersConsumed)&&void 0!==re?re:0),abominationSwallowedPet1:new ie(null===(ce=this.opponent[`pet${o}`])||void 0===ce?void 0:ce.abominationSwallowedPet1),abominationSwallowedPet2:new ie(null===(ue=this.opponent[`pet${o}`])||void 0===ue?void 0:ue.abominationSwallowedPet2),abominationSwallowedPet3:new ie(null===(ge=this.opponent[`pet${o}`])||void 0===ge?void 0:ge.abominationSwallowedPet3),friendsDiedBeforeBattle:new ie(null!==(de=null===(Ne=this.opponent[`pet${o}`])||void 0===Ne?void 0:Ne.friendsDiedBeforeBattle)&&void 0!==de?de:0),battlesFought:new ie(null!==(st=null===(gt=this.opponent[`pet${o}`])||void 0===gt?void 0:gt.battlesFought)&&void 0!==st?st:0),timesHurt:new ie(null!==(se=null===(J=this.opponent[`pet${o}`])||void 0===J?void 0:J.timesHurt)&&void 0!==se?se:0)})}),s=this.formGroup.get("opponentPets");s.clear();for(let o of a)s.push(o)}getPlayerPetsFormArray(){return Array.from(this.formGroup.get("playerPets").controls).reverse()}getOpponentPetsFormArray(){return Array.from(this.formGroup.get("opponentPets").controls)}updatePlayerPack(t,i,r=!0){let a;switch(t.pack=i,i){case"Turtle":a=this.petService.turtlePackPets;break;case"Puppy":a=this.petService.puppyPackPets;break;case"Star":a=this.petService.starPackPets;break;case"Golden":a=this.petService.goldenPackPets;break;case"Unicorn":a=this.petService.unicornPackPets;break;case"Danger":a=this.petService.dangerPackPets;break;default:a=this.petService.playerCustomPackPets.get(i)}t==this.player?this.gameService.setTierGroupPets(a,null):this.gameService.setTierGroupPets(null,a),this.formGroup.get("allPets")}updateSelectorPets(){this.petSelectors.forEach(t=>{t.initPets()})}updatePlayerToy(t,i){let r;t==this.player&&(r="playerToyLevel"),t==this.opponent&&(r="opponentToyLevel");let a=Number(this.formGroup.get(r).value);t.toy=this.toyService.createToy(i,t,a),t.originalToy=t.toy,this.setToyImage(t,i)}setToyImage(t,i){const r=this.toyService.getToyNameId(i),a=r?`/assets/art/Public/Public/Toys/${r}.png`:"";t==this.player?this.playerToyImageUrl=a:t==this.opponent&&(this.opponentToyImageUrl=a)}updatePreviousShopTier(t){let i=1;t>2&&(i=2),t>4&&(i=3),t>6&&(i=4),t>8&&(i=5),t>10&&(i=6),this.gameService.setPreviousShopTier(i),this.gameService.setTurnNumber(t)}updateGoldSpent(t,i){this.gameService.setGoldSpent(t,i)}updateToyLevel(t,i){t.toy&&(t.toy.level=i)}getRandomEquipment(){var t,i;const r=Array.from(this.equipmentService.getInstanceOfAllEquipment().values()),s=(null===(i=null===(t=this.formGroup)||void 0===t?void 0:t.get("ailmentEquipment"))||void 0===i?void 0:i.value)?Array.from(this.equipmentService.getInstanceOfAllAilments().values()):[],o=r.concat(s);return 0===o.length?null:o[Math.floor(Math.random()*o.length)]}simulate(t=1e3){try{this.runSimulation(t)}catch(i){console.error(i),window.alert("Something went wrong, please send a bug report.")}}runSimulation(t=1e3){this.simulationBattleAmt=t,this.localStorageService.setFormStorage(this.formGroup);const i=this.simulationService.runSimulation(this.formGroup,t,this.player,this.opponent);this.playerWinner=i.playerWins,this.opponentWinner=i.opponentWins,this.draw=i.draws,this.battles=i.battles||[],this.viewBattle=i.battles[0]||null,this.simulated=!0}get logs(){return this.logService.getLogs()}setViewBattle(t){this.viewBattle=t}getViewBattleLogs(){var t,i;return null!==(i=null===(t=this.viewBattle)||void 0===t?void 0:t.logs)&&void 0!==i?i:[]}getDrawWidth(){return`${this.losePercent+this.drawPercent}%`}getLoseWidth(){return`${this.losePercent}%`}getPlayerClass(t){return null==t.player?"log":t.player.isOpponent?"log-opponent":"log-player"}getRandomEvents(t){let i="",r=t.logs.filter(a=>1==a.randomEvent);for(let a of r)i+=a.message,a!=r[r.length-1]&&(i+="\n");return i}saveTeam(t){var i;const r=(null===(i=this.teamName)||void 0===i?void 0:i.trim())||prompt("Team name?");if(!r)return;const a=this.buildTeamFromSide(t),s="player"===t?this.formGroup.get("playerToy").value:this.formGroup.get("opponentToy").value,o=Number("player"===t?this.formGroup.get("playerToyLevel").value:this.formGroup.get("opponentToyLevel").value),l=this.savedTeams.find(c=>c.name.toLowerCase()===r.toLowerCase());if(l)l.pets=a,l.name=r,l.toyName=s,l.toyLevel=o;else{const c=`${Date.now()}-${Math.random().toString(16).slice(2,8)}`;this.savedTeams.push({id:c,name:r,pets:a,createdAt:Date.now(),toyName:s,toyLevel:o}),this.selectedTeamId=c}this.teamName="",this.teamPresetsService.persistTeams(this.savedTeams)}loadTeam(t){var i,r,a,s,o,l,c,d,p,g,k,T,E,L,R,x,G,O,q,W,ee;const re=this.savedTeams.find(Ne=>Ne.id===this.selectedTeamId);if(!re)return;"player"===t?(this.formGroup.get("playerToy").setValue(null!==(i=re.toyName)&&void 0!==i?i:null),this.formGroup.get("playerToyLevel").setValue(null!==(r=re.toyLevel)&&void 0!==r?r:1)):(this.formGroup.get("opponentToy").setValue(null!==(a=re.toyName)&&void 0!==a?a:null),this.formGroup.get("opponentToyLevel").setValue(null!==(s=re.toyLevel)&&void 0!==s?s:1));const ce="player"===t?this.player:this.opponent,ue=this.equipmentService.getInstanceOfAllEquipment(),ge=this.equipmentService.getInstanceOfAllAilments();for(let Ne=0;Ne<5;Ne++){const de=null===(o=re.pets)||void 0===o?void 0:o[Ne];if(!(null==de?void 0:de.name)){ce.setPet(Ne,null,!0);continue}const gt=null===(l=de.equipment)||void 0===l?void 0:l.name,st=gt?null!==(c=ue.get(gt))&&void 0!==c?c:ge.get(gt):null;let J=st?By(st):null;if(J){const ve=null!==(d=de.equipmentUses)&&void 0!==d?d:J.uses;null!=ve&&(J.uses=ve,J.originalUses=ve)}const se=this.petService.createPet({name:de.name,attack:null!==(p=de.attack)&&void 0!==p?p:0,health:null!==(g=de.health)&&void 0!==g?g:0,exp:null!==(k=de.exp)&&void 0!==k?k:0,equipment:null!=J?J:null,belugaSwallowedPet:null!==(T=de.belugaSwallowedPet)&&void 0!==T?T:null,sarcasticFringeheadSwallowedPet:null!==(E=de.sarcasticFringeheadSwallowedPet)&&void 0!==E?E:null,mana:null!==(L=de.mana)&&void 0!==L?L:0,triggersConsumed:null!==(R=de.triggersConsumed)&&void 0!==R?R:0,abominationSwallowedPet1:null!==(x=de.abominationSwallowedPet1)&&void 0!==x?x:null,abominationSwallowedPet2:null!==(G=de.abominationSwallowedPet2)&&void 0!==G?G:null,abominationSwallowedPet3:null!==(O=de.abominationSwallowedPet3)&&void 0!==O?O:null,friendsDiedBeforeBattle:null!==(q=de.friendsDiedBeforeBattle)&&void 0!==q?q:0,battlesFought:null!==(W=de.battlesFought)&&void 0!==W?W:0,timesHurt:null!==(ee=de.timesHurt)&&void 0!==ee?ee:0},ce);ce.setPet(Ne,se,!0)}this.initPetForms(),this.applyTeamEquipmentUses(t,re.pets)}buildTeamFromSide(t){return this.formGroup.get("player"===t?"playerPets":"opponentPets").controls.map(a=>this.sanitizePetFormValue(a.value))}sanitizePetFormValue(t){var i,r,a,s,o,l,c,d,p,g,k,T,E,L,R,x,G;if(!(null==t?void 0:t.name))return null;const O=null!==(r=null===(i=t.equipment)||void 0===i?void 0:i.name)&&void 0!==r?r:null;return{name:null!==(a=t.name)&&void 0!==a?a:null,attack:null!==(s=t.attack)&&void 0!==s?s:0,health:null!==(o=t.health)&&void 0!==o?o:0,exp:null!==(l=t.exp)&&void 0!==l?l:0,equipment:O?{name:O}:null,belugaSwallowedPet:null!==(c=t.belugaSwallowedPet)&&void 0!==c?c:null,sarcasticFringeheadSwallowedPet:null!==(d=t.sarcasticFringeheadSwallowedPet)&&void 0!==d?d:null,mana:null!==(p=t.mana)&&void 0!==p?p:0,triggersConsumed:null!==(g=t.triggersConsumed)&&void 0!==g?g:0,abominationSwallowedPet1:null!==(k=t.abominationSwallowedPet1)&&void 0!==k?k:null,abominationSwallowedPet2:null!==(T=t.abominationSwallowedPet2)&&void 0!==T?T:null,abominationSwallowedPet3:null!==(E=t.abominationSwallowedPet3)&&void 0!==E?E:null,friendsDiedBeforeBattle:null!==(L=t.friendsDiedBeforeBattle)&&void 0!==L?L:0,battlesFought:null!==(R=t.battlesFought)&&void 0!==R?R:0,timesHurt:null!==(x=t.timesHurt)&&void 0!==x?x:0,equipmentUses:null!==(G=t.equipmentUses)&&void 0!==G?G:null}}applyTeamEquipmentUses(t,i){var r,a;const o=this.formGroup.get("player"===t?"playerPets":"opponentPets");if(o)for(let l=0;l<o.length;l++){const c=o.at(l),d=null==i?void 0:i[l];null===(r=c.get("equipmentUses"))||void 0===r||r.setValue(null!==(a=null==d?void 0:d.equipmentUses)&&void 0!==a?a:null,{emitEvent:!1})}}loadTeamPresets(){this.savedTeams=this.teamPresetsService.loadTeams()}randomize(t){null==t&&!confirm("Are you sure you want to randomize?")||(t?this.randomizePlayerPets(t):(this.randomizePlayerPets(this.player),this.randomizePlayerPets(this.opponent)),this.formGroup&&this.initPetForms(),setTimeout(()=>{this.petSelectors.forEach(i=>{i.initSelector()})}))}zoomIn(){this.formGroup.get("fontSize").setValue(Math.min(this.formGroup.get("fontSize").value+1,20)),this.setFontSize()}zoomOut(){this.formGroup.get("fontSize").setValue(Math.max(this.formGroup.get("fontSize").value-1,8)),this.setFontSize()}setFontSize(){document.documentElement.style.fontSize=`${this.formGroup.get("fontSize").value}px`}clearCache(){this.localStorageService.clearStorage(),alert("Cache cleared. Refresh page to see changes.")}initModals(){this.customPackEditorModal=new Ul(this.customPackEditor.nativeElement),this.customPackEditor.nativeElement.addEventListener("hidden.bs.modal",t=>{})}openCustomPackEditor(){this.customPackEditorModal.show(),this.formGroup.get("playerPack").setValue(this.previousPackPlayer,{emitEvent:!1}),this.formGroup.get("opponentPack").setValue(this.previousPackOpponent,{emitEvent:!1})}drop(t,i){let r=t.previousIndex,a=t.currentIndex;"player"==i&&(r=4-r,a=4-a);let s=this.formGroup.get(`${i}Pets`);w$(s.controls,r,a),s.updateValueAndValidity(),setTimeout(()=>{for(let o of this.petSelectors.toArray())o.substitutePet()})}resetPlayer(t){if(!confirm(`Are you sure you want to reset ${t}?`))return;let i=this.petSelectors.toArray().slice("player"==t?0:5,"player"==t?5:10);for(let r of i)r.removePet()}export(){this.localStorageService.setFormStorage(this.formGroup);let t=JSON.stringify(this.formGroup.value);navigator.clipboard.writeText(t).then(()=>{alert("Copied to clipboard")})}import(t,i=!1){let r=!1;try{const a=JSON.parse(t);this.applyCalculatorState(a),this.initApp(),i||setTimeout(()=>{this.petSelectors&&this.petSelectors.forEach(s=>{s.fixLoadEquipment()})},0),r=!0}catch(a){console.error(a)}return r}generateShareLink(){this.localStorageService.setFormStorage(this.formGroup);const i=(0,mi.cloneDeep)(this.formGroup.value),r=[...i.playerPets||[],...i.opponentPets||[]];for(const c of r)c&&(delete c.parent,delete c.logService,delete c.abilityService,delete c.gameService,delete c.petService,c.equipment&&(c.equipment={name:c.equipment.name}));const a=JSON.stringify(i),s=encodeURIComponent(a),l=`${window.location.origin+window.location.pathname}?c=${s}`;navigator.clipboard.writeText(l).then(()=>{alert("Shareable link copied to clipboard!")}).catch(c=>{console.error("Failed to copy link: ",c),alert("Failed to copy link. See console for details.")})}get filteredBattles(){return this.battles.filter(t=>{let i=this.formGroup.get("logFilter").value;return null==i||t.winner==i})}get winPercent(){return fP(this.playerWinner/this.simulationBattleAmt*100)}get drawPercent(){return fP(this.draw/this.simulationBattleAmt*100)}get losePercent(){return fP(this.opponentWinner/this.simulationBattleAmt*100)}get validCustomPacks(){let t=this.formGroup.get("customPacks"),i=[];for(let r of t.controls)r.valid&&i.push(r);return i}}return n.\u0275fac=function(t){return new(t||n)(U(Pn),U(vn),U(ya),U(fa),U(vr),U(Jr),U(Dt),U(A2),U(Hle),U(Gle),U(Vle),U(Ule))},n.\u0275cmp=Gn({type:n,selectors:[["app-root"]],viewQuery:function(t,i){if(1&t&&(Wk(Oce,5),Wk(dB,5)),2&t){let r;Eu(r=xu())&&(i.customPackEditor=r.first),Eu(r=xu())&&(i.petSelectors=r)}},decls:2,vars:2,consts:[[4,"ngIf"],["id","apiResponse"],[1,"container-fluid","app-wrapper","flex-col",3,"formGroup"],["container",""],[1,"row","battle-row","pb-5","pt-3"],[1,"col-12","col-xl-6","px-4","mb-2","mb-xl-0"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-center","toy-wrap"],[1,"me-2"],["class","toy-art","alt","Player Toy",3,"src",4,"ngIf"],["class","toy-level",4,"ngIf"],[1,"btn","btn-secondary","mb-1",3,"click"],[1,"card","p-2","player-card"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"row","row-cols-1","row-cols-md-5","g-0",3,"cdkDropListDropped"],["class","col drag-container mb-2 mb-md-0 px-0","cdkDrag","",4,"ngFor","ngForOf"],[1,"col-12","col-xl-6","px-4"],["class","toy-art","alt","Opponent Toy",3,"src",4,"ngIf"],[1,"card","p-2","player-card","ml-auto"],["class","col drag-container mb-2 mb-sm-0 px-0","cdkDrag","",4,"ngFor","ngForOf"],[1,"row","button-bar","pt-3","pb-1","border"],[1,"col-12","meta-row"],["data-bs-toggle","modal","data-bs-target","#info",1,"btn-link","info-link"],[1,"meta-text"],["data-bs-toggle","modal","data-bs-target","#patchNotes",1,"btn-link"],[1,"col-12","action-row"],[1,"btn","btn-primary","me-2","mb-2",3,"click"],["class","results-row",4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#reportABug",1,"btn","btn-secondary","me-2","mb-2"],["data-bs-toggle","modal","data-bs-target","#export",1,"btn","btn-secondary","me-2","mb-2"],["data-bs-toggle","modal","data-bs-target","#import",1,"btn","btn-secondary","mb-2"],[1,"col-12","team-row"],[1,"team-row-left"],["placeholder","Team name",1,"form-control","team-name-input",3,"ngModel","ngModelOptions","ngModelChange"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"team-row-right"],[1,"form-control","team-select",3,"ngModel","ngModelOptions","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-secondary","btn-sm",3,"disabled","click"],[1,"row","battle-controller","border"],[1,"col-12","d-flex","justify-content-between","py-2"],[1,"control-groups"],[1,"control-group","group-packs"],[1,"form-group","min-w-input"],["for","playerPack"],["id","playerPack","formControlName","playerPack",1,"form-control"],["value","Turtle"],["value","Puppy"],["value","Star"],["value","Golden"],["value","Unicorn"],["value","Danger"],["label","Custom Packs"],["value","Add Custom Pack"],["id","opponentPack","formControlName","opponentPack",1,"form-control"],[1,"flex-column"],["title","Opponent's pack pets are included in the pet pool.",1,"form-check"],["type","checkbox","value","","id","angler","formControlName","angler",1,"form-check-input"],["for","angler",1,"form-check-label"],["title","All pets are included in the pet pool.",1,"form-check"],["type","checkbox","value","","id","allPets","formControlName","allPets",1,"form-check-input"],["for","allPets",1,"form-check-label"],[1,"control-group","group-toys"],["id","playerToy","formControlName","playerToy",1,"form-control"],[3,"ngValue"],[3,"label",4,"ngFor","ngForOf"],[1,"form-group"],["for","playerToyLevel"],["id","playerToyLevel","formControlName","playerToyLevel",1,"form-control"],["id","opponentToy","formControlName","opponentToy",1,"form-control"],["for","opponentToyLevel"],["id","opponentToyLevel","formControlName","opponentToyLevel",1,"form-control"],[1,"control-group","group-options"],["title","Include Token Pets in pet pool.",1,"form-check"],["type","checkbox","value","","id","tokenPets","formControlName","tokenPets",1,"form-check-input"],["for","tokenPets",1,"form-check-label"],["title","Shuffle pets in front of Komodo if present.",1,"form-check"],["type","checkbox","value","","id","komodoShuffle","formControlName","komodoShuffle",1,"form-check-input"],["for","komodoShuffle",1,"form-check-label"],["title","Enable changing equipment uses globally.",1,"form-check"],["type","checkbox","value","","id","changeEquipmentUses","formControlName","changeEquipmentUses",1,"form-check-input"],["for","changeEquipmentUses",1,"form-check-label"],["title","Include Mana.",1,"form-check"],["type","checkbox","value","","id","mana","formControlName","mana",1,"form-check-input"],["for","mana",1,"form-check-label"],["title","Include Triggers Consumed.",1,"form-check"],["type","checkbox","value","","id","triggersConsumed","formControlName","triggersConsumed",1,"form-check-input"],["for","triggersConsumed",1,"form-check-label"],[1,"form-group","d-flex","align-items-end"],[1,"btn-link",3,"click"],[1,"flex-col","zoom-container"],["for","zoom"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"btn","btn-secondary",3,"click"],["class","row battle-controller border",4,"ngIf"],["class","row flex-1 bottom-container",4,"ngIf"],["id","patchNotes","tabindex","-1","aria-labelledby","patchNotesLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","patchNotesLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["id","customPackEditor","tabindex","-1","aria-labelledby","customPackEditorLabel","aria-hidden","true",1,"modal","fade"],["customPackEditor",""],[1,"modal-dialog","modal-lg"],["id","customPackEditorLabel",1,"modal-title","fs-5"],[3,"formGroup"],["id","info","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5"],["id","import","tabindex","-1","aria-labelledby","importModalLabel","aria-hidden","true",1,"modal","fade"],["id","importModalLabel",1,"modal-title","fs-5"],[3,"importFunc"],["id","export","tabindex","-1","aria-labelledby","exportModalLabel","aria-hidden","true",1,"modal","fade"],["id","exportModalLabel",1,"modal-title","fs-5"],["id","reportABug","tabindex","-1","aria-labelledby","reportABug","aria-hidden","true",1,"modal","fade"],["id","reportABug",1,"modal-title","fs-5"],[3,"calcFormGroup"],["alt","Player Toy",1,"toy-art",3,"src"],[1,"toy-level"],["cdkDrag","",1,"col","drag-container","mb-2","mb-md-0","px-0"],["cdkDragHandle","",1,"drag-handle"],["fill","currentColor","viewBox","0 0 24 24"],["d","M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"],["d","M0 0h24v24H0z","fill","none"],[3,"pet","player","opponent","index","formGroup","angler","ailments","allPets","mana","triggersConsumed","allowEquipmentUseOverrides","showTokenPets","flipImage","customPacks"],["alt","Opponent Toy",1,"toy-art",3,"src"],["cdkDrag","",1,"col","drag-container","mb-2","mb-sm-0","px-0"],[3,"pet","player","opponent","index","formGroup","angler","ailments","allPets","mana","triggersConsumed","allowEquipmentUseOverrides","showTokenPets","customPacks"],[1,"results-row"],[1,"stats"],[1,"py-1"],[1,"results-bar"],[1,"draw-bar"],[1,"lose-bar"],[3,"value"],[3,"label"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"border-end","d-flex","flex-wrap","pe-3"],[1,"form-group","small-w-input","me-s-3"],["for","turn"],["id","turn","type","number","formControlName","turn","max","99",1,"form-control"],[1,"form-group","advanced-input","ms-3"],["for","playerGoldSpent","title","Player Gold Spent"],["id","turn","type","number","formControlName","playerGoldSpent","max","99",1,"form-control"],["for","opponentGoldSpent","title","Opponent Gold Spent"],["id","turn","type","number","formControlName","opponentGoldSpent","max","99",1,"form-control"],["for","playerRollAmount","title","Player Roll Amount"],["id","turn","type","number","formControlName","playerRollAmount","max","99",1,"form-control"],["for","opponentRollAmount","title","Opponent Roll Amount"],["id","turn","type","number","formControlName","opponentRollAmount","max","99",1,"form-control"],["for","playerLevel3Sold","title","Player Level 3 Sold"],["id","turn","type","number","formControlName","playerLevel3Sold","max","99",1,"form-control"],["for","opponentLevel3Sold","title","Opponent Level 3 Sold"],["id","turn","type","number","formControlName","opponentLevel3Sold","max","99",1,"form-control"],["for","playerSummonedAmount","title","Player Summoned Amount"],["id","turn","type","number","formControlName","playerSummonedAmount","max","99",1,"form-control"],["for","opponentSummonedAmount","title","Opponent Summoned Amount"],["id","turn","type","number","formControlName","opponentSummonedAmount","max","99",1,"form-control"],["for","playerTransformationAmount","title","Player Transformation Amount"],["id","turn","type","number","formControlName","playerTransformationAmount","max","99",1,"form-control"],["for","opponentTransformationAmount","title","Opponent Transformation Amount"],["id","turn","type","number","formControlName","opponentTransformationAmount","max","99",1,"form-control"],[1,"row","flex-1","bottom-container"],[1,"col-12","col-md-6","border","h-100","flex-col","pe-0"],[1,"row"],[1,"col-12"],["for","logFilter",1,"form-label"],[1,"form-check","form-check-inline"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio1",1,"form-check-input",3,"value"],["for","inlineRadio1",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio2","value","player",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio3","value","opponent",1,"form-check-input"],["for","inlineRadio3",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio4","value","draw",1,"form-check-input"],["for","inlineRadio4",1,"form-check-label"],[1,"battle-container","flex-1","scroll"],[1,"table"],[1,"battle-no"],["class","table-battle-row",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","border","h-100","flex-col"],[1,"row","log-container","flex-1","scroll"],["class","col-12",4,"ngFor","ngForOf"],[1,"table-battle-row",3,"ngClass","click"],[1,"pre"],[3,"ngClass"]],template:function(t,i){1&t&&(he(0,$ce,3,1,"ng-container",0),he(1,sue,254,38,"ng-container",0)),2&t&&($("ngIf",i.api),N(1),$("ngIf",!i.api))},directives:[Ml,Nl,da,Ele,hp,Mle,xle,dB,ha,Fl,jS,Ap,ZS,XS,ho,Ay,bp,Ly,zS,bS,Wle,ace,oce,Ice,Mce,Bce],pipes:[SS],styles:[".app-wrapper[_ngcontent-%COMP%]{height:100vh}.day-night-container[_ngcontent-%COMP%]{min-height:1em}.flex-col[_ngcontent-%COMP%]{display:flex;flex-direction:column}.player-card[_ngcontent-%COMP%]{background-color:transparent;display:grid;grid-auto-rows:minmax(min-content,max-content);grid-template-columns:auto 1fr auto;border-color:transparent;box-shadow:none}.back[_ngcontent-%COMP%], .front[_ngcontent-%COMP%]{transform:rotate(180deg);writing-mode:vertical-lr;text-align:center}.battle-row[_ngcontent-%COMP%]{background-color:#5ebe09;background-repeat:no-repeat;background-position:center;background-size:cover}.button-bar[_ngcontent-%COMP%], .battle-controller[_ngcontent-%COMP%]{background-color:#f5f5f5}.button-bar.border[_ngcontent-%COMP%], .battle-controller.border[_ngcontent-%COMP%]{border:0}.button-bar[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.meta-row[_ngcontent-%COMP%]{align-items:center;display:flex;flex-wrap:wrap;gap:.5rem;justify-content:flex-end;padding-bottom:.25rem}.action-row[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.team-row[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between;gap:.75rem;padding-top:.25rem}.team-row-left[_ngcontent-%COMP%], .team-row-right[_ngcontent-%COMP%]{align-items:center;display:flex;flex-wrap:wrap;gap:.5rem}.team-name-input[_ngcontent-%COMP%]{max-width:180px}.team-select[_ngcontent-%COMP%]{max-width:220px}.meta-text[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem}.battle-controller[_ngcontent-%COMP%]   .min-w-input[_ngcontent-%COMP%]{min-width:100px}.control-groups[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem;align-items:flex-end}.control-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem;padding:.5rem .75rem;border:1px solid #dee2e6;border-radius:8px;background-color:#ffffffe6}.control-group.group-options[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,auto);grid-gap:.5rem 1rem;gap:.5rem 1rem}.control-group[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{margin-right:.5rem}.small-w-input[_ngcontent-%COMP%]{width:60px}.stats[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:.25em}.stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:1em}.results-row[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;justify-content:center;text-align:center;padding-bottom:.25rem}.results-row[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.results-row[_ngcontent-%COMP%]   .results-bar[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.battle-no[_ngcontent-%COMP%]{width:1%;white-space:nowrap}.table-battle-row[_ngcontent-%COMP%]{cursor:pointer}.results-bar[_ngcontent-%COMP%], .draw-bar[_ngcontent-%COMP%], .lose-bar[_ngcontent-%COMP%]{display:inline-block}.draw-bar[_ngcontent-%COMP%], .lose-bar[_ngcontent-%COMP%]{height:100%;position:absolute;right:0}.results-bar[_ngcontent-%COMP%]{max-width:100%;border:.2em solid black;height:2em;width:30em;background-color:#0f0;position:relative}.draw-bar[_ngcontent-%COMP%]{background-color:#d3d3d3}.lose-bar[_ngcontent-%COMP%]{background-color:red}.log-player[_ngcontent-%COMP%]{background-color:#e4ffe0}.log-opponent[_ngcontent-%COMP%]{background-color:#ffe0e0}.battle-win[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#e4ffe0}.battle-loss[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#ffe0e0}.log-container[_ngcontent-%COMP%]{display:flex;align-content:flex-start}.log-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#343a40;font-size:.9rem;line-height:1.35}.random-event[_ngcontent-%COMP%]{color:purple;font-weight:700}.flex-1[_ngcontent-%COMP%]{flex:1}.bottom-container[_ngcontent-%COMP%]{min-height:30em;padding-top:.75rem}.bottom-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{min-height:15em}.bottom-container[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%], .bottom-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{border:0}.bottom-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(caption) > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{border-bottom:0}.bottom-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .bottom-container[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{border-color:transparent;box-shadow:none}.scroll[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}.h-100[_ngcontent-%COMP%]{height:100%}.pre[_ngcontent-%COMP%]{white-space:pre}.btn-link[_ngcontent-%COMP%]{color:#0d6efd;cursor:pointer}.zoom-container[_ngcontent-%COMP%]{min-width:max-content}.zoom-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:2.5em}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.drag-container[_ngcontent-%COMP%]{position:relative}.drag-handle[_ngcontent-%COMP%]{width:1.25em;position:absolute;right:1em;z-index:1;opacity:.5;cursor:pointer}.info-link[_ngcontent-%COMP%]{margin-bottom:0}.toy-art[_ngcontent-%COMP%]{width:36px;height:36px;object-fit:contain}.toy-wrap[_ngcontent-%COMP%]{position:relative}.toy-level[_ngcontent-%COMP%]{font-size:.7rem;font-weight:700;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.9);margin-left:-6px;margin-top:18px}.battle-row[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.75)}@media (max-width: 767.98px){.card[_ngcontent-%COMP%]{max-width:18em}.back[_ngcontent-%COMP%], .front[_ngcontent-%COMP%]{transform:initial;writing-mode:initial}.player-card[_ngcontent-%COMP%]{grid-template-columns:none}}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.bug-button[_ngcontent-%COMP%]{margin-right:.5em;margin-bottom:.25em}.advanced-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:60px}"],data:{animation:[Nle("dayNight",[R$("day",Sv({backgroundColor:"#85ddf2"})),R$("night",Sv({backgroundColor:"#33377a"})),Ole("day <=> night",[Ble("0.5s")])])]}}),n})();const it=!1;function X$(n){return new pe(3e3,it)}function Uue(){return"undefined"!=typeof window&&void 0!==window.document}function M2(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Po(n){switch(n.length){case 0:return new Up;case 1:return n[0];default:return new N$(n)}}function eH(n,e,t,i,r={},a={}){const s=[],o=[];let l=-1,c=null;if(i.forEach(d=>{const p=d.offset,g=p==l,k=g&&c||{};Object.keys(d).forEach(T=>{let E=T,L=d[T];if("offset"!==T)switch(E=e.normalizePropertyName(E,s),L){case"!":L=r[T];break;case Sa:L=a[T];break;default:L=e.normalizeStyleValue(T,E,L,s)}k[E]=L}),g||o.push(k),c=k,l=p}),s.length)throw function Mue(n){return new pe(3502,it)}();return o}function R2(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&F2(t,"start",n)));break;case"done":n.onDone(()=>i(t&&F2(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&F2(t,"destroy",n)))}}function F2(n,e,t){const i=t.totalTime,a=N2(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),s=n._data;return null!=s&&(a._data=s),a}function N2(n,e,t,i,r="",a=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!s}}function Jn(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function tH(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let B2=(n,e)=>!1,iH=(n,e,t)=>[],nH=null;function O2(n){const e=n.parentNode||n.host;return e===nH?null:e}(M2()||"undefined"!=typeof Element)&&(Uue()?(nH=(()=>document.documentElement)(),B2=(n,e)=>{for(;e;){if(e===n)return!0;e=O2(e)}return!1}):B2=(n,e)=>n.contains(e),iH=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Kl=null,rH=!1;function sH(n){Kl||(Kl=function jue(){return"undefined"!=typeof document?document.body:null}()||{},rH=!!Kl.style&&"WebkitAppearance"in Kl.style);let e=!0;return Kl.style&&!function Wue(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Kl.style,!e&&rH&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Kl.style)),e}const aH=B2,oH=iH;let lH=(()=>{class n{validateStyleProperty(t){return sH(t)}matchesElement(t,i){return!1}containsElement(t,i){return aH(t,i)}getParentElement(t){return O2(t)}query(t,i,r){return oH(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,s,o=[],l){return new Up(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),$2=(()=>{class n{}return n.NOOP=new lH,n})();const H2="ng-enter",Tv="ng-leave",_v="ng-trigger",Cv=".ng-trigger",uH="ng-animating",G2=".ng-animating";function Yl(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:q2(parseFloat(e[1]),e[2])}function q2(n,e){return"s"===e?1e3*n:n}function Ev(n,e,t){return n.hasOwnProperty("duration")?n:function Yue(n,e,t){let r,a=0,s="";if("string"==typeof n){const o=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===o)return e.push(X$()),{duration:0,delay:0,easing:""};r=q2(parseFloat(o[1]),o[2]);const l=o[3];null!=l&&(a=q2(parseFloat(l),o[4]));const c=o[5];c&&(s=c)}else r=n;if(!t){let o=!1,l=e.length;r<0&&(e.push(function hue(){return new pe(3100,it)}()),o=!0),a<0&&(e.push(function due(){return new pe(3101,it)}()),o=!0),o&&e.splice(l,0,X$())}return{duration:r,delay:a,easing:s}}(n,e,t)}function eh(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function wo(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else eh(n,t);return t}function dH(n,e,t){return t?e+":"+t+";":""}function pH(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=dH(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=dH(0,Jue(t),n.style[t]));n.setAttribute("style",e)}function Ns(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=U2(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),M2()&&pH(n))}function Ql(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=U2(t);n.style[i]=""}),M2()&&pH(n))}function jp(n){return Array.isArray(n)?1==n.length?n[0]:M$(n):n}const V2=new RegExp("{{\\s*(.+?)\\s*}}","g");function mH(n){let e=[];if("string"==typeof n){let t;for(;t=V2.exec(n);)e.push(t[1]);V2.lastIndex=0}return e}function xv(n,e,t){const i=n.toString(),r=i.replace(V2,(a,s)=>{let o=e[s];return e.hasOwnProperty(s)||(t.push(function mue(n){return new pe(3003,it)}()),o=""),o.toString()});return r==i?n:r}function Dv(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Zue=/-+([a-z0-9])/g;function U2(n){return n.replace(Zue,(...e)=>e[1].toUpperCase())}function Jue(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Xn(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function gue(n){return new pe(3004,it)}()}}function gH(n,e){return window.getComputedStyle(n)[e]}function rhe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function she(n,e,t){if(":"==n[0]){const l=function ahe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function xue(n){return new pe(3016,it)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function Eue(n){return new pe(3015,it)}()),e;const r=i[1],a=i[2],s=i[3];e.push(fH(r,s));"<"==a[0]&&!("*"==r&&"*"==s)&&e.push(fH(s,r))}(i,t,e)):t.push(n),t}const Rv=new Set(["true","1"]),Fv=new Set(["false","0"]);function fH(n,e){const t=Rv.has(n)||Fv.has(n),i=Rv.has(e)||Fv.has(e);return(r,a)=>{let s="*"==n||n==r,o="*"==e||e==a;return!s&&t&&"boolean"==typeof r&&(s=r?Rv.has(n):Fv.has(n)),!o&&i&&"boolean"==typeof a&&(o=a?Rv.has(e):Fv.has(e)),s&&o}}const ohe=new RegExp("s*:selfs*,?","g");function W2(n,e,t,i){return new lhe(n).build(e,t,i)}class lhe{constructor(e){this._driver=e}build(e,t,i){const r=new hhe(t);this._resetContextStyleTimingState(r);const a=Xn(this,jp(e),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),a}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function yue(){return new pe(3006,it)}()),e.definitions.forEach(o=>{if(this._resetContextStyleTimingState(t),0==o.type){const l=o,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,a.push(this.visitState(l,t))}),l.name=c}else if(1==o.type){const l=this.visitTransition(o,t);i+=l.queryCount,r+=l.depCount,s.push(l)}else t.errors.push(function vue(){return new pe(3007,it)}())}),{type:7,name:e.name,states:a,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,s=r||{};i.styles.forEach(o=>{if(Nv(o)){const l=o;Object.keys(l).forEach(c=>{mH(l[c]).forEach(d=>{s.hasOwnProperty(d)||a.add(d)})})}}),a.size&&(Dv(a.values()),t.errors.push(function bue(n,e){return new pe(3008,it)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Xn(this,jp(e.animation),t);return{type:1,matchers:rhe(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Zl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Xn(this,i,t)),options:Zl(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(s=>{t.currentTime=i;const o=Xn(this,s,t);return r=Math.max(r,t.currentTime),o});return t.currentTime=r,{type:3,steps:a,options:Zl(e.options)}}visitAnimate(e,t){const i=function phe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return j2(Ev(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=j2(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=Ev(t,e);return j2(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:Sv({});if(5==a.type)r=this.visitKeyframes(a,t);else{let s=e.styles,o=!1;if(!s){o=!0;const c={};i.easing&&(c.easing=i.easing),s=Sv(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,t);l.isEmptyStep=o,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(s=>{"string"==typeof s?s==Sa?i.push(s):t.errors.push(function Aue(n){return new pe(3002,it)}()):i.push(s)}):i.push(e.styles);let r=!1,a=null;return i.forEach(s=>{if(Nv(s)){const o=s,l=o.easing;if(l&&(a=l,delete o.easing),!r)for(let c in o)if(o[c].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:a,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&Object.keys(s).forEach(o=>{if(!this._driver.validateStyleProperty(o))return delete s[o],void t.unsupportedCSSPropertiesFound.add(o);const l=t.collectedStyles[t.currentQuerySelector],c=l[o];let d=!0;c&&(a!=r&&a>=c.startTime&&r<=c.endTime&&(t.errors.push(function kue(n,e,t,i,r){return new pe(3010,it)}()),d=!1),a=c.startTime),d&&(l[o]={startTime:a,endTime:r}),t.options&&function Que(n,e,t){const i=e.params||{},r=mH(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function pue(n){return new pe(3001,it)}())})}(s[o],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Sue(){return new pe(3011,it)}()),i;let a=0;const s=[];let o=!1,l=!1,c=0;const d=e.steps.map(R=>{const x=this._makeStyleAst(R,t);let G=null!=x.offset?x.offset:function dhe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Nv(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(Nv(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(x.styles),O=0;return null!=G&&(a++,O=x.offset=G),l=l||O<0||O>1,o=o||O<c,c=O,s.push(O),x});l&&t.errors.push(function Pue(){return new pe(3012,it)}()),o&&t.errors.push(function wue(){return new pe(3200,it)}());const p=e.steps.length;let g=0;a>0&&a<p?t.errors.push(function Tue(){return new pe(3202,it)}()):0==a&&(g=1/(p-1));const k=p-1,T=t.currentTime,E=t.currentAnimateTimings,L=E.duration;return d.forEach((R,x)=>{const G=g>0?x==k?1:g*x:s[x],O=G*L;t.currentTime=T+E.delay+O,E.duration=O,this._validateStyleAst(R,t),R.offset=G,i.styles.push(R)}),i}visitReference(e,t){return{type:8,animation:Xn(this,jp(e.animation),t),options:Zl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Zl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Zl(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,s]=function che(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(ohe,"")),n=n.replace(/@\*/g,Cv).replace(/@\w+/g,t=>Cv+"-"+t.substr(1)).replace(/:animating/g,G2),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,Jn(t.collectedStyles,t.currentQuerySelector,{});const o=Xn(this,jp(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:e.selector,options:Zl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function _ue(){return new pe(3013,it)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Ev(e.timings,t.errors,!0);return{type:12,animation:Xn(this,jp(e.animation),t),timings:i,options:null}}}class hhe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Nv(n){return!Array.isArray(n)&&"object"==typeof n}function Zl(n){return n?(n=eh(n)).params&&(n.params=function uhe(n){return n?eh(n):null}(n.params)):n={},n}function j2(n,e,t){return{duration:n,delay:e,easing:t}}function z2(n,e,t,i,r,a,s=null,o=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:s,subTimeline:o}}class Bv{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const fhe=new RegExp(":enter","g"),vhe=new RegExp(":leave","g");function K2(n,e,t,i,r,a={},s={},o,l,c=[]){return(new bhe).buildKeyframes(n,e,t,i,r,a,s,o,l,c)}class bhe{buildKeyframes(e,t,i,r,a,s,o,l,c,d=[]){c=c||new Bv;const p=new Y2(e,t,c,r,a,d,[]);p.options=l,p.currentTimeline.setStyles([s],null,p.errors,l),Xn(this,i,p);const g=p.timelines.filter(k=>k.containsAnimation());if(Object.keys(o).length){let k;for(let T=g.length-1;T>=0;T--){const E=g[T];if(E.element===t){k=E;break}}k&&!k.allowOnlyTimelineStyles()&&k.setStyles([o],null,p.errors,l)}return g.length?g.map(k=>k.buildKeyframes()):[z2(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);a!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const s=null!=i.duration?Yl(i.duration):null,o=null!=i.delay?Yl(i.delay):null;return 0!==s&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,s,o);a=Math.max(a,c.duration+c.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Xn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ov);const s=Yl(a.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Xn(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Yl(e.options.delay):0;e.steps.forEach(s=>{const o=t.createSubContext(e.options);a&&o.delayNextStep(a),Xn(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),i.push(o.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Ev(t.params?xv(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,o=t.createSubContext().currentTimeline;o.easing=i.easing,e.styles.forEach(l=>{o.forwardTime((l.offset||0)*a),o.setStyles(l.styles,l.easing,t.errors,t.options),o.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?Yl(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ov);let s=i;const o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=o.length;let l=null;o.forEach((c,d)=>{t.currentQueryIndex=d;const p=t.createSubContext(e.options,c);a&&p.delayNextStep(a),c===t.element&&(l=p.currentTimeline),Xn(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,p.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,s=Math.abs(a.duration),o=s*(t.currentQueryTotal-1);let l=s*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":l=o-l;break;case"full":l=i.currentStaggerTime}const d=t.currentTimeline;l&&d.delayNextStep(l);const p=d.currentTime;Xn(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-p+(r.startTime-i.currentTimeline.startTime)}}const Ov={};class Y2{constructor(e,t,i,r,a,s,o,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ov,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new $v(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Yl(i.duration)),null!=i.delay&&(r.delay=Yl(i.delay));const a=i.params;if(a){let s=r.params;s||(s=this.options.params={}),Object.keys(a).forEach(o=>{(!t||!s.hasOwnProperty(o))&&(s[o]=xv(a[o],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new Y2(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=Ov,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},a=new Ahe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,s){let o=[];if(r&&o.push(this.element),e.length>0){e=(e=e.replace(fhe,"."+this._enterClassName)).replace(vhe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),o.push(...c)}return!a&&0==o.length&&s.push(function Cue(n){return new pe(3014,it)}()),o}}class $v{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new $v(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Sa,this._currentKeyframe[t]=Sa}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const a=r&&r.params||{},s=function khe(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(a=>{t[a]=Sa})):wo(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(s).forEach(o=>{const l=xv(s[o],a,i);this._pendingStyles[o]=l,this._localTimelineStyles.hasOwnProperty(o)||(this._backFill[o]=this._globalTimelineStyles.hasOwnProperty(o)?this._globalTimelineStyles[o]:Sa),this._updateStyle(o,l)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((o,l)=>{const c=wo(o,!0);Object.keys(c).forEach(d=>{const p=c[d];"!"==p?e.add(d):p==Sa&&t.add(d)}),i||(c.offset=l/this.duration),r.push(c)});const a=e.size?Dv(e.values()):[],s=t.size?Dv(t.values()):[];if(i){const o=r[0],l=eh(o);o.offset=0,l.offset=1,r=[o,l]}return z2(this.element,r,a,s,this.duration,this.startTime,this.easing,!1)}}class Ahe extends $v{constructor(e,t,i,r,a,s,o=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],s=i+t,o=t/s,l=wo(e[0],!1);l.offset=0,a.push(l);const c=wo(e[0],!1);c.offset=bH(o),a.push(c);const d=e.length-1;for(let p=1;p<=d;p++){let g=wo(e[p],!1);g.offset=bH((t+g.offset*i)/s),a.push(g)}i=s,t=0,r="",e=a}return z2(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function bH(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Q2{}class She extends Q2{normalizePropertyName(e,t){return U2(e)}normalizeStyleValue(e,t,i,r){let a="";const s=i.toString().trim();if(Phe[t]&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const o=i.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&0==o[1].length&&r.push(function fue(n,e){return new pe(3005,it)}())}return s+a}}const Phe=(()=>function whe(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function AH(n,e,t,i,r,a,s,o,l,c,d,p,g){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:s,timelines:o,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:p,errors:g}}const Z2={};class kH{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function The(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],a=this._stateStyles[e],s=r?r.buildStyles(t,i):{};return a?a.buildStyles(t,i):s}build(e,t,i,r,a,s,o,l,c,d){const p=[],g=this.ast.options&&this.ast.options.params||Z2,T=this.buildStyles(i,o&&o.params||Z2,p),E=l&&l.params||Z2,L=this.buildStyles(r,E,p),R=new Set,x=new Map,G=new Map,O="void"===r,q={params:Object.assign(Object.assign({},g),E)},W=d?[]:K2(e,t,this.ast.animation,a,s,T,L,q,c,p);let ee=0;if(W.forEach(ce=>{ee=Math.max(ce.duration+ce.delay,ee)}),p.length)return AH(t,this._triggerName,i,r,O,T,L,[],[],x,G,ee,p);W.forEach(ce=>{const ue=ce.element,ge=Jn(x,ue,{});ce.preStyleProps.forEach(de=>ge[de]=!0);const Ne=Jn(G,ue,{});ce.postStyleProps.forEach(de=>Ne[de]=!0),ue!==t&&R.add(ue)});const re=Dv(R.values());return AH(t,this._triggerName,i,r,O,T,L,W,re,x,G,ee)}}class _he{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=eh(this.defaultParams);return Object.keys(e).forEach(a=>{const s=e[a];null!=s&&(r[a]=s)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const s=a;Object.keys(s).forEach(o=>{let l=s[o];l.length>1&&(l=xv(l,r,t));const c=this.normalizer.normalizePropertyName(o,t);l=this.normalizer.normalizeStyleValue(o,c,l,t),i[c]=l})}}),i}}class Ehe{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new _he(r.style,r.options&&r.options.params||{},i)}),SH(this.states,"true","1"),SH(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new kH(e,r,this.states))}),this.fallbackTransition=function xhe(n,e,t){return new kH(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,o)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function SH(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const Dhe=new Bv;class Lhe{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],a=W2(this._driver,t,i,[]);if(i.length)throw function Rue(n){return new pe(3503,it)}();this._animations[e]=a}_buildPlayer(e,t,i){const r=e.element,a=eH(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations[e];let s;const o=new Map;if(a?(s=K2(this._driver,t,a,H2,Tv,{},{},i,Dhe,r),s.forEach(d=>{const p=Jn(o,d.element,{});d.postStyleProps.forEach(g=>p[g]=null)})):(r.push(function Fue(){return new pe(3300,it)}()),s=[]),r.length)throw function Nue(n){return new pe(3504,it)}();o.forEach((d,p)=>{Object.keys(d).forEach(g=>{d[g]=this._driver.computeStyle(p,g,Sa)})});const c=Po(s.map(d=>{const p=o.get(d.element);return this._buildPlayer(d,{},p)}));return this._playersById[e]=c,c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function Bue(n){return new pe(3301,it)}();return t}listen(e,t,i,r){const a=N2(t,"","","");return R2(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const PH="ng-animate-queued",J2="ng-animate-disabled",Nhe=[],wH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Bhe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Pr="__ng_removed";class X2{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Ghe(n){return null!=n?n:null}(i?e.value:e),i){const a=eh(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const zp="void",eI=new X2(zp);class Ohe{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,wr(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw function Oue(n,e){return new pe(3302,it)}();if(null==i||0==i.length)throw function $ue(n){return new pe(3303,it)}();if(!function qhe(n){return"start"==n||"done"==n}(i))throw function Hue(n,e){return new pe(3400,it)}();const a=Jn(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};a.push(s);const o=Jn(this._engine.statesByElement,e,{});return o.hasOwnProperty(t)||(wr(e,_v),wr(e,_v+"-"+t),o[t]=eI),()=>{this._engine.afterFlush(()=>{const l=a.indexOf(s);l>=0&&a.splice(l,1),this._triggers[t]||delete o[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function Gue(n){return new pe(3401,it)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),s=new tI(this.id,t,e);let o=this._engine.statesByElement.get(e);o||(wr(e,_v),wr(e,_v+"-"+t),this._engine.statesByElement.set(e,o={}));let l=o[t];const c=new X2(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),o[t]=c,l||(l=eI),c.value!==zp&&l.value===c.value){if(!function Whe(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(l.params,c.params)){const E=[],L=a.matchStyles(l.value,l.params,E),R=a.matchStyles(c.value,c.params,E);E.length?this._engine.reportError(E):this._engine.afterFlush(()=>{Ql(e,L),Ns(e,R)})}return}const g=Jn(this._engine.playersByElement,e,[]);g.forEach(E=>{E.namespaceId==this.id&&E.triggerName==t&&E.queued&&E.destroy()});let k=a.matchTransition(l.value,c.value,e,c.params),T=!1;if(!k){if(!r)return;k=a.fallbackTransition,T=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:k,fromState:l,toState:c,player:s,isFallbackTransition:T}),T||(wr(e,PH),s.onStart(()=>{th(e,PH)})),s.onDone(()=>{let E=this.players.indexOf(s);E>=0&&this.players.splice(E,1);const L=this._engine.playersByElement.get(e);if(L){let R=L.indexOf(s);R>=0&&L.splice(R,1)}}),this.players.push(s),g.push(s),s}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Cv,!0);i.forEach(r=>{if(r[Pr])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),s=new Map;if(a){const o=[];if(Object.keys(a).forEach(l=>{if(s.set(l,a[l].value),this._triggers[l]){const c=this.trigger(e,l,zp,r);c&&o.push(c)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&Po(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const s=a.name;if(r.has(s))return;r.add(s);const l=this._triggers[s].fallbackTransition,c=i[s]||eI,d=new X2(zp),p=new tI(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:d,player:p,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Pr];(!a||a===wH)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){wr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,s=this._elementListeners.get(a);s&&s.forEach(o=>{if(o.name==i.triggerName){const l=N2(a,i.triggerName,i.fromState.value,i.toState.value);l._data=e,R2(i.player,o.phase,l,o.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==a||0==s?a-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class $he{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Ohe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement,a=i.length-1;if(a>=0){let s=!1;if(void 0!==this.driver.getParentElement){let o=this.driver.getParentElement(t);for(;o;){const l=r.get(o);if(l){const c=i.indexOf(l);i.splice(c+1,0,e),s=!0;break}o=this.driver.getParentElement(o)}}else for(let o=a;o>=0;o--)if(this.driver.containsElement(i[o].hostElement,t)){i.splice(o+1,0,e),s=!0;break}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let a=0;a<r.length;a++){const s=i[r[a]].namespaceId;if(s){const o=this._fetchNamespace(s);o&&t.add(o)}}}return t}trigger(e,t,i,r){if(Hv(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Hv(t))return;const a=t[Pr];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),wr(e,J2)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),th(e,J2))}removeNode(e,t,i,r){if(Hv(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[Pr]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return Hv(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,Cv,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,G2,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Po(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[Pr];if(i&&i.setForRemoval){if(e[Pr]=wH,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(J2))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)wr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Po(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function que(n){return new pe(3402,it)}()}_flushAnimations(e,t){const i=new Bv,r=[],a=new Map,s=[],o=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(J=>{d.add(J);const se=this.driver.query(J,".ng-animate-queued",!0);for(let ve=0;ve<se.length;ve++)d.add(se[ve])});const p=this.bodyNode,g=Array.from(this.statesByElement.keys()),k=CH(g,this.collectedEnterElements),T=new Map;let E=0;k.forEach((J,se)=>{const ve=H2+E++;T.set(se,ve),J.forEach($e=>wr($e,ve))});const L=[],R=new Set,x=new Set;for(let J=0;J<this.collectedLeaveElements.length;J++){const se=this.collectedLeaveElements[J],ve=se[Pr];ve&&ve.setForRemoval&&(L.push(se),R.add(se),ve.hasAnimation?this.driver.query(se,".ng-star-inserted",!0).forEach($e=>R.add($e)):x.add(se))}const G=new Map,O=CH(g,Array.from(R));O.forEach((J,se)=>{const ve=Tv+E++;G.set(se,ve),J.forEach($e=>wr($e,ve))}),e.push(()=>{k.forEach((J,se)=>{const ve=T.get(se);J.forEach($e=>th($e,ve))}),O.forEach((J,se)=>{const ve=G.get(se);J.forEach($e=>th($e,ve))}),L.forEach(J=>{this.processLeaveNode(J)})});const q=[],W=[];for(let J=this._namespaceList.length-1;J>=0;J--)this._namespaceList[J].drainQueuedTransitions(t).forEach(ve=>{const $e=ve.player,Ye=ve.element;if(q.push($e),this.collectedEnterElements.length){const At=Ye[Pr];if(At&&At.setForMove){if(At.previousTriggersValues&&At.previousTriggersValues.has(ve.triggerName)){const _n=At.previousTriggersValues.get(ve.triggerName),Tr=this.statesByElement.get(ve.element);Tr&&Tr[ve.triggerName]&&(Tr[ve.triggerName].value=_n)}return void $e.destroy()}}const nt=!p||!this.driver.containsElement(p,Ye),Lt=G.get(Ye),Kt=T.get(Ye),Ve=this._buildInstruction(ve,i,Kt,Lt,nt);if(Ve.errors&&Ve.errors.length)return void W.push(Ve);if(nt)return $e.onStart(()=>Ql(Ye,Ve.fromStyles)),$e.onDestroy(()=>Ns(Ye,Ve.toStyles)),void r.push($e);if(ve.isFallbackTransition)return $e.onStart(()=>Ql(Ye,Ve.fromStyles)),$e.onDestroy(()=>Ns(Ye,Ve.toStyles)),void r.push($e);const Vi=[];Ve.timelines.forEach(At=>{At.stretchStartingKeyframe=!0,this.disabledNodes.has(At.element)||Vi.push(At)}),Ve.timelines=Vi,i.append(Ye,Ve.timelines),s.push({instruction:Ve,player:$e,element:Ye}),Ve.queriedElements.forEach(At=>Jn(o,At,[]).push($e)),Ve.preStyleProps.forEach((At,_n)=>{const Tr=Object.keys(At);if(Tr.length){let Pa=l.get(_n);Pa||l.set(_n,Pa=new Set),Tr.forEach(Jl=>Pa.add(Jl))}}),Ve.postStyleProps.forEach((At,_n)=>{const Tr=Object.keys(At);let Pa=c.get(_n);Pa||c.set(_n,Pa=new Set),Tr.forEach(Jl=>Pa.add(Jl))})});if(W.length){const J=[];W.forEach(se=>{J.push(function Vue(n,e){return new pe(3505,it)}())}),q.forEach(se=>se.destroy()),this.reportError(J)}const ee=new Map,re=new Map;s.forEach(J=>{const se=J.element;i.has(se)&&(re.set(se,se),this._beforeAnimationBuild(J.player.namespaceId,J.instruction,ee))}),r.forEach(J=>{const se=J.element;this._getPreviousPlayers(se,!1,J.namespaceId,J.triggerName,null).forEach($e=>{Jn(ee,se,[]).push($e),$e.destroy()})});const ce=L.filter(J=>xH(J,l,c)),ue=new Map;_H(ue,this.driver,x,c,Sa).forEach(J=>{xH(J,l,c)&&ce.push(J)});const Ne=new Map;k.forEach((J,se)=>{_H(Ne,this.driver,new Set(J),l,"!")}),ce.forEach(J=>{const se=ue.get(J),ve=Ne.get(J);ue.set(J,Object.assign(Object.assign({},se),ve))});const de=[],gt=[],st={};s.forEach(J=>{const{element:se,player:ve,instruction:$e}=J;if(i.has(se)){if(d.has(se))return ve.onDestroy(()=>Ns(se,$e.toStyles)),ve.disabled=!0,ve.overrideTotalTime($e.totalTime),void r.push(ve);let Ye=st;if(re.size>1){let Lt=se;const Kt=[];for(;Lt=Lt.parentNode;){const Ve=re.get(Lt);if(Ve){Ye=Ve;break}Kt.push(Lt)}Kt.forEach(Ve=>re.set(Ve,Ye))}const nt=this._buildAnimation(ve.namespaceId,$e,ee,a,Ne,ue);if(ve.setRealPlayer(nt),Ye===st)de.push(ve);else{const Lt=this.playersByElement.get(Ye);Lt&&Lt.length&&(ve.parentPlayer=Po(Lt)),r.push(ve)}}else Ql(se,$e.fromStyles),ve.onDestroy(()=>Ns(se,$e.toStyles)),gt.push(ve),d.has(se)&&r.push(ve)}),gt.forEach(J=>{const se=a.get(J.element);if(se&&se.length){const ve=Po(se);J.setRealPlayer(ve)}}),r.forEach(J=>{J.parentPlayer?J.syncPlayerEvents(J.parentPlayer):J.destroy()});for(let J=0;J<L.length;J++){const se=L[J],ve=se[Pr];if(th(se,Tv),ve&&ve.hasAnimation)continue;let $e=[];if(o.size){let nt=o.get(se);nt&&nt.length&&$e.push(...nt);let Lt=this.driver.query(se,G2,!0);for(let Kt=0;Kt<Lt.length;Kt++){let Ve=o.get(Lt[Kt]);Ve&&Ve.length&&$e.push(...Ve)}}const Ye=$e.filter(nt=>!nt.destroyed);Ye.length?Vhe(this,se,Ye):this.processLeaveNode(se)}return L.length=0,de.forEach(J=>{this.players.push(J),J.onDone(()=>{J.destroy();const se=this.players.indexOf(J);this.players.splice(se,1)}),J.play()}),de}elementContainsData(e,t){let i=!1;const r=t[Pr];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let s=[];if(t){const o=this.playersByQueriedElement.get(e);o&&(s=o)}else{const o=this.playersByElement.get(e);if(o){const l=!a||a==zp;o.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(o=>!(i&&i!=o.namespaceId||r&&r!=o.triggerName))),s}_beforeAnimationBuild(e,t,i){const a=t.element,s=t.isRemovalTransition?void 0:e,o=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,d=c!==a,p=Jn(i,c,[]);this._getPreviousPlayers(c,d,s,o,t.toState).forEach(k=>{const T=k.getRealPlayer();T.beforeDestroy&&T.beforeDestroy(),k.destroy(),p.push(k)})}Ql(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,s){const o=t.triggerName,l=t.element,c=[],d=new Set,p=new Set,g=t.timelines.map(T=>{const E=T.element;d.add(E);const L=E[Pr];if(L&&L.removedBeforeQueried)return new Up(T.duration,T.delay);const R=E!==l,x=function Uhe(n){const e=[];return EH(n,e),e}((i.get(E)||Nhe).map(ee=>ee.getRealPlayer())).filter(ee=>!!ee.element&&ee.element===E),G=a.get(E),O=s.get(E),q=eH(0,this._normalizer,0,T.keyframes,G,O),W=this._buildPlayer(T,q,x);if(T.subTimeline&&r&&p.add(E),R){const ee=new tI(e,o,E);ee.setRealPlayer(W),c.push(ee)}return W});c.forEach(T=>{Jn(this.playersByQueriedElement,T.element,[]).push(T),T.onDone(()=>function Hhe(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,T.element,T))}),d.forEach(T=>wr(T,uH));const k=Po(g);return k.onDestroy(()=>{d.forEach(T=>th(T,uH)),Ns(l,t.toStyles)}),p.forEach(T=>{Jn(r,T,[]).push(k)}),k}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Up(e.duration,e.delay)}}class tI{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Up,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>R2(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Jn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Hv(n){return n&&1===n.nodeType}function TH(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function _H(n,e,t,i,r){const a=[];t.forEach(l=>a.push(TH(l)));const s=[];i.forEach((l,c)=>{const d={};l.forEach(p=>{const g=d[p]=e.computeStyle(c,p,r);(!g||0==g.length)&&(c[Pr]=Bhe,s.push(c))}),n.set(c,d)});let o=0;return t.forEach(l=>TH(l,a[o++])),s}function CH(n,e){const t=new Map;if(n.forEach(o=>t.set(o,[])),0==e.length)return t;const r=new Set(e),a=new Map;function s(o){if(!o)return 1;let l=a.get(o);if(l)return l;const c=o.parentNode;return l=t.has(c)?c:r.has(c)?1:s(c),a.set(o,l),l}return e.forEach(o=>{const l=s(o);1!==l&&t.get(l).push(o)}),t}function wr(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function th(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function Vhe(n,e,t){Po(t).onDone(()=>n.processLeaveNode(e))}function EH(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof N$?EH(i.players,e):e.push(i)}}function xH(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class Gv{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new $he(e,t,i),this._timelineEngine=new Lhe(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const s=e+"-"+r;let o=this._triggerCache[s];if(!o){const l=[],d=W2(this._driver,a,l,[]);if(l.length)throw function Iue(n,e){return new pe(3404,it)}();o=function Che(n,e,t){return new Ehe(n,e,t)}(r,d,this._normalizer),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(t,r,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,s]=tH(i);this._timelineEngine.command(a,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[s,o]=tH(i);return this._timelineEngine.listen(s,t,o,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let zhe=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Ns(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ns(this._element,this._initialStyles),this._endStyles&&(Ns(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ql(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ql(this._element,this._endStyles),this._endStyles=null),Ns(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function iI(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];Khe(r)&&(e=e||{},e[r]=n[r])}return e}function Khe(n){return"display"===n||"position"===n}class DH{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:gH(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Yhe{validateStyleProperty(e){return sH(e)}matchesElement(e,t){return!1}containsElement(e,t){return aH(e,t)}getParentElement(e){return O2(e)}query(e,t,i){return oH(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(l.easing=a);const c={},d=s.filter(g=>g instanceof DH);(function Xue(n,e){return 0===n||0===e})(i,r)&&d.forEach(g=>{let k=g.currentSnapshot;Object.keys(k).forEach(T=>c[T]=k[T])}),t=function ehe(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let a=e[0],s=[];if(i.forEach(o=>{a.hasOwnProperty(o)||s.push(o),a[o]=t[o]}),s.length)for(var r=1;r<e.length;r++){let o=e[r];s.forEach(function(l){o[l]=gH(n,l)})}}return e}(e,t=t.map(g=>wo(g,!1)),c);const p=function jhe(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=iI(e[0]),e.length>1&&(i=iI(e[e.length-1]))):e&&(t=iI(e)),t||i?new zhe(n,t,i):null}(e,t);return new DH(e,t,l,p)}}let Qhe=(()=>{class n extends I${constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:_i.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?M$(t):t;return LH(this._renderer,null,i,"register",[r]),new Zhe(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(te(ip),te(Pi))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();class Zhe extends class Fle{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Jhe(this._id,e,t||{},this._renderer)}}class Jhe{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return LH(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function LH(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const IH="@.disabled";let Xhe=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,s)=>{const o=null==s?void 0:s.parentNode(a);o&&s.removeChild(o,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let d=this._rendererCache.get(a);return d||(d=new MH("",a,this.engine),this._rendererCache.set(a,d)),d}const s=i.id,o=i.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);const l=d=>{Array.isArray(d)?d.forEach(l):this.engine.registerTrigger(s,o,t,d.name,d)};return i.data.animation.forEach(l),new ede(this,o,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[s,o]=a;s(o)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(te(ip),te(Gv),te(ri))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();class MH{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==IH?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class ede extends MH{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==IH?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function tde(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),s="";return"@"!=a.charAt(0)&&([a,s]=function ide(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,s,o=>{this.factory.scheduleListenerCallback(o._data||-1,i,o)})}return this.delegate.listen(e,t,i)}}let nde=(()=>{class n extends Gv{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(te(Pi),te($2),te(Q2))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();const RH=new Ae("AnimationModuleType"),FH=[{provide:I$,useClass:Qhe},{provide:Q2,useFactory:function rde(){return new She}},{provide:Gv,useClass:nde},{provide:ip,useFactory:function sde(n,e,t){return new Xhe(n,e,t)},deps:[vy,Gv,ri]}],NH=[{provide:$2,useFactory:()=>new Yhe},{provide:RH,useValue:"BrowserAnimations"},...FH],ade=[{provide:$2,useClass:lH},{provide:RH,useValue:"NoopAnimations"},...FH];let ode=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?ade:NH}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ri({providers:NH,imports:[U3]}),n})(),lde=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ke({type:n,bootstrap:[uue]}),n.\u0275inj=Ri({providers:[],imports:[[U3,WV,D3,jV,ode,Rle,Dce]]}),n})();(function R7(){r3=!1})(),H8().bootstrapModule(lde).catch(n=>console.error(n))},489:function(Yt,Qt,Zt){var es;Yt=Zt.nmd(Yt),function(){var I,Mi="Expected a function",_o="__lodash_hash_undefined__",Bs="__lodash_placeholder__",Gs=1/0,ts=9007199254740991,tr=4294967295,jv=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],_a="[object Arguments]",Do="[object Array]",Ca="[object Boolean]",Lo="[object Date]",Ea="[object Error]",ic="[object Function]",Xp="[object GeneratorFunction]",Hn="[object Map]",Io="[object Number]",Cn="[object Object]",Kv="[object Promise]",sc="[object RegExp]",Wi="[object Set]",qs="[object String]",ac="[object Symbol]",oc="[object WeakMap]",xa="[object ArrayBuffer]",is="[object DataView]",lc="[object Float32Array]",sh="[object Float64Array]",ah="[object Int8Array]",oh="[object Int16Array]",lh="[object Int32Array]",ch="[object Uint8Array]",tm="[object Uint8ClampedArray]",uh="[object Uint16Array]",hh="[object Uint32Array]",Qv=/\b__p \+= '';/g,Zv=/\b(__p \+=) '' \+/g,Jv=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ft=/&(?:amp|lt|gt|quot|#39);/g,cc=/[&<>"']/g,ht=RegExp(ft.source),dh=RegExp(cc.source),Xv=/<%-([\s\S]+?)%>/g,kt=/<%([\s\S]+?)%>/g,He=/<%=([\s\S]+?)%>/g,im=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,aI=/^\w*$/,pe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mo=/[\\^$.*+?()[\]{}|]/g,Be=RegExp(Mo.source),Xt=/^\s+/,eb=/\s/,oI=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,lI=/\{\n\/\* \[wrapped with (.+)\] \*/,uc=/,? & /,rn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,cI=/[()=,{}\[\]\/\s]/,tb=/\\(\\)?/g,uI=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ir=/\w*$/,hI=/^[-+]0x[0-9a-f]+$/i,dI=/^0b[01]+$/i,pI=/^\[object .+?Constructor\]$/,mI=/^0o[0-7]+$/i,ib=/^(?:0|[1-9]\d*)$/,gI=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,hc=/($^)/,fI=/['\n\r\u2028\u2029\\]/g,Ti="\\ud800-\\udfff",nb="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",be="\\u2700-\\u27bf",rb="a-z\\xdf-\\xf6\\xf8-\\xff",rm="A-Z\\xc0-\\xd6\\xd8-\\xde",mh="\\ufe0e\\ufe0f",Ro="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",sm="["+Ti+"]",am="["+Ro+"]",Le="["+nb+"]",dc="\\d+",ab="["+be+"]",Er="["+rb+"]",gh="[^"+Ti+Ro+dc+be+rb+rm+"]",om="\\ud83c[\\udffb-\\udfff]",En="[^"+Ti+"]",lm="(?:\\ud83c[\\udde6-\\uddff]){2}",cm="[\\ud800-\\udbff][\\udc00-\\udfff]",_i="["+rm+"]",hm="(?:"+Er+"|"+gh+")",ob="(?:"+_i+"|"+gh+")",lb="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",pt="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",cb="(?:"+Le+"|"+om+")?",ub="["+mh+"]?",mc=ub+cb+"(?:\\u200d(?:"+[En,lm,cm].join("|")+")"+ub+cb+")*",fh="(?:"+[ab,lm,cm].join("|")+")"+mc,dm="(?:"+[En+Le+"?",Le,lm,cm,sm].join("|")+")",xr=RegExp("['\u2019]","g"),No=RegExp(Le,"g"),yh=RegExp(om+"(?="+om+")|"+dm+mc,"g"),Gn=RegExp([_i+"?"+Er+"+"+lb+"(?="+[am,_i,"$"].join("|")+")",ob+"+"+pt+"(?="+[am,_i+hm,"$"].join("|")+")",_i+"?"+hm+"+"+lb,_i+"+"+pt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",dc,fh].join("|"),"g"),hb=RegExp("[\\u200d"+Ti+nb+mh+"]"),pm=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,mm=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],gm=-1,Ke={};Ke[lc]=Ke[sh]=Ke[ah]=Ke[oh]=Ke[lh]=Ke[ch]=Ke[tm]=Ke[uh]=Ke[hh]=!0,Ke[_a]=Ke[Do]=Ke[xa]=Ke[Ca]=Ke[is]=Ke[Lo]=Ke[Ea]=Ke[ic]=Ke[Hn]=Ke[Io]=Ke[Cn]=Ke[sc]=Ke[Wi]=Ke[qs]=Ke[oc]=!1;var St={};St[_a]=St[Do]=St[xa]=St[is]=St[Ca]=St[Lo]=St[lc]=St[sh]=St[ah]=St[oh]=St[lh]=St[Hn]=St[Io]=St[Cn]=St[sc]=St[Wi]=St[qs]=St[ac]=St[ch]=St[tm]=St[uh]=St[hh]=!0,St[Ea]=St[ic]=St[oc]=!1;var fi={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},rs=parseFloat,Vs=parseInt,sn="object"==typeof global&&global&&global.Object===Object&&global,gc="object"==typeof self&&self&&self.Object===Object&&self,ei=sn||gc||Function("return this")(),La=Qt&&!Qt.nodeType&&Qt,ss=La&&Yt&&!Yt.nodeType&&Yt,as=ss&&ss.exports===La,li=as&&sn.process,xn=function(){try{return ss&&ss.require&&ss.require("util").types||li&&li.binding&&li.binding("util")}catch(V){}}(),an=xn&&xn.isArrayBuffer,oe=xn&&xn.isDate,Ue=xn&&xn.isMap,Et=xn&&xn.isRegExp,zi=xn&&xn.isSet,os=xn&&xn.isTypedArray;function ut(F,V,H){switch(H.length){case 0:return F.call(V);case 1:return F.call(V,H[0]);case 2:return F.call(V,H[0],H[1]);case 3:return F.call(V,H[0],H[1],H[2])}return F.apply(V,H)}function Us(F,V,H,me){for(var Ie=-1,ct=null==F?0:F.length;++Ie<ct;){var Ot=F[Ie];V(me,Ot,H(Ot),F)}return me}function rt(F,V){for(var H=-1,me=null==F?0:F.length;++H<me&&!1!==V(F[H],H,F););return F}function Bo(F,V){for(var H=null==F?0:F.length;H--&&!1!==V(F[H],H,F););return F}function Ws(F,V){for(var H=-1,me=null==F?0:F.length;++H<me;)if(!V(F[H],H,F))return!1;return!0}function _e(F,V){for(var H=-1,me=null==F?0:F.length,Ie=0,ct=[];++H<me;){var Ot=F[H];V(Ot,H,F)&&(ct[Ie++]=Ot)}return ct}function js(F,V){return!(null==F||!F.length)&&Ci(F,V,0)>-1}function ls(F,V,H){for(var me=-1,Ie=null==F?0:F.length;++me<Ie;)if(H(V,F[me]))return!0;return!1}function Pt(F,V){for(var H=-1,me=null==F?0:F.length,Ie=Array(me);++H<me;)Ie[H]=V(F[H],H,F);return Ie}function on(F,V){for(var H=-1,me=V.length,Ie=F.length;++H<me;)F[Ie+H]=V[H];return F}function yi(F,V,H,me){var Ie=-1,ct=null==F?0:F.length;for(me&&ct&&(H=F[++Ie]);++Ie<ct;)H=V(H,F[Ie],Ie,F);return H}function Oo(F,V,H,me){var Ie=null==F?0:F.length;for(me&&Ie&&(H=F[--Ie]);Ie--;)H=V(H,F[Ie],Ie,F);return H}function cs(F,V){for(var H=-1,me=null==F?0:F.length;++H<me;)if(V(F[H],H,F))return!0;return!1}var qn=cn("length");function ym(F,V,H){var me;return H(F,function(Ie,ct,Ot){if(V(Ie,ct,Ot))return me=ct,!1}),me}function ln(F,V,H,me){for(var Ie=F.length,ct=H+(me?1:-1);me?ct--:++ct<Ie;)if(V(F[ct],ct,F))return ct;return-1}function Ci(F,V,H){return V==V?function rr(F,V,H){for(var me=H-1,Ie=F.length;++me<Ie;)if(F[me]===V)return me;return-1}(F,V,H):ln(F,$o,H)}function vh(F,V,H,me){for(var Ie=H-1,ct=F.length;++Ie<ct;)if(me(F[Ie],V))return Ie;return-1}function $o(F){return F!=F}function Ho(F,V){var H=null==F?0:F.length;return H?Ah(F,V)/H:NaN}function cn(F){return function(V){return null==V?I:V[F]}}function bh(F){return function(V){return null==F?I:F[V]}}function pb(F,V,H,me,Ie){return Ie(F,function(ct,Ot,Tt){H=me?(me=!1,ct):V(H,ct,Ot,Tt)}),H}function Ah(F,V){for(var H,me=-1,Ie=F.length;++me<Ie;){var ct=V(F[me]);ct!==I&&(H=H===I?ct:H+ct)}return H}function vm(F,V){for(var H=-1,me=Array(F);++H<F;)me[H]=V(H);return me}function gb(F){return F&&F.slice(0,Sh(F)+1).replace(Xt,"")}function Dn(F){return function(V){return F(V)}}function bm(F,V){return Pt(V,function(H){return F[H]})}function fc(F,V){return F.has(V)}function fb(F,V){for(var H=-1,me=F.length;++H<me&&Ci(V,F[H],0)>-1;);return H}function yb(F,V){for(var H=F.length;H--&&Ci(V,F[H],0)>-1;);return H}function AI(F,V){for(var H=F.length,me=0;H--;)F[H]===V&&++me;return me}var kI=bh({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),SI=bh({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function PI(F){return"\\"+fi[F]}function Go(F){return hb.test(F)}function km(F){var V=-1,H=Array(F.size);return F.forEach(function(me,Ie){H[++V]=[Ie,me]}),H}function vb(F,V){return function(H){return F(V(H))}}function zs(F,V){for(var H=-1,me=F.length,Ie=0,ct=[];++H<me;){var Ot=F[H];(Ot===V||Ot===Bs)&&(F[H]=Bs,ct[Ie++]=H)}return ct}function nr(F){var V=-1,H=Array(F.size);return F.forEach(function(me){H[++V]=me}),H}function Ia(F){return Go(F)?function Ab(F){for(var V=yh.lastIndex=0;yh.test(F);)++V;return V}(F):qn(F)}function Vn(F){return Go(F)?function Ph(F){return F.match(yh)||[]}(F):function wt(F){return F.split("")}(F)}function Sh(F){for(var V=F.length;V--&&eb.test(F.charAt(V)););return V}var Pm=bh({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ma=function F(V){var u,H=(V=null==V?ei:Ma.defaults(ei.Object(),V,Ma.pick(ei,mm))).Array,me=V.Date,Ie=V.Error,ct=V.Function,Ot=V.Math,Tt=V.Object,It=V.RegExp,wm=V.String,In=V.TypeError,Rt=H.prototype,qo=Tt.prototype,Ks=V["__core-js_shared__"],Ei=ct.prototype.toString,mt=qo.hasOwnProperty,wh=0,Ys=(u=/[^.]+$/.exec(Ks&&Ks.keys&&Ks.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"",xi=qo.toString,Tm=Ei.call(Tt),Th=ei._,Pb=It("^"+Ei.call(mt).replace(Mo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Un=as?V.Buffer:I,Dr=V.Symbol,Ra=V.Uint8Array,Re=Un?Un.allocUnsafe:I,Vo=vb(Tt.getPrototypeOf,Tt),wb=Tt.create,_m=qo.propertyIsEnumerable,yc=Rt.splice,Cm=Dr?Dr.isConcatSpreadable:I,Fa=Dr?Dr.iterator:I,Qs=Dr?Dr.toStringTag:I,vc=function(){try{var u=Br(Tt,"defineProperty");return u({},"",{}),u}catch(h){}}(),Q=V.clearTimeout!==ei.clearTimeout&&V.clearTimeout,et=me&&me.now!==ei.Date.now&&me.now,ot=V.setTimeout!==ei.setTimeout&&V.setTimeout,Nt=Ot.ceil,Uo=Ot.floor,Zs=Tt.getOwnPropertySymbols,sr=Un?Un.isBuffer:I,bc=V.isFinite,_h=Rt.join,TI=vb(Tt.keys,Tt),ti=Ot.max,Fi=Ot.min,Ac=me.now,Ni=V.parseInt,ar=Ot.random,Em=Rt.reverse,us=Br(V,"DataView"),un=Br(V,"Map"),Ch=Br(V,"Promise"),Js=Br(V,"Set"),Wo=Br(V,"WeakMap"),jo=Br(Tt,"create"),Na=Wo&&new Wo,hs={},xm=jn(us),Eh=jn(un),Tb=jn(Ch),Dm=jn(Js),kc=jn(Wo),zo=Dr?Dr.prototype:I,Ba=zo?zo.valueOf:I,xh=zo?zo.toString:I;function _(u){if(Ht(u)&&!Fe(u)&&!(u instanceof we)){if(u instanceof Mn)return u;if(mt.call(u,"__wrapped__"))return nd(u)}return new Mn(u)}var Lr=function(){function u(){}return function(h){if(!Bt(h))return{};if(wb)return wb(h);u.prototype=h;var m=new u;return u.prototype=I,m}}();function Sc(){}function Mn(u,h){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!h,this.__index__=0,this.__values__=I}function we(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=tr,this.__views__=[]}function Xs(u){var h=-1,m=null==u?0:u.length;for(this.clear();++h<m;){var f=u[h];this.set(f[0],f[1])}}function Rn(u){var h=-1,m=null==u?0:u.length;for(this.clear();++h<m;){var f=u[h];this.set(f[0],f[1])}}function hn(u){var h=-1,m=null==u?0:u.length;for(this.clear();++h<m;){var f=u[h];this.set(f[0],f[1])}}function ea(u){var h=-1,m=null==u?0:u.length;for(this.__data__=new hn;++h<m;)this.add(u[h])}function Ki(u){var h=this.__data__=new Rn(u);this.size=h.size}function ta(u,h){var m=Fe(u),f=!m&&Gr(u),w=!m&&!f&&Ps(u),C=!m&&!f&&!w&&Xa(u),D=m||f||w||C,M=D?vm(u.length,wm):[],B=M.length;for(var z in u)(h||mt.call(u,z))&&(!D||!("length"==z||w&&("offset"==z||"parent"==z)||C&&("buffer"==z||"byteLength"==z||"byteOffset"==z)||Or(z,B)))&&M.push(z);return M}function Fm(u){var h=u.length;return h?u[fs(0,h-1)]:I}function Oa(u,h){return Za(Qi(u),Ir(h,0,u.length))}function Fh(u){return Za(Qi(u))}function $a(u,h,m){(m!==I&&!dr(u[h],m)||m===I&&!(h in u))&&dn(u,h,m)}function _c(u,h,m){var f=u[h];(!mt.call(u,h)||!dr(f,m)||m===I&&!(h in u))&&dn(u,h,m)}function Yo(u,h){for(var m=u.length;m--;)if(dr(u[m][0],h))return m;return-1}function Nm(u,h,m,f){return Mr(u,function(w,C,D){h(f,w,m(w),D)}),f}function Bm(u,h){return u&&lr(h,ni(h),u)}function dn(u,h,m){"__proto__"==h&&vc?vc(u,h,{configurable:!0,enumerable:!0,value:m,writable:!0}):u[h]=m}function Qo(u,h){for(var m=-1,f=h.length,w=H(f),C=null==u;++m<f;)w[m]=C?I:Cd(u,h[m]);return w}function Ir(u,h,m){return u==u&&(m!==I&&(u=u<=m?u:m),h!==I&&(u=u>=h?u:h)),u}function Bi(u,h,m,f,w,C){var D,M=1&h,B=2&h,z=4&h;if(m&&(D=w?m(u,f,w,C):m(u)),D!==I)return D;if(!Bt(u))return u;var j=Fe(u);if(j){if(D=function Wb(u){var h=u.length,m=new u.constructor(h);return h&&"string"==typeof u[0]&&mt.call(u,"index")&&(m.index=u.index,m.input=u.input),m}(u),!M)return Qi(u,D)}else{var K=hi(u),ae=K==ic||K==Xp;if(Ps(u))return Jm(u,M);if(K==Cn||K==_a||ae&&!w){if(D=B||ae?{}:dg(u),!M)return B?function rl(u,h){return lr(u,ra(u),h)}(u,function Mb(u,h){return u&&lr(h,yn(h),u)}(D,u)):function ja(u,h){return lr(u,ug(u),h)}(u,Bm(D,u))}else{if(!St[K])return w?u:{};D=function jb(u,h,m){var f=u.constructor;switch(h){case xa:return il(u);case Ca:case Lo:return new f(+u);case is:return function Bc(u,h){var m=h?il(u.buffer):u.buffer;return new u.constructor(m,u.byteOffset,u.byteLength)}(u,m);case lc:case sh:case ah:case oh:case lh:case ch:case tm:case uh:case hh:return eg(u,m);case Hn:return new f;case Io:case qs:return new f(u);case sc:return function Xm(u){var h=new u.constructor(u.source,ir.exec(u));return h.lastIndex=u.lastIndex,h}(u);case Wi:return new f;case ac:return function Oc(u){return Ba?Tt(Ba.call(u)):{}}(u)}}(u,K,M)}}C||(C=new Ki);var fe=C.get(u);if(fe)return fe;C.set(u,D),ou(u)?u.forEach(function(Se){D.add(Bi(Se,h,m,Se,u,C))}):GA(u)&&u.forEach(function(Se,Me){D.set(Me,Bi(Se,h,m,Me,u,C))});var qe=j?I:(z?B?cl:ll:B?yn:ni)(u);return rt(qe||u,function(Se,Me){qe&&(Se=u[Me=Se]),_c(D,Me,Bi(Se,h,m,Me,u,C))}),D}function Om(u,h,m){var f=m.length;if(null==u)return!f;for(u=Tt(u);f--;){var w=m[f],D=u[w];if(D===I&&!(w in u)||!(0,h[w])(D))return!1}return!0}function Nh(u,h,m){if("function"!=typeof u)throw new In(Mi);return Ya(function(){u.apply(I,m)},h)}function Ha(u,h,m,f){var w=-1,C=js,D=!0,M=u.length,B=[],z=h.length;if(!M)return B;m&&(h=Pt(h,Dn(m))),f?(C=ls,D=!1):h.length>=200&&(C=fc,D=!1,h=new ea(h));e:for(;++w<M;){var j=u[w],K=null==m?j:m(j);if(j=f||0!==j?j:0,D&&K==K){for(var ae=z;ae--;)if(h[ae]===K)continue e;B.push(j)}else C(h,K,f)||B.push(j)}return B}_.templateSettings={escape:Xv,evaluate:kt,interpolate:He,variable:"",imports:{_}},(_.prototype=Sc.prototype).constructor=_,(Mn.prototype=Lr(Sc.prototype)).constructor=Mn,(we.prototype=Lr(Sc.prototype)).constructor=we,Xs.prototype.clear=function Lh(){this.__data__=jo?jo(null):{},this.size=0},Xs.prototype.delete=function _b(u){var h=this.has(u)&&delete this.__data__[u];return this.size-=h?1:0,h},Xs.prototype.get=function Cb(u){var h=this.__data__;if(jo){var m=h[u];return m===_o?I:m}return mt.call(h,u)?h[u]:I},Xs.prototype.has=function Eb(u){var h=this.__data__;return jo?h[u]!==I:mt.call(h,u)},Xs.prototype.set=function Pc(u,h){var m=this.__data__;return this.size+=this.has(u)?0:1,m[u]=jo&&h===I?_o:h,this},Rn.prototype.clear=function wc(){this.__data__=[],this.size=0},Rn.prototype.delete=function Ih(u){var h=this.__data__,m=Yo(h,u);return!(m<0||(m==h.length-1?h.pop():yc.call(h,m,1),--this.size,0))},Rn.prototype.get=function Lm(u){var h=this.__data__,m=Yo(h,u);return m<0?I:h[m][1]},Rn.prototype.has=function xb(u){return Yo(this.__data__,u)>-1},Rn.prototype.set=function ps(u,h){var m=this.__data__,f=Yo(m,u);return f<0?(++this.size,m.push([u,h])):m[f][1]=h,this},hn.prototype.clear=function Db(){this.size=0,this.__data__={hash:new Xs,map:new(un||Rn),string:new Xs}},hn.prototype.delete=function Lb(u){var h=hl(this,u).delete(u);return this.size-=h?1:0,h},hn.prototype.get=function Ko(u){return hl(this,u).get(u)},hn.prototype.has=function Mh(u){return hl(this,u).has(u)},hn.prototype.set=function Ib(u,h){var m=hl(this,u),f=m.size;return m.set(u,h),this.size+=m.size==f?0:1,this},ea.prototype.add=ea.prototype.push=function _I(u){return this.__data__.set(u,_o),this},ea.prototype.has=function CI(u){return this.__data__.has(u)},Ki.prototype.clear=function Im(){this.__data__=new Rn,this.size=0},Ki.prototype.delete=function Rh(u){var h=this.__data__,m=h.delete(u);return this.size=h.size,m},Ki.prototype.get=function Tc(u){return this.__data__.get(u)},Ki.prototype.has=function Mm(u){return this.__data__.has(u)},Ki.prototype.set=function Rm(u,h){var m=this.__data__;if(m instanceof Rn){var f=m.__data__;if(!un||f.length<199)return f.push([u,h]),this.size=++m.size,this;m=this.__data__=new hn(f)}return m.set(u,h),this.size=m.size,this};var Mr=Kh(Oi),Bh=Kh(ci,!0);function Rb(u,h){var m=!0;return Mr(u,function(f,w,C){return m=!!h(f,w,C)}),m}function Ec(u,h,m){for(var f=-1,w=u.length;++f<w;){var C=u[f],D=h(C);if(null!=D&&(M===I?D==D&&!Gi(D):m(D,M)))var M=D,B=C}return B}function Ga(u,h){var m=[];return Mr(u,function(f,w,C){h(f,w,C)&&m.push(f)}),m}function vi(u,h,m,f,w){var C=-1,D=u.length;for(m||(m=Kb),w||(w=[]);++C<D;){var M=u[C];h>0&&m(M)?h>1?vi(M,h-1,m,f,w):on(w,M):f||(w[w.length]=M)}return w}var Dc=tg(),Oh=tg(!0);function Oi(u,h){return u&&Dc(u,h,ni)}function ci(u,h){return u&&Oh(u,h,ni)}function qa(u,h){return _e(h,function(m){return qr(u[m])})}function Rr(u,h){for(var m=0,f=(h=or(h,u)).length;null!=u&&m<f;)u=u[Fn(h[m++])];return m&&m==f?u:I}function ia(u,h,m){var f=h(u);return Fe(u)?f:on(f,m(u))}function Ut(u){return null==u?u===I?"[object Undefined]":"[object Null]":Qs&&Qs in Tt(u)?function cg(u){var h=mt.call(u,Qs),m=u[Qs];try{u[Qs]=I;var f=!0}catch(C){}var w=xi.call(u);return f&&(h?u[Qs]=m:delete u[Qs]),w}(u):function Uc(u){return xi.call(u)}(u)}function ms(u,h){return u>h}function $m(u,h){return null!=u&&mt.call(u,h)}function $h(u,h){return null!=u&&h in Tt(u)}function Hm(u,h,m){for(var f=m?ls:js,w=u[0].length,C=u.length,D=C,M=H(C),B=1/0,z=[];D--;){var j=u[D];D&&h&&(j=Pt(j,Dn(h))),B=Fi(j.length,B),M[D]=!m&&(h||w>=120&&j.length>=120)?new ea(D&&j):I}j=u[0];var K=-1,ae=M[0];e:for(;++K<w&&z.length<B;){var fe=j[K],Te=h?h(fe):fe;if(fe=m||0!==fe?fe:0,!(ae?fc(ae,Te):f(z,Te,m))){for(D=C;--D;){var qe=M[D];if(!(qe?fc(qe,Te):f(u[D],Te,m)))continue e}ae&&ae.push(Te),z.push(fe)}}return z}function Ae(u,h,m){var f=null==(u=td(u,h=or(h,u)))?u:u[Fn(Nn(h))];return null==f?I:ut(f,u,m)}function Nb(u){return Ht(u)&&Ut(u)==_a}function Lc(u,h,m,f,w){return u===h||(null==u||null==h||!Ht(u)&&!Ht(h)?u!=u&&h!=h:function DI(u,h,m,f,w,C){var D=Fe(u),M=Fe(h),B=D?Do:hi(u),z=M?Do:hi(h),j=(B=B==_a?Cn:B)==Cn,K=(z=z==_a?Cn:z)==Cn,ae=B==z;if(ae&&Ps(u)){if(!Ps(h))return!1;D=!0,j=!1}if(ae&&!j)return C||(C=new Ki),D||Xa(u)?og(u,h,m,f,w,C):function lg(u,h,m,f,w,C,D){switch(m){case is:if(u.byteLength!=h.byteLength||u.byteOffset!=h.byteOffset)return!1;u=u.buffer,h=h.buffer;case xa:return!(u.byteLength!=h.byteLength||!C(new Ra(u),new Ra(h)));case Ca:case Lo:case Io:return dr(+u,+h);case Ea:return u.name==h.name&&u.message==h.message;case sc:case qs:return u==h+"";case Hn:var M=km;case Wi:if(M||(M=nr),u.size!=h.size&&!(1&f))return!1;var z=D.get(u);if(z)return z==h;f|=2,D.set(u,h);var j=og(M(u),M(h),f,w,C,D);return D.delete(u),j;case ac:if(Ba)return Ba.call(u)==Ba.call(h)}return!1}(u,h,B,m,f,w,C);if(!(1&m)){var fe=j&&mt.call(u,"__wrapped__"),Te=K&&mt.call(h,"__wrapped__");if(fe||Te){var qe=fe?u.value():u,Se=Te?h.value():h;return C||(C=new Ki),w(qe,Se,m,f,C)}}return!!ae&&(C||(C=new Ki),function Vb(u,h,m,f,w,C){var D=1&m,M=ll(u),B=M.length;if(B!=ll(h).length&&!D)return!1;for(var K=B;K--;){var ae=M[K];if(!(D?ae in h:mt.call(h,ae)))return!1}var fe=C.get(u),Te=C.get(h);if(fe&&Te)return fe==h&&Te==u;var qe=!0;C.set(u,h),C.set(h,u);for(var Se=D;++K<B;){var Me=u[ae=M[K]],je=h[ae];if(f)var yt=D?f(je,Me,ae,h,u,C):f(Me,je,ae,u,h,C);if(!(yt===I?Me===je||w(Me,je,m,f,C):yt)){qe=!1;break}Se||(Se="constructor"==ae)}if(qe&&!Se){var Gt=u.constructor,Li=h.constructor;Gt!=Li&&"constructor"in u&&"constructor"in h&&!("function"==typeof Gt&&Gt instanceof Gt&&"function"==typeof Li&&Li instanceof Li)&&(qe=!1)}return C.delete(u),C.delete(h),qe}(u,h,m,f,w,C))}(u,h,m,f,Lc,w))}function Gm(u,h,m,f){var w=m.length,C=w,D=!f;if(null==u)return!C;for(u=Tt(u);w--;){var M=m[w];if(D&&M[2]?M[1]!==u[M[0]]:!(M[0]in u))return!1}for(;++w<C;){var B=(M=m[w])[0],z=u[B],j=M[1];if(D&&M[2]){if(z===I&&!(B in u))return!1}else{var K=new Ki;if(f)var ae=f(z,j,B,u,h,K);if(!(ae===I?Lc(j,z,3,f,K):ae))return!1}}return!0}function Ua(u){return!(!Bt(u)||function Yb(u){return!!Ys&&Ys in u}(u))&&(qr(u)?Pb:pI).test(jn(u))}function Wa(u){return"function"==typeof u?u:null==u?qi:"object"==typeof u?Fe(u)?Zo(u[0],u[1]):Gh(u):Ud(u)}function qm(u){if(!Ka(u))return TI(u);var h=[];for(var m in Tt(u))mt.call(u,m)&&"constructor"!=m&&h.push(m);return h}function Yi(u,h){return u<h}function Wn(u,h){var m=-1,f=gn(u)?H(u.length):[];return Mr(u,function(w,C,D){f[++m]=h(w,C,D)}),f}function Gh(u){var h=dl(u);return 1==h.length&&h[0][2]?ks(h[0][0],h[0][1]):function(m){return m===u||Gm(m,u,h)}}function Zo(u,h){return pl(u)&&ed(h)?ks(Fn(u),h):function(m){var f=Cd(m,u);return f===I&&f===h?Ed(m,u):Lc(h,f,3)}}function gs(u,h,m,f,w){u!==h&&Dc(h,function(C,D){if(w||(w=new Ki),Bt(C))!function Vm(u,h,m,f,w,C,D){var M=Wc(u,m),B=Wc(h,m),z=D.get(B);if(z)$a(u,m,z);else{var j=C?C(M,B,m+"",u,h,D):I,K=j===I;if(K){var ae=Fe(B),fe=!ae&&Ps(B),Te=!ae&&!fe&&Xa(B);j=B,ae||fe||Te?Fe(M)?j=M:$t(M)?j=Qi(M):fe?(K=!1,j=Jm(B,!0)):Te?(K=!1,j=eg(B,!0)):j=[]:aa(B)||Gr(B)?(j=M,Gr(M)?j=lu(M):(!Bt(M)||qr(M))&&(j=dg(B))):K=!1}K&&(D.set(B,j),w(j,B,f,C,D),D.delete(B)),$a(u,m,j)}}(u,h,D,m,gs,f,w);else{var M=f?f(Wc(u,D),C,D+"",u,h,w):I;M===I&&(M=C),$a(u,D,M)}},yn)}function Um(u,h){var m=u.length;if(m)return Or(h+=h<0?m:0,m)?u[h]:I}function Wm(u,h,m){h=h.length?Pt(h,function(C){return Fe(C)?function(D){return Rr(D,1===C.length?C[0]:C)}:C}):[qi];var f=-1;return h=Pt(h,Dn(ke())),function mb(F,V){var H=F.length;for(F.sort(V);H--;)F[H]=F[H].value;return F}(Wn(u,function(C,D,M){return{criteria:Pt(h,function(z){return z(C)}),index:++f,value:C}}),function(C,D){return function jh(u,h,m){for(var f=-1,w=u.criteria,C=h.criteria,D=w.length,M=m.length;++f<D;){var B=Wh(w[f],C[f]);if(B)return f>=M?B:B*("desc"==m[f]?-1:1)}return u.index-h.index}(C,D,m)})}function Ob(u,h,m){for(var f=-1,w=h.length,C={};++f<w;){var D=h[f],M=Rr(u,D);m(M,D)&&Jo(C,or(D,u),M)}return C}function $i(u,h,m,f){var w=f?vh:Ci,C=-1,D=h.length,M=u;for(u===h&&(h=Qi(h)),m&&(M=Pt(u,Dn(m)));++C<D;)for(var B=0,z=h[C],j=m?m(z):z;(B=w(M,j,B,f))>-1;)M!==u&&yc.call(M,B,1),yc.call(u,B,1);return u}function Ic(u,h){for(var m=u?h.length:0,f=m-1;m--;){var w=h[m];if(m==f||w!==C){var C=w;Or(w)?yc.call(u,w,1):Rc(u,w)}}return u}function fs(u,h){return u+Uo(ar()*(h-u+1))}function Mc(u,h){var m="";if(!u||h<1||h>ts)return m;do{h%2&&(m+=u),(h=Uo(h/2))&&(u+=u)}while(h);return m}function We(u,h){return Qa(fg(u,h,qi),u+"")}function $b(u){return Fm(no(u))}function Hb(u,h){var m=no(u);return Za(m,Ir(h,0,m.length))}function Jo(u,h,m,f){if(!Bt(u))return u;for(var w=-1,C=(h=or(h,u)).length,D=C-1,M=u;null!=M&&++w<C;){var B=Fn(h[w]),z=m;if("__proto__"===B||"constructor"===B||"prototype"===B)return u;if(w!=D){var j=M[B];(z=f?f(j,B,M):I)===I&&(z=Bt(j)?j:Or(h[w+1])?[]:{})}_c(M,B,z),M=M[B]}return u}var zm=Na?function(u,h){return Na.set(u,h),u}:qi,Km=vc?function(u,h){return vc(u,"toString",{configurable:!0,enumerable:!1,value:$d(h),writable:!0})}:qi;function qh(u){return Za(no(u))}function Hi(u,h,m){var f=-1,w=u.length;h<0&&(h=-h>w?0:w+h),(m=m>w?w:m)<0&&(m+=w),w=h>m?0:m-h>>>0,h>>>=0;for(var C=H(w);++f<w;)C[f]=u[f+h];return C}function FI(u,h){var m;return Mr(u,function(f,w,C){return!(m=h(f,w,C))}),!!m}function ys(u,h,m){var f=0,w=null==u?f:u.length;if("number"==typeof h&&h==h&&w<=2147483647){for(;f<w;){var C=f+w>>>1,D=u[C];null!==D&&!Gi(D)&&(m?D<=h:D<h)?f=C+1:w=C}return w}return Xo(u,h,qi,m)}function Xo(u,h,m,f){var w=0,C=null==u?0:u.length;if(0===C)return 0;for(var D=(h=m(h))!=h,M=null===h,B=Gi(h),z=h===I;w<C;){var j=Uo((w+C)/2),K=m(u[j]),ae=K!==I,fe=null===K,Te=K==K,qe=Gi(K);if(D)var Se=f||Te;else Se=z?Te&&(f||ae):M?Te&&ae&&(f||!fe):B?Te&&ae&&!fe&&(f||!qe):!fe&&!qe&&(f?K<=h:K<h);Se?w=j+1:C=j}return Fi(C,4294967294)}function el(u,h){for(var m=-1,f=u.length,w=0,C=[];++m<f;){var D=u[m],M=h?h(D):D;if(!m||!dr(M,B)){var B=M;C[w++]=0===D?0:D}}return C}function Ym(u){return"number"==typeof u?u:Gi(u)?NaN:+u}function pn(u){if("string"==typeof u)return u;if(Fe(u))return Pt(u,pn)+"";if(Gi(u))return xh?xh.call(u):"";var h=u+"";return"0"==h&&1/u==-Gs?"-0":h}function vs(u,h,m){var f=-1,w=js,C=u.length,D=!0,M=[],B=M;if(m)D=!1,w=ls;else if(C>=200){var z=h?null:Zh(u);if(z)return nr(z);D=!1,w=fc,B=new ea}else B=h?[]:M;e:for(;++f<C;){var j=u[f],K=h?h(j):j;if(j=m||0!==j?j:0,D&&K==K){for(var ae=B.length;ae--;)if(B[ae]===K)continue e;h&&B.push(K),M.push(j)}else w(B,K,m)||(B!==M&&B.push(K),M.push(j))}return M}function Rc(u,h){return null==(u=td(u,h=or(h,u)))||delete u[Fn(Nn(h))]}function Qm(u,h,m,f){return Jo(u,h,m(Rr(u,h)),f)}function bs(u,h,m,f){for(var w=u.length,C=f?w:-1;(f?C--:++C<w)&&h(u[C],C,u););return m?Hi(u,f?0:C,f?C+1:w):Hi(u,f?C+1:0,f?w:C)}function Vh(u,h){var m=u;return m instanceof we&&(m=m.value()),yi(h,function(f,w){return w.func.apply(w.thisArg,on([f],w.args))},m)}function Uh(u,h,m){var f=u.length;if(f<2)return f?vs(u[0]):[];for(var w=-1,C=H(f);++w<f;)for(var D=u[w],M=-1;++M<f;)M!=w&&(C[w]=Ha(C[w]||D,u[M],h,m));return vs(vi(C,1),h,m)}function te(u,h,m){for(var f=-1,w=u.length,C=h.length,D={};++f<w;)m(D,u[f],f<C?h[f]:I);return D}function Fc(u){return $t(u)?u:[]}function Nc(u){return"function"==typeof u?u:qi}function or(u,h){return Fe(u)?u:pl(u,h)?[u]:zc(tt(u))}var tl=We;function As(u,h,m){var f=u.length;return m=m===I?f:m,!h&&m>=f?u:Hi(u,h,m)}var Zm=Q||function(u){return ei.clearTimeout(u)};function Jm(u,h){if(h)return u.slice();var m=u.length,f=Re?Re(m):new u.constructor(m);return u.copy(f),f}function il(u){var h=new u.constructor(u.byteLength);return new Ra(h).set(new Ra(u)),h}function eg(u,h){var m=h?il(u.buffer):u.buffer;return new u.constructor(m,u.byteOffset,u.length)}function Wh(u,h){if(u!==h){var m=u!==I,f=null===u,w=u==u,C=Gi(u),D=h!==I,M=null===h,B=h==h,z=Gi(h);if(!M&&!z&&!C&&u>h||C&&D&&B&&!M&&!z||f&&D&&B||!m&&B||!w)return 1;if(!f&&!C&&!z&&u<h||z&&m&&w&&!f&&!C||M&&m&&w||!D&&w||!B)return-1}return 0}function nl(u,h,m,f){for(var w=-1,C=u.length,D=m.length,M=-1,B=h.length,z=ti(C-D,0),j=H(B+z),K=!f;++M<B;)j[M]=h[M];for(;++w<D;)(K||w<C)&&(j[m[w]]=u[w]);for(;z--;)j[M++]=u[w++];return j}function zh(u,h,m,f){for(var w=-1,C=u.length,D=-1,M=m.length,B=-1,z=h.length,j=ti(C-M,0),K=H(j+z),ae=!f;++w<j;)K[w]=u[w];for(var fe=w;++B<z;)K[fe+B]=h[B];for(;++D<M;)(ae||w<C)&&(K[fe+m[D]]=u[w++]);return K}function Qi(u,h){var m=-1,f=u.length;for(h||(h=H(f));++m<f;)h[m]=u[m];return h}function lr(u,h,m,f){var w=!m;m||(m={});for(var C=-1,D=h.length;++C<D;){var M=h[C],B=f?f(m[M],u[M],M,m,u):I;B===I&&(B=u[M]),w?dn(m,M,B):_c(m,M,B)}return m}function $c(u,h){return function(m,f){var w=Fe(m)?Us:Nm,C=h?h():{};return w(m,u,ke(f,2),C)}}function sl(u){return We(function(h,m){var f=-1,w=m.length,C=w>1?m[w-1]:I,D=w>2?m[2]:I;for(C=u.length>3&&"function"==typeof C?(w--,C):I,D&&Di(m[0],m[1],D)&&(C=w<3?I:C,w=1),h=Tt(h);++f<w;){var M=m[f];M&&u(h,M,f,C)}return h})}function Kh(u,h){return function(m,f){if(null==m)return m;if(!gn(m))return u(m,f);for(var w=m.length,C=h?w:-1,D=Tt(m);(h?C--:++C<w)&&!1!==f(D[C],C,D););return m}}function tg(u){return function(h,m,f){for(var w=-1,C=Tt(h),D=f(h),M=D.length;M--;){var B=D[u?M:++w];if(!1===m(C[B],B,C))break}return h}}function ig(u){return function(h){var m=Go(h=tt(h))?Vn(h):I,f=m?m[0]:h.charAt(0),w=m?As(m,1).join(""):h.slice(1);return f[u]()+w}}function za(u){return function(h){return yi(kf(pf(h).replace(xr,"")),u,"")}}function al(u){return function(){var h=arguments;switch(h.length){case 0:return new u;case 1:return new u(h[0]);case 2:return new u(h[0],h[1]);case 3:return new u(h[0],h[1],h[2]);case 4:return new u(h[0],h[1],h[2],h[3]);case 5:return new u(h[0],h[1],h[2],h[3],h[4]);case 6:return new u(h[0],h[1],h[2],h[3],h[4],h[5]);case 7:return new u(h[0],h[1],h[2],h[3],h[4],h[5],h[6])}var m=Lr(u.prototype),f=u.apply(m,h);return Bt(f)?f:m}}function qb(u){return function(h,m,f){var w=Tt(h);if(!gn(h)){var C=ke(m,3);h=ni(h),m=function(M){return C(w[M],M,w)}}var D=u(h,m,f);return D>-1?w[C?h[D]:D]:I}}function Zi(u){return Nr(function(h){var m=h.length,f=m,w=Mn.prototype.thru;for(u&&h.reverse();f--;){var C=h[f];if("function"!=typeof C)throw new In(Mi);if(w&&!D&&"wrapper"==ul(C))var D=new Mn([],!0)}for(f=D?f:m;++f<m;){var M=ul(C=h[f]),B="wrapper"==M?Xh(C):I;D=B&&ml(B[0])&&424==B[1]&&!B[4].length&&1==B[9]?D[ul(B[0])].apply(D,B[3]):1==C.length&&ml(C)?D[M]():D.thru(C)}return function(){var z=arguments,j=z[0];if(D&&1==z.length&&Fe(j))return D.plant(j).value();for(var K=0,ae=m?h[K].apply(this,z):j;++K<m;)ae=h[K].call(this,ae);return ae}})}function Hc(u,h,m,f,w,C,D,M,B,z){var j=128&h,K=1&h,ae=2&h,fe=24&h,Te=512&h,qe=ae?I:al(u);return function Se(){for(var Me=arguments.length,je=H(Me),yt=Me;yt--;)je[yt]=arguments[yt];if(fe)var Gt=cr(Se),Li=AI(je,Gt);if(f&&(je=nl(je,f,w,fe)),C&&(je=zh(je,C,D,fe)),Me-=Li,fe&&Me<z){var lt=zs(je,Gt);return bi(u,h,Hc,Se.placeholder,m,je,lt,M,B,z-Me)}var jt=K?m:this,Ji=ae?jt[u]:u;return Me=je.length,M?je=yg(je,M):Te&&Me>1&&je.reverse(),j&&B<Me&&(je.length=B),this&&this!==ei&&this instanceof Se&&(Ji=qe||al(Ji)),Ji.apply(jt,je)}}function ng(u,h){return function(m,f){return function Fb(u,h,m,f){return Oi(u,function(w,C,D){h(f,m(w),C,D)}),f}(m,u,h(f),{})}}function Gc(u,h){return function(m,f){var w;if(m===I&&f===I)return h;if(m!==I&&(w=m),f!==I){if(w===I)return f;"string"==typeof m||"string"==typeof f?(m=pn(m),f=pn(f)):(m=Ym(m),f=Ym(f)),w=u(m,f)}return w}}function qc(u){return Nr(function(h){return h=Pt(h,Dn(ke())),We(function(m){var f=this;return u(h,function(w){return ut(w,f,m)})})})}function ui(u,h){var m=(h=h===I?" ":pn(h)).length;if(m<2)return m?Mc(h,u):h;var f=Mc(h,Nt(u/Ia(h)));return Go(h)?As(Vn(f),0,u).join(""):f.slice(0,u)}function Qh(u){return function(h,m,f){return f&&"number"!=typeof f&&Di(h,m,f)&&(m=f=I),h=Ur(h),m===I?(m=h,h=0):m=Ur(m),function RI(u,h,m,f){for(var w=-1,C=ti(Nt((h-u)/(m||1)),0),D=H(C);C--;)D[f?C:++w]=u,u+=m;return D}(h,m,f=f===I?h<m?1:-1:Ur(f),u)}}function ol(u){return function(h,m){return"string"==typeof h&&"string"==typeof m||(h=Ai(h),m=Ai(m)),u(h,m)}}function bi(u,h,m,f,w,C,D,M,B,z){var j=8&h;h|=j?32:64,4&(h&=~(j?64:32))||(h&=-4);var qe=[u,h,w,j?C:I,j?D:I,j?I:C,j?I:D,M,B,z],Se=m.apply(I,qe);return ml(u)&&jc(Se,qe),Se.placeholder=f,gl(Se,u,h)}function na(u){var h=Ot[u];return function(m,f){if(m=Ai(m),(f=null==f?0:Fi(Ge(f),292))&&bc(m)){var w=(tt(m)+"e").split("e");return+((w=(tt(h(w[0]+"e"+(+w[1]+f)))+"e").split("e"))[0]+"e"+(+w[1]-f))}return h(m)}}var Zh=Js&&1/nr(new Js([,-0]))[1]==Gs?function(u){return new Js(u)}:qd;function rg(u){return function(h){var m=hi(h);return m==Hn?km(h):m==Wi?function bb(F){var V=-1,H=Array(F.size);return F.forEach(function(me){H[++V]=[me,me]}),H}(h):function bI(F,V){return Pt(V,function(H){return[H,F[H]]})}(h,u(h))}}function Fr(u,h,m,f,w,C,D,M){var B=2&h;if(!B&&"function"!=typeof u)throw new In(Mi);var z=f?f.length:0;if(z||(h&=-97,f=w=I),D=D===I?D:ti(Ge(D),0),M=M===I?M:Ge(M),z-=w?w.length:0,64&h){var j=f,K=w;f=w=I}var ae=B?I:Xh(u),fe=[u,h,m,f,w,j,K,C,D,M];if(ae&&function gg(u,h){var m=u[1],f=h[1],w=m|f;if(!(w<131||(128==f&&8==m||128==f&&256==m&&u[7].length<=h[8]||384==f&&h[7].length<=h[8]&&8==m)))return u;1&f&&(u[2]=h[2],w|=1&m?0:4);var M=h[3];if(M){var B=u[3];u[3]=B?nl(B,M,h[4]):M,u[4]=B?zs(u[3],Bs):h[4]}(M=h[5])&&(u[5]=(B=u[5])?zh(B,M,h[6]):M,u[6]=B?zs(u[5],Bs):h[6]),(M=h[7])&&(u[7]=M),128&f&&(u[8]=null==u[8]?h[8]:Fi(u[8],h[8])),null==u[9]&&(u[9]=h[9]),u[0]=h[0],u[1]=w}(fe,ae),u=fe[0],h=fe[1],m=fe[2],f=fe[3],w=fe[4],!(M=fe[9]=fe[9]===I?B?0:u.length:ti(fe[9]-z,0))&&24&h&&(h&=-25),h&&1!=h)Te=8==h||16==h?function Gb(u,h,m){var f=al(u);return function w(){for(var C=arguments.length,D=H(C),M=C,B=cr(w);M--;)D[M]=arguments[M];var z=C<3&&D[0]!==B&&D[C-1]!==B?[]:zs(D,B);return(C-=z.length)<m?bi(u,h,Hc,w.placeholder,I,D,z,I,I,m-C):ut(this&&this!==ei&&this instanceof w?f:u,this,D)}}(u,h,M):32!=h&&33!=h||w.length?Hc.apply(I,fe):function Yh(u,h,m,f){var w=1&h,C=al(u);return function D(){for(var M=-1,B=arguments.length,z=-1,j=f.length,K=H(j+B),ae=this&&this!==ei&&this instanceof D?C:u;++z<j;)K[z]=f[z];for(;B--;)K[z++]=arguments[++M];return ut(ae,w?m:this,K)}}(u,h,m,f);else var Te=function NI(u,h,m){var f=1&h,w=al(u);return function C(){return(this&&this!==ei&&this instanceof C?w:u).apply(f?m:this,arguments)}}(u,h,m);return gl((ae?zm:jc)(Te,fe),u,h)}function Jh(u,h,m,f){return u===I||dr(u,qo[m])&&!mt.call(f,m)?h:u}function sg(u,h,m,f,w,C){return Bt(u)&&Bt(h)&&(C.set(h,u),gs(u,h,I,sg,C),C.delete(h)),u}function ag(u){return aa(u)?I:u}function og(u,h,m,f,w,C){var D=1&m,M=u.length,B=h.length;if(M!=B&&!(D&&B>M))return!1;var z=C.get(u),j=C.get(h);if(z&&j)return z==h&&j==u;var K=-1,ae=!0,fe=2&m?new ea:I;for(C.set(u,h),C.set(h,u);++K<M;){var Te=u[K],qe=h[K];if(f)var Se=D?f(qe,Te,K,h,u,C):f(Te,qe,K,u,h,C);if(Se!==I){if(Se)continue;ae=!1;break}if(fe){if(!cs(h,function(Me,je){if(!fc(fe,je)&&(Te===Me||w(Te,Me,m,f,C)))return fe.push(je)})){ae=!1;break}}else if(Te!==qe&&!w(Te,qe,m,f,C)){ae=!1;break}}return C.delete(u),C.delete(h),ae}function Nr(u){return Qa(fg(u,I,ad),u+"")}function ll(u){return ia(u,ni,ug)}function cl(u){return ia(u,yn,ra)}var Xh=Na?function(u){return Na.get(u)}:qd;function ul(u){for(var h=u.name+"",m=hs[h],f=mt.call(hs,h)?m.length:0;f--;){var w=m[f],C=w.func;if(null==C||C==u)return w.name}return h}function cr(u){return(mt.call(_,"placeholder")?_:u).placeholder}function ke(){var u=_.iteratee||Ts;return u=u===Ts?Wa:u,arguments.length?u(arguments[0],arguments[1]):u}function hl(u,h){var m=u.__data__;return function pg(u){var h=typeof u;return"string"==h||"number"==h||"symbol"==h||"boolean"==h?"__proto__"!==u:null===u}(h)?m["string"==typeof h?"string":"hash"]:m.map}function dl(u){for(var h=ni(u),m=h.length;m--;){var f=h[m],w=u[f];h[m]=[f,w,ed(w)]}return h}function Br(u,h){var m=function wI(F,V){return null==F?I:F[V]}(u,h);return Ua(m)?m:I}var ug=Zs?function(u){return null==u?[]:(u=Tt(u),_e(Zs(u),function(h){return _m.call(u,h)}))}:Wd,ra=Zs?function(u){for(var h=[];u;)on(h,ug(u)),u=Vo(u);return h}:Wd,hi=Ut;function Vc(u,h,m){for(var f=-1,w=(h=or(h,u)).length,C=!1;++f<w;){var D=Fn(h[f]);if(!(C=null!=u&&m(u,D)))break;u=u[D]}return C||++f!=w?C:!!(w=null==u?0:u.length)&&kd(w)&&Or(D,w)&&(Fe(u)||Gr(u))}function dg(u){return"function"!=typeof u.constructor||Ka(u)?{}:Lr(Vo(u))}function Kb(u){return Fe(u)||Gr(u)||!!(Cm&&u&&u[Cm])}function Or(u,h){var m=typeof u;return!!(h=null==h?ts:h)&&("number"==m||"symbol"!=m&&ib.test(u))&&u>-1&&u%1==0&&u<h}function Di(u,h,m){if(!Bt(m))return!1;var f=typeof h;return!!("number"==f?gn(m)&&Or(h,m.length):"string"==f&&h in m)&&dr(m[h],u)}function pl(u,h){if(Fe(u))return!1;var m=typeof u;return!("number"!=m&&"symbol"!=m&&"boolean"!=m&&null!=u&&!Gi(u))||aI.test(u)||!im.test(u)||null!=h&&u in Tt(h)}function ml(u){var h=ul(u),m=_[h];if("function"!=typeof m||!(h in we.prototype))return!1;if(u===m)return!0;var f=Xh(m);return!!f&&u===f[0]}(us&&hi(new us(new ArrayBuffer(1)))!=is||un&&hi(new un)!=Hn||Ch&&hi(Ch.resolve())!=Kv||Js&&hi(new Js)!=Wi||Wo&&hi(new Wo)!=oc)&&(hi=function(u){var h=Ut(u),m=h==Cn?u.constructor:I,f=m?jn(m):"";if(f)switch(f){case xm:return is;case Eh:return Hn;case Tb:return Kv;case Dm:return Wi;case kc:return oc}return h});var Qb=Ks?qr:jd;function Ka(u){var h=u&&u.constructor;return u===("function"==typeof h&&h.prototype||qo)}function ed(u){return u==u&&!Bt(u)}function ks(u,h){return function(m){return null!=m&&m[u]===h&&(h!==I||u in Tt(m))}}function fg(u,h,m){return h=ti(h===I?u.length-1:h,0),function(){for(var f=arguments,w=-1,C=ti(f.length-h,0),D=H(C);++w<C;)D[w]=f[h+w];w=-1;for(var M=H(h+1);++w<h;)M[w]=f[w];return M[h]=m(D),ut(u,this,M)}}function td(u,h){return h.length<2?u:Rr(u,Hi(h,0,-1))}function yg(u,h){for(var m=u.length,f=Fi(h.length,m),w=Qi(u);f--;){var C=h[f];u[f]=Or(C,m)?w[C]:I}return u}function Wc(u,h){if(("constructor"!==h||"function"!=typeof u[h])&&"__proto__"!=h)return u[h]}var jc=id(zm),Ya=ot||function(u,h){return ei.setTimeout(u,h)},Qa=id(Km);function gl(u,h,m){var f=h+"";return Qa(u,function zb(u,h){var m=h.length;if(!m)return u;var f=m-1;return h[f]=(m>1?"& ":"")+h[f],h=h.join(m>2?", ":" "),u.replace(oI,"{\n/* [wrapped with "+h+"] */\n")}(f,function Jb(u,h){return rt(jv,function(m){var f="_."+m[0];h&m[1]&&!js(u,f)&&u.push(f)}),u.sort()}(function Ub(u){var h=u.match(lI);return h?h[1].split(uc):[]}(f),m)))}function id(u){var h=0,m=0;return function(){var f=Ac(),w=16-(f-m);if(m=f,w>0){if(++h>=800)return arguments[0]}else h=0;return u.apply(I,arguments)}}function Za(u,h){var m=-1,f=u.length,w=f-1;for(h=h===I?f:h;++m<h;){var C=fs(m,w),D=u[C];u[C]=u[m],u[m]=D}return u.length=h,u}var zc=function mg(u){var h=eu(u,function(f){return 500===m.size&&m.clear(),f}),m=h.cache;return h}(function(u){var h=[];return 46===u.charCodeAt(0)&&h.push(""),u.replace(pe,function(m,f,w,C){h.push(w?C.replace(tb,"$1"):f||m)}),h});function Fn(u){if("string"==typeof u||Gi(u))return u;var h=u+"";return"0"==h&&1/u==-Gs?"-0":h}function jn(u){if(null!=u){try{return Ei.call(u)}catch(h){}try{return u+""}catch(h){}}return""}function nd(u){if(u instanceof we)return u.clone();var h=new Mn(u.__wrapped__,u.__chain__);return h.__actions__=Qi(u.__actions__),h.__index__=u.__index__,h.__values__=u.__values__,h}var rd=We(function(u,h){return $t(u)?Ha(u,vi(h,1,$t,!0)):[]}),Kc=We(function(u,h){var m=Nn(h);return $t(m)&&(m=I),$t(u)?Ha(u,vi(h,1,$t,!0),ke(m,2)):[]}),sd=We(function(u,h){var m=Nn(h);return $t(m)&&(m=I),$t(u)?Ha(u,vi(h,1,$t,!0),I,m):[]});function fl(u,h,m){var f=null==u?0:u.length;if(!f)return-1;var w=null==m?0:Ge(m);return w<0&&(w=ti(f+w,0)),ln(u,ke(h,3),w)}function Yc(u,h,m){var f=null==u?0:u.length;if(!f)return-1;var w=f-1;return m!==I&&(w=Ge(m),w=m<0?ti(f+w,0):Fi(w,f-1)),ln(u,ke(h,3),w,!0)}function ad(u){return null!=u&&u.length?vi(u,1):[]}function Sg(u){return u&&u.length?u[0]:I}var aA=We(function(u){var h=Pt(u,Fc);return h.length&&h[0]===u[0]?Hm(h):[]}),oA=We(function(u){var h=Nn(u),m=Pt(u,Fc);return h===Nn(m)?h=I:m.pop(),m.length&&m[0]===u[0]?Hm(m,ke(h,2)):[]}),Ss=We(function(u){var h=Nn(u),m=Pt(u,Fc);return(h="function"==typeof h?h:I)&&m.pop(),m.length&&m[0]===u[0]?Hm(m,I,h):[]});function Nn(u){var h=null==u?0:u.length;return h?u[h-1]:I}var HI=We(lA);function lA(u,h){return u&&u.length&&h&&h.length?$i(u,h):u}var cA=Nr(function(u,h){var m=null==u?0:u.length,f=Qo(u,h);return Ic(u,Pt(h,function(w){return Or(w,m)?+w:w}).sort(Wh)),f});function od(u){return null==u?u:Em.call(u)}var cd=We(function(u){return vs(vi(u,1,$t,!0))}),ud=We(function(u){var h=Nn(u);return $t(h)&&(h=I),vs(vi(u,1,$t,!0),ke(h,2))}),jI=We(function(u){var h=Nn(u);return h="function"==typeof h?h:I,vs(vi(u,1,$t,!0),I,h)});function hd(u){if(!u||!u.length)return[];var h=0;return u=_e(u,function(m){if($t(m))return h=ti(m.length,h),!0}),vm(h,function(m){return Pt(u,cn(m))})}function xg(u,h){if(!u||!u.length)return[];var m=hd(u);return null==h?m:Pt(m,function(f){return ut(h,I,f)})}var mA=We(function(u,h){return $t(u)?Ha(u,h):[]}),Dg=We(function(u){return Uh(_e(u,$t))}),Zc=We(function(u){var h=Nn(u);return $t(h)&&(h=I),Uh(_e(u,$t),ke(h,2))}),gA=We(function(u){var h=Nn(u);return h="function"==typeof h?h:I,Uh(_e(u,$t),I,h)}),dd=We(hd),yA=We(function(u){var h=u.length,m=h>1?u[h-1]:I;return m="function"==typeof m?(u.pop(),m):I,xg(u,m)});function Lg(u){var h=_(u);return h.__chain__=!0,h}function bl(u,h){return h(u)}var vA=Nr(function(u){var h=u.length,m=h?u[0]:0,f=this.__wrapped__,w=function(C){return Qo(C,u)};return!(h>1||this.__actions__.length)&&f instanceof we&&Or(m)?((f=f.slice(m,+m+(h?1:0))).__actions__.push({func:bl,args:[w],thisArg:I}),new Mn(f,this.__chain__).thru(function(C){return h&&!C.length&&C.push(I),C})):this.thru(w)}),pd=$c(function(u,h,m){mt.call(u,m)?++u[m]:dn(u,m,1)}),md=qb(fl),TA=qb(Yc);function Ig(u,h){return(Fe(u)?rt:Mr)(u,ke(h,3))}function Mg(u,h){return(Fe(u)?Bo:Bh)(u,ke(h,3))}var EA=$c(function(u,h,m){mt.call(u,m)?u[m].push(h):dn(u,m,[h])}),DA=We(function(u,h,m){var f=-1,w="function"==typeof h,C=gn(u)?H(u.length):[];return Mr(u,function(D){C[++f]=w?ut(h,D,m):Ae(D,h,m)}),C}),LA=$c(function(u,h,m){dn(u,m,h)});function Jc(u,h){return(Fe(u)?Pt:Wn)(u,ke(h,3))}var MA=$c(function(u,h,m){u[m?0:1].push(h)},function(){return[[],[]]}),Ng=We(function(u,h){if(null==u)return[];var m=h.length;return m>1&&Di(u,h[0],h[1])?h=[]:m>2&&Di(h[0],h[1],h[2])&&(h=[h[0]]),Wm(u,vi(h,1),[])}),Xc=et||function(){return ei.Date.now()};function Og(u,h,m){return h=m?I:h,Fr(u,128,I,I,I,I,h=u&&null==h?u.length:h)}function $g(u,h){var m;if("function"!=typeof h)throw new In(Mi);return u=Ge(u),function(){return--u>0&&(m=h.apply(this,arguments)),u<=1&&(h=I),m}}var mn=We(function(u,h,m){var f=1;if(m.length){var w=zs(m,cr(mn));f|=32}return Fr(u,f,h,m,w)}),Hg=We(function(u,h,m){var f=3;if(m.length){var w=zs(m,cr(Hg));f|=32}return Fr(h,f,u,m,w)});function qg(u,h,m){var f,w,C,D,M,B,z=0,j=!1,K=!1,ae=!0;if("function"!=typeof u)throw new In(Mi);function fe(lt){var jt=f,Ji=w;return f=w=I,z=lt,D=u.apply(Ji,jt)}function Te(lt){return z=lt,M=Ya(Me,h),j?fe(lt):D}function Se(lt){var jt=lt-B;return B===I||jt>=h||jt<0||K&&lt-z>=C}function Me(){var lt=Xc();if(Se(lt))return je(lt);M=Ya(Me,function qe(lt){var la=h-(lt-B);return K?Fi(la,C-(lt-z)):la}(lt))}function je(lt){return M=I,ae&&f?fe(lt):(f=w=I,D)}function Li(){var lt=Xc(),jt=Se(lt);if(f=arguments,w=this,B=lt,jt){if(M===I)return Te(B);if(K)return Zm(M),M=Ya(Me,h),fe(B)}return M===I&&(M=Ya(Me,h)),D}return h=Ai(h)||0,Bt(m)&&(j=!!m.leading,C=(K="maxWait"in m)?ti(Ai(m.maxWait)||0,h):C,ae="trailing"in m?!!m.trailing:ae),Li.cancel=function yt(){M!==I&&Zm(M),z=0,f=B=w=M=I},Li.flush=function Gt(){return M===I?D:je(Xc())},Li}var RA=We(function(u,h){return Nh(u,1,h)}),FA=We(function(u,h,m){return Nh(u,Ai(h)||0,m)});function eu(u,h){if("function"!=typeof u||null!=h&&"function"!=typeof h)throw new In(Mi);var m=function(){var f=arguments,w=h?h.apply(this,f):f[0],C=m.cache;if(C.has(w))return C.get(w);var D=u.apply(this,f);return m.cache=C.set(w,D)||C,D};return m.cache=new(eu.Cache||hn),m}function tu(u){if("function"!=typeof u)throw new In(Mi);return function(){var h=arguments;switch(h.length){case 0:return!u.call(this);case 1:return!u.call(this,h[0]);case 2:return!u.call(this,h[0],h[1]);case 3:return!u.call(this,h[0],h[1],h[2])}return!u.apply(this,h)}}eu.Cache=hn;var Oe=tl(function(u,h){var m=(h=1==h.length&&Fe(h[0])?Pt(h[0],Dn(ke())):Pt(vi(h,1),Dn(ke()))).length;return We(function(f){for(var w=-1,C=Fi(f.length,m);++w<C;)f[w]=h[w].call(this,f[w]);return ut(u,this,f)})}),N=We(function(u,h){var m=zs(h,cr(N));return Fr(u,32,I,h,m)}),fd=We(function(u,h){var m=zs(h,cr(fd));return Fr(u,64,I,h,m)}),Ug=Nr(function(u,h){return Fr(u,256,I,I,I,h)});function dr(u,h){return u===h||u!=u&&h!=h}var nu=ol(ms),ru=ol(function(u,h){return u>=h}),Gr=Nb(function(){return arguments}())?Nb:function(u){return Ht(u)&&mt.call(u,"callee")&&!_m.call(u,"callee")},Fe=H.isArray,Ad=an?Dn(an):function EI(u){return Ht(u)&&Ut(u)==xa};function gn(u){return null!=u&&kd(u.length)&&!qr(u)}function $t(u){return Ht(u)&&gn(u)}var Ps=sr||jd,$A=oe?Dn(oe):function xI(u){return Ht(u)&&Ut(u)==Lo};function su(u){if(!Ht(u))return!1;var h=Ut(u);return h==Ea||"[object DOMException]"==h||"string"==typeof u.message&&"string"==typeof u.name&&!aa(u)}function qr(u){if(!Bt(u))return!1;var h=Ut(u);return h==ic||h==Xp||"[object AsyncFunction]"==h||"[object Proxy]"==h}function au(u){return"number"==typeof u&&u==Ge(u)}function kd(u){return"number"==typeof u&&u>-1&&u%1==0&&u<=ts}function Bt(u){var h=typeof u;return null!=u&&("object"==h||"function"==h)}function Ht(u){return null!=u&&"object"==typeof u}var GA=Ue?Dn(Ue):function LI(u){return Ht(u)&&hi(u)==Hn};function Vr(u){return"number"==typeof u||Ht(u)&&Ut(u)==Io}function aa(u){if(!Ht(u)||Ut(u)!=Cn)return!1;var h=Vo(u);if(null===h)return!0;var m=mt.call(h,"constructor")&&h.constructor;return"function"==typeof m&&m instanceof m&&Ei.call(m)==Tm}var Sd=Et?Dn(Et):function II(u){return Ht(u)&&Ut(u)==sc},ou=zi?Dn(zi):function ii(u){return Ht(u)&&hi(u)==Wi};function Sl(u){return"string"==typeof u||!Fe(u)&&Ht(u)&&Ut(u)==qs}function Gi(u){return"symbol"==typeof u||Ht(u)&&Ut(u)==ac}var Xa=os?Dn(os):function Hh(u){return Ht(u)&&kd(u.length)&&!!Ke[Ut(u)]},Pd=ol(Yi),VA=ol(function(u,h){return u<=h});function wd(u){if(!u)return[];if(gn(u))return Sl(u)?Vn(u):Qi(u);if(Fa&&u[Fa])return function kh(F){for(var V,H=[];!(V=F.next()).done;)H.push(V.value);return H}(u[Fa]());var h=hi(u);return(h==Hn?km:h==Wi?nr:no)(u)}function Ur(u){return u?(u=Ai(u))===Gs||u===-Gs?17976931348623157e292*(u<0?-1:1):u==u?u:0:0===u?u:0}function Ge(u){var h=Ur(u),m=h%1;return h==h?m?h-m:h:0}function eo(u){return u?Ir(Ge(u),0,tr):0}function Ai(u){if("number"==typeof u)return u;if(Gi(u))return NaN;if(Bt(u)){var h="function"==typeof u.valueOf?u.valueOf():u;u=Bt(h)?h+"":h}if("string"!=typeof u)return 0===u?u:+u;u=gb(u);var m=dI.test(u);return m||mI.test(u)?Vs(u.slice(2),m?2:8):hI.test(u)?NaN:+u}function lu(u){return lr(u,yn(u))}function tt(u){return null==u?"":pn(u)}var io=sl(function(u,h){if(Ka(h)||gn(h))lr(h,ni(h),u);else for(var m in h)mt.call(h,m)&&_c(u,m,h[m])}),Jg=sl(function(u,h){lr(h,yn(h),u)}),Pl=sl(function(u,h,m,f){lr(h,yn(h),u,f)}),Xg=sl(function(u,h,m,f){lr(h,ni(h),u,f)}),Td=Nr(Qo),ef=We(function(u,h){u=Tt(u);var m=-1,f=h.length,w=f>2?h[2]:I;for(w&&Di(h[0],h[1],w)&&(f=1);++m<f;)for(var C=h[m],D=yn(C),M=-1,B=D.length;++M<B;){var z=D[M],j=u[z];(j===I||dr(j,qo[z])&&!mt.call(u,z))&&(u[z]=C[z])}return u}),cu=We(function(u){return u.push(I,sg),ut(lf,I,u)});function Cd(u,h,m){var f=null==u?I:Rr(u,h);return f===I?m:f}function Ed(u,h){return null!=u&&Vc(u,h,$h)}var zA=ng(function(u,h,m){null!=h&&"function"!=typeof h.toString&&(h=xi.call(h)),u[h]=m},$d(qi)),uM=ng(function(u,h,m){null!=h&&"function"!=typeof h.toString&&(h=xi.call(h)),mt.call(u,h)?u[h].push(m):u[h]=[m]},ke),hM=We(Ae);function ni(u){return gn(u)?ta(u):qm(u)}function yn(u){return gn(u)?ta(u,!0):function Bb(u){if(!Bt(u))return function Zb(u){var h=[];if(null!=u)for(var m in Tt(u))h.push(m);return h}(u);var h=Ka(u),m=[];for(var f in u)"constructor"==f&&(h||!mt.call(u,f))||m.push(f);return m}(u)}var af=sl(function(u,h,m){gs(u,h,m)}),lf=sl(function(u,h,m,f){gs(u,h,m,f)}),YA=Nr(function(u,h){var m={};if(null==u)return m;var f=!1;h=Pt(h,function(C){return C=or(C,u),f||(f=C.length>1),C}),lr(u,cl(u),m),f&&(m=Bi(m,7,ag));for(var w=h.length;w--;)Rc(m,h[w]);return m}),cf=Nr(function(u,h){return null==u?{}:function MI(u,h){return Ob(u,h,function(m,f){return Ed(u,f)})}(u,h)});function uf(u,h){if(null==u)return{};var m=Pt(cl(u),function(f){return[f]});return h=ke(h),Ob(u,m,function(f,w){return h(f,w[0])})}var Dd=rg(ni),Ld=rg(yn);function no(u){return null==u?[]:bm(u,ni(u))}var nk=za(function(u,h,m){return h=h.toLowerCase(),u+(m?uu(h):h)});function uu(u){return oa(tt(u).toLowerCase())}function pf(u){return(u=tt(u))&&u.replace(gI,kI).replace(No,"")}var sk=za(function(u,h,m){return u+(m?"-":"")+h.toLowerCase()}),Rd=za(function(u,h,m){return u+(m?" ":"")+h.toLowerCase()}),Fd=ig("toLowerCase"),gf=za(function(u,h,m){return u+(m?"_":"")+h.toLowerCase()}),yf=za(function(u,h,m){return u+(m?" ":"")+oa(h)}),Od=za(function(u,h,m){return u+(m?" ":"")+h.toUpperCase()}),oa=ig("toUpperCase");function kf(u,h,m){return u=tt(u),(h=m?I:h)===I?function Am(F){return pm.test(F)}(u)?function kb(F){return F.match(Gn)||[]}(u):function db(F){return F.match(rn)||[]}(u):u.match(h)||[]}var pu=We(function(u,h){try{return ut(u,I,h)}catch(m){return su(m)?m:new Ie(m)}}),Sf=Nr(function(u,h){return rt(h,function(m){m=Fn(m),dn(u,m,mn(u[m],u))}),u});function $d(u){return function(){return u}}var ck=Zi(),uk=Zi(!0);function qi(u){return u}function Ts(u){return Wa("function"==typeof u?u:Bi(u,1))}var dk=We(function(u,h){return function(m){return Ae(m,u,h)}}),ro=We(function(u,h){return function(m){return Ae(u,m,h)}});function Gd(u,h,m){var f=ni(h),w=qa(h,f);null==m&&(!Bt(h)||!w.length&&f.length)&&(m=h,h=u,u=this,w=qa(h,ni(h)));var C=!(Bt(m)&&"chain"in m&&!m.chain),D=qr(u);return rt(w,function(M){var B=h[M];u[M]=B,D&&(u.prototype[M]=function(){var z=this.__chain__;if(C||z){var j=u(this.__wrapped__),K=j.__actions__=Qi(this.__actions__);return K.push({func:B,args:arguments,thisArg:u}),j.__chain__=z,j}return B.apply(u,on([this.value()],arguments))})}),u}function qd(){}var vn=qc(Pt),Vd=qc(Ws),_f=qc(cs);function Ud(u){return pl(u)?cn(Fn(u)):function jm(u){return function(h){return Rr(h,u)}}(u)}var Ef=Qh(),gk=Qh(!0);function Wd(){return[]}function jd(){return!1}var vM=Gc(function(u,h){return u+h},0),bM=na("ceil"),zd=Gc(function(u,h){return u/h},1),bk=na("floor"),Mf=Gc(function(u,h){return u*h},1),Rf=na("round"),Ff=Gc(function(u,h){return u-h},0);return _.after=function Bg(u,h){if("function"!=typeof h)throw new In(Mi);return u=Ge(u),function(){if(--u<1)return h.apply(this,arguments)}},_.ary=Og,_.assign=io,_.assignIn=Jg,_.assignInWith=Pl,_.assignWith=Xg,_.at=Td,_.before=$g,_.bind=mn,_.bindAll=Sf,_.bindKey=Hg,_.castArray=function Hr(){if(!arguments.length)return[];var u=arguments[0];return Fe(u)?u:[u]},_.chain=Lg,_.chunk=function Xb(u,h,m){h=(m?Di(u,h,m):h===I)?1:ti(Ge(h),0);var f=null==u?0:u.length;if(!f||h<1)return[];for(var w=0,C=0,D=H(Nt(f/h));w<f;)D[C++]=Hi(u,w,w+=h);return D},_.compact=function eA(u){for(var h=-1,m=null==u?0:u.length,f=0,w=[];++h<m;){var C=u[h];C&&(w[f++]=C)}return w},_.concat=function vg(){var u=arguments.length;if(!u)return[];for(var h=H(u-1),m=arguments[0],f=u;f--;)h[f-1]=arguments[f];return on(Fe(m)?Qi(m):[m],vi(h,1))},_.cond=function Pf(u){var h=null==u?0:u.length,m=ke();return u=h?Pt(u,function(f){if("function"!=typeof f[1])throw new In(Mi);return[m(f[0]),f[1]]}):[],We(function(f){for(var w=-1;++w<h;){var C=u[w];if(ut(C[0],this,f))return ut(C[1],this,f)}})},_.conforms=function wf(u){return function Cc(u){var h=ni(u);return function(m){return Om(m,u,h)}}(Bi(u,1))},_.constant=$d,_.countBy=pd,_.create=function _d(u,h){var m=Lr(u);return null==h?m:Bm(m,h)},_.curry=function gd(u,h,m){var f=Fr(u,8,I,I,I,I,I,h=m?I:h);return f.placeholder=gd.placeholder,f},_.curryRight=function Gg(u,h,m){var f=Fr(u,16,I,I,I,I,I,h=m?I:h);return f.placeholder=Gg.placeholder,f},_.debounce=qg,_.defaults=ef,_.defaultsDeep=cu,_.defer=RA,_.delay=FA,_.difference=rd,_.differenceBy=Kc,_.differenceWith=sd,_.drop=function sa(u,h,m){var f=null==u?0:u.length;return f?Hi(u,(h=m||h===I?1:Ge(h))<0?0:h,f):[]},_.dropRight=function tA(u,h,m){var f=null==u?0:u.length;return f?Hi(u,0,(h=f-(h=m||h===I?1:Ge(h)))<0?0:h):[]},_.dropRightWhile=function iA(u,h){return u&&u.length?bs(u,ke(h,3),!0,!0):[]},_.dropWhile=function BI(u,h){return u&&u.length?bs(u,ke(h,3),!0):[]},_.fill=function nA(u,h,m,f){var w=null==u?0:u.length;return w?(m&&"number"!=typeof m&&Di(u,h,m)&&(m=0,f=w),function xc(u,h,m,f){var w=u.length;for((m=Ge(m))<0&&(m=-m>w?0:w+m),(f=f===I||f>w?w:Ge(f))<0&&(f+=w),f=m>f?0:eo(f);m<f;)u[m++]=h;return u}(u,h,m,f)):[]},_.filter=function wA(u,h){return(Fe(u)?_e:Ga)(u,ke(h,3))},_.flatMap=function _A(u,h){return vi(Jc(u,h),1)},_.flatMapDeep=function kl(u,h){return vi(Jc(u,h),Gs)},_.flatMapDepth=function CA(u,h,m){return m=m===I?1:Ge(m),vi(Jc(u,h),m)},_.flatten=ad,_.flattenDeep=function bg(u){return null!=u&&u.length?vi(u,Gs):[]},_.flattenDepth=function Ag(u,h){return null!=u&&u.length?vi(u,h=h===I?1:Ge(h)):[]},_.flip=function Vg(u){return Fr(u,512)},_.flow=ck,_.flowRight=uk,_.fromPairs=function kg(u){for(var h=-1,m=null==u?0:u.length,f={};++h<m;){var w=u[h];f[w[0]]=w[1]}return f},_.functions=function sf(u){return null==u?[]:qa(u,ni(u))},_.functionsIn=function jA(u){return null==u?[]:qa(u,yn(u))},_.groupBy=EA,_.initial=function sA(u){return null!=u&&u.length?Hi(u,0,-1):[]},_.intersection=aA,_.intersectionBy=oA,_.intersectionWith=Ss,_.invert=zA,_.invertBy=uM,_.invokeMap=DA,_.iteratee=Ts,_.keyBy=LA,_.keys=ni,_.keysIn=yn,_.map=Jc,_.mapKeys=function KA(u,h){var m={};return h=ke(h,3),Oi(u,function(f,w,C){dn(m,h(f,w,C),f)}),m},_.mapValues=function xd(u,h){var m={};return h=ke(h,3),Oi(u,function(f,w,C){dn(m,w,h(f,w,C))}),m},_.matches=function Tf(u){return Gh(Bi(u,1))},_.matchesProperty=function hk(u,h){return Zo(u,Bi(h,1))},_.memoize=eu,_.merge=af,_.mergeWith=lf,_.method=dk,_.methodOf=ro,_.mixin=Gd,_.negate=tu,_.nthArg=function mk(u){return u=Ge(u),We(function(h){return Um(h,u)})},_.omit=YA,_.omitBy=function QA(u,h){return uf(u,tu(ke(h)))},_.once=function NA(u){return $g(2,u)},_.orderBy=function IA(u,h,m,f){return null==u?[]:(Fe(h)||(h=null==h?[]:[h]),Fe(m=f?I:m)||(m=null==m?[]:[m]),Wm(u,h,m))},_.over=vn,_.overArgs=Oe,_.overEvery=Vd,_.overSome=_f,_.partial=N,_.partialRight=fd,_.partition=MA,_.pick=cf,_.pickBy=uf,_.property=Ud,_.propertyOf=function Cf(u){return function(h){return null==u?I:Rr(u,h)}},_.pull=HI,_.pullAll=lA,_.pullAllBy=function GI(u,h,m){return u&&u.length&&h&&h.length?$i(u,h,ke(m,2)):u},_.pullAllWith=function Pg(u,h,m){return u&&u.length&&h&&h.length?$i(u,h,I,m):u},_.pullAt=cA,_.range=Ef,_.rangeRight=gk,_.rearg=Ug,_.reject=function QI(u,h){return(Fe(u)?_e:Ga)(u,tu(ke(h,3)))},_.remove=function uA(u,h){var m=[];if(!u||!u.length)return m;var f=-1,w=[],C=u.length;for(h=ke(h,3);++f<C;){var D=u[f];h(D,f,u)&&(m.push(D),w.push(f))}return Ic(u,w),m},_.rest=function iu(u,h){if("function"!=typeof u)throw new In(Mi);return We(u,h=h===I?h:Ge(h))},_.reverse=od,_.sampleSize=function Rg(u,h,m){return h=(m?Di(u,h,m):h===I)?1:Ge(h),(Fe(u)?Oa:Hb)(u,h)},_.set=function ZA(u,h,m){return null==u?u:Jo(u,h,m)},_.setWith=function JA(u,h,m,f){return f="function"==typeof f?f:I,null==u?u:Jo(u,h,m,f)},_.shuffle=function JI(u){return(Fe(u)?Fh:qh)(u)},_.slice=function hA(u,h,m){var f=null==u?0:u.length;return f?(m&&"number"!=typeof m&&Di(u,h,m)?(h=0,m=f):(h=null==h?0:Ge(h),m=m===I?f:Ge(m)),Hi(u,h,m)):[]},_.sortBy=Ng,_.sortedUniq=function Tg(u){return u&&u.length?el(u):[]},_.sortedUniqBy=function _g(u,h){return u&&u.length?el(u,ke(h,2)):[]},_.split=function ff(u,h,m){return m&&"number"!=typeof m&&Di(u,h,m)&&(h=m=I),(m=m===I?tr:m>>>0)?(u=tt(u))&&("string"==typeof h||null!=h&&!Sd(h))&&!(h=pn(h))&&Go(u)?As(Vn(u),0,m):u.split(h,m):[]},_.spread=function zn(u,h){if("function"!=typeof u)throw new In(Mi);return h=null==h?0:ti(Ge(h),0),We(function(m){var f=m[h],w=As(m,0,h);return f&&on(w,f),ut(u,this,w)})},_.tail=function Cg(u){var h=null==u?0:u.length;return h?Hi(u,1,h):[]},_.take=function VI(u,h,m){return u&&u.length?Hi(u,0,(h=m||h===I?1:Ge(h))<0?0:h):[]},_.takeRight=function UI(u,h,m){var f=null==u?0:u.length;return f?Hi(u,(h=f-(h=m||h===I?1:Ge(h)))<0?0:h,f):[]},_.takeRightWhile=function WI(u,h){return u&&u.length?bs(u,ke(h,3),!1,!0):[]},_.takeWhile=function ld(u,h){return u&&u.length?bs(u,ke(h,3)):[]},_.tap=function $r(u,h){return h(u),u},_.throttle=function Wg(u,h,m){var f=!0,w=!0;if("function"!=typeof u)throw new In(Mi);return Bt(m)&&(f="leading"in m?!!m.leading:f,w="trailing"in m?!!m.trailing:w),qg(u,h,{leading:f,maxWait:h,trailing:w})},_.thru=bl,_.toArray=wd,_.toPairs=Dd,_.toPairsIn=Ld,_.toPath=function yk(u){return Fe(u)?Pt(u,Fn):Gi(u)?[u]:Qi(zc(tt(u)))},_.toPlainObject=lu,_.transform=function XA(u,h,m){var f=Fe(u),w=f||Ps(u)||Xa(u);if(h=ke(h,4),null==m){var C=u&&u.constructor;m=w?f?new C:[]:Bt(u)&&qr(C)?Lr(Vo(u)):{}}return(w?rt:Oi)(u,function(D,M,B){return h(m,D,M,B)}),m},_.unary=function BA(u){return Og(u,1)},_.union=cd,_.unionBy=ud,_.unionWith=jI,_.uniq=function zI(u){return u&&u.length?vs(u):[]},_.uniqBy=function Eg(u,h){return u&&u.length?vs(u,ke(h,2)):[]},_.uniqWith=function pA(u,h){return h="function"==typeof h?h:I,u&&u.length?vs(u,I,h):[]},_.unset=function pr(u,h){return null==u||Rc(u,h)},_.unzip=hd,_.unzipWith=xg,_.update=function Id(u,h,m){return null==u?u:Qm(u,h,Nc(m))},_.updateWith=function ek(u,h,m,f){return f="function"==typeof f?f:I,null==u?u:Qm(u,h,Nc(m),f)},_.values=no,_.valuesIn=function dM(u){return null==u?[]:bm(u,yn(u))},_.without=mA,_.words=kf,_.wrap=function yd(u,h){return N(Nc(h),u)},_.xor=Dg,_.xorBy=Zc,_.xorWith=gA,_.zip=dd,_.zipObject=function fA(u,h){return te(u||[],h||[],_c)},_.zipObjectDeep=function Wt(u,h){return te(u||[],h||[],Jo)},_.zipWith=yA,_.entries=Dd,_.entriesIn=Ld,_.extend=Jg,_.extendWith=Pl,Gd(_,_),_.add=vM,_.attempt=pu,_.camelCase=nk,_.capitalize=uu,_.ceil=bM,_.clamp=function df(u,h,m){return m===I&&(m=h,h=I),m!==I&&(m=(m=Ai(m))==m?m:0),h!==I&&(h=(h=Ai(h))==h?h:0),Ir(Ai(u),h,m)},_.clone=function vd(u){return Bi(u,4)},_.cloneDeep=function bd(u){return Bi(u,5)},_.cloneDeepWith=function eM(u,h){return Bi(u,5,h="function"==typeof h?h:I)},_.cloneWith=function jg(u,h){return Bi(u,4,h="function"==typeof h?h:I)},_.conformsTo=function zg(u,h){return null==h||Om(u,h,ni(h))},_.deburr=pf,_.defaultTo=function Hd(u,h){return null==u||u!=u?h:u},_.divide=zd,_.endsWith=function rk(u,h,m){u=tt(u),h=pn(h);var f=u.length,w=m=m===I?f:Ir(Ge(m),0,f);return(m-=h.length)>=0&&u.slice(m,w)==h},_.eq=dr,_.escape=function hu(u){return(u=tt(u))&&dh.test(u)?u.replace(cc,SI):u},_.escapeRegExp=function Md(u){return(u=tt(u))&&Be.test(u)?u.replace(Mo,"\\$&"):u},_.every=function PA(u,h,m){var f=Fe(u)?Ws:Rb;return m&&Di(u,h,m)&&(h=I),f(u,ke(h,3))},_.find=md,_.findIndex=fl,_.findKey=function UA(u,h){return ym(u,ke(h,3),Oi)},_.findLast=TA,_.findLastIndex=Yc,_.findLastKey=function tf(u,h){return ym(u,ke(h,3),ci)},_.floor=bk,_.forEach=Ig,_.forEachRight=Mg,_.forIn=function cM(u,h){return null==u?u:Dc(u,ke(h,3),yn)},_.forInRight=function nf(u,h){return null==u?u:Oh(u,ke(h,3),yn)},_.forOwn=function rf(u,h){return u&&Oi(u,ke(h,3))},_.forOwnRight=function WA(u,h){return u&&ci(u,ke(h,3))},_.get=Cd,_.gt=nu,_.gte=ru,_.has=function fn(u,h){return null!=u&&Vc(u,h,$m)},_.hasIn=Ed,_.head=Sg,_.identity=qi,_.includes=function xA(u,h,m,f){u=gn(u)?u:no(u),m=m&&!f?Ge(m):0;var w=u.length;return m<0&&(m=ti(w+m,0)),Sl(u)?m<=w&&u.indexOf(h,m)>-1:!!w&&Ci(u,h,m)>-1},_.indexOf=function rA(u,h,m){var f=null==u?0:u.length;if(!f)return-1;var w=null==m?0:Ge(m);return w<0&&(w=ti(f+w,0)),Ci(u,h,w)},_.inRange=function tk(u,h,m){return h=Ur(h),m===I?(m=h,h=0):m=Ur(m),function Va(u,h,m){return u>=Fi(h,m)&&u<ti(h,m)}(u=Ai(u),h,m)},_.invoke=hM,_.isArguments=Gr,_.isArray=Fe,_.isArrayBuffer=Ad,_.isArrayLike=gn,_.isArrayLikeObject=$t,_.isBoolean=function OA(u){return!0===u||!1===u||Ht(u)&&Ut(u)==Ca},_.isBuffer=Ps,_.isDate=$A,_.isElement=function Kg(u){return Ht(u)&&1===u.nodeType&&!aa(u)},_.isEmpty=function tM(u){if(null==u)return!0;if(gn(u)&&(Fe(u)||"string"==typeof u||"function"==typeof u.splice||Ps(u)||Xa(u)||Gr(u)))return!u.length;var h=hi(u);if(h==Hn||h==Wi)return!u.size;if(Ka(u))return!qm(u).length;for(var m in u)if(mt.call(u,m))return!1;return!0},_.isEqual=function HA(u,h){return Lc(u,h)},_.isEqualWith=function iM(u,h,m){var f=(m="function"==typeof m?m:I)?m(u,h):I;return f===I?Lc(u,h,I,m):!!f},_.isError=su,_.isFinite=function Yg(u){return"number"==typeof u&&bc(u)},_.isFunction=qr,_.isInteger=au,_.isLength=kd,_.isMap=GA,_.isMatch=function nM(u,h){return u===h||Gm(u,h,dl(h))},_.isMatchWith=function rM(u,h,m){return m="function"==typeof m?m:I,Gm(u,h,dl(h),m)},_.isNaN=function sM(u){return Vr(u)&&u!=+u},_.isNative=function aM(u){if(Qb(u))throw new Ie("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ua(u)},_.isNil=function lM(u){return null==u},_.isNull=function oM(u){return null===u},_.isNumber=Vr,_.isObject=Bt,_.isObjectLike=Ht,_.isPlainObject=aa,_.isRegExp=Sd,_.isSafeInteger=function Qg(u){return au(u)&&u>=-ts&&u<=ts},_.isSet=ou,_.isString=Sl,_.isSymbol=Gi,_.isTypedArray=Xa,_.isUndefined=function ws(u){return u===I},_.isWeakMap=function Zg(u){return Ht(u)&&hi(u)==oc},_.isWeakSet=function qA(u){return Ht(u)&&"[object WeakSet]"==Ut(u)},_.join=function yl(u,h){return null==u?"":_h.call(u,h)},_.kebabCase=sk,_.last=Nn,_.lastIndexOf=function OI(u,h,m){var f=null==u?0:u.length;if(!f)return-1;var w=f;return m!==I&&(w=(w=Ge(m))<0?ti(f+w,0):Fi(w,f-1)),h==h?function Sm(F,V,H){for(var me=H+1;me--;)if(F[me]===V)return me;return me}(u,h,w):ln(u,$o,w,!0)},_.lowerCase=Rd,_.lowerFirst=Fd,_.lt=Pd,_.lte=VA,_.max=function Lf(u){return u&&u.length?Ec(u,qi,ms):I},_.maxBy=function If(u,h){return u&&u.length?Ec(u,ke(h,2),ms):I},_.mean=function AM(u){return Ho(u,qi)},_.meanBy=function Kn(u,h){return Ho(u,ke(h,2))},_.min=function kM(u){return u&&u.length?Ec(u,qi,Yi):I},_.minBy=function SM(u,h){return u&&u.length?Ec(u,ke(h,2),Yi):I},_.stubArray=Wd,_.stubFalse=jd,_.stubObject=function fk(){return{}},_.stubString=function xf(){return""},_.stubTrue=function yM(){return!0},_.multiply=Mf,_.nth=function $I(u,h){return u&&u.length?Um(u,Ge(h)):I},_.noConflict=function pk(){return ei._===this&&(ei._=Th),this},_.noop=qd,_.now=Xc,_.pad=function mf(u,h,m){u=tt(u);var f=(h=Ge(h))?Ia(u):0;if(!h||f>=h)return u;var w=(h-f)/2;return ui(Uo(w),m)+u+ui(Nt(w),m)},_.padEnd=function pM(u,h,m){u=tt(u);var f=(h=Ge(h))?Ia(u):0;return h&&f<h?u+ui(h-f,m):u},_.padStart=function mM(u,h,m){u=tt(u);var f=(h=Ge(h))?Ia(u):0;return h&&f<h?ui(h-f,m)+u:u},_.parseInt=function Nd(u,h,m){return m||null==h?h=0:h&&(h=+h),Ni(tt(u).replace(Xt,""),h||0)},_.random=function ik(u,h,m){if(m&&"boolean"!=typeof m&&Di(u,h,m)&&(h=m=I),m===I&&("boolean"==typeof h?(m=h,h=I):"boolean"==typeof u&&(m=u,u=I)),u===I&&h===I?(u=0,h=1):(u=Ur(u),h===I?(h=u,u=0):h=Ur(h)),u>h){var f=u;u=h,h=f}if(m||u%1||h%1){var w=ar();return Fi(u+w*(h-u+rs("1e-"+((w+"").length-1))),h)}return fs(u,h)},_.reduce=function Ja(u,h,m){var f=Fe(u)?yi:pb,w=arguments.length<3;return f(u,ke(h,4),m,w,Mr)},_.reduceRight=function hr(u,h,m){var f=Fe(u)?Oo:pb,w=arguments.length<3;return f(u,ke(h,4),m,w,Bh)},_.repeat=function gM(u,h,m){return h=(m?Di(u,h,m):h===I)?1:Ge(h),Mc(tt(u),h)},_.replace=function ak(){var u=arguments,h=tt(u[0]);return u.length<3?h:h.replace(u[1],u[2])},_.result=function hf(u,h,m){var f=-1,w=(h=or(h,u)).length;for(w||(w=1,u=I);++f<w;){var C=null==u?I:u[Fn(h[f])];C===I&&(f=w,C=m),u=qr(C)?C.call(u):C}return u},_.round=Rf,_.runInContext=F,_.sample=function ZI(u){return(Fe(u)?Fm:$b)(u)},_.size=function Fg(u){if(null==u)return 0;if(gn(u))return Sl(u)?Ia(u):u.length;var h=hi(u);return h==Hn||h==Wi?u.size:qm(u).length},_.snakeCase=gf,_.some=function XI(u,h,m){var f=Fe(u)?cs:FI;return m&&Di(u,h,m)&&(h=I),f(u,ke(h,3))},_.sortedIndex=function qI(u,h){return ys(u,h)},_.sortedIndexBy=function dA(u,h,m){return Xo(u,h,ke(m,2))},_.sortedIndexOf=function Qc(u,h){var m=null==u?0:u.length;if(m){var f=ys(u,h);if(f<m&&dr(u[f],h))return f}return-1},_.sortedLastIndex=function wg(u,h){return ys(u,h,!0)},_.sortedLastIndexBy=function ur(u,h,m){return Xo(u,h,ke(m,2),!0)},_.sortedLastIndexOf=function vl(u,h){if(null!=u&&u.length){var f=ys(u,h,!0)-1;if(dr(u[f],h))return f}return-1},_.startCase=yf,_.startsWith=function vf(u,h,m){return u=tt(u),m=null==m?0:Ir(Ge(m),0,u.length),h=pn(h),u.slice(m,m+h.length)==h},_.subtract=Ff,_.sum=function Ak(u){return u&&u.length?Ah(u,qi):0},_.sumBy=function PM(u,h){return u&&u.length?Ah(u,ke(h,2)):0},_.template=function bf(u,h,m){var f=_.templateSettings;m&&Di(u,h,m)&&(h=I),u=tt(u),h=Pl({},h,f,Jh);var M,B,w=Pl({},h.imports,f.imports,Jh),C=ni(w),D=bm(w,C),z=0,j=h.interpolate||hc,K="__p += '",ae=It((h.escape||hc).source+"|"+j.source+"|"+(j===He?uI:hc).source+"|"+(h.evaluate||hc).source+"|$","g"),fe="//# sourceURL="+(mt.call(h,"sourceURL")?(h.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++gm+"]")+"\n";u.replace(ae,function(Se,Me,je,yt,Gt,Li){return je||(je=yt),K+=u.slice(z,Li).replace(fI,PI),Me&&(M=!0,K+="' +\n__e("+Me+") +\n'"),Gt&&(B=!0,K+="';\n"+Gt+";\n__p += '"),je&&(K+="' +\n((__t = ("+je+")) == null ? '' : __t) +\n'"),z=Li+Se.length,Se}),K+="';\n";var Te=mt.call(h,"variable")&&h.variable;if(Te){if(cI.test(Te))throw new Ie("Invalid `variable` option passed into `_.template`")}else K="with (obj) {\n"+K+"\n}\n";K=(B?K.replace(Qv,""):K).replace(Zv,"$1").replace(Jv,"$1;"),K="function("+(Te||"obj")+") {\n"+(Te?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(M?", __e = _.escape":"")+(B?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+K+"return __p\n}";var qe=pu(function(){return ct(C,fe+"return "+K).apply(I,D)});if(qe.source=K,su(qe))throw qe;return qe},_.times=function Df(u,h){if((u=Ge(u))<1||u>ts)return[];var m=tr,f=Fi(u,tr);h=ke(h),u-=tr;for(var w=vm(f,h);++m<u;)h(m);return w},_.toFinite=Ur,_.toInteger=Ge,_.toLength=eo,_.toLower=function Wr(u){return tt(u).toLowerCase()},_.toNumber=Ai,_.toSafeInteger=function to(u){return u?Ir(Ge(u),-ts,ts):0===u?u:0},_.toString=tt,_.toUpper=function du(u){return tt(u).toUpperCase()},_.trim=function ok(u,h,m){if((u=tt(u))&&(m||h===I))return gb(u);if(!u||!(h=pn(h)))return u;var f=Vn(u),w=Vn(h);return As(f,fb(f,w),yb(f,w)+1).join("")},_.trimEnd=function lk(u,h,m){if((u=tt(u))&&(m||h===I))return u.slice(0,Sh(u)+1);if(!u||!(h=pn(h)))return u;var f=Vn(u);return As(f,0,yb(f,Vn(h))+1).join("")},_.trimStart=function fM(u,h,m){if((u=tt(u))&&(m||h===I))return u.replace(Xt,"");if(!u||!(h=pn(h)))return u;var f=Vn(u);return As(f,fb(f,Vn(h))).join("")},_.truncate=function Bd(u,h){var m=30,f="...";if(Bt(h)){var w="separator"in h?h.separator:w;m="length"in h?Ge(h.length):m,f="omission"in h?pn(h.omission):f}var C=(u=tt(u)).length;if(Go(u)){var D=Vn(u);C=D.length}if(m>=C)return u;var M=m-Ia(f);if(M<1)return f;var B=D?As(D,0,M).join(""):u.slice(0,M);if(w===I)return B+f;if(D&&(M+=B.length-M),Sd(w)){if(u.slice(M).search(w)){var z,j=B;for(w.global||(w=It(w.source,tt(ir.exec(w))+"g")),w.lastIndex=0;z=w.exec(j);)var K=z.index;B=B.slice(0,K===I?M:K)}}else if(u.indexOf(pn(w),M)!=M){var ae=B.lastIndexOf(w);ae>-1&&(B=B.slice(0,ae))}return B+f},_.unescape=function Af(u){return(u=tt(u))&&ht.test(u)?u.replace(ft,Pm):u},_.uniqueId=function vk(u){var h=++wh;return tt(u)+h},_.upperCase=Od,_.upperFirst=oa,_.each=Ig,_.eachRight=Mg,_.first=Sg,Gd(_,function(){var u={};return Oi(_,function(h,m){mt.call(_.prototype,m)||(u[m]=h)}),u}(),{chain:!1}),_.VERSION="4.17.21",rt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){_[u].placeholder=_}),rt(["drop","take"],function(u,h){we.prototype[u]=function(m){m=m===I?1:ti(Ge(m),0);var f=this.__filtered__&&!h?new we(this):this.clone();return f.__filtered__?f.__takeCount__=Fi(m,f.__takeCount__):f.__views__.push({size:Fi(m,tr),type:u+(f.__dir__<0?"Right":"")}),f},we.prototype[u+"Right"]=function(m){return this.reverse()[u](m).reverse()}}),rt(["filter","map","takeWhile"],function(u,h){var m=h+1,f=1==m||3==m;we.prototype[u]=function(w){var C=this.clone();return C.__iteratees__.push({iteratee:ke(w,3),type:m}),C.__filtered__=C.__filtered__||f,C}}),rt(["head","last"],function(u,h){var m="take"+(h?"Right":"");we.prototype[u]=function(){return this[m](1).value()[0]}}),rt(["initial","tail"],function(u,h){var m="drop"+(h?"":"Right");we.prototype[u]=function(){return this.__filtered__?new we(this):this[m](1)}}),we.prototype.compact=function(){return this.filter(qi)},we.prototype.find=function(u){return this.filter(u).head()},we.prototype.findLast=function(u){return this.reverse().find(u)},we.prototype.invokeMap=We(function(u,h){return"function"==typeof u?new we(this):this.map(function(m){return Ae(m,u,h)})}),we.prototype.reject=function(u){return this.filter(tu(ke(u)))},we.prototype.slice=function(u,h){u=Ge(u);var m=this;return m.__filtered__&&(u>0||h<0)?new we(m):(u<0?m=m.takeRight(-u):u&&(m=m.drop(u)),h!==I&&(m=(h=Ge(h))<0?m.dropRight(-h):m.take(h-u)),m)},we.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},we.prototype.toArray=function(){return this.take(tr)},Oi(we.prototype,function(u,h){var m=/^(?:filter|find|map|reject)|While$/.test(h),f=/^(?:head|last)$/.test(h),w=_[f?"take"+("last"==h?"Right":""):h],C=f||/^find/.test(h);!w||(_.prototype[h]=function(){var D=this.__wrapped__,M=f?[1]:arguments,B=D instanceof we,z=M[0],j=B||Fe(D),K=function(Me){var je=w.apply(_,on([Me],M));return f&&ae?je[0]:je};j&&m&&"function"==typeof z&&1!=z.length&&(B=j=!1);var ae=this.__chain__,fe=!!this.__actions__.length,Te=C&&!ae,qe=B&&!fe;if(!C&&j){D=qe?D:new we(this);var Se=u.apply(D,M);return Se.__actions__.push({func:bl,args:[K],thisArg:I}),new Mn(Se,ae)}return Te&&qe?u.apply(this,M):(Se=this.thru(K),Te?f?Se.value()[0]:Se.value():Se)})}),rt(["pop","push","shift","sort","splice","unshift"],function(u){var h=Rt[u],m=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",f=/^(?:pop|shift)$/.test(u);_.prototype[u]=function(){var w=arguments;if(f&&!this.__chain__){var C=this.value();return h.apply(Fe(C)?C:[],w)}return this[m](function(D){return h.apply(Fe(D)?D:[],w)})}}),Oi(we.prototype,function(u,h){var m=_[h];if(m){var f=m.name+"";mt.call(hs,f)||(hs[f]=[]),hs[f].push({name:h,func:m})}}),hs[Hc(I,2).name]=[{name:"wrapper",func:I}],we.prototype.clone=function ds(){var u=new we(this.__wrapped__);return u.__actions__=Qi(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Qi(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Qi(this.__views__),u},we.prototype.reverse=function Ft(){if(this.__filtered__){var u=new we(this);u.__dir__=-1,u.__filtered__=!0}else(u=this.clone()).__dir__*=-1;return u},we.prototype.value=function Dh(){var u=this.__wrapped__.value(),h=this.__dir__,m=Fe(u),f=h<0,w=m?u.length:0,C=function hg(u,h,m){for(var f=-1,w=m.length;++f<w;){var C=m[f],D=C.size;switch(C.type){case"drop":u+=D;break;case"dropRight":h-=D;break;case"take":h=Fi(h,u+D);break;case"takeRight":u=ti(u,h-D)}}return{start:u,end:h}}(0,w,this.__views__),D=C.start,M=C.end,B=M-D,z=f?M:D-1,j=this.__iteratees__,K=j.length,ae=0,fe=Fi(B,this.__takeCount__);if(!m||!f&&w==B&&fe==B)return Vh(u,this.__actions__);var Te=[];e:for(;B--&&ae<fe;){for(var qe=-1,Se=u[z+=h];++qe<K;){var Me=j[qe],yt=Me.type,Gt=(0,Me.iteratee)(Se);if(2==yt)Se=Gt;else if(!Gt){if(1==yt)continue e;break e}}Te[ae++]=Se}return Te},_.prototype.at=vA,_.prototype.chain=function bA(){return Lg(this)},_.prototype.commit=function AA(){return new Mn(this.value(),this.__chain__)},_.prototype.next=function kA(){this.__values__===I&&(this.__values__=wd(this.value()));var u=this.__index__>=this.__values__.length;return{done:u,value:u?I:this.__values__[this.__index__++]}},_.prototype.plant=function KI(u){for(var h,m=this;m instanceof Sc;){var f=nd(m);f.__index__=0,f.__values__=I,h?w.__wrapped__=f:h=f;var w=f;m=m.__wrapped__}return w.__wrapped__=u,h},_.prototype.reverse=function YI(){var u=this.__wrapped__;if(u instanceof we){var h=u;return this.__actions__.length&&(h=new we(this)),(h=h.reverse()).__actions__.push({func:bl,args:[od],thisArg:I}),new Mn(h,this.__chain__)}return this.thru(od)},_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=function Al(){return Vh(this.__wrapped__,this.__actions__)},_.prototype.first=_.prototype.head,Fa&&(_.prototype[Fa]=function SA(){return this}),_}();ei._=Ma,(es=function(){return Ma}.call(Qt,Zt,Qt,Yt))!==I&&(Yt.exports=es)}.call(this)}},Yt=>{Yt(Yt.s=549)}]);