"use strict";(self.webpackChunksap_calculator=self.webpackChunksap_calculator||[]).push([[792],{76(O,S,i){i.d(S,{t:()=>_});var A=i(46200),c=i(5615),E=i(23770);class _ extends A.i{logService;abilityService;name="Farmer Mouse";tier=1;pack="Custom";attack=2;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"FarmerMouseAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner,d=o.parent.nearestPetsBehind(this.level,o).pets;if(0!==d.length){for(const g of d)g.givePetEquipment(new E.D),this.logService.createLog({message:`${o.name} fed ${g.name} Corncob.`,type:"ability",player:o.parent,tiger:n,pteranodon:a});this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},242(O,S,i){i.d(S,{T:()=>c});var A=i(22097);class c extends A.${name="Kiwifruit";equipmentClass="shop";tier=2}},590(O,S,i){i.d(S,{A:()=>E});var A=i(50336);const E=function c(_,v){var e=this.__data__,t=(0,A.A)(e,_);return t<0?(++this.size,e.push([_,v])):e[t][1]=v,this}},607(O,S,i){i.d(S,{Y:()=>c});var A=i(22097);class c extends A.${name="Crisp";equipmentClass="ailment-other"}},736(O,S,i){i.d(S,{W:()=>E,k:()=>_});var A=i(50873),c=i(5615);class E extends A.L{name="Treasure Map";tier=3}class _ extends c.T{logService;constructor(e,t){super({name:"TreasureMapAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){}copy(e){return new _(e,this.logService)}}},890(O,S,i){i.d(S,{K:()=>v,_:()=>_});var A=i(27852),c=i(50873),E=i(5615);class _ extends c.L{logService;toyService;abilityService;name="Evil Book";tier=5;emptyFromSpace(t,n,a,o){let r={attack:6*a,health:6*a},g=new A.v(this.logService,this.abilityService,this.parent,r.health,r.attack,0,1==a?0:2==a?2:5),f=`${this.name} spawned Great One (${r.attack}/${r.health}).`;this.parent.summonPet(g,0).success&&this.logService.createLog({message:f,type:"ability",player:this.parent,puma:n}),this.used=!0}constructor(t,n,a,o,r){super(t,n,o,r),this.logService=t,this.toyService=n,this.abilityService=a}}class v extends E.T{logService;abilityService;constructor(t,n,a){super({name:"EvilBookAbility",owner:t,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:o=>null==this.owner.parent.pet0,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o}=t,d=this.owner;let g={attack:6*this.level,health:6*this.level},f=new A.v(this.logService,this.abilityService,d.parent,g.health,g.attack,0,this.minExpForLevel),D=d.parent.summonPet(f,0);D.success&&this.logService.createLog({message:`Evil Book Ability spawned Great One (${g.attack}/${g.health}).`,type:"ability",player:d.parent,tiger:o,randomEvent:D.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},904(O,S,i){i.d(S,{I:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Weasel";tier=3;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"WeaselAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;this.logService.createLog({message:`${r.name} gained ${this.level} Gold.`,type:"ability",player:r.parent,tiger:a,pteranodon:o}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},945(O,S,i){i.d(S,{Y:()=>c});var A=i(50873);class c extends A.L{name="Lunchbox";tier=1;startOfBattle(_,v){const e=_?.turnNumber??1;for(let t=0;t<e;t++){const n=this.parent.getRandomLivingPet();if(!n.pet)return;const a=n.pet,r=a.parent!==this.parent?2:1;a.increaseAttack(r),a.increaseHealth(r),this.logService.createLog({message:`${this.name} fed ${a.name} +${r}/+${r}.`,type:"ability",player:this.parent,puma:v,randomEvent:n.random})}}}},1029(O,S,i){i.d(S,{d:()=>E});var A=i(89407),c=i(75970);class E extends A.r{summonPetInFront(v,e){return(0,c.DQ)(this,v,e,this.logService,this.abilityService,this.gameService)}summonPetBehind(v,e){return(0,c.zq)(this,v,e,this.logService,this.abilityService,this.gameService)}}},1075(O,S,i){i.d(S,{V:()=>E});var A=i(22097),c=i(5615);class E extends A.${logService;name="Pancakes";tier=6;equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"PancakesAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;for(let n of t.parent.petArray){if(t==n)continue;let a=2*this.equipment.multiplier,o=2*this.equipment.multiplier;n.increaseAttack(a),n.increaseHealth(o),this.logService.createLog({message:`${n.name} gained ${a} attack and ${o} health (Pancakes)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent})}}}},1152(O,S,i){function A(a){const o=a.position??a.savedPosition;if(null==o)return[];const r=[],d=a.parent.getPetAtPosition(o-1),g=a.parent.getPetAtPosition(o+1);return d&&d.alive&&r.push(d),g&&g.alive&&r.push(g),r}function c(a,o){return!(a.equipment&&!a.equipment.equipmentClass?.startsWith("ailment")||a.equipment?.name===o)}function E(a,o,r,d,g,f={}){a.createLog({message:r,type:"ability",player:o.parent,tiger:d,pteranodon:g,sourcePet:o,...f})}function _(a,o,r){return o?r?r(a,o)??{random:!1}:a.parent.getSpecificPet(a,o):{random:!1}}function v(a,o){if(!o)return{random:!1};const r=a.parent.getSpecificPet(a,o),d=r.pet;return d&&d.alive?r:{random:r.random}}i.d(S,{LZ:()=>v,MZ:()=>A,Re:()=>n,Uj:()=>_,lK:()=>t,rv:()=>E,zo:()=>c});const t=v,n=function e(a,o,r){return!(!o||r?.excludeOwner&&o===a||!v(a,o).pet)}},1178(O,S,i){i.d(S,{A:()=>v});var A=i(77901),c=i(28010),E=i(35776);const v=function _(e){return"function"!=typeof e.constructor||(0,E.A)(e)?{}:(0,A.A)((0,c.A)(e))}},1257(O,S,i){i.d(S,{C:()=>Ht});var A=i(22382),c=i(41752),E=i(78440),_=i(58880),v=i(16306),e=i(23586),t=i(62332),n=i(60892),a=i(89043),o=i(96889),r=i(62983),d=i(49999),g=i(88988),f=i(61753),D=i(7023),k=i(57788),L=i(92060),F=i(18155),J=i(95365),ne=i(55649),H=i(63981),$=i(55984),q=i(26273),ae=i(904),le=i(93348),_e=i(42824),ye=i(72557),Se=i(81106),Ce=i(29823),de=i(95015),Te=i(34443),xe=i(27207),Ue=i(61950),Ne=i(43125),ct=i(1913),Je=i(14829),Ke=i(3725),qe=i(50119),mt=i(40970),pt=i(46021),it=i(55853),Dt=i(51876),ut=i(44876),yt=i(65418),rt=i(49517),He=i(48955),kt=i(66391),Xt=i(84371),nt=i(36466),$t=i(26302),Et=i(42798),ge=i(69359),Oe=i(83796),Ve=i(98146),Fe=i(38354),ot=i(54515),Bt=i(52164),Rt=i(63972),qt=i(57967),zt=i(6368);const Ht={Bulldog:A.s,Groundhog:c.G,"Cone Snail":E.r,Goose:_.w,Lemming:t.E,"Pied Tamarin":v.$,Opossum:a.B,Silkmoth:e.C,Magpie:n.C,"Hercules Beetle":o.Z,Stoat:r.U,"Black Necked Stilt":d.O,Squid:g.P,"Sea Urchin":f.p,"Door Head Ant":D.a,Lizard:k.r,"Sea Turtle":L.y,"African Penguin":F.t,"Musk Ox":ne.Y,Flea:H.Z,"Royal Flycatcher":$.p,"Surgeon Fish":q.w,Weasel:ae.I,Guineafowl:le.w,"Betta Fish":_e.L,Meerkat:J.s,"Flying Fish":ye.G,Baboon:Se._,Osprey:Ce.R,Manatee:de.Y,Cuttlefish:Te.K,"Egyptian Vulture":xe.T,"Saiga Antelope":Ue.m,Sealion:Ne.Y,Vaquita:ct.g,Slug:Je.M,"Poison Dart Frog":Ke.E,"Secretary Bird":it.J,"Manta Ray":mt.s,Macaque:Dt.u,Nyala:ut.C,"Nurse Shark":yt.f,"Fire Ant":kt.i,Cockatoo:pt.w,"Blue Ringed Octopus":Xt.L,Crane:nt.M,Emu:$t.e,Wildebeest:Et.f,"Highland Cow":ge.x,Catfish:Oe.r,Warthog:Fe.n,Cobra:ot.w,"Grizzly Bear":Bt.g,"German Shepherd":Rt.a,"Bird of Paradise":qt.G,Oyster:zt.r,"Beluga Whale":rt.I,Falcon:qe.e,Pteranodon:Ve.D,Wolf:He.t}},1277(O,S,i){i.d(S,{y:()=>_});var A=i(46200),c=i(5615),E=i(60489);class _ extends A.i{logService;abilityService;name="Cricket";tier=1;pack="Turtle";health=3;attack=1;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"CricketAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner,g=this.level;let L=new E.y(this.logService,this.abilityService,d.parent,g,g,null,this.minExpForLevel),F=d.parent.summonPet(L,d.savedPosition,!1,d);F.success&&this.logService.createLog({message:`${d.name} spawned Zombie Cricket Level ${g}`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:F.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},1383(O,S,i){i.d(S,{C:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Poodle";tier=6;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PoodleAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:n,pteranodon:a}=e,o=[];for(let r=1;r<=6;r++){const d=t.parent.petArray.find(f=>f&&f.alive&&f!==t&&f.tier===r);if(!d)continue;const g=this.level;d.increaseAttack(g),d.increaseHealth(g),o.push(d)}if(o.length>0){const r=o.map(d=>d.name).join(", ");this.logService.createLog({message:`${t.name} buffed ${r} (+${this.level}/+${this.level}) at end of turn.`,type:"ability",player:t.parent,tiger:n,pteranodon:a})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},1398(O,S,i){i.d(S,{H:()=>E});var A=i(50873);i(5615);class E extends A.L{name="Magic Carpet";tier=2;friendSummoned(e,t,n,a){this.logService.createLog({message:`${this.name} gave ${t.name} ${a} attack.`,type:"ability",player:this.parent,puma:n}),t.increaseAttack(a)}}},1406(O,S,i){i.d(S,{U:()=>E});var A=i(22097),c=i(5615);class E extends A.${logService;name="Caramel";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"CaramelAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;let n=t.parent.petArray.filter(d=>d.alive&&"Caramel"===d.equipment?.name);if(0===n.length)return;let a=3*n.length,o=t.parent.opponent.getHighestHealthPet(),r=o.pet;if(null!=r){t.snipePet(r,a,o.random,!1,!1,!0,!1);for(let d of n)d.removePerk(),this.logService.createLog({message:`${d.name} lost Caramel equipment`,type:"ability",player:t.parent,tiger:!1})}}}},1689(O,S,i){i.d(S,{S:()=>E});var A=i(22097),c=i(5615);class E extends A.${logService;name="Fairy Dust";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"FairyDustAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,condition:()=>null==this.owner.parent.pet0,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;let a=2*this.equipment.multiplier;this.logService.createLog({message:`${t.name} pushed itself to the front and gained ${a} mana(Fairy Dust)${this.equipment.multiplierMessage}.`,type:"ability",player:t.parent}),t.parent.pushPetToFront(t,!0),t.increaseMana(a),t.removePerk()}}},1728(O,S,i){i.d(S,{c:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Tand and Tand";tier=4;pack="Custom";hidden=!0;attack=1;health=1;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},1744(O,S,i){i.d(S,{w:()=>c});var A=i(47868);let c=(()=>{class E{gameApi;constructor(){}init(v,e){this.gameApi={player:v,opponent:e}}setTierGroupPets(v,e){null!=v&&(this.gameApi.playerPetPool=v),null!=e&&(this.gameApi.opponentPetPool=e)}setPreviousShopTier(v){this.gameApi.previousShopTier=v}setTurnNumber(v){this.gameApi.turnNumber=v}setGoldSpent(v,e){null!=v&&(this.gameApi.playerGoldSpent=v),null!=e&&(this.gameApi.opponentGoldSpent=e)}static \u0275fac=function(e){return new(e||E)};static \u0275prov=A.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})()},1785(O,S,i){i.d(S,{q:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Mantis Shrimp";tier=6;pack="Puppy";attack=9;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MantisShrimpAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.opponent;for(let g=0;g<this.level;g++){let f=d.getFurthestUpPet(r),D=f.pet;if(null==D)return;r.snipePet(D,10,f.random,a)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},1827(O,S,i){i.d(S,{A:()=>E});var A=i(84746);const E=function c(_,v,e){"__proto__"==v&&A.A?(0,A.A)(_,v,{configurable:!0,enumerable:!0,value:e,writable:!0}):_[v]=e}},1860(O,S,i){i.d(S,{A:()=>_});var A=i(17133),c="object"==typeof self&&self&&self.Object===Object&&self;const _=A.A||c||Function("return this")()},1874(O,S,i){i.d(S,{_:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Mana Hound";tier=3;pack="Unicorn";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"ManaHoundAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:a}=e,r=this.owner;let g;if(g=r.parent==t.player?t.playerRollAmount:t.opponentRollAmount,g=Math.max(0,Math.min(g??0,3)),0===g)return;let f=r.parent.nearestPetsAhead(1,r);if(0===f.pets.length)return;let D=f.pets[0],k=g*this.level*2;this.logService.createLog({message:`${r.name} gave ${D.name} ${k} mana.`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random}),D.increaseMana(k),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},1913(O,S,i){i.d(S,{g:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Vaquita";tier=4;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"VaquitaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{pteranodon:o}=e,r=this.owner;let d=Math.max(Math.floor(.5*this.level*r.parent.trumpets),4*this.level);const g=r.parent.resolveTrumpetGainTarget(r);g.player.gainTrumpets(d,r,o,void 0,void 0,g.random),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},2042(O,S,i){i.d(S,{z:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Ghost Kitten";tier=2;pack="Unicorn";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"GhostKittenAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){}copy(e){return new _(e,this.logService,this.abilityService)}}},2145(O,S,i){i.d(S,{P:()=>c});const c=(()=>{function E(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return E.prototype=Object.create(Error.prototype),E})()},2375(O,S,i){i.d(S,{_:()=>c});var A=i(22097);class c extends A.${name="Peanut Butter";equipmentClass="attack";tier=7;power=0;uses=1;originalUses=1}},2525(O,S,i){i.d(S,{_:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Cow";tier=5;pack="Turtle";attack=4;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"CowAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} replaced shop food with two free ${1===this.level?"Milk":2===this.level?"Better Milk":"Best Milk"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},2641(O,S,i){i.d(S,{E:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Lynx";tier=4;pack="Custom";attack=5;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Lynx Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=a.parent.petArray.reduce((g,f)=>g+(f?.level??0),0);if(o<=0)return void this.triggerTigerExecution(e);const r=this.level,d=[];for(let g=0;g<r;g++){const f=a.parent.opponent.getRandomPet(d,!1,!1,!1,a);if(!f.pet)break;d.push(f.pet),a.snipePet(f.pet,o,f.random)}this.logService.createLog({message:`${a.name} dealt ${o} damage to ${d.length} enemy${1===d.length?"":"ies"}.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},2730(O,S,i){i.d(S,{$:()=>E});var A=i(22097),c=i(5615);class E extends A.${logService;name="Eggplant";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"EggplantAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;let n=this.equipment.multiplier;for(let a=0;a<n;a++){let o=t.parent.opponent,r=o.getPet(t.position);if(null==r)return;this.logService.createLog({message:`${t.name} pushed ${r.name} 1 space forward. (Eggplant)${a>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent}),o.pushPet(r,1)}}}},3043(O,S,i){i.d(S,{A:()=>E});var A=i(56689);const E=function c(_,v){return(0,A.A)(v,function(e){return _[e]})}},3057(O,S,i){i.d(S,{B:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="African Wild Dog";tier=1;pack="Danger";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"AfricanWildDogAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let g,d=r.parent.opponent.getFurthestUpPet(r);if(null!=d.pet){if(g=d.random?d.pet:d.pet?.petBehind(),g){let f=3*this.level;r.jumpAttackPrep(g),r.jumpAttack(g,a,f,d.random)}this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},3129(O,S,i){i.d(S,{X:()=>E});var A=i(22097),c=i(5615);class E extends A.${logService;abilityService;petService;name="Seaweed";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService,this.petService))};constructor(e,t,n){super(),this.logService=e,this.abilityService=t,this.petService=n}}class _ extends c.T{equipment;logService;petService;constructor(e,t,n,a){super({name:"SeaweedAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:o=>{this.executeAbility(o)}}),this.equipment=t,this.logService=n,this.petService=a}executeAbility(e){const t=this.owner;let n=this.petService.createPet({name:"Baby Urchin",attack:t.attack,health:t.health,mana:t.mana,exp:t.exp,equipment:null},t.parent);this.logService.createLog({message:`${t.name} transformed into ${n.name} (Seaweed)`,type:"equipment",player:t.parent}),t.parent.transformPet(t,n)}}},3269(O,S,i){i.d(S,{D:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Behemoth";tier=6;pack="Unicorn";attack=12;health=12;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"BehemothAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){}copy(e){return new _(e,this.logService,this.abilityService)}}},3273(O,S,i){i.d(S,{o:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Badger";tier=3;pack="Turtle";health=3;attack=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BadgerAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=Math.floor(r.attack*(.5*this.level)),g=r.parent.nearestPetsBehind(1,r);g.pets.length>0&&r.snipePet(g.pets[0],d,g.random,a,o);let f=r.parent.nearestPetsAhead(1,r,void 0,!0);f.pets.length>0&&r.snipePet(f.pets[0],d,f.random,a,o),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},3279(O,S,i){i.d(S,{D:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Nest";tier=1;pack="Puppy";hidden=!0;attack=2;health=3;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},3332(O,S,i){i.d(S,{s:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;petService;name="Orca";tier=6;pack="Star";attack=5;health=7;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,o,r,d,f,D)}}class _ extends c.T{logService;abilityService;petService;constructor(e,t,n,a){super({name:"OrcaAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=t,this.abilityService=n,this.petService=a}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;for(let d=0;d<this.level;d++){let g=this.petService.getRandomFaintPet(r.parent,void 0,[r.name,"Quetzalcoatlus"],r);g.attack=6,g.health=6,r.parent.summonPet(g,r.savedPosition,!1,r).success&&this.logService.createLog({message:`${r.name} spawned a 6/6 ${g.name}.`,type:"ability",player:r.parent,tiger:a,randomEvent:!0,pteranodon:o})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService,this.petService)}}},3615(O,S,i){i.d(S,{w:()=>c});var A=i(22097);class c extends A.${name="Sausage";equipmentClass="shop"}},3626(O,S,i){i.d(S,{d:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Ladybug";tier=1;pack="Puppy";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"LadybugAbility",owner:e,triggers:["FriendlyGainsPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=2*this.level,g=r.parent.getThis(r);g.pet&&(g.pet.increaseAttack(d),this.logService.createLog({message:`${r.name} gave ${g.pet.name} ${d} attack.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},3725(O,S,i){i.d(S,{E:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Poison Dart Frog";tier=4;pack="Golden";attack=5;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PoisonDartFrogAbility",owner:e,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.opponent.getHighestHealthPet(void 0,r),g=d.pet;null!=g&&(r.snipePet(g,4*r.level,d.random,a),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},3746(O,S,i){i.d(S,{A:()=>E});var A=i(60309);const E=function c(_,v){var e=_.__data__;return(0,A.A)(v)?e["string"==typeof v?"string":"hash"]:e.map}},3754(O,S,i){i.d(S,{j:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="CrackedEgg";tier=1;pack="Unicorn";hidden=!0;attack=4;health=2;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},3813(O,S,i){i.d(S,{l:()=>ye});var A=i(46200),c=i(5615),E=i(23201),_=i(37545),v=i(22167),e=i(97244),t=i(77226),n=i(76032),a=i(97588),o=i(40358),r=i(13950),d=i(63257),g=i(93614),f=i(29866),D=i(25321),k=i(60715),L=i(78708),F=i(890),J=i(26683),ne=i(85709),H=i(736),$=i(20136),q=i(72242),ae=i(91946),le=i(93533),_e=i(53227);class ye extends A.i{logService;abilityService;name="Chameleon";tier=4;pack="Puppy";attack=3;health=5;toyService;equipmentService;initAbilities(){this.addAbility(new Se(this,this.logService,this.abilityService,this.equipmentService)),super.initAbilities()}constructor(de,Te,xe,Ue,Ne,ct,Je,Ke,qe,mt,pt){super(de,Te,xe),this.logService=de,this.abilityService=Te,this.toyService=mt,this.equipmentService=pt,this.initPet(Je,Ue,Ne,ct,Ke,qe)}}class Se extends c.T{logService;abilityService;equipmentService;constructor(de,Te,xe,Ue){super({name:"ChameleonAbility",owner:de,triggers:["SpecialEndTurn"],abilityType:"Pet",native:!0,abilitylevel:de.level,condition:Ne=>null!=this.owner.parent.toy,abilityFunction:Ne=>{this.executeAbility(Ne)}}),this.logService=Te,this.abilityService=xe,this.equipmentService=Ue}executeAbility(de){const ct=this.owner;ct.removeAbility(this.name,"Pet"),this.addToyAbility(ct.parent.toy.name)}addToyAbility(de){let Te=this.owner;const Ue={"Tennis Ball":()=>new E.r(Te,this.logService),Balloon:()=>new _.s(Te,this.logService),"Plastic Saw":()=>new v.E(Te,this.logService),Radio:()=>new e.e(Te,this.logService),"Oven Mitts":()=>new t.K(Te,this.logService),"Toilet Paper":()=>new n.Y(Te,this.logService),"Foam Sword":()=>new a.r(Te,this.logService),"Toy Gun":()=>new o.z(Te,this.logService),"Melon Helmet":()=>new r.F(Te,this.logService),"Stinky Sock":()=>new d.J(Te,this.logService),Flashlight:()=>new g.v(Te,this.logService),"Peanut Jar":()=>new f.B(Te,this.logService),"Air Palm Tree":()=>new D.D(Te,this.logService),Television:()=>new k.P(Te,this.logService),"Crystal Ball":()=>new L.y(Te,this.logService),"Evil Book":()=>new F.K(Te,this.logService,this.abilityService),"Treasure Chest":()=>new J.p(Te,this.logService),"Witch Broom":()=>new ne.b(Te,this.logService),"Treasure Map":()=>new H.k(Te,this.logService),"Pandoras Box":()=>new $.o(Te,this.logService,this.abilityService,this.equipmentService),Stick:()=>new q.L(Te,this.logService),"Cash Register":()=>new ae.j(Te,this.logService),"Microwave Oven":()=>new le.G(Te,this.logService,this.equipmentService),Camera:()=>new _e.E(Te,this.logService)}[de];if(Ue)try{const Ne=Ue();Ne.abilityLevel=Math.min(Te.parent.toy.level,this.level),Ne.alwaysIgnorePetLevel=!0,Te.addAbility(Ne),this.logService.createLog({message:`${this.name} gained ${de} ability!`,type:"ability",player:Te.parent})}catch(Ne){console.warn(`Failed to add ${de} ability to ${this.name}:`,Ne)}else this.logService.createLog({message:"Custom toy ability is currently not supported for Chameleon ability",type:"ability",player:Te.parent})}copy(de){return new Se(de,this.logService,this.abilityService,this.equipmentService)}}},3836(O,S,i){i.d(S,{L:()=>_});var A=i(19058),c=i(46200),E=i(5615);class _ extends c.i{logService;abilityService;name="Toad";tier=3;pack="Star";attack=3;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends E.T{logService;reset(){this.maxUses=2*this.owner.level,super.reset()}constructor(t,n){super({name:"ToadAbility",owner:t,triggers:["EnemyHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2*t.level,condition:a=>{const{triggerPet:o}=a;return o&&o.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:o}=t,d=this.owner;let g=d.parent.getSpecificPet(d,a),f=g.pet;if("Weak"===f?.equipment?.name){let D=d.parent.getPetsWithEquipmentWithSillyFallback("Weak",d);g=d.parent.opponent.getRandomPet(D,null,!0,null,d),f=g.pet}null!=f&&(f.givePetEquipment(new A.l),this.logService.createLog({message:`${d.name} gave ${f.name} Weak.`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random}),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},3887(O,S,i){i.d(S,{L:()=>c,v:()=>E});var A=i(22097);class c extends A.${name="Honeydew Melon";tier=5;equipmentClass="shield";power=10;originalPower=10;uses=1;originalUses=1}class E extends A.${name="Honeydew Melon (Attack)";equipmentClass="attack";power=5;originalPower=5}},4066(O,S,i){i.d(S,{v:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Whale Shark";tier=4;pack="Puppy";attack=2;health=6;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"WhaleSharkAbility",owner:e,triggers:["ThisGainedPerk","ThisGainedAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const r=this.owner;r.equipment&&(this.logService.createLog({message:`${r.name} removed ${r.equipment.name}`,type:"ability",player:r.parent}),r.removePerk());let d=r.parent.getThis(r),g=d.pet;if(null==g)return;let f=3*this.level;g.increaseAttack(f),g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} attack and ${f} health.`,type:"ability",player:r.parent,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},4146(O,S,i){i.d(S,{B:()=>_});var A=i(46200),c=i(5615),E=i(33605);class _ extends A.i{logService;abilityService;name="Quail Chick";tier=3;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"Quail Chick Ability",owner:t,triggers:["FoodEatenByThis"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>this.executeAbility(o)}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner,r=2*this.level*2,d=o.petAhead;d&&d.alive&&(d.increaseAttack(r),d.increaseHealth(r));const g=new E.V(this.logService,this.abilityService,o.parent,void 0,void 0,void 0,o.exp);o.parent.transformPet(o,g),this.logService.createLog(d&&d.alive?{message:`${o.name} transformed into ${g.name} and gave ${d.name} +${r} attack and +${r} health.`,type:"ability",player:o.parent,tiger:n,pteranodon:a}:{message:`${o.name} transformed into ${g.name}.`,type:"ability",player:o.parent,tiger:n,pteranodon:a}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},4193(O,S,i){i.d(S,{r:()=>_});var A=i(46200),c=i(5615),E=i(1152);class _ extends A.i{logService;abilityService;name="Unicorn";tier=4;pack="Unicorn";attack=2;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"UnicornAbility",owner:t,triggers:["FriendGainsAilment"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,precondition:a=>{const{triggerPet:o}=a,g=(0,E.lK)(this.owner,o).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a}=t,d=this.owner;let g=2*this.level;if(!a)return;this.logService.createLog({message:`${d.name} removed ailment from ${a.name}.`,type:"ability",player:d.parent}),a.removePerk();let f=(0,E.lK)(d,a),D=f.pet;null!=D&&(this.logService.createLog({message:`${d.name} gave ${D.name} ${g} attack and ${g} health.`,type:"ability",player:d.parent,randomEvent:f.random}),D.increaseAttack(g),D.increaseHealth(g),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},4230(O,S,i){i.d(S,{K:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Mouse";tier=1;pack="Custom";health=2;attack=1;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"MouseAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} replaced shop food with one free ${1===this.level?"Apple":2===this.level?"Better Apple":"Best Apple"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},4399(O,S,i){i.d(S,{K:()=>_});var A=i(46200),c=i(5615),E=i(18060);class _ extends A.i{logService;abilityService;name="Volcano Snail";tier=1;pack="Danger";attack=1;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"VolcanoSnailAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let D=[...d.parent.getPetsWithEquipmentWithSillyFallback("perk",d),...d.parent.getPetsWithEquipmentWithSillyFallback("Toasty",d)],k=d.parent.getRandomEnemyPetsWithSillyFallback(this.level,D,null,null,d);if(0!==k.pets.length){for(let L of k.pets){let F=new E.V;L.givePetEquipment(F),this.logService.createLog({message:`${d.name} made ${L.name} Toasty`,type:"ability",player:d.parent,sourcePet:d,targetPet:L,tiger:o,randomEvent:k.random})}this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},4635(O,S,i){i.d(S,{f:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Daycrawler";tier=1;pack="Custom";hidden=!0;health=1;attack=1;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},4673(O,S,i){i.d(S,{O:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Fire Pup";tier=1;pack="Unicorn";hidden=!0;health=8;attack=8;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},4902(O,S,i){i.d(S,{Db:()=>Ke,Iq:()=>qe,JL:()=>mt,M3:()=>pt,ul:()=>it});var A=i(37831),c=i(27088),E=i(20150),_=i(77392),v=i(6988),e=i(59951),t=i(72354),n=i(90771),a=i(35454),o=i(91576),r=i(67336),d=i(21545),g=i(70458),f=i(34747),D=i(45686),k=i(44746),L=i(60397),F=i(97280),J=i(34829),ne=i(59370),H=i(50119),$=i(49517),q=i(48955),ae=i(98146),le=i(13837),_e=i(27694),ye=i(3332),Se=i(55267),Ce=i(14469),de=i(88034),Te=i(20791),xe=i(40830),Ue=i(42377),Ne=i(41074),ct=i(86863),Je=i(62983);const Ke={Spider:g.c,Whale:F.Uw,Parrot:L.f,Stork:D.i,"Shima Enaga":k.J,Eagle:f.Z,Pelican:ne.R6,Falcon:H.e,"Beluga Whale":$.I,Wolf:q.t,Pteranodon:ae.D,"Harpy Eagle":le.V,"Sabertooth Tiger":_e.f,Orca:ye.s,Hippogriff:Ue.j,"Goblin Shark":A.FZ,"Red Lipped Batfish":c.R,Kappa:E.K,Ammonite:Ce.j,"Iriomote Cat":v.U,Takhi:e.y,"Roloway Monkey":t.n,Bonobo:n.m,"Golden Tamarin":a.U,"Bay Cat":d.P,"California Condor":o.k,"Silky Sifaka":r.e,Abomination:_._,"Sarcastic Fringehead":xe.Z,Leviathan:Ne.j,Tadpole:ct.M,Stoat:Je.U},qe={Seagull:J.Q,"Good Dog":Se._},mt=[A.FZ,c.R,E.K,_._,v.U,e.y,t.n,n.m,a.U,o.k,r.e,d.P,g.c,f.Z,D.i,k.J,L.f,F.Uw,ne.R6,H.e,$.I,q.t,ae.D,le.V,_e.f,ye.s,Ce.j,xe.Z,Ue.j,Ne.j,ct.M,Je.U],pt=[J.Q,Se._],it={"Beluga Whale":(Dt,ut,yt,rt)=>new $.I(Dt.logService,Dt.abilityService,rt,yt,ut.health,ut.attack,ut.mana,ut.exp,ut.equipment,ut.triggersConsumed,ut.belugaSwallowedPet),Abomination:(Dt,ut,yt,rt)=>new _._(Dt.logService,Dt.abilityService,rt,yt,ut.health,ut.attack,ut.mana,ut.exp,ut.equipment,ut.triggersConsumed,ut.abominationSwallowedPet1,ut.abominationSwallowedPet2,ut.abominationSwallowedPet3,ut.abominationSwallowedPet1Level,ut.abominationSwallowedPet2Level,ut.abominationSwallowedPet3Level,ut.abominationSwallowedPet1TimesHurt,ut.abominationSwallowedPet2TimesHurt,ut.abominationSwallowedPet3TimesHurt),"Sabertooth Tiger":(Dt,ut,yt,rt)=>new _e.f(Dt.logService,Dt.abilityService,rt,yt,ut.health,ut.attack,ut.mana,ut.exp,ut.equipment,ut.triggersConsumed,ut.timesHurt),Tuna:(Dt,ut,yt)=>new de.n(Dt.logService,Dt.abilityService,yt,ut.health,ut.attack,ut.mana,ut.exp,ut.equipment,ut.triggersConsumed,ut.timesHurt),Slime:(Dt,ut,yt)=>new Te.f(Dt.logService,Dt.abilityService,yt,ut.health,ut.attack,ut.mana,ut.exp,ut.equipment,ut.triggersConsumed)}},4942(O,S,i){i.d(S,{Q:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Piranha";tier=6;pack="Star";attack=10;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PiranhaAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getAll(!1,r,!0),g=d.pets,f=3*this.level;for(let D of g)D.increaseAttack(f),this.logService.createLog({message:`${r.name} gave ${D.name} ${f} attack.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random});this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},4945(O,S,i){i.d(S,{N:()=>_});var A=i(46200),c=i(5615),E=i(51838);class _ extends A.i{logService;abilityService;name="Doberman";tier=4;pack="Puppy";attack=1;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"DobermanAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=8*this.level,f=d.parent.getThis(d),D=f.pet;if(null==D)return;D.increaseAttack(g),this.logService.createLog({message:`${d.name} gave ${D.name} ${g} attack.`,type:"ability",player:d.parent,tiger:o,randomEvent:f.random});let k=!0;for(let J of d.parent.petArray)if(J!=d&&J.tier<=d.tier){k=!1;break}if(!k)return void this.triggerTigerExecution(t);let L=d.parent.getThis(d),F=L.pet;null!=F&&(F.givePetEquipment(new E.K),this.logService.createLog({message:`${d.name} gave ${F.name} Coconut.`,type:"ability",player:d.parent,tiger:o,randomEvent:L.random}),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},5021(O,S,i){i.d(S,{g:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Vulture";tier=5;pack="Star";attack=4;health=5;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"VultureAbility",owner:e,triggers:["PostRemovalFriendFaints2"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const{tiger:a}=e,r=this.owner;let g=r.parent.opponent.getRandomPet([],!1,!0,!1,r);if(null==g.pet)return;let f=4*this.level;r.snipePet(g.pet,f,g.random,a),this.logService.createLog({message:`${r.name} sniped ${g.pet.name} for ${f} after a friend died.`,type:"ability",player:r.parent,tiger:a}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},5040(O,S,i){i.d(S,{F:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Rootling";tier=4;pack="Custom";attack=1;health=8;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Rootling Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=this.level,d=a.parent.petArray.filter(g=>g&&g.alive&&g!==a&&g.health<a.health).sort((g,f)=>g.health-f.health).slice(0,2);for(const g of d)g.increaseAttack(o),g.increaseHealth(o);d.length>0&&this.logService.createLog({message:`${a.name} gave ${d.map(g=>g.name).join(", ")} +${o}/+${o}.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},5238(O,S,i){i.d(S,{I:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Quoll";tier=1;pack="Custom";attack=3;health=2;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},5388(O,S,i){i.d(S,{S:()=>_});var A=i(46200),c=i(5615),E=i(23770);class _ extends A.i{logService;abilityService;name="Farmer Dog";tier=6;pack="Custom";attack=5;health=6;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Farmer Dog Ability",owner:t,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,a=this.level,o=n.parent.petArray.filter(r=>r&&r.alive&&r!==n);if(0!==o.length){for(const r of o){const d=new E.D;d.effectMultiplier=a,r.givePetEquipment(d)}this.logService.createLog({message:`${n.name} fed ${a} Corncob${1===a?"":"s"} to ${o.length} friend${1===o.length?"":"s"}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}else this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},5492(O,S,i){i.d(S,{V:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Ibex";tier=5;pack="Star";attack=6;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;affectedEnemies=new Set;reset(){this.maxUses=this.level,this.affectedEnemies=new Set,super.reset()}constructor(e,t){super({name:"IbexAbility",owner:e,triggers:["EnemyHurt","EnemyPushed"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:n=>{const{triggerPet:a}=n;return a&&a.alive&&!this.affectedEnemies.has(a)},abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;let d=r.parent.getSpecificPet(r,n),g=d.pet;if(null==g)return;let f=Math.floor(.7*n.health);g.increaseHealth(-f),this.affectedEnemies.add(g),this.logService.createLog({message:`${r.name} removed ${f} health from ${n.name} (70%)`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},5611(O,S,i){i.d(S,{Z:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Sumatran Tiger";tier=6;pack="Danger";attack=9;health=9;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SumatranTigerAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getOppositeEnemyPet(r),g=d.pet;if(g&&(r.jumpAttackPrep(g),r.jumpAttack(g,a,null,d.random),r.level>=2)){let f=2===this.level?6:12,D=[];if(d.random)D=r.parent.getRandomLivingPets(2).pets;else{let k=g.petBehind();k&&k.alive&&D.push(k);let L=g.petAhead;L&&L.alive&&D.push(L)}for(let k of D)r.snipePet(k,f,d.random,a)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},5615(O,S,i){i.d(S,{T:()=>E});var A=i(86785),c=i(83028);class E{name;owner;_triggers=[];get triggers(){return this._triggers}set triggers(v){this._triggers=v}abilityType;maxUses;currentUses;initialCurrentUses;abilityLevel;precondition;condition;abilityFunction;native;ignoreRepeats;alwaysIgnorePetLevel;constructor(v){(0,c.L)(this),this.name=v.name,this.owner=v.owner,this.triggers=v.triggers,this.abilityType=v.abilityType,this.maxUses=v.maxUses??-1;const e=v.initialCurrentUses??("Pet"===v.abilityType?v.owner.triggersConsumed:0);this.initialCurrentUses=e,this.currentUses=e,this.abilityLevel=v.abilitylevel??1,this.precondition=v.precondition,this.condition=v.condition,this.abilityFunction=v.abilityFunction,this.native=v.native??!0,this.ignoreRepeats=v.ignoreRepeats??!1,this.alwaysIgnorePetLevel=v.alwaysIgnorePetLevel??!1}canUse(){return!(this.maxUses>0&&this.currentUses>=this.maxUses)}execute(v,e,t,n,a){if(this.owner.removed&&!this.matchesTrigger("PostRemovalFaint")||!this.owner.abilityValidCheck())return!1;try{const o={gameApi:v,triggerPet:e,tiger:t,pteranodon:n,...a??{}};return!(this.precondition&&!this.precondition(o)||this.condition&&!this.condition(o)||(this.currentUses++,"Pet"===this.abilityType&&(this.owner.triggersConsumed=Math.max(this.owner.triggersConsumed,this.currentUses)),this.abilityFunction(o),0))}catch(o){return console.error(`Error executing ability ${this.name||"unnamed"}:`,o),!1}}tigerCheck(v,e){if(this.ignoreRepeats||"Pet"!=this.abilityType)return!1;const t=e??this.owner.petBehind(!0,!0);return!(!t||!t.hasTrigger(void 0,void 0,"TigerAbility")||null!=v&&0!=v)}triggerTigerExecution(v){const e=v.tigerSupportPet??this.owner.petBehind(!0,!0);if(!this.tigerCheck(v.tiger,e)||!this.canUse())return;let t=this.abilityLevel,n=this.alwaysIgnorePetLevel;this.abilityLevel=e.level,this.alwaysIgnorePetLevel=!0;const{gameApi:a,triggerPet:o,tiger:r,pteranodon:d,...g}=v;this.execute(a,o,!0,d,g),this.abilityLevel=t,this.alwaysIgnorePetLevel=n}reset(){this.currentUses=0}initUses(){this.currentUses=this.initialCurrentUses}copy(v){return null}matchesTrigger(v){return this.triggers.includes(v)}get level(){return this.alwaysIgnorePetLevel?this.abilityLevel:this.owner.level}get minExpForLevel(){return(0,A.T)(this.level)}}},5762(O,S,i){i.d(S,{T:()=>_});var A=i(56979),c=i(46200),E=i(5615);class _ extends c.i{logService;abilityService;name="Barghest";tier=1;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends E.T{logService;constructor(t,n){super({name:"BarghestAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let D=[...d.parent.getPetsWithEquipmentWithSillyFallback("perk",d),...d.parent.getPetsWithEquipmentWithSillyFallback("Spooked",d)],L=d.parent.opponent.getLastPets(this.level,D,d).pets;if(0!=L.length){for(let F of L)this.logService.createLog({message:`${d.name} gave ${F.name} Spooked`,type:"ability",player:d.parent,tiger:o}),F.givePetEquipment(new A.E);this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},6043(O,S,i){i.d(S,{s:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Deer Lord";tier=3;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Deer Lord Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=t.petAhead;n&&(n.health=0,this.logService.createLog({message:`${t.name} knocked out ${n.name}.`,type:"ability",player:t.parent}),this.logService.createLog({message:`${t.name} stocked ${this.level} free Bacon.`,type:"ability",player:t.parent})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},6050(O,S,i){i.d(S,{p:()=>_});var A=i(46200),c=i(10041),E=i(5615);class _ extends A.i{logService;abilityService;name="Rooster";tier=5;pack="Turtle";attack=6;health=5;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends E.T{logService;abilityService;constructor(t,n,a){super({name:"RoosterAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=Math.max(Math.floor(.5*d.attack),1);for(let f=0;f<this.level;f++){let D=new c.$(this.logService,this.abilityService,d.parent,1,g,0,this.minExpForLevel),k=d.parent.summonPet(D,d.savedPosition,!1,d);k.success&&this.logService.createLog({message:`${d.name} spawned Chick (${g}).`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:k.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},6143(O,S,i){i.d(S,{P:()=>c});var A=i(50873);class c extends A.L{name="Ring Pyramid";tier=1;startOfBattle(_,v){const e=_?.turnNumber??1;let t=1;e>2&&(t=2),e>4&&(t=3),e>6&&(t=4),e>8&&(t=5),e>10&&(t=6);const n=t-1;if(!(n<1))for(const a of this.parent.petArray)a.tier===n&&(a.health=0,this.logService.createLog({message:`${this.name} knocked out ${a.name}.`,type:"ability",player:this.parent,puma:v}))}}},6145(O,S,i){i.d(S,{S:()=>c});var A=i(22097);class c extends A.${name="Macaron";equipmentClass="shop"}},6172(O,S,i){i.d(S,{N:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Triceratops";tier=5;pack="Star";attack=5;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TriceratopsAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getRandomPet([r],!0,!1,!0,r),g=3*this.level;null!=d.pet&&(d.pet.increaseAttack(g),d.pet.increaseHealth(g),this.logService.createLog({message:`${r.name} gave ${d.pet.name} ${g} attack and ${g} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},6267(O,S,i){i.d(S,{$:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Donkey";tier=4;pack="Star";attack=4;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"DonkeyAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.opponent,g=d.getLastPet();null!=g.pet&&(d.pushPet(g.pet,g.pet.position),g.pet.increaseAttack(-3),this.logService.createLog({message:`${r.name} pushed ${g.pet.name} to the front and removed 3 attack.`,type:"ability",player:r.parent,tiger:a}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},6300(O,S,i){i.d(S,{Y:()=>_});var A=i(46200),c=i(74891),E=i(5615);class _ extends A.i{logService;abilityService;name="Rat";tier=2;pack="Turtle";health=6;attack=3;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends E.T{logService;abilityService;constructor(t,n,a){super({name:"RatAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.opponent;for(let f=0;f<this.level;f++){let D=new c.s(this.logService,this.abilityService,g,null,null,0,0),k=g.summonPet(D,0,!1,d);k.success&&this.logService.createLog({message:`${d.name} Summoned Dirty Rat on Opponent`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:k.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},6328(O,S,i){i.d(S,{Y:()=>c});var A=i(22097);class c extends A.${name="Fortune Cookie";equipmentClass="attack";constructor(){super()}}},6368(O,S,i){i.d(S,{r:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Oyster";tier=6;pack="Golden";attack=2;health=10;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"OysterAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gained ${3*this.level} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},6425(O,S,i){i.d(S,{K:()=>E});var A=i(46200);i(5615);class E extends A.i{logService;abilityService;name="Penguin";tier=4;pack="Turtle";attack=2;health=3;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}},6513(O,S,i){i.d(S,{L:()=>E});var A=i(22097),c=i(5615);class E extends A.${logService;abilityService;name="Chocolate Cake";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}}class _ extends c.T{equipment;logService;abilityService;constructor(e,t,n,a){super({name:"ChocolateCakeAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:o=>{this.executeAbility(o)}}),this.equipment=t,this.logService=n,this.abilityService=a}executeAbility(e){const t=this.owner;let a=3*this.equipment.multiplier;this.logService.createLog({message:`${t.name} gained ${a} exp. (Chocolate Cake)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent}),t.increaseExp(a),t.health=0,this.abilityService.triggerKillEvents(t,t)}}},6550(O,S,i){i.d(S,{AV:()=>c,H6:()=>v,Ls:()=>e,aA:()=>_,uF:()=>A,yo:()=>E});const A=[1,2,3];function c(t,n){const a=`${t}${n}`;return{base:a,belugaSwallowedPet:`${a}BelugaSwallowedPet`,sarcasticFringeheadSwallowedPet:`${a}SarcasticFringeheadSwallowedPet`,level:`${a}Level`,timesHurt:`${a}TimesHurt`,parrotCopyPet:`${a}ParrotCopyPet`,parrotCopyPetBelugaSwallowedPet:`${a}ParrotCopyPetBelugaSwallowedPet`,nested:o=>{const r=`${a}ParrotCopyPetAbominationSwallowedPet${o}`;return{base:r,belugaSwallowedPet:`${r}BelugaSwallowedPet`,sarcasticFringeheadSwallowedPet:`${r}SarcasticFringeheadSwallowedPet`,level:`${r}Level`,timesHurt:`${r}TimesHurt`}}}}function E(t,n,a=null){const o=t[n];return"string"==typeof o||null===o?o:a}function _(t,n,a){const o=t[n];return"number"==typeof o&&Number.isFinite(o)?o:a}function v(t,n,a){t[n]=a}function e(t,n,a){t[n]=a}},6674(O,S,i){i.d(S,{h:()=>E});var A=i(22097),c=i(5615);class E extends A.${logService;name="Nachos";tier=1;equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"NachosAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;for(let n=0;n<this.equipment.multiplier;n++){let r=Math.min(3,t.health-1);r>0&&(t.increaseHealth(-r),t.increaseAttack(r),this.logService.createLog({message:`${t.name} converted ${r} health into ${r} attack (Nachos)${n>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent}))}t.removePerk()}}},6792(O,S,i){i.d(S,{A:()=>o});var A=i(99659),c=i(97061),E=i(43744),_=i(10259),v=i(28606),e=i(54608),n=Object.prototype.hasOwnProperty;const o=function a(r,d){var g=(0,E.A)(r),f=!g&&(0,c.A)(r),D=!g&&!f&&(0,_.A)(r),k=!g&&!f&&!D&&(0,e.A)(r),L=g||f||D||k,F=L?(0,A.A)(r.length,String):[],J=F.length;for(var ne in r)(d||n.call(r,ne))&&(!L||!("length"==ne||D&&("offset"==ne||"parent"==ne)||k&&("buffer"==ne||"byteLength"==ne||"byteOffset"==ne)||(0,v.A)(ne,J)))&&F.push(ne);return F}},6944(O,S,i){i.d(S,{A:()=>E});const E=i(1860).A.Symbol},6953(O,S,i){i.d(S,{v:()=>v});var A=i(46200),c=i(5615),E=i(90966),_=i(33127);class v extends A.i{logService;abilityService;name="Racket Tail";tier=4;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"Racket Tail Ability",owner:n,triggers:["BeforeFriendAttacks"],abilityType:"Pet",maxUses:n.level,native:!0,abilitylevel:n.level,precondition:o=>{const{triggerPet:r}=o;return!!r&&r.parent===this.owner.parent&&r.alive},abilityFunction:o=>this.executeAbility(o)}),this.logService=a}executeAbility(n){const{triggerPet:a,tiger:o,pteranodon:r}=n,d=this.owner;if(!a)return;const f=_.I.getInjector().get(E.m).getInstanceOfAllEquipment().get("Strawberry");f&&a.givePetEquipment(f),a.increaseAttack(5),this.logService.createLog({message:`${d.name} gave ${a.name} Strawberry and +5 attack before attacking.`,type:"ability",player:d.parent,tiger:o,pteranodon:r}),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService)}}},6988(O,S,i){i.d(S,{U:()=>t});var A=i(46200),c=i(5615),E=i(61850),_=i(94798),v=i(58857),e=i(79222);class t extends A.i{logService;abilityService;petService;name="Iriomote Cat";tier=1;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new n(this,this.logService,this.petService)),super.initAbilities()}constructor(o,r,d,g,f,D,k,L,F,J){super(o,r,g),this.logService=o,this.abilityService=r,this.petService=d,this.initPet(L,f,D,k,F,J)}}class n extends c.T{logService;petService;constructor(o,r,d){super({name:"IriomoteCatAbility",owner:o,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:o.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=r,this.petService=d}executeAbility(o){const D=this.owner,k=_.s.iriomoteCat[this.level]??this.petService.allPets.get(this.level)??[];if(0===k.length)return;const L=(0,v.k6)({key:"pet.iriomote-cat-transform",label:(0,e.I)(D,"Iriomote Cat transform"),options:k.map(ne=>({id:ne,label:ne}))},()=>(0,E.hw)(0,k.length-1));let F=k[L.index],J=this.petService.createPet({name:F,attack:D.attack,health:D.health,exp:0,equipment:D.equipment,mana:D.mana},D.parent);this.logService.createLog({message:`${D.name} transformed into a ${F} (Level ${J.level}).`,type:"ability",player:D.parent,randomEvent:L.randomEvent}),D.parent.transformPet(D,J),this.triggerTigerExecution(o)}copy(o){return new n(o,this.logService,this.petService)}}},7023(O,S,i){i.d(S,{a:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Door Head Ant";tier=2;pack="Golden";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DoorHeadAntAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>null==this.owner.parent.pet0,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.getThis(r),g=d.pet;if(null==g)return;r.parent.pushPetToFront(g,!0),this.logService.createLog({message:`${r.name} pushed ${g.name} to the front.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:d.random});let f=4*this.level,D=r.parent.getThis(r),k=D.pet;null!=k&&(k.increaseHealth(f),this.logService.createLog({message:`${r.name} gained ${f} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:D.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},7056(O,S,i){i.d(S,{E:()=>v});var A=i(46200),c=i(5615),E=i(33524),_=i(61850);class v extends A.i{logService;abilityService;name="Spider Crab";tier=2;pack="Custom";attack=1;health=5;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;affectedPets=new Set;constructor(n,a){super({name:"Spider Crab Ability",owner:n,triggers:["FriendAttacked","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:o=>this.executeAbility(o)}),this.logService=a}executeAbility(n){const a=this.owner,{triggerPet:o,tiger:r,pteranodon:d}=n;if("StartTurn"===n.trigger)return this.affectedPets.clear(),void this.triggerTigerExecution(n);if(!o||o.parent!==a.parent)return void this.triggerTigerExecution(n);if(!o.alive)return void this.triggerTigerExecution(n);if(this.affectedPets.has(o))return void this.triggerTigerExecution(n);if(this.affectedPets.size>=this.level)return void this.triggerTigerExecution(n);let g=o;if((0,E.ku)(a)){const f=a.parent.petArray.filter(D=>D.alive);if(0===f.length)return void this.triggerTigerExecution(n);g=f[(0,_.hw)(0,f.length-1)]}g.increaseHealth(4),g.parent.pushPetToBack(g),this.affectedPets.add(o),this.logService.createLog({message:`${a.name} moved ${g.name} to the back and gave it +4 health.`,type:"ability",player:a.parent,tiger:r,pteranodon:d}),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService)}}},7059(O,S,i){i.d(S,{v:()=>_});var A=i(46200),c=i(3754),E=i(5615);class _ extends A.i{logService;abilityService;name="Sneaky Egg";tier=1;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends E.T{logService;abilityService;constructor(t,n,a){super({name:"SneakyEggAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o}=t,d=this.owner;let g={attack:4*this.level,health:2*this.level};d.health=0,d.parent.handleDeath(d),d.parent.removeDeadPets();let f=new c.j(this.logService,this.abilityService,d.parent,g.health,g.attack,0),D=d.parent.summonPet(f,d.savedPosition,!1,d);D.success&&this.logService.createLog({message:`${d.name} spawned a ${g.attack}/${g.health} Cracked Egg`,type:"ability",player:d.parent,tiger:o,randomEvent:D.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},7199(O,S,i){i.d(S,{o:()=>e});var A=i(22097),c=i(5615),E=i(33127),_=i(24111),v=i(56990);class e extends A.${name="Webbed";equipmentClass="ailment-other";callback=a=>{a.addAbility(new t(a))}}class t extends c.T{logService;petService;constructor(a){super({name:"WebbedAbility",owner:a,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:o=>this.executeAbility(o)}),this.logService=E.I.getInjector().get(_.K),this.petService=E.I.getInjector().get(v.T)}executeAbility(a){const o=this.owner,r=o.parent.opponent,d=this.petService.createPet({name:"Spider",attack:2,health:2,exp:0,equipment:null,mana:0},r),g=r.summonPet(d,0,!1,o);g.success&&this.logService.createLog({message:`${o.name} summoned ${d.name} for the opponent. (Webbed)`,type:"equipment",player:o.parent,randomEvent:g.randomEvent})}}},7234(O,S,i){i.d(S,{l:()=>_});var A=i(46200),c=i(25479),E=i(5615);class _ extends A.i{logService;abilityService;name="Anteater";tier=3;pack="Star";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends E.T{logService;abilityService;constructor(t,n,a){super({name:"AnteaterAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;for(let g=0;g<this.level;g++){let f=new c.w(this.logService,this.abilityService,d.parent,1,1,0,5),D=d.parent.summonPet(f,d.savedPosition,!1,d);D.success&&this.logService.createLog({message:`${d.name} spawned 1/1 Ant level 3`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:D.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},7390(O,S,i){i.d(S,{T:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Fish";tier=1;pack="Turtle";health=3;attack=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"FishAbility",owner:e,triggers:["ThisLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner;if(this.level>=3)return;const n=this.level,a=t.parent.getRandomPets(2,[t],!1,!1,t);if(0!==a.pets.length){for(const o of a.pets)o.increaseAttack(n),o.increaseHealth(n);this.logService.createLog({message:`${t.name} gave ${a.pets.map(o=>o.name).join(", ")} ${n} attack and ${n} health.`,type:"ability",player:t.parent,randomEvent:a.random,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},7598(O,S,i){i.d(S,{Z:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Deinocheirus";tier=4;pack="Custom";attack=4;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Deinocheirus Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=a.equipment;if(!o)return void this.triggerTigerExecution(e);if(!o.equipmentClass?.startsWith("ailment"))return void this.triggerTigerExecution(e);const d=this.level,g=d,f=2*d;a.increaseAttack(g),a.increaseHealth(f),this.logService.createLog({message:`${a.name} reversed ${o.name} and gained +${g}/+${f} (x${d}).`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},7639(O,S,i){i.d(S,{F:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Namazu";tier=5;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Namazu Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=t.mana;if(n<=0)return void this.triggerTigerExecution(e);const a=n*this.level;t.parent.gainTrumpets(a,t,e.pteranodon),t.mana=0,this.logService.createLog({message:`${t.name} spent ${n} mana and gained ${a} trumpets.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},7715(O,S,i){i.d(S,{k:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Chimera Lion";tier=1;pack="Custom";hidden=!0;attack=1;health=1;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},7978(O,S,i){i.d(S,{x:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Vervet";tier=2;pack="Custom";attack=1;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Vervet Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{gameApi:t}=e,n=this.owner,a=this.level,o="Microwave Oven",r=t?.toyService?.createToy(o,n.parent,a);r&&(n.parent.toy=r,this.logService.createLog({message:`${n.name} summoned a level ${a} ${o}.`,type:"ability",player:n.parent})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},8143(O,S,i){i.d(S,{e:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Mole";tier=3;pack="Puppy";attack=2;health=3;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"MoleAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=6*this.level,g=[];for(let L of r.parent.petArray){if(L==r)continue;const F=L.equipment?.equipmentClass;F&&"ailment-attack"!==F&&"ailment-defense"!==F&&"ailment-other"!==F&&g.push(L)}const f=r.position;if(g.sort((L,F)=>{const J=Math.abs(L.position-f),ne=Math.abs(F.position-f);return J!==ne?J-ne:L.position-F.position}),g=g.slice(0,2),g.length<2)return;for(let L of g)this.logService.createLog({message:`${r.name} removed ${L.name}'s perk.`,type:"ability",player:r.parent,pteranodon:o}),L.removePerk(!0);let D=new E(this.logService,this.abilityService,r.parent,d,d),k=r.parent.summonPet(D,r.savedPosition,!1,r);k.success&&this.logService.createLog({message:`${r.name} summoned a ${d}/${d} Mole.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:k.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},8178(O,S,i){i.d(S,{p:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Nessie?";tier=1;pack="Unicorn";hidden=!0;health=2;attack=1;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},8362(O,S,i){i.d(S,{g:()=>_});var A=i(46200),c=i(5615),E=i(1152);class _ extends A.i{logService;abilityService;name="Vampire Bat";tier=5;pack="Unicorn";attack=2;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"VampireBatAbility",owner:t,triggers:["EnemyGainedAilment"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2,precondition:a=>{const{triggerPet:o}=a,g=(0,E.LZ)(this.owner,o).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:o}=t,d=this.owner;let g=4*this.level,D=(0,E.LZ)(d,a).pet;if(null==D)return;const k=D.health;let L=d.snipePet(D,g,!1,o),F=Math.min(L,k),J=d.parent.getThis(d),ne=J.pet;null!=ne&&(this.logService.createLog({message:`${d.name} gave ${ne.name} ${F} health.`,type:"ability",player:d.parent,tiger:o,randomEvent:J.random}),ne.increaseHealth(F),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},8408(O,S,i){i.d(S,{_:()=>c});var A=i(50873);class c extends A.L{name="Toy Mouse";tier=3;startOfBattle(_,v){for(const e of this.parent.petArray)e.exp=0,this.logService.createLog({message:`${this.name} set ${e.name} to level 1.`,type:"ability",player:this.parent,puma:v})}}},8534(O,S,i){i.d(S,{t:()=>E});var A=i(46200),c=i(5615);class E extends A.i{constructor(e,t,n){super(e,t,n),this.name="Pegasus",this.tier=4,this.pack="Custom",this.attack=2,this.health=4}initAbilities(){this.abilityList=[new _(this,this.logService)],super.initAbilities()}}class _ extends c.T{logService;pendingBuffs=new Map;constructor(e,t){super({name:"Pegasus Ability",owner:e,triggers:["FriendSummoned","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{trigger:t,tiger:n,pteranodon:a}=e,o=this.owner;if("FriendSummoned"===t){const r=o.parent.getRandomPets(3,[],!1,!1,o),d=this.level;if(r.pets.length>0){const g=[];for(const f of r.pets){f.increaseAttack(d);const D=this.pendingBuffs.get(f)??0;this.pendingBuffs.set(f,D+d),g.push(f.name)}this.logService.createLog({message:`${o.name} temporarily buffed ${g.join(", ")} for +${d} attack until next turn.`,type:"ability",player:o.parent,tiger:n,pteranodon:a,randomEvent:r.random})}}else"EndTurn"===t&&this.resetBuffs();this.triggerTigerExecution(e)}resetBuffs(){for(const[e,t]of this.pendingBuffs)e.alive&&e.increaseAttack(-t);this.pendingBuffs.clear()}copy(e){return new _(e,this.logService)}}},8540(O,S,i){i.d(S,{n:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Pacific Fanfish";tier=5;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Pacific Fanfish Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=4*this.level,a=t.parent.petArray.filter(r=>r&&r!==t&&r.alive&&r.sellValue>=3);if(0===a.length)return void this.triggerTigerExecution(e);const o=n*a.length;t.increaseAttack(o),t.increaseHealth(o),this.logService.createLog({message:`${t.name} gained +${o}/+${o} from ${a.length} friend(s) with \u22653 sell value.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},8891(O,S,i){i.d(S,{w:()=>t});var A=i(22097),c=i(5615),E=i(90966),_=i(33127),v=i(94798),e=i(61850);class t extends A.${logService;name="Radish";equipmentClass="beforeStartOfBattle";callback=o=>{const r=o.getEquippedEquipmentInstance(this);o.addAbility(new n(o,r,this.logService))};constructor(o){super(),this.logService=o}}class n extends c.T{equipment;logService;equipmentService;constructor(o,r,d){super({name:"RadishAbility",owner:o,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:g=>this.executeAbility(g)}),this.equipment=r,this.logService=d,this.equipmentService=_.I.getInjector().get(E.m)}executeAbility(o){const r=this.owner,d=Math.min(Math.max(r.tier??r.level??1,1),6),g=v.s.radish[d];if(!g||0===g.length)return;const f=this.equipmentService.getInstanceOfAllEquipment(),D=g.filter(J=>f.has(J));if(0===D.length)return;const k=(0,e.hw)(0,D.length-1),F=f.get(D[k]);F&&(r.givePetEquipment(F),this.logService.createLog({message:`${r.name} gained ${F.name} before battle (Radish).`,type:"equipment",player:r.parent,randomEvent:!0}))}}},9008(O,S,i){i.d(S,{B:()=>c});var A=i(22097);class c extends A.${name="Sad";equipmentClass="ailment-other"}},9215(O,S,i){i.d(S,{u:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Blobfish";tier=5;pack="Star";attack=2;health=10;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BlobfishAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.nearestPetsBehind(2,r),g=d.pets;for(let f of g){let D=this.level;this.logService.createLog({message:`${r.name} gave ${f.name} ${D} exp.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),f.increaseExp(D)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},9238(O,S,i){i.d(S,{g:()=>E});var A=i(57488),c=i(50873);class E extends c.L{name="Pogo Stick";tier=1;startOfBattle(v,e){const t=(0,A.a)(v,this.parent),n=t.getLastPet();if(!n.pet)return;const a=n.pet;t.pushPetToFront(a);const o=a.attack,r=a.health;a.increaseAttack(o),a.increaseHealth(r),this.logService.createLog({message:`${this.name} pushed ${a.name} forward and gave +${o}/+${r}.`,type:"ability",player:this.parent,puma:e})}}},9292(O,S,i){i.d(S,{C:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Worm";tier=2;pack="Turtle";health=4;attack=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"WormAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked one 2-gold ${1===this.level?"Apple":2===this.level?"Better Apple":"Best Apple"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},9452(O,S,i){i.d(S,{A:()=>_});var A=i(99898),c=i(14429);const _=function E(v,e){return v&&(0,A.A)(e,(0,c.A)(e),v)}},9680(O,S,i){i.d(S,{M:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Duckling";tier=1;pack="Custom";attack=1;health=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"DucklingAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gave the left-most shop pet +${2*this.level} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},9695(O,S,i){i.d(S,{f:()=>_});var A=i(46200),c=i(5615),E=i(44402);class _ extends A.i{logService;abilityService;name="Reindeer";tier=6;pack="Star";attack=9;health=6;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;reset(){this.maxUses=this.level,super.reset()}constructor(t,n){super({name:"ReindeerAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.getThis(d),f=g.pet;null!=f&&(f.givePetEquipment(new E.m),this.logService.createLog({message:`${d.name} gave ${f.name} Melon.`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random}),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},9933(O,S,i){i.d(S,{A:()=>n});var A=i(1860),c="object"==typeof exports&&exports&&!exports.nodeType&&exports,E=c&&"object"==typeof module&&module&&!module.nodeType&&module,v=E&&E.exports===c?A.A.Buffer:void 0,e=v?v.allocUnsafe:void 0;const n=function t(a,o){if(o)return a.slice();var r=a.length,d=e?e(r):new a.constructor(r);return a.copy(d),d}},10041(O,S,i){i.d(S,{$:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Chick";tier=1;pack="Turtle";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"ChickAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},10259(O,S,i){i.d(S,{A:()=>a});var A=i(1860),c=i(85554),E="object"==typeof exports&&exports&&!exports.nodeType&&exports,_=E&&"object"==typeof module&&module&&!module.nodeType&&module,e=_&&_.exports===E?A.A.Buffer:void 0;const a=(e?e.isBuffer:void 0)||c.A},10467(O,S,i){function A(E,_,v,e,t,n,a){try{var o=E[n](a),r=o.value}catch(d){return void v(d)}o.done?_(r):Promise.resolve(r).then(e,t)}function c(E){return function(){var _=this,v=arguments;return new Promise(function(e,t){var n=E.apply(_,v);function a(r){A(n,e,t,a,o,"next",r)}function o(r){A(n,e,t,a,o,"throw",r)}a(void 0)})}}i.d(S,{A:()=>c})},10687(O,S,i){i.d(S,{e:()=>c});var A=i(22097);class c extends A.${name="Bloated";equipmentClass="ailment-other"}},10778(O,S,i){i.d(S,{Z:()=>v});var A=i(46200),c=i(5615),E=i(26886),_=i(33127);class v extends A.i{constructor(n,a,o){super(n,a,o),this.name="Flying Squirrel",this.tier=3,this.pack="Custom",this.attack=3,this.health=3}initAbilities(){this.abilityList=[new e(this,this.logService)],super.initAbilities()}}class e extends c.T{logService;constructor(n,a){super({name:"FlyingSquirrelAbility",owner:n,triggers:["FriendlyToyBroke"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const{tiger:r}=n,g=this.owner;let f=2*this.level,D=g.parent.getThis(g),k=D.pet;if(null==k||(k.increaseAttack(f),this.logService.createLog({message:`${g.name} gave ${k.name} +${f} attack`,type:"ability",player:g.parent,tiger:r,randomEvent:D.random}),null==g.parent.brokenToy))return;const L=_.I.getInjector().get(E.w).createToy(g.parent.brokenToy.name,g.parent);L.level=Math.min(this.level,g.parent.brokenToy.level),g.parent.setToy(L),this.logService.createLog({message:`${L.name} respawned (Level ${L.level})!`,type:"ability",player:g.parent,tiger:r}),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService)}}},10858(O,S,i){i.d(S,{P:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Malay Tapir";tier=1;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MalayTapirAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getThis(r),g=d.pet;if(!g)return;let f=1*this.level;g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} health`,type:"ability",player:r.parent,sourcePet:r,targetPet:g,tiger:a,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},10948(O,S,i){i.d(S,{l:()=>_});var A=i(46200),c=i(5615),E=i(23770);class _ extends A.i{logService;abilityService;name="Farmer Crow";tier=5;pack="Custom";attack=6;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Farmer Crow Ability",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,a=Math.min(n.level,3),r=n.parent.nearestPetsBehind(a,n),d=r.pets;for(const g of d)for(let f=0;f<3;f++){const D=new E.D;D.effectMultiplier=3,g.applyEquipment(D)}d.length>0&&this.logService.createLog({message:`${n.name} fed Corncobs with 3x effect to ${d.length} friend${1===d.length?"":"s"}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon,randomEvent:r.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},11325(O,S,i){i.d(S,{t:()=>_});var A=i(46200),c=i(5615),E=i(60826);class _ extends A.i{logService;abilityService;name="Snapping Turtle";tier=5;pack="Puppy";attack=4;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"SnappingTurtleAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.getPetsWithEquipment("Skewer"),f=d.parent.nearestPetsBehind(d.level,d,g);if(0!==f.pets.length){for(let D of f.pets)this.logService.createLog({message:`${d.name} gave ${D.name} Skewer.`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:f.random}),D.givePetEquipment(new E.q(this.logService));this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},11374(O,S,i){i.d(S,{A:()=>e});var A=i(77107),_=Object.prototype.hasOwnProperty;const e=function v(t){var n=this.__data__;if(A.A){var a=n[t];return"__lodash_hash_undefined__"===a?void 0:a}return _.call(n,t)?n[t]:void 0}},11733(O,S,i){i.d(S,{v:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Giant Squirrel";tier=2;pack="Custom";attack=2;health=5;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},11970(O,S,i){i.d(S,{k:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Skeleton Dog";tier=3;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SkeletonDogAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getRandomPets(this.level,[r],!0,!1,r);for(let g of d.pets)null!=g&&(this.logService.createLog({message:`${r.name} gave 1 attack and 1 health to ${g.name}.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),g.increaseAttack(1),g.increaseHealth(1));this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},12160(O,S,i){i.d(S,{C:()=>c});var A=i(22097);class c extends A.${equipmentClass="shield";name="Lemon";tier=5;power=7;originalPower=7;uses=2;originalUses=2}},12173(O,S,i){i.d(S,{A:()=>e});var A=i(92661),c=i(20778),E=i(33340),_=E.A&&E.A.isSet;const e=_?(0,c.A)(_):A.A},12312(O,S,i){i.d(S,{x:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Smaller Slime";tier=1;pack="Unicorn";hidden=!0;health=2;attack=2;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},12367(O,S,i){i.d(S,{O:()=>v});var A=i(46200),c=i(5615),E=i(33127),_=i(90966);class v extends A.i{logService;abilityService;name="Fox";tier=5;pack="Custom";attack=6;health=4;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"Fox Ability",owner:n,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const a=this.owner,r=E.I.getInjector().get(_.m).getInstanceOfAllEquipment(),d=Array.from(r.values()).filter(L=>"shop"===L.equipmentClass);if(0===d.length)return void this.triggerTigerExecution(n);const g=d[d.length-1],f=this.level,k=Math.max(1,2*a.level)*f;a.increaseAttack(k),a.increaseHealth(k),this.logService.createLog({message:`${a.name} stole ${g.name} (x${f}) and gained +${k}/+${k}.`,type:"ability",player:a.parent,tiger:n.tiger,pteranodon:n.pteranodon}),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService)}}},12765(O,S,i){i.d(S,{n:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Longcomb Sawfish";tier=4;pack="Danger";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"LongcombSawfishAbility",owner:e,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=4*this.level,g=-4*this.level,f=r.parent.getThis(r),D=f.pet;D&&(D.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${D.name} ${d} health`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random}));let L=r.parent.opponent.getAll(!1,r).pets;for(let F of L)F.increaseHealth(g),this.logService.createLog({message:`${r.name} reduced ${F.name} health by ${Math.abs(g)}`,type:"ability",player:r.parent,tiger:a});this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},12768(O,S,i){i.d(S,{P:()=>E,Y:()=>c});var A=i(45312);const c=(_,v,e,t,n)=>{const a=o=>{if(e.createLog({message:`${o.name} broke!`,type:"ability",player:_,randomEvent:!1}),null==o.onBreak)return;const r=[{callback:o.onBreak.bind(o),priority:99}],d=o.level;for(const g of _.petArray)g instanceof A.E&&r.push({callback:()=>{o.level=g.level,o.onBreak(n.gameApi,!0),o.level=d},priority:g.attack});r.sort((g,f)=>g.priority>f.priority?-1:g.priority<f.priority?1:0);for(const g of r)g.callback(n.gameApi)};if(null!=_.toy){const o=_.toy;_.brokenToy=o,a(o),_.toy=null}if(null!=_.hardToy){const o=_.hardToy;_.brokenHardToy=o,a(o),_.hardToy=null}v&&_.brokenToy&&E(_,_.brokenToy)},E=(_,v)=>{_.toy=v}},13004(O,S,i){i.d(S,{gn:()=>e,tS:()=>n,zA:()=>_});var A=i(70762),c=i(27389),E=i(60135);class _ extends A.v{constructor(o){super(),this.parent=o}_next(o){this.parent.notifyNext(o)}_error(o){this.parent.notifyError(o),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class e extends A.v{notifyNext(o){this.destination.next(o)}notifyError(o){this.destination.error(o)}notifyComplete(){this.destination.complete()}}function n(a,o){if(o.closed)return;if(a instanceof c.c)return a.subscribe(o);let r;try{r=(0,E.i)(a)(o)}catch(d){o.error(d)}return r}},13115(O,S,i){i.d(S,{B:()=>c});var A=i(22097);class c extends A.${name="Salt";tier=4;equipmentClass="attack";uses=1;originalUses=1}},13276(O){O.exports=JSON.parse('[{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and Spooked until next turn to the nearest friend ahead."},{"Level":2,"About":"End turn: Give +2 attack and Spooked until next turn to the nearest friend ahead."},{"Level":3,"About":"End turn: Give +3 attack and Spooked until next turn to the nearest friend ahead."}],"Id":"624","Name":"???","NameId":"Leafling","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Jump attack the second enemy for 3 damage."},{"Level":2,"About":"Start of battle: Jump attack the second enemy for 6 damage."},{"Level":3,"About":"Start of battle: Jump attack the second enemy for 9 damage."}],"Id":"388","Name":"African Wild Dog","NameId":"AfricanWildDog","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend ahead +1 mana."},{"Level":2,"About":"Start of battle: Give the nearest friend ahead +2 mana."},{"Level":3,"About":"Start of battle: Give the nearest friend ahead +3 mana."}],"Id":"626","Name":"Alchemedes","NameId":"AlchemistBug","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Give one random friend +1 attack and +1 health."},{"Level":2,"About":"Faint: Give one random friend +2 attack and +2 health."},{"Level":3,"About":"Faint: Give one random friend +3 attack and +3 health."}],"Id":"0","Name":"Ant","NameId":"Ant","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"End turn: If turn number is even, replace random ailments with +1 health on two friends."},{"Level":2,"About":"End turn: If turn number is even, replace random ailments with +2 health on two friends."},{"Level":3,"About":"End turn: If turn number is even, replace random ailments with +3 health on two friends."}],"Id":"628","Name":"Baku","NameId":"Baku","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make the last perk-less enemy Spooked."},{"Level":2,"About":"Start of battle: Make the two last perk-less enemies Spooked."},{"Level":3,"About":"Start of battle: Make the three last perk-less enemies Spooked."}],"Id":"621","Name":"Barghest","NameId":"Barghest","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Give two random friends +1 attack."},{"Level":2,"About":"Sell: Give two random friends +2 attack."},{"Level":3,"About":"Sell: Give two random friends +3 attack."}],"Id":"3","Name":"Beaver","NameId":"Beaver","Tier":1,"TierMax":2147483647,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"4","Name":"Bee","NameId":"Bee","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give Walnut perk to nearest friend behind."},{"Level":2,"About":"Start of battle: Give Walnut perk with double effect to nearest friend behind."},{"Level":3,"About":"Start of battle: Give Walnut perk with triple effect to nearest friend behind."}],"Id":"88","Name":"Beetle","NameId":"Beetle","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Block 2 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Give one random friend +1 attack."},{"Level":2,"About":"End turn: Give one random friend +2 attack."},{"Level":3,"About":"End turn: Give one random friend +3 attack."}],"Id":"89","Name":"Bluebird","NameId":"Bluebird","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Two enemy attacks: Deal 1 damage to the first enemy. Works 2 times per battle."},{"Level":2,"About":"Two enemy attacks: Deal 2 damage to the first enemy. Works 2 times per battle."},{"Level":3,"About":"Two enemy attacks: Deal 3 damage to the first enemy. Works 2 times per battle."}],"Id":"401","Name":"Bombus Dahlbomii","NameId":"BombusDahlbomii","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain the Popcorn perk and +1 health."},{"Level":2,"About":"Start of battle: Gain the Popcorn perk and +2 health."},{"Level":3,"About":"Start of battle: Gain the Popcorn perk and +3 health."}],"Id":"775","Name":"Budgie","NameId":"Budgie","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks","Summon"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"After first attack: Gain +2 attack."},{"Level":2,"About":"After first attack: Gain +4 attack."},{"Level":3,"About":"After first attack: Gain +6 attack."}],"Id":"189","Name":"Bulldog","NameId":"Bulldog","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 health for each roll (max 2)."},{"Level":2,"About":"Start of battle: Gain +2 health for each roll (max 2)."},{"Level":3,"About":"Start of battle: Gain +3 health for each roll (max 2)."}],"Id":"601","Name":"Bunyip","NameId":"Bunyip","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"85","Name":"Bus","NameId":"Bus","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"13","Name":"Chick","NameId":"Chick","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Push the most healthy enemy one space forward."},{"Level":2,"About":"Start of battle: Push the most healthy enemy two spaces forward."},{"Level":3,"About":"Start of battle: Push the most healthy enemy three spaces forward."}],"Id":"541","Name":"Chihuahua","NameId":"Chihuahua","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Summon one 2/2 level 1 Loyal Chinchilla."},{"Level":2,"About":"Sell: Summon one 4/4 level 2 Loyal Chinchilla."},{"Level":3,"About":"Sell: Summon one 6/6 level 3 Loyal Chinchilla."}],"Id":"161","Name":"Chinchilla","NameId":"Chinchilla","Tier":1,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Stock one free copy of this pet\'s food perk."},{"Level":2,"About":"Sell: Stock two free copies of this pet\'s food perk."},{"Level":3,"About":"Sell: Stock three free copies of this pet\'s food perk."}],"Id":"184","Name":"Chipmunk","NameId":"Chipmunk","Tier":1,"TierMax":2147483647,"Packs":["Pack2","Pack4"],"PacksRequired":["Pack2","Pack4"],"Rollable":true,"CustomArchetypes":["Perks","Mvp"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Cockroach and give it +1 experience."},{"Level":2,"About":"Faint: Summon one 1/1 Cockroach and give it +2 experience."},{"Level":3,"About":"Faint: Summon one 1/1 Cockroach and give it +3 experience."}],"Id":"18","Name":"Cockroach","NameId":"Cockroach","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels","Summon"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend behind +2 health."},{"Level":2,"About":"Start of battle: Give the nearest friend behind +4 health."},{"Level":3,"About":"Start of battle: Give the nearest friend behind +6 health."}],"Id":"272","Name":"Cone Snail","NameId":"ConeSnail","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Does not provide shop rewards on level-up."},{"Level":2,"About":"Does not provide shop rewards on level-up."},{"Level":3,"About":"Does not provide shop rewards on level-up."}],"Id":"710","Name":"Cooked Roach","NameId":"CockroachToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"647","Name":"Cracked Egg","NameId":"EggLadCracked","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Cricket."},{"Level":2,"About":"Faint: Summon one 2/2 Cricket."},{"Level":3,"About":"Faint: Summon one 3/3 Cricket."}],"Id":"17","Name":"Cricket","NameId":"Cricket","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Attack and health can\'t go over 1."},{"Level":2,"About":"Attack and health can\'t go over 1."},{"Level":3,"About":"Attack and health can\'t go over 1."}],"Id":"788","Name":"Cuckoo Chick","NameId":"CuckooBaby","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Choose one witch toy that breaks after 2 turns."},{"Level":2,"About":"Sell: Choose one witch toy that breaks after 4 turns."},{"Level":3,"About":"Sell: Choose one witch toy that breaks after 6 turns."}],"Id":"611","Name":"Cuddle Toad","NameId":"CuddleToad","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"641","Name":"Daycrawler","NameId":"DayCrawler","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"58","Name":"Dirty Rat","NameId":"RatToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Give shop pets +1 health."},{"Level":2,"About":"Sell: Give shop pets +2 health."},{"Level":3,"About":"Sell: Give shop pets +3 health."}],"Id":"26","Name":"Duck","NameId":"Duck","Tier":1,"TierMax":2147483647,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Give left-most shop pet +2 health."},{"Level":2,"About":"Sell: Give left-most shop pet +4 health."},{"Level":3,"About":"Sell: Give left-most shop pet +6 health."}],"Id":"113","Name":"Duckling","NameId":"BabyDuck","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Remove 1 attack from the first enemy."},{"Level":2,"About":"Faint: Remove 1 attack from the first two enemies."},{"Level":3,"About":"Faint: Remove 1 attack from the first three enemies."}],"Id":"406","Name":"Ethiopian Wolf","NameId":"EthiopianWolf","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Takes 1 less damage. Works 2 times per turn."},{"Level":2,"About":"Takes 2 less damage. Works 2 times per turn."},{"Level":3,"About":"Takes 3 less damage. Works 2 times per turn."}],"Id":"408","Name":"Fan Mussel","NameId":"FanMussel","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Feed one Corncob to the nearest friend behind."},{"Level":2,"About":"Faint: Feed one Corncob to the nearest two friends behind."},{"Level":3,"About":"Faint: Feed one Corncob to the nearest three friends behind."}],"Id":"693","Name":"Farmer Mouse","NameId":"FarmerMouse","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Ferret toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Ferret toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Ferret toy."}],"Id":"172","Name":"Ferret","NameId":"Ferret","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"343","Name":"Fire Pup","NameId":"FirePup","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Deal 1 damage to ALL pets within one space."},{"Level":2,"About":"Faint: Deal 1 damage to ALL pets within two spaces."},{"Level":3,"About":"Faint: Deal 1 damage to ALL pets within three spaces."}],"Id":"548","Name":"Firefly","NameId":"Firefly","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Level-up: Give two friends +1 attack and +1 health."},{"Level":2,"About":"Level-up: Give two friends +2 attack and +2 health."},{"Level":3,"About":"No ability."}],"Id":"32","Name":"Fish","NameId":"Fish","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack and +1 health per Faint friend."},{"Level":2,"About":"Start of battle: Gain +2 attack and +2 health per Faint friend."},{"Level":3,"About":"Start of battle: Gain +3 attack and +3 health per Faint friend."}],"Id":"198","Name":"Frilled Dragon","NameId":"FrilledDragon","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: If both adjacent friends are tier 2 or lower, swap their stats."},{"Level":2,"About":"Sell: If both adjacent friends are tier 4 or lower, swap their stats."},{"Level":3,"About":"Sell: If both adjacent friends are tier 6 or lower, swap their stats."}],"Id":"139","Name":"Frog","NameId":"Frog","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Mvp"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: If you have a toy, gain +2 health."},{"Level":2,"About":"Start of battle: If you have a toy, gain +4 health."},{"Level":3,"About":"Start of battle: If you have a toy, gain +6 health."}],"Id":"229","Name":"Gecko","NameId":"Gecko","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"644","Name":"Giant Eyes Dog","NameId":"GiantEyesDog","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Shop tier upgraded: Give the two nearest pets behind +1 health."},{"Level":2,"About":"Shop tier upgraded: Give the two nearest pets behind +2 health."},{"Level":3,"About":"Shop tier upgraded: Give the two nearest pets behind +3 health."}],"Id":"550","Name":"Gibbon","NameId":"Gibbon","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"648","Name":"Goat","NameId":"ChimeraGoat","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Always there for his friends!"},{"Level":2,"About":"Always there for his friends!"},{"Level":3,"About":"Always there for his friends!"}],"Id":"188","Name":"Golden Retriever","NameId":"GoldenRetriever","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give friends plenty of useful perks!"},{"Level":2,"About":"Start of battle: Give friends silly amounts of useful perks!"},{"Level":3,"About":"Start of battle: Give friends silly amounts of useful perks!"}],"Id":"658","Name":"Good Dog","NameId":"GoodDog","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Remove 1 attack from the first enemy."},{"Level":2,"About":"Start of battle: Remove 2 attack from the first enemy."},{"Level":3,"About":"Start of battle: Remove 3 attack from the first enemy."}],"Id":"232","Name":"Goose","NameId":"Goose","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":7,"Health":13,"Abilities":[{"Level":1,"About":"Summoned: Deal 5 damage to ALL other pets."},{"Level":2,"About":"Summoned: Deal 10 damage to ALL other pets."},{"Level":3,"About":"Summoned: Deal 15 damage to ALL other pets."}],"Id":"335","Name":"Great One","NameId":"Cthulu","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Gain +1 trumpet."},{"Level":2,"About":"Faint: Gain +2 trumpets."},{"Level":3,"About":"Faint: Gain +3 trumpets."}],"Id":"233","Name":"Groundhog","NameId":"Groundhog","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 attack until next turn."},{"Level":2,"About":"Friend summoned: Give it +2 attack until next turn."},{"Level":3,"About":"Friend summoned: Give it +3 attack until next turn."}],"Id":"39","Name":"Horse","NameId":"Horse","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Give Strawberry perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Strawberry perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Strawberry perk to the three nearest friends behind."}],"Id":"138","Name":"Hummingbird","NameId":"Hummingbird","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Perks"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"643","Name":"Head","NameId":"HydraHead","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Friend transformed: Give it +1 to its highest stat until next turn."},{"Level":2,"About":"Friend transformed: Give it +2 to its highest stat until next turn."},{"Level":3,"About":"Friend transformed: Give it +3 to its highest stat until next turn."}],"Id":"417","Name":"Ili Pika","NameId":"IliPika","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Before battle: Transform into ANY useful level 1 pet from tier 1."},{"Level":2,"About":"Before battle: Transform into ANY useful level 1 pet from tier 2."},{"Level":3,"About":"Before battle: Transform into ANY useful level 1 pet from tier 3."}],"Id":"418","Name":"Iriomote Cat","NameId":"IriomoteCat","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Hurt & Sell: Give the back-most friendly Strawberry pet +1 attack."},{"Level":2,"About":"Hurt & Sell: Give the back-most friendly Strawberry pet +2 attack."},{"Level":3,"About":"Hurt & Sell: Give the back-most friendly Strawberry pet +3 attack."}],"Id":"131","Name":"Kiwi","NameId":"Kiwi","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friendly gained perk: Gain +2 attack until next turn."},{"Level":2,"About":"Friendly gained perk: Gain +4 attack until next turn."},{"Level":3,"About":"Friendly gained perk: Gain +6 attack until next turn."}],"Id":"92","Name":"Ladybug","NameId":"Ladybug","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Gain +1 gold next turn."},{"Level":2,"About":"Sell: Gain +2 gold next turn."},{"Level":3,"About":"Sell: Gain +3 gold next turn."}],"Id":"555","Name":"Lemming","NameId":"Lemming","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"650","Name":"Lion","NameId":"ChimeraLion","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"282","Name":"Lizard Tail","NameId":"LizardToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"183","Name":"Loyal Chinchilla","NameId":"ChinchillaToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Spend up to 1 gold and gain it back next turn."},{"Level":2,"About":"End turn: Spend up to 2 gold and gain it back next turn."},{"Level":3,"About":"End turn: Spend up to 3 gold and gain it back next turn."}],"Id":"239","Name":"Magpie","NameId":"Magpie","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Gain +1 health. Works 3 times per turn."},{"Level":2,"About":"Adjacent friend attacked: Gain +2 health. Works 3 times per turn."},{"Level":3,"About":"Adjacent friend attacked: Gain +3 health. Works 3 times per turn."}],"Id":"421","Name":"Malay Tapir","NameId":"MalayTapir","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Your next roll is free."},{"Level":2,"About":"Sell: Your next two rolls are free."},{"Level":3,"About":"Sell: Your next three rolls are free."}],"Id":"204","Name":"Marmoset","NameId":"Marmoset","Tier":1,"TierMax":2147483647,"Packs":["Pack3","Custom"],"PacksRequired":["Pack3","Custom"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Attack for double damage."},{"Level":2,"About":"Attack for triple damage."},{"Level":3,"About":"Attack for quadruple damage."}],"Id":"384","Name":"Monty","NameId":"WhiteKillerRabbit","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Deal 1 damage to one random enemy."},{"Level":2,"About":"Start of battle: Deal 1 damage to two random enemies."},{"Level":3,"About":"Start of battle: Deal 1 damage to three random enemies."}],"Id":"47","Name":"Mosquito","NameId":"Mosquito","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give front-most friendly pet +2 attack."},{"Level":2,"About":"Start of battle: Give front-most friendly pet +4 attack."},{"Level":3,"About":"Start of battle: Give front-most friendly pet +6 attack."}],"Id":"141","Name":"Moth","NameId":"Moth","Tier":1,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Replace shop food with one free Apple."},{"Level":2,"About":"Sell: Replace shop food with one free Better Apple."},{"Level":3,"About":"Sell: Replace shop food with one free Best Apple."}],"Id":"48","Name":"Mouse","NameId":"Mouse","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Friend gained experience: Gain +1 attack until next turn."},{"Level":2,"About":"Friend gained experience: Gain +2 attack until next turn."},{"Level":3,"About":"Friend gained experience: Gain +3 attack until next turn."}],"Id":"362","Name":"Murmel","NameId":"Murloc","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Egg perk has regular effect."},{"Level":2,"About":"Egg perk has double effect."},{"Level":3,"About":"Egg perk has triple effect."}],"Id":"508","Name":"Nest","NameId":"Nest","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: If there are no friendly duplicates, gain +3 attack and +1 health."},{"Level":2,"About":"Start of battle: If there are no friendly duplicates, gain +6 attack and +2 health."},{"Level":3,"About":"Start of battle: If there are no friendly duplicates, gain +9 attack and +3 health."}],"Id":"757","Name":"Nudibranch","NameId":"Nudibranchs","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Give one random Faint pet in the shop +1 attack and +1 health."},{"Level":2,"About":"Sell: Give one random Faint pet in the shop +2 attack and +2 health."},{"Level":3,"About":"Sell: Give one random Faint pet in the shop +3 attack and +3 health."}],"Id":"187","Name":"Opossum","NameId":"Opossum","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Give one random friend +1 health."},{"Level":2,"About":"Buy: Give two random friends +1 health."},{"Level":3,"About":"Buy: Give three random friends +1 health."}],"Id":"51","Name":"Otter","NameId":"Otter","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Make adjacent perk-less pets Spooked."},{"Level":2,"About":"Faint: Make adjacent perk-less pets Spooked with double effect."},{"Level":3,"About":"Faint: Make adjacent perk-less pets Spooked with triple effect."}],"Id":"745","Name":"Peacock Spider","NameId":"PeacockSpider","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Gains mana: Gain 2 bonus mana. Works 2 times per turn."},{"Level":2,"About":"Gains mana: Gain 4 bonus mana. Works 2 times per turn."},{"Level":3,"About":"Gains mana: Gain 6 bonus mana. Works 2 times per turn."}],"Id":"627","Name":"Pengobble","NameId":"Pengobble","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Friend summoned: Give it the Strawberry perk until next turn. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Give it the Strawberry perk until next turn. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Give it the Strawberry perk until next turn. Works 3 times per turn."}],"Id":"558","Name":"Pheasant","NameId":"Pheasant","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Perks"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Spend 1 trumpet to deal 3 damage to one random enemy."},{"Level":2,"About":"Faint: Spend 1 trumpet to deal 3 damage to two random enemies."},{"Level":3,"About":"Faint: Spend 1 trumpet to deal 3 damage to three random enemies."}],"Id":"251","Name":"Pied Tamarin","NameId":"PiedTamarin","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"],"Random":true},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Sell: Gain +1 gold."},{"Level":2,"About":"Sell: Gain +2 gold."},{"Level":3,"About":"Sell: Gain +3 gold."}],"Id":"59","Name":"Pig","NameId":"Pig","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Sell: Stock one free Bread Crumbs."},{"Level":2,"About":"Sell: Stock two free Bread Crumbs."},{"Level":3,"About":"Sell: Stock three free Bread Crumbs."}],"Id":"559","Name":"Pigeon","NameId":"Pigeon","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Stock one free Sleeping Pill."},{"Level":2,"About":"Sell: Stock two free Sleeping Pills."},{"Level":3,"About":"Sell: Stock three free Sleeping Pills."}],"Id":"149","Name":"Pillbug","NameId":"Pillbug","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give three random friends +1 attack and +1 health and remove this."},{"Level":2,"About":"Start of battle: Give three random friends +2 attack and +2 health and remove this."},{"Level":3,"About":"Start of battle: Give three random friends +3 attack and +3 health and remove this."}],"Id":"761","Name":"Pygmy Seahorse","NameId":"PygmySeahorse","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Cycle"],"Random":true},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Choose one tier 1 food to stock at 1 gold."},{"Level":2,"About":"Sell: Choose one tier 1 food to stock at 1 gold. Stock two copies."},{"Level":3,"About":"Sell: Choose one tier 1 food to stock at 1 gold. Stock three copies."}],"Id":"704","Name":"Quoll","NameId":"Quoll","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Food","Perks"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"62","Name":"Ram","NameId":"Ram","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"638","Name":"Rock","NameId":"Rock","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Friend ahead hurt: Give it +1 health. Works 2 times per turn."},{"Level":2,"About":"Friend ahead hurt: Give it +2 health. Works 2 times per turn."},{"Level":3,"About":"Friend ahead hurt: Give it +3 health. Works 2 times per turn."}],"Id":"260","Name":"Silkmoth","NameId":"Silkmoth","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Sells for +2 gold extra, but lose 1 next turn."},{"Level":2,"About":"Sell: Sells for +4 gold extra, but lose 2 next turn."},{"Level":3,"About":"Sell: Sells for +6 gold extra, but lose 3 next turn."}],"Id":"566","Name":"Silverfish","NameId":"Silverfish","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Has no special ability. Is kind of lame combat-wise. But he truly believes in you!"},{"Level":2,"About":"Has no special ability. Is kind of lame combat-wise. But he truly believes in you!"},{"Level":3,"About":"Has no special ability. Is kind of lame combat-wise. But he truly believes in you!"}],"Id":"71","Name":"Sloth","NameId":"Sloth","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"642","Name":"Smaller Slime","NameId":"SmallerSlime","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Smallest Slug."},{"Level":2,"About":"Faint: Summon one 2/2 Smallest Slug."},{"Level":3,"About":"Faint: Summon one 3/3 Smallest Slug."}],"Id":"270","Name":"Smaller Slug","NameId":"SlugToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"477","Name":"Smallest Slug","NameId":"SlugToken2","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"649","Name":"Snake","NameId":"ChimeraSnake","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Faint and summon one 4/2 Cracked Egg."},{"Level":2,"About":"Start of battle: Faint and summon one 8/4 Cracked Egg."},{"Level":3,"About":"Start of battle: Faint and summon one 12/6 Cracked Egg."}],"Id":"617","Name":"Sneaky Egg","NameId":"EggLadCovered","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Set attack to the current shop tier + 1."},{"Level":2,"About":"Start of turn: Set attack to the current shop tier + 2."},{"Level":3,"About":"Start of turn: Set attack to the current shop tier + 3."}],"Id":"571","Name":"Termite","NameId":"Termite","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give one random enemy +1 health."},{"Level":2,"About":"Faint: Give one random enemy +1 health."},{"Level":3,"About":"Faint: Give one random enemy +1 health."}],"Id":"713","Name":"Togian Babirusa","NameId":"TogianBabirusa","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Sell: Stock one free Seed Pile."},{"Level":2,"About":"Sell: Stock two free Seed Pile."},{"Level":3,"About":"Sell: Stock three free Seed Pile."}],"Id":"438","Name":"Tooth Billed Pigeon","NameId":"ToothBilledPigeon","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Jump to the front space and gain +1 experience."},{"Level":2,"About":"Start of battle: Jump to the front space and gain +2 experience."},{"Level":3,"About":"Start of battle: Jump to the front space and gain +3 experience."}],"Id":"379","Name":"Tsuchinoko","NameId":"Tsuchinoko","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Guard"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Make the nearest friend ahead Dazed."},{"Level":2,"About":"End turn: Make the two nearest friends ahead Dazed."},{"Level":3,"About":"End turn: Make the three nearest friends ahead Dazed."}],"Id":"746","Name":"Umbrella Bird","NameId":"LongWattledUmbrellabird","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"PerkNote":"Prevent ability from activating.","CustomArchetypes":["Ailments"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Make one random perk-less enemy Toasty."},{"Level":2,"About":"Faint: Make two random perk-less enemies Toasty."},{"Level":3,"About":"Faint: Make three random perk-less enemies Toasty."}],"Id":"440","Name":"Volcano Snail","NameId":"VolcanoSnail","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friendly ate food: Give them +1 attack until next turn. Works 3 times per turn."},{"Level":2,"About":"Friendly ate food: Give them +2 attack until next turn. Works 3 times per turn."},{"Level":3,"About":"Friendly ate food: Give them +3 attack until next turn. Works 3 times per turn."}],"Id":"708","Name":"Weevil","NameId":"Weevil","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"646","Name":"Young Phoenix","NameId":"BabyPhoenix","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"86","Name":"Zombie Cricket","NameId":"CricketToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"31","Name":"Zombie Fly","NameId":"FlyToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Give three random friends +1 attack."},{"Level":2,"About":"Buy: Give three random friends +2 attack."},{"Level":3,"About":"Buy: Give three random friends +3 attack."}],"Id":"210","Name":"African Penguin","NameId":"AfricanPenguin","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Replace shop food with three random food and discount them by 1 gold."},{"Level":2,"About":"Sell: Replace shop food with three random food and discount them by 2 gold."},{"Level":3,"About":"Sell: Replace shop food with three random food and discount them by 3 gold."}],"Id":"686","Name":"Albino Squirrel","NameId":"AlbinoSquirrel","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give the nearest friend ahead +1 attack on odd turns and +1 health on even."},{"Level":2,"About":"End turn: Give the nearest friend ahead +2 attack on odd turns and +2 health on even."},{"Level":3,"About":"End turn: Give the nearest friend ahead +3 attack on odd turns and +3 health on even."}],"Id":"811","Name":"Amphisbaena","NameId":"Amphisbaena","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Really angry!"},{"Level":2,"About":"Really angry!"},{"Level":3,"About":"Really angry!"}],"Id":"821","Name":"Angry Pygmy Hog","NameId":"AngryPygmyHog","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friend jumped or transformed: Gain +3 health until next turn. Works 2 times per turn."},{"Level":2,"About":"Friend jumped or transformed: Gain +6 health until next turn. Works 2 times per turn."},{"Level":3,"About":"Friend jumped or transformed: Gain +9 health until next turn. Works 2 times per turn."}],"Id":"394","Name":"Araripe Manakin","NameId":"AraripeManakin","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Guard"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Friendly attacked: Remove its Strawberry perk to deal 2 damage to the last enemy."},{"Level":2,"About":"Friendly attacked: Remove its Strawberry perk to deal 4 damage to the last enemy."},{"Level":3,"About":"Friendly attacked: Remove its Strawberry perk to deal 6 damage to the last enemy."}],"Id":"132","Name":"Atlantic Puffin","NameId":"AtlanticPuffin","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint & Sell: Give one level 2 <b>Sell</b> friend +1 experience."},{"Level":2,"About":"Faint & Sell: Give one level 2 <b>Sell</b> friend +2 experience."},{"Level":3,"About":"Faint & Sell: Give one level 2 <b>Sell</b> friend +3 experience."}],"Id":"537","Name":"Bass","NameId":"Bass","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Before attack: Make one random enemy Weak. Works 1 time per battle."},{"Level":2,"About":"Before attack: Make one random enemy Weak. Works 2 times per battle."},{"Level":3,"About":"Before attack: Make one random enemy Weak. Works 3 times per battle."}],"Id":"87","Name":"Bat","NameId":"Bat","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments"],"Random":true},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/3 Dolphin in the back and give it Rice."},{"Level":2,"About":"Faint: Summon two 2/3 Dolphins in the back and give them Rice."},{"Level":3,"About":"Faint: Summon three 2/3 Dolphins in the back and give them Rice."}],"Id":"213","Name":"Beluga Sturgeon","NameId":"BelugaSturgeon","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Sell for +2 gold.","CustomArchetypes":["Summon"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Gain one free roll next turn."},{"Level":2,"About":"Faint: Gain two free rolls next turn."},{"Level":3,"About":"Faint: Gain three free rolls next turn."}],"Id":"334","Name":"Bigfoot","NameId":"Bigfoot","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend lost perk: Give it Garlic. Works 1 time per turn."},{"Level":2,"About":"Friend lost perk: Give it Garlic. Works 2 times per turn."},{"Level":3,"About":"Friend lost perk: Give it Garlic. Works 3 times per turn."}],"Id":"758","Name":"Bilby","NameId":"Bilby","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Takes 2 less damage.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Gain +2 trumpets."},{"Level":2,"About":"Faint: Gain +4 trumpets."},{"Level":3,"About":"Faint: Gain +6 trumpets."}],"Id":"215","Name":"Black Necked Stilt","NameId":"BlackNeckedStilt","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Knock out: Give +1 health to one random friend. Triggers 2 times."},{"Level":2,"About":"Knock out: Give +1 health to one random friend. Triggers 4 times."},{"Level":3,"About":"Knock out: Give +1 health to one random friend. Triggers 6 times."}],"Id":"339","Name":"Chupacabra","NameId":"Chupacabra","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain health equal to 25% of the most healthy friend."},{"Level":2,"About":"Start of battle: Gain health equal to 50% of the most healthy friend."},{"Level":3,"About":"Start of battle: Gain health equal to 75% of the most healthy friend."}],"Id":"16","Name":"Crab","NameId":"Crab","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Enemy hurt: Jump-attack it, or the first enemy. Works 1 time per battle."},{"Level":2,"About":"Enemy hurt: Jump-attack it, or the first enemy. Works 2 times per battle."},{"Level":3,"About":"Enemy hurt: Jump-attack it, or the first enemy. Works 3 times per battle."}],"Id":"404","Name":"Darwin\'s Fox","NameId":"DarwinsFox","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Before attack: Spend 1 trumpet to transform into a level 1 <b>Faint</b> pet from one tier above."},{"Level":2,"About":"Before attack: Spend 1 trumpet to transform into a level 1 <b>Faint</b> pet from two tiers above."},{"Level":3,"About":"Before attack: Spend 1 trumpet to transform into a level 1 <b>Faint</b> pet from three tiers above."}],"Id":"768","Name":"Desert Rain Frog","NameId":"DesertRainFrog","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and gain +4 health in battle."},{"Level":2,"About":"Empty front space: Jump to the front and gain +8 health in battle."},{"Level":3,"About":"Empty front space: Jump to the front and gain +12 health in battle."}],"Id":"220","Name":"Door Head Ant","NameId":"DoorHeadAnt","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Activate three friendly Strawberries."},{"Level":2,"About":"Faint: Activate three friendly Strawberries with double effect."},{"Level":3,"About":"Faint: Activate three friendly Strawberries with triple effect."}],"Id":"24","Name":"Dove","NameId":"Dove","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Give the two left-most shop pets +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give the two left-most shop pets +2 attack and +2 health."},{"Level":3,"About":"Start of turn: Give the two left-most shop pets +3 attack and +3 health."}],"Id":"104","Name":"Dromedary","NameId":"Dromedary","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and deal 3 damage to the last enemy in battle."},{"Level":2,"About":"Empty front space: Jump to the front and deal 6 damage to the last enemy in battle."},{"Level":3,"About":"Empty front space: Jump to the front and deal 9 damage to the last enemy in battle."}],"Id":"341","Name":"Drop Bear","NameId":"DropBear","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Roll 3 times: Stock ANY food from the 3 last unlocked tiers and discount it by 1 gold."},{"Level":2,"About":"Roll 3 times: Stock ANY food from the 3 last unlocked tiers and discount it by 2 gold."},{"Level":3,"About":"Roll 3 times: Stock ANY food from the 3 last unlocked tiers and discount it by 3 gold."}],"Id":"545","Name":"Dumbo Octopus","NameId":"DumboOctopus","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Deal 3 damage to the least healthy enemy for each food eaten this turn, up to 3 food."},{"Level":2,"About":"Faint: Deal 6 damage to the least healthy enemy for each food eaten this turn, up to 3 food."},{"Level":3,"About":"Faint: Deal 9 damage to the least healthy enemy for each food eaten this turn, up to 3 food."}],"Id":"721","Name":"Dung Beetle","NameId":"DungBeetle","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption","Food"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Give adjacent friends +1 attack. Works 5 times per turn."},{"Level":2,"About":"Adjacent friend attacked: Give adjacent friends +2 attack. Works 5 times per turn."},{"Level":3,"About":"Adjacent friend attacked: Give adjacent friends +3 attack. Works 5 times per turn."}],"Id":"407","Name":"European Mink","NameId":"EuropeanMink","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Feed one Corncob to the nearest friend ahead."},{"Level":2,"About":"End turn: Feed one Corncob to the nearest two friends ahead."},{"Level":3,"About":"End turn: Feed one Corncob to the nearest three friends ahead."}],"Id":"690","Name":"Farmer Chicken","NameId":"FarmerChicken","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Give the two nearest friends behind +1 attack and +1 health."},{"Level":2,"About":"Faint: Give the two nearest friends behind +2 attack and +2 health."},{"Level":3,"About":"Faint: Give the two nearest friends behind +3 attack and +3 health."}],"Id":"29","Name":"Flamingo","NameId":"Flamingo","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Friend gained ailment: Give it Rice. Works 1 time per turn."},{"Level":2,"About":"Friend gained ailment: Give it Rice. Works 2 times per turn."},{"Level":3,"About":"Friend gained ailment: Give it Rice. Works 3 times per turn."}],"Id":"137","Name":"Frigatebird","NameId":"Frigatebird","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Sell for +2 gold.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Make the first enemy Cold."},{"Level":2,"About":"Faint: Make the first enemy Cold twice for double effect."},{"Level":3,"About":"Faint: Make the first enemy Cold thrice for triple effect."}],"Id":"344","Name":"Frost Wolf","NameId":"FrostWolf","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take +5 damage, once.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give Blueberry perk to the opposite enemy and deal 2 damage to it."},{"Level":2,"About":"Start of battle: Give Blueberry perk to the opposite enemy and deal 4 damage to it."},{"Level":3,"About":"Start of battle: Give Blueberry perk to the opposite enemy and deal 6 damage to it."}],"Id":"695","Name":"Fruit Fly","NameId":"FruitFly","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give the nearest friend behind +2 health. Spend mana to give 1 more per mana."},{"Level":2,"About":"Faint: Give the nearest friend behind +4 health. Spend mana to give 2 more per mana."},{"Level":3,"About":"Faint: Give the nearest friend behind +6 health. Spend mana to give 3 more per mana."}],"Id":"345","Name":"Gargoyle","NameId":"Gargoyle","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Takes 3 less damage from abilities."},{"Level":2,"About":"Takes 6 less damage from abilities."},{"Level":3,"About":"Takes 9 less damage from abilities."}],"Id":"346","Name":"Ghost Kitten","NameId":"GhostKitten","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"After attack: Copy perk to the back-most pets from BOTH teams. Works 1 time per battle."},{"Level":2,"About":"After attack: Copy perk to the back-most pets from BOTH teams. Works 2 times per battle."},{"Level":3,"About":"After attack: Copy perk to the back-most pets from BOTH teams. Works 3 times per battle."}],"Id":"800","Name":"Giant Squirrel","NameId":"GiantSquirrel","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Increase sell value by 1 gold."},{"Level":2,"About":"Start of turn: Increase sell value by 2 gold."},{"Level":3,"About":"Start of turn: Increase sell value by 3 gold."}],"Id":"121","Name":"Gold Fish","NameId":"GoldFish","Tier":2,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Gain +1 gold. Triple if attack is at least 10."},{"Level":2,"About":"Sell: Gain +2 gold. Triple if attack is at least 10."},{"Level":3,"About":"Sell: Gain +3 gold. Triple if attack is at least 10."}],"Id":"634","Name":"Golden Beetle","NameId":"DwarvenBeetle","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Cycle","Gold"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Summon one 1/1 Guinea Pig."},{"Level":2,"About":"Buy: Summon one 2/2 Guinea Pig."},{"Level":3,"About":"Buy: Summon one 3/3 Guinea Pig."}],"Id":"109","Name":"Guinea Pig","NameId":"GuineaPig","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Deal 2 damage to ALL pets."},{"Level":2,"About":"Faint: Deal 4 damage to ALL pets."},{"Level":3,"About":"Faint: Deal 6 damage to ALL pets."}],"Id":"37","Name":"Hedgehog","NameId":"Hedgehog","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Sell: Give friends +1 attack for each battle this has fought evenly spread."},{"Level":2,"About":"Sell: Give friends +2 attack for each battle this has fought evenly spread."},{"Level":3,"About":"Sell: Give friends +3 attack for each battle this has fought evenly spread."}],"Id":"234","Name":"Hercules Beetle","NameId":"HerculesBeetle","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: If current perk is tier 2 or lower, copy it to the Golden Retriever when summoned."},{"Level":2,"About":"Start of battle: If current perk is tier 4 or lower, copy it to the Golden Retriever when summoned."},{"Level":3,"About":"Start of battle: If current perk is tier 6 or lower, copy it to the Golden Retriever when summoned."}],"Id":"783","Name":"Hermit Crab","NameId":"HermitCrab","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 trumpet for one friend of each tier."},{"Level":2,"About":"Start of battle: Gain +2 trumpets for one friend of each tier."},{"Level":3,"About":"Start of battle: Gain +3 trumpets for one friend of each tier."}],"Id":"726","Name":"Honduran White Bat","NameId":"HonduranWhiteBat","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Enemy summoned or pushed: Deal 2 damage to it."},{"Level":2,"About":"Enemy summoned or pushed: Deal 4 damage to it."},{"Level":3,"About":"Enemy summoned or pushed: Deal 6 damage to it."}],"Id":"147","Name":"Iguana","NameId":"Iguana","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it +1 attack. Double if it jumped. Works 3 times per battle."},{"Level":2,"About":"Before friend attacks: Give it +2 attack. Double if it jumped. Works 3 times per battle."},{"Level":3,"About":"Before friend attacks: Give it +3 attack. Double if it jumped. Works 3 times per battle."}],"Id":"353","Name":"Jackalope","NameId":"Jackalope","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friend level-up: Gain +1 attack and +1 health."},{"Level":2,"About":"Friend level-up: Gain +2 attack and +2 health."},{"Level":3,"About":"Friend level-up: Gain +3 attack and +3 health."}],"Id":"122","Name":"Jellyfish","NameId":"Jellyfish","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Gain +1 attack and +1 health."},{"Level":2,"About":"Friend ahead attacks: Gain +2 attack and +2 health."},{"Level":3,"About":"Friend ahead attacks: Gain +3 attack and +3 health."}],"Id":"40","Name":"Kangaroo","NameId":"Kangaroo","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Friend hurt: Give it the Eucalyptus perk. Works 1 time per turn."},{"Level":2,"About":"Friend hurt: Give it the Eucalyptus perk. Works 2 times per turn."},{"Level":3,"About":"Friend hurt: Give it the Eucalyptus perk. Works 3 times per turn."}],"Id":"112","Name":"Koala","NameId":"Koala","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Block 4 enemy damage, once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Lemur toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Lemur toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Lemur toy."}],"Id":"236","Name":"Lemur","NameId":"Lemur","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Hurt: Summon one 3/1 Lizard Tail. Works 2 times per turn."},{"Level":2,"About":"Hurt: Summon one 6/2 Lizard Tail. Works 2 times per turn."},{"Level":3,"About":"Hurt: Summon one 9/3 Lizard Tail. Works 2 times per turn."}],"Id":"237","Name":"Lizard","NameId":"Lizard","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Before attack: Replace own ailment with +2 attack and +2 health."},{"Level":2,"About":"Before attack: Replace own ailment with +4 attack and +4 health."},{"Level":3,"About":"Before attack: Replace own ailment with +6 attack and +6 health."}],"Id":"724","Name":"Mandarinfish","NameId":"Mandarinfish","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Break friendly tier 2 or lower toy."},{"Level":2,"About":"Faint: Break friendly tier 4 or lower toy."},{"Level":3,"About":"Faint: Break friendly tier 6 or lower toy."}],"Id":"405","Name":"Mandrill","NameId":"Drill","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give adjacent friends +1 attack for every 4 gold spent this turn."},{"Level":2,"About":"Start of battle: Give adjacent friends +2 attack for every 4 gold spent this turn."},{"Level":3,"About":"Start of battle: Give adjacent friends +3 attack for every 4 gold spent this turn."}],"Id":"203","Name":"Meerkat","NameId":"Meerkat","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Gain ANY useful perk from the previous tier."},{"Level":2,"About":"Start of battle: Gain ANY useful perk from the previous tier with double effect."},{"Level":3,"About":"Start of battle: Gain ANY useful perk from the previous tier with triple effect."}],"Id":"700","Name":"Mink","NameId":"Mink","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Anyone gained ailment: Gain +1 attack and +1 health until next turn. Works 5 times per turn."},{"Level":2,"About":"Anyone gained ailment: Gain +2 attack and +2 health until next turn. Works 5 times per turn."},{"Level":3,"About":"Anyone gained ailment: Gain +3 attack and +3 health until next turn. Works 5 times per turn."}],"Id":"604","Name":"Mothman","NameId":"Mothman","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Summon one Crawler with 3 attack, and +1 health for each friend summoned this turn."},{"Level":2,"About":"Faint: Summon one Crawler with 6 attack, and +2 health for each friend summoned this turn."},{"Level":3,"About":"Faint: Summon one Crawler with 9 attack, and +3 health for each friend summoned this turn."}],"Id":"605","Name":"Nightcrawler","NameId":"NightCrawler","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend +1 experience."},{"Level":2,"About":"Start of battle: Give the two front-most friends +1 experience."},{"Level":3,"About":"Start of battle: Give the three front-most friends +1 experience."}],"Id":"639","Name":"Ogopogo","NameId":"Ogopogo","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Make one random enemy Spooked and multiply the effect once for each roll this turn."},{"Level":2,"About":"Faint: Make one random enemy Spooked and multiply the effect twice for each roll this turn."},{"Level":3,"About":"Faint: Make one random enemy Spooked and multiply the effect thrice for each roll this turn."}],"Id":"725","Name":"Olm","NameId":"Olm","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments","Roll"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Faint to give 50% attack and health to the nearest friend ahead."},{"Level":2,"About":"Start of battle: Faint to give 100% attack and health to the nearest friend ahead."},{"Level":3,"About":"Start of battle: Faint to give 150% attack and health to the nearest friend ahead."}],"Id":"107","Name":"Panda","NameId":"Panda","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Hurt: Gain +3 attack."},{"Level":2,"About":"Hurt: Gain +6 attack."},{"Level":3,"About":"Hurt: Gain +9 attack."}],"Id":"54","Name":"Peacock","NameId":"Peacock","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Activate <b>End Turn</b> on one random tier 2 or lower friend."},{"Level":2,"About":"Faint: Activate <b>End Turn</b> on one random tier 4 or lower friend."},{"Level":3,"About":"Faint: Activate <b>End Turn</b> on one random tier 6 or lower friend."}],"Id":"732","Name":"Pink Robin","NameId":"PinkRobin","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Transform the nearest friend ahead into another pet from the same tier."},{"Level":2,"About":"Start of turn: Transform the nearest two friends ahead into other pets from the same tier."},{"Level":3,"About":"Start of turn: Transform the nearest three friends ahead into other pets from the same tier."}],"Id":"425","Name":"Proboscis Monkey","NameId":"ProboscisMonkey","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Five enemy attacks: Transform into an Angry Hog with Garlic and at least 5 attack and health."},{"Level":2,"About":"Five enemy attacks: Transform into an Angry Hog with Garlic and at least 10 attack and health."},{"Level":3,"About":"Five enemy attacks: Transform into an Angry Hog with Garlic and at least 15 attack and health."}],"Id":"427","Name":"Pygmy Hog","NameId":"PygmyHog","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Takes 2 less damage.","CustomArchetypes":["Transform","Summon"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Dirty Rat up front for the opponent.","FinePrint":"Doesn\'t trigger any summon abilities."},{"Level":2,"About":"Faint: Summon two 1/1 Dirty Rats up front for the opponent.","FinePrint":"Doesn\'t trigger any summon abilities."},{"Level":3,"About":"Faint: Summon three 1/1 Dirty Rats up front for the opponent.","FinePrint":"Doesn\'t trigger any summon abilities."}],"Id":"57","Name":"Rat","NameId":"Rat","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give Strawberry perk and +2 attack to the nearest friend ahead."},{"Level":2,"About":"Start of battle: Give Strawberry perk and +2 attack to the two nearest friends ahead."},{"Level":3,"About":"Start of battle: Give Strawberry perk and +2 attack to the three nearest friends ahead."}],"Id":"765","Name":"Roadrunner","NameId":"Roadrunner","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Faint: Give the back-most friend +1 attack and +1 health.","CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 2/3 level 1 Nest and give it Egg perk."},{"Level":2,"About":"Start of battle: Summon one 4/6 level 2 Nest and give it Egg perk."},{"Level":3,"About":"Start of battle: Summon one 6/9 level 3 Nest and give it Egg perk."}],"Id":"255","Name":"Robin","NameId":"Robin","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Before attack: Deal 2 damage to target, once.","CustomArchetypes":["Cycle"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Before attack: If outnumbered, gain +2 attack and +2 health. Works 3 times per turn."},{"Level":2,"About":"Before attack: If outnumbered, gain +4 attack and +4 health. Works 3 times per turn."},{"Level":3,"About":"Before attack: If outnumbered, gain +6 attack and +6 health. Works 3 times per turn."}],"Id":"430","Name":"Saker Falcon","NameId":"SakerFalcon","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack and +1 health for each level of each Sell friend."},{"Level":2,"About":"Start of battle: Gain +2 attack and +2 health for each level of each Sell friend."},{"Level":3,"About":"Start of battle: Gain +3 attack and +3 health for each level of each Sell friend."}],"Id":"164","Name":"Salamander","NameId":"Salamander","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give the highest attack friend -1 attack and +2 health."},{"Level":2,"About":"End turn: Give the two highest attack friends -1 attack and +2 health."},{"Level":3,"About":"End turn: Give the three highest attack friends -1 attack and +2 health."}],"Id":"431","Name":"Saola","NameId":"Saola","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +2 health until next turn."},{"Level":2,"About":"Friend summoned: Give it +4 health until next turn."},{"Level":3,"About":"Friend summoned: Give it +6 health until next turn."}],"Id":"191","Name":"Sea Turtle","NameId":"SeaTurtle","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Remove 5 health from the first enemy."},{"Level":2,"About":"Faint: Remove 5 health from the first two enemies."},{"Level":3,"About":"Faint: Remove 5 health from the first three enemies."}],"Id":"258","Name":"Sea Urchin","NameId":"SeaUrchin","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Push the last enemy one space forward."},{"Level":2,"About":"Start of battle: Push the last enemy two spaces forward."},{"Level":3,"About":"Start of battle: Push the last enemy three spaces forward."}],"Id":"152","Name":"Seahorse","NameId":"Seahorse","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Friend faints: If it had a Strawberry, summon one 2/2 friend in its place. Works 2 times per turn."},{"Level":2,"About":"Friend faints: If it had a Strawberry, summon one 4/4 friend in its place. Works 2 times per turn."},{"Level":3,"About":"Friend faints: If it had a Strawberry, summon one 6/6 friend in its place. Works 2 times per turn."}],"Id":"803","Name":"Shima Enaga","NameId":"ShimaEnaga","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friend sold: Give one random friend +1 health. Works 3 times per turn."},{"Level":2,"About":"Friend sold: Give one random friend +2 health. Works 3 times per turn."},{"Level":3,"About":"Friend sold: Give one random friend +3 health. Works 3 times per turn."}],"Id":"67","Name":"Shrimp","NameId":"Shrimp","Tier":2,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Cycle"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: If you lost last battle, give the three nearest friends ahead +1 attack."},{"Level":2,"About":"End turn: If you lost last battle, give the three nearest friends ahead +2 attack."},{"Level":3,"About":"End turn: If you lost last battle, give the three nearest friends ahead +3 attack."}],"Id":"72","Name":"Snail","NameId":"Snail","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 adventurous toy."},{"Level":2,"About":"Buy: Choose one level 2 adventurous toy."},{"Level":3,"About":"Buy: Choose one level 3 adventurous toy."}],"Id":"376","Name":"Sphinx","NameId":"Sphinx","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one tier 3 pet as a 2/2 level 1."},{"Level":2,"About":"Faint: Summon one tier 3 pet as a 4/4 level 2."},{"Level":3,"About":"Faint: Summon one tier 3 pet as a 6/6 level 3."}],"Id":"74","Name":"Spider","NameId":"Spider","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon","Mvp","Mvp"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Stock one random canned ailment."},{"Level":2,"About":"Start of turn: Stock two random canned ailments to choose from."},{"Level":3,"About":"Start of turn: Stock three random canned ailments to choose from."}],"Id":"735","Name":"Spotted Handfish","NameId":"SpottedHandfish","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Spend 1 trumpet to make the first enemy Inked."},{"Level":2,"About":"Faint: Spend 1 trumpet to make the two first enemies Inked."},{"Level":3,"About":"Faint: Spend 1 trumpet to make the three first enemies Inked."}],"Id":"177","Name":"Squid","NameId":"Squid","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":["Trumpets"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Summon one level 1 pet from your current tier as a 1/1."},{"Level":2,"About":"Sell: Summon one level 2 pet from your current tier as a 1/1."},{"Level":3,"About":"Sell: Summon one level 3 pet from your current tier as a 1/1."}],"Id":"263","Name":"Stoat","NameId":"Stoat","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle","Mvp"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Summon ANY one level 1 pet from the previous shop tier as a 2/2."},{"Level":2,"About":"Faint: Summon ANY one level 2 pet from the previous shop tier as a 4/4."},{"Level":3,"About":"Faint: Summon ANY one level 3 pet from the previous shop tier as a 6/6."}],"Id":"136","Name":"Stork","NameId":"Stork","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Gain +1 gold."},{"Level":2,"About":"Start of turn: Gain +2 gold."},{"Level":3,"About":"Start of turn: Gain +3 gold."}],"Id":"76","Name":"Swan","NameId":"Swan","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friendly gained perk: Give two random friends +1 health until next turn."},{"Level":2,"About":"Friendly gained perk: Give two random friends +2 health until next turn."},{"Level":3,"About":"Friendly gained perk: Give two random friends +3 health until next turn."}],"Id":"99","Name":"Tabby Cat","NameId":"TabbyCat","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Transform into a level 1 Frog and gain +2 experience."},{"Level":2,"About":"Start of battle: Transform into a level 1 Frog and gain +4 experience."},{"Level":3,"About":"Start of battle: Transform into a level 1 Frog and gain +6 experience."}],"Id":"805","Name":"Tadpole","NameId":"Tadpole","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Transform","Levels"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Transform into a level 1 Weasel."},{"Level":2,"About":"Start of battle: Transform into a level 2 Weasel."},{"Level":3,"About":"Start of battle: Transform into a level 3 Weasel."}],"Id":"435","Name":"Taita Shrew","NameId":"TaitaShrew","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Gold"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/2 African Wild Dog that jump-attacks the second enemy."},{"Level":2,"About":"Faint: Summon one 6/4 African Wild Dog that jump-attacks the second enemy."},{"Level":3,"About":"Faint: Summon one 9/6 African Wild Dog that jump-attacks the second enemy."}],"Id":"715","Name":"Takhi","NameId":"Takhi","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Deal 3 damage to one random enemy and prioritize those with ailments."},{"Level":2,"About":"Faint: Deal 6 damage to one random enemy and prioritize those with ailments."},{"Level":3,"About":"Faint: Deal 9 damage to one random enemy and prioritize those with ailments."}],"Id":"731","Name":"Thorny Dragon","NameId":"ThornyDragon","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the second nearest friend ahead +3 mana."},{"Level":2,"About":"Start of battle: Give the second nearest friend ahead +6 mana."},{"Level":3,"About":"Start of battle: Give the second nearest friend ahead +9 mana."}],"Id":"610","Name":"Thunderbird","NameId":"Thunderbird","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Summon one level 1 Microwave Oven."},{"Level":2,"About":"Start of turn: Summon one level 2 Microwave Oven."},{"Level":3,"About":"Start of turn: Summon one level 3 Microwave Oven."}],"Id":"707","Name":"Vervet","NameId":"Vervet","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Toys","Summon"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Gains mana: Deal 1 damage to one random enemy. Triple on the first trigger each battle."},{"Level":2,"About":"Gains mana: Deal 2 damage to one random enemy. Triple on the first trigger each battle."},{"Level":3,"About":"Gains mana: Deal 3 damage to one random enemy. Triple on the first trigger each battle."}],"Id":"382","Name":"Warf","NameId":"Warg","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"],"Random":true},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give Meat Bone to the friend ahead."},{"Level":2,"About":"Start of battle: Give Meat Bone to the friend ahead with double effect."},{"Level":3,"About":"Start of battle: Give Meat Bone to the friend ahead with triple effect."}],"Id":"441","Name":"White-Bellied Heron","NameId":"WhiteBelliedHeron","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Before attack: Transform into the first <b>Faint</b> enemy at level 1."},{"Level":2,"About":"Before attack: Transform into the first <b>Faint</b> enemy at level 2."},{"Level":3,"About":"Before attack: Transform into the first <b>Faint</b> enemy at level 3."}],"Id":"207","Name":"Wombat","NameId":"Wombat","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Stock one 2-gold Apple."},{"Level":2,"About":"Start of turn: Stock one 2-gold Better Apple."},{"Level":3,"About":"Start of turn: Stock one 2-gold Best Apple."}],"Id":"82","Name":"Worm","NameId":"Worm","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friendly level-up: Gain 1 extra shop reward."},{"Level":2,"About":"Friendly level-up: Gain 2 extra shop reward."},{"Level":3,"About":"Friendly level-up: Gain 3 extra shop reward."}],"Id":"385","Name":"Wyvern","NameId":"Wyvern","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Take 1 damage and gain +2 attack."},{"Level":2,"About":"End turn: Take 2 damage and gain +4 attack."},{"Level":3,"About":"End turn: Take 3 damage and gain +6 attack."}],"Id":"163","Name":"Yak","NameId":"Yak","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Enemy summoned: Gain +1 attack and +3 health."},{"Level":2,"About":"Enemy summoned: Gain +2 attack and +6 health."},{"Level":3,"About":"Enemy summoned: Gain +3 attack and +9 health."}],"Id":"193","Name":"Aardvark","NameId":"Aardvark","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack permanently and jump-attack the highest attack enemy."},{"Level":2,"About":"Start of battle: Gain +2 attack permanently and jump-attack the highest attack enemy."},{"Level":3,"About":"Start of battle: Gain +3 attack permanently and jump-attack the highest attack enemy."}],"Id":"389","Name":"Amami Rabbit","NameId":"AmamiRabbit","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 level 3 Ant."},{"Level":2,"About":"Faint: Summon two 1/1 level 3 Ants."},{"Level":3,"About":"Faint: Summon three 1/1 level 3 Ants."}],"Id":"105","Name":"Anteater","NameId":"Anteater","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Before any attack: If opponent has duplicates, deal 2 damage to all enemies. Works 1 time per battle."},{"Level":2,"About":"Before any attack: If opponent has duplicates, deal 4 damage to all enemies. Works 1 time per battle."},{"Level":3,"About":"Before any attack: If opponent has duplicates, deal 6 damage to all enemies. Works 1 time per battle."}],"Id":"377","Name":"Axehandle Hound","NameId":"AxehandleHound","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Give one random friend from the current or higher shop tier +1 attack and +1 health."},{"Level":2,"About":"End turn: Give one random friend from the current or higher shop tier +2 attack and +2 health."},{"Level":3,"About":"End turn: Give one random friend from the current or higher shop tier +3 attack and +3 health."}],"Id":"171","Name":"Baboon","NameId":"Baboon","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Remove 4 health from the first enemy."},{"Level":2,"About":"Faint: Remove 4 health from the first two enemies."},{"Level":3,"About":"Faint: Remove 4 health from the first three enemies."}],"Id":"822","Name":"Baby Urchin","NameId":"BabySeaUrchin","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":6,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Deal 50% attack damage to adjacent pets."},{"Level":2,"About":"Faint: Deal 100% attack damage to adjacent pets."},{"Level":3,"About":"Faint: Deal 150% attack damage to adjacent pets."}],"Id":"2","Name":"Badger","NameId":"Badger","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"End turn: If you did not roll this turn, gain +1 experience."},{"Level":2,"About":"End turn: If you did not roll this turn, gain +2 experience."},{"Level":3,"About":"End turn: If you did not roll this turn, gain +3 experience."}],"Id":"796","Name":"Barnacle","NameId":"Barnacle","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Levels"],"Random":true},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Transform the nearest pet ahead to Rock with +5 health."},{"Level":2,"About":"Start of battle: Transform the nearest pet ahead to Rock with +5 health. Double on friendly pets."},{"Level":3,"About":"Start of battle: Transform the nearest pet ahead to Rock with +5 health. Triple on friendly pets."}],"Id":"332","Name":"Basilisk","NameId":"Basilisk","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Transform","Disruption"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Honey perk to all pets within one space."},{"Level":2,"About":"Faint: Give Honey perk to all pets within two spaces."},{"Level":3,"About":"Faint: Give Honey perk to all pets within three spaces."}],"Id":"140","Name":"Bear","NameId":"Bear","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Faint: Summon one 1/1 Bee.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Friend lost perk: Give it the Guava perk. Works on one friend per turn."},{"Level":2,"About":"Friend lost perk: Give it the Guava perk. Works on two different friends per turn."},{"Level":3,"About":"Friend lost perk: Give it the Guava perk. Works on three different friends per turn."}],"Id":"214","Name":"Betta Fish","NameId":"BettaFish","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 3 damage, and attack for +3 damage, once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 trumpet for each friend behind and give friends ahead +1 mana."},{"Level":2,"About":"Start of battle: Gain +2 trumpets for each friend behind and give friends ahead +2 mana."},{"Level":3,"About":"Start of battle: Gain +3 trumpets for each friend behind and give friends ahead +3 mana."}],"Id":"728","Name":"Blue Dragon","NameId":"GlaucusAtlanticus","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4","Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Trumpets"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend transformed: If it is ahead, give it +3 attack until next turn. Otherwise give health."},{"Level":2,"About":"Friend transformed: If it is ahead, give it +6 attack until next turn. Otherwise give health."},{"Level":3,"About":"Friend transformed: If it is ahead, give it +9 attack until next turn. Otherwise give health."}],"Id":"400","Name":"Blue-Throated Macaw","NameId":"BlueThroatedMacaw","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and gain +2 attack and Melon perk in battle."},{"Level":2,"About":"Empty front space: Jump to the front and gain +4 attack and Melon perk in battle."},{"Level":3,"About":"Empty front space: Jump to the front and gain +6 attack and Melon perk in battle."}],"Id":"349","Name":"Brain Cramp","NameId":"Headcrab","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Guard","Perks"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Randomly redistribute stats of the highest health enemy."},{"Level":2,"About":"Start of battle: Randomly redistribute stats of the two highest health enemies."},{"Level":3,"About":"Start of battle: Randomly redistribute stats of the three highest health enemies."}],"Id":"798","Name":"Brazillian Treehopper","NameId":"BrazillianTreehopper","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Before friend attacks: Replace 3 mana on it with +2 attack and +2 health."},{"Level":2,"About":"Before friend attacks: Replace 3 mana on it with +4 attack and +4 health."},{"Level":3,"About":"Before friend attacks: Replace 3 mana on it with +6 attack and +6 health."}],"Id":"786","Name":"Caladrius","NameId":"Caladrius","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Spend mana to remove 1 health per mana from the two most healthy enemies."},{"Level":2,"About":"Faint: Spend mana to remove 2 health per mana from the two most healthy enemies."},{"Level":3,"About":"Faint: Spend mana to remove 3 health per mana from the two most healthy enemies."}],"Id":"336","Name":"Calygreyhound","NameId":"Calygreyhound","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Hurt: Give the nearest friend behind +1 attack and +2 health."},{"Level":2,"About":"Hurt: Give the nearest friend behind +2 attack and +4 health."},{"Level":3,"About":"Hurt: Give the nearest friend behind +3 attack and +6 health."}],"Id":"10","Name":"Camel","NameId":"Camel","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Roll & Sell: Give newly rolled shop pets +1 attack and +1 health."},{"Level":2,"About":"Roll & Sell: Give newly rolled shop pets +2 attack and +2 health."},{"Level":3,"About":"Roll & Sell: Give newly rolled shop pets +3 attack and +3 health."}],"Id":"154","Name":"Capybara","NameId":"Capybara","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Copy and stock the nearest perk ahead and discount it by 1 gold.","FinePrint":"Skips over perks from locked tiers."},{"Level":2,"About":"End turn: Copy and stock the nearest perk ahead and discount it by 2 gold.","FinePrint":"Skips over perks from locked tiers."},{"Level":3,"About":"End turn: Copy and stock the nearest perk ahead and discount it by 3 gold.","FinePrint":"Skips over perks from locked tiers."}],"Id":"539","Name":"Cardinal","NameId":"Cardinal","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Friendly gained strawberry: Gain +1 health. Also gain +1 attack until next turn."},{"Level":2,"About":"Friendly gained strawberry: Gain +2 health. Also gain +2 attack until next turn."},{"Level":3,"About":"Friendly gained strawberry: Gain +3 health. Also gain +3 attack until next turn."}],"Id":"133","Name":"Cassowary","NameId":"Cassowary","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Friend bought: Gain +1 attack and +1 health times its tier until next turn. Works 1 time per turn."},{"Level":2,"About":"Friend bought: Gain +2 attack and +2 health times its tier until next turn. Works 1 time per turn."},{"Level":3,"About":"Friend bought: Gain +3 attack and +3 health times its tier until next turn. Works 1 time per turn."}],"Id":"540","Name":"Centipede","NameId":"Centipede","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Knock out the nearest friend ahead and stock one free Bacon."},{"Level":2,"About":"End turn: Knock out the nearest friend ahead and stock two free Bacons."},{"Level":3,"About":"End turn: Knock out the nearest friend ahead and stock three free Bacons."}],"Id":"651","Name":"Deer Lord","NameId":"Wendigo","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mvp"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 5/5 friend if able. Otherwise give friends +1 attack and +1 health."},{"Level":2,"About":"Start of battle: Summon one 10/10 friend if able. Otherwise give friends +2 attack and +2 health."},{"Level":3,"About":"Start of battle: Summon one 15/15 friend if able. Otherwise give friends +3 attack and +3 health."}],"Id":"543","Name":"Dimetrodon","NameId":"Dimetrodon","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give 50% of attack to the nearest friend ahead."},{"Level":2,"About":"Start of battle: Give 100% of attack to the nearest friend ahead."},{"Level":3,"About":"Start of battle: Give 150% of attack to the nearest friend ahead."}],"Id":"21","Name":"Dodo","NameId":"Dodo","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: Gain +2 attack and +1 health until next turn."},{"Level":2,"About":"Friend summoned: Gain +4 attack and +2 health until next turn."},{"Level":3,"About":"Friend summoned: Gain +6 attack and +3 health until next turn."}],"Id":"22","Name":"Dog","NameId":"Dog","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Deal 4 damage to the lowest health enemy."},{"Level":2,"About":"Start of battle: Deal 4 damage to the lowest health enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 4 damage to the lowest health enemy. Triggers 3 times."}],"Id":"23","Name":"Dolphin","NameId":"Dolphin","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give friends that aren\'t from your pack +2 attack and +2 health."},{"Level":2,"About":"Faint: Give friends that aren\'t from your pack +4 attack and +4 health."},{"Level":3,"About":"Faint: Give friends that aren\'t from your pack +6 attack and +6 health."}],"Id":"544","Name":"Dugong","NameId":"Dugong","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Gain +50% health."},{"Level":2,"About":"Start of battle: Gain +100% health."},{"Level":3,"About":"Start of battle: Gain +150% health."}],"Id":"120","Name":"Eel","NameId":"Eel","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"After attack: Deal 1 damage to the nearest friend behind."},{"Level":2,"About":"After attack: Deal 1 damage to the nearest friend behind. Triggers 2 times."},{"Level":3,"About":"After attack: Deal 1 damage to the nearest friend behind. Triggers 3 times."}],"Id":"28","Name":"Elephant","NameId":"Elephant","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Sell: Give 33% attack and health to the leftmost shop pet."},{"Level":2,"About":"Sell: Give 66% attack and health to the leftmost shop pet."},{"Level":3,"About":"Sell: Give 100% attack and health to the leftmost shop pet."}],"Id":"197","Name":"Emperor Tamarin","NameId":"EmperorTamarin","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Feed adjacent friends one Corncob with double effect."},{"Level":2,"About":"Start of battle: Feed adjacent friends two Corncobs with double effect."},{"Level":3,"About":"Start of battle: Feed adjacent friends three Corncobs with double effect."}],"Id":"694","Name":"Farmer Pig","NameId":"FarmerPig","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Make the most healthy enemy Weak."},{"Level":2,"About":"Faint: Make the two most healthy enemies Weak."},{"Level":3,"About":"Faint: Make the three most healthy enemies Weak."}],"Id":"225","Name":"Flea","NameId":"Flea","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments","Mvp"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: If in battle, give it +2 experience. Works 2 times per turn."},{"Level":2,"About":"Friend summoned: If in battle, give it +4 experience. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: If in battle, give it +6 experience. Works 2 times per turn."}],"Id":"226","Name":"Flying Fish","NameId":"FlyingFish","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon","Mvp","Mvp"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friendly toy broke: Gain +2 attack and re-summon the toy at up to level 1."},{"Level":2,"About":"Friendly toy broke: Gain +4 attack and re-summon the toy at up to level 2."},{"Level":3,"About":"Friendly toy broke: Gain +6 attack and re-summon the toy at up to level 3."}],"Id":"227","Name":"Flying Squirrel","NameId":"FlyingSquirrel","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Buy: Give future shop pets from the next tier permanent +2 health."},{"Level":2,"About":"Buy: Give future shop pets from the next tier permanent +4 health."},{"Level":3,"About":"Buy: Give future shop pets from the next tier permanent +6 health."}],"Id":"625","Name":"Foo Dog","NameId":"FuLion","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Rambutan perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Rambutan perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Rambutan perk to the three nearest friends behind."}],"Id":"653","Name":"Fur-Bearing Trout","NameId":"FurBearingTrout","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Before attack: Gain +3 mana.","CustomArchetypes":["Mana","Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Remove the highest tier perk from one enemy."},{"Level":2,"About":"Start of battle: Remove the highest tier perks from two enemies."},{"Level":3,"About":"Start of battle: Remove the highest tier perks from three enemies."}],"Id":"740","Name":"Gerenuk","NameId":"Gerenuk","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Gharial toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Gharial toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Gharial toy."}],"Id":"231","Name":"Gharial","NameId":"Gharial","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Give the nearest friend ahead +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give the nearest two friends ahead +1 attack and +1 health."},{"Level":3,"About":"Start of turn: Give the nearest three friends ahead +1 attack and +1 health."}],"Id":"33","Name":"Giraffe","NameId":"Giraffe","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Anyone hurt: If nobody has attacked, gain +2 health until next turn. Works 5 times per turn."},{"Level":2,"About":"Anyone hurt: If nobody has attacked, gain +4 health until next turn. Works 5 times per turn."},{"Level":3,"About":"Anyone hurt: If nobody has attacked, gain +6 health until next turn. Works 5 times per turn."}],"Id":"697","Name":"Great Potoo","NameId":"GreatPotoo","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 toy from Griffin\'s collection."},{"Level":2,"About":"Buy: Choose one level 2 toy from Griffin\'s collection."},{"Level":3,"About":"Buy: Choose one level 3 toy from Griffin\'s collection."}],"Id":"348","Name":"Griffin","NameId":"Griffin","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Hurt: Gain +2 trumpets."},{"Level":2,"About":"Hurt: Gain +4 trumpets."},{"Level":3,"About":"Hurt: Gain +6 trumpets."}],"Id":"228","Name":"Guineafowl","NameId":"FowlBird","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Hurt"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Before attack: Copy a useful food perk from one random enemy. Works 1 time per battle."},{"Level":2,"About":"Before attack: Copy a useful food perk from one random enemy. Works 2 times per battle."},{"Level":3,"About":"Before attack: Copy a useful food perk from one random enemy. Works 3 times per battle."}],"Id":"551","Name":"Hare","NameId":"Hare","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give the nearest friend ahead +3 attack and +3 health until next turn.","FinePrint":"Will give permanent stats at level 2."},{"Level":2,"About":"End turn: Give the nearest friend ahead +2 attack and +2 health.","FinePrint":"Will give experience at level 3."},{"Level":3,"About":"End turn: Give the nearest friend ahead +1 experience."}],"Id":"91","Name":"Hatching Chick","NameId":"HatchingChick","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff","Levels","Mvp"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 4/3 Ethiopian Wolf."},{"Level":2,"About":"Faint: Summon two 4/3 Ethiopian Wolves."},{"Level":3,"About":"Faint: Summon three 4/3 Ethiopian Wolves."}],"Id":"717","Name":"Hirola","NameId":"Hirola","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Deal 2 damage to the first and last enemy."},{"Level":2,"About":"Faint: Deal 4 damage to the first and last enemy."},{"Level":3,"About":"Faint: Deal 6 damage to the first and last enemy."}],"Id":"235","Name":"Hoopoe Bird","NameId":"HoopoeBird","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Spend 2 trumpets to increase sell value of the two back-most friends permanently by 1 gold."},{"Level":2,"About":"Faint: Spend 2 trumpets to increase sell value of the two back-most friends permanently by 2 gold."},{"Level":3,"About":"Faint: Spend 2 trumpets to increase sell value of the two back-most friends permanently by 3 gold."}],"Id":"736","Name":"Jewel Caterpillar","NameId":"JewelCaterpillar","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Deal 1 damage to the nearest friend ahead and gain damage as health."},{"Level":2,"About":"End turn: Deal 2 damage to the nearest friend ahead and gain damage as health."},{"Level":3,"About":"End turn: Deal 3 damage to the nearest friend ahead and gain damage as health."}],"Id":"165","Name":"Leech","NameId":"Leech","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt","Mvp"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Level-up: Gain +2 attack and +2 health now and +2 gold next turn."},{"Level":2,"About":"Level-up: Gain +4 attack and +4 health now and +4 gold next turn."},{"Level":3,"About":"No ability."}],"Id":"623","Name":"Lucky Cat","NameId":"LuckyCat","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend ahead +2 mana for each roll this turn, up to 3 rolls."},{"Level":2,"About":"Start of battle: Give the nearest friend ahead +4 mana for each roll this turn, up to 3 rolls."},{"Level":3,"About":"Start of battle: Give the nearest friend ahead +6 mana for each roll this turn, up to 3 rolls."}],"Id":"635","Name":"Mana Hound","NameId":"ManaHound","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Roll"],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make one tier 2 or lower enemy Dazed and prioritize <b>Faint</b> pets."},{"Level":2,"About":"Start of battle: Make one tier 4 or lower enemy Dazed and prioritize <b>Faint</b> pets."},{"Level":3,"About":"Start of battle: Make one tier 6 or lower enemy Dazed and prioritize <b>Faint</b> pets."}],"Id":"357","Name":"Mandrake","NameId":"Mandrake","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Prevent ability from activating.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Remove the two nearest friendly perks to summon one 6/6 Mole."},{"Level":2,"About":"Faint: Remove the two nearest friendly perks to summon one 12/12 Mole."},{"Level":3,"About":"Faint: Remove the two nearest friendly perks to summon one 18/18 Mole."}],"Id":"168","Name":"Mole","NameId":"Mole","Tier":3,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Anyone behind hurt: Give two random friendly pets +1 attack and +2 health. Works 2 times per battle."},{"Level":2,"About":"Anyone behind hurt: Give two random friendly pets +2 attack and +4 health. Works 2 times per battle."},{"Level":3,"About":"Anyone behind hurt: Give two random friendly pets +3 attack and +6 health. Works 2 times per battle."}],"Id":"422","Name":"Monkey-Faced Bat","NameId":"MonkeyFacedBat","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend ahead faints: Gain +1 attack and +2 health until next turn."},{"Level":2,"About":"Friend ahead faints: Gain +2 attack and +4 health until next turn."},{"Level":3,"About":"Friend ahead faints: Gain +3 attack and +6 health until next turn."}],"Id":"245","Name":"Musk Ox","NameId":"MuskOx","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Roll: Gain +1 attack and +1 health until next turn. Works 5 times per turn."},{"Level":2,"About":"Roll: Gain +2 attack and +2 health until next turn. Works 5 times per turn."},{"Level":3,"About":"Roll: Gain +3 attack and +3 health until next turn. Works 5 times per turn."}],"Id":"130","Name":"Okapi","NameId":"Okapi","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give the lowest health friendly pet +3 health."},{"Level":2,"About":"End turn: Give the lowest health friendly pet +6 health."},{"Level":3,"About":"End turn: Give the lowest health friendly pet +9 health."}],"Id":"157","Name":"Orangutan","NameId":"Orangutan","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/1 Groundhog."},{"Level":2,"About":"Faint: Summon two 2/1 Groundhogs."},{"Level":3,"About":"Faint: Summon three 2/1 Groundhogs."}],"Id":"247","Name":"Osprey","NameId":"Osprey","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Roll: Give new shop pets +1 attack and +1 health until next turn for each roll, up to 5 rolls.","FinePrint":"Exclude pets that already have temp stats."},{"Level":2,"About":"Roll: Give new shop pets +2 attack and +2 health until next turn for each roll, up to 5 rolls.","FinePrint":"Exclude pets that already have temp stats."},{"Level":3,"About":"Roll: Give new shop pets +3 attack and +3 health until next turn for each roll, up to 5 rolls.","FinePrint":"Exclude pets that already have temp stats."}],"Id":"364","Name":"Ouroboros","NameId":"Ouroboros","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Summon one level 1 Mouse."},{"Level":2,"About":"Start of turn: Summon one level 2 Mouse."},{"Level":3,"About":"Start of turn: Summon one level 3 Mouse."}],"Id":"95","Name":"Owl","NameId":"Owl","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle","Mvp"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead faints: Gain Melon perk and +1 attack. Works 1 time per turn."},{"Level":2,"About":"Friend ahead faints: Gain Melon perk and +1 attack. Works 2 times per turn."},{"Level":3,"About":"Friend ahead faints: Gain Melon perk and +1 attack. Works 3 times per turn."}],"Id":"52","Name":"Ox","NameId":"Ox","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Copy ailment (or Spooked) to the first enemy."},{"Level":2,"About":"Start of battle: Copy ailment (or Spooked) to the first enemy with double effect."},{"Level":3,"About":"Start of battle: Copy ailment (or Spooked) to the first enemy with triple effect."}],"Id":"701","Name":"Pangasius","NameId":"Pangasius","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: If you have a toy, give the nearest friend behind +4 health."},{"Level":2,"About":"Faint: If you have a toy, give the nearest friend behind +8 health."},{"Level":3,"About":"Faint: If you have a toy, give the nearest friend behind +12 health."}],"Id":"249","Name":"Pangolin","NameId":"Pangolin","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +4 trumpets and summon the Golden Retriever immediately."},{"Level":2,"About":"Faint: Gain +8 trumpets and summon the Golden Retriever immediately."},{"Level":3,"About":"Faint: Gain +12 trumpets and summon the Golden Retriever immediately."}],"Id":"733","Name":"Patagonian Mara","NameId":"PatagonianMara","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Summon"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Knock out: Feed the nearest friend behind with one Better Apple."},{"Level":2,"About":"Knock out: Feed the nearest friend behind with two Better Apples."},{"Level":3,"About":"Knock out: Feed the nearest friend behind with three Better Apples."}],"Id":"560","Name":"Pony","NameId":"Pony","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Deal 3 damage directly back."},{"Level":2,"About":"Hurt: Deal 6 damage directly back."},{"Level":3,"About":"Hurt: Deal 9 damage directly back."}],"Id":"169","Name":"Porcupine","NameId":"Porcupine","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend ahead +1 experience."},{"Level":2,"About":"Start of battle: Give the nearest friend ahead +2 experience."},{"Level":3,"About":"Start of battle: Give the nearest friend ahead +3 experience."}],"Id":"145","Name":"Pug","NameId":"Pug","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: Activate and disable its <b>Start of turn</b> ability until next turn. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Activate and disable its <b>Start of turn</b> ability until next turn. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Activate and disable its <b>Start of turn</b> ability until next turn. Works 3 times per turn."}],"Id":"744","Name":"Purple Frog","NameId":"PurpleFrog","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":7,"Abilities":[{"Level":1,"About":"Five enemy attacks: Deal 33% of health as damage to the least healthy enemy."},{"Level":2,"About":"Five enemy attacks: Deal 33% of health as damage to the two least healthy enemies."},{"Level":3,"About":"Five enemy attacks: Deal 33% of health as damage to the three least healthy enemies."}],"Id":"426","Name":"Pygmy Hippo","NameId":"PygmyHippo","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Transformed: Give front-most friend +2 attack and +2 health. Double in battle."},{"Level":2,"About":"Transformed: Give front-most friend +4 attack and +4 health. Double in battle."},{"Level":3,"About":"Transformed: Give front-most friend +6 attack and +6 health. Double in battle."}],"Id":"702","Name":"Quail","NameId":"Quail","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Eats food: Transform and give front-most friend +2 attack and +2 health. Double in battle."},{"Level":2,"About":"Eats food: Transform and give front-most friend +4 attack and +4 health. Double in battle."},{"Level":3,"About":"Eats food: Transform and give front-most friend +6 attack and +6 health. Double in battle."}],"Id":"778","Name":"Quail Chick","NameId":"QuailChick","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Transform","Food"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Bee summoned: Give it +3 attack and +3 health and remove ALL other Queen Bees.","FinePrint":"There can bee only one!"},{"Level":2,"About":"Bee summoned: Give it +6 attack and +6 health and remove ALL other Queen Bees.","FinePrint":"There can bee only one!"},{"Level":3,"About":"Bee summoned: Give it +9 attack and +9 health and remove ALL other Queen Bees.","FinePrint":"There can bee only one!"}],"Id":"703","Name":"Queen Bee","NameId":"QueenBee","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give the pet that knocked this out and its friends +1 attack and +1 health."},{"Level":2,"About":"Faint: Give the pet that knocked this out and its friends +2 attack and +2 health."},{"Level":3,"About":"Faint: Give the pet that knocked this out and its friends +3 attack and +3 health."}],"Id":"751","Name":"Quetzalcoatlus","NameId":"Quetzalcoatlus","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Friendly ate food: Give them +1 health. Works 3 times per turn."},{"Level":2,"About":"Friendly ate food: Give them +2 health. Works 3 times per turn."},{"Level":3,"About":"Friendly ate food: Give them +3 health. Works 3 times per turn."}],"Id":"60","Name":"Rabbit","NameId":"Rabbit","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Transform two friends ahead into ANY useful level 1 <b>Hurt</b> pets from tier 3 or lower."},{"Level":2,"About":"Start of battle: Transform two friends ahead into ANY useful level 2 <b>Hurt</b> pets from tier 3 or lower."},{"Level":3,"About":"Start of battle: Transform two friends ahead into ANY useful level 3 <b>Hurt</b> pets from tier 3 or lower."}],"Id":"429","Name":"Roloway Monkey","NameId":"RolowayMonkey","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Hurt"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Three enemies faint: Deal 4 damage to one random enemy."},{"Level":2,"About":"Three enemies faint: Deal 8 damage to one random enemy."},{"Level":3,"About":"Three enemies faint: Deal 12 damage to one random enemy."}],"Id":"256","Name":"Royal Flycatcher","NameId":"RoyalFlycatcher","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Sell friend: Remove its Strawberry perk to gain +3 gold. Works 1 time per turn."},{"Level":2,"About":"Sell friend: Remove its Strawberry perk to gain +3 gold. Works 2 times per turn."},{"Level":3,"About":"Sell friend: Remove its Strawberry perk to gain +3 gold. Works 3 times per turn."}],"Id":"531","Name":"Sage-Grouse","NameId":"GreaterSageGrouse","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"Eats food: Swallow the left-most shop pet. Summon a 1/1 level 1 copy up front for the opponent on faint."},{"Level":2,"About":"Eats food: Swallow the left-most shop pet. Summon a 1/1 level 2 copy up front for the opponent on faint."},{"Level":3,"About":"Eats food: Swallow the left-most shop pet. Summon a 1/1 level 3 copy up front for the opponent on faint."}],"Id":"763","Name":"Sarcastic Fringehead","NameId":"SarcasticFringehead","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon two 2/2 Rams."},{"Level":2,"About":"Faint: Summon two 4/4 Rams."},{"Level":3,"About":"Faint: Summon two 6/6 Rams."}],"Id":"68","Name":"Sheep","NameId":"Sheep","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Friend gained ailment: Give it a random tier 1 perk. Works 2 times per turn."},{"Level":2,"About":"Friend gained ailment: Give it a random tier 2 perk. Works 2 times per turn."},{"Level":3,"About":"Friend gained ailment: Give it a random tier 3 perk. Works 2 times per turn."}],"Id":"722","Name":"Silkie Chicken","NameId":"SilkieChicken","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give one random friend permanent +1 attack and +1 health."},{"Level":2,"About":"Faint: Give two random friends permanent +1 attack and +1 health."},{"Level":3,"About":"Faint: Give three random friends permanent +1 attack and +1 health."}],"Id":"374","Name":"Skeleton Dog","NameId":"SkeletonDog","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/2 Slime for each two battles fought."},{"Level":2,"About":"Faint: Summon one 4/4 Slime for each two battles fought."},{"Level":3,"About":"Faint: Summon one 6/6 Slime for each two battles fought."}],"Id":"375","Name":"Slime","NameId":"Slime","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Give the nearest friend behind +2 to their lowest stat."},{"Level":2,"About":"Start of turn: Give the nearest two friends behind +2 to their lowest stat."},{"Level":3,"About":"Start of turn: Give the nearest three friends behind +2 to their lowest stat."}],"Id":"433","Name":"Spoon-Billed Sandpiper","NameId":"SpoonBilledSandpiper","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Stock one free Cupcake."},{"Level":2,"About":"Start of turn: Stock one free Cupcake with double effect."},{"Level":3,"About":"Start of turn: Stock one free Cupcake with triple effect."}],"Id":"705","Name":"Sugar Glider","NameId":"SugarGlider","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Spend 2 trumpets to give the two nearest friends behind +4 health."},{"Level":2,"About":"Faint: Spend 2 trumpets to give the two nearest friends behind +8 health."},{"Level":3,"About":"Faint: Spend 2 trumpets to give the two nearest friends behind +12 health."}],"Id":"264","Name":"Surgeon Fish","NameId":"SurgeonFish","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Friend ahead hurt: Gain +1 attack and +2 health until next turn."},{"Level":2,"About":"Friend ahead hurt: Gain +2 attack and +4 health until next turn."},{"Level":3,"About":"Friend ahead hurt: Gain +3 attack and +6 health until next turn."}],"Id":"719","Name":"Takin","NameId":"Takin","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Hurt"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead faints: Deal 2 damage to the first enemy. Double if the friend was level 3."},{"Level":2,"About":"Friend ahead faints: Deal 4 damage to the first enemy. Double if the friend was level 3."},{"Level":3,"About":"Friend ahead faints: Deal 6 damage to the first enemy. Double if the friend was level 3."}],"Id":"654","Name":"Tatzelwurm","NameId":"Tatzelwurm","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Enemy hurt: Make it Weak. Works 2 times per battle."},{"Level":2,"About":"Enemy hurt: Make it Weak. Works 4 times per battle."},{"Level":3,"About":"Enemy hurt: Make it Weak. Works 6 times per battle."}],"Id":"162","Name":"Toad","NameId":"Toad","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Before first attack: Copy tier 5 or lower perk (or Egg) to the nearest friend behind."},{"Level":2,"About":"Before first attack: Copy tier 5 or lower perk (or Egg) to the two nearest friends behind."},{"Level":3,"About":"Before first attack: Copy tier 5 or lower perk (or Egg) to the three nearest friends behind."}],"Id":"151","Name":"Toucan","NameId":"Toucan","Tier":3,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: If this has 6 or less attack, gain Coconut perk."},{"Level":2,"About":"Start of battle: If this has 12 or less attack, gain Coconut perk."},{"Level":3,"About":"Start of battle: If this has 18 or less attack, gain Coconut perk."}],"Id":"378","Name":"Tree","NameId":"TreeEnt","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Make the last perk-less enemy Silly and activate it."},{"Level":2,"About":"Start of battle: Make the last perk-less enemy Silly and activate it twice."},{"Level":3,"About":"Start of battle: Make the last perk-less enemy Silly and activate it thrice."}],"Id":"534","Name":"Tree Kangaroo","NameId":"TreeKangaroo","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Ability has random targets in battle.","CustomArchetypes":["Ailments"],"Random":true},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Give adjacent friends +1 health."},{"Level":2,"About":"Start of turn: Give adjacent friends +2 health."},{"Level":3,"About":"Start of turn: Give adjacent friends +3 health."}],"Id":"100","Name":"Tropical Fish","NameId":"TropicalFish","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Push the back-most friend to the front and give it +3 attack and +3 health in battle."},{"Level":2,"About":"Faint: Push the back-most friend to the front and give it +6 attack and +6 health in battle."},{"Level":3,"About":"Faint: Push the back-most friend to the front and give it +9 attack and +9 health in battle."}],"Id":"439","Name":"Tucuxi","NameId":"Tucuxi","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give one random friend +1 attack and +1 health for each time this was hurt."},{"Level":2,"About":"Faint: Give one random friend +2 attack and +2 health for each time this was hurt."},{"Level":3,"About":"Faint: Give one random friend +3 attack and +3 health for each time this was hurt."}],"Id":"572","Name":"Tuna","NameId":"Tuna","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"],"Random":true},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack and +2 health for each friendly pet with a different ailment."},{"Level":2,"About":"Start of battle: Gain +2 attack and +4 health for each friendly pet with a different ailment."},{"Level":3,"About":"Start of battle: Gain +3 attack and +6 health for each friendly pet with a different ailment."}],"Id":"791","Name":"Vampire Parrot","NameId":"VampireParrot","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Shop tier upgraded: Gain +50% attack."},{"Level":2,"About":"Shop tier upgraded: Gain +100% attack."},{"Level":3,"About":"Shop tier upgraded: Gain +150% attack."}],"Id":"160","Name":"Wasp","NameId":"Wasp","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +1 gold on next turn."},{"Level":2,"About":"Faint: Gain +2 gold on next turn."},{"Level":3,"About":"Faint: Gain +3 gold on next turn."}],"Id":"173","Name":"Weasel","NameId":"Weasel","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Swallow and copy the left-most unfrozen shop pet until next turn."},{"Level":2,"About":"End turn: Swallow and copy the two left-most unfrozen and different shop pets until next turn."},{"Level":3,"About":"End turn: Swallow and copy the three left-most unfrozen and different shop pets until next turn."}],"Id":"373","Name":"Abomination","NameId":"Shoggoth","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Summon one level 1 Ocarina."},{"Level":2,"About":"End turn: Summon one level 2 Ocarina."},{"Level":3,"About":"End turn: Summon one level 3 Ocarina."}],"Id":"785","Name":"Ahuizotl","NameId":"Ahuizotl","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Deal 3 damage to its target, or gain +3 attack."},{"Level":2,"About":"Adjacent friend attacked: Deal 6 damage to its target, or gain +6 attack."},{"Level":3,"About":"Adjacent friend attacked: Deal 9 damage to its target, or gain +9 attack."}],"Id":"390","Name":"Amazon River Dolphin","NameId":"AmazonRiverDolphin","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Remove the most healthy unfrozen shop pet to gain 50% of its stats until next turn."},{"Level":2,"About":"End turn: Remove the most healthy unfrozen shop pet to gain 100% of its stats until next turn."},{"Level":3,"About":"End turn: Remove the most healthy unfrozen shop pet to gain 150% of its stats until next turn."}],"Id":"730","Name":"Andrewsarchus","NameId":"Andrewsarchus","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give friends +1 to their highest stat."},{"Level":2,"About":"End turn: Give friends +2 to their highest stat."},{"Level":3,"About":"End turn: Give friends +3 to their highest stat."}],"Id":"392","Name":"Angelshark","NameId":"Angelshark","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Activate two Faint friends from tier 2 or lower front-to-back."},{"Level":2,"About":"Start of battle: Activate two Faint friends from tier 4 or lower front-to-back."},{"Level":3,"About":"Start of battle: Activate two Faint friends from tier 6 or lower front-to-back."}],"Id":"331","Name":"Anubis","NameId":"Anubis","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"End turn: If this has a level 3 friend, gain +1 attack and +2 health."},{"Level":2,"About":"End turn: If this has a level 3 friend, gain +2 attack and +4 health."},{"Level":3,"About":"End turn: If this has a level 3 friend, gain +3 attack and +6 health."}],"Id":"5","Name":"Bison","NameId":"Bison","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: Stock one copy of it. Works 1 time per turn."},{"Level":2,"About":"Friend sold: Stock one copy of it. Works 2 times per turn."},{"Level":3,"About":"Friend sold: Stock one copy of it. Works 3 times per turn."}],"Id":"797","Name":"Bloodhound","NameId":"Bloodhound","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Deal 3 damage to one random enemy."},{"Level":2,"About":"Hurt: Deal 6 damage to one random enemy."},{"Level":3,"About":"Hurt: Deal 9 damage to one random enemy."}],"Id":"7","Name":"Blowfish","NameId":"Blowfish","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Hurt"],"Random":true},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Spend 4 trumpets to give nearest friend behind permanent Melon Slice."},{"Level":2,"About":"Faint: Spend 4 trumpets to give nearest friend behind permanent Melon Slice that works twice."},{"Level":3,"About":"Faint: Spend 4 trumpets to give nearest friend behind permanent Melon Slice that works thrice."}],"Id":"530","Name":"Blue-Footed Booby","NameId":"BlueFootedBooby","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Transform into the front-most friend."},{"Level":2,"About":"Start of turn: Transform into the front-most friend."},{"Level":3,"About":"Start of turn: Transform into the front-most friend."}],"Id":"402","Name":"Bonobo","NameId":"Bonobo","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Levels","Mvp"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: Gain +2 attack and +2 health until next turn."},{"Level":2,"About":"Friend sold: Gain +4 attack and +4 health until next turn."},{"Level":3,"About":"Friend sold: Gain +6 attack and +6 health until next turn."}],"Id":"8","Name":"Buffalo","NameId":"Buffalo","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Transformed: Copy 33% attack and health from the strongest enemy."},{"Level":2,"About":"Transformed: Copy 66% attack and health from the strongest enemy."},{"Level":3,"About":"Transformed: Copy 100% attack and health from the strongest enemy."}],"Id":"9","Name":"Butterfly","NameId":"Butterfly","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Gain +1 experience.","FinePrint":"Will copy an enemy\'s stats at level 3."},{"Level":2,"About":"Start of turn: Gain +1 experience.","FinePrint":"Will copy an enemy\'s stats at level 3."},{"Level":3,"About":"Start of battle: Transform into a 1/1 Butterfly and copy stats of the strongest enemy."}],"Id":"12","Name":"Caterpillar","NameId":"Caterpillar","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Levels","Transform"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Copy friendly toy ability at up to level 1 until next turn.","FinePrint":"Break abilities trigger on faint instead."},{"Level":2,"About":"End turn: Copy friendly toy ability at up to level 2 until next turn.","FinePrint":"Break abilities trigger on faint instead."},{"Level":3,"About":"End turn: Copy friendly toy ability at up to level 3 until next turn.","FinePrint":"Break abilities trigger on faint instead."}],"Id":"216","Name":"Chameleon","NameId":"Chameleon","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 pet. Spend mana to give it +1 attack and +2 health per 2 mana."},{"Level":2,"About":"Faint: Summon two 3/3 pets. Spend mana to give them +1 attack and +2 health per 2 mana."},{"Level":3,"About":"Faint: Summon three 3/3 pets. Spend mana to give them +1 attack and +2 health per 2 mana."}],"Id":"338","Name":"Chimera","NameId":"Chimera","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friendly level-up: Give it +2 attack and +2 health."},{"Level":2,"About":"Friendly level-up: Give it +4 attack and +4 health."},{"Level":3,"About":"Friendly level-up: Give it +6 attack and +6 health."}],"Id":"117","Name":"Clownfish","NameId":"ClownFish","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Buy: Give the highest tier friend +2 attack and +2 health."},{"Level":2,"About":"Buy: Give the highest tier friend +4 attack and +4 health."},{"Level":3,"About":"Buy: Give the highest tier friend +6 attack and +6 health."}],"Id":"218","Name":"Cockatoo","NameId":"Cockatoo","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Stock one Chocolate."},{"Level":2,"About":"Sell: Stock one Better Chocolate."},{"Level":3,"About":"Sell: Stock one Best Chocolate."}],"Id":"195","Name":"Crow","NameId":"Crow","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels","Mvp"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Enemy faints: Summon a 1/1 bad Chick in that slot for the enemy early. Can summon up to 2 per battle."},{"Level":2,"About":"Enemy faints: Summon a 1/1 bad Chick in that slot for the enemy early. Can summon up to 4 per battle."},{"Level":3,"About":"Enemy faints: Summon a 1/1 bad Chick in that slot for the enemy early. Can summon up to 6 per battle."}],"Id":"787","Name":"Cuckoo","NameId":"Cuckoo","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":8,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Remove 3 health from the last enemy and make it Inked."},{"Level":2,"About":"Faint: Remove 3 health from the last two enemies and make them Inked."},{"Level":3,"About":"Faint: Remove 3 health from the last three enemies and make them Inked."}],"Id":"176","Name":"Cuttlefish","NameId":"Cuddlefish","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Friend level-up: Give it +2 mana. Also give +1 experience on the first trigger this turn."},{"Level":2,"About":"Friend level-up: Give it +4 mana. Also give +1 experience on the first two triggers this turn."},{"Level":3,"About":"Friend level-up: Give it +6 mana. Also give +1 experience on the first three triggers this turn."}],"Id":"630","Name":"Cyclops","NameId":"Cyclops","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Mana"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 5/3 Bus with Chili."},{"Level":2,"About":"Faint: Summon one 10/6 Bus with Chili."},{"Level":3,"About":"Faint: Summon one 15/9 Bus with Chili."}],"Id":"20","Name":"Deer","NameId":"Deer","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Attack second enemy for 5 damage.","CustomArchetypes":["Summon"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"Ailments on this work in reverse.","FinePrint":"Weak and Spooked works 3 times."},{"Level":2,"About":"Ailments on this work in reverse and are two times better.","FinePrint":"Weak and Spooked works 3 times."},{"Level":3,"About":"Ailments on this work in reverse and are three times better.","FinePrint":"Weak and Spooked works 3 times."}],"Id":"748","Name":"Deinocheirus","NameId":"Deinocheirus","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +8 attack. If all friends are higher tiers, also gain Coconut perk."},{"Level":2,"About":"Start of battle: Gain +16 attack. If all friends are higher tiers, also gain Coconut perk."},{"Level":3,"About":"Start of battle: Gain +24 attack. If all friends are higher tiers, also gain Coconut perk."}],"Id":"273","Name":"Doberman","NameId":"Doberman","Tier":4,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Perks"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Friend faints: Push the last enemy to the front and remove 3 attack. Works 1 time per battle."},{"Level":2,"About":"Friend faints: Push the last enemy to the front and remove 3 attack. Works 2 times per battle."},{"Level":3,"About":"Friend faints: Push the last enemy to the front and remove 3 attack. Works 3 times per battle."}],"Id":"111","Name":"Donkey","NameId":"Donkey","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Increase sell value of one random <b>Sell</b> friend by 2 gold.","FinePrint":"Max gold limit is 30."},{"Level":2,"About":"End turn: Increase sell value of one random <b>Sell</b> friend by 4 gold.","FinePrint":"Max gold limit is 30."},{"Level":3,"About":"End turn: Increase sell value of one random <b>Sell</b> friend by 6 gold.","FinePrint":"Max gold limit is 30."}],"Id":"546","Name":"Elk","NameId":"Elk","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Gold"],"Random":true},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 wondrous toy."},{"Level":2,"About":"Buy: Choose one level 2 wondrous toy."},{"Level":3,"About":"Buy: Choose one level 3 wondrous toy."}],"Id":"342","Name":"Fairy","NameId":"Fairy","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: If still standing, gain permanent +2 health and transform into a protected ball."},{"Level":2,"About":"Hurt: If still standing, gain permanent +4 health and transform into a protected ball."},{"Level":3,"About":"Hurt: If still standing, gain permanent +6 health and transform into a protected ball."}],"Id":"547","Name":"Fairy Armadillo","NameId":"FairyArmadillo","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Transform","Hurt"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Takes 2 less damage."},{"Level":2,"About":"Takes 4 less damage."},{"Level":3,"About":"Takes 6 less damage."}],"Id":"771","Name":"Fairy Ball","NameId":"FairyArmadilloBall","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Knock out: Summon one 3/3 level 1 copy of it. Works 3 times per battle.","FinePrint":"Does not summon other Falcons."},{"Level":2,"About":"Knock out: Summon one 6/6 level 2 copy of it. Works 3 times per battle.","FinePrint":"Does not summon other Falcons."},{"Level":3,"About":"Knock out: Summon one 9/9 level 3 copy of it. Works 3 times per battle.","FinePrint":"Does not summon other Falcons."}],"Id":"224","Name":"Falcon","NameId":"Falcon","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Feed friends one Corncob."},{"Level":2,"About":"Buy: Feed friends two Corncobs."},{"Level":3,"About":"Buy: Feed friends three Corncobs."}],"Id":"689","Name":"Farmer Cat","NameId":"FarmerCat","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Remove 1 health from the two first enemies for each roll this turn."},{"Level":2,"About":"Start of battle: Remove 2 health from the two first enemies for each roll this turn."},{"Level":3,"About":"Start of battle: Remove 3 health from the two first enemies for each roll this turn."}],"Id":"549","Name":"Fossa","NameId":"Fossa","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Gain +2 attack and +1 health until next turn for each gold over 10."},{"Level":2,"About":"Start of turn: Gain +4 attack and +2 health until next turn for each gold over 10."},{"Level":3,"About":"Start of turn: Gain +6 attack and +3 health until next turn for each gold over 10."}],"Id":"185","Name":"Gazelle","NameId":"Gazelle","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Eats two food: Transform and feed one Pear to each friend."},{"Level":2,"About":"Eats two food: Transform and feed two Pears to each friend."},{"Level":3,"About":"Eats two food: Transform and feed three Pears to each friend."}],"Id":"696","Name":"Gelada","NameId":"Gelada","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food","Transform"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Before battle: Give friends +2 attack and +5 health until after the first non-jump attack."},{"Level":2,"About":"Before battle: Give friends +4 attack and +10 health until after the first non-jump attack."},{"Level":3,"About":"Before battle: Give friends +6 attack and +15 health until after the first non-jump attack."}],"Id":"410","Name":"Giant Otter","NameId":"GiantOtter","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Gain +2 health, and set attack to 4. Health can go to 100!"},{"Level":2,"About":"End turn: Gain +4 health, and set attack to 8. Health can go to 100!"},{"Level":3,"About":"End turn: Gain +6 health, and set attack to 12. Health can go to 100!"}],"Id":"412","Name":"Giant Tortoise","NameId":"GiantTortoise","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":6,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Swallow the first enemy with 6 health or less. Release it with 1 health on faint."},{"Level":2,"About":"Start of battle: Swallow the first enemy with 12 health or less. Release it with 1 health on faint."},{"Level":3,"About":"Start of battle: Swallow the first enemy with 18 health or less. Release it with 1 health on faint."}],"Id":"754","Name":"Goblin Shark","NameId":"GoblinShark","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Before battle: Transform into ANY useful level 1 <b>Start of Battle</b> pet from tier 5."},{"Level":2,"About":"Before battle: Transform into ANY useful level 2 <b>Start of Battle</b> pet from tier 5."},{"Level":3,"About":"Before battle: Transform into ANY useful level 3 <b>Start of Battle</b> pet from tier 5."}],"Id":"720","Name":"Golden Tamarin","NameId":"GoldenTamarin","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Deal 7 damage to the opposite enemy."},{"Level":2,"About":"Start of battle: Deal 14 damage to the opposite enemy."},{"Level":3,"About":"Start of battle: Deal 21 damage to the opposite enemy."}],"Id":"127","Name":"Hawk","NameId":"Hawk","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Knock out: Gain +3 attack and +3 health. Works 3 times per battle."},{"Level":2,"About":"Knock out: Gain +6 attack and +6 health. Works 3 times per battle."},{"Level":3,"About":"Knock out: Gain +9 attack and +9 health. Works 3 times per battle."}],"Id":"38","Name":"Hippo","NameId":"Hippo","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Remove friendly strawberries to gain +3 trumpets for each."},{"Level":2,"About":"Start of battle: Remove friendly strawberries to gain +6 trumpets for each."},{"Level":3,"About":"Start of battle: Remove friendly strawberries to gain +9 trumpets for each."}],"Id":"755","Name":"Hoatzin","NameId":"Hoatzin","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Trumpets"]},{"Attack":6,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Remove 30% attack from the highest attack enemy."},{"Level":2,"About":"Start of battle: Remove 60% attack from the highest attack enemy."},{"Level":3,"About":"Start of battle: Remove 90% attack from the highest attack enemy."}],"Id":"416","Name":"Humphead Wrasse","NameId":"HumpheadWrasse","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Eats apple: Give friends +1 attack and +1 health. Works 1 time per turn."},{"Level":2,"About":"Eats apple: Give friends +2 attack and +2 health. Works 1 time per turn."},{"Level":3,"About":"Eats apple: Give friends +3 attack and +3 health. Works 1 time per turn."}],"Id":"199","Name":"Jerboa","NameId":"Jerboa","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"After first attack: Make the highest attack enemy Spooked and push it to the back."},{"Level":2,"About":"After first attack: Make the two highest attack enemies Spooked and push them to the back."},{"Level":3,"About":"After first attack: Make the three highest attack enemies Spooked and push them to the back."}],"Id":"419","Name":"Kakapo","NameId":"Kakapo","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments","Disruption"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Remove 15% health from ALL other pets."},{"Level":2,"About":"Start of battle: Remove 30% health from ALL other pets."},{"Level":3,"About":"Start of battle: Remove 45% health from ALL other pets."}],"Id":"355","Name":"Kraken","NameId":"Kraken","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Give random ailments to ANY three random pets. Double the effect on enemies."},{"Level":2,"About":"Faint: Give random ailments to ANY six random pets. Double the effect on enemies."},{"Level":3,"About":"Faint: Give random ailments to ANY nine random pets. Double the effect on enemies."}],"Id":"750","Name":"Leaf Gecko","NameId":"SatanicLeafTailedGecko","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":7,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give adjacent friends 1 experience and remove this."},{"Level":2,"About":"Start of battle: Give adjacent friends 2 experience and remove this."},{"Level":3,"About":"Start of battle: Give adjacent friends 3 experience and remove this."}],"Id":"723","Name":"Leafy Sea Dragon","NameId":"LeafySeaDragon","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Cycle","Levels"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"End turn: If there is an empty space, gain +1 attack and +2 health."},{"Level":2,"About":"End turn: If there is an empty space, gain +2 attack and +4 health."},{"Level":3,"About":"End turn: If there is an empty space, gain +3 attack and +6 health."}],"Id":"44","Name":"Llama","NameId":"Llama","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friend summoned: If outside battle, give it +1 attack and +2 health."},{"Level":2,"About":"Friend summoned: If outside battle, give it +2 attack and +4 health."},{"Level":3,"About":"Friend summoned: If outside battle, give it +3 attack and +6 health."}],"Id":"93","Name":"Lobster","NameId":"Lobster","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one friend and feed it with random food for every food eaten this turn."},{"Level":2,"About":"Faint: Summon two friends and feed them with random food for every food eaten this turn."},{"Level":3,"About":"Faint: Summon three friends and feed them with random food for every food eaten this turn."}],"Id":"698","Name":"Locust","NameId":"Locust","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Summon","Food"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Five enemy attacks: Gain +4 health and remove 4 health from all enemies."},{"Level":2,"About":"Five enemy attacks: Gain +8 health and remove 8 health from all enemies."},{"Level":3,"About":"Five enemy attacks: Gain +12 health and remove 12 health from all enemies."}],"Id":"420","Name":"Longcomb Sawfish","NameId":"LongcombSawfish","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Deal damage to one random enemy equal to the sum of all friendly levels."},{"Level":2,"About":"Start of battle: Deal damage to two random enemies equal to the sum of all friendly levels."},{"Level":3,"About":"Start of battle: Deal damage to three random enemies equal to the sum of all friendly levels."}],"Id":"200","Name":"Lynx","NameId":"Lynx","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels","Disruption"],"Random":true},{"Attack":2,"Health":11,"Abilities":[{"Level":1,"About":"End turn: Take 5 damage and give the nearest friend ahead +2 attack and +1 health."},{"Level":2,"About":"End turn: Take 5 damage and give the nearest friend ahead +4 attack and +2 health."},{"Level":3,"About":"End turn: Take 5 damage and give the nearest friend ahead +6 attack and +3 health."}],"Id":"192","Name":"Manatee","NameId":"Manatee","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"End turn: If there is an empty space, gain +2 gold next turn."},{"Level":2,"About":"End turn: If there is an empty space, gain +4 gold next turn."},{"Level":3,"About":"End turn: If there is an empty space, gain +6 gold next turn."}],"Id":"240","Name":"Manta Ray","NameId":"MantaRay","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Make ALL pets within 3 spaces Weak."},{"Level":2,"About":"Faint: Make ALL pets within 6 spaces Weak."},{"Level":3,"About":"Faint: Make ALL pets within 9 spaces Weak."}],"Id":"94","Name":"Microbe","NameId":"Microbe","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Three friends faint: Gain +1 gold on next turn."},{"Level":2,"About":"Three friends faint: Gain +2 gold on next turn."},{"Level":3,"About":"Three friends faint: Gain +3 gold on next turn."}],"Id":"359","Name":"Mimic","NameId":"Mimic","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Gold","Summon"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Gain +1 attack and +1 health for each of the friend\'s level."},{"Level":2,"About":"Friend ahead attacks: Gain +2 attack and +2 health for each of the friend\'s level."},{"Level":3,"About":"Friend ahead attacks: Gain +3 attack and +3 health for each of the friend\'s level."}],"Id":"360","Name":"Minotaur","NameId":"Minotaur","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 nostalgic toy."},{"Level":2,"About":"Start of turn: Choose one level 2 nostalgic toy."},{"Level":3,"About":"Start of turn: Choose one level 3 nostalgic toy."}],"Id":"612","Name":"Old Mouse","NameId":"OldMouse","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"],"Random":true},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Copy ability from the nearest pet ahead as level 1 until next turn."},{"Level":2,"About":"End turn: Copy ability from the nearest pet ahead as level 2 until next turn."},{"Level":3,"About":"End turn: Copy ability from the nearest pet ahead as level 3 until next turn."}],"Id":"53","Name":"Parrot","NameId":"Parrot","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Mvp","Mvp"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend summoned: Give three friends +1 attack until next turn."},{"Level":2,"About":"Friend summoned: Give three friends +2 attack until next turn."},{"Level":3,"About":"Friend summoned: Give three friends +3 attack until next turn."}],"Id":"365","Name":"Pegasus","NameId":"Pegasus","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Give two level 2 or higher friends +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give two level 2 or higher friends +2 attack and +2 health."},{"Level":3,"About":"Start of turn: Give two level 2 or higher friends +3 attack and +3 health."}],"Id":"56","Name":"Penguin","NameId":"Penguin","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 trumpet for each roll (max 8) this turn."},{"Level":2,"About":"Start of battle: Gain +2 trumpets for each roll (max 8) this turn."},{"Level":3,"About":"Start of battle: Gain +3 trumpets for each roll (max 8) this turn."}],"Id":"734","Name":"Platybelodon","NameId":"Platybelodon","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Roll"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint & Sell: Summon one 3/2 level 1 Duck and Beaver."},{"Level":2,"About":"Faint & Sell: Summon one 6/4 level 2 Duck and Beaver."},{"Level":3,"About":"Faint & Sell: Summon one 9/6 level 3 Duck and Beaver."}],"Id":"159","Name":"Platypus","NameId":"Platypus","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Cycle","Summon"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Friend ahead faints: Deal 4 damage to the highest health enemy."},{"Level":2,"About":"Friend ahead faints: Deal 8 damage to the highest health enemy."},{"Level":3,"About":"Friend ahead faints: Deal 12 damage to the highest health enemy."}],"Id":"252","Name":"Poison Dart Frog","NameId":"PoisonDartFrog","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Friend transformed: Give it +3 experience. Works 1 time per battle."},{"Level":2,"About":"Friend transformed: Give it +3 experience. Works 2 times per battle."},{"Level":3,"About":"Friend transformed: Give it +3 experience. Works 3 times per battle."}],"Id":"729","Name":"Poodle Moth","NameId":"PoodleMoth","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels","Transform"]},{"Attack":7,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Deal 50 damage to adjacent friends and gain +2 attack and +2 health."},{"Level":2,"About":"Start of turn: Deal 50 damage to adjacent friends and gain +4 attack and +4 health."},{"Level":3,"About":"Start of turn: Deal 50 damage to adjacent friends and gain +6 attack and +6 health."}],"Id":"126","Name":"Praying Mantis","NameId":"PrayingMantis","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff","Mvp"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Puppy toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Puppy toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Puppy toy."}],"Id":"97","Name":"Puppy","NameId":"Puppy","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it the Strawberry perk and +5 attack. Works 1 time per battle."},{"Level":2,"About":"Before friend attacks: Give it the Strawberry perk and +5 attack. Works 2 times per battle."},{"Level":3,"About":"Before friend attacks: Give it the Strawberry perk and +5 attack. Works 3 times per battle."}],"Id":"760","Name":"Racket Tail","NameId":"WhiteBootedRacketTail","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Transform the opposite enemy into ANY random <b>Faint</b> pet from one tier below."},{"Level":2,"About":"Start of battle: Transform the opposite enemy into ANY random <b>Faint</b> pet from two tiers below."},{"Level":3,"About":"Start of battle: Transform the opposite enemy into ANY random <b>Faint</b> pet from three tiers below."}],"Id":"742","Name":"Red Lipped Batfish","NameId":"RedLippedBatfish","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Give one friend ahead +2 mana. Repeat 3 times and spread evenly."},{"Level":2,"About":"Start of battle: Give one friend ahead +2 mana. Repeat 6 times and spread evenly."},{"Level":3,"About":"Start of battle: Give one friend ahead +2 mana. Repeat 9 times and spread evenly."}],"Id":"369","Name":"Roc","NameId":"Roc","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":1,"Health":8,"Abilities":[{"Level":1,"About":"End turn: Give two friends with less health than this +1 attack and +1 health."},{"Level":2,"About":"End turn: Give two friends with less health than this +2 attack and +2 health."},{"Level":3,"About":"End turn: Give two friends with less health than this +3 attack and +3 health."}],"Id":"622","Name":"Rootling","NameId":"Rootler","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Replace friendly strawberries with +4 mana."},{"Level":2,"About":"Start of battle: Replace friendly strawberries with +8 mana."},{"Level":3,"About":"Start of battle: Replace friendly strawberries with +12 mana."}],"Id":"802","Name":"Ruspoli\'s Turaco","NameId":"RuspolisTuraco","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Mana"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Two friends faint: Gain +3 trumpets."},{"Level":2,"About":"Two friends faint: Gain +6 trumpets."},{"Level":3,"About":"Two friends faint: Gain +9 trumpets."}],"Id":"257","Name":"Saiga Antelope","NameId":"SaigaAntelope","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Summon"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: If it was a Sell pet, give one random friend +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Friend sold: If it was a Sell pet, give one random friend +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Friend sold: If it was a Sell pet, give one random friend +3 attack and +3 health. Works 3 times per turn."}],"Id":"563","Name":"Sea Anemone","NameId":"SeaAnemone","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Cycle"],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Friend summoned: Copy this pet\'s food perk to it. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Copy this pet\'s food perk to it. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Copy this pet\'s food perk to it. Works 3 times per turn."}],"Id":"128","Name":"Seagull","NameId":"Seagull","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks","Summon"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give friends behind +1 attack and friends ahead +1 health."},{"Level":2,"About":"End turn: Give friends behind +2 attack and friends ahead +2 health."},{"Level":3,"About":"End turn: Give friends behind +3 attack and friends ahead +3 health."}],"Id":"175","Name":"Sealion","NameId":"Sealion","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Give adjacent pets +1 attack. Also +1 health if the shop has discounted food."},{"Level":2,"About":"End turn: Give adjacent pets +2 attack. Also +2 health if the shop has discounted food."},{"Level":3,"About":"End turn: Give adjacent pets +3 attack. Also +3 health if the shop has discounted food."}],"Id":"565","Name":"Siamese","NameId":"Siamese","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Remove 33% health from the highest health enemy."},{"Level":2,"About":"Start of battle: Remove 66% health from the highest health enemy."},{"Level":3,"About":"Start of battle: Remove 99% health from the highest health enemy."}],"Id":"70","Name":"Skunk","NameId":"Skunk","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Transformed: Feed one Pear to each friend."},{"Level":2,"About":"Transformed: Feed two Pears to each friend."},{"Level":3,"About":"Transformed: Feed three Pears to each friend."}],"Id":"780","Name":"Sleeping Gelada","NameId":"GeladaSleeping","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/2 Smaller Slug that summons one 1/1 Smallest Slug."},{"Level":2,"About":"Faint: Summon one 4/4 Smaller Slug that summons one 2/2 Smallest Slug."},{"Level":3,"About":"Faint: Summon one 6/6 Smaller Slug that summons one 3/3 Smallest Slug."}],"Id":"262","Name":"Slug","NameId":"Slug","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon","Guard"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friendly Strawberries block 5 damage twice, or ailments once."},{"Level":2,"About":"Friendly Strawberries block 10 damage twice, or ailments once."},{"Level":3,"About":"Friendly Strawberries block 15 damage twice, or ailments once."}],"Id":"567","Name":"Sparrow","NameId":"Sparrow","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":1,"Health":5,"Abilities":[{"Level":1,"About":"Friend attacks: Give it +4 health and move it far back. Works on one friend per turn."},{"Level":2,"About":"Friend attacks: Give it +4 health and move it far back. Works on two different friends per turn."},{"Level":3,"About":"Friend attacks: Give it +4 health and move it far back. Works on three different friends per turn."}],"Id":"727","Name":"Spider Crab","NameId":"SpiderCrab","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Deal 1 damage to two random enemies and multiply damage by the distance."},{"Level":2,"About":"Faint: Deal 2 damage to two random enemies and multiply damage by the distance."},{"Level":3,"About":"Faint: Deal 3 damage to two random enemies and multiply damage by the distance."}],"Id":"804","Name":"Spiny Bush Viper","NameId":"SpinyBushViper","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of turn: Discount all shop food by 1 gold."},{"Level":2,"About":"Start of turn: Discount all shop food by 2 gold."},{"Level":3,"About":"Start of turn: Discount all shop food by 3 gold."}],"Id":"75","Name":"Squirrel","NameId":"Squirrel","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give Mild Chili perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Mild Chili perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Mild Chili perk to the three nearest friends behind."}],"Id":"393","Name":"Tahr","NameId":"ArabianTahr","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Attack second enemy for 4 damage.","CustomArchetypes":["Perks"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Transformed: Summon a level 1 Thunder Hammer."},{"Level":2,"About":"Transformed: Summon a level 2 Thunder Hammer."},{"Level":3,"About":"Transformed: Summon a level 3 Thunder Hammer."}],"Id":"819","Name":"Tand and Tand","NameId":"ThorGoats","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":6,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give one random friendly Tandgrisner +3 health. Can also..."},{"Level":2,"About":"End turn: Give one random friendly Tandgrisner +6 health. Can also..."},{"Level":3,"About":"End turn: Give one random friendly Tandgrisner +9 health. Can also..."}],"Id":"607","Name":"Tandgnost","NameId":"ThorGoat1","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Give one random friendly Tandgnost +3 attack. Can also..."},{"Level":2,"About":"End turn: Give one random friendly Tandgnost +6 attack. Can also..."},{"Level":3,"About":"End turn: Give one random friendly Tandgnost +9 attack. Can also..."}],"Id":"608","Name":"Tandgrisner","NameId":"ThorGoat2","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 level 1 Tardigrade and make it Dazed."},{"Level":2,"About":"Faint: Summon one 6/6 level 2 Tardigrade and make it Dazed."},{"Level":3,"About":"Faint: Summon one 9/9 level 3 Tardigrade and make it Dazed."}],"Id":"570","Name":"Tardigrade","NameId":"Tardigrade","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"PerkNote":"Prevent ability from activating.","CustomArchetypes":["Summon","Ailments"]},{"Attack":1,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Make the lowest attack enemy 5x\xa0Spooked and jump-attack it."},{"Level":2,"About":"Start of battle: Make the lowest attack enemy 10x\xa0Spooked and jump-attack it."},{"Level":3,"About":"Start of battle: Make the lowest attack enemy 15x\xa0Spooked and jump-attack it."}],"Id":"437","Name":"Tasmanian Devil","NameId":"TasmanianDevil","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Guard","Ailments"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and deal 3 damage to the two first enemies."},{"Level":2,"About":"Empty front space: Jump to the front and deal 6 damage to the two first enemies."},{"Level":3,"About":"Empty front space: Jump to the front and deal 9 damage to the two first enemies."}],"Id":"330","Name":"Tiger Bug","NameId":"AntLion","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: If it was sold for at least 3 gold, gain +1 attack and +2 health."},{"Level":2,"About":"Friend sold: If it was sold for at least 3 gold, gain +2 attack and +4 health."},{"Level":3,"About":"Friend sold: If it was sold for at least 3 gold, gain +3 attack and +6 health."}],"Id":"706","Name":"Trout","NameId":"Trout","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Melon perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Melon perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Melon perk to the three nearest friends behind."}],"Id":"80","Name":"Turtle","NameId":"Turtle","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend gained ailment: Replace it with permanent +2 attack and +2 health. Works 1 time per turn."},{"Level":2,"About":"Friend gained ailment: Replace it with permanent +2 attack and +2 health. Works 2 times per turn."},{"Level":3,"About":"Friend gained ailment: Replace it with permanent +2 attack and +2 health. Works 3 times per turn."}],"Id":"380","Name":"Unicorn","NameId":"Unicorn","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +50% trumpets, and minimum +4 trumpets."},{"Level":2,"About":"Faint: Gain +100% trumpets, and minimum +8 trumpets."},{"Level":3,"About":"Faint: Gain +150% trumpets, and minimum +12 trumpets."}],"Id":"265","Name":"Vaquita","NameId":"Vaquita","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Make ALL pets within one space Icky."},{"Level":2,"About":"Faint: Make ALL pets within two spaces Icky."},{"Level":3,"About":"Faint: Make ALL pets within three spaces Icky."}],"Id":"386","Name":"Visitor","NameId":"Xenomorph","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take double damage, twice.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Swallow the nearest friend ahead and release it at level 1 on faint."},{"Level":2,"About":"Start of battle: Swallow the nearest friend ahead and release it at level 2 on faint."},{"Level":3,"About":"Start of battle: Swallow the nearest friend ahead and release it at level 3 on faint."}],"Id":"81","Name":"Whale","NameId":"Whale","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Gain perk or ailment: Remove it and gain +1 attack and +1 health. Triple in battle."},{"Level":2,"About":"Gain perk or ailment: Remove it and gain +2 attack and +2 health. Triple in battle."},{"Level":3,"About":"Gain perk or ailment: Remove it and gain +3 attack and +3 health. Triple in battle."}],"Id":"267","Name":"Whale Shark","NameId":"WhaleShark","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks","Ailments"]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Give adjacent friends +1 attack and +1 health for every 4 roll, up to 8 rolls."},{"Level":2,"About":"End turn: Give adjacent friends +2 attack and +2 health for every 4 roll, up to 8 rolls."},{"Level":3,"About":"End turn: Give adjacent friends +3 attack and +3 health for every 4 roll, up to 8 rolls."}],"Id":"371","Name":"Worm of Sand","NameId":"Sandworm","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Pet lost perk: Give it Melon Slice if friendly, or deal 6 damage if enemy. Works 1 time per battle."},{"Level":2,"About":"Pet lost perk: Give it Melon Slice if friendly, or deal 6 damage if enemy. Works 2 times per battle."},{"Level":3,"About":"Pet lost perk: Give it Melon Slice if friendly, or deal 6 damage if enemy. Works 3 times per battle."}],"Id":"756","Name":"Yeti Crab","NameId":"YetiCrab","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block 10 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Transformed: Give two back-most friends 1 experience."},{"Level":2,"About":"Transformed: Give two back-most friends 2 experience."},{"Level":3,"About":"Transformed: Give two back-most friends 3 experience."}],"Id":"777","Name":"Adult Flounder","NameId":"FlounderAdult","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +3 attack and +4 mana and Spooked. Works 2 times per turn."},{"Level":2,"About":"Friend summoned: Give it +6 attack and +8 mana and Spooked. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Give it +9 attack and +12 mana and Spooked. Works 2 times per turn."}],"Id":"631","Name":"Amalgamation","NameId":"Amalgam","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Ailments","Summon"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Give ALL pets +8 health."},{"Level":2,"About":"Start of battle: Give ALL pets +16 health."},{"Level":3,"About":"Start of battle: Give ALL pets +24 health."}],"Id":"166","Name":"Armadillo","NameId":"Armadillo","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Friendly gained perk: Give it permanent +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Friendly gained perk: Give it permanent +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Friendly gained perk: Give it permanent +3 attack and +3 health. Works 3 times per turn."}],"Id":"212","Name":"Axolotl","NameId":"Axolotl","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Seven enemy attacks: Summon two Lemurs and give all friends +3 attack and +3 health."},{"Level":2,"About":"Seven enemy attacks: Summon two Lemurs and give all friends +6 attack and +6 health."},{"Level":3,"About":"Seven enemy attacks: Summon two Lemurs and give all friends +9 attack and +9 health."}],"Id":"395","Name":"Aye-aye","NameId":"AyeAye","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 toy that brings doom and chaos!"},{"Level":2,"About":"Buy: Choose one level 2 toy that brings doom and chaos!"},{"Level":3,"About":"Buy: Choose one level 3 toy that brings doom and chaos!"}],"Id":"613","Name":"Bad Dog","NameId":"BadDog","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys","Disruption"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Remove 6 attack from ALL other pets to a minimum of 4 attack."},{"Level":2,"About":"Start of battle: Remove 12 attack from ALL other pets to a minimum of 4 attack."},{"Level":3,"About":"Start of battle: Remove 18 attack from ALL other pets to a minimum of 4 attack."}],"Id":"396","Name":"Banggai Cardinalfish","NameId":"BanggaiCardinalfish","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Eats food: Swallow the left-most shop pet and summon it at level 1 with base stats on faint."},{"Level":2,"About":"Eats food: Swallow the left-most shop pet and summon it at level 2 with double stats on faint."},{"Level":3,"About":"Eats food: Swallow the left-most shop pet and summon it at level 3 with triple stats on faint."}],"Id":"182","Name":"Beluga Whale","NameId":"WhiteWhale","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon","Mvp"]},{"Attack":2,"Health":10,"Abilities":[{"Level":1,"About":"Faint: Give the nearest friend behind +1 experience. Give to one more friend in battle."},{"Level":2,"About":"Faint: Give the nearest friend behind +2 experience. Give to one more friend in battle."},{"Level":3,"About":"Faint: Give the nearest friend behind +3 experience. Give to one more friend in battle."}],"Id":"150","Name":"Blobfish","NameId":"Blobfish","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give three random friends +1 attack and +1 health for each food this has eaten this turn."},{"Level":2,"About":"Faint: Give three random friends +2 attack and +2 health for each food this has eaten this turn."},{"Level":3,"About":"Faint: Give three random friends +3 attack and +3 health for each food this has eaten this turn."}],"Id":"774","Name":"Blue Jay","NameId":"BlueJay","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Give friends +1 attack and +1 health."},{"Level":2,"About":"Buy: Give friends +2 attack and +2 health."},{"Level":3,"About":"Buy: Give friends +3 attack and +3 health."}],"Id":"271","Name":"Blue Ringed Octopus","NameId":"BlueRingedOctopus","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":2,"Health":12,"Abilities":[{"Level":1,"About":"Before attack: Make the target Crisp. Works 2 times per battle."},{"Level":2,"About":"Before attack: Make the target Crisp. Works 4 times per battle."},{"Level":3,"About":"Before attack: Make the target Crisp. Works 6 times per battle."}],"Id":"656","Name":"Boitata","NameId":"Boitata","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give three friends that dealt damage this battle permanent +1 attack and +1 health."},{"Level":2,"About":"Faint: Give three friends that dealt damage this battle permanent +2 attack and +2 health."},{"Level":3,"About":"Faint: Give three friends that dealt damage this battle permanent +3 attack and +3 health."}],"Id":"688","Name":"Brahma Chicken","NameId":"BrahmaChicken","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Give future shop pets +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give future shop pets +2 attack and +2 health."},{"Level":3,"About":"Start of turn: Give future shop pets +3 attack and +3 health."}],"Id":"14","Name":"Chicken","NameId":"Chicken","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Buy: Replace shop food with two free Milk."},{"Level":2,"About":"Buy: Replace shop food with two free Better Milk."},{"Level":3,"About":"Buy: Replace shop food with two free Best Milk."}],"Id":"15","Name":"Cow","NameId":"Cow","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food","Cycle"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Friend ahead hurt: Give it Melon perk and +5 attack. Works 1 time per turn."},{"Level":2,"About":"Friend ahead hurt: Give it Melon perk and +5 attack. Works 2 times per turn."},{"Level":3,"About":"Friend ahead hurt: Give it Melon perk and +5 attack. Works 3 times per turn."}],"Id":"219","Name":"Crane","NameId":"Crane","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":8,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Deal 8 damage to the last enemy."},{"Level":2,"About":"Start of battle: Deal 8 damage to the last enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 8 damage to the last enemy. Triggers 3 times."}],"Id":"19","Name":"Crocodile","NameId":"Crocodile","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and +1 health to one friend of each level."},{"Level":2,"About":"End turn: Give +2 attack and +2 health to one friend of each level."},{"Level":3,"About":"End turn: Give +3 attack and +3 health to one friend of each level."}],"Id":"196","Name":"Dragonfly","NameId":"Dragonfly","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one 5/5 level 1 pet from the next shop tier."},{"Level":2,"About":"Faint: Summon one 10/10 level 2 pet from the next shop tier."},{"Level":3,"About":"Faint: Summon one 15/15 level 3 pet from the next shop tier."}],"Id":"27","Name":"Eagle","NameId":"Eagle","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Summon","Mvp","Mvp"]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Knock out: Activate ability on the nearest Faint friend behind. Works 1 time per battle."},{"Level":2,"About":"Knock out: Activate ability on the nearest Faint friend behind. Works 2 times per battle."},{"Level":3,"About":"Knock out: Activate ability on the nearest Faint friend behind. Works 3 times per battle."}],"Id":"221","Name":"Egyptian Vulture","NameId":"EgyptianVulture","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Empty front space: Give nearest friend ahead +4 health and move it to the front in battle."},{"Level":2,"About":"Empty front space: Give nearest friend ahead +8 health and move it to the front in battle."},{"Level":3,"About":"Empty front space: Give nearest friend ahead +12 health and move it to the front in battle."}],"Id":"223","Name":"Emu","NameId":"Emu","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 friend with +1 attack and +1 health for each ailment gained."},{"Level":2,"About":"Faint: Summon two 3/3 friends with +1 attack and +1 health for each ailment gained."},{"Level":3,"About":"Faint: Summon three 3/3 friends with +1 attack and +1 health for each ailment gained."}],"Id":"770","Name":"Estemmenosuchus","NameId":"Estemmenosuchus","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments","Summon"]},{"Attack":6,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Feed three Corncobs with triple effect to the nearest friend behind."},{"Level":2,"About":"Faint: Feed three Corncobs with triple effect to the nearest two friends behind."},{"Level":3,"About":"Faint: Feed three Corncobs with triple effect to the nearest three friends behind."}],"Id":"691","Name":"Farmer Crow","NameId":"FarmerCrow","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give attack to the highest tier friend."},{"Level":2,"About":"Faint: Give attack to the two highest tier friends."},{"Level":3,"About":"Faint: Give attack to the three highest tier friends."}],"Id":"274","Name":"Fire Ant","NameId":"FireAnt","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Eats two food: Transform and give the two back-most friends 1 experience."},{"Level":2,"About":"Eats two food: Transform and give the two back-most friends 2 experience."},{"Level":3,"About":"Eats two food: Transform and give the two back-most friends 3 experience."}],"Id":"776","Name":"Flounder","NameId":"FlounderYoung","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":6,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Steal the right-most shop food."},{"Level":2,"About":"End turn: Steal the right-most shop food and double its attack and health effects."},{"Level":3,"About":"End turn: Steal the right-most shop food and triple its attack and health effects."}],"Id":"106","Name":"Fox","NameId":"Fox","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":10,"Abilities":[{"Level":1,"About":"Hurt: Deal 33% of damage taken as damage to one random enemy."},{"Level":2,"About":"Hurt: Deal 66% of damage taken as damage to one random enemy."},{"Level":3,"About":"Hurt: Deal 100% of damage taken as damage to one random enemy."}],"Id":"409","Name":"Geometric Tortoise","NameId":"GeometricTortoise","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Hurt"],"Random":true},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give friends +2 health. Spend 2 trumpets to give 1 more health in the future."},{"Level":2,"About":"Faint: Give friends +4 health. Spend 2 trumpets to give 2 more health in the future."},{"Level":3,"About":"Faint: Give friends +6 health. Spend 2 trumpets to give 3 more health in the future."}],"Id":"752","Name":"Giant Isopod","NameId":"GiantIsopod","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Deal 4 damage to one random enemy for each friendly transformation this turn."},{"Level":2,"About":"Faint: Deal 8 damage to one random enemy for each friendly transformation this turn."},{"Level":3,"About":"Faint: Deal 12 damage to one random enemy for each friendly transformation this turn."}],"Id":"411","Name":"Giant Pangasius","NameId":"GiantPangasius","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Disruption","Transform"],"Random":true},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Friend bought: Gain +1 gold. Works 2 times per turn."},{"Level":2,"About":"Friend bought: Gain +2 gold. Works 2 times per turn."},{"Level":3,"About":"Friend bought: Gain +3 gold. Works 2 times per turn."}],"Id":"34","Name":"Goat","NameId":"Goat","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle","Gold"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Roll: Gain one free roll. Works 2 times per turn."},{"Level":2,"About":"Roll: Gain one free roll. Works 4 times per turn."},{"Level":3,"About":"Roll: Gain one free roll. Works 6 times per turn."}],"Id":"110","Name":"Hamster","NameId":"Hamster","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Give three random friends that fainted last battle +2 health."},{"Level":2,"About":"Start of turn: Give three random friends that fainted last battle +4 health."},{"Level":3,"About":"Start of turn: Give three random friends that fainted last battle +6 health."}],"Id":"414","Name":"Hawaiian Monk Seal","NameId":"HawaiianMonkSeal","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Friend ahead faints: Gain +1 mana for each roll this turn."},{"Level":2,"About":"Friend ahead faints: Gain +2 mana for each roll this turn."},{"Level":3,"About":"Friend ahead faints: Gain +3 mana for each roll this turn."}],"Id":"350","Name":"Hippocampus","NameId":"Hippocampus","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll","Guard","Mana"],"Random":true},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Swap attack and health of ALL pets.","FinePrint":"Will shuffle positions of all pets at level 2."},{"Level":2,"About":"Start of battle: Shuffle positions of ALL pets.","FinePrint":"Will swap stats and shuffe positions of all pets at level 3."},{"Level":3,"About":"Start of battle: Swap attack and health and shuffle positions of ALL pets."}],"Id":"167","Name":"Hyena","NameId":"Hyena","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":6,"Health":7,"Abilities":[{"Level":1,"About":"Enemy hurt or pushed: Remove 70% health from it. Works on one enemy per battle."},{"Level":2,"About":"Enemy hurt or pushed: Remove 70% health from it. Works on two different enemies per battle."},{"Level":3,"About":"Enemy hurt or pushed: Remove 70% health from it. Works on three different enemies per battle."}],"Id":"553","Name":"Ibex","NameId":"Ibex","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Pet flung: Set attack and health to 13."},{"Level":2,"About":"Pet flung: Set attack and health to 26."},{"Level":3,"About":"Pet flung: Set attack and health to 39."}],"Id":"554","Name":"Jackal","NameId":"Jackal","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one random 14/16 pet from tier 3 up front for you and the opponent."},{"Level":2,"About":"Faint: Summon two random 14/16 pets from tier 3 up front for you and the opponent."},{"Level":3,"About":"Faint: Summon three random 14/16 pets from tier 3 up front for you and the opponent."}],"Id":"655","Name":"Kappa","NameId":"Kappa","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"],"Random":true},{"Attack":2,"Health":7,"Abilities":[{"Level":1,"About":"Friend faints: Transfer all friendly mana + 2 to nearest friend ahead."},{"Level":2,"About":"Friend faints: Transfer all friendly mana + 4 to nearest friend ahead."},{"Level":3,"About":"Friend faints: Transfer all friendly mana + 6 to nearest friend ahead."}],"Id":"354","Name":"Kitsune","NameId":"Kitsune","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":1,"Health":5,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it +1 attack and +2 health once. Permanent if it jumped."},{"Level":2,"About":"Before friend attacks: Give it +2 attack and +4 health once. Permanent if it jumped."},{"Level":3,"About":"Before friend attacks: Give it +3 attack and +6 health once. Permanent if it jumped."}],"Id":"640","Name":"Loveland Frogman","NameId":"LovelandFrogman","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Spend mana to remove 1 attack and health per mana from one random enemy."},{"Level":2,"About":"Faint: Spend mana to remove 1 attack and health per mana from two random enemies."},{"Level":3,"About":"Faint: Spend mana to remove 1 attack and health per mana from three random enemies."}],"Id":"808","Name":"Lusca","NameId":"Lusca","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 12/12 Orangutan with the same food perk as this."},{"Level":2,"About":"Start of battle: Summon one 24/24 Orangutan with the same food perk as this."},{"Level":3,"About":"Start of battle: Summon one 36/36 Orangutan with the same food perk as this."}],"Id":"238","Name":"Macaque","NameId":"Macaque","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Convert trumpets into double mana and spread it evenly to friends."},{"Level":2,"About":"Faint: Convert trumpets into triple mana and spread it evenly to friends."},{"Level":3,"About":"Faint: Convert trumpets into quadruple mana and spread it evenly to friends."}],"Id":"556","Name":"Maltese","NameId":"Maltese","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Mana"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it Melon. Works on one friend per turn."},{"Level":2,"About":"Before friend attacks: Give it Melon. Works on two different friends per turn."},{"Level":3,"About":"Before friend attacks: Give it Melon. Works on three different friends per turn."}],"Id":"532","Name":"Marine Iguana","NameId":"MarineIguana","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give front-most friendly pet +2 attack and +2 health."},{"Level":2,"About":"End turn: Give front-most friendly pet +4 attack and +4 health."},{"Level":3,"About":"End turn: Give front-most friendly pet +6 attack and +6 health."}],"Id":"46","Name":"Monkey","NameId":"Monkey","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Unfreeze shop and give one random friend +3 health for each tier 1 shop pet."},{"Level":2,"About":"End turn: Unfreeze shop and give one random friend +6 health for each tier 1 shop pet."},{"Level":3,"About":"End turn: Unfreeze shop and give one random friend +9 health for each tier 1 shop pet."}],"Id":"202","Name":"Moose","NameId":"Moose","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Friendly toy broke: Give adjacent friends +2 attack and +3 health."},{"Level":2,"About":"Friendly toy broke: Give adjacent friends +4 attack and +6 health."},{"Level":3,"About":"Friendly toy broke: Give adjacent friends +6 attack and +9 health."}],"Id":"242","Name":"Mosasaurus","NameId":"Mosasaurus","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Spend mana to gain 1 trumpet for each mana."},{"Level":2,"About":"Faint: Spend mana to gain 2 trumpets for each mana."},{"Level":3,"About":"Faint: Spend mana to gain 3 trumpets for each mana."}],"Id":"784","Name":"Namazu","NameId":"Namazu","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Trumpets"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 Boat. If it\'s your first Boat this battle, give it +1 and +1 for each roll."},{"Level":2,"About":"Faint: Summon one 6/6 Boat. If it\'s your first Boat this battle, give it +2 and +2 for each roll."},{"Level":3,"About":"Faint: Summon one 9/9 Boat. If it\'s your first Boat this battle, give it +3 and +3 for each roll."}],"Id":"363","Name":"Nessie","NameId":"Nessie","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"614","Name":"Nessie?","NameId":"FakeNessie","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Takes 4 less damage. Works 3 times per turn."},{"Level":2,"About":"Takes 8 less damage. Works 3 times per turn."},{"Level":3,"About":"Takes 12 less damage. Works 3 times per turn."}],"Id":"657","Name":"Nurikabe","NameId":"Nurikabe","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Faint: Spend up to 6 trumpets and deal triple as damage to one random enemy."},{"Level":2,"About":"Faint: Spend up to 6 trumpets and deal triple as damage to two random enemies."},{"Level":3,"About":"Faint: Spend up to 6 trumpets and deal triple as damage to three random enemies."}],"Id":"276","Name":"Nurse Shark","NameId":"NurseShark","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"],"Random":true},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +8 trumpets."},{"Level":2,"About":"Faint: Gain +16 trumpets."},{"Level":3,"About":"Faint: Gain +24 trumpets."}],"Id":"246","Name":"Nyala","NameId":"Nyala","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":8,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Summon one Mantis with 40% attack and health of this."},{"Level":2,"About":"Start of battle: Summon one Mantis with 80% attack and health of this."},{"Level":3,"About":"Start of battle: Summon one Mantis with 120% attack and health of this."}],"Id":"557","Name":"Orchid Mantis","NameId":"OrchidMantis","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +4 attack and +4 health for each friend that sells for at least 3 gold."},{"Level":2,"About":"Start of battle: Gain +8 attack and +8 health for each friend that sells for at least 3 gold."},{"Level":3,"About":"Start of battle: Gain +12 attack and +12 health for each friend that sells for at least 3 gold."}],"Id":"801","Name":"Pacific Fanfish","NameId":"PacificFanfish","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give White Okra perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give White Okra perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give White Okra perk to the three nearest friends behind."}],"Id":"423","Name":"Painted Terrapin","NameId":"PaintedTerrapin","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Block 10 damage twice or ailment once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Perks are two times stronger on this in battle."},{"Level":2,"About":"Perks are three times stronger on this in battle."},{"Level":3,"About":"Perks are four times stronger on this in battle."}],"Id":"250","Name":"Panther","NameId":"Panther","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Swallow one Strawberry friend ahead and turn it into a Salmon on faint."},{"Level":2,"About":"Start of battle: Swallow two Strawberry friends ahead and turn them into Salmons on faint."},{"Level":3,"About":"Start of battle: Swallow three Strawberry friends ahead and turn them into Salmons on faint."}],"Id":"129","Name":"Pelican","NameId":"Pelican","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Summon"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Spend 4 mana to gain +3 gold next turn."},{"Level":2,"About":"Faint: Spend 4 mana to gain +6 gold next turn."},{"Level":3,"About":"Faint: Spend 4 mana to gain +9 gold next turn."}],"Id":"619","Name":"Pixiu","NameId":"Pixiu","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Start of turn: Give one random frozen shop pet +4 attack and +4 health."},{"Level":2,"About":"Start of turn: Give one random frozen shop pet +8 attack and +8 health."},{"Level":3,"About":"Start of turn: Give one random frozen shop pet +12 attack and +12 health."}],"Id":"108","Name":"Polar Bear","NameId":"PolarBear","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Before attack: Steal food perk from target. Works 1 time per battle."},{"Level":2,"About":"Before attack: Steal food perk from target. Works 2 times per battle."},{"Level":3,"About":"Before attack: Steal food perk from target. Works 3 times per battle."}],"Id":"158","Name":"Raccoon","NameId":"Racoon","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Make the last enemy Crisp."},{"Level":2,"About":"Start of battle: Make the two last enemies Crisp."},{"Level":3,"About":"Start of battle: Make the three last enemies Crisp."}],"Id":"368","Name":"Red Dragon","NameId":"RedDragon","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Anyone attacks: Take 6 damage, once.","CustomArchetypes":["Ailments"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Choose and transform into a pet from the next shop tier from ANY pack."},{"Level":2,"About":"Buy: Choose and transform into a pet from the next shop tier from ANY pack."},{"Level":3,"About":"Buy: Choose and transform into a pet from the next shop tier from ANY pack."}],"Id":"428","Name":"Red Panda","NameId":"RedPanda","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":6,"Health":7,"Abilities":[{"Level":1,"About":"Knock out: Deal 4 damage to the first enemy. Double against tier 1 pets."},{"Level":2,"About":"Knock out: Deal 8 damage to the first enemy. Double against tier 1 pets."},{"Level":3,"About":"Knock out: Deal 12 damage to the first enemy. Double against tier 1 pets."}],"Id":"55","Name":"Rhino","NameId":"Rhino","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one Chick with 1 health and 50% attack of this."},{"Level":2,"About":"Faint: Summon two Chicks with 1 health and 50% attack of this."},{"Level":3,"About":"Faint: Summon three Chicks with 1 health and 50% attack of this."}],"Id":"63","Name":"Rooster","NameId":"Rooster","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Summoned: Deal 5 damage to one random enemy. Repeat for every 25 health this has."},{"Level":2,"About":"Summoned: Deal 10 damage to one random enemy. Repeat for every 25 health this has."},{"Level":3,"About":"Summoned: Deal 15 damage to one random enemy. Repeat for every 25 health this has."}],"Id":"562","Name":"Salmon","NameId":"Salmon","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[],"Random":true},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give the two front-most friends AND enemies +2 experience."},{"Level":2,"About":"Start of battle: Give the two front-most friends AND enemies +4 experience."},{"Level":3,"About":"Start of battle: Give the two front-most friends AND enemies +6 experience."}],"Id":"370","Name":"Salmon of Knowledge","NameId":"SalmonofWisdom","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Summoned: Gain Peanut perk."},{"Level":2,"About":"Summoned: Gain Peanut perk."},{"Level":3,"About":"Summoned: Gain Peanut perk."}],"Id":"65","Name":"Scorpion","NameId":"Scorpion","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Make one random enemy Tasty."},{"Level":2,"About":"Start of battle: Make two random enemies Tasty."},{"Level":3,"About":"Start of battle: Make three random enemies Tasty."}],"Id":"564","Name":"Sea Cucumber","NameId":"SeaCucumber","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Faint: Give one random enemy permanent +2 attack and +2 health.","CustomArchetypes":["Ailments"],"Random":true},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Eats food: Give three random friends +1 attack."},{"Level":2,"About":"Eats food: Give three random friends +2 attack."},{"Level":3,"About":"Eats food: Give three random friends +3 attack."}],"Id":"66","Name":"Seal","NameId":"Seal","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"],"Random":true},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Two friends faint: Give the nearest friend ahead +3 attack and +4 health."},{"Level":2,"About":"Two friends faint: Give the nearest friend ahead +6 attack and +8 health."},{"Level":3,"About":"Two friends faint: Give the nearest friend ahead +9 attack and +12 health."}],"Id":"259","Name":"Secretary Bird","NameId":"SecretaryBird","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friend faints: Gain +2 attack and +2 health."},{"Level":2,"About":"Friend faints: Gain +4 attack and +4 health."},{"Level":3,"About":"Friend faints: Gain +6 attack and +6 health."}],"Id":"69","Name":"Shark","NameId":"Shark","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Replace the nearest Strawberry ahead with +4 attack and +4 health."},{"Level":2,"About":"Start of turn: Replace the nearest Strawberry ahead with +8 attack and +8 health."},{"Level":3,"About":"Start of turn: Replace the nearest Strawberry ahead with +12 attack and +12 health."}],"Id":"134","Name":"Shoebill","NameId":"Shoebill","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Give three random friends with no food perks +1 attack and +1 health."},{"Level":2,"About":"End turn: Give three random friends with no food perks +2 attack and +2 health."},{"Level":3,"About":"End turn: Give three random friends with no food perks +3 attack and +3 health."}],"Id":"146","Name":"Siberian Husky","NameId":"SiberianHusky","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Gain +1 gold on next turn. Works 3 times per battle."},{"Level":2,"About":"Before attack: Gain +2 gold on next turn. Works 3 times per battle."},{"Level":3,"About":"Before attack: Gain +3 gold on next turn. Works 3 times per battle."}],"Id":"261","Name":"Silver Fox","NameId":"SilverFox","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Skewer perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Skewer perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Skewer perk to the three nearest friends behind."}],"Id":"277","Name":"Snapping Turtle","NameId":"SnappingJawTurtle","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Attack second and third enemy for 3 damage.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Gain +5 attack and +5 health and jump-attack one random enemy."},{"Level":2,"About":"Start of battle: Gain +10 attack and +10 health and jump-attack one random enemy."},{"Level":3,"About":"Start of battle: Gain +15 attack and +15 health and jump-attack one random enemy."}],"Id":"716","Name":"Snow Leopard","NameId":"SnowLeopard","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"],"Random":true},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Level 3 friend sold: Give friends +1 attack and +1 health. Triple if sold pet had at least 10 attack."},{"Level":2,"About":"Level 3 friend sold: Give friends +2 attack and +2 health. Triple if sold pet had at least 10 attack."},{"Level":3,"About":"Level 3 friend sold: Give friends +3 attack and +3 health. Triple if sold pet had at least 10 attack."}],"Id":"153","Name":"Starfish","NameId":"Starfish","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Sting Ray toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Sting Ray toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Sting Ray toy."}],"Id":"178","Name":"Sting Ray","NameId":"Stingray","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Deal attack damage directly back to whoever knocked this out."},{"Level":2,"About":"Faint: Deal double attack damage directly back to whoever knocked this out."},{"Level":3,"About":"Faint: Deal triple attack damage directly back to whoever knocked this out."}],"Id":"278","Name":"Stonefish","NameId":"Stonefish","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":6,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Deal 100% attack damage to the most healthy enemy and itself."},{"Level":2,"About":"Start of battle: Deal 200% attack damage to the most healthy enemy and itself."},{"Level":3,"About":"Start of battle: Deal 300% attack damage to the most healthy enemy and itself."}],"Id":"119","Name":"Swordfish","NameId":"SwordFish","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Give friends +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Adjacent friend attacked: Give friends +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Adjacent friend attacked: Give friends +3 attack and +3 health. Works 3 times per turn."}],"Id":"436","Name":"Taita Thrush","NameId":"TaitaThrush","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":10,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Remove 1 health from all enemies. Repeat for every 10 attack this has."},{"Level":2,"About":"Start of battle: Remove 2 health from all enemies. Repeat for every 10 attack this has."},{"Level":3,"About":"Start of battle: Remove 3 health from all enemies. Repeat for every 10 attack this has."}],"Id":"569","Name":"Tarantula Hawk","NameId":"TarantulaHawk","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Remove 25% of all stats and divide them out. Socialism!"},{"Level":2,"About":"Start of battle: Remove 50% of all stats and divide them out. Socialism!"},{"Level":3,"About":"Start of battle: Remove 75% of all stats and divide them out. Socialism!"}],"Id":"812","Name":"Tarasque","NameId":"Tarasque","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Give one random friend +3 attack and +3 health."},{"Level":2,"About":"Hurt: Give one random friend +6 attack and +6 health."},{"Level":3,"About":"Hurt: Give one random friend +9 attack and +9 health."}],"Id":"142","Name":"Triceratops","NameId":"Triceratops","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"],"Random":true},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +3 attack and +1 health."},{"Level":2,"About":"Friend summoned: Give it +6 attack and +2 health."},{"Level":3,"About":"Friend summoned: Give it +9 attack and +3 health."}],"Id":"79","Name":"Turkey","NameId":"Turkey","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Enemy gained ailment: Deal 4 damage to it and gain damage as health. Works 2 times per battle."},{"Level":2,"About":"Enemy gained ailment: Deal 8 damage to it and gain damage as health. Works 2 times per battle."},{"Level":3,"About":"Enemy gained ailment: Deal 12 damage to it and gain damage as health. Works 2 times per battle."}],"Id":"381","Name":"Vampire Bat","NameId":"VampireBat","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":2,"Health":7,"Abilities":[{"Level":1,"About":"Sell: Choose one remaining pet from last battle to stock at 2 gold.","FinePrint":"Can\'t stock itself or Anglerfish."},{"Level":2,"About":"Sell: Choose one remaining pet from last battle to stock at 2 gold, twice.","FinePrint":"Can\'t stock itself or Anglerfish."},{"Level":3,"About":"Sell: Choose one remaining pet from last battle to stock at 2 gold, thrice.","FinePrint":"Can\'t stock itself or Anglerfish."}],"Id":"573","Name":"Venus Flytrap","NameId":"VenusFlytrap","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Two friends faint: Deal 4 damage to one random enemy."},{"Level":2,"About":"Two friends faint: Deal 8 damage to one random enemy."},{"Level":3,"About":"Two friends faint: Deal 12 damage to one random enemy."}],"Id":"135","Name":"Vulture","NameId":"Vulture","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption","Summon"],"Random":true},{"Attack":7,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: If turn number is even, gain +50% attack and health. Otherwise gain 6 mana."},{"Level":2,"About":"Start of battle: If turn number is even, gain +100% attack and health. Otherwise gain 12 mana."},{"Level":3,"About":"Start of battle: If turn number is even, gain +150% attack and health. Otherwise gain 18 mana."}],"Id":"383","Name":"Werewolf","NameId":"Werewolf","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Summon three 3/2 Pigs."},{"Level":2,"About":"Faint: Summon three 6/4 Pigs."},{"Level":3,"About":"Faint: Summon three 9/6 Pigs."}],"Id":"170","Name":"Wolf","NameId":"Wolf","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Deal 1 damage to nearest two pets ahead two times. Double against enemies."},{"Level":2,"About":"Start of battle: Deal 1 damage to nearest two pets ahead four times. Double against enemies."},{"Level":3,"About":"Start of battle: Deal 1 damage to nearest two pets ahead six times. Double against enemies."}],"Id":"156","Name":"Woodpecker","NameId":"Woodpecker","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt","Disruption"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Deal 4 damage for each different friendly ailment to the first enemy."},{"Level":2,"About":"Start of battle: Deal 4 damage for each different friendly ailment to the first two enemies."},{"Level":3,"About":"Start of battle: Deal 4 damage for each different friendly ailment to the first three enemies."}],"Id":"807","Name":"Woolly Rhino","NameId":"WoollyRhino","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Buy & Sell: Give one random friend +2 attack and +2 health."},{"Level":2,"About":"Buy & Sell: Give one random friend +4 attack and +4 health."},{"Level":3,"About":"Buy & Sell: Give one random friend +6 attack and +6 health."}],"Id":"155","Name":"Zebra","NameId":"Zebra","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Cycle"],"Random":true},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Faint: Spend 2 mana to give the nearest friend behind permanent +3 attack and +3 health."},{"Level":2,"About":"Faint: Spend 2 mana to give the nearest friend behind permanent +6 attack and +6 health."},{"Level":3,"About":"Faint: Spend 2 mana to give the nearest friend behind permanent +9 attack and +9 health."}],"Id":"782","Name":"Akhlut","NameId":"Akhlut","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Adjacent tier 4 or lower friends deals 3 ability damage extra."},{"Level":2,"About":"Adjacent tier 4 or lower friends deals 6 ability damage extra."},{"Level":3,"About":"Adjacent tier 4 or lower friends deals 9 ability damage extra."}],"Id":"535","Name":"Albatross","NameId":"Albatross","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 experience. Triple in battle. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Give it +1 experience. Triple in battle. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Give it +1 experience. Triple in battle. Works 3 times per turn."}],"Id":"194","Name":"Alpaca","NameId":"Alpaca","Tier":6,"TierMax":2147483647,"Packs":["Pack3","Custom"],"PacksRequired":["Pack3","Custom"],"Rollable":true,"CustomArchetypes":["Levels","Summon"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Friend hurt: Restore its health. Can restore up to 15 health per turn."},{"Level":2,"About":"Friend hurt: Restore its health. Can restore up to 30 health per turn."},{"Level":3,"About":"Friend hurt: Restore its health. Can restore up to 45 health per turn."}],"Id":"772","Name":"Amargasaurus","NameId":"Amargasaurus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Transform friend behind into a level 1 Mimic Octopus. Give it +1 XP in battle for every 2 roll."},{"Level":2,"About":"Faint: Transform friend behind into a level 1 Mimic Octopus. Give it +2 XP in battle for every 2 roll."},{"Level":3,"About":"Faint: Transform friend behind into a level 1 Mimic Octopus. Give it +3 XP in battle for every 2 roll."}],"Id":"536","Name":"Ammonite","NameId":"Ammonite","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Transform","Levels","Roll"],"Random":true},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Friend transformed: Give it permanent +2 attack and +2 health. Works 2 times per turn."},{"Level":2,"About":"Friend transformed: Give it permanent +4 attack and +4 health. Works 2 times per turn."},{"Level":3,"About":"Friend transformed: Give it permanent +6 attack and +6 health. Works 2 times per turn."}],"Id":"391","Name":"Amsterdam Albatross","NameId":"AmsterdamAlbatross","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Choose one free pet from your last opponent to stock."},{"Level":2,"About":"Buy: Choose one free pet from your last opponent to stock twice."},{"Level":3,"About":"Buy: Choose one free pet from your last opponent to stock thrice."}],"Id":"180","Name":"Anglerfish","NameId":"Anglerfish","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make the highest attack enemy Sleepy."},{"Level":2,"About":"Start of battle: Make the two highest attack enemies Sleepy."},{"Level":3,"About":"Start of battle: Make the three highest attack enemies Sleepy."}],"Id":"603","Name":"Bakunawa","NameId":"Bakunawa","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Attack with half damage, once.","CustomArchetypes":["Ailments"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon ANY one useful <b>Start of Battle</b> pet from tier 4 and activate its ability."},{"Level":2,"About":"Faint: Summon ANY two useful <b>Start of Battle</b> pets from tier 4 and activate their abilities."},{"Level":3,"About":"Faint: Summon ANY three useful <b>Start of Battle</b> pets from tier 4 and activate their abilities."}],"Id":"397","Name":"Bay Cat","NameId":"BayCat","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":12,"Health":12,"Abilities":[{"Level":1,"About":"End turn: Gain +2 attack and +2 health. Attack and health can go up to 100!"},{"Level":2,"About":"End turn: Gain +4 attack and +4 health. Attack and health can go up to 100!"},{"Level":3,"About":"End turn: Gain +6 attack and +6 health. Attack and health can go up to 100!"}],"Id":"333","Name":"Behemoth","NameId":"Behemoth","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff","Mvp"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Spend 7 gold: Give three random friends +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Spend 7 gold: Give three random friends +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Spend 7 gold: Give three random friends +3 attack and +3 health. Works 3 times per turn."}],"Id":"181","Name":"Bird of Paradise","NameId":"ParadiseBird","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff","Gold"],"Random":true},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Remove 4 health from one random enemy for each food this has eaten this turn."},{"Level":2,"About":"Faint: Remove 8 health from one random enemy for each food this has eaten this turn."},{"Level":3,"About":"Faint: Remove 12 health from one random enemy for each food this has eaten this turn."}],"Id":"687","Name":"Black Bear","NameId":"BlackBear","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption","Food"],"Random":true},{"Attack":5,"Health":9,"Abilities":[{"Level":1,"About":"Seven enemy attacks: Deal 30 damage to the most healthy enemy."},{"Level":2,"About":"Seven enemy attacks: Deal 30 damage to the two most healthy enemies."},{"Level":3,"About":"Seven enemy attacks: Deal 30 damage to the three most healthy enemies."}],"Id":"398","Name":"Black Rhino","NameId":"BlackRhino","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":12,"Health":12,"Abilities":[{"Level":1,"About":"Start of turn: Sell friends for +2 extra gold each and give future shop pets +2 attack and +2 health."},{"Level":2,"About":"Start of turn: Sell friends for +2 extra gold each and give future shop pets +4 attack and +4 health."},{"Level":3,"About":"Start of turn: Sell friends for +2 extra gold each and give future shop pets +6 attack and +6 health."}],"Id":"399","Name":"Blue Whale","NameId":"BlueWhale","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Gain +4 attack and +2 health."},{"Level":2,"About":"Before attack: Gain +8 attack and +4 health."},{"Level":3,"About":"Before attack: Gain +12 attack and +6 health."}],"Id":"103","Name":"Boar","NameId":"Boar","Tier":6,"TierMax":2147483647,"Packs":["Pack1","Custom"],"PacksRequired":["Pack1","Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Friend transformed: Gain its level 1 ability. Works 2 times per battle."},{"Level":2,"About":"Friend transformed: Gain its level 2 ability. Works 2 times per battle."},{"Level":3,"About":"Friend transformed: Gain its level 3 ability. Works 2 times per battle."}],"Id":"403","Name":"California Condor","NameId":"CaliforniaCondor","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Shop food gives two times attack and health. Works 2 times per turn.","FinePrint":"Does not include perks."},{"Level":2,"About":"Shop food gives three times attack and health. Works 2 times per turn.","FinePrint":"Does not include perks."},{"Level":3,"About":"Shop food gives four times attack and health. Works 2 times per turn.","FinePrint":"Does not include perks."}],"Id":"11","Name":"Cat","NameId":"Cat","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff","Food","Mvp"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Activate Buy ability on the nearest friend ahead once, or give it +4 health."},{"Level":2,"About":"Start of turn: Activate Buy ability on the nearest friend ahead twice, or give it +8 health."},{"Level":3,"About":"Start of turn: Activate Buy ability on the nearest friend ahead thrice, or give it +12 health."}],"Id":"174","Name":"Catfish","NameId":"Catfish","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":9,"Health":9,"Abilities":[{"Level":1,"About":"Empty front space: Summon one 8/8 Fire Pup at level 3 up front. Works 1 time per battle."},{"Level":2,"About":"Empty front space: Summon one 8/8 Fire Pup at level 3 up front. Works 2 times per battle."},{"Level":3,"About":"Empty front space: Summon one 8/8 Fire Pup at level 3 up front. Works 3 times per battle."}],"Id":"337","Name":"Cerberus","NameId":"Cerberus","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard","Summon"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Friend ate corncob: Give them +1 attack and +1 health."},{"Level":2,"About":"Friend ate corncob: Give them +2 attack and +2 health."},{"Level":3,"About":"Friend ate corncob: Give them +3 attack and +3 health."}],"Id":"542","Name":"Chimpanzee","NameId":"Chimpanzee","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":12,"Health":6,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Deal 20% attack damage to one random enemy."},{"Level":2,"About":"Friend ahead attacks: Deal 40% attack damage to one random enemy."},{"Level":3,"About":"Friend ahead attacks: Deal 60% attack damage to one random enemy."}],"Id":"217","Name":"Cobra","NameId":"Cobra","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Disruption","Guard"],"Random":true},{"Attack":6,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Transform the back-most level 1 or lower enemy to rock."},{"Level":2,"About":"Start of battle: Transform the back-most level 2 or lower enemy to rock."},{"Level":3,"About":"Start of battle: Transform the back-most level 3 or lower enemy to rock."}],"Id":"340","Name":"Cockatrice","NameId":"Cockatrice","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Eats two food: Gain Coconut perk until next turn."},{"Level":2,"About":"Eats two food: Gain Coconut perk that works twice until next turn."},{"Level":3,"About":"Eats two food: Gain Coconut perk that works thrice until next turn."}],"Id":"779","Name":"Coconut Crab","NameId":"CoconutCrab","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Food"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Tier 1 friend bought: Give friends +1 attack and +1 health. Works 4 times per turn."},{"Level":2,"About":"Tier 1 friend bought: Give friends +2 attack and +2 health. Works 4 times per turn."},{"Level":3,"About":"Tier 1 friend bought: Give friends +3 attack and +3 health. Works 4 times per turn."}],"Id":"25","Name":"Dragon","NameId":"Dragon","Tier":6,"TierMax":2147483647,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":["Buff","Cycle"]},{"Attack":6,"Health":8,"Abilities":[{"Level":1,"About":"Before attack: Move ailment to the first two enemies."},{"Level":2,"About":"Before attack: Move ailment to the first two enemies with double effect."},{"Level":3,"About":"Before attack: Move ailment to the first two enemies with triple effect."}],"Id":"769","Name":"Dunkleosteus","NameId":"Dunkleosteus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give three random friends +1 attack and +1 health for each battle this has fought."},{"Level":2,"About":"Faint: Give three random friends +2 attack and +2 health for each battle this has fought."},{"Level":3,"About":"Faint: Give three random friends +3 attack and +3 health for each battle this has fought."}],"Id":"781","Name":"Eagle Owl","NameId":"EagleOwl","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Gain perk: Give three friends +4 attack and +4 health until next turn. Works 1 time per turn."},{"Level":2,"About":"Gain perk: Give three friends +8 attack and +8 health until next turn. Works 1 time per turn."},{"Level":3,"About":"Gain perk: Give three friends +12 attack and +12 health until next turn. Works 1 time per turn."}],"Id":"222","Name":"Elephant Seal","NameId":"ElephantSeal","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Feed one Corncob to all friends."},{"Level":2,"About":"End turn: Feed two Corncobs to all friends."},{"Level":3,"About":"End turn: Feed three Corncobs to all friends."}],"Id":"692","Name":"Farmer Dog","NameId":"FarmerDog","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend faints: Summon one 4/4 fly in its place. Works 3 times per turn."},{"Level":2,"About":"Friend faints: Summon one 8/8 fly in its place. Works 3 times per turn."},{"Level":3,"About":"Friend faints: Summon one 12/12 fly in its place. Works 3 times per turn."}],"Id":"30","Name":"Fly","NameId":"Fly","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Friend summoned: Give 25% of attack to it until next turn."},{"Level":2,"About":"Friend summoned: Give 50% of attack to it until next turn."},{"Level":3,"About":"Friend summoned: Give 75% of attack to it until next turn."}],"Id":"230","Name":"German Shepherd","NameId":"GermanShepard","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":7,"Health":10,"Abilities":[{"Level":1,"About":"Hurt: Gain Coconut perk. Works 1 time per turn."},{"Level":2,"About":"Hurt: Gain Coconut perk. Works 2 times per turn."},{"Level":3,"About":"Hurt: Gain Coconut perk. Works 3 times per turn."}],"Id":"36","Name":"Gorilla","NameId":"Gorilla","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Hurt"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Five enemy attacks: Give all friendly pets Melon that blocks 20 damage. Works 1 time per turn."},{"Level":2,"About":"Five enemy attacks: Give all friendly pets Melon that blocks 40 damage. Works 1 time per turn."},{"Level":3,"About":"Five enemy attacks: Give all friendly pets Melon that blocks 60 damage. Works 1 time per turn."}],"Id":"413","Name":"Green Sea Turtle","NameId":"GreenSeaTurtle","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Perks","Summon"]},{"Attack":6,"Health":8,"Abilities":[{"Level":1,"About":"Five friendly attacks: Deal 6 damage to two random enemies."},{"Level":2,"About":"Five friendly attacks: Deal 12 damage to two random enemies."},{"Level":3,"About":"Five friendly attacks: Deal 18 damage to two random enemies."}],"Id":"275","Name":"Grizzly Bear","NameId":"GrizzlyBear","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Disruption","Summon"],"Random":true},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of turn: If this has a level 3 friend, gain +3 gold."},{"Level":2,"About":"Start of turn: If this has a level 3 friend, gain +6 gold."},{"Level":3,"About":"Start of turn: If this has a level 3 friend, gain +9 gold."}],"Id":"123","Name":"Hammerhead Shark","NameId":"Hammershark","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Gold","Levels"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Summon one random 5/5 pet from tier 1. Works 3 times per turn."},{"Level":2,"About":"Hurt: Summon one random 10/10 pet from tier 1. Works 3 times per turn."},{"Level":3,"About":"Hurt: Summon one random 15/15 pet from tier 1. Works 3 times per turn."}],"Id":"552","Name":"Harpy Eagle","NameId":"HarpyEagle","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Summon"],"Random":true},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give three friends +2 to their lowest stat."},{"Level":2,"About":"End turn: Give three friends +4 to their lowest stat."},{"Level":3,"About":"End turn: Give three friends +6 to their lowest stat."}],"Id":"415","Name":"Helmeted Hornbill","NameId":"HelmetedHornbill","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Start of battle: Gain +4 trumpets and 1 more for each 3 health this has."},{"Level":2,"About":"Start of battle: Gain +8 trumpets and 2 more for each 3 health this has."},{"Level":3,"About":"Start of battle: Gain +12 trumpets and 3 more for each 3 health this has."}],"Id":"186","Name":"Highland Cow","NameId":"HighlandCow","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":9,"Abilities":[{"Level":1,"About":"Friend transformed: Transform it back and down to level 1. Works 2 times per turn."},{"Level":2,"About":"Friend transformed: Transform it back and down to level 2. Works 2 times per turn."},{"Level":3,"About":"Friend transformed: Transform it back and down to level 3. Works 2 times per turn."}],"Id":"753","Name":"Hooded Seal","NameId":"HoodedSeal","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 5/5 Head for each 10 attack this has."},{"Level":2,"About":"Faint: Summon one 10/10 Head for each 10 attack this has."},{"Level":3,"About":"Faint: Summon one 15/15 Head for each 10 attack this has."}],"Id":"352","Name":"Hydra","NameId":"Hydra","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 attack and +1 health until next turn for each level 3 pet sold this game (max 5)."},{"Level":2,"About":"Friend summoned: Give it +2 attack and +2 health until next turn for each level 3 pet sold this game (max 5)."},{"Level":3,"About":"Friend summoned: Give it +3 attack and +3 health until next turn for each level 3 pet sold this game (max 5)."}],"Id":"652","Name":"Jersey Devil","NameId":"JerseyDevil","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Summon"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Give friends ahead +1 attack and +1 health and then shuffle their positions."},{"Level":2,"About":"End turn: Give friends ahead +2 attack and +2 health and then shuffle their positions."},{"Level":3,"About":"End turn: Give friends ahead +3 attack and +3 health and then shuffle their positions."}],"Id":"124","Name":"Komodo","NameId":"Komodo","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Friend faints: Deal 1 damage to the nearest friend ahead."},{"Level":2,"About":"Friend faints: Deal 1 damage to the nearest two friends ahead."},{"Level":3,"About":"Friend faints: Deal 1 damage to the nearest three friends ahead."}],"Id":"749","Name":"Lamprey","NameId":"Lamprey","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":10,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Deal 50% attack damage to one random enemy."},{"Level":2,"About":"Start of battle: Deal 50% attack damage to two random enemies."},{"Level":3,"About":"Start of battle: Deal 50% attack damage to three random enemies."}],"Id":"41","Name":"Leopard","NameId":"Leopard","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":6,"Health":10,"Abilities":[{"Level":1,"About":"Start of turn: Summon one 6/6 Fish and give it +2 experience."},{"Level":2,"About":"Start of turn: Summon one 12/12 Fish and give it +4 experience."},{"Level":3,"About":"Start of turn: Summon one 18/18 Fish and give it +6 experience."}],"Id":"356","Name":"Leviathan","NameId":"Leviathan","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Cycle"]},{"Attack":7,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: If this is your highest tier pet, gain +50% attack and health."},{"Level":2,"About":"Start of battle: If this is your highest tier pet, gain +100% attack and health."},{"Level":3,"About":"Start of battle: If this is your highest tier pet, gain +150% attack and health."}],"Id":"42","Name":"Lion","NameId":"Lion","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Pet sold: Give future shop pets of the same tier +1 attack and +1 health. Works 2 times per turn."},{"Level":2,"About":"Pet sold: Give future shop pets of the same tier +2 attack and +2 health. Works 2 times per turn."},{"Level":3,"About":"Pet sold: Give future shop pets of the same tier +3 attack and +3 health. Works 2 times per turn."}],"Id":"114","Name":"Lioness","NameId":"Lioness","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":10,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Deal 3 damage to one random enemy. Repeat for each 10 attack this has."},{"Level":2,"About":"Faint: Deal 6 damage to one random enemy. Repeat for each 10 attack this has."},{"Level":3,"About":"Faint: Deal 9 damage to one random enemy. Repeat for each 10 attack this has."}],"Id":"201","Name":"Lionfish","NameId":"Lionfish","Tier":6,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":4,"Health":12,"Abilities":[{"Level":1,"About":"Faint: Give friends +2 attack and +2 health."},{"Level":2,"About":"Faint: Give friends +4 attack and +4 health."},{"Level":3,"About":"Faint: Give friends +6 attack and +6 health."}],"Id":"45","Name":"Mammoth","NameId":"Mammoth","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Enemy ailments are two times worse."},{"Level":2,"About":"Enemy ailments are three times worse."},{"Level":3,"About":"Enemy ailments are four times worse."}],"Id":"358","Name":"Manticore","NameId":"Manticore","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":9,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Deal 10 damage to the first enemy."},{"Level":2,"About":"Start of battle: Deal 10 damage to the first enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 10 damage to the first enemy. Triggers 3 times."}],"Id":"190","Name":"Mantis Shrimp","NameId":"ShrimpMantis","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Spend 4 trumpets to give friends permanent +4 attack and +4 health evenly spread."},{"Level":2,"About":"Faint: Spend 4 trumpets to give friends permanent +8 attack and +8 health evenly spread."},{"Level":3,"About":"Faint: Spend 4 trumpets to give friends permanent +12 attack and +12 health evenly spread."}],"Id":"743","Name":"Markhor","NameId":"Markhor","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"After attack: Deal 4 damage to the least healthy enemy."},{"Level":2,"About":"After attack: Deal 4 damage to the two least healthy enemies."},{"Level":3,"About":"After attack: Deal 4 damage to the three least healthy enemies."}],"Id":"712","Name":"Mimic Octopus","NameId":"MimicOctopus","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":7,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Mongoose toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Mongoose toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Mongoose toy."}],"Id":"241","Name":"Mongoose","NameId":"Mongoose","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"After attack: Deal 6 damage to one random enemy."},{"Level":2,"About":"After attack: Deal 6 damage to two random enemies."},{"Level":3,"About":"After attack: Deal 6 damage to three random enemies."}],"Id":"50","Name":"Octopus","NameId":"Octopus","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Faint: Summon one random Faint pet from ANY pack as 6/6."},{"Level":2,"About":"Faint: Summon two random Faint pets from ANY pack as 6/6."},{"Level":3,"About":"Faint: Summon three random Faint pets from ANY pack as 6/6."}],"Id":"116","Name":"Orca","NameId":"Orca","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon"],"Random":true},{"Attack":6,"Health":7,"Abilities":[{"Level":1,"About":"Roll: If 4 shop pets are the same tier, re-roll and give friends +2 health. Works 4 times per turn."},{"Level":2,"About":"Roll: If 4 shop pets are the same tier, re-roll and give friends +4 health. Works 4 times per turn."},{"Level":3,"About":"Roll: If 4 shop pets are the same tier, re-roll and give friends +6 health. Works 4 times per turn."}],"Id":"125","Name":"Ostrich","NameId":"Ostrich","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll","Buff"],"Random":true},{"Attack":2,"Health":10,"Abilities":[{"Level":1,"About":"Sell: Gain +3 gold."},{"Level":2,"About":"Sell: Gain +6 gold."},{"Level":3,"About":"Sell: Gain +9 gold."}],"Id":"248","Name":"Oyster","NameId":"Oyster","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":7,"Health":6,"Abilities":[{"Level":1,"About":"Anyone jumped: Give one random friendly pet +4 attack and +4 health."},{"Level":2,"About":"Anyone jumped: Give one random friendly pet +8 attack and +8 health."},{"Level":3,"About":"Anyone jumped: Give one random friendly pet +12 attack and +12 health."}],"Id":"424","Name":"Philippine Eagle","NameId":"PhilippineEagle","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"],"Random":true},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"Faint: Make ANY three random pets Crisp, then summon one 4/4 Young Phoenix."},{"Level":2,"About":"Faint: Make ANY six random pets Crisp, then summon one 8/8 Young Phoenix."},{"Level":3,"About":"Faint: Make ANY nine random pets Crisp, then summon one 12/12 Young Phoenix."}],"Id":"366","Name":"Phoenix","NameId":"Phoenix","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Anyone attacks: Take 6 damage, once.","CustomArchetypes":["Ailments"],"Random":true},{"Attack":10,"Health":4,"Abilities":[{"Level":1,"About":"Hurt: Give friends +3 attack."},{"Level":2,"About":"Hurt: Give friends +6 attack."},{"Level":3,"About":"Hurt: Give friends +9 attack."}],"Id":"118","Name":"Piranha","NameId":"Piranha","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and +1 health to one friend of each tier."},{"Level":2,"About":"End turn: Give +2 attack and +2 health to one friend of each tier."},{"Level":3,"About":"End turn: Give +3 attack and +3 health to one friend of each tier."}],"Id":"96","Name":"Poodle","NameId":"Poodle","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Friend faints: Re-summon it behind this as a 1/1. Works 1 time per battle.","FinePrint":"Does not summon other Pteranodons."},{"Level":2,"About":"Friend faints: Re-summon it behind this as a 1/1. Works 2 times per battle.","FinePrint":"Does not summon other Pteranodons."},{"Level":3,"About":"Friend faints: Re-summon it behind this as a 1/1. Works 3 times per battle.","FinePrint":"Does not summon other Pteranodons."}],"Id":"253","Name":"Pteranodon","NameId":"Pteranodon","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Friendly toy repeats its ability as level 1."},{"Level":2,"About":"Friendly toy repeats its ability as level 2."},{"Level":3,"About":"Friendly toy repeats its ability as level 3."}],"Id":"254","Name":"Puma","NameId":"Puma","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":7,"Health":9,"Abilities":[{"Level":1,"About":"Sell: Choose one level 1 king toy."},{"Level":2,"About":"Sell: Choose one level 2 king toy."},{"Level":3,"About":"Sell: Choose one level 3 king toy."}],"Id":"616","Name":"Questing Beast","NameId":"QuestingBeast","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"End turn: Give one random tier 3 or lower friend +2 experience."},{"Level":2,"About":"End turn: Give one random tier 3 or lower friend +2 experience. Triggers 2 times."},{"Level":3,"About":"End turn: Give one random tier 3 or lower friend +2 experience. Triggers 3 times."}],"Id":"367","Name":"Quetzalcoatl","NameId":"Quetzalcoatl","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"],"Random":true},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Friend lost perk: Return its perk. Works on one friend per turn."},{"Level":2,"About":"Friend lost perk: Return its perk. Works on two different friends per turn."},{"Level":3,"About":"Friend lost perk: Return its perk. Works on three different friends per turn."}],"Id":"561","Name":"Real Velociraptor","NameId":"RealVelociraptor","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":9,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Gain Melon perk. Works 1 time per battle."},{"Level":2,"About":"Before attack: Gain Melon perk. Works 2 times per battle."},{"Level":3,"About":"Before attack: Gain Melon perk. Works 3 times per battle."}],"Id":"205","Name":"Reindeer","NameId":"Reindeer","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and gain +12 trumpets. Works 1 time per battle."},{"Level":2,"About":"Empty front space: Jump to the front and gain +24 trumpets. Works 1 time per battle."},{"Level":3,"About":"Empty front space: Jump to the front and gain +36 trumpets. Works 1 time per battle."}],"Id":"533","Name":"Rockhopper Penguin","NameId":"SouthernRockhopperPenguin","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard","Trumpets"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one Mammoth with +2 attack and +3 health for each time this was hurt."},{"Level":2,"About":"Faint: Summon two Mammoths with +2 attack and +3 health for each time this was hurt."},{"Level":3,"About":"Faint: Summon three Mammoths with +2 attack and +3 health for each time this was hurt."}],"Id":"148","Name":"Sabertooth Tiger","NameId":"SabertoothTiger","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon","Hurt"]},{"Attack":4,"Health":12,"Abilities":[{"Level":1,"About":"Friendly gained perk: Gain +1 gold next turn. Works 3 times per turn."},{"Level":2,"About":"Friendly gained perk: Gain +2 gold next turn. Works 3 times per turn."},{"Level":3,"About":"Friendly gained perk: Gain +3 gold next turn. Works 3 times per turn."}],"Id":"98","Name":"Sauropod","NameId":"Sauropod","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Gold","Perks"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"This pet\'s mana damage hits the most healthy enemy and one extra enemy."},{"Level":2,"About":"This pet\'s mana damage hits the most healthy enemy and two extra enemies."},{"Level":3,"About":"This pet\'s mana damage hits the most healthy enemy and three extra enemies."}],"Id":"372","Name":"Sea Serpent","NameId":"SeaSerpent","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Disruption"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Start of battle: Transform two friends behind into ANY useful level 1 <b>Faint</b> pets from tier 6."},{"Level":2,"About":"Start of battle: Transform two friends behind into ANY useful level 2 <b>Faint</b> pets from tier 6."},{"Level":3,"About":"Start of battle: Transform two friends behind into ANY useful level 3 <b>Faint</b> pets from tier 6."}],"Id":"432","Name":"Silky Sifaka","NameId":"SilkySifaka","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":8,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend +1 mana for each 2 attack this has."},{"Level":2,"About":"Start of battle: Give the two front-most friends +1 mana for each 2 attack this has."},{"Level":3,"About":"Start of battle: Give the three front-most friends +1 mana for each 2 attack this has."}],"Id":"606","Name":"Sleipnir","NameId":"Sleipnir","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Summoned: Deal 2 damage to ALL other pets. Double against enemies."},{"Level":2,"About":"Summoned: Deal 2 damage to ALL other pets. Double against enemies. Triggers 2 times."},{"Level":3,"About":"Summoned: Deal 2 damage to ALL other pets. Double against enemies. Triggers 3 times."}],"Id":"773","Name":"Small One","NameId":"BabyCthulhu","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Deal 5 damage to one random enemy. Works 5 times per battle."},{"Level":2,"About":"Friend ahead attacks: Deal 10 damage to one random enemy. Works 5 times per battle."},{"Level":3,"About":"Friend ahead attacks: Deal 15 damage to one random enemy. Works 5 times per battle."}],"Id":"73","Name":"Snake","NameId":"Snake","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Guard"],"Random":true},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend faints: Give one random friend +2 attack and +3 health."},{"Level":2,"About":"Friend faints: Give one random friend +4 attack and +6 health."},{"Level":3,"About":"Friend faints: Give one random friend +6 attack and +9 health."}],"Id":"143","Name":"Spinosaurus","NameId":"Spinosaurus","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon","Mvp"],"Random":true},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Give one perk-less friend +10 attack and +10 health."},{"Level":2,"About":"Start of battle: Give one perk-less friend +20 attack and +20 health."},{"Level":3,"About":"Start of battle: Give one perk-less friend +30 attack and +30 health."}],"Id":"144","Name":"Stegosaurus","NameId":"Stegosaurus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":9,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Jump-attack the opposite enemy."},{"Level":2,"About":"Start of battle: Jump-attack the opposite enemy and deal 6 damage to adjacent enemies."},{"Level":3,"About":"Start of battle: Jump-attack the opposite enemy and deal 12 damage to adjacent enemies."}],"Id":"434","Name":"Sumatran Tiger","NameId":"SumatranTiger","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":4,"Health":10,"Abilities":[{"Level":1,"About":"Start of battle: If turn number is odd, deal 4 damage to ALL pets ahead."},{"Level":2,"About":"Start of battle: If turn number is odd, deal 8 damage to ALL pets ahead."},{"Level":3,"About":"Start of battle: If turn number is odd, deal 12 damage to ALL pets ahead."}],"Id":"568","Name":"Sunfish","NameId":"Sunfish","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 10/10 level 1 copy of the back-most friend."},{"Level":2,"About":"Start of battle: Summon one 20/20 level 2 copy of the back-most friend."},{"Level":3,"About":"Start of battle: Summon one 30/30 level 3 copy of the back-most friend."}],"Id":"208","Name":"Tapir","NameId":"Tapir","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Friend level-up: Give friends +1 attack and +1 health."},{"Level":2,"About":"Friend level-up: Give friends +2 attack and +2 health."},{"Level":3,"About":"Friend level-up: Give friends +3 attack and +3 health."}],"Id":"636","Name":"Team Spirit","NameId":"TeamSpirit","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give Peanut perk to the front-most Strawberry friend."},{"Level":2,"About":"Start of battle: Give Peanut perk to the two front-most Strawberry friends."},{"Level":3,"About":"Start of battle: Give Peanut perk to the three front-most Strawberry friends."}],"Id":"806","Name":"Terror Bird","NameId":"TerrorBird","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this.","CustomArchetypes":["Strawberry"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Give Coconut perk to the front-most Strawberry friend."},{"Level":2,"About":"Start of battle: Give Coconut perk to the two front-most Strawberry friends."},{"Level":3,"About":"Start of battle: Give Coconut perk to the three front-most Strawberry friends."}],"Id":"759","Name":"Therizinosaurus","NameId":"Therizinosaurus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Strawberry"]},{"Attack":6,"Health":4,"Abilities":[{"Level":1,"About":"The friend ahead repeats their ability in battle as if they were level 1."},{"Level":2,"About":"The friend ahead repeats their ability in battle as if they were level 2."},{"Level":3,"About":"The friend ahead repeats their ability in battle as if they were level 3."}],"Id":"77","Name":"Tiger","NameId":"Tiger","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Mvp","Mvp"]},{"Attack":7,"Health":7,"Abilities":[{"Level":1,"About":"Start of turn: Give two tier 5 friends or higher +2 attack and +2 health."},{"Level":2,"About":"Start of turn: Give two tier 5 friends or higher +4 attack and +4 health."},{"Level":3,"About":"Start of turn: Give two tier 5 friends or higher +6 attack and +6 health."}],"Id":"78","Name":"Tyrannosaurus","NameId":"Tyrannosaurus","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and +2 health to each friend with a different ailment."},{"Level":2,"About":"End turn: Give +2 attack and +4 health to each friend with a different ailment."},{"Level":3,"About":"End turn: Give +3 attack and +6 health to each friend with a different ailment."}],"Id":"711","Name":"Vampire Squid","NameId":"VampireSquid","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Friend attacks: Steal friendly Strawberry ahead to give friends +2 attack and +3 health."},{"Level":2,"About":"Friend attacks: Steal friendly Strawberry ahead to give friends +4 attack and +6 health."},{"Level":3,"About":"Friend attacks: Steal friendly Strawberry ahead to give friends +6 attack and +9 health."}],"Id":"115","Name":"Velociraptor","NameId":"Velociraptor","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Peanut Butter perk to one random friend."},{"Level":2,"About":"Faint: Give Peanut Butter perk to two random friends."},{"Level":3,"About":"Faint: Give Peanut Butter perk to three random friends."}],"Id":"209","Name":"Walrus","NameId":"Walrus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this, once.","CustomArchetypes":["Perks"],"Random":true},{"Attack":9,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give random friends +1 attack and +1 health for every 3 attack this has."},{"Level":2,"About":"Faint: Give random friends +2 attack and +2 health for every 3 attack this has."},{"Level":3,"About":"Faint: Give random friends +3 attack and +3 health for every 3 attack this has."}],"Id":"266","Name":"Warthog","NameId":"Warthog","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend behind +3 experience."},{"Level":2,"About":"Start of battle: Give the two nearest friends behind +3 experience."},{"Level":3,"About":"Start of battle: Give the three nearest friends behind +3 experience."}],"Id":"206","Name":"White Tiger","NameId":"WhiteTiger","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":8,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Spend 2 trumpets to gain Coconut perk. Works 1 time per battle."},{"Level":2,"About":"Before attack: Spend 2 trumpets to gain Coconut perk. Works 2 times per battle."},{"Level":3,"About":"Before attack: Spend 2 trumpets to gain Coconut perk. Works 3 times per battle."}],"Id":"268","Name":"Wildebeest","NameId":"Wildebeest","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Trumpets"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"End turn: Give the nearest two friends ahead 5 mana."},{"Level":2,"About":"End turn: Give the nearest two friends ahead 10 mana."},{"Level":3,"About":"End turn: Give the nearest two friends ahead 15 mana."}],"Id":"633","Name":"Winter Spirit","NameId":"ForestSpirit","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Four friends hurt: Remove 3 health from all enemies."},{"Level":2,"About":"Four friends hurt: Remove 6 health from all enemies."},{"Level":3,"About":"Four friends hurt: Remove 9 health from all enemies."}],"Id":"269","Name":"Wolverine","NameId":"Wolverine","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Set attack and health of the most healthy pet from ANY team to 20."},{"Level":2,"About":"Faint: Set attack and health of the two most healthy pets from ANY team to 20."},{"Level":3,"About":"Faint: Set attack and health of the three most healthy pets from ANY team to 20."}],"Id":"766","Name":"Yellow Boxfish","NameId":"YellowBoxFish","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":9,"Abilities":[{"Level":1,"About":"Start of turn: Roll four times while freezing pet copies and tier 6 food."},{"Level":2,"About":"Start of turn: Roll eight times while freezing pet copies and tier 6 food."},{"Level":3,"About":"Start of turn: Roll twelve times while freezing pet copies and tier 6 food."}],"Id":"387","Name":"Yeti","NameId":"Yeti","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"648","Name":"Chimera Goat","NameId":"ChimeraGoat","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"650","Name":"Chimera Lion","NameId":"ChimeraLion","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"649","Name":"Chimera Snake","NameId":"ChimeraSnake","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"614","Name":"Fake Nessie","NameId":"FakeNessie","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Remove this."},{"Level":2,"About":"Start of battle: Remove this. Summoned: Remove this."},{"Level":3,"About":"Start of battle: Remove this. Summoned: Remove this."}],"Id":"823","Name":"Moby Dick","NameId":"MochaDick","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"Before battle: If pack has no pets/food from the tab, remove 1 XP from three random enemies."},{"Level":2,"About":"Before battle: If pack has no pets/food from the tab, remove 2 XP from three random enemies."},{"Level":3,"About":"Before battle: If pack has no pets/food from the tab, remove 3 XP from three random enemies."}],"Id":"824","Name":"Tanystropheus","NameId":"Tanystropheus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]}]')},13322(O,S,i){i.d(S,{$:()=>v});var A=i(56518),c=i(46200),E=i(5615),_=i(1152);class v extends c.i{logService;abilityService;name="Pheasant";tier=1;pack="Star";attack=2;health=1;initAbilities(){this.addAbility(new e(this,this.logService,this.abilityService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends E.T{logService;abilityService;reset(){this.maxUses=this.level,super.reset()}constructor(n,a,o){super({name:"PheasantAbility",owner:n,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:n.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=a,this.abilityService=o}executeAbility(n){const{triggerPet:o,tiger:r,pteranodon:d}=n,g=this.owner,f=(0,_.Uj)(g,o);if(!f.pet)return;const D=f.pet;(0,_.rv)(this.logService,g,`${g.name} gave ${D.name} a Strawberry.`,r,d,{randomEvent:f.random}),D.givePetEquipment(new A.q(this.logService)),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService,this.abilityService)}}},13325(O,S,i){i.d(S,{Q:()=>v});var A=i(46200),c=i(5615),E=i(56990),_=i(33127);class v extends A.i{logService;abilityService;name="Desert Rain Frog";tier=2;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"DesertRainFrogAbility",owner:n,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:n.level,condition:o=>this.owner.parent.trumpets>=1,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const{tiger:a,pteranodon:o}=n,r=this.owner,d=_.I.getInjector().get(E.T);let g=Math.min(6,r.tier+this.level),f=d.getRandomFaintPet(r.parent,g,[],r);this.logService.createLog({message:`${r.name} transformed into ${f.name}.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:!0}),r.parent.spendTrumpets(1,r,o),r.parent.transformPet(r,f),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService)}}},13340(O,S,i){i.d(S,{x:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Emperor Tamarin";tier=3;pack="Custom";attack=3;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Emperor Tamarin Ability",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} sold and gave ${1===this.level?33:2===this.level?66:100}% of its stats to the leftmost shop pet.`,type:"ability",player:t.parent}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},13420(O,S,i){i.d(S,{a:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Takin";tier=3;pack="Danger";attack=1;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TakinAbility",owner:e,triggers:["FriendAheadHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=this.level,g=2*this.level,f=r.parent.getThis(r),D=f.pet;D.increaseAttack(d),D.increaseHealth(g),this.logService.createLog({message:`${r.name} gave ${D.name} ${d} attack and ${g} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},13651(O,S,i){i.d(S,{J:()=>c});var A=i(22097);class c extends A.${name="Croissant";tier=3;equipmentClass="shop";constructor(){super()}}},13712(O,S,i){i.d(S,{u:()=>c});var A=i(22097);class c extends A.${name="Peanut";tier=7;equipmentClass="attack";power=0}},13713(O,S,i){i.d(S,{s:()=>c});var A=i(50873);class c extends A.L{name="Holy Grail";tier=6}},13761(O,S,i){i.d(S,{s:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Sleeping Gelada";tier=1;pack="Custom";hidden=!0;attack=3;health=7;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},13837(O,S,i){i.d(S,{V:()=>e});var A=i(46200),c=i(5615),E=i(58857),_=i(61850),v=i(79222);class e extends A.i{logService;abilityService;petService;name="Harpy Eagle";tier=6;pack="Custom";attack=6;health=6;initAbilities(){this.addAbility(new t(this,this.logService,this.petService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L,F){super(a,o,d),this.logService=a,this.abilityService=o,this.petService=r,this.initPet(k,g,f,D,L,F)}}class t extends c.T{logService;petService;usesThisTurn=0;constructor(a,o,r){super({name:"HarpyEagleAbility",owner:a,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:d=>{this.executeAbility(d)}}),this.logService=o,this.petService=r}executeAbility(a){if("ThisHurt"!==a.trigger||this.usesThisTurn>=3)return;this.usesThisTurn++;const{gameApi:o,tiger:r}=a,g=this.owner;let f=5*this.level;const D=$=>($??[]).filter(q=>q&&g.name&&q.toLowerCase()!==g.name.toLowerCase()),k=g.parent===o.player?o.playerPetPool:o.opponentPetPool;let L=D(k?.get(1));if(L.length||(L=D(this.petService.allPets.get(1))),!L.length)return;const F=(0,E.k6)({key:"pet.harpy-eagle-hurt-summon",label:(0,v.I)(g,"Harpy Eagle hurt summon"),options:L.map($=>({id:$,label:$}))},()=>(0,_.hw)(0,L.length-1));let ne=this.petService.createPet({name:L[F.index],attack:f,health:f,equipment:null,mana:0,exp:0},g.parent);g.parent.summonPet(ne,g.savedPosition,!1,g).success&&this.logService.createLog({message:`${g.name} spawned ${ne.name} (${f}/${f}).`,type:"ability",player:g.parent,tiger:r,randomEvent:F.randomEvent}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.petService)}}},13891(O,S,i){i.d(S,{x:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Tucuxi";tier=3;pack="Danger";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TucuxiAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.getLastPet([r],r),g=d.pet;if(!g)return;r.parent.pushPetToFront(g,!1),this.logService.createLog({message:`${r.name} pushed ${g.name} to the front`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:d.random});let f=3*this.level;g.increaseAttack(f),g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} +${f} attack and +${f} health`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},13950(O,S,i){i.d(S,{F:()=>v,h:()=>_});var A=i(44402),c=i(50873),E=i(5615);class _ extends c.L{name="Melon Helmet";tier=3;onBreak(t,n){let a=this.parent.petArray.filter(o=>o.alive).slice(0,this.level);for(let o of a)o.givePetEquipment(new A.m),this.logService.createLog({message:`${this.name} gave ${o.name} Melon.`,type:"ability",player:this.parent,puma:n})}}class v extends E.T{logService;constructor(t,n){super({name:"MelonHelmetAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.getPetsWithEquipment("Melon"),f=d.parent.getFurthestUpPets(this.level,g,d),D=f.pets;for(let k of D)k.givePetEquipment(new A.m),this.logService.createLog({message:`${d.name} gave ${k.name} Melon.`,type:"ability",player:d.parent,tiger:o,randomEvent:f.random});this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},13997(O,S,i){i.d(S,{N:()=>v});var A=i(22097),c=i(5615),E=i(33127),_=i(24111);class v extends A.${name="Oyster Mushroom";equipmentClass="beforeAttack";callback=n=>{const a=n.getEquippedEquipmentInstance(this);n.addAbility(new e(n,a))}}class e extends c.T{equipment;logService;constructor(n,a){super({name:"OysterMushroomAbility",owner:n,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:o=>this.executeAbility(o)}),this.equipment=a,this.logService=E.I.getInjector().get(_.K)}executeAbility(n){const a=this.owner,o=Math.max(a.attack,9),r=Math.max(a.health,9);o!==a.attack&&(a.attack=o),r!==a.health&&(a.health=r),this.logService.createLog({message:`${a.name} set stats to ${a.attack}/${a.health}. (Oyster Mushroom)`,type:"equipment",player:a.parent}),a.removePerk()}}},14166(O,S,i){i.d(S,{A:()=>E});var A=i(50336);const E=function c(_){return(0,A.A)(this.__data__,_)>-1}},14173(O,S,i){i.d(S,{A:()=>E});var A=i(73180);const E=function c(){this.__data__=new A.A,this.size=0}},14182(O,S,i){i.d(S,{O:()=>E});var A=i(23828),c=i(50873);class E extends c.L{name="Dice Cup";tier=1;startOfBattle(v,e){const t=(0,A.A)(this.parent.petArray.filter(n=>n.alive));for(let n=0;n<5;n++)this.parent.setPet(n,t[n]??null);this.logService.createLog({message:`${this.name} shuffled the team.`,type:"ability",player:this.parent,puma:e})}}},14218(O,S,i){i.d(S,{w:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Snail";tier=2;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SnailAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,n=e.gameApi;if(!(t.parent===n?.player?n?.playerLostLastBattle:n?.opponentLostLastBattle))return;const r=this.level,d=t.parent.nearestPetsAhead(3,t);if(0!==d.pets.length){for(const g of d.pets)g.increaseAttack(r);this.logService.createLog({message:`${t.name} gave ${d.pets.map(g=>g.name).join(", ")} +${r} attack.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:d.random}),this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},14228(O,S,i){i.d(S,{d:()=>_});var A=i(46200),c=i(5615),E=i(4230);class _ extends A.i{logService;abilityService;name="Owl";tier=3;pack="Puppy";attack=3;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"OwlAbility",owner:t,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,o=new E.K(this.logService,this.abilityService,n.parent,null,null,null,this.minExpForLevel),r=n.parent.summonPet(o,n.savedPosition,!1,n);r.success&&this.logService.createLog({message:`${n.name} summoned a level ${this.level} Mouse.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon,randomEvent:r.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},14271(O,S,i){i.d(S,{t:()=>E});var A=i(22097),c=i(5615);class E extends A.${logService;petService;name="Mushroom";tier=6;equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService,this.petService))};constructor(e,t){super(),this.logService=e,this.petService=t}}class _ extends c.T{equipment;logService;petService;constructor(e,t,n,a){super({name:"MushroomAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:o=>{this.executeAbility(o)}}),this.equipment=t,this.logService=n,this.petService=a}executeAbility(e){const t=this.owner;for(let n=0;n<this.equipment.multiplier;n++){let a=this.petService.createDefaultVersionOfPet(t,1,1);a.exp=t.exp,a.triggersConsumed=t.triggersConsumed,a.originalTriggersConsumed=t.triggersConsumed,t.parent.summonPet(a,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned ${a.name} (level ${a.level}) (Mushroom)${n>0?this.equipment.multiplierMessage:""}`,type:"ability",player:t.parent})}}}},14421(O,S,i){i.d(S,{of:()=>_});var A=i(32234),c=i(44279),E=i(32496);function _(...v){let e=v[v.length-1];return(0,A.m)(e)?(v.pop(),(0,E.V)(v,e)):(0,c.c)(v)}},14429(O,S,i){i.d(S,{A:()=>v});var A=i(6792),c=i(42917),E=i(31287);const v=function _(e){return(0,E.A)(e)?(0,A.A)(e):(0,c.A)(e)}},14469(O,S,i){i.d(S,{j:()=>_});var A=i(46200),c=i(5615),E=i(23638);class _ extends A.i{logService;abilityService;petService;name="Ammonite";tier=6;pack="Star";attack=5;health=3;initAbilities(){this.addAbility(new v(this,this.logService,this.petService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D,k){super(t,n,o),this.logService=t,this.abilityService=n,this.petService=a,this.initPet(f,r,d,g,D,k)}}class v extends c.T{logService;petService;constructor(t,n,a){super({name:"AmmoniteAbility",owner:t,triggers:["Faint"],abilityType:"Pet",abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.petService=a}executeAbility(t){const{gameApi:n}=t,d=this.owner;let g=d.parent.nearestPetsBehind(1,d);if(0===g.pets.length)return;let f=g.pets[0],k=Math.floor((d.parent===n.player?n.playerRollAmount:n.opponentRollAmount)/2)*this.level,L=this.petService.createPet({name:"Mimic Octopus",attack:f.attack,health:f.health,equipment:f.equipment,mana:f.mana,exp:null},d.parent);(0,E.c2)({logService:this.logService,owner:d,context:t,fromPet:f,toPet:L,message:`${d.name} transformed ${f.name} into ${L.name}`,extras:{randomEvent:g.random}});let F=d.parent.getSpecificPet(d,L),J=F.pet;null!=J&&((0,E.Oe)({logService:this.logService,owner:d,context:t,target:J,amount:k,extras:{randomEvent:F.random}}),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService,this.petService)}}},14541(O,S,i){i.d(S,{A:()=>_});var v,A=i(39748),c=(v=/[^.]+$/.exec(A.A&&A.A.keys&&A.A.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"";const _=function E(v){return!!c&&c in v}},14787(O,S,i){i.d(S,{s:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Summoned Cockroach";tier=1;pack="Star";attack=1;health=1;hidden=!0;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},14829(O,S,i){i.d(S,{M:()=>_});var A=i(46200),c=i(56057),E=i(5615);class _ extends A.i{logService;abilityService;name="Slug";tier=4;pack="Golden";attack=4;health=4;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends E.T{logService;abilityService;constructor(t,n,a){super({name:"SlugAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let D=new c.m(this.logService,this.abilityService,d.parent,2*this.level,2*this.level,0,d.minExpForLevel),k=d.parent.summonPet(D,d.savedPosition,!1,d);k.success&&this.logService.createLog({message:`${d.name} spawned Smaller Slug Level ${d.level}`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:k.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},14908(O,S,i){i.d(S,{r:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Loyal Chinchilla";tier=1;pack="Puppy";hidden=!0;health=2;attack=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"LoyalChinchillaAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},15030(O,S,i){i.d(S,{A:()=>E});var A=i(3746);const E=function c(_,v){var e=(0,A.A)(this,_),t=e.size;return e.set(_,v),this.size+=e.size==t?0:1,this}},15082(O,S,i){i.d(S,{Fq:()=>E,IF:()=>_,N7:()=>v,NL:()=>c});var A=i(62223);function c(r){const d=r.filter(g=>!!g).sort((g,f)=>f.length-g.length).map(g=>function o(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(g));return d.length?new RegExp(`(?<![A-Za-z0-9])(${d.join("|")})(?![A-Za-z0-9])`,"g"):null}function E(r,d,g){const f=new Map;for(const D of g)D&&f.set(D,"equipment");for(const D of d)D&&f.set(D,"toy");for(const D of r)D&&f.set(D,"pet");return f}function _(r,d,g){const f=new Set;return r.forEach(D=>D&&f.add(D)),d.forEach(D=>D&&f.add(D)),g.forEach(D=>D&&f.add(D)),c(Array.from(f))}function v(r,d,g,f){if(!r||r.includes("<img")||!d)return r;let D=n(r,d,ae=>function e(r,d,g){const f=d.get(r)??null;if("pet"===f)return(0,A.EA)(r);if("toy"===f)return(0,A.bG)(r);if("equipment"===f){const D=g.has(r);return(0,A.ht)(r,D)??(0,A.ht)(r,!D)}return null}(ae,g,f),ae=>function t(r,d,g){if("equipment"!==(d.get(r)??null))return null;const D=g.has(r),k=(0,A.ht)(r,D);if(!k)return null;const L=(0,A.ht)(r,!D);return`<img src="${k}" class="log-inline-icon" alt="${r}" onerror="if(!this.dataset.step){${L?`this.dataset.step='1';this.src='${L}';`:"this.dataset.step='1';"}return;}this.remove();"> ${r}`}(ae,g,f));return D=n(D,/(?<![A-Za-z0-9])mana(?![A-Za-z0-9])(?!\s+Potion)/gi,()=>"assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/mana.png"),D=n(D,/(?<![A-Za-z0-9])(?:xp|exp)(?![A-Za-z0-9])/gi,()=>"assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/xp.png"),D=n(D,/(?<![A-Za-z0-9])gold(?![A-Za-z0-9])/gi,()=>"assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/gold.png"),D=n(D,/(?<![A-Za-z0-9])trumpets?(?![A-Za-z0-9])/gi,()=>"assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/trumpet.png"),D}function n(r,d,g,f){return r.split(/(<[^>]+>)/g).map(D=>D.startsWith("<")?D:function a(r,d,g,f){return d?r.replace(d,D=>{const k=g(D);if(f){const L=f(D,k);if(L)return L}return k?`<img src="${k}" class="log-inline-icon" alt="${D}" onerror="this.remove()"> ${D}`:D}):r}(D,d,g,f)).join("")}},15481(O,S,i){i.d(S,{A:()=>E});const E=function c(_){return"number"==typeof _&&_>-1&&_%1==0&&_<=9007199254740991}},15504(O,S,i){i.d(S,{Z:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Pangolin";tier=3;pack="Puppy";attack=2;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PangolinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>null!=this.owner.parent.toy,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.nearestPetsBehind(1,r);if(0===d.pets.length)return;let g=d.pets[0],f=4*this.level;g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},15523(O,S,i){i.d(S,{Z:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Cuckoo Chick";tier=1;pack="Custom";hidden=!0;attack=1;health=1;increaseAttack(_){if(_<=0||!this.alive)return 0;const v=this.attack;return this.attack=Math.min(this.attack+_,1),this.attack-v}increaseHealth(_){if(_<=0||!this.alive)return 0;const v=this.health;return this.health=Math.min(this.health+_,1),this.health-v}constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},15539(O,S,i){i.d(S,{M:()=>_});var A=i(70762);function c(){}var E=i(98099);function _(t,n,a){return function(r){return r.lift(new v(t,n,a))}}class v{constructor(n,a,o){this.nextOrObserver=n,this.error=a,this.complete=o}call(n,a){return a.subscribe(new e(n,this.nextOrObserver,this.error,this.complete))}}class e extends A.v{constructor(n,a,o,r){super(n),this._tapNext=c,this._tapError=c,this._tapComplete=c,this._tapError=o||c,this._tapComplete=r||c,(0,E.T)(a)?(this._context=this,this._tapNext=a):a&&(this._context=a,this._tapNext=a.next||c,this._tapError=a.error||c,this._tapComplete=a.complete||c)}_next(n){try{this._tapNext.call(this._context,n)}catch(a){return void this.destination.error(a)}this.destination.next(n)}_error(n){try{this._tapError.call(this._context,n)}catch(a){return void this.destination.error(a)}this.destination.error(n)}_complete(){try{this._tapComplete.call(this._context)}catch(n){return void this.destination.error(n)}return this.destination.complete()}}},15684(O,S,i){i.d(S,{S:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Humphead Wrasse";tier=4;pack="Danger";attack=6;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"HumpheadWrasseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=.3*this.level,g=r.parent.opponent.getHighestAttackPet(void 0,r);if(!g.pet)return;let f=g.pet,D=Math.ceil(f.attack*d),k=Math.max(1,f.attack-D);f.attack=k,this.logService.createLog({message:`${r.name} reduced ${f.name}'s attack by ${100*d}% to ${f.attack}.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},15824(O,S,i){i.d(S,{Ag:()=>xe,Bg:()=>F,EF:()=>Ne,H8:()=>de,Ht:()=>e,JC:()=>g,KE:()=>n,KO:()=>mt,KZ:()=>Te,Ny:()=>Ue,O8:()=>nt,TO:()=>L,Wu:()=>ne,XR:()=>q,a7:()=>ye,bh:()=>v,j2:()=>yt,lh:()=>Et,mC:()=>rt,mK:()=>r,n5:()=>it,nR:()=>t,pL:()=>o,s0:()=>kt,si:()=>$,vX:()=>$t});let A=null,c=!1,E=1;const v=Symbol("SIGNAL");function e(ge){const Oe=A;return A=ge,Oe}function t(){return A}function n(){return c}const o={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function r(ge){if(c)throw new Error("");if(null===A)return;A.consumerOnSignalRead(ge);const Oe=A.producersTail;if(void 0!==Oe&&Oe.producer===ge)return;let Ve;const Fe=A.recomputing;if(Fe&&(Ve=void 0!==Oe?Oe.nextProducer:A.producers,void 0!==Ve&&Ve.producer===ge))return A.producersTail=Ve,void(Ve.lastReadVersion=ge.version);const ot=ge.consumersTail;if(void 0!==ot&&ot.consumer===A&&(!Fe||function Ce(ge,Oe){const Ve=Oe.producersTail;if(void 0!==Ve){let Fe=Oe.producers;do{if(Fe===ge)return!0;if(Fe===Ve)break;Fe=Fe.nextProducer}while(void 0!==Fe)}return!1}(ot,A)))return;const Bt=_e(A),Rt={producer:ge,consumer:A,nextProducer:Ve,prevConsumer:ot,lastReadVersion:ge.version,nextConsumer:void 0};A.producersTail=Rt,void 0!==Oe?Oe.nextProducer=Rt:A.producers=Rt,Bt&&ae(ge,Rt)}function g(ge){if((!_e(ge)||ge.dirty)&&(ge.dirty||ge.lastCleanEpoch!==E)){if(!ge.producerMustRecompute(ge)&&!$(ge))return void L(ge);ge.producerRecomputeValue(ge),L(ge)}}function f(ge){if(void 0===ge.consumers)return;const Oe=c;c=!0;try{for(let Ve=ge.consumers;void 0!==Ve;Ve=Ve.nextConsumer){const Fe=Ve.consumer;Fe.dirty||k(Fe)}}finally{c=Oe}}function D(){return!1!==A?.consumerAllowSignalWrites}function k(ge){ge.dirty=!0,f(ge),ge.consumerMarkedDirty?.(ge)}function L(ge){ge.dirty=!1,ge.lastCleanEpoch=E}function F(ge){return ge&&function J(ge){ge.producersTail=void 0,ge.recomputing=!0}(ge),e(ge)}function ne(ge,Oe){e(Oe),ge&&function H(ge){ge.recomputing=!1;const Oe=ge.producersTail;let Ve=void 0!==Oe?Oe.nextProducer:ge.producers;if(void 0!==Ve){if(_e(ge))do{Ve=le(Ve)}while(void 0!==Ve);void 0!==Oe?Oe.nextProducer=void 0:ge.producers=void 0}}(ge)}function $(ge){for(let Oe=ge.producers;void 0!==Oe;Oe=Oe.nextProducer){const Ve=Oe.producer,Fe=Oe.lastReadVersion;if(Fe!==Ve.version||(g(Ve),Fe!==Ve.version))return!0}return!1}function q(ge){if(_e(ge)){let Oe=ge.producers;for(;void 0!==Oe;)Oe=le(Oe)}ge.producers=void 0,ge.producersTail=void 0,ge.consumers=void 0,ge.consumersTail=void 0}function ae(ge,Oe){const Ve=ge.consumersTail,Fe=_e(ge);if(void 0!==Ve?(Oe.nextConsumer=Ve.nextConsumer,Ve.nextConsumer=Oe):(Oe.nextConsumer=void 0,ge.consumers=Oe),Oe.prevConsumer=Ve,ge.consumersTail=Oe,!Fe)for(let ot=ge.producers;void 0!==ot;ot=ot.nextProducer)ae(ot.producer,ot)}function le(ge){const Oe=ge.producer,Ve=ge.nextProducer,Fe=ge.nextConsumer,ot=ge.prevConsumer;if(ge.nextConsumer=void 0,ge.prevConsumer=void 0,void 0!==Fe?Fe.prevConsumer=ot:Oe.consumersTail=ot,void 0!==ot)ot.nextConsumer=Fe;else if(Oe.consumers=Fe,!_e(Oe)){let Bt=Oe.producers;for(;void 0!==Bt;)Bt=le(Bt)}return Ve}function _e(ge){return ge.consumerIsAlwaysLive||void 0!==ge.consumers}function ye(ge){}function de(ge,Oe){return Object.is(ge,Oe)}function Te(ge,Oe){const Ve=Object.create(ct);Ve.computation=ge,void 0!==Oe&&(Ve.equal=Oe);const Fe=()=>{if(g(Ve),r(Ve),Ve.value===Ne)throw Ve.error;return Ve.value};return Fe[v]=Ve,Fe}const xe=Symbol("UNSET"),Ue=Symbol("COMPUTING"),Ne=Symbol("ERRORED"),ct={...o,value:xe,dirty:!0,error:null,equal:de,kind:"computed",producerMustRecompute:ge=>ge.value===xe||ge.value===Ue,producerRecomputeValue(ge){if(ge.value===Ue)throw new Error("");const Oe=ge.value;ge.value=Ue;const Ve=F(ge);let Fe,ot=!1;try{Fe=ge.computation(),e(null),ot=Oe!==xe&&Oe!==Ne&&Fe!==Ne&&ge.equal(Oe,Fe)}catch(Bt){Fe=Ne,ge.error=Bt}finally{ne(ge,Ve)}ot?ge.value=Oe:(ge.value=Fe,ge.version++)}};let Ke=function Je(){throw new Error};function qe(ge){Ke(ge)}function mt(ge){Ke=ge}function it(ge,Oe){const Ve=Object.create(kt);Ve.value=ge,void 0!==Oe&&(Ve.equal=Oe);const Fe=()=>function ut(ge){return r(ge),ge.value}(Ve);return Fe[v]=Ve,[Fe,Rt=>yt(Ve,Rt),Rt=>rt(Ve,Rt)]}function yt(ge,Oe){D()||qe(ge),ge.equal(ge.value,Oe)||(ge.value=Oe,function Xt(ge){ge.version++,function d(){E++}(),f(ge)}(ge))}function rt(ge,Oe){D()||qe(ge),yt(ge,Oe(ge.value))}const kt={...o,equal:de,value:void 0,kind:"signal"};function nt(ge){const Oe=e(null);try{return ge()}finally{e(Oe)}}const $t={...o,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"};function Et(ge){if(ge.dirty=!1,ge.version>0&&!$(ge))return;ge.version++;const Oe=F(ge);try{ge.cleanup(),ge.fn()}finally{ne(ge,Oe)}}},15847(O,S,i){var A;i.d(S,{Y:()=>v});var c=i(74766);const E=new Map,_=c??(A||(A=i.t(c,2)))??[];for(const t of _)t?.Name&&E.set(t.Name,!0===t.Rollable);const v=t=>!!t?.name&&!0===E.get(t.name)},15896(O,S,i){i.d(S,{y:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Darwin's Fox";tier=2;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DarwinsFoxAbility",owner:e,triggers:["EnemyHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;if(n&&n.alive){let d=r.parent.getSpecificPet(r,n),g=d.pet;if(!g)return;r.jumpAttackPrep(g),r.jumpAttack(g,a,void 0,d.random)}else{let d=r.parent.opponent.getFurthestUpPet(r),g=d.pet;if(!g)return;r.jumpAttackPrep(g),r.jumpAttack(g,a,void 0,d.random)}this.triggerTigerExecution(e)}reset(){this.maxUses=this.level,super.reset()}copy(e){return new _(e,this.logService)}}},15998(O,S,i){function A(c){return!!c&&"function"!=typeof c.subscribe&&"function"==typeof c.then}i.d(S,{y:()=>A})},16042(O,S,i){i.d(S,{v:()=>_});var A=i(46200),c=i(5615),E=i(84932);class _ extends A.i{logService;abilityService;name="Bakunawa";tier=6;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Bakunawa Ability",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,a=n.parent.opponent.petArray.filter(g=>g&&g.alive&&"Sleepy"!==g.equipment?.name).sort((g,f)=>f.attack!==g.attack?f.attack-g.attack:(g.position??0)-(f.position??0));if(0===a.length)return void this.triggerTigerExecution(t);const o=a.slice(0,Math.min(this.level,a.length));for(const g of o){const f=new E.Z;f.multiplier+=this.level-1,g.givePetEquipment(f)}const r=["."," twice for double effect."," thrice for triple effect."],d=`${n.name} made ${o.map(g=>g.name).join(", ")} Sleepy${r[Math.min(this.level,r.length)-1]}`;this.logService.createLog({message:d,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},16080(O,S,i){i.d(S,{A:()=>Ve});var A=i(37302),c=i(99162),E=i(81984),_=i(9452),v=i(63507),e=i(9933),t=i(94528),n=i(30712),a=i(59975),o=i(67895),r=i(57372),d=i(63080),g=i(67104),f=i(57850),D=i(1178),k=i(43744),L=i(10259),F=i(41795),J=i(30554),ne=i(12173),H=i(14429),$=i(64238),_e="[object Arguments]",Te="[object Function]",ct="[object Object]",ge={};ge[_e]=ge["[object Array]"]=ge["[object ArrayBuffer]"]=ge["[object DataView]"]=ge["[object Boolean]"]=ge["[object Date]"]=ge["[object Float32Array]"]=ge["[object Float64Array]"]=ge["[object Int8Array]"]=ge["[object Int16Array]"]=ge["[object Int32Array]"]=ge["[object Map]"]=ge["[object Number]"]=ge[ct]=ge["[object RegExp]"]=ge["[object Set]"]=ge["[object String]"]=ge["[object Symbol]"]=ge["[object Uint8Array]"]=ge["[object Uint8ClampedArray]"]=ge["[object Uint16Array]"]=ge["[object Uint32Array]"]=!0,ge["[object Error]"]=ge[Te]=ge["[object WeakMap]"]=!1;const Ve=function Oe(Fe,ot,Bt,Rt,qt,zt){var Ht,Gi=1&ot,xt=2&ot,Qi=4&ot;if(Bt&&(Ht=qt?Bt(Fe,Rt,qt,zt):Bt(Fe)),void 0!==Ht)return Ht;if(!(0,J.A)(Fe))return Fe;var Vi=(0,k.A)(Fe);if(Vi){if(Ht=(0,g.A)(Fe),!Gi)return(0,t.A)(Fe,Ht)}else{var wi=(0,d.A)(Fe),Oi=wi==Te||"[object GeneratorFunction]"==wi;if((0,L.A)(Fe))return(0,e.A)(Fe,Gi);if(wi==ct||wi==_e||Oi&&!qt){if(Ht=xt||Oi?{}:(0,D.A)(Fe),!Gi)return xt?(0,a.A)(Fe,(0,v.A)(Ht,Fe)):(0,n.A)(Fe,(0,_.A)(Ht,Fe))}else{if(!ge[wi])return qt?Fe:{};Ht=(0,f.A)(Fe,wi,Gi)}}zt||(zt=new A.A);var zi=zt.get(Fe);if(zi)return zi;zt.set(Fe,Ht),(0,ne.A)(Fe)?Fe.forEach(function(fi){Ht.add(Oe(fi,ot,Bt,fi,Fe,zt))}):(0,F.A)(Fe)&&Fe.forEach(function(fi,Ci){Ht.set(Ci,Oe(fi,ot,Bt,Ci,Fe,zt))});var Mi=Vi?void 0:(Qi?xt?r.A:o.A:xt?$.A:H.A)(Fe);return(0,c.A)(Mi||Fe,function(fi,Ci){Mi&&(fi=Fe[Ci=fi]),(0,E.A)(Ht,Ci,Oe(fi,ot,Bt,Ci,Fe,zt))}),Ht}},16306(O,S,i){i.d(S,{$:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Pied Tamarin";tier=1;pack="Golden";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PiedTamarinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>this.owner.parent.trumpets>=1,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,null,null,!0,r);for(let g of d.pets)null!=g&&r.snipePet(g,3,d.random,a,o);d.pets.length>0&&r.parent.spendTrumpets(1,r,o),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},16408(O,S,i){i.d(S,{c:()=>t});var A=i(46200),c=i(5615),E=i(33127),_=i(26886),v=i(61850),e=i(1152);class t extends A.i{logService;abilityService;name="Mongoose";tier=6;pack="Puppy";attack=7;health=6;initAbilities(){this.addAbility(new n(this,this.logService,this.abilityService)),super.initAbilities()}constructor(o,r,d,g,f,D,k,L,F){super(o,r,d),this.logService=o,this.abilityService=r,this.initPet(k,g,f,D,L,F)}}class n extends c.T{logService;abilityService;constructor(o,r,d){super({name:"MongooseAbility",owner:o,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:o.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=r,this.abilityService=d}executeAbility(o){const r=this.owner,d=E.I.getInjector().get(_.w),g=Math.max(1,Math.min(3,this.level)),f=d.toys.get(g)??[];if(0===f.length)return void this.triggerTigerExecution(o);const D=f[(0,v.hw)(0,f.length-1)],k=d.createToy(D,r.parent,g);k?(r.parent.toy=k,r.parent.toy.used=!1,r.parent.toy.triggers=0,(0,e.rv)(this.logService,r,`${r.name} chose a level ${g} ${D} toy.`,o.tiger,o.pteranodon),this.triggerTigerExecution(o)):this.triggerTigerExecution(o)}copy(o){return new n(o,this.logService,this.abilityService)}}},16725(O,S,i){i.d(S,{o:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Bombus Dahlbomii";tier=1;pack="Danger";attack=1;health=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"BombusDahlbomiiAbility",owner:e,triggers:["EnemyAttacked2"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const{tiger:a}=e,r=this.owner;this.abilityService.setCounterEvent({callback:()=>{let d=r.parent.opponent.getFurthestUpPet(r),g=d.pet;g&&r.snipePet(g,1*this.level,d.random,a)},priority:r.attack,pet:r}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},16775(O,S,i){i.d(S,{a:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Mink";tier=2;pack="Custom";attack=3;health=3;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},17017(O,S,i){i.d(S,{W:()=>c});var A=i(22097);class c extends A.${logService;abilityService;name="Mild Chili";equipmentClass="skewer";power=0;originalPower=0;attackCallback=(_,v)=>{let e=v.parent.getPetAtPosition(1);null!=e&&_.snipePet(e,4*(_.equipment?.multiplier??1),!1,null,null,!0,!1,"attacked",4)};constructor(_,v){super(),this.logService=_,this.abilityService=v}}},17133(O,S,i){i.d(S,{A:()=>c});const c="object"==typeof global&&global&&global.Object===Object&&global},17144(O,S,i){i.d(S,{X:()=>_});var A=i(46200),c=i(5615),E=i(60385);class _ extends A.i{logService;abilityService;name="Painted Terrapin";tier=5;pack="Danger";health=6;attack=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"PaintedTerrapinAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.getPetsWithEquipment("White Okra"),f=d.parent.nearestPetsBehind(d.level,d,g),D=f.pets;for(let k of D)this.logService.createLog({message:`${d.name} gave ${k.name} White Okra perk`,type:"ability",tiger:o,player:d.parent,pteranodon:r,randomEvent:f.random}),k.givePetEquipment(new E.f);this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},17374(O,S,i){i.d(S,{V:()=>_});var A=i(46200),c=i(5615),E=i(56979);class _ extends A.i{logService;abilityService;name="Olm";tier=2;pack="Custom";attack=3;health=1;constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}}class v extends c.T{logService;constructor(t,n){super({name:"OlmAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const{gameApi:n,tiger:a,pteranodon:o}=t,r=this.owner,d=r.parent===n.player?n.playerRollAmount||0:n.opponentRollAmount||0,g=r.parent.getPetsWithEquipmentWithSillyFallback("Spooked",r),f=r.parent.opponent.getRandomPet(g,null,!0,null,r),D=f.pet;if(!D)return;const k=new E.E;d>0&&(k.multiplier+=d),this.logService.createLog({message:`${r.name} made ${D.name}${k.multiplier>1?` ${k.multiplier}x`:""} Spooked.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:f.random}),D.givePetEquipment(k),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},17385(O,S,i){function A(E){if(!E)return null;const _=Object.create(Object.getPrototypeOf(E));return Object.assign(_,E),_}i.d(S,{e:()=>A})},17520(O,S,i){i.d(S,{e:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Mimic";tier=5;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"Mimic Ability",owner:e,triggers:["StartBattle","PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=t;if("StartBattle"===e.trigger)return n.mimicFaintCount=0,n.mimicTriggeredThreshold=0,t.parent.pendingGoldFromMimic=0,void this.triggerTigerExecution(e);if("PostRemovalFriendFaints"===e.trigger){n.mimicFaintCount=(n.mimicFaintCount??0)+1;const a=Math.floor((n.mimicFaintCount??0)/3),o=n.mimicTriggeredThreshold??0;if(a>o){const r=a-o;n.mimicTriggeredThreshold=a;const g=this.level*r;t.parent.pendingGoldFromMimic=(t.parent.pendingGoldFromMimic??0)+g,this.logService.createLog({message:`${t.name} will grant +${g} gold next turn after ${n.mimicFaintCount} friendly faints.`,type:"ability",player:t.parent})}}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},17554(O,S,i){i.d(S,{k:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Centipede";tier=3;pack="Custom";attack=1;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;pendingAttack=0;pendingHealth=0;usedThisTurn=!1;constructor(e,t){super({name:"CentipedeAbility",owner:e,triggers:["FriendBought","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{trigger:t,triggerPet:n,tiger:a,pteranodon:o}=e,r=this.owner;if("FriendBought"===t){if(this.usedThisTurn||!n)return;const g=this.level*(n.tier??1);return r.increaseAttack(g),r.increaseHealth(g),this.pendingAttack+=g,this.pendingHealth+=g,this.usedThisTurn=!0,this.logService.createLog({message:`${r.name} gained +${g} attack and +${g} health until next turn.`,type:"ability",player:r.parent,tiger:a,pteranodon:o}),void this.triggerTigerExecution(e)}if("EndTurn"===t)return(this.pendingAttack||this.pendingHealth)&&(r.increaseAttack(-this.pendingAttack),r.increaseHealth(-this.pendingHealth),this.pendingAttack=0,this.pendingHealth=0),void(this.usedThisTurn=!1)}copy(e){return new _(e,this.logService)}}},17634(O,S,i){i.d(S,{T:()=>e});var A=i(46200),c=i(5615),E=i(33127),_=i(56990),v=i(86785);class e extends A.i{logService;abilityService;name="Wombat";tier=2;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new t(this,this.logService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{logService;constructor(a,o){super({name:"Wombat Ability",owner:a,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=o}executeAbility(a){const{tiger:o,pteranodon:r}=a,d=this.owner,f=d.parent.opponent.petArray.find(D=>D.alive&&D.isFaintPet());if(f){const D=E.I.getInjector().get(_.T);if(!D)return void this.triggerTigerExecution(a);const k=D.createPet({name:f.name,attack:null,health:null,exp:(0,v.l)(this.level),equipment:null,mana:null},d.parent);d.parent.transformPet(d,k),this.logService.createLog({message:`${d.name} transformed into level ${this.level} ${f.name}.`,type:"ability",player:d.parent,tiger:o,pteranodon:r})}this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService)}}},17647(O,S,i){i.d(S,{l:()=>_});var A=i(55378),c=i(46200),E=i(5615);class _ extends c.i{logService;abilityService;name="Visitor";tier=4;pack="Unicorn";attack=7;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends E.T{logService;constructor(t,n){super({name:"VisitorAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner,D=[...d.parent.nearestPetsBehind(this.level,d).pets,...d.parent.opponent.getFurthestUpPets(this.level).pets].filter(k=>k.alive&&"Icky"!==k.equipment?.name).filter((k,L,F)=>F.indexOf(k)===L);if(0!=D.length){for(let k of D)k.givePetEquipment(new A.z),this.logService.createLog({message:`${d.name} made ${k.name} Icky.`,type:"ability",player:d.parent,tiger:o,pteranodon:r});this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},17705(O,S,i){i.d(S,{L39:()=>Ti,MKu:()=>Li,TL3:()=>tn,Udg:()=>oi,_q3:()=>Ai,a0P:()=>fa,gRc:()=>ve});var A=i(47868),E=(i(15824),i(35547));i(31805);const ge=new A.nKC(""),Oe=new A.nKC("");function Ve(ee){return!ee.moduleRef}let Ht=null;let ve=(()=>class ee{static __NG_ELEMENT_ID__=Le})();function Le(ee){return function We(ee,j,Z){if((0,A.Qs1)(ee)&&!Z){const he=(0,A.KdJ)(ee.index,j);return new E.NCX(he,he)}return 175&ee.type?new E.NCX(j[A.b5C],j):null}((0,A.Mx4)(),(0,A.OAn)(),!(16&~ee))}class Kt{constructor(){}supports(j){return(0,E.ozJ)(j)}create(j){return new Pi(j)}}const At=(ee,j)=>j;class Pi{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(j){this._trackByFn=j||At}forEachItem(j){let Z;for(Z=this._itHead;null!==Z;Z=Z._next)j(Z)}forEachOperation(j){let Z=this._itHead,he=this._removalsHead,ke=0,Be=null;for(;Z||he;){const Ye=!he||Z&&Z.currentIndex<rn(he,ke,Be)?Z:he,at=rn(Ye,ke,Be),Tt=Ye.currentIndex;if(Ye===he)ke--,he=he._nextRemoved;else if(Z=Z._next,null==Ye.previousIndex)ke++;else{Be||(Be=[]);const Ot=at-ke,Vt=Tt-ke;if(Ot!=Vt){for(let _i=0;_i<Ot;_i++){const Wi=_i<Be.length?Be[_i]:Be[_i]=0,yn=Wi+_i;Vt<=yn&&yn<Ot&&(Be[_i]=Wi+1)}Be[Ye.previousIndex]=Vt-Ot}}at!==Tt&&j(Ye,at,Tt)}}forEachPreviousItem(j){let Z;for(Z=this._previousItHead;null!==Z;Z=Z._nextPrevious)j(Z)}forEachAddedItem(j){let Z;for(Z=this._additionsHead;null!==Z;Z=Z._nextAdded)j(Z)}forEachMovedItem(j){let Z;for(Z=this._movesHead;null!==Z;Z=Z._nextMoved)j(Z)}forEachRemovedItem(j){let Z;for(Z=this._removalsHead;null!==Z;Z=Z._nextRemoved)j(Z)}forEachIdentityChange(j){let Z;for(Z=this._identityChangesHead;null!==Z;Z=Z._nextIdentityChange)j(Z)}diff(j){if(null==j&&(j=[]),!(0,E.ozJ)(j))throw new A.buA(900,!1);return this.check(j)?this:null}onDestroy(){}check(j){this._reset();let ke,Be,Ye,Z=this._itHead,he=!1;if(Array.isArray(j)){this.length=j.length;for(let at=0;at<this.length;at++)Be=j[at],Ye=this._trackByFn(at,Be),null!==Z&&Object.is(Z.trackById,Ye)?(he&&(Z=this._verifyReinsertion(Z,Be,Ye,at)),Object.is(Z.item,Be)||this._addIdentityChange(Z,Be)):(Z=this._mismatch(Z,Be,Ye,at),he=!0),Z=Z._next}else ke=0,(0,E.utN)(j,at=>{Ye=this._trackByFn(ke,at),null!==Z&&Object.is(Z.trackById,Ye)?(he&&(Z=this._verifyReinsertion(Z,at,Ye,ke)),Object.is(Z.item,at)||this._addIdentityChange(Z,at)):(Z=this._mismatch(Z,at,Ye,ke),he=!0),Z=Z._next,ke++}),this.length=ke;return this._truncate(Z),this.collection=j,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let j;for(j=this._previousItHead=this._itHead;null!==j;j=j._next)j._nextPrevious=j._next;for(j=this._additionsHead;null!==j;j=j._nextAdded)j.previousIndex=j.currentIndex;for(this._additionsHead=this._additionsTail=null,j=this._movesHead;null!==j;j=j._nextMoved)j.previousIndex=j.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(j,Z,he,ke){let Be;return null===j?Be=this._itTail:(Be=j._prev,this._remove(j)),null!==(j=null===this._unlinkedRecords?null:this._unlinkedRecords.get(he,null))?(Object.is(j.item,Z)||this._addIdentityChange(j,Z),this._reinsertAfter(j,Be,ke)):null!==(j=null===this._linkedRecords?null:this._linkedRecords.get(he,ke))?(Object.is(j.item,Z)||this._addIdentityChange(j,Z),this._moveAfter(j,Be,ke)):j=this._addAfter(new Fi(Z,he),Be,ke),j}_verifyReinsertion(j,Z,he,ke){let Be=null===this._unlinkedRecords?null:this._unlinkedRecords.get(he,null);return null!==Be?j=this._reinsertAfter(Be,j._prev,ke):j.currentIndex!=ke&&(j.currentIndex=ke,this._addToMoves(j,ke)),j}_truncate(j){for(;null!==j;){const Z=j._next;this._addToRemovals(this._unlink(j)),j=Z}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(j,Z,he){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(j);const ke=j._prevRemoved,Be=j._nextRemoved;return null===ke?this._removalsHead=Be:ke._nextRemoved=Be,null===Be?this._removalsTail=ke:Be._prevRemoved=ke,this._insertAfter(j,Z,he),this._addToMoves(j,he),j}_moveAfter(j,Z,he){return this._unlink(j),this._insertAfter(j,Z,he),this._addToMoves(j,he),j}_addAfter(j,Z,he){return this._insertAfter(j,Z,he),this._additionsTail=null===this._additionsTail?this._additionsHead=j:this._additionsTail._nextAdded=j,j}_insertAfter(j,Z,he){const ke=null===Z?this._itHead:Z._next;return j._next=ke,j._prev=Z,null===ke?this._itTail=j:ke._prev=j,null===Z?this._itHead=j:Z._next=j,null===this._linkedRecords&&(this._linkedRecords=new gi),this._linkedRecords.put(j),j.currentIndex=he,j}_remove(j){return this._addToRemovals(this._unlink(j))}_unlink(j){null!==this._linkedRecords&&this._linkedRecords.remove(j);const Z=j._prev,he=j._next;return null===Z?this._itHead=he:Z._next=he,null===he?this._itTail=Z:he._prev=Z,j}_addToMoves(j,Z){return j.previousIndex===Z||(this._movesTail=null===this._movesTail?this._movesHead=j:this._movesTail._nextMoved=j),j}_addToRemovals(j){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gi),this._unlinkedRecords.put(j),j.currentIndex=null,j._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=j,j._prevRemoved=null):(j._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=j),j}_addIdentityChange(j,Z){return j.item=Z,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=j:this._identityChangesTail._nextIdentityChange=j,j}}class Fi{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(j,Z){this.item=j,this.trackById=Z}}class mi{_head=null;_tail=null;add(j){null===this._head?(this._head=this._tail=j,j._nextDup=null,j._prevDup=null):(this._tail._nextDup=j,j._prevDup=this._tail,j._nextDup=null,this._tail=j)}get(j,Z){let he;for(he=this._head;null!==he;he=he._nextDup)if((null===Z||Z<=he.currentIndex)&&Object.is(he.trackById,j))return he;return null}remove(j){const Z=j._prevDup,he=j._nextDup;return null===Z?this._head=he:Z._nextDup=he,null===he?this._tail=Z:he._prevDup=Z,null===this._head}}class gi{map=new Map;put(j){const Z=j.trackById;let he=this.map.get(Z);he||(he=new mi,this.map.set(Z,he)),he.add(j)}get(j,Z){const ke=this.map.get(j);return ke?ke.get(j,Z):null}remove(j){const Z=j.trackById;return this.map.get(Z).remove(j)&&this.map.delete(Z),j}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rn(ee,j,Z){const he=ee.previousIndex;if(null===he)return he;let ke=0;return Z&&he<Z.length&&(ke=Z[he]),he+j+ke}class ri{constructor(){}supports(j){return j instanceof Map||(0,E.vDg)(j)}create(){return new Ri}}class Ri{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(j){let Z;for(Z=this._mapHead;null!==Z;Z=Z._next)j(Z)}forEachPreviousItem(j){let Z;for(Z=this._previousMapHead;null!==Z;Z=Z._nextPrevious)j(Z)}forEachChangedItem(j){let Z;for(Z=this._changesHead;null!==Z;Z=Z._nextChanged)j(Z)}forEachAddedItem(j){let Z;for(Z=this._additionsHead;null!==Z;Z=Z._nextAdded)j(Z)}forEachRemovedItem(j){let Z;for(Z=this._removalsHead;null!==Z;Z=Z._nextRemoved)j(Z)}diff(j){if(j){if(!(j instanceof Map||(0,E.vDg)(j)))throw new A.buA(900,!1)}else j=new Map;return this.check(j)?this:null}onDestroy(){}check(j){this._reset();let Z=this._mapHead;if(this._appendAfter=null,this._forEach(j,(he,ke)=>{if(Z&&Z.key===ke)this._maybeAddToChanges(Z,he),this._appendAfter=Z,Z=Z._next;else{const Be=this._getOrCreateRecordForKey(ke,he);Z=this._insertBeforeOrAppend(Z,Be)}}),Z){Z._prev&&(Z._prev._next=null),this._removalsHead=Z;for(let he=Z;null!==he;he=he._nextRemoved)he===this._mapHead&&(this._mapHead=null),this._records.delete(he.key),he._nextRemoved=he._next,he.previousValue=he.currentValue,he.currentValue=null,he._prev=null,he._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(j,Z){if(j){const he=j._prev;return Z._next=j,Z._prev=he,j._prev=Z,he&&(he._next=Z),j===this._mapHead&&(this._mapHead=Z),this._appendAfter=j,j}return this._appendAfter?(this._appendAfter._next=Z,Z._prev=this._appendAfter):this._mapHead=Z,this._appendAfter=Z,null}_getOrCreateRecordForKey(j,Z){if(this._records.has(j)){const ke=this._records.get(j);this._maybeAddToChanges(ke,Z);const Be=ke._prev,Ye=ke._next;return Be&&(Be._next=Ye),Ye&&(Ye._prev=Be),ke._next=null,ke._prev=null,ke}const he=new Gt(j);return this._records.set(j,he),he.currentValue=Z,this._addToAdditions(he),he}_reset(){if(this.isDirty){let j;for(this._previousMapHead=this._mapHead,j=this._previousMapHead;null!==j;j=j._next)j._nextPrevious=j._next;for(j=this._changesHead;null!==j;j=j._nextChanged)j.previousValue=j.currentValue;for(j=this._additionsHead;null!=j;j=j._nextAdded)j.previousValue=j.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(j,Z){Object.is(Z,j.currentValue)||(j.previousValue=j.currentValue,j.currentValue=Z,this._addToChanges(j))}_addToAdditions(j){null===this._additionsHead?this._additionsHead=this._additionsTail=j:(this._additionsTail._nextAdded=j,this._additionsTail=j)}_addToChanges(j){null===this._changesHead?this._changesHead=this._changesTail=j:(this._changesTail._nextChanged=j,this._changesTail=j)}_forEach(j,Z){j instanceof Map?j.forEach(Z):Object.keys(j).forEach(he=>Z(j[he],he))}}class Gt{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(j){this.key=j}}function Yt(){return new Ai([new Kt])}let Ai=(()=>{class ee{factories;static \u0275prov=(0,A.jDH)({token:ee,providedIn:"root",factory:Yt});constructor(Z){this.factories=Z}static create(Z,he){if(null!=he){const ke=he.factories.slice();Z=Z.concat(ke)}return new ee(Z)}static extend(Z){return{provide:ee,useFactory:()=>{const he=(0,A.WQX)(ee,{optional:!0,skipSelf:!0});return ee.create(Z,he||Yt())}}}find(Z){const he=this.factories.find(ke=>ke.supports(Z));if(null!=he)return he;throw new A.buA(901,!1)}}return ee})();function Jt(){return new Li([new ri])}let Li=(()=>{class ee{static \u0275prov=(0,A.jDH)({token:ee,providedIn:"root",factory:Jt});factories;constructor(Z){this.factories=Z}static create(Z,he){if(he){const ke=he.factories.slice();Z=Z.concat(ke)}return new ee(Z)}static extend(Z){return{provide:ee,useFactory:()=>{const he=(0,A.WQX)(ee,{optional:!0,skipSelf:!0});return ee.create(Z,he||Jt())}}}find(Z){const he=this.factories.find(ke=>ke.supports(Z));if(he)return he;throw new A.buA(901,!1)}}return ee})();function tn(ee){const{rootComponent:j,appProviders:Z,platformProviders:he,platformRef:ke}=ee;(0,E.Ef8)(E.mS5.BootstrapApplicationStart);try{const Be=ke?.injector??function zi(ee=[]){if(Ht)return Ht;(0,E.pl0)();const j=function Qi(ee=[],j){return A.zZn.create({name:j,providers:[{provide:A.GBX,useValue:"platform"},{provide:ge,useValue:new Set([()=>Ht=null])},...ee]})}(ee);return Ht=j,(0,E.ypd)(),function Mi(ee){const j=ee.get(E.PLl,null);(0,A.N4e)(ee,()=>{j?.forEach(Z=>Z())})}(j),j}(he),Ye=[(0,E.rpG)(),A.gv8,...Z||[]];return function Fe(ee){const j=Ve(ee)?ee.r3Injector:ee.moduleRef.injector,Z=j.get(A.SKi);return Z.run(()=>{Ve(ee)?ee.r3Injector.resolveInjectorInitializers():ee.moduleRef.resolveInjectorInitializers();const he=j.get(A.ZTf);let ke;if(Z.runOutsideAngular(()=>{ke=Z.onError.subscribe({next:he})}),Ve(ee)){const Be=()=>j.destroy(),Ye=ee.platformInjector.get(ge);Ye.add(Be),j.onDestroy(()=>{ke.unsubscribe(),Ye.delete(Be)})}else{const Be=()=>ee.moduleRef.destroy(),Ye=ee.platformInjector.get(ge);Ye.add(Be),ee.moduleRef.onDestroy(()=>{(0,E.TFI)(ee.allPlatformModules,ee.moduleRef),ke.unsubscribe(),Ye.delete(Be)})}return function qt(ee,j,Z){try{const he=Z();return(0,E.yLl)(he)?he.catch(ke=>{throw j.runOutsideAngular(()=>ee(ke)),ke}):he}catch(he){throw j.runOutsideAngular(()=>ee(he)),he}}(he,Z,()=>{const Be=j.get(A.rev),Ye=Be.add(),at=j.get(E.H1s);return at.runInitializers(),at.donePromise.then(()=>{const Tt=j.get(E.xe9,E.DkB);if((0,E.e6s)(Tt||E.DkB),!j.get(Oe,!0))return Ve(ee)?j.get(E.o8S):(ee.allPlatformModules.push(ee.moduleRef),ee.moduleRef);if(Ve(ee)){const Vt=j.get(E.o8S);return void 0!==ee.rootComponent&&Vt.bootstrap(ee.rootComponent),Vt}return ee.moduleRef}).finally(()=>{Be.remove(Ye)})})})}({r3Injector:new E.bH1({providers:Ye,parent:Be,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:Be,rootComponent:j})}catch(Be){return Promise.reject(Be)}finally{(0,E.Ef8)(E.mS5.BootstrapApplicationEnd)}}function Ti(ee){return"boolean"==typeof ee?ee:null!=ee&&"false"!==ee}function oi(ee,j=NaN){return isNaN(parseFloat(ee))||isNaN(Number(ee))?j:Number(ee)}function fa(ee,j){const Z=(0,A.xUg)(ee),he=j.elementInjector||(0,A.WB9)();return new E.eHC(Z).create(he,j.projectableNodes,j.hostElement,j.environmentInjector,j.directives,j.bindings)}},17996(O,S,i){i.d(S,{Y:()=>ei});var A=i(33837),c=i(46567),E=i(9680),_=i(76),v=i(21881),e=i(23780),t=i(4230),n=i(65223),a=i(58069),o=i(29192),r=i(5238),d=i(53874),g=i(29629),f=i(84587),D=i(47097),k=i(22931),L=i(34593),F=i(57483),J=i(95695),ne=i(95626),H=i(13325),$=i(47748),q=i(60583),ae=i(83031),le=i(46482),_e=i(11733),ye=i(95395),Se=i(77348),Ce=i(62275),de=i(34444),Te=i(16775),xe=i(18816),Ue=i(17374),Ne=i(56616),ct=i(20827),Je=i(46398),Ke=i(38086),qe=i(67412),mt=i(93365),pt=i(86863),it=i(57356),Dt=i(7978),ut=i(99654),yt=i(17634),rt=i(80591),He=i(69357),kt=i(74838),Xt=i(35389),nt=i(42797),$t=i(67459),Et=i(93584),ge=i(45035),Oe=i(17554),Ve=i(6043),Fe=i(92990),ot=i(58789),Bt=i(42381),Rt=i(13340),qt=i(68629),zt=i(10778),Ht=i(63792),Gi=i(57130),xt=i(43714),Qi=i(99094),Vi=i(78500),wi=i(75191),Oi=i(61759),zi=i(20428),Sn=i(4146),Mi=i(18232),fi=i(23508),Ci=i(63625),Nn=i(40830),pn=i(58238),nn=i(20791),an=i(54571),Yi=i(23407),In=i(96034),Bi=i(85240),pi=i(66328),Ii=i(68932),Hi=i(71772),Tn=i(61582),bi=i(41604),qi=i(76483),Zi=i(7598),Dn=i(75182),ea=i(45575),Si=i(27454),en=i(91442),jn=i(67476),Mn=i(37831),Vn=i(48191),sn=i(30147),ta=i(48813),Ta=i(23790),qa=i(79323),hn=i(27810),gn=i(2641),hi=i(83245),ia=i(8534),na=i(41837),ce=i(87750),Ae=i(6953),ve=i(27088),Le=i(5040),We=i(63618),je=i(81207),ze=i(34829),Kt=i(7056),At=i(80517),Pi=i(64888),Fi=i(70511),mi=i(78848),gi=i(73620),rn=i(84736),ri=i(39195),Ri=i(47832),Gt=i(50229),Yt=i(45925),Ai=i(10948),ki=i(5388),Jt=i(34638),Li=i(12367),on=i(49449),Ui=i(42377),Da=i(48762),Rn=i(49547),aa=i(20150),mn=i(62307),tn=i(33685),sa=i(57616),zn=i(17520),_n=i(82144),fn=i(7639),Ma=i(25632),Un=i(8540),Cn=i(32308),Za=i(72492),Y=i(70471),me=i(59879),ie=i(40328),re=i(72560),De=i(40781),Ge=i(44071),Ze=i(29768),lt=i(52561),ni=i(24287),Zt=i(61625),si=i(37584),Qt=i(16042),Ti=i(91066),oi=i(46138),vi=i(85078),Wn=i(43422),Ln=i(67056),vn=i(93311),ln=i(27852),xn=i(64174),ma=i(13837),kn=i(57455),es=i(82661),_s=i(48626),Yn=i(41074),sr=i(92083),fs=i(30102),Na=i(1383),Ca=i(62990),Ws=i(22120),vs=i(74794),Lr=i(63651),ts=i(54416),ys=i(38866),is=i(89189),Ua=i(42916),jt=i(53190),ue=i(59303),Xi=i(31401),_a=i(59644),ra=i(21299),fa=i(56485),rr=i(79340),va=i(15523);const ei={Basilisk:A.L,Budgie:c.P,Duckling:E.M,"Farmer Mouse":_.t,"Frilled Dragon":v.A,Gibbon:e.E,Mouse:t.K,Nudibranch:n.X,"Peacock Spider":a.u,"Pygmy Seahorse":o.J,Quoll:r.I,Silverfish:d.M,Sloth:g.B,Termite:f.$,"Umbrella Bird":D.s,Weevil:k.v,"Albino Squirrel":L.T,Amphisbaena:F._,"Atlantic Puffin":J.d,Chupacabra:ne.V,"Desert Rain Frog":H.Q,"Dung Beetle":$.k,"Farmer Chicken":q.N,Frigatebird:ae.Y,"Fruit Fly":le.u,"Giant Squirrel":_e.v,"Golden Beetle":ye.n,"Hermit Crab":Se.I,"Honduran White Bat":Ce.y,Mandarinfish:de.X,Mink:Te.a,Nightcrawler:xe.P,Olm:Ue.V,Panda:Ne.R,"Pink Robin":ct.D,Roadrunner:Je.z,Seahorse:Ke.x,Sphinx:qe.l,"Spotted Handfish":mt.p,Tadpole:pt.M,"Thorny Dragon":it.g,Vervet:Dt.x,Warf:ut.B,Wombat:yt.T,Yak:rt.E,Aardvark:He.L,"Axehandle Hound":kt.L,Barnacle:Xt.x,Bear:nt.d,"Blue Dragon":$t.a,"Brazillian Treehopper":Et.h,Caladrius:ge.t,Centipede:Oe.k,"Deer Lord":Ve.s,Dimetrodon:Fe._,Dugong:ot.f,Eel:Bt.d,"Emperor Tamarin":Rt.x,"Farmer Pig":qt.u,"Flying Squirrel":zt.Z,"Foo Dog":Ht.X,Gerenuk:Gi.q,"Great Potoo":xt.J,"Jewel Caterpillar":Qi.X,Pangasius:Vi.c,"Patagonian Mara":wi.w,Pony:Oi.k,Porcupine:zi.Q,"Quail Chick":Sn.B,"Queen Bee":Mi.t,Quetzalcoatlus:fi.q,"Sage-Grouse":Ci.y,"Sarcastic Fringehead":Nn.Z,"Silkie Chicken":pn.Z,Slime:nn.f,"Sugar Glider":an.G,Tree:Yi.P,"Vampire Parrot":In.d,Wasp:Bi.y,Ahuizotl:pi.r,Andrewsarchus:Ii.v,Anubis:Hi.H,Bloodhound:Tn.V,"Blue-Footed Booby":bi.F,Crow:qi.e,Deinocheirus:Zi.Z,Dragonfly:Dn.j,Fairy:ea.s,"Farmer Cat":Si.m,Gazelle:en.Z,Gelada:jn.h,"Goblin Shark":Mn.FZ,Hippocampus:Vn.m,Hoatzin:sn.O,Jerboa:ta.a,"Leaf Gecko":Ta.K,"Leafy Sea Dragon":qa.k,Locust:hn.R,Lynx:gn.E,"Old Mouse":hi.t,Pegasus:ia.t,Platybelodon:na.E,"Poodle Moth":ce.q,"Racket Tail":Ae.v,"Red Lipped Batfish":ve.R,Rootling:Le.F,"Ruspoli's Turaco":We.y,"Sea Anemone":je.X,Seagull:ze.Q,"Spider Crab":Kt.E,"Spiny Bush Viper":At.A,Tandgnost:Pi.l,Tardigrade:Fi.c,Trout:mi.F,"Yeti Crab":gi.u,"Blue Jay":rn.v,Boitata:ri.v,"Brahma Chicken":Ri.B,Cuckoo:Gt.F,Estemmenosuchus:Yt.f,"Farmer Crow":Ai.l,"Farmer Dog":ki.S,Flounder:Jt.i,Fox:Li.O,"Giant Isopod":on.o,Hippogriff:Ui.j,Hyena:Da.S,Jackal:Rn.x,Kappa:aa.K,Lion:mn.X,Lusca:tn.h,Maltese:sa.O,Mimic:zn.e,Moose:_n.k,Namazu:fn.F,Nurikabe:Ma.I,"Pacific Fanfish":Un.n,"Polar Bear":Cn.H,Raccoon:Za.E,"Sea Cucumber":Y.w,"Siberian Husky":me.A,"Silver Fox":ie.r,Tandgrisner:re.c,Tarasque:De.X,"Venus Flytrap":Ge.y,"Woolly Rhino":Ze.B,Zebra:lt.f,Akhlut:ni.y,Albatross:Zt.s,Amargasaurus:si.r,Bakunawa:Qt.v,"Black Bear":Ti.e,Chimpanzee:oi.n,Cockatrice:vi.j,"Coconut Crab":Wn.Q,Dunkleosteus:Ln.B,"Eagle Owl":vn.T,"Great One":ln.v,"Hammerhead Shark":xn.K,"Harpy Eagle":ma.V,"Hooded Seal":kn.T,Komodo:es.C,Lamprey:_s.z,Leviathan:Yn.j,Lioness:sr.Y,Markhor:fs.J,Poodle:Na.C,"Questing Beast":Ca.e,"Rockhopper Penguin":Ws.q,"Small One":vs.a,Stegosaurus:Lr.z,Sunfish:ts.J,Tapir:ys.v,Tanystropheus:is.G,"Tarantula Hawk":Ua.W,"Terror Bird":jt.y,Therizinosaurus:ue.c,"Vampire Squid":Xi.x,Walrus:_a.R,"White Tiger":ra.J,"Winter Spirit":fa.B,"Yellow Boxfish":rr.M,"Cuckoo Chick":va.Z}},18060(O,S,i){i.d(S,{V:()=>c});var A=i(22097);class c extends A.${name="Toasty";equipmentClass="ailment-other";uses=1;originalUses=1}},18155(O,S,i){i.d(S,{t:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="African Penguin";tier=2;pack="Golden";attack=1;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"AfricanPenguinAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=t.parent.getRandomPets(3,[t]),a=n.pets;if(0===a.length)return void this.triggerTigerExecution(e);const o=this.level;for(const r of a)r.increaseAttack(o);this.logService.createLog({message:`${t.name} gave ${a.map(r=>r.name).join(", ")} +${o} attack.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},18232(O,S,i){i.d(S,{t:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Queen Bee";tier=3;pack="Custom";attack=2;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Queen Bee Ability",owner:e,triggers:["BeeSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n,triggerPet:a}=e,o=this.owner,r=a;if(!r||"Bee"!==r.name)return void this.triggerTigerExecution(e);const d=3*this.level;r.increaseAttack(d),r.increaseHealth(d);const g=this.removeOtherQueenBees(o);this.logService.createLog({message:`${o.name} gave ${r.name} +${d}/+${d} and removed ${g} other Queen Bees.`,type:"ability",player:o.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}removeOtherQueenBees(e){const t=[e.parent,e.parent.opponent];let n=0;for(const a of t){for(const o of[...a.petArray])o!==e&&o.alive&&"Queen Bee"===o.name&&(o.health=0,a.handleDeath(o),n++);a.removeDeadPets()}return n}copy(e){return new _(e,this.logService)}}},18456(O,S,i){i.d(S,{ZZ:()=>_});var A=i(95006),c=i(84787),E=i(13004);function _(n,a,o=Number.POSITIVE_INFINITY){return"function"==typeof a?r=>r.pipe(_((d,g)=>(0,c.H)(n(d,g)).pipe((0,A.T)((f,D)=>a(d,f,g,D))),o)):("number"==typeof a&&(o=a),r=>r.lift(new v(n,o)))}class v{constructor(a,o=Number.POSITIVE_INFINITY){this.project=a,this.concurrent=o}call(a,o){return o.subscribe(new e(a,this.project,this.concurrent))}}class e extends E.gn{constructor(a,o,r=Number.POSITIVE_INFINITY){super(a),this.project=o,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(a){this.active<this.concurrent?this._tryNext(a):this.buffer.push(a)}_tryNext(a){let o;const r=this.index++;try{o=this.project(a,r)}catch(d){return void this.destination.error(d)}this.active++,this._innerSub(o)}_innerSub(a){const o=new E.zA(this),r=this.destination;r.add(o);const d=(0,E.tS)(a,o);d!==o&&r.add(d)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(a){this.destination.next(a)}notifyComplete(){const a=this.buffer;this.active--,a.length>0?this._next(a.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},18467(O,S,i){i.d(S,{P:()=>v});var A=i(46200),c=i(5615),E=i(56979),_=i(1152);class v extends A.i{logService;abilityService;name="Amalgamation";tier=5;pack="Unicorn";attack=4;health=5;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"AmalgamationAbility",owner:n,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:2,precondition:o=>{const{triggerPet:r}=o;return!!r&&!!(0,_.Uj)(this.owner,r,(g,f)=>g.parent.getSpecificPet(g,f)).pet},abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const{triggerPet:o,tiger:r,pteranodon:d}=n,g=this.owner,f=(0,_.Uj)(g,o,(F,J)=>F.parent.getSpecificPet(F,J)),D=f.pet;if(!D)return;const k=3*this.level,L=4*this.level;(0,_.rv)(this.logService,g,`${g.name} gave ${D.name} +${k} attack, +${L} mana, and Spooked.`,r,d,{randomEvent:f.random}),D.increaseAttack(k),D.increaseMana(L),D.givePetEquipment(new E.E),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService)}}},18506(O,S,i){i.d(S,{y:()=>_});var A=i(46200),c=i(5615),E=i(17017);class _ extends A.i{logService;abilityService;name="Tahr";tier=4;pack="Puppy";attack=5;health=3;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"TahrAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.getPetsWithEquipment("Mild Chili"),f=d.parent.nearestPetsBehind(this.level,d,g);if(0!==f.pets.length){for(let D of f.pets)this.logService.createLog({message:`${d.name} gave ${D.name} Mild Chili.`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:f.random}),D.givePetEquipment(new E.W(this.logService,this.abilityService));this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService,this.abilityService)}}},18609(O,S,i){i.d(S,{t:()=>_});var A=i(45651),c=i(50873);i(5615);class _ extends c.L{logService;toyService;abilityService;name="Nutcracker";tier=4;suppressFriendFaintLog=!0;pendingSpawn=!1;friendFaints(t,n,a,o){this.used||this.pendingSpawn||n.parent.petArray.filter(d=>d.alive).length>0||this.queueSalmonSpawn()}queueSalmonSpawn(){this.pendingSpawn=!0,this.abilityService.setCounterEvent({priority:0,callback:(t,n,a)=>{this.pendingSpawn=!1,this.attemptSalmonSpawn()}})}attemptSalmonSpawn(){if(this.used||this.parent.petArray.filter(o=>o.alive).length>0)return;const n=6*this.level,a=new A.K(this.logService,this.abilityService,this.parent,n,n,null,0);this.parent.summonPet(a,0).success&&this.logService.createLog({message:`${this.name} spawned Salmon of Knowledge (${n}/${n})`,type:"ability",player:this.parent}),this.used=!0}constructor(t,n,a,o,r){super(t,n,o,r),this.logService=t,this.toyService=n,this.abilityService=a}}},18779(O,S,i){i.d(S,{Z:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Snake";tier=6;pack="Turtle";attack=8;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SnakeAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:5,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=5*this.level,g=r.parent.opponent.getRandomPet([],!1,!0,!1,r);g.pet&&(r.snipePet(g.pet,d,g.random,a),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},18783(O,S,i){i.d(S,{S:()=>E});var A=i(22097),c=i(5615);class E extends A.${logService;name="Health Potion";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"HealthPotionAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;let a=2*this.equipment.multiplier,o=t.parent.furthestUpPet;null!=o&&(this.logService.createLog({message:`${t.name} gave ${a} health to ${o.name} (Health Potion)${this.equipment.multiplierMessage}.`,type:"equipment",player:t.parent}),o.increaseHealth(a))}}},18816(O,S,i){i.d(S,{P:()=>_});var A=i(46200),c=i(5615),E=i(4635);class _ extends A.i{logService;abilityService;name="Nightcrawler";tier=2;pack="Custom";attack=1;health=1;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"NightcrawlerAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{gameApi:n,tiger:o,pteranodon:r}=t,d=this.owner;let f=d.parent==n.player?n.playerSummonedAmount:n.opponentSummonedAmount;if(0==f)return;let D=Math.min(50,this.level*f),L=new E.f(this.logService,this.abilityService,d.parent,D,6,0,0),F=d.parent.summonPet(L,d.savedPosition,!1,d);F.success&&this.logService.createLog({message:`${d.name} spawned Daycrawler (6/${D})`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:F.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},18960(O,S,i){i.d(S,{A:()=>c});const c=function A(E){return this.__data__.has(E)}},19058(O,S,i){i.d(S,{l:()=>c});var A=i(22097);class c extends A.${name="Weak";equipmentClass="ailment-defense";power=-3;originalPower=-3}},19114(O,S,i){i.d(S,{u:()=>_});var A=i(46200),c=i(5615),E=i(19058);class _ extends A.i{logService;abilityService;name="Microbe";tier=4;pack="Puppy";attack=4;health=1;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"MicrobeAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.getPetsWithinXSpaces(d,3*this.level),f=g.pets.filter(D=>"Weak"!==D.equipment?.name);if(0!=f.length){for(let D of f)D.alive&&(this.logService.createLog({message:`${d.name} gave ${D.name} Weak.`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:g.random}),D.givePetEquipment(new E.l));this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},19180(O,S,i){i.d(S,{V:()=>E});var A=i(22097),c=i(5615);class E extends A.${logService;petService;name="Faint Bread";equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.petService,this.logService))};constructor(e,t){super(),this.logService=e,this.petService=t}}class _ extends c.T{equipment;petService;logService;constructor(e,t,n,a){super({name:"FaintBreadAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:o=>{this.executeAbility(o)}}),this.equipment=t,this.petService=n,this.logService=a}executeAbility(e){const t=this.owner;for(let n=0;n<this.equipment.multiplier;n++){let a=this.petService.getRandomFaintPet(t.parent,1,[],t),o=n>0?this.equipment.multiplierMessage:"";t.parent.summonPet(a,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned ${a.name} (Faint Bread)${o}`,type:"ability",player:t.parent,randomEvent:!0})}}}},19405(O,S,i){i.d(S,{h:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Bigfoot";tier=2;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"BigfootAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level;this.logService.createLog({message:`${t.name} will gain ${n} free ${1===n?"roll":"rolls"} next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},19429(O,S,i){i.d(S,{U:()=>_});var A=i(22097),c=i(94433),E=i(5615);class _ extends A.${logService;abilityService;name="Banana";equipmentClass="afterFaint";callback=t=>{const n=t.getEquippedEquipmentInstance(this);t.addAbility(new v(t,n,this.logService,this.abilityService))};constructor(t,n){super(),this.logService=t,this.abilityService=n}}class v extends E.T{equipment;logService;abilityService;constructor(t,n,a,o){super({name:"BananaAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=n,this.logService=a,this.abilityService=o}executeAbility(t){const n=this.owner;for(let a=0;a<this.equipment.multiplier;a++){let o=new c.P(this.logService,this.abilityService,n.parent,4,4,0,0),r=a>0?this.equipment.multiplierMessage:"";n.parent.summonPet(o,n.savedPosition).success&&this.logService.createLog({message:`${n.name} Spawned Monkey (Banana)${r}`,type:"ability",player:n.parent})}}}},19540(O,S,i){i.d(S,{U:()=>c});var A=i(50873);class c extends A.L{name="Excalibur";tier=6}},19661(O,S,i){function e(H){const{baseConfig:$,simulateBatch:q,shouldAbort:ae,onProgress:le,projectEndTurnLineup:_e}=H,ye=H.options.side,Se=Math.max(1,Math.trunc(H.options.maxSimulationsPerPermutation??$.simulationCount??250)),Ce=Math.max(1,Math.trunc(H.options.batchSize??25)),de=null!=H.options.confidenceZ&&Number.isFinite(H.options.confidenceZ)?Math.max(0,H.options.confidenceZ):1.96,Te=Math.max(1,Math.trunc(H.options.minSamplesBeforeElimination??50)),xe=null!=H.options.baseSeed&&Number.isFinite(H.options.baseSeed)?Math.trunc(H.options.baseSeed):null!=$.seed&&Number.isFinite($.seed)?Math.trunc($.seed):123456789,Ue="player"===ye?"playerPets":"opponentPets",Ne=($[Ue]??[]).slice(),ct=_e?d(Ne,f(_e({baseConfig:$,side:ye,lineup:Ne}),Ne.length)):null,Je=function k(H){const $=H.length;if($<=0)return[[]];const q=function L(H){const $=[];for(let q=0;q<H.length;q+=1){const ae=H[q],le=$.find(_e=>ne(_e.representative,ae));le?le.indices.push(q):$.push({representative:ae,indices:[q]})}return $}(H),ae=q.map(ye=>ye.indices.length),_e=[];return F(0,new Array($),ae,_e),_e.map(ye=>function J(H,$){const q=$.map(()=>0);return H.map(ae=>{const le=q[ae];q[ae]+=1;const _e=$[ae].indices[le];if(null==_e)throw new Error("Failed to map grouped permutation to index permutation.");return _e})}(ye,q))}(Ne),Ke=Je.map(yt=>({order:[...yt],lineup:o(Ne,yt),simulations:0,wins:0,draws:0,losses:0,score:0,lowerBound:0,upperBound:1,eliminated:!1,rounds:0,simulationLineup:ct?r($,ye,Ne,yt,ct,_e):o(Ne,yt)}));let qe=0;const mt=Je.length*Se;let pt=0,it=!1;if(0===Ke.length)throw new Error("Could not generate any board permutations.");for(;;){if(ae?.()){it=!0;break}const yt=Ke.filter(nt=>!nt.eliminated);if(yt.length<=1)break;const rt=xe+pt;let He=!1;for(const nt of yt){if(ae?.()){it=!0;break}if(nt.simulations>=Se)continue;const Et=Math.min(Ce,Se-nt.simulations);if(Et<=0)continue;He=!0;const Oe=q({...$,[Ue]:nt.simulationLineup,simulationCount:Et,logsEnabled:!1,maxLoggedBattles:0,captureRandomDecisions:!1,randomDecisionOverrides:[],seed:rt}),Ve="player"===ye?Oe.playerWins:Oe.opponentWins,Fe="player"===ye?Oe.opponentWins:Oe.playerWins;nt.simulations+=Et,nt.rounds+=1,nt.wins+=Ve,nt.draws+=Oe.draws,nt.losses+=Fe,n(nt,de),qe+=Et;const ot=Ke.filter(Rt=>Rt.simulations>0).length,Bt=Math.max(...Ke.map(Rt=>Rt.score));le?.({completedBattles:qe,totalBattlesEstimate:mt,testedPermutations:ot,activePermutations:Ke.filter(Rt=>!Rt.eliminated).length,bestScore:Bt})}if(it||!He)break;const kt=Ke.filter(nt=>!nt.eliminated);for(const nt of kt)n(nt,de);const Xt=kt.filter(nt=>nt.simulations>=Te);if(Xt.length>1){const nt=Math.max(...Xt.map($t=>$t.lowerBound));for(const $t of Xt)$t.upperBound<nt&&($t.eliminated=!0)}pt+=1}for(const yt of Ke)n(yt,de);const Dt=[...Ke].sort((yt,rt)=>rt.score!==yt.score?rt.score-yt.score:rt.lowerBound!==yt.lowerBound?rt.lowerBound-yt.lowerBound:rt.simulations!==yt.simulations?rt.simulations-yt.simulations:0),ut=Dt[0];if(!ut)throw new Error("Positioning optimization failed to rank candidates.");return{side:ye,totalPermutations:Ke.length,prunedPermutations:Ke.filter(yt=>yt.eliminated).length,simulatedBattles:qe,aborted:it,bestPermutation:t(ut),rankedPermutations:Dt.map(t)}}function t(H){return{order:[...H.order],lineup:[...H.lineup],simulations:H.simulations,wins:H.wins,draws:H.draws,losses:H.losses,score:H.score,lowerBound:H.lowerBound,upperBound:H.upperBound,eliminated:H.eliminated}}function n(H,$){const q=H.simulations;if(q<=0)return H.score=0,H.lowerBound=0,void(H.upperBound=1);const ae=function a(H,$,q){return q<=0?0:(H+.5*$)/q}(H.wins,H.draws,q),le=Math.max(0,ae*(1-ae)),_e=$*Math.sqrt(le/q);H.score=ae,H.lowerBound=Math.max(0,ae-_e),H.upperBound=Math.min(1,ae+_e)}function o(H,$){return $.map(q=>H[q])}function r(H,$,q,ae,le,_e){const ye=o(q,ae),Ce=d(ye,f(_e({baseConfig:H,side:$,lineup:ye}),ye.length));return ye.map((de,Te)=>{if(!de)return null;const Ue=le[ae[Te]??Te]??{},Ne=Ce[Te]??{},ct=new Set([...Object.keys(Ne),...Object.keys(Ue)]);if(ct.size<=0)return de;const Je=de,Ke={...Je,equipment:Je.equipment&&"object"==typeof Je.equipment?{...Je.equipment}:Je.equipment??null};for(const qe of ct){const pt=(D(Je[qe])??0)+(Ne[qe]??0)-(Ue[qe]??0);Ke[qe]=pt}return Ke})}function d(H,$){const q=Math.max(H.length,$.length),ae=[];for(let le=0;le<q;le+=1)ae.push(g(H[le]??null,$[le]??null));return ae}function g(H,$){if(!H||!$)return{};const q=H,ae=$,le=new Set;Object.entries(q).forEach(([ye,Se])=>{null!=D(Se)&&le.add(ye)}),Object.entries(ae).forEach(([ye,Se])=>{null!=D(Se)&&le.add(ye)});const _e={};for(const ye of le){const Se=D(q[ye])??0,de=(D(ae[ye])??0)-Se;0!==de&&(_e[ye]=de)}return _e}function f(H,$){const q=H.slice(0,$);for(;q.length<$;)q.push(null);return q}function D(H){return"number"==typeof H&&Number.isFinite(H)?H:null}function F(H,$,q,ae){if(H>=$.length)ae.push($.slice());else for(let le=0;le<q.length;le+=1)q[le]<=0||($[H]=le,q[le]-=1,F(H+1,$,q,ae),q[le]+=1)}function ne(H,$){if(Object.is(H,$))return!0;if(null==H||null==$)return H===$;if(Array.isArray(H)||Array.isArray($)){if(!Array.isArray(H)||!Array.isArray($)||H.length!==$.length)return!1;for(let ye=0;ye<H.length;ye+=1)if(!ne(H[ye],$[ye]))return!1;return!0}if("object"!=typeof H||"object"!=typeof $)return!1;const q=H,ae=$,le=Object.keys(q).sort(),_e=Object.keys(ae).sort();if(le.length!==_e.length)return!1;for(let ye=0;ye<le.length;ye+=1){const Se=le[ye],Ce=_e[ye];if(Se!==Ce||!ne(q[Se],ae[Ce]))return!1}return!0}i.d(S,{i:()=>e})},19866(O,S,i){i.d(S,{r:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Calygreyhound";tier=3;pack="Unicorn";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"CalygreyhoundAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;if(0==r.mana)return;let d=r.parent.opponent.getHighestHealthPets(2,void 0,r),g=this.level*r.mana;for(let f of d.pets)f.health=Math.max(1,f.health-g),this.logService.createLog({message:`${r.name} reduced ${f.name}'s health by ${g} to ${f.health}.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random});r.mana=0,this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},19939(O,S,i){i.d(S,{w:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Stonefish";tier=5;pack="Puppy";attack=7;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"StonefishAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a,pteranodon:o}=e,r=this.owner;let g=r.parent.getSpecificPet(r,n).pet;null==g||!g.alive||(r.snipePet(g,r.attack*this.level,!1,a,o),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},20136(O,S,i){i.d(S,{g:()=>a,o:()=>o});var A=i(50873),c=i(15847),E=i(5615),_=i(57488),v=i(17385),e=i(58857),t=i(61850),n=i(79222);class a extends A.L{logService;toyService;equipmentService;name="Pandoras Box";tier=5;startOfBattle(d,g){o.applyPandorasBoxEffect({logService:this.logService,equipmentService:this.equipmentService,level:this.level,pets:[...d.player.petArray,...d.opponent.petArray],useClones:!1,logPlayer:this.parent,logMeta:{randomEvent:!0},logMessage:(f,D)=>`${this.name} gave ${f.name} ${D.name}`})}constructor(d,g,f,D,k){super(d,g,f,D),this.logService=d,this.toyService=g,this.equipmentService=k}}class o extends E.T{logService;abilityService;equipmentService;constructor(d,g,f,D){super({name:"PandorasBoxAbility",owner:d,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:d.level,abilityFunction:k=>{this.executeAbility(k)}}),this.logService=g,this.abilityService=f,this.equipmentService=D}executeAbility(d){const{gameApi:g,tiger:f,pteranodon:D}=d,k=this.owner,L=(0,_.a)(g,k.parent),F=[...k.parent.petArray,...L.petArray].filter(J=>J?.alive);o.applyPandorasBoxEffect({logService:this.logService,equipmentService:this.equipmentService,level:this.level,pets:F,useClones:!0,logPlayer:k.parent,logMeta:{tiger:f,pteranodon:D,randomEvent:!0},logMessage:(J,ne)=>`Pandoras Box Ability gave ${J.name} ${ne.name}`}),this.triggerTigerExecution(d)}copy(d){return new o(d,this.logService,this.abilityService,this.equipmentService)}static applyPandorasBoxEffect(d){const{logService:g,equipmentService:f,level:D,pets:k,useClones:L,logPlayer:F,logMeta:J,logMessage:ne}=d,H=Array.from(f.getInstanceOfAllAilments().values()),$=new Set(["Chocolate Cake"]),q=Array.from(f.getInstanceOfAllEquipment().values()).filter(ae=>{if(!ae||$.has(ae.name)||!(0,c.Y)(ae))return!1;const le=ae.triggers??[];return!(le.includes("StartTurn")||le.includes("EndTurn")||le.includes("BeforeStartBattle"))});for(const ae of k){const _e=0===(0,e.k6)({key:"toy.pandoras-box.pool",label:(0,n.I)(ae,"Pandoras Box pool"),options:[{id:"ailments",label:"Ailments"},{id:"equipment",label:"Equipment"}]},()=>(0,t.hw)(0,1)).index?H:q;if(!_e.length)continue;const ye=(0,e.k6)({key:"toy.pandoras-box.item",label:(0,n.I)(ae,"Pandoras Box item"),options:_e.map(de=>({id:de.name,label:de.name}))},()=>(0,t.hw)(0,_e.length-1)),Se=_e[ye.index];if(!Se)continue;const Ce=L?(0,v.e)(Se):Se;Ce&&(ae.givePetEquipment(Ce,D),g.createLog({message:ne(ae,Ce),type:"ability",player:F,sourcePet:ae,tiger:J?.tiger,pteranodon:J?.pteranodon,randomEvent:J?.randomEvent}))}}}},20150(O,S,i){i.d(S,{K:()=>e});var A=i(46200),c=i(5615),E=i(58857),_=i(61850),v=i(79222);class e extends A.i{logService;abilityService;petService;name="Kappa";tier=5;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L,F){super(a,o,d),this.logService=a,this.abilityService=o,this.petService=r,this.initPet(k,g,f,D,L,F)}}class t extends c.T{logService;abilityService;petService;constructor(a,o,r,d){super({name:"KappaAbility",owner:a,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=o,this.abilityService=r,this.petService=d}executeAbility(a){const{gameApi:o,tiger:d,pteranodon:g}=a,f=this.owner;let k=(f.parent==o.player?o.playerPetPool:o.opponentPetPool).get(3);for(let L=0;L<f.level;L++){const F=(0,E.k6)({key:"pet.kappa-player-spawn",label:(0,v.I)(f,"Kappa player spawn",L+1),options:k.map(_e=>({id:_e,label:_e}))},()=>(0,_.hw)(0,k.length-1));let J=k[F.index];const ne=(0,E.k6)({key:"pet.kappa-opponent-spawn",label:(0,v.I)(f,"Kappa opponent spawn",L+1),options:k.map(_e=>({id:_e,label:_e}))},()=>(0,_.hw)(0,k.length-1));let H=k[ne.index],$=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:J},f.parent);f.parent.summonPet($,f.savedPosition,!1,f).success&&this.logService.createLog({message:`${f.name} spawned a ${$.name} (14/16).`,type:"ability",player:f.parent,tiger:d,pteranodon:g,randomEvent:F.randomEvent});let ae=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:H},f.parent.opponent);f.parent.opponent.summonPet(ae,f.savedPosition,!1,f).success&&this.logService.createLog({message:`${f.name} spawned a ${ae.name} (14/16) for the opponent.`,type:"ability",player:f.parent,tiger:d,pteranodon:g,randomEvent:ne.randomEvent})}this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService,this.petService)}}},20178(O,S,i){i.d(S,{I:()=>E});var A=i(80614),c=i(58253);const E={closed:!0,next(_){},error(_){if(A.$.useDeprecatedSynchronousErrorHandling)throw _;(0,c.T)(_)},complete(){}}},20188(O,S,i){i.d(S,{$:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Pygmy Hippo";tier=3;pack="Danger";attack=2;health=7;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"PygmyHippoAbility",owner:e,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=Math.floor(.33*r.health),g=r.parent.opponent.getLowestHealthPets(this.level,void 0,r);for(let f of g.pets)r.snipePet(f,d,g.random,a);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},20290(O,S,i){i.d(S,{S:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Shrimp";tier=2;pack="Puppy";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=3;constructor(e,t,n){super({name:"ShrimpAbility",owner:e,triggers:["FriendSold","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const n=e.triggerPet;if(!n||!n.isSellPet())return void this.triggerTigerExecution(e);const a=t.parent.getRandomPet([t]),o=a.pet;if(!o)return void this.triggerTigerExecution(e);const r=this.level;o.increaseHealth(r),this.usesThisTurn++,this.logService.createLog({message:`${t.name} gave ${o.name} +${r} health after ${n.name} was sold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:a.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},20428(O,S,i){i.d(S,{Q:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Porcupine";tier=3;pack="Custom";attack=2;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Porcupine Ability",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{triggerPet:t}=e,n=this.owner;if(t&&t.alive&&t.parent!==n.parent){const a=3*this.level;n.dealDamage(t,a),this.logService.createLog({message:`${n.name} reflected ${a} damage to ${t.name}.`,type:"ability",player:n.parent})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},20441(O,S,i){i.d(S,{g:()=>a});var A=i(64855),c=i(83028),E=i(47868),_=i(24111),v=i(49230),e=i(56990),t=i(90966),n=i(1744);let a=(()=>{class o{logService;abilityService;petService;equipmentService;gameService;constructor(d,g,f,D,k){this.logService=d,this.abilityService=g,this.petService=f,this.equipmentService=D,this.gameService=k,this.logService=(0,c.V)(this.logService)}createToy(d,g,f,D,k,L,F){const ne=A.AF[d];return ne?ne({logService:this.logService,abilityService:this.abilityService,toyService:D,parent:g,level:f,petService:this.petService??k,equipmentService:this.equipmentService??L,gameService:this.gameService??F}):A.UI[d]?new(0,A.UI[d])(this.logService,D,this.abilityService,g,f):A.qw[d]?new(0,A.qw[d])(this.logService,D,g,f):null}static \u0275fac=function(g){return new(g||o)(E.KVO(_.K),E.KVO(v.K),E.KVO(e.T),E.KVO(t.m),E.KVO(n.w))};static \u0275prov=E.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()},20778(O,S,i){i.d(S,{A:()=>c});const c=function A(E){return function(_){return E(_)}}},20791(O,S,i){i.d(S,{f:()=>_});var A=i(46200),c=i(5615),E=i(12312);class _ extends A.i{logService;abilityService;name="Slime";tier=3;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"Slime Ability",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>this.executeAbility(o)}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner,r=Math.max(0,o.battlesFought??0),d=Math.floor(r/2);if(d<=0)return void this.triggerTigerExecution(t);const g=2*this.level;let f=0;for(let D=0;D<d;D++){const k=new E.x(this.logService,this.abilityService,o.parent,g,g);if(!o.parent.summonPet(k,o.savedPosition,!1,o).success)break;f++}f>0&&this.logService.createLog({message:`${o.name} summoned ${f} ${g}/${g} Smaller Slime${1===f?"":"s"}.`,type:"ability",player:o.parent,tiger:n,pteranodon:a}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},20802(O,S,i){i.d(S,{B:()=>_});var A=i(46200),c=i(5615),E=i(33524);class _ extends A.i{logService;abilityService;name="Giant Pangasius";tier=5;pack="Danger";attack=4;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"GiantPangasiusAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{gameApi:n,tiger:o}=t,d=this.owner;if(!n)return;let g;g=d.parent===n.player?n.playerTransformationAmount:n.opponentTransformationAmount;let f=4*this.level;if(g>0)for(let D=0;D<g;D++){let L=(0,E.ku)(d)?d.parent.getRandomPet([],!1,!0,!1,d,!0):d.parent.opponent.getRandomPet([],!1,!0,!1,d);L.pet&&d.snipePet(L.pet,f,L.random,o)}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},20827(O,S,i){i.d(S,{D:()=>a});var A=i(24111),c=i(46200),E=i(5615),_=i(22168),v=i(33127),e=i(58857),t=i(61850),n=i(79222);class a extends c.i{logService;abilityService;name="Pink Robin";tier=1;pack="Custom";attack=3;health=2;constructor(d,g,f,D,k,L,F,J,ne){super(d,g,f),this.logService=d,this.abilityService=g,this.initPet(F,D,k,L,J,ne)}initAbilities(){this.addAbility(new o(this)),super.initAbilities()}}class o extends E.T{constructor(d){super({name:"Pink Robin Ability",owner:d,triggers:["PostRemovalFaint"],abilityType:"Pet",abilitylevel:d.level,abilityFunction:g=>this.executeAbility(g)})}executeAbility(d){const{tiger:g,pteranodon:f}=d,D=this.owner,k=2*this.level,L=D.parent.petArray.filter(F=>F.alive&&F!==D&&F.tier<=k);if(L.length>0){const F=(0,e.k6)({key:"pet.pink-robin-end-turn-target",label:(0,n.I)(D,"Pink Robin end-turn target"),options:L.map($=>({id:`${$.savedPosition+1}:${$.name}`,label:`P${$.savedPosition+1} ${$.name}`}))},()=>(0,t.hw)(0,L.length-1)),J=L[F.index],ne=v.I.getInjector().get(_.b),H=v.I.getInjector().get(A.K);ne.triggerAbility(J,"EndTurn",D),H.createLog({message:`${D.name} activated End Turn on ${J.name}.`,type:"ability",player:D.parent,randomEvent:F.randomEvent,tiger:g,pteranodon:f})}this.triggerTigerExecution(d)}copy(d){return new o(d)}}},20858(O,S,i){i.d(S,{j:()=>_});var A=i(48576),c=i(46200),E=i(5615);class _ extends c.i{logService;abilityService;name="Frost Wolf";tier=2;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends E.T{logService;constructor(t,n){super({name:"FrostWolfAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.getPetsWithEquipmentWithSillyFallback("Cold",d),f=d.parent.opponent.getFurthestUpPet(d,g),D=f.pet;if(null==D)return;const k=new A.b;k.multiplier+=this.level-1,k.baseMultiplier=k.multiplier;let L=".";2===this.level?L=" twice for double effect.":3===this.level&&(L=" thrice for triple effect."),this.logService.createLog({message:`${d.name} made ${D.name} Cold${L}`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:f.random}),D.givePetEquipment(k),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},20882(O,S,i){i.d(S,{A:()=>_});var A=i(94528),c=i(54841);const _=function E(v){return(0,c.A)((0,A.A)(v))}},21110(O,S,i){i.d(S,{w:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Yeti";tier=6;pack="Unicorn";attack=5;health=9;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"YetiAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} rolled ${4*this.level} times while freezing pet copies and tier 6 food.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},21259(O,S,i){i.d(S,{Y:()=>c});var A=i(31805);class c extends A.y{constructor(_,v){super(),this.subject=_,this.subscriber=v,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const _=this.subject,v=_.observers;if(this.subject=null,!v||0===v.length||_.isStopped||_.closed)return;const e=v.indexOf(this.subscriber);-1!==e&&v.splice(e,1)}}},21299(O,S,i){i.d(S,{J:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="White Tiger";tier=6;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"WhiteTigerAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.nearestPetsBehind(this.level,r);for(let g of d.pets)this.logService.createLog({message:`${r.name} gave ${g.name} +3 experience.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:d.random}),g.increaseExp(3);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},21311(O,S,i){i.d(S,{F:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Cat";tier=6;pack="Turtle";attack=4;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;usesThisTurn=0;constructor(e,t){super({name:"CatAbility",owner:e,triggers:["FoodEatenByFriendly","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,{trigger:n,triggerPet:a}=e;if("StartTurn"===n)return void(this.usesThisTurn=0);if(this.usesThisTurn>=2)return;this.usesThisTurn++;const o=this.level+1;this.logService.createLog({message:`${t.name} boosted ${a?.name??"a friend"}'s shop food by ${o}x.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},21499(O,S,i){i.d(S,{c:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Leech";tier=3;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"LeechAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=t.petAhead;if(!n)return void this.triggerTigerExecution(e);const a=this.level,o=Math.min(a,n.health);t.dealDamage(n,a),t.increaseHealth(o),this.logService.createLog({message:`${t.name} dealt ${a} damage to ${n.name} and gained ${o} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},21545(O,S,i){i.d(S,{P:()=>t});var A=i(46200),c=i(5615),E=i(94798),_=i(58857),v=i(61850),e=i(79222);class t extends A.i{logService;abilityService;petService;name="Bay Cat";tier=6;pack="Danger";attack=7;health=5;initAbilities(){this.addAbility(new n(this,this.logService,this.petService,this.abilityService)),super.initAbilities()}constructor(o,r,d,g,f,D,k,L,F,J){super(o,r,g),this.logService=o,this.abilityService=r,this.petService=d,this.initPet(L,f,D,k,F,J)}}class n extends c.T{logService;petService;abilityService;constructor(o,r,d,g){super({name:"BayCatAbility",owner:o,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:o.level,abilityFunction:f=>{this.executeAbility(f)}}),this.logService=r,this.petService=d,this.abilityService=g}executeAbility(o){const{gameApi:r,tiger:g,pteranodon:f}=o,D=this.owner;let k=E.s.bayCat;for(let L=0;L<D.level;L++){const F=(0,_.k6)({key:"pet.bay-cat-summon",label:(0,e.I)(D,"Bay Cat summon",L+1),options:k.map($=>({id:$,label:$}))},()=>(0,v.hw)(0,k.length-1));let ne=this.petService.createPet({name:k[F.index],attack:null,health:null,equipment:null,mana:0,exp:0},D.parent);D.parent.summonPet(ne,D.savedPosition,!1,D).success&&(this.logService.createLog({message:`${D.name} summoned ${ne.name}`,type:"ability",player:D.parent,tiger:g,pteranodon:f,randomEvent:F.randomEvent}),ne.hasAbility("StartBattle")&&(this.logService.createLog({message:`${ne.name} activated its start of battle ability`,type:"ability",player:D.parent,tiger:g,pteranodon:f}),ne.activateAbilities("StartBattle",r,"Pet")))}this.triggerTigerExecution(o)}copy(o){return new n(o,this.logService,this.petService,this.abilityService)}}},21580(O,S,i){i.d(S,{k:()=>c});var A=i(22097);class c extends A.${logService;abilityService;name="Chili";equipmentClass="skewer";power=0;originalPower=0;attackCallback=(_,v)=>{let e=v.parent.getPetAtPosition(1);null!=e&&_.snipePet(e,5*(_.equipment?.multiplier??1),!1,null,null,!0,!1,"attacked",5)};constructor(_,v){super(),this.logService=_,this.abilityService=v}}},21784(O,S,i){i.d(S,{G:()=>_});var A=i(46200),c=i(5615),E=i(43378);class _ extends A.i{logService;abilityService;name="Caterpillar";tier=4;pack="Puppy";attack=1;health=1;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"CaterpillarAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:o=>this.owner.level>=3,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.getThis(d),f=g.pet;if(null==f)return;let D=new E.A(this.logService,this.abilityService,f.parent,f.health,f.attack,f.mana,f.exp,f.equipment);d.parent.transformPet(f,D),this.logService.createLog({message:`${d.name} transformed into a Butterfly.`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},21844(O,S,i){i.d(S,{z:()=>c});var A=i(22097);class c extends A.${name="Blueberry";equipmentClass="target";constructor(){super()}}},21881(O,S,i){i.d(S,{A:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Frilled Dragon";tier=1;pack="Custom";attack=1;health=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"FrilledDragonAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=0;for(let g of r.parent.petArray)g!==r&&g.isFaintPet()&&d++;d*=this.level,r.increaseAttack(d),r.increaseHealth(d),this.logService.createLog({message:`${r.name} gained ${d} attack and ${d} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:o}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},22097(O,S,i){i.d(S,{$:()=>c});var A=i(83028);class c{equipmentClass;name;tier;power;originalPower;uses;originalUses;callback;attackCallback;multiplier=1;multiplierMessage="";baseMultiplier=1;minimumDamage;hasRandomEvents=!1;triggers;constructor(){(0,A.L)(this),this.originalPower=this.power,this.baseMultiplier=this.multiplier}reset(){this.uses=this.originalUses}}},22120(O,S,i){i.d(S,{q:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Rockhopper Penguin";tier=6;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"RockhopperPenguinAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:1,condition:()=>null==e.parent.pet0,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=a.parent.getThis(a),r=o.pet;if(!r)return void this.triggerTigerExecution(e);a.parent.pushPetToFront(r,!0);const d=12*this.level,g=a.parent.resolveTrumpetGainTarget(a);g.player.gainTrumpets(d,a,n,void 0,void 0,g.random),this.logService.createLog({message:`${a.name} jumped to the front and gained +${d} trumpets.`,type:"ability",player:a.parent,tiger:t,pteranodon:n,randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},22167(O,S,i){i.d(S,{E:()=>v,y:()=>_});var A=i(32334),c=i(50873),E=i(5615);class _ extends c.L{name="Plastic Saw";tier=2;startOfBattle(t,n){let a=this.parent.getPetsWithEquipment("Eucalyptus"),r=this.parent.getFurthestUpPets(this.level,a).pets;if(0!=r.length)for(let d of r)this.logService.createLog({message:`${this.name} gave ${d.name} Eucalyptus.`,type:"ability",player:this.parent,puma:n}),d.givePetEquipment(new A.E)}}class v extends E.T{logService;constructor(t,n){super({name:"PlasticSawAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,r=this.owner;let d=r.parent.getPetsWithEquipment("Eucalyptus"),g=r.parent.getFurthestUpPets(this.level,d,r),f=g.pets;if(0!=f.length){for(let D of f)this.logService.createLog({message:`${r.name} gave ${D.name} Eucalyptus.`,type:"ability",player:r.parent,tiger:o,randomEvent:g.random}),D.givePetEquipment(new A.E);this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},22168(O,S,i){i.d(S,{b:()=>e});var A=i(46200),c=i(73028),E=i(53591),_=i(61850),v=i(47868);let e=(()=>{class t{static BEFORE_ATTACK_PRIORITY_BONUS=2e4;static FRIENDLY_GAINS_PERK_SELF_PRIORITY_BONUS=1e4;static CHURROS_PRIORITY_OFFSET=1e3;static MACARON_PRIORITY_OFFSET=-1e3;globalEventQueue=[];numberedTriggerCache=new WeakMap;numberedTriggerRegexCache=new Map;constructor(){}addEventToQueue(a){a.tieBreaker=(0,_.Ak)();const o=this.findEventInsertionIndex(a);this.globalEventQueue.splice(o,0,a)}findEventInsertionIndex(a){let o=0,r=this.globalEventQueue.length;for(;o<r;){const d=Math.floor((o+r)/2);this.compareEventsForQueueOrder(a,this.globalEventQueue[d])<0?r=d:o=d+1}return o}compareEventsForQueueOrder(a,o){const r=this.getAbilityPriority(a.abilityType)-this.getAbilityPriority(o.abilityType);if(0!==r)return r;const d=o.priority-a.priority;return 0!==d?d:(a.tieBreaker??0)-(o.tieBreaker??0)}clearGlobalEventQueue(){this.globalEventQueue=[]}get hasGlobalEvents(){return this.globalEventQueue.length>0}processQueue(a,o){(0,E.T5)(this.globalEventQueue,a,o)}getNextHighestPriorityEvent(){return this.globalEventQueue.shift()||null}peekNextHighestPriorityEvent(){return this.globalEventQueue.length>0?this.globalEventQueue[0]:null}executeEvent(a,o){(0,E.ET)(a,o)}getAbilityPriority(a){if("string"!=typeof a||0===a.length)return 999;const o=c.mX[a];if(null!=o)return o;const r=this.removeNumericSuffix(a);return r!==a?c.mX[r]??c.mX.CounterEvent??999:999}getPriorityNumber(a){return this.getAbilityPriority(a)}getPetEventPriority(a){let o=a.attack;return"Churros"===a.equipment?.name?o+=t.CHURROS_PRIORITY_OFFSET:"Macaron"===a.equipment?.name&&(o+=t.MACARON_PRIORITY_OFFSET),o}triggerAbility(a,o,r,d){if(a.hasTrigger(o)){let g=this.getPetEventPriority(a);("BeforeThisAttacks"===o||"BeforeFirstAttack"===o)&&(g+=t.BEFORE_ATTACK_PRIORITY_BONUS),"FriendlyGainsPerk"===o&&a===r&&(g+=t.FRIENDLY_GAINS_PERK_SELF_PRIORITY_BONUS);const f={...d??{},trigger:o,tigerSupportPet:a.petBehind(!0,!0)??null},D={priority:g,pet:a,triggerPet:r,abilityType:o,tieBreaker:(0,_.Ak)(),customParams:f};this.addEventToQueue(D)}}simulatePostRemovalFriendFaintsCounters(a,o){if(!a||o<=0)return;const r=this.getNumberedTriggersForPet(a,"PostRemovalFriendFaints");for(let d=0;d<o;d++)this.handleNumberedCounterTriggers(a,void 0,void 0,r)}handleCounterTriggers(a,o,r,d){for(const g of d)a.hasTrigger(g.trigger)&&(a.abilityCounter++,a.abilityCounter%g.modulo===0&&this.triggerAbility(a,g.trigger,o,r))}getTriggerModulo(a){const o=this.getNumericSuffix(a);return o?parseInt(o,10):null}handleNumberedCounterTriggers(a,o,r,d){const g=[];for(const f of d){const D=this.getTriggerModulo(f);null!=D&&g.push({trigger:f,modulo:D})}0!==g.length&&this.handleCounterTriggers(a,o,r,g)}getNumberedTriggersForPet(a,o){const r=a.abilityList;let d=this.numberedTriggerCache.get(a);(!d||d.listRef!==r||d.listLength!==r.length)&&(d={listRef:r,listLength:r.length,prefixMap:new Map},this.numberedTriggerCache.set(a,d));const g=d.prefixMap.get(o);if(g)return g;const f=new Set;let D=this.numberedTriggerRegexCache.get(o);D||(D=new RegExp(`^${o}\\d+$`),this.numberedTriggerRegexCache.set(o,D));for(const L of r)for(const F of L.triggers??[])D.test(F)&&f.add(F);const k=Array.from(f);return d.prefixMap.set(o,k),k}getNumericSuffix(a){if("string"!=typeof a||0===a.length)return null;const o=a.match(/(\d+)$/);return o?o[1]:null}removeNumericSuffix(a){return"string"!=typeof a||0===a.length?"":this.getNumericSuffix(a)?a.replace(/\d+$/,""):a}getTeam(a){const r=(a instanceof A.i?a.parent:a)?.petArray;return Array.isArray(r)?r:[]}static \u0275fac=function(o){return new(o||t)};static \u0275prov=v.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()},22266(O,S,i){i.d(S,{T:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Pug";tier=3;pack="Star";attack=5;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PugAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.nearestPetsAhead(1,r);if(0===d.pets.length)return;let g=d.pets[0],f=this.level;this.logService.createLog({message:`${r.name} gave ${g.name} ${f} exp.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),g.increaseExp(f),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},22312(O,S,i){i.d(S,{d:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Okapi";tier=3;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;usesThisTurn=0;pendingAttack=0;pendingHealth=0;maxUsesPerTurn=5;constructor(e,t,n){super({name:"OkapiAbility",owner:e,triggers:["Roll","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return(this.pendingAttack||this.pendingHealth)&&(t.increaseAttack(-this.pendingAttack),t.increaseHealth(-this.pendingHealth)),this.pendingAttack=0,this.pendingHealth=0,this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const n=this.level;t.increaseAttack(n),t.increaseHealth(n),this.pendingAttack+=n,this.pendingHealth+=n,this.usesThisTurn++,this.logService.createLog({message:`${t.name} gained +${n}/+${n} until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},22382(O,S,i){i.d(S,{s:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Bulldog";tier=1;pack="Golden";attack=1;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BulldogAbility",owner:e,triggers:["ThisFirstAttack"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>this.owner.timesAttacked<=1,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=2*this.level,g=r.parent.getThis(r),f=g.pet;null!=f&&(f.increaseAttack(d),this.logService.createLog({message:`${r.name} gained +${d} attack.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},22410(O,S,i){i.d(S,{W:()=>c});var A=i(22097);class c extends A.${name="Cheese";equipmentClass="attack";uses=1;originalUses=1}},22426(O,S,i){i.d(S,{z:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Smallest Slug";tier=1;pack="Golden";hidden=!0;health=1;attack=1;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},22528(O,S,i){i.d(S,{D:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Moby Dick";tier=1;pack="Custom";hidden=!0;attack=8;health=8;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"MobyDickAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}get triggers(){const e=["StartBattle"];return this.owner.level>1&&e.push("ThisSummoned"),e}set triggers(e){this._triggers=e}executeAbility(e){this.logService.createLog({message:`${this.owner.name} removed itself.`,type:"ability",player:this.owner.parent}),this.owner.removed=!0;const t=this.owner.parent;t&&(t.pet0===this.owner&&(t.pet0=null),t.pet1===this.owner&&(t.pet1=null),t.pet2===this.owner&&(t.pet2=null),t.pet3===this.owner&&(t.pet3=null),t.pet4===this.owner&&(t.pet4=null)),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},22729(O,S,i){i.d(S,{H:()=>v});var A=i(77856),c=i(29916),E=i(42704),_=i(33524);class v{asPlayerLike(){return this}getRandomPet(t,n,a,o,r,d){return(0,A.dK)(this.asPlayerLike(),t,n,a,o,r,d)}getRandomPets(t,n,a,o,r,d){return(0,A.oc)(this.asPlayerLike(),t,n,a,o,r,d)}getRandomEnemyPetsWithSillyFallback(t,n,a,o,r){return(0,A.Ff)(this.asPlayerLike(),t,n,a,o,r)}getPetsWithEquipmentWithSillyFallback(t,n){return(0,A.IR)(this.asPlayerLike(),t,n)}getRandomLivingPets(t){return(0,A.BR)(this.asPlayerLike(),t)}getAll(t,n,a){return(0,E.UK)(this.asPlayerLike(),t,n,a)}getPetsWithEquipment(t){return(0,_.Rr)(this.asPlayerLike(),t)}getPetsWithoutEquipment(t){return(0,_.XT)(this.asPlayerLike(),t)}getPetAtPosition(t){return(0,_.Ye)(this.asPlayerLike(),t)}getMiddleFriend(t){return(0,E.O3)(this.asPlayerLike(),t)}getLastPet(t,n){return(0,E.Oc)(this.asPlayerLike(),t,n)}getLastPets(t,n,a){return(0,E.Nq)(this.asPlayerLike(),t,n,a)}getHighestHealthPet(t,n){return(0,c.m8)(this.asPlayerLike(),t,n)}getHighestAttackPet(t,n){return(0,c.il)(this.asPlayerLike(),t,n)}getHighestAttackPets(t,n,a){return(0,c.v)(this.asPlayerLike(),t,n,a)}getLowestAttackPets(t,n,a){return(0,c.nE)(this.asPlayerLike(),t,n,a)}getLowestAttackPet(t,n){return(0,c.SB)(this.asPlayerLike(),t,n)}getLowestHealthPet(t,n){return(0,c._k)(this.asPlayerLike(),t,n)}getLowestHealthPets(t,n,a){return(0,c.Pl)(this.asPlayerLike(),t,n,a)}getHighestHealthPets(t,n,a){return(0,c.H5)(this.asPlayerLike(),t,n,a)}getHighestTierPets(t,n,a){return(0,c.XS)(this.asPlayerLike(),t,n,a)}getTierXOrLowerPet(t,n,a){return(0,c.oy)(this.asPlayerLike(),t,n,a)}get furthestUpPet(){for(const t of this.petArray)if(t.alive)return t;return null}getFurthestUpPet(t,n){return(0,E.gK)(this.asPlayerLike(),t,n)}getFurthestUpPets(t,n,a){return(0,E.xF)(this.asPlayerLike(),t,n,a)}nearestPetsBehind(t,n,a){return(0,E.Jd)(this.asPlayerLike(),t,n,a)}getThis(t){return(0,E.Rh)(this.asPlayerLike(),t)}getSpecificPet(t,n){return(0,E._w)(this.asPlayerLike(),t,n)}nearestPetsAhead(t,n,a,o,r){return(0,E.MR)(this.asPlayerLike(),t,n,a,o,r)}getStrongestPet(t){return(0,c.xk)(this.asPlayerLike(),t)}getManticoreMult(){return(0,_.lx)(this.asPlayerLike())}getPetsWithinXSpaces(t,n){return(0,E.vn)(this.asPlayerLike(),t,n)}getOppositeEnemyPet(t){return(0,E.p5)(this.asPlayerLike(),t)}getRandomLivingPet(t){return(0,A.WB)(this.asPlayerLike(),t)}}},22806(O,S,i){i.d(S,{d:()=>_});var A=i(46200),c=i(5615),E=i(23865);class _ extends A.i{logService;abilityService;name="White-Bellied Heron";tier=2;pack="Danger";attack=4;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"WhiteBelliedHeronAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.nearestPetsAhead(1,d);if(0==g.pets.length)return;let f=g.pets[0],D=new E.i;D.multiplier+=this.level-1,f.givePetEquipment(D);let k=".";2===this.level?k=" twice for double effect.":3===this.level&&(k=" thrice for triple effect."),this.logService.createLog({message:`${d.name} made ${f.name} Meat Bone${k}`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},22931(O,S,i){i.d(S,{v:()=>_});var A=i(46200),c=i(5615),E=i(1152);class _ extends A.i{logService;abilityService;name="Weevil";tier=1;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"WeevilAbility",owner:t,triggers:["FoodEatenByFriendly"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:3,precondition:a=>{const{triggerPet:o}=a,g=(0,E.lK)(this.owner,o).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:n,tiger:a,pteranodon:o}=t,r=this.owner,d=(0,E.lK)(r,n),g=d.pet;null!=g&&(g.increaseAttack(this.level),this.logService.createLog({message:`${r.name} gave ${g.name} +${this.level} attack.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:d.random}),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},23201(O,S,i){i.d(S,{R:()=>E,r:()=>_});var A=i(50873),c=i(5615);class E extends A.L{name="Tennis Ball";tier=2;startOfBattle(e,t){let n=this.parent.opponent.getRandomPets(this.level,[],!1,!0),a=n.pets;if(0!=a.length)for(let o of a)this.toyService.snipePet(o,3,this.parent,this.name,n.random,t)}}class _ extends c.T{logService;constructor(e,t){super({name:"TennisBallAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,[],!1,!0,r),g=d.pets;if(0!=g.length){for(let f of g)r.snipePet(f,3,d.random,a);this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},23238(O,S,i){i.d(S,{M:()=>v});var A=i(46200),c=i(5615),E=i(17385),_=i(1152);class v extends A.i{logService;abilityService;name="Real Velociraptor";tier=6;pack="Star";attack=6;health=5;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;friendAppliedThisTurn=new Set;reset(){this.maxUses=this.level,this.friendAppliedThisTurn=new Set,super.reset()}constructor(n,a){super({name:"RealVelociraptorAbility",owner:n,triggers:["FriendLostPerk"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:n.level,precondition:o=>{const{triggerPet:r}=o,d=this.owner;if(!r||!r.lastLostEquipment||!(0,_.Re)(d,r,{excludeOwner:!0}))return!1;const f=(0,_.lK)(d,r).pet;return!!f&&!this.friendAppliedThisTurn.has(f)},abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const{triggerPet:o,tiger:r}=n,g=this.owner;let f=this.createEquipmentInstance(o.lastLostEquipment);if(f){let D=(0,_.lK)(g,o),k=D.pet;if(null==k)return;k.givePetEquipment(f),this.logService.createLog({message:`${g.name} returned ${f.name} to ${k.name}.`,type:"ability",player:g.parent,tiger:r,randomEvent:D.random}),this.friendAppliedThisTurn.add(k)}this.triggerTigerExecution(n)}createEquipmentInstance(n){return n?(0,E.e)(n):null}copy(n){return new e(n,this.logService)}}},23296(O,S,i){i.d(S,{m:()=>E});var A=i(22097),c=i(5615);class E extends A.${logService;name="Baguette";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"BaguetteAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;for(let n=0;n<this.equipment.multiplier;n++){let a=t.parent.opponent.getPetsWithoutEquipment("Perk"),o=t.parent.opponent.getFurthestUpPet(t,a).pet;if(null==o)return;if(null!=o.equipment){let r=o.equipment.name;o.removePerk(),this.logService.createLog({message:`${t.name} removed ${r} from ${o.name} (Baguette)${n>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent})}}t.removePerk()}}},23360(O,S,i){i.d(S,{A:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Dragon";tier=6;pack="Turtle";attack=3;health=8;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"DragonAbility",owner:e,triggers:["Tier1FriendBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:4,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level,a=t.parent.petArray.filter(o=>o&&o.alive);if(0!==a.length){for(const o of a)o.increaseAttack(n),o.increaseHealth(n);this.logService.createLog({message:`${t.name} gave friends +${n} attack and +${n} health.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService,this.abilityService)}}},23393(O,S,i){i.d(S,{q:()=>E});var A=i(47868),c=i(22168);let E=(()=>{class _{abilityQueueService;constructor(e){this.abilityQueueService=e}triggerBeforeAttackEvents(e){const t=e?.parent,n=t&&Array.isArray(t.petArray)?t.petArray:[];for(let a of n)a.hasTrigger("BeforeFriendlyAttack")&&this.abilityQueueService.triggerAbility(a,"BeforeFriendlyAttack",e,void 0),a==e?(a.hasTrigger("BeforeThisAttacks")&&this.abilityQueueService.triggerAbility(a,"BeforeThisAttacks"),a.hasTrigger("BeforeFirstAttack")&&this.abilityQueueService.triggerAbility(a,"BeforeFirstAttack")):a.hasTrigger("BeforeFriendAttacks")&&this.abilityQueueService.triggerAbility(a,"BeforeFriendAttacks",e),(a==e.petAhead||a==e.petBehind())&&a.hasTrigger("BeforeAdjacentFriendAttacked")&&this.abilityQueueService.triggerAbility(a,"BeforeAdjacentFriendAttacked",e)}triggerAfterAttackEvents(e){if(!e)return;const t=this.abilityQueueService.getTeam(e);for(let a of t)this.abilityQueueService.handleNumberedCounterTriggers(a,void 0,void 0,this.abilityQueueService.getNumberedTriggersForPet(a,"FriendlyAttacked")),a.hasTrigger("FriendlyAttacked")&&this.abilityQueueService.triggerAbility(a,"FriendlyAttacked"),a.hasTrigger("AnyoneAttack")&&this.abilityQueueService.triggerAbility(a,"AnyoneAttack",e),a==e?(a.hasTrigger("ThisAttacked")&&this.abilityQueueService.triggerAbility(a,"ThisAttacked"),a.hasTrigger("ThisFirstAttack")&&this.abilityQueueService.triggerAbility(a,"ThisFirstAttack")):(a.hasTrigger("FriendAttacked")&&this.abilityQueueService.triggerAbility(a,"FriendAttacked",e),this.abilityQueueService.handleNumberedCounterTriggers(a,void 0,void 0,this.abilityQueueService.getNumberedTriggersForPet(a,"FriendAttacked"))),(a==e.petAhead||a==e.petBehind())&&a.hasTrigger("AdjacentFriendAttacked")&&this.abilityQueueService.triggerAbility(a,"AdjacentFriendAttacked",e),a==e.petBehind(null,!0)&&a.hasTrigger("FriendAheadAttacked")&&this.abilityQueueService.triggerAbility(a,"FriendAheadAttacked",e);const n=this.abilityQueueService.getTeam(e.parent?.opponent);if(n.length)for(let a of n)a.hasTrigger("AnyoneAttack")&&this.abilityQueueService.triggerAbility(a,"AnyoneAttack",e),a.hasTrigger("EnemyAttacked")&&this.abilityQueueService.triggerAbility(a,"EnemyAttacked"),this.abilityQueueService.handleNumberedCounterTriggers(a,void 0,void 0,this.abilityQueueService.getNumberedTriggersForPet(a,"EnemyAttacked"))}static \u0275fac=function(t){return new(t||_)(A.KVO(c.b))};static \u0275prov=A.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},23407(O,S,i){i.d(S,{P:()=>_});var A=i(46200),c=i(5615),E=i(51838);class _ extends A.i{logService;abilityService;name="Tree";tier=3;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Tree Ability",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner,r=[6,12,18],d=r[Math.min(this.level-1,r.length-1)];o.attack<=d&&(o.givePetEquipment(new E.K),this.logService.createLog({message:`${o.name} gained Coconut perk for meeting the ${d} attack threshold.`,type:"ability",player:o.parent,tiger:n,pteranodon:a})),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},23475(O,S,i){i.d(S,{_:()=>_});var A=i(46200),c=i(5615),E=i(14908);class _ extends A.i{logService;abilityService;name="Chinchilla";tier=1;pack="Puppy";attack=2;health=3;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"ChinchillaAbility",owner:t,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,a=this.level,r=2*a,d=new E.r(this.logService,this.abilityService,n.parent,r,r,null,this.minExpForLevel),g=n.parent.summonPet(d,n.savedPosition,!1,n);g.success&&this.logService.createLog({message:`${n.name} summoned a ${r}/${r} Loyal Chinchilla (level ${a}).`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon,randomEvent:g.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},23508(O,S,i){i.d(S,{q:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Quetzalcoatlus";tier=3;pack="Custom";attack=4;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Quetzalcoatlus Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:n,pteranodon:a}=e,o=this.owner;if(!t||!t.alive)return void this.triggerTigerExecution(e);const r=this.level,d=t.parent.petArray.filter(g=>g.alive);for(const g of d)g.increaseAttack(r),g.increaseHealth(r);this.logService.createLog({message:`${o.name} (Faint) gave +${r}/+${r} to ${t.name} and its friends.`,type:"ability",player:o.parent,tiger:n,pteranodon:a}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},23586(O,S,i){i.d(S,{C:()=>_});var A=i(46200),c=i(5615),E=i(1152);class _ extends A.i{logService;abilityService;name="Silkmoth";tier=1;pack="Golden";attack=3;health=1;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"SilkmothAbility",owner:t,triggers:["FriendAheadHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2,precondition:a=>{const{triggerPet:o}=a,g=(0,E.lK)(this.owner,o).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:o}=t,d=this.owner;let g=(0,E.lK)(d,a),f=g.pet;if(null==f)return;let D=this.level;f.increaseHealth(D),this.logService.createLog({message:`${d.name} gave ${f.name} ${D} health.`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},23623(O,S,i){i.d(S,{W:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Tatzelwurm";tier=4;pack="Unicorn";attack=1;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TatzelwurmAbility",owner:e,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;let d=2*this.level;n&&3==n.level&&(d*=2);let g=r.parent.opponent.getFurthestUpPet(r);null!=g.pet&&(r.snipePet(g.pet,d,g.random,a),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},23638(O,S,i){function A(_,v,e,t,n={}){_.createLog({message:t,type:"ability",player:v.parent,tiger:e.tiger,pteranodon:e.pteranodon,...n})}function c(_){A(_.logService,_.owner,_.context,_.message,_.extras),_.owner.parent.transformPet(_.fromPet,_.toPet)}function E(_){_.amount<=0||(A(_.logService,_.owner,_.context,_.message??`${_.owner.name} gave ${_.target.name} +${_.amount} experience.`,_.extras),_.target.increaseExp(_.amount))}i.d(S,{Oe:()=>E,c2:()=>c})},23770(O,S,i){i.d(S,{D:()=>c});var A=i(22097);class c extends A.${name="Corncob";tier=1;equipmentClass="shop";effectMultiplier=1}},23780(O,S,i){i.d(S,{E:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Gibbon";tier=1;pack="Custom";health=2;attack=1;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"GibbonAbility",owner:e,triggers:["ShopUpgrade"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=this.level,g=r.parent.nearestPetsBehind(2,r);if(0!==g.pets.length){for(let f of g.pets)f.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${f.name} ${d} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:g.random});this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService,this.abilityService)}}},23790(O,S,i){i.d(S,{K:()=>o});var A=i(46200),c=i(5615),E=i(90966),_=i(33127),v=i(61850),e=i(1152),t=i(17385),n=i(58857),a=i(79222);class o extends A.i{logService;abilityService;name="Leaf Gecko";tier=4;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new r(this,this.logService)),super.initAbilities()}constructor(g,f,D,k,L,F,J,ne,H){super(g,f,D),this.logService=g,this.abilityService=f,this.initPet(J,k,L,F,ne,H)}}class r extends c.T{logService;constructor(g,f){super({name:"Leaf Gecko Ability",owner:g,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:g.level,abilityFunction:D=>this.executeAbility(D)}),this.logService=f}executeAbility(g){const{tiger:f,pteranodon:D}=g,k=this.owner,L=_.I.getInjector().get(E.m),F=Array.from(L.getInstanceOfAllAilments().keys()),J=[...k.parent.petArray,...k.parent.opponent.petArray].filter(ye=>ye?.alive);if(0===F.length||0===J.length)return void this.triggerTigerExecution(g);const ne=3*this.level;let H=0;const $=[];let q=0;const ae=5*ne;let le=!1;for(;H<ne&&q<ae;){const ye=(0,n.k6)({key:"pet.leaf-gecko-target",label:(0,a.I)(k,"Leaf Gecko cursed target",q+1),options:J.map(Ne=>({id:`${Ne.parent?.isOpponent?"O":"P"}:${Ne.savedPosition+1}:${Ne.name}`,label:`${Ne.parent?.isOpponent?"O":"P"}${Ne.savedPosition+1} ${Ne.name}`}))},()=>(0,v.hw)(0,J.length-1));le=le||ye.randomEvent;const Se=J[ye.index];if(!Se){q++;continue}const Ce=F.filter(Ne=>(0,e.zo)(Se,Ne));if(0===Ce.length){q++;continue}const de=(0,n.k6)({key:"pet.leaf-gecko-ailment",label:(0,a.I)(k,`Leaf Gecko ailment for ${Se.name}`,q+1),options:Ce.map(Ne=>({id:Ne,label:Ne}))},()=>(0,v.hw)(0,Ce.length-1));le=le||de.randomEvent;const Te=Ce[de.index];if(!Te){q++;continue}const xe=L.getInstanceOfAllAilments().get(Te);if(!xe){q++;continue}const Ue=(0,t.e)(xe);Ue?(Se.parent!==k.parent&&(Ue.multiplier=2,Ue.multiplierMessage=" x2 (Leaf Gecko)"),Se.givePetEquipment(Ue),Se.equipment?.name===Te&&Se.equipment?.equipmentClass?.startsWith("ailment")&&(H++,$.push(`${Se.name} (${Te}${Se.parent!==k.parent?" x2":""})`)),q++):q++}const _e=H>0?`${k.name} cursed ${H} pet${1===H?"":"s"}: ${$.join(", ")}.`:`${k.name} could not apply any random ailments.`;(0,e.rv)(this.logService,k,_e,f,D,{randomEvent:le}),this.triggerTigerExecution(g)}copy(g){return new r(g,this.logService)}}},23828(O,S,i){i.d(S,{A:()=>v});var A=i(20882),c=i(96396),E=i(43744);const v=function _(e){return((0,E.A)(e)?A.A:c.A)(e)}},23865(O,S,i){i.d(S,{i:()=>c});var A=i(22097);class c extends A.${name="Meat Bone";equipmentClass="attack";power=3;originalPower=3}},24101(O,S,i){i.d(S,{r:()=>E});var A=i(46200);i(5615);class E extends A.i{logService;abilityService;name="Goat";tier=5;pack="Puppy";attack=4;health=6;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}},24111(O,S,i){i.d(S,{K:()=>t});var A=i(62223),c=i(58212),E=i(15082),_=i(38762),v=i(78311),e=i(47868);let t=(()=>{class n{logs=[];petNameRegex;toyNameRegex;equipmentNameRegex;inlineNameRegex;inlineNameTypeMap;ailmentNames;enabled=!0;deferDecorations=!1;showTriggerNamesInLogs=!1;debugSummonBoardStateLogs=!1;constructor(){const o=(0,A.bf)(),r=(0,A.Eo)(),d=(0,A.oI)();this.petNameRegex=(0,E.NL)(o),this.toyNameRegex=(0,E.NL)(r),this.equipmentNameRegex=(0,E.NL)(d),this.inlineNameTypeMap=(0,E.Fq)(o,r,d),this.inlineNameRegex=(0,E.IF)(o,r,d),this.ailmentNames=new Set(Object.values(c.U).flat().filter(Boolean))}setEnabled(o){this.enabled=!!o,this.enabled||(this.logs=[])}isEnabled(){return this.enabled}setDeferDecorations(o){this.deferDecorations=!!o}isDeferDecorations(){return this.deferDecorations}setShowTriggerNamesInLogs(o){this.showTriggerNamesInLogs=!!o}isShowTriggerNamesInLogs(){return this.showTriggerNamesInLogs}setDebugSummonBoardStateLogs(o){this.debugSummonBoardStateLogs=!!o}isDebugSummonBoardStateLogs(){return this.debugSummonBoardStateLogs}decorateLogIfNeeded(o){if(!o||o.decorated||!o.rawMessage)return;const r=this.decorateMessageWithNames(o.rawMessage,o.sourcePet,o.targetPet,o.sourceIndex,o.targetIndex);o.message=(0,E.N7)(r,this.inlineNameRegex,this.inlineNameTypeMap,this.ailmentNames),o.decorated=!0}createLog(o){if(!this.enabled)return;o.message?.startsWith("Phase ")&&(o.bold=!0),this.resolveLogMetadata(o);let r=this.decorateLogMessage(o);r=this.appendTagSuffixes(r,o),this.persistDecoratedMessage(o,r);const d=this.logs[this.logs.length-1],g=this.shouldAppendSummonBoardState(o);this.tryMergeAttackHealthLogs(d,o)||(this.shouldCollapseLog(d,o)?d.count=(d.count??1)+1:this.logs.push(o)),g&&this.appendSummonBoardStateLog(o)}resolveLogMetadata(o){if(!o.sourcePet&&o.player&&o.message){const r=o.player.petArray.filter(d=>d&&o.message.startsWith(d.name));1===r.length&&(o.sourcePet=r[0])}"attack"===o.type&&o.player&&o.message&&this.resolveAttackPetsFromMessage(o),!o.randomEventReason&&!0===o.randomEvent&&(o.randomEventReason="true-random"),o.player&&o.message&&this.resolveSourceTargetFromMessage(o),o.sourcePet&&null==o.sourceIndex&&(o.sourceIndex=this.getFrontIndex(o.sourcePet)??void 0),o.targetPet&&null==o.targetIndex&&(o.targetIndex=this.getFrontIndex(o.targetPet)??void 0)}decorateLogMessage(o){const r=o.message??"";return this.deferDecorations?r:this.decorateMessageWithNames(r,o.sourcePet,o.targetPet,o.sourceIndex,o.targetIndex)}appendTagSuffixes(o,r){let d=o;return r.tiger&&(d+=" (Tiger)"),r.puma&&(d+=" (Puma)"),r.pteranodon&&(d+=" (Pteranodon)"),null!=r.pantherMultiplier&&r.pantherMultiplier>1&&(d+=` x${r.pantherMultiplier} (Panther)`),d}persistDecoratedMessage(o,r){if(r){if(this.deferDecorations)return o.rawMessage=r,o.message=r,void(o.decorated=!1);o.message=(0,E.N7)(r,this.inlineNameRegex,this.inlineNameTypeMap,this.ailmentNames),o.decorated=!0}}shouldCollapseLog(o,r){if(!o)return!1;const d=o.player===r.player;return o.message?.trim()===r.message?.trim()&&d&&o.randomEvent===r.randomEvent&&o.randomEventReason===r.randomEventReason&&(!(null!=r.sourcePet||null!=r.targetPet||null!=r.sourceIndex||null!=r.targetIndex)||o.sourcePet===r.sourcePet&&o.sourceIndex===r.sourceIndex&&o.targetPet===r.targetPet&&o.targetIndex===r.targetIndex)}getLogs(){return this.logs}reset(){this.logs=[]}getFrontIndex(o){const r=o?.parent;return r?r.pet0===o?1:r.pet1===o?2:r.pet2===o?3:r.pet3===o?4:r.pet4===o?5:null:null}decorateMessage(o,r){const d=this.getFrontIndex(r);return null==d?o:this.replaceFirst(o,r.name,`${r.parent?.isOpponent?"O":"P"}${d} ${r.name}`)}decorateAttackMessage(o,r,d,g,f){const D=g??this.getFrontIndex(r),k=f??this.getFrontIndex(d);if(null==D||null==k)return o;const J=`${r.parent?.isOpponent?"O":"P"}${D} ${r.name}`,ne=`${d.parent?.isOpponent?"O":"P"}${k} ${d.name}`,H="___SOURCE_HOLDER___",$="___TARGET_HOLDER___";let q=this.replaceFirst(o,r.name,H);return q=this.replaceFirst(q,d.name,$),q=q.replace(H,J),q=q.replace($,ne),q}decorateMessageWithNames(o,r,d,g,f){return o?r&&d?this.decorateAttackMessage(o,r,d,g,f):r?null!=g?this.replaceFirst(o,r.name,`${r.parent?.isOpponent?"O":"P"}${g} ${r.name}`):this.decorateMessage(o,r):o:o}replaceFirst(o,r,d){const g=o.indexOf(r);return-1===g?o:o.slice(0,g)+d+o.slice(g+r.length)}resolveAttackPetsFromMessage(o){if(!o?.message||!o.player||o.sourcePet&&o.targetPet)return;const r=o.message,d=/^(.+?)\s+sniped\s+(.+?)\s+for\s+/i.exec(r),g=/^(.+?)\s+(?:jump-)?attacks?\s+(.+?)\s+for\s+/i.exec(r),f=d??g;if(!f)return;const D=f[1].trim(),k=f[2].trim(),L=o.player.petArray??[],F=o.player.opponent?.petArray??[];o.sourcePet||(o.sourcePet=L.find(J=>J?.name===D)??null),o.targetPet||(o.targetPet=F.find(J=>J?.name===k)??L.find(J=>J?.name===k)??null)}isAilmentName(o){return this.ailmentNames.has(o)}resolveSourceTargetFromMessage(o){if(o.sourcePet&&o.targetPet)return;const r=o.message;if(!r)return;const d=this.extractPetNames(r);if(d.length<2)return;const g=o.player?.petArray??[],f=o.player?.opponent?.petArray??[],D=(k,L,F)=>k.find(J=>J?.name===L&&J!==F)??null;o.sourcePet||(o.sourcePet=D(g,d[0])??D(f,d[0])),o.targetPet||(o.targetPet=d[1]===d[0]?o.sourcePet&&r.startsWith(o.sourcePet.name)&&o.sourcePet?o.sourcePet:D(g,d[1],o.sourcePet)??D(f,d[1],o.sourcePet)??o.sourcePet??null:D(f,d[1])??D(g,d[1]))}extractPetNames(o){return this.petNameRegex&&o?o.match(this.petNameRegex)??[]:[]}tryMergeAttackHealthLogs(o,r){const d=(0,_.c)(o,r);if(!d)return!1;if(this.deferDecorations)o.rawMessage=d,o.message=d,o.decorated=!1;else{const g=this.decorateMessageWithNames(d,o.sourcePet,o.targetPet,o.sourceIndex,o.targetIndex);o.message=(0,E.N7)(g,this.inlineNameRegex,this.inlineNameTypeMap,this.ailmentNames),o.decorated=!0}return!0}shouldAppendSummonBoardState(o){return!!(this.debugSummonBoardStateLogs&&o?.message&&"board"!==o.type&&o.player&&o.player.opponent)&&/\b(summoned|spawned)\b|^No room to spawn\b/i.test(o.message)}appendSummonBoardStateLog(o){const r=o.player,d=o.player?.opponent;!r||!d||this.logs.push({message:this.buildPlainBoardStateMessage(r,d),type:"board",player:r})}buildPlainBoardStateMessage(o,r){return`${[o.pet4,o.pet3,o.pet2,o.pet1,o.pet0].map(f=>this.renderPlainPetText(f)).join(" ")} | ${[r.pet0,r.pet1,r.pet2,r.pet3,r.pet4].map(f=>this.renderPlainPetText(f)).join(" ")}`}renderPlainPetText(o){if(!o)return"___ (-/-)";const r=this.getFrontIndex(o);return`${null!=r?`${o.parent?.isOpponent?"O":"P"}${r}`:"P?"} ${o.name}(${o.attack}/${o.health}/${o.exp}xp)`}printState(o,r,d){if(!this.enabled)return;d&&this.createLog({message:d,type:"board"});const g=(0,v.n)(o,r,f=>this.getFrontIndex(f),f=>this.isAilmentName(f));this.createLog({message:g,type:"board"})}static \u0275fac=function(r){return new(r||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()},24207(O,S,i){i.d(S,{C:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Young Phoenix";tier=1;pack="Unicorn";hidden=!0;health=6;attack=6;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},24233(O,S,i){i.d(S,{n:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Velociraptor";tier=6;pack="Star";attack=3;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"VelociraptorAbility",owner:e,triggers:["FriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d;for(let f=r.parent.petArray.indexOf(r)-1;f>=0;f--){let D=r.parent.petArray[f];if(D.alive&&D.equipment&&"Strawberry"===D.equipment.name){d=D;break}}if(d){if(d&&d.equipment&&"Strawberry"===d.equipment.name){d.removePerk(),this.logService.createLog({message:`${r.name} removed Strawberry from ${d.name}`,type:"ability",player:r.parent,tiger:a});let f=2*this.level,D=3*this.level,k=r.parent.getAll(!1,r,!0),L=k.pets;for(let F of L)F.increaseAttack(f),F.increaseHealth(D),this.logService.createLog({message:`${r.name} gave ${F.name} +${f} attack and +${D} health`,type:"ability",player:r.parent,tiger:a,randomEvent:k.random})}this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},24277(O,S,i){i.d(S,{a:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Werewolf";tier=5;pack="Unicorn";attack=7;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"WerewolfAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n}=e,a=this.owner;if((t?.turnNumber??1)%2!=0&&t?.mana){const g=6*this.level;let D=a.parent.getThis(a).pet;if(null==D)return;D.increaseMana(g),this.logService.createLog({message:`${a.name} gave ${D.name} ${g} mana.`,type:"ability",player:a.parent,tiger:n})}else{let f=a.parent.getThis(a).pet;if(null==f)return;let D=.5*this.level;const k=Math.floor(a.attack*D),L=Math.floor(a.health*D);let F=Math.min(50,a.attack+k),J=Math.min(50,a.health+L);this.logService.createLog({message:`${a.name} increased ${f.name}'s stats by ${100*D}% (${F}/${J}).`,type:"ability",player:a.parent,tiger:n}),f.increaseAttack(k),f.increaseHealth(L)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},24287(O,S,i){i.d(S,{y:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Akhlut";tier=6;pack="Custom";attack=5;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Akhlut Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner;if(t.mana<2)return;t.mana=Math.max(t.mana-2,0);const n=t.parent.nearestPetsBehind(1,t,[t]),a=n.pets[0];if(!a)return;const o=3*this.level;a.increaseAttack(o),a.increaseHealth(o),this.logService.createLog({message:`${t.name} spent 2 mana to give ${a.name} +${o}/+${o}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},24609(O,S,i){i.d(S,{R:()=>v});var A=i(46200),c=i(5615),E=i(32804),_=i(83991);class v extends A.i{logService;abilityService;name="Pygmy Hog";tier=2;pack="Danger";attack=1;health=2;initAbilities(){this.addAbility(new e(this,this.logService,this.abilityService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;abilityService;constructor(n,a,o){super({name:"PygmyHogAbility",owner:n,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=a,this.abilityService=o}executeAbility(n){const{tiger:r}=n,g=this.owner;let f={health:Math.max(5*this.level,g.health),attack:Math.max(5*this.level,g.attack)},D=new E._(this.logService,this.abilityService,g.parent,f.health,f.attack,g.mana,g.exp,new _.T);this.logService.createLog({message:`${g.name} transformed into ${D.name} (${f.attack}/${f.health}) with Garlic!`,type:"ability",player:g.parent,tiger:r}),g.parent.transformPet(g,D),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService,this.abilityService)}}},24990(O,S,i){i.d(S,{s:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Araripe Manakin";tier=2;pack="Danger";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"AraripeManakinAbility",owner:e,triggers:["FriendTransformed","FriendJumped"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getThis(r),g=d.pet;if(!g)return;let f=3*this.level;g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} health`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},25047(O,S,i){i.d(S,{$:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Sleipnir";tier=6;pack="Unicorn";attack=8;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SleipnirAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=Math.floor(r.attack/2),g=r.parent.getFurthestUpPets(this.level,[r],r),f=g.pets;if(0!=f.length){for(let D of f)null!=D&&(this.logService.createLog({message:`${r.name} gave ${D.name} ${d} mana.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),D.increaseMana(d));this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},25208(O,S,i){i.d(S,{p:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Otter";tier=1;pack="Turtle";health=4;attack=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"OtterAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,a=t.parent.getRandomPets(this.level,[t],!1,!1,t);if(0!==a.pets.length){for(const o of a.pets)o.increaseHealth(1);this.logService.createLog({message:`${t.name} gave ${a.pets.map(o=>o.name).join(", ")} +1 health.`,type:"ability",player:t.parent,randomEvent:a.random,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},25240(O,S,i){i.d(S,{F:()=>_});var A=i(56518),c=i(46200),E=i(5615);class _ extends c.i{logService;abilityService;name="Hummingbird";tier=1;pack="Star";attack=3;health=1;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends E.T{logService;abilityService;constructor(t,n,a){super({name:"HummingbirdAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.getPetsWithEquipment("Strawberry"),f=d.parent.nearestPetsBehind(this.level,d,g);if(0!==f.pets.length){for(let D of f.pets)D.givePetEquipment(new A.q(this.logService)),this.logService.createLog({message:`${d.name} gave ${D.name} strawberry.`,type:"ability",player:d.parent,tiger:o,randomEvent:f.random});this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService,this.abilityService)}}},25253(O,S,i){i.d(S,{X:()=>A});const A=c=>c&&"number"==typeof c.length&&"function"!=typeof c},25321(O,S,i){i.d(S,{D:()=>v,H:()=>_});var A=i(51838),c=i(50873),E=i(5615);class _ extends c.L{name="Air Palm Tree";tier=6;startOfBattle(t,n){let a=this.parent.getHighestAttackPets(this.level,this.parent.getPetsWithEquipment("Coconut")),o=a.pets;if(0!=o.length)for(let r of o)r.givePetEquipment(new A.K),this.logService.createLog({message:`${this.name} gave ${r.name} Coconut.`,type:"ability",player:this.parent,puma:n,randomEvent:a.random})}}class v extends E.T{logService;constructor(t,n){super({name:"AirPalmTreeAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.getPetsWithEquipment("Coconut"),f=d.parent.getHighestAttackPets(this.level,g,d),D=f.pets;if(0!=D.length){for(let k of D)k.givePetEquipment(new A.K),this.logService.createLog({message:`${d.name} gave ${k.name} Coconut.`,type:"ability",player:d.parent,tiger:o,randomEvent:f.random});this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},25479(O,S,i){i.d(S,{w:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Ant";tier=1;pack="Turtle";health=2;attack=2;initPet(e,t,n,a,o,r){this.addAbility(new _(this,this.logService)),super.initPet(e,t,n,a,o,r)}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"AntAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner,d=this.level,g=r.parent.getRandomPet([r],!0,!1,!0,r);null!=g.pet&&(this.logService.createLog({message:`${r.name} gave ${g.pet.name} ${d} attack and ${d} health.`,type:"ability",randomEvent:g.random,player:r.parent,tiger:a,pteranodon:o}),g.pet.increaseAttack(d),g.pet.increaseHealth(d),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},25632(O,S,i){i.d(S,{I:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Nurikabe";tier=5;pack="Custom";attack=5;health=6;maxAbilityUses=3;initAbilities(){this.addAbility(new _(this)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{constructor(e){super({name:"NurikabeAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:t=>this.executeAbility(t)})}executeAbility(e){}copy(e){return new _(e)}}},25700(O,S,i){i.d(S,{w:()=>t});var A=i(46200),c=i(5615),E=i(33127),_=i(26886),v=i(61850),e=i(1152);class t extends A.i{logService;abilityService;name="Sting Ray";tier=5;pack="Puppy";attack=5;health=7;initAbilities(){this.addAbility(new n(this,this.logService,this.abilityService)),super.initAbilities()}constructor(o,r,d,g,f,D,k,L,F){super(o,r,d),this.logService=o,this.abilityService=r,this.initPet(k,g,f,D,L,F)}}class n extends c.T{logService;abilityService;constructor(o,r,d){super({name:"StingRayAbility",owner:o,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:o.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=r,this.abilityService=d}executeAbility(o){const r=this.owner,d=E.I.getInjector().get(_.w),g=Math.max(1,Math.min(3,this.level)),f=d.toys.get(g)??[];if(0===f.length)return void this.triggerTigerExecution(o);const D=f[(0,v.hw)(0,f.length-1)],k=d.createToy(D,r.parent,g);k?(r.parent.toy=k,r.parent.toy.used=!1,r.parent.toy.triggers=0,(0,e.rv)(this.logService,r,`${r.name} chose a level ${g} ${D} toy.`,o.tiger,o.pteranodon),this.triggerTigerExecution(o)):this.triggerTigerExecution(o)}copy(o){return new n(o,this.logService,this.abilityService)}}},25828(O,S,i){i.d(S,{y:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Giant Eyes Dog";tier=1;pack="Unicorn";hidden=!0;health=1;attack=1;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},25935(O,S,i){i.d(S,{L:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Ogopogo";tier=2;pack="Unicorn";attack=3;health=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"OgopogoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner,d=r.parent.getFurthestUpPets(this.level,[r],r),g=d.pets;if(0!==g.length){for(const f of g)this.logService.createLog({message:`${r.name} gave ${f.name} +1 experience.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),f.increaseExp(1);this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},26032(O,S,i){i.d(S,{A:()=>c});const c=function A(){return[]}},26273(O,S,i){i.d(S,{w:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Surgeon Fish";tier=3;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SurgeonFishAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>!(this.owner.parent.trumpets<2),abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.nearestPetsBehind(2,r),g=d.pets;if(0==g.length)return;r.parent.spendTrumpets(2,r);let f=4*this.level;for(let D of g)D.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${D.name} ${f} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:d.random});this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},26302(O,S,i){i.d(S,{e:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Emu";tier=5;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"EmuAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>null==this.owner.parent.pet0,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.nearestPetsAhead(1,r);if(0==d.pets.length)return;let g=d.pets[0],f=4*this.level;g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:d.random});let D=r.parent.nearestPetsAhead(1,r);if(0===D.pets.length)return;let k=D.pets[0];r.parent.pushPetToFront(k),this.logService.createLog({message:`${r.name} pushed ${k.name} to the front.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:D.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},26509(O,S,i){i.d(S,{A:()=>E});const E=i(1860).A.Uint8Array},26624(O,S,i){i.d(S,{L:()=>_});var A=i(46200),c=i(5615),E=i(1152);class _ extends A.i{logService;abilityService;name="Praying Mantis";tier=4;pack="Star";attack=7;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"PrayingMantisAbility",owner:t,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,o=(0,E.MZ)(n);for(const d of o)n.dealDamage(d,50);const r=2*this.level;n.increaseAttack(r),n.increaseHealth(r),this.logService.createLog({message:`${n.name} dealt 50 damage to adjacent friends and gained +${r}/+${r}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon,randomEvent:o.length>1}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},26666(O,S,i){i.d(S,{Q:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Dromedary";tier=2;pack="Puppy";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"DromedaryAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level;this.logService.createLog({message:`${t.name} gave the two left-most shop pets +${n}/+${n}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},26683(O,S,i){i.d(S,{P:()=>E,p:()=>_});var A=i(50873),c=i(5615);class E extends A.L{name="Treasure Chest";tier=3}class _ extends c.T{logService;constructor(e,t){super({name:"TreasureChestAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){}copy(e){return new _(e,this.logService)}}},26717(O,S,i){i.d(S,{L:()=>_});var A=i(607),c=i(46200),E=i(5615);class _ extends c.i{logService;abilityService;name="Red Dragon";tier=5;pack="Unicorn";attack=4;health=8;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends E.T{logService;constructor(t,n){super({name:"RedDragonAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.getPetsWithEquipmentWithSillyFallback("Crisp",d),f=d.parent.opponent.getLastPets(this.level,g,d),D=f.pets;if(0!=D.length){for(let k of D)this.logService.createLog({message:`${d.name} gave ${k.name} Crisp.`,type:"ability",player:d.parent,tiger:o,randomEvent:f.random}),k.givePetEquipment(new A.Y);this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},26886(O,S,i){var A;i.d(S,{w:()=>D});var c=i(23828),E=i(37283),_=i(87647),v=i(61850),e=i(83028),t=i(47868),n=i(24111),a=i(49230),o=i(1744),r=i(90966),d=i(56990),g=i(20441),f=i(49149);let D=(()=>{class k{logService;abilityService;gameService;equipmentService;petService;toyFactory;toyEventService;toys=new Map;toysByType=new Map;toyNameIds=new Map;localStartOfBattleEvents=[];constructor(F,J,ne,H,$,q,ae){this.logService=F,this.abilityService=J,this.gameService=ne,this.equipmentService=H,this.petService=$,this.toyFactory=q,this.toyEventService=ae,this.logService=(0,e.V)(this.logService),this.setToys()}setToys(){this.toys.clear(),this.toyNameIds.clear(),this.toysByType.clear();const F=this.getToyEntriesFromJson();for(const J of F){const ne=Number(J.Tier);if(!Number.isFinite(ne)||ne<1)continue;this.toys.has(ne)||this.toys.set(ne,[]);const H=this.toys.get(ne);H&&H.push(J.Name);const $=Number.isFinite(Number(J.ToyType))?Number(J.ToyType):0;this.toysByType.has($)||this.toysByType.set($,new Map);const q=this.toysByType.get($);q&&!q.has(ne)&&q.set(ne,[]);const ae=q?.get(ne);ae&&ae.push(J.Name),J.Name&&J.NameId&&this.toyNameIds.set(J.Name,J.NameId)}for(const[J,ne]of this.toys)this.toys.set(J,[...new Set(ne)]);for(const[J,ne]of this.toysByType)for(const[H,$]of ne)ne.set(H,[...new Set($)])}getToyNameId(F){return F?this.toyNameIds.get(F)??null:null}getToysByType(F){const J=this.toysByType.get(F);return J?new Map(Array.from(J.entries()).map(([ne,H])=>[ne,[...H]])):new Map}isToyRandom(F){return!0===this.toyDataMap.get(F)?.Random}toyDataMap=new Map;getToyEntriesFromJson(){const F=E??(A||(A=i.t(E,2)))??[];return F.forEach(J=>{J.Name&&this.toyDataMap.set(J.Name,J)}),F.filter(J=>!!J?.Name)}createToy(F,J,ne=1){return this.toyFactory.createToy(F,J,ne,this,this.petService,this.equipmentService,this.gameService)}snipePet(F,J,ne,H,$=!1,q=!1){let ae=this.calculateDamage(F,ne.getManticoreMult(),J),le=ae.defenseEquipment,_e=ae.damage;this.dealDamage(F,_e,ne);let ye=`${H} sniped ${F.name} for ${_e}.`;if(null!=le){F.useDefenseEquipment(!0);let Te=Math.abs(le.power??0),xe="-";if((le.power??0)<0&&(xe="+"),"Strawberry"===le.name){let Ue=F.getSparrowLevel();Ue>0&&(Te=5*Ue,ye+=` (Strawberry -${Te} (Sparrow))`)}else ye+=` (${le.name} ${xe}${Te})`;ye+=le.multiplierMessage??""}"Icky"==F.equipment?.name&&(ye+="x2 (Icky)",F.equipment.multiplier>1&&(ye+=F.equipment.multiplierMessage));let Se=ne.getManticoreMult(),de=["Weak","Cold","Icky","Spooked"].includes(F.equipment?.name);if(Se.length>0&&de)for(let Te of Se)ye+=` x${Te+1} (Manticore)`;return ae.nurikabe>0&&(ye+=` -${ae.nurikabe} (Nurikabe)`),ae.fairyBallReduction>0&&(ye+=` -${ae.fairyBallReduction} (Fairy Ball)`),ae.fanMusselReduction>0&&(ye+=` -${ae.fanMusselReduction} (Fan Mussel)`),ae.ghostKittenReduction>0&&(ye+=` -${ae.ghostKittenReduction} (Ghost Kitten)`),q&&(ye+=" (Puma)"),this.logService.createLog({message:ye,type:"attack",randomEvent:$,player:ne}),_e}calculateDamage(F,J,ne){let H=F.equipment?.multiplier??1;const $=["Cold","Weak","Spooked"],q="Guava"===F.equipment?.name;let ae="defense"==F.equipment?.equipmentClass||"shield"==F.equipment?.equipmentClass||"ailment-defense"==F.equipment?.equipmentClass||"shield-snipe"==F.equipment?.equipmentClass?F.equipment:null;null==ae&&q&&(ae=F.equipment),null!=ae&&("Maple Syrup"==ae.name?ae=null:(H=(0,_.GH)(H,ae.name,J,$),ae.power=(ae.originalPower??ae.power??0)*H));let le=ae?.power?ae.power:0,_e=F.getSparrowLevel();"Strawberry"===F.equipment?.name&&_e>0&&(le+=5*_e),ne=(0,_.W6)(ne??0,F.equipment,J);let Se,ye="shield"==ae?.equipmentClass||"shield-snipe"==ae?.equipmentClass?0:1;void 0!==ae?.minimumDamage&&(ye=ae.minimumDamage);const Ce=ne??0;Se=Ce<=ye&&le>0?Math.max(Ce,0):Math.max(ye,Ce-le);const de=(0,_.qw)(F,Se,{includeGhostKitten:!0,fairyMinimumOne:!1,fairyRequiresPositiveDamage:!0,nurikabeConsumesOnZeroHit:!0,fanMusselConsumesOnZeroHit:!0});return Se=de.damage,{defenseEquipment:ae,damage:Se,nurikabe:de.nurikabe,fairyBallReduction:de.fairyBallReduction,fanMusselReduction:de.fanMusselReduction,ghostKittenReduction:de.ghostKittenReduction}}dealDamage(F,J,ne){F.health-=J,J>0&&this.abilityService.triggerHurtEvents(F)}setStartOfBattleEvent(F){this.toyEventService?this.toyEventService.setStartOfBattleEvent(F):(F.tieBreaker=(0,v.Ak)(),this.localStartOfBattleEvents.push(F))}executeStartOfBattleEvents(){if(this.toyEventService)return void this.toyEventService.executeStartOfBattleEvents();this.localStartOfBattleEvents=(0,c.A)(this.localStartOfBattleEvents),this.localStartOfBattleEvents.sort((J,ne)=>J.priority!==ne.priority?ne.priority-J.priority:(ne.tieBreaker??0)-(J.tieBreaker??0));const F=new Map;for(const J of this.localStartOfBattleEvents)F.set(J.priority,(F.get(J.priority)??0)+1);for(const J of this.localStartOfBattleEvents){const ne=(F.get(J.priority)??0)>1;this.logLocalStartOfBattleToyEvent(J,ne,ne?"tie-broken":"deterministic"),J.callback(this.gameService.gameApi)}this.localStartOfBattleEvents=[]}logLocalStartOfBattleToyEvent(F,J,ne){const H=F.player?.toy?.name;H&&this.logService.createLog({message:`${F.player?.isOpponent?"Opponent's":"Player's"} ${H} activated at start of battle${F.triggerPet?.name?` (${F.triggerPet.name})`:""}`,type:"ability",player:F.player,randomEvent:J,randomEventReason:ne})}static \u0275fac=function(J){return new(J||k)(t.KVO(n.K),t.KVO(a.K),t.KVO(o.w),t.KVO(r.m),t.KVO(d.T),t.KVO(g.g),t.KVO(f.e))};static \u0275prov=t.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}return k})()},26980(O,S,i){i.d(S,{Qq:()=>zi,Lr:()=>D,$R:()=>jn,Sx:()=>sn}),i(10467);var c=i(47868),E=i(35547),_=i(49090),v=i(77312),e=i(18456),n=i(58728),a=i(95006),o=i(27389),d=(i(84787),i(14421)),g=i(73117),f=i(46494);class D{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(Ae){Ae?"string"==typeof Ae?this.lazyInit=()=>{this.headers=new Map,Ae.split("\n").forEach(ve=>{const Le=ve.indexOf(":");if(Le>0){const We=ve.slice(0,Le),je=ve.slice(Le+1).trim();this.addHeaderEntry(We,je)}})}:typeof Headers<"u"&&Ae instanceof Headers?(this.headers=new Map,Ae.forEach((ve,Le)=>{this.addHeaderEntry(Le,ve)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Ae).forEach(([ve,Le])=>{this.setHeaderEntries(ve,Le)})}:this.headers=new Map}has(Ae){return this.init(),this.headers.has(Ae.toLowerCase())}get(Ae){this.init();const ve=this.headers.get(Ae.toLowerCase());return ve&&ve.length>0?ve[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ae){return this.init(),this.headers.get(Ae.toLowerCase())||null}append(Ae,ve){return this.clone({name:Ae,value:ve,op:"a"})}set(Ae,ve){return this.clone({name:Ae,value:ve,op:"s"})}delete(Ae,ve){return this.clone({name:Ae,value:ve,op:"d"})}maybeSetNormalizedName(Ae,ve){this.normalizedNames.has(ve)||this.normalizedNames.set(ve,Ae)}init(){this.lazyInit&&(this.lazyInit instanceof D?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ae=>this.applyUpdate(Ae)),this.lazyUpdate=null))}copyFrom(Ae){Ae.init(),Array.from(Ae.headers.keys()).forEach(ve=>{this.headers.set(ve,Ae.headers.get(ve)),this.normalizedNames.set(ve,Ae.normalizedNames.get(ve))})}clone(Ae){const ve=new D;return ve.lazyInit=this.lazyInit&&this.lazyInit instanceof D?this.lazyInit:this,ve.lazyUpdate=(this.lazyUpdate||[]).concat([Ae]),ve}applyUpdate(Ae){const ve=Ae.name.toLowerCase();switch(Ae.op){case"a":case"s":let Le=Ae.value;if("string"==typeof Le&&(Le=[Le]),0===Le.length)return;this.maybeSetNormalizedName(Ae.name,ve);const We=("a"===Ae.op?this.headers.get(ve):void 0)||[];We.push(...Le),this.headers.set(ve,We);break;case"d":const je=Ae.value;if(je){let ze=this.headers.get(ve);if(!ze)return;ze=ze.filter(Kt=>-1===je.indexOf(Kt)),0===ze.length?(this.headers.delete(ve),this.normalizedNames.delete(ve)):this.headers.set(ve,ze)}else this.headers.delete(ve),this.normalizedNames.delete(ve)}}addHeaderEntry(Ae,ve){const Le=Ae.toLowerCase();this.maybeSetNormalizedName(Ae,Le),this.headers.has(Le)?this.headers.get(Le).push(ve):this.headers.set(Le,[ve])}setHeaderEntries(Ae,ve){const Le=(Array.isArray(ve)?ve:[ve]).map(je=>je.toString()),We=Ae.toLowerCase();this.headers.set(We,Le),this.maybeSetNormalizedName(Ae,We)}forEach(Ae){this.init(),Array.from(this.normalizedNames.keys()).forEach(ve=>Ae(this.normalizedNames.get(ve),this.headers.get(ve)))}}class F{map=new Map;set(Ae,ve){return this.map.set(Ae,ve),this}get(Ae){return this.map.has(Ae)||this.map.set(Ae,Ae.defaultValue()),this.map.get(Ae)}delete(Ae){return this.map.delete(Ae),this}has(Ae){return this.map.has(Ae)}keys(){return this.map.keys()}}class J{encodeKey(Ae){return q(Ae)}encodeValue(Ae){return q(Ae)}decodeKey(Ae){return decodeURIComponent(Ae)}decodeValue(Ae){return decodeURIComponent(Ae)}}const H=/%(\d[a-f0-9])/gi,$={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function q(ce){return encodeURIComponent(ce).replace(H,(Ae,ve)=>$[ve]??Ae)}function ae(ce){return`${ce}`}class le{map;encoder;updates=null;cloneFrom=null;constructor(Ae={}){if(this.encoder=Ae.encoder||new J,Ae.fromString){if(Ae.fromObject)throw new c.buA(2805,!1);this.map=function ne(ce,Ae){const ve=new Map;return ce.length>0&&ce.replace(/^\?/,"").split("&").forEach(We=>{const je=We.indexOf("="),[ze,Kt]=-1==je?[Ae.decodeKey(We),""]:[Ae.decodeKey(We.slice(0,je)),Ae.decodeValue(We.slice(je+1))],At=ve.get(ze)||[];At.push(Kt),ve.set(ze,At)}),ve}(Ae.fromString,this.encoder)}else Ae.fromObject?(this.map=new Map,Object.keys(Ae.fromObject).forEach(ve=>{const Le=Ae.fromObject[ve],We=Array.isArray(Le)?Le.map(ae):[ae(Le)];this.map.set(ve,We)})):this.map=null}has(Ae){return this.init(),this.map.has(Ae)}get(Ae){this.init();const ve=this.map.get(Ae);return ve?ve[0]:null}getAll(Ae){return this.init(),this.map.get(Ae)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ae,ve){return this.clone({param:Ae,value:ve,op:"a"})}appendAll(Ae){const ve=[];return Object.keys(Ae).forEach(Le=>{const We=Ae[Le];Array.isArray(We)?We.forEach(je=>{ve.push({param:Le,value:je,op:"a"})}):ve.push({param:Le,value:We,op:"a"})}),this.clone(ve)}set(Ae,ve){return this.clone({param:Ae,value:ve,op:"s"})}delete(Ae,ve){return this.clone({param:Ae,value:ve,op:"d"})}toString(){return this.init(),this.keys().map(Ae=>{const ve=this.encoder.encodeKey(Ae);return this.map.get(Ae).map(Le=>ve+"="+this.encoder.encodeValue(Le)).join("&")}).filter(Ae=>""!==Ae).join("&")}clone(Ae){const ve=new le({encoder:this.encoder});return ve.cloneFrom=this.cloneFrom||this,ve.updates=(this.updates||[]).concat(Ae),ve}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ae=>this.map.set(Ae,this.cloneFrom.map.get(Ae))),this.updates.forEach(Ae=>{switch(Ae.op){case"a":case"s":const ve=("a"===Ae.op?this.map.get(Ae.param):void 0)||[];ve.push(ae(Ae.value)),this.map.set(Ae.param,ve);break;case"d":if(void 0===Ae.value){this.map.delete(Ae.param);break}{let Le=this.map.get(Ae.param)||[];const We=Le.indexOf(ae(Ae.value));-1!==We&&Le.splice(We,1),Le.length>0?this.map.set(Ae.param,Le):this.map.delete(Ae.param)}}}),this.cloneFrom=this.updates=null)}}function ye(ce){return typeof ArrayBuffer<"u"&&ce instanceof ArrayBuffer}function Se(ce){return typeof Blob<"u"&&ce instanceof Blob}function Ce(ce){return typeof FormData<"u"&&ce instanceof FormData}const Te="Content-Type",Ue="text/plain",Ne="application/json",ct=`${Ne}, ${Ue}, */*`;class Je{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(Ae,ve,Le,We){let je;if(this.url=ve,this.method=Ae.toUpperCase(),function _e(ce){switch(ce){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||We?(this.body=void 0!==Le?Le:null,je=We):je=Le,je){if(this.reportProgress=!!je.reportProgress,this.withCredentials=!!je.withCredentials,this.keepalive=!!je.keepalive,je.responseType&&(this.responseType=je.responseType),je.headers&&(this.headers=je.headers),je.context&&(this.context=je.context),je.params&&(this.params=je.params),je.priority&&(this.priority=je.priority),je.cache&&(this.cache=je.cache),je.credentials&&(this.credentials=je.credentials),"number"==typeof je.timeout){if(je.timeout<1||!Number.isInteger(je.timeout))throw new c.buA(2822,"");this.timeout=je.timeout}je.mode&&(this.mode=je.mode),je.redirect&&(this.redirect=je.redirect),je.integrity&&(this.integrity=je.integrity),je.referrer&&(this.referrer=je.referrer),je.referrerPolicy&&(this.referrerPolicy=je.referrerPolicy),this.transferCache=je.transferCache}if(this.headers??=new D,this.context??=new F,this.params){const ze=this.params.toString();if(0===ze.length)this.urlWithParams=ve;else{const Kt=ve.indexOf("?");this.urlWithParams=ve+(-1===Kt?"?":Kt<ve.length-1?"&":"")+ze}}else this.params=new le,this.urlWithParams=ve}serializeBody(){return null===this.body?null:"string"==typeof this.body||ye(this.body)||Se(this.body)||Ce(this.body)||function de(ce){return typeof URLSearchParams<"u"&&ce instanceof URLSearchParams}(this.body)?this.body:this.body instanceof le?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ce(this.body)?null:Se(this.body)?this.body.type||null:ye(this.body)?null:"string"==typeof this.body?Ue:this.body instanceof le?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?Ne:null}clone(Ae={}){const ve=Ae.method||this.method,Le=Ae.url||this.url,We=Ae.responseType||this.responseType,je=Ae.keepalive??this.keepalive,ze=Ae.priority||this.priority,Kt=Ae.cache||this.cache,At=Ae.mode||this.mode,Pi=Ae.redirect||this.redirect,Fi=Ae.credentials||this.credentials,mi=Ae.referrer||this.referrer,gi=Ae.integrity||this.integrity,rn=Ae.referrerPolicy||this.referrerPolicy,ri=Ae.transferCache??this.transferCache,Ri=Ae.timeout??this.timeout,Gt=void 0!==Ae.body?Ae.body:this.body,Yt=Ae.withCredentials??this.withCredentials,Ai=Ae.reportProgress??this.reportProgress;let ki=Ae.headers||this.headers,Jt=Ae.params||this.params;const Li=Ae.context??this.context;return void 0!==Ae.setHeaders&&(ki=Object.keys(Ae.setHeaders).reduce((on,Ui)=>on.set(Ui,Ae.setHeaders[Ui]),ki)),Ae.setParams&&(Jt=Object.keys(Ae.setParams).reduce((on,Ui)=>on.set(Ui,Ae.setParams[Ui]),Jt)),new Je(ve,Le,Gt,{params:Jt,headers:ki,context:Li,reportProgress:Ai,responseType:We,withCredentials:Yt,transferCache:ri,keepalive:je,cache:Kt,priority:ze,timeout:Ri,mode:At,redirect:Pi,credentials:Fi,referrer:mi,integrity:gi,referrerPolicy:rn})}}var Ke=function(ce){return ce[ce.Sent=0]="Sent",ce[ce.UploadProgress=1]="UploadProgress",ce[ce.ResponseHeader=2]="ResponseHeader",ce[ce.DownloadProgress=3]="DownloadProgress",ce[ce.Response=4]="Response",ce[ce.User=5]="User",ce}(Ke||{});class qe{headers;status;statusText;url;ok;type;redirected;responseType;constructor(Ae,ve=200,Le="OK"){this.headers=Ae.headers||new D,this.status=void 0!==Ae.status?Ae.status:ve,this.statusText=Ae.statusText||Le,this.url=Ae.url||null,this.redirected=Ae.redirected,this.responseType=Ae.responseType,this.ok=this.status>=200&&this.status<300}}class mt extends qe{constructor(Ae={}){super(Ae)}type=Ke.ResponseHeader;clone(Ae={}){return new mt({headers:Ae.headers||this.headers,status:void 0!==Ae.status?Ae.status:this.status,statusText:Ae.statusText||this.statusText,url:Ae.url||this.url||void 0})}}class pt extends qe{body;constructor(Ae={}){super(Ae),this.body=void 0!==Ae.body?Ae.body:null}type=Ke.Response;clone(Ae={}){return new pt({body:void 0!==Ae.body?Ae.body:this.body,headers:Ae.headers||this.headers,status:void 0!==Ae.status?Ae.status:this.status,statusText:Ae.statusText||this.statusText,url:Ae.url||this.url||void 0,redirected:Ae.redirected??this.redirected,responseType:Ae.responseType??this.responseType})}}class it extends qe{name="HttpErrorResponse";message;error;ok=!1;constructor(Ae){super(Ae,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ae.url||"(unknown url)"}`:`Http failure response for ${Ae.url||"(unknown url)"}: ${Ae.status} ${Ae.statusText}`,this.error=Ae.error||null}}const He=new c.nKC(""),ge=/^\)\]\}',?\n/;let Ve=(()=>{class ce{xhrFactory;tracingService=(0,c.WQX)(E.a8H,{optional:!0});constructor(ve){this.xhrFactory=ve}maybePropagateTrace(ve){return this.tracingService?.propagate?this.tracingService.propagate(ve):ve}handle(ve){if("JSONP"===ve.method)throw new c.buA(-2800,!1);const Le=this.xhrFactory;return(0,d.of)(null).pipe((0,_.n)(()=>new o.c(je=>{const ze=Le.build();if(ze.open(ve.method,ve.urlWithParams),ve.withCredentials&&(ze.withCredentials=!0),ve.headers.forEach((Gt,Yt)=>ze.setRequestHeader(Gt,Yt.join(","))),ve.headers.has("Accept")||ze.setRequestHeader("Accept",ct),!ve.headers.has(Te)){const Gt=ve.detectContentTypeHeader();null!==Gt&&ze.setRequestHeader(Te,Gt)}if(ve.timeout&&(ze.timeout=ve.timeout),ve.responseType){const Gt=ve.responseType.toLowerCase();ze.responseType="json"!==Gt?Gt:"text"}const Kt=ve.serializeBody();let At=null;const Pi=()=>{if(null!==At)return At;const Gt=ze.statusText||"OK",Yt=new D(ze.getAllResponseHeaders());return At=new mt({headers:Yt,status:ze.status,statusText:Gt,url:ze.responseURL||ve.url}),At},Fi=this.maybePropagateTrace(()=>{let{headers:Gt,status:Yt,statusText:Ai,url:ki}=Pi(),Jt=null;204!==Yt&&(Jt=typeof ze.response>"u"?ze.responseText:ze.response),0===Yt&&(Yt=Jt?200:0);let Li=Yt>=200&&Yt<300;if("json"===ve.responseType&&"string"==typeof Jt){const on=Jt;Jt=Jt.replace(ge,"");try{Jt=""!==Jt?JSON.parse(Jt):null}catch(Ui){Jt=on,Li&&(Li=!1,Jt={error:Ui,text:Jt})}}Li?(je.next(new pt({body:Jt,headers:Gt,status:Yt,statusText:Ai,url:ki||void 0})),je.complete()):je.error(new it({error:Jt,headers:Gt,status:Yt,statusText:Ai,url:ki||void 0}))}),mi=this.maybePropagateTrace(Gt=>{const{url:Yt}=Pi(),Ai=new it({error:Gt,status:ze.status||0,statusText:ze.statusText||"Unknown Error",url:Yt||void 0});je.error(Ai)});let gi=mi;ve.timeout&&(gi=this.maybePropagateTrace(Gt=>{const{url:Yt}=Pi(),Ai=new it({error:new DOMException("Request timed out","TimeoutError"),status:ze.status||0,statusText:ze.statusText||"Request timeout",url:Yt||void 0});je.error(Ai)}));let rn=!1;const ri=this.maybePropagateTrace(Gt=>{rn||(je.next(Pi()),rn=!0);let Yt={type:Ke.DownloadProgress,loaded:Gt.loaded};Gt.lengthComputable&&(Yt.total=Gt.total),"text"===ve.responseType&&ze.responseText&&(Yt.partialText=ze.responseText),je.next(Yt)}),Ri=this.maybePropagateTrace(Gt=>{let Yt={type:Ke.UploadProgress,loaded:Gt.loaded};Gt.lengthComputable&&(Yt.total=Gt.total),je.next(Yt)});return ze.addEventListener("load",Fi),ze.addEventListener("error",mi),ze.addEventListener("timeout",gi),ze.addEventListener("abort",mi),ve.reportProgress&&(ze.addEventListener("progress",ri),null!==Kt&&ze.upload&&ze.upload.addEventListener("progress",Ri)),ze.send(Kt),je.next({type:Ke.Sent}),()=>{ze.removeEventListener("error",mi),ze.removeEventListener("abort",mi),ze.removeEventListener("load",Fi),ze.removeEventListener("timeout",gi),ve.reportProgress&&(ze.removeEventListener("progress",ri),null!==Kt&&ze.upload&&ze.upload.removeEventListener("progress",Ri)),ze.readyState!==ze.DONE&&ze.abort()}})))}static \u0275fac=function(Le){return new(Le||ce)(c.KVO(g.N))};static \u0275prov=c.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})();function Fe(ce,Ae){return Ae(ce)}function ot(ce,Ae){return(ve,Le)=>Ae.intercept(ve,{handle:We=>ce(We,Le)})}const Rt=new c.nKC(""),qt=new c.nKC("",{factory:()=>[]}),zt=new c.nKC(""),Ht=new c.nKC("",{factory:()=>!0});function Gi(){let ce=null;return(Ae,ve)=>{null===ce&&(ce=((0,c.WQX)(Rt,{optional:!0})??[]).reduceRight(ot,Fe));const Le=(0,c.WQX)(c.u5s);if((0,c.WQX)(Ht)){const je=Le.add();return ce(Ae,ve).pipe((0,v.j)(je))}return ce(Ae,ve)}}let xt=(()=>{class ce{static \u0275fac=function(Le){return new(Le||ce)};static \u0275prov=c.jDH({token:ce,factory:function(Le){let We=null;return We=Le?new(Le||ce):c.KVO(Ve),We},providedIn:"root"})}return ce})(),Vi=(()=>{class ce{backend;injector;chain=null;pendingTasks=(0,c.WQX)(c.u5s);contributeToStability=(0,c.WQX)(Ht);constructor(ve,Le){this.backend=ve,this.injector=Le}handle(ve){if(null===this.chain){const Le=Array.from(new Set([...this.injector.get(qt),...this.injector.get(zt,[])]));this.chain=Le.reduceRight((We,je)=>function Bt(ce,Ae,ve){return(Le,We)=>(0,c.N4e)(ve,()=>Ae(Le,je=>ce(je,We)))}(We,je,this.injector),Fe)}if(this.contributeToStability){const Le=this.pendingTasks.add();return this.chain(ve,We=>this.backend.handle(We)).pipe((0,v.j)(Le))}return this.chain(ve,Le=>this.backend.handle(Le))}static \u0275fac=function(Le){return new(Le||ce)(c.KVO(xt),c.KVO(c.uvJ))};static \u0275prov=c.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})(),wi=(()=>{class ce{static \u0275fac=function(Le){return new(Le||ce)};static \u0275prov=c.jDH({token:ce,factory:function(Le){let We=null;return We=Le?new(Le||ce):c.KVO(Vi),We},providedIn:"root"})}return ce})();function Oi(ce,Ae){return{body:Ae,headers:ce.headers,context:ce.context,observe:ce.observe,params:ce.params,reportProgress:ce.reportProgress,responseType:ce.responseType,withCredentials:ce.withCredentials,credentials:ce.credentials,transferCache:ce.transferCache,timeout:ce.timeout,keepalive:ce.keepalive,priority:ce.priority,cache:ce.cache,mode:ce.mode,redirect:ce.redirect,integrity:ce.integrity,referrer:ce.referrer,referrerPolicy:ce.referrerPolicy}}let zi=(()=>{class ce{handler;constructor(ve){this.handler=ve}request(ve,Le,We={}){let je;if(ve instanceof Je)je=ve;else{let At,Pi;At=We.headers instanceof D?We.headers:new D(We.headers),We.params&&(Pi=We.params instanceof le?We.params:new le({fromObject:We.params})),je=new Je(ve,Le,void 0!==We.body?We.body:null,{headers:At,context:We.context,params:Pi,reportProgress:We.reportProgress,responseType:We.responseType||"json",withCredentials:We.withCredentials,transferCache:We.transferCache,keepalive:We.keepalive,priority:We.priority,cache:We.cache,mode:We.mode,redirect:We.redirect,credentials:We.credentials,referrer:We.referrer,referrerPolicy:We.referrerPolicy,integrity:We.integrity,timeout:We.timeout})}const ze=(0,d.of)(je).pipe(function t(ce,Ae){return(0,e.ZZ)(ce,Ae,1)}(At=>this.handler.handle(At)));if(ve instanceof Je||"events"===We.observe)return ze;const Kt=ze.pipe((0,n.p)(At=>At instanceof pt));switch(We.observe||"body"){case"body":switch(je.responseType){case"arraybuffer":return Kt.pipe((0,a.T)(At=>{if(null!==At.body&&!(At.body instanceof ArrayBuffer))throw new c.buA(2806,!1);return At.body}));case"blob":return Kt.pipe((0,a.T)(At=>{if(null!==At.body&&!(At.body instanceof Blob))throw new c.buA(2807,!1);return At.body}));case"text":return Kt.pipe((0,a.T)(At=>{if(null!==At.body&&"string"!=typeof At.body)throw new c.buA(2808,!1);return At.body}));default:return Kt.pipe((0,a.T)(At=>At.body))}case"response":return Kt;default:throw new c.buA(2809,!1)}}delete(ve,Le={}){return this.request("DELETE",ve,Le)}get(ve,Le={}){return this.request("GET",ve,Le)}head(ve,Le={}){return this.request("HEAD",ve,Le)}jsonp(ve,Le){return this.request("JSONP",ve,{params:(new le).append(Le,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ve,Le={}){return this.request("OPTIONS",ve,Le)}patch(ve,Le,We={}){return this.request("PATCH",ve,Oi(We,Le))}post(ve,Le,We={}){return this.request("POST",ve,Oi(We,Le))}put(ve,Le,We={}){return this.request("PUT",ve,Oi(We,Le))}static \u0275fac=function(Le){return new(Le||ce)(c.KVO(wi))};static \u0275prov=c.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})();const pi=new c.nKC("",{factory:()=>!0}),Hi=new c.nKC("",{factory:()=>"XSRF-TOKEN"}),bi=new c.nKC("",{factory:()=>"X-XSRF-TOKEN"});let qi=(()=>{class ce{cookieName=(0,c.WQX)(Hi);doc=(0,c.WQX)(c.qQL);lastCookieString="";lastToken=null;parseCount=0;getToken(){const ve=this.doc.cookie||"";return ve!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,g.b)(ve,this.cookieName),this.lastCookieString=ve),this.lastToken}static \u0275fac=function(Le){return new(Le||ce)};static \u0275prov=c.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})(),Zi=(()=>{class ce{static \u0275fac=function(Le){return new(Le||ce)};static \u0275prov=c.jDH({token:ce,factory:function(Le){let We=null;return We=Le?new(Le||ce):c.KVO(qi),We},providedIn:"root"})}return ce})();function Dn(ce,Ae){if(!(0,c.WQX)(pi)||"GET"===ce.method||"HEAD"===ce.method)return Ae(ce);try{const We=(0,c.WQX)(f.Vw).href,{origin:je}=new URL(We),{origin:ze}=new URL(ce.url,je);if(je!==ze)return Ae(ce)}catch{return Ae(ce)}const ve=(0,c.WQX)(Zi).getToken(),Le=(0,c.WQX)(bi);return null!=ve&&!ce.headers.has(Le)&&(ce=ce.clone({headers:ce.headers.set(Le,ve)})),Ae(ce)}var Si=function(ce){return ce[ce.Interceptors=0]="Interceptors",ce[ce.LegacyInterceptors=1]="LegacyInterceptors",ce[ce.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ce[ce.NoXsrfProtection=3]="NoXsrfProtection",ce[ce.JsonpSupport=4]="JsonpSupport",ce[ce.RequestsMadeViaParent=5]="RequestsMadeViaParent",ce[ce.Fetch=6]="Fetch",ce}(Si||{});function jn(...ce){const Ae=[zi,Vi,{provide:wi,useExisting:Vi},{provide:xt,useFactory:()=>(0,c.WQX)(He,{optional:!0})??(0,c.WQX)(Ve)},{provide:qt,useValue:Dn,multi:!0}];for(const ve of ce)Ae.push(...ve.\u0275providers);return(0,c.EmA)(Ae)}const Vn=new c.nKC("");function sn(){return function en(ce,Ae){return{\u0275kind:ce,\u0275providers:Ae}}(Si.LegacyInterceptors,[{provide:Vn,useFactory:Gi},{provide:qt,useExisting:Vn,multi:!0}])}},27088(O,S,i){i.d(S,{R:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;petService;name="Red Lipped Batfish";tier=4;pack="Custom";attack=5;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,o,r,d,f,D)}}class _ extends c.T{logService;petService;constructor(e,t,n){super({name:"Red Lipped Batfish Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=t,this.petService=n}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=a.parent.opponent;if(!o)return void this.triggerTigerExecution(e);const r=o.getPetAtPosition(a.position);if(!r||!r.alive)return void this.triggerTigerExecution(e);const d=Math.max(1,4-this.level),g=this.petService.getRandomFaintPet(o,d,[],a);o.transformPet(r,g),this.logService.createLog({message:`${a.name} transformed ${r.name} into ${g.name} (tier ${d}).`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.petService)}}},27207(O,S,i){i.d(S,{T:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Egyptian Vulture";tier=5;pack="Golden";attack=7;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"EgyptianVultureAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.petArray.filter(D=>!D.isFaintPet()),g=r.parent.nearestPetsBehind(1,r,d),f=g.pets[0];null!=f&&(this.logService.createLog({message:`${r.name} activated ${f.name}'s ability.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:g.random}),f.activateAbilities(void 0,t,"Pet"),this.triggerTigerExecution(e))}reset(){super.reset(),this.maxUses=this.level}copy(e){return new _(e,this.logService)}}},27312(O,S,i){i.d(S,{S:()=>e});var A=i(46200),c=i(72638),E=i(5615),_=i(7715),v=i(36481);class e extends A.i{logService;abilityService;name="Chimera";tier=4;pack="Unicorn";attack=2;health=6;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L),this.suppressManaSnipeOnFaint=!0}}class t extends E.T{logService;abilityService;constructor(a,o,r){super({name:"ChimeraAbility",owner:a,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:d=>{this.executeAbility(d)}}),this.logService=o,this.abilityService=r}executeAbility(a){const{tiger:d,pteranodon:g}=a,f=this.owner,D=f.mana,k=D/2,L=Math.floor(3+1*k),F=Math.floor(3+2*k);D>0&&this.logService.createLog({message:`${f.name} spent ${D} mana.`,type:"ability",player:f.parent,tiger:d,pteranodon:g});let J=new _.k(this.logService,this.abilityService,f.parent,F,L),ne=f.parent.summonPet(J,f.savedPosition,!1,f);if(ne.success&&this.logService.createLog({message:`${f.name} spawned a ${J.name} ${L}/${F}.`,type:"ability",player:f.parent,tiger:d,pteranodon:g,randomEvent:ne.randomEvent}),this.level>=2){let H=new c.D(this.logService,this.abilityService,f.parent,F,L),$=f.parent.summonPet(H,f.savedPosition,!1,f);$.success&&this.logService.createLog({message:`${f.name} spawned a ${H.name} ${L}/${F}.`,type:"ability",player:f.parent,tiger:d,pteranodon:g,randomEvent:$.randomEvent})}if(this.level>=3){let H=new v.U(this.logService,this.abilityService,f.parent,F,L),$=f.parent.summonPet(H,f.savedPosition,!1,f);$.success&&this.logService.createLog({message:`${f.name} spawned a ${H.name} ${L}/${F}.`,type:"ability",player:f.parent,tiger:d,pteranodon:g,randomEvent:$.randomEvent})}f.mana=0,this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService)}}},27354(O,S,i){i.d(S,{c:()=>A});const A=Array.isArray||(c=>c&&"number"==typeof c.length)},27376(O,S,i){i.d(S,{h:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Dumbo Octopus";tier=2;pack="Star";health=5;attack=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"DumboOctopusAbility",owner:e,triggers:["Roll3"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked a discounted food from the last 3 tiers (-${this.level} gold).`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},27389(O,S,i){i.d(S,{c:()=>e});var A=i(97677),c=i(39112),E=i(45722),_=i(78167),v=i(80614);let e=(()=>{class n{constructor(o){this._isScalar=!1,o&&(this._subscribe=o)}lift(o){const r=new n;return r.source=this,r.operator=o,r}subscribe(o,r,d){const{operator:g}=this,f=(0,c.u)(o,r,d);if(f.add(g?g.call(f,this.source):this.source||v.$.useDeprecatedSynchronousErrorHandling&&!f.syncErrorThrowable?this._subscribe(f):this._trySubscribe(f)),v.$.useDeprecatedSynchronousErrorHandling&&f.syncErrorThrowable&&(f.syncErrorThrowable=!1,f.syncErrorThrown))throw f.syncErrorValue;return f}_trySubscribe(o){try{return this._subscribe(o)}catch(r){v.$.useDeprecatedSynchronousErrorHandling&&(o.syncErrorThrown=!0,o.syncErrorValue=r),(0,A.H)(o)?o.error(r):console.warn(r)}}forEach(o,r){return new(r=t(r))((d,g)=>{let f;f=this.subscribe(D=>{try{o(D)}catch(k){g(k),f&&f.unsubscribe()}},g,d)})}_subscribe(o){const{source:r}=this;return r&&r.subscribe(o)}[E.s](){return this}pipe(...o){return 0===o.length?this:(0,_.m)(o)(this)}toPromise(o){return new(o=t(o))((r,d)=>{let g;this.subscribe(f=>g=f,f=>d(f),()=>r(g))})}}return n.create=a=>new n(a),n})();function t(n){if(n||(n=v.$.Promise||Promise),!n)throw new Error("no Promise impl found");return n}},27454(O,S,i){i.d(S,{m:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Farmer Cat";tier=4;pack="Custom";attack=4;health=3;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},27694(O,S,i){i.d(S,{f:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;petService;name="Sabertooth Tiger";tier=6;pack="Star";attack=4;health=5;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}resetPet(){super.resetPet()}constructor(e,t,n,a,o,r,d,g,f,D,k){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,o,r,d,f,D),this.timesHurt=k??0,this.originalTimesHurt=this.timesHurt}}class _ extends c.T{logService;abilityService;petService;timesHurtOverride;constructor(e,t,n,a,o){super({name:"SabertoothTigerAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=n,this.petService=a,this.timesHurtOverride=o??null}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=this.timesHurtOverride??r.timesHurt;if(d>0)for(let g=0;g<this.level;g++){let f=Math.min(2*d,50),D=Math.min(3*d,50),k=this.petService.createPet({name:"Mammoth",attack:f,health:D,equipment:null,mana:0,exp:0},r.parent),L=r.parent.summonPet(k,r.savedPosition,!1,r);L.success&&this.logService.createLog({message:`${r.name} summoned ${k.name} (${f}/${D}).`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:L.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService,this.petService,this.timesHurtOverride??this.owner.timesHurt)}}},27810(O,S,i){var A;i.d(S,{R:()=>a});var c=i(46200),E=i(5615),_=i(33127),v=i(56990),e=i(61850),t=i(74766);const n=(()=>{const r=t??(A||(A=i.t(t,2)));if(!Array.isArray(r))return[];const d=[],g=/Give one pet \+(\d+) attack(?: and \+(\d+) health)?|Give one pet \+(\d+) health/;for(const f of r){if(!f||"object"!=typeof f)continue;const D=f,k=D.Ability??"";if(!k||/perk/i.test(k)||!k.startsWith("Give one pet +"))continue;const L=k.match(g);if(!L)continue;const F=L[1]?Number(L[1]):0,J=L[2]?Number(L[2]):L[3]?Number(L[3]):0;!Number.isFinite(F)||!Number.isFinite(J)||D.Name&&d.push({name:D.Name,attack:F,health:J})}return d})();class a extends c.i{logService;abilityService;name="Locust";tier=4;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new o(this,this.logService,this.abilityService)),super.initAbilities()}constructor(d,g,f,D,k,L,F,J,ne){super(d,g,f),this.logService=d,this.abilityService=g,this.initPet(F,D,k,L,J,ne)}}class o extends E.T{logService;abilityService;constructor(d,g,f){super({name:"Locust Ability",owner:d,triggers:["FoodEatenByThis","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:d.level,abilityFunction:D=>this.executeAbility(D)}),this.logService=g,this.abilityService=f}executeAbility(d){const{gameApi:g,tiger:f,pteranodon:D}=d,k=this.owner,L=k,F=g?.turnNumber??0;if(L.locustFoodTurn!==F&&(L.locustFoodTurn=F,L.locustFoodEaten=0),L.locustFoodSeededTurn!==F){L.locustFoodSeededTurn=F;const ae=k.foodsEaten??0;ae>0&&(L.locustFoodEaten=Math.max(L.locustFoodEaten??0,ae))}if("FoodEatenByThis"===d.trigger&&k.alive)return void(L.locustFoodEaten=(L.locustFoodEaten??0)+1);if("PostRemovalFaint"!==d.trigger)return void this.triggerTigerExecution(d);const J=L.locustFoodEaten??0;if(J<=0)return void this.triggerTigerExecution(d);let ne=0;const H=k.position??k.savedPosition??0,$=_.I.getInjector().get(v.T),q=n;for(let ae=0;ae<this.level;ae++){const le=$?$.getRandomPet(k.parent):null;if(!le||!k.parent.summonPet(le,H,!1,k).success)break;ne++;for(let ye=0;ye<J&&0!==q.length;ye++){const Se=q[(0,e.hw)(0,q.length-1)];Se&&(Se.attack&&le.increaseAttack(Se.attack),Se.health&&le.increaseHealth(Se.health),this.abilityService?.triggerFoodEvents(le,Se.name.toLowerCase()))}}this.logService.createLog({message:`${k.name} summoned ${ne} friend${1===ne?"":"s"} and fed them random food.`,type:"ability",player:k.parent,tiger:f,pteranodon:D}),this.triggerTigerExecution(d)}copy(d){return new o(d,this.logService,this.abilityService)}}},27852(O,S,i){i.d(S,{v:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Great One";tier=6;pack="Custom";attack=7;health=13;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"GreatOneAbility",owner:e,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const r=this.owner;let d=[...r.parent.petArray,...r.parent.opponent.petArray];d=d.filter(g=>g!==r);for(let g of d)r.snipePet(g,5*r.level);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},27906(O,S,i){i.d(S,{c:()=>E});var A=i(46200);i(5615);class E extends A.i{logService;abilityService;name="Proboscis Monkey";tier=2;pack="Danger";attack=4;health=4;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}},28010(O,S,i){i.d(S,{A:()=>E});const E=(0,i(38992).A)(Object.getPrototypeOf,Object)},28077(O,S,i){var A={};i.r(A),i.d(A,{afterMain:()=>Zd,afterRead:()=>$y,afterWrite:()=>Vy,applyStyles:()=>Tr,arrow:()=>qy,auto:()=>qd,basePlacements:()=>Ml,beforeMain:()=>Gy,beforeRead:()=>Wy,beforeWrite:()=>Hy,bottom:()=>Ra,clippingParents:()=>Ny,computeStyles:()=>Zy,createPopper:()=>Dm,createPopperBase:()=>db,createPopperLite:()=>TT,detectOverflow:()=>_o,end:()=>Cl,eventListeners:()=>fm,flip:()=>rb,hide:()=>ob,left:()=>pa,main:()=>dm,modifierPhases:()=>zy,offset:()=>lb,placements:()=>um,popper:()=>kl,popperGenerator:()=>iu,popperOffsets:()=>Em,preventOverflow:()=>dp,read:()=>Ky,reference:()=>Uy,right:()=>La,start:()=>mo,top:()=>da,variationPlacements:()=>cm,viewport:()=>lm,write:()=>jy});var c=i(10467),E=i(46494),_=i(73117),v=i(47868),e=i(35547),t=i(17705);const o="browser",_e=u=>u.src,ye=new v.nKC("",{factory:()=>_e}),zi=/^((\s*\d+w\s*(,|$)){1,})$/,Ci=[1,2];let bi=(()=>{class u{imageLoader=(0,v.WQX)(ye);config=function qi(u){let h={};return u.breakpoints&&(h.breakpoints=u.breakpoints.sort((l,y)=>l-y)),Object.assign({},e.mY,u,h)}((0,v.WQX)(e.VeQ));renderer=(0,v.WQX)(e.sFG);imgElement=(0,v.WQX)(e.aKT).nativeElement;injector=(0,v.WQX)(v.zZn);destroyRef=(0,v.WQX)(v.abz);lcpObserver;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;decoding;loading;priority=!1;loaderParams;disableOptimizedSrcset=!1;fill=!1;placeholder;placeholderConfig;src;srcset;constructor(){}ngOnInit(){(0,e._jY)("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("decoding",this.getDecoding()),this.setHostAttribute("ng-img","true"),this.updateSrcAndSrcset(),this.sizes?"lazy"===this.getLoadingBehavior()?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&zi.test(this.ngSrcset)&&"lazy"===this.getLoadingBehavior()&&this.setHostAttribute("sizes","auto, 100vw")}ngOnChanges(l){l.ngSrc&&!l.ngSrc.isFirstChange()&&this.updateSrcAndSrcset(!0)}callImageLoader(l){let y=l;return this.loaderParams&&(y.loaderParams=this.loaderParams),this.imageLoader(y)}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getDecoding(){return this.priority?"sync":this.decoding??"auto"}getRewrittenSrc(){return this._renderedSrc||(this._renderedSrc=this.callImageLoader({src:this.ngSrc})),this._renderedSrc}getRewrittenSrcset(){const l=zi.test(this.ngSrcset);return this.ngSrcset.split(",").filter(P=>""!==P).map(P=>{P=P.trim();const C=l?parseFloat(P):parseFloat(P)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:C})} ${P}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){const{breakpoints:l}=this.config;let y=l;return"100vw"===this.sizes?.trim()&&(y=l.filter(C=>C>=640)),y.map(C=>`${this.callImageLoader({src:this.ngSrc,width:C})} ${C}w`).join(", ")}updateSrcAndSrcset(l=!1){l&&(this._renderedSrc=null);const y=this.getRewrittenSrc();let P;return this.setHostAttribute("src",y),this.ngSrcset?P=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(P=this.getAutomaticSrcset()),P&&this.setHostAttribute("srcset",P),P}getFixedSrcset(){return Ci.map(y=>`${this.callImageLoader({src:this.ngSrc,width:this.width*y})} ${y}x`).join(", ")}shouldGenerateAutomaticSrcset(){let l=!1;return this.sizes||(l=this.width>1920||this.height>1080),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==_e&&!l}generatePlaceholder(l){const{placeholderResolution:y}=this.config;return!0===l?`url(${this.callImageLoader({src:this.ngSrc,width:y,isPlaceholder:!0})})`:"string"==typeof l?`url(${l})`:null}shouldBlurPlaceholder(l){return!l||!l.hasOwnProperty("blur")||!!l.blur}removePlaceholderOnLoad(l){const y=()=>{const I=this.injector.get(t.gRc);P(),C(),this.placeholder=!1,I.markForCheck()},P=this.renderer.listen(l,"load",y),C=this.renderer.listen(l,"error",y);this.destroyRef.onDestroy(()=>{P(),C()}),function Fi(u,h){u.complete&&u.naturalWidth&&h()}(l,y)}setHostAttribute(l,y){this.renderer.setAttribute(this.imgElement,l,y)}static \u0275fac=function(y){return new(y||u)};static \u0275dir=e.FsC({type:u,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(y,P){2&y&&e.xc7("position",P.fill?"absolute":null)("width",P.fill?"100%":null)("height",P.fill?"100%":null)("inset",P.fill?"0":null)("background-size",P.placeholder?"cover":null)("background-position",P.placeholder?"50% 50%":null)("background-repeat",P.placeholder?"no-repeat":null)("background-image",P.placeholder?P.generatePlaceholder(P.placeholder):null)("filter",P.placeholder&&P.shouldBlurPlaceholder(P.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",gi],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",t.Udg],height:[2,"height","height",t.Udg],decoding:"decoding",loading:"loading",priority:[2,"priority","priority",t.L39],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",t.L39],fill:[2,"fill","fill",t.L39],placeholder:[2,"placeholder","placeholder",rn],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[e.OA$]})}return u})();function gi(u){return"string"==typeof u?u:(0,e.aCM)(u)}function rn(u){return"string"==typeof u&&"true"!==u&&"false"!==u&&""!==u?u:(0,t.L39)(u)}class ri{_doc;constructor(h){this._doc=h}manager}let Ri=(()=>{class u extends ri{constructor(l){super(l)}supports(l){return!0}addEventListener(l,y,P,C){return l.addEventListener(y,P,C),()=>this.removeEventListener(l,y,P,C)}removeEventListener(l,y,P,C){return l.removeEventListener(y,P,C)}static \u0275fac=function(y){return new(y||u)(v.KVO(v.qQL))};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac})}return u})();const Gt=new v.nKC("");let Yt=(()=>{class u{_zone;_plugins;_eventNameToPlugin=new Map;constructor(l,y){this._zone=y,l.forEach(I=>{I.manager=this});const P=l.filter(I=>!(I instanceof Ri));this._plugins=P.slice().reverse();const C=l.find(I=>I instanceof Ri);C&&this._plugins.push(C)}addEventListener(l,y,P,C){return this._findPluginFor(y).addEventListener(l,y,P,C)}getZone(){return this._zone}_findPluginFor(l){let y=this._eventNameToPlugin.get(l);if(y)return y;if(y=this._plugins.find(C=>C.supports(l)),!y)throw new v.buA(5101,!1);return this._eventNameToPlugin.set(l,y),y}static \u0275fac=function(y){return new(y||u)(v.KVO(Gt),v.KVO(v.SKi))};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac})}return u})();const Ai="ng-app-id";function ki(u){for(const h of u)h.remove()}function Jt(u,h){const l=h.createElement("style");return l.textContent=u,l}function on(u,h){const l=h.createElement("link");return l.setAttribute("rel","stylesheet"),l.setAttribute("href",u),l}let Ui=(()=>{class u{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(l,y,P,C={}){this.doc=l,this.appId=y,this.nonce=P,function Li(u,h,l,y){const P=u.head?.querySelectorAll(`style[${Ai}="${h}"],link[${Ai}="${h}"]`);if(P)for(const C of P)C.removeAttribute(Ai),C instanceof HTMLLinkElement?y.set(C.href.slice(C.href.lastIndexOf("/")+1),{usage:0,elements:[C]}):C.textContent&&l.set(C.textContent,{usage:0,elements:[C]})}(l,y,this.inline,this.external),this.hosts.add(l.head)}addStyles(l,y){for(const P of l)this.addUsage(P,this.inline,Jt);y?.forEach(P=>this.addUsage(P,this.external,on))}removeStyles(l,y){for(const P of l)this.removeUsage(P,this.inline);y?.forEach(P=>this.removeUsage(P,this.external))}addUsage(l,y,P){const C=y.get(l);C?C.usage++:y.set(l,{usage:1,elements:[...this.hosts].map(I=>this.addElement(I,P(l,this.doc)))})}removeUsage(l,y){const P=y.get(l);P&&(P.usage--,P.usage<=0&&(ki(P.elements),y.delete(l)))}ngOnDestroy(){for(const[,{elements:l}]of[...this.inline,...this.external])ki(l);this.hosts.clear()}addHost(l){this.hosts.add(l);for(const[y,{elements:P}]of this.inline)P.push(this.addElement(l,Jt(y,this.doc)));for(const[y,{elements:P}]of this.external)P.push(this.addElement(l,on(y,this.doc)))}removeHost(l){this.hosts.delete(l)}addElement(l,y){return this.nonce&&y.setAttribute("nonce",this.nonce),l.appendChild(y)}static \u0275fac=function(y){return new(y||u)(v.KVO(v.qQL),v.KVO(e.sZ2),v.KVO(e.BIS,8),v.KVO(e.Agw))};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac})}return u})();const Da={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Rn=/%COMP%/g,fn=new v.nKC("",{factory:()=>!0});function Cn(u,h){return h.map(l=>l.replace(Rn,u))}let Y=(()=>{class u{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(l,y,P,C,I,W,X=null,z=null){this.eventManager=l,this.sharedStylesHost=y,this.appId=P,this.removeStylesOnCompDestroy=C,this.doc=I,this.ngZone=W,this.nonce=X,this.tracingService=z,this.defaultRenderer=new me(l,I,W,this.tracingService)}createRenderer(l,y){if(!l||!y)return this.defaultRenderer;const P=this.getOrCreateRenderer(l,y);return P instanceof lt?P.applyToHost(l):P instanceof Ze&&P.applyStyles(),P}getOrCreateRenderer(l,y){const P=this.rendererByCompId;let C=P.get(y.id);if(!C){const I=this.doc,W=this.ngZone,X=this.eventManager,z=this.sharedStylesHost,pe=this.removeStylesOnCompDestroy,Me=this.tracingService;switch(y.encapsulation){case e.gXe.Emulated:C=new lt(X,z,y,this.appId,pe,I,W,Me);break;case e.gXe.ShadowDom:return new Ge(X,l,y,I,W,this.nonce,Me,z);case e.gXe.ExperimentalIsolatedShadowDom:return new Ge(X,l,y,I,W,this.nonce,Me);default:C=new Ze(X,z,y,pe,I,W,Me)}P.set(y.id,C)}return C}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(l){this.rendererByCompId.delete(l)}static \u0275fac=function(y){return new(y||u)(v.KVO(Yt),v.KVO(Ui),v.KVO(e.sZ2),v.KVO(fn),v.KVO(v.qQL),v.KVO(v.SKi),v.KVO(e.BIS),v.KVO(e.a8H,8))};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac})}return u})();class me{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(h,l,y,P){this.eventManager=h,this.doc=l,this.ngZone=y,this.tracingService=P}destroy(){}destroyNode=null;createElement(h,l){return l?this.doc.createElementNS(Da[l]||l,h):this.doc.createElement(h)}createComment(h){return this.doc.createComment(h)}createText(h){return this.doc.createTextNode(h)}appendChild(h,l){(De(h)?h.content:h).appendChild(l)}insertBefore(h,l,y){h&&(De(h)?h.content:h).insertBefore(l,y)}removeChild(h,l){l.remove()}selectRootElement(h,l){let y="string"==typeof h?this.doc.querySelector(h):h;if(!y)throw new v.buA(-5104,!1);return l||(y.textContent=""),y}parentNode(h){return h.parentNode}nextSibling(h){return h.nextSibling}setAttribute(h,l,y,P){if(P){l=P+":"+l;const C=Da[P];C?h.setAttributeNS(C,l,y):h.setAttribute(l,y)}else h.setAttribute(l,y)}removeAttribute(h,l,y){if(y){const P=Da[y];P?h.removeAttributeNS(P,l):h.removeAttribute(`${y}:${l}`)}else h.removeAttribute(l)}addClass(h,l){h.classList.add(l)}removeClass(h,l){h.classList.remove(l)}setStyle(h,l,y,P){P&(e.czy.DashCase|e.czy.Important)?h.style.setProperty(l,y,P&e.czy.Important?"important":""):h.style[l]=y}removeStyle(h,l,y){y&e.czy.DashCase?h.style.removeProperty(l):h.style[l]=""}setProperty(h,l,y){null!=h&&(h[l]=y)}setValue(h,l){h.nodeValue=l}listen(h,l,y,P){if("string"==typeof h&&!(h=(0,E.rb)().getGlobalEventTarget(this.doc,h)))throw new v.buA(5102,!1);let C=this.decoratePreventDefault(y);return this.tracingService?.wrapEventListener&&(C=this.tracingService.wrapEventListener(h,l,C)),this.eventManager.addEventListener(h,l,C,P)}decoratePreventDefault(h){return l=>{if("__ngUnwrap__"===l)return h;!1===h(l)&&l.preventDefault()}}}function De(u){return"TEMPLATE"===u.tagName&&void 0!==u.content}class Ge extends me{hostEl;sharedStylesHost;shadowRoot;constructor(h,l,y,P,C,I,W,X){super(h,P,C,W),this.hostEl=l,this.sharedStylesHost=X,this.shadowRoot=l.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let z=y.styles;z=Cn(y.id,z);for(const Me of z){const Re=document.createElement("style");I&&Re.setAttribute("nonce",I),Re.textContent=Me,this.shadowRoot.appendChild(Re)}const pe=y.getExternalStyles?.();if(pe)for(const Me of pe){const Re=on(Me,P);I&&Re.setAttribute("nonce",I),this.shadowRoot.appendChild(Re)}}nodeOrShadowRoot(h){return h===this.hostEl?this.shadowRoot:h}appendChild(h,l){return super.appendChild(this.nodeOrShadowRoot(h),l)}insertBefore(h,l,y){return super.insertBefore(this.nodeOrShadowRoot(h),l,y)}removeChild(h,l){return super.removeChild(null,l)}parentNode(h){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(h)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ze extends me{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(h,l,y,P,C,I,W,X){super(h,C,I,W),this.sharedStylesHost=l,this.removeStylesOnCompDestroy=P;let z=y.styles;this.styles=X?Cn(X,z):z,this.styleUrls=y.getExternalStyles?.(X)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&0===e.DUP.size&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class lt extends Ze{contentAttr;hostAttr;constructor(h,l,y,P,C,I,W,X){const z=P+"-"+y.id;super(h,l,y,C,I,W,X,z),this.contentAttr=function Ma(u){return"_ngcontent-%COMP%".replace(Rn,u)}(z),this.hostAttr=function Un(u){return"_nghost-%COMP%".replace(Rn,u)}(z)}applyToHost(h){this.applyStyles(),this.setAttribute(h,this.hostAttr,"")}createElement(h,l){const y=super.createElement(h,l);return super.setAttribute(y,this.contentAttr,""),y}}class ni extends E.qj{supportsDOMEvents=!0;static makeCurrent(){(0,E.ig)(new ni)}onAndCancel(h,l,y,P){return h.addEventListener(l,y,P),()=>{h.removeEventListener(l,y,P)}}dispatchEvent(h,l){h.dispatchEvent(l)}remove(h){h.remove()}createElement(h,l){return(l=l||this.getDefaultDocument()).createElement(h)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(h){return h.nodeType===Node.ELEMENT_NODE}isShadowRoot(h){return h instanceof DocumentFragment}getGlobalEventTarget(h,l){return"window"===l?window:"document"===l?h:"body"===l?h.body:null}getBaseHref(h){const l=function si(){return Zt=Zt||document.head.querySelector("base"),Zt?Zt.getAttribute("href"):null}();return null==l?null:function Qt(u){return new URL(u,document.baseURI).pathname}(l)}resetBaseElement(){Zt=null}getUserAgent(){return window.navigator.userAgent}getCookie(h){return(0,_.b)(document.cookie,h)}}let Zt=null,oi=(()=>{class u{build(){return new XMLHttpRequest}static \u0275fac=function(y){return new(y||u)};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac})}return u})();const vi=["alt","control","meta","shift"],Wn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ln={alt:u=>u.altKey,control:u=>u.ctrlKey,meta:u=>u.metaKey,shift:u=>u.shiftKey};let vn=(()=>{class u extends ri{constructor(l){super(l)}supports(l){return null!=u.parseEventName(l)}addEventListener(l,y,P,C){const I=u.parseEventName(y),W=u.eventCallback(I.fullKey,P,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,E.rb)().onAndCancel(l,I.domEventName,W,C))}static parseEventName(l){const y=l.toLowerCase().split("."),P=y.shift();if(0===y.length||"keydown"!==P&&"keyup"!==P)return null;const C=u._normalizeKey(y.pop());let I="",W=y.indexOf("code");if(W>-1&&(y.splice(W,1),I="code."),vi.forEach(z=>{const pe=y.indexOf(z);pe>-1&&(y.splice(pe,1),I+=z+".")}),I+=C,0!=y.length||0===C.length)return null;const X={};return X.domEventName=P,X.fullKey=I,X}static matchEventFullKeyCode(l,y){let P=Wn[l.key]||l.key,C="";return y.indexOf("code.")>-1&&(P=l.code,C="code."),!(null==P||!P)&&(P=P.toLowerCase()," "===P?P="space":"."===P&&(P="dot"),vi.forEach(I=>{I!==P&&(0,Ln[I])(l)&&(C+=I+".")}),C+=P,C===y)}static eventCallback(l,y,P){return C=>{u.matchEventFullKeyCode(C,l)&&P.runGuarded(()=>y(C))}}static _normalizeKey(l){return"esc"===l?"escape":l}static \u0275fac=function(y){return new(y||u)(v.KVO(v.qQL))};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac})}return u})();function xn(){return(xn=(0,c.A)(function*(u,h,l){const y={rootComponent:u,...es(h,l)};return(0,t.TL3)(y)})).apply(this,arguments)}function es(u,h){return{platformRef:h?.platformRef,appProviders:[...ys,...u?.providers??[]],platformProviders:Ws}}const Ws=[{provide:e.Agw,useValue:o},{provide:e.PLl,useValue:function fs(){ni.makeCurrent()},multi:!0},{provide:v.qQL,useFactory:function Ca(){return(0,e._9u)(document),document}}],ys=[{provide:v.GBX,useValue:"root"},{provide:v.zcH,useFactory:function Na(){return new v.zcH}},{provide:Gt,useClass:Ri,multi:!0},{provide:Gt,useClass:vn,multi:!0},Y,Ui,Yt,{provide:e._9s,useExisting:Y},{provide:_.N,useClass:oi},[]];var Ua=i(26980),jt=i(49769),ue=i(75119),Xi=i(70762),_a=i(41080);function ra(u,h=_a.b){return l=>l.lift(new fa(u,h))}class fa{constructor(h,l){this.dueTime=h,this.scheduler=l}call(h,l){return l.subscribe(new rr(h,this.dueTime,this.scheduler))}}class rr extends Xi.v{constructor(h,l,y){super(h),this.dueTime=l,this.scheduler=y,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(h){this.clearDebounce(),this.lastValue=h,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(va,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:h}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(h)}}clearDebounce(){const h=this.debouncedSubscription;null!==h&&(this.remove(h),h.unsubscribe(),this.debouncedSubscription=null)}}function va(u){u.debouncedNext()}var ei=i(45286),bs=i(27389),Ps=i(32234),ee=i(18456),j=i(55241);function Z(u=Number.POSITIVE_INFINITY){return(0,ee.ZZ)(j.D,u)}var he=i(44279);function ke(...u){let h=Number.POSITIVE_INFINITY,l=null,y=u[u.length-1];return(0,Ps.m)(y)?(l=u.pop(),u.length>1&&"number"==typeof u[u.length-1]&&(h=u.pop())):"number"==typeof y&&(h=u.pop()),null===l&&1===u.length&&u[0]instanceof bs.c?u[0]:Z(h)((0,he.c)(u,l))}var Be=i(31805),Ye=i(27354);function at(u){return!(0,Ye.c)(u)&&u-parseFloat(u)+1>=0}function Ot(u){const{subscriber:h,counter:l,period:y}=u;h.next(l),this.schedule({subscriber:h,counter:l+1,period:y},y)}var Vt=i(68189),_i=i(76228);const yn=new class Wi extends _i.q{flush(h){this.active=!0,this.scheduled=void 0;const{actions:l}=this;let y,P=-1,C=l.length;h=h||l.shift();do{if(y=h.execute(h.state,h.delay))break}while(++P<C&&(h=l.shift()));if(this.active=!1,y){for(;++P<C&&(h=l.shift());)h.unsubscribe();throw y}}}(class wt extends Vt.R{constructor(h,l){super(h,l),this.scheduler=h,this.work=l}requestAsyncId(h,l,y=0){return null!==y&&y>0?super.requestAsyncId(h,l,y):(h.actions.push(this),h.scheduled||(h.scheduled=requestAnimationFrame(()=>h.flush(null))))}recycleAsyncId(h,l,y=0){if(null!==y&&y>0||null===y&&this.delay>0)return super.recycleAsyncId(h,l,y);0===h.actions.length&&(cancelAnimationFrame(l),h.scheduled=void 0)}});var Ji=i(79928);let ji;function Kn(u){if(function ns(){if(null==ji){const u=typeof document<"u"?document.head:null;ji=!(!u||!u.createShadowRoot&&!u.attachShadow)}return ji}()){const h=u.getRootNode?u.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&h instanceof ShadowRoot)return h}return null}function ka(u){return u.composedPath?u.composedPath()[0]:u.target}const As=new WeakMap;let $s=(()=>{class u{_appRef;_injector=(0,v.WQX)(v.zZn);_environmentInjector=(0,v.WQX)(v.uvJ);load(l){const y=this._appRef=this._appRef||this._injector.get(e.o8S);let P=As.get(y);P||(P={loaders:new Set,refs:[]},As.set(y,P),y.onDestroy(()=>{As.get(y)?.refs.forEach(C=>C.destroy()),As.delete(y)})),P.loaders.has(l)||(P.loaders.add(l),P.refs.push((0,t.a0P)(l,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(y){return new(y||u)};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();var wo=i(14421);let xr=1;const as=Promise.resolve(),lr={};function Oo(u){return u in lr&&(delete lr[u],!0)}const Du={setImmediate(u){const h=xr++;return lr[h]=!0,as.then(()=>Oo(h)&&u()),h},clearImmediate(u){Oo(u)}};new class Ql extends _i.q{flush(h){this.active=!0,this.scheduled=void 0;const{actions:l}=this;let y,P=-1,C=l.length;h=h||l.shift();do{if(y=h.execute(h.state,h.delay))break}while(++P<C&&(h=l.shift()));if(this.active=!1,y){for(;++P<C&&(h=l.shift());)h.unsubscribe();throw y}}}(class Jl extends Vt.R{constructor(h,l){super(h,l),this.scheduler=h,this.work=l}requestAsyncId(h,l,y=0){return null!==y&&y>0?super.requestAsyncId(h,l,y):(h.actions.push(this),h.scheduled||(h.scheduled=Du.setImmediate(h.flush.bind(h,null))))}recycleAsyncId(h,l,y=0){if(null!==y&&y>0||null===y&&this.delay>0)return super.recycleAsyncId(h,l,y);0===h.actions.length&&(Du.clearImmediate(l),h.scheduled=void 0)}});var Wa=i(13004);class Ka{constructor(h){this.durationSelector=h}call(h,l){return l.subscribe(new Hs(h,this.durationSelector))}}class Hs extends Wa.gn{constructor(h,l){super(h),this.durationSelector=l,this.hasValue=!1}_next(h){if(this.value=h,this.hasValue=!0,!this.throttled){let l;try{const{durationSelector:P}=this;l=P(h)}catch(P){return this.destination.error(P)}const y=(0,Wa.tS)(l,new Wa.zA(this));!y||y.closed?this.clearThrottle():this.add(this.throttled=y)}}clearThrottle(){const{value:h,hasValue:l,throttled:y}=this;y&&(this.remove(y),this.throttled=void 0,y.unsubscribe()),l&&(this.value=void 0,this.hasValue=!1,this.destination.next(h))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function pr(u){const{index:h,period:l,subscriber:y}=u;if(y.next(h),!y.closed){if(-1===l)return y.complete();u.index=h+1,this.schedule(u,l)}}function hr(u,h=_a.b){return function ur(u){return function(l){return l.lift(new Ka(u))}}(()=>function dr(u=0,h,l){let y=-1;return at(h)?y=Number(h)<1?1:Number(h):(0,Ps.m)(h)&&(l=h),(0,Ps.m)(l)||(l=_a.b),new bs.c(P=>{const C=at(u)?u:+u-l.now();return l.schedule(pr,C,{index:0,period:y,subscriber:P})})}(u,h))}var Fr=i(58728);function Io(u,h=0){return function Mu(u){return!isNaN(parseFloat(u))&&!isNaN(Number(u))}(u)?Number(u):2===arguments.length?h:0}function $a(u){return u instanceof e.aKT?u.nativeElement:u}let ss;try{ss=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ss=!1}let gr=(()=>{class u{_platformId=(0,v.WQX)(e.Agw);isBrowser=this._platformId?function d(u){return u===o}(this._platformId):"object"==typeof document&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!(!window.chrome&&!ss)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(y){return new(y||u)};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})(),N=(()=>{class u{_ngZone=(0,v.WQX)(v.SKi);_platform=(0,v.WQX)(gr);_renderer=(0,v.WQX)(e._9s).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new ei.B7;_scrolledCount=0;scrollContainers=new Map;register(l){this.scrollContainers.has(l)||this.scrollContainers.set(l,l.elementScrolled().subscribe(()=>this._scrolled.next(l)))}deregister(l){const y=this.scrollContainers.get(l);y&&(y.unsubscribe(),this.scrollContainers.delete(l))}scrolled(l=20){return this._platform.isBrowser?new bs.c(y=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));const P=l>0?this._scrolled.pipe(hr(l)).subscribe(y):this._scrolled.subscribe(y);return this._scrolledCount++,()=>{P.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):(0,wo.of)()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((l,y)=>this.deregister(y)),this._scrolled.complete()}ancestorScrolled(l,y){const P=this.getAncestorScrollContainers(l);return this.scrolled(y).pipe((0,Fr.p)(C=>!C||P.indexOf(C)>-1))}getAncestorScrollContainers(l){const y=[];return this.scrollContainers.forEach((P,C)=>{this._scrollableContainsElement(C,l)&&y.push(C)}),y}_scrollableContainsElement(l,y){let P=$a(y),C=l.getElementRef().nativeElement;do{if(P==C)return!0}while(P=P.parentElement);return!1}static \u0275fac=function(y){return new(y||u)};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})(),_t=(()=>{class u{_platform=(0,v.WQX)(gr);_listeners;_viewportSize=null;_change=new ei.B7;_document=(0,v.WQX)(v.qQL);constructor(){const l=(0,v.WQX)(v.SKi),y=(0,v.WQX)(e._9s).createRenderer(null,null);l.runOutsideAngular(()=>{if(this._platform.isBrowser){const P=C=>this._change.next(C);this._listeners=[y.listen("window","resize",P),y.listen("window","orientationchange",P)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(l=>l()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const l={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),l}getViewportRect(){const l=this.getViewportScrollPosition(),{width:y,height:P}=this.getViewportSize();return{top:l.top,left:l.left,bottom:l.top+P,right:l.left+y,height:P,width:y}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const l=this._document,y=this._getWindow(),P=l.documentElement,C=P.getBoundingClientRect();return{top:-C.top||l.body?.scrollTop||y.scrollY||P.scrollTop||0,left:-C.left||l.body?.scrollLeft||y.scrollX||P.scrollLeft||0}}change(l=20){return l>0?this._change.pipe(hr(l)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const l=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:l.innerWidth,height:l.innerHeight}:{width:0,height:0}}static \u0275fac=function(y){return new(y||u)};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})(),Ro=(()=>{class u{static \u0275fac=function(y){return new(y||u)};static \u0275mod=e.$C({type:u});static \u0275inj=v.G2t({})}return u})();function wn(u){return h=>h.lift(new Ou(u))}class Ou{constructor(h){this.notifier=h}call(h,l){const y=new Qp(h),P=(0,Wa.tS)(this.notifier,new Wa.zA(y));return P&&!y.seenValue?(y.add(P),l.subscribe(y)):y}}class Qp extends Wa.gn{constructor(h){super(h),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}var Lo=i(95006);const Iu=(()=>{function u(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return u.prototype=Object.create(Error.prototype),u})();var Zp=i(51235);class Nr{constructor(h){if(this.total=h,this.total<0)throw new Iu}call(h,l){return l.subscribe(new Ur(h,this.total))}}class Ur extends Xi.v{constructor(h,l){super(h),this.total=l,this.count=0}_next(h){const l=this.total,y=++this.count;y<=l&&(this.destination.next(h),y===l&&(this.destination.complete(),this.unsubscribe()))}}var ec=i(15539),I_=i(49090);function eh(...u){return function R_(){return Z(1)}()((0,wo.of)(...u))}function mr(...u){const h=u[u.length-1];return(0,Ps.m)(h)?(u.pop(),l=>eh(u,l,h)):l=>eh(u,l)}const th=new v.nKC("cdk-dir-doc",{providedIn:"root",factory:()=>(0,v.WQX)(v.qQL)}),xo=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ru=(()=>{class u{get value(){return this.valueSignal()}valueSignal=(0,v.vPA)("ltr");change=new v.bkB;constructor(){const l=(0,v.WQX)(th,{optional:!0});l&&this.valueSignal.set(function tc(u){const h=u?.toLowerCase()||"";return"auto"===h&&typeof navigator<"u"&&navigator?.language?xo.test(navigator.language)?"rtl":"ltr":"rtl"===h?"rtl":"ltr"}((l.body?l.body.dir:null)||(l.documentElement?l.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static \u0275fac=function(y){return new(y||u)};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();const Wr={};class Kr{_appId=(0,v.WQX)(e.sZ2);static _infix=`a${Math.floor(1e5*Math.random()).toString()}`;getId(h,l=!1){return"ng"!==this._appId&&(h+=this._appId),Wr.hasOwnProperty(h)||(Wr[h]=0),`${h}${l?Kr._infix+"-":""}${Wr[h]++}`}static \u0275fac=function(l){return new(l||Kr)};static \u0275prov=v.jDH({token:Kr,factory:Kr.\u0275fac,providedIn:"root"})}function xu(u){const h=u.cloneNode(!0),l=h.querySelectorAll("[id]"),y=u.nodeName.toLowerCase();h.removeAttribute("id");for(let P=0;P<l.length;P++)l[P].removeAttribute("id");return"canvas"===y?$r(u,h):("input"===y||"select"===y||"textarea"===y)&&Bo(u,h),ic("canvas",u,h,$r),ic("input, textarea, select",u,h,Bo),h}function ic(u,h,l,y){const P=h.querySelectorAll(u);if(P.length){const C=l.querySelectorAll(u);for(let I=0;I<P.length;I++)y(P[I],C[I])}}let ih=0;function Bo(u,h){"file"!==h.type&&(h.value=u.value),"radio"===h.type&&h.name&&(h.name=`mat-clone-${h.name}-${ih++}`)}function $r(u,h){const l=h.getContext("2d");if(l)try{l.drawImage(u,0,0)}catch{}}function Fo(u){const h=u.getBoundingClientRect();return{top:h.top,right:h.right,bottom:h.bottom,left:h.left,width:h.width,height:h.height,x:h.x,y:h.y}}function _r(u,h,l){const{top:y,bottom:P,left:C,right:I}=u;return l>=y&&l<=P&&h>=C&&h<=I}function Gr(u,h,l){u.top+=h,u.bottom=u.top+u.height,u.left+=l,u.right=u.left+u.width}function nh(u,h,l,y){const{top:P,right:C,bottom:I,left:W,width:X,height:z}=u,pe=X*h,Me=z*h;return y>P-Me&&y<I+Me&&l>W-pe&&l<C+pe}class Bu{_document;positions=new Map;constructor(h){this._document=h}clear(){this.positions.clear()}cache(h){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),h.forEach(l=>{this.positions.set(l,{scrollPosition:{top:l.scrollTop,left:l.scrollLeft},clientRect:Fo(l)})})}handleScroll(h){const l=ka(h),y=this.positions.get(l);if(!y)return null;const P=y.scrollPosition;let C,I;if(l===this._document){const z=this.getViewportScrollPosition();C=z.top,I=z.left}else C=l.scrollTop,I=l.scrollLeft;const W=P.top-C,X=P.left-I;return this.positions.forEach((z,pe)=>{z.clientRect&&l!==pe&&l.contains(pe)&&Gr(z.clientRect,W,X)}),P.top=C,P.left=I,{top:W,left:X}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Fu(u,h){const l=u.rootNodes;if(1===l.length&&l[0].nodeType===h.ELEMENT_NODE)return l[0];const y=h.createElement("div");return l.forEach(P=>y.appendChild(P)),y}function Nu(u,h,l){for(let y in h)if(h.hasOwnProperty(y)){const P=h[y];P?u.setProperty(y,P,l?.has(y)?"important":""):u.removeProperty(y)}return u}function js(u,h){const l=h?"":"none";Nu(u.style,{"touch-action":h?"":"none","-webkit-user-drag":h?"":"none","-webkit-tap-highlight-color":h?"":"transparent","user-select":l,"-ms-user-select":l,"-webkit-user-select":l,"-moz-user-select":l})}function Uo(u,h,l){Nu(u.style,{position:h?"":"fixed",top:h?"":"0",opacity:h?"":"0",left:h?"":"-999em"},l)}function nc(u,h){return h&&"none"!=h?u+" "+h:u}function Uu(u,h){u.style.width=`${h.width}px`,u.style.height=`${h.height}px`,u.style.transform=Hr(h.left,h.top)}function Hr(u,h){return`translate3d(${Math.round(u)}px, ${Math.round(h)}px, 0)`}const jr={capture:!0},ac={passive:!1,capture:!0};let Wu=(()=>{class u{static \u0275fac=function(y){return new(y||u)};static \u0275cmp=e.VBU({type:u,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(y,P){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}\n"],encapsulation:2,changeDetection:0})}return u})(),Wo=(()=>{class u{_ngZone=(0,v.WQX)(v.SKi);_document=(0,v.WQX)(v.qQL);_styleLoader=(0,v.WQX)($s);_renderer=(0,v.WQX)(e._9s).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new ei.B7;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=(0,v.vPA)([]);_globalListeners;_draggingPredicate=l=>l.isDragging();_domNodesToDirectives=null;pointerMove=new ei.B7;pointerUp=new ei.B7;constructor(){}registerDropContainer(l){this._dropInstances.has(l)||this._dropInstances.add(l)}registerDragItem(l){this._dragInstances.add(l),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,ac)})}removeDropContainer(l){this._dropInstances.delete(l)}removeDragItem(l){this._dragInstances.delete(l),this.stopDragging(l),0===this._dragInstances.size&&this._cleanupDocumentTouchmove?.()}startDragging(l,y){if(!(this._activeDragInstances().indexOf(l)>-1)&&(this._styleLoader.load(Wu),this._activeDragInstances.update(P=>[...P,l]),1===this._activeDragInstances().length)){const P=y.type.startsWith("touch"),C=W=>this.pointerUp.next(W),I=[["scroll",W=>this._scroll.next(W),jr],["selectstart",this._preventDefaultWhileDragging,ac]];P?I.push(["touchend",C,jr],["touchcancel",C,jr]):I.push(["mouseup",C,jr]),P||I.push(["mousemove",W=>this.pointerMove.next(W),ac]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=I.map(([W,X,z])=>this._renderer.listen(this._document,W,X,z))})}}stopDragging(l){this._activeDragInstances.update(y=>{const P=y.indexOf(l);return P>-1?(y.splice(P,1),[...y]):y}),0===this._activeDragInstances().length&&this._clearGlobalListeners()}isDragging(l){return this._activeDragInstances().indexOf(l)>-1}scrolled(l){const y=[this._scroll];return l&&l!==this._document&&y.push(new bs.c(P=>this._ngZone.runOutsideAngular(()=>{const C=this._renderer.listen(l,"scroll",I=>{this._activeDragInstances().length&&P.next(I)},jr);return()=>{C()}}))),ke(...y)}registerDirectiveNode(l,y){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(l,y)}removeDirectiveNode(l){this._domNodesToDirectives?.delete(l)}getDragDirectiveForNode(l){return this._domNodesToDirectives?.get(l)||null}ngOnDestroy(){this._dragInstances.forEach(l=>this.removeDragItem(l)),this._dropInstances.forEach(l=>this.removeDropContainer(l)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=l=>{this._activeDragInstances().length>0&&l.preventDefault()};_persistentTouchmoveListener=l=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&l.preventDefault(),this.pointerMove.next(l))};_clearGlobalListeners(){this._globalListeners?.forEach(l=>l()),this._globalListeners=void 0}static \u0275fac=function(y){return new(y||u)};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();function ah(u){const h=u.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(u)*h}function Vr(u,h){return u.getPropertyValue(h).split(",").map(y=>y.trim())}const L_=new Set(["position"]);class Ku{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView=null;_preview;get element(){return this._preview}constructor(h,l,y,P,C,I,W,X,z,pe){this._document=h,this._rootElement=l,this._direction=y,this._initialDomRect=P,this._previewTemplate=C,this._previewClass=I,this._pickupPositionOnPage=W,this._initialTransform=X,this._zIndex=z,this._renderer=pe}attach(h){this._preview=this._createPreview(),h.appendChild(this._preview),Ko(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(h){this._preview.style.transform=h}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(h){this._preview.classList.add(h)}getTransitionDuration(){return function sc(u){const h=getComputedStyle(u),l=Vr(h,"transition-property"),y=l.find(W=>"transform"===W||"all"===W);if(!y)return 0;const P=l.indexOf(y),C=Vr(h,"transition-duration"),I=Vr(h,"transition-delay");return ah(C[P])+ah(I[P])}(this._preview)}addEventListener(h,l){return this._renderer.listen(this._preview,h,l)}_createPreview(){const h=this._previewTemplate,l=this._previewClass,y=h?h.template:null;let P;if(y&&h){const C=h.matchSize?this._initialDomRect:null,I=h.viewContainer.createEmbeddedView(y,h.context);I.detectChanges(),P=Fu(I,this._document),this._previewEmbeddedView=I,h.matchSize?Uu(P,C):P.style.transform=Hr(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else P=xu(this._rootElement),Uu(P,this._initialDomRect),this._initialTransform&&(P.style.transform=this._initialTransform);return Nu(P.style,{"pointer-events":"none",margin:Ko(P)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},L_),js(P,!1),P.classList.add("cdk-drag-preview"),P.setAttribute("popover","manual"),P.setAttribute("dir",this._direction),l&&(Array.isArray(l)?l.forEach(C=>P.classList.add(C)):P.classList.add(l)),P}}function Ko(u){return"showPopover"in u}const rc={passive:!0},wa={passive:!1},sh={passive:!1,capture:!0},zr="cdk-drag-placeholder",Gu=new Set(["position"]);function rh(u,h,l={dragStartThreshold:5,pointerDirectionChangeThreshold:5}){const y=u.get(e.sFG,null,{optional:!0})||u.get(e._9s).createRenderer(null,null);return new oc(h,l,u.get(v.qQL),u.get(v.SKi),u.get(_t),u.get(Wo),y)}class oc{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview=null;_previewContainer;_placeholderRef=null;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_marker;_anchor=null;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=(0,v.vPA)(!1);_hasMoved=!1;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new ei.B7;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement=null;_rootElementTapHighlight;_pointerMoveSubscription=Be.y.EMPTY;_pointerUpSubscription=Be.y.EMPTY;_scrollSubscription=Be.y.EMPTY;_resizeSubscription=Be.y.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef=null;_cachedShadowRoot;lockAxis=null;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(h){h!==this._disabled&&(this._disabled=h,this._toggleNativeDragInteractions(),this._handles.forEach(l=>js(l,h)))}_disabled=!1;beforeStarted=new ei.B7;started=new ei.B7;released=new ei.B7;ended=new ei.B7;entered=new ei.B7;exited=new ei.B7;dropped=new ei.B7;moved=this._moveEvents;data;constrainPosition;constructor(h,l,y,P,C,I,W){this._config=l,this._document=y,this._ngZone=P,this._viewportRuler=C,this._dragDropRegistry=I,this._renderer=W,this.withRootElement(h).withParent(l.parentDragRef||null),this._parentPositions=new Bu(y),I.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(h){this._handles=h.map(y=>$a(y)),this._handles.forEach(y=>js(y,this.disabled)),this._toggleNativeDragInteractions();const l=new Set;return this._disabledHandles.forEach(y=>{this._handles.indexOf(y)>-1&&l.add(y)}),this._disabledHandles=l,this}withPreviewTemplate(h){return this._previewTemplate=h,this}withPlaceholderTemplate(h){return this._placeholderTemplate=h,this}withRootElement(h){const l=$a(h);if(l!==this._rootElement){this._removeRootElementListeners();const y=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[y.listen(l,"mousedown",this._pointerDown,wa),y.listen(l,"touchstart",this._pointerDown,rc),y.listen(l,"dragstart",this._nativeDragStart,wa)]),this._initialTransform=void 0,this._rootElement=l}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(h){return this._boundaryElement=h?$a(h):null,this._resizeSubscription.unsubscribe(),h&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(h){return this._parentDragRef=h,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._marker?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&function No(u,h){return h.left<u.left||h.left+h.width>u.right||h.top<u.top||h.top+h.height>u.bottom}(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){const h=this._boundaryElement.getBoundingClientRect(),l=this._rootElement.getBoundingClientRect();let y=0,P=0;l.left<h.left?y=h.left-l.left:l.right>h.right&&(y=h.right-l.right),l.top<h.top?P=h.top-l.top:l.bottom>h.bottom&&(P=h.bottom-l.bottom);let W=this._activeTransform.x+y,X=this._activeTransform.y+P;this._rootElement.style.transform=Hr(W,X),this._activeTransform={x:W,y:X},this._passiveTransform={x:W,y:X}}}disableHandle(h){!this._disabledHandles.has(h)&&this._handles.indexOf(h)>-1&&(this._disabledHandles.add(h),js(h,!0))}enableHandle(h){this._disabledHandles.has(h)&&(this._disabledHandles.delete(h),js(h,this.disabled))}withDirection(h){return this._direction=h,this}_withDropContainer(h){this._dropContainer=h}getFreeDragPosition(){const h=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:h.x,y:h.y}}setFreeDragPosition(h){return this._activeTransform={x:0,y:0},this._passiveTransform.x=h.x,this._passiveTransform.y=h.y,this._dropContainer||this._applyRootElementTransform(h.x,h.y),this}withPreviewContainer(h){return this._previewContainer=h,this}_sortFromLastPointerPosition(){const h=this._lastKnownPointerPosition;h&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(h),h)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._anchor?.remove(),this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}_pointerDown=h=>{if(this.beforeStarted.next(),this._handles.length){const l=this._getTargetHandle(h);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,h)}else this.disabled||this._initializeDragSequence(this._rootElement,h)};_pointerMove=h=>{const l=this._getPointerPositionOnPage(h);if(!this._hasStartedDragging()){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const W=Date.now()>=this._dragStartTime+this._getDragStartDelay(h),X=this._dropContainer;if(!W)return void this._endDragSequence(h);(!X||!X.isDragging()&&!X.isReceiving())&&(h.cancelable&&h.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(h)))}return}h.cancelable&&h.preventDefault();const y=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(y),this._dropContainer)this._updateActiveDropContainer(y,l);else{const P=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,C=this._activeTransform;C.x=y.x-P.x+this._passiveTransform.x,C.y=y.y-P.y+this._passiveTransform.y,this._applyRootElementTransform(C.x,C.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:y,event:h,distance:this._getDragDistance(y),delta:this._pointerDirectionDelta})})};_pointerUp=h=>{this._endDragSequence(h)};_endDragSequence(h){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging()))if(this.released.next({source:this,event:h}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(h),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const l=this._getPointerPositionOnPage(h);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(l),dropPoint:l,event:h})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(h){$o(h)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const l=this._getShadowRoot(),y=this._dropContainer;if(l&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(l,"selectstart",x_,sh)}),y){const P=this._rootElement,C=P.parentNode,I=this._placeholder=this._createPlaceholderElement(),W=this._marker=this._marker||this._document.createComment("");C.insertBefore(W,P),this._initialTransform=P.style.transform||"",this._preview=new Ku(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(C,l)),Uo(P,!1,Gu),this._document.body.appendChild(C.replaceChild(I,P)),this.started.next({source:this,event:h}),y.start(),this._initialContainer=y,this._initialIndex=y.getItemIndex(this)}else this.started.next({source:this,event:h}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(y?y.getScrollableParents():[])}_initializeDragSequence(h,l){this._parentDragRef&&l.stopPropagation();const y=this.isDragging(),P=$o(l),C=!P&&0!==l.button,I=this._rootElement,W=ka(l),X=!P&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),z=P?function or(u){const h=u.touches&&u.touches[0]||u.changedTouches&&u.changedTouches[0];return!(!h||-1!==h.identifier||null!=h.radiusX&&1!==h.radiusX||null!=h.radiusY&&1!==h.radiusY)}(l):function Es(u){return 0===u.buttons||0===u.detail}(l);if(W&&W.draggable&&"mousedown"===l.type&&l.preventDefault(),y||C||X||z)return;if(this._handles.length){const Re=I.style;this._rootElementTapHighlight=Re.webkitTapHighlightColor||"",Re.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Re=>this._updateOnScroll(Re)),this._boundaryElement&&(this._boundaryRect=Fo(this._boundaryElement));const pe=this._previewTemplate;this._pickupPositionInElement=pe&&pe.template&&!pe.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,h,l);const Me=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(l);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:Me.x,y:Me.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,l)}_cleanupDragArtifacts(h){Uo(this._rootElement,!0,Gu),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const l=this._dropContainer,y=l.getItemIndex(this),P=this._getPointerPositionOnPage(h),C=this._getDragDistance(P),I=l._isOverContainer(P.x,P.y);this.ended.next({source:this,distance:C,dropPoint:P,event:h}),this.dropped.next({item:this,currentIndex:y,previousIndex:this._initialIndex,container:l,previousContainer:this._initialContainer,isPointerOverContainer:I,distance:C,dropPoint:P,event:h}),l.drop(this,y,this._initialIndex,this._initialContainer,I,C,P,h),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:h,y:l},{x:y,y:P}){let C=this._initialContainer._getSiblingContainerFromPosition(this,h,l);!C&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(h,l)&&(C=this._initialContainer),C&&C!==this._dropContainer&&this._ngZone.run(()=>{const I=this._dropContainer.getItemIndex(this),W=this._dropContainer.getItemAtIndex(I+1)?.getVisibleElement()||null;this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._conditionallyInsertAnchor(C,this._dropContainer,W),this._dropContainer=C,this._dropContainer.enter(this,h,l,C===this._initialContainer&&C.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:C,currentIndex:C.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(y,P),this._dropContainer._sortItem(this,h,l,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(h,l):this._applyPreviewTransform(h-this._pickupPositionInElement.x,l-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const h=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(h.left,h.top);const l=this._preview.getTransitionDuration();return 0===l?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(y=>{const P=W=>{(!W||this._preview&&ka(W)===this._preview.element&&"transform"===W.propertyName)&&(I(),y(),clearTimeout(C))},C=setTimeout(P,1.5*l),I=this._preview.addEventListener("transitionend",P)}))}_createPlaceholderElement(){const h=this._placeholderTemplate,l=h?h.template:null;let y;return l?(this._placeholderRef=h.viewContainer.createEmbeddedView(l,h.context),this._placeholderRef.detectChanges(),y=Fu(this._placeholderRef,this._document)):y=xu(this._rootElement),y.style.pointerEvents="none",y.classList.add(zr),y}_getPointerPositionInElement(h,l,y){const P=l===this._rootElement?null:l,C=P?P.getBoundingClientRect():h,I=$o(y)?y.targetTouches[0]:y,W=this._getViewportScrollPosition();return{x:C.left-h.left+(I.pageX-C.left-W.left),y:C.top-h.top+(I.pageY-C.top-W.top)}}_getPointerPositionOnPage(h){const l=this._getViewportScrollPosition(),y=$o(h)?h.touches[0]||h.changedTouches[0]||{pageX:0,pageY:0}:h,P=y.pageX-l.left,C=y.pageY-l.top;if(this._ownerSVGElement){const I=this._ownerSVGElement.getScreenCTM();if(I){const W=this._ownerSVGElement.createSVGPoint();return W.x=P,W.y=C,W.matrixTransform(I.inverse())}}return{x:P,y:C}}_getConstrainedPointerPosition(h){const l=this._dropContainer?this._dropContainer.lockAxis:null;let{x:y,y:P}=this.constrainPosition?this.constrainPosition(h,this,this._initialDomRect,this._pickupPositionInElement):h;if("x"===this.lockAxis||"x"===l?P=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===l)&&(y=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:C,y:I}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,W=this._boundaryRect,{width:X,height:z}=this._getPreviewRect(),pe=W.top+I,Me=W.bottom-(z-I);y=oh(y,W.left+C,W.right-(X-C)),P=oh(P,pe,Me)}return{x:y,y:P}}_updatePointerDirectionDelta(h){const{x:l,y}=h,P=this._pointerDirectionDelta,C=this._pointerPositionAtLastDirectionChange,I=Math.abs(l-C.x),W=Math.abs(y-C.y);return I>this._config.pointerDirectionChangeThreshold&&(P.x=l>C.x?1:-1,C.x=l),W>this._config.pointerDirectionChangeThreshold&&(P.y=y>C.y?1:-1,C.y=y),P}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const h=this._handles.length>0||!this.isDragging();h!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=h,js(this._rootElement,h))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(h=>h()),this._rootElementCleanups=void 0}_applyRootElementTransform(h,l){const y=1/this.scale,P=Hr(h*y,l*y),C=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=C.transform&&"none"!=C.transform?C.transform:""),C.transform=nc(P,this._initialTransform)}_applyPreviewTransform(h,l){const y=this._previewTemplate?.template?void 0:this._initialTransform,P=Hr(h,l);this._preview.setTransform(nc(P,y))}_getDragDistance(h){const l=this._pickupPositionOnPage;return l?{x:h.x-l.x,y:h.y-l.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:h,y:l}=this._passiveTransform;if(0===h&&0===l||this.isDragging()||!this._boundaryElement)return;const y=this._rootElement.getBoundingClientRect(),P=this._boundaryElement.getBoundingClientRect();if(0===P.width&&0===P.height||0===y.width&&0===y.height)return;const C=P.left-y.left,I=y.right-P.right,W=P.top-y.top,X=y.bottom-P.bottom;P.width>y.width?(C>0&&(h+=C),I>0&&(h-=I)):h=0,P.height>y.height?(W>0&&(l+=W),X>0&&(l-=X)):l=0,(h!==this._passiveTransform.x||l!==this._passiveTransform.y)&&this.setFreeDragPosition({y:l,x:h})}_getDragStartDelay(h){const l=this.dragStartDelay;return"number"==typeof l?l:$o(h)?l.touch:l?l.mouse:0}_updateOnScroll(h){const l=this._parentPositions.handleScroll(h);if(l){const y=ka(h);this._boundaryRect&&y!==this._boundaryElement&&y.contains(this._boundaryElement)&&Gr(this._boundaryRect,l.top,l.left),this._pickupPositionOnPage.x+=l.left,this._pickupPositionOnPage.y+=l.top,this._dropContainer||(this._activeTransform.x-=l.left,this._activeTransform.y-=l.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Kn(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(h,l){const y=this._previewContainer||"global";if("parent"===y)return h;if("global"===y){const P=this._document;return l||P.fullscreenElement||P.webkitFullscreenElement||P.mozFullScreenElement||P.msFullscreenElement||P.body}return $a(y)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=h=>{if(this._handles.length){const l=this._getTargetHandle(h);l&&!this._disabledHandles.has(l)&&!this.disabled&&h.preventDefault()}else this.disabled||h.preventDefault()};_getTargetHandle(h){return this._handles.find(l=>h.target&&(h.target===l||l.contains(h.target)))}_conditionallyInsertAnchor(h,l,y){if(h===this._initialContainer)this._anchor?.remove(),this._anchor=null;else if(l===this._initialContainer&&l.hasAnchor){const P=this._anchor??=xu(this._placeholder);P.classList.remove(zr),P.classList.add("cdk-drag-anchor"),P.style.transform="",y?y.before(P):$a(l.element).appendChild(P)}}}function oh(u,h,l){return Math.max(h,Math.min(l,u))}function $o(u){return"t"===u.type[0]}function x_(u){u.preventDefault()}function Hu(u,h,l){const y=Ss(h,u.length-1),P=Ss(l,u.length-1);if(y===P)return;const C=u[y],I=P<y?-1:1;for(let W=y;W!==P;W+=I)u[W]=u[W+I];u[P]=C}function Ss(u,h){return Math.max(0,Math.min(h,u))}class Yr{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction="ltr";constructor(h){this._dragDropRegistry=h}_previousSwap={drag:null,delta:0,overlaps:!1};start(h){this.withItems(h)}sort(h,l,y,P){const C=this._itemPositions,I=this._getItemIndexFromPointerPosition(h,l,y,P);if(-1===I&&C.length>0)return null;const W="horizontal"===this.orientation,X=C.findIndex(st=>st.drag===h),z=C[I],Me=z.clientRect,Re=X>I?1:-1,$e=this._getItemOffsetPx(C[X].clientRect,Me,Re),ft=this._getSiblingOffsetPx(X,C,Re),ht=C.slice();return Hu(C,X,I),C.forEach((st,Ct)=>{if(ht[Ct]===st)return;const dt=st.drag===h,Pt=dt?$e:ft,vt=dt?h.getPlaceholderElement():st.drag.getRootElement();st.offset+=Pt;const It=Math.round(st.offset*(1/st.drag.scale));W?(vt.style.transform=nc(`translate3d(${It}px, 0, 0)`,st.initialTransform),Gr(st.clientRect,0,Pt)):(vt.style.transform=nc(`translate3d(0, ${It}px, 0)`,st.initialTransform),Gr(st.clientRect,Pt,0))}),this._previousSwap.overlaps=_r(Me,l,y),this._previousSwap.drag=z.drag,this._previousSwap.delta=W?P.x:P.y,{previousIndex:X,currentIndex:I}}enter(h,l,y,P){const C=null==P||P<0?this._getItemIndexFromPointerPosition(h,l,y):P,I=this._activeDraggables,W=I.indexOf(h),X=h.getPlaceholderElement();let z=I[C];if(z===h&&(z=I[C+1]),!z&&(null==C||-1===C||C<I.length-1)&&this._shouldEnterAsFirstChild(l,y)&&(z=I[0]),W>-1&&I.splice(W,1),z&&!this._dragDropRegistry.isDragging(z)){const pe=z.getRootElement();pe.parentElement.insertBefore(X,pe),I.splice(C,0,h)}else this._element.appendChild(X),I.push(h);X.style.transform="",this._cacheItemPositions()}withItems(h){this._activeDraggables=h.slice(),this._cacheItemPositions()}withSortPredicate(h){this._sortPredicate=h}reset(){this._activeDraggables?.forEach(h=>{const l=h.getRootElement();if(l){const y=this._itemPositions.find(P=>P.drag===h)?.initialTransform;l.style.transform=y||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(h){return this._getVisualItemPositions().findIndex(l=>l.drag===h)}getItemAtIndex(h){return this._getVisualItemPositions()[h]?.drag||null}updateOnScroll(h,l){this._itemPositions.forEach(({clientRect:y})=>{Gr(y,h,l)}),this._itemPositions.forEach(({drag:y})=>{this._dragDropRegistry.isDragging(y)&&y._sortFromLastPointerPosition()})}withElementContainer(h){this._element=h}_cacheItemPositions(){const h="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(l=>{const y=l.getVisibleElement();return{drag:l,offset:0,initialTransform:y.style.transform||"",clientRect:Fo(y)}}).sort((l,y)=>h?l.clientRect.left-y.clientRect.left:l.clientRect.top-y.clientRect.top)}_getVisualItemPositions(){return"horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions}_getItemOffsetPx(h,l,y){const P="horizontal"===this.orientation;let C=P?l.left-h.left:l.top-h.top;return-1===y&&(C+=P?l.width-h.width:l.height-h.height),C}_getSiblingOffsetPx(h,l,y){const P="horizontal"===this.orientation,C=l[h].clientRect,I=l[h+-1*y];let W=C[P?"width":"height"]*y;if(I){const X=P?"left":"top",z=P?"right":"bottom";-1===y?W-=I.clientRect[X]-C[z]:W+=C[X]-I.clientRect[z]}return W}_shouldEnterAsFirstChild(h,l){if(!this._activeDraggables.length)return!1;const y=this._itemPositions,P="horizontal"===this.orientation;if(y[0].drag!==this._activeDraggables[0]){const I=y[y.length-1].clientRect;return P?h>=I.right:l>=I.bottom}{const I=y[0].clientRect;return P?h<=I.left:l<=I.top}}_getItemIndexFromPointerPosition(h,l,y,P){const C="horizontal"===this.orientation,I=this._itemPositions.findIndex(({drag:W,clientRect:X})=>W!==h&&((!P||W!==this._previousSwap.drag||!this._previousSwap.overlaps||(C?P.x:P.y)!==this._previousSwap.delta)&&(C?l>=Math.floor(X.left)&&l<Math.floor(X.right):y>=Math.floor(X.top)&&y<Math.floor(X.bottom))));return-1!==I&&this._sortPredicate(I,h)?I:-1}}class ju{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(h,l){this._document=h,this._dragDropRegistry=l}start(h){const l=this._element.childNodes;this._relatedNodes=[];for(let y=0;y<l.length;y++){const P=l[y];this._relatedNodes.push([P,P.nextSibling])}this.withItems(h)}sort(h,l,y,P){const C=this._getItemIndexFromPointerPosition(h,l,y),I=this._previousSwap;if(-1===C||this._activeItems[C]===h)return null;const W=this._activeItems[C];if(I.drag===W&&I.overlaps&&I.deltaX===P.x&&I.deltaY===P.y)return null;const X=this.getItemIndex(h),z=h.getPlaceholderElement(),pe=W.getRootElement();C>X?pe.after(z):pe.before(z),Hu(this._activeItems,X,C);const Me=this._getRootNode().elementFromPoint(l,y);return I.deltaX=P.x,I.deltaY=P.y,I.drag=W,I.overlaps=pe===Me||pe.contains(Me),{previousIndex:X,currentIndex:C}}enter(h,l,y,P){const C=this._activeItems.indexOf(h);C>-1&&this._activeItems.splice(C,1);let I=null==P||P<0?this._getItemIndexFromPointerPosition(h,l,y):P;-1===I&&(I=this._getClosestItemIndexToPointer(h,l,y));const W=this._activeItems[I];W&&!this._dragDropRegistry.isDragging(W)?(this._activeItems.splice(I,0,h),W.getRootElement().before(h.getPlaceholderElement())):(this._activeItems.push(h),this._element.appendChild(h.getPlaceholderElement()))}withItems(h){this._activeItems=h.slice()}withSortPredicate(h){this._sortPredicate=h}reset(){const h=this._element,l=this._previousSwap;for(let y=this._relatedNodes.length-1;y>-1;y--){const[P,C]=this._relatedNodes[y];P.parentNode===h&&P.nextSibling!==C&&(null===C?h.appendChild(P):C.parentNode===h&&h.insertBefore(P,C))}this._relatedNodes=[],this._activeItems=[],l.drag=null,l.deltaX=l.deltaY=0,l.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(h){return this._activeItems.indexOf(h)}getItemAtIndex(h){return this._activeItems[h]||null}updateOnScroll(){this._activeItems.forEach(h=>{this._dragDropRegistry.isDragging(h)&&h._sortFromLastPointerPosition()})}withElementContainer(h){h!==this._element&&(this._element=h,this._rootNode=void 0)}_getItemIndexFromPointerPosition(h,l,y){const P=this._getRootNode().elementFromPoint(Math.floor(l),Math.floor(y)),C=P?this._activeItems.findIndex(I=>{const W=I.getRootElement();return P===W||W.contains(P)}):-1;return-1!==C&&this._sortPredicate(C,h)?C:-1}_getRootNode(){return this._rootNode||(this._rootNode=Kn(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(h,l,y){if(0===this._activeItems.length)return-1;if(1===this._activeItems.length)return 0;let P=1/0,C=-1;for(let I=0;I<this._activeItems.length;I++){const W=this._activeItems[I];if(W!==h){const{x:X,y:z}=W.getRootElement().getBoundingClientRect(),pe=Math.hypot(l-X,y-z);pe<P&&(P=pe,C=I)}}return C}}var $n=function(u){return u[u.NONE=0]="NONE",u[u.UP=1]="UP",u[u.DOWN=2]="DOWN",u}($n||{}),On=function(u){return u[u.NONE=0]="NONE",u[u.LEFT=1]="LEFT",u[u.RIGHT=2]="RIGHT",u}(On||{});function Ts(u,h){return new Ho(h,u.get(Wo),u.get(v.qQL),u.get(v.SKi),u.get(_t))}class Ho{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis=null;autoScrollDisabled=!1;autoScrollStep=2;hasAnchor=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new ei.B7;entered=new ei.B7;exited=new ei.B7;dropped=new ei.B7;sorted=new ei.B7;receivingStarted=new ei.B7;receivingStopped=new ei.B7;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=Be.y.EMPTY;_verticalScrollDirection=$n.NONE;_horizontalScrollDirection=On.NONE;_scrollNode;_stopScrollTimers=new ei.B7;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(h,l,y,P,C){this._dragDropRegistry=l,this._ngZone=P,this._viewportRuler=C;const I=this.element=$a(h);this._document=y,this.withOrientation("vertical").withElementContainer(I),l.registerDropContainer(this),this._parentPositions=new Bu(y)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(h,l,y,P){this._draggingStarted(),null==P&&this.sortingDisabled&&(P=this._draggables.indexOf(h)),this._sortStrategy.enter(h,l,y,P),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:h,container:this,currentIndex:this.getItemIndex(h)})}exit(h){this._reset(),this.exited.next({item:h,container:this})}drop(h,l,y,P,C,I,W,X={}){this._reset(),this.dropped.next({item:h,currentIndex:l,previousIndex:y,container:this,previousContainer:P,isPointerOverContainer:C,distance:I,dropPoint:W,event:X})}withItems(h){const l=this._draggables;return this._draggables=h,h.forEach(y=>y._withDropContainer(this)),this.isDragging()&&(l.filter(P=>P.isDragging()).every(P=>-1===h.indexOf(P))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(h){return this._direction=h,this._sortStrategy instanceof Yr&&(this._sortStrategy.direction=h),this}connectedTo(h){return this._siblings=h.slice(),this}withOrientation(h){if("mixed"===h)this._sortStrategy=new ju(this._document,this._dragDropRegistry);else{const l=new Yr(this._dragDropRegistry);l.direction=this._direction,l.orientation=h,this._sortStrategy=l}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((l,y)=>this.sortPredicate(l,y,this)),this}withScrollableParents(h){const l=this._container;return this._scrollableElements=-1===h.indexOf(l)?[l,...h]:h.slice(),this}withElementContainer(h){if(h===this._container)return this;$a(this.element);const y=this._scrollableElements.indexOf(this._container),P=this._scrollableElements.indexOf(h);return y>-1&&this._scrollableElements.splice(y,1),P>-1&&this._scrollableElements.splice(P,1),this._sortStrategy&&this._sortStrategy.withElementContainer(h),this._cachedShadowRoot=null,this._scrollableElements.unshift(h),this._container=h,this}getScrollableParents(){return this._scrollableElements}getItemIndex(h){return this._isDragging?this._sortStrategy.getItemIndex(h):this._draggables.indexOf(h)}getItemAtIndex(h){return this._isDragging?this._sortStrategy.getItemAtIndex(h):this._draggables[h]||null}isReceiving(){return this._activeSiblings.size>0}_sortItem(h,l,y,P){if(this.sortingDisabled||!this._domRect||!nh(this._domRect,.05,l,y))return;const C=this._sortStrategy.sort(h,l,y,P);C&&this.sorted.next({previousIndex:C.previousIndex,currentIndex:C.currentIndex,container:this,item:h})}_startScrollingIfNecessary(h,l){if(this.autoScrollDisabled)return;let y,P=$n.NONE,C=On.NONE;if(this._parentPositions.positions.forEach((I,W)=>{W===this._document||!I.clientRect||y||nh(I.clientRect,.05,h,l)&&([P,C]=function cc(u,h,l,y,P){const C=fr(h,P),I=Ds(h,y);let W=$n.NONE,X=On.NONE;if(C){const z=u.scrollTop;C===$n.UP?z>0&&(W=$n.UP):u.scrollHeight-z>u.clientHeight&&(W=$n.DOWN)}if(I){const z=u.scrollLeft;"rtl"===l?I===On.RIGHT?z<0&&(X=On.RIGHT):u.scrollWidth+z>u.clientWidth&&(X=On.LEFT):I===On.LEFT?z>0&&(X=On.LEFT):u.scrollWidth-z>u.clientWidth&&(X=On.RIGHT)}return[W,X]}(W,I.clientRect,this._direction,h,l),(P||C)&&(y=W))}),!P&&!C){const{width:I,height:W}=this._viewportRuler.getViewportSize(),X={width:I,height:W,top:0,right:I,bottom:W,left:0};P=fr(X,l),C=Ds(X,h),y=window}y&&(P!==this._verticalScrollDirection||C!==this._horizontalScrollDirection||y!==this._scrollNode)&&(this._verticalScrollDirection=P,this._horizontalScrollDirection=C,this._scrollNode=y,(P||C)&&y?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const h=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=h.msScrollSnapType||h.scrollSnapType||"",h.scrollSnapType=h.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;const h=this._container.style;h.scrollSnapType=h.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(l=>l._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),function Tt(u=0,h=_a.b){return(!at(u)||u<0)&&(u=0),(!h||"function"!=typeof h.schedule)&&(h=_a.b),new bs.c(l=>(l.add(h.schedule(Ot,u,{subscriber:l,counter:0,period:u})),l))}(0,yn).pipe(wn(this._stopScrollTimers)).subscribe(()=>{const h=this._scrollNode,l=this.autoScrollStep;this._verticalScrollDirection===$n.UP?h.scrollBy(0,-l):this._verticalScrollDirection===$n.DOWN&&h.scrollBy(0,l),this._horizontalScrollDirection===On.LEFT?h.scrollBy(-l,0):this._horizontalScrollDirection===On.RIGHT&&h.scrollBy(l,0)})};_isOverContainer(h,l){return null!=this._domRect&&_r(this._domRect,h,l)}_getSiblingContainerFromPosition(h,l,y){return this._siblings.find(P=>P._canReceive(h,l,y))}_canReceive(h,l,y){if(!this._domRect||!_r(this._domRect,l,y)||!this.enterPredicate(h,this))return!1;const P=this._getShadowRoot().elementFromPoint(l,y);return!!P&&(P===this._container||this._container.contains(P))}_startReceiving(h,l){const y=this._activeSiblings;!y.has(h)&&l.every(P=>this.enterPredicate(P,this)||this._draggables.indexOf(P)>-1)&&(y.add(h),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:h,receiver:this,items:l}))}_stopReceiving(h){this._activeSiblings.delete(h),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:h,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(h=>{if(this.isDragging()){const l=this._parentPositions.handleScroll(h);l&&this._sortStrategy.updateOnScroll(l.top,l.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const h=Kn(this._container);this._cachedShadowRoot=h||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const h=this._sortStrategy.getActiveItemsSnapshot().filter(l=>l.isDragging());this._siblings.forEach(l=>l._startReceiving(this,h))}}function fr(u,h){const{top:l,bottom:y,height:P}=u,C=.05*P;return h>=l-C&&h<=l+C?$n.UP:h>=y-C&&h<=y+C?$n.DOWN:$n.NONE}function Ds(u,h){const{left:l,right:y,width:P}=u,C=.05*P;return h>=l-C&&h<=l+C?On.LEFT:h>=y-C&&h<=y+C?On.RIGHT:On.NONE}let Vu=(()=>{class u{_injector=(0,v.WQX)(v.zZn);constructor(){}createDrag(l,y){return rh(this._injector,l,y)}createDropList(l){return Ts(this._injector,l)}static \u0275fac=function(y){return new(y||u)};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();const vr=new v.nKC("CDK_DRAG_PARENT"),jo=new v.nKC("CdkDragHandle"),Ha=new v.nKC("CDK_DRAG_CONFIG"),Xr=new v.nKC("CdkDropList");let uc=(()=>{class u{element=(0,v.WQX)(e.aKT);dropContainer=(0,v.WQX)(Xr,{optional:!0,skipSelf:!0});_ngZone=(0,v.WQX)(v.SKi);_viewContainerRef=(0,v.WQX)(e.c1b);_dir=(0,v.WQX)(Ru,{optional:!0});_changeDetectorRef=(0,v.WQX)(t.gRc);_selfHandle=(0,v.WQX)(jo,{optional:!0,self:!0});_parentDrag=(0,v.WQX)(vr,{optional:!0,skipSelf:!0});_dragDropRegistry=(0,v.WQX)(Wo);_destroyed=new ei.B7;_handles=new Ji.t([]);_previewTemplate=null;_placeholderTemplate=null;_dragRef;data;lockAxis=null;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!(!this.dropContainer||!this.dropContainer.disabled)}set disabled(l){this._disabled=l,this._dragRef.disabled=this._disabled}_disabled=!1;constrainPosition;previewClass;previewContainer;scale=1;started=new v.bkB;released=new v.bkB;ended=new v.bkB;entered=new v.bkB;exited=new v.bkB;dropped=new v.bkB;moved=new bs.c(l=>{const y=this._dragRef.moved.pipe((0,Lo.T)(P=>({source:this,pointerPosition:P.pointerPosition,event:P.event,delta:P.delta,distance:P.distance}))).subscribe(l);return()=>{y.unsubscribe()}});_injector=(0,v.WQX)(v.zZn);constructor(){const l=this.dropContainer,y=(0,v.WQX)(Ha,{optional:!0});this._dragRef=rh(this._injector,this.element,{dragStartThreshold:y&&null!=y.dragStartThreshold?y.dragStartThreshold:5,pointerDirectionChangeThreshold:y&&null!=y.pointerDirectionChangeThreshold?y.pointerDirectionChangeThreshold:5,zIndex:y?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),y&&this._assignDefaults(y),l&&(l.addItem(this),l._dropListRef.beforeStarted.pipe(wn(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(l){this._dragRef.setFreeDragPosition(l)}ngAfterViewInit(){(0,e.mal)(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(l){const y=l.rootElementSelector,P=l.freeDragPosition;y&&!y.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,P&&!P.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(l){const y=this._handles.getValue();y.push(l),this._handles.next(y)}_removeHandle(l){const y=this._handles.getValue(),P=y.indexOf(l);P>-1&&(y.splice(P,1),this._handles.next(y))}_setPreviewTemplate(l){this._previewTemplate=l}_resetPreviewTemplate(l){l===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(l){this._placeholderTemplate=l}_resetPlaceholderTemplate(l){l===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const l=this.element.nativeElement;let y=l;this.rootElementSelector&&(y=void 0!==l.closest?l.closest(this.rootElementSelector):l.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(y||l)}_getBoundaryElement(){const l=this.boundaryElement;return l?"string"==typeof l?this.element.nativeElement.closest(l):$a(l):null}_syncInputs(l){l.beforeStarted.subscribe(()=>{if(!l.isDragging()){const y=this._dir,P=this.dragStartDelay,C=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,I=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;l.disabled=this.disabled,l.lockAxis=this.lockAxis,l.scale=this.scale,l.dragStartDelay="object"==typeof P&&P?P:Io(P),l.constrainPosition=this.constrainPosition,l.previewClass=this.previewClass,l.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(C).withPreviewTemplate(I).withPreviewContainer(this.previewContainer||"global"),y&&l.withDirection(y.value)}}),l.beforeStarted.pipe(function Ft(u){return h=>0===u?(0,Zp.I)():h.lift(new Nr(u))}(1)).subscribe(()=>{if(this._parentDrag)return void l.withParent(this._parentDrag._dragRef);let y=this.element.nativeElement.parentElement;for(;y;){const P=this._dragDropRegistry.getDragDirectiveForNode(y);if(P){l.withParent(P._dragRef);break}y=y.parentElement}})}_handleEvents(l){l.started.subscribe(y=>{this.started.emit({source:this,event:y.event}),this._changeDetectorRef.markForCheck()}),l.released.subscribe(y=>{this.released.emit({source:this,event:y.event})}),l.ended.subscribe(y=>{this.ended.emit({source:this,distance:y.distance,dropPoint:y.dropPoint,event:y.event}),this._changeDetectorRef.markForCheck()}),l.entered.subscribe(y=>{this.entered.emit({container:y.container.data,item:this,currentIndex:y.currentIndex})}),l.exited.subscribe(y=>{this.exited.emit({container:y.container.data,item:this})}),l.dropped.subscribe(y=>{this.dropped.emit({previousIndex:y.previousIndex,currentIndex:y.currentIndex,previousContainer:y.previousContainer.data,container:y.container.data,isPointerOverContainer:y.isPointerOverContainer,item:this,distance:y.distance,dropPoint:y.dropPoint,event:y.event})})}_assignDefaults(l){const{lockAxis:y,dragStartDelay:P,constrainPosition:C,previewClass:I,boundaryElement:W,draggingDisabled:X,rootElementSelector:z,previewContainer:pe}=l;this.disabled=X??!1,this.dragStartDelay=P||0,this.lockAxis=y||null,C&&(this.constrainPosition=C),I&&(this.previewClass=I),W&&(this.boundaryElement=W),z&&(this.rootElementSelector=z),pe&&(this.previewContainer=pe)}_setupHandlesListener(){this._handles.pipe((0,ec.M)(l=>{const y=l.map(P=>P.element);this._selfHandle&&this.rootElementSelector&&y.push(this.element),this._dragRef.withHandles(y)}),(0,I_.n)(l=>ke(...l.map(y=>y._stateChanges.pipe(mr(y))))),wn(this._destroyed)).subscribe(l=>{const y=this._dragRef,P=l.element.nativeElement;l.disabled?y.disableHandle(P):y.enableHandle(P)})}static \u0275fac=function(y){return new(y||u)};static \u0275dir=e.FsC({type:u,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(y,P){2&y&&e.AVh("cdk-drag-disabled",P.disabled)("cdk-drag-dragging",P._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",t.L39],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",t.Udg]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[e.Jv_([{provide:vr,useExisting:u}]),e.OA$]})}return u})();const Oa=new v.nKC("CdkDropListGroup");let zo=(()=>{class u{element=(0,v.WQX)(e.aKT);_changeDetectorRef=(0,v.WQX)(t.gRc);_scrollDispatcher=(0,v.WQX)(N);_dir=(0,v.WQX)(Ru,{optional:!0});_group=(0,v.WQX)(Oa,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new ei.B7;_scrollableParentsResolved=!1;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation="vertical";id=(0,v.WQX)(Kr).getId("cdk-drop-list-");lockAxis=null;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(l){this._dropListRef.disabled=this._disabled=l}_disabled=!1;sortingDisabled=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled=!1;autoScrollStep;elementContainerSelector=null;hasAnchor=!1;dropped=new v.bkB;entered=new v.bkB;exited=new v.bkB;sorted=new v.bkB;_unsortedItems=new Set;constructor(){const l=(0,v.WQX)(Ha,{optional:!0}),y=(0,v.WQX)(v.zZn);this._dropListRef=Ts(y,this.element),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(P,C)=>this.enterPredicate(P.data,C.data),this._dropListRef.sortPredicate=(P,C,I)=>this.sortPredicate(P,C.data,I.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),u._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(l){this._unsortedItems.add(l),l._dragRef._withDropContainer(this._dropListRef),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(y=>y._dragRef))}removeItem(l){if(this._unsortedItems.delete(l),this._latestSortedRefs){const y=this._latestSortedRefs.indexOf(l._dragRef);y>-1&&(this._latestSortedRefs.splice(y,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((l,y)=>l._dragRef.getVisibleElement().compareDocumentPosition(y._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const l=u._dropLists.indexOf(this);l>-1&&u._dropLists.splice(l,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(l){this._dir&&this._dir.change.pipe(mr(this._dir.value),wn(this._destroyed)).subscribe(y=>l.withDirection(y)),l.beforeStarted.subscribe(()=>{const y=function Lu(u){return Array.isArray(u)?u:[u]}(this.connectedTo).map(P=>"string"==typeof P?u._dropLists.find(I=>I.id===P):P);if(this._group&&this._group._items.forEach(P=>{-1===y.indexOf(P)&&y.push(P)}),!this._scrollableParentsResolved){const P=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(C=>C.getElementRef().nativeElement);this._dropListRef.withScrollableParents(P),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){const P=this.element.nativeElement.querySelector(this.elementContainerSelector);l.withElementContainer(P)}l.disabled=this.disabled,l.lockAxis=this.lockAxis,l.sortingDisabled=this.sortingDisabled,l.autoScrollDisabled=this.autoScrollDisabled,l.autoScrollStep=Io(this.autoScrollStep,2),l.hasAnchor=this.hasAnchor,l.connectedTo(y.filter(P=>P&&P!==this).map(P=>P._dropListRef)).withOrientation(this.orientation)})}_handleEvents(l){l.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(y=>y._dragRef)),this._changeDetectorRef.markForCheck()}),l.entered.subscribe(y=>{this.entered.emit({container:this,item:y.item.data,currentIndex:y.currentIndex})}),l.exited.subscribe(y=>{this.exited.emit({container:this,item:y.item.data}),this._changeDetectorRef.markForCheck()}),l.sorted.subscribe(y=>{this.sorted.emit({previousIndex:y.previousIndex,currentIndex:y.currentIndex,container:this,item:y.item.data})}),l.dropped.subscribe(y=>{this.dropped.emit({previousIndex:y.previousIndex,currentIndex:y.currentIndex,previousContainer:y.previousContainer.data,container:y.container.data,item:y.item.data,isPointerOverContainer:y.isPointerOverContainer,distance:y.distance,dropPoint:y.dropPoint,event:y.event}),this._changeDetectorRef.markForCheck()}),ke(l.receivingStarted,l.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(l){const{lockAxis:y,draggingDisabled:P,sortingDisabled:C,listAutoScrollDisabled:I,listOrientation:W}=l;this.disabled=P??!1,this.sortingDisabled=C??!1,this.autoScrollDisabled=I??!1,this.orientation=W||"vertical",this.lockAxis=y||null}_syncItemsWithRef(l){this._latestSortedRefs=l,this._dropListRef.withItems(l)}static \u0275fac=function(y){return new(y||u)};static \u0275dir=e.FsC({type:u,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(y,P){2&y&&(e.BMQ("id",P.id),e.AVh("cdk-drop-list-disabled",P.disabled)("cdk-drop-list-dragging",P._dropListRef.isDragging())("cdk-drop-list-receiving",P._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",t.L39],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",t.L39],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",t.L39],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"],hasAnchor:[2,"cdkDropListHasAnchor","hasAnchor",t.L39]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[e.Jv_([{provide:Oa,useValue:void 0},{provide:Xr,useExisting:u}])]})}return u})(),Yu=(()=>{class u{static \u0275fac=function(y){return new(y||u)};static \u0275mod=e.$C({type:u});static \u0275inj=v.G2t({providers:[Vu],imports:[Ro]})}return u})();var Xu=i(95892),Mt=i(62223),ba=i(38129);let Ju=(()=>{class u{el;renderer;tooltipText=null;tooltipElement=null;currentTooltipText=null;constructor(l,y){this.el=l,this.renderer=y}onShow(){const l=this.formatTooltipText(this.tooltipText);l?(this.currentTooltipText=l,this.ensureTooltipElements(),this.tooltipElement&&(this.tooltipElement.textContent=l,this.renderer.setAttribute(this.tooltipElement,"role","tooltip"),this.updatePosition(l))):this.removeTooltip()}onHide(){this.removeTooltip()}onViewportChange(){!this.currentTooltipText||!this.tooltipElement||this.updatePosition(this.currentTooltipText)}ngOnDestroy(){this.removeTooltip()}updatePosition(l){if(!this.tooltipElement)return;const y=this.el.nativeElement.getBoundingClientRect(),P=window.innerWidth,C=window.innerHeight,I=12,X=12,z=Math.min(420,P-24),pe=Math.min(360,C-24),{width:Me,height:Re}=this.measureTooltip(l,z,pe),ft=this.clamp(y.left+y.width/2-Me/2,I,P-Me-I),ht=y.top,st=C-y.bottom,Pt=Re+X+0;let vt="top";const It=P-y.right>=Me+X+0;It||y.left>=Me+X+0?vt=It?"right":"left":ht<Pt&&st>=Pt?vt="bottom":ht<Pt&&st<Pt&&(vt=ht>=st?"top":"bottom");let di=y.top-Re-X-0,Ut=ft;"bottom"===vt&&(di=y.bottom+X+0),"right"===vt&&(Ut=this.clamp(y.right+X+0,I,P-Me-I),di=this.clamp(y.top+y.height/2-Re/2,I,C-Re-I)),"left"===vt&&(Ut=this.clamp(y.left-Me-X-0,I,P-Me-I),di=this.clamp(y.top+y.height/2-Re/2,I,C-Re-I)),this.renderer.setStyle(this.tooltipElement,"left",`${Ut}px`),this.renderer.setStyle(this.tooltipElement,"top",`${di}px`),this.renderer.setStyle(this.tooltipElement,"max-width",`${z}px`),this.renderer.setStyle(this.tooltipElement,"max-height",`${pe}px`),this.renderer.setAttribute(this.tooltipElement,"data-placement",vt)}measureTooltip(l,y,P){const C=document.createElement("div");C.textContent=l,C.style.position="fixed",C.style.visibility="hidden",C.style.pointerEvents="none",C.style.fontSize="0.72rem",C.style.lineHeight="1.2",C.style.padding="0.45rem 0.6rem",C.style.borderRadius="8px",C.style.maxWidth=`${y}px`,C.style.maxHeight=`${P}px`,C.style.whiteSpace="pre-wrap",C.style.overflow="visible",C.style.boxSizing="border-box",C.style.width="max-content",document.body.appendChild(C);let I=C.getBoundingClientRect();return I.width>y&&(C.style.width=`${y}px`,I=C.getBoundingClientRect()),document.body.removeChild(C),{width:I.width,height:I.height}}ensureTooltipElements(){this.tooltipElement||(this.tooltipElement=this.renderer.createElement("div"),this.renderer.addClass(this.tooltipElement,"sap-floating-tooltip"),this.renderer.appendChild(document.body,this.tooltipElement))}removeTooltip(){this.currentTooltipText=null,this.tooltipElement&&(this.renderer.removeChild(document.body,this.tooltipElement),this.tooltipElement=null)}formatTooltipText(l){return l?l.trim().replace(/\s*(Level\s+\d+\s*[:-])/gi,"\n$1").replace(/^\n+/,"").replace(/\n{3,}/g,"\n\n"):""}clamp(l,y,P){return Math.min(Math.max(l,y),P)}static \u0275fac=function(y){return new(y||u)(e.rXU(e.aKT),e.rXU(e.sFG))};static \u0275dir=e.FsC({type:u,selectors:[["","appTooltip",""]],hostBindings:function(y,P){1&y&&e.bIt("mouseenter",function(){return P.onShow()})("focus",function(){return P.onShow()})("mouseleave",function(){return P.onHide()})("blur",function(){return P.onHide()})("resize",function(){return P.onViewportChange()},e.tSv)("scroll",function(){return P.onViewportChange()},e.tSv)},inputs:{tooltipText:[0,"appTooltip","tooltipText"]}})}return u})();var Ms=i(56990),oa=i(90966),Vs=i(26886);const dc=["searchInput"];function Xo(u,h){if(1&u&&e.nrm(0,"img",21),2&u){const l=h.ngIf,y=e.XpG().$implicit;e.Y8G("ngSrc",l)("alt",y)}}function Jo(u,h){if(1&u){const l=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){const P=v.eBV(l).$implicit,C=e.XpG(2);return v.Njj(C.selectPack(P))}),e.j41(1,"span",19),e.DNE(2,Xo,1,2,"img",20),e.j41(3,"span"),e.EFF(4),e.k0s()()()}if(2&u){const l=h.$implicit,y=e.XpG(2);e.AVh("btn-primary",y.selectedPack===l)("btn-outline-primary",y.selectedPack!==l),e.R7$(2),e.Y8G("ngIf",y.getPackFilterIcon(l)),e.R7$(2),e.JRh(l)}}function N_(u,h){if(1&u&&(e.j41(0,"div",16),e.DNE(1,Jo,5,6,"button",17),e.k0s()),2&u){const l=e.XpG();e.R7$(),e.Y8G("ngForOf",l.availablePacks)("ngForTrackBy",l.trackByPack)}}function U_(u,h){if(1&u&&e.nrm(0,"img",21),2&u){const l=h.ngIf,y=e.XpG().$implicit;e.Y8G("ngSrc",l)("alt",y)}}function lA(u,h){if(1&u){const l=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){const P=v.eBV(l).$implicit,C=e.XpG(2);return v.Njj(C.selectPack(P))}),e.j41(1,"span",19),e.DNE(2,U_,1,2,"img",20),e.j41(3,"span"),e.EFF(4),e.k0s()()()}if(2&u){const l=h.$implicit,y=e.XpG(2);e.AVh("btn-primary",y.selectedPack===l)("btn-outline-primary",y.selectedPack!==l),e.R7$(2),e.Y8G("ngIf",y.getPackFilterIcon(l)),e.R7$(2),e.JRh(l)}}function Qu(u,h){if(1&u&&(e.j41(0,"div",16),e.DNE(1,lA,5,6,"button",17),e.k0s()),2&u){const l=e.XpG();e.R7$(),e.Y8G("ngForOf",l.abilityPackFilters)("ngForTrackBy",l.trackByPack)}}function pc(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",22)(1,"div",23)(2,"input",24),e.bIt("change",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.selectedLevel=1)}),e.k0s(),e.j41(3,"label",25),e.EFF(4,"Lv. 1"),e.k0s(),e.j41(5,"input",26),e.bIt("change",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.selectedLevel=2)}),e.k0s(),e.j41(6,"label",27),e.EFF(7,"Lv. 2"),e.k0s(),e.j41(8,"input",28),e.bIt("change",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.selectedLevel=3)}),e.k0s(),e.j41(9,"label",29),e.EFF(10,"Lv. 3"),e.k0s()()()}if(2&u){const l=e.XpG();e.R7$(2),e.Y8G("checked",1===l.selectedLevel),e.R7$(3),e.Y8G("checked",2===l.selectedLevel),e.R7$(3),e.Y8G("checked",3===l.selectedLevel)}}function dh(u,h){if(1&u){const l=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){const P=v.eBV(l).$implicit,C=e.XpG(2);return v.Njj(C.selectItemCategory(P))}),e.EFF(1),e.k0s()}if(2&u){const l=h.$implicit,y=e.XpG(2);e.AVh("btn-primary",y.selectedItemCategory===l)("btn-outline-primary",y.selectedItemCategory!==l),e.R7$(),e.SpI(" ",l," ")}}function W_(u,h){if(1&u&&(e.j41(0,"div",16),e.DNE(1,dh,2,5,"button",17),e.k0s()),2&u){const l=e.XpG();e.R7$(),e.Y8G("ngForOf",l.availableItemCategories)("ngForTrackBy",l.trackByCategory)}}function Qo(u,h){1&u&&(e.j41(0,"div",30)(1,"span",31),e.EFF(2,"\u26a0"),e.k0s(),e.j41(3,"span"),e.EFF(4,"Equipment & Toys are "),e.j41(5,"strong"),e.EFF(6,"non-vanilla"),e.k0s(),e.EFF(7," features and are indicated by a yellow border."),e.k0s()())}function ph(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",32),e.bIt("click",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.onItemClick(null))}),e.j41(1,"div",33)(2,"span",34),e.EFF(3,"None"),e.k0s()(),e.j41(4,"div",35),e.EFF(5,"None"),e.k0s()()}}function hc(u,h){if(1&u&&(e.j41(0,"div",39),e.EFF(1),e.k0s()),2&u){const l=e.XpG().$implicit;e.R7$(),e.SpI(" ",l.category," ")}}function hh(u,h){if(1&u&&e.nrm(0,"img",42),2&u){const l=e.XpG(2).$implicit;e.Y8G("ngSrc",l.icon)("alt",l.name)}}function gh(u,h){if(1&u&&(e.j41(0,"div",43),e.EFF(1),e.k0s()),2&u){const l=e.XpG(2).$implicit;e.Y8G("ngClass","tier-badge-tier-"+l.tier),e.R7$(),e.SpI(" ",l.tier," ")}}function mh(u,h){if(1&u&&(e.qex(0),e.DNE(1,hh,1,2,"img",40)(2,gh,2,2,"div",41),e.bVm()),2&u){const l=e.XpG().$implicit,y=e.XpG();e.R7$(),e.Y8G("ngIf",l.icon),e.R7$(),e.Y8G("ngIf",l.tier>0&&"hard-toy"!==y.type)}}function qu(u,h){if(1&u&&e.nrm(0,"img",46),2&u){const l=h.$implicit,y=e.XpG(2).$implicit;e.Y8G("ngSrc",l)("alt",y.name)}}function gc(u,h){if(1&u&&(e.j41(0,"div",44),e.DNE(1,qu,1,2,"img",45),e.k0s()),2&u){const l=e.XpG().$implicit,y=e.XpG();e.R7$(),e.Y8G("ngForOf",l.icons)("ngForTrackBy",y.trackByIndex)}}function _h(u,h){if(1&u){const l=e.RV6();e.qex(0),e.DNE(1,hc,2,1,"div",36),e.j41(2,"div",37),e.bIt("click",function(){const P=v.eBV(l).$implicit,C=e.XpG();return v.Njj(C.onItemClick(P))}),e.j41(3,"div",33),e.DNE(4,mh,3,2,"ng-container",38)(5,gc,2,2,"ng-template",null,1,e.C5r),e.k0s(),e.j41(7,"div",35),e.EFF(8),e.k0s()(),e.bVm()}if(2&u){const l=h.$implicit,y=h.index,P=e.sdS(6),C=e.XpG();e.R7$(),e.Y8G("ngIf",0===y||C.filteredItems[y-1].category!==l.category),e.R7$(),e.AVh("item-card-disabled",l.isDisabled)("team-card","team"===C.type),e.Y8G("appTooltip",l.tooltip||l.displayName||l.name),e.R7$(),e.AVh("team-container","team"===C.type),e.R7$(),e.Y8G("ngIf","team"!==C.type)("ngIfElse",P),e.R7$(4),e.JRh(l.displayName||l.name)}}function Zu(u,h){if(1&u&&(e.j41(0,"div",47),e.EFF(1),e.k0s()),2&u){const l=e.XpG();e.R7$(),e.SpI(' No items found matching "',l.searchQuery,'" ')}}let mc=(()=>{class u{petService;equipmentService;toyService;type="pet";currentPack="Turtle";showTokenPets=!1;showAllPets=!1;customPacks=null;savedTeams=[];lockAbilityLevel=!1;initialLevel=1;select=new v.bkB;close=new v.bkB;searchInput;searchQuery="";selectedPack="All";availablePacks=["All",...ba.d,"Tokens"];selectedItemCategory="All";availableItemCategories=["All"];selectedLevel=1;items=[];filteredItems=[];customPacksSubscription=null;basePetItems=null;tokenItems=[];equipmentItems=null;toyItems=null;hardToyItems=null;searchDebounceHandle=null;trackByPack(l,y){return y??String(l)}trackByCategory(l,y){return y??String(l)}trackByItem(l,y){return y?.id??y?.name??l}trackByIndex(l){return l}get shouldShowNoneCard(){return"swallowed-pet"!==this.type&&"ability"!==this.type&&"pack"!==this.type&&"team"!==this.type&&0===this.searchQuery.trim().length}constructor(l,y,P){this.petService=l,this.equipmentService=y,this.toyService=P}ngOnInit(){this.selectedLevel=this.clampLevel(this.initialLevel),this.updateAvailablePacks(),this.customPacks&&this.customPacks instanceof ue.Yp&&(this.customPacksSubscription=this.customPacks.valueChanges.subscribe(()=>{this.updateAvailablePacks(),this.loadItems()})),this.showAllPets?this.selectedPack="All":this.currentPack&&"custom"!==this.currentPack&&(this.selectedPack=this.currentPack),this.availablePacks.includes(this.selectedPack)||(this.selectedPack="All"),this.loadItems()}ngAfterViewInit(){setTimeout(()=>{this.searchInput?.nativeElement?.focus(),this.searchInput?.nativeElement?.select()})}ngOnDestroy(){this.customPacksSubscription&&this.customPacksSubscription.unsubscribe(),this.searchDebounceHandle&&(clearTimeout(this.searchDebounceHandle),this.searchDebounceHandle=null)}updateAvailablePacks(){if(this.availablePacks=["All",...ba.d,"Tokens"],this.customPacks&&this.customPacks instanceof ue.Yp){const l=this.customPacks;for(const y of l.controls){const P=y.get("name")?.value;P&&y.valid&&this.availablePacks.push(P)}}this.availablePacks.includes(this.selectedPack)||(this.selectedPack="All")}loadItems(){"pet"===this.type||"swallowed-pet"===this.type?this.loadPets():"equipment"===this.type?this.loadEquipment():"toy"===this.type?this.loadToys(!1):"hard-toy"===this.type?this.loadToys(!0):"pack"===this.type?this.loadPacks():"team"===this.type?this.loadTeams():"ability"===this.type&&this.loadAbilities(),this.updateAvailableItemCategories(),this.filterItems()}loadPets(){const l=[];if(!this.basePetItems){const P=[];for(const C of ba.d){const I=this.petService.basePackPetsByName[C];if(I)for(const[W,X]of I)X.forEach(z=>{P.push({name:z,displayName:z,tier:W,pack:C,icon:(0,Mt.EA)(z),tooltip:(0,Mt.XR)(z),type:"pet",category:`Tier ${W}`})})}this.basePetItems=P}if(l.push(...this.basePetItems),this.customPacks&&this.customPacks instanceof ue.Yp){const P=this.customPacks;for(const C of P.controls){const I=C.get("name")?.value;if(!I||!C.valid)continue;const W=this.petService.playerCustomPackPets.get(I);if(W)for(const[X,z]of W)z.forEach(pe=>{l.push({name:pe,displayName:pe,tier:X,pack:I,icon:(0,Mt.EA)(pe),tooltip:(0,Mt.XR)(pe),type:"pet",category:`Tier ${X}`})})}}this.tokenItems=this.buildTokenItems(),l.push(...this.tokenItems);const y=new Map;l.forEach(P=>{const C=y.get(P.name);C?"Tokens"===C.pack&&"Tokens"!==P.pack&&y.set(P.name,P):y.set(P.name,P)}),this.items=Array.from(y.values())}loadEquipment(){if(!this.equipmentItems){const l=[],y=this.equipmentService.getInstanceOfAllEquipment(),P=this.equipmentService.getInstanceOfAllAilments();y.forEach((C,I)=>{"Corncob"===C?.name||"Mana Potion"===C?.name||l.push({name:I,displayName:C.name,tier:C.tier||0,icon:(0,Mt.ht)(C.name),tooltip:(0,Mt.yx)(C.name),type:"equipment",category:C.tier?`Tier ${C.tier}`:"Perks",item:C})}),P.forEach((C,I)=>{l.push({name:I,displayName:C.name,tier:0,icon:(0,Mt.ht)(C.name,!0),tooltip:(0,Mt.yx)(C.name),type:"ailment",category:"Ailments",item:C})}),this.equipmentItems=l}this.items=this.equipmentItems}loadTeams(){const l=Array.isArray(this.savedTeams)?this.savedTeams:[];this.items=l.map(y=>{const P=(y.pets||[]).map(I=>I?.name).filter(Boolean).slice(0,5),C=P.map(I=>(0,Mt.EA)(I));return{id:y.id,name:y.name,displayName:y.name,tier:0,icon:null,icons:C,tooltip:P.join(", "),type:"team",category:"Saved Teams"}})}loadToys(l){if(!(l?this.hardToyItems:this.toyItems)){const P=[];this.toyService.getToysByType(l?1:0).forEach((I,W)=>{I.forEach(X=>{P.push({name:X,displayName:X,tier:W,icon:(0,Mt.bG)(X),tooltip:(0,Mt.Mw)(X),type:l?"hard-toy":"toy",category:`Tier ${W}`,item:X})})}),l?this.hardToyItems=P:this.toyItems=P}this.items=l?this.hardToyItems:this.toyItems}loadPacks(){const l=[];for(const y of ba.d)"Custom"!==y&&l.push({name:y,displayName:y,tier:0,icon:(0,Mt.qK)(y),type:"pack",category:"Packs"});if(this.customPacks&&this.customPacks instanceof ue.Yp){const y=this.customPacks;for(const P of y.controls){const C=P.get("name")?.value;if(C&&P.valid){const I=this.getFirstCustomPackPet(P);l.push({name:C,displayName:C,tier:0,icon:I?(0,Mt.EA)(I):(0,Mt.qK)(C),type:"pack",category:"Custom Packs"})}}}l.push({name:"Add Custom Pack",displayName:"+ Add Custom Pack",tier:0,icon:(0,Mt.EA)("White Tiger"),type:"pack",category:"Custom Packs"}),this.items=l}filterItems(){let l=this.items;if(("pet"===this.type||"swallowed-pet"===this.type)&&("Tokens"===this.selectedPack?l=this.tokenItems:"All"!==this.selectedPack&&(l=l.filter(y=>y.pack===this.selectedPack||"swallowed-pet"===this.type&&"Tokens"===y.pack))),"ability"===this.type&&"All"!==this.selectedPack&&(l=l.filter("Tokens"===this.selectedPack?y=>"Tokens"===y.pack:"Equipment"===this.selectedPack?y=>"equipment"===y.type||"ailment"===y.type:"Toys"===this.selectedPack?y=>"toy"===y.type||"hard-toy"===y.type:y=>y.pack===this.selectedPack||y.isDisabled)),("equipment"===this.type||"toy"===this.type||"hard-toy"===this.type)&&"All"!==this.selectedItemCategory&&(l=l.filter(y=>y.category===this.selectedItemCategory)),this.searchQuery){const y=this.searchQuery.toLowerCase();l=l.filter(P=>P.name.toLowerCase().includes(y)||P.displayName&&P.displayName.toLowerCase().includes(y))}this.filteredItems=[...l].sort((y,P)=>{if("ability"===this.type){const C=W=>"pet"===W.type?0:"equipment"===W.type||"ailment"===W.type?1:2,I=C(y)-C(P);if(0!==I)return I}return"Ailments"===y.category&&"Ailments"!==P.category?1:"Ailments"!==y.category&&"Ailments"===P.category?-1:y.category!==P.category?y.category.localeCompare(P.category):y.tier!==P.tier?y.tier-P.tier:y.name.localeCompare(P.name)})}onSearchChange(){this.searchDebounceHandle&&clearTimeout(this.searchDebounceHandle),this.searchDebounceHandle=setTimeout(()=>{this.searchDebounceHandle=null,this.filterItems()},50)}selectPack(l){this.selectedPack=l,this.filterItems()}selectItemCategory(l){this.selectedItemCategory=l,this.filterItems()}getPackFilterIcon(l){if(!l||"All"===l)return null;if("Tokens"===l)return(0,Mt.EA)("Bee");if(ba.d.includes(l))return(0,Mt.qK)(l);if(this.customPacks&&this.customPacks instanceof ue.Yp){const P=this.customPacks.controls.find(C=>C.get("name")?.value===l&&C.valid);if(P){const C=this.getFirstCustomPackPet(P);if(C)return(0,Mt.EA)(C)}}return(0,Mt.qK)(l)}onItemClick(l){this.select.emit(l?"team"!==this.type?"pet"===this.type||"swallowed-pet"===this.type||"pack"===this.type?"swallowed-pet"===this.type?{name:l.name,level:this.selectedLevel}:l.name:"ability"===this.type?{name:l.name,level:this.selectedLevel}:l.item:l.id||l.name:null)}onCancel(){this.close.emit()}getFirstCustomPackPet(l){for(let y=1;y<=6;y++){const P=l.get(`tier${y}Pets`)?.value;if(Array.isArray(P)){const C=P.find(I=>!!I);if(C)return C}}return null}buildTokenItems(){const l=[];for(const[y,P]of this.petService.tokenPetsMap)P.forEach(C=>{l.push({name:C,displayName:C,tier:y,pack:"Tokens",icon:(0,Mt.EA)(C),tooltip:(0,Mt.XR)(C),type:"pet",category:"Tokens"})});return l}loadAbilities(){const l=[];if(!this.basePetItems){const W=[];for(const X of ba.d){const z=this.petService.basePackPetsByName[X];if(z)for(const[pe,Me]of z)Me.forEach(Re=>{W.push({name:Re,displayName:Re,tier:pe,pack:X,icon:(0,Mt.EA)(Re),tooltip:(0,Mt.XR)(Re),type:"pet",category:`Tier ${pe}`})})}this.basePetItems=W}const y=[];y.push(...this.basePetItems),y.push(...this.buildTokenItems());const P=new Map;y.forEach(W=>{const X=P.get(W.name);X?"Tokens"===X.pack&&"Tokens"!==W.pack&&P.set(W.name,W):P.set(W.name,W)}),l.push(...Array.from(P.values())),this.equipmentItems||this.loadEquipment();const C=(this.equipmentItems??[]).map(W=>({...W,isDisabled:!0,category:"ailment"===W.type?"Ailments":W.category??"Equipment"}));this.toyItems||this.loadToys(!1),this.hardToyItems||this.loadToys(!0);const I=[...this.toyItems??[],...this.hardToyItems??[]].map(W=>({...W,isDisabled:!0,category:"hard-toy"===W.type?`Hard Toy Tier ${W.tier}`:`Toy Tier ${W.tier}`}));this.items=[...l,...C,...I]}updateAvailableItemCategories(){if("equipment"!==this.type&&"toy"!==this.type&&"hard-toy"!==this.type)return this.availableItemCategories=["All"],void(this.selectedItemCategory="All");const l=Array.from(new Set(this.items.map(y=>y.category).filter(Boolean)));l.sort((y,P)=>{const C=this.extractTierNumber(y),I=this.extractTierNumber(P);return null!=C&&null!=I?C-I:null!=C?-1:null!=I?1:y.localeCompare(P)}),this.availableItemCategories=["All",...l],this.availableItemCategories.includes(this.selectedItemCategory)||(this.selectedItemCategory="All")}get abilityPackFilters(){return"ability"!==this.type?[]:["All",...ba.d,"Tokens","Equipment","Toys"]}extractTierNumber(l){const y=/^Tier\s+(\d+)$/i.exec(l);return y?Number(y[1]):null}clampLevel(l){const y=Number(l);return Number.isFinite(y)?Math.max(1,Math.min(3,Math.trunc(y))):1}static \u0275fac=function(y){return new(y||u)(e.rXU(Ms.T),e.rXU(oa.m),e.rXU(Vs.w))};static \u0275cmp=e.VBU({type:u,selectors:[["app-item-selection-dialog"]],viewQuery:function(y,P){if(1&y&&e.GBs(dc,5),2&y){let C;e.mGM(C=e.lsd())&&(P.searchInput=C.first)}},inputs:{type:"type",currentPack:"currentPack",showTokenPets:"showTokenPets",showAllPets:"showAllPets",customPacks:"customPacks",savedTeams:"savedTeams",lockAbilityLevel:"lockAbilityLevel",initialLevel:"initialLevel"},outputs:{select:"select",close:"close"},decls:19,vars:13,consts:[["searchInput",""],["teamIcons",""],[1,"selection-overlay",3,"click"],[1,"selection-dialog","card","shadow-lg",3,"click"],[1,"dialog-header"],[1,"btn-close",3,"click"],[1,"dialog-body"],[1,"search-container"],["type","text","placeholder","Search...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["class","pack-filters",4,"ngIf"],["class","ability-level-selector mt-2 text-center",4,"ngIf"],["class","ability-mode-notice",4,"ngIf"],[1,"items-grid","scroll"],["class","item-card none-card",3,"click",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","no-results",4,"ngIf"],[1,"pack-filters"],["class","btn btn-sm",3,"btn-primary","btn-outline-primary","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn","btn-sm",3,"click"],[1,"pack-filter-content"],["width","18","height","18","loading","lazy","decoding","async","class","pack-filter-icon",3,"ngSrc","alt",4,"ngIf"],["width","18","height","18","loading","lazy","decoding","async",1,"pack-filter-icon",3,"ngSrc","alt"],[1,"ability-level-selector","mt-2","text-center"],["role","group","aria-label","Ability Level Selector",1,"btn-group","btn-group-sm"],["type","radio","name","abilityLevel","id","abilityLevel1",1,"btn-check",3,"change","checked"],["for","abilityLevel1",1,"btn","btn-outline-primary"],["type","radio","name","abilityLevel","id","abilityLevel2",1,"btn-check",3,"change","checked"],["for","abilityLevel2",1,"btn","btn-outline-primary"],["type","radio","name","abilityLevel","id","abilityLevel3",1,"btn-check",3,"change","checked"],["for","abilityLevel3",1,"btn","btn-outline-primary"],[1,"ability-mode-notice"],[1,"notice-icon"],[1,"item-card","none-card",3,"click"],[1,"item-icon-container"],[1,"none-icon"],[1,"item-name"],["class","category-header",4,"ngIf"],[1,"item-card",3,"click","appTooltip"],[4,"ngIf","ngIfElse"],[1,"category-header"],["width","48","height","48","loading","lazy","decoding","async","class","item-icon",3,"ngSrc","alt",4,"ngIf"],["class","tier-badge",3,"ngClass",4,"ngIf"],["width","48","height","48","loading","lazy","decoding","async",1,"item-icon",3,"ngSrc","alt"],[1,"tier-badge",3,"ngClass"],[1,"team-icon-strip"],["width","32","height","32","loading","lazy","decoding","async","class","team-icon",3,"ngSrc","alt",4,"ngFor","ngForOf","ngForTrackBy"],["width","32","height","32","loading","lazy","decoding","async",1,"team-icon",3,"ngSrc","alt"],[1,"no-results"]],template:function(y,P){if(1&y){const C=e.RV6();e.j41(0,"div",2),e.bIt("click",function(){return v.eBV(C),v.Njj(P.onCancel())}),e.j41(1,"div",3),e.bIt("click",function(W){return v.eBV(C),v.Njj(W.stopPropagation())}),e.j41(2,"div",4)(3,"h3"),e.EFF(4),e.k0s(),e.j41(5,"button",5),e.bIt("click",function(){return v.eBV(C),v.Njj(P.onCancel())}),e.k0s()(),e.j41(6,"div",6)(7,"div",7)(8,"input",8,0),e.mxI("ngModelChange",function(W){return v.eBV(C),e.DH7(P.searchQuery,W)||(P.searchQuery=W),v.Njj(W)}),e.bIt("ngModelChange",function(){return v.eBV(C),v.Njj(P.onSearchChange())}),e.k0s()(),e.DNE(10,N_,2,2,"div",9)(11,Qu,2,2,"div",9)(12,pc,11,3,"div",10)(13,W_,2,2,"div",9)(14,Qo,8,0,"div",11),e.j41(15,"div",12),e.DNE(16,ph,6,0,"div",13)(17,_h,9,11,"ng-container",14)(18,Zu,2,1,"div",15),e.k0s()()()()}2&y&&(e.R7$(4),e.SpI(" Select ","pet"===P.type?"Pet":"swallowed-pet"===P.type?"Swallowed Pet":"equipment"===P.type?"Equipment":"toy"===P.type?"Toy":"hard-toy"===P.type?"Hard Toy":"team"===P.type?"Team":"ability"===P.type?"Ability":"Pack"," "),e.R7$(4),e.R50("ngModel",P.searchQuery),e.R7$(2),e.Y8G("ngIf","pet"===P.type||"swallowed-pet"===P.type),e.R7$(),e.Y8G("ngIf","ability"===P.type),e.R7$(),e.Y8G("ngIf","ability"===P.type&&!P.lockAbilityLevel),e.R7$(),e.Y8G("ngIf","equipment"===P.type||"toy"===P.type||"hard-toy"===P.type),e.R7$(),e.Y8G("ngIf","ability"===P.type),e.R7$(),e.AVh("team-grid","team"===P.type),e.R7$(),e.Y8G("ngIf",P.shouldShowNoneCard),e.R7$(),e.Y8G("ngForOf",P.filteredItems)("ngForTrackBy",P.trackByItem),e.R7$(),e.Y8G("ngIf",0===P.filteredItems.length))},dependencies:[jt.MD,jt.YU,jt.Sq,jt.bT,bi,ue.YN,ue.me,ue.BC,ue.vS,Ju],styles:[".selection-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;backdrop-filter:blur(4px);z-index:1000;display:flex;align-items:center;justify-content:center}.selection-dialog[_ngcontent-%COMP%]{width:90%;max-width:600px;height:80vh;background:#fff;border-radius:12px;display:flex;flex-direction:column;overflow:hidden;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.lapsus-stage-1[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%], .lapsus-stage-1[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .lapsus-stage-1[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .lapsus-stage-1[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%], .lapsus-stage-1[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%], .lapsus-stage-2[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%], .lapsus-stage-2[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .lapsus-stage-2[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .lapsus-stage-2[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%], .lapsus-stage-2[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%], .lapsus-stage-3[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%], .lapsus-stage-3[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .lapsus-stage-3[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .lapsus-stage-3[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%], .lapsus-stage-3[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]{font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.dialog-header[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid #eee;display:flex;justify-content:space-between;align-items:center;background:#f8f9fa}.dialog-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600}.dialog-body[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-direction:column;gap:1rem;flex:1;overflow:hidden}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{border-radius:8px;padding:.6rem 1rem;background:#f1f3f5;border:2px solid transparent;transition:all .2s}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{background:#fff;border-color:#33377a;box-shadow:0 0 0 4px #33377a1a}.pack-filters[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.4rem;padding-bottom:.5rem;border-bottom:1px solid #eee}.pack-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:20px;padding:.2rem .8rem;font-size:.8rem;text-transform:capitalize}.pack-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .pack-filter-content[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.35rem}.pack-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .pack-filter-icon[_ngcontent-%COMP%]{width:18px;height:18px;object-fit:contain;flex-shrink:0}.items-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:.75rem;padding:.5rem .5rem .75rem;overflow-y:auto;flex:1;align-content:start;align-items:start}.items-grid[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.items-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.items-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ccc;border-radius:3px}.items-grid.team-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(160px,1fr));justify-content:stretch;gap:.6rem}.category-header[_ngcontent-%COMP%]{grid-column:1/-1;padding:.25rem .5rem .2rem;font-size:.85rem;font-weight:700;color:#33377a;text-transform:uppercase;letter-spacing:.05em;border-bottom:1px solid rgba(51,55,122,.1);margin-top:.15rem}.item-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:.5rem;border-radius:8px;cursor:pointer;transition:all .2s;text-align:center;position:relative;z-index:1}.item-card[_ngcontent-%COMP%]:hover{background:#f1f3f5;transform:translateY(-2px)}.item-card.none-card[_ngcontent-%COMP%]   .none-icon[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#868e96;text-transform:uppercase}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]{position:relative;width:48px;height:48px;display:flex;align-items:center;justify-content:center;margin-bottom:.4rem}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background:#e67e22;color:#fff;font-size:.75rem;width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;box-shadow:0 2px 4px #0003;border:1.5px solid white}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge-tier-1[_ngcontent-%COMP%]{background:#6c757d}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge-tier-2[_ngcontent-%COMP%]{background:#198754}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge-tier-3[_ngcontent-%COMP%]{background:#0d6efd}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge-tier-4[_ngcontent-%COMP%]{background:#6f42c1}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge-tier-5[_ngcontent-%COMP%]{background:#fd7e14}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge-tier-6[_ngcontent-%COMP%]{background:#dc3545}.item-card[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-size:.75rem;color:#495057;word-break:break-word;line-height:1.1}.item-card.item-card-disabled[_ngcontent-%COMP%]{opacity:.65;cursor:pointer;border:1.5px solid #f0a500;background:#f0a5000d}.item-card.item-card-disabled[_ngcontent-%COMP%]:hover{background:#f0a5001f;transform:translateY(-1px)}.item-card.item-card-disabled[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#7a6200}.night[_nghost-%COMP%]   .item-card.item-card-disabled[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .item-card.item-card-disabled[_ngcontent-%COMP%]{border-color:#c98f00;background:#c8960014}.night[_nghost-%COMP%]   .item-card.item-card-disabled[_ngcontent-%COMP%]:hover, .night   [_nghost-%COMP%]   .item-card.item-card-disabled[_ngcontent-%COMP%]:hover{background:#c8960029}.night[_nghost-%COMP%]   .item-card.item-card-disabled[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .item-card.item-card-disabled[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#d4aa30}.ability-mode-notice[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.4rem .75rem;background:#f0a5001a;border:1px solid rgba(240,165,0,.4);border-radius:6px;font-size:.8rem;color:#7a5e00}.ability-mode-notice[_ngcontent-%COMP%]   .notice-icon[_ngcontent-%COMP%]{font-size:1rem;flex-shrink:0}.night[_nghost-%COMP%]   .ability-mode-notice[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .ability-mode-notice[_ngcontent-%COMP%]{background:#c896001f;border-color:#c8960066;color:#d4aa30}.item-card.team-card[_ngcontent-%COMP%]{align-items:stretch;width:100%;padding:.45rem}.item-card.team-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]{width:100%;height:auto;margin-bottom:.35rem}.item-card.team-card[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{text-align:center}.no-results[_ngcontent-%COMP%]{grid-column:1/-1;padding:2rem;text-align:center;color:#868e96;font-style:italic}.night[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]{background:#2d2d2d;color:#eee}.night[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]{background:#1a1a1a;border-bottom-color:#444}.night[_nghost-%COMP%]   .item-name[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#ccc}.night[_nghost-%COMP%]   .item-card[_ngcontent-%COMP%]:hover, .night   [_nghost-%COMP%]   .item-card[_ngcontent-%COMP%]:hover{background:#3d3d3d}.night[_nghost-%COMP%]   .search-input[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]{background:#3d3d3d;color:#eee}.night[_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]:focus, .night   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{background:#444}.night[_nghost-%COMP%]   .pack-filters[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .pack-filters[_ngcontent-%COMP%]{border-bottom-color:#444}.team-icon-strip[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);gap:3px;width:100%;justify-items:center}.team-icon[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain;background:#f5f6f8;border-radius:6px;border:1px solid rgba(0,0,0,.08)}"],changeDetection:0})}return u})(),Jr=(()=>{class u{formGroup;setExp(l){this.formGroup.get("exp")?.setValue(l)}getIsSelected(l){return(this.formGroup.get("exp")?.value??0)>=l}showRemoveExp(){return(this.formGroup.get("exp")?.value??0)>0}static \u0275fac=function(y){return new(y||u)};static \u0275cmp=e.VBU({type:u,selectors:[["app-pet-level-selector"]],hostAttrs:[2,"display","contents"],inputs:{formGroup:"formGroup"},decls:20,vars:15,consts:[[3,"formGroup"],[1,"col-12","d-flex","level-bar-numbers","mb-1"],[1,"remove-exp","spacer"],[1,"level-slots-labels","d-flex","flex-grow-1"],[1,"level-icon"],["ngSrc","assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/l1.png","width","18","height","18","loading","lazy","decoding","async","alt","Level 1"],["ngSrc","assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/l2.png","width","18","height","18","loading","lazy","decoding","async","alt","Level 2"],[1,"level-icon","level-3"],["ngSrc","assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/l3.png","width","18","height","18","loading","lazy","decoding","async","alt","Level 3"],[1,"col-12","d-flex","level-bar","mb-2"],[1,"remove-exp",3,"click"],[3,"click"]],template:function(y,P){1&y&&(e.qex(0,0),e.j41(1,"div",1),e.nrm(2,"span",2),e.j41(3,"div",3)(4,"span",4),e.nrm(5,"img",5),e.k0s(),e.nrm(6,"span"),e.j41(7,"span",4),e.nrm(8,"img",6),e.k0s(),e.nrm(9,"span"),e.j41(10,"span",7),e.nrm(11,"img",8),e.k0s()()(),e.j41(12,"div",9)(13,"span",10),e.bIt("click",function(){return P.setExp(0)}),e.EFF(14,"x"),e.k0s(),e.j41(15,"span",11),e.bIt("click",function(){return P.setExp(1)}),e.k0s(),e.j41(16,"span",11),e.bIt("click",function(){return P.setExp(2)}),e.k0s(),e.j41(17,"span",11),e.bIt("click",function(){return P.setExp(3)}),e.k0s(),e.j41(18,"span",11),e.bIt("click",function(){return P.setExp(4)}),e.k0s(),e.j41(19,"span",11),e.bIt("click",function(){return P.setExp(5)}),e.k0s()(),e.bVm()),2&y&&(e.Y8G("formGroup",P.formGroup),e.R7$(2),e.xc7("visibility",P.showRemoveExp()?"visible":"hidden"),e.R7$(11),e.xc7("visibility",P.showRemoveExp()?"visible":"hidden"),e.R7$(2),e.AVh("selected",P.getIsSelected(1)),e.R7$(),e.AVh("selected",P.getIsSelected(1)&&P.getIsSelected(2)),e.R7$(),e.AVh("selected",P.getIsSelected(1)&&P.getIsSelected(3)),e.R7$(),e.AVh("selected",P.getIsSelected(1)&&P.getIsSelected(4)),e.R7$(),e.AVh("selected",P.getIsSelected(1)&&P.getIsSelected(5)))},dependencies:[jt.MD,bi,ue.X1,ue.cb,ue.j4],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/fist-from-textmap.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/heart-from-textmap.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/mana-from-textmap.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-stack-item[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center}.swallowed-beluga-nested[_ngcontent-%COMP%]{width:16px!important;height:16px!important;margin-left:-4px;margin-top:2px;z-index:1}.swallowed-label[_ngcontent-%COMP%]{font-weight:500;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}.swallowed-label-small[_ngcontent-%COMP%], .swallowed-label-tiny[_ngcontent-%COMP%]{color:#ffffffe6;font-weight:500;text-transform:uppercase;letter-spacing:.03em;text-shadow:0 1px 2px rgba(0,0,0,.75)}.swallowed-label-small[_ngcontent-%COMP%]{font-size:.68rem}.swallowed-label-tiny[_ngcontent-%COMP%]{font-size:.62rem}.selection-icon-wrap[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;justify-content:center;margin-right:.4rem}.selection-level-badge[_ngcontent-%COMP%]{position:absolute;right:-6px;bottom:-6px;min-width:14px;height:14px;padding:0 3px;border-radius:999px;background:#000000d1;border:1px solid rgba(255,255,255,.45);color:#fff;font-size:.56rem;line-height:12px;text-align:center;font-weight:700;text-shadow:none}.swallowed-nested[_ngcontent-%COMP%]{background:#00000047;border-radius:10px;padding:.5rem .6rem;box-shadow:0 8px 20px #0006}.swallowed-nested[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%], .swallowed-slot[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%]{border-left-color:#fff3!important}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;text-shadow:0 1px 2px rgba(0,0,0,.75);padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:500;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:400;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;color:#fff!important;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:focus-visible, .selection-btn[_ngcontent-%COMP%]:active{color:#fff!important;transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .selection-text[_ngcontent-%COMP%], .selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.15;letter-spacing:.025em;color:#fff;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;text-shadow:0 1px 0 rgba(0,0,0,.6),0 0 2px rgba(0,0,0,.45)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:500;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"]})}return u})();const fh=new Set(["parrot","parrot-beluga","parrot-abomination","parrot-abomination-beluga","abomination-parrot","abomination-parrot-beluga","abomination-parrot-abomination","abomination-parrot-abomination-beluga","parrot-abomination-parrot","parrot-abomination-parrot-beluga","parrot-abomination-parrot-abomination","parrot-abomination-parrot-abomination-beluga"]),_c=new Set(["sabertooth tiger","tuna"]);function yr(u){const h=function vh(u){if("string"==typeof u){const h=u.trim().toLowerCase();return h.length>0?h:null}if(u&&"object"==typeof u&&"string"==typeof u.name){const h=u.name.trim().toLowerCase();return h.length>0?h:null}return null}(u);return!!h&&(!!_c.has(h)||h.includes("sabertooth"))}const ed=["Adult Flounder","Angry Pygmy Hog","Baby Urchin","Bee","Bus","Butterfly","Chick","Chimera Goat","Chimera Lion","Chimera Snake","Cooked Roach","Cracked Egg","Cuckoo Chick","Daycrawler","Dirty Rat","Fairy Ball","Fake Nessie","Fire Pup","Giant Eyes Dog","Golden Retriever","Good Dog","Great One","Head","Lizard Tail","Loyal Chinchilla","Mimic Octopus","Moby Dick","Monty","Nessie?","Nest","Quail","Ram","Rock","Salmon","Sleeping Gelada","Smaller Slime","Smaller Slug","Smallest Slug","Tand and Tand","Young Phoenix","Zombie Cricket","Zombie Fly"],td=(()=>{const u=[];for(let h=1;h<=3;h++){const l=`parrotCopyPetAbominationSwallowedPet${h}`;u.push(l),u.push(`${l}BelugaSwallowedPet`),u.push(`${l}Level`),u.push(`${l}TimesHurt`)}return u})(),x=(()=>{const u=[];for(let h=1;h<=3;h++){const l=`parrotCopyPetAbominationSwallowedPet${h}`;u.push(`${l}ParrotCopyPet`),u.push(`${l}ParrotCopyPetBelugaSwallowedPet`);for(let y=1;y<=3;y++){const P=`${l}ParrotCopyPetAbominationSwallowedPet${y}`;u.push(P),u.push(`${P}BelugaSwallowedPet`),u.push(`${P}Level`),u.push(`${P}TimesHurt`)}}return u})();function V(u,h){1&u&&(e.j41(0,"div",8)(1,"label",9),e.EFF(2,"Times Hurt"),e.k0s(),e.nrm(3,"input",10),e.k0s())}function se(u,h){1&u&&(e.j41(0,"div",8)(1,"label",11),e.EFF(2,"Friends Fainted in Shop"),e.k0s(),e.nrm(3,"input",12),e.k0s())}function Ee(u,h){1&u&&(e.j41(0,"div",8)(1,"label",13),e.EFF(2,"Battles Fought"),e.k0s(),e.nrm(3,"input",14),e.k0s())}function Ie(u,h){1&u&&(e.j41(0,"div",16)(1,"div",17),e.nrm(2,"input",18),e.k0s()())}function Qe(u,h){1&u&&(e.j41(0,"div",16),e.nrm(1,"input",19),e.k0s())}function bt(u,h){1&u&&(e.qex(0),e.j41(1,"div",3)(2,"div",17),e.nrm(3,"input",18),e.k0s()(),e.j41(4,"div",3),e.nrm(5,"input",20),e.k0s(),e.bVm())}function Di(u,h){if(1&u&&(e.qex(0),e.DNE(1,Ie,3,0,"div",15)(2,Qe,2,0,"div",15)(3,bt,6,0,"ng-container",2),e.bVm()),2&u){const l=e.XpG();e.R7$(),e.Y8G("ngIf",l.mana&&!l.triggersConsumed),e.R7$(),e.Y8G("ngIf",!l.mana&&l.triggersConsumed),e.R7$(),e.Y8G("ngIf",l.mana&&l.triggersConsumed)}}function ti(u,h){1&u&&(e.j41(0,"div",8)(1,"label",21),e.EFF(2,"Foods Eaten"),e.k0s(),e.nrm(3,"input",22),e.k0s())}let xi=(()=>{class u{formGroup;petName=null;mana=!1;triggersConsumed=!1;attackHealthMax=100;friendsDiedCaps=new Map([["Vulture",1],["Saiga Antelope",1],["Secretary Bird",1],["Mimic",2]]);foodsEatenPets=new Set(["Black Bear","Blue Jay","Dung Beetle","Locust"]);battlesFoughtPets=new Set(["Slime"]);shouldShowFriendsDiedInput(){return!!this.petName&&this.friendsDiedCaps.has(this.petName)}shouldShowFoodsEatenInput(){return!!this.petName&&this.foodsEatenPets.has(this.petName)}shouldShowBattlesFoughtInput(){return!!this.petName&&this.battlesFoughtPets.has(this.petName)}shouldShowTimesHurtInput(){return yr(this.petName??this.formGroup?.get("name")?.value)}getFriendsDiedMax(){return this.petName?this.friendsDiedCaps.get(this.petName)??5:5}static \u0275fac=function(y){return new(y||u)};static \u0275cmp=e.VBU({type:u,selectors:[["app-pet-stats-selector"]],hostAttrs:[2,"display","contents"],inputs:{formGroup:"formGroup",petName:"petName",mana:"mana",triggersConsumed:"triggersConsumed",attackHealthMax:"attackHealthMax"},decls:12,vars:8,consts:[[3,"formGroup"],["class","col-12 mb-2",4,"ngIf"],[4,"ngIf"],[1,"col-6"],[1,"stat-tile","stat-attack"],["formControlName","attack","type","number","min","1",1,"form-control","stat-input","select-attack",3,"max"],[1,"stat-tile","stat-health"],["formControlName","health","type","number","min","1",1,"form-control","stat-input","select-health",3,"max"],[1,"col-12","mb-2"],["for","timesHurt"],["formControlName","timesHurt","type","number","min","0","max","99",1,"form-control"],["for","friendsDiedBeforeBattle",1,"swallowed-label"],["type","number","min","0","max","5","formControlName","friendsDiedBeforeBattle",1,"form-control"],["for","battlesFought"],["formControlName","battlesFought","type","number","min","0","max","99",1,"form-control"],["class","col-12",4,"ngIf"],[1,"col-12"],[1,"stat-tile","stat-mana"],["formControlName","mana","type","number","min","0","max","50","placeholder","Mana",1,"form-control","stat-input","select-mana"],["formControlName","triggersConsumed","type","number","min","0","max","10","placeholder","Triggers Consumed",1,"form-control","select-triggers-consumed","single-stat-input"],["formControlName","triggersConsumed","type","number","min","0","max","10","placeholder","Triggers Consumed",1,"form-control","select-triggers-consumed"],["for","foodsEaten",1,"swallowed-label"],["formControlName","foodsEaten","type","number","min","0","max","99",1,"form-control","select-foods-eaten"]],template:function(y,P){1&y&&(e.qex(0,0),e.DNE(1,V,4,0,"div",1)(2,se,4,0,"div",1)(3,Ee,4,0,"div",1)(4,Di,4,3,"ng-container",2)(5,ti,4,0,"div",1),e.j41(6,"div",3)(7,"div",4),e.nrm(8,"input",5),e.k0s()(),e.j41(9,"div",3)(10,"div",6),e.nrm(11,"input",7),e.k0s()(),e.bVm()),2&y&&(e.Y8G("formGroup",P.formGroup),e.R7$(),e.Y8G("ngIf",P.shouldShowTimesHurtInput()),e.R7$(),e.Y8G("ngIf",P.shouldShowFriendsDiedInput()),e.R7$(),e.Y8G("ngIf",P.shouldShowBattlesFoughtInput()),e.R7$(),e.Y8G("ngIf",P.mana||P.triggersConsumed),e.R7$(),e.Y8G("ngIf",P.shouldShowFoodsEatenInput()),e.R7$(3),e.Y8G("max",P.attackHealthMax),e.R7$(3),e.Y8G("max",P.attackHealthMax))},dependencies:[jt.MD,jt.bT,ue.X1,ue.me,ue.Q0,ue.BC,ue.cb,ue.VZ,ue.zX,ue.j4,ue.JD],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/fist-from-textmap.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/heart-from-textmap.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/mana-from-textmap.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-stack-item[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center}.swallowed-beluga-nested[_ngcontent-%COMP%]{width:16px!important;height:16px!important;margin-left:-4px;margin-top:2px;z-index:1}.swallowed-label[_ngcontent-%COMP%]{font-weight:500;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}.swallowed-label-small[_ngcontent-%COMP%], .swallowed-label-tiny[_ngcontent-%COMP%]{color:#ffffffe6;font-weight:500;text-transform:uppercase;letter-spacing:.03em;text-shadow:0 1px 2px rgba(0,0,0,.75)}.swallowed-label-small[_ngcontent-%COMP%]{font-size:.68rem}.swallowed-label-tiny[_ngcontent-%COMP%]{font-size:.62rem}.selection-icon-wrap[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;justify-content:center;margin-right:.4rem}.selection-level-badge[_ngcontent-%COMP%]{position:absolute;right:-6px;bottom:-6px;min-width:14px;height:14px;padding:0 3px;border-radius:999px;background:#000000d1;border:1px solid rgba(255,255,255,.45);color:#fff;font-size:.56rem;line-height:12px;text-align:center;font-weight:700;text-shadow:none}.swallowed-nested[_ngcontent-%COMP%]{background:#00000047;border-radius:10px;padding:.5rem .6rem;box-shadow:0 8px 20px #0006}.swallowed-nested[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%], .swallowed-slot[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%]{border-left-color:#fff3!important}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;text-shadow:0 1px 2px rgba(0,0,0,.75);padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:500;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:400;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;color:#fff!important;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:focus-visible, .selection-btn[_ngcontent-%COMP%]:active{color:#fff!important;transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .selection-text[_ngcontent-%COMP%], .selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.15;letter-spacing:.025em;color:#fff;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;text-shadow:0 1px 0 rgba(0,0,0,.6),0 0 2px rgba(0,0,0,.45)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:500;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"]})}return u})();function zs(u,h){if(1&u&&e.nrm(0,"img",7),2&u){const l=e.XpG();e.Y8G("ngSrc",l.equipmentImageSrc)}}function cA(u,h){if(1&u&&e.nrm(0,"img",7),2&u){const l=e.XpG();e.Y8G("ngSrc",l.ailmentImageSrc)}}function K_(u,h){if(1&u&&(e.j41(0,"div",8)(1,"label",9),e.EFF(2,"Uses"),e.k0s(),e.nrm(3,"input",10),e.k0s()),2&u){const l=e.XpG();e.R7$(),e.Y8G("for",l.equipmentUsesInputId),e.R7$(2),e.Y8G("id",l.equipmentUsesInputId)}}let uA=(()=>{class u{formGroup;equipmentImageSrc=null;ailmentImageSrc=null;allowEquipmentUseOverrides=!1;equipmentUsesAvailable=!1;equipmentUsesInputId="";openSelection=new v.bkB;static \u0275fac=function(y){return new(y||u)};static \u0275cmp=e.VBU({type:u,selectors:[["app-pet-equipment-selector"]],hostAttrs:[2,"display","contents"],inputs:{formGroup:"formGroup",equipmentImageSrc:"equipmentImageSrc",ailmentImageSrc:"ailmentImageSrc",allowEquipmentUseOverrides:"allowEquipmentUseOverrides",equipmentUsesAvailable:"equipmentUsesAvailable",equipmentUsesInputId:"equipmentUsesInputId"},outputs:{openSelection:"openSelection"},decls:9,vars:5,consts:[[3,"formGroup"],[1,"col-12","mb-2"],["type","button",1,"btn","selection-btn","w-100","d-flex","align-items-center",3,"click"],["class","btn-icon me-2","width","24","height","24","loading","lazy","decoding","async",3,"ngSrc",4,"ngIf"],[1,"btn-text"],[1,"bi","bi-chevron-down","ms-auto"],["class","col-6 mb-2",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async",1,"btn-icon","me-2",3,"ngSrc"],[1,"col-6","mb-2"],[3,"for"],["type","number","min","1","max","99","formControlName","equipmentUses",1,"form-control",3,"id"]],template:function(y,P){if(1&y&&(e.qex(0,0),e.j41(1,"div",1)(2,"button",2),e.bIt("click",function(){return P.openSelection.emit()}),e.DNE(3,zs,1,1,"img",3)(4,cA,1,1,"img",3),e.j41(5,"span",4),e.EFF(6),e.k0s(),e.nrm(7,"i",5),e.k0s()(),e.DNE(8,K_,4,2,"div",6),e.bVm()),2&y){let C;e.Y8G("formGroup",P.formGroup),e.R7$(3),e.Y8G("ngIf",P.equipmentImageSrc),e.R7$(),e.Y8G("ngIf",!P.equipmentImageSrc&&P.ailmentImageSrc),e.R7$(2),e.JRh((null==(C=P.formGroup.get("equipment"))?null:C.value)||"Select Equipment"),e.R7$(2),e.Y8G("ngIf",P.allowEquipmentUseOverrides&&P.equipmentUsesAvailable)}},dependencies:[jt.MD,jt.bT,bi,ue.X1,ue.me,ue.Q0,ue.BC,ue.cb,ue.VZ,ue.zX,ue.j4,ue.JD],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/fist-from-textmap.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/heart-from-textmap.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/mana-from-textmap.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-stack-item[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center}.swallowed-beluga-nested[_ngcontent-%COMP%]{width:16px!important;height:16px!important;margin-left:-4px;margin-top:2px;z-index:1}.swallowed-label[_ngcontent-%COMP%]{font-weight:500;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}.swallowed-label-small[_ngcontent-%COMP%], .swallowed-label-tiny[_ngcontent-%COMP%]{color:#ffffffe6;font-weight:500;text-transform:uppercase;letter-spacing:.03em;text-shadow:0 1px 2px rgba(0,0,0,.75)}.swallowed-label-small[_ngcontent-%COMP%]{font-size:.68rem}.swallowed-label-tiny[_ngcontent-%COMP%]{font-size:.62rem}.selection-icon-wrap[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;justify-content:center;margin-right:.4rem}.selection-level-badge[_ngcontent-%COMP%]{position:absolute;right:-6px;bottom:-6px;min-width:14px;height:14px;padding:0 3px;border-radius:999px;background:#000000d1;border:1px solid rgba(255,255,255,.45);color:#fff;font-size:.56rem;line-height:12px;text-align:center;font-weight:700;text-shadow:none}.swallowed-nested[_ngcontent-%COMP%]{background:#00000047;border-radius:10px;padding:.5rem .6rem;box-shadow:0 8px 20px #0006}.swallowed-nested[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%], .swallowed-slot[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%]{border-left-color:#fff3!important}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;text-shadow:0 1px 2px rgba(0,0,0,.75);padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:500;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:400;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;color:#fff!important;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:focus-visible, .selection-btn[_ngcontent-%COMP%]:active{color:#fff!important;transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .selection-text[_ngcontent-%COMP%], .selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.15;letter-spacing:.025em;color:#fff;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;text-shadow:0 1px 0 rgba(0,0,0,.6),0 0 2px rgba(0,0,0,.45)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:500;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"]})}return u})();var ja=i(58212);const yh=()=>[];function dA(u,h){if(1&u&&(e.j41(0,"span",13),e.nrm(1,"img",14),e.j41(2,"span",15),e.EFF(3),e.k0s()()),2&u){const l=h.ngIf,y=e.XpG().index,P=e.XpG(2);e.R7$(),e.Y8G("ngSrc",l),e.R7$(2),e.JRh(P.getAbominationAbilityLevel(y))}}function bh(u,h){if(1&u&&(e.j41(0,"div",20)(1,"label",21),e.EFF(2,"Times Hurt"),e.k0s(),e.nrm(3,"input",22),e.k0s()),2&u){const l=e.XpG(2).index;e.R7$(3),e.Y8G("formControlName","abominationSwallowedPet"+(l+1)+"TimesHurt")}}function $_(u,h){if(1&u&&e.nrm(0,"img",26),2&u){let l;const y=e.XpG(3).index,P=e.XpG(2);e.Y8G("ngSrc",P.getAbilityImagePath(null==(l=P.formGroup.get("abominationSwallowedPet"+(y+1)+"BelugaSwallowedPet"))?null:l.value))}}function pA(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",23)(1,"label",21),e.EFF(2,"Swallowed by Beluga"),e.k0s(),e.j41(3,"button",24),e.bIt("click",function(){v.eBV(l);const P=e.XpG(2).index,C=e.XpG(2);return v.Njj(C.openSelectionDialog("swallowed-pet",P+1,"abomination-beluga"))}),e.DNE(4,$_,1,1,"img",25),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s()()}if(2&u){let l,y;const P=e.XpG(2).index,C=e.XpG(2);e.R7$(4),e.Y8G("ngIf",C.getAbilityImagePath(null==(l=C.formGroup.get("abominationSwallowedPet"+(P+1)+"BelugaSwallowedPet"))?null:l.value)),e.R7$(2),e.JRh((null==(y=C.formGroup.get("abominationSwallowedPet"+(P+1)+"BelugaSwallowedPet"))?null:y.value)||"None")}}function hA(u,h){if(1&u&&e.nrm(0,"img",28),2&u){let l;const y=e.XpG(3).index,P=e.XpG(2);e.Y8G("ngSrc",P.getAbilityImagePath(null==(l=P.formGroup.get("abominationSwallowedPet"+(y+1)+"SarcasticFringeheadSwallowedPet"))?null:l.value))}}function gA(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",23)(1,"label",21),e.EFF(2,"Swallowed by Fringehead"),e.k0s(),e.j41(3,"button",24),e.bIt("click",function(){v.eBV(l);const P=e.XpG(2).index,C=e.XpG(2);return v.Njj(C.openSelectionDialog("swallowed-pet",P+1,"abomination-sarcastic"))}),e.DNE(4,hA,1,1,"img",27),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s()()}if(2&u){let l,y;const P=e.XpG(2).index,C=e.XpG(2);e.R7$(4),e.Y8G("ngIf",C.getAbilityImagePath(null==(l=C.formGroup.get("abominationSwallowedPet"+(P+1)+"SarcasticFringeheadSwallowedPet"))?null:l.value)),e.R7$(2),e.JRh((null==(y=C.formGroup.get("abominationSwallowedPet"+(P+1)+"SarcasticFringeheadSwallowedPet"))?null:y.value)||"None")}}function mA(u,h){if(1&u&&e.nrm(0,"img",32),2&u){let l;const y=e.XpG(3).index,P=e.XpG(2);e.Y8G("ngSrc",P.getAbilityImagePath(null==(l=P.formGroup.get("abominationSwallowedPet"+(y+1)+"ParrotCopyPet"))?null:l.value))}}function _A(u,h){if(1&u&&e.nrm(0,"img",35),2&u){let l;const y=e.XpG(4).index,P=e.XpG(2);e.Y8G("ngSrc",P.getAbilityImagePath(null==(l=P.formGroup.get("abominationSwallowedPet"+(y+1)+"ParrotCopyPetBelugaSwallowedPet"))?null:l.value))}}function fA(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",33)(1,"label",21),e.EFF(2,"Then Beluga Swallow"),e.k0s(),e.j41(3,"button",24),e.bIt("click",function(){v.eBV(l);const P=e.XpG(3).index,C=e.XpG(2);return v.Njj(C.openSelectionDialog("swallowed-pet",P+1,"abomination-parrot-beluga"))}),e.DNE(4,_A,1,1,"img",34),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s()()}if(2&u){let l,y;const P=e.XpG(3).index,C=e.XpG(2);e.R7$(4),e.Y8G("ngIf",C.getAbilityImagePath(null==(l=C.formGroup.get("abominationSwallowedPet"+(P+1)+"ParrotCopyPetBelugaSwallowedPet"))?null:l.value)),e.R7$(2),e.JRh((null==(y=C.formGroup.get("abominationSwallowedPet"+(P+1)+"ParrotCopyPetBelugaSwallowedPet"))?null:y.value)||"None")}}function vA(u,h){if(1&u&&(e.j41(0,"span",13),e.nrm(1,"img",38),e.j41(2,"span",15),e.EFF(3),e.k0s()()),2&u){const l=h.ngIf,y=e.XpG().index,P=e.XpG(4).index,C=e.XpG(2);e.R7$(),e.Y8G("ngSrc",l),e.R7$(2),e.JRh(C.getNestedAbominationAbilityLevel(P,y))}}function TD(u,h){if(1&u&&(e.j41(0,"div",39)(1,"label",40),e.EFF(2,"Times Hurt"),e.k0s(),e.nrm(3,"input",22),e.k0s()),2&u){const l=e.XpG().index,y=e.XpG(4).index;e.R7$(3),e.Y8G("formControlName","abominationSwallowedPet"+(y+1)+"ParrotCopyPetAbominationSwallowedPet"+(l+1)+"TimesHurt")}}function DD(u,h){if(1&u){const l=e.RV6();e.j41(0,"div")(1,"label",21),e.EFF(2),e.k0s(),e.j41(3,"button",36),e.bIt("click",function(){const P=v.eBV(l).index,C=e.XpG(4).index,I=e.XpG(2);return v.Njj(I.openSelectionDialog("ability",C+1,"abomination-parrot-abomination",P+1))}),e.DNE(4,vA,4,2,"span",9),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s(),e.DNE(8,TD,4,1,"div",37),e.k0s()}if(2&u){let l,y;const P=h.index,C=e.XpG(4).index,I=e.XpG(2);e.R7$(2),e.JRh(I.getNestedAbominationAbilityTitle(C,P)),e.R7$(2),e.Y8G("ngIf",I.getAbilityImagePath(null==(l=I.formGroup.get("abominationSwallowedPet"+(C+1)+"ParrotCopyPetAbominationSwallowedPet"+(P+1)))?null:l.value)),e.R7$(2),e.JRh((null==(y=I.formGroup.get("abominationSwallowedPet"+(C+1)+"ParrotCopyPetAbominationSwallowedPet"+(P+1)))?null:y.value)||"None"),e.R7$(2),e.Y8G("ngIf",I.shouldShowAbominationParrotCopyAbominationTimesHurt(C+1,P+1))}}function fc(u,h){if(1&u&&(e.j41(0,"div",33),e.DNE(1,DD,9,4,"div",4),e.k0s()),2&u){const l=e.XpG(5);e.R7$(),e.Y8G("ngForOf",e.lJ4(2,yh).constructor(3))("ngForTrackBy",l.trackByIndex)}}function id(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",29)(1,"label",21),e.EFF(2,"Parrot Copy"),e.k0s(),e.j41(3,"button",24),e.bIt("click",function(){v.eBV(l);const P=e.XpG(2).index,C=e.XpG(2);return v.Njj(C.openSelectionDialog("ability",P+1,"abomination-parrot"))}),e.DNE(4,mA,1,1,"img",30),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s(),e.DNE(8,fA,8,2,"div",31)(9,fc,2,3,"div",31),e.k0s()}if(2&u){let l,y,P,C;const I=e.XpG(2).index,W=e.XpG(2);e.R7$(4),e.Y8G("ngIf",W.getAbilityImagePath(null==(l=W.formGroup.get("abominationSwallowedPet"+(I+1)+"ParrotCopyPet"))?null:l.value)),e.R7$(2),e.JRh((null==(y=W.formGroup.get("abominationSwallowedPet"+(I+1)+"ParrotCopyPet"))?null:y.value)||"None"),e.R7$(2),e.Y8G("ngIf","Beluga Whale"===(null==(P=W.formGroup.get("abominationSwallowedPet"+(I+1)+"ParrotCopyPet"))?null:P.value)),e.R7$(),e.Y8G("ngIf","Abomination"===(null==(C=W.formGroup.get("abominationSwallowedPet"+(I+1)+"ParrotCopyPet"))?null:C.value))}}function yA(u,h){if(1&u&&(e.j41(0,"div",16),e.DNE(1,bh,4,1,"div",17)(2,pA,8,2,"div",18)(3,gA,8,2,"div",18)(4,id,10,4,"div",19),e.k0s()),2&u){let l,y,P;const C=e.XpG().index,I=e.XpG(2);e.R7$(),e.Y8G("ngIf",I.shouldShowAbominationSwallowTimesHurt(C)),e.R7$(),e.Y8G("ngIf","Beluga Whale"===(null==(l=I.formGroup.get("abominationSwallowedPet"+(C+1)))?null:l.value)),e.R7$(),e.Y8G("ngIf","Sarcastic Fringehead"===(null==(y=I.formGroup.get("abominationSwallowedPet"+(C+1)))?null:y.value)),e.R7$(),e.Y8G("ngIf","Parrot"===(null==(P=I.formGroup.get("abominationSwallowedPet"+(C+1)))?null:P.value))}}function bA(u,h){if(1&u){const l=e.RV6();e.j41(0,"div")(1,"div",5)(2,"label",6),e.EFF(3),e.k0s(),e.j41(4,"div",7)(5,"button",8),e.bIt("click",function(){const P=v.eBV(l).index,C=e.XpG(2);return v.Njj(C.openSelectionDialog("ability",P+1,"abomination"))}),e.DNE(6,dA,4,2,"span",9),e.j41(7,"span",10),e.EFF(8),e.k0s(),e.nrm(9,"i",11),e.k0s()(),e.DNE(10,yA,5,4,"div",12),e.k0s()()}if(2&u){let l,y,P;const C=h.index,I=e.XpG(2);e.R7$(3),e.JRh(I.getAbilityTitle(C)),e.R7$(3),e.Y8G("ngIf",I.getAbilityImagePath(null==(l=I.formGroup.get("abominationSwallowedPet"+(C+1)))?null:l.value)),e.R7$(2),e.JRh((null==(y=I.formGroup.get("abominationSwallowedPet"+(C+1)))?null:y.value)||"None"),e.R7$(2),e.Y8G("ngIf",(null==(P=I.formGroup.get("abominationSwallowedPet"+(C+1)))?null:P.value)&&(I.shouldShowAbominationSwallowTimesHurt(C)||"Beluga Whale"===(null==(P=I.formGroup.get("abominationSwallowedPet"+(C+1)))?null:P.value)||"Sarcastic Fringehead"===(null==(P=I.formGroup.get("abominationSwallowedPet"+(C+1)))?null:P.value)||"Parrot"===(null==(P=I.formGroup.get("abominationSwallowedPet"+(C+1)))?null:P.value)))}}function PA(u,h){if(1&u&&(e.j41(0,"div",2),e.DNE(1,bA,11,4,"div",4),e.k0s()),2&u){const l=e.XpG();e.R7$(),e.Y8G("ngForOf",e.lJ4(2,yh).constructor(l.pet.level))("ngForTrackBy",l.trackByIndex)}}function MD(u,h){if(1&u&&e.nrm(0,"img",43),2&u){let l;const y=e.XpG(2);e.Y8G("ngSrc",y.getAbilityImagePath(null==(l=y.formGroup.get("belugaSwallowedPet"))?null:l.value))}}function CD(u,h){if(1&u){const l=e.RV6();e.j41(0,"div")(1,"label",6),e.EFF(2,"Swallowed by Beluga"),e.k0s(),e.j41(3,"button",41),e.bIt("click",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.openSelectionDialog("swallowed-pet",void 0,"pet"))}),e.DNE(4,MD,1,1,"img",42),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s()()}if(2&u){let l,y;const P=e.XpG();e.R7$(4),e.Y8G("ngIf",P.getAbilityImagePath(null==(l=P.formGroup.get("belugaSwallowedPet"))?null:l.value)),e.R7$(2),e.JRh((null==(y=P.formGroup.get("belugaSwallowedPet"))?null:y.value)||"Select Pet")}}function AA(u,h){if(1&u&&e.nrm(0,"img",46),2&u){let l;const y=e.XpG(2);e.Y8G("ngSrc",y.getAbilityImagePath(null==(l=y.formGroup.get("parrotCopyPet"))?null:l.value))}}function EA(u,h){if(1&u&&e.nrm(0,"img",49),2&u){let l;const y=e.XpG(3);e.Y8G("ngSrc",y.getAbilityImagePath(null==(l=y.formGroup.get("parrotCopyPetBelugaSwallowedPet"))?null:l.value))}}function SA(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",47)(1,"label",6),e.EFF(2,"Then Beluga Swallow"),e.k0s(),e.j41(3,"button",41),e.bIt("click",function(){v.eBV(l);const P=e.XpG(2);return v.Njj(P.openSelectionDialog("swallowed-pet",void 0,"parrot-beluga"))}),e.DNE(4,EA,1,1,"img",48),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s()()}if(2&u){let l,y;const P=e.XpG(2);e.R7$(4),e.Y8G("ngIf",P.getAbilityImagePath(null==(l=P.formGroup.get("parrotCopyPetBelugaSwallowedPet"))?null:l.value)),e.R7$(2),e.JRh((null==(y=P.formGroup.get("parrotCopyPetBelugaSwallowedPet"))?null:y.value)||"Select Pet")}}function TA(u,h){if(1&u&&(e.j41(0,"span",13),e.nrm(1,"img",52),e.j41(2,"span",15),e.EFF(3),e.k0s()()),2&u){const l=h.ngIf,y=e.XpG().index,P=e.XpG(3);e.R7$(),e.Y8G("ngSrc",l),e.R7$(2),e.JRh(P.getParrotAbominationAbilityLevel(y))}}function G_(u,h){if(1&u&&(e.j41(0,"div",53)(1,"label",21),e.EFF(2,"Times Hurt"),e.k0s(),e.nrm(3,"input",22),e.k0s()),2&u){const l=e.XpG().index;e.R7$(3),e.Y8G("formControlName","parrotCopyPetAbominationSwallowedPet"+(l+1)+"TimesHurt")}}function H_(u,h){if(1&u){const l=e.RV6();e.j41(0,"div")(1,"label",6),e.EFF(2),e.k0s(),e.j41(3,"button",50),e.bIt("click",function(){const P=v.eBV(l).index,C=e.XpG(3);return v.Njj(C.openSelectionDialog("ability",P+1,"parrot-abomination"))}),e.DNE(4,TA,4,2,"span",9),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s(),e.DNE(8,G_,4,1,"div",51),e.k0s()}if(2&u){let l,y;const P=h.index,C=e.XpG(3);e.R7$(2),e.JRh(C.getParrotAbominationAbilityTitle(P)),e.R7$(2),e.Y8G("ngIf",C.getAbilityImagePath(null==(l=C.formGroup.get("parrotCopyPetAbominationSwallowedPet"+(P+1)))?null:l.value)),e.R7$(2),e.JRh((null==(y=C.formGroup.get("parrotCopyPetAbominationSwallowedPet"+(P+1)))?null:y.value)||"None"),e.R7$(2),e.Y8G("ngIf",C.shouldShowParrotCopyPetAbominationTimesHurt(P+1))}}function j_(u,h){if(1&u&&(e.j41(0,"div",47),e.DNE(1,H_,9,4,"div",4),e.k0s()),2&u){const l=e.XpG(2);e.R7$(),e.Y8G("ngForOf",e.lJ4(2,yh).constructor(l.getParrotCopyAbominationSlotCount()))("ngForTrackBy",l.trackByIndex)}}function qo(u,h){if(1&u){const l=e.RV6();e.j41(0,"div")(1,"label",6),e.EFF(2,"Parrot Copy"),e.k0s(),e.j41(3,"button",41),e.bIt("click",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.openSelectionDialog("ability",void 0,"parrot"))}),e.DNE(4,AA,1,1,"img",44),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s(),e.DNE(8,SA,8,2,"div",45)(9,j_,2,3,"div",45),e.k0s()}if(2&u){let l,y,P,C;const I=e.XpG();e.R7$(4),e.Y8G("ngIf",I.getAbilityImagePath(null==(l=I.formGroup.get("parrotCopyPet"))?null:l.value)),e.R7$(2),e.JRh((null==(y=I.formGroup.get("parrotCopyPet"))?null:y.value)||"Select Pet"),e.R7$(2),e.Y8G("ngIf","Beluga Whale"===(null==(P=I.formGroup.get("parrotCopyPet"))?null:P.value)),e.R7$(),e.Y8G("ngIf","Abomination"===(null==(C=I.formGroup.get("parrotCopyPet"))?null:C.value))}}function Cs(u,h){if(1&u&&e.nrm(0,"img",55),2&u){let l;const y=e.XpG(2);e.Y8G("ngSrc",y.getAbilityImagePath(null==(l=y.formGroup.get("sarcasticFringeheadSwallowedPet"))?null:l.value))}}function V_(u,h){if(1&u){const l=e.RV6();e.j41(0,"div")(1,"label",6),e.EFF(2,"Swallowed by Fringehead"),e.k0s(),e.j41(3,"button",41),e.bIt("click",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.openSelectionDialog("swallowed-pet",void 0,"pet"))}),e.DNE(4,Cs,1,1,"img",54),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s()()}if(2&u){let l,y;const P=e.XpG();e.R7$(4),e.Y8G("ngIf",P.getAbilityImagePath(null==(l=P.formGroup.get("sarcasticFringeheadSwallowedPet"))?null:l.value)),e.R7$(2),e.JRh((null==(y=P.formGroup.get("sarcasticFringeheadSwallowedPet"))?null:y.value)||"Select Pet")}}const DA=new Map((0,Mt.bf)().map(u=>[u.toLowerCase(),u])),z_=new Map((0,Mt.Eo)().map(u=>[u.toLowerCase(),u])),kD=new Map((0,Mt.oI)().map(u=>[u.toLowerCase(),u])),wD=new Set(Object.values(ja.U).flat().map(u=>`${u}`.toLowerCase()));let Y_=(()=>{class u{formGroup;pet=null;openSelection=new v.bkB;getPetImagePath(l){return(0,Mt.EA)(l)}getAbilityImagePath(l){if(!l)return null;const y=l.trim().toLowerCase(),P=DA.get(y);if(P)return(0,Mt.EA)(P);const C=z_.get(y);if(C)return(0,Mt.bG)(C);const I=kD.get(y);return I?(0,Mt.ht)(I,wD.has(y)):null}trackByIndex(l){return l}getParrotCopyAbominationSlotCount(){return 3}getAbominationAbilityLevel(l){return this.getLevelValue(`abominationSwallowedPet${l+1}Level`)}getNestedAbominationAbilityLevel(l,y){return this.getLevelValue(`abominationSwallowedPet${l+1}ParrotCopyPetAbominationSwallowedPet${y+1}Level`)}getParrotAbominationAbilityLevel(l){return this.getLevelValue(`parrotCopyPetAbominationSwallowedPet${l+1}Level`)}getAbilityTitle(l){const y=l+1;return`Ability ${y} - Level ${this.getLevelValue(`abominationSwallowedPet${y}Level`)}`}getNestedAbominationAbilityTitle(l,y){const C=y+1;return`Nested Slot ${C} - Level ${this.getLevelValue(`abominationSwallowedPet${l+1}ParrotCopyPetAbominationSwallowedPet${C}Level`)}`}getParrotAbominationAbilityTitle(l){const y=l+1;return`Ability ${y} - Level ${this.getLevelValue(`parrotCopyPetAbominationSwallowedPet${y}Level`)}`}supportsTimesHurt(l){return yr(l)}shouldShowParrotCopyPetAbominationParrotAbominationTimesHurt(l,y){const P=this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${l}ParrotCopyPetAbominationSwallowedPet${y}`)?.value;return this.supportsTimesHurt(P)}shouldShowParrotCopyPetAbominationTimesHurt(l){const y=this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${l}`)?.value;return this.supportsTimesHurt(y)}shouldShowAbominationParrotCopyAbominationTimesHurt(l,y){const P=this.formGroup.get(`abominationSwallowedPet${l}ParrotCopyPetAbominationSwallowedPet${y}`)?.value;return this.supportsTimesHurt(P)}shouldShowAbominationSwallowTimesHurt(l){const y=this.formGroup.get(`abominationSwallowedPet${l+1}`)?.value;return this.supportsTimesHurt(y)}getLevelValue(l){const y=this.formGroup.get(l)?.value,P=Number(y);return!Number.isFinite(P)||P<1||P>3?1:P}openSelectionDialog(l,y,P="pet",C){this.openSelection.emit({type:l,index:y,target:P,parentIndex:C})}static \u0275fac=function(y){return new(y||u)};static \u0275cmp=e.VBU({type:u,selectors:[["app-swallowed-pet-selector"]],hostAttrs:[2,"display","contents"],inputs:{formGroup:"formGroup",pet:"pet"},outputs:{openSelection:"openSelection"},decls:6,vars:5,consts:[[3,"formGroup"],["class","col-12 mb-2",4,"ngIf"],[1,"col-12","mb-2"],[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"swallowed-slot","mb-2"],[1,"swallowed-label"],[1,"d-flex","align-items-center","gap-2"],["type","button",1,"btn","selection-btn","flex-grow-1","d-flex","align-items-center",3,"click"],["class","selection-icon-wrap",4,"ngIf"],[1,"selection-text"],[1,"fas","fa-chevron-down","ms-auto"],["class","swallowed-nested mt-2 ps-3 border-start",4,"ngIf"],[1,"selection-icon-wrap"],["width","24","height","24","loading","lazy","decoding","async","alt","Ability",1,"selection-icon",3,"ngSrc"],[1,"selection-level-badge"],[1,"swallowed-nested","mt-2","ps-3","border-start"],["class","form-group small-w-input mb-2",4,"ngIf"],["class","nested-selection mb-2",4,"ngIf"],["class","nested-selection",4,"ngIf"],[1,"form-group","small-w-input","mb-2"],[1,"swallowed-label-small"],["type","number","min","0","max","99",1,"form-control","form-control-sm",3,"formControlName"],[1,"nested-selection","mb-2"],["type","button",1,"btn","selection-btn","btn-sm","w-100","d-flex","align-items-center",3,"click"],["class","selection-icon","width","20","height","20","loading","lazy","decoding","async","alt","Beluga Swallowed Pet",3,"ngSrc",4,"ngIf"],["width","20","height","20","loading","lazy","decoding","async","alt","Beluga Swallowed Pet",1,"selection-icon",3,"ngSrc"],["class","selection-icon","width","20","height","20","loading","lazy","decoding","async","alt","Fringehead Swallowed Pet",3,"ngSrc",4,"ngIf"],["width","20","height","20","loading","lazy","decoding","async","alt","Fringehead Swallowed Pet",1,"selection-icon",3,"ngSrc"],[1,"nested-selection"],["class","selection-icon","width","20","height","20","loading","lazy","decoding","async","alt","Parrot Copy Pet",3,"ngSrc",4,"ngIf"],["class","mt-2 ps-2 border-start",4,"ngIf"],["width","20","height","20","loading","lazy","decoding","async","alt","Parrot Copy Pet",1,"selection-icon",3,"ngSrc"],[1,"mt-2","ps-2","border-start"],["class","selection-icon","width","20","height","20","loading","lazy","decoding","async","alt","Nested Beluga",3,"ngSrc",4,"ngIf"],["width","20","height","20","loading","lazy","decoding","async","alt","Nested Beluga",1,"selection-icon",3,"ngSrc"],["type","button",1,"btn","selection-btn","btn-sm","w-100","d-flex","align-items-center","mb-1",3,"click"],["class","form-group small-w-input mb-1 ms-2",4,"ngIf"],["width","20","height","20","loading","lazy","decoding","async","alt","Nested Abom Slot",1,"selection-icon",3,"ngSrc"],[1,"form-group","small-w-input","mb-1","ms-2"],[1,"swallowed-label-tiny"],["type","button",1,"btn","selection-btn","w-100","d-flex","align-items-center",3,"click"],["class","selection-icon","width","24","height","24","loading","lazy","decoding","async","alt","Beluga Swallowed",3,"ngSrc",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Beluga Swallowed",1,"selection-icon",3,"ngSrc"],["class","selection-icon","width","24","height","24","loading","lazy","decoding","async","alt","Parrot Copy",3,"ngSrc",4,"ngIf"],["class","mt-2 ps-3 border-start",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Parrot Copy",1,"selection-icon",3,"ngSrc"],[1,"mt-2","ps-3","border-start"],["class","selection-icon","width","24","height","24","loading","lazy","decoding","async","alt","Nested Beluga",3,"ngSrc",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Nested Beluga",1,"selection-icon",3,"ngSrc"],["type","button",1,"btn","selection-btn","w-100","d-flex","align-items-center","mb-2",3,"click"],["class","form-group small-w-input mb-2 ms-3",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Nested Abom Slot",1,"selection-icon",3,"ngSrc"],[1,"form-group","small-w-input","mb-2","ms-3"],["class","selection-icon","width","24","height","24","loading","lazy","decoding","async","alt","Fringehead Swallowed",3,"ngSrc",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Fringehead Swallowed",1,"selection-icon",3,"ngSrc"]],template:function(y,P){1&y&&(e.qex(0,0),e.DNE(1,PA,2,3,"div",1),e.j41(2,"div",2),e.DNE(3,CD,8,2,"div",3)(4,qo,10,4,"div",3)(5,V_,8,2,"div",3),e.k0s(),e.bVm()),2&y&&(e.Y8G("formGroup",P.formGroup),e.R7$(),e.Y8G("ngIf","Abomination"===(null==P.pet?null:P.pet.name)),e.R7$(2),e.Y8G("ngIf","Beluga Whale"===(null==P.pet?null:P.pet.name)),e.R7$(),e.Y8G("ngIf","Parrot"===(null==P.pet?null:P.pet.name)),e.R7$(),e.Y8G("ngIf","Sarcastic Fringehead"===(null==P.pet?null:P.pet.name)))},dependencies:[jt.MD,jt.Sq,jt.bT,bi,ue.X1,ue.me,ue.Q0,ue.BC,ue.cb,ue.VZ,ue.zX,ue.j4,ue.JD],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/fist-from-textmap.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/heart-from-textmap.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/mana-from-textmap.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-stack-item[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center}.swallowed-beluga-nested[_ngcontent-%COMP%]{width:16px!important;height:16px!important;margin-left:-4px;margin-top:2px;z-index:1}.swallowed-label[_ngcontent-%COMP%]{font-weight:500;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}.swallowed-label-small[_ngcontent-%COMP%], .swallowed-label-tiny[_ngcontent-%COMP%]{color:#ffffffe6;font-weight:500;text-transform:uppercase;letter-spacing:.03em;text-shadow:0 1px 2px rgba(0,0,0,.75)}.swallowed-label-small[_ngcontent-%COMP%]{font-size:.68rem}.swallowed-label-tiny[_ngcontent-%COMP%]{font-size:.62rem}.selection-icon-wrap[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;justify-content:center;margin-right:.4rem}.selection-level-badge[_ngcontent-%COMP%]{position:absolute;right:-6px;bottom:-6px;min-width:14px;height:14px;padding:0 3px;border-radius:999px;background:#000000d1;border:1px solid rgba(255,255,255,.45);color:#fff;font-size:.56rem;line-height:12px;text-align:center;font-weight:700;text-shadow:none}.swallowed-nested[_ngcontent-%COMP%]{background:#00000047;border-radius:10px;padding:.5rem .6rem;box-shadow:0 8px 20px #0006}.swallowed-nested[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%], .swallowed-slot[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%]{border-left-color:#fff3!important}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;text-shadow:0 1px 2px rgba(0,0,0,.75);padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:500;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:400;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;color:#fff!important;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:focus-visible, .selection-btn[_ngcontent-%COMP%]:active{color:#fff!important;transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .selection-text[_ngcontent-%COMP%], .selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.15;letter-spacing:.025em;color:#fff;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;text-shadow:0 1px 0 rgba(0,0,0,.6),0 0 2px rgba(0,0,0,.45)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:500;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"]})}return u})();const Ph="sapSoundMuted",MA="sapSoundVolume";function yc(){return typeof window<"u"&&typeof window.localStorage<"u"}function Ah(){if(!yc())return!1;try{return"true"===window.localStorage.getItem(Ph)}catch{return!1}}function bc(u){if(yc())try{window.localStorage.setItem(Ph,u?"true":"false")}catch{}}function Eh(){if(!yc())return 1;try{const u=window.localStorage.getItem(MA);if(null==u||""===u)return 1;const h=Number(u);return Number.isFinite(h)?Math.min(1,Math.max(0,h)):1}catch{return 1}}function X_(u){if(!yc())return;const h=Number.isFinite(u)?Math.min(1,Math.max(0,u)):1;try{window.localStorage.setItem(MA,String(h))}catch{}}function Ys(u,h){return null==u?null:h(u)}function Pc(u,h,l){return null==u||null==h?null:l(u,h)}function Qr(u,h){return l=>l.lift(new kA(u,h))}class kA{constructor(h,l){this.compare=h,this.keySelector=l}call(h,l){return l.subscribe(new wA(h,this.compare,this.keySelector))}}class wA extends Xi.v{constructor(h,l,y){super(h),this.keySelector=y,this.hasKey=!1,"function"==typeof l&&(this.compare=l)}compare(h,l){return h===l}_next(h){let l;try{const{keySelector:P}=this;l=P?P(h):h}catch(P){return this.destination.error(P)}let y=!1;if(this.hasKey)try{const{compare:P}=this;y=P(this.key,l)}catch(P){return this.destination.error(P)}else this.hasKey=!0;y||(this.key=l,this.destination.next(h))}}let J_=(()=>{class u{petService;equipmentService;cdr;pet;player;opponent;index;ailments;allPets;mana;triggersConsumed;formGroup;customPacks;flipImage=!1;allowEquipmentUseOverrides;equipment;ailmentEquipment;equipmentCategoryGroups=[];ailmentCategoryGroups=[];turtlePackPets;pets;startOfBattlePets;attackHealthMax=100;petImageBroken=!1;equipmentImageBroken=!1;compareEquipment=(l,y)=>l?.name===y?.name;basePackSets=new Map;friendsDiedCaps=new Map([["Vulture",1],["Saiga Antelope",1],["Secretary Bird",1],["Mimic",2]]);customPackPetsCache=new Map;cachedPlayerPack=null;cachedOpponentPack=null;cachedPlayerPackSet=null;cachedOpponentPackSet=null;customPackSubscription=null;destroy$=new ei.B7;showTokenPets=!1;showSelectionDialog=!1;selectionType="pet";swallowedPetIndex;swallowedPetParentIndex;swallowedPetTarget="pet";forceShowAllPets=!1;lockSelectionLevel=!1;lockedSelectionLevel=1;tokenPets=ed;constructor(l,y,P){this.petService=l,this.equipmentService=y,this.cdr=P}optionHidden(l){return!(this.allPets||this.getPlayerPackSet().has(l)||this.player.getPet(this.index)?.name==l)}initPackSets(){for(const l of ba.$)this.basePackSets.set(l,this.buildPackSetFromMap(this.petService.basePackPetsByName[l]))}buildPackSetFromMap(l){const y=new Set;for(const P of l.values())for(const C of P)y.add(C);return y}invalidatePackCaches(){this.customPackPetsCache.clear(),this.cachedPlayerPack=null,this.cachedOpponentPack=null,this.cachedPlayerPackSet=null,this.cachedOpponentPackSet=null}getPlayerPackSet(){const l=this.player?.pack||"Turtle";return(this.cachedPlayerPack!==l||!this.cachedPlayerPackSet)&&(this.cachedPlayerPack=l,this.cachedPlayerPackSet=this.getPackSetForName(l)),this.cachedPlayerPackSet}getOpponentPackSet(){const l=this.opponent?.pack||"Turtle";return(this.cachedOpponentPack!==l||!this.cachedOpponentPackSet)&&(this.cachedOpponentPack=l,this.cachedOpponentPackSet=this.getPackSetForName(l)),this.cachedOpponentPackSet}getPackSetForName(l){const y=this.basePackSets.get(l);if(y)return y;const P=this.customPackPetsCache.get(l);if(P)return P;const C=this.buildCustomPackSet(l);return this.customPackPetsCache.set(l,C),C}buildCustomPackSet(l){const y=this.basePackSets.get("Turtle")??new Set,P=this.customPacks;if(!P?.controls?.length)return y;const C=P.controls.find(W=>W.get("name").value===l);if(!C)return y;const I=new Set;for(let W=1;W<=6;W++){const X=C.get(`tier${W}Pets`).value||[];for(const z of X)z&&I.add(z)}return I}fixLoadEquipment(){const l=this.formGroup.get("equipment").value,y=this.normalizeEquipmentValue(l);y!==l&&setTimeout(()=>{this.formGroup.get("equipment").setValue(y,{emitEvent:!1}),this.formGroup.get("equipment").updateValueAndValidity({emitEvent:!1})})}normalizeEquipmentValue(l){return l?"string"==typeof l?l:"object"==typeof l&&null!==l&&"string"==typeof l.name?l.name:null:null}getSelectedEquipmentName(){return this.normalizeEquipmentValue(this.formGroup?.get("equipment")?.value)}getSelectedEquipment(){const l=this.getSelectedEquipmentName();return l?this.equipment.get(l)??this.ailmentEquipment.get(l)??null:null}static \u0275fac=function(y){return new(y||u)(e.rXU(Ms.T),e.rXU(oa.m),e.rXU(t.gRc))};static \u0275dir=e.FsC({type:u,inputs:{pet:"pet",player:"player",opponent:"opponent",index:"index",ailments:"ailments",allPets:"allPets",mana:"mana",triggersConsumed:"triggersConsumed",formGroup:"formGroup",customPacks:"customPacks",flipImage:"flipImage",allowEquipmentUseOverrides:"allowEquipmentUseOverrides",showTokenPets:"showTokenPets"}})}return u})(),OA=(()=>{class u extends J_{substitutePet(l=!1){}setAbominationParrotCopySettings(l){let y=this.player.getPet(this.index);if(null==y)return;const P=[1,2,3];for(const C of P){const I=`abominationSwallowedPet${C}`;if("Parrot"!==this.formGroup.get(I)?.value){this.clearAbominationParrotCopySettings(y,C);continue}const X=this.formGroup.get(`${I}ParrotCopyPet`)?.value??null,z=this.formGroup.get(`${I}ParrotCopyPetBelugaSwallowedPet`)?.value??null;if(this.setPetField(y,`${I}ParrotCopyPet`,X),this.setPetField(y,`${I}ParrotCopyPetBelugaSwallowedPet`,"Beluga Whale"===X?z:null),"Beluga Whale"!==X&&this.formGroup.get(`${I}ParrotCopyPetBelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),"Abomination"===X)for(let pe=1;pe<=3;pe++){const Me=`${I}ParrotCopyPetAbominationSwallowedPet${pe}`,Re=this.formGroup.get(Me)?.value??null,$e=this.formGroup.get(`${Me}BelugaSwallowedPet`)?.value??null,ft=Number(this.formGroup.get(`${Me}Level`)?.value??1);this.setPetField(y,Me,Re),this.setPetField(y,`${Me}BelugaSwallowedPet`,"Beluga Whale"===Re?$e:null),this.setPetField(y,`${Me}Level`,ft||1),this.setPetField(y,`${Me}TimesHurt`,this.getAbominationParrotCopyAbominationTimesHurtValue(`${Me}TimesHurt`)),"Beluga Whale"!==Re&&this.formGroup.get(`${Me}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1})}else this.clearAbominationParrotCopyAbominationSettings(y,C)}}shouldShowAbominationParrotCopyAbominationTimesHurt(l,y){const P=this.formGroup.get(`abominationSwallowedPet${l}ParrotCopyPetAbominationSwallowedPet${y}`);return yr(P?.value)}setParrotCopyPetAbominationSwallowedPets(l){let y=this.player.getPet(this.index);if(null==y)return;const P=this.formGroup.get("parrotCopyPetAbominationSwallowedPet1")?.value,C=this.formGroup.get("parrotCopyPetAbominationSwallowedPet2")?.value,I=this.formGroup.get("parrotCopyPetAbominationSwallowedPet3")?.value,W=this.formGroup.get("parrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet")?.value??null,X=this.formGroup.get("parrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet")?.value??null,z=this.formGroup.get("parrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet")?.value??null,pe=Number(this.formGroup.get("parrotCopyPetAbominationSwallowedPet1Level")?.value??1),Me=Number(this.formGroup.get("parrotCopyPetAbominationSwallowedPet2Level")?.value??1),Re=Number(this.formGroup.get("parrotCopyPetAbominationSwallowedPet3Level")?.value??1);y.parrotCopyPetAbominationSwallowedPet1=P??null,y.parrotCopyPetAbominationSwallowedPet2=C??null,y.parrotCopyPetAbominationSwallowedPet3=I??null,y.parrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet="Beluga Whale"===P?W:null,y.parrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet="Beluga Whale"===C?X:null,y.parrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet="Beluga Whale"===I?z:null,"Beluga Whale"!==P&&this.formGroup.get("parrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet")?.setValue(null,{emitEvent:!1}),"Beluga Whale"!==C&&this.formGroup.get("parrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet")?.setValue(null,{emitEvent:!1}),"Beluga Whale"!==I&&this.formGroup.get("parrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet")?.setValue(null,{emitEvent:!1}),y.parrotCopyPetAbominationSwallowedPet1Level=pe||1,y.parrotCopyPetAbominationSwallowedPet2Level=Me||1,y.parrotCopyPetAbominationSwallowedPet3Level=Re||1,y.parrotCopyPetAbominationSwallowedPet1TimesHurt=this.getParrotAbominationTimesHurtValue("parrotCopyPetAbominationSwallowedPet1TimesHurt"),y.parrotCopyPetAbominationSwallowedPet2TimesHurt=this.getParrotAbominationTimesHurtValue("parrotCopyPetAbominationSwallowedPet2TimesHurt"),y.parrotCopyPetAbominationSwallowedPet3TimesHurt=this.getParrotAbominationTimesHurtValue("parrotCopyPetAbominationSwallowedPet3TimesHurt"),this.setParrotCopyPetAbominationParrotSettings(null)}setParrotCopyPetAbominationParrotSettings(l){let y=this.player.getPet(this.index);if(null!=y)for(let P=1;P<=3;P++){const C=`parrotCopyPetAbominationSwallowedPet${P}`;if("Parrot"!==this.formGroup.get(C)?.value){this.clearParrotCopyPetAbominationParrotSettings(y,P);continue}const W=this.formGroup.get(`${C}ParrotCopyPet`)?.value??null,X=this.formGroup.get(`${C}ParrotCopyPetBelugaSwallowedPet`)?.value??null;if(this.setPetField(y,`${C}ParrotCopyPet`,W),this.setPetField(y,`${C}ParrotCopyPetBelugaSwallowedPet`,"Beluga Whale"===W?X:null),"Beluga Whale"!==W&&this.formGroup.get(`${C}ParrotCopyPetBelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),"Abomination"===W)for(let z=1;z<=3;z++){const pe=`${C}ParrotCopyPetAbominationSwallowedPet${z}`,Me=this.formGroup.get(pe)?.value??null,Re=this.formGroup.get(`${pe}BelugaSwallowedPet`)?.value??null,$e=Number(this.formGroup.get(`${pe}Level`)?.value??1);this.setPetField(y,pe,Me),this.setPetField(y,`${pe}BelugaSwallowedPet`,"Beluga Whale"===Me?Re:null),this.setPetField(y,`${pe}Level`,$e||1),this.setPetField(y,`${pe}TimesHurt`,this.getParrotCopyPetAbominationParrotAbominationTimesHurtValue(`${pe}TimesHurt`)),"Beluga Whale"!==Me&&this.formGroup.get(`${pe}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1})}else this.clearParrotCopyPetAbominationParrotAbominationSettings(y,P)}}shouldShowParrotCopyPetAbominationParrotAbominationTimesHurt(l,y){const P=this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${l}ParrotCopyPetAbominationSwallowedPet${y}`);return yr(P?.value)}shouldShowParrotCopyPetAbominationTimesHurt(l){const y=this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${l+1}`);return yr(y?.value)}setSarcasticFringeheadSwallowedPet(l){let y=this.player.getPet(this.index);null!=y&&(y.sarcasticFringeheadSwallowedPet=l)}setSwallowedPets(l){const y=this.player.getPet(this.index);if(null==y)return;const P=this.normalizeAbominationSwallowedSlots(y);y.abominationSwallowedPet1=P[0].name,y.abominationSwallowedPet2=P[1].name,y.abominationSwallowedPet3=P[2].name,y.abominationSwallowedPet1BelugaSwallowedPet=P[0].beluga,y.abominationSwallowedPet2BelugaSwallowedPet=P[1].beluga,y.abominationSwallowedPet3BelugaSwallowedPet=P[2].beluga,y.abominationSwallowedPet1SarcasticFringeheadSwallowedPet=P[0].sarcastic,y.abominationSwallowedPet2SarcasticFringeheadSwallowedPet=P[1].sarcastic,y.abominationSwallowedPet3SarcasticFringeheadSwallowedPet=P[2].sarcastic,y.abominationSwallowedPet1Level=P[0].level,y.abominationSwallowedPet2Level=P[1].level,y.abominationSwallowedPet3Level=P[2].level,y.abominationSwallowedPet1TimesHurt=this.getAbominationTimesHurtValue("abominationSwallowedPet1TimesHurt"),y.abominationSwallowedPet2TimesHurt=this.getAbominationTimesHurtValue("abominationSwallowedPet2TimesHurt"),y.abominationSwallowedPet3TimesHurt=this.getAbominationTimesHurtValue("abominationSwallowedPet3TimesHurt"),this.setAbominationParrotCopySettings(null),this.substitutePet(!1)}shouldShowAbominationSwallowTimesHurt(l){const y=this.formGroup.get(`abominationSwallowedPet${l+1}`);return yr(y?.value)}setBattlesFought(l){let y=this.player.getPet(this.index);null!=y&&(y.battlesFought=l)}setTimesHurt(l){let y=this.player.getPet(this.index);null!=y&&(y.timesHurt=l,this.substitutePet(!1))}getAbominationParrotCopyAbominationTimesHurtValue(l){const y=this.formGroup.get(l);if(!y)return 0;const P=Number(y.value);return Number.isNaN(P)?0:Math.max(0,Math.min(99,P))}clearAbominationParrotCopySettings(l,y){const P=`abominationSwallowedPet${y}`;this.setPetField(l,`${P}ParrotCopyPet`,null),this.setPetField(l,`${P}ParrotCopyPetBelugaSwallowedPet`,null),this.formGroup.get(`${P}ParrotCopyPet`)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${P}ParrotCopyPetBelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.clearAbominationParrotCopyAbominationSettings(l,y)}clearAbominationParrotCopyAbominationSettings(l,y){for(let P=1;P<=3;P++){const C=`abominationSwallowedPet${y}ParrotCopyPetAbominationSwallowedPet${P}`;this.setPetField(l,C,null),this.setPetField(l,`${C}BelugaSwallowedPet`,null),this.setPetField(l,`${C}Level`,1),this.setPetField(l,`${C}TimesHurt`,0),this.formGroup.get(C)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${C}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${C}Level`)?.setValue(1,{emitEvent:!1}),this.formGroup.get(`${C}TimesHurt`)?.setValue(0,{emitEvent:!1})}}getParrotCopyPetAbominationParrotAbominationTimesHurtValue(l){const y=this.formGroup.get(l);if(!y)return 0;const P=Number(y.value);return Number.isNaN(P)?0:Math.max(0,Math.min(99,P))}clearParrotCopyPetAbominationParrotSettings(l,y){const P=`parrotCopyPetAbominationSwallowedPet${y}`;this.setPetField(l,`${P}ParrotCopyPet`,null),this.setPetField(l,`${P}ParrotCopyPetBelugaSwallowedPet`,null),this.formGroup.get(`${P}ParrotCopyPet`)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${P}ParrotCopyPetBelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.clearParrotCopyPetAbominationParrotAbominationSettings(l,y)}clearParrotCopyPetAbominationParrotAbominationSettings(l,y){for(let P=1;P<=3;P++){const C=`parrotCopyPetAbominationSwallowedPet${y}ParrotCopyPetAbominationSwallowedPet${P}`;this.setPetField(l,C,null),this.setPetField(l,`${C}BelugaSwallowedPet`,null),this.setPetField(l,`${C}Level`,1),this.setPetField(l,`${C}TimesHurt`,0),this.formGroup.get(C)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${C}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${C}Level`)?.setValue(1,{emitEvent:!1}),this.formGroup.get(`${C}TimesHurt`)?.setValue(0,{emitEvent:!1})}}getParrotAbominationTimesHurtValue(l){const y=this.formGroup.get(l);if(!y)return 0;const P=Number(y.value);return Number.isNaN(P)?0:Math.max(0,Math.min(99,P))}clearParrotCopyPetAbominationSettings(l){for(const y of td){const P=y.endsWith("Level")?1:y.endsWith("TimesHurt")?0:null;this.setPetField(l,y,P),this.formGroup.get(y)?.setValue(P,{emitEvent:!1})}for(let y=1;y<=3;y++)this.clearParrotCopyPetAbominationParrotSettings(l,y)}getAbominationTimesHurtValue(l){const y=this.formGroup.get(l);if(!y)return 0;const P=Number(y.value);return Number.isNaN(P)?0:Math.max(0,Math.min(99,P))}normalizeAbominationSwallowedSlots(l){const y=[{index:1,name:this.formGroup.get("abominationSwallowedPet1")?.value??null,beluga:this.formGroup.get("abominationSwallowedPet1BelugaSwallowedPet")?.value??null,sarcastic:this.formGroup.get("abominationSwallowedPet1SarcasticFringeheadSwallowedPet")?.value??null,level:Number(this.formGroup.get("abominationSwallowedPet1Level")?.value??1)||1},{index:2,name:this.formGroup.get("abominationSwallowedPet2")?.value??null,beluga:this.formGroup.get("abominationSwallowedPet2BelugaSwallowedPet")?.value??null,sarcastic:this.formGroup.get("abominationSwallowedPet2SarcasticFringeheadSwallowedPet")?.value??null,level:Number(this.formGroup.get("abominationSwallowedPet2Level")?.value??1)||1},{index:3,name:this.formGroup.get("abominationSwallowedPet3")?.value??null,beluga:this.formGroup.get("abominationSwallowedPet3BelugaSwallowedPet")?.value??null,sarcastic:this.formGroup.get("abominationSwallowedPet3SarcasticFringeheadSwallowedPet")?.value??null,level:Number(this.formGroup.get("abominationSwallowedPet3Level")?.value??1)||1}];for(const P of y){const C="string"==typeof P.name&&P.name.trim().length>0?P.name:null;P.name=C,C?("Beluga Whale"!==C&&(P.beluga=null,this.formGroup.get(`abominationSwallowedPet${P.index}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1})),"Sarcastic Fringehead"!==C&&(P.sarcastic=null,this.formGroup.get(`abominationSwallowedPet${P.index}SarcasticFringeheadSwallowedPet`)?.setValue(null,{emitEvent:!1})),"Parrot"!==C&&this.clearAbominationParrotCopySettings(l,P.index)):(P.beluga=null,P.sarcastic=null,this.formGroup.get(`abominationSwallowedPet${P.index}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`abominationSwallowedPet${P.index}SarcasticFringeheadSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.clearAbominationParrotCopySettings(l,P.index))}return y}setPetField(l,y,P){l[y]=P}static \u0275fac=(()=>{let l;return function(P){return(l||(l=e.xGo(u)))(P||u)}})();static \u0275dir=e.FsC({type:u,features:[e.Vt3]})}return u})(),IA=(()=>{class u extends OA{setBelugaSwallow(l){let y=this.player.getPet(this.index);null!=y&&(y.belugaSwallowedPet=l)}setParrotCopyPet(l){let y=this.player.getPet(this.index);null!=y&&(y.parrotCopyPet=l,"Beluga Whale"!==l&&(y.parrotCopyPetBelugaSwallowedPet=null,this.formGroup.get("parrotCopyPetBelugaSwallowedPet")?.setValue(null,{emitEvent:!1})),"Abomination"!==l&&this.clearParrotCopyPetAbominationSettings(y))}setParrotCopyPetBelugaSwallowedPet(l){let y=this.player.getPet(this.index);null!=y&&(y.parrotCopyPetBelugaSwallowedPet=l)}getParrotCopyAbominationSlotCount(){const l=Number(this.formGroup.get("exp")?.value??0);return l<2?1:l<5?2:3}getAbominationSwallowedSlotCount(){const l=Number(this.formGroup.get("exp")?.value??0);return l<2?1:l<5?2:3}static \u0275fac=(()=>{let l;return function(P){return(l||(l=e.xGo(u)))(P||u)}})();static \u0275dir=e.FsC({type:u,features:[e.Vt3]})}return u})();const Ei=function RA(){const u=[];for(let h=1;h<=3;h++){const l=`abominationSwallowedPet${h}`;u.push(`${l}ParrotCopyPet`,`${l}ParrotCopyPetBelugaSwallowedPet`);for(let y=1;y<=3;y++){const P=`${l}ParrotCopyPetAbominationSwallowedPet${y}`;u.push(P,`${P}BelugaSwallowedPet`,`${P}Level`,`${P}TimesHurt`)}}return u}();let Sh=(()=>{class u extends IA{initForm(){this.formGroup.get("name").valueChanges.pipe(wn(this.destroy$),Qr()).subscribe(P=>{this.petImageBroken=!1,null!=P?this.substitutePet(!0):this.removePet()}),this.subscribeDebouncedStat("attack",0,100),this.subscribeDebouncedStat("health",0,100),this.formGroup.get("exp").valueChanges.pipe(wn(this.destroy$),Qr()).subscribe(()=>{this.substitutePet(!1)});const y=this.formGroup.get("equipmentUses");this.formGroup.get("equipment").valueChanges.pipe(wn(this.destroy$)).subscribe(P=>{this.equipmentImageBroken=!1;const C=this.normalizeEquipmentValue(P);C!==P&&this.formGroup.get("equipment").setValue(C,{emitEvent:!1}),C||y?.setValue(null,{emitEvent:!1}),this.substitutePet(!1)}),this.formGroup.get("equipmentUses")?.valueChanges.pipe(wn(this.destroy$),ra(0),Qr()).subscribe(()=>this.substitutePet(!1)),this.subscribeControl("belugaSwallowedPet",P=>this.setBelugaSwallow(P)),this.subscribeControl("parrotCopyPet",P=>this.setParrotCopyPet(P)),this.subscribeControl("parrotCopyPetBelugaSwallowedPet",P=>this.setParrotCopyPetBelugaSwallowedPet(P)),this.subscribeControls(td,P=>this.setParrotCopyPetAbominationSwallowedPets(P)),this.subscribeControls(x,P=>this.setParrotCopyPetAbominationParrotSettings(P)),this.subscribeControl("sarcasticFringeheadSwallowedPet",P=>this.setSarcasticFringeheadSwallowedPet(P)),this.subscribeControls(["abominationSwallowedPet1","abominationSwallowedPet2","abominationSwallowedPet3","abominationSwallowedPet1BelugaSwallowedPet","abominationSwallowedPet2BelugaSwallowedPet","abominationSwallowedPet3BelugaSwallowedPet","abominationSwallowedPet1SarcasticFringeheadSwallowedPet","abominationSwallowedPet2SarcasticFringeheadSwallowedPet","abominationSwallowedPet3SarcasticFringeheadSwallowedPet","abominationSwallowedPet1Level","abominationSwallowedPet2Level","abominationSwallowedPet3Level","abominationSwallowedPet1TimesHurt","abominationSwallowedPet2TimesHurt","abominationSwallowedPet3TimesHurt"],P=>this.setSwallowedPets(P)),this.subscribeControls(Ei,P=>this.setAbominationParrotCopySettings(P)),this.subscribeDebouncedStat("mana",0,50),this.subscribeDebouncedStat("triggersConsumed",0,10),this.subscribeDebouncedStat("foodsEaten",0,99),this.formGroup.get("friendsDiedBeforeBattle")?.valueChanges.pipe(wn(this.destroy$),ra(0),Qr()).subscribe(()=>{this.clampFriendsDiedBeforeBattle(),this.substitutePet(!1)}),this.formGroup.get("battlesFought").valueChanges.pipe(wn(this.destroy$),ra(0),Qr()).subscribe(P=>{this.setBattlesFought(P)}),this.formGroup.get("timesHurt").valueChanges.pipe(wn(this.destroy$),ra(0),Qr()).subscribe(P=>{this.setTimesHurt(P)})}subscribeDebouncedStat(l,y,P){this.formGroup.get(l)?.valueChanges.pipe(wn(this.destroy$),ra(0),Qr()).subscribe(()=>{this.clampControl(l,y,P),this.substitutePet(!1)})}subscribeControl(l,y){this.formGroup.get(l)?.valueChanges.pipe(wn(this.destroy$)).subscribe(P=>y(P??null))}subscribeControls(l,y){for(const P of l)this.subscribeControl(P,y)}substitutePet(l=!1){setTimeout(()=>{let y=this.formGroup.getRawValue();l&&(this.formGroup.get("attack").setValue(null,{emitEvent:!1}),this.formGroup.get("health").setValue(null,{emitEvent:!1}),this.formGroup.get("mana").setValue(null,{emitEvent:!1}),this.formGroup.get("triggersConsumed").setValue(null,{emitEvent:!1}),this.formGroup.get("foodsEaten").setValue(null,{emitEvent:!1}),y=this.formGroup.getRawValue()),this.applyStatCaps(y),y.equipment=this.normalizeEquipmentValue(y.equipment);let P=this.petService.createPet(y,this.player);this.player.setPet(this.index,P,!0),this.pet=P,this.cdr.markForCheck(),l&&(this.formGroup.get("attack").setValue(P.attack,{emitEvent:!1}),this.formGroup.get("health").setValue(P.health,{emitEvent:!1}),this.formGroup.get("mana").setValue(P.mana,{emitEvent:!1}),this.formGroup.get("triggersConsumed").setValue(P.triggersConsumed,{emitEvent:!1}),this.formGroup.get("foodsEaten").setValue(P.foodsEaten??0,{emitEvent:!1}),this.cdr.markForCheck())})}applyStatCaps(l){const y=this.getAttackHealthMax(l);this.attackHealthMax!==y&&(this.attackHealthMax=y,this.cdr.markForCheck());const P=this.clampValue(l.attack,0,y),C=this.clampValue(l.health,0,y),I=this.clampValue(l.mana,0,50),W=this.clampValue(l.triggersConsumed,0,10),X=this.clampValue(l.foodsEaten,0,99);P!==l.attack&&null!=l.attack&&(this.formGroup.get("attack").setValue(P,{emitEvent:!1}),l.attack=P),C!==l.health&&null!=l.health&&(this.formGroup.get("health").setValue(C,{emitEvent:!1}),l.health=C),I!==l.mana&&null!=l.mana&&(this.formGroup.get("mana").setValue(I,{emitEvent:!1}),l.mana=I),W!==l.triggersConsumed&&null!=l.triggersConsumed&&(this.formGroup.get("triggersConsumed").setValue(W,{emitEvent:!1}),l.triggersConsumed=W),X!==l.foodsEaten&&null!=l.foodsEaten&&(this.formGroup.get("foodsEaten").setValue(X,{emitEvent:!1}),l.foodsEaten=X)}getAttackHealthMax(l){return"Abomination"!==l.name||[this.formGroup.get("abominationSwallowedPet1")?.value,this.formGroup.get("abominationSwallowedPet2")?.value,this.formGroup.get("abominationSwallowedPet3")?.value].some(C=>"Behemoth"===C)?100:50}clampControl(l,y,P){const C=this.formGroup.get(l);if(!C)return;const I=C.value,W=this.clampValue(I,y,P);W!==I&&null!=I&&""!==I&&C.setValue(W,{emitEvent:!1})}clampValue(l,y,P){if(null==l||""===l)return l;const C=Number(l);return Number.isNaN(C)?l:Math.min(P,Math.max(y,C))}removePet(){this.player.setPet(this.index,null,!0),this.formGroup.get("name").setValue(null,{emitEvent:!1}),this.formGroup.get("attack").setValue(0,{emitEvent:!1}),this.formGroup.get("health").setValue(0,{emitEvent:!1}),this.formGroup.get("exp").setValue(0,{emitEvent:!1}),this.formGroup.get("equipment").setValue(null,{emitEvent:!1}),this.formGroup.get("equipmentUses").setValue(null,{emitEvent:!1}),this.formGroup.get("mana").setValue(0,{emitEvent:!1}),this.formGroup.get("triggersConsumed").setValue(0,{emitEvent:!1}),this.formGroup.get("foodsEaten").setValue(0,{emitEvent:!1})}clampFriendsDiedBeforeBattle(){const l=this.getFriendsDiedMax();this.clampControl("friendsDiedBeforeBattle",0,l)}getFriendsDiedMax(){const l=this.formGroup.get("name").value;return this.friendsDiedCaps.get(l)??5}static \u0275fac=(()=>{let l;return function(P){return(l||(l=e.xGo(u)))(P||u)}})();static \u0275dir=e.FsC({type:u,features:[e.Vt3]})}return u})();const LA=new Map((0,Mt.bf)().map(u=>[u.toLowerCase(),u])),Q_=new Map((0,Mt.Eo)().map(u=>[u.toLowerCase(),u])),nd=new Map((0,Mt.oI)().map(u=>[u.toLowerCase(),u])),xA=new Set(Object.values(ja.U).flat().map(u=>`${u}`.toLowerCase()));let Th=(()=>{class u extends Sh{get abominationSwallowedPetArt(){if("Abomination"!==this.formGroup?.get("name")?.value)return[];const y=[{name:this.formGroup.get("abominationSwallowedPet1")?.value,belugaSwallowed:this.formGroup.get("abominationSwallowedPet1BelugaSwallowedPet")?.value},{name:this.formGroup.get("abominationSwallowedPet2")?.value,belugaSwallowed:this.formGroup.get("abominationSwallowedPet2BelugaSwallowedPet")?.value},{name:this.formGroup.get("abominationSwallowedPet3")?.value,belugaSwallowed:this.formGroup.get("abominationSwallowedPet3BelugaSwallowedPet")?.value}],P=[];for(const C of y){if(!C.name)continue;const I=this.getSelectionImagePath(C.name);if(!I)continue;const W="Beluga Whale"===C.name&&C.belugaSwallowed?this.getSelectionImagePath(C.belugaSwallowed):null;P.push({image:I,belugaSwallowedImage:W})}return P}trackByIndex(l){return l}ngOnInit(){this.initPackSets()}ngOnChanges(l){(l.formGroup||l.pet||l.index||l.player)&&this.initSelector()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.customPackSubscription&&this.customPackSubscription.unsubscribe()}initSelector(){this.destroy$.next(),this.initPets(),this.initEquipment(),this.initForm(),this.customPackSubscription?.unsubscribe(),this.customPackSubscription=this.customPacks?.valueChanges?.subscribe(()=>{this.invalidatePackCaches()})??null,this.fixLoadEquipment()}openSelectionDialog(l,y,P="pet",C){this.selectionType=l,this.swallowedPetIndex=y,this.swallowedPetTarget=P,this.swallowedPetParentIndex=C;const I=this.isParrotCopyTarget(P);this.forceShowAllPets=("swallowed-pet"===l||"ability"===l)&&I,this.lockSelectionLevel="ability"===l&&I,this.lockedSelectionLevel=this.lockSelectionLevel?this.getCurrentPetLevel():1,this.showSelectionDialog=!0}onItemSelected(l){if(l instanceof Event)this.closeSelectionDialog();else{if("pet"===this.selectionType)"string"==typeof l&&this.playSelectedPetSound(l),this.formGroup.get("name").setValue(l);else if("equipment"===this.selectionType){const y="string"==typeof l?l:l&&"object"==typeof l&&"string"==typeof l.name?l.name:null;this.formGroup.get("equipment").setValue(y)}else if("swallowed-pet"===this.selectionType||"ability"===this.selectionType){const y="object"==typeof l&&null!==l&&"name"in l&&"level"in l,P=y?l.name:l,C=y?l.level:void 0,I=function rs({target:u,swallowedPetIndex:h,swallowedPetParentIndex:l,petName:y}){switch(u){case"abomination-beluga":return Ys(h,P=>`abominationSwallowedPet${P}BelugaSwallowedPet`);case"abomination-sarcastic":return Ys(h,P=>`abominationSwallowedPet${P}SarcasticFringeheadSwallowedPet`);case"parrot":return"parrotCopyPet";case"parrot-beluga":return"parrotCopyPetBelugaSwallowedPet";case"parrot-abomination":return Ys(h,P=>`parrotCopyPetAbominationSwallowedPet${P}`);case"parrot-abomination-beluga":return Ys(h,P=>`parrotCopyPetAbominationSwallowedPet${P}BelugaSwallowedPet`);case"abomination-parrot":return Ys(h,P=>`abominationSwallowedPet${P}ParrotCopyPet`);case"abomination-parrot-beluga":return Ys(h,P=>`abominationSwallowedPet${P}ParrotCopyPetBelugaSwallowedPet`);case"abomination-parrot-abomination":return Pc(l,h,(P,C)=>`abominationSwallowedPet${P}ParrotCopyPetAbominationSwallowedPet${C}`);case"abomination-parrot-abomination-beluga":return Pc(l,h,(P,C)=>`abominationSwallowedPet${P}ParrotCopyPetAbominationSwallowedPet${C}BelugaSwallowedPet`);case"parrot-abomination-parrot":return Ys(h,P=>`parrotCopyPetAbominationSwallowedPet${P}ParrotCopyPet`);case"parrot-abomination-parrot-beluga":return Ys(h,P=>`parrotCopyPetAbominationSwallowedPet${P}ParrotCopyPetBelugaSwallowedPet`);case"parrot-abomination-parrot-abomination":return Pc(l,h,(P,C)=>`parrotCopyPetAbominationSwallowedPet${P}ParrotCopyPetAbominationSwallowedPet${C}`);case"parrot-abomination-parrot-abomination-beluga":return Pc(l,h,(P,C)=>`parrotCopyPetAbominationSwallowedPet${P}ParrotCopyPetAbominationSwallowedPet${C}BelugaSwallowedPet`);default:return function CA(u,h,l){return"Beluga Whale"===l?"belugaSwallowedPet":"abomination"===u||"Abomination"===l?Ys(h,y=>`abominationSwallowedPet${y}`):"Sarcastic Fringehead"===l?"sarcasticFringeheadSwallowedPet":null}(u,h,y)}}({target:this.swallowedPetTarget,swallowedPetIndex:this.swallowedPetIndex,swallowedPetParentIndex:this.swallowedPetParentIndex,petName:this.pet?.name});if(!I)return void this.closeSelectionDialog();if(this.formGroup.get(I)?.setValue(P),void 0!==C){const X=this.formGroup.get(`${I}Level`);X&&X.setValue(C)}}this.closeSelectionDialog()}}closeSelectionDialog(){this.showSelectionDialog=!1,this.forceShowAllPets=!1,this.lockSelectionLevel=!1,this.lockedSelectionLevel=1}setExp(l){this.formGroup.get("exp").setValue(l)}getIsSelected(l){return this.formGroup.get("exp").value>=l}showRemoveExp(){return this.formGroup.get("exp").value>0}get petImageSrc(){const l=this.formGroup?.get("name")?.value;if(!l)return null;const y=(0,Mt._s)(l);return y?`assets/art/Public/Public/Pets/${y}.png`:null}get swallowedPetImageSrc(){const l=this.formGroup?.get("name")?.value;if("Beluga Whale"===l)return this.getSelectionImagePath(this.formGroup.get("belugaSwallowedPet")?.value);if("Sarcastic Fringehead"===l)return this.getSelectionImagePath(this.formGroup.get("sarcasticFringeheadSwallowedPet")?.value);if("Parrot"===l){const y=this.formGroup.get("parrotCopyPetBelugaSwallowedPet")?.value;return this.getSelectionImagePath(y||this.formGroup.get("parrotCopyPet")?.value)}return null}get equipmentImageSrc(){const l=this.getSelectedEquipmentName();return!l||this.ailmentEquipment?.has(l)?null:(0,Mt.ht)(l,!1)}get ailmentImageSrc(){const l=this.getSelectedEquipmentName();return l&&this.ailmentEquipment?.has(l)?(0,Mt.ht)(l,!0):null}get equipmentSelected(){return!!this.getSelectedEquipmentName()}get equipmentHasUses(){return null!=this.getSelectedEquipment()?.uses}get equipmentUsesToggleId(){return`equipmentUsesToggle-${this.index??"none"}`}get equipmentUsesInputId(){return`equipmentUsesInput-${this.index??"none"}`}get equipmentUsesAvailable(){return this.equipmentSelected&&this.equipmentHasUses}getPetOptionStyle(l){const y=(0,Mt.EA)(l);return this.buildOptionStyle(y)}getEquipmentOptionStyle(l,y=!1){const P=(0,Mt.ht)(l?.name,y);return this.buildOptionStyle(P)}shouldShowFriendsDiedInput(){return this.friendsDiedCaps.has(this.formGroup.get("name").value)}getPetImagePath(l){if(!l)return null;const y=(0,Mt._s)(l);return y?`assets/art/Public/Public/Pets/${y}.png`:null}getSelectionImagePath(l){if(!l)return null;const y=l.trim().toLowerCase(),P=LA.get(y);if(P)return this.getPetImagePath(P);const C=Q_.get(y);if(C)return(0,Mt.bG)(C);const I=nd.get(y);return I?(0,Mt.ht)(I,xA.has(y)):null}isParrotCopyTarget(l){return fh.has(l)}getCurrentPetLevel(){const l=Number(this.formGroup?.get("exp")?.value??0);return Number.isFinite(l)?l>=5?3:l>=2?2:1:1}initPets(){this.pets=new Map;for(let l=1;l<=6;l++)this.pets.set(l,[]);for(const l of ba.d){const y=this.petService.basePackPetsByName[l];for(let[P,C]of y)this.pets.get(P).push(...C)}for(let[l,y]of this.pets)this.pets.set(l,[...new Set(y)]);this.initStartOfBattlePets()}initStartOfBattlePets(){this.startOfBattlePets=new Map;for(let l=1;l<=6;l++){let y=[];for(let P of this.pets.get(l))this.petService.startOfBattlePets.includes(P)&&y.push(P);this.startOfBattlePets.set(l,y)}}initEquipment(){this.equipment=this.equipmentService.getInstanceOfAllEquipment(),this.ailmentEquipment=this.equipmentService.getInstanceOfAllAilments(),this.equipmentCategoryGroups=this.buildCategoryGroups(ja.M,this.equipment),this.ailmentCategoryGroups=this.buildCategoryGroups(ja.U,this.ailmentEquipment)}buildCategoryGroups(l,y){return Object.entries(l).map(([P,C])=>{const I=[];for(const W of C){const X=y.get(W);X&&I.push(X)}return{label:P,items:I}}).filter(P=>P.items.length>0)}buildOptionStyle(l){return l?{"background-image":`url(${l})`,"background-repeat":"no-repeat","background-position":"left center","background-size":"24px 24px","padding-left":"2.5rem"}:{}}playSelectedPetSound(l){if(Ah())return;const y=Eh();if(y<=0)return;const P=(0,Mt.KK)(l);if(P&&!(typeof Audio>"u"))try{const C=new Audio(P);C.volume=y;const I=C.play();I&&"function"==typeof I.catch&&I.catch(()=>{})}catch{}}static \u0275fac=(()=>{let l;return function(P){return(l||(l=e.xGo(u)))(P||u)}})();static \u0275dir=e.FsC({type:u,features:[e.Vt3,e.OA$]})}return u})(),Ac=(()=>{class u extends Th{static \u0275fac=(()=>{let l;return function(P){return(l||(l=e.xGo(u)))(P||u)}})();static \u0275dir=e.FsC({type:u,features:[e.Vt3]})}return u})(),Dh=(()=>{class u extends Ac{static \u0275fac=(()=>{let l;return function(P){return(l||(l=e.xGo(u)))(P||u)}})();static \u0275dir=e.FsC({type:u,features:[e.Vt3]})}return u})(),q_=(()=>{class u extends Dh{static \u0275fac=(()=>{let l;return function(P){return(l||(l=e.xGo(u)))(P||u)}})();static \u0275dir=e.FsC({type:u,features:[e.Vt3]})}return u})();function Z_(u,h){if(1&u&&e.nrm(0,"img",13),2&u){const l=e.XpG();e.Y8G("ngSrc",l.petImageSrc)}}function ad(u,h){if(1&u){const l=e.RV6();e.j41(0,"img",21),e.bIt("error",function(){v.eBV(l);const P=e.XpG(3);return v.Njj(P.equipmentImageBroken=!0)}),e.k0s()}if(2&u){const l=e.XpG(3);e.Y8G("ngSrc",l.equipmentImageSrc)("alt",l.formGroup.get("equipment").value||"Equipment")}}function qr(u,h){if(1&u){const l=e.RV6();e.j41(0,"img",21),e.bIt("error",function(){v.eBV(l);const P=e.XpG(3);return v.Njj(P.equipmentImageBroken=!0)}),e.k0s()}if(2&u){const l=e.XpG(3);e.Y8G("ngSrc",l.ailmentImageSrc)("alt",l.formGroup.get("equipment").value||"Ailment")}}function sd(u,h){if(1&u&&(e.j41(0,"div",19),e.DNE(1,ad,1,2,"img",20)(2,qr,1,2,"img",20),e.k0s()),2&u){const l=e.XpG(2);e.R7$(),e.Y8G("ngIf",l.equipmentImageSrc),e.R7$(),e.Y8G("ngIf",!l.equipmentImageSrc&&l.ailmentImageSrc)}}function Mh(u,h){if(1&u&&(e.j41(0,"div",22),e.nrm(1,"img",23),e.k0s()),2&u){const l=e.XpG(2);e.R7$(),e.Y8G("ngSrc",l.swallowedPetImageSrc)}}function Ch(u,h){if(1&u&&e.nrm(0,"img",28),2&u){const l=e.XpG().$implicit;e.Y8G("ngSrc",l.belugaSwallowedImage)}}function BA(u,h){if(1&u&&(e.j41(0,"div",26),e.nrm(1,"img",23),e.DNE(2,Ch,1,1,"img",27),e.k0s()),2&u){const l=h.$implicit;e.R7$(),e.Y8G("ngSrc",l.image),e.R7$(),e.Y8G("ngIf",l.belugaSwallowedImage)}}function rd(u,h){if(1&u&&(e.j41(0,"div",24),e.DNE(1,BA,3,2,"div",25),e.k0s()),2&u){const l=e.XpG(2);e.R7$(),e.Y8G("ngForOf",l.abominationSwallowedPetArt)("ngForTrackBy",l.trackByIndex)}}function Zo(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",14)(1,"img",15),e.bIt("error",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.petImageBroken=!0)}),e.k0s(),e.DNE(2,sd,3,2,"div",16)(3,Mh,2,1,"div",17)(4,rd,2,2,"div",18),e.k0s()}if(2&u){const l=e.XpG();e.AVh("equipment-left",!l.flipImage)("equipment-right",l.flipImage),e.R7$(),e.AVh("flipped",l.flipImage),e.Y8G("ngSrc",l.petImageSrc)("alt",l.formGroup.get("name").value||"Pet"),e.R7$(),e.Y8G("ngIf",(l.equipmentImageSrc||l.ailmentImageSrc)&&!l.equipmentImageBroken),e.R7$(),e.Y8G("ngIf",l.swallowedPetImageSrc),e.R7$(),e.Y8G("ngIf",l.abominationSwallowedPetArt.length)}}function FA(u,h){if(1&u){const l=e.RV6();e.j41(0,"app-item-selection-dialog",29),e.bIt("select",function(P){v.eBV(l);const C=e.XpG();return v.Njj(C.onItemSelected(P))})("close",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.closeSelectionDialog())}),e.k0s()}if(2&u){const l=e.XpG();e.Y8G("type",l.selectionType)("showAllPets",l.allPets||l.forceShowAllPets)("currentPack",null==l.player?null:l.player.pack)("lockAbilityLevel",l.lockSelectionLevel)("initialLevel",l.lockedSelectionLevel)}}let ef=(()=>{class u extends q_{constructor(l,y,P){super(l,y,P)}static \u0275fac=function(y){return new(y||u)(e.rXU(Ms.T),e.rXU(oa.m),e.rXU(t.gRc))};static \u0275cmp=e.VBU({type:u,selectors:[["app-pet-selector"]],features:[e.Vt3],decls:14,vars:19,consts:[[1,"card","p-2"],[1,"row","form-group","g-0",3,"formGroup"],[3,"formGroup"],[1,"col-12","mb-2"],["type","button",1,"btn","selection-btn","w-100","d-flex","align-items-center",3,"click"],["class","btn-icon me-2","width","24","height","24","loading","lazy","decoding","async",3,"ngSrc",4,"ngIf"],[1,"btn-text"],[1,"fas","fa-chevron-down","ms-auto"],[3,"openSelection","formGroup","pet"],[3,"openSelection","formGroup","equipmentImageSrc","ailmentImageSrc","allowEquipmentUseOverrides","equipmentUsesAvailable","equipmentUsesInputId"],["class","col-12 pet-art mb-2",3,"equipment-left","equipment-right",4,"ngIf"],[3,"formGroup","petName","mana","triggersConsumed","attackHealthMax"],[3,"type","showAllPets","currentPack","lockAbilityLevel","initialLevel","select","close",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async",1,"btn-icon","me-2",3,"ngSrc"],[1,"col-12","pet-art","mb-2"],["width","72","height","72","loading","lazy","decoding","async",3,"error","ngSrc","alt"],["class","equipment-art",4,"ngIf"],["class","swallowed-art",4,"ngIf"],["class","swallowed-art swallowed-stack",4,"ngIf"],[1,"equipment-art"],["width","32","height","32","loading","lazy","decoding","async",3,"ngSrc","alt","error",4,"ngIf"],["width","32","height","32","loading","lazy","decoding","async",3,"error","ngSrc","alt"],[1,"swallowed-art"],["width","32","height","32","loading","lazy","decoding","async","alt","Swallowed Pet",3,"ngSrc"],[1,"swallowed-art","swallowed-stack"],["class","swallowed-stack-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"swallowed-stack-item"],["class","swallowed-beluga-nested","width","16","height","16","loading","lazy","decoding","async","alt","Beluga Swallowed Pet",3,"ngSrc",4,"ngIf"],["width","16","height","16","loading","lazy","decoding","async","alt","Beluga Swallowed Pet",1,"swallowed-beluga-nested",3,"ngSrc"],[3,"select","close","type","showAllPets","currentPack","lockAbilityLevel","initialLevel"]],template:function(y,P){if(1&y&&(e.j41(0,"div",0)(1,"form",1),e.nrm(2,"app-pet-level-selector",2),e.j41(3,"div",3)(4,"button",4),e.bIt("click",function(){return P.openSelectionDialog("pet")}),e.DNE(5,Z_,1,1,"img",5),e.j41(6,"span",6),e.EFF(7),e.k0s(),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"app-swallowed-pet-selector",8),e.bIt("openSelection",function(I){return P.openSelectionDialog(I.type,I.index,I.target,I.parentIndex)}),e.k0s(),e.j41(10,"app-pet-equipment-selector",9),e.bIt("openSelection",function(){return P.openSelectionDialog("equipment")}),e.k0s(),e.DNE(11,Zo,5,11,"div",10),e.nrm(12,"app-pet-stats-selector",11),e.k0s()(),e.DNE(13,FA,1,5,"app-item-selection-dialog",12)),2&y){let C;e.R7$(),e.Y8G("formGroup",P.formGroup),e.R7$(),e.Y8G("formGroup",P.formGroup),e.R7$(3),e.Y8G("ngIf",P.petImageSrc),e.R7$(2),e.JRh(P.formGroup.get("name").value||"Select Pet"),e.R7$(2),e.Y8G("formGroup",P.formGroup)("pet",P.pet),e.R7$(),e.Y8G("formGroup",P.formGroup)("equipmentImageSrc",P.equipmentImageSrc)("ailmentImageSrc",P.ailmentImageSrc)("allowEquipmentUseOverrides",P.allowEquipmentUseOverrides)("equipmentUsesAvailable",P.equipmentUsesAvailable)("equipmentUsesInputId",P.equipmentUsesInputId),e.R7$(),e.Y8G("ngIf",P.petImageSrc&&!P.petImageBroken),e.R7$(),e.Y8G("formGroup",P.formGroup)("petName",null==(C=P.formGroup.get("name"))?null:C.value)("mana",P.mana)("triggersConsumed",P.triggersConsumed)("attackHealthMax",P.attackHealthMax),e.R7$(),e.Y8G("ngIf",P.showSelectionDialog)}},dependencies:[jt.MD,jt.Sq,jt.bT,bi,ue.X1,ue.qT,ue.cb,ue.j4,ue.YN,mc,Jr,xi,uA,Y_],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/fist-from-textmap.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/heart-from-textmap.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/mana-from-textmap.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-stack-item[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center}.swallowed-beluga-nested[_ngcontent-%COMP%]{width:16px!important;height:16px!important;margin-left:-4px;margin-top:2px;z-index:1}.swallowed-label[_ngcontent-%COMP%]{font-weight:500;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}.swallowed-label-small[_ngcontent-%COMP%], .swallowed-label-tiny[_ngcontent-%COMP%]{color:#ffffffe6;font-weight:500;text-transform:uppercase;letter-spacing:.03em;text-shadow:0 1px 2px rgba(0,0,0,.75)}.swallowed-label-small[_ngcontent-%COMP%]{font-size:.68rem}.swallowed-label-tiny[_ngcontent-%COMP%]{font-size:.62rem}.selection-icon-wrap[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;justify-content:center;margin-right:.4rem}.selection-level-badge[_ngcontent-%COMP%]{position:absolute;right:-6px;bottom:-6px;min-width:14px;height:14px;padding:0 3px;border-radius:999px;background:#000000d1;border:1px solid rgba(255,255,255,.45);color:#fff;font-size:.56rem;line-height:12px;text-align:center;font-weight:700;text-shadow:none}.swallowed-nested[_ngcontent-%COMP%]{background:#00000047;border-radius:10px;padding:.5rem .6rem;box-shadow:0 8px 20px #0006}.swallowed-nested[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%], .swallowed-slot[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%]{border-left-color:#fff3!important}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;text-shadow:0 1px 2px rgba(0,0,0,.75);padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:500;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:400;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;color:#fff!important;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:focus-visible, .selection-btn[_ngcontent-%COMP%]:active{color:#fff!important;transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .selection-text[_ngcontent-%COMP%], .selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.15;letter-spacing:.025em;color:#fff;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;text-shadow:0 1px 0 rgba(0,0,0,.6),0 0 2px rgba(0,0,0,.45)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:500;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"],changeDetection:0})}return u})();var kh=i(13276),tf=i.t(kh,2),od=i(37302),ld=i(68308);function Pn(u){var h=-1,l=null==u?0:u.length;for(this.__data__=new ld.A;++h<l;)this.add(u[h])}Pn.prototype.add=Pn.prototype.push=function Zr(u){return this.__data__.set(u,"__lodash_hash_undefined__"),this},Pn.prototype.has=function Ec(u){return this.__data__.has(u)};const af=Pn,UA=function sf(u,h){for(var l=-1,y=null==u?0:u.length;++l<y;)if(h(u[l],l,u))return!0;return!1},WA=function rf(u,h){return u.has(h)},$A=function lf(u,h,l,y,P,C){var I=1&l,W=u.length,X=h.length;if(W!=X&&!(I&&X>W))return!1;var z=C.get(u),pe=C.get(h);if(z&&pe)return z==h&&pe==u;var Me=-1,Re=!0,$e=2&l?new af:void 0;for(C.set(u,h),C.set(h,u);++Me<W;){var ft=u[Me],ht=h[Me];if(y)var st=I?y(ht,ft,Me,h,u,C):y(ft,ht,Me,u,h,C);if(void 0!==st){if(st)continue;Re=!1;break}if($e){if(!UA(h,function(Ct,dt){if(!WA($e,dt)&&(ft===Ct||P(ft,Ct,l,y,C)))return $e.push(dt)})){Re=!1;break}}else if(ft!==ht&&!P(ft,ht,l,y,C)){Re=!1;break}}return C.delete(u),C.delete(h),Re};var eo=i(6944),Ih=i(26509),GA=i(61319);const cd=function HA(u){var h=-1,l=Array(u.size);return u.forEach(function(y,P){l[++h]=[P,y]}),l},cf=function Rh(u){var h=-1,l=Array(u.size);return u.forEach(function(y){l[++h]=y}),l};var Fh=eo.A?eo.A.prototype:void 0,ud=Fh?Fh.valueOf:void 0;var dd=i(67895),to=Object.prototype.hasOwnProperty;var hd=i(63080),ks=i(43744),ff=i(10259),vf=i(54608),yf="[object Arguments]",Uh="[object Array]",io="[object Object]",bf=Object.prototype.hasOwnProperty;const Pf=function QA(u,h,l,y,P,C){var I=(0,ks.A)(u),W=(0,ks.A)(h),X=I?Uh:(0,hd.A)(u),z=W?Uh:(0,hd.A)(h),pe=(X=X==yf?io:X)==io,Me=(z=z==yf?io:z)==io,Re=X==z;if(Re&&(0,ff.A)(u)){if(!(0,ff.A)(h))return!1;I=!0,pe=!1}if(Re&&!pe)return C||(C=new od.A),I||(0,vf.A)(u)?$A(u,h,l,y,P,C):function hf(u,h,l,y,P,C,I){switch(l){case"[object DataView]":if(u.byteLength!=h.byteLength||u.byteOffset!=h.byteOffset)return!1;u=u.buffer,h=h.buffer;case"[object ArrayBuffer]":return!(u.byteLength!=h.byteLength||!C(new Ih.A(u),new Ih.A(h)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,GA.A)(+u,+h);case"[object Error]":return u.name==h.name&&u.message==h.message;case"[object RegExp]":case"[object String]":return u==h+"";case"[object Map]":var W=cd;case"[object Set]":if(W||(W=cf),u.size!=h.size&&!(1&y))return!1;var z=I.get(u);if(z)return z==h;y|=2,I.set(u,h);var pe=$A(W(u),W(h),y,P,C,I);return I.delete(u),pe;case"[object Symbol]":if(ud)return ud.call(u)==ud.call(h)}return!1}(u,h,X,l,y,P,C);if(!(1&l)){var $e=pe&&bf.call(u,"__wrapped__"),ft=Me&&bf.call(h,"__wrapped__");if($e||ft){var ht=$e?u.value():u,st=ft?h.value():h;return C||(C=new od.A),P(ht,st,l,y,C)}}return!!Re&&(C||(C=new od.A),function _f(u,h,l,y,P,C){var I=1&l,W=(0,dd.A)(u),X=W.length;if(X!=(0,dd.A)(h).length&&!I)return!1;for(var Me=X;Me--;){var Re=W[Me];if(!(I?Re in h:to.call(h,Re)))return!1}var $e=C.get(u),ft=C.get(h);if($e&&ft)return $e==h&&ft==u;var ht=!0;C.set(u,h),C.set(h,u);for(var st=I;++Me<X;){var Ct=u[Re=W[Me]],dt=h[Re];if(y)var Pt=I?y(dt,Ct,Re,h,u,C):y(Ct,dt,Re,u,h,C);if(!(void 0===Pt?Ct===dt||P(Ct,dt,l,y,C):Pt)){ht=!1;break}st||(st="constructor"==Re)}if(ht&&!st){var vt=u.constructor,It=h.constructor;vt!=It&&"constructor"in u&&"constructor"in h&&!("function"==typeof vt&&vt instanceof vt&&"function"==typeof It&&It instanceof It)&&(ht=!1)}return C.delete(u),C.delete(h),ht}(u,h,l,y,P,C))};var Wh=i(42661);const Af=function qA(u,h,l,y,P){return u===h||(null==u||null==h||!(0,Wh.A)(u)&&!(0,Wh.A)(h)?u!=u&&h!=h:Pf(u,h,l,y,qA,P))};var OD=i(30554);const Tf=function ZA(u){return u==u&&!(0,OD.A)(u)};var eE=i(14429);const Df=function md(u,h){return function(l){return null!=l&&l[u]===h&&(void 0!==h||u in Object(l))}},fd=function _d(u){var h=function $h(u){for(var h=(0,eE.A)(u),l=h.length;l--;){var y=h[l],P=u[y];h[l]=[y,P,Tf(P)]}return h}(u);return 1==h.length&&h[0][2]?Df(h[0][0],h[0][1]):function(l){return l===u||function Ef(u,h,l,y){var P=l.length,C=P,I=!y;if(null==u)return!C;for(u=Object(u);P--;){var W=l[P];if(I&&W[2]?W[1]!==u[W[0]]:!(W[0]in u))return!1}for(;++P<C;){var X=(W=l[P])[0],z=u[X],pe=W[1];if(I&&W[2]){if(void 0===z&&!(X in u))return!1}else{var Me=new od.A;if(y)var Re=y(z,pe,X,u,h,Me);if(!(void 0===Re?Af(pe,z,3,y,Me):Re))return!1}}return!0}(l,u,h)}};var ID=i(31685);const il=function Gh(u){return"symbol"==typeof u||(0,Wh.A)(u)&&"[object Symbol]"==(0,ID.A)(u)};var iE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nE=/^\w*$/;const nl=function aE(u,h){if((0,ks.A)(u))return!1;var l=typeof u;return!("number"!=l&&"symbol"!=l&&"boolean"!=l&&null!=u&&!il(u))||nE.test(u)||!iE.test(u)||null!=h&&u in Object(h)};function br(u,h){if("function"!=typeof u||null!=h&&"function"!=typeof h)throw new TypeError("Expected a function");var l=function(){var y=arguments,P=h?h.apply(this,y):y[0],C=l.cache;if(C.has(P))return C.get(P);var I=u.apply(this,y);return l.cache=C.set(P,I)||C,I};return l.cache=new(br.Cache||ld.A),l}br.Cache=ld.A;const no=br;var rE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Cf=/\\(\\)?/g;const oE=function LD(u){var h=no(u,function(y){return 500===l.size&&l.clear(),y}),l=h.cache;return h}(function(u){var h=[];return 46===u.charCodeAt(0)&&h.push(""),u.replace(rE,function(l,y,P,C){h.push(P?C.replace(Cf,"$1"):y||l)}),h});var lE=i(56689),wf=eo.A?eo.A.prototype:void 0,Of=wf?wf.toString:void 0;const Rf=function If(u){if("string"==typeof u)return u;if((0,ks.A)(u))return(0,lE.A)(u,If)+"";if(il(u))return Of?Of.call(u):"";var h=u+"";return"0"==h&&1/u==-1/0?"-0":h},Lf=function xD(u){return null==u?"":Rf(u)},al=function uE(u,h){return(0,ks.A)(u)?u:nl(u,h)?[u]:oE(Lf(u))},sl=function BD(u){if("string"==typeof u||il(u))return u;var h=u+"";return"0"==h&&1/u==-1/0?"-0":h},Hh=function xf(u,h){for(var l=0,y=(h=al(h,u)).length;null!=u&&l<y;)u=u[sl(h[l++])];return l&&l==y?u:void 0},Ff=function jh(u,h){return null!=u&&h in Object(u)};var hE=i(97061),ao=i(28606),Nf=i(15481);const Dc=function Vh(u,h){return null!=u&&function Uf(u,h,l){for(var y=-1,P=(h=al(h,u)).length,C=!1;++y<P;){var I=sl(h[y]);if(!(C=null!=u&&l(u,I)))break;u=u[I]}return C||++y!=P?C:!!(P=null==u?0:u.length)&&(0,Nf.A)(P)&&(0,ao.A)(I,P)&&((0,ks.A)(u)||(0,hE.A)(u))}(u,h,Ff)},FD=function vd(u,h){return nl(u)&&Tf(h)?Df(sl(u),h):function(l){var y=function pE(u,h,l){var y=null==u?void 0:Hh(u,h);return void 0===y?l:y}(l,u);return void 0===y&&y===h?Dc(l,u):Af(h,y,3)}},Mc=function ND(u){return u},WD=function UD(u){return nl(u)?function mE(u){return function(h){return h?.[u]}}(sl(u)):function zh(u){return function(h){return Hh(h,u)}}(u)},PE=function bE(u,h){return h.length<2?u:Hh(u,function GD(u,h,l){var y=-1,P=u.length;h<0&&(h=-h>P?0:P+h),(l=l>P?P:l)<0&&(l+=P),P=h>l?0:l-h>>>0,h>>>=0;for(var C=Array(P);++y<P;)C[y]=u[y+h];return C}(h,0,-1))};var Cc=Object.prototype.hasOwnProperty;const bd=function Xh(u,h){var l=-1,y=(h=al(h,u)).length;if(!y)return!0;for(var P=null==u||"object"!=typeof u&&"function"!=typeof u;++l<y;){var C=h[l];if("string"==typeof C){if("__proto__"===C&&!Cc.call(u,"__proto__"))return!1;if("constructor"===C&&l+1<y&&"string"==typeof h[l+1]&&"prototype"===h[l+1]){if(P&&0===l)continue;return!1}}}var I=PE(u,h);return null==I||delete I[sl(function KD(u){var h=null==u?0:u.length;return h?u[h-1]:void 0}(h))]};var kc=Array.prototype.splice;const Gf=function wc(u,h){var l=[];if(!u||!u.length)return l;var y=-1,P=[],C=u.length;for(h=function fE(u){return"function"==typeof u?u:null==u?Mc:"object"==typeof u?(0,ks.A)(u)?FD(u[0],u[1]):fd(u):WD(u)}(h);++y<C;){var I=u[y];h(I,y,u)&&(l.push(I),P.push(y))}return function $f(u,h){for(var l=u?h.length:0,y=l-1;l--;){var P=h[l];if(l==y||P!==C){var C=P;(0,ao.A)(P)?kc.call(u,P,1):bd(u,P)}}}(u,P),l};function Hf(u,h){1&u&&(e.j41(0,"div",12),e.EFF(1," That name is not allowed. "),e.k0s())}function so(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",13),e.nrm(1,"input",14),e.j41(2,"label",15)(3,"img",16),e.bIt("error",function(P){v.eBV(l);const C=e.XpG();return v.Njj(C.handlePetIconError(P))}),e.k0s(),e.EFF(4),e.k0s()()}if(2&u){const l=h.$implicit,y=e.XpG();e.R7$(),e.Y8G("id",l)("formControlName",l),e.R7$(),e.Y8G("for",l),e.R7$(),e.Y8G("src",y.getPetIcon(l),e.B4B)("alt",l+" icon"),e.R7$(),e.SpI(" ",l," ")}}function Jh(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",13),e.nrm(1,"input",14),e.j41(2,"label",15)(3,"img",16),e.bIt("error",function(P){v.eBV(l);const C=e.XpG();return v.Njj(C.handlePetIconError(P))}),e.k0s(),e.EFF(4),e.k0s()()}if(2&u){const l=h.$implicit,y=e.XpG();e.R7$(),e.Y8G("id",l)("formControlName",l),e.R7$(),e.Y8G("for",l),e.R7$(),e.Y8G("src",y.getPetIcon(l),e.B4B)("alt",l+" icon"),e.R7$(),e.SpI(" ",l," ")}}function EE(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",13),e.nrm(1,"input",14),e.j41(2,"label",15)(3,"img",16),e.bIt("error",function(P){v.eBV(l);const C=e.XpG();return v.Njj(C.handlePetIconError(P))}),e.k0s(),e.EFF(4),e.k0s()()}if(2&u){const l=h.$implicit,y=e.XpG();e.R7$(),e.Y8G("id",l)("formControlName",l),e.R7$(),e.Y8G("for",l),e.R7$(),e.Y8G("src",y.getPetIcon(l),e.B4B)("alt",l+" icon"),e.R7$(),e.SpI(" ",l," ")}}function SE(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",13),e.nrm(1,"input",14),e.j41(2,"label",15)(3,"img",16),e.bIt("error",function(P){v.eBV(l);const C=e.XpG();return v.Njj(C.handlePetIconError(P))}),e.k0s(),e.EFF(4),e.k0s()()}if(2&u){const l=h.$implicit,y=e.XpG();e.R7$(),e.Y8G("id",l)("formControlName",l),e.R7$(),e.Y8G("for",l),e.R7$(),e.Y8G("src",y.getPetIcon(l),e.B4B)("alt",l+" icon"),e.R7$(),e.SpI(" ",l," ")}}function jf(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",13),e.nrm(1,"input",14),e.j41(2,"label",15)(3,"img",16),e.bIt("error",function(P){v.eBV(l);const C=e.XpG();return v.Njj(C.handlePetIconError(P))}),e.k0s(),e.EFF(4),e.k0s()()}if(2&u){const l=h.$implicit,y=e.XpG();e.R7$(),e.Y8G("id",l)("formControlName",l),e.R7$(),e.Y8G("for",l),e.R7$(),e.Y8G("src",y.getPetIcon(l),e.B4B)("alt",l+" icon"),e.R7$(),e.SpI(" ",l," ")}}function Vf(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",13),e.nrm(1,"input",14),e.j41(2,"label",15)(3,"img",16),e.bIt("error",function(P){v.eBV(l);const C=e.XpG();return v.Njj(C.handlePetIconError(P))}),e.k0s(),e.EFF(4),e.k0s()()}if(2&u){const l=h.$implicit,y=e.XpG();e.R7$(),e.Y8G("id",l)("formControlName",l),e.R7$(),e.Y8G("for",l),e.R7$(),e.Y8G("src",y.getPetIcon(l),e.B4B)("alt",l+" icon"),e.R7$(),e.SpI(" ",l," ")}}function TE(u,h){1&u&&(e.j41(0,"div",12),e.EFF(1,"Name is required."),e.k0s())}let DE=(()=>{class u{formGroup;petPackMap;submitEvent=new v.bkB;cancelEvent=new v.bkB;checkboxFormGroup;loaded=!1;fallbackIcon="assets/art/Public/Public/Icons/Level_L1.png";constructor(){}ngOnInit(){this.initCheckboxFormGroup(),this.formGroup.updateValueAndValidity()}initCheckboxFormGroup(){let l=new ue.gE({}),y=new ue.gE({}),P=new ue.gE({}),C=new ue.gE({}),I=new ue.gE({}),W=new ue.gE({});for(let X of this.getPets(1)){let z=new ue.MJ(this.formGroup.get("tier1Pets").value.includes(X));z.valueChanges.subscribe(pe=>{this.processCheckboxChange(1,X,pe)}),l.addControl(X,z)}for(let X of this.getPets(2)){let z=new ue.MJ(this.formGroup.get("tier2Pets").value.includes(X));z.valueChanges.subscribe(pe=>{this.processCheckboxChange(2,X,pe)}),y.addControl(X,z)}for(let X of this.getPets(3)){let z=new ue.MJ(this.formGroup.get("tier3Pets").value.includes(X));z.valueChanges.subscribe(pe=>{this.processCheckboxChange(3,X,pe)}),P.addControl(X,z)}for(let X of this.getPets(4)){let z=new ue.MJ(this.formGroup.get("tier4Pets").value.includes(X));z.valueChanges.subscribe(pe=>{this.processCheckboxChange(4,X,pe)}),C.addControl(X,z)}for(let X of this.getPets(5)){let z=new ue.MJ(this.formGroup.get("tier5Pets").value.includes(X));z.valueChanges.subscribe(pe=>{this.processCheckboxChange(5,X,pe)}),I.addControl(X,z)}for(let X of this.getPets(6)){let z=new ue.MJ(this.formGroup.get("tier6Pets").value.includes(X));z.valueChanges.subscribe(pe=>{this.processCheckboxChange(6,X,pe)}),W.addControl(X,z)}this.checkboxFormGroup=new ue.gE({tier1Pets:l,tier2Pets:y,tier3Pets:P,tier4Pets:C,tier5Pets:I,tier6Pets:W})}getCheckboxFormGroup(l){return this.checkboxFormGroup.get(`tier${l}Pets`)}getPets(l){let y=[];for(let[P,C]of this.petPackMap.get(l))y.push(...C);return y=[...new Set(y)],y}getCount(l){return this.formGroup.get(`tier${l}Pets`).value.length}processCheckboxChange(l,y,P){let C=this.formGroup.get(`tier${l}Pets`).value;P?C.push(y):Gf(C,I=>I===y),this.formGroup.get(`tier${l}Pets`).updateValueAndValidity()}getPetIcon(l){return(0,Mt.EA)(l)??this.fallbackIcon}handlePetIconError(l){const y=l.target;y?.dataset?.fallback||(y.dataset.fallback="true",y.src=this.fallbackIcon)}trackByPetName(l,y){return y??String(l)}submit(){this.submitEvent.emit(this.formGroup)}cancel(){confirm("Are you sure you want to cancel?")&&this.cancelEvent.emit(this.formGroup)}submitDisabled(){return this.formGroup.get("name").invalid}static \u0275fac=function(y){return new(y||u)};static \u0275cmp=e.VBU({type:u,selectors:[["app-custom-pack-form"]],inputs:{formGroup:"formGroup",petPackMap:"petPackMap"},outputs:{submitEvent:"submitEvent",cancelEvent:"cancelEvent"},decls:68,vars:40,consts:[[3,"formGroup"],[1,"row","mb-4"],[1,"col-12"],["for","name",1,"form-label"],["id","name","formControlName","name",1,"form-control"],["class","invalid",4,"ngIf"],[1,"row","mb-4",3,"formGroup"],[1,"row"],[1,"col-12","editor-grid"],["class","form-check",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn","btn-primary","me-2",3,"click","disabled"],[1,"btn","btn-danger",3,"click"],[1,"invalid"],[1,"form-check"],["type","checkbox","value","",1,"form-check-input",3,"id","formControlName"],[1,"form-check-label","pet-label",3,"for"],[1,"pet-icon",3,"error","src","alt"]],template:function(y,P){if(1&y&&(e.j41(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),e.EFF(4,"Pack Name"),e.k0s(),e.nrm(5,"input",4),e.DNE(6,Hf,2,0,"div",5),e.k0s()(),e.j41(7,"div",6)(8,"div",2)(9,"h3"),e.EFF(10," Tier 1 Pets "),e.j41(11,"span"),e.EFF(12),e.k0s()(),e.j41(13,"div",7)(14,"div",8),e.DNE(15,so,5,6,"div",9),e.k0s()()()(),e.j41(16,"div",6)(17,"div",2)(18,"h3"),e.EFF(19," Tier 2 Pets "),e.j41(20,"span"),e.EFF(21),e.k0s()(),e.j41(22,"div",7)(23,"div",8),e.DNE(24,Jh,5,6,"div",9),e.k0s()()()(),e.j41(25,"div",6)(26,"div",2)(27,"h3"),e.EFF(28," Tier 3 Pets "),e.j41(29,"span"),e.EFF(30),e.k0s()(),e.j41(31,"div",7)(32,"div",8),e.DNE(33,EE,5,6,"div",9),e.k0s()()()(),e.j41(34,"div",6)(35,"div",2)(36,"h3"),e.EFF(37," Tier 4 Pets "),e.j41(38,"span"),e.EFF(39),e.k0s()(),e.j41(40,"div",7)(41,"div",8),e.DNE(42,SE,5,6,"div",9),e.k0s()()()(),e.j41(43,"div",6)(44,"div",2)(45,"h3"),e.EFF(46," Tier 5 Pets "),e.j41(47,"span"),e.EFF(48),e.k0s()(),e.j41(49,"div",7)(50,"div",8),e.DNE(51,jf,5,6,"div",9),e.k0s()()()(),e.j41(52,"div",6)(53,"div",2)(54,"h3"),e.EFF(55," Tier 6 Pets "),e.j41(56,"span"),e.EFF(57),e.k0s()(),e.j41(58,"div",7)(59,"div",8),e.DNE(60,Vf,5,6,"div",9),e.k0s()()()(),e.j41(61,"div",7)(62,"div",2)(63,"button",10),e.bIt("click",function(){return P.submit()}),e.EFF(64," Submit Pack "),e.k0s(),e.j41(65,"button",11),e.bIt("click",function(){return P.cancel()}),e.EFF(66,"Cancel"),e.k0s(),e.DNE(67,TE,2,0,"div",5),e.k0s()()()),2&y){let C;e.Y8G("formGroup",P.formGroup),e.R7$(6),e.Y8G("ngIf",null==(C=P.formGroup.get("name").errors)?null:C.forbiddenName),e.R7$(),e.Y8G("formGroup",P.getCheckboxFormGroup(1)),e.R7$(4),e.HbH(10==P.getCount(1)?"valid":"invalid"),e.R7$(),e.SpI("",P.getCount(1),"/10"),e.R7$(3),e.Y8G("ngForOf",P.getPets(1))("ngForTrackBy",P.trackByPetName),e.R7$(),e.Y8G("formGroup",P.getCheckboxFormGroup(2)),e.R7$(4),e.HbH(10==P.getCount(2)?"valid":"invalid"),e.R7$(),e.SpI("",P.getCount(2),"/10"),e.R7$(3),e.Y8G("ngForOf",P.getPets(2))("ngForTrackBy",P.trackByPetName),e.R7$(),e.Y8G("formGroup",P.getCheckboxFormGroup(3)),e.R7$(4),e.HbH(10==P.getCount(3)?"valid":"invalid"),e.R7$(),e.SpI("",P.getCount(3),"/10"),e.R7$(3),e.Y8G("ngForOf",P.getPets(3))("ngForTrackBy",P.trackByPetName),e.R7$(),e.Y8G("formGroup",P.getCheckboxFormGroup(4)),e.R7$(4),e.HbH(10==P.getCount(4)?"valid":"invalid"),e.R7$(),e.SpI("",P.getCount(4),"/10"),e.R7$(3),e.Y8G("ngForOf",P.getPets(4))("ngForTrackBy",P.trackByPetName),e.R7$(),e.Y8G("formGroup",P.getCheckboxFormGroup(5)),e.R7$(4),e.HbH(10==P.getCount(5)?"valid":"invalid"),e.R7$(),e.SpI("",P.getCount(5),"/10"),e.R7$(3),e.Y8G("ngForOf",P.getPets(5))("ngForTrackBy",P.trackByPetName),e.R7$(),e.Y8G("formGroup",P.getCheckboxFormGroup(6)),e.R7$(4),e.HbH(10==P.getCount(6)?"valid":"invalid"),e.R7$(),e.SpI("",P.getCount(6),"/10"),e.R7$(3),e.Y8G("ngForOf",P.getPets(6))("ngForTrackBy",P.trackByPetName),e.R7$(3),e.Y8G("disabled",P.submitDisabled()),e.R7$(4),e.Y8G("ngIf",P.submitDisabled())}},dependencies:[jt.MD,jt.Sq,jt.bT,ue.X1,ue.qT,ue.me,ue.Zm,ue.BC,ue.cb,ue.j4,ue.JD],styles:[".editor-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));grid-gap:1rem}.invalid[_ngcontent-%COMP%]{color:red}.valid[_ngcontent-%COMP%]{color:#0ab40a}.form-check[_ngcontent-%COMP%]{min-height:2.5rem}.pet-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.35rem;line-height:1.2;flex-wrap:wrap;white-space:normal}.pet-icon[_ngcontent-%COMP%]{width:26px;height:26px;object-fit:contain}"]})}return u})();var zf=i(44937);function Oc(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"app-custom-pack-form",4),e.bIt("submitEvent",function(P){v.eBV(l);const C=e.XpG();return v.Njj(C.submitEvent(P))})("cancelEvent",function(P){v.eBV(l);const C=e.XpG();return v.Njj(C.cancelEvent(P))}),e.k0s()()()}if(2&u){const l=e.XpG();e.R7$(2),e.Y8G("formGroup",l.makeFormGroup(l.focusedGroup))("petPackMap",l.petPackMap)}}function ME(u,h){1&u&&(e.j41(0,"span",17),e.EFF(1,"Valid"),e.k0s())}function CE(u,h){1&u&&(e.j41(0,"span",18),e.EFF(1,"Invalid"),e.k0s())}function kE(u,h){if(1&u){const l=e.RV6();e.j41(0,"tr")(1,"td",12),e.EFF(2),e.k0s(),e.j41(3,"td",12),e.DNE(4,ME,2,0,"span",13)(5,CE,2,0,"span",14),e.k0s(),e.j41(6,"td")(7,"button",8),e.bIt("click",function(){const P=v.eBV(l).$implicit,C=e.XpG(2);return v.Njj(C.editPack(P))}),e.EFF(8," Edit "),e.k0s()(),e.j41(9,"td")(10,"button",15),e.bIt("click",function(){const P=v.eBV(l).$implicit,C=e.XpG(2);return v.Njj(C.exportCustomPack(P))}),e.EFF(11," Export "),e.k0s()(),e.j41(12,"td")(13,"button",16),e.bIt("click",function(){const P=v.eBV(l).$implicit,C=e.XpG(2);return v.Njj(C.deletePack(P))}),e.EFF(14," Delete "),e.k0s()()()}if(2&u){const l=h.$implicit;e.R7$(2),e.JRh(l.get("name").value),e.R7$(2),e.Y8G("ngIf",l.valid),e.R7$(),e.Y8G("ngIf",!l.valid)}}function Pd(u,h){if(1&u&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&u){const l=e.XpG(2);e.Y8G("ngClass","success"===l.statusTone?"text-success":"text-danger"),e.R7$(),e.SpI(" ",l.statusMessage," ")}}function Yf(u,h){if(1&u){const l=e.RV6();e.j41(0,"div")(1,"div",5)(2,"div",3)(3,"h3"),e.EFF(4,"Custom Packs"),e.k0s(),e.j41(5,"table"),e.DNE(6,kE,15,3,"tr",6),e.k0s()()(),e.j41(7,"div",7)(8,"div",3)(9,"button",8),e.bIt("click",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.createNewPack())}),e.EFF(10," Create New Pack "),e.k0s()()(),e.j41(11,"div",5)(12,"div",3)(13,"h3"),e.EFF(14,"Import Custom Pack"),e.k0s(),e.j41(15,"div",9),e.nrm(16,"textarea",10),e.k0s()()(),e.j41(17,"div",2)(18,"div",3)(19,"button",8),e.bIt("click",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.importCustomPack())}),e.EFF(20," Import "),e.k0s()()(),e.DNE(21,Pd,2,2,"div",11),e.k0s()}if(2&u){const l=e.XpG();e.R7$(6),e.Y8G("ngForOf",l.customPacks.controls)("ngForTrackBy",l.trackByPackName),e.R7$(9),e.Y8G("formGroup",l.importFormGroup),e.R7$(6),e.Y8G("ngIf",l.statusMessage)}}let Xf=(()=>{class u{petService;localStorageService;formGroup;customPacks;petPackMap;petIdLookup=new Map;petNameToId=new Map;petNameToTier=new Map;focusedGroup=null;importFormGroup=new ue.gE({code:new ue.MJ(null)});statusMessage="";statusTone="success";statusTimer=null;constructor(l,y){this.petService=l,this.localStorageService=y}ngOnInit(){this.customPacks=this.formGroup.get("customPacks"),this.buildPetPackMap(),this.buildPetNameToTierMap(),this.buildPetIdLookup()}buildPetPackMap(){this.petPackMap=new Map;for(let l=1;l<=6;l++){let y=new Map;for(const P of ba.d)y.set(P,[]);this.petPackMap.set(l,y)}for(const l of ba.d){const y=this.petService.basePackPetsByName[l];for(let[P,C]of y)this.petPackMap.get(P).get(l).push(...C)}}createNewPack(){let l=this.createPack();this.focusedGroup=l}createPack(){return new ue.gE({name:new ue.MJ(null,[ue.k0.required,this.forbiddenNameValidator()]),tier1Pets:new ue.MJ([],this.controlArrayLengthOf10()),tier2Pets:new ue.MJ([],this.controlArrayLengthOf10()),tier3Pets:new ue.MJ([],this.controlArrayLengthOf10()),tier4Pets:new ue.MJ([],this.controlArrayLengthOf10()),tier5Pets:new ue.MJ([],this.controlArrayLengthOf10()),tier6Pets:new ue.MJ([],this.controlArrayLengthOf10()),spells:new ue.MJ([])})}makeFormGroup(l){return l}controlArrayLengthOf10(){return l=>10!==l.value.length?{length:!0}:null}submitEvent(l){this.customPacks.controls.includes(l)||this.customPacks.push(l),this.petService.buildCustomPackPets(this.customPacks),this.focusedGroup=null,this.localStorageService.setFormStorage(this.formGroup)}cancelEvent(l){this.focusedGroup=null}editPack(l){this.focusedGroup=l}deletePack(l){if(confirm("Are you sure you want to delete this pack?")){let y=this.customPacks.controls.indexOf(l);this.customPacks.removeAt(y),this.focusedGroup=null,this.localStorageService.setFormStorage(this.formGroup)}}trackByPackName(l,y){return y?.get("name")?.value??String(l)}forbiddenNameValidator(){return l=>{let y=["custom"];for(let P of this.customPacks.controls)l!=P.get("name")&&y.push(P.get("name").value?.toLowerCase());return y.includes(l.value?.toLowerCase())?{forbiddenName:!0}:null}}importCustomPack(){let l=this.importFormGroup.get("code").value;this.clearStatus();try{let y=l;const P=l.indexOf("{"),C=l.lastIndexOf("}");-1!==P&&C>P&&(y=l.substring(P,C+1));const I=JSON.parse(y);let W=this.parseMinions(I.Minions,I.MinionMap);const X=Array.isArray(I.Spells)?I.Spells:[];let z={name:I.Title,tier1Pets:W.tierMinions.get(1),tier2Pets:W.tierMinions.get(2),tier3Pets:W.tierMinions.get(3),tier4Pets:W.tierMinions.get(4),tier5Pets:W.tierMinions.get(5),tier6Pets:W.tierMinions.get(6),spells:X};this.createNewPack(),this.focusedGroup.patchValue(z),W.missingMinions.length>0?this.setStatus(`Some minion IDs were not recognized and were skipped: ${W.missingMinions.join(", ")}`,"error"):this.setStatus("Custom pack imported.","success")}catch(y){this.setStatus("Invalid code.","error"),console.error(y)}}buildPetIdLookup(){this.petIdLookup=new Map,this.petNameToId=new Map;const l=kh??tf;for(let y of l){let P=Number(y.Tier),C=String(y.Id);this.petIdLookup.has(C)||this.petIdLookup.set(C,{name:y.Name,tier:P}),this.petNameToId.has(y.Name)||this.petNameToId.set(y.Name,C)}}exportCustomPack(l){const y=this.buildExportPayload(l),P=JSON.stringify(y);this.importFormGroup.get("code")?.setValue(P),this.copyToClipboard(P)}buildExportPayload(l){const y=X=>{const z=l.get(`tier${X}Pets`);return(Array.isArray(z?.value)?z.value:[]).filter(Me=>!!Me)},P=[];for(let X=1;X<=6;X++){const z=y(X);for(const pe of z){const Me=this.petNameToId.get(pe);P.push(Me??pe)}}const C=l.get("spells"),W=(Array.isArray(C?.value)?C.value:Array.isArray(l?.value?.spells)?l.value.spells:[]).filter(X=>!!X);return{Title:l.get("name")?.value||"Custom Pack",Minions:P,...W.length?{Spells:W}:{}}}copyToClipboard(l){this.clearStatus(),navigator?.clipboard?.writeText?navigator.clipboard.writeText(l).then(()=>{this.setStatus("Custom pack copied to clipboard.","success")}).catch(()=>{this.setStatus("Failed to copy custom pack.","error")}):this.setStatus("Clipboard not available.","error")}buildPetNameToTierMap(){this.petNameToTier=new Map;for(let[l,y]of this.petPackMap)for(let P of y.values())for(let C of P)this.petNameToTier.has(C)||this.petNameToTier.set(C,l)}parseMinions(l,y={}){let P=new Map;for(let I=1;I<=6;I++)P.set(I,[]);let C=[];if(!Array.isArray(l))return{tierMinions:P,missingMinions:C};for(let I of l){let W=null,X=null;if("number"==typeof I)X=String(I);else if("string"==typeof I){let pe=I.trim();pe&&pe.match(/^\d+$/)?X=pe:W=I}if(X){let pe=this.petIdLookup.get(X);pe?W=pe.name:y&&y[X]&&(W=y[X])}if(!W){C.push(I);continue}let z=this.petNameToTier.get(W);z?P.get(z).push(W):C.push(I)}return{tierMinions:P,missingMinions:C}}clearStatus(){this.statusTimer&&(clearTimeout(this.statusTimer),this.statusTimer=null),this.statusMessage=""}setStatus(l,y){this.statusMessage=l,this.statusTone=y,this.statusTimer&&clearTimeout(this.statusTimer),this.statusTimer=setTimeout(()=>{this.statusMessage="",this.statusTimer=null},4e3)}static \u0275fac=function(y){return new(y||u)(e.rXU(Ms.T),e.rXU(zf.s))};static \u0275cmp=e.VBU({type:u,selectors:[["app-custom-pack-editor"]],inputs:{formGroup:"formGroup"},decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-12"],[3,"submitEvent","cancelEvent","formGroup","petPackMap"],[1,"row","mb-3"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"row","mb-4"],[1,"btn","btn-primary",3,"click"],[1,"form-group",3,"formGroup"],["id","code","rows","3","formControlName","code",1,"form-control"],["class","mt-2",3,"ngClass",4,"ngIf"],[1,"text"],["class","valid",4,"ngIf"],["class","invalid",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"valid"],[1,"invalid"],[1,"mt-2",3,"ngClass"]],template:function(y,P){1&y&&e.DNE(0,Oc,3,2,"div",0)(1,Yf,22,4,"div",1),2&y&&(e.Y8G("ngIf",null!=P.focusedGroup),e.R7$(),e.Y8G("ngIf",null==P.focusedGroup))},dependencies:[jt.MD,jt.YU,jt.Sq,jt.bT,ue.X1,ue.me,ue.BC,ue.cb,ue.j4,ue.JD,DE],styles:[".valid[_ngcontent-%COMP%]{color:#4caf50}.invalid[_ngcontent-%COMP%]{color:#f44336}.text[_ngcontent-%COMP%]{font-size:1.5em}td[_ngcontent-%COMP%]{padding:.25em .5em}"]})}return u})();const Jf=["soundMenuRoot"],ol=()=>({standalone:!0});function Qf(u,h){if(1&u){const l=e.RV6();e.j41(0,"button",46),e.bIt("click",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.app.cancelSimulation())}),e.EFF(1," Cancel "),e.k0s()}}function Qh(u,h){if(1&u){const l=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.app.undoRandomize())}),e.EFF(1," Undo Randomize "),e.k0s()}}function Ad(u,h){if(1&u&&(e.j41(0,"div",61)(1,"span",62),e.EFF(2),e.k0s(),e.j41(3,"span",63),e.EFF(4),e.k0s(),e.j41(5,"span",64),e.EFF(6,"\xb7"),e.k0s(),e.j41(7,"span",65),e.EFF(8),e.k0s(),e.j41(9,"span",64),e.EFF(10,"\xb7"),e.k0s(),e.j41(11,"span",66),e.EFF(12),e.k0s()()),2&u){const l=e.XpG(2);e.R7$(2),e.SpI("",l.app.positioningDeltaSideLabel," optimize delta:"),e.R7$(2),e.SpI("Win ",l.app.formatSignedPercentDelta(l.app.positioningDeltaSummary.winDeltaPercent),"pp"),e.R7$(4),e.SpI("Draw ",l.app.formatSignedPercentDelta(l.app.positioningDeltaSummary.drawDeltaPercent),"pp"),e.R7$(4),e.SpI("Loss ",l.app.formatSignedPercentDelta(l.app.positioningDeltaSummary.lossDeltaPercent),"pp")}}function wE(u,h){if(1&u&&(e.qex(0),e.j41(1,"div",47)(2,"div",48)(3,"span",49)(4,"span",50),e.EFF(5,"Player"),e.k0s(),e.j41(6,"span",51),e.EFF(7),e.k0s()(),e.j41(8,"span",52)(9,"span",53),e.EFF(10,"Draw"),e.k0s(),e.j41(11,"span",51),e.EFF(12),e.k0s()(),e.j41(13,"span",54)(14,"span",55),e.EFF(15,"Opponent"),e.k0s(),e.j41(16,"span",51),e.EFF(17),e.k0s()()(),e.j41(18,"div",56),e.nrm(19,"span",57)(20,"span",58)(21,"span",59),e.k0s(),e.DNE(22,Ad,13,4,"div",60),e.k0s(),e.bVm()),2&u){const l=e.XpG();e.R7$(7),e.Lme("",l.app.playerWinner," - ",l.app.winPercent,"%"),e.R7$(5),e.Lme("",l.app.draw," - ",l.app.drawPercent,"%"),e.R7$(5),e.Lme("",l.app.opponentWinner," - ",l.app.losePercent,"%"),e.R7$(2),e.xc7("width",l.app.winPercent,"%"),e.R7$(),e.xc7("width",l.app.drawPercent,"%"),e.R7$(),e.xc7("width",l.app.losePercent,"%"),e.R7$(),e.Y8G("ngIf",l.app.positioningDeltaSummary)}}function OE(u,h){1&u&&(e.j41(0,"div",67),e.nrm(1,"span",68),e.k0s())}function IE(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",69)(1,"div",70),e.EFF(2),e.k0s(),e.j41(3,"input",71),e.bIt("ngModelChange",function(P){v.eBV(l);const C=e.XpG();return v.Njj(C.app.setSoundVolume(P))}),e.k0s(),e.j41(4,"button",72),e.bIt("click",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.app.toggleSoundMuted())}),e.EFF(5),e.k0s()()}if(2&u){const l=e.XpG();e.R7$(2),e.SpI("Volume: ",l.app.soundVolumePercent,"%"),e.R7$(),e.Y8G("ngModel",l.app.soundVolume)("ngModelOptions",e.lJ4(4,ol)),e.R7$(2),e.SpI(" ",l.app.soundMuted?"Unmute":"Mute"," ")}}function RE(u,h){if(1&u&&(e.j41(0,"div",73),e.EFF(1),e.k0s()),2&u){const l=e.XpG();e.Y8G("ngClass","success"===l.app.statusTone?"text-success":"text-danger"),e.R7$(),e.SpI(" ",l.app.statusMessage," ")}}function LE(u,h){if(1&u&&(e.j41(0,"div",74),e.EFF(1),e.k0s()),2&u){const l=e.XpG();e.R7$(),e.SpI(" ",l.app.autoSaveLabel," ")}}function xE(u,h){if(1&u&&(e.j41(0,"div",75)(1,"div",76),e.nrm(2,"div",77),e.k0s(),e.j41(3,"div",78),e.EFF(4),e.k0s()()),2&u){const l=e.XpG();e.R7$(2),e.xc7("width",l.app.simulationProgress+"%"),e.R7$(2),e.SpI(" ",l.app.simulationCancelRequested?"Cancelling...":l.app.simulationProgressLabel," ")}}function qh(u,h){if(1&u&&(e.j41(0,"span",79),e.EFF(1),e.k0s()),2&u){const l=e.XpG();e.R7$(),e.SpI(" ",l.activeAdvancedOverridesCount," active ")}}function BE(u,h){if(1&u&&(e.j41(0,"div",80),e.EFF(1),e.k0s()),2&u){const l=e.XpG();e.R7$(),e.SpI(" ",l.unifiedAdvancedSummary," ")}}function qf(u,h){if(1&u){const l=e.RV6();e.j41(0,"img",169),e.bIt("error",function(){v.eBV(l);const P=e.XpG(2);return v.Njj(P.app.onPackImageError("player"))}),e.k0s()}if(2&u){const l=e.XpG(2);e.Y8G("ngSrc",l.app.getPackIconPath(l.app.formGroup.get("playerPack").value))}}function Zf(u,h){if(1&u){const l=e.RV6();e.j41(0,"img",169),e.bIt("error",function(){v.eBV(l);const P=e.XpG(2);return v.Njj(P.app.onPackImageError("opponent"))}),e.k0s()}if(2&u){const l=e.XpG(2);e.Y8G("ngSrc",l.app.getPackIconPath(l.app.formGroup.get("opponentPack").value))}}function FE(u,h){if(1&u&&e.nrm(0,"img",172),2&u){const l=h.$implicit,y=e.XpG(3);e.Y8G("ngSrc",l)("alt",y.app.selectedTeamName)}}function Ic(u,h){if(1&u&&(e.j41(0,"div",170),e.DNE(1,FE,1,2,"img",171),e.k0s()),2&u){const l=e.XpG(2);e.R7$(),e.Y8G("ngForOf",l.app.selectedTeamPreviewIcons)}}function Ed(u,h){1&u&&(e.j41(0,"span",173),e.EFF(1,"Saved teams"),e.k0s())}function HD(u,h){1&u&&(e.j41(0,"div",137)(1,"label",174),e.nrm(2,"span",175),e.j41(3,"span",85),e.EFF(4,"Player"),e.k0s(),e.EFF(5," Roll Amount "),e.k0s(),e.nrm(6,"input",176),e.k0s())}function NE(u,h){1&u&&(e.j41(0,"div",137)(1,"label",177),e.nrm(2,"span",175),e.j41(3,"span",90),e.EFF(4,"Opponent"),e.k0s(),e.EFF(5," Roll Amount "),e.k0s(),e.nrm(6,"input",178),e.k0s())}function ev(u,h){if(1&u&&(e.j41(0,"span",179),e.EFF(1),e.k0s()),2&u){const l=e.XpG(2);e.R7$(),e.SpI(" ",l.app.randomDecisions.length," events ")}}function Zh(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",180)(1,"button",181),e.bIt("click",function(){v.eBV(l);const P=e.XpG(2);return v.Njj(P.app.captureRandomEvents())}),e.EFF(2," Capture Random Events "),e.k0s(),e.j41(3,"button",182),e.bIt("click",function(){v.eBV(l);const P=e.XpG(2);return v.Njj(P.app.runForcedRandomSimulation())}),e.EFF(4," Run Forced Simulation "),e.k0s(),e.j41(5,"button",183),e.bIt("click",function(){v.eBV(l);const P=e.XpG(2);return v.Njj(P.app.clearRandomOverrides())}),e.EFF(6," Clear "),e.k0s()()}if(2&u){const l=e.XpG(2);e.R7$(),e.Y8G("disabled",l.app.simulationInProgress),e.R7$(2),e.Y8G("disabled",l.app.simulationInProgress||!l.app.randomDecisions.length),e.R7$(2),e.Y8G("disabled",!l.app.randomDecisions.length)}}function UE(u,h){if(1&u&&(e.j41(0,"div",184),e.EFF(1),e.k0s()),2&u){const l=e.XpG(2);e.R7$(),e.SpI(" ",l.app.randomDecisions.length?"Overrides captured. Expand to inspect or force outcomes.":"Capture random events when needed."," ")}}function tv(u,h){1&u&&(e.j41(0,"div",189),e.EFF(1," Capture random events to populate override selectors. "),e.k0s())}function jD(u,h){if(1&u&&(e.j41(0,"div",190),e.EFF(1),e.k0s()),2&u){const l=e.XpG(3);e.R7$(),e.SpI(" ",l.app.randomOverrideError," ")}}function VD(u,h){if(1&u&&e.nrm(0,"img",203),2&u){const l=e.XpG().$implicit;e.Y8G("ngSrc",l.src)("alt",l.alt)}}function WE(u,h){if(1&u&&(e.j41(0,"span",204),e.EFF(1),e.k0s()),2&u){const l=e.XpG().$implicit;e.Y8G("ngClass",l.className),e.R7$(),e.JRh(l.text)}}function iv(u,h){1&u&&e.nrm(0,"br")}function nv(u,h){if(1&u&&(e.qex(0),e.DNE(1,VD,1,2,"img",200)(2,WE,2,2,"span",201)(3,iv,1,0,"br",202),e.bVm()),2&u){const l=h.$implicit;e.R7$(),e.Y8G("ngIf","img"===l.type),e.R7$(),e.Y8G("ngIf","text"===l.type),e.R7$(),e.Y8G("ngIf","br"===l.type)}}function zD(u,h){if(1&u&&e.nrm(0,"img",203),2&u){const l=e.XpG().$implicit;e.Y8G("ngSrc",l.src)("alt",l.alt)}}function av(u,h){if(1&u&&(e.j41(0,"span",204),e.EFF(1),e.k0s()),2&u){const l=e.XpG().$implicit;e.Y8G("ngClass",l.className),e.R7$(),e.JRh(l.text)}}function KE(u,h){1&u&&e.nrm(0,"br")}function YD(u,h){if(1&u&&(e.qex(0),e.DNE(1,zD,1,2,"img",200)(2,av,2,2,"span",201)(3,KE,1,0,"br",202),e.bVm()),2&u){const l=h.$implicit;e.R7$(),e.Y8G("ngIf","img"===l.type),e.R7$(),e.Y8G("ngIf","text"===l.type),e.R7$(),e.Y8G("ngIf","br"===l.type)}}function XD(u,h){if(1&u&&(e.j41(0,"option",205),e.EFF(1),e.k0s()),2&u){const l=h.$implicit;e.Y8G("ngValue",l.id),e.R7$(),e.SpI(" ",l.label," ")}}function JD(u,h){if(1&u){const l=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td")(4,"div",195),e.DNE(5,nv,4,3,"ng-container",194),e.k0s(),e.j41(6,"div",196),e.EFF(7),e.k0s()(),e.j41(8,"td")(9,"div",197),e.DNE(10,YD,4,3,"ng-container",194),e.k0s(),e.j41(11,"select",198),e.bIt("ngModelChange",function(P){const C=v.eBV(l).$implicit,I=e.XpG(4);return v.Njj(I.app.onRandomDecisionChoiceChanged(C,P))}),e.DNE(12,XD,2,2,"option",199),e.k0s()()()}if(2&u){const l=h.$implicit,y=e.XpG(4);e.R7$(2),e.JRh(l.index+1),e.R7$(3),e.Y8G("ngForOf",y.app.getRandomDecisionLabelParts(l))("ngForTrackBy",y.app.trackByIndex),e.R7$(2),e.JRh(l.key),e.R7$(3),e.Y8G("ngForOf",y.app.getRandomDecisionSelectedOptionParts(l))("ngForTrackBy",y.app.trackByIndex),e.R7$(),e.Y8G("ngModel",y.app.getSelectedRandomDecisionOptionId(l))("ngModelOptions",e.lJ4(10,ol)),e.R7$(),e.Y8G("ngForOf",l.options)("ngForTrackBy",y.app.trackByIndex)}}function $E(u,h){if(1&u&&(e.j41(0,"div",191)(1,"table",192)(2,"thead")(3,"tr")(4,"th",193),e.EFF(5,"Step"),e.k0s(),e.j41(6,"th",193),e.EFF(7,"Event"),e.k0s(),e.j41(8,"th",193),e.EFF(9,"Forced Choice"),e.k0s()()(),e.j41(10,"tbody"),e.DNE(11,JD,13,11,"tr",194),e.k0s()()()),2&u){const l=e.XpG(3);e.R7$(11),e.Y8G("ngForOf",l.app.randomDecisions)("ngForTrackBy",l.app.trackByIndex)}}function QD(u,h){if(1&u&&(e.j41(0,"div",185),e.DNE(1,tv,2,0,"div",186)(2,jD,2,1,"div",187)(3,$E,12,2,"div",188),e.k0s()),2&u){const l=e.XpG(2);e.R7$(),e.Y8G("ngIf",!l.app.randomDecisions.length),e.R7$(),e.Y8G("ngIf",l.app.randomOverrideError),e.R7$(),e.Y8G("ngIf",l.app.randomDecisions.length)}}function eg(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",81)(1,"div",82)(2,"div",83),e.EFF(3,"Pack Selection"),e.k0s(),e.j41(4,"div",84)(5,"label")(6,"span",85),e.EFF(7,"Player"),e.k0s(),e.EFF(8," Pack"),e.k0s(),e.j41(9,"button",86),e.bIt("click",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.app.openSelectionDialog("pack","player"))}),e.DNE(10,qf,1,1,"img",87),e.j41(11,"span",88),e.EFF(12),e.k0s(),e.nrm(13,"i",89),e.k0s()(),e.j41(14,"div",84)(15,"label")(16,"span",90),e.EFF(17,"Opponent"),e.k0s(),e.EFF(18," Pack"),e.k0s(),e.j41(19,"button",86),e.bIt("click",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.app.openSelectionDialog("pack","opponent"))}),e.DNE(20,Zf,1,1,"img",87),e.j41(21,"span",88),e.EFF(22),e.k0s(),e.nrm(23,"i",89),e.k0s()(),e.j41(24,"div",91),e.nrm(25,"input",92),e.j41(26,"label",93),e.EFF(27,"All Pets"),e.k0s()()(),e.j41(28,"div",94)(29,"div",83),e.EFF(30,"Save / Load Teams"),e.k0s(),e.j41(31,"div",95)(32,"input",96),e.mxI("ngModelChange",function(P){v.eBV(l);const C=e.XpG();return e.DH7(C.app.teamName,P)||(C.app.teamName=P),v.Njj(P)}),e.k0s(),e.j41(33,"div",97)(34,"button",98),e.bIt("click",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.app.saveTeam(P.saveSide))}),e.EFF(35," Save "),e.k0s(),e.j41(36,"select",99),e.mxI("ngModelChange",function(P){v.eBV(l);const C=e.XpG();return e.DH7(C.saveSide,P)||(C.saveSide=P),v.Njj(P)}),e.j41(37,"option",15),e.EFF(38,"Player"),e.k0s(),e.j41(39,"option",16),e.EFF(40,"Opponent"),e.k0s()()()(),e.j41(41,"div",95)(42,"button",100),e.bIt("click",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.app.openSelectionDialog("team","none"))}),e.DNE(43,Ic,2,1,"div",101)(44,Ed,2,0,"ng-template",null,2,e.C5r),e.j41(46,"span",88),e.EFF(47),e.k0s(),e.nrm(48,"i",89),e.k0s(),e.j41(49,"div",102)(50,"button",98),e.bIt("click",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.app.loadTeam(P.loadSide))}),e.EFF(51," Load "),e.k0s(),e.j41(52,"select",99),e.mxI("ngModelChange",function(P){v.eBV(l);const C=e.XpG();return e.DH7(C.loadSide,P)||(C.loadSide=P),v.Njj(P)}),e.j41(53,"option",15),e.EFF(54,"Player"),e.k0s(),e.j41(55,"option",16),e.EFF(56,"Opponent"),e.k0s()()()()(),e.j41(57,"div",103)(58,"div",104)(59,"div",105),e.EFF(60,"Scenario Settings"),e.k0s(),e.j41(61,"button",106),e.bIt("click",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.resetScenarioSettings())}),e.EFF(62," Reset Scenario Settings "),e.k0s()(),e.j41(63,"div",107)(64,"div",108),e.nrm(65,"input",109),e.j41(66,"label",110),e.nrm(67,"span",111),e.EFF(68," Komodo Shuffle "),e.k0s()(),e.j41(69,"div",112),e.nrm(70,"input",113),e.j41(71,"label",114),e.nrm(72,"span",115),e.EFF(73," Change equipment uses "),e.k0s()(),e.j41(74,"div",116),e.nrm(75,"input",117),e.j41(76,"label",118),e.nrm(77,"span",119),e.EFF(78," Mana "),e.k0s()(),e.j41(79,"div",120),e.nrm(80,"input",121),e.j41(81,"label",122),e.EFF(82," Enable logs "),e.k0s()(),e.j41(83,"div",123),e.nrm(84,"input",124),e.j41(85,"label",125),e.nrm(86,"span",126),e.EFF(87," Triggers Consumed "),e.k0s()(),e.j41(88,"div",127)(89,"input",128),e.bIt("change",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.app.refreshDebugLogPresentation())}),e.k0s(),e.j41(90,"label",129),e.EFF(91," Debug Info "),e.k0s()(),e.j41(92,"div",130)(93,"input",131),e.bIt("change",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.app.refreshDebugLogPresentation())}),e.k0s(),e.j41(94,"label",132),e.EFF(95," Positional Args "),e.k0s()()(),e.j41(96,"div",133)(97,"div",134)(98,"label",135),e.EFF(99,"Turn Number"),e.k0s(),e.nrm(100,"input",136),e.k0s(),e.j41(101,"div",137)(102,"label",138),e.EFF(103," Seed "),e.k0s(),e.nrm(104,"input",139),e.k0s(),e.j41(105,"div",137)(106,"label",140),e.nrm(107,"span",141),e.j41(108,"span",85),e.EFF(109,"Player"),e.k0s(),e.EFF(110," Gold Spent "),e.k0s(),e.nrm(111,"input",142),e.k0s(),e.j41(112,"div",137)(113,"label",143),e.nrm(114,"span",141),e.j41(115,"span",90),e.EFF(116,"Opponent"),e.k0s(),e.EFF(117," Gold Spent "),e.k0s(),e.nrm(118,"input",144),e.k0s(),e.DNE(119,HD,7,0,"div",145)(120,NE,7,0,"div",145),e.j41(121,"div",137)(122,"label",146),e.nrm(123,"span",147),e.j41(124,"span",85),e.EFF(125,"Player"),e.k0s(),e.EFF(126," Level 3 Sold "),e.k0s(),e.nrm(127,"input",148),e.k0s(),e.j41(128,"div",137)(129,"label",149),e.nrm(130,"span",147),e.j41(131,"span",90),e.EFF(132,"Opponent"),e.k0s(),e.EFF(133," Level 3 Sold "),e.k0s(),e.nrm(134,"input",150),e.k0s(),e.j41(135,"div",137)(136,"label",151),e.nrm(137,"span",152),e.j41(138,"span",85),e.EFF(139,"Player"),e.k0s(),e.EFF(140," Summoned Amount "),e.k0s(),e.nrm(141,"input",153),e.k0s(),e.j41(142,"div",137)(143,"label",154),e.nrm(144,"span",152),e.j41(145,"span",90),e.EFF(146,"Opponent"),e.k0s(),e.EFF(147," Summoned Amount "),e.k0s(),e.nrm(148,"input",155),e.k0s(),e.j41(149,"div",137)(150,"label",156),e.nrm(151,"span",157),e.j41(152,"span",85),e.EFF(153,"Player"),e.k0s(),e.EFF(154," Transformation Amount "),e.k0s(),e.nrm(155,"input",158),e.k0s(),e.j41(156,"div",137)(157,"label",159),e.nrm(158,"span",157),e.j41(159,"span",90),e.EFF(160,"Opponent"),e.k0s(),e.EFF(161," Transformation Amount "),e.k0s(),e.nrm(162,"input",160),e.k0s()()(),e.j41(163,"div",161)(164,"div",162)(165,"button",163),e.bIt("click",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.app.toggleRandomOverrides())}),e.j41(166,"span",41),e.EFF(167,"Random Overrides"),e.k0s(),e.DNE(168,ev,2,1,"span",164),e.j41(169,"span",165),e.EFF(170,"\u25be"),e.k0s()(),e.DNE(171,Zh,7,3,"div",166),e.k0s(),e.DNE(172,UE,2,1,"div",167)(173,QD,4,3,"div",168),e.k0s()()}if(2&u){const l=e.sdS(45),y=e.XpG();e.R7$(10),e.Y8G("ngIf",y.app.getPackIconPath(y.app.formGroup.get("playerPack").value)&&!y.app.playerPackImageBroken),e.R7$(2),e.JRh(y.app.formGroup.get("playerPack").value||"Select Pack"),e.R7$(8),e.Y8G("ngIf",y.app.getPackIconPath(y.app.formGroup.get("opponentPack").value)&&!y.app.opponentPackImageBroken),e.R7$(2),e.JRh(y.app.formGroup.get("opponentPack").value||"Select Pack"),e.R7$(10),e.R50("ngModel",y.app.teamName),e.Y8G("ngModelOptions",e.lJ4(25,ol)),e.R7$(4),e.R50("ngModel",y.saveSide),e.Y8G("ngClass","player"===y.saveSide?"side-select-player":"side-select-opponent")("ngModelOptions",e.lJ4(26,ol)),e.R7$(7),e.Y8G("ngIf",y.app.selectedTeamPreviewIcons.length)("ngIfElse",l),e.R7$(4),e.JRh(y.app.selectedTeamName),e.R7$(5),e.R50("ngModel",y.loadSide),e.Y8G("ngClass","player"===y.loadSide?"side-select-player":"side-select-opponent")("ngModelOptions",e.lJ4(27,ol)),e.R7$(9),e.Y8G("disabled",!(null!=y.app&&y.app.formGroup)),e.R7$(58),e.Y8G("ngIf",y.app.rollInputVisible),e.R7$(),e.Y8G("ngIf",y.app.rollInputVisible),e.R7$(45),e.BMQ("aria-expanded",y.app.showRandomOverrides),e.R7$(3),e.Y8G("ngIf",y.app.randomDecisions.length),e.R7$(),e.AVh("expanded",y.app.showRandomOverrides),e.R7$(2),e.Y8G("ngIf",y.app.showRandomOverrides),e.R7$(),e.Y8G("ngIf",!y.app.showRandomOverrides),e.R7$(),e.Y8G("ngIf",y.app.showRandomOverrides)}}const GE={komodoShuffle:!1,changeEquipmentUses:!1,mana:!1,logsEnabled:!0,triggersConsumed:!1,showTriggerNamesInLogs:!1,showPositionalArgsInLogs:!0,turn:11,seed:null,playerGoldSpent:10,opponentGoldSpent:10,playerRollAmount:4,opponentRollAmount:4,playerLevel3Sold:0,opponentLevel3Sold:0,playerSummonedAmount:0,opponentSummonedAmount:0,playerTransformationAmount:0,opponentTransformationAmount:0},HE={komodoShuffle:!1,changeEquipmentUses:!1,mana:!1,logsEnabled:!0,triggersConsumed:!1,showTriggerNamesInLogs:!1,showPositionalArgsInLogs:!0,turn:1,seed:null,playerGoldSpent:0,opponentGoldSpent:0,playerRollAmount:0,opponentRollAmount:0,playerLevel3Sold:0,opponentLevel3Sold:0,playerSummonedAmount:0,opponentSummonedAmount:0,playerTransformationAmount:0,opponentTransformationAmount:0};let jE=(()=>{class u{app;soundMenuRoot;optimizeSide="player";saveSide="player";loadSide="player";get isUnifiedAdvancedExpanded(){return!!this.app?.formGroup?.get("showAdvanced")?.value}get activeAdvancedSettingsCount(){return this.app?.formGroup?Object.entries(GE).reduce((l,[y,P])=>{const C=this.app.formGroup.get(y)?.value;return l+(C!==P?1:0)},0):0}get activeAdvancedOverridesCount(){return this.activeAdvancedSettingsCount+this.randomOverrideCount}get unifiedAdvancedSummary(){const l=this.activeAdvancedSettingsCount,y=this.randomOverrideCount,P=`Packs: ${this.getControlDisplayValue("playerPack","None")} vs ${this.getControlDisplayValue("opponentPack","None")}.`;return l||y?l&&y?`${P} ${l} advanced setting${1===l?"":"s"} and ${y} random override${1===y?"":"s"} active.`:l?`${P} ${l} advanced setting${1===l?"":"s"} active.`:`${P} ${y} random override${1===y?"":"s"} captured.`:`${P} No scenario tweaks active.`}get randomOverrideCount(){return this.app?.randomDecisions?.length??0}onDocumentClick(l){if(!this.app?.soundMenuOpen)return;const y=l.target,P=this.soundMenuRoot?.nativeElement;if(!y||!P)return this.app.soundMenuOpen=!1,void this.app.markForCheck();P.contains(y)||(this.app.soundMenuOpen=!1,this.app.markForCheck())}resetScenarioSettings(){this.app?.formGroup&&(this.app.formGroup.patchValue(HE),this.app.refreshDebugLogPresentation())}getControlDisplayValue(l,y){const P=this.app?.formGroup?.get(l)?.value;return null==P||""===P?y:String(P)}static \u0275fac=function(y){return new(y||u)};static \u0275cmp=e.VBU({type:u,selectors:[["app-shell-controls"]],viewQuery:function(y,P){if(1&y&&e.GBs(Jf,5),2&y){let C;e.mGM(C=e.lsd())&&(P.soundMenuRoot=C.first)}},hostBindings:function(y,P){1&y&&e.bIt("click",function(I){return P.onDocumentClick(I)},e.EBC)},inputs:{app:"app"},decls:67,vars:25,consts:[["resultsPlaceholder",""],["soundMenuRoot",""],["teamPlaceholder",""],[1,"top-controls","card","mb-3",3,"formGroup"],[1,"top-controls-header"],[1,"top-toolbar-zone","top-toolbar-zone-run"],[1,"zone-label"],[1,"simulate-controls"],[1,"simulate-input-group"],[1,"btn","btn-primary",3,"click","disabled"],["class","btn btn-outline-danger",3,"click",4,"ngIf"],["type","number","formControlName","simulations","min","1",1,"form-control","simulate-input"],[1,"optimize-control-group"],[1,"btn","btn-outline-primary",3,"click","disabled"],[1,"form-select","form-select-sm",3,"ngModelChange","ngModel","ngClass","ngModelOptions","disabled"],["value","player",1,"player-side-text"],["value","opponent",1,"opponent-side-text"],[1,"randomize-control-group"],[1,"btn","btn-secondary",3,"click"],["class","btn btn-secondary",3,"click",4,"ngIf"],[1,"top-toolbar-zone","top-toolbar-zone-results"],[4,"ngIf","ngIfElse"],[1,"top-toolbar-zone","top-toolbar-zone-actions"],[1,"zone-label","zone-label-right"],[1,"external-buttons"],[1,"sound-menu"],["class","sound-menu-panel",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#info","aria-label","Open guide",1,"btn","btn-secondary",3,"click"],["data-bs-toggle","modal","data-bs-target","#reportABug",1,"btn","btn-secondary",3,"click"],["data-bs-toggle","modal","data-bs-target","#export",1,"btn","btn-secondary",3,"click"],["data-bs-toggle","modal","data-bs-target","#import",1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"external-meta","top-controls-meta-text"],["class","px-3 pb-2",3,"ngClass",4,"ngIf"],["class","px-3 pb-2 text-muted small top-controls-meta-text",4,"ngIf"],["class","simulation-progress px-3 pb-2",4,"ngIf"],[1,"top-controls-body"],[1,"controls-grid"],[1,"controls-section","unified-advanced-section"],[1,"unified-advanced-header"],["type","button","aria-controls","advanced-overrides-panel",1,"btn-link","unified-advanced-toggle-btn",3,"click"],[1,"section-title"],["class","unified-advanced-count",4,"ngIf"],["aria-hidden","true",1,"unified-advanced-chevron"],["class","unified-advanced-summary",4,"ngIf"],["id","advanced-overrides-panel","class","unified-advanced-body",4,"ngIf"],[1,"btn","btn-outline-danger",3,"click"],[1,"results-row"],[1,"stats"],[1,"stat-block","player-stat"],[1,"stat-label","player-side-text"],[1,"stat-value"],[1,"stat-block","draw-stat"],[1,"stat-label"],[1,"stat-block","opponent-stat"],[1,"stat-label","opponent-side-text"],["aria-hidden","true",1,"results-bar","modern-results-bar"],[1,"results-segment","results-segment-player"],[1,"results-segment","results-segment-draw"],[1,"results-segment","results-segment-opponent"],["class","optimization-delta",4,"ngIf"],[1,"optimization-delta"],[1,"optimization-delta-label"],[1,"optimization-delta-value","optimization-delta-value-win"],[1,"optimization-delta-separator"],[1,"optimization-delta-value"],[1,"optimization-delta-value","optimization-delta-value-loss"],[1,"results-placeholder"],["aria-hidden","true",1,"results-bar","modern-results-bar","placeholder-bar"],[1,"sound-menu-panel"],[1,"sound-menu-title"],["type","range","min","0","max","1","step","0.05",1,"form-range","sound-menu-slider",3,"ngModelChange","ngModel","ngModelOptions"],[1,"btn","btn-secondary","btn-sm","sound-menu-mute-btn",3,"click"],[1,"px-3","pb-2",3,"ngClass"],[1,"px-3","pb-2","text-muted","small","top-controls-meta-text"],[1,"simulation-progress","px-3","pb-2"],[1,"progress","flex-1"],["role","progressbar",1,"progress-bar"],[1,"progress-text"],[1,"unified-advanced-count"],[1,"unified-advanced-summary"],["id","advanced-overrides-panel",1,"unified-advanced-body"],[1,"controls-section","nested-section","packs-section"],[1,"section-title","subsection-title"],[1,"form-group","min-w-input"],[1,"player-side-text"],[1,"selection-btn",3,"click"],["class","btn-icon","width","24","height","24","loading","lazy","decoding","async",3,"ngSrc","error",4,"ngIf"],[1,"btn-text"],[1,"fas","fa-chevron-down","ms-auto"],[1,"opponent-side-text"],["title","All pets are included in the pet pool.",1,"form-check"],["type","checkbox","value","","id","allPets","formControlName","allPets",1,"form-check-input"],["for","allPets",1,"form-check-label"],[1,"controls-section","nested-section","teams-section"],[1,"team-column"],["placeholder","Team name",1,"form-control","team-name-input",3,"ngModelChange","ngModel","ngModelOptions"],[1,"team-name-actions"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"form-select","form-select-sm",3,"ngModelChange","ngModel","ngClass","ngModelOptions"],[1,"selection-btn","team-selection-btn",3,"click"],["class","team-preview",4,"ngIf","ngIfElse"],[1,"team-name-actions","load-actions"],[1,"advanced-panel-body"],[1,"d-flex","align-items-center","justify-content-between","flex-wrap","gap-2","mb-2"],[1,"section-title","mb-0"],["type","button",1,"btn","btn-outline-secondary","btn-sm",3,"click","disabled"],[1,"advanced-grid"],["title","Shuffle pets in front of Komodo if present.",1,"form-check"],["type","checkbox","value","","id","komodoShuffle","formControlName","komodoShuffle",1,"form-check-input"],["for","komodoShuffle",1,"form-check-label","advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","komodo-icon"],["title","Enable changing equipment uses globally.",1,"form-check"],["type","checkbox","value","","id","changeEquipmentUses","formControlName","changeEquipmentUses",1,"form-check-input"],["for","changeEquipmentUses",1,"form-check-label","advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","perk-icon"],["title","Include Mana.",1,"form-check"],["type","checkbox","value","","id","mana","formControlName","mana",1,"form-check-input"],["for","mana",1,"form-check-label","advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","mana-icon"],["title","Disable battle logs for faster simulations.",1,"form-check"],["type","checkbox","value","","id","logsEnabled","formControlName","logsEnabled",1,"form-check-input"],["for","logsEnabled",1,"form-check-label"],["title","Include Triggers Consumed.",1,"form-check"],["type","checkbox","value","","id","triggersConsumed","formControlName","triggersConsumed",1,"form-check-input"],["for","triggersConsumed",1,"form-check-label","advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","pheasant-icon"],["title","Show debug details: trigger names and random reason labels.",1,"form-check"],["type","checkbox","value","","id","showTriggerNamesInLogs","formControlName","showTriggerNamesInLogs",1,"form-check-input",3,"change"],["for","showTriggerNamesInLogs",1,"form-check-label"],["title","Show [P#/O#] positional prefixes in logs and animation.",1,"form-check"],["type","checkbox","value","","id","showPositionalArgsInLogs","formControlName","showPositionalArgsInLogs",1,"form-check-input",3,"change"],["for","showPositionalArgsInLogs",1,"form-check-label"],[1,"advanced-number-grid","mt-2"],[1,"form-group","small-w-input"],["for","turn"],["id","turn","type","number","formControlName","turn","max","99",1,"form-control"],[1,"form-group","advanced-input"],["for","seed","title","Simulation Seed"],["id","seed","type","number","formControlName","seed",1,"form-control"],["for","playerGoldSpent","title","Player Gold Spent",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","gold-icon"],["id","playerGoldSpent","type","number","formControlName","playerGoldSpent","max","99",1,"form-control"],["for","opponentGoldSpent","title","Opponent Gold Spent",1,"advanced-label-with-icon"],["id","opponentGoldSpent","type","number","formControlName","opponentGoldSpent","max","99",1,"form-control"],["class","form-group advanced-input",4,"ngIf"],["for","playerLevel3Sold","title","Player Level 3 Sold",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","cycle-icon"],["id","playerLevel3Sold","type","number","formControlName","playerLevel3Sold","max","99",1,"form-control"],["for","opponentLevel3Sold","title","Opponent Level 3 Sold",1,"advanced-label-with-icon"],["id","opponentLevel3Sold","type","number","formControlName","opponentLevel3Sold","max","99",1,"form-control"],["for","playerSummonedAmount","title","Player Summoned Amount",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","summon-icon"],["id","playerSummonedAmount","type","number","formControlName","playerSummonedAmount","max","99",1,"form-control"],["for","opponentSummonedAmount","title","Opponent Summoned Amount",1,"advanced-label-with-icon"],["id","opponentSummonedAmount","type","number","formControlName","opponentSummonedAmount","max","99",1,"form-control"],["for","playerTransformationAmount","title","Player Transformation Amount",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","transform-icon"],["id","playerTransformationAmount","type","number","formControlName","playerTransformationAmount","max","99",1,"form-control"],["for","opponentTransformationAmount","title","Opponent Transformation Amount",1,"advanced-label-with-icon"],["id","opponentTransformationAmount","type","number","formControlName","opponentTransformationAmount","max","99",1,"form-control"],[1,"random-overrides-panel"],[1,"random-overrides-header"],["type","button","aria-controls","random-overrides-panel",1,"btn-link","random-overrides-toggle",3,"click"],["class","random-overrides-count",4,"ngIf"],["aria-hidden","true",1,"random-overrides-chevron"],["class","random-overrides-actions",4,"ngIf"],["class","random-overrides-summary",4,"ngIf"],["id","random-overrides-panel","class","random-overrides-body",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async",1,"btn-icon",3,"error","ngSrc"],[1,"team-preview"],["width","28","height","28","loading","lazy","decoding","async","class","team-preview-icon",3,"ngSrc","alt",4,"ngFor","ngForOf"],["width","28","height","28","loading","lazy","decoding","async",1,"team-preview-icon",3,"ngSrc","alt"],[1,"btn-placeholder"],["for","playerRollAmount","title","Player Roll Amount",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","roll-icon"],["id","playerRollAmount","type","number","formControlName","playerRollAmount","max","99",1,"form-control"],["for","opponentRollAmount","title","Opponent Roll Amount",1,"advanced-label-with-icon"],["id","opponentRollAmount","type","number","formControlName","opponentRollAmount","max","99",1,"form-control"],[1,"random-overrides-count"],[1,"random-overrides-actions"],["title","Runs one logged battle and captures random decision points.",1,"btn","btn-secondary","btn-sm",3,"click","disabled"],["title","Runs one logged battle while forcing selected random options.",1,"btn","btn-primary","btn-sm",3,"click","disabled"],[1,"btn","btn-outline-danger","btn-sm",3,"click","disabled"],[1,"random-overrides-summary"],["id","random-overrides-panel",1,"random-overrides-body"],["class","random-overrides-empty",4,"ngIf"],["class","random-overrides-error",4,"ngIf"],["class","random-overrides-table-wrap",4,"ngIf"],[1,"random-overrides-empty"],[1,"random-overrides-error"],[1,"random-overrides-table-wrap"],[1,"table","table-sm","random-overrides-table"],["scope","col"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"decision-label"],[1,"decision-key"],[1,"decision-choice-preview"],[1,"form-select","form-select-sm",3,"ngModelChange","ngModel","ngModelOptions"],[3,"ngValue",4,"ngFor","ngForOf","ngForTrackBy"],["class","log-inline-icon","width","16","height","16","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],[3,"ngClass",4,"ngIf"],[4,"ngIf"],["width","16","height","16","loading","lazy","decoding","async",1,"log-inline-icon",3,"ngSrc","alt"],[3,"ngClass"],[3,"ngValue"]],template:function(y,P){if(1&y){const C=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),e.EFF(4,"Run"),e.k0s(),e.j41(5,"div",7)(6,"div",8)(7,"button",9),e.bIt("click",function(){return v.eBV(C),v.Njj(P.app.simulate(P.app.formGroup.get("simulations").value))}),e.EFF(8),e.k0s(),e.DNE(9,Qf,2,0,"button",10),e.nrm(10,"input",11),e.k0s(),e.j41(11,"div",12)(12,"button",13),e.bIt("click",function(){return v.eBV(C),v.Njj(P.app.optimizePositioning(P.optimizeSide))}),e.EFF(13," Optimize "),e.k0s(),e.j41(14,"select",14),e.mxI("ngModelChange",function(W){return v.eBV(C),e.DH7(P.optimizeSide,W)||(P.optimizeSide=W),v.Njj(W)}),e.j41(15,"option",15),e.EFF(16,"Player"),e.k0s(),e.j41(17,"option",16),e.EFF(18,"Opponent"),e.k0s()()(),e.j41(19,"div",17)(20,"button",18),e.bIt("click",function(){return v.eBV(C),v.Njj(P.app.randomize())}),e.EFF(21," Randomize "),e.k0s(),e.DNE(22,Qh,2,0,"button",19),e.k0s()()(),e.j41(23,"div",20)(24,"div",6),e.EFF(25),e.k0s(),e.DNE(26,wE,23,13,"ng-container",21)(27,OE,2,0,"ng-template",null,0,e.C5r),e.k0s(),e.j41(29,"div",22)(30,"div",23),e.EFF(31,"Actions"),e.k0s(),e.j41(32,"div",24)(33,"button",18),e.bIt("click",function(){return v.eBV(C),v.Njj(P.app.toggleTheme())}),e.EFF(34),e.k0s(),e.j41(35,"div",25,1)(37,"button",18),e.bIt("click",function(){return v.eBV(C),v.Njj(P.app.toggleSoundMenu())}),e.EFF(38," Sound "),e.k0s(),e.DNE(39,IE,6,5,"div",26),e.k0s(),e.j41(40,"button",27),e.bIt("click",function(){return v.eBV(C),v.Njj(P.app.showInfo=!0)}),e.EFF(41," Guide "),e.k0s(),e.j41(42,"button",28),e.bIt("click",function(){return v.eBV(C),v.Njj(P.app.showReportABug=!0)}),e.EFF(43," Report A Bug "),e.k0s(),e.j41(44,"button",29),e.bIt("click",function(){return v.eBV(C),v.Njj(P.app.showExport=!0)}),e.EFF(45," Export "),e.k0s(),e.j41(46,"button",30),e.bIt("click",function(){return v.eBV(C),v.Njj(P.app.showImport=!0)}),e.EFF(47," Import "),e.k0s(),e.j41(48,"button",31),e.bIt("click",function(){return v.eBV(C),v.Njj(P.app.generateShareLink())}),e.EFF(49," Generate Link "),e.k0s()(),e.j41(50,"div",32),e.EFF(51," Shortcuts: Alt+S simulate, Alt+R randomize, Alt+P/O optimize, Alt+A controls, Alt+T theme "),e.k0s()()(),e.DNE(52,RE,2,2,"div",33)(53,LE,2,1,"div",34)(54,xE,5,3,"div",35),e.j41(55,"div",36)(56,"div",37)(57,"div",38)(58,"div",39)(59,"button",40),e.bIt("click",function(){return v.eBV(C),v.Njj(P.app.toggleAdvanced())}),e.j41(60,"span",41),e.EFF(61,"Scenario Controls"),e.k0s(),e.DNE(62,qh,2,1,"span",42),e.j41(63,"span",43),e.EFF(64,"\u25be"),e.k0s()()(),e.DNE(65,BE,2,1,"div",44)(66,eg,174,28,"div",45),e.k0s()()()()}if(2&y){const C=e.sdS(28);e.Y8G("formGroup",P.app.formGroup),e.R7$(7),e.Y8G("disabled",P.app.simulationInProgress),e.R7$(),e.SpI(" ",P.app.simulationInProgress?"Simulating...":"Simulate"," "),e.R7$(),e.Y8G("ngIf",P.app.simulationInProgress),e.R7$(3),e.Y8G("disabled",P.app.simulationInProgress),e.R7$(2),e.R50("ngModel",P.optimizeSide),e.Y8G("ngClass","player"===P.optimizeSide?"side-select-player":"side-select-opponent")("ngModelOptions",e.lJ4(24,ol))("disabled",P.app.simulationInProgress),e.R7$(8),e.Y8G("ngIf",P.app.undoState),e.R7$(3),e.JRh(P.app.simulated?"Results":"Simulate to see results"),e.R7$(),e.Y8G("ngIf",P.app.simulated)("ngIfElse",C),e.R7$(8),e.SpI(" ","dark"===P.app.theme?"Light Theme":"Dark Theme"," "),e.R7$(5),e.Y8G("ngIf",P.app.soundMenuOpen),e.R7$(13),e.Y8G("ngIf",P.app.statusMessage),e.R7$(),e.Y8G("ngIf",P.app.autoSaveLabel),e.R7$(),e.Y8G("ngIf",P.app.simulationInProgress),e.R7$(5),e.BMQ("aria-expanded",P.isUnifiedAdvancedExpanded),e.R7$(3),e.Y8G("ngIf",P.activeAdvancedOverridesCount),e.R7$(),e.AVh("expanded",P.isUnifiedAdvancedExpanded),e.R7$(2),e.Y8G("ngIf",!P.isUnifiedAdvancedExpanded),e.R7$(),e.Y8G("ngIf",P.isUnifiedAdvancedExpanded)}},dependencies:[jt.MD,jt.YU,jt.Sq,jt.bT,ue.YN,ue.xH,ue.y7,ue.me,ue.Q0,ue.MR,ue.Zm,ue.wz,ue.BC,ue.cb,ue.VZ,ue.zX,ue.vS,ue.X1,ue.j4,ue.JD,bi],encapsulation:2})}return u})();const ro=["battleSplitContainer"],Rc=["animationSplitContainer"],tg=["logsAnalysisSplitContainer"],ig=["analysisSplitContainer"],VE=(u,h)=>({"player-side-text":u,"opponent-side-text":h}),ll=(u,h,l)=>({"battle-winner-player":u,"battle-winner-opponent":h,"battle-winner-draw":l}),ng=()=>[],Sd=()=>({standalone:!0}),qD=(u,h,l,y,P)=>[u,h,l,y,P],zE=(u,h,l,y)=>({"diff-same":u,"diff-changed":h,"diff-left-only":l,"diff-right-only":y});function YE(u,h){1&u&&(e.j41(0,"div",43),e.EFF(1," Swipe or shift-scroll to view logs -> "),e.k0s())}function XE(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",44)(1,"button",45),e.bIt("click",function(){v.eBV(l);const P=e.XpG(2);return v.Njj(P.setTabletActivePane("battle"))}),e.EFF(2," Battles "),e.k0s(),e.j41(3,"button",45),e.bIt("click",function(){v.eBV(l);const P=e.XpG(2);return v.Njj(P.setTabletActivePane("logs"))}),e.EFF(4," Logs "),e.k0s()()}if(2&u){const l=e.XpG(2);e.R7$(),e.AVh("active","battle"===l.activeTabletPane),e.BMQ("aria-selected","battle"===l.activeTabletPane),e.R7$(2),e.AVh("active","logs"===l.activeTabletPane),e.BMQ("aria-selected","logs"===l.activeTabletPane)}}function Td(u,h){if(1&u){const l=e.RV6();e.j41(0,"button",46),e.bIt("click",function(){const P=v.eBV(l).$implicit,C=e.XpG(2);return v.Njj(C.app.formGroup.get("logFilter").setValue(P.value))}),e.EFF(1),e.k0s()}if(2&u){const l=h.$implicit,y=e.XpG(2);e.AVh("active",y.app.formGroup.get("logFilter").value===l.value),e.Y8G("ngClass",e.l_i(4,VE,"player"===l.value,"opponent"===l.value)),e.R7$(),e.SpI(" ",l.label," ")}}function JE(u,h){if(1&u&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&u){const l=h.ngIf,y=e.XpG(2);e.R7$(),e.SpI("Viewing #",y.app.battles.indexOf(l))}}function sv(u,h){if(1&u&&e.nrm(0,"img",53),2&u){const l=e.XpG().$implicit;e.Y8G("ngSrc",l.src)("alt",l.alt)}}function Dd(u,h){if(1&u&&(e.j41(0,"span",54),e.EFF(1),e.k0s()),2&u){const l=e.XpG().$implicit;e.Y8G("ngClass",l.className),e.R7$(),e.JRh(l.text)}}function Md(u,h){1&u&&e.nrm(0,"br")}function QE(u,h){if(1&u&&(e.qex(0),e.DNE(1,sv,1,2,"img",51)(2,Dd,2,2,"span",52)(3,Md,1,0,"br",25),e.bVm()),2&u){const l=h.$implicit;e.R7$(),e.Y8G("ngIf","img"===l.type),e.R7$(),e.Y8G("ngIf","text"===l.type),e.R7$(),e.Y8G("ngIf","br"===l.type)}}function qE(u,h){if(1&u&&(e.qex(0),e.DNE(1,QE,4,3,"ng-container",50),e.bVm()),2&u){const l=e.XpG().$implicit,y=e.XpG(2);e.R7$(),e.Y8G("ngForOf",y.app.battleRandomEventsByBattle.get(l)||e.lJ4(2,ng))("ngForTrackBy",y.app.trackByIndex)}}function ZE(u,h){1&u&&(e.j41(0,"span",55),e.EFF(1,"None"),e.k0s())}function rv(u,h){if(1&u){const l=e.RV6();e.j41(0,"tr",47),e.bIt("click",function(){const P=v.eBV(l).$implicit,C=e.XpG(2);return v.Njj(C.app.setViewBattle(P))}),e.j41(1,"td")(2,"span",48),e.EFF(3),e.k0s()(),e.j41(4,"td",49),e.DNE(5,qE,2,3,"ng-container",39)(6,ZE,2,0,"ng-template",null,6,e.C5r),e.k0s()()}if(2&u){const l=h.$implicit,y=e.sdS(7),P=e.XpG(2);e.AVh("selected-battle",l===P.app.viewBattle),e.Y8G("ngClass","player"===l.winner?"battle-win":"opponent"===l.winner?"battle-loss":"battle-draw"),e.R7$(2),e.Y8G("ngClass",e.sMw(7,ll,"player"===l.winner,"opponent"===l.winner,"draw"===l.winner)),e.R7$(),e.SpI(" ",l.winner," "),e.R7$(2),e.Y8G("ngIf",(P.app.battleRandomEventsByBattle.get(l)||e.lJ4(11,ng)).length>0)("ngIfElse",y)}}function ov(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",56),e.bIt("pointerdown",function(P){v.eBV(l);const C=e.XpG(2);return v.Njj(C.onDividerPointerDown(P))})("pointermove",function(P){v.eBV(l);const C=e.XpG(2);return v.Njj(C.onDividerPointerMove(P))})("pointerup",function(P){v.eBV(l);const C=e.XpG(2);return v.Njj(C.onDividerPointerUp(P))})("pointercancel",function(P){v.eBV(l);const C=e.XpG(2);return v.Njj(C.onDividerPointerUp(P))})("keydown",function(P){v.eBV(l);const C=e.XpG(2);return v.Njj(C.onPaneDividerKeyDown(P))}),e.k0s()}}function ZD(u,h){if(1&u){const l=e.RV6();e.j41(0,"button",57),e.bIt("click",function(){const P=v.eBV(l).$implicit,C=e.XpG(2);return v.Njj(C.app.setViewBattleLogFilter(P.value))}),e.EFF(1),e.k0s()}if(2&u){const l=h.$implicit,y=e.XpG(2);e.AVh("active",y.app.logEventFilter===l.value),e.R7$(),e.SpI(" ",l.label," ")}}function eS(u,h){if(1&u&&e.nrm(0,"img",77),2&u){const l=e.XpG().ngIf,y=e.XpG(2);e.Y8G("ngSrc",y.app.getToyIconPath(l.frame.opponentToyName))("alt",l.frame.opponentToyName+" toy")}}function Lc(u,h){if(1&u&&e.nrm(0,"img",78),2&u){const l=e.XpG().ngIf,y=e.XpG(2);e.Y8G("ngSrc",y.app.getToyIconPath(l.frame.opponentHardToyName))("alt",l.frame.opponentHardToyName+" hard toy")}}function tS(u,h){if(1&u&&e.nrm(0,"img",91),2&u){const l=e.XpG().$implicit;e.Y8G("ngSrc",l.slot.petIconSrc)("alt",l.slot.petName||"Opponent pet")}}function lv(u,h){if(1&u&&e.nrm(0,"img",92),2&u){const l=e.XpG().$implicit;e.Y8G("ngSrc",l.slot.petCompanionIconSrc)("alt",l.slot.petCompanionName||"Companion pet")}}function iS(u,h){1&u&&(e.j41(0,"span",93),e.EFF(1,"___"),e.k0s())}function cv(u,h){if(1&u&&e.nrm(0,"img",94),2&u){const l=e.XpG().$implicit;e.Y8G("ngSrc",l.slot.equipmentIconSrc)("alt",l.slot.equipmentName||"Equipment")}}function uv(u,h){if(1&u&&e.nrm(0,"img",97),2&u){const l=e.XpG().ngIf;e.Y8G("ngSrc",l.equipmentIconSrc)("alt",(l.equipmentName||"Equipment")+" removed")}}function nS(u,h){if(1&u&&(e.j41(0,"div",95),e.DNE(1,uv,1,2,"img",96),e.k0s()),2&u){const l=h.ngIf;e.R7$(),e.Y8G("ngIf",l.equipmentIconSrc)}}function dv(u,h){if(1&u&&e.nrm(0,"img",100),2&u){const l=e.XpG().ngIf;e.Y8G("ngSrc",l.equipmentIconSrc)("alt",(l.equipmentName||"Equipment")+" added")}}function aS(u,h){if(1&u&&(e.j41(0,"div",98),e.DNE(1,dv,1,2,"img",99),e.k0s()),2&u){const l=h.ngIf;e.R7$(),e.Y8G("ngIf",l.equipmentIconSrc)}}function Cd(u,h){if(1&u&&(e.j41(0,"div",101),e.nrm(1,"img",102),e.k0s()),2&u){const l=e.XpG(4);e.R7$(),e.Y8G("ngSrc",l.app.fightSnipeIconSrc)}}function ag(u,h){if(1&u&&e.nrm(0,"img",106),2&u){const l=e.XpG().$implicit,y=e.XpG(4);e.Y8G("ngSrc","attack"===l.type?y.app.fightAttackIconSrc:"health"===l.type?y.app.fightHealthIconSrc:"exp"===l.type?y.app.fightExpIconSrc:"mana"===l.type?y.app.fightManaIconSrc:y.app.fightTrumpetIconSrc)}}function sS(u,h){if(1&u&&(e.qex(0),e.j41(1,"span",103),e.DNE(2,ag,1,1,"img",104),e.j41(3,"span",105),e.EFF(4),e.k0s()(),e.bVm()),2&u){const l=h.$implicit,y=h.index;e.R7$(),e.xc7("--fight-popup-index",y),e.AVh("fight-value-popup-damage","damage"===l.type)("fight-value-popup-trumpets","trumpets"===l.type)("fight-value-popup-buff","damage"!==l.type&&l.delta>0)("fight-value-popup-debuff","damage"!==l.type&&l.delta<0),e.R7$(),e.Y8G("ngIf","attack"===l.type||"health"===l.type||"exp"===l.type||"mana"===l.type||"trumpets"===l.type),e.R7$(2),e.JRh((l.delta>0?"+":"-")+(l.delta>0?l.delta:-l.delta))}}function rS(u,h){if(1&u&&e.nrm(0,"img",110),2&u){const l=e.XpG().ngIf;e.Y8G("ngSrc",l.petIconSrc)("alt",l.petName||"Fainted pet")}}function oS(u,h){if(1&u&&e.nrm(0,"img",111),2&u){const l=e.XpG().ngIf;e.Y8G("ngSrc",l.petCompanionIconSrc)("alt",l.petCompanionName||"Fainted companion")}}function sg(u,h){if(1&u&&(e.j41(0,"div",107),e.DNE(1,rS,1,2,"img",108)(2,oS,1,2,"img",109),e.k0s()),2&u){const l=h.ngIf;e.R7$(),e.Y8G("ngIf",l.petIconSrc),e.R7$(),e.Y8G("ngIf",l.petCompanionIconSrc)}}function cl(u,h){if(1&u&&(e.j41(0,"span",115),e.nrm(1,"img",116),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&u){const l=e.XpG(2).$implicit,y=e.XpG(3);e.R7$(),e.Y8G("ngSrc",y.app.fightAttackIconSrc),e.R7$(2),e.JRh(l.slot.attack)}}function kd(u,h){if(1&u&&(e.j41(0,"span",115),e.nrm(1,"img",116),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&u){const l=e.XpG(2).$implicit,y=e.XpG(3);e.R7$(),e.Y8G("ngSrc",y.app.fightHealthIconSrc),e.R7$(2),e.JRh(l.slot.health)}}function pv(u,h){if(1&u&&(e.j41(0,"span",115),e.nrm(1,"img",116),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&u){const l=e.XpG(2).$implicit,y=e.XpG(3);e.R7$(),e.Y8G("ngSrc",y.app.fightManaIconSrc),e.R7$(2),e.JRh(l.slot.mana)}}function xc(u,h){if(1&u&&(e.j41(0,"span",117),e.nrm(1,"img",116),e.j41(2,"span",118)(3,"span",119)(4,"span",120),e.EFF(5,"L1"),e.k0s(),e.nrm(6,"span"),e.j41(7,"span",120),e.EFF(8,"L2"),e.k0s(),e.nrm(9,"span"),e.j41(10,"span",120),e.EFF(11,"L3"),e.k0s()(),e.j41(12,"span",121),e.nrm(13,"span",122)(14,"span",122)(15,"span",122)(16,"span",122)(17,"span",122),e.k0s()()()),2&u){const l=e.XpG(2).$implicit,y=e.XpG(3);e.R7$(),e.Y8G("ngSrc",y.app.fightExpIconSrc),e.R7$(11),e.BMQ("aria-label","XP: "+l.slot.exp+" out of 5"),e.R7$(),e.AVh("selected",(l.slot.exp??0)>=1),e.R7$(),e.AVh("selected",(l.slot.exp??0)>=2),e.R7$(),e.AVh("selected",(l.slot.exp??0)>=3),e.R7$(),e.AVh("selected",(l.slot.exp??0)>=4),e.R7$(),e.AVh("selected",(l.slot.exp??0)>=5)}}function lS(u,h){if(1&u&&(e.j41(0,"div",112),e.DNE(1,cl,4,2,"span",113)(2,kd,4,2,"span",113)(3,pv,4,2,"span",113)(4,xc,18,12,"span",114),e.k0s()),2&u){const l=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",null!=l.slot.attack),e.R7$(),e.Y8G("ngIf",null!=l.slot.health),e.R7$(),e.Y8G("ngIf",null!=l.slot.mana),e.R7$(),e.Y8G("ngIf",null!=l.slot.exp)}}function cS(u,h){if(1&u&&(e.j41(0,"div",79)(1,"div",80),e.EFF(2),e.k0s(),e.j41(3,"div",81),e.DNE(4,tS,1,2,"img",82)(5,lv,1,2,"img",83)(6,iS,2,0,"span",84)(7,cv,1,2,"img",85)(8,nS,2,1,"div",86)(9,aS,2,1,"div",87)(10,Cd,2,1,"div",88)(11,sS,5,12,"ng-container",50)(12,sg,3,2,"div",89),e.k0s(),e.DNE(13,lS,5,4,"div",90),e.k0s()),2&u){const l=h.$implicit,y=e.XpG(3);e.xc7("--fight-shift-steps",l.shiftSteps),e.Y8G("ngClass",l.classMap),e.R7$(2),e.JRh(l.slot.label||"O"+(l.slot.slot+1)),e.R7$(2),e.Y8G("ngIf",l.slot.petIconSrc),e.R7$(),e.Y8G("ngIf",l.slot.petCompanionIconSrc),e.R7$(),e.Y8G("ngIf",!l.slot.petIconSrc),e.R7$(),e.Y8G("ngIf",l.slot.equipmentIconSrc),e.R7$(),e.Y8G("ngIf",l.removedEquipment),e.R7$(),e.Y8G("ngIf",l.addedEquipment),e.R7$(),e.Y8G("ngIf",l.showSnipeImpact),e.R7$(),e.Y8G("ngForOf",l.popups)("ngForTrackBy",y.app.trackByIndex),e.R7$(),e.Y8G("ngIf",l.death),e.R7$(),e.Y8G("ngIf",null!=l.slot.attack||null!=l.slot.health||null!=l.slot.exp||null!=l.slot.mana)}}function uS(u,h){if(1&u&&e.nrm(0,"img",124),2&u){const l=e.XpG().$implicit;e.Y8G("ngSrc",l.src)("alt",l.alt)}}function Pr(u,h){if(1&u&&(e.j41(0,"span",54),e.EFF(1),e.k0s()),2&u){const l=e.XpG().$implicit;e.Y8G("ngClass",l.className),e.R7$(),e.JRh(l.text)}}function Bc(u,h){1&u&&e.nrm(0,"br")}function rg(u,h){if(1&u&&(e.qex(0),e.DNE(1,uS,1,2,"img",123)(2,Pr,2,2,"span",52)(3,Bc,1,0,"br",25),e.bVm()),2&u){const l=h.$implicit;e.R7$(),e.Y8G("ngIf","img"===l.type),e.R7$(),e.Y8G("ngIf","text"===l.type),e.R7$(),e.Y8G("ngIf","br"===l.type)}}function ul(u,h){if(1&u&&(e.qex(0),e.j41(1,"span",54),e.DNE(2,rg,4,3,"ng-container",50),e.k0s(),e.bVm()),2&u){const l=h.ngIf,y=e.XpG(3);e.R7$(),e.Y8G("ngClass",l.classes),e.R7$(),e.Y8G("ngForOf",l.parts)("ngForTrackBy",y.app.trackByIndex)}}function wd(u,h){if(1&u&&e.EFF(0),2&u){const l=e.XpG().ngIf;e.SpI(" ",l.frame.text," ")}}function dl(u,h){if(1&u&&e.nrm(0,"img",77),2&u){const l=e.XpG().ngIf,y=e.XpG(2);e.Y8G("ngSrc",y.app.getToyIconPath(l.frame.playerToyName))("alt",l.frame.playerToyName+" toy")}}function dS(u,h){if(1&u&&e.nrm(0,"img",78),2&u){const l=e.XpG().ngIf,y=e.XpG(2);e.Y8G("ngSrc",y.app.getToyIconPath(l.frame.playerHardToyName))("alt",l.frame.playerHardToyName+" hard toy")}}function hv(u,h){if(1&u&&e.nrm(0,"img",91),2&u){const l=e.XpG().$implicit;e.Y8G("ngSrc",l.slot.petIconSrc)("alt",l.slot.petName||"Player pet")}}function pS(u,h){if(1&u&&e.nrm(0,"img",92),2&u){const l=e.XpG().$implicit;e.Y8G("ngSrc",l.slot.petCompanionIconSrc)("alt",l.slot.petCompanionName||"Companion pet")}}function hS(u,h){1&u&&(e.j41(0,"span",93),e.EFF(1,"___"),e.k0s())}function gS(u,h){if(1&u&&e.nrm(0,"img",94),2&u){const l=e.XpG().$implicit;e.Y8G("ngSrc",l.slot.equipmentIconSrc)("alt",l.slot.equipmentName||"Equipment")}}function mS(u,h){if(1&u&&e.nrm(0,"img",97),2&u){const l=e.XpG().ngIf;e.Y8G("ngSrc",l.equipmentIconSrc)("alt",(l.equipmentName||"Equipment")+" removed")}}function gv(u,h){if(1&u&&(e.j41(0,"div",95),e.DNE(1,mS,1,2,"img",96),e.k0s()),2&u){const l=h.ngIf;e.R7$(),e.Y8G("ngIf",l.equipmentIconSrc)}}function mv(u,h){if(1&u&&e.nrm(0,"img",100),2&u){const l=e.XpG().ngIf;e.Y8G("ngSrc",l.equipmentIconSrc)("alt",(l.equipmentName||"Equipment")+" added")}}function _v(u,h){if(1&u&&(e.j41(0,"div",98),e.DNE(1,mv,1,2,"img",99),e.k0s()),2&u){const l=h.ngIf;e.R7$(),e.Y8G("ngIf",l.equipmentIconSrc)}}function fv(u,h){if(1&u&&(e.j41(0,"div",101),e.nrm(1,"img",102),e.k0s()),2&u){const l=e.XpG(4);e.R7$(),e.Y8G("ngSrc",l.app.fightSnipeIconSrc)}}function _S(u,h){if(1&u&&e.nrm(0,"img",106),2&u){const l=e.XpG().$implicit,y=e.XpG(4);e.Y8G("ngSrc","attack"===l.type?y.app.fightAttackIconSrc:"health"===l.type?y.app.fightHealthIconSrc:"exp"===l.type?y.app.fightExpIconSrc:"mana"===l.type?y.app.fightManaIconSrc:y.app.fightTrumpetIconSrc)}}function fS(u,h){if(1&u&&(e.qex(0),e.j41(1,"span",103),e.DNE(2,_S,1,1,"img",104),e.j41(3,"span",105),e.EFF(4),e.k0s()(),e.bVm()),2&u){const l=h.$implicit,y=h.index;e.R7$(),e.xc7("--fight-popup-index",y),e.AVh("fight-value-popup-damage","damage"===l.type)("fight-value-popup-trumpets","trumpets"===l.type)("fight-value-popup-buff","damage"!==l.type&&l.delta>0)("fight-value-popup-debuff","damage"!==l.type&&l.delta<0),e.R7$(),e.Y8G("ngIf","attack"===l.type||"health"===l.type||"exp"===l.type||"mana"===l.type||"trumpets"===l.type),e.R7$(2),e.JRh((l.delta>0?"+":"-")+(l.delta>0?l.delta:-l.delta))}}function vS(u,h){if(1&u&&e.nrm(0,"img",110),2&u){const l=e.XpG().ngIf;e.Y8G("ngSrc",l.petIconSrc)("alt",l.petName||"Fainted pet")}}function yS(u,h){if(1&u&&e.nrm(0,"img",111),2&u){const l=e.XpG().ngIf;e.Y8G("ngSrc",l.petCompanionIconSrc)("alt",l.petCompanionName||"Fainted companion")}}function bS(u,h){if(1&u&&(e.j41(0,"div",107),e.DNE(1,vS,1,2,"img",108)(2,yS,1,2,"img",109),e.k0s()),2&u){const l=h.ngIf;e.R7$(),e.Y8G("ngIf",l.petIconSrc),e.R7$(),e.Y8G("ngIf",l.petCompanionIconSrc)}}function eM(u,h){if(1&u&&(e.j41(0,"span",115),e.nrm(1,"img",116),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&u){const l=e.XpG(2).$implicit,y=e.XpG(3);e.R7$(),e.Y8G("ngSrc",y.app.fightAttackIconSrc),e.R7$(2),e.JRh(l.slot.attack)}}function og(u,h){if(1&u&&(e.j41(0,"span",115),e.nrm(1,"img",116),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&u){const l=e.XpG(2).$implicit,y=e.XpG(3);e.R7$(),e.Y8G("ngSrc",y.app.fightHealthIconSrc),e.R7$(2),e.JRh(l.slot.health)}}function lg(u,h){if(1&u&&(e.j41(0,"span",115),e.nrm(1,"img",116),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&u){const l=e.XpG(2).$implicit,y=e.XpG(3);e.R7$(),e.Y8G("ngSrc",y.app.fightManaIconSrc),e.R7$(2),e.JRh(l.slot.mana)}}function vv(u,h){if(1&u&&(e.j41(0,"span",117),e.nrm(1,"img",116),e.j41(2,"span",118)(3,"span",119)(4,"span",120),e.EFF(5,"L1"),e.k0s(),e.nrm(6,"span"),e.j41(7,"span",120),e.EFF(8,"L2"),e.k0s(),e.nrm(9,"span"),e.j41(10,"span",120),e.EFF(11,"L3"),e.k0s()(),e.j41(12,"span",121),e.nrm(13,"span",122)(14,"span",122)(15,"span",122)(16,"span",122)(17,"span",122),e.k0s()()()),2&u){const l=e.XpG(2).$implicit,y=e.XpG(3);e.R7$(),e.Y8G("ngSrc",y.app.fightExpIconSrc),e.R7$(11),e.BMQ("aria-label","XP: "+l.slot.exp+" out of 5"),e.R7$(),e.AVh("selected",(l.slot.exp??0)>=1),e.R7$(),e.AVh("selected",(l.slot.exp??0)>=2),e.R7$(),e.AVh("selected",(l.slot.exp??0)>=3),e.R7$(),e.AVh("selected",(l.slot.exp??0)>=4),e.R7$(),e.AVh("selected",(l.slot.exp??0)>=5)}}function cg(u,h){if(1&u&&(e.j41(0,"div",112),e.DNE(1,eM,4,2,"span",113)(2,og,4,2,"span",113)(3,lg,4,2,"span",113)(4,vv,18,12,"span",114),e.k0s()),2&u){const l=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",null!=l.slot.attack),e.R7$(),e.Y8G("ngIf",null!=l.slot.health),e.R7$(),e.Y8G("ngIf",null!=l.slot.mana),e.R7$(),e.Y8G("ngIf",null!=l.slot.exp)}}function PS(u,h){if(1&u&&(e.j41(0,"div",79)(1,"div",80),e.EFF(2),e.k0s(),e.j41(3,"div",81),e.DNE(4,hv,1,2,"img",82)(5,pS,1,2,"img",83)(6,hS,2,0,"span",84)(7,gS,1,2,"img",85)(8,gv,2,1,"div",86)(9,_v,2,1,"div",87)(10,fv,2,1,"div",88)(11,fS,5,12,"ng-container",50)(12,bS,3,2,"div",89),e.k0s(),e.DNE(13,cg,5,4,"div",90),e.k0s()),2&u){const l=h.$implicit,y=e.XpG(3);e.xc7("--fight-shift-steps",l.shiftSteps),e.Y8G("ngClass",l.classMap),e.R7$(2),e.JRh(l.slot.label||"P"+(l.slot.slot+1)),e.R7$(2),e.Y8G("ngIf",l.slot.petIconSrc),e.R7$(),e.Y8G("ngIf",l.slot.petCompanionIconSrc),e.R7$(),e.Y8G("ngIf",!l.slot.petIconSrc),e.R7$(),e.Y8G("ngIf",l.slot.equipmentIconSrc),e.R7$(),e.Y8G("ngIf",l.removedEquipment),e.R7$(),e.Y8G("ngIf",l.addedEquipment),e.R7$(),e.Y8G("ngIf",l.showSnipeImpact),e.R7$(),e.Y8G("ngForOf",l.popups)("ngForTrackBy",y.app.trackByIndex),e.R7$(),e.Y8G("ngIf",l.death),e.R7$(),e.Y8G("ngIf",null!=l.slot.attack||null!=l.slot.health||null!=l.slot.exp||null!=l.slot.mana)}}function AS(u,h){if(1&u){const l=e.RV6();e.j41(0,"button",125),e.bIt("click",function(){const P=v.eBV(l).$implicit,C=e.XpG(3);return v.Njj(C.app.setFightAnimationSpeed(P))}),e.EFF(1),e.k0s()}if(2&u){const l=h.$implicit,y=e.XpG(3);e.AVh("active",y.app.fightAnimationSpeed===l),e.R7$(),e.SpI(" ",l,"x ")}}function yv(u,h){if(1&u){const l=e.RV6();e.qex(0),e.j41(1,"div",58)(2,"div",59)(3,"div",60),e.DNE(4,eS,1,2,"img",61)(5,Lc,1,2,"img",62),e.k0s(),e.DNE(6,cS,14,15,"div",63),e.k0s(),e.j41(7,"div",64)(8,"div",65),e.EFF(9),e.k0s(),e.j41(10,"div",66),e.DNE(11,ul,3,3,"ng-container",39)(12,wd,1,1,"ng-template",null,7,e.C5r),e.k0s(),e.j41(14,"div",67),e.EFF(15),e.k0s()(),e.j41(16,"div",68)(17,"div",60),e.DNE(18,dl,1,2,"img",61)(19,dS,1,2,"img",62),e.k0s(),e.DNE(20,PS,14,15,"div",63),e.k0s()(),e.j41(21,"div",69)(22,"div",70)(23,"button",71),e.bIt("click",function(){v.eBV(l);const P=e.XpG(2);return v.Njj(P.app.resetFightAnimation())}),e.EFF(24," Reset "),e.k0s(),e.j41(25,"button",71),e.bIt("click",function(){v.eBV(l);const P=e.XpG(2);return v.Njj(P.app.stepFightAnimation(-1))}),e.EFF(26," Prev "),e.k0s(),e.j41(27,"button",72),e.bIt("click",function(){v.eBV(l);const P=e.XpG(2);return v.Njj(P.app.toggleFightAnimationPlayback())}),e.EFF(28),e.k0s(),e.j41(29,"button",71),e.bIt("click",function(){v.eBV(l);const P=e.XpG(2);return v.Njj(P.app.stepFightAnimation(1))}),e.EFF(30," Next "),e.k0s()(),e.j41(31,"div",73),e.DNE(32,AS,2,3,"button",74),e.k0s()(),e.j41(33,"div",75)(34,"input",76),e.bIt("input",function(P){v.eBV(l);const C=e.XpG(2);return v.Njj(C.app.onFightAnimationScrub(P.target.value))}),e.k0s()(),e.bVm()}if(2&u){const l=h.ngIf,y=e.sdS(13),P=e.XpG(2);e.R7$(),e.xc7("--fight-frame-cadence",P.app.currentFightAnimationCadenceScale)("--fight-impact-scale",P.app.currentFightAnimationImpactScale),e.AVh("fight-phase-a","a"===l.phase)("fight-phase-b","b"===l.phase)("fight-frame-attack","attack"===l.frame.type)("fight-frame-contact-freeze","attack"===l.frame.type&&l.frame.impact&&!l.frame.impact.isSnipe)("fight-frame-ability","ability"===l.frame.type||"equipment"===l.frame.type)("fight-frame-heavy-impact",P.app.currentFightAnimationIsHeavyImpactFrame)("fight-frame-burst",P.app.currentFightAnimationIsBurstFrame)("fight-frame-resolution",P.app.currentFightAnimationIsResolutionFrame),e.R7$(3),e.Y8G("ngIf",l.frame.opponentToyName),e.R7$(),e.Y8G("ngIf",l.frame.opponentHardToyName),e.R7$(),e.Y8G("ngForOf",l.opponentSlots)("ngForTrackBy",P.app.trackByIndex),e.R7$(),e.AVh("fight-event-random",l.frame.randomEvent),e.R7$(2),e.JRh(l.frame.type),e.R7$(2),e.Y8G("ngIf",P.app.currentFightAnimationLogRow)("ngIfElse",y),e.R7$(4),e.Lme(" Step ",P.app.fightAnimationFrameIndex+1," / ",P.app.fightAnimationFrames.length," "),e.R7$(3),e.Y8G("ngIf",l.frame.playerToyName),e.R7$(),e.Y8G("ngIf",l.frame.playerHardToyName),e.R7$(),e.Y8G("ngForOf",l.playerSlots)("ngForTrackBy",P.app.trackByIndex),e.R7$(3),e.Y8G("disabled",0===P.app.fightAnimationFrames.length),e.R7$(2),e.Y8G("disabled",P.app.fightAnimationFrameIndex<=0),e.R7$(2),e.Y8G("disabled",0===P.app.fightAnimationFrames.length),e.R7$(),e.SpI(" ",P.app.fightAnimationPlaying?"Pause":"Play"," "),e.R7$(),e.Y8G("disabled",P.app.fightAnimationFrameIndex>=P.app.fightAnimationFrames.length-1),e.R7$(3),e.Y8G("ngForOf",P.app.fightAnimationSpeedOptions)("ngForTrackBy",P.app.trackByIndex),e.R7$(2),e.Y8G("min",0)("max",P.app.fightAnimationFrames.length-1)("value",P.app.fightAnimationFrameIndex)}}function ES(u,h){1&u&&e.eu8(0)}function ws(u,h){1&u&&(e.j41(0,"div",126),e.EFF(1," No animation frames found for this battle. Enable logs and run at least one simulation. "),e.k0s())}function Fc(u,h){1&u&&e.eu8(0)}function Ni(u,h){if(1&u&&(e.j41(0,"tr",54)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s()()),2&u){const l=h.$implicit;e.Y8G("ngClass",e.s1E(6,qD,"player"===l.side?"timeline-player":"","opponent"===l.side?"timeline-opponent":"","true random"===l.reason?"timeline-random":"","tie-broken"===l.reason?"timeline-tie":"","deterministic"===l.reason?"timeline-deterministic":"")),e.R7$(2),e.JRh(l.step),e.R7$(2),e.JRh(l.source),e.R7$(2),e.JRh(l.target),e.R7$(2),e.JRh(l.reason),e.R7$(2),e.JRh(l.text)}}function oo(u,h){if(1&u&&(e.j41(0,"option",144),e.EFF(1),e.k0s()),2&u){const l=h.$implicit,y=h.index;e.Y8G("ngValue",y),e.R7$(),e.Lme(" ",y," (",l.winner,") ")}}function Od(u,h){if(1&u&&(e.j41(0,"option",144),e.EFF(1),e.k0s()),2&u){const l=h.$implicit,y=h.index;e.Y8G("ngValue",y),e.R7$(),e.Lme(" ",y," (",l.winner,") ")}}function Va(u,h){if(1&u&&(e.j41(0,"tr",54)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s()()),2&u){const l=h.$implicit;e.Y8G("ngClass",e.ziG(4,zE,"same"===l.kind,"changed"===l.kind,"left-only"===l.kind,"right-only"===l.kind)),e.R7$(2),e.JRh(l.step),e.R7$(2),e.JRh(l.left),e.R7$(2),e.JRh(l.right)}}function bv(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",128,9)(2,"div",129),e.DNE(3,Fc,1,0,"ng-container",42),e.k0s(),e.j41(4,"div",130),e.bIt("pointerdown",function(P){v.eBV(l);const C=e.XpG(3);return v.Njj(C.onLogsAnalysisDividerPointerDown(P))})("pointermove",function(P){v.eBV(l);const C=e.XpG(3);return v.Njj(C.onLogsAnalysisDividerPointerMove(P))})("pointerup",function(P){v.eBV(l);const C=e.XpG(3);return v.Njj(C.onLogsAnalysisDividerPointerUp(P))})("pointercancel",function(P){v.eBV(l);const C=e.XpG(3);return v.Njj(C.onLogsAnalysisDividerPointerUp(P))})("keydown",function(P){v.eBV(l);const C=e.XpG(3);return v.Njj(C.onLogsAnalysisDividerKeyDown(P))}),e.k0s(),e.j41(5,"div",131)(6,"div",132,10)(8,"div",133)(9,"h4",134),e.EFF(10,"Trigger Timeline"),e.k0s(),e.j41(11,"div",135)(12,"table",136)(13,"thead")(14,"tr")(15,"th"),e.EFF(16,"#"),e.k0s(),e.j41(17,"th"),e.EFF(18,"Source"),e.k0s(),e.j41(19,"th"),e.EFF(20,"Target"),e.k0s(),e.j41(21,"th"),e.EFF(22,"Reason"),e.k0s(),e.j41(23,"th"),e.EFF(24,"Event"),e.k0s()()(),e.j41(25,"tbody"),e.DNE(26,Ni,11,12,"tr",137),e.k0s()()()(),e.j41(27,"div",138),e.bIt("pointerdown",function(P){v.eBV(l);const C=e.XpG(3);return v.Njj(C.onAnalysisDividerPointerDown(P))})("pointermove",function(P){v.eBV(l);const C=e.XpG(3);return v.Njj(C.onAnalysisDividerPointerMove(P))})("pointerup",function(P){v.eBV(l);const C=e.XpG(3);return v.Njj(C.onAnalysisDividerPointerUp(P))})("pointercancel",function(P){v.eBV(l);const C=e.XpG(3);return v.Njj(C.onAnalysisDividerPointerUp(P))})("keydown",function(P){v.eBV(l);const C=e.XpG(3);return v.Njj(C.onAnalysisDividerKeyDown(P))}),e.k0s(),e.j41(28,"div",139)(29,"h4",134),e.EFF(30,"Battle Diff"),e.k0s(),e.j41(31,"div",140)(32,"label",141),e.EFF(33," Left "),e.j41(34,"select",142),e.bIt("ngModelChange",function(P){v.eBV(l);const C=e.XpG(3);return v.Njj(C.app.setBattleDiffLeft(P))}),e.DNE(35,oo,2,3,"option",143),e.k0s()(),e.j41(36,"label",141),e.EFF(37," Left Scope "),e.j41(38,"select",142),e.bIt("ngModelChange",function(P){v.eBV(l);const C=e.XpG(3);return v.Njj(C.app.setBattleDiffLeftScope(P))}),e.j41(39,"option",144),e.EFF(40,"All"),e.k0s(),e.j41(41,"option",145),e.EFF(42,"Player"),e.k0s(),e.j41(43,"option",146),e.EFF(44,"Opponent"),e.k0s()()(),e.j41(45,"label",141),e.EFF(46," Right "),e.j41(47,"select",142),e.bIt("ngModelChange",function(P){v.eBV(l);const C=e.XpG(3);return v.Njj(C.app.setBattleDiffRight(P))}),e.DNE(48,Od,2,3,"option",143),e.k0s()(),e.j41(49,"label",141),e.EFF(50," Right Scope "),e.j41(51,"select",142),e.bIt("ngModelChange",function(P){v.eBV(l);const C=e.XpG(3);return v.Njj(C.app.setBattleDiffRightScope(P))}),e.j41(52,"option",144),e.EFF(53,"All"),e.k0s(),e.j41(54,"option",145),e.EFF(55,"Player"),e.k0s(),e.j41(56,"option",146),e.EFF(57,"Opponent"),e.k0s()()()(),e.j41(58,"div",147),e.EFF(59),e.k0s(),e.j41(60,"div",135)(61,"table",136)(62,"thead")(63,"tr")(64,"th"),e.EFF(65,"#"),e.k0s(),e.j41(66,"th"),e.EFF(67,"Left"),e.k0s(),e.j41(68,"th"),e.EFF(69,"Right"),e.k0s()()(),e.j41(70,"tbody"),e.DNE(71,Va,7,9,"tr",137),e.k0s()()()()()()()}if(2&u){e.XpG(2);const l=e.sdS(53),y=e.XpG();e.R7$(2),e.xc7("flex-basis",y.logsTopHeightPx,"px")("max-height",y.logsTopHeightPx,"px")("height",y.logsTopHeightPx,"px"),e.AVh("log-container-with-analysis",y.app.showBattleAnalysis),e.R7$(),e.Y8G("ngTemplateOutlet",l),e.R7$(5),e.xc7("flex-basis",y.timelineTopHeightPx,"px")("max-height",y.timelineTopHeightPx,"px")("height",y.timelineTopHeightPx,"px"),e.R7$(18),e.Y8G("ngForOf",y.app.viewBattleTimelineRows)("ngForTrackBy",y.app.trackByIndex),e.R7$(8),e.Y8G("ngModel",y.app.diffBattleLeftIndex)("ngModelOptions",e.lJ4(41,Sd)),e.R7$(),e.Y8G("ngForOf",y.app.battles)("ngForTrackBy",y.app.trackByIndex),e.R7$(3),e.Y8G("ngModel",y.app.diffBattleLeftScope)("ngModelOptions",e.lJ4(42,Sd)),e.R7$(),e.Y8G("ngValue","all"),e.R7$(2),e.Y8G("ngValue","player"),e.R7$(2),e.Y8G("ngValue","opponent"),e.R7$(4),e.Y8G("ngModel",y.app.diffBattleRightIndex)("ngModelOptions",e.lJ4(43,Sd)),e.R7$(),e.Y8G("ngForOf",y.app.battles)("ngForTrackBy",y.app.trackByIndex),e.R7$(3),e.Y8G("ngModel",y.app.diffBattleRightScope)("ngModelOptions",e.lJ4(44,Sd)),e.R7$(),e.Y8G("ngValue","all"),e.R7$(2),e.Y8G("ngValue","player"),e.R7$(2),e.Y8G("ngValue","opponent"),e.R7$(3),e.LHq(" Equal: ",y.app.battleDiffSummary.equalSteps," | Changed: ",y.app.battleDiffSummary.changedSteps," | Left Only: ",y.app.battleDiffSummary.leftOnly," | Right Only: ",y.app.battleDiffSummary.rightOnly," "),e.R7$(12),e.Y8G("ngForOf",y.app.battleDiffRows)("ngForTrackBy",y.app.trackByIndex)}}function Xs(u,h){1&u&&e.eu8(0)}function Pv(u,h){if(1&u&&(e.j41(0,"div",148),e.DNE(1,Xs,1,0,"ng-container",42),e.k0s()),2&u){e.XpG(2);const l=e.sdS(53);e.R7$(),e.Y8G("ngTemplateOutlet",l)}}function Id(u,h){if(1&u&&e.DNE(0,bv,72,45,"div",127)(1,Pv,2,1,"ng-template",null,8,e.C5r),2&u){const l=e.sdS(2),y=e.XpG(2);e.Y8G("ngIf",y.app.showBattleAnalysis)("ngIfElse",l)}}function SS(u,h){if(1&u&&(e.j41(0,"span",165),e.EFF(1),e.k0s()),2&u){const l=h.$implicit;e.Y8G("ngClass",l.className),e.R7$(),e.SpI(" ",l.text," ")}}function TS(u,h){if(1&u&&e.nrm(0,"img",124),2&u){const l=e.XpG().$implicit;e.Y8G("ngSrc",l.src)("alt",l.alt)}}function Av(u,h){if(1&u&&(e.j41(0,"span",54),e.EFF(1),e.k0s()),2&u){const l=e.XpG().$implicit;e.Y8G("ngClass",l.className),e.R7$(),e.JRh(l.text)}}function DS(u,h){1&u&&e.nrm(0,"br")}function MS(u,h){if(1&u&&(e.qex(0),e.DNE(1,TS,1,2,"img",123)(2,Av,2,2,"span",52)(3,DS,1,0,"br",25),e.bVm()),2&u){const l=h.$implicit;e.R7$(),e.Y8G("ngIf","img"===l.type),e.R7$(),e.Y8G("ngIf","text"===l.type),e.R7$(),e.Y8G("ngIf","br"===l.type)}}function pl(u,h){if(1&u&&(e.j41(0,"div",161)(1,"div",162),e.DNE(2,SS,2,2,"span",163),e.k0s(),e.j41(3,"div",164),e.DNE(4,MS,4,3,"ng-container",50),e.k0s()()),2&u){const l=h.$implicit,y=e.XpG(6);e.Y8G("ngClass",l.classes),e.R7$(2),e.Y8G("ngForOf",l.badges)("ngForTrackBy",y.app.trackByIndex),e.R7$(2),e.Y8G("ngForOf",l.parts)("ngForTrackBy",y.app.trackByIndex)}}function tM(u,h){if(1&u&&(e.j41(0,"div",159),e.DNE(1,pl,5,5,"div",160),e.k0s()),2&u){const l=e.XpG().$implicit,y=e.XpG(4);e.R7$(),e.Y8G("ngForOf",l.rows)("ngForTrackBy",y.app.trackByIndex)}}function Js(u,h){if(1&u){const l=e.RV6();e.j41(0,"section",152)(1,"button",153),e.bIt("click",function(){const P=v.eBV(l).$implicit,C=e.XpG(4);return v.Njj(C.app.toggleViewBattleLogGroup(P.id))}),e.j41(2,"span",154),e.EFF(3),e.k0s(),e.j41(4,"span",155)(5,"span",156),e.EFF(6),e.k0s(),e.j41(7,"span",157),e.EFF(8," \u25be "),e.k0s()()(),e.DNE(9,tM,2,2,"div",158),e.k0s()}if(2&u){const l=h.$implicit;e.R7$(),e.BMQ("aria-expanded",!l.collapsed),e.R7$(2),e.JRh(l.title),e.R7$(3),e.SpI("",l.rows.length," rows"),e.R7$(),e.AVh("log-group-chevron-collapsed",l.collapsed),e.R7$(2),e.Y8G("ngIf",!l.collapsed)}}function CS(u,h){if(1&u&&(e.j41(0,"div",150),e.DNE(1,Js,10,6,"section",151),e.k0s()),2&u){const l=e.XpG(3);e.R7$(),e.Y8G("ngForOf",l.app.viewBattleLogGroups)("ngForTrackBy",l.app.trackByIndex)}}function kS(u,h){if(1&u&&e.DNE(0,CS,2,2,"div",149),2&u){e.XpG();const l=e.sdS(55),y=e.XpG();e.Y8G("ngIf",y.app.viewBattleLogGroups.length)("ngIfElse",l)}}function wS(u,h){1&u&&(e.j41(0,"div",166),e.EFF(1," No log rows match this filter. "),e.k0s())}function Ev(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",12),e.DNE(1,YE,2,0,"div",13)(2,XE,5,6,"div",14),e.j41(3,"div",15,0)(5,"div",16)(6,"div",17)(7,"h3",18),e.EFF(8,"Battles"),e.k0s(),e.j41(9,"label",19),e.EFF(10,"Filter battles by winner"),e.k0s(),e.j41(11,"div",20),e.DNE(12,Td,2,7,"button",21),e.k0s()(),e.j41(13,"div",22)(14,"div",23)(15,"div",24)(16,"span"),e.EFF(17),e.k0s(),e.DNE(18,JE,2,1,"span",25),e.k0s(),e.j41(19,"table",26)(20,"thead")(21,"tr")(22,"th"),e.EFF(23,"Winner"),e.k0s(),e.j41(24,"th"),e.EFF(25,"Random Events"),e.k0s()()(),e.j41(26,"tbody"),e.DNE(27,rv,8,12,"tr",27),e.k0s()()()()(),e.DNE(28,ov,1,0,"div",28),e.j41(29,"div",29)(30,"div",30)(31,"div",31)(32,"h3",18),e.EFF(33,"Fight Animation + Logs"),e.k0s(),e.j41(34,"div",32)(35,"button",33),e.bIt("click",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.app.toggleBattleAnalysis())}),e.EFF(36),e.k0s()()(),e.j41(37,"div",34)(38,"span",35),e.EFF(39,"Event filter"),e.k0s(),e.DNE(40,ZD,2,3,"button",36),e.k0s()(),e.j41(41,"div",37,1)(43,"div",38),e.DNE(44,yv,35,45,"ng-container",39),e.k0s(),e.j41(45,"div",40),e.bIt("pointerdown",function(P){v.eBV(l);const C=e.XpG();return v.Njj(C.onAnimationDividerPointerDown(P))})("pointermove",function(P){v.eBV(l);const C=e.XpG();return v.Njj(C.onAnimationDividerPointerMove(P))})("pointerup",function(P){v.eBV(l);const C=e.XpG();return v.Njj(C.onAnimationDividerPointerUp(P))})("pointercancel",function(P){v.eBV(l);const C=e.XpG();return v.Njj(C.onAnimationDividerPointerUp(P))})("keydown",function(P){v.eBV(l);const C=e.XpG();return v.Njj(C.onAnimationDividerKeyDown(P))}),e.k0s(),e.j41(46,"div",41),e.DNE(47,ES,1,0,"ng-container",42),e.k0s()(),e.DNE(48,ws,2,0,"ng-template",null,2,e.C5r)(50,Id,3,2,"ng-template",null,3,e.C5r)(52,kS,1,2,"ng-template",null,4,e.C5r)(54,wS,2,0,"ng-template",null,5,e.C5r),e.k0s()()()}if(2&u){const l=e.sdS(49),y=e.sdS(51),P=e.XpG();e.R7$(),e.Y8G("ngIf",!P.isTabletTabsLayout),e.R7$(),e.Y8G("ngIf",P.isTabletTabsLayout),e.R7$(),e.AVh("bottom-container-single-column",P.isTabletTabsLayout),e.R7$(2),e.xc7("flex-basis",P.isTabletTabsLayout?null:P.leftPaneWidthPx,"px")("max-width",P.isTabletTabsLayout?null:P.leftPaneWidthPx,"px")("width",P.isTabletTabsLayout?null:P.leftPaneWidthPx,"px"),e.AVh("pane-hidden-single-column",P.isTabletTabsLayout&&"battle"!==P.activeTabletPane),e.R7$(7),e.Y8G("ngForOf",P.app.logFilterTabs)("ngForTrackBy",P.app.trackByLogTab),e.R7$(5),e.SpI("",P.app.filteredBattlesCache.length," battles"),e.R7$(),e.Y8G("ngIf",P.app.viewBattle),e.R7$(9),e.Y8G("ngForOf",P.app.filteredBattlesCache)("ngForTrackBy",P.app.trackByIndex),e.R7$(),e.Y8G("ngIf",!P.isTabletTabsLayout),e.R7$(),e.AVh("pane-hidden-single-column",P.isTabletTabsLayout&&"logs"!==P.activeTabletPane),e.R7$(7),e.SpI(" ",P.app.showBattleAnalysis?"Hide":"Show"," Analysis "),e.R7$(4),e.Y8G("ngForOf",P.app.logEventFilterOptions)("ngForTrackBy",P.app.trackByIndex),e.R7$(),e.xc7("--fight-motion-scale",P.app.fightAnimationMotionScale),e.R7$(2),e.xc7("flex-basis",P.animationTopHeightPx,"px")("max-height",P.animationTopHeightPx,"px")("height",P.animationTopHeightPx,"px"),e.R7$(),e.Y8G("ngIf",P.app.currentFightAnimationRenderFrame)("ngIfElse",l),e.R7$(3),e.Y8G("ngTemplateOutlet",y)}}let Sv=(()=>{class u{app;battleSplitContainer;animationSplitContainer;logsAnalysisSplitContainer;analysisSplitContainer;leftPaneWidthPx=null;animationTopHeightPx=null;logsTopHeightPx=null;timelineTopHeightPx=null;isTabletTabsLayout=!1;activeTabletPane="battle";dividerStorageKey="sap.battleLogs.leftPaneWidthPx";tabletMediaQuery="(min-width: 768px) and (max-width: 991.98px)";minPaneWidthPx=320;minSectionHeightPx=160;resizeStartX=0;resizeStartY=0;resizeStartWidth=0;resizeContainerWidth=0;resizing=!1;animationResizing=!1;logsAnalysisResizing=!1;analysisResizing=!1;ngOnInit(){this.updateTabletTabsLayoutState()}ngAfterViewInit(){if(this.updateTabletTabsLayoutState(),typeof window>"u")return;const l=window.localStorage.getItem(this.dividerStorageKey);if(!l)return;const y=Number(l);!Number.isFinite(y)||y<=0||(this.leftPaneWidthPx=this.clampPaneWidth(y,this.getSplitContainerWidth()))}onWindowResize(){this.updateTabletTabsLayoutState(),null!=this.leftPaneWidthPx&&(this.leftPaneWidthPx=this.clampPaneWidth(this.leftPaneWidthPx,this.getSplitContainerWidth())),null!=this.animationTopHeightPx&&(this.animationTopHeightPx=this.clampSectionHeight(this.animationTopHeightPx,this.getAnimationSplitHeight())),null!=this.logsTopHeightPx&&(this.logsTopHeightPx=this.clampSectionHeight(this.logsTopHeightPx,this.getLogsAnalysisSplitHeight())),null!=this.timelineTopHeightPx&&(this.timelineTopHeightPx=this.clampSectionHeight(this.timelineTopHeightPx,this.getAnalysisSplitHeight()))}setTabletActivePane(l){this.activeTabletPane=l}onDividerPointerDown(l){if(this.isTabletTabsLayout)return;const y=l.target,P=y?.closest(".bottom-container"),C=P?.querySelector(".battle-pane");!P||!C||(this.resizing=!0,this.resizeStartX=l.clientX,this.resizeStartWidth=C.getBoundingClientRect().width,this.resizeContainerWidth=this.getSplitContainerWidth(),y.setPointerCapture?.(l.pointerId),l.preventDefault())}onDividerPointerMove(l){this.resizing&&(this.leftPaneWidthPx=this.clampPaneWidth(this.resizeStartWidth+(l.clientX-this.resizeStartX),this.resizeContainerWidth))}onDividerPointerUp(l){this.resizing&&(this.resizing=!1,l.target?.releasePointerCapture?.(l.pointerId),null!=this.leftPaneWidthPx&&typeof window<"u"&&window.localStorage.setItem(this.dividerStorageKey,`${Math.round(this.leftPaneWidthPx)}`))}onPaneDividerKeyDown(l){if(this.isTabletTabsLayout)return;const y=this.getNextSizeFromKeyboard(l,this.leftPaneWidthPx,this.getSplitContainerWidth(),this.minPaneWidthPx,this.clampPaneWidth.bind(this));null!=y&&(this.leftPaneWidthPx=y,typeof window<"u"&&window.localStorage.setItem(this.dividerStorageKey,`${Math.round(this.leftPaneWidthPx)}`))}onAnimationDividerPointerDown(l){const y=l.target,P=y?.closest(".vertical-resizable-stack"),C=P?.querySelector(".animation-top-pane");!P||!C||(this.animationResizing=!0,this.resizeStartX=l.clientX,this.resizeStartY=l.clientY,this.resizeStartWidth=C.getBoundingClientRect().height,this.resizeContainerWidth=this.getAnimationSplitHeight(),y.setPointerCapture?.(l.pointerId),l.preventDefault())}onAnimationDividerPointerMove(l){this.animationResizing&&(this.animationTopHeightPx=this.clampSectionHeight(this.resizeStartWidth+(l.clientY-this.resizeStartY),this.resizeContainerWidth))}onAnimationDividerPointerUp(l){this.animationResizing&&(this.animationResizing=!1,l.target?.releasePointerCapture?.(l.pointerId))}onAnimationDividerKeyDown(l){const y=this.getNextSizeFromKeyboard(l,this.animationTopHeightPx,this.getAnimationSplitHeight(),this.minSectionHeightPx,this.clampSectionHeight.bind(this),!0);null!=y&&(this.animationTopHeightPx=y)}onLogsAnalysisDividerPointerDown(l){const y=l.target,P=y?.closest(".vertical-resizable-stack"),C=P?.querySelector(".logs-top-pane");!P||!C||(this.logsAnalysisResizing=!0,this.resizeStartX=l.clientX,this.resizeStartY=l.clientY,this.resizeStartWidth=C.getBoundingClientRect().height,this.resizeContainerWidth=this.getLogsAnalysisSplitHeight(),y.setPointerCapture?.(l.pointerId),l.preventDefault())}onLogsAnalysisDividerPointerMove(l){this.logsAnalysisResizing&&(this.logsTopHeightPx=this.clampSectionHeight(this.resizeStartWidth+(l.clientY-this.resizeStartY),this.resizeContainerWidth))}onLogsAnalysisDividerPointerUp(l){this.logsAnalysisResizing&&(this.logsAnalysisResizing=!1,l.target?.releasePointerCapture?.(l.pointerId))}onLogsAnalysisDividerKeyDown(l){const y=this.getNextSizeFromKeyboard(l,this.logsTopHeightPx,this.getLogsAnalysisSplitHeight(),this.minSectionHeightPx,this.clampSectionHeight.bind(this),!0);null!=y&&(this.logsTopHeightPx=y)}onAnalysisDividerPointerDown(l){const y=l.target,P=y?.closest(".vertical-resizable-stack"),C=P?.querySelector(".timeline-top-pane");!P||!C||(this.analysisResizing=!0,this.resizeStartX=l.clientX,this.resizeStartY=l.clientY,this.resizeStartWidth=C.getBoundingClientRect().height,this.resizeContainerWidth=this.getAnalysisSplitHeight(),y.setPointerCapture?.(l.pointerId),l.preventDefault())}onAnalysisDividerPointerMove(l){this.analysisResizing&&(this.timelineTopHeightPx=this.clampSectionHeight(this.resizeStartWidth+(l.clientY-this.resizeStartY),this.resizeContainerWidth))}onAnalysisDividerPointerUp(l){this.analysisResizing&&(this.analysisResizing=!1,l.target?.releasePointerCapture?.(l.pointerId))}onAnalysisDividerKeyDown(l){const y=this.getNextSizeFromKeyboard(l,this.timelineTopHeightPx,this.getAnalysisSplitHeight(),this.minSectionHeightPx,this.clampSectionHeight.bind(this),!0);null!=y&&(this.timelineTopHeightPx=y)}getSplitContainerWidth(){return this.battleSplitContainer?.nativeElement.getBoundingClientRect().width??0}getAnimationSplitHeight(){return this.animationSplitContainer?.nativeElement.getBoundingClientRect().height??0}getLogsAnalysisSplitHeight(){return this.logsAnalysisSplitContainer?.nativeElement.getBoundingClientRect().height??0}getAnalysisSplitHeight(){return this.analysisSplitContainer?.nativeElement.getBoundingClientRect().height??0}updateTabletTabsLayoutState(){this.isTabletTabsLayout=this.isTabletViewport()}isTabletViewport(){return!(typeof window>"u"||"function"!=typeof window.matchMedia)&&window.matchMedia(this.tabletMediaQuery).matches}clampPaneWidth(l,y){if(!Number.isFinite(y)||y<=0)return Math.max(this.minPaneWidthPx,l);const P=Math.max(this.minPaneWidthPx,y-this.minPaneWidthPx);return Math.min(P,Math.max(this.minPaneWidthPx,l))}clampSectionHeight(l,y){if(!Number.isFinite(y)||y<=0)return Math.max(this.minSectionHeightPx,l);const P=Math.max(this.minSectionHeightPx,y-this.minSectionHeightPx);return Math.min(P,Math.max(this.minSectionHeightPx,l))}getNextSizeFromKeyboard(l,y,P,C,I,W=!1){const X=l.shiftKey?48:24,z=C,pe=Math.max(C,P-C),Me=y??I(P/2,P);let Re=null;return l.key===(W?"ArrowUp":"ArrowLeft")?Re=Me-X:l.key===(W?"ArrowDown":"ArrowRight")?Re=Me+X:"Home"===l.key?Re=z:"End"===l.key&&(Re=pe),null==Re?null:(l.preventDefault(),I(Re,P))}static \u0275fac=function(y){return new(y||u)};static \u0275cmp=e.VBU({type:u,selectors:[["app-shell-battle-results"]],viewQuery:function(y,P){if(1&y&&e.GBs(ro,5)(Rc,5)(tg,5)(ig,5),2&y){let C;e.mGM(C=e.lsd())&&(P.battleSplitContainer=C.first),e.mGM(C=e.lsd())&&(P.animationSplitContainer=C.first),e.mGM(C=e.lsd())&&(P.logsAnalysisSplitContainer=C.first),e.mGM(C=e.lsd())&&(P.analysisSplitContainer=C.first)}},hostBindings:function(y,P){1&y&&e.bIt("resize",function(){return P.onWindowResize()},e.tSv)},inputs:{app:"app"},decls:1,vars:1,consts:[["battleSplitContainer",""],["animationSplitContainer",""],["noAnimationFrames",""],["logsView",""],["groupedLogsTemplate",""],["noFilteredLogs",""],["noRandomEvents",""],["fallbackFightEventText",""],["logsOnlyView",""],["logsAnalysisSplitContainer",""],["analysisSplitContainer",""],["class","bottom-container-scroll",4,"ngIf"],[1,"bottom-container-scroll"],["class","bottom-container-scroll-hint","aria-hidden","true",4,"ngIf"],["class","pane-switch-tabs","role","tablist","aria-label","Battle results sections",4,"ngIf"],[1,"row","flex-1","bottom-container","g-0"],[1,"col-12","col-md-6","h-100","flex-col","pe-0","battle-pane"],[1,"pane-top-shell","battle-top-shell"],[1,"pane-title"],["for","logFilter",1,"pane-subtitle"],["id","logFilter",1,"log-filter-tabs"],["type","button","class","log-filter-tab",3,"active","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"battle-container","flex-1"],[1,"battle-table-shell"],[1,"battle-table-meta"],[4,"ngIf"],[1,"table","battle-table","mb-0"],["class","table-battle-row",3,"ngClass","selected-battle","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","battle-log-divider","role","separator","aria-label","Resize battle and logs panes","aria-orientation","vertical","tabindex","0",3,"pointerdown","pointermove","pointerup","pointercancel","keydown",4,"ngIf"],[1,"col-12","col-md-6","h-100","flex-col","logs-pane"],[1,"pane-top-shell","logs-top-shell"],[1,"d-flex","align-items-center","justify-content-between","battle-view-header"],[1,"d-flex","align-items-center","gap-2"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"log-event-filters"],[1,"log-event-filter-label"],["type","button","class","log-event-filter-btn",3,"active","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"vertical-resizable-stack"],[1,"animation-top-pane"],[4,"ngIf","ngIfElse"],["role","separator","aria-label","Resize animation and logs","aria-orientation","horizontal","tabindex","0",1,"horizontal-resize-divider",3,"pointerdown","pointermove","pointerup","pointercancel","keydown"],[1,"animation-bottom-pane"],[4,"ngTemplateOutlet"],["aria-hidden","true",1,"bottom-container-scroll-hint"],["role","tablist","aria-label","Battle results sections",1,"pane-switch-tabs"],["type","button","role","tab",1,"pane-switch-tab",3,"click"],["type","button",1,"log-filter-tab",3,"click","ngClass"],[1,"table-battle-row",3,"click","ngClass"],[1,"battle-winner-chip",3,"ngClass"],[1,"battle-random-cell"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","log-inline-icon","width","16","height","16","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],[3,"ngClass",4,"ngIf"],["width","16","height","16","loading","lazy","decoding","async",1,"log-inline-icon",3,"ngSrc","alt"],[3,"ngClass"],[1,"battle-no-random"],["role","separator","aria-label","Resize battle and logs panes","aria-orientation","vertical","tabindex","0",1,"battle-log-divider",3,"pointerdown","pointermove","pointerup","pointercancel","keydown"],["type","button",1,"log-event-filter-btn",3,"click"],[1,"fight-stage"],[1,"fight-team","fight-team-opponent"],[1,"fight-team-toy-wrap"],["class","fight-team-toy","width","24","height","24","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["class","fight-team-toy fight-team-toy-hard","width","24","height","24","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["class","fight-slot",3,"ngClass","--fight-shift-steps",4,"ngFor","ngForOf","ngForTrackBy"],[1,"fight-event"],[1,"fight-event-type"],[1,"fight-event-text"],[1,"fight-event-step"],[1,"fight-team","fight-team-player","fight-team-player-head-to-head"],[1,"fight-controls"],["role","group","aria-label","Animation controls",1,"btn-group","btn-group-sm"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],["role","group","aria-label","Animation speed",1,"btn-group","btn-group-sm","fight-speed-controls"],["class","btn btn-outline-secondary","type","button",3,"active","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"fight-scrubber"],["type","range",1,"form-range",3,"input","min","max","value"],["width","24","height","24","loading","lazy","decoding","async",1,"fight-team-toy",3,"ngSrc","alt"],["width","24","height","24","loading","lazy","decoding","async",1,"fight-team-toy","fight-team-toy-hard",3,"ngSrc","alt"],[1,"fight-slot",3,"ngClass"],[1,"fight-slot-label"],[1,"fight-slot-art"],["class","fight-slot-icon","width","42","height","42","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["class","fight-slot-companion","width","16","height","16","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["class","fight-slot-empty",4,"ngIf"],["class","fight-slot-equipment","width","16","height","16","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["class","fight-equipment-ghost",4,"ngIf"],["class","fight-equipment-gain-ghost",4,"ngIf"],["class","fight-snipe-impact",4,"ngIf"],["class","fight-faint-ghost",4,"ngIf"],["class","fight-slot-stats",4,"ngIf"],["width","42","height","42","loading","lazy","decoding","async",1,"fight-slot-icon",3,"ngSrc","alt"],["width","16","height","16","loading","lazy","decoding","async",1,"fight-slot-companion",3,"ngSrc","alt"],[1,"fight-slot-empty"],["width","16","height","16","loading","lazy","decoding","async",1,"fight-slot-equipment",3,"ngSrc","alt"],[1,"fight-equipment-ghost"],["class","fight-equipment-ghost-icon","width","16","height","16","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["width","16","height","16","loading","lazy","decoding","async",1,"fight-equipment-ghost-icon",3,"ngSrc","alt"],[1,"fight-equipment-gain-ghost"],["class","fight-equipment-gain-icon","width","16","height","16","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["width","16","height","16","loading","lazy","decoding","async",1,"fight-equipment-gain-icon",3,"ngSrc","alt"],[1,"fight-snipe-impact"],["alt","","aria-hidden","true","width","20","height","20","loading","lazy","decoding","async",1,"fight-snipe-impact-icon",3,"ngSrc"],[1,"fight-value-popup"],["class","fight-value-popup-icon","alt","","aria-hidden","true","width","14","height","14","loading","lazy","decoding","async",3,"ngSrc",4,"ngIf"],[1,"fight-value-popup-number"],["alt","","aria-hidden","true","width","14","height","14","loading","lazy","decoding","async",1,"fight-value-popup-icon",3,"ngSrc"],[1,"fight-faint-ghost"],["class","fight-faint-icon","width","40","height","40","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["class","fight-faint-companion","width","14","height","14","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["width","40","height","40","loading","lazy","decoding","async",1,"fight-faint-icon",3,"ngSrc","alt"],["width","14","height","14","loading","lazy","decoding","async",1,"fight-faint-companion",3,"ngSrc","alt"],[1,"fight-slot-stats"],["class","fight-slot-stat",4,"ngIf"],["class","fight-slot-stat fight-slot-exp",4,"ngIf"],[1,"fight-slot-stat"],["alt","","aria-hidden","true","width","14","height","14","loading","lazy","decoding","async",1,"fight-slot-stat-icon",3,"ngSrc"],[1,"fight-slot-stat","fight-slot-exp"],[1,"fight-slot-exp-group"],["aria-hidden","true",1,"fight-slot-exp-levels"],[1,"fight-slot-exp-level"],["role","img",1,"fight-slot-exp-bar"],[1,"fight-slot-exp-segment"],["class","log-pet-icon","width","18","height","18","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["width","18","height","18","loading","lazy","decoding","async",1,"log-pet-icon",3,"ngSrc","alt"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fight-empty-state"],["class","vertical-resizable-stack logs-analysis-stack",4,"ngIf","ngIfElse"],[1,"vertical-resizable-stack","logs-analysis-stack"],[1,"log-container","scroll","logs-top-pane"],["role","separator","aria-label","Resize logs and analysis","aria-orientation","horizontal","tabindex","0",1,"horizontal-resize-divider",3,"pointerdown","pointermove","pointerup","pointercancel","keydown"],[1,"analysis-bottom-pane"],[1,"vertical-resizable-stack","analysis-sections-stack"],[1,"analysis-section","mt-2","timeline-top-pane"],[1,"analysis-title"],[1,"analysis-table-wrap","scroll"],[1,"table","table-sm","analysis-table","mb-0"],[3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["role","separator","aria-label","Resize trigger timeline and battle diff","aria-orientation","horizontal","tabindex","0",1,"horizontal-resize-divider",3,"pointerdown","pointermove","pointerup","pointercancel","keydown"],[1,"analysis-section","mt-2","diff-bottom-pane","scroll"],[1,"diff-controls"],[1,"diff-label"],[1,"form-select","form-select-sm","diff-select",3,"ngModelChange","ngModel","ngModelOptions"],[3,"ngValue",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngValue"],[1,"player-side-text",3,"ngValue"],[1,"opponent-side-text",3,"ngValue"],[1,"diff-summary"],[1,"log-container","flex-1","scroll"],["class","log-groups",4,"ngIf","ngIfElse"],[1,"log-groups"],["class","log-group",4,"ngFor","ngForOf","ngForTrackBy"],[1,"log-group"],["type","button",1,"log-group-header",3,"click"],[1,"log-group-title"],[1,"log-group-meta"],[1,"log-group-count"],["aria-hidden","true",1,"log-group-chevron"],["class","log-group-body",4,"ngIf"],[1,"log-group-body"],["class","log-row",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"log-row",3,"ngClass"],[1,"log-row-meta"],["class","log-badge",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"log-row-text"],[1,"log-badge",3,"ngClass"],[1,"log-empty-state"]],template:function(y,P){1&y&&e.DNE(0,Ev,56,35,"div",11),2&y&&e.Y8G("ngIf",P.app.simulated)},dependencies:[jt.MD,jt.YU,jt.Sq,jt.bT,jt.T3,ue.YN,ue.xH,ue.y7,ue.wz,ue.BC,ue.vS,bi],encapsulation:2})}return u})();const ug="assets/art/Public/Public/Toys/",Tv=["DungeonBattle.png","ScaryForestBattle.png"],IS=["AboveCloudsBattle.png","ArcticBattle.png","AutumnForestBattle.png","BeachBattle.png","BridgeBattle.png","CastleWallBattle.png","CaveBattle.png","ColosseumBattle.png","CornFieldBattle.png","DesertBattle.png","DungeonBattle.png","FarmBattle.png","FieldBattle.png","FoodLandBattle.png","FrontYardBattle.png","HalloweenStreetBattle.png","JungleBattle.png","LavaCaveBattle.png","LavaMountainBattle.png","MoneyBinBattle.png","MoonBattle.png","PagodaBattle.png","PlaygroundBattle.png","SavannaBattle.png","ScaryForestBattle.png","SnowBattle.png","SpaceStationBattle.png","UnderwaterBattle.png","UrbanCityBattle.png","WildWestTownBattle.png","WinterPineForestBattle.png","WizardSchoolBattle.png"].filter(u=>!Tv.includes(u)),RS=[{label:"None",value:null},{label:"Player",value:"player"},{label:"Opponent",value:"opponent"},{label:"Draw",value:"draw"}];var LS=i(17385);function dg(...u){for(const h of u){const l=US(h.name);if(l)return{name:l,level:WS(h.level)}}return{name:null,level:1}}function US(u){return"string"!=typeof u?null:u.trim().length>0?u:null}function WS(u){const h=Number(u);return Number.isFinite(h)?Math.max(1,Math.min(3,Math.trunc(h))):1}var Ld=i(33127),Nc=i(57033);function pg(u){return Math.ceil(100*u)/100}function Uc(u){return`${(u.rawMessage??u.message??"").replace(/<[^>]+>/g,"")}${u.count&&u.count>1?` (x${u.count})`:""}`.trim()}function hl(u,h){const l="source"===h?u.sourceIndex:u.targetIndex,y="source"===h?u.sourcePet:u.targetPet;return null!=l?`${y?.parent?.isOpponent??("source"===h?u.player?.isOpponent:u.targetPet?.parent?.isOpponent)?"O":"P"}${l}${y?.name?` ${y.name}`:""}`:y?.name?y.name:"source"===h&&u.player?u.player.isOpponent?"Opponent":"Player":"-"}function hg(u){return!0===u.randomEvent?function Dv(u){return"tie-broken"===u.randomEventReason?"tie-broken":"deterministic"===u.randomEventReason?"deterministic":"true random"}(u):"deterministic"}function Mv(u,h){return(u?.logs??[]).filter(y=>"all"===h||gg(y)===h).map(y=>{const P=hl(y,"source"),C=hl(y,"target"),I=hg(y);return`${y.type} | ${P} -> ${C} | ${I} | ${Uc(y)}`})}function gg(u){return u.player?u.player.isOpponent?"opponent":"player":!0===u.playerIsOpponent?"opponent":!1===u.playerIsOpponent?"player":"unknown"}function gl(u){return"player"===u||"opponent"===u?u:"all"}function wv(u){const h=u.playerWinner+u.opponentWinner+u.draw;return 0===h?0:pg(u.draw/h*100)}function mg(u){const h=u.playerWinner+u.opponentWinner+u.draw;return 0===h?0:pg(u.opponentWinner/h*100)}const fg={equalSteps:0,changedSteps:0,leftOnly:0,rightOnly:0};function vg(u){const h=[],l=/<img\b[^>]*>/gi;let P,y=0;const C=function Pg(u){return u.split(/(<[^>]+>)/g).map(h=>h.startsWith("<")?h:h.replace(Ov,(y,P)=>{const C=h.slice(0,P);return/\bjump[-\s]?$/i.test(C)?y:`${GS} ${y}`}).replace(bg,`${HS} $&`)).join("")}(u);for(;P=l.exec(C);){xd(h,C.slice(y,P.index));const W=P[0],X=/src=["']([^"']+)["']/i.exec(W),z=/alt=["']([^"']*)["']/i.exec(W);h.push({type:"img",src:X?.[1]??"",alt:z?.[1]??""}),y=P.index+W.length}return xd(h,C.slice(y)),h}function xd(u,h){if(!h)return;const P=h.replace(/<br\s*\/?>/gi,"\n").replace(/<[^>]+>/g,"").split("\n");P.forEach((C,I)=>{C&&function yg(u,h){const l=/^(\[(?:[PO][1-5](?:->[PO][1-5])?|->[PO][1-5])\]\s*)([\s\S]*)$/.exec(h);if(!l)return void u.push({type:"text",text:h});const y=l[1]??"",P=l[2]??"";y&&u.push({type:"text",text:y,className:"log-position-prefix"}),P&&u.push({type:"text",text:P})}(u,C),I<P.length-1&&u.push({type:"br"})})}const GS='<img src="assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/fist.png" alt="Attack" />',HS='<img src="assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/heart.png" alt="Health" />',Ov=/\battack(?:s|ed|ing)?\b/gi,bg=/\bhealth\b/gi,Bd=new WeakMap,ml=new Map,Ag=new WeakMap,Eg={attack:"Attack",move:"Move",board:"Board",death:"Death",ability:"Ability",equipment:"Equipment",trumpets:"Trumpets"};function Iv(u){return"board"===u||"attack"===u||"ability"===u||"equipment"===u||"death"===u||"random"===u?u:"all"}function Wc(u){const h=u.formGroup.get("showPositionalArgsInLogs");return!h||!1!==h.value}function Sg(u){return u.trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"unknown"}function oM(u,h,l,y){const C=[{text:h,className:"log-badge-side "+("P"===h?"log-badge-side-player":"O"===h?"log-badge-side-opponent":"log-badge-side-unknown")},{text:Eg[u]??u,className:`log-badge-type log-badge-type-${Sg(u)}`}];return l&&C.push({text:"Random",className:"log-badge-random"}),y&&C.push({text:"Phase",className:"log-badge-phase"}),C}function lM(u,h){return"all"===h||("random"===h?u.randomEvent:u.type===h)}function Lv(u,h,l){u.simulationInProgress=!0,u.simulationCancelRequested=!1,u.simulationProgress=0,u.simulationProgressLabel=h;const y=(u.simulationRunId??0)+1;return u.simulationRunId=y,u.setStatus?.(l,"success"),u.markForCheck?.(),y}function Pa(u,h){return u.simulationRunId===h}function Qs(u,h,l){u.simulationInProgress=!1,u.simulationCancelRequested=!1,u.setStatus?.(h,l),u.markForCheck?.()}function VS(u,h){return u===h?"same":u&&h?"changed":u?"left-only":"right-only"}function Dg(u,h){"same"===h?u.equalSteps+=1:"changed"===h?u.changedSteps+=1:"left-only"===h?u.leftOnly+=1:"right-only"===h&&(u.rightOnly+=1)}function Mg(u,h){return null!=u&&null!=h&&Number.isFinite(h)?`${u?"O":"P"}${Math.min(Math.max(1,Math.trunc(h)),5)}`:null}function xv(u,h,l){h&&h.decorateLogIfNeeded(u);const y=function zS(u,h){if(!h)return"";const l=`${u.rawMessage??u.message??""}`.replace(/<[^>]+>/g,"");if(/\b[PO][1-5]\b/.test(l))return"";const y=Mg(function uM(u){const h=u.sourcePet?.parent?.isOpponent;return!0===h||!1!==h&&(!0===u.player?.isOpponent||!1!==u.player?.isOpponent&&(!0===u.playerIsOpponent||!1!==u.playerIsOpponent&&null))}(u),u.sourceIndex),P=Mg(function dM(u){const h=u.targetPet?.parent?.isOpponent;return!0===h||!1!==h&&(!0===u.targetIsOpponent||!1!==u.targetIsOpponent&&null)}(u),u.targetIndex);return y&&P?`[${y}->${P}] `:y?`[${y}] `:P?`[->${P}] `:""}(u,l),P=function cM(u){return u.replace(/\[([^\]]+)\]/g,(h,l)=>{const y=`${l??""}`.replace(/&[a-z0-9#]+;/gi,"").replace(/[\s\u200b-\u200d\u2060\ufeff]+/gi,"").toUpperCase();if(!y)return h;const P=/^([PO][1-5])->([PO][1-5])$/.exec(y);if(P)return`[${P[1]}->${P[2]}]`;const C=/^([PO][1-5])$/.exec(y);if(C)return`[${C[1]}]`;const I=/^->([PO][1-5])$/.exec(y);return I?`[->${I[1]}]`:h})}(`${y}${u.message}`+(u.count>1?` (x${u.count})`:"")),C=Bd.get(u);if(C&&C.message===P)return C.parts;const I=ml.get(P);if(I)return Bd.set(u,{message:P,parts:I}),I;const W=vg(P);return Bd.set(u,{message:P,parts:W}),function Rv(u,h){if(ml.set(u,h),ml.size<=1e3)return;const l=ml.keys().next().value;l&&ml.delete(l)}(P,W),W}function _l(u){u.logEventFilter=Iv(u.logEventFilter),u.collapsedLogGroupIds||(u.collapsedLogGroupIds=new Set);const h=u.logEventFilter,l=u.collapsedLogGroupIds,y=[],P=new Map;for(const C of u.viewBattleLogRows){if(!lM(C,h))continue;let I=P.get(C.groupId);I||(I={id:C.groupId,title:C.groupTitle,rows:[],collapsed:l.has(C.groupId)},P.set(C.groupId,I),y.push(I)),I.rows.push(C)}u.viewBattleLogGroups=y}function JS(u,h=1e3,l){u.pendingPositioningOptimizationBaseline=null,u.positioningDeltaSummary=null,u.simulationBattleAmt=h,u.localStorageService.setFormStorage(u.formGroup);const y=u.simulationService.runSimulation(u.formGroup,h,u.player,u.opponent,l);Nd(u,y)}function QS(u,h=1e3){if(u.simulationInProgress)return;u.simulationBattleAmt=h,u.localStorageService.setFormStorage(u.formGroup);const l=Lv(u,`0 / ${h}`,"Simulation started..."),y=u.simulationService.runSimulationInWorker(u.formGroup,h,u.player,u.opponent,{onProgress:P=>{if(!Pa(u,l))return;const C=P.total?Math.floor(P.completed/P.total*100):0;u.simulationProgress=C,u.simulationProgressLabel=`${P.completed} / ${P.total}`,u.playerWinner=P.playerWins,u.opponentWinner=P.opponentWins,u.draw=P.draws,u.markForCheck?.()},onResult:P=>{Pa(u,l)&&(co(u),Nd(u,P),u.simulationProgress=100,u.simulationProgressLabel=`${h} / ${h}`,Qs(u,"Simulation finished.","success"))},onAborted:P=>{Pa(u,l)&&(co(u),Nd(u,P),Qs(u,"Simulation cancelled.","error"))},onError:P=>{Pa(u,l)&&(co(u),Qs(u,P||"Simulation failed.","error"))}},{progressInterval:50});u.simulationWorker=y}function co(u){u.simulationWorker&&u.simulationWorker.terminate(),u.simulationWorker=null}function ZS(u,h){const y=u.formGroup.get("player"===h.side?"playerPets":"opponentPets");!y||!h.bestPermutation||(function kg(u,h){const l=u.controls.slice(),y=l.map(C=>C.value),P=new Set;for(let C=0;C<l.length;C+=1){const W=Nv(y,h[C]??null,P);-1!==W&&(P.add(W),u.setControl(C,l[W]))}u.updateValueAndValidity()}(y,h.bestPermutation.lineup),u.afterPositioningApplied?.())}function Nv(u,h,l){const y=Uv(h);for(let P=0;P<u.length;P+=1)if(!l.has(P)&&Uv(u[P]??null)===y)return P;return-1}function Uv(u){if(!u||"object"!=typeof u)return"empty";if("string"!=typeof u.name||!u.name)return"empty";const l=u.equipment;return JSON.stringify({name:u.name??null,attack:u.attack??null,health:u.health??null,exp:u.exp??null,equipment:(l&&"object"==typeof l?"string"==typeof l.name?l.name:null:l??null)??null,equipmentUses:u.equipmentUses??null,belugaSwallowedPet:u.belugaSwallowedPet??null,parrotCopyPet:u.parrotCopyPet??null,mana:u.mana??null,triggersConsumed:u.triggersConsumed??null,foodsEaten:u.foodsEaten??null,battlesFought:u.battlesFought??null,timesHurt:u.timesHurt??null})}function wg(u,h,l){return u+h+l}function fl(u,h){return h<=0?0:u/h*100}function Fd(u){return Math.round(100*u)/100}function Nd(u,h){const l=u.pendingPositioningOptimizationBaseline??null;u.pendingPositioningOptimizationBaseline=null,u.positioningDeltaSummary=l?function t1(u,h){const l=wg(h.playerWins,h.opponentWins,h.draws);if(l<=0||u.totalBattles<=0)return null;const y="player"===u.side?u.playerWins:u.opponentWins,C="player"===u.side?u.opponentWins:u.playerWins,I="player"===u.side?h.opponentWins:h.playerWins,W=Fd(fl("player"===u.side?h.playerWins:h.opponentWins,l)-fl(y,u.totalBattles)),X=Fd(fl(h.draws,l)-fl(u.draws,u.totalBattles)),z=Fd(fl(I,l)-fl(C,u.totalBattles));return{side:u.side,winDeltaPercent:W,drawDeltaPercent:X,lossDeltaPercent:z}}(l,h):null,u.playerWinner=h.playerWins,u.opponentWinner=h.opponentWins,u.draw=h.draws,u.battles=h.battles||[];const y=Wc(u),P=new Map;u.battleRandomEvents=u.battles.map(C=>{const I=Ig(C,u.logService,y);return P.set(C,I),I}),u.battleRandomEventsByBattle=P,Og(u),u.viewBattle=h.battles?.[0]||null,u.viewBattleLogs=u.viewBattle?.logs??[],u.collapsedLogGroupIds=new Set,Kc(u),Ud(u),u.refreshFightAnimationFromViewBattle?.(),u.diffBattleLeftIndex=0,u.diffBattleRightIndex=u.battles.length>1?1:0,vl(u),u.simulated=!0,u.randomDecisions=(h.randomDecisions??[]).filter(C=>Array.isArray(C.options)&&C.options.length>1),u.randomOverrideError=h.randomOverrideError??null,u.showRandomOverrides=u.randomDecisions.length>0}function Kc(u){const h=Wc(u);if(u.viewBattle){const y=Ag.get(u.viewBattle);if(y&&y.logs===u.viewBattleLogs&&y.includePositionPrefix===h)return u.viewBattleLogRows=y.rows,void _l(u)}const l=function YS(u,h){let l="phase-0",y="Battle",P=0;return u.viewBattleLogs.map((C,I)=>{const W=Uc(C),X=function rM(u){const h=`${u??""}`.trim();return/^Phase\s+\d+\s*:/i.test(h)?h:null}(W);X&&(P+=1,l=`phase-${P}`,y=X);const z=function Cv(u){return null==u.player?!0===u.playerIsOpponent?"log-opponent":!1===u.playerIsOpponent?"log-player":"log":u.player.isOpponent?"log-opponent":"log-player"}(C),pe=function Tg(u){return"log-player"===u?"P":"log-opponent"===u?"O":"-"}(z),Me=!0===C.randomEvent,Re="board"===C.type,$e=!!X,ht=["log-entry",z,`log-type-${Sg(C.type)}`,Me?"random-event":"",Re?"log-row-board":"",$e?"log-phase-marker":""].filter(Boolean);return{parts:xv(C,u.logService,h),classes:ht,logIndex:I,type:C.type,typeLabel:Eg[C.type]??C.type,sideLabel:pe,rawText:W,randomEvent:Me,isBoard:Re,isPhaseMarker:$e,phaseTitle:X,groupId:l,groupTitle:y,badges:oM(C.type,pe,Me,$e)}})}(u,h);u.viewBattleLogRows=l,_l(u),u.viewBattle&&Ag.set(u.viewBattle,{logs:u.viewBattleLogs,rows:l,includePositionPrefix:h})}function Ud(u){const h=u.viewBattle?.logs??[],l=h.filter(P=>"ability"===P.type||"equipment"===P.type||"attack"===P.type);u.viewBattleTimelineRows=(l.length>0?l:h).map((P,C)=>({step:C+1,source:hl(P,"source"),target:hl(P,"target"),reason:hg(P),text:Uc(P),side:gg(P)}))}function vl(u){const h=$c(u,u.diffBattleLeftIndex),l=$c(u,u.diffBattleRightIndex);u.diffBattleLeftIndex=h,u.diffBattleRightIndex=l;const P=u.battles[l],C=Mv(u.battles[h],gl(u.diffBattleLeftScope)),I=Mv(P,gl(u.diffBattleRightScope)),W=Math.max(C.length,I.length),X=[],z={...fg};for(let pe=0;pe<W;pe++){const Me=C[pe]??"",Re=I[pe]??"",$e=VS(Me,Re);X.push({step:pe+1,left:Me,right:Re,same:"same"===$e,kind:$e}),Dg(z,$e)}u.battleDiffRows=X,u.battleDiffSummary=z}function Og(u){const h=u.formGroup.get("logFilter")?.value??null;u.filteredBattlesCache=null==h?u.battles:u.battles.filter(l=>l.winner===h)}function Ig(u,h,l=!1){const y=u.logs.filter(I=>!0===I.randomEvent),P=[],C=h?.isShowTriggerNamesInLogs()??!1;return y.forEach((I,W)=>{C&&P.push({type:"text",text:`[${"tie-broken"===I.randomEventReason?"tie-broken":"deterministic"===I.randomEventReason?"deterministic":"true random"}] `}),P.push(...xv(I,h,l)),W<y.length-1&&P.push({type:"br"})}),P}function $c(u,h){return Array.isArray(u.battles)&&0!==u.battles.length&&Number.isFinite(h)?Math.min(Math.max(0,Math.trunc(h)),u.battles.length-1):0}function Hv(u){const h=new Map,l=[];return u.filter(y=>!!y).sort((y,P)=>P.length-y.length).forEach(y=>{h.set(y.toLowerCase(),y),l.push(function jv(u){return u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(y))}),0===l.length?{regex:null,canonicalByLower:h}:{regex:new RegExp(`(?<![A-Za-z0-9])(${l.join("|")})(?![A-Za-z0-9])`,"gi"),canonicalByLower:h}}function qs(u,h){if(!u||!h.regex)return[];const l=new RegExp(h.regex.source,h.regex.flags),y=[];let P;for(;P=l.exec(u);){const C=P[1];if(!C)continue;const I=h.canonicalByLower.get(C.toLowerCase())??C;y.push(I)}return y}const s1=new Set(Object.values(ja.U).flat().filter(Boolean)),uo=Hv((0,Mt.bf)()),Gc=Hv((0,Mt.oI)());function Bn(u){return Number.isFinite(u)?Math.min(Math.max(0,Math.trunc(u)),4):0}function yl(u,h){return`${"player"===u?"P":"O"}${h+1}`}function un(u){return`${u??""}`.trim().toLowerCase()}function la(u){return u&&u.replace(/^[PO]\d+\s+/i,"").trim().replace(/^[Aa]n?\s+/,"").replace(/[.!,:;]+$/,"").trim()||null}function Lg(u,h){const l=new RegExp(`${h}="([^"]*)"`,"i").exec(u);if(l)return l[1];const y=new RegExp(`${h}='([^']*)'`,"i").exec(u);return y?y[1]:null}function Os(u,h){return"player"===h?u.playerSlots:u.opponentSlots}function xg(u,h,l){return Os(u,h)[Bn(l)]}function os(u,h){const l=un(h??null);if(!l)return-1;for(let y=0;y<u.length;y+=1)if(un(u[y].petName)===l)return y;return-1}function bl(u,h){return un(u.petName)===h}function Is(u){if(!u)return null;const h=s1.has(u);return(0,Mt.ht)(u,h)}function Bg(u,h=null){const l=`${u??""}`.trim();if(!l)return{petIconSrc:h,petCompanionIconSrc:null,petCompanionName:null};const y=(0,Mt.EA)(l);if(y)return{petIconSrc:y,petCompanionIconSrc:null,petCompanionName:null};const P=function Vv(u){if(!u.includes("'")&&!u.includes("\u2019"))return[u];return u.split(/\s*(?:'|\u2019)s\s+/i).map(l=>l.trim()).filter(l=>!!l)}(l);if(P.length<2)return{petIconSrc:h,petCompanionIconSrc:null,petCompanionName:null};const C=P.map(pe=>la(pe)).filter(pe=>!!pe);if(C.length<2)return{petIconSrc:h,petCompanionIconSrc:null,petCompanionName:null};let I=null,W=null;for(const pe of C){const Me=(0,Mt.EA)(pe);if(Me){I=pe,W=Me;break}}let X=null,z=null;for(let pe=C.length-1;pe>=0;pe-=1){const Me=C[pe];if(I&&un(Me)===un(I))continue;const Re=(0,Mt.EA)(Me);if(Re){X=Me,z=Re;break}}return{petIconSrc:W??h,petCompanionIconSrc:z,petCompanionName:z?X:null}}function zv(u){const h=[];for(let l=0;l<5;l+=1)h.push({side:u,slot:l,isEmpty:!0,pendingRemoval:!1,attack:null,health:null,exp:null,mana:null,petIconSrc:null,petName:null,petCompanionIconSrc:null,petCompanionName:null,equipmentIconSrc:null,equipmentName:null,label:null});return h}function r1(u){return u.map(h=>({...h}))}function Fg(u,h){Os(u,h).forEach(y=>{y.pendingRemoval&&function dn(u){u.isEmpty=!0,u.pendingRemoval=!1,u.attack=null,u.health=null,u.exp=null,u.mana=null,u.petIconSrc=null,u.petName=null,u.petCompanionIconSrc=null,u.petCompanionName=null,u.equipmentIconSrc=null,u.equipmentName=null,u.label=null}(y)})}function li(u,h){u.isEmpty=!1,u.petName=h;const l=Bg(h);u.petIconSrc=l.petIconSrc,u.petCompanionIconSrc=l.petCompanionIconSrc,u.petCompanionName=l.petCompanionName,u.label=yl(u.side,u.slot)}function Rs(u,h){u.isEmpty=!1,u.equipmentName=h,u.equipmentIconSrc=Is(h),u.label=yl(u.side,u.slot)}function Ls(u){u.equipmentName=null,u.equipmentIconSrc=null}function Ar(u,h){const l=Os(u,h),y=l.map((I,W)=>({slot:I,index:W})).filter(I=>!I.slot.isEmpty).map(I=>({value:{...I.slot},fromSlot:I.index})),P=zv(h),C=[];y.forEach((I,W)=>{const X=Bn(W);I.fromSlot!==X&&C.push({side:h,slot:X,fromSlot:I.fromSlot}),P[X]={...I.value,side:h,slot:X,label:yl(h,X),isEmpty:!1}});for(let I=0;I<l.length;I+=1)l[I]=P[I];return C}function ca(u){return Pl(u.sourcePet?.parent?.isOpponent)??Pl(u.player?.isOpponent)??Pl(u.playerIsOpponent)??"player"}function Hc(u){return Pl(u.targetPet?.parent?.isOpponent)??Pl(u.targetIsOpponent)}function Pl(u){return!0===u?"opponent":!1===u?"player":null}function xs(u,h,l,y,P,C){const I="player"===y?"opponent":"player",W=Hc(h);if(W)return W;const X=function l1(u,h){if(null==h||!Number.isFinite(h))return null;const l=Math.min(Math.max(1,Math.trunc(h)),5),y=new RegExp(`\\b([PO])${l}\\b`,"i").exec(u);return y?function po(u){return u.startsWith("P")?"player":u.startsWith("O")?"opponent":null}(y[1].toUpperCase()):null}(l,h.targetIndex??null);if(X)return X;if(/\benemy|opponent\b/i.test(l))return I;if(/\bfriend|friendly|self|itself|ally\b/i.test(l))return y;if(null!=h.targetIndex){const z=Bn(h.targetIndex-1),pe=xg(u,y,z),Me=xg(u,I,z),Re=un(P);if(Re){const $e=bl(pe,Re);if($e!==bl(Me,Re))return $e?y:I}if(pe.isEmpty&&!Me.isEmpty)return I;if(!pe.isEmpty&&Me.isEmpty)return y}if(P){const z=os(Os(u,y),P),pe=os(Os(u,I),P);if(-1!==z&&-1===pe)return y;if(-1!==pe&&-1===z)return I}return"opposite"===C?I:y}function Xn(u,h){const l=h.preferredSide,y="player"===l?"opponent":"player",P=Os(u,l),C=Os(u,y),I=un(h.expectedName??null);if(null!=h.explicitIndex){const W=Bn(h.explicitIndex-1),X=P[W],z=C[W];if(I){const pe=bl(X,I),Me=bl(z,I);if(pe&&!Me)return{side:l,slot:W,value:X};if(Me&&!pe)return{side:y,slot:W,value:z}}if(h.preferNonEmpty){if(X.isEmpty&&!z.isEmpty)return{side:y,slot:W,value:z};if(!X.isEmpty&&z.isEmpty)return{side:l,slot:W,value:X}}return{side:l,slot:W,value:X}}if(I){const W=os(P,h.expectedName??null);if(-1!==W)return{side:l,slot:W,value:P[W]};const X=os(C,h.expectedName??null);if(-1!==X)return{side:y,slot:X,value:C[X]}}if(h.preferNonEmpty){const W=P.findIndex(z=>!z.isEmpty);if(-1!==W)return{side:l,slot:W,value:P[W]};const X=C.findIndex(z=>!z.isEmpty);if(-1!==X)return{side:y,slot:X,value:C[X]}}return null}function Vc(u){return u.replace(/\[([^\]]+)\]/g,(h,l)=>{const y=`${l??""}`.replace(/&[a-z0-9#]+;/gi,"").replace(/[\s\u200b-\u200d\u2060\ufeff]+/gi,"").toUpperCase();if(!y)return h;const P=/^([PO][1-5])->([PO][1-5])$/.exec(y);if(P)return`[${P[1]}->${P[2]}]`;const C=/^([PO][1-5])$/.exec(y);if(C)return`[${C[1]}]`;const I=/^->([PO][1-5])$/.exec(y);return I?`[->${I[1]}]`:h})}function Ng(u,h){return null!=u&&null!=h&&Number.isFinite(h)?`${"player"===u?"P":"O"}${Math.min(Math.max(1,Math.trunc(h)),5)}`:null}const zc=/___ \(-\/-\)|(?:[PO]\d+\s+)?(?:<img\b[^>]*>\s*)*\(\d+\/\d+(?:\/\d+(?:\s*xp)?)?(?:\/\d+(?:\s*mana)?)?\)/gi,Aa=/<img\b[^>]*>/gi,c1=[4,3,2,1,0],Gn=[0,1,2,3,4],u1=/^(.+?)\s+(?:jump-)?attacks?\s+(.+?)\s+for\s+(\d+)/i,Jv=/^(.+?)\s+sniped\s+(.+?)\s+for\s+(\d+)/i,Ug=/^(.+?)\s+(?:deal(?:s|t)|inflict(?:s|ed)|did|does)\s+(\d+)\s+damage\s+to\s+(.+?)(?:\.|$)/i,Qv=/^(.+?)\s+fainted\./i,qv=/^(.+?)\s+(?:attacks?|sniped|deal(?:s|t)|inflict(?:s|ed)|did|does|fainted|gave|gained|lost|removed|transformed|destroyed|consumed|moved)\b/i,d1=/\bto\s+(.+?)(?:\.|$)/i,pM=/\btransformed\s+(.+?)\s+into\b/i,Zv=/\binto\b([\s\S]*)$/i,p1=/(\d+)\s*\/\s*(\d+)(?:\s*\/\s*(\d+)(?:\s*xp)?)?(?:\s*\/\s*(\d+)(?:\s*mana)?)?/i;function $d(u,h){const l=u.match(zc);if(!l||0===l.length)return null;const y=zv(h),P="player"===h?c1:Gn;l.forEach((W,X)=>{const z=function h1(u){const h=u.trim();if("___ (-/-)"===h)return{slot:null,isEmpty:!0,attack:null,health:null,exp:null,mana:null,petIconSrc:null,petName:null,equipmentIconSrc:null,equipmentName:null,label:null};const l=/\b([PO])([1-5])\b/.exec(h),y=l?`${l[1]}${l[2]}`:null,P=l&&Number.isFinite(Number(l[2]))?Number(l[2])-1:null,C=/\((\d+)\/(\d+)(?:\/(\d+)(?:\s*xp)?)?(?:\/(\d+)(?:\s*mana)?)?\)/i.exec(h),I=C?Number(C[1]):null,W=C?Number(C[2]):null,X=null!=C?.[3]?Number(C[3]):null,z=null!=C?.[4]?Number(C[4]):null;let pe=null,Me=null,Re=null,$e=null;return(h.match(Aa)??[]).forEach(ht=>{const st=Lg(ht,"src"),Ct=Lg(ht,"alt"),Pt=(Lg(ht,"class")??"").split(/\s+/g);return Pt.includes("log-pet-icon")?(pe=st??pe,void(Me=Ct??Me)):Pt.includes("log-inline-icon")?(Re=st??Re,void($e=Ct??$e)):pe?void(Re||(Re=st??null,$e=Ct??null)):(pe=st??null,void(Me=Ct??null))}),{slot:null!=P?Bn(P):null,isEmpty:!1,attack:I,health:W,exp:X,mana:z,petIconSrc:pe,petName:Me,equipmentIconSrc:Re,equipmentName:$e,label:y}}(W),Me=Bn(z.slot??P[X]??P[0]),Re=Bg(z.petName,z.petIconSrc);y[Me]={side:h,slot:Me,isEmpty:z.isEmpty,pendingRemoval:!1,attack:z.attack,health:z.health,exp:z.exp,mana:z.mana,petIconSrc:Re.petIconSrc,petName:z.petName,petCompanionIconSrc:Re.petCompanionIconSrc,petCompanionName:Re.petCompanionName,equipmentIconSrc:z.equipmentIconSrc,equipmentName:z.equipmentName,label:z.label??yl(h,Me)}});const C=u.match(/\{\{toy:([^}]+)\}\}/),I=u.match(/\{\{hardtoy:([^}]+)\}\}/);return{slots:y,toyName:C?C[1]:null,hardToyName:I?I[1]:null}}function El(u){const h=qv.exec(u);return h?la(h[1]):qs(u,uo)[0]??null}function ey(u,h){const y=qs(d1.exec(u)?.[1]??"",uo);if(y.length>0)return y[0];const P=qs(u,uo);if(0===P.length)return null;const C=un(h);return P.find(W=>un(W)!==C)??P[0]??null}function ty(u){const h=El(u),l=pM.exec(u)?.[1]??null,y=l?la(l):null,P=Zv.exec(u)?.[1]??"",C=qs(P,uo)[0]??null,I=p1.exec(P);return{sourceName:h,targetName:y,transformedName:C,attack:I?Number(I[1]):null,health:I?Number(I[2]):null,exp:null!=I?.[3]?Number(I[3]):null,mana:null!=I?.[4]?Number(I[4]):null,equipmentName:qs(P,Gc)[0]??null}}function ny(u,h,l){if(!l)return!1;if(/\bgave\b/i.test(u))return!0;const y=un(h),P=un(l);return(!y||!P||y!==P)&&(/\bincreased\b/i.test(u)||/\bremoved?\b/i.test(u)&&/\bfrom\b/i.test(u)||/\b(?:attack|health)\s+of\b/i.test(u)||/\b(?:attack|health)\s+by\b/i.test(u))}function ay(u,h,l){const y=new RegExp(`([+-]?\\d+)\\s+${h}\\b`,"i"),P=new RegExp(`${h}\\b(?:\\s+of\\s+[^.]+?)?\\s+by\\s+([+-]?\\d+)`,"i"),C=y.exec(u)??P.exec(u);if(!C)return null;const I=C[1],W=Number(I);return Number.isFinite(W)?I.startsWith("+")||I.startsWith("-")?W:W*l:null}function Bs(u){if(!u)return null;const h=Number(u);return Number.isFinite(h)?h:null}function f1(u){const h=/\bfor\s+(\d+)\b/i.exec(u);if(!h)return null;const l=Number(h[1]);return Number.isFinite(l)?l:null}function Kg(u,h){return function sy(u){return u?qs(u,Gc)[0]??null:null}(new RegExp(`\\b${h}\\b([\\s\\S]*)$`,"i").exec(u)?.[1]??"")}function v1(u,h,l){const y={impact:null,popups:[],death:null,shifts:[],equipmentChanges:[],toyChanges:[]};if("attack"===h.type)return y.impact=function Vd(u,h,l,y){const P=function Al(u){const h=Jv.exec(u);if(h)return{attackerName:la(h[1]),targetName:la(h[2]),damage:Number(h[3]),isSnipe:!0};const l=u1.exec(u);return l?{attackerName:la(l[1]),targetName:la(l[2]),damage:Number(l[3]),isSnipe:!1}:{attackerName:null,targetName:null,damage:f1(u),isSnipe:!1}}(l),C=ca(h),I=Xn(u,{preferredSide:C,explicitIndex:h.sourceIndex,expectedName:P.attackerName,preferNonEmpty:!0});I&&P.attackerName&&li(I.value,P.attackerName),I&&null==I.value.attack&&null!=P.damage&&P.damage>0&&(I.value.attack=P.damage);const W=I?.side??C,X=xs(u,h,l,W,P.targetName,"opposite"),z=Xn(u,{preferredSide:X,explicitIndex:h.targetIndex,expectedName:P.targetName,preferNonEmpty:!0});return z?(P.targetName&&li(z.value,P.targetName),null!=P.damage&&null!=z.value.health&&(z.value.health=Math.max(0,z.value.health-P.damage)),null!=P.damage&&P.damage>0&&y.push({side:z.side,slot:z.slot,type:"damage",delta:-P.damage}),{attackerSide:I?.side??W,attackerSlot:I?.slot??Bn((h.sourceIndex??1)-1),targetSide:z.side,targetSlot:z.slot,damage:P.damage,isSnipe:P.isSnipe}):(null!=P.damage&&P.damage>0&&y.push({side:X,slot:Bn((h.targetIndex??1)-1),type:"damage",delta:-P.damage}),{attackerSide:W,attackerSlot:I?.slot??Bn((h.sourceIndex??1)-1),targetSide:X,targetSlot:Bn((h.targetIndex??1)-1),damage:P.damage,isSnipe:P.isSnipe})}(u,h,l,y.popups),y;if("death"===h.type)return y.death=function gM(u,h,l){const y=function Gd(u){const h=Qv.exec(u);return h?la(h[1]):null}(l),C=Xn(u,{preferredSide:ca(h),explicitIndex:h.sourceIndex,expectedName:y,preferNonEmpty:!0});if(!C)return null;const I={side:C.side,slot:C.slot,petIconSrc:C.value.petIconSrc,petName:C.value.petName,petCompanionIconSrc:C.value.petCompanionIconSrc,petCompanionName:C.value.petCompanionName};return C.value.pendingRemoval=!0,null!=C.value.health&&(C.value.health=0),I}(u,h,l),y;if("ability"===h.type||"equipment"===h.type){const P=function y1(u,h,l,y){const P=function m1(u){const h=Jv.exec(u);if(h)return{attackerName:la(h[1]),targetName:la(h[2]),damage:Number(h[3]),isSnipe:!0};const l=Ug.exec(u);return l?{attackerName:la(l[1]),targetName:la(l[3]),damage:Number(l[2]),isSnipe:!0}:null}(l);if(!P||null==P.damage||P.damage<0)return null;const C=ca(h),I=Xn(u,{preferredSide:C,explicitIndex:h.sourceIndex,expectedName:P.attackerName,preferNonEmpty:!0});I&&P.attackerName&&li(I.value,P.attackerName);const W=I?.side??C,X=xs(u,h,l,W,P.targetName,"opposite"),z=Xn(u,{preferredSide:X,explicitIndex:h.targetIndex,expectedName:P.targetName,preferNonEmpty:!0});return z?(P.targetName&&li(z.value,P.targetName),null!=z.value.health&&(z.value.health=Math.max(0,z.value.health-P.damage)),P.damage>0&&y.push({side:z.side,slot:z.slot,type:"damage",delta:-P.damage}),{attackerSide:W,attackerSlot:I?.slot??Bn((h.sourceIndex??1)-1),targetSide:z.side,targetSlot:z.slot,damage:P.damage,isSnipe:!0}):(P.damage>0&&y.push({side:X,slot:Bn((h.targetIndex??1)-1),type:"damage",delta:-P.damage}),{attackerSide:W,attackerSlot:I?.slot??Bn((h.sourceIndex??1)-1),targetSide:X,targetSlot:Bn((h.targetIndex??1)-1),damage:P.damage,isSnipe:!0})}(u,h,l,y.popups);return P&&(y.impact=P),function mM(u,h,l,y){if(!/\btransform(?:ed|ing)?\b/i.test(l))return;const P=ty(l);if(!P.transformedName&&null==P.attack&&null==P.health&&null==P.exp&&null==P.mana&&!P.equipmentName)return;const C=ca(h),I=P.sourceName??El(l),W=P.targetName??P.sourceName??I,X=h.targetIndex??h.sourceIndex,pe=Xn(u,{preferredSide:xs(u,h,l,C,W,"same"),explicitIndex:X,expectedName:W,preferNonEmpty:!1});pe&&(P.transformedName&&li(pe.value,P.transformedName),Zs(pe.value,y,pe.side,pe.slot,"attack",P.attack),Zs(pe.value,y,pe.side,pe.slot,"health",P.health),Zs(pe.value,y,pe.side,pe.slot,"exp",P.exp),Zs(pe.value,y,pe.side,pe.slot,"mana",P.mana),P.equipmentName&&Rs(pe.value,P.equipmentName))}(u,h,l,y.popups),function cy(u,h,l,y){const P=function Hd(u){const h=/\battack\b/i.test(u),l=/\bhealth\b/i.test(u),y=/\b(?:xp|exp|experience)\b/i.test(u),P=/\bmana\b/i.test(u);if(!(h||l||y||P))return null;const C=/\b(?:lost|spent|took|drain(?:ed)?|remove(?:d)?|reduce(?:d)?|decrease(?:d)?|lower(?:ed)?)\b/i.test(u)?-1:1,I=ay(u,"attack",C),W=ay(u,"health",C),X=function Wg(u,h){const y=/([+-]?\d+)\s+(?:xp|exp(?:erience)?)\b/i.exec(u);if(!y)return null;const P=y[1],C=Number(P);return Number.isFinite(C)?P.startsWith("+")||P.startsWith("-")?C:C*h:null}(u,C),z=function _1(u,h){const P=/([+-]?\d+)\s+(?:bonus\s+)?mana\b/i.exec(u)??/\bmana\b(?:\s+of\s+[^.]+?)?\s+by\s+([+-]?\d+)/i.exec(u);if(!P)return null;const C=P[1],I=Number(C);return Number.isFinite(I)?C.startsWith("+")||C.startsWith("-")?I:I*h:null}(u,C);return null==I&&null==W&&null==X&&null==z?null:{attackDelta:I??0,healthDelta:W??0,expDelta:X??0,manaDelta:z??0}}(l);if(!P||0===P.attackDelta&&0===P.healthDelta&&0===P.expDelta&&0===P.manaDelta)return;const C=ca(h),I=El(l),W=ey(l,I),X=/\btransform(?:ed|ing)?\b/i.test(l)?ty(l):null,z=ny(l,I,W),pe=!z&&!(!X||/\bgave\b/i.test(l)||!X.transformedName&&!X.targetName),Me=xs(u,h,l,C,W,"same"),Re=la(h.sourcePet?.name),$e=la(h.targetPet?.name),ft=X?.transformedName??null;if(0!==P.attackDelta||0!==P.healthDelta||0!==P.expDelta){const st=Xn(u,{preferredSide:z||pe?Me:C,explicitIndex:z||pe?h.targetIndex:h.sourceIndex,expectedName:z?W:pe?ft??X?.targetName??W:I,preferNonEmpty:!0});if(st){const Ct=z?$e??W??Re??I:pe?ft??$e??X?.targetName??W??Re??I:ft??Re??I;Ct&&li(st.value,Ct),Er(st.value,y,st.side,st.slot,"attack",P.attackDelta),Er(st.value,y,st.side,st.slot,"health",P.healthDelta),Er(st.value,y,st.side,st.slot,"exp",P.expDelta)}}if(0!==P.manaDelta){const st=function hM(u,h,l){if(!l||!/\bmana\b/i.test(u))return!1;const y=un(h),P=un(l);return(!y||!P||y!==P)&&(!(!/\btook\b/i.test(u)||!/\bfrom\b/i.test(u))||(/\bspent\b/i.test(u)?/\bfrom\b/i.test(u):!!(/\bgave\b/i.test(u)||/\breplaced\b/i.test(u)&&/\bon\b/i.test(u)&&/\bwith\b/i.test(u))||ny(u,h,l)))}(l,I,W),Ct=!st&&!(!X||/\b(?:spent|took)\b/i.test(l)||!X.transformedName&&!X.targetName),dt=Xn(u,{preferredSide:st||Ct?Me:C,explicitIndex:st||Ct?h.targetIndex:h.sourceIndex,expectedName:st?W:Ct?ft??X?.targetName??W:I,preferNonEmpty:!0});if(!dt)return;const Pt=st?$e??W??Re??I:Ct?ft??$e??X?.targetName??W??Re??I:Re??I??ft;Pt&&li(dt.value,Pt),Er(dt.value,y,dt.side,dt.slot,"mana",P.manaDelta)}}(u,h,l,y.popups),function P1(u,h,l,y){const C=qs(l,Gc)[0]??null,I=function A1(u,h,l){return $g(new RegExp(`\\b${h}\\b([\\s\\S]*?)\\b${l}\\b`,"i").exec(u)?.[1]??"")}(l,"removed","from"),W=function E1(u){return $g(/\bgave\b([\s\S]*)$/i.exec(u)?.[1]??"")}(l),X=function ry(u,h){const l=new RegExp(`\\b${h}\\b([\\s\\S]*)$`,"i").exec(u)?.[1]??"",y=/\b([PO])([1-5])\b/i.exec(l);return y?{side:"O"===y[1].toUpperCase()?"opponent":"player",index:Number(y[2])}:null}(l,"gave"),z=Kg(l,"gained"),pe=Kg(l,"with"),Me=ca(h),Re=El(l),$e=ey(l,Re),ft=la(h.sourcePet?.name),ht=""!==un($e)&&un($e)===un(ft),st=""!==un(Re)&&un(Re)===un(ft),Ct=xs(u,h,l,Me,$e,"same");if(/\blost\b/i.test(l)&&/\bequipment|perk|ailment\b/i.test(l)){const dt=Xn(u,{preferredSide:Me,explicitIndex:h.sourceIndex,expectedName:Re,preferNonEmpty:!0});if(dt){const Pt=dt.value.equipmentName,vt=dt.value.equipmentIconSrc??Is(Pt);Ls(dt.value),y.push({side:dt.side,slot:dt.slot,action:"removed",equipmentName:Pt,equipmentIconSrc:vt})}return}if(/\bdestroyed\b/i.test(l)&&/\bequipment|perk|ailment\b/i.test(l)){const dt=Xn(u,{preferredSide:Ct,explicitIndex:h.targetIndex,expectedName:$e,preferNonEmpty:!0});if(dt){const Pt=dt.value.equipmentName,vt=dt.value.equipmentIconSrc??Is(Pt);Ls(dt.value),y.push({side:dt.side,slot:dt.slot,action:"removed",equipmentName:Pt,equipmentIconSrc:vt})}return}if(/\bremoved\b/i.test(l)&&/\bfrom\b/i.test(l)&&(null!=I||/\bequipment|perk|ailment\b/i.test(l))){const dt=Xn(u,{preferredSide:Ct,explicitIndex:h.targetIndex,expectedName:$e,preferNonEmpty:!0});if(dt){const Pt=dt.value.equipmentName??I,vt=dt.value.equipmentIconSrc??Is(Pt);Ls(dt.value),y.push({side:dt.side,slot:dt.slot,action:"removed",equipmentName:Pt,equipmentIconSrc:vt})}}if(/\bstole\b/i.test(l)&&/\bequipment\b/i.test(l)){const dt=Xn(u,{preferredSide:Me,explicitIndex:h.sourceIndex,expectedName:Re,preferNonEmpty:!0}),Pt=Xn(u,{preferredSide:Ct,explicitIndex:h.targetIndex,expectedName:$e,preferNonEmpty:!0});if(!Pt)return;const vt=Pt.value.equipmentName??C,It=Pt.value.equipmentIconSrc??Is(vt);return void(vt&&(Ls(Pt.value),y.push({side:Pt.side,slot:Pt.slot,action:"removed",equipmentName:vt,equipmentIconSrc:It}),dt&&(Rs(dt.value,vt),y.push({side:dt.side,slot:dt.slot,action:"added",equipmentName:vt,equipmentIconSrc:dt.value.equipmentIconSrc??Is(vt)}))))}if(/\bgave\b/i.test(l)){const dt=W??C;if(!dt)return;const Pt=h.targetIndex??X?.index??(ht&&!st?h.sourceIndex:void 0),It=Xn(u,{preferredSide:X?.side??(ht&&!st?Pl(h.sourcePet?.parent?.isOpponent):null)??Ct,explicitIndex:Pt,expectedName:$e,preferNonEmpty:!0});return void(It&&(Rs(It.value,dt),y.push({side:It.side,slot:It.slot,action:"added",equipmentName:dt,equipmentIconSrc:It.value.equipmentIconSrc??Is(dt)})))}if(/\bgained\b/i.test(l)||/\bwith\b/i.test(l)){const dt=z??pe??C;if(!dt)return;const Pt=Xn(u,{preferredSide:Me,explicitIndex:h.sourceIndex??h.targetIndex,expectedName:Re,preferNonEmpty:!0});Pt&&(Rs(Pt.value,dt),y.push({side:Pt.side,slot:Pt.slot,action:"added",equipmentName:dt,equipmentIconSrc:Pt.value.equipmentIconSrc??Is(dt)}))}}(u,h,l,y.equipmentChanges),function S1(u,h,l){if(!/\b(?:summoned|spawned)\b/i.test(l))return;const y=ca(h),P=El(l),C=function oy(u){return/\b(?:summoned|spawned)\b([\s\S]*)$/i.exec(u)?.[1]??""}(l),I=function Sl(u,h){const l=qs(u,uo);if(l.length>0){const y=un(h);return l.find(C=>un(C)!==y)??l[0]??null}return null}(C,P);if(!I)return;const W=function ly(u,h){return/\b(?:for|on)\s+(?:the\s+)?(?:enemy|opponent)\b/i.test(u)?"player"===h?"opponent":"player":/\bfor\s+(?:the\s+)?player\b/i.test(u)?"player":h}(l,y),X=function Yv(u,h){const l=Os(u,h.side);if(null!=h.targetIndex)return Bn(h.targetIndex-1);if(h.side===h.sourceSide&&null!=h.sourceIndex){const C=Bn(h.sourceIndex-1);if(l[C]?.isEmpty)return C}const y=os(l,h.summonedPetName);if(-1!==y)return y;const P=l.findIndex(C=>C.isEmpty);return-1!==P?P:null}(u,{side:W,sourceSide:y,sourceIndex:h.sourceIndex,targetIndex:h.targetIndex,summonedPetName:I});if(null==X)return;const z=xg(u,W,X);li(z,I),z.pendingRemoval=!1,z.attack=null,z.health=null,z.exp=null,z.mana=null,Ls(z);const pe=function g1(u){const h=p1.exec(u);return{attack:null!=h?.[1]?Number(h[1]):null,health:null!=h?.[2]?Number(h[2]):null,exp:null!=h?.[3]?Number(h[3]):null,mana:null!=h?.[4]?Number(h[4]):null}}(C);null!=pe.attack&&(z.attack=pe.attack),null!=pe.health&&(z.health=pe.health),null!=pe.exp&&(z.exp=pe.exp),null!=pe.mana&&(z.mana=pe.mana);const Me=Kg(C,"with")??qs(C,Gc)[0]??null;Me&&Rs(z,Me)}(u,h,l),function T1(u,h,l,y){const P=/(.+?)\s+broke!/i.exec(l);if(!P)return;const C=P[1],I=ca(h),W=u.playerToyName&&C.toLowerCase().includes(u.playerToyName.toLowerCase()),X=u.playerHardToyName&&C.toLowerCase().includes(u.playerHardToyName.toLowerCase()),z=u.opponentToyName&&C.toLowerCase().includes(u.opponentToyName.toLowerCase()),pe=u.opponentHardToyName&&C.toLowerCase().includes(u.opponentHardToyName.toLowerCase());"player"===I?W?(y.push({side:"player",action:"removed",toyName:u.playerToyName,isHardToy:!1}),u.playerToyName=null):X?(y.push({side:"player",action:"removed",toyName:u.playerHardToyName,isHardToy:!0}),u.playerHardToyName=null):z?(y.push({side:"opponent",action:"removed",toyName:u.opponentToyName,isHardToy:!1}),u.opponentToyName=null):pe&&(y.push({side:"opponent",action:"removed",toyName:u.opponentHardToyName,isHardToy:!0}),u.opponentHardToyName=null):z?(y.push({side:"opponent",action:"removed",toyName:u.opponentToyName,isHardToy:!1}),u.opponentToyName=null):pe?(y.push({side:"opponent",action:"removed",toyName:u.opponentHardToyName,isHardToy:!0}),u.opponentHardToyName=null):W?(y.push({side:"player",action:"removed",toyName:u.playerToyName,isHardToy:!1}),u.playerToyName=null):X&&(y.push({side:"player",action:"removed",toyName:u.playerHardToyName,isHardToy:!0}),u.playerHardToyName=null)}(u,h,l,y.toyChanges),y}return"trumpets"===h.type?(function b1(u,h,l,y){const P=function iy(u){const h=/\bgave\s+opponent\s+([+-]?\d+)\s+trumpets?\b/i.exec(u);if(h){const P=Bs(h[1]);return null==P||0===P?null:{delta:Math.abs(P),appliesToOpponent:!0}}const l=/\bgained\s+([+-]?\d+)\s+trumpets?\b/i.exec(u);if(l){const P=Bs(l[1]);return null==P||0===P?null:{delta:P,appliesToOpponent:!1}}const y=/\bspent\s+([+-]?\d+)\s+trumpets?\b/i.exec(u);if(y){const P=Bs(y[1]);return null==P||0===P?null:{delta:-Math.abs(P),appliesToOpponent:!1}}return null}(l);if(!P)return;const C=ca(h),I=El(l),W=Xn(u,{preferredSide:C,explicitIndex:h.sourceIndex,expectedName:I,preferNonEmpty:!0});W&&I&&li(W.value,I);const X=P.appliesToOpponent?function o1(u){return"player"===u?"opponent":"player"}(W?.side??C):W?.side??C,z=function jc(u,h,l,y){if(null!=l)return Bn(l);if(null!=y&&Number.isFinite(y))return Bn(y-1);const C=Os(u,h).findIndex(I=>!I.isEmpty);return-1===C?0:C}(u,X,P.appliesToOpponent?null:W?.slot??null,P.appliesToOpponent?h.targetIndex:h.sourceIndex);y.push({side:X,slot:z,type:"trumpets",delta:P.delta})}(u,h,l,y.popups),y):("move"===h.type&&/\bmoved\b/i.test(l)&&(function Kd(u){Fg(u,"player"),Fg(u,"opponent")}(u),y.shifts.push(...Ar(u,"player")),y.shifts.push(...Ar(u,"opponent"))),y)}function Zs(u,h,l,y,P,C){if(null==C)return;const I="attack"===P?u.attack:"health"===P?u.health:"exp"===P?u.exp:u.mana;"attack"===P?u.attack=C:"health"===P?u.health=C:"exp"===P?u.exp=C:u.mana=C,uy(h,l,y,P,null!=I?C-I:0)}function Er(u,h,l,y,P,C){if(0===C)return;const I="attack"===P?u.attack??0:"health"===P?u.health??0:"exp"===P?u.exp??0:u.mana??0,W=Math.max(0,I+C);"attack"===P?u.attack=W:"health"===P?u.health=W:"exp"===P?u.exp=W:u.mana=W,uy(h,l,y,P,W-I)}function uy(u,h,l,y,P){!Number.isFinite(P)||0===P||u.push({side:h,slot:l,type:y,delta:P})}function $g(u){return u?qs(u,Gc)[0]??null:null}const Gg={board:180,attack:360,death:220,ability:260,equipment:260,move:230,trumpets:240};function zd(u){let h=Gg[u.type]??260;return u.randomEvent&&(h+=55),u.impact&&(h+=u.impact.isSnipe?42:72),u.death&&(h+=48),u.popups.length>0&&(h+=Math.min(140,18*u.popups.length)),u.shifts.length>0&&(h+=Math.min(95,24*u.shifts.length)),u.equipmentChanges.length>0&&(h+=Math.min(75,16*u.equipmentChanges.length)),u.toyChanges.length>0&&(h+=Math.min(80,22*u.toyChanges.length)),"ability"===u.type&&0===u.popups.length&&0===u.equipmentChanges.length&&0===u.toyChanges.length&&!u.impact&&!u.death&&(h-=30),Math.max(120,h)}const I1=[],N1=new Set(Object.values(ja.U).flat().filter(Boolean).map(u=>er(u)));function U1(u){Sr(u,!1);const h=!1!==u.formGroup.get("showPositionalArgsInLogs")?.value;u.fightAnimationFrames=function w1(u,h={}){if(!Array.isArray(u)||0===u.length)return[];const l=!1!==h.includePositionPrefix,y=!1!==h.includeBoardFrames;let P=null;const C=[];return u.forEach((I,W)=>{if(!I)return;if("board"===I.type){const Me=function hy(u){if(!u||!u.includes("|"))return null;const[h,l]=u.split("|");if(null==h||null==l)return null;const y=$d(h,"player"),P=$d(l,"opponent");return y&&P?{playerSlots:y.slots,opponentSlots:P.slots,playerToyName:y.toyName,playerHardToyName:y.hardToyName,opponentToyName:P.toyName,opponentHardToyName:P.hardToyName}:null}(I.message??"");Me&&(P=Me)}if(!P||"board"===I.type&&!y)return;const X=Uc(I);if(!X)return;const z="board"!==I.type?v1(P,I,X):{impact:null,popups:[],death:null,shifts:[],equipmentChanges:[],toyChanges:[]},pe=l?function Xv(u,h){const l=Vc(u);if(/\b[PO][1-5]\b/.test(l))return l;const y=Ng(ca(h),h.sourceIndex),I=Ng(Hc(h)??("attack"===h.type?"player"===ca(h)?"opponent":"player":null),h.targetIndex);return y&&I?`[${y}->${I}] ${l}`:y?`[${y}] ${l}`:I?`[->${I}] ${l}`:l}(X,I):Vc(X);C.push({index:C.length,logIndex:W,type:I.type,text:pe,randomEvent:!0===I.randomEvent,impact:z.impact,popups:z.popups,death:z.death,shifts:z.shifts,equipmentChanges:z.equipmentChanges,toyChanges:z.toyChanges,playerSlots:r1(P.playerSlots),opponentSlots:r1(P.opponentSlots),playerToyName:P.playerToyName,playerHardToyName:P.playerHardToyName,opponentToyName:P.opponentToyName,opponentHardToyName:P.opponentHardToyName})}),C}(u.viewBattleLogs,{includePositionPrefix:h,includeBoardFrames:!1}),u.fightAnimationTimeline=function dy(u){if(!Array.isArray(u)||0===u.length)return{steps:[],totalDurationMs:0};const h=function M1(u){return u.map((h,l)=>{const y=function k1(u){const h=new Set;u.impact&&(h.add(u.impact.attackerSide),h.add(u.impact.targetSide)),u.death&&h.add(u.death.side);for(const l of u.popups)h.add(l.side);for(const l of u.shifts)h.add(l.side);for(const l of u.equipmentChanges)h.add(l.side);for(const l of u.toyChanges)h.add(l.side);return 0===h.size&&h.add("global"),Array.from(h)}(h),P=function C1(u,h){return"attack"===u.type||"death"===u.type?"block":"move"===u.type?u.shifts.length>0?"block":"overlap":"board"===u.type?"overlap":new Set(h.filter(y=>"global"!==y)).size>1?"block":"overlap"}(h,y);return{frameIndex:l,mode:P,lanes:y,durationMs:zd(h)}})}(u),l={global:0,player:0,opponent:0},y=[];for(const P of h){const I=Math.max(0,...("block"===P.mode?["global","player","opponent"]:P.lanes).map(z=>l[z]??0)),W=I+P.durationMs,X="block"===P.mode?["global","player","opponent"]:P.lanes;for(const z of X)l[z]=W;y.push({frameIndex:P.frameIndex,startAtMs:I,endAtMs:W,durationMs:P.durationMs,mode:P.mode,lanes:P.lanes})}return{steps:y,totalDurationMs:Math.max(0,...y.map(P=>P.endAtMs))}}(u.fightAnimationFrames),u.fightAnimationFrameIndex=u.fightAnimationFrames.length>0?0:-1,u.markForCheck()}function Yd(u){u.fightAnimationTimer&&(clearTimeout(u.fightAnimationTimer),u.fightAnimationTimer=null)}function Sr(u,h=!0){u.fightAnimationPlaying=!1,Yd(u),h&&u.markForCheck()}function jg(u){if(Yd(u),!u.fightAnimationPlaying)return;const h=function Ay(u){const h=ls(u),l=Py(u.fightAnimationSpeed);let P=function py(u,h){if(!u||h<0||h>=u.steps.length)return null;const l=u.steps[h],y=u.steps[h+1];return l?y?Math.max(90,y.startAtMs-l.startAtMs):l.durationMs:null}(u.fightAnimationTimeline,u.fightAnimationFrameIndex)??function SM(u){if(!u)return 680;let h=480;return"board"===u.type?h=240:"attack"===u.type?h=580:"death"===u.type?h=420:"ability"===u.type||"equipment"===u.type?h=620:"move"===u.type&&(h=560),u.randomEvent&&(h+=90),u.impact&&(h=Math.max(h,560)),u.popups.length>0&&(h=Math.max(h,520)),u.death&&(h=Math.max(h,390)),h}(h);return"attack"===h?.type&&h.impact&&!h.impact.isSnipe?P=Math.round(.9*P):"death"===h?.type?P=Math.round(.74*P):"ability"===h?.type&&h.popups.length>=3&&0===h.equipmentChanges.length&&(P=Math.round(.92*P)),Math.max(90,Math.round(P/l*2))}(u);u.fightAnimationTimer=setTimeout(()=>{u.fightAnimationTimer=null,function _y(u){if(!u.fightAnimationPlaying||0===u.fightAnimationFrames.length)return void Sr(u,!1);const h=u.fightAnimationFrames.length-1;if(u.fightAnimationFrameIndex>=h)Sr(u);else{if(u.fightAnimationFrameIndex+=1,ls(u),u.fightAnimationFrameIndex>=h)return function z1(u){const h=u.viewBattle?.winner;"player"!==h?"opponent"!==h?"draw"===h&&Vg("assets/sounds/pets/TallyDraw-sharedassets1.assets-3577.ogg"):Vg("assets/sounds/pets/TallyDefeat-sharedassets1.assets-3836.ogg"):Vg("assets/sounds/pets/TallyVictory-sharedassets1.assets-3517.ogg")}(u),void Sr(u);u.markForCheck(),jg(u)}}(u)},h)}function ls(u){return u.fightAnimationFrameIndex<0||u.fightAnimationFrameIndex>=u.fightAnimationFrames.length?null:u.fightAnimationFrames[u.fightAnimationFrameIndex]??null}function fy(u){return{equipmentName:u.equipmentName,equipmentIconSrc:u.equipmentIconSrc}}function cs(u,h){return`${u}:${h}`}function ua(u){return!!u&&N1.has(er(u))}function V1(u){const h=er(u.equipmentName);if(h)return`name:${h}`;const l=er(u.equipmentIconSrc);return l?`icon:${l}`:null}function Xd(u,h,l,y){const P=Math.min(h.length,l.length);for(let C=0;C<P;C+=1){const I=h[C],W=l[C];!I||!W||y(I,W)&&u.add(cs(I.side,I.slot))}}function by(u,h){const l=er(u.petName),y=er(h.petName);return l||y?l!==y:er(u.petIconSrc)!==er(h.petIconSrc)}function er(u){return(u??"").trim().toLowerCase()}function Py(u){return.5===u||1===u||1.5===u||2===u?u:1}function Vg(u){if(Ah()||typeof Audio>"u")return;const h=Eh();if(!(h<=0))try{const l=new Audio(u);l.volume=h;const y=l.play();y&&"function"==typeof y.catch&&y.catch(()=>{})}catch{}}var Jd=i(15082);const zg=(0,Mt.bf)(),Yg=(0,Mt.Eo)(),Ey=(0,Mt.oI)(),Y1=(0,Jd.Fq)(zg,Yg,Ey),X1=(0,Jd.IF)(zg,Yg,Ey),Xg=new Set(Object.values(ja.U).flat().filter(Boolean));function Jg(u){return vg((0,Jd.N7)(u??"",X1,Y1,Xg))}function Qg(u,h){const l=Tl(h),y=u.randomDecisionSelectionByFingerprint[l]??h.selectedOptionId??h.options[0]?.id??"";return h.options.some(P=>P.id===y)?y:h.selectedOptionId??h.options[0]?.id??""}function qg(u,h,l){u.runSimulation(1,{logsEnabled:!0,simulationCount:1,maxLoggedBattles:1,captureRandomDecisions:!0,randomDecisionOverrides:h,strictRandomOverrideValidation:l})}function Zg(u){const h=[];for(const l of u.randomDecisions){const y=Qg(u,l);y&&h.push({index:l.index,optionId:y,key:l.key,label:l.label})}return h}function Tl(u){return`${u.key}::${u.label}`}function My(u,h,l){const y=new Map(Object.entries(u.randomDecisionSelectionByFingerprint));for(const C of l){const I=Tl(C),W=y.get(I)??C.selectedOptionId??null;W&&y.set(I,W)}const P={};for(const C of h){const I=Tl(C),W=y.get(I),X=C.selectedOptionId??C.options[0]?.id??"",z=W??X;C.options.some(pe=>pe.id===z)?P[I]=z:X&&(P[I]=X)}u.randomDecisionSelectionByFingerprint=P}function Yc(u,h,l){const y=[0,1,2,3,4],P=z=>new ue.gE({name:new ue.MJ(z?.name),attack:new ue.MJ(z?.attack??0),health:new ue.MJ(z?.health??0),exp:new ue.MJ(z?.exp??0),equipment:new ue.MJ(z?.equipment?.name??null),equipmentUses:new ue.MJ(z?.equipment?.uses??null),belugaSwallowedPet:new ue.MJ(z?.belugaSwallowedPet),parrotCopyPet:new ue.MJ(z?.parrotCopyPet??null),parrotCopyPetBelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetBelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1??null),parrotCopyPetAbominationSwallowedPet2:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2??null),parrotCopyPetAbominationSwallowedPet3:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3??null),parrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1Level??1),parrotCopyPetAbominationSwallowedPet2Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2Level??1),parrotCopyPetAbominationSwallowedPet3Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3Level??1),parrotCopyPetAbominationSwallowedPet1TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1TimesHurt??0),parrotCopyPetAbominationSwallowedPet2TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2TimesHurt??0),parrotCopyPetAbominationSwallowedPet3TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3TimesHurt??0),parrotCopyPetAbominationSwallowedPet1ParrotCopyPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPet??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPet??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPet??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level??1),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level??1),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level??1),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level??1),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level??1),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level??1),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level??1),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level??1),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level??1),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),sarcasticFringeheadSwallowedPet:new ue.MJ,mana:new ue.MJ(z?.mana??0),triggersConsumed:new ue.MJ(z?.triggersConsumed??0),foodsEaten:new ue.MJ(z?.foodsEaten??0),abominationSwallowedPet1:new ue.MJ(z?.abominationSwallowedPet1),abominationSwallowedPet2:new ue.MJ(z?.abominationSwallowedPet2),abominationSwallowedPet3:new ue.MJ(z?.abominationSwallowedPet3),abominationSwallowedPet1BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet1BelugaSwallowedPet??null),abominationSwallowedPet2BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet2BelugaSwallowedPet??null),abominationSwallowedPet3BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet3BelugaSwallowedPet??null),abominationSwallowedPet1SarcasticFringeheadSwallowedPet:new ue.MJ(z?.abominationSwallowedPet1SarcasticFringeheadSwallowedPet??null),abominationSwallowedPet2SarcasticFringeheadSwallowedPet:new ue.MJ(z?.abominationSwallowedPet2SarcasticFringeheadSwallowedPet??null),abominationSwallowedPet3SarcasticFringeheadSwallowedPet:new ue.MJ(z?.abominationSwallowedPet3SarcasticFringeheadSwallowedPet??null),abominationSwallowedPet1ParrotCopyPet:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPet??null),abominationSwallowedPet2ParrotCopyPet:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPet??null),abominationSwallowedPet3ParrotCopyPet:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPet??null),abominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet??null),abominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet??null),abominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level??1),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level??1),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level??1),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level??1),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level??1),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level??1),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level??1),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level??1),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level??1),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),abominationSwallowedPet1Level:new ue.MJ(z?.abominationSwallowedPet1Level??1),abominationSwallowedPet2Level:new ue.MJ(z?.abominationSwallowedPet2Level??1),abominationSwallowedPet3Level:new ue.MJ(z?.abominationSwallowedPet3Level??1),abominationSwallowedPet1TimesHurt:new ue.MJ(z?.abominationSwallowedPet1TimesHurt??0),abominationSwallowedPet2TimesHurt:new ue.MJ(z?.abominationSwallowedPet2TimesHurt??0),abominationSwallowedPet3TimesHurt:new ue.MJ(z?.abominationSwallowedPet3TimesHurt??0),friendsDiedBeforeBattle:new ue.MJ(z?.friendsDiedBeforeBattle??0),battlesFought:new ue.MJ(z?.battlesFought??0),timesHurt:new ue.MJ(z?.timesHurt??0)}),C=y.map(z=>P(h.getPet(z))),I=u.get("playerPets");I.clear();for(const z of C)I.push(z);const W=y.map(z=>P(l.getPet(z))),X=u.get("opponentPets");X.clear();for(const z of W)X.push(z)}const Ia=["Nessie","Bunyip","Mana Hound","Ammonite","Fossa","Hippocampus","Platybelodon","Barnacle","Olm"];var tm=i(74766),Xc=i.t(tm,2);const im={Pack1:"Turtle",Pack2:"Puppy",Pack3:"Star",Pack4:"Golden",Pack5:"Unicorn",Danger:"Danger",Custom:"Custom",MiniPack1:"Custom",MiniPack2:"Custom",MiniPack3:"Custom"};let Qd=null;function nm(u){return u}function ky(u,h){return h?.id??String(u)}function am(u,h){return h?.value??String(u)}function Oy(u){u.formGroup.get("playerPack").setValue(u.formGroup.get("playerPack").value,{emitEvent:!1}),u.formGroup.get("opponentPack").setValue(u.formGroup.get("opponentPack").value,{emitEvent:!1})}function tT(u){return u}function Dl(u,h){for(let l=0;l<5;l++){const y=u.petService.getRandomPet(h);y.equipment=xy(u,h),h.setPet(l,y,!0)}}function sm(u,h){const l=function By(u){const h=u.toyService.getToysByType(0),l=[];if(h.forEach(P=>{P.forEach(C=>{C&&l.push(C)})}),l.push(null),!l.length)return null;const y=Math.floor(Math.random()*l.length);return l[y]}(u),P=h===u.player?"playerToy":"opponentToy";if(!l)return u.formGroup.get(P).setValue(null),h.toy=null,h.originalToy=null,void za(u,h,null);u.formGroup.get(P).setValue(l),Jc(u,h,l)}function Ki(u,h,l,y=!0){h.pack=l;const P=u.formGroup.get("allPets").value;let C;switch(y&&!P&&Qc(u,h),l){case"Turtle":C=u.petService.turtlePackPets;break;case"Puppy":C=u.petService.puppyPackPets;break;case"Star":C=u.petService.starPackPets;break;case"Golden":C=u.petService.goldenPackPets;break;case"Unicorn":C=u.petService.unicornPackPets;break;case"Danger":C=u.petService.dangerPackPets;break;default:C=u.petService.playerCustomPackPets.get(l),C||(u.formGroup.get("allPets").setValue(!0,{emitEvent:!1}),C=u.petService.allPets)}h==u.player?u.gameService.setTierGroupPets(C,null):u.gameService.setTierGroupPets(null,C),u.formGroup.get("allPets")}function Jc(u,h,l){if(!l)return h.toy=null,h.originalToy=null,void za(u,h,null);let y;h==u.player&&(y="playerToyLevel"),h==u.opponent&&(y="opponentToyLevel");const P=Number(u.formGroup.get(y).value);h.toy=u.toyService.createToy(l,h,P),h.originalToy=h.toy,za(u,h,l)}function Qc(u,h){u.formGroup.get(h===u.player?"playerToy":"opponentToy").setValue(null),h.toy=null,h.originalToy=null,za(u,h,null)}function za(u,h,l){const y=u.toyService.getToyNameId(l),P=y?`${ug}${y}.png`:"";h==u.player?u.playerToyImageUrl=P:h==u.opponent&&(u.opponentToyImageUrl=P)}function rm(u,h,l){const y=u.toyService.getToyNameId(l),P=y?`${ug}${y}.png`:"";h==u.player?u.playerHardToyImageUrl=P:h==u.opponent&&(u.opponentHardToyImageUrl=P)}function Iy(u,h){let l=1;h>2&&(l=2),h>4&&(l=3),h>6&&(l=4),h>8&&(l=5),h>10&&(l=6),u.gameService.setPreviousShopTier(l),u.gameService.setTurnNumber(h)}function Ry(u,h,l){u.gameService.setGoldSpent(h,l)}function Ly(u,h,l){h.toy&&(h.toy.level=l)}function xy(u,h){const l=Array.from(u.equipmentService.getInstanceOfAllEquipment().values()).filter(z=>"Corncob"!==z?.name),y=u.formGroup?.get("allPets")?.value;let P=l;if(!y){const pe=function go(u){return u?(Qd||(Qd=function ho(){const u=new Map,h=tm??Xc??[];for(const l of h){const y=l?.Name;if(!y)continue;const P=new Set,C=l?.Packs??[];for(const W of C)W&&P.add(String(W).trim());if(!(P.has("Custom")||P.has("MiniPack1")||P.has("MiniPack2")||P.has("MiniPack3")))for(const W of l?.PacksRequired??[])W&&P.add(String(W).trim());for(const W of P){const X=im[W];X&&(u.has(X)||u.set(X,new Set),u.get(X)?.add(y))}}return u}()),Qd.get(u)??null):null}(h?.pack??u.player?.pack??null);pe&&pe.size>0&&(P=l.filter(Me=>pe.has(Me?.name)))}const I=u.formGroup?.get("ailmentEquipment")?.value?Array.from(u.equipmentService.getInstanceOfAllAilments().values()):[],W=P.concat(I);return 0===W.length?null:W[Math.floor(Math.random()*W.length)]}function Fy(u){return(0,Mt.bG)(u)??""}function om(u){return u.savedTeams.find(h=>h.id===u.selectedTeamId)}function sT(u){return u?{"background-image":`url(${(0,Mt.bG)(u)})`,"background-repeat":"no-repeat","background-size":"20px 20px","background-position":"left center","padding-left":"2rem"}:{}}var da="top",Ra="bottom",La="right",pa="left",qd="auto",Ml=[da,Ra,La,pa],mo="start",Cl="end",Ny="clippingParents",lm="viewport",kl="popper",Uy="reference",cm=Ml.reduce(function(u,h){return u.concat([h+"-"+mo,h+"-"+Cl])},[]),um=[].concat(Ml,[qd]).reduce(function(u,h){return u.concat([h,h+"-"+mo,h+"-"+Cl])},[]),Wy="beforeRead",Ky="read",$y="afterRead",Gy="beforeMain",dm="main",Zd="afterMain",Hy="beforeWrite",jy="write",Vy="afterWrite",zy=[Wy,Ky,$y,Gy,dm,Zd,Hy,jy,Vy];function Jn(u){return u?(u.nodeName||"").toLowerCase():null}function Qn(u){if(null==u)return window;if("[object Window]"!==u.toString()){var h=u.ownerDocument;return h&&h.defaultView||window}return u}function wl(u){return u instanceof Qn(u).Element||u instanceof Element}function us(u){return u instanceof Qn(u).HTMLElement||u instanceof HTMLElement}function pm(u){return!(typeof ShadowRoot>"u")&&(u instanceof Qn(u).ShadowRoot||u instanceof ShadowRoot)}const Tr={name:"applyStyles",enabled:!0,phase:"write",fn:function hm(u){var h=u.state;Object.keys(h.elements).forEach(function(l){var y=h.styles[l]||{},P=h.attributes[l]||{},C=h.elements[l];!us(C)||!Jn(C)||(Object.assign(C.style,y),Object.keys(P).forEach(function(I){var W=P[I];!1===W?C.removeAttribute(I):C.setAttribute(I,!0===W?"":W)}))})},effect:function rT(u){var h=u.state,l={popper:{position:h.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(h.elements.popper.style,l.popper),h.styles=l,h.elements.arrow&&Object.assign(h.elements.arrow.style,l.arrow),function(){Object.keys(h.elements).forEach(function(y){var P=h.elements[y],C=h.attributes[y]||{},W=Object.keys(h.styles.hasOwnProperty(y)?h.styles[y]:l[y]).reduce(function(X,z){return X[z]="",X},{});!us(P)||!Jn(P)||(Object.assign(P.style,W),Object.keys(C).forEach(function(X){P.removeAttribute(X)}))})}},requires:["computeStyles"]};function qn(u){return u.split("-")[0]}var Ya=Math.max,Ol=Math.min,tr=Math.round;function ep(){var u=navigator.userAgentData;return null!=u&&u.brands&&Array.isArray(u.brands)?u.brands.map(function(h){return h.brand+"/"+h.version}).join(" "):navigator.userAgent}function qc(){return!/^((?!chrome|android).)*safari/i.test(ep())}function Xa(u,h,l){void 0===h&&(h=!1),void 0===l&&(l=!1);var y=u.getBoundingClientRect(),P=1,C=1;h&&us(u)&&(P=u.offsetWidth>0&&tr(y.width)/u.offsetWidth||1,C=u.offsetHeight>0&&tr(y.height)/u.offsetHeight||1);var W=(wl(u)?Qn(u):window).visualViewport,X=!qc()&&l,z=(y.left+(X&&W?W.offsetLeft:0))/P,pe=(y.top+(X&&W?W.offsetTop:0))/C,Me=y.width/P,Re=y.height/C;return{width:Me,height:Re,top:pe,right:z+Me,bottom:pe+Re,left:z,x:z,y:pe}}function tp(u){var h=Xa(u),l=u.offsetWidth,y=u.offsetHeight;return Math.abs(h.width-l)<=1&&(l=h.width),Math.abs(h.height-y)<=1&&(y=h.height),{x:u.offsetLeft,y:u.offsetTop,width:l,height:y}}function Yy(u,h){var l=h.getRootNode&&h.getRootNode();if(u.contains(h))return!0;if(l&&pm(l)){var y=h;do{if(y&&u.isSameNode(y))return!0;y=y.parentNode||y.host}while(y)}return!1}function ir(u){return Qn(u).getComputedStyle(u)}function Xy(u){return["table","td","th"].indexOf(Jn(u))>=0}function ds(u){return((wl(u)?u.ownerDocument:u.document)||window.document).documentElement}function Il(u){return"html"===Jn(u)?u:u.assignedSlot||u.parentNode||(pm(u)?u.host:null)||ds(u)}function ip(u){return us(u)&&"fixed"!==ir(u).position?u.offsetParent:null}function Dr(u){for(var h=Qn(u),l=ip(u);l&&Xy(l)&&"static"===ir(l).position;)l=ip(l);return l&&("html"===Jn(l)||"body"===Jn(l)&&"static"===ir(l).position)?h:l||function np(u){var h=/firefox/i.test(ep());if(/Trident/i.test(ep())&&us(u)&&"fixed"===ir(u).position)return null;var P=Il(u);for(pm(P)&&(P=P.host);us(P)&&["html","body"].indexOf(Jn(P))<0;){var C=ir(P);if("none"!==C.transform||"none"!==C.perspective||"paint"===C.contain||-1!==["transform","perspective"].indexOf(C.willChange)||h&&"filter"===C.willChange||h&&C.filter&&"none"!==C.filter)return P;P=P.parentNode}return null}(u)||h}function gm(u){return["top","bottom"].indexOf(u)>=0?"x":"y"}function Zc(u,h,l){return Ya(u,Ol(h,l))}function eu(u){return Object.assign({},{top:0,right:0,bottom:0,left:0},u)}function Qy(u,h){return h.reduce(function(l,y){return l[y]=u,l},{})}const qy={name:"arrow",enabled:!0,phase:"main",fn:function mm(u){var h,l=u.state,y=u.name,P=u.options,C=l.elements.arrow,I=l.modifiersData.popperOffsets,W=qn(l.placement),X=gm(W),pe=[pa,La].indexOf(W)>=0?"height":"width";if(C&&I){var Me=function(h,l){return eu("number"!=typeof(h="function"==typeof h?h(Object.assign({},l.rects,{placement:l.placement})):h)?h:Qy(h,Ml))}(P.padding,l),Re=tp(C),$e="y"===X?da:pa,ft="y"===X?Ra:La,ht=l.rects.reference[pe]+l.rects.reference[X]-I[X]-l.rects.popper[pe],st=I[X]-l.rects.reference[X],Ct=Dr(C),dt=Ct?"y"===X?Ct.clientHeight||0:Ct.clientWidth||0:0,ai=dt/2-Re[pe]/2+(ht/2-st/2),di=Zc(Me[$e],ai,dt-Re[pe]-Me[ft]);l.modifiersData[y]=((h={})[X]=di,h.centerOffset=di-ai,h)}},effect:function lT(u){var h=u.state,y=u.options.element,P=void 0===y?"[data-popper-arrow]":y;null!=P&&("string"==typeof P&&!(P=h.elements.popper.querySelector(P))||Yy(h.elements.popper,P)&&(h.elements.arrow=P))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Rl(u){return u.split("-")[1]}var cT={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _m(u){var h,l=u.popper,y=u.popperRect,P=u.placement,C=u.variation,I=u.offsets,W=u.position,X=u.gpuAcceleration,z=u.adaptive,pe=u.roundOffsets,Me=u.isFixed,Re=I.x,$e=void 0===Re?0:Re,ft=I.y,ht=void 0===ft?0:ft,st="function"==typeof pe?pe({x:$e,y:ht}):{x:$e,y:ht};$e=st.x,ht=st.y;var Ct=I.hasOwnProperty("x"),dt=I.hasOwnProperty("y"),Pt=pa,vt=da,It=window;if(z){var ai=Dr(l),di="clientHeight",Ut="clientWidth";ai===Qn(l)&&"static"!==ir(ai=ds(l)).position&&"absolute"===W&&(di="scrollHeight",Ut="scrollWidth"),(P===da||(P===pa||P===La)&&C===Cl)&&(vt=Ra,ht-=(Me&&ai===It&&It.visualViewport?It.visualViewport.height:ai[di])-y.height,ht*=X?1:-1),P!==pa&&(P!==da&&P!==Ra||C!==Cl)||(Pt=La,$e-=(Me&&ai===It&&It.visualViewport?It.visualViewport.width:ai[Ut])-y.width,$e*=X?1:-1)}var Fn,En=Object.assign({position:W},z&&cT),Sa=!0===pe?function MM(u,h){var y=u.y,P=h.devicePixelRatio||1;return{x:tr(u.x*P)/P||0,y:tr(y*P)/P||0}}({x:$e,y:ht},Qn(l)):{x:$e,y:ht};return $e=Sa.x,ht=Sa.y,Object.assign({},En,X?((Fn={})[vt]=dt?"0":"",Fn[Pt]=Ct?"0":"",Fn.transform=(It.devicePixelRatio||1)<=1?"translate("+$e+"px, "+ht+"px)":"translate3d("+$e+"px, "+ht+"px, 0)",Fn):((h={})[vt]=dt?ht+"px":"",h[Pt]=Ct?$e+"px":"",h.transform="",h))}const Zy={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function uT(u){var h=u.state,l=u.options,y=l.gpuAcceleration,P=void 0===y||y,C=l.adaptive,I=void 0===C||C,W=l.roundOffsets,X=void 0===W||W,z={placement:qn(h.placement),variation:Rl(h.placement),popper:h.elements.popper,popperRect:h.rects.popper,gpuAcceleration:P,isFixed:"fixed"===h.options.strategy};null!=h.modifiersData.popperOffsets&&(h.styles.popper=Object.assign({},h.styles.popper,_m(Object.assign({},z,{offsets:h.modifiersData.popperOffsets,position:h.options.strategy,adaptive:I,roundOffsets:X})))),null!=h.modifiersData.arrow&&(h.styles.arrow=Object.assign({},h.styles.arrow,_m(Object.assign({},z,{offsets:h.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:X})))),h.attributes.popper=Object.assign({},h.attributes.popper,{"data-popper-placement":h.placement})},data:{}};var sp={passive:!0};const fm={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function dT(u){var h=u.state,l=u.instance,y=u.options,P=y.scroll,C=void 0===P||P,I=y.resize,W=void 0===I||I,X=Qn(h.elements.popper),z=[].concat(h.scrollParents.reference,h.scrollParents.popper);return C&&z.forEach(function(pe){pe.addEventListener("scroll",l.update,sp)}),W&&X.addEventListener("resize",l.update,sp),function(){C&&z.forEach(function(pe){pe.removeEventListener("scroll",l.update,sp)}),W&&X.removeEventListener("resize",l.update,sp)}},data:{}};var eb={left:"right",right:"left",bottom:"top",top:"bottom"};function rp(u){return u.replace(/left|right|bottom|top/g,function(h){return eb[h]})}var tb={start:"end",end:"start"};function ib(u){return u.replace(/start|end/g,function(h){return tb[h]})}function op(u){var h=Qn(u);return{scrollLeft:h.pageXOffset,scrollTop:h.pageYOffset}}function lp(u){return Xa(ds(u)).left+op(u).scrollLeft}function vm(u){var h=ir(u);return/auto|scroll|overlay|hidden/.test(h.overflow+h.overflowY+h.overflowX)}function nb(u){return["html","body","#document"].indexOf(Jn(u))>=0?u.ownerDocument.body:us(u)&&vm(u)?u:nb(Il(u))}function tu(u,h){var l;void 0===h&&(h=[]);var y=nb(u),P=y===(null==(l=u.ownerDocument)?void 0:l.body),C=Qn(y),I=P?[C].concat(C.visualViewport||[],vm(y)?y:[]):y,W=h.concat(I);return P?W:W.concat(tu(Il(I)))}function ym(u){return Object.assign({},u,{left:u.x,top:u.y,right:u.x+u.width,bottom:u.y+u.height})}function sb(u,h,l){return h===lm?ym(function pT(u,h){var l=Qn(u),y=ds(u),P=l.visualViewport,C=y.clientWidth,I=y.clientHeight,W=0,X=0;if(P){C=P.width,I=P.height;var z=qc();(z||!z&&"fixed"===h)&&(W=P.offsetLeft,X=P.offsetTop)}return{width:C,height:I,x:W+lp(u),y:X}}(u,l)):wl(h)?function ab(u,h){var l=Xa(u,!1,"fixed"===h);return l.top=l.top+u.clientTop,l.left=l.left+u.clientLeft,l.bottom=l.top+u.clientHeight,l.right=l.left+u.clientWidth,l.width=u.clientWidth,l.height=u.clientHeight,l.x=l.left,l.y=l.top,l}(h,l):ym(function hT(u){var h,l=ds(u),y=op(u),P=null==(h=u.ownerDocument)?void 0:h.body,C=Ya(l.scrollWidth,l.clientWidth,P?P.scrollWidth:0,P?P.clientWidth:0),I=Ya(l.scrollHeight,l.clientHeight,P?P.scrollHeight:0,P?P.clientHeight:0),W=-y.scrollLeft+lp(u),X=-y.scrollTop;return"rtl"===ir(P||l).direction&&(W+=Ya(l.clientWidth,P?P.clientWidth:0)-C),{width:C,height:I,x:W,y:X}}(ds(u)))}function cp(u){var X,h=u.reference,l=u.element,y=u.placement,P=y?qn(y):null,C=y?Rl(y):null,I=h.x+h.width/2-l.width/2,W=h.y+h.height/2-l.height/2;switch(P){case da:X={x:I,y:h.y-l.height};break;case Ra:X={x:I,y:h.y+h.height};break;case La:X={x:h.x+h.width,y:W};break;case pa:X={x:h.x-l.width,y:W};break;default:X={x:h.x,y:h.y}}var z=P?gm(P):null;if(null!=z){var pe="y"===z?"height":"width";switch(C){case mo:X[z]=X[z]-(h[pe]/2-l[pe]/2);break;case Cl:X[z]=X[z]+(h[pe]/2-l[pe]/2)}}return X}function _o(u,h){void 0===h&&(h={});var y=h.placement,P=void 0===y?u.placement:y,C=h.strategy,I=void 0===C?u.strategy:C,W=h.boundary,X=void 0===W?Ny:W,z=h.rootBoundary,pe=void 0===z?lm:z,Me=h.elementContext,Re=void 0===Me?kl:Me,$e=h.altBoundary,ft=void 0!==$e&&$e,ht=h.padding,st=void 0===ht?0:ht,Ct=eu("number"!=typeof st?st:Qy(st,Ml)),Pt=u.rects.popper,vt=u.elements[ft?Re===kl?Uy:kl:Re],It=function bm(u,h,l,y){var P="clippingParents"===h?function gT(u){var h=tu(Il(u)),y=["absolute","fixed"].indexOf(ir(u).position)>=0&&us(u)?Dr(u):u;return wl(y)?h.filter(function(P){return wl(P)&&Yy(P,y)&&"body"!==Jn(P)}):[]}(u):[].concat(h),C=[].concat(P,[l]),W=C.reduce(function(X,z){var pe=sb(u,z,y);return X.top=Ya(pe.top,X.top),X.right=Ol(pe.right,X.right),X.bottom=Ol(pe.bottom,X.bottom),X.left=Ya(pe.left,X.left),X},sb(u,C[0],y));return W.width=W.right-W.left,W.height=W.bottom-W.top,W.x=W.left,W.y=W.top,W}(wl(vt)?vt:vt.contextElement||ds(u.elements.popper),X,pe,I),ai=Xa(u.elements.reference),di=cp({reference:ai,element:Pt,strategy:"absolute",placement:P}),Ut=ym(Object.assign({},Pt,di)),Wt=Re===kl?Ut:ai,yi={top:It.top-Wt.top+Ct.top,bottom:Wt.bottom-It.bottom+Ct.bottom,left:It.left-Wt.left+Ct.left,right:Wt.right-It.right+Ct.right},En=u.modifiersData.offset;if(Re===kl&&En){var Sa=En[P];Object.keys(yi).forEach(function(Fn){var ii=[La,Ra].indexOf(Fn)>=0?1:-1,Qa=[da,Ra].indexOf(Fn)>=0?"y":"x";yi[Fn]+=Sa[Qa]*ii})}return yi}const rb={name:"flip",enabled:!0,phase:"main",fn:function fT(u){var h=u.state,l=u.options,y=u.name;if(!h.modifiersData[y]._skip){for(var P=l.mainAxis,C=void 0===P||P,I=l.altAxis,W=void 0===I||I,X=l.fallbackPlacements,z=l.padding,pe=l.boundary,Me=l.rootBoundary,Re=l.altBoundary,$e=l.flipVariations,ft=void 0===$e||$e,ht=l.allowedAutoPlacements,st=h.options.placement,Ct=qn(st),Pt=X||(Ct!==st&&ft?function _T(u){if(qn(u)===qd)return[];var h=rp(u);return[ib(u),h,ib(h)]}(st):[rp(st)]),vt=[st].concat(Pt).reduce(function(zp,Xl){return zp.concat(qn(Xl)===qd?function mT(u,h){void 0===h&&(h={});var P=h.boundary,C=h.rootBoundary,I=h.padding,W=h.flipVariations,X=h.allowedAutoPlacements,z=void 0===X?um:X,pe=Rl(h.placement),Me=pe?W?cm:cm.filter(function(ft){return Rl(ft)===pe}):Ml,Re=Me.filter(function(ft){return z.indexOf(ft)>=0});0===Re.length&&(Re=Me);var $e=Re.reduce(function(ft,ht){return ft[ht]=_o(u,{placement:ht,boundary:P,rootBoundary:C,padding:I})[qn(ht)],ft},{});return Object.keys($e).sort(function(ft,ht){return $e[ft]-$e[ht]})}(h,{placement:Xl,boundary:pe,rootBoundary:Me,padding:z,flipVariations:ft,allowedAutoPlacements:ht}):Xl)},[]),It=h.rects.reference,ai=h.rects.popper,di=new Map,Ut=!0,Wt=vt[0],yi=0;yi<vt.length;yi++){var En=vt[yi],Sa=qn(En),Fn=Rl(En)===mo,ii=[da,Ra].indexOf(Sa)>=0,Qa=ii?"width":"height",Fa=_o(h,{placement:En,boundary:pe,rootBoundary:Me,altBoundary:Re,padding:z}),ms=ii?Fn?La:pa:Fn?Ra:da;It[Qa]>ai[Qa]&&(ms=rp(ms));var Co=rp(ms),ko=[];if(C&&ko.push(Fa[Sa]<=0),W&&ko.push(Fa[ms]<=0,Fa[Co]<=0),ko.every(function(zp){return zp})){Wt=En,Ut=!1;break}di.set(En,ko)}if(Ut)for(var PD=function(Xl){var C_=vt.find(function(aA){var Su=di.get(aA);if(Su)return Su.slice(0,Xl).every(function(AD){return AD})});if(C_)return Wt=C_,"break"},M_=ft?3:1;M_>0&&"break"!==PD(M_);M_--);h.placement!==Wt&&(h.modifiersData[y]._skip=!0,h.placement=Wt,h.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Pm(u,h,l){return void 0===l&&(l={x:0,y:0}),{top:u.top-h.height-l.y,right:u.right-h.width+l.x,bottom:u.bottom-h.height+l.y,left:u.left-h.width-l.x}}function Am(u){return[da,La,Ra,pa].some(function(h){return u[h]>=0})}const ob={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function vT(u){var h=u.state,l=u.name,y=h.rects.reference,P=h.rects.popper,C=h.modifiersData.preventOverflow,I=_o(h,{elementContext:"reference"}),W=_o(h,{altBoundary:!0}),X=Pm(I,y),z=Pm(W,P,C),pe=Am(X),Me=Am(z);h.modifiersData[l]={referenceClippingOffsets:X,popperEscapeOffsets:z,isReferenceHidden:pe,hasPopperEscaped:Me},h.attributes.popper=Object.assign({},h.attributes.popper,{"data-popper-reference-hidden":pe,"data-popper-escaped":Me})}},lb={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function bT(u){var h=u.state,y=u.name,P=u.options.offset,C=void 0===P?[0,0]:P,I=um.reduce(function(pe,Me){return pe[Me]=function yT(u,h,l){var y=qn(u),P=[pa,da].indexOf(y)>=0?-1:1,C="function"==typeof l?l(Object.assign({},h,{placement:u})):l,I=C[0],W=C[1];return I=I||0,W=(W||0)*P,[pa,La].indexOf(y)>=0?{x:W,y:I}:{x:I,y:W}}(Me,h.rects,C),pe},{}),W=I[h.placement],z=W.y;null!=h.modifiersData.popperOffsets&&(h.modifiersData.popperOffsets.x+=W.x,h.modifiersData.popperOffsets.y+=z),h.modifiersData[y]=I}},Em={name:"popperOffsets",enabled:!0,phase:"read",fn:function PT(u){var h=u.state;h.modifiersData[u.name]=cp({reference:h.rects.reference,element:h.rects.popper,strategy:"absolute",placement:h.placement})},data:{}},dp={name:"preventOverflow",enabled:!0,phase:"main",fn:function up(u){var h=u.state,l=u.options,y=u.name,P=l.mainAxis,C=void 0===P||P,I=l.altAxis,W=void 0!==I&&I,Re=l.tether,$e=void 0===Re||Re,ft=l.tetherOffset,ht=void 0===ft?0:ft,st=_o(h,{boundary:l.boundary,rootBoundary:l.rootBoundary,padding:l.padding,altBoundary:l.altBoundary}),Ct=qn(h.placement),dt=Rl(h.placement),Pt=!dt,vt=gm(Ct),It=function Sm(u){return"x"===u?"y":"x"}(vt),ai=h.modifiersData.popperOffsets,di=h.rects.reference,Ut=h.rects.popper,Wt="function"==typeof ht?ht(Object.assign({},h.rects,{placement:h.placement})):ht,yi="number"==typeof Wt?{mainAxis:Wt,altAxis:Wt}:Object.assign({mainAxis:0,altAxis:0},Wt),En=h.modifiersData.offset?h.modifiersData.offset[h.placement]:null,Sa={x:0,y:0};if(ai){if(C){var Fn,ii="y"===vt?da:pa,Qa="y"===vt?Ra:La,Fa="y"===vt?"height":"width",ms=ai[vt],Co=ms+st[ii],ko=ms-st[Qa],iA=$e?-Ut[Fa]/2:0,PD=dt===mo?di[Fa]:Ut[Fa],M_=dt===mo?-Ut[Fa]:-di[Fa],nA=h.elements.arrow,zp=$e&&nA?tp(nA):{width:0,height:0},Xl=h.modifiersData["arrow#persistent"]?h.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},C_=Xl[ii],aA=Xl[Qa],Su=Zc(0,di[Fa],zp[Fa]),AD=Pt?di[Fa]/2-iA-Su-C_-yi.mainAxis:PD-Su-C_-yi.mainAxis,tk=Pt?-di[Fa]/2+iA+Su+aA+yi.mainAxis:M_+Su+aA+yi.mainAxis,ED=h.elements.arrow&&Dr(h.elements.arrow),ik=ED?"y"===vt?ED.clientTop||0:ED.clientLeft||0:0,oC=null!=(Fn=En?.[vt])?Fn:0,ak=ms+tk-oC,lC=Zc($e?Ol(Co,ms+AD-oC-ik):Co,ms,$e?Ya(ko,ak):ko);ai[vt]=lC,Sa[vt]=lC-ms}if(W){var cC,Tu=ai[It],sA="y"===It?"height":"width",uC=Tu+st["x"===vt?da:pa],dC=Tu-st["x"===vt?Ra:La],SD=-1!==[da,pa].indexOf(Ct),pC=null!=(cC=En?.[It])?cC:0,hC=SD?uC:Tu-di[sA]-Ut[sA]-pC+yi.altAxis,gC=SD?Tu+di[sA]+Ut[sA]-pC-yi.altAxis:dC,mC=$e&&SD?function ap(u,h,l){var y=Zc(u,h,l);return y>l?l:y}(hC,Tu,gC):Zc($e?hC:uC,Tu,$e?gC:dC);ai[It]=mC,Sa[It]=mC-Tu}h.modifiersData[y]=Sa}},requiresIfExists:["offset"]};function ET(u,h,l){void 0===l&&(l=!1);var y=us(h),P=us(h)&&function AT(u){var h=u.getBoundingClientRect(),l=tr(h.width)/u.offsetWidth||1,y=tr(h.height)/u.offsetHeight||1;return 1!==l||1!==y}(h),C=ds(h),I=Xa(u,P,l),W={scrollLeft:0,scrollTop:0},X={x:0,y:0};return(y||!y&&!l)&&(("body"!==Jn(h)||vm(C))&&(W=function Ll(u){return u!==Qn(u)&&us(u)?function pp(u){return{scrollLeft:u.scrollLeft,scrollTop:u.scrollTop}}(u):op(u)}(h)),us(h)?((X=Xa(h,!0)).x+=h.clientLeft,X.y+=h.clientTop):C&&(X.x=lp(C))),{x:I.left+W.scrollLeft-X.x,y:I.top+W.scrollTop-X.y,width:I.width,height:I.height}}function cb(u){var h=new Map,l=new Set,y=[];function P(C){l.add(C.name),[].concat(C.requires||[],C.requiresIfExists||[]).forEach(function(W){if(!l.has(W)){var X=h.get(W);X&&P(X)}}),y.push(C)}return u.forEach(function(C){h.set(C.name,C)}),u.forEach(function(C){l.has(C.name)||P(C)}),y}function Tm(u){var h;return function(){return h||(h=new Promise(function(l){Promise.resolve().then(function(){h=void 0,l(u())})})),h}}var ub={placement:"bottom",modifiers:[],strategy:"absolute"};function hp(){for(var u=arguments.length,h=new Array(u),l=0;l<u;l++)h[l]=arguments[l];return!h.some(function(y){return!(y&&"function"==typeof y.getBoundingClientRect)})}function iu(u){void 0===u&&(u={});var l=u.defaultModifiers,y=void 0===l?[]:l,P=u.defaultOptions,C=void 0===P?ub:P;return function(W,X,z){void 0===z&&(z=C);var pe={placement:"bottom",orderedModifiers:[],options:Object.assign({},ub,C),modifiersData:{},elements:{reference:W,popper:X},attributes:{},styles:{}},Me=[],Re=!1,$e={state:pe,setOptions:function(Ct){var dt="function"==typeof Ct?Ct(pe.options):Ct;ht(),pe.options=Object.assign({},C,pe.options,dt),pe.scrollParents={reference:wl(W)?tu(W):W.contextElement?tu(W.contextElement):[],popper:tu(X)};var Pt=function ST(u){var h=cb(u);return zy.reduce(function(l,y){return l.concat(h.filter(function(P){return P.phase===y}))},[])}(function CM(u){var h=u.reduce(function(l,y){var P=l[y.name];return l[y.name]=P?Object.assign({},P,y,{options:Object.assign({},P.options,y.options),data:Object.assign({},P.data,y.data)}):y,l},{});return Object.keys(h).map(function(l){return h[l]})}([].concat(y,pe.options.modifiers)));return pe.orderedModifiers=Pt.filter(function(vt){return vt.enabled}),function ft(){pe.orderedModifiers.forEach(function(st){var dt=st.options,vt=st.effect;if("function"==typeof vt){var It=vt({state:pe,name:st.name,instance:$e,options:void 0===dt?{}:dt});Me.push(It||function(){})}})}(),$e.update()},forceUpdate:function(){if(!Re){var Ct=pe.elements,dt=Ct.reference,Pt=Ct.popper;if(hp(dt,Pt)){pe.rects={reference:ET(dt,Dr(Pt),"fixed"===pe.options.strategy),popper:tp(Pt)},pe.reset=!1,pe.placement=pe.options.placement,pe.orderedModifiers.forEach(function(yi){return pe.modifiersData[yi.name]=Object.assign({},yi.data)});for(var vt=0;vt<pe.orderedModifiers.length;vt++)if(!0!==pe.reset){var It=pe.orderedModifiers[vt],ai=It.fn,di=It.options;"function"==typeof ai&&(pe=ai({state:pe,options:void 0===di?{}:di,name:It.name,instance:$e})||pe)}else pe.reset=!1,vt=-1}}},update:Tm(function(){return new Promise(function(st){$e.forceUpdate(),st(pe)})}),destroy:function(){ht(),Re=!0}};if(!hp(W,X))return $e;function ht(){Me.forEach(function(st){return st()}),Me=[]}return $e.setOptions(z).then(function(st){!Re&&z.onFirstUpdate&&z.onFirstUpdate(st)}),$e}}var db=iu(),Dm=iu({defaultModifiers:[fm,Em,Zy,Tr,lb,rb,dp,qy,ob]}),TT=iu({defaultModifiers:[fm,Em,Zy,Tr]});const Mr=new Map,Cm={set(u,h,l){Mr.has(u)||Mr.set(u,new Map);const y=Mr.get(u);y.has(h)||0===y.size?y.set(h,l):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(y.keys())[0]}.`)},get:(u,h)=>Mr.has(u)&&Mr.get(u).get(h)||null,remove(u,h){if(!Mr.has(u))return;const l=Mr.get(u);l.delete(h),0===l.size&&Mr.delete(u)}},km="transitionend",CT=u=>(u&&window.CSS&&window.CSS.escape&&(u=u.replace(/#([^\s"#']+)/g,(h,l)=>`#${CSS.escape(l)}`)),u),kM=u=>null==u?`${u}`:Object.prototype.toString.call(u).match(/\s([a-z]+)/i)[1].toLowerCase(),nu=u=>{u.dispatchEvent(new Event(km))},nr=u=>!(!u||"object"!=typeof u)&&(typeof u.jquery<"u"&&(u=u[0]),typeof u.nodeType<"u"),Cr=u=>nr(u)?u.jquery?u[0]:u:"string"==typeof u&&u.length>0?document.querySelector(CT(u)):null,xl=u=>{if(!nr(u)||0===u.getClientRects().length)return!1;const h="visible"===getComputedStyle(u).getPropertyValue("visibility"),l=u.closest("details:not([open])");if(!l)return h;if(l!==u){const y=u.closest("summary");if(y&&y.parentNode!==l||null===y)return!1}return h},kr=u=>!(u&&u.nodeType===Node.ELEMENT_NODE&&!u.classList.contains("disabled"))||(typeof u.disabled<"u"?u.disabled:u.hasAttribute("disabled")&&"false"!==u.getAttribute("disabled")),gp=u=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof u.getRootNode){const h=u.getRootNode();return h instanceof ShadowRoot?h:null}return u instanceof ShadowRoot?u:u.parentNode?gp(u.parentNode):null},Bl=()=>{},au=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Fl=[],ha=()=>"rtl"===document.documentElement.dir,ga=u=>{(u=>{"loading"===document.readyState?(Fl.length||document.addEventListener("DOMContentLoaded",()=>{for(const h of Fl)h()}),Fl.push(u)):u()})(()=>{const h=au();if(h){const l=u.NAME,y=h.fn[l];h.fn[l]=u.jQueryInterface,h.fn[l].Constructor=u,h.fn[l].noConflict=()=>(h.fn[l]=y,u.jQueryInterface)}})},Zn=(u,h=[],l=u)=>"function"==typeof u?u.call(...h):l,mp=(u,h,l=!0)=>{if(!l)return void Zn(u);const P=(u=>{if(!u)return 0;let{transitionDuration:h,transitionDelay:l}=window.getComputedStyle(u);const y=Number.parseFloat(h),P=Number.parseFloat(l);return y||P?(h=h.split(",")[0],l=l.split(",")[0],1e3*(Number.parseFloat(h)+Number.parseFloat(l))):0})(h)+5;let C=!1;const I=({target:W})=>{W===h&&(C=!0,h.removeEventListener(km,I),Zn(u))};h.addEventListener(km,I),setTimeout(()=>{C||nu(h)},P)},Om=(u,h,l,y)=>{const P=u.length;let C=u.indexOf(h);return-1===C?!l&&y?u[P-1]:u[0]:(C+=l?1:-1,y&&(C=(C+P)%P),u[Math.max(0,Math.min(C,P-1))])},wM=/[^.]*(?=\..*)\.|.*/,_p=/\..*/,su=/::\d+$/,ru={};let fp=1;const Im={mouseenter:"mouseover",mouseleave:"mouseout"},hb=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function vp(u,h){return h&&`${h}::${fp++}`||u.uidEvent||fp++}function gb(u){const h=vp(u);return u.uidEvent=h,ru[h]=ru[h]||{},ru[h]}function Rm(u,h,l=null){return Object.values(u).find(y=>y.callable===h&&y.delegationSelector===l)}function Lm(u,h,l){const y="string"==typeof h,P=y?l:h||l;let C=vo(u);return hb.has(C)||(C=u),[y,P,C]}function Nl(u,h,l,y,P){if("string"!=typeof h||!u)return;let[C,I,W]=Lm(h,l,y);var ft;h in Im&&(ft=I,I=function(ht){if(!ht.relatedTarget||ht.relatedTarget!==ht.delegateTarget&&!ht.delegateTarget.contains(ht.relatedTarget))return ft.call(this,ht)});const X=gb(u),z=X[W]||(X[W]={}),pe=Rm(z,I,C?l:null);if(pe)return void(pe.oneOff=pe.oneOff&&P);const Me=vp(I,h.replace(wM,"")),Re=C?function mb(u,h,l){return function y(P){const C=u.querySelectorAll(h);for(let{target:I}=P;I&&I!==this;I=I.parentNode)for(const W of C)if(W===I)return ou(P,{delegateTarget:I}),y.oneOff&&et.off(u,P.type,h,l),l.apply(I,[P])}}(u,l,I):function OM(u,h){return function l(y){return ou(y,{delegateTarget:u}),l.oneOff&&et.off(u,y.type,h),h.apply(u,[y])}}(u,I);Re.delegationSelector=C?l:null,Re.callable=I,Re.oneOff=P,Re.uidEvent=Me,z[Me]=Re,u.addEventListener(W,Re,C)}function xm(u,h,l,y,P){const C=Rm(h[l],y,P);C&&(u.removeEventListener(l,C,!!P),delete h[l][C.uidEvent])}function OT(u,h,l,y){const P=h[l]||{};for(const[C,I]of Object.entries(P))C.includes(y)&&xm(u,h,l,I.callable,I.delegationSelector)}function vo(u){return u=u.replace(_p,""),Im[u]||u}const et={on(u,h,l,y){Nl(u,h,l,y,!1)},one(u,h,l,y){Nl(u,h,l,y,!0)},off(u,h,l,y){if("string"!=typeof h||!u)return;const[P,C,I]=Lm(h,l,y),W=I!==h,X=gb(u),z=X[I]||{},pe=h.startsWith(".");if(typeof C<"u"){if(!Object.keys(z).length)return;xm(u,X,I,C,P?l:null)}else{if(pe)for(const Me of Object.keys(X))OT(u,X,Me,h.slice(1));for(const[Me,Re]of Object.entries(z)){const $e=Me.replace(su,"");(!W||h.includes($e))&&xm(u,X,I,Re.callable,Re.delegationSelector)}}},trigger(u,h,l){if("string"!=typeof h||!u)return null;const y=au();let I=null,W=!0,X=!0,z=!1;h!==vo(h)&&y&&(I=y.Event(h,l),y(u).trigger(I),W=!I.isPropagationStopped(),X=!I.isImmediatePropagationStopped(),z=I.isDefaultPrevented());const pe=ou(new Event(h,{bubbles:W,cancelable:!0}),l);return z&&pe.preventDefault(),X&&u.dispatchEvent(pe),pe.defaultPrevented&&I&&I.preventDefault(),pe}};function ou(u,h={}){for(const[l,y]of Object.entries(h))try{u[l]=y}catch{Object.defineProperty(u,l,{configurable:!0,get:()=>y})}return u}function IT(u){if("true"===u)return!0;if("false"===u)return!1;if(u===Number(u).toString())return Number(u);if(""===u||"null"===u)return null;if("string"!=typeof u)return u;try{return JSON.parse(decodeURIComponent(u))}catch{return u}}function yp(u){return u.replace(/[A-Z]/g,h=>`-${h.toLowerCase()}`)}const Fs={setDataAttribute(u,h,l){u.setAttribute(`data-bs-${yp(h)}`,l)},removeDataAttribute(u,h){u.removeAttribute(`data-bs-${yp(h)}`)},getDataAttributes(u){if(!u)return{};const h={},l=Object.keys(u.dataset).filter(y=>y.startsWith("bs")&&!y.startsWith("bsConfig"));for(const y of l){let P=y.replace(/^bs/,"");P=P.charAt(0).toLowerCase()+P.slice(1),h[P]=IT(u.dataset[y])}return h},getDataAttribute:(u,h)=>IT(u.getAttribute(`data-bs-${yp(h)}`))};class bp{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(h){return h=this._mergeConfigObj(h),h=this._configAfterMerge(h),this._typeCheckConfig(h),h}_configAfterMerge(h){return h}_mergeConfigObj(h,l){const y=nr(l)?Fs.getDataAttribute(l,"config"):{};return{...this.constructor.Default,..."object"==typeof y?y:{},...nr(l)?Fs.getDataAttributes(l):{},..."object"==typeof h?h:{}}}_typeCheckConfig(h,l=this.constructor.DefaultType){for(const[y,P]of Object.entries(l)){const C=h[y],I=nr(C)?"element":kM(C);if(!new RegExp(P).test(I))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${y}" provided type "${I}" but expected type "${P}".`)}}}class ps extends bp{constructor(h,l){super(),(h=Cr(h))&&(this._element=h,this._config=this._getConfig(l),Cm.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Cm.remove(this._element,this.constructor.DATA_KEY),et.off(this._element,this.constructor.EVENT_KEY);for(const h of Object.getOwnPropertyNames(this))this[h]=null}_queueCallback(h,l,y=!0){mp(h,l,y)}_getConfig(h){return h=this._mergeConfigObj(h,this._element),h=this._configAfterMerge(h),this._typeCheckConfig(h),h}static getInstance(h){return Cm.get(Cr(h),this.DATA_KEY)}static getOrCreateInstance(h,l={}){return this.getInstance(h)||new this(h,"object"==typeof l?l:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(h){return`${h}${this.EVENT_KEY}`}}const Bm=u=>{let h=u.getAttribute("data-bs-target");if(!h||"#"===h){let l=u.getAttribute("href");if(!l||!l.includes("#")&&!l.startsWith("."))return null;l.includes("#")&&!l.startsWith("#")&&(l=`#${l.split("#")[1]}`),h=l&&"#"!==l?l.trim():null}return h?h.split(",").map(l=>CT(l)).join(","):null},Nt={find:(u,h=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(h,u)),findOne:(u,h=document.documentElement)=>Element.prototype.querySelector.call(h,u),children:(u,h)=>[].concat(...u.children).filter(l=>l.matches(h)),parents(u,h){const l=[];let y=u.parentNode.closest(h);for(;y;)l.push(y),y=y.parentNode.closest(h);return l},prev(u,h){let l=u.previousElementSibling;for(;l;){if(l.matches(h))return[l];l=l.previousElementSibling}return[]},next(u,h){let l=u.nextElementSibling;for(;l;){if(l.matches(h))return[l];l=l.nextElementSibling}return[]},focusableChildren(u){const h=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(l=>`${l}:not([tabindex^="-"])`).join(",");return this.find(h,u).filter(l=>!kr(l)&&xl(l))},getSelectorFromElement(u){const h=Bm(u);return h&&Nt.findOne(h)?h:null},getElementFromSelector(u){const h=Bm(u);return h?Nt.findOne(h):null},getMultipleElementsFromSelector(u){const h=Bm(u);return h?Nt.find(h):[]}},Wl=(u,h="hide")=>{const y=u.NAME;et.on(document,`click.dismiss${u.EVENT_KEY}`,`[data-bs-dismiss="${y}"]`,function(P){if(["A","AREA"].includes(this.tagName)&&P.preventDefault(),kr(this))return;const C=Nt.getElementFromSelector(this)||this.closest(`.${y}`);u.getOrCreateInstance(C)[h]()})},lu=".bs.alert",Ea=`close${lu}`,_b=`closed${lu}`;class wr extends ps{static get NAME(){return"alert"}close(){if(et.trigger(this._element,Ea).defaultPrevented)return;this._element.classList.remove("show");const l=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,l)}_destroyElement(){this._element.remove(),et.trigger(this._element,_b),this.dispose()}static jQueryInterface(h){return this.each(function(){const l=wr.getOrCreateInstance(this);if("string"==typeof h){if(void 0===l[h]||h.startsWith("_")||"constructor"===h)throw new TypeError(`No method named "${h}"`);l[h](this)}})}}Wl(wr,"close"),ga(wr);const vb='[data-bs-toggle="button"]';class Pp extends ps{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(h){return this.each(function(){const l=Pp.getOrCreateInstance(this);"toggle"===h&&l[h]()})}}et.on(document,"click.bs.button.data-api",vb,u=>{u.preventDefault();const h=u.target.closest(vb);Pp.getOrCreateInstance(h).toggle()}),ga(Pp);const yo=".bs.swipe",bb=`touchstart${yo}`,FT=`touchmove${yo}`,Pb=`touchend${yo}`,NT=`pointerdown${yo}`,LM=`pointerup${yo}`,Ap={endCallback:null,leftCallback:null,rightCallback:null},UT={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ep extends bp{constructor(h,l){super(),this._element=h,h&&Ep.isSupported()&&(this._config=this._getConfig(l),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Ap}static get DefaultType(){return UT}static get NAME(){return"swipe"}dispose(){et.off(this._element,yo)}_start(h){this._supportPointerEvents?this._eventIsPointerPenTouch(h)&&(this._deltaX=h.clientX):this._deltaX=h.touches[0].clientX}_end(h){this._eventIsPointerPenTouch(h)&&(this._deltaX=h.clientX-this._deltaX),this._handleSwipe(),Zn(this._config.endCallback)}_move(h){this._deltaX=h.touches&&h.touches.length>1?0:h.touches[0].clientX-this._deltaX}_handleSwipe(){const h=Math.abs(this._deltaX);if(h<=40)return;const l=h/this._deltaX;this._deltaX=0,l&&Zn(l>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(et.on(this._element,NT,h=>this._start(h)),et.on(this._element,LM,h=>this._end(h)),this._element.classList.add("pointer-event")):(et.on(this._element,bb,h=>this._start(h)),et.on(this._element,FT,h=>this._move(h)),et.on(this._element,Pb,h=>this._end(h)))}_eventIsPointerPenTouch(h){return this._supportPointerEvents&&("pen"===h.pointerType||"touch"===h.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Or=".bs.carousel",Sb=".data-api",WT="ArrowLeft",KT="ArrowRight",du="next",bo="prev",Kl="left",Tp="right",pu=`slide${Or}`,Nm=`slid${Or}`,Tb=`keydown${Or}`,Db=`mouseenter${Or}`,$T=`mouseleave${Or}`,Mb=`dragstart${Or}`,GT=`load${Or}${Sb}`,Um=`click${Or}${Sb}`,Cb="carousel",hu="active",wb=".active",Km=".carousel-item",zT=wb+Km,qT={[WT]:Tp,[KT]:Kl},ZT={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},e0={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class $l extends ps{constructor(h,l){super(h,l),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Nt.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Cb&&this.cycle()}static get Default(){return ZT}static get DefaultType(){return e0}static get NAME(){return"carousel"}next(){this._slide(du)}nextWhenVisible(){!document.hidden&&xl(this._element)&&this.next()}prev(){this._slide(bo)}pause(){this._isSliding&&nu(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void et.one(this._element,Nm,()=>this.cycle());this.cycle()}}to(h){const l=this._getItems();if(h>l.length-1||h<0)return;if(this._isSliding)return void et.one(this._element,Nm,()=>this.to(h));const y=this._getItemIndex(this._getActive());y!==h&&this._slide(h>y?du:bo,l[h])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(h){return h.defaultInterval=h.interval,h}_addEventListeners(){this._config.keyboard&&et.on(this._element,Tb,h=>this._keydown(h)),"hover"===this._config.pause&&(et.on(this._element,Db,()=>this.pause()),et.on(this._element,$T,()=>this._maybeEnableCycle())),this._config.touch&&Ep.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const y of Nt.find(".carousel-item img",this._element))et.on(y,Mb,P=>P.preventDefault());this._swipeHelper=new Ep(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Kl)),rightCallback:()=>this._slide(this._directionToOrder(Tp)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(h){if(/input|textarea/i.test(h.target.tagName))return;const l=qT[h.key];l&&(h.preventDefault(),this._slide(this._directionToOrder(l)))}_getItemIndex(h){return this._getItems().indexOf(h)}_setActiveIndicatorElement(h){if(!this._indicatorsElement)return;const l=Nt.findOne(wb,this._indicatorsElement);l.classList.remove(hu),l.removeAttribute("aria-current");const y=Nt.findOne(`[data-bs-slide-to="${h}"]`,this._indicatorsElement);y&&(y.classList.add(hu),y.setAttribute("aria-current","true"))}_updateInterval(){const h=this._activeElement||this._getActive();if(!h)return;const l=Number.parseInt(h.getAttribute("data-bs-interval"),10);this._config.interval=l||this._config.defaultInterval}_slide(h,l=null){if(this._isSliding)return;const y=this._getActive(),P=h===du,C=l||Om(this._getItems(),y,P,this._config.wrap);if(C===y)return;const I=this._getItemIndex(C),W=$e=>et.trigger(this._element,$e,{relatedTarget:C,direction:this._orderToDirection(h),from:this._getItemIndex(y),to:I});if(W(pu).defaultPrevented||!y||!C)return;const z=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(I),this._activeElement=C;const pe=P?"carousel-item-start":"carousel-item-end",Me=P?"carousel-item-next":"carousel-item-prev";C.classList.add(Me),y.classList.add(pe),C.classList.add(pe),this._queueCallback(()=>{C.classList.remove(pe,Me),C.classList.add(hu),y.classList.remove(hu,Me,pe),this._isSliding=!1,W(Nm)},y,this._isAnimated()),z&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Nt.findOne(zT,this._element)}_getItems(){return Nt.find(Km,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(h){return ha()?h===Kl?bo:du:h===Kl?du:bo}_orderToDirection(h){return ha()?h===bo?Kl:Tp:h===bo?Tp:Kl}static jQueryInterface(h){return this.each(function(){const l=$l.getOrCreateInstance(this,h);if("number"!=typeof h){if("string"==typeof h){if(void 0===l[h]||h.startsWith("_")||"constructor"===h)throw new TypeError(`No method named "${h}"`);l[h]()}}else l.to(h)})}}et.on(document,Um,"[data-bs-slide], [data-bs-slide-to]",function(u){const h=Nt.getElementFromSelector(this);if(!h||!h.classList.contains(Cb))return;u.preventDefault();const l=$l.getOrCreateInstance(h),y=this.getAttribute("data-bs-slide-to");return y?(l.to(y),void l._maybeEnableCycle()):"next"===Fs.getDataAttribute(this,"slide")?(l.next(),void l._maybeEnableCycle()):(l.prev(),void l._maybeEnableCycle())}),et.on(window,GT,()=>{const u=Nt.find('[data-bs-ride="carousel"]');for(const h of u)$l.getOrCreateInstance(h)}),ga($l);const gu=".bs.collapse",t0=`show${gu}`,n0=`shown${gu}`,$m=`hide${gu}`,Rb=`hidden${gu}`,Lb=`click${gu}.data-api`,mu="show",Po="collapse",Dp="collapsing",s0=`:scope .${Po} .${Po}`,Mp='[data-bs-toggle="collapse"]',Fb={parent:null,toggle:!0},Nb={parent:"(null|element)",toggle:"boolean"};class _u extends ps{constructor(h,l){super(h,l),this._isTransitioning=!1,this._triggerArray=[];const y=Nt.find(Mp);for(const P of y){const C=Nt.getSelectorFromElement(P),I=Nt.find(C).filter(W=>W===this._element);null!==C&&I.length&&this._triggerArray.push(P)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Fb}static get DefaultType(){return Nb}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let h=[];if(this._config.parent&&(h=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(W=>W!==this._element).map(W=>_u.getOrCreateInstance(W,{toggle:!1}))),h.length&&h[0]._isTransitioning||et.trigger(this._element,t0).defaultPrevented)return;for(const W of h)W.hide();const y=this._getDimension();this._element.classList.remove(Po),this._element.classList.add(Dp),this._element.style[y]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const I=`scroll${y[0].toUpperCase()+y.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Dp),this._element.classList.add(Po,mu),this._element.style[y]="",et.trigger(this._element,n0)},this._element,!0),this._element.style[y]=`${this._element[I]}px`}hide(){if(this._isTransitioning||!this._isShown()||et.trigger(this._element,$m).defaultPrevented)return;const l=this._getDimension();this._element.style[l]=`${this._element.getBoundingClientRect()[l]}px`,this._element.classList.add(Dp),this._element.classList.remove(Po,mu);for(const P of this._triggerArray){const C=Nt.getElementFromSelector(P);C&&!this._isShown(C)&&this._addAriaAndCollapsedClass([P],!1)}this._isTransitioning=!0,this._element.style[l]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Dp),this._element.classList.add(Po),et.trigger(this._element,Rb)},this._element,!0)}_isShown(h=this._element){return h.classList.contains(mu)}_configAfterMerge(h){return h.toggle=!!h.toggle,h.parent=Cr(h.parent),h}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const h=this._getFirstLevelChildren(Mp);for(const l of h){const y=Nt.getElementFromSelector(l);y&&this._addAriaAndCollapsedClass([l],this._isShown(y))}}_getFirstLevelChildren(h){const l=Nt.find(s0,this._config.parent);return Nt.find(h,this._config.parent).filter(y=>!l.includes(y))}_addAriaAndCollapsedClass(h,l){if(h.length)for(const y of h)y.classList.toggle("collapsed",!l),y.setAttribute("aria-expanded",l)}static jQueryInterface(h){const l={};return"string"==typeof h&&/show|hide/.test(h)&&(l.toggle=!1),this.each(function(){const y=_u.getOrCreateInstance(this,l);if("string"==typeof h){if(typeof y[h]>"u")throw new TypeError(`No method named "${h}"`);y[h]()}})}}et.on(document,Lb,Mp,function(u){("A"===u.target.tagName||u.delegateTarget&&"A"===u.delegateTarget.tagName)&&u.preventDefault();for(const h of Nt.getMultipleElementsFromSelector(this))_u.getOrCreateInstance(h,{toggle:!1}).toggle()}),ga(_u);const Hm="dropdown",xa=".bs.dropdown",Vm=".data-api",Gl="ArrowUp",kp="ArrowDown",zm=`hide${xa}`,c0=`hidden${xa}`,u0=`show${xa}`,Ub=`shown${xa}`,Wb=`click${xa}${Vm}`,An=`keydown${xa}${Vm}`,Kb=`keyup${xa}${Vm}`,Hl="show",Ja='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',h0=`${Ja}.${Hl}`,wp=".dropdown-menu",WM=ha()?"top-end":"top-start",Ym=ha()?"top-start":"top-end",Xm=ha()?"bottom-end":"bottom-start",m0=ha()?"bottom-start":"bottom-end",_0=ha()?"left-start":"right-start",zb=ha()?"right-start":"left-start",Xb={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Jb={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class hs extends ps{constructor(h,l){super(h,l),this._popper=null,this._parent=this._element.parentNode,this._menu=Nt.next(this._element,wp)[0]||Nt.prev(this._element,wp)[0]||Nt.findOne(wp,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Xb}static get DefaultType(){return Jb}static get NAME(){return Hm}toggle(){return this._isShown()?this.hide():this.show()}show(){if(kr(this._element)||this._isShown())return;const h={relatedTarget:this._element};if(!et.trigger(this._element,u0,h).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const y of[].concat(...document.body.children))et.on(y,"mouseover",Bl);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Hl),this._element.classList.add(Hl),et.trigger(this._element,Ub,h)}}hide(){!kr(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(h){if(!et.trigger(this._element,zm,h).defaultPrevented){if("ontouchstart"in document.documentElement)for(const y of[].concat(...document.body.children))et.off(y,"mouseover",Bl);this._popper&&this._popper.destroy(),this._menu.classList.remove(Hl),this._element.classList.remove(Hl),this._element.setAttribute("aria-expanded","false"),Fs.removeDataAttribute(this._menu,"popper"),et.trigger(this._element,c0,h)}}_getConfig(h){if("object"==typeof(h=super._getConfig(h)).reference&&!nr(h.reference)&&"function"!=typeof h.reference.getBoundingClientRect)throw new TypeError(`${Hm.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return h}_createPopper(){let h=this._element;"parent"===this._config.reference?h=this._parent:nr(this._config.reference)?h=Cr(this._config.reference):"object"==typeof this._config.reference&&(h=this._config.reference);const l=this._getPopperConfig();this._popper=Dm(h,this._menu,l)}_isShown(){return this._menu.classList.contains(Hl)}_getPlacement(){const h=this._parent;if(h.classList.contains("dropend"))return _0;if(h.classList.contains("dropstart"))return zb;if(h.classList.contains("dropup-center"))return"top";if(h.classList.contains("dropdown-center"))return"bottom";const l="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return h.classList.contains("dropup")?l?Ym:WM:l?m0:Xm}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:h}=this._config;return"string"==typeof h?h.split(",").map(l=>Number.parseInt(l,10)):"function"==typeof h?l=>h(l,this._element):h}_getPopperConfig(){const h={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Fs.setDataAttribute(this._menu,"popper","static"),h.modifiers=[{name:"applyStyles",enabled:!1}]),{...h,...Zn(this._config.popperConfig,[void 0,h])}}_selectMenuItem({key:h,target:l}){const y=Nt.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(P=>xl(P));y.length&&Om(y,l,h===kp,!y.includes(l)).focus()}static jQueryInterface(h){return this.each(function(){const l=hs.getOrCreateInstance(this,h);if("string"==typeof h){if(typeof l[h]>"u")throw new TypeError(`No method named "${h}"`);l[h]()}})}static clearMenus(h){if(2===h.button||"keyup"===h.type&&"Tab"!==h.key)return;const l=Nt.find(h0);for(const y of l){const P=hs.getInstance(y);if(!P||!1===P._config.autoClose)continue;const C=h.composedPath(),I=C.includes(P._menu);if(C.includes(P._element)||"inside"===P._config.autoClose&&!I||"outside"===P._config.autoClose&&I||P._menu.contains(h.target)&&("keyup"===h.type&&"Tab"===h.key||/input|select|option|textarea|form/i.test(h.target.tagName)))continue;const W={relatedTarget:P._element};"click"===h.type&&(W.clickEvent=h),P._completeHide(W)}}static dataApiKeydownHandler(h){const l=/input|textarea/i.test(h.target.tagName),y="Escape"===h.key,P=[Gl,kp].includes(h.key);if(!P&&!y||l&&!y)return;h.preventDefault();const C=this.matches(Ja)?this:Nt.prev(this,Ja)[0]||Nt.next(this,Ja)[0]||Nt.findOne(Ja,h.delegateTarget.parentNode),I=hs.getOrCreateInstance(C);if(P)return h.stopPropagation(),I.show(),void I._selectMenuItem(h);I._isShown()&&(h.stopPropagation(),I.hide(),C.focus())}}et.on(document,An,Ja,hs.dataApiKeydownHandler),et.on(document,An,wp,hs.dataApiKeydownHandler),et.on(document,Wb,hs.clearMenus),et.on(document,Kb,hs.clearMenus),et.on(document,Wb,Ja,function(u){u.preventDefault(),hs.getOrCreateInstance(this).toggle()}),ga(hs);const Qb="backdrop",Zb=`mousedown.bs.${Qb}`,Jm={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},fu={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class eP extends bp{constructor(h){super(),this._config=this._getConfig(h),this._isAppended=!1,this._element=null}static get Default(){return Jm}static get DefaultType(){return fu}static get NAME(){return Qb}show(h){if(!this._config.isVisible)return void Zn(h);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{Zn(h)})}hide(h){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),Zn(h)})):Zn(h)}dispose(){this._isAppended&&(et.off(this._element,Zb),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const h=document.createElement("div");h.className=this._config.className,this._config.isAnimated&&h.classList.add("fade"),this._element=h}return this._element}_configAfterMerge(h){return h.rootElement=Cr(h.rootElement),h}_append(){if(this._isAppended)return;const h=this._getElement();this._config.rootElement.append(h),et.on(h,Zb,()=>{Zn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(h){mp(h,this._getElement(),this._config.isAnimated)}}const Op=".bs.focustrap",iP=`focusin${Op}`,nP=`keydown.tab${Op}`,Qm="backward",aP={autofocus:!0,trapElement:null},sP={autofocus:"boolean",trapElement:"element"};class rP extends bp{constructor(h){super(),this._config=this._getConfig(h),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return aP}static get DefaultType(){return sP}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),et.off(document,Op),et.on(document,iP,h=>this._handleFocusin(h)),et.on(document,nP,h=>this._handleKeydown(h)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,et.off(document,Op))}_handleFocusin(h){const{trapElement:l}=this._config;if(h.target===document||h.target===l||l.contains(h.target))return;const y=Nt.focusableChildren(l);0===y.length?l.focus():this._lastTabNavDirection===Qm?y[y.length-1].focus():y[0].focus()}_handleKeydown(h){"Tab"===h.key&&(this._lastTabNavDirection=h.shiftKey?Qm:"forward")}}const b0=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",qm=".sticky-top",vu="padding-right",Zm="margin-right";class Rp{constructor(){this._element=document.body}getWidth(){const h=document.documentElement.clientWidth;return Math.abs(window.innerWidth-h)}hide(){const h=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,vu,l=>l+h),this._setElementAttributes(b0,vu,l=>l+h),this._setElementAttributes(qm,Zm,l=>l-h)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,vu),this._resetElementAttributes(b0,vu),this._resetElementAttributes(qm,Zm)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(h,l,y){const P=this.getWidth();this._applyManipulationCallback(h,I=>{if(I!==this._element&&window.innerWidth>I.clientWidth+P)return;this._saveInitialAttribute(I,l);const W=window.getComputedStyle(I).getPropertyValue(l);I.style.setProperty(l,`${y(Number.parseFloat(W))}px`)})}_saveInitialAttribute(h,l){const y=h.style.getPropertyValue(l);y&&Fs.setDataAttribute(h,l,y)}_resetElementAttributes(h,l){this._applyManipulationCallback(h,P=>{const C=Fs.getDataAttribute(P,l);null!==C?(Fs.removeDataAttribute(P,l),P.style.setProperty(l,C)):P.style.removeProperty(l)})}_applyManipulationCallback(h,l){if(nr(h))l(h);else for(const y of Nt.find(h,this._element))l(y)}}const Ba=".bs.modal",e_=`hide${Ba}`,Lp=`hidePrevented${Ba}`,xp=`hidden${Ba}`,t_=`show${Ba}`,i_=`shown${Ba}`,uP=`resize${Ba}`,dP=`click.dismiss${Ba}`,pP=`mousedown.dismiss${Ba}`,hP=`keydown.dismiss${Ba}`,gP=`click${Ba}.data-api`,Ns="modal-open",yu="modal-static",S0={backdrop:!0,focus:!0,keyboard:!0},T0={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ao extends ps{constructor(h,l){super(h,l),this._dialog=Nt.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Rp,this._addEventListeners()}static get Default(){return S0}static get DefaultType(){return T0}static get NAME(){return"modal"}toggle(h){return this._isShown?this.hide():this.show(h)}show(h){this._isShown||this._isTransitioning||et.trigger(this._element,t_,{relatedTarget:h}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Ns),this._adjustDialog(),this._backdrop.show(()=>this._showElement(h)))}hide(){!this._isShown||this._isTransitioning||et.trigger(this._element,e_).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){et.off(window,Ba),et.off(this._dialog,Ba),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new eP({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new rP({trapElement:this._element})}_showElement(h){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const l=Nt.findOne(".modal-body",this._dialog);l&&(l.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,et.trigger(this._element,i_,{relatedTarget:h})},this._dialog,this._isAnimated())}_addEventListeners(){et.on(this._element,hP,h=>{if("Escape"===h.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),et.on(window,uP,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),et.on(this._element,pP,h=>{et.one(this._element,dP,l=>{if(this._element===h.target&&this._element===l.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Ns),this._resetAdjustments(),this._scrollBar.reset(),et.trigger(this._element,xp)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(et.trigger(this._element,Lp).defaultPrevented)return;const l=this._element.scrollHeight>document.documentElement.clientHeight,y=this._element.style.overflowY;"hidden"===y||this._element.classList.contains(yu)||(l||(this._element.style.overflowY="hidden"),this._element.classList.add(yu),this._queueCallback(()=>{this._element.classList.remove(yu),this._queueCallback(()=>{this._element.style.overflowY=y},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const h=this._element.scrollHeight>document.documentElement.clientHeight,l=this._scrollBar.getWidth(),y=l>0;if(y&&!h){const P=ha()?"paddingLeft":"paddingRight";this._element.style[P]=`${l}px`}if(!y&&h){const P=ha()?"paddingRight":"paddingLeft";this._element.style[P]=`${l}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(h,l){return this.each(function(){const y=Ao.getOrCreateInstance(this,h);if("string"==typeof h){if(typeof y[h]>"u")throw new TypeError(`No method named "${h}"`);y[h](l)}})}}et.on(document,gP,'[data-bs-toggle="modal"]',function(u){const h=Nt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&u.preventDefault(),et.one(h,t_,P=>{P.defaultPrevented||et.one(h,xp,()=>{xl(this)&&this.focus()})});const l=Nt.findOne(".modal.show");l&&Ao.getInstance(l).hide(),Ao.getOrCreateInstance(h).toggle(this)}),Wl(Ao),ga(Ao);const ar=".bs.offcanvas",fP=".data-api",M0=`load${ar}${fP}`,yP="showing",Bp=".offcanvas.show",PP=`show${ar}`,r_=`shown${ar}`,k0=`hide${ar}`,AP=`hidePrevented${ar}`,Fp=`hidden${ar}`,w0=`resize${ar}`,GM=`click${ar}${fP}`,EP=`keydown.dismiss${ar}`,I0={backdrop:!0,keyboard:!0,scroll:!1},R0={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class gs extends ps{constructor(h,l){super(h,l),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return I0}static get DefaultType(){return R0}static get NAME(){return"offcanvas"}toggle(h){return this._isShown?this.hide():this.show(h)}show(h){this._isShown||et.trigger(this._element,PP,{relatedTarget:h}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Rp).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(yP),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(yP),et.trigger(this._element,r_,{relatedTarget:h})},this._element,!0))}hide(){this._isShown&&!et.trigger(this._element,k0).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Rp).reset(),et.trigger(this._element,Fp)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const l=!!this._config.backdrop;return new eP({className:"offcanvas-backdrop",isVisible:l,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:l?()=>{"static"!==this._config.backdrop?this.hide():et.trigger(this._element,AP)}:null})}_initializeFocusTrap(){return new rP({trapElement:this._element})}_addEventListeners(){et.on(this._element,EP,h=>{if("Escape"===h.key){if(this._config.keyboard)return void this.hide();et.trigger(this._element,AP)}})}static jQueryInterface(h){return this.each(function(){const l=gs.getOrCreateInstance(this,h);if("string"==typeof h){if(void 0===l[h]||h.startsWith("_")||"constructor"===h)throw new TypeError(`No method named "${h}"`);l[h](this)}})}}et.on(document,GM,'[data-bs-toggle="offcanvas"]',function(u){const h=Nt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&u.preventDefault(),kr(this))return;et.one(h,Fp,()=>{xl(this)&&this.focus()});const l=Nt.findOne(Bp);l&&l!==h&&gs.getInstance(l).hide(),gs.getOrCreateInstance(h).toggle(this)}),et.on(window,M0,()=>{for(const u of Nt.find(Bp))gs.getOrCreateInstance(u).show()}),et.on(window,w0,()=>{for(const u of Nt.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(u).position&&gs.getOrCreateInstance(u).hide()}),Wl(gs),ga(gs);const o_={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},SP=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),TP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,DP=(u,h)=>{const l=u.nodeName.toLowerCase();return h.includes(l)?!SP.has(l)||!!TP.test(u.nodeValue):h.filter(y=>y instanceof RegExp).some(y=>y.test(l))},x0={allowList:o_,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},B0={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},F0={entry:"(string|element|function|null)",selector:"(string|element)"};class N0 extends bp{constructor(h){super(),this._config=this._getConfig(h)}static get Default(){return x0}static get DefaultType(){return B0}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(h=>this._resolvePossibleFunction(h)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(h){return this._checkContent(h),this._config.content={...this._config.content,...h},this}toHtml(){const h=document.createElement("div");h.innerHTML=this._maybeSanitize(this._config.template);for(const[P,C]of Object.entries(this._config.content))this._setContent(h,C,P);const l=h.children[0],y=this._resolvePossibleFunction(this._config.extraClass);return y&&l.classList.add(...y.split(" ")),l}_typeCheckConfig(h){super._typeCheckConfig(h),this._checkContent(h.content)}_checkContent(h){for(const[l,y]of Object.entries(h))super._typeCheckConfig({selector:l,entry:y},F0)}_setContent(h,l,y){const P=Nt.findOne(y,h);if(P){if(!(l=this._resolvePossibleFunction(l)))return void P.remove();if(nr(l))return void this._putElementInTemplate(Cr(l),P);if(this._config.html)return void(P.innerHTML=this._maybeSanitize(l));P.textContent=l}}_maybeSanitize(h){return this._config.sanitize?function MP(u,h,l){if(!u.length)return u;if(l&&"function"==typeof l)return l(u);const P=(new window.DOMParser).parseFromString(u,"text/html"),C=[].concat(...P.body.querySelectorAll("*"));for(const I of C){const W=I.nodeName.toLowerCase();if(!Object.keys(h).includes(W)){I.remove();continue}const X=[].concat(...I.attributes),z=[].concat(h["*"]||[],h[W]||[]);for(const pe of X)DP(pe,z)||I.removeAttribute(pe.nodeName)}return P.body.innerHTML}(h,this._config.allowList,this._config.sanitizeFn):h}_resolvePossibleFunction(h){return Zn(h,[void 0,this])}_putElementInTemplate(h,l){if(this._config.html)return l.innerHTML="",void l.append(h);l.textContent=h.textContent}}const kP=new Set(["sanitize","allowList","sanitizeFn"]),Np="fade",Pu="show",OP=".tooltip-inner",RP="hide.bs.modal",Up="hover",LP="focus",l_="click",Wp={AUTO:"auto",TOP:"top",RIGHT:ha()?"left":"right",BOTTOM:"bottom",LEFT:ha()?"right":"left"},Y0={allowList:o_,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},X0={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Eo extends ps{constructor(h,l){super(h,l),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Y0}static get DefaultType(){return X0}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),et.off(this._element.closest(".modal"),RP,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const h=et.trigger(this._element,this.constructor.eventName("show")),y=(gp(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(h.defaultPrevented||!y)return;this._disposePopper();const P=this._getTipElement();this._element.setAttribute("aria-describedby",P.getAttribute("id"));const{container:C}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(C.append(P),et.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(P),P.classList.add(Pu),"ontouchstart"in document.documentElement)for(const W of[].concat(...document.body.children))et.on(W,"mouseover",Bl);this._queueCallback(()=>{et.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!et.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Pu),"ontouchstart"in document.documentElement)for(const P of[].concat(...document.body.children))et.off(P,"mouseover",Bl);this._activeTrigger[l_]=!1,this._activeTrigger[LP]=!1,this._activeTrigger[Up]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),et.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(h){const l=this._getTemplateFactory(h).toHtml();if(!l)return null;l.classList.remove(Np,Pu),l.classList.add(`bs-${this.constructor.NAME}-auto`);const y=(u=>{do{u+=Math.floor(1e6*Math.random())}while(document.getElementById(u));return u})(this.constructor.NAME).toString();return l.setAttribute("id",y),this._isAnimated()&&l.classList.add(Np),l}setContent(h){this._newContent=h,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(h){return this._templateFactory?this._templateFactory.changeContent(h):this._templateFactory=new N0({...this._config,content:h,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[OP]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(h){return this.constructor.getOrCreateInstance(h.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Np)}_isShown(){return this.tip&&this.tip.classList.contains(Pu)}_createPopper(h){const l=Zn(this._config.placement,[this,h,this._element]),y=Wp[l.toUpperCase()];return Dm(this._element,h,this._getPopperConfig(y))}_getOffset(){const{offset:h}=this._config;return"string"==typeof h?h.split(",").map(l=>Number.parseInt(l,10)):"function"==typeof h?l=>h(l,this._element):h}_resolvePossibleFunction(h){return Zn(h,[this._element,this._element])}_getPopperConfig(h){const l={placement:h,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:y=>{this._getTipElement().setAttribute("data-popper-placement",y.state.placement)}}]};return{...l,...Zn(this._config.popperConfig,[void 0,l])}}_setListeners(){const h=this._config.trigger.split(" ");for(const l of h)if("click"===l)et.on(this._element,this.constructor.eventName("click"),this._config.selector,y=>{const P=this._initializeOnDelegatedTarget(y);P._activeTrigger[l_]=!(P._isShown()&&P._activeTrigger[l_]),P.toggle()});else if("manual"!==l){const y=this.constructor.eventName(l===Up?"mouseenter":"focusin"),P=this.constructor.eventName(l===Up?"mouseleave":"focusout");et.on(this._element,y,this._config.selector,C=>{const I=this._initializeOnDelegatedTarget(C);I._activeTrigger["focusin"===C.type?LP:Up]=!0,I._enter()}),et.on(this._element,P,this._config.selector,C=>{const I=this._initializeOnDelegatedTarget(C);I._activeTrigger["focusout"===C.type?LP:Up]=I._element.contains(C.relatedTarget),I._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},et.on(this._element.closest(".modal"),RP,this._hideModalHandler)}_fixTitle(){const h=this._element.getAttribute("title");h&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",h),this._element.setAttribute("data-bs-original-title",h),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(h,l){clearTimeout(this._timeout),this._timeout=setTimeout(h,l)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(h){const l=Fs.getDataAttributes(this._element);for(const y of Object.keys(l))kP.has(y)&&delete l[y];return h={...l,..."object"==typeof h&&h?h:{}},h=this._mergeConfigObj(h),h=this._configAfterMerge(h),this._typeCheckConfig(h),h}_configAfterMerge(h){return h.container=!1===h.container?document.body:Cr(h.container),"number"==typeof h.delay&&(h.delay={show:h.delay,hide:h.delay}),"number"==typeof h.title&&(h.title=h.title.toString()),"number"==typeof h.content&&(h.content=h.content.toString()),h}_getDelegateConfig(){const h={};for(const[l,y]of Object.entries(this._config))this.constructor.Default[l]!==y&&(h[l]=y);return h.selector=!1,h.trigger="manual",h}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(h){return this.each(function(){const l=Eo.getOrCreateInstance(this,h);if("string"==typeof h){if(typeof l[h]>"u")throw new TypeError(`No method named "${h}"`);l[h]()}})}}ga(Eo);const Q0=".popover-header",Ir=".popover-body",jl={...Eo.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},q0={...Eo.DefaultType,content:"(null|string|element|function)"};class c_ extends Eo{static get Default(){return jl}static get DefaultType(){return q0}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Q0]:this._getTitle(),[Ir]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(h){return this.each(function(){const l=c_.getOrCreateInstance(this,h);if("string"==typeof h){if(typeof l[h]>"u")throw new TypeError(`No method named "${h}"`);l[h]()}})}}ga(c_);const u_=".bs.scrollspy",Z0=`activate${u_}`,p_=`click${u_}`,eD=`load${u_}.data-api`,Vl="active",$p="[href]",Eu=".nav-link",FP=`${Eu}, .nav-item > ${Eu}, .list-group-item`,UP={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},WP={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class zl extends ps{constructor(h,l){super(h,l),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return UP}static get DefaultType(){return WP}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const h of this._observableSections.values())this._observer.observe(h)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(h){return h.target=Cr(h.target)||document.body,h.rootMargin=h.offset?`${h.offset}px 0px -30%`:h.rootMargin,"string"==typeof h.threshold&&(h.threshold=h.threshold.split(",").map(l=>Number.parseFloat(l))),h}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(et.off(this._config.target,p_),et.on(this._config.target,p_,$p,h=>{const l=this._observableSections.get(h.target.hash);if(l){h.preventDefault();const y=this._rootElement||window,P=l.offsetTop-this._element.offsetTop;if(y.scrollTo)return void y.scrollTo({top:P,behavior:"smooth"});y.scrollTop=P}}))}_getNewObserver(){return new IntersectionObserver(l=>this._observerCallback(l),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(h){const l=I=>this._targetLinks.get(`#${I.target.id}`),y=I=>{this._previousScrollData.visibleEntryTop=I.target.offsetTop,this._process(l(I))},P=(this._rootElement||document.documentElement).scrollTop,C=P>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=P;for(const I of h){if(!I.isIntersecting){this._activeTarget=null,this._clearActiveClass(l(I));continue}const W=I.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(C&&W){if(y(I),!P)return}else!C&&!W&&y(I)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const h=Nt.find($p,this._config.target);for(const l of h){if(!l.hash||kr(l))continue;const y=Nt.findOne(decodeURI(l.hash),this._element);xl(y)&&(this._targetLinks.set(decodeURI(l.hash),l),this._observableSections.set(l.hash,y))}}_process(h){this._activeTarget!==h&&(this._clearActiveClass(this._config.target),this._activeTarget=h,h.classList.add(Vl),this._activateParents(h),et.trigger(this._element,Z0,{relatedTarget:h}))}_activateParents(h){if(h.classList.contains("dropdown-item"))Nt.findOne(".dropdown-toggle",h.closest(".dropdown")).classList.add(Vl);else for(const l of Nt.parents(h,".nav, .list-group"))for(const y of Nt.prev(l,FP))y.classList.add(Vl)}_clearActiveClass(h){h.classList.remove(Vl);const l=Nt.find(`${$p}.${Vl}`,h);for(const y of l)y.classList.remove(Vl)}static jQueryInterface(h){return this.each(function(){const l=zl.getOrCreateInstance(this,h);if("string"==typeof h){if(void 0===l[h]||h.startsWith("_")||"constructor"===h)throw new TypeError(`No method named "${h}"`);l[h]()}})}}et.on(window,eD,()=>{for(const u of Nt.find('[data-bs-spy="scroll"]'))zl.getOrCreateInstance(u)}),ga(zl);const So=".bs.tab",aD=`hide${So}`,KP=`hidden${So}`,$P=`show${So}`,sD=`shown${So}`,GP=`click${So}`,HP=`keydown${So}`,rD=`load${So}`,oD="ArrowLeft",g_="ArrowRight",lD="ArrowUp",m_="ArrowDown",Gp="Home",__="End",Rr="active",f_="show",v_=".dropdown-toggle",VP=`:not(${v_})`,cD='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',zP=`.nav-link${VP}, .list-group-item${VP}, [role="tab"]${VP}, ${cD}`,uD=`.${Rr}[data-bs-toggle="tab"], .${Rr}[data-bs-toggle="pill"], .${Rr}[data-bs-toggle="list"]`;class Yl extends ps{constructor(h){super(h),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),et.on(this._element,HP,l=>this._keydown(l)))}static get NAME(){return"tab"}show(){const h=this._element;if(this._elemIsActive(h))return;const l=this._getActiveElem(),y=l?et.trigger(l,aD,{relatedTarget:h}):null;et.trigger(h,$P,{relatedTarget:l}).defaultPrevented||y&&y.defaultPrevented||(this._deactivate(l,h),this._activate(h,l))}_activate(h,l){h&&(h.classList.add(Rr),this._activate(Nt.getElementFromSelector(h)),this._queueCallback(()=>{"tab"===h.getAttribute("role")?(h.removeAttribute("tabindex"),h.setAttribute("aria-selected",!0),this._toggleDropDown(h,!0),et.trigger(h,sD,{relatedTarget:l})):h.classList.add(f_)},h,h.classList.contains("fade")))}_deactivate(h,l){h&&(h.classList.remove(Rr),h.blur(),this._deactivate(Nt.getElementFromSelector(h)),this._queueCallback(()=>{"tab"===h.getAttribute("role")?(h.setAttribute("aria-selected",!1),h.setAttribute("tabindex","-1"),this._toggleDropDown(h,!1),et.trigger(h,KP,{relatedTarget:l})):h.classList.remove(f_)},h,h.classList.contains("fade")))}_keydown(h){if(![oD,g_,lD,m_,Gp,__].includes(h.key))return;h.stopPropagation(),h.preventDefault();const l=this._getChildren().filter(P=>!kr(P));let y;if([Gp,__].includes(h.key))y=l[h.key===Gp?0:l.length-1];else{const P=[g_,m_].includes(h.key);y=Om(l,h.target,P,!0)}y&&(y.focus({preventScroll:!0}),Yl.getOrCreateInstance(y).show())}_getChildren(){return Nt.find(zP,this._parent)}_getActiveElem(){return this._getChildren().find(h=>this._elemIsActive(h))||null}_setInitialAttributes(h,l){this._setAttributeIfNotExists(h,"role","tablist");for(const y of l)this._setInitialAttributesOnChild(y)}_setInitialAttributesOnChild(h){h=this._getInnerElement(h);const l=this._elemIsActive(h),y=this._getOuterElement(h);h.setAttribute("aria-selected",l),y!==h&&this._setAttributeIfNotExists(y,"role","presentation"),l||h.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(h,"role","tab"),this._setInitialAttributesOnTargetPanel(h)}_setInitialAttributesOnTargetPanel(h){const l=Nt.getElementFromSelector(h);l&&(this._setAttributeIfNotExists(l,"role","tabpanel"),h.id&&this._setAttributeIfNotExists(l,"aria-labelledby",`${h.id}`))}_toggleDropDown(h,l){const y=this._getOuterElement(h);if(!y.classList.contains("dropdown"))return;const P=(C,I)=>{const W=Nt.findOne(C,y);W&&W.classList.toggle(I,l)};P(v_,Rr),P(".dropdown-menu",f_),y.setAttribute("aria-expanded",l)}_setAttributeIfNotExists(h,l,y){h.hasAttribute(l)||h.setAttribute(l,y)}_elemIsActive(h){return h.classList.contains(Rr)}_getInnerElement(h){return h.matches(zP)?h:Nt.findOne(zP,h)}_getOuterElement(h){return h.closest(".nav-item, .list-group-item")||h}static jQueryInterface(h){return this.each(function(){const l=Yl.getOrCreateInstance(this);if("string"==typeof h){if(void 0===l[h]||h.startsWith("_")||"constructor"===h)throw new TypeError(`No method named "${h}"`);l[h]()}})}}et.on(document,GP,cD,function(u){["A","AREA"].includes(this.tagName)&&u.preventDefault(),!kr(this)&&Yl.getOrCreateInstance(this).show()}),et.on(window,rD,()=>{for(const u of Nt.find(uD))Yl.getOrCreateInstance(u)}),ga(Yl);const To=".bs.toast",YP=`mouseover${To}`,y_=`mouseout${To}`,XP=`focusin${To}`,eC=`focusout${To}`,dD=`hide${To}`,tC=`hidden${To}`,JP=`show${To}`,pD=`shown${To}`,b_="show",P_="showing",hD={animation:"boolean",autohide:"boolean",delay:"number"},iC={animation:!0,autohide:!0,delay:5e3};class A_ extends ps{constructor(h,l){super(h,l),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return iC}static get DefaultType(){return hD}static get NAME(){return"toast"}show(){et.trigger(this._element,JP).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(b_,P_),this._queueCallback(()=>{this._element.classList.remove(P_),et.trigger(this._element,pD),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!et.trigger(this._element,dD).defaultPrevented&&(this._element.classList.add(P_),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(P_,b_),et.trigger(this._element,tC)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(b_),super.dispose()}isShown(){return this._element.classList.contains(b_)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(h,l){switch(h.type){case"mouseover":case"mouseout":this._hasMouseInteraction=l;break;case"focusin":case"focusout":this._hasKeyboardInteraction=l}if(l)return void this._clearTimeout();const y=h.relatedTarget;this._element===y||this._element.contains(y)||this._maybeScheduleHide()}_setListeners(){et.on(this._element,YP,h=>this._onInteraction(h,!0)),et.on(this._element,y_,h=>this._onInteraction(h,!1)),et.on(this._element,XP,h=>this._onInteraction(h,!0)),et.on(this._element,eC,h=>this._onInteraction(h,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(h){return this.each(function(){const l=A_.getOrCreateInstance(this,h);if("string"==typeof h){if(typeof l[h]>"u")throw new TypeError(`No method named "${h}"`);l[h](this)}})}}function gD(u){return(0,Mt.qK)(u)}function E_(u,h,l){"player"===h?u.playerPackImageBroken=!1:u.opponentPackImageBroken=!1}function T_(u){return(0,Mt.bG)(u)}function p(u){u.customPackEditorModal.show(),u.formGroup.get("playerPack").setValue(u.previousPackPlayer,{emitEvent:!1}),u.formGroup.get("opponentPack").setValue(u.previousPackOpponent,{emitEvent:!1})}function b(u,h){const l=u.petSelectors.toArray().slice("player"==h?0:5,"player"==h?5:10);for(const y of l)y.removePet();"player"===h?(u.formGroup.get("playerToy").setValue(null),u.formGroup.get("playerToyLevel").setValue(1),u.formGroup.get("playerHardToy").setValue(null),u.formGroup.get("playerHardToyLevel").setValue(1)):(u.formGroup.get("opponentToy").setValue(null),u.formGroup.get("opponentToyLevel").setValue(1),u.formGroup.get("opponentHardToy").setValue(null),u.formGroup.get("opponentHardToyLevel").setValue(1))}function M(u,h,l=!1,y){let P=!1;try{const C=(0,Nc.$K)((0,Nc.d4)(h));y?.resetBattle&&function w(u){u.simulated=!1,u.battles=[],u.battleRandomEvents=[],u.battleRandomEventsByBattle=new Map,u.filteredBattlesCache=[],u.viewBattle=null,u.viewBattleLogs=[],u.viewBattleLogRows=[],u.playerWinner=0,u.opponentWinner=0,u.draw=0,u.pendingPositioningOptimizationBaseline=null,u.positioningDeltaSummary=null,u.apiResponse=null,u.battleStarted=!1,u.currBattle=null}(u),u.petSelectors?.length&&(b(u,"player"),b(u,"opponent")),Q(u,C),Xe(u),l||setTimeout(()=>{u.petSelectors&&u.petSelectors.forEach(I=>{I.fixLoadEquipment()})},0),P=!0}catch(C){console.error(C)}return P}function Q(u,h){u.calculatorStateService.applyCalculatorState(u.formGroup,h,u.dayNight,()=>Oy(u)),u.logService.setShowTriggerNamesInLogs(u.formGroup.get("showTriggerNamesInLogs")?.value)}function oe(u){const l=u.formGroup.get("turn").value%2==1;u.dayNight=l,u.gameService.gameApi.day=l}function Pe(u){Yc(u.formGroup,u.player,u.opponent),we(u)}function we(u){u.playerPetsControls=Array.from(u.formGroup.get("playerPets").controls).reverse(),u.opponentPetsControls=Array.from(u.formGroup.get("opponentPets").controls)}function Xe(u){u.petService.buildCustomPackPets(u.formGroup.get("customPacks")),St(u),Ki(u,u.player,u.formGroup.get("playerPack").value,!1),Ki(u,u.opponent,u.formGroup.get("opponentPack").value,!1),Jc(u,u.player,u.formGroup.get("playerToy").value),Jc(u,u.opponent,u.formGroup.get("opponentToy").value),u.gameService.gameApi.playerHardToy=u.formGroup.get("playerHardToy").value,u.gameService.gameApi.playerHardToyLevel=u.formGroup.get("playerHardToyLevel").value,u.gameService.gameApi.opponentHardToy=u.formGroup.get("opponentHardToy").value,u.gameService.gameApi.opponentHardToyLevel=u.formGroup.get("opponentHardToyLevel").value,rm(u,u.player,u.formGroup.get("playerHardToy").value),rm(u,u.opponent,u.formGroup.get("opponentHardToy").value),u.previousPackOpponent=u.opponent.pack,u.previousPackPlayer=u.player.pack}function St(u){for(let h=0;h<5;h++){const l=u.formGroup.get("playerPets").controls[h];if(null==l.get("name").value)continue;const y=u.petService.createPet(l.value,u.player);u.player.setPet(h,y,!0)}for(let h=0;h<5;h++){const l=u.formGroup.get("opponentPets").controls[h];if(null==l.get("name").value)continue;const y=u.petService.createPet(l.value,u.opponent);u.opponent.setPet(h,y,!0)}}function ui(u,h){if(!u.activePetSlot)return u.setStatus("Select a pet slot first.","error"),!1;const l=$i(u,u.activePetSlot.side,u.activePetSlot.index);if(!l)return u.setStatus("Could not access selected pet slot.","error"),!1;const y=l.formGroup?.getRawValue?.();return y?.name?(u.petClipboard=Us(y),h?(l.removePet(),u.setStatus("Pet cut.","success")):u.setStatus("Pet copied.","success"),!0):(u.setStatus("Selected slot is empty.","error"),!1)}function $i(u,h,l){const y="player"===h?u.player:u.opponent;return u.petSelectors?.toArray?.()?.find(P=>P.player===y&&P.index===l)??null}function Us(u){return JSON.parse(JSON.stringify(u))}Wl(A_),ga(A_);var aC=i(24111),sC=i(49230),fD=i(1744),vC=i(96767);function vD(u){return null!==u&&"object"==typeof u&&!Array.isArray(u)}function yD(u){if(Array.isArray(u))return u.map(h=>yD(h));if(vD(u)){const h={};for(const l of Object.keys(u))h[vC.g[l]||l]=yD(u[l]);return h}return u}let AC=(()=>{class u{parseCalculatorStateFromUrl(){const l=new URLSearchParams(window.location.search),y=window.location.hash.startsWith("#")?window.location.hash.slice(1):window.location.hash,P=new URLSearchParams(y.startsWith("?")?y.slice(1):y),C=l.get("c")||P.get("c");if(!C)return{state:null};try{const I=decodeURIComponent(C),W=I.trim().startsWith("{")||I.trim().startsWith("[")?JSON.parse(I):function PC(u){try{return JSON.parse(u)}catch{return JSON.parse(decodeURIComponent(u))}}(function bC(u){const h=atob(function yC(u){const h=u.replace(/\s/g,"+").replace(/-/g,"+").replace(/_/g,"/");return`${h}${"=".repeat((4-h.length%4)%4)}`}(u)),l=Uint8Array.from(h,y=>y.charCodeAt(0));return(new TextDecoder).decode(l)}(C)),X=yD(W);return vD(X)?{state:X}:{state:null}}catch{return{state:null,error:"Failed to parse calculator state from URL."}}}parseApiStateFromUrl(){const y=new URLSearchParams(window.location.search).get("code");if(!y)return{state:null};try{const P=JSON.parse(decodeURIComponent(y));return vD(P)?{state:P}:{state:null}}catch{return{state:null,error:"Error parsing API data from URL."}}}static \u0275fac=function(y){return new(y||u)};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();function EC(u){return new ue.gE({name:new ue.MJ(u?.name??null,ue.k0.required),tier1Pets:new ue.MJ(u?.tier1Pets??[],u=>u.value&&10!==u.value.length?{length:!0}:null),tier2Pets:new ue.MJ(u?.tier2Pets??[],u=>u.value&&10!==u.value.length?{length:!0}:null),tier3Pets:new ue.MJ(u?.tier3Pets??[],u=>u.value&&10!==u.value.length?{length:!0}:null),tier4Pets:new ue.MJ(u?.tier4Pets??[],u=>u.value&&10!==u.value.length?{length:!0}:null),tier5Pets:new ue.MJ(u?.tier5Pets??[],u=>u.value&&10!==u.value.length?{length:!0}:null),tier6Pets:new ue.MJ(u?.tier6Pets??[],u=>u.value&&10!==u.value.length?{length:!0}:null),spells:new ue.MJ(u?.spells??[])})}let SC=(()=>{class u{gameService;constructor(l){this.gameService=l}applyCalculatorState(l,y,P,C){const I=this.getDefaultState(),W=this.asRecord(y),X={...I,...W};l.patchValue(X,{emitEvent:!1});const z=W?.customPacks,pe=W?{...W,customPacks:[]}:{};this.loadCustomPacks(l,z),l.patchValue(pe,{emitEvent:!1}),l.get("tokenPets")?.setValue(!0,{emitEvent:!1}),this.normalizeEquipmentControls(l.get("playerPets")),this.normalizeEquipmentControls(l.get("opponentPets")),C&&setTimeout(()=>C()),this.gameService.gameApi.oldStork=l.get("oldStork").value,this.gameService.gameApi.komodoShuffle=l.get("komodoShuffle").value,this.gameService.gameApi.mana=l.get("mana").value,this.gameService.gameApi.playerRollAmount=l.get("playerRollAmount").value,this.gameService.gameApi.opponentRollAmount=l.get("opponentRollAmount").value,this.gameService.gameApi.playerLevel3Sold=l.get("playerLevel3Sold").value,this.gameService.gameApi.opponentLevel3Sold=l.get("opponentLevel3Sold").value,this.gameService.gameApi.playerSummonedAmount=l.get("playerSummonedAmount").value,this.gameService.gameApi.opponentSummonedAmount=l.get("opponentSummonedAmount").value,this.gameService.gameApi.playerTransformationAmount=l.get("playerTransformationAmount").value,this.gameService.gameApi.opponentTransformationAmount=l.get("opponentTransformationAmount").value,this.gameService.gameApi.day=P,this.gameService.gameApi.turnNumber=l.get("turn").value}loadCustomPacks(l,y){const P=l.get("customPacks");P.clear();const C=Array.isArray(y)?y:[];for(const I of C){const W=EC(I);P.push(W)}}getDefaultState(){return{playerPack:"Turtle",opponentPack:"Turtle",playerToy:null,playerToyLevel:"1",playerHardToy:null,playerHardToyLevel:"1",opponentToy:null,opponentToyLevel:"1",opponentHardToy:null,opponentHardToyLevel:"1",turn:11,playerGoldSpent:10,opponentGoldSpent:10,playerRollAmount:4,opponentRollAmount:4,playerSummonedAmount:0,opponentSummonedAmount:0,playerTransformationAmount:0,opponentTransformationAmount:0,playerLevel3Sold:0,opponentLevel3Sold:0,playerPets:Array(5).fill(null),opponentPets:Array(5).fill(null),allPets:!1,logFilter:null,customPacks:[],oldStork:!1,tokenPets:!0,komodoShuffle:!1,mana:!1,seed:null,showAdvanced:!1,showTriggerNamesInLogs:!1,showPositionalArgsInLogs:!0,ailmentEquipment:!1}}normalizeEquipmentControls(l){if(l?.controls?.length)for(const y of l.controls){const C=y.get("equipment");if(!C)continue;const I=C.value,W=this.getEquipmentName(I);W!==I&&C.setValue(W,{emitEvent:!1})}}getEquipmentName(l){return l?"string"==typeof l?l:null!==l&&"object"==typeof l&&"name"in l&&"string"==typeof l.name?l.name:null:null}asRecord(l){return null===l||"object"!=typeof l||Array.isArray(l)?null:l}static \u0275fac=function(y){return new(y||u)(v.KVO(fD.w))};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();var rC=i(46791),DC=i(19661);let MC=(()=>{class u{logService;gameService;abilityService;petService;equipmentService;toyService;constructor(l,y,P,C,I,W){this.logService=l,this.gameService=y,this.abilityService=P,this.petService=C,this.equipmentService=I,this.toyService=W}runSimulationInWorker(l,y,P,C,I,W,X){if(typeof Worker>"u"){const $e=this.runSimulation(l,y,P,C);return I.onResult?.($e),null}const z=this.buildConfig(l,y,X),pe=l.get("showTriggerNamesInLogs")?.value??!1,Me=W?.progressInterval??50,Re=new Worker(i.tu(new URL(i.p+i.u(63),i.b)),{type:void 0});return Re.onmessage=({data:$e})=>{!$e||!$e.type||("progress"===$e.type?I.onProgress?.($e):"result"===$e.type?I.onResult?.($e.result):"aborted"===$e.type?I.onAborted?.($e.result):"error"===$e.type&&I.onError?.($e.message||"Worker simulation failed."))},Re.onerror=$e=>{I.onError?.($e.message||"Worker simulation failed.")},Re.postMessage({type:"start",config:z,progressInterval:Me,showTriggerNamesInLogs:pe}),Re}runPositioningOptimizationInWorker(l,y,P,C,I,W,X){if(typeof Worker>"u"){const Me=this.runPositioningOptimization(l,y,P,C,W,X);return I.onResult?.(Me),null}const z=this.buildConfig(l,y,X),pe=new Worker(i.tu(new URL(i.p+i.u(301),i.b)),{type:void 0});return pe.onmessage=({data:Me})=>{!Me||!Me.type||("positioning-progress"===Me.type?I.onProgress?.(Me.progress):"positioning-result"===Me.type?I.onResult?.(Me.result):"positioning-aborted"===Me.type?I.onAborted?.(Me.result):"error"===Me.type&&I.onError?.(Me.message||"Worker optimization failed."))},pe.onerror=Me=>{I.onError?.(Me.message||"Worker optimization failed.")},pe.postMessage({type:"optimize-positioning-start",config:z,options:W}),pe}requestWorkerCancel(l){if(l)try{l.postMessage({type:"cancel"})}catch{}}runSimulation(l,y,P,C,I){const W=this.buildConfig(l,y,I),X=this.logService.isEnabled(),z=this.logService.isDeferDecorations();this.logService.setEnabled(!1!==W.logsEnabled),this.logService.setDeferDecorations(!0);const Me=new rC.O(this.logService,this.gameService,this.abilityService,this.petService,this.equipmentService,this.toyService).run(W);return this.gameService.init(P,C),this.syncGameApiFromForm(l),this.logService.setEnabled(X),this.logService.setDeferDecorations(z),Me}runPositioningOptimization(l,y,P,C,I,W){const X=this.buildConfig(l,y,W),z=this.logService.isEnabled(),pe=this.logService.isDeferDecorations();this.logService.setEnabled(!1),this.logService.setDeferDecorations(!0);const Me=new rC.O(this.logService,this.gameService,this.abilityService,this.petService,this.equipmentService,this.toyService),Re=(0,DC.i)({baseConfig:X,options:{side:I.side,batchSize:I.batchSize,maxSimulationsPerPermutation:I.maxSimulationsPerPermutation,confidenceZ:I.confidenceZ,minSamplesBeforeElimination:I.minSamplesBeforeElimination},projectEndTurnLineup:({lineup:$e})=>Me.projectLineupAfterEndTurn(X,I.side,$e),simulateBatch:$e=>Me.run($e)});return this.gameService.init(P,C),this.syncGameApiFromForm(l),this.logService.setEnabled(z),this.logService.setDeferDecorations(pe),Re}syncGameApiFromForm(l){this.gameService.gameApi.oldStork=l.get("oldStork").value,this.gameService.gameApi.komodoShuffle=l.get("komodoShuffle").value,this.gameService.gameApi.mana=l.get("mana").value,this.gameService.gameApi.playerRollAmount=l.get("playerRollAmount").value,this.gameService.gameApi.opponentRollAmount=l.get("opponentRollAmount").value,this.gameService.gameApi.playerLevel3Sold=l.get("playerLevel3Sold").value,this.gameService.gameApi.opponentLevel3Sold=l.get("opponentLevel3Sold").value,this.gameService.gameApi.playerSummonedAmount=l.get("playerSummonedAmount").value,this.gameService.gameApi.opponentSummonedAmount=l.get("opponentSummonedAmount").value,this.gameService.gameApi.playerTransformationAmount=l.get("playerTransformationAmount").value,this.gameService.gameApi.opponentTransformationAmount=l.get("opponentTransformationAmount").value,this.gameService.setGoldSpent(l.get("playerGoldSpent").value,l.get("opponentGoldSpent").value),this.gameService.setTurnNumber(l.get("turn").value)}buildConfig(l,y,P){const C=l.get("logsEnabled")?.value??!0,I=l.get("seed")?.value,W=Number(I),X=""!==I&&null!=I&&Number.isFinite(W)?Math.trunc(W):null;return{playerPack:l.get("playerPack").value,opponentPack:l.get("opponentPack").value,playerToy:l.get("playerToy").value,playerToyLevel:l.get("playerToyLevel").value,playerHardToy:l.get("playerHardToy").value,playerHardToyLevel:l.get("playerHardToyLevel").value,opponentToy:l.get("opponentToy").value,opponentToyLevel:l.get("opponentToyLevel").value,opponentHardToy:l.get("opponentHardToy").value,opponentHardToyLevel:l.get("opponentHardToyLevel").value,turn:l.get("turn").value,playerGoldSpent:l.get("playerGoldSpent").value,opponentGoldSpent:l.get("opponentGoldSpent").value,playerRollAmount:l.get("playerRollAmount").value,opponentRollAmount:l.get("opponentRollAmount").value,playerSummonedAmount:l.get("playerSummonedAmount").value,opponentSummonedAmount:l.get("opponentSummonedAmount").value,playerLevel3Sold:l.get("playerLevel3Sold").value,opponentLevel3Sold:l.get("opponentLevel3Sold").value,playerTransformationAmount:l.get("playerTransformationAmount").value,opponentTransformationAmount:l.get("opponentTransformationAmount").value,playerPets:this.normalizePetList(l.get("playerPets").value),opponentPets:this.normalizePetList(l.get("opponentPets").value),customPacks:this.normalizeCustomPacks(l.get("customPacks")?.value),allPets:l.get("allPets").value,oldStork:l.get("oldStork").value,tokenPets:l.get("tokenPets").value,komodoShuffle:l.get("komodoShuffle").value,mana:l.get("mana").value,seed:X,simulationCount:y,logsEnabled:C,maxLoggedBattles:100,...P}}normalizeCustomPacks(l){return Array.isArray(l)?l.map(y=>this.normalizeCustomPack(y)).filter(y=>null!==y):[]}isRecord(l){return"object"==typeof l&&null!==l}normalizeCustomPack(l){if(!this.isRecord(l))return null;const y=`${l.name??""}`.trim();if(!y)return null;const P=C=>Array.isArray(C)?C.filter(I=>"string"==typeof I).map(I=>I.trim()).filter(I=>I.length>0):[];return{name:y,tier1Pets:P(l.tier1Pets),tier2Pets:P(l.tier2Pets),tier3Pets:P(l.tier3Pets),tier4Pets:P(l.tier4Pets),tier5Pets:P(l.tier5Pets),tier6Pets:P(l.tier6Pets),spells:P(l.spells)}}normalizePetList(l){return Array.isArray(l)?l.map(y=>this.normalizePetEntry(y)):[]}normalizePetEntry(l){if(!this.isRecord(l)||"string"!=typeof l.name||!l.name)return null;const y={...l},P=y.equipment;let C=null,I="number"==typeof y.equipmentUses?y.equipmentUses:null;if(this.isRecord(P)){if(C="string"==typeof P.name?P.name:null,null==I&&null!=P.uses){const W=Number(P.uses);I=Number.isFinite(W)?W:null}}else"string"==typeof P&&(C=P);return y.equipment=C?{name:C}:null,y.equipmentUses=I??null,delete y.parent,delete y.logService,delete y.abilityService,delete y.gameService,delete y.petService,delete y.abilityList,delete y.originalAbilityList,delete y.originalEquipment,y}static \u0275fac=function(y){return new(y||u)(v.KVO(aC.K),v.KVO(fD.w),v.KVO(sC.K),v.KVO(Ms.T),v.KVO(oa.m),v.KVO(Vs.w))};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();function bD(){return[{id:"default-max-damage",name:"1000 Mana",createdAt:Date.now(),toyName:"Nutcracker",toyLevel:3,pets:Array.from({length:5},()=>({name:"Sea Serpent",attack:50,health:50,exp:5,equipment:{name:"Coconut"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null}))},{id:"default-great-six",name:"The Great Six",createdAt:Date.now(),toyName:"Evil Book",toyLevel:3,pets:Array.from({length:5},()=>({name:"Beluga Whale",attack:50,health:50,exp:5,equipment:{name:"White Okra"},belugaSwallowedPet:"Great One",sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null}))},{id:"default-ability-removal",name:"Orca Scam",createdAt:Date.now(),playerToyName:"Pandoras Box",playerToyLevel:1,opponentToyName:null,opponentToyLevel:1,playerHardToy:null,playerHardToyLevel:1,opponentHardToy:null,opponentHardToyLevel:1,turn:11,playerGoldSpent:10,opponentGoldSpent:10,allPets:!0,tokenPets:!0,komodoShuffle:!1,mana:!0,triggersConsumed:!1,changeEquipmentUses:!1,playerRollAmount:3,opponentRollAmount:1,playerLevel3Sold:0,opponentLevel3Sold:0,playerSummonedAmount:0,opponentSummonedAmount:0,playerTransformationAmount:100,opponentTransformationAmount:100,pets:[{name:"Giant Pangasius",attack:49,health:1,exp:1,equipment:null,belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1Level:1,abominationSwallowedPet2Level:1,abominationSwallowedPet3Level:1,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:1,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Orca",abominationSwallowedPet2:"Behemoth",abominationSwallowedPet3:"Rat",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:3,abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:50,health:1,exp:5,equipment:{name:"Silly"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Rat",abominationSwallowedPet2:"Phoenix",abominationSwallowedPet3:"Giant Pangasius",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:3,abominationSwallowedPet3Level:1,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:1,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet2:"Rat",abominationSwallowedPet3:"Albatross",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:3,abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Cashew Nut"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet2:"Panther",abominationSwallowedPet3:"Guineafowl",abominationSwallowedPet1Level:1,abominationSwallowedPet2Level:1,abominationSwallowedPet3Level:1,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null}]},{id:"default-sob-snipes",name:"SoB Snipes",createdAt:Date.now(),toyName:"Nutcracker",toyLevel:3,pets:Array.from({length:5},()=>({name:"Leopard",attack:50,health:50,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,battlesFought:0,timesHurt:0,equipmentUses:null}))},{id:"default-infinite-damage",name:"Infinite Damage",createdAt:Date.now(),toyName:"Nutcracker",toyLevel:1,rollAmount:47,transformationAmount:200,pets:[{name:"Giant Pangasius",attack:50,health:1,exp:5,equipment:{name:"Mushroom"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Beluga Whale",abominationSwallowedPet3Level:1,abominationSwallowedPet3BelugaSwallowedPet:"Giant Pangasius",abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Cashew Nut"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Beluga Whale",abominationSwallowedPet3Level:1,abominationSwallowedPet3BelugaSwallowedPet:"Nessie",abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Sabertooth Tiger",abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:25,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Beluga Whale",abominationSwallowedPet3Level:1,abominationSwallowedPet3BelugaSwallowedPet:"Slug",abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null}]},{id:"default-layers",name:"Layers",createdAt:Date.now(),playerToyName:"Nutcracker",playerToyLevel:3,opponentToyName:"Nutcracker",opponentToyLevel:3,playerHardToy:null,playerHardToyLevel:1,opponentHardToy:null,opponentHardToyLevel:1,turn:13,playerGoldSpent:13,opponentGoldSpent:13,allPets:!0,tokenPets:!0,komodoShuffle:!1,mana:!0,triggersConsumed:!1,changeEquipmentUses:!1,playerRollAmount:1e3,opponentRollAmount:1e3,playerLevel3Sold:1e3,opponentLevel3Sold:1e3,playerSummonedAmount:1e3,opponentSummonedAmount:1e3,playerTransformationAmount:1e3,opponentTransformationAmount:1e3,pets:[{name:"Giant Pangasius",attack:50,health:1,exp:5,equipment:{name:"Mushroom"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1Level:1,abominationSwallowedPet2Level:1,abominationSwallowedPet3Level:1,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet2:"Rat",abominationSwallowedPet3:"Sabertooth Tiger",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:3,abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:50,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Cashew Nut"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet2:"Guineafowl",abominationSwallowedPet3:"Vaquita",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:1,abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:50,battlesFought:0,timesHurt:0,equipmentUses:1},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet2:"Rat",abominationSwallowedPet3:"Vaquita",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:3,abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:50,battlesFought:0,timesHurt:0,equipmentUses:1},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet2:"Rat",abominationSwallowedPet3:"Sabertooth Tiger",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:3,abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:50,battlesFought:0,timesHurt:0,equipmentUses:null}]}]}let CC=(()=>{class u{storageKey="sap-team-presets";removedPresetIds=new Set(["default-shoggoth","default-shoggoths-return","default-sloths"]);loadTeams(){const l=window.localStorage.getItem(this.storageKey);if(!l)return bD();try{const y=JSON.parse(l),P=Array.isArray(y)?y:[],C=this.migrateTeams(P);return C.changed&&this.persistTeams(C.teams),this.mergeDefaultTeams(C.teams)}catch{return bD()}}persistTeams(l){window.localStorage.setItem(this.storageKey,JSON.stringify(l))}mergeDefaultTeams(l){const y=bD(),P=new Set(l.map(I=>I.id)),C=[...l];for(const I of y)P.has(I.id)||C.push(I);return C}migrateTeams(l){let y=!1;return{teams:l.map(I=>I).filter(I=>!this.removedPresetIds.has(I.id)||(y=!0,!1)),changed:y}}static \u0275fac=function(y){return new(y||u)};static \u0275prov=v.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();const kC=["customPackEditor"],wC=()=>[i.e(142).then(i.bind(i,7142)).then(u=>u.InfoComponent)],OC=()=>[i.e(81).then(i.bind(i,41081)).then(u=>u.ImportCalculatorComponent)],IC=()=>[ue.cb,ue.j4,i.e(56).then(i.bind(i,10056)).then(u=>u.ExportCalculatorComponent)],RC=()=>[i.e(80).then(i.bind(i,71318)).then(u=>u.ReportABugComponent)];function LC(u,h){if(1&u&&(e.qex(0),e.j41(1,"div",6),e.EFF(2),e.k0s(),e.bVm()),2&u){const l=e.XpG();e.R7$(2),e.JRh(l.apiResponse)}}function xC(u,h){if(1&u&&e.nrm(0,"img",51),2&u){const l=e.XpG(2);e.Y8G("ngSrc",l.playerToyImageUrl)}}function BC(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",52)(1,"button",53),e.bIt("click",function(){v.eBV(l);const P=e.XpG(2);return v.Njj(P.decrementToyLevel("player"))}),e.nrm(2,"i",54),e.k0s(),e.j41(3,"span",55),e.EFF(4),e.k0s(),e.j41(5,"button",56),e.bIt("click",function(){v.eBV(l);const P=e.XpG(2);return v.Njj(P.incrementToyLevel("player"))}),e.nrm(6,"i",57),e.k0s()()}if(2&u){const l=e.XpG(2);e.R7$(4),e.SpI("Lv",l.formGroup.get("playerToyLevel").value)}}function FC(u,h){if(1&u&&e.nrm(0,"img",58),2&u){const l=e.XpG(2);e.Y8G("ngSrc",l.playerHardToyImageUrl)}}function NC(u,h){if(1&u){const l=e.RV6();e.j41(0,"button",59),e.bIt("click",function(){v.eBV(l);const P=e.XpG(2);return v.Njj(P.removeHardToy("player"))}),e.nrm(1,"i",60),e.k0s()}}function UC(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",61),e.bIt("mousedown",function(){const P=v.eBV(l).index,C=e.XpG(2);return v.Njj(C.setActivePetSlot("player",4-P))})("focusin",function(){const P=v.eBV(l).index,C=e.XpG(2);return v.Njj(C.setActivePetSlot("player",4-P))}),e.j41(1,"div",62)(2,"button",63),e.bIt("click",function(P){return v.eBV(l),e.sdS(5).removePet(),v.Njj(P.stopPropagation())}),e.EFF(3," X "),e.k0s()(),e.nrm(4,"app-pet-selector",64,2),e.k0s()}if(2&u){const l=h.$implicit,y=h.index,P=e.XpG(2);e.AVh("pet-slot-active","player"===(null==P.activePetSlot?null:P.activePetSlot.side)&&(null==P.activePetSlot?null:P.activePetSlot.index)===4-y),e.Y8G("cdkDragStartDelay",P.petSlotDragStartDelay),e.R7$(4),e.Y8G("pet",P.player.getPet(4-y))("player",P.player)("opponent",P.opponent)("index",4-y)("formGroup",P.makeFormGroup(l))("ailments",!0)("allPets",P.formGroup.get("allPets").value)("mana",P.formGroup.get("mana").value)("triggersConsumed",P.formGroup.get("triggersConsumed").value)("allowEquipmentUseOverrides",P.formGroup.get("changeEquipmentUses").value)("showTokenPets",P.formGroup.get("tokenPets").value)("flipImage",!0)("customPacks",P.formGroup.get("customPacks"))}}function WC(u,h){if(1&u&&e.nrm(0,"img",65),2&u){const l=e.XpG(2);e.Y8G("ngSrc",l.opponentToyImageUrl)}}function KC(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",52)(1,"button",66),e.bIt("click",function(){v.eBV(l);const P=e.XpG(2);return v.Njj(P.decrementToyLevel("opponent"))}),e.nrm(2,"i",54),e.k0s(),e.j41(3,"span",55),e.EFF(4),e.k0s(),e.j41(5,"button",67),e.bIt("click",function(){v.eBV(l);const P=e.XpG(2);return v.Njj(P.incrementToyLevel("opponent"))}),e.nrm(6,"i",57),e.k0s()()}if(2&u){const l=e.XpG(2);e.R7$(4),e.SpI("Lv",l.formGroup.get("opponentToyLevel").value)}}function $C(u,h){if(1&u&&e.nrm(0,"img",68),2&u){const l=e.XpG(2);e.Y8G("ngSrc",l.opponentHardToyImageUrl)}}function GC(u,h){if(1&u){const l=e.RV6();e.j41(0,"button",69),e.bIt("click",function(){v.eBV(l);const P=e.XpG(2);return v.Njj(P.removeHardToy("opponent"))}),e.nrm(1,"i",60),e.k0s()}}function HC(u,h){if(1&u){const l=e.RV6();e.j41(0,"div",70),e.bIt("mousedown",function(){const P=v.eBV(l).index,C=e.XpG(2);return v.Njj(C.setActivePetSlot("opponent",P))})("focusin",function(){const P=v.eBV(l).index,C=e.XpG(2);return v.Njj(C.setActivePetSlot("opponent",P))}),e.j41(1,"div",62)(2,"button",63),e.bIt("click",function(P){return v.eBV(l),e.sdS(5).removePet(),v.Njj(P.stopPropagation())}),e.EFF(3," X "),e.k0s()(),e.nrm(4,"app-pet-selector",64,3),e.k0s()}if(2&u){const l=h.$implicit,y=h.index,P=e.XpG(2);e.AVh("pet-slot-active","opponent"===(null==P.activePetSlot?null:P.activePetSlot.side)&&(null==P.activePetSlot?null:P.activePetSlot.index)===y),e.Y8G("cdkDragStartDelay",P.petSlotDragStartDelay),e.R7$(4),e.Y8G("pet",P.opponent.getPet(y))("player",P.opponent)("opponent",P.player)("index",y)("formGroup",P.makeFormGroup(l))("ailments",!0)("allPets",P.formGroup.get("allPets").value)("mana",P.formGroup.get("mana").value)("triggersConsumed",P.formGroup.get("triggersConsumed").value)("allowEquipmentUseOverrides",P.formGroup.get("changeEquipmentUses").value)("showTokenPets",P.formGroup.get("tokenPets").value)("flipImage",!1)("customPacks",P.formGroup.get("customPacks"))}}function jC(u,h){1&u&&e.nrm(0,"app-info")}function VC(u,h){1&u&&(e.j41(0,"div",71),e.EFF(1,"Loading info\u2026"),e.k0s())}function zC(u,h){if(1&u&&e.nrm(0,"app-import-calculator",72),2&u){const l=e.XpG(2);e.Y8G("importFunc",l.importForDialog)}}function YC(u,h){1&u&&(e.j41(0,"div",71),e.EFF(1,"Loading import tools\u2026"),e.k0s())}function XC(u,h){if(1&u&&e.nrm(0,"app-export-calculator",41),2&u){const l=e.XpG(2);e.Y8G("formGroup",l.formGroup)}}function JC(u,h){1&u&&(e.j41(0,"div",71),e.EFF(1,"Loading export tools\u2026"),e.k0s())}function QC(u,h){if(1&u&&e.nrm(0,"app-report-a-bug",73),2&u){const l=e.XpG(2);e.Y8G("calcFormGroup",l.formGroup)}}function qC(u,h){1&u&&(e.j41(0,"div",71),e.EFF(1,"Loading report form\u2026"),e.k0s())}function ZC(u,h){if(1&u){const l=e.RV6();e.qex(0),e.j41(1,"div",7,0)(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11)(7,"h2",12),e.EFF(8,"Player"),e.k0s(),e.j41(9,"div",13)(10,"div",14)(11,"button",15),e.bIt("click",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.openSelectionDialog("toy","player"))}),e.DNE(12,xC,1,1,"img",16),e.j41(13,"span",17),e.EFF(14),e.k0s(),e.nrm(15,"i",18),e.k0s(),e.DNE(16,BC,7,1,"div",19),e.k0s(),e.j41(17,"div",14)(18,"button",15),e.bIt("click",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.openSelectionDialog("hard-toy","player"))}),e.DNE(19,FC,1,1,"img",20),e.j41(20,"span",17),e.EFF(21),e.k0s(),e.nrm(22,"i",18),e.k0s(),e.DNE(23,NC,2,0,"button",21),e.k0s()()(),e.j41(24,"button",22),e.bIt("click",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.resetPlayer("player"))}),e.EFF(25," Reset "),e.k0s()(),e.j41(26,"div",23)(27,"div",24),e.bIt("cdkDropListDropped",function(P){v.eBV(l);const C=e.XpG();return v.Njj(C.drop(P,"player"))}),e.DNE(28,UC,6,16,"div",25),e.k0s()()(),e.j41(29,"div",26)(30,"div",10)(31,"div",11)(32,"h2",27),e.EFF(33,"Opponent"),e.k0s(),e.j41(34,"div",13)(35,"div",14)(36,"button",15),e.bIt("click",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.openSelectionDialog("toy","opponent"))}),e.DNE(37,WC,1,1,"img",28),e.j41(38,"span",17),e.EFF(39),e.k0s(),e.nrm(40,"i",18),e.k0s(),e.DNE(41,KC,7,1,"div",19),e.k0s(),e.j41(42,"div",14)(43,"button",15),e.bIt("click",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.openSelectionDialog("hard-toy","opponent"))}),e.DNE(44,$C,1,1,"img",29),e.j41(45,"span",17),e.EFF(46),e.k0s(),e.nrm(47,"i",18),e.k0s(),e.DNE(48,GC,2,0,"button",30),e.k0s()()(),e.j41(49,"button",22),e.bIt("click",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.resetPlayer("opponent"))}),e.EFF(50," Reset "),e.k0s()(),e.j41(51,"div",31)(52,"div",24),e.bIt("cdkDropListDropped",function(P){v.eBV(l);const C=e.XpG();return v.Njj(C.drop(P,"opponent"))}),e.DNE(53,HC,6,16,"div",32),e.k0s()()()(),e.nrm(54,"app-shell-controls",33)(55,"app-shell-battle-results",33),e.j41(56,"div",34,1)(58,"div",35)(59,"div",36)(60,"div",37)(61,"h1",38),e.EFF(62," Custom Pack Editor "),e.k0s(),e.nrm(63,"button",39),e.k0s(),e.j41(64,"div",40),e.nrm(65,"app-custom-pack-editor",41),e.k0s()()()(),e.j41(66,"div",42)(67,"div",43)(68,"div",36)(69,"div",37)(70,"h1",44),e.EFF(71,"Guide"),e.k0s(),e.nrm(72,"button",39),e.k0s(),e.j41(73,"div",40),e.PeT(74,jC,1,0)(75,VC,2,0),e.nv$(76,74,wC,null,75),e.k0s()()()(),e.j41(78,"div",45)(79,"div",43)(80,"div",36)(81,"div",37)(82,"h1",46),e.EFF(83," Import "),e.k0s(),e.nrm(84,"button",39),e.k0s(),e.j41(85,"div",40),e.PeT(86,zC,1,1)(87,YC,2,0),e.nv$(88,86,OC,null,87),e.k0s()()()(),e.j41(90,"div",47)(91,"div",43)(92,"div",36)(93,"div",37)(94,"h1",48),e.EFF(95," Export "),e.k0s(),e.nrm(96,"button",39),e.k0s(),e.j41(97,"div",40),e.PeT(98,XC,1,1)(99,JC,2,0),e.nv$(100,98,IC,null,99),e.k0s()()()(),e.j41(102,"div",49)(103,"div",43)(104,"div",36)(105,"div",37)(106,"h1",50),e.EFF(107,"Report A Bug"),e.k0s(),e.nrm(108,"button",39),e.k0s(),e.j41(109,"div",40),e.PeT(110,QC,1,1)(111,qC,2,0),e.nv$(112,110,RC,null,111),e.k0s()()()()(),e.bVm()}if(2&u){const l=e.XpG();e.R7$(),e.Y8G("formGroup",l.formGroup)("ngClass",l.lapsusTypographyStageClass),e.R7$(2),e.xc7("background-image",l.battleBackgroundUrl?"url("+l.battleBackgroundUrl+")":""),e.R7$(9),e.Y8G("ngIf",l.playerToyImageUrl),e.R7$(2),e.JRh(l.formGroup.get("playerToy").value||"Select Toy"),e.R7$(2),e.Y8G("ngIf",l.playerToyImageUrl),e.R7$(3),e.Y8G("ngIf",l.playerHardToyImageUrl),e.R7$(2),e.JRh(l.formGroup.get("playerHardToy").value||"Hard Toy"),e.R7$(2),e.Y8G("ngIf",l.playerHardToyImageUrl),e.R7$(5),e.Y8G("ngForOf",l.playerPetsControls)("ngForTrackBy",l.trackByIndex),e.R7$(9),e.Y8G("ngIf",l.opponentToyImageUrl),e.R7$(2),e.JRh(l.formGroup.get("opponentToy").value||"Select Toy"),e.R7$(2),e.Y8G("ngIf",l.opponentToyImageUrl),e.R7$(3),e.Y8G("ngIf",l.opponentHardToyImageUrl),e.R7$(2),e.JRh(l.formGroup.get("opponentHardToy").value||"Hard Toy"),e.R7$(2),e.Y8G("ngIf",l.opponentHardToyImageUrl),e.R7$(5),e.Y8G("ngForOf",l.opponentPetsControls)("ngForTrackBy",l.trackByIndex),e.R7$(),e.Y8G("app",l.app),e.R7$(),e.Y8G("app",l.app),e.R7$(10),e.Y8G("formGroup",l.formGroup),e.R7$(11),e.LVR(l.showInfo),e.R7$(12),e.LVR(l.showImport),e.R7$(12),e.LVR(l.showExport),e.R7$(12),e.LVR(l.showReportABug)}}function ek(u,h){if(1&u){const l=e.RV6();e.j41(0,"app-item-selection-dialog",74),e.bIt("select",function(P){v.eBV(l);const C=e.XpG();return v.Njj(C.onItemSelected(P))})("close",function(){v.eBV(l);const P=e.XpG();return v.Njj(P.showSelectionDialog=!1)}),e.k0s()}if(2&u){const l=e.XpG();e.Y8G("ngClass",l.lapsusTypographyStageClass)("type",l.selectionType)("showAllPets",l.formGroup.get("allPets").value)("customPacks",l.formGroup.get("customPacks"))("savedTeams",l.savedTeams)}}(function ln(u,h,l){return xn.apply(this,arguments)})((()=>{class u{logService;injector;cdr;abilityService;gameService;petService;toyService;equipmentService;localStorageService;urlStateService;calculatorStateService;simulationService;teamPresetsService;app=this;lapsusTypographyStage=1;uiThemeStorageKey="sapTheme";get lapsusTypographyStageClass(){return`lapsus-stage-${this.lapsusTypographyStage}`}petSelectors;customPackEditor;version="0.9.3";sapVersion="0.33.3-156 BETA";lastUpdated="1/20/2026";title="sap-calculator";player;opponent;maxTurns=71;turns=0;attackCount=0;battleStarted=!1;simulationBattleAmt=1e3;playerWinner=0;opponentWinner=0;draw=0;simulationInProgress=!1;simulationProgress=0;simulationProgressLabel="";simulationCancelRequested=!1;simulationWorker=null;simulationRunId=0;pendingPositioningOptimizationBaseline=null;positioningDeltaSummary=null;battles=[];battleRandomEvents=[];battleRandomEventsByBattle=new Map;filteredBattlesCache=[];randomDecisions=[];randomOverrideError=null;randomDecisionSelectionByFingerprint={};randomDecisionPartsCache=new Map;currBattle;viewBattle;simulated=!1;formGroup;toys;regularToys=new Map;hardWackyToys=new Map;customPackEditorModal;previousPackPlayer=null;previousPackOpponent=null;dayNight=!0;theme="light";soundMuted=!1;soundMenuOpen=!1;soundVolume=1;battleBackgroundUrl="";playerToyImageUrl="";opponentToyImageUrl="";playerHardToyImageUrl="";opponentHardToyImageUrl="";savedTeams=[];selectedTeamId="";teamName="";battleBackgrounds=[...IS];logFilterTabs=[...RS];api=!1;apiResponse=null;showSelectionDialog=!1;selectionType="pet";selectionSide="none";showInfo=!1;showImport=!1;showExport=!1;showReportABug=!1;showBattleAnalysis=!1;showRandomOverrides=!0;fightAnimationFrames=[];fightAnimationTimeline=null;fightAnimationFrameIndex=-1;fightAnimationPlaying=!1;fightAnimationSpeed=1;fightAnimationSpeedOptions=[.5,1,1.5,2];logEventFilterOptions=[{value:"all",label:"All"},{value:"board",label:"Board"},{value:"attack",label:"Attack"},{value:"ability",label:"Ability"},{value:"equipment",label:"Equipment"},{value:"death",label:"Death"},{value:"random",label:"Random"}];fightAttackIconSrc="/assets/art/Public/Public/Icons/fist-from-textmap.png";fightHealthIconSrc="/assets/art/Public/Public/Icons/heart-from-textmap.png";fightExpIconSrc="/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/xp.png";fightManaIconSrc="/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/mana.png";fightSnipeIconSrc="/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/snipe.png";fightTrumpetIconSrc="/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/trumpet.png";playerPetsControls=[];opponentPetsControls=[];logEventFilter="all";viewBattleLogs=[];viewBattleLogRows=[];viewBattleLogGroups=[];collapsedLogGroupIds=new Set;viewBattleTimelineRows=[];diffBattleLeftIndex=0;diffBattleRightIndex=0;diffBattleLeftScope="all";diffBattleRightScope="all";battleDiffRows=[];battleDiffSummary={equalSteps:0,changedSteps:0,leftOnly:0,rightOnly:0};playerPackImageBroken=!1;opponentPackImageBroken=!1;undoState=null;isLoadedFromUrl=!1;statusTimer=null;fightAnimationTimer=null;formAutoSaveSubscription=null;fightAnimationRenderFrameCache=null;fightAnimationRenderFrameCacheSource=null;fightAnimationRenderFrameCacheIndex=-1;statusMessage="";statusTone="success";lastAutoSavedAt=null;activePetSlot=null;petClipboard=null;petSlotDragStartDelay={touch:160,mouse:0};trackByIndex=nm;trackByTeamId=ky;trackByLogTab=am;toggleBattleAnalysis=()=>{this.showBattleAnalysis=!this.showBattleAnalysis};toggleRandomOverrides=()=>{this.showRandomOverrides=!this.showRandomOverrides,this.cdr.markForCheck()};refreshFightAnimationFromViewBattle=()=>U1(this);toggleFightAnimationPlayback=()=>function W1(u){if(0!==u.fightAnimationFrames.length){if(u.fightAnimationPlaying)return void Sr(u);!function my(u){if(0===u.fightAnimationFrames.length)return u.fightAnimationFrameIndex=-1,u.fightAnimationPlaying=!1,Yd(u),void u.markForCheck();const h=u.fightAnimationFrames.length-1;(u.fightAnimationFrameIndex<0||u.fightAnimationFrameIndex>h)&&(u.fightAnimationFrameIndex=0),u.fightAnimationFrameIndex>=h&&(u.fightAnimationFrameIndex=0),u.fightAnimationPlaying=!0,jg(u),u.markForCheck()}(u)}}(this);resetFightAnimation=()=>function K1(u){if(Sr(u,!1),0===u.fightAnimationFrames.length)return u.fightAnimationFrameIndex=-1,void u.markForCheck();u.fightAnimationFrameIndex=0,u.markForCheck()}(this);stepFightAnimation=l=>function $1(u,h){if(Sr(u,!1),0===u.fightAnimationFrames.length)return u.fightAnimationFrameIndex=-1,void u.markForCheck();const l=u.fightAnimationFrames.length-1,y=Number.isFinite(h)?Math.trunc(h):0,P=Math.min(l,Math.max(0,u.fightAnimationFrameIndex+y));u.fightAnimationFrameIndex=P,u.markForCheck()}(this,l);setFightAnimationSpeed=l=>function G1(u,h){const l=Py(h);u.fightAnimationSpeed!==l&&(u.fightAnimationSpeed=l,u.fightAnimationPlaying&&jg(u),u.markForCheck())}(this,l);onFightAnimationScrub=l=>function Hg(u,h){if(0===u.fightAnimationFrames.length)return;const l="number"==typeof h?h:Number(h);Number.isFinite(l)&&(Sr(u,!1),u.fightAnimationFrameIndex=Math.min(u.fightAnimationFrames.length-1,Math.max(0,Math.trunc(l))),u.markForCheck())}(this,l);constructor(l,y,P,C,I,W,X,z,pe,Me,Re,$e,ft){this.logService=l,this.injector=y,this.cdr=P,this.abilityService=C,this.gameService=I,this.petService=W,this.toyService=X,this.equipmentService=z,this.localStorageService=pe,this.urlStateService=Me,this.calculatorStateService=Re,this.simulationService=$e,this.teamPresetsService=ft,Ld.I.setInjector(this.injector),this.player=new Xu.a(l,C,I),this.opponent=new Xu.a(l,C,I),this.opponent.isOpponent=!0,this.gameService.init(this.player,this.opponent),this.petService.init(),this.initFormGroup();const ht=this.urlStateService.parseApiStateFromUrl();ht.state?(this.api=!0,this.applyCalculatorState(ht.state),this.simulate(),this.buildApiResponse()):ht.error&&(console.error(ht.error),this.apiResponse=JSON.stringify({error:"Invalid or corrupted data provided in the URL."}))}get rollInputVisible(){return function Z1(u){return u.formGroup.get("showAdvanced").value||function Cy(u){for(const h of u)if(h&&h.petArray)for(const l of h.petArray)if(l&&(Ia.includes(l.name)||"Abomination"===l.name&&(Ia.includes(l.abominationSwallowedPet1)||Ia.includes(l.abominationSwallowedPet2)||Ia.includes(l.abominationSwallowedPet3)||"Beluga Whale"===l.abominationSwallowedPet1&&Ia.includes(l.abominationSwallowedPet1BelugaSwallowedPet)||"Beluga Whale"===l.abominationSwallowedPet2&&Ia.includes(l.abominationSwallowedPet2BelugaSwallowedPet)||"Beluga Whale"===l.abominationSwallowedPet3&&Ia.includes(l.abominationSwallowedPet3BelugaSwallowedPet)||"Sarcastic Fringehead"===l.abominationSwallowedPet1&&Ia.includes(l.abominationSwallowedPet1SarcasticFringeheadSwallowedPet)||"Sarcastic Fringehead"===l.abominationSwallowedPet2&&Ia.includes(l.abominationSwallowedPet2SarcasticFringeheadSwallowedPet)||"Sarcastic Fringehead"===l.abominationSwallowedPet3&&Ia.includes(l.abominationSwallowedPet3SarcasticFringeheadSwallowedPet))||"Beluga Whale"===l.name&&Ia.includes(l.belugaSwallowedPet)||"Sarcastic Fringehead"===l.name&&Ia.includes(l.sarcasticFringeheadSwallowedPet)))return!0;return!1}([u.player,u.opponent])}(this)}buildApiResponse=()=>function XS(u){u.apiResponse=(0,Nc.ml)(u.playerWinner,u.opponentWinner,u.draw)}(this);printFormGroup=()=>function eT(u){console.log(u.formGroup)}(this);ngOnInit(){this.loadThemePreference(),this.loadSoundPreference(),this.isLoadedFromUrl=this.loadStateFromUrl(!0),this.isLoadedFromUrl||this.loadLocalStorage(),this.initApp(),this.loadTeamPresets(),this.setRandomBackground(),this.initGameApi(),this.setDayNight(),this.toys=this.toyService.toys,this.regularToys=this.toyService.getToysByType(0),this.hardWackyToys=this.toyService.getToysByType(1),this.formAutoSaveSubscription?.unsubscribe(),this.formAutoSaveSubscription=this.formGroup.valueChanges.pipe(ra(250)).subscribe(()=>{this.localStorageService.setFormStorage(this.formGroup),this.lastAutoSavedAt=new Date,this.cdr.markForCheck()})}toggleTheme=()=>{this.applyTheme("dark"===this.theme?"light":"dark",!0)};toggleSoundMuted=()=>{this.soundMuted=!this.soundMuted,!this.soundMuted&&this.soundVolume<=0&&(this.soundVolume=.5,X_(this.soundVolume)),bc(this.soundMuted),this.cdr.markForCheck()};toggleSoundMenu=()=>{this.soundMenuOpen=!this.soundMenuOpen,this.cdr.markForCheck()};setSoundVolume=l=>{const y=Number(l),P=Number.isFinite(y)?Math.min(1,Math.max(0,y)):1;this.soundVolume=P,X_(P),P<=0&&!this.soundMuted?(this.soundMuted=!0,bc(!0)):P>0&&this.soundMuted&&(this.soundMuted=!1,bc(!1)),this.cdr.markForCheck()};get autoSaveLabel(){return this.lastAutoSavedAt?`Saved ${this.lastAutoSavedAt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})}`:""}get soundVolumePercent(){return Math.round(100*this.soundVolume)}loadStateFromUrl=(l=!1)=>function B(u,h=!1){const l=u.urlStateService.parseCalculatorStateFromUrl();if(!l.state)return l.error&&(console.error(l.error),u.setStatus?.("Could not load the shared calculator link. The data may be corrupted.","error")),!1;const y=M(u,JSON.stringify(l.state),h);return y&&console.log("Calculator state loaded from URL."),y}(this,l);ngAfterViewInit(){this.isLoadedFromUrl&&this.petSelectors.forEach(l=>{l.fixLoadEquipment()}),this.api||this.initModals()}ngOnDestroy(){this.formAutoSaveSubscription?.unsubscribe(),this.clearFightAnimationTimer(),this.statusTimer&&(clearTimeout(this.statusTimer),this.statusTimer=null)}loadLocalStorage=()=>function G(u){const h=u.localStorageService.getStorage();if(h)try{Q(u,JSON.parse(h))}catch(l){console.log("error loading local storage",l),u.localStorageService.clearStorage()}}(this);applyCalculatorState=l=>Q(this,l);setDayNight=()=>oe(this);setRandomBackground=()=>function wy(u){if(!u.battleBackgrounds.length)return void(u.battleBackgroundUrl="");const h=Math.floor(Math.random()*u.battleBackgrounds.length);u.battleBackgroundUrl=`assets/art/Public/Public/Background/${u.battleBackgrounds[h]}`}(this);fixCustomPackSelect=()=>Oy(this);initApp=()=>Xe(this);initGameApi=()=>function gt(u){u.gameService.gameApi.day=u.dayNight,u.gameService.gameApi.oldStork=u.formGroup.get("oldStork").value,u.gameService.gameApi.komodoShuffle=u.formGroup.get("komodoShuffle").value,u.gameService.gameApi.mana=u.formGroup.get("mana").value,u.gameService.gameApi.playerRollAmount=u.formGroup.get("playerRollAmount").value,u.gameService.gameApi.opponentRollAmount=u.formGroup.get("opponentRollAmount").value,u.gameService.gameApi.playerLevel3Sold=u.formGroup.get("playerLevel3Sold").value,u.gameService.gameApi.opponentLevel3Sold=u.formGroup.get("opponentLevel3Sold").value,u.gameService.gameApi.playerSummonedAmount=u.formGroup.get("playerSummonedAmount").value,u.gameService.gameApi.opponentSummonedAmount=u.formGroup.get("opponentSummonedAmount").value,u.gameService.gameApi.playerTransformationAmount=u.formGroup.get("playerTransformationAmount").value,u.gameService.gameApi.opponentTransformationAmount=u.formGroup.get("opponentTransformationAmount").value}(this);initPlayerPets=()=>St(this);randomizePlayerPets=l=>Dl(this,l);makeFormGroup=tT;setActivePetSlot=(l,y)=>{this.activePetSlot={side:l,index:y}};handleKeyboardShortcuts(l){(function tt(u,h){if(u.api||!u.formGroup||!h.ctrlKey&&!h.metaKey||h.altKey||function Mo(u){if(!u)return!1;if(u.isContentEditable)return!0;const l=u.tagName;return"INPUT"===l||"TEXTAREA"===l||"SELECT"===l}(h.target))return;const l=h.key.toLowerCase();"c"!==l?"x"!==l?"v"===l&&function Hn(u){if(!u.activePetSlot)return u.setStatus("Select a pet slot first.","error"),!1;if(!u.petClipboard?.name)return u.setStatus("Nothing copied yet.","error"),!1;const h=$i(u,u.activePetSlot.side,u.activePetSlot.index);if(!h)return u.setStatus("Could not access selected pet slot.","error"),!1;const l=Us(u.petClipboard);h.removePet();for(const[y,P]of Object.entries(l)){const C=h.formGroup?.get(y);C&&C.setValue(P,{emitEvent:!1})}return h.substitutePet(!1),h.fixLoadEquipment(),u.setStatus("Pet pasted.","success"),!0}(u)&&h.preventDefault():ui(u,!0)&&h.preventDefault():ui(u,!1)&&h.preventDefault()})(this,l),l.defaultPrevented||function tA(u,h){if(!u.api&&u.formGroup&&!function nC(u){if(!u)return!1;if(u.isContentEditable)return!0;const l=u.tagName;return"INPUT"===l||"TEXTAREA"===l||"SELECT"===l}(h.target)&&h.altKey&&!h.ctrlKey&&!h.metaKey)switch(h.key.toLowerCase()){case"s":if(u.simulationInProgress)return;return u.simulate(u.formGroup.get("simulations")?.value??1e3),void h.preventDefault();case"r":if(u.simulationInProgress)return;return u.randomize(),void h.preventDefault();case"u":if(!u.undoState)return;return u.undoRandomize(),void h.preventDefault();case"p":if(u.simulationInProgress)return;return u.optimizePositioning("player"),void h.preventDefault();case"o":if(u.simulationInProgress)return;return u.optimizePositioning("opponent"),void h.preventDefault();case"a":return u.toggleAdvanced(),void h.preventDefault();case"t":return u.toggleTheme(),void h.preventDefault();case"h":return u.setStatus("Shortcuts: Alt+S Simulate, Alt+R Randomize, Alt+P/O Optimize, Alt+A Scenario, Alt+T Theme."),void h.preventDefault();default:;}}(this,l)}initFormGroup(){(function be(u){u.formGroup=function em(u){u.updatePreviousShopTier(11),u.updateGoldSpent(10,10);const y=new ue.gE({playerPack:new ue.MJ(u.player.pack??null),opponentPack:new ue.MJ(u.opponent.pack??null),playerToy:new ue.MJ(u.player.toy?.name),playerToyLevel:new ue.MJ(u.player.toy?.level??1),opponentToy:new ue.MJ(u.opponent.toy?.name),opponentToyLevel:new ue.MJ(u.opponent.toy?.level??1),playerHardToy:new ue.MJ(null),playerHardToyLevel:new ue.MJ(1),opponentHardToy:new ue.MJ(null),opponentHardToyLevel:new ue.MJ(1),turn:new ue.MJ(11),playerGoldSpent:new ue.MJ(10),opponentGoldSpent:new ue.MJ(10),allPets:new ue.MJ(!1),logFilter:new ue.MJ(null),playerPets:new ue.Yp([]),opponentPets:new ue.Yp([]),customPacks:new ue.Yp([]),oldStork:new ue.MJ(!1),tokenPets:new ue.MJ(!0),komodoShuffle:new ue.MJ(!1),mana:new ue.MJ(!1),triggersConsumed:new ue.MJ(!1),playerRollAmount:new ue.MJ(4),opponentRollAmount:new ue.MJ(4),playerLevel3Sold:new ue.MJ(0),opponentLevel3Sold:new ue.MJ(0),playerSummonedAmount:new ue.MJ(0),opponentSummonedAmount:new ue.MJ(0),playerTransformationAmount:new ue.MJ(0),opponentTransformationAmount:new ue.MJ(0),showAdvanced:new ue.MJ(!1),showTriggerNamesInLogs:new ue.MJ(!1),showPositionalArgsInLogs:new ue.MJ(!0),ailmentEquipment:new ue.MJ(!0),changeEquipmentUses:new ue.MJ(!1),seed:new ue.MJ(null),logsEnabled:new ue.MJ(!0),simulations:new ue.MJ(100)});return Yc(y,u.player,u.opponent),y.get("playerPack").valueChanges.subscribe(P=>{if(null!=P){if("Add Custom Pack"==P)return void u.openCustomPackEditor();u.resetPackImageError("player",P),u.updatePlayerPack(u.player,P)}}),y.get("opponentPack").valueChanges.subscribe(P=>{if(null!=P){if("Add Custom Pack"==P)return void u.openCustomPackEditor();u.resetPackImageError("opponent",P),u.updatePlayerPack(u.opponent,P)}}),y.get("playerToy").valueChanges.subscribe(P=>{u.updatePlayerToy(u.player,P??null)}),y.get("opponentToy").valueChanges.subscribe(P=>{u.updatePlayerToy(u.opponent,P??null)}),y.get("playerToyLevel").valueChanges.subscribe(P=>{null!=P&&u.updateToyLevel(u.player,P)}),y.get("opponentToyLevel").valueChanges.subscribe(P=>{null!=P&&u.updateToyLevel(u.opponent,P)}),y.get("playerHardToy").valueChanges.subscribe(P=>{u.gameService.gameApi.playerHardToy=P??null,u.setHardToyImage(u.player,P??null)}),y.get("playerHardToyLevel").valueChanges.subscribe(P=>{null!=P&&(u.gameService.gameApi.playerHardToyLevel=P)}),y.get("opponentHardToy").valueChanges.subscribe(P=>{u.gameService.gameApi.opponentHardToy=P??null,u.setHardToyImage(u.opponent,P??null)}),y.get("opponentHardToyLevel").valueChanges.subscribe(P=>{null!=P&&(u.gameService.gameApi.opponentHardToyLevel=P)}),y.get("turn").valueChanges.subscribe(P=>{null!=P&&(u.updatePreviousShopTier(P),u.setDayNight())}),y.get("playerGoldSpent").valueChanges.subscribe(P=>{null!=P&&u.updateGoldSpent(P,null)}),y.get("opponentGoldSpent").valueChanges.subscribe(P=>{null!=P&&u.updateGoldSpent(null,P)}),y.get("oldStork").valueChanges.subscribe(P=>{null!=P&&(u.gameService.gameApi.oldStork=P)}),y.get("komodoShuffle").valueChanges.subscribe(P=>{null!=P&&(u.gameService.gameApi.komodoShuffle=P)}),y.get("mana").valueChanges.subscribe(P=>{null!=P&&(u.gameService.gameApi.mana=P)}),y.get("playerRollAmount").valueChanges.subscribe(P=>{null!=P&&(u.gameService.gameApi.playerRollAmount=P)}),y.get("opponentRollAmount").valueChanges.subscribe(P=>{null!=P&&(u.gameService.gameApi.opponentRollAmount=P)}),y.get("playerLevel3Sold").valueChanges.subscribe(P=>{null!=P&&(u.gameService.gameApi.playerLevel3Sold=P)}),y.get("opponentLevel3Sold").valueChanges.subscribe(P=>{null!=P&&(u.gameService.gameApi.opponentLevel3Sold=P)}),y.get("playerSummonedAmount").valueChanges.subscribe(P=>{null!=P&&(u.gameService.gameApi.playerSummonedAmount=P)}),y.get("opponentSummonedAmount").valueChanges.subscribe(P=>{null!=P&&(u.gameService.gameApi.opponentSummonedAmount=P)}),y.get("playerTransformationAmount").valueChanges.subscribe(P=>{null!=P&&(u.gameService.gameApi.playerTransformationAmount=P)}),y.get("opponentTransformationAmount").valueChanges.subscribe(P=>{null!=P&&(u.gameService.gameApi.opponentTransformationAmount=P)}),y}({player:u.player,opponent:u.opponent,gameService:u.gameService,toyService:u.toyService,updatePreviousShopTier:h=>Iy(u,h),updateGoldSpent:(h,l)=>Ry(u,h,l),setDayNight:()=>oe(u),openCustomPackEditor:()=>p(u),resetPackImageError:(h,l)=>E_(u,h),updatePlayerPack:(h,l,y)=>Ki(u,h,l,y),updatePlayerToy:(h,l)=>Jc(u,h,l),updateToyLevel:(h,l)=>Ly(0,h,l),setHardToyImage:(h,l)=>rm(u,h,l)}),u.logService.setShowTriggerNamesInLogs(u.formGroup.get("showTriggerNamesInLogs")?.value),u.formGroup.get("showTriggerNamesInLogs")?.valueChanges.subscribe(h=>{u.logService.setShowTriggerNamesInLogs(h)}),we(u)})(this),this.formGroup.get("logFilter")?.valueChanges.subscribe(()=>{this.refreshFilteredBattles()}),this.formGroup.get("simulations")?.valueChanges.subscribe(l=>{l>1e4&&this.formGroup.get("simulations")?.setValue(1e4,{emitEvent:!1})}),this.formGroup.get("seed")?.valueChanges.subscribe(l=>{if(""===l||null==l)return;const y=Number(l);if(!Number.isFinite(y))return void this.formGroup.get("seed")?.setValue(null,{emitEvent:!1});const P=Math.trunc(y);P!==y&&this.formGroup.get("seed")?.setValue(P,{emitEvent:!1})})}toggleAdvanced=()=>function iT(u){const h=u.formGroup.get("showAdvanced").value;u.formGroup.get("showAdvanced").setValue(!h)}(this);initPetForms=()=>Pe(this);refreshPetFormArrays=()=>we(this);updatePlayerPack=(l,y,P=!0)=>Ki(this,l,y,P);updatePlayerToy=(l,y)=>Jc(this,l,y);setToyImage=(l,y)=>za(this,l,y);setHardToyImage=(l,y)=>rm(this,l,y);updatePreviousShopTier=l=>Iy(this,l);updateGoldSpent=(l,y)=>Ry(this,l,y);updateToyLevel=(l,y)=>Ly(0,l,y);getRandomEquipment=()=>xy(this);simulate=(l=1e3)=>function Fv(u,h=1e3){try{if(u.pendingPositioningOptimizationBaseline=null,u.positioningDeltaSummary=null,u.api)return void JS(u,h);QS(u,h)}catch(l){console.error(l),u.setStatus?.("Something went wrong, please send a bug report.","error")}}(this,l);runSimulation=(l=1e3,y)=>JS(this,l,y);cancelSimulation=()=>function lo(u){!u.simulationWorker||!u.simulationInProgress||(u.simulationRunId=(u.simulationRunId??0)+1,u.simulationCancelRequested=!0,u.setStatus?.("Cancelling simulation...","error"),u.simulationService.requestWorkerCancel(u.simulationWorker),co(u),u.simulationInProgress=!1,u.simulationCancelRequested=!1,u.pendingPositioningOptimizationBaseline=null,u.positioningDeltaSummary=null,u.setStatus?.("Simulation cancelled.","error"),u.markForCheck?.())}(this);optimizePositioning=l=>function qS(u,h,l=1e3){if(u.simulationInProgress)return;const y=Math.max(1,Math.trunc(l||1));u.positioningDeltaSummary=null,u.pendingPositioningOptimizationBaseline=function Kv(u,h){if(!u.simulated)return null;const l=wg(u.playerWinner,u.opponentWinner,u.draw);return l<=0?null:{side:h,playerWins:u.playerWinner,opponentWins:u.opponentWinner,draws:u.draw,totalBattles:l}}(u,h);const P=Lv(u,"0 / "+120*y,`Optimizing ${h} positioning...`),C=u.simulationService.runPositioningOptimizationInWorker(u.formGroup,l,u.player,u.opponent,{onProgress:I=>{if(!Pa(u,P))return;const W=I.totalBattlesEstimate?Math.floor(I.completedBattles/I.totalBattlesEstimate*100):0;u.simulationProgress=W,u.simulationProgressLabel=`${I.completedBattles} / ${I.totalBattlesEstimate} sims`,u.markForCheck?.()},onResult:I=>{if(!Pa(u,P))return;co(u),ZS(u,I),u.pendingPositioningOptimizationBaseline=u.pendingPositioningOptimizationBaseline??function e1(u){const h=function $v(u){const h=u.find(l=>l.order.every((y,P)=>y===P));return h||(u.find(l=>l.simulations>0)??null)}(u.rankedPermutations);return!h||h.simulations<=0?null:"player"===u.side?{side:u.side,playerWins:h.wins,opponentWins:h.losses,draws:h.draws,totalBattles:h.simulations}:{side:u.side,playerWins:h.losses,opponentWins:h.wins,draws:h.draws,totalBattles:h.simulations}}(I),u.simulationInProgress=!1,u.simulationCancelRequested=!1,u.simulationProgress=100,u.simulationProgressLabel=`${I.simulatedBattles} / ${I.simulatedBattles} sims`;const W=(100*I.bestPermutation.score).toFixed(1);u.setStatus?.(`${function Wv(u){return u.charAt(0).toUpperCase()+u.slice(1)}(h)} optimized (${W}% score). Running verification sim...`,"success"),u.markForCheck?.(),QS(u,l)},onAborted:I=>{Pa(u,P)&&(co(u),I.bestPermutation&&ZS(u,I),u.pendingPositioningOptimizationBaseline=null,u.positioningDeltaSummary=null,Qs(u,"Positioning optimization cancelled.","error"))},onError:I=>{Pa(u,P)&&(co(u),u.pendingPositioningOptimizationBaseline=null,u.positioningDeltaSummary=null,Qs(u,I||"Positioning optimization failed.","error"))}},{side:h,maxSimulationsPerPermutation:y,batchSize:Math.min(25,y),minSamplesBeforeElimination:Math.min(50,y),confidenceZ:1.96});u.simulationWorker=C}(this,l,this.formGroup.get("simulations").value??1e3);afterPositioningApplied=()=>{this.refreshPetFormArrays(),setTimeout(()=>{for(const l of this.petSelectors.toArray())l.substitutePet()})};markForCheck=()=>this.cdr.markForCheck();captureRandomEvents=()=>function Sy(u){if(!u.simulationInProgress){if(qg(u,[],!0),My(u,u.randomDecisions,[]),0===u.randomDecisions.length)return void u.setStatus("No random decisions captured in this battle.","error");u.setStatus(`Captured ${u.randomDecisions.length} random decision(s).`,"success")}}(this);clearRandomOverrides=()=>function Ty(u){u.randomDecisionSelectionByFingerprint={},u.randomDecisions=[],u.randomOverrideError=null,u.markForCheck()}(this);runForcedRandomSimulation=()=>function TM(u){if(u.simulationInProgress)return;const h=[...u.randomDecisions];qg(u,Zg(u),!1),My(u,u.randomDecisions,h),u.randomOverrideError?u.setStatus(u.randomOverrideError,"error"):u.setStatus("Forced simulation completed.","success")}(this);onRandomDecisionChoiceChanged=(l,y)=>function Dy(u,h,l){const y=Tl(h);u.randomDecisionSelectionByFingerprint={...u.randomDecisionSelectionByFingerprint,[y]:l},function q1(u){if(u.simulationInProgress||0===u.randomDecisions.length)return;const h=[...u.randomDecisions];qg(u,Zg(u),!1),My(u,u.randomDecisions,h)}(u)}(this,l,y);getRandomDecisionLabelParts=l=>function J1(u,h){const l=`label:${h.key}:${h.label}`,y=u.randomDecisionPartsCache.get(l);if(y)return y;const P=Jg(h.label);return u.randomDecisionPartsCache.set(l,P),P}(this,l);getRandomDecisionSelectedOptionParts=l=>function Q1(u,h){const l=Qg(u,h),P=(h.options.find(X=>X.id===l)??h.options[0])?.label??"",C=`option:${h.key}:${P}`,I=u.randomDecisionPartsCache.get(C);if(I)return I;const W=Jg(P);return u.randomDecisionPartsCache.set(C,W),W}(this,l);getSelectedRandomDecisionOptionId=l=>Qg(this,l);get logs(){return this.logService.getLogs()}get currentFightAnimationFrame(){return this.fightAnimationFrameIndex<0||this.fightAnimationFrameIndex>=this.fightAnimationFrames.length?null:this.fightAnimationFrames[this.fightAnimationFrameIndex]??null}get currentFightAnimationRenderFrame(){const l=this.currentFightAnimationFrame;if(!l)return this.fightAnimationRenderFrameCache=null,this.fightAnimationRenderFrameCacheSource=null,this.fightAnimationRenderFrameCacheIndex=-1,null;if(this.fightAnimationRenderFrameCache&&this.fightAnimationRenderFrameCacheSource===l&&this.fightAnimationRenderFrameCacheIndex===this.fightAnimationFrameIndex)return this.fightAnimationRenderFrameCache;const P=function gy(u,h,l=null){const y=h%2==0?"a":"b",P=new Map,C=new Map,I=new Set,W=new Map,X=new Map,z=new Set,pe=new Set;for(const Ut of u.popups){const Wt=cs(Ut.side,Ut.slot),yi=P.get(Wt);yi?yi.push(Ut):P.set(Wt,[Ut])}for(const Ut of u.shifts){const Wt=cs(Ut.side,Ut.slot);I.add(Wt),C.set(Wt,Math.max(1,Ut.fromSlot-Ut.slot))}for(const Ut of u.equipmentChanges){const Wt=cs(Ut.side,Ut.slot),yi=fy(Ut);"removed"!==Ut.action?(X.set(Wt,yi),ua(Ut.equipmentName)&&z.add(Wt)):(W.set(Wt,yi),ua(Ut.equipmentName)&&pe.add(Wt))}const{transferInSlots:Me,transferOutSlots:Re}=function EM(u){const h=new Map,l=new Set,y=new Set;for(const P of u){if("removed"!==P.action)continue;const C=V1(P);if(!C)continue;const I=h.get(C);I?I.push(P):h.set(C,[P])}for(const P of u){if("added"!==P.action)continue;const C=V1(P);if(!C)continue;const I=h.get(C);if(!I||0===I.length)continue;const W=I.shift();if(!W)continue;const X=cs(W.side,W.slot),z=cs(P.side,P.slot);X!==z&&(y.add(X),l.add(z))}return{transferInSlots:l,transferOutSlots:y}}(u.equipmentChanges),$e=function vy(u,h){const l=new Set;return!h||!/\btransform(?:ed|ing)?\b/i.test(u.text)||(Xd(l,u.playerSlots,h.playerSlots,(y,P)=>!y.isEmpty&&!P.isEmpty&&by(P,y)),Xd(l,u.opponentSlots,h.opponentSlots,(y,P)=>!y.isEmpty&&!P.isEmpty&&by(P,y))),l}(u,l),ft=function yy(u,h){const l=new Set;return!h||!/\b(?:summoned|spawned)\b/i.test(u.text)||(Xd(l,u.playerSlots,h.playerSlots,(y,P)=>!y.isEmpty&&P.isEmpty),Xd(l,u.opponentSlots,h.opponentSlots,(y,P)=>!y.isEmpty&&P.isEmpty)),l}(u,l),ht=u.impact?cs(u.impact.attackerSide,u.impact.attackerSlot):null,st=u.impact?cs(u.impact.targetSide,u.impact.targetSlot):null,dt=(u.impact?.damage??0)>=12,Pt=!0===u.impact?.isSnipe,vt=Pt?st:null,It=u.death?cs(u.death.side,u.death.slot):null,ai=It&&!I.has(It)?It:null,di=Ut=>{const Wt=cs(Ut.side,Ut.slot),yi=P.get(Wt)??I1,En=Ut.pendingRemoval||!Ut.isEmpty&&null!=Ut.health&&Ut.health<=0,Sa=yi.reduce((Co,ko)=>Co+Math.abs(ko.delta),0),Fn=yi.length>=2||Sa>=14,ii=st===Wt,Qa=ii&&null!=u.impact&&En,Fa="attack"===u.type&&null!=u.impact&&!u.impact.isSnipe&&(ht===Wt||ii),ms=yi.some(Co=>"damage"!==Co.type&&Co.delta>0);return{slot:Ut,classMap:{"fight-slot-front":0===Ut.slot,"fight-slot-empty-card":Ut.isEmpty,"fight-slot-attacker":ht===Wt&&!Pt,"fight-slot-target":st===Wt,"fight-slot-snipe-target":vt===Wt,"fight-slot-impact-heavy":dt&&(ht===Wt&&!Pt||ii),"fight-slot-impact-lethal":Qa,"fight-slot-contact-pair":Fa,"fight-slot-popup-stack":Fn,"fight-slot-shifted":I.has(Wt),"fight-slot-fainted-ghost":En,"fight-slot-stat-gain":ms,"fight-slot-equipment-removed":W.has(Wt),"fight-slot-equipment-added":X.has(Wt),"fight-slot-equipment-transfer-out":Re.has(Wt),"fight-slot-equipment-transfer-in":Me.has(Wt),"fight-slot-transform":$e.has(Wt),"fight-slot-summoned":ft.has(Wt),"fight-slot-ailment-applied":z.has(Wt),"fight-slot-ailment-cleansed":pe.has(Wt),"fight-impact-phase-a":"a"===y,"fight-impact-phase-b":"b"===y},shiftSteps:C.get(Wt)??null,popups:yi,death:ai===Wt?u.death:null,removedEquipment:W.get(Wt)??null,addedEquipment:X.get(Wt)??null,showSnipeImpact:vt===Wt}};return{frame:u,phase:y,playerSlots:u.playerSlots.map(di),opponentSlots:u.opponentSlots.map(di)}}(l,this.fightAnimationFrameIndex,this.fightAnimationFrameIndex>0?this.fightAnimationFrames[this.fightAnimationFrameIndex-1]??null:null);return this.fightAnimationRenderFrameCache=P,this.fightAnimationRenderFrameCacheSource=l,this.fightAnimationRenderFrameCacheIndex=this.fightAnimationFrameIndex,P}get currentFightAnimationLogIndex(){return this.currentFightAnimationFrame?.logIndex??-1}get currentFightAnimationLogRow(){const l=this.currentFightAnimationLogIndex;return l<0||l>=this.viewBattleLogRows.length?null:this.viewBattleLogRows[l]??null}get fightAnimationMotionScale(){return 1/this.fightAnimationSpeed}get currentFightAnimationCadenceScale(){const l=this.getCurrentFightAnimationTimelineStep(),y=this.currentFightAnimationFrame;if(!l||!y)return 1;const C=l.durationMs/("attack"===y.type?520:"death"===y.type?420:"move"===y.type?320:"board"===y.type?240:360);return Math.min(1.35,Math.max(.72,Number.isFinite(C)?C:1))}get currentFightAnimationImpactScale(){const l=this.currentFightAnimationFrame;if(!l)return 1;const y=l.impact?.damage??0,P=l.popups.reduce((I,W)=>I+Math.abs(W.delta),0);return Math.min(1.45,Math.max(1,.035*y+.008*P+(l.death?.28:0)+(l.shifts.length>0?.08:0)+1))}get currentFightAnimationIsHeavyImpactFrame(){const l=this.currentFightAnimationFrame;return!!l&&((l.impact?.damage??0)>=12||l.popups.some(y=>"damage"===y.type&&Math.abs(y.delta)>=12)||null!=l.death)}get currentFightAnimationIsBurstFrame(){const l=this.currentFightAnimationFrame;return!!l&&(l.popups.length>=3||l.equipmentChanges.length>=2||l.toyChanges.length>=1)}get currentFightAnimationIsResolutionFrame(){const l=this.currentFightAnimationFrame;return!!l&&("death"===l.type||"move"===l.type||l.shifts.length>0)}setViewBattle=l=>function Gv(u,h){u.viewBattle=h,u.viewBattleLogs=u.viewBattle?.logs??[],Kc(u),Ud(u),u.refreshFightAnimationFromViewBattle?.()}(this,l);refreshViewBattleTimeline=()=>Ud(this);refreshBattleDiff=()=>vl(this);setBattleDiffLeft=l=>function Wd(u,h){u.diffBattleLeftIndex=$c(u,h),vl(u)}(this,l);setBattleDiffRight=l=>function i1(u,h){u.diffBattleRightIndex=$c(u,h),vl(u)}(this,l);setBattleDiffLeftScope=l=>function n1(u,h){u.diffBattleLeftScope=gl(h),vl(u)}(this,l);setBattleDiffRightScope=l=>function a1(u,h){u.diffBattleRightScope=gl(h),vl(u)}(this,l);setViewBattleLogFilter=l=>function Cg(u,h){u.logEventFilter=Iv(h),_l(u),u.markForCheck?.()}(this,l);toggleViewBattleLogGroup=l=>function Bv(u,h){h&&(u.collapsedLogGroupIds||(u.collapsedLogGroupIds=new Set),u.collapsedLogGroupIds.has(h)?u.collapsedLogGroupIds.delete(h):u.collapsedLogGroupIds.add(h),_l(u),u.markForCheck?.())}(this,l);refreshViewBattleLogRows=()=>Kc(this);refreshDebugLogPresentation=()=>function Rg(u){const h=Wc(u),l=new Map;u.battleRandomEvents=(u.battles??[]).map(y=>{const P=Ig(y,u.logService,h);return l.set(y,P),P}),u.battleRandomEventsByBattle=l,Kc(u),u.refreshFightAnimationFromViewBattle?.(),u.markForCheck?.()}(this);get drawWidth(){return function sM(u){return`${mg(u)+wv(u)}%`}(this)}get loseWidth(){return function _g(u){return`${mg(u)}%`}(this)}saveTeam(l){const y=this.teamName?.trim()??"";if(!y)return void this.setStatus("Enter a team name before saving.","error");const P=function xS(u){const h=u.teamName?.trim();if(!h)return{savedTeams:u.savedTeams,selectedTeamId:u.selectedTeamId,teamName:u.teamName};const l=function Rd(u,h){return u.get("player"===h?"playerPets":"opponentPets").controls.map(P=>function FS(u){if(!u||"object"!=typeof u)return null;const h=u;if(!h.name)return null;const l="string"==typeof h.equipment?h.equipment:"string"==typeof h.equipment?.name?h.equipment.name:null;return{name:String(h.name),attack:h.attack??0,health:h.health??0,exp:h.exp??0,equipment:l?{name:l}:null,belugaSwallowedPet:h.belugaSwallowedPet??null,sarcasticFringeheadSwallowedPet:h.sarcasticFringeheadSwallowedPet??null,mana:h.mana??0,triggersConsumed:h.triggersConsumed??0,foodsEaten:h.foodsEaten??0,abominationSwallowedPet1:h.abominationSwallowedPet1??null,abominationSwallowedPet2:h.abominationSwallowedPet2??null,abominationSwallowedPet3:h.abominationSwallowedPet3??null,abominationSwallowedPet1BelugaSwallowedPet:h.abominationSwallowedPet1BelugaSwallowedPet??null,abominationSwallowedPet2BelugaSwallowedPet:h.abominationSwallowedPet2BelugaSwallowedPet??null,abominationSwallowedPet3BelugaSwallowedPet:h.abominationSwallowedPet3BelugaSwallowedPet??null,abominationSwallowedPet1SarcasticFringeheadSwallowedPet:h.abominationSwallowedPet1SarcasticFringeheadSwallowedPet??null,abominationSwallowedPet2SarcasticFringeheadSwallowedPet:h.abominationSwallowedPet2SarcasticFringeheadSwallowedPet??null,abominationSwallowedPet3SarcasticFringeheadSwallowedPet:h.abominationSwallowedPet3SarcasticFringeheadSwallowedPet??null,abominationSwallowedPet1Level:h.abominationSwallowedPet1Level??1,abominationSwallowedPet2Level:h.abominationSwallowedPet2Level??1,abominationSwallowedPet3Level:h.abominationSwallowedPet3Level??1,abominationSwallowedPet1TimesHurt:h.abominationSwallowedPet1TimesHurt??0,abominationSwallowedPet2TimesHurt:h.abominationSwallowedPet2TimesHurt??0,abominationSwallowedPet3TimesHurt:h.abominationSwallowedPet3TimesHurt??0,friendsDiedBeforeBattle:h.friendsDiedBeforeBattle??0,battlesFought:h.battlesFought??0,timesHurt:h.timesHurt??0,equipmentUses:h.equipmentUses??null}}(P.value)).filter(P=>null!==P)}(u.formGroup,u.side),y=u.formGroup.get("playerToy").value??null,P=Number(u.formGroup.get("playerToyLevel").value),C=u.formGroup.get("opponentToy").value??null,I=Number(u.formGroup.get("opponentToyLevel").value),W=u.formGroup.get("playerHardToy").value??null,X=Number(u.formGroup.get("playerHardToyLevel").value),z=u.formGroup.get("opponentHardToy").value??null,pe=Number(u.formGroup.get("opponentHardToyLevel").value),Me=Number(u.formGroup.get("turn").value),Re=Number(u.formGroup.get("playerGoldSpent").value),$e=Number(u.formGroup.get("opponentGoldSpent").value),ft=!!u.formGroup.get("allPets").value,ht=!!u.formGroup.get("tokenPets").value,st=!!u.formGroup.get("komodoShuffle").value,Ct=!!u.formGroup.get("mana").value,dt=u.formGroup.get("seed")?.value,Pt=""===dt||null==dt?null:Number(dt),vt=!!u.formGroup.get("triggersConsumed").value,It=!!u.formGroup.get("changeEquipmentUses").value,ai=Number(u.formGroup.get("playerRollAmount").value),di=Number(u.formGroup.get("opponentRollAmount").value),Ut=Number(u.formGroup.get("playerLevel3Sold").value),Wt=Number(u.formGroup.get("opponentLevel3Sold").value),yi=Number(u.formGroup.get("playerSummonedAmount").value),En=Number(u.formGroup.get("opponentSummonedAmount").value),Sa=Number(u.formGroup.get("playerTransformationAmount").value),Fn=Number(u.formGroup.get("opponentTransformationAmount").value),ii=u.savedTeams.find(Qa=>Qa.name.toLowerCase()===h.toLowerCase());if(ii)ii.pets=l,ii.name=h,ii.playerToyName=y,ii.playerToyLevel=P,ii.opponentToyName=C,ii.opponentToyLevel=I,ii.playerHardToy=W,ii.playerHardToyLevel=X,ii.opponentHardToy=z,ii.opponentHardToyLevel=pe,ii.turn=Me,ii.playerGoldSpent=Re,ii.opponentGoldSpent=$e,ii.allPets=ft,ii.tokenPets=ht,ii.komodoShuffle=st,ii.mana=Ct,ii.seed=Number.isFinite(Pt)?Math.trunc(Pt):null,ii.triggersConsumed=vt,ii.changeEquipmentUses=It,ii.playerRollAmount=ai,ii.opponentRollAmount=di,ii.playerLevel3Sold=Ut,ii.opponentLevel3Sold=Wt,ii.playerSummonedAmount=yi,ii.opponentSummonedAmount=En,ii.playerTransformationAmount=Sa,ii.opponentTransformationAmount=Fn;else{const Qa=`${Date.now()}-${Math.random().toString(16).slice(2,8)}`;u.savedTeams.push({id:Qa,name:h,pets:l,createdAt:Date.now(),playerToyName:y,playerToyLevel:P,opponentToyName:C,opponentToyLevel:I,playerHardToy:W,playerHardToyLevel:X,opponentHardToy:z,opponentHardToyLevel:pe,turn:Me,playerGoldSpent:Re,opponentGoldSpent:$e,allPets:ft,tokenPets:ht,komodoShuffle:st,mana:Ct,seed:Number.isFinite(Pt)?Math.trunc(Pt):null,triggersConsumed:vt,changeEquipmentUses:It,playerRollAmount:ai,opponentRollAmount:di,playerLevel3Sold:Ut,opponentLevel3Sold:Wt,playerSummonedAmount:yi,opponentSummonedAmount:En,playerTransformationAmount:Sa,opponentTransformationAmount:Fn}),u.selectedTeamId=Qa}return u.teamPresetsService.persistTeams(u.savedTeams),{savedTeams:u.savedTeams,selectedTeamId:u.selectedTeamId,teamName:""}}({side:l,teamName:y,formGroup:this.formGroup,savedTeams:this.savedTeams,selectedTeamId:this.selectedTeamId,teamPresetsService:this.teamPresetsService});this.savedTeams=P.savedTeams,this.selectedTeamId=P.selectedTeamId,this.teamName=P.teamName}loadTeam(l){!function BS(u){const h=u.savedTeams.find(W=>W.id===u.selectedTeamId);if(!h)return;null!=h.turn&&u.formGroup.get("turn").setValue(h.turn),null!=h.playerGoldSpent&&u.formGroup.get("playerGoldSpent").setValue(h.playerGoldSpent),null!=h.opponentGoldSpent&&u.formGroup.get("opponentGoldSpent").setValue(h.opponentGoldSpent),null!=h.allPets&&u.formGroup.get("allPets").setValue(h.allPets),u.formGroup.get("tokenPets").setValue(!0),null!=h.komodoShuffle&&u.formGroup.get("komodoShuffle").setValue(h.komodoShuffle),null!=h.mana&&u.formGroup.get("mana").setValue(h.mana),(null!=h.seed||null===h.seed)&&u.formGroup.get("seed")?.setValue(h.seed??null),null!=h.triggersConsumed&&u.formGroup.get("triggersConsumed").setValue(h.triggersConsumed),null!=h.changeEquipmentUses&&u.formGroup.get("changeEquipmentUses").setValue(h.changeEquipmentUses),null!=h.playerRollAmount?u.formGroup.get("playerRollAmount").setValue(h.playerRollAmount):null!=h.rollAmount&&"player"===u.side&&u.formGroup.get("playerRollAmount").setValue(h.rollAmount),null!=h.opponentRollAmount?u.formGroup.get("opponentRollAmount").setValue(h.opponentRollAmount):null!=h.rollAmount&&"opponent"===u.side&&u.formGroup.get("opponentRollAmount").setValue(h.rollAmount),null!=h.playerLevel3Sold&&u.formGroup.get("playerLevel3Sold").setValue(h.playerLevel3Sold),null!=h.opponentLevel3Sold&&u.formGroup.get("opponentLevel3Sold").setValue(h.opponentLevel3Sold),null!=h.playerSummonedAmount&&u.formGroup.get("playerSummonedAmount").setValue(h.playerSummonedAmount),null!=h.opponentSummonedAmount&&u.formGroup.get("opponentSummonedAmount").setValue(h.opponentSummonedAmount),null!=h.playerTransformationAmount?u.formGroup.get("playerTransformationAmount").setValue(h.playerTransformationAmount):null!=h.transformationAmount&&"player"===u.side&&u.formGroup.get("playerTransformationAmount").setValue(h.transformationAmount),null!=h.opponentTransformationAmount?u.formGroup.get("opponentTransformationAmount").setValue(h.opponentTransformationAmount):null!=h.transformationAmount&&"opponent"===u.side&&u.formGroup.get("opponentTransformationAmount").setValue(h.transformationAmount),null!=h.transformationAmount&&u.formGroup.get("player"===u.side?"playerTransformationAmount":"opponentTransformationAmount").setValue(h.transformationAmount);const l=dg({name:h.playerToyName,level:h.playerToyLevel},{name:h.toyName,level:h.toyLevel},{name:h.opponentToyName,level:h.opponentToyLevel}),y=dg({name:h.opponentToyName,level:h.opponentToyLevel},{name:h.toyName,level:h.toyLevel},{name:h.playerToyName,level:h.playerToyLevel});"player"===u.side?(u.formGroup.get("playerToy").setValue(l.name),u.formGroup.get("playerToyLevel").setValue(l.level)):(u.formGroup.get("opponentToy").setValue(y.name),u.formGroup.get("opponentToyLevel").setValue(y.level)),null!=h.playerHardToy&&u.formGroup.get("playerHardToy").setValue(h.playerHardToy),null!=h.playerHardToyLevel&&u.formGroup.get("playerHardToyLevel").setValue(h.playerHardToyLevel),null!=h.opponentHardToy&&u.formGroup.get("opponentHardToy").setValue(h.opponentHardToy),null!=h.opponentHardToyLevel&&u.formGroup.get("opponentHardToyLevel").setValue(h.opponentHardToyLevel);const P="player"===u.side?u.player:u.opponent,C=u.equipmentService.getInstanceOfAllEquipment(),I=u.equipmentService.getInstanceOfAllAilments();for(let W=0;W<5;W++){const X=h.pets?.[W];if(!X?.name){P.setPet(W,null,!0);continue}const z="string"==typeof X.equipment?X.equipment:X.equipment?.name,pe=z?C.get(z)??I.get(z):null,Me=pe?(0,LS.e)(pe):null;if(Me){const $e=X.equipmentUses??Me.uses;null!=$e&&(Me.uses=$e,Me.originalUses=$e)}const Re=u.petService.createPet({name:X.name,attack:X.attack??0,health:X.health??0,exp:X.exp??0,equipment:Me??null,belugaSwallowedPet:X.belugaSwallowedPet??null,sarcasticFringeheadSwallowedPet:X.sarcasticFringeheadSwallowedPet??null,mana:X.mana??0,triggersConsumed:X.triggersConsumed??0,foodsEaten:X.foodsEaten??0,abominationSwallowedPet1:X.abominationSwallowedPet1??null,abominationSwallowedPet2:X.abominationSwallowedPet2??null,abominationSwallowedPet3:X.abominationSwallowedPet3??null,abominationSwallowedPet1BelugaSwallowedPet:X.abominationSwallowedPet1BelugaSwallowedPet??null,abominationSwallowedPet2BelugaSwallowedPet:X.abominationSwallowedPet2BelugaSwallowedPet??null,abominationSwallowedPet3BelugaSwallowedPet:X.abominationSwallowedPet3BelugaSwallowedPet??null,abominationSwallowedPet1SarcasticFringeheadSwallowedPet:X.abominationSwallowedPet1SarcasticFringeheadSwallowedPet??null,abominationSwallowedPet2SarcasticFringeheadSwallowedPet:X.abominationSwallowedPet2SarcasticFringeheadSwallowedPet??null,abominationSwallowedPet3SarcasticFringeheadSwallowedPet:X.abominationSwallowedPet3SarcasticFringeheadSwallowedPet??null,abominationSwallowedPet1Level:X.abominationSwallowedPet1Level??1,abominationSwallowedPet2Level:X.abominationSwallowedPet2Level??1,abominationSwallowedPet3Level:X.abominationSwallowedPet3Level??1,abominationSwallowedPet1TimesHurt:X.abominationSwallowedPet1TimesHurt??0,abominationSwallowedPet2TimesHurt:X.abominationSwallowedPet2TimesHurt??0,abominationSwallowedPet3TimesHurt:X.abominationSwallowedPet3TimesHurt??0,friendsDiedBeforeBattle:X.friendsDiedBeforeBattle??0,battlesFought:X.battlesFought??0,timesHurt:X.timesHurt??0},P);P.setPet(W,Re,!0)}u.initPetForms(),function NS(u,h,l){const P=u.get("player"===h?"playerPets":"opponentPets");if(P)for(let C=0;C<P.length;C++){const I=P.at(C),W=l?.[C];I.get("equipmentUses")?.setValue(W?.equipmentUses??null,{emitEvent:!1})}}(u.formGroup,u.side,h.pets)}({side:l,selectedTeamId:this.selectedTeamId,savedTeams:this.savedTeams,formGroup:this.formGroup,player:this.player,opponent:this.opponent,petService:this.petService,equipmentService:this.equipmentService,initPetForms:()=>this.initPetForms()})}loadTeamPresets(){this.savedTeams=this.teamPresetsService.loadTeams()}randomize=l=>function _D(u,h){try{u.undoState=JSON.parse(JSON.stringify(u.formGroup.getRawValue()))}catch(y){console.error("Failed to create undo snapshot",y)}const l=u.formGroup.get("allPets").value;h?(h.allPets=u.formGroup.get("allPets").value,h.tokenPets=u.formGroup.get("tokenPets").value,Dl(u,h),l?sm(u,h):Qc(u,h)):(u.player.allPets=u.formGroup.get("allPets").value,u.player.tokenPets=u.formGroup.get("tokenPets").value,u.opponent.allPets=u.formGroup.get("allPets").value,u.opponent.tokenPets=u.formGroup.get("tokenPets").value,Dl(u,u.player),Dl(u,u.opponent),l?(sm(u,u.player),sm(u,u.opponent)):(Qc(u,u.player),Qc(u,u.opponent))),u.formGroup&&Pe(u),setTimeout(()=>{u.petSelectors.forEach(y=>{y.initSelector()})})}(this,l);undoRandomize=()=>function D_(u){u.undoState&&(Q(u,u.undoState),Xe(u),u.undoState=null,setTimeout(()=>{u.petSelectors&&u.petSelectors.forEach(h=>{h.fixLoadEquipment()})}))}(this);clearCache=()=>function jp(u){u.localStorageService.clearStorage(),u.setStatus?.("Cache cleared. Refresh page to see changes.","success")}(this);initModals=()=>function s(u){u.customPackEditorModal=new Ao(u.customPackEditor.nativeElement),u.customPackEditor.nativeElement.addEventListener("show.bs.modal",()=>{document.body.classList.add("custom-pack-editor-open")}),u.customPackEditor.nativeElement.addEventListener("hidden.bs.modal",()=>{document.body.classList.remove("custom-pack-editor-open")})}(this);openCustomPackEditor=()=>p(this);drop=(l,y)=>function m(u,h,l){let y=h.previousIndex,P=h.currentIndex;"player"==l&&(y=4-y,P=4-P);const C=u.formGroup.get(`${l}Pets`);Hu(C.controls,y,P),C.updateValueAndValidity(),we(u),setTimeout(()=>{for(const I of u.petSelectors.toArray())I.substitutePet()})}(this,l,y);resetPlayer=l=>b(this,l);export=()=>function T(u){u.localStorageService.setFormStorage(u.formGroup);const h=(0,Nc.$j)(u.formGroup);navigator.clipboard.writeText(h).then(()=>{u.setStatus?.("Copied to clipboard.","success")}).catch(l=>{console.error("Clipboard error:",l),u.setStatus?.("Failed to copy to clipboard.","error")})}(this);import=(l,y=!1,P)=>M(this,l,y,P);importForDialog=(l,y)=>M(this,l,!1,y);generateShareLink=()=>function R(u){u.localStorageService.setFormStorage(u.formGroup);const h=window.location.origin+window.location.pathname,l=(0,Nc._9)(u.formGroup,h);navigator.clipboard.writeText(l).then(()=>{u.setStatus?.("Shareable link copied to clipboard!","success")}).catch(y=>{console.error("Failed to copy link: ",y),u.setStatus?.("Failed to copy link. See console for details.","error")})}(this);refreshFilteredBattles=()=>Og(this);get winPercent(){return function kv(u){const h=u.playerWinner+u.opponentWinner+u.draw;return 0===h?0:pg(u.playerWinner/h*100)}(this)}get drawPercent(){return wv(this)}get losePercent(){return mg(this)}get positioningDeltaSideLabel(){return"opponent"===this.positioningDeltaSummary?.side?"Opponent":"Player"}formatSignedPercentDelta(l){const y=Number.isFinite(l)?l:0;return`${y>=0?"+":"-"}${Math.abs(y).toFixed(2)}`}get validCustomPacks(){return function DM(u){const h=u.formGroup.get("customPacks"),l=[];for(const y of h.controls)y.valid&&l.push(y);return l}(this)}getToyIcon=Fy;get selectedTeamName(){return function nT(u){return om(u)?.name||""}(this)}get selectedTeamPreviewIcons(){return function aT(u){return(om(u)?.pets||[]).slice(0,5).map(l=>(0,Mt.EA)(l?.name)).filter(Boolean)}(this)}getToyOptionStyle=sT;openSelectionDialog=(l,y)=>function ZP(u,h,l){u.selectionType=h,u.selectionSide=l,u.showSelectionDialog=!0}(this,l,y);onItemSelected=l=>function Hp(u,h){if(h instanceof Event)return u.showSelectionDialog=!1,void(u.selectionSide="none");const l=h&&"object"==typeof h?h:null;if(!u.selectionSide||"none"===u.selectionSide)return"team"===u.selectionType&&(u.selectedTeamId="string"==typeof h?h:"string"==typeof l?.id?l.id:"string"==typeof l?.name?l.name:""),u.showSelectionDialog=!1,void(u.selectionSide="none");const y=u.selectionSide,P=u.selectionType;if("pack"===P){const C="string"==typeof h?h:"string"==typeof l?.name?l.name:null;"player"===y?u.formGroup.get("playerPack").setValue(C):u.formGroup.get("opponentPack").setValue(C)}else if("toy"===P){const C="string"==typeof h?h:"string"==typeof l?.name?l.name:null,I="string"==typeof C&&"none"===C.trim().toLowerCase()?null:C;"player"===y?u.formGroup.get("playerToy").setValue(I):u.formGroup.get("opponentToy").setValue(I)}else if("hard-toy"===P){const C="string"==typeof h?h:"string"==typeof l?.name?l.name:null,I="string"==typeof C&&"none"===C.trim().toLowerCase()?null:C;"player"===y?u.formGroup.get("playerHardToy").setValue(I):u.formGroup.get("opponentHardToy").setValue(I)}else"team"===P&&(u.selectedTeamId="string"==typeof h?h:"string"==typeof l?.id?l.id:"string"==typeof l?.name?l.name:"");u.showSelectionDialog=!1,u.selectionSide="none"}(this,l);getPackIconPath=gD;onPackImageError=l=>function mD(u,h){"player"===h?u.playerPackImageBroken=!0:u.opponentPackImageBroken=!0}(this,l);resetPackImageError=(l,y)=>E_(this,l);incrementToyLevel=l=>function Do(u,h){const l="player"===h?"playerToyLevel":"opponentToyLevel",y=u.formGroup.get(l).value;y<3&&u.formGroup.get(l).setValue(y+1)}(this,l);decrementToyLevel=l=>function eA(u,h){const l="player"===h?"playerToyLevel":"opponentToyLevel",y=u.formGroup.get(l).value;y>1&&u.formGroup.get(l).setValue(y-1)}(this,l);removeHardToy=l=>function S_(u,h){u.formGroup.get("player"===h?"playerHardToy":"opponentHardToy").setValue(null)}(this,l);getToyIconPath=T_;getCurrentFightAnimationTimelineStep(){const l=this.fightAnimationTimeline;if(!l)return null;const y=this.fightAnimationFrameIndex;return y<0||y>=l.steps.length?null:l.steps[y]??null}clearFightAnimationTimer(){Yd(this)}setStatus(l,y="success"){this.statusMessage=l,this.statusTone=y,this.cdr.markForCheck(),this.clearStatusTimer(),this.statusTimer=setTimeout(()=>{this.statusMessage="",this.statusTimer=null,this.cdr.markForCheck()},3e3)}clearStatus(){this.clearStatusTimer(),this.statusMessage="",this.cdr.markForCheck()}clearStatusTimer(){this.statusTimer&&(clearTimeout(this.statusTimer),this.statusTimer=null)}loadThemePreference(){const l=window.localStorage.getItem(this.uiThemeStorageKey);if("light"===l||"dark"===l)return void this.applyTheme(l,!1);const y=window.matchMedia?.("(prefers-color-scheme: dark)")?.matches;this.applyTheme(y?"dark":"light",!1)}loadSoundPreference(){this.soundMuted=Ah(),this.soundVolume=Eh()}applyTheme(l,y){this.theme=l,this.battleBackgrounds="dark"===l?[...Tv]:[...IS],this.setRandomBackground(),document.documentElement.setAttribute("data-bs-theme",l),document.body.classList.toggle("theme-dark","dark"===l),y&&window.localStorage.setItem(this.uiThemeStorageKey,l),this.cdr.markForCheck()}static \u0275fac=function(y){return new(y||u)(e.rXU(aC.K),e.rXU(v.zZn),e.rXU(t.gRc),e.rXU(sC.K),e.rXU(fD.w),e.rXU(Ms.T),e.rXU(Vs.w),e.rXU(oa.m),e.rXU(zf.s),e.rXU(AC),e.rXU(SC),e.rXU(MC),e.rXU(CC))};static \u0275cmp=e.VBU({type:u,selectors:[["app-root"]],viewQuery:function(y,P){if(1&y&&e.GBs(kC,5)(ef,5),2&y){let C;e.mGM(C=e.lsd())&&(P.customPackEditor=C.first),e.mGM(C=e.lsd())&&(P.petSelectors=C)}},hostBindings:function(y,P){1&y&&e.bIt("keydown",function(I){return P.handleKeyboardShortcuts(I)},e.EBC)},decls:3,vars:3,consts:[["container",""],["customPackEditor",""],["playerPetSelector",""],["opponentPetSelector",""],[4,"ngIf"],[3,"ngClass","type","showAllPets","customPacks","savedTeams","select","close",4,"ngIf"],["id","apiResponse"],[1,"container-fluid","app-wrapper","flex-col",3,"formGroup","ngClass"],[1,"row","battle-row","pb-5","pt-3"],[1,"col-12","col-xl-6","px-4","mb-2","mb-xl-0"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-center","toy-wrap"],[1,"me-2","player-side-text"],[1,"toy-row"],[1,"toy-slot"],["type","button",1,"toy-select-btn",3,"click"],["class","toy-art","width","36","height","36","loading","lazy","decoding","async","alt","Player Toy",3,"ngSrc",4,"ngIf"],[1,"toy-label"],[1,"fas","fa-chevron-down"],["class","toy-level-controls inline",4,"ngIf"],["class","toy-art hard-toy-art","width","36","height","36","loading","lazy","decoding","async","alt","Player Hard Toy",3,"ngSrc",4,"ngIf"],["type","button","class","toy-remove-btn-inline","title","Remove hard toy","aria-label","Remove player hard toy",3,"click",4,"ngIf"],[1,"btn","glass-btn","mb-1",3,"click"],[1,"card","p-2","player-card"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"row","row-cols-1","row-cols-md-5","g-0",3,"cdkDropListDropped"],["class","col drag-container mb-2 mb-md-0 px-0","cdkDrag","","cdkDragLockAxis","x",3,"cdkDragStartDelay","pet-slot-active","mousedown","focusin",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-xl-6","px-4"],[1,"me-2","opponent-side-text"],["class","toy-art","width","36","height","36","loading","lazy","decoding","async","alt","Opponent Toy",3,"ngSrc",4,"ngIf"],["class","toy-art hard-toy-art","width","36","height","36","loading","lazy","decoding","async","alt","Opponent Hard Toy",3,"ngSrc",4,"ngIf"],["type","button","class","toy-remove-btn-inline","title","Remove hard toy","aria-label","Remove opponent hard toy",3,"click",4,"ngIf"],[1,"card","p-2","player-card","ml-auto"],["class","col drag-container mb-2 mb-sm-0 px-0","cdkDrag","","cdkDragLockAxis","x",3,"cdkDragStartDelay","pet-slot-active","mousedown","focusin",4,"ngFor","ngForOf","ngForTrackBy"],[3,"app"],["id","customPackEditor","tabindex","-1","aria-labelledby","customPackEditorLabel","aria-hidden","true",1,"modal","fade","custom-pack-editor-modal"],[1,"modal-dialog","modal-lg","custom-pack-editor-dialog"],[1,"modal-content"],[1,"modal-header"],["id","customPackEditorLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],["id","info","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],["id","exampleModalLabel",1,"modal-title","fs-5"],["id","import","tabindex","-1","aria-labelledby","importModalLabel","aria-hidden","true",1,"modal","fade"],["id","importModalLabel",1,"modal-title","fs-5"],["id","export","tabindex","-1","aria-labelledby","exportModalLabel","aria-hidden","true",1,"modal","fade"],["id","exportModalLabel",1,"modal-title","fs-5"],["id","reportABug","tabindex","-1","aria-labelledby","reportABugLabel","aria-hidden","true",1,"modal","fade"],["id","reportABugLabel",1,"modal-title","fs-5"],["width","36","height","36","loading","lazy","decoding","async","alt","Player Toy",1,"toy-art",3,"ngSrc"],[1,"toy-level-controls","inline"],["type","button","title","Decrease level","aria-label","Decrease player toy level",1,"toy-level-btn",3,"click"],[1,"fas","fa-minus"],[1,"toy-level-label"],["type","button","title","Increase level","aria-label","Increase player toy level",1,"toy-level-btn",3,"click"],[1,"fas","fa-plus"],["width","36","height","36","loading","lazy","decoding","async","alt","Player Hard Toy",1,"toy-art","hard-toy-art",3,"ngSrc"],["type","button","title","Remove hard toy","aria-label","Remove player hard toy",1,"toy-remove-btn-inline",3,"click"],[1,"fas","fa-times"],["cdkDrag","","cdkDragLockAxis","x",1,"col","drag-container","mb-2","mb-md-0","px-0",3,"mousedown","focusin","cdkDragStartDelay"],[1,"pet-slot-actions"],["type","button","title","Clear this pet selector","aria-label","Clear this pet selector",1,"pet-clear-btn",3,"click"],[3,"pet","player","opponent","index","formGroup","ailments","allPets","mana","triggersConsumed","allowEquipmentUseOverrides","showTokenPets","flipImage","customPacks"],["width","36","height","36","loading","lazy","decoding","async","alt","Opponent Toy",1,"toy-art",3,"ngSrc"],["type","button","title","Decrease level","aria-label","Decrease opponent toy level",1,"toy-level-btn",3,"click"],["type","button","title","Increase level","aria-label","Increase opponent toy level",1,"toy-level-btn",3,"click"],["width","36","height","36","loading","lazy","decoding","async","alt","Opponent Hard Toy",1,"toy-art","hard-toy-art",3,"ngSrc"],["type","button","title","Remove hard toy","aria-label","Remove opponent hard toy",1,"toy-remove-btn-inline",3,"click"],["cdkDrag","","cdkDragLockAxis","x",1,"col","drag-container","mb-2","mb-sm-0","px-0",3,"mousedown","focusin","cdkDragStartDelay"],[1,"text-muted"],[3,"importFunc"],[3,"calcFormGroup"],[3,"select","close","ngClass","type","showAllPets","customPacks","savedTeams"]],template:function(y,P){1&y&&e.DNE(0,LC,3,1,"ng-container",4)(1,ZC,114,27,"ng-container",4)(2,ek,1,5,"app-item-selection-dialog",5),2&y&&(e.Y8G("ngIf",P.api),e.R7$(),e.Y8G("ngIf",!P.api),e.R7$(),e.Y8G("ngIf",P.showSelectionDialog))},dependencies:[jt.MD,jt.YU,jt.Sq,jt.bT,bi,ue.YN,ue.cb,ue.X1,ue.j4,Yu,zo,uc,ef,mc,Xf,jE,Sv],styles:[':root{color-scheme:light;--ui-space-1: 4px;--ui-space-2: 8px;--ui-space-3: 12px;--ui-space-4: 16px;--ui-space-5: 24px;--ui-font-main: "Lapsus Pro", Roboto, "Helvetica Neue", sans-serif;--ui-font-main-letter-spacing: .0125em;--ui-surface-0: #ffffff;--ui-surface-1: #f8fafc;--ui-surface-2: #f1f5f9;--ui-border-1: #dbe4ee;--ui-text-1: #0f172a;--ui-text-2: #334155;--ui-text-3: #64748b;--ui-brand: #2563eb;--ui-brand-weak: #dbeafe;--ui-success: #16a34a;--ui-danger: #dc2626;--ui-draw: #64748b;--ui-player-soft: #5fbf5f;--ui-opponent-soft: #e06a6a}.theme-dark{color-scheme:dark;--ui-surface-0: #111827;--ui-surface-1: #1f2937;--ui-surface-2: #273548;--ui-border-1: #334155;--ui-text-1: #f8fafc;--ui-text-2: #cbd5e1;--ui-text-3: #94a3b8;--ui-brand: #3b82f6;--ui-brand-weak: rgba(59, 130, 246, .22);--ui-success: #22c55e;--ui-danger: #f87171;--ui-draw: #94a3b8}.app-wrapper{min-height:100vh;font-family:var(--ui-font-main);letter-spacing:var(--ui-font-main-letter-spacing)}.day-night-container{min-height:1em}.flex-col{display:flex;flex-direction:column}.player-card{background-color:transparent;display:grid;grid-auto-rows:minmax(min-content,max-content);grid-template-columns:auto 1fr auto;border-color:transparent;box-shadow:none}.back,.front{transform:rotate(180deg);writing-mode:vertical-lr;text-align:center}.battle-row{background-color:#5ebe09;background-repeat:no-repeat;background-position:center;background-size:cover;font-weight:400}.battle-row h2{font-weight:500}.player-side-text{color:var(--ui-player-soft)}.opponent-side-text{color:var(--ui-opponent-soft)}.battle-row h2.player-side-text{color:var(--ui-player-soft)}.battle-row h2.opponent-side-text{color:var(--ui-opponent-soft)}.side-select-player{color:var(--ui-player-soft)}.side-select-opponent{color:var(--ui-opponent-soft)}.stat-label.player-side-text{color:var(--ui-player-soft)}.stat-label.opponent-side-text{color:var(--ui-opponent-soft)}.log-filter-tabs .log-filter-tab.player-side-text{color:var(--ui-player-soft)}.log-filter-tabs .log-filter-tab.opponent-side-text{color:var(--ui-opponent-soft)}.log-filter-tabs .log-filter-tab.active.player-side-text{background-color:var(--ui-player-soft);border-color:var(--ui-player-soft);color:#fff}.log-filter-tabs .log-filter-tab.active.opponent-side-text{background-color:var(--ui-opponent-soft);border-color:var(--ui-opponent-soft);color:#fff}.battle-row button,.battle-row .btn,.battle-row .btn-link,.battle-row .log-filter-tab,.battle-row .log-event-filter-btn{font-family:var(--ui-font-main)}.log-row{padding:.35rem .75rem;border-bottom:1px solid #eef1f4}.top-controls{border-radius:14px;background:linear-gradient(180deg,#fff,#f8fbff);padding:.4rem .5rem .5rem;margin-bottom:.35rem;border:1px solid var(--ui-border-1);box-shadow:0 1px 2px #0f172a0a}.top-controls-header{display:grid;grid-template-columns:minmax(300px,1.05fr) minmax(320px,1.2fr) minmax(280px,1fr);gap:var(--ui-space-2);align-items:start;padding:6px 10px 3px}.top-toolbar-zone{display:flex;flex-direction:column;gap:3px;border:1px solid var(--ui-border-1);border-radius:12px;padding:7px 8px;background:var(--ui-surface-0)}.zone-label{display:inline-flex;align-items:center;gap:var(--ui-space-1);font-size:.72rem;font-weight:700;line-height:1;text-transform:uppercase;letter-spacing:.045em;color:var(--ui-text-3)}.zone-label.zone-label-right{justify-content:flex-end}.top-toolbar-zone-results{align-items:center;gap:2px}.simulate-controls{display:flex;flex-wrap:wrap;gap:var(--ui-space-1)}.simulate-input-group{display:flex;align-items:center;gap:var(--ui-space-1)}.simulate-input-group .simulate-input{width:88px;text-align:center;font-weight:600}.optimize-control-group,.randomize-control-group{display:inline-flex;align-items:center;gap:var(--ui-space-1)}.top-controls .btn{border-radius:10px;border-width:1px;font-weight:600;letter-spacing:.01em;font-family:var(--ui-font-main);transition:background-color .18s ease,border-color .18s ease,color .18s ease,box-shadow .18s ease}.top-controls .btn-primary{background:var(--ui-brand);border-color:var(--ui-brand);color:#fff}.top-controls .btn-primary:hover:not(:disabled){background:#1d4ed8;border-color:#1d4ed8}.top-controls .btn-secondary{background:var(--ui-surface-2);border-color:var(--ui-border-1);color:var(--ui-text-2)}.top-controls .btn-secondary:hover:not(:disabled){background:#e2e8f0;border-color:#cbd5e1}.top-controls .btn-outline-primary,.top-controls .btn-outline-secondary,.top-controls .btn-outline-danger{background:transparent;color:var(--ui-text-2);border-color:#cbd5e1}.top-controls .btn-outline-primary:hover:not(:disabled),.top-controls .btn-outline-secondary:hover:not(:disabled),.top-controls .btn-outline-danger:hover:not(:disabled){background:var(--ui-surface-2);border-color:#b8c5d6;color:var(--ui-text-1)}.results-placeholder{display:flex;flex-direction:column;align-items:center;gap:var(--ui-space-2);min-height:64px;width:100%}.results-placeholder-text{color:var(--ui-text-3);font-size:.82rem;font-weight:600;text-transform:uppercase;letter-spacing:.03em}.placeholder-bar{border-color:#d8e1eb;background-color:#eef2f7}.top-toolbar-zone-actions{align-items:flex-end;justify-content:space-between}.external-meta{align-items:center;display:flex;flex-wrap:wrap;gap:var(--ui-space-2);justify-content:flex-end;text-align:right}.external-buttons{display:flex;flex-wrap:wrap;gap:var(--ui-space-1);justify-content:flex-end}.sound-menu{position:relative}.sound-menu-panel{position:absolute;top:calc(100% + 6px);right:0;min-width:180px;z-index:20;border:1px solid var(--ui-border-1);border-radius:10px;background:var(--ui-surface-0);padding:10px;box-shadow:0 6px 18px #00000026;display:flex;flex-direction:column;gap:8px}.sound-menu-title{color:var(--ui-text-2);font-size:.78rem;font-weight:700;text-transform:uppercase;letter-spacing:.03em}.sound-menu-slider{margin:0}.sound-menu-mute-btn{width:100%}.top-controls-body{padding:4px 10px 8px}.controls-grid{display:grid;grid-template-columns:repeat(3,minmax(220px,1fr));gap:var(--ui-space-2);align-items:start}.controls-section{display:flex;flex-direction:column;gap:var(--ui-space-1);padding:8px;border-radius:12px;background-color:var(--ui-surface-1);border:1px solid var(--ui-border-1)}.controls-section .form-group,.controls-section .form-check{margin-bottom:0}.controls-section .form-group>label{margin-bottom:var(--ui-space-1);font-size:.74rem;font-weight:700;color:var(--ui-text-3);text-transform:uppercase;letter-spacing:.03em}.controls-section .form-check-label{color:var(--ui-text-2);font-size:.84rem}.section-title{font-size:.84rem;font-weight:700;text-transform:uppercase;letter-spacing:.04em;color:var(--ui-text-3)}.controls-section.unified-advanced-section{grid-column:span 3}.teams-section{flex-direction:row;flex-wrap:wrap;gap:var(--ui-space-2);align-items:flex-start}.team-name-actions{display:flex;gap:var(--ui-space-1)}.team-column{display:flex;flex-direction:column;gap:var(--ui-space-1);min-width:180px;flex:1 1 220px}.team-selection-btn{min-height:44px;display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:.6rem}.team-preview{display:flex;gap:2px}.team-preview-icon{width:28px;height:28px;border-radius:6px;background:#f5f6f8;object-fit:contain;border:1px solid rgba(0,0,0,.08)}.btn-placeholder{color:#495057;font-size:.9rem;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;letter-spacing:.025em}.team-name-input{max-width:220px}.team-select{max-width:240px}.packs-section .min-w-input{min-width:180px}.compact-toy-group .toy-panel{border-radius:10px;padding:.5rem .6rem;background:#fff;display:flex;flex-direction:column;gap:.5rem;box-shadow:none;max-width:100%;margin:0;border:1px solid #eef1f4}.selection-btn{width:100%;display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;background:#fff;border:1px solid #ced4da;border-radius:10px;transition:all .2s;cursor:pointer;text-align:left;min-height:42px;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400}.selection-btn:hover{background:#f1f3f5;border-color:#adb5bd;color:inherit;transform:translateY(-1px)}.selection-btn:focus-visible{outline:3px solid var(--sap-btn-primary);outline-offset:2px;border-color:var(--sap-btn-primary);color:inherit}.selection-btn:active{color:inherit}.selection-btn .btn-icon{width:24px;height:24px;object-fit:contain}.selection-btn .btn-text{font-size:.9rem;color:#495057;font-weight:400;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;letter-spacing:.025em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.selection-btn i{color:#adb5bd;font-size:.8rem}:host-context(.night) .selection-btn{background:#3d3d3d;border-color:#444;color:#eee}:host-context(.night) .selection-btn:hover{background:#444;border-color:#555}:host-context(.night) .selection-btn:focus-visible{outline-color:#9ec5ff;border-color:#9ec5ff}:host-context(.night) .selection-btn .btn-text{color:#eee}:host-context(.night) .selection-btn .btn-placeholder{color:#eee}.compact-toy-group .toy-row{display:flex;gap:.5rem;flex-wrap:wrap;align-items:flex-end;justify-content:center}.compact-toy-group .toy-inline{flex:1;min-width:150px;display:flex;flex-direction:column;gap:.2rem}.compact-toy-group .toy-inline label{font-size:.75rem;font-weight:600;margin-bottom:0}.compact-toy-group .toy-level{max-width:90px}.compact-toy-group .hard-row .toy-inline{min-width:200px}.unified-advanced-section{gap:var(--ui-space-2)}.unified-advanced-header{display:flex;align-items:center}.unified-advanced-toggle-btn{width:100%;display:inline-flex;align-items:center;gap:var(--ui-space-2);color:var(--ui-text-2);text-decoration:none;font-weight:700}.unified-advanced-count{color:var(--ui-text-3);font-size:.74rem;text-transform:uppercase;letter-spacing:.03em}.unified-advanced-chevron{display:inline-block;margin-left:auto;transition:transform .2s ease}.unified-advanced-chevron.expanded{transform:rotate(180deg)}.unified-advanced-summary{color:var(--ui-text-3);font-size:.84rem;border-top:1px dashed var(--ui-border-1);padding-top:var(--ui-space-2)}.unified-advanced-body{display:flex;flex-direction:column;gap:var(--ui-space-1)}.unified-advanced-body .nested-section{background:var(--ui-surface-0)}.unified-advanced-body .packs-section{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:var(--ui-space-1) var(--ui-space-2);align-items:start}.unified-advanced-body .packs-section .form-check,.unified-advanced-body .packs-section .subsection-title,.unified-advanced-body .teams-section .subsection-title{grid-column:1/-1}.unified-advanced-body .teams-section{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:var(--ui-space-1) var(--ui-space-2);align-items:start}.unified-advanced-body .teams-section .team-column{min-width:0;flex:0 1 auto}.unified-advanced-body .team-name-input{max-width:100%}.unified-advanced-body .team-name-actions .btn,.unified-advanced-body .team-name-actions .form-select{flex:1 1 0;min-width:0}.subsection-title{margin-bottom:var(--ui-space-1)}.random-overrides-panel{border:1px solid var(--ui-border-1);border-radius:10px;background:var(--ui-surface-0);padding:8px;display:flex;flex-direction:column;gap:var(--ui-space-2)}.advanced-panel-body{border:1px solid var(--ui-border-1);border-radius:10px;background:var(--ui-surface-0);padding:8px}.advanced-grid{display:grid;grid-template-columns:repeat(3,minmax(140px,1fr));gap:var(--ui-space-1) var(--ui-space-2);align-items:start}.advanced-number-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:var(--ui-space-2);align-items:flex-start}.advanced-number-grid .form-group{margin-bottom:0}.advanced-input label{font-size:.74rem;font-weight:700;letter-spacing:.02em;margin-bottom:.2rem;color:var(--ui-text-3);text-transform:uppercase}.debug-sub-toggle{margin-left:1.15rem}.debug-sub-toggle .form-check-label{color:var(--ui-text-3);font-size:.78rem}.advanced-label-with-icon{display:inline-flex;align-items:center;gap:.35rem}.advanced-icon{width:18px;height:18px;display:inline-block;background-repeat:no-repeat;background-size:contain;background-position:center;filter:drop-shadow(0 1px 1px rgba(0,0,0,.2))}.advanced-icon.roll-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/roll.png)}.advanced-icon.gold-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/gold.png)}.advanced-icon.mana-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/mana.png)}.advanced-icon.transform-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/transform.png)}.advanced-icon.cycle-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/cycle.png)}.advanced-icon.summon-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/summon.png)}.advanced-icon.token-icon{background-image:url(/assets/art/Public/Public/Pets/Bee.png)}.advanced-icon.komodo-icon{background-image:url(/assets/art/Public/Public/Pets/Komodo.png)}.advanced-icon.perk-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/perk.png)}.advanced-icon.pheasant-icon{background-image:url(/assets/art/Public/Public/Icons/triggers-from-textmap.png)}.advanced-icon.abomination-icon{background-image:url(/assets/art/Public/Public/Pets/Shoggoth.png)}.small-w-input label{font-size:.74rem;font-weight:700;letter-spacing:.02em;margin-bottom:.2rem;color:var(--ui-text-3);text-transform:uppercase}.advanced-input input{text-align:center}.advanced-toggle{display:flex;justify-content:flex-start}.random-overrides-header{align-items:center;display:flex;flex-wrap:wrap;gap:var(--ui-space-2);justify-content:space-between}.random-overrides-toggle{display:inline-flex;align-items:center;gap:var(--ui-space-2);color:var(--ui-text-2);text-decoration:none;font-weight:700}.random-overrides-count{color:var(--ui-text-3);font-size:.8rem;text-transform:uppercase;letter-spacing:.03em}.random-overrides-chevron{display:inline-block;transition:transform .2s ease}.random-overrides-chevron.expanded{transform:rotate(180deg)}.random-overrides-actions{display:flex;flex-wrap:wrap;gap:var(--ui-space-1)}.random-overrides-summary{color:var(--ui-text-3);font-size:.92rem;border-top:1px dashed var(--ui-border-1);padding-top:var(--ui-space-2)}.random-overrides-body{display:flex;flex-direction:column;gap:var(--ui-space-2);border-top:1px dashed var(--ui-border-1);padding-top:var(--ui-space-2)}.random-overrides-empty{color:var(--ui-text-3);font-size:.92rem}.random-overrides-error{color:#b42318;font-size:.92rem;font-weight:600}.random-overrides-table-wrap{max-height:260px;overflow:auto}.random-overrides-table{margin-bottom:0}.decision-label{font-size:.94rem;font-weight:600;line-height:1.3}.decision-key{color:#6c757d;font-family:Courier New,Courier,monospace;font-size:.84rem}.decision-choice-preview{font-size:.9rem;line-height:1.35;margin-bottom:.3rem;min-height:1.25rem}.meta-text{color:#6c757d;font-size:.9rem}.battle-controller.border{border:0;background-color:#f5f5f5}.small-w-input{width:60px}@media(max-width:1199.98px){.controls-grid{grid-template-columns:repeat(2,minmax(220px,1fr))}.controls-section.unified-advanced-section{grid-column:span 2}}@media(max-width:991.98px){.top-controls-header{grid-template-columns:1fr}.top-toolbar-zone-actions,.external-meta,.external-buttons{align-items:flex-start;justify-content:flex-start;text-align:left}.zone-label.zone-label-right{justify-content:flex-start}.controls-grid{grid-template-columns:1fr}.controls-section.unified-advanced-section{grid-column:span 1}.teams-section{flex-direction:column}.advanced-grid{grid-template-columns:repeat(2,minmax(120px,1fr))}.packs-section .min-w-input,.team-column{min-width:0}.unified-advanced-body .packs-section,.unified-advanced-body .teams-section{grid-template-columns:1fr}}@media(max-width:575.98px){.top-controls{padding:.35rem .35rem .5rem}.top-controls-header,.top-controls-body{padding-left:.5rem;padding-right:.5rem}.simulate-controls,.simulate-input-group,.optimize-control-group,.randomize-control-group,.team-name-actions,.external-buttons,.random-overrides-actions{width:100%}.simulate-controls,.optimize-control-group,.randomize-control-group,.team-name-actions,.external-buttons,.random-overrides-actions{gap:.4rem}.simulate-input-group{flex-wrap:wrap}.simulate-input-group .simulate-input{width:100%;flex:1 1 100%}.external-buttons .btn,.team-name-actions .btn,.team-name-actions .form-select,.random-overrides-actions .btn{flex:1 1 auto}.team-name-input{max-width:100%}.advanced-grid{grid-template-columns:1fr}.advanced-number-grid{grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:.6rem}}.results-row{align-items:center;display:flex;flex-direction:column;justify-content:center;text-align:center;gap:2px;width:100%}.results-row .stats{align-items:center;display:flex;justify-content:center;gap:2px 10px;flex-wrap:wrap;width:100%}.stat-block{display:flex;flex:0 1 auto;gap:.28rem;font-weight:700;font-size:.9rem;justify-content:center;white-space:nowrap}.stat-label{font-weight:700;color:var(--ui-text-3);text-transform:uppercase;letter-spacing:.03em;font-size:.72rem}.stat-value{color:var(--ui-text-2)}.player-stat .stat-value{color:var(--ui-success)}.opponent-stat .stat-value{color:var(--ui-danger)}.draw-stat .stat-value{color:var(--ui-draw)}.modern-results-bar{width:min(560px,100%);height:14px;display:flex;overflow:hidden;border-radius:999px;border:1px solid #d7e1ec;background:#eef3f8}.modern-results-bar .results-segment{height:100%;min-width:0}.modern-results-bar .results-segment-player{background:linear-gradient(90deg,#22c55e,#16a34a)}.modern-results-bar .results-segment-draw{background:linear-gradient(90deg,#94a3b8,#64748b)}.modern-results-bar .results-segment-opponent{background:linear-gradient(90deg,#ef4444,#dc2626)}.optimization-delta{display:flex;align-items:center;justify-content:center;gap:.35rem;flex-wrap:wrap;font-size:.76rem;color:var(--ui-text-3);text-transform:uppercase;letter-spacing:.03em}.optimization-delta-label{color:var(--ui-text-2);font-weight:700}.optimization-delta-value{font-weight:700;color:var(--ui-text-2)}.optimization-delta-value-win{color:var(--ui-success)}.optimization-delta-value-loss{color:var(--ui-danger)}.optimization-delta-separator{color:var(--ui-text-3)}.top-controls-meta-text{color:var(--ui-text-3)!important;font-size:.78rem!important;text-transform:uppercase;letter-spacing:.03em}.battle-table-shell{border:1px solid #dce4ec;border-radius:10px;overflow:hidden;background:#fff}.battle-table-meta{display:flex;justify-content:space-between;align-items:center;gap:.6rem;padding:.45rem .6rem;background:#f8fafc;color:#64748b;font-size:.74rem;font-weight:700;text-transform:uppercase;letter-spacing:.03em;border-bottom:1px solid #e2e8f0}.battle-table thead th{font-size:.8rem;font-weight:700;color:#334155;text-transform:uppercase;letter-spacing:.03em;border-bottom:1px solid #e2e8f0;background:#f8fafc;padding:.55rem .6rem}.battle-table tbody td{padding:.5rem .6rem;vertical-align:middle;border-bottom:1px solid #edf2f7}.battle-table tbody tr:last-child td{border-bottom:0}.table-battle-row{cursor:pointer;transition:background-color .16s ease}.table-battle-row td{background:#fff}.table-battle-row:hover td{background:#f8fbff}.table-battle-row.selected-battle td{background:#eaf2ff}.table-battle-row.battle-win td:first-child{border-left:3px solid #16a34a}.table-battle-row.battle-loss td:first-child{border-left:3px solid #dc2626}.table-battle-row.battle-draw td:first-child{border-left:3px solid #64748b}.battle-winner-chip{display:inline-flex;align-items:center;border-radius:999px;padding:.18rem .55rem;border:1px solid #d3dce6;background:#f8fafc;color:#334155;font-size:.72rem;font-weight:700;text-transform:uppercase;letter-spacing:.03em}.battle-winner-player{background:#16a34a21;border-color:#16a34a73;color:#166534}.battle-winner-opponent{background:#dc26261f;border-color:#dc262673;color:#991b1b}.battle-winner-draw{background:#64748b24;border-color:#64748b73;color:#475569}.battle-random-cell{font-size:.95rem;line-height:1.4;color:#334155}.battle-no-random{color:#94a3b8;font-style:italic}::ng-deep .log-pet-icon{width:18px;height:18px;object-fit:contain;vertical-align:middle;margin-right:2px}::ng-deep .log-inline-icon{width:16px;height:16px;object-fit:contain;vertical-align:middle;margin:0 3px 2px}.pane-top-shell{border:1px solid #dee5ee;border-radius:10px;background:linear-gradient(180deg,#f8fafd,#fff);padding:.55rem .6rem .65rem;margin-bottom:.55rem}.pane-title{margin:0;font-size:1.55rem;line-height:1.1;color:#1e293b}.pane-subtitle{display:block;margin:.4rem 0 .25rem;font-size:.78rem;font-weight:700;text-transform:uppercase;letter-spacing:.035em;color:#64748b}.logs-top-shell{padding-bottom:.55rem}.log-container{display:block;padding-left:.35rem;padding-right:.35rem}.log-container.log-container-with-analysis{max-height:24rem;overflow-y:auto}.bold{font-weight:700}.log-event-filters{display:flex;flex-wrap:wrap;gap:.35rem;margin-top:.45rem;align-items:center}.log-event-filter-label{font-size:.72rem;font-weight:700;text-transform:uppercase;letter-spacing:.035em;color:#64748b;margin-right:.1rem}.log-event-filter-btn{border-radius:999px;border:1px solid #d4dbe3;background:#fff;color:#495057;padding:.3rem .75rem;font-size:.82rem;font-weight:700;line-height:1;transition:border-color .18s ease,background-color .18s ease,color .18s ease}.log-event-filter-btn.active{background:#0d6efd;border-color:#0d6efd;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55)}.log-groups{display:flex;flex-direction:column;gap:.45rem}.log-group{border:1px solid #e2e8ef;border-radius:8px;background:#fff;overflow:hidden}.log-group-header{width:100%;border:0;background:#f8fafc;padding:.36rem .5rem;display:flex;align-items:center;gap:.45rem;text-align:left;color:#334155;font-size:.84rem;font-weight:700}.log-group-title{flex:1 1 auto}.log-group-count{color:#64748b;font-size:.78rem}.log-group-meta{display:inline-flex;align-items:center;gap:.35rem}.log-group-chevron{color:#64748b;font-size:.82rem;line-height:1;transition:transform .16s ease}.log-group-chevron.log-group-chevron-collapsed{transform:rotate(-90deg)}.log-group-body{padding:.2rem .35rem .4rem}.log-group-body .log-row:first-child{margin-top:0}.log-row{position:relative;display:flex;gap:.5rem;padding:.42rem .54rem;border-radius:6px;border:1px solid transparent;margin-top:.2rem;background:#fff}.log-row:before{content:"";position:absolute;left:0;top:0;bottom:0;width:3px;border-radius:6px 0 0 6px;background:#c3cbd4}.log-row.log-player:before{background:#2f9e44}.log-row.log-opponent:before{background:#c92a2a}.log-row.log-row-board{background:#f8fafc;border-color:#e2e8ef;box-shadow:none}.log-row.log-row-board .log-row-text{font-family:var(--ui-font-main);letter-spacing:.01em;color:#64748b}.log-row.log-type-attack{border-color:var(--ui-brand-weak);background:var(--ui-surface-0)}.log-row.log-type-attack .log-row-text{color:var(--ui-text-1)}.log-row.log-type-ability,.log-row.log-type-equipment,.log-row.log-type-death{border-color:#1e40af29}.log-row.log-phase-marker{border-color:#dbeafe;background:#eff6ff}.log-row.random-event{box-shadow:inset 0 0 0 1px #fb923c47}.log-row-meta{min-width:7.8rem;display:inline-flex;flex-wrap:wrap;align-items:center;align-content:flex-start;gap:.25rem;padding-top:.02rem}.log-badge{font-size:.72rem;line-height:1;letter-spacing:.02em;text-transform:uppercase;font-weight:700;color:#475569;background:#f8fafc;border:1px solid #d3dde7;border-radius:999px;padding:.24rem .5rem}.log-badge-side-player{color:#166534;border-color:#22c55e73;background:#22c55e24}.log-badge-side-opponent{color:#991b1b;border-color:#ef444473;background:#ef444424}.log-badge-side-unknown{color:#475569}.log-badge-type-attack{border-color:#0e749066;background:#0e74901f;color:#0e7490}.log-badge-type-ability,.log-badge-type-equipment{border-color:#1e40af61;background:#1e40af1a;color:#1d4ed8}.log-badge-type-board{border-color:#47556961;background:#4755691f;color:#334155}.log-badge-type-death{border-color:#b91c1c66;background:#b91c1c1f;color:#b91c1c}.log-badge-type-move,.log-badge-type-trumpets{border-color:#64748b73;background:#64748b1f;color:#475569}.log-badge-random{border-color:#ea580c75;background:#ea580c24;color:#9a3412}.log-badge-phase{border-color:#2563eb66;background:#2563eb1f;color:#1d4ed8}.log-row-text{color:#1f2937;font-size:.98rem;line-height:1.42;flex:1 1 auto}.log-row-text span{color:inherit;font-size:inherit;line-height:inherit}.log-position-prefix{font-family:Arial,Helvetica,sans-serif!important;font-kerning:none;font-variant-ligatures:none;font-feature-settings:"kern" 0,"liga" 0;letter-spacing:normal}.log-empty-state{border:1px dashed #d0d7de;border-radius:8px;padding:.75rem;color:#6c757d;font-size:.86rem;text-align:center;background:#fff}.flex-1{flex:1}.flex-col{min-height:0}.bottom-container{min-height:38em;padding-top:.75rem;flex-wrap:nowrap}.bottom-container>div{min-height:15em}.bottom-container-scroll{min-width:0;overflow-x:auto;overflow-y:hidden}.bottom-container-scroll-hint{display:none;font-size:.8rem;font-weight:600;color:#6c757d;margin-bottom:.35rem;padding:0 .1rem;white-space:nowrap}.pane-switch-tabs{display:none;gap:.45rem;margin-bottom:.5rem}.pane-switch-tab{border-radius:999px;border:1px solid #d4dbe3;background:#fff;color:#495057;padding:.34rem .85rem;font-size:.84rem;font-weight:700;line-height:1;transition:border-color .18s ease,background-color .18s ease,color .18s ease}.pane-switch-tab.active{background:#0d6efd;border-color:#0d6efd;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55)}.pane-switch-tab:focus-visible{outline:3px solid var(--sap-btn-primary);outline-offset:2px}.bottom-container .border,.bottom-container .table{border:0}.bottom-container .table>:not(caption)>*>*{border-bottom:0}.battle-pane,.logs-pane{min-width:20rem}.bottom-container>.battle-pane{flex:0 0 50%;max-width:none;display:flex;flex-direction:column;min-height:0}.bottom-container>.logs-pane{flex:1 1 auto;max-width:none;width:auto;display:flex;flex-direction:column;min-height:0}.battle-log-divider{flex:0 0 8px;align-self:stretch;cursor:col-resize;position:relative;-webkit-user-select:none;user-select:none;touch-action:none}.battle-log-divider:before{content:"";position:absolute;left:50%;top:0;width:1px;height:100%;transform:translate(-50%);background-color:#dee2e6}.battle-log-divider:hover:before,.battle-log-divider:focus-visible:before{width:2px;background-color:#adb5bd}.battle-log-divider:focus-visible{outline:none}.vertical-resizable-stack{--fight-frame-cadence: 1;--fight-impact-scale: 1;--fight-motion: calc(var(--fight-motion-scale, 1) * var(--fight-frame-cadence, 1));display:flex;flex-direction:column;flex:1 1 auto;min-height:0}.animation-top-pane,.logs-top-pane{min-height:0;overflow:auto}.animation-bottom-pane{flex:1 1 auto;min-height:0;margin-top:0;max-height:none}.analysis-bottom-pane{flex:1 1 auto;min-height:0;overflow:hidden}.analysis-sections-stack{height:100%;min-height:0}.timeline-top-pane{min-height:0;overflow:auto}.diff-bottom-pane{flex:1 1 auto;min-height:0}.logs-analysis-stack .log-container.log-container-with-analysis{max-height:none}.horizontal-resize-divider{flex:0 0 8px;cursor:row-resize;position:relative;-webkit-user-select:none;user-select:none;touch-action:none}.horizontal-resize-divider:before{content:"";position:absolute;top:50%;left:0;width:100%;height:1px;transform:translateY(-50%);background-color:#dee2e6}.horizontal-resize-divider:hover:before,.horizontal-resize-divider:focus-visible:before{height:2px;background-color:#adb5bd}.horizontal-resize-divider:focus-visible{outline:none}.bottom-container .form-control,.bottom-container .form-check-input{border-color:transparent;box-shadow:none}.scroll{overflow-x:hidden;overflow-y:auto}.bottom-container .battle-container,.bottom-container .log-container{min-height:0;overflow-y:auto}.log-filter-tabs{display:flex;gap:.5rem;padding:.25rem 0 0;overflow-x:auto;white-space:nowrap}.log-filter-tabs::-webkit-scrollbar{display:none}.log-filter-tabs{-ms-overflow-style:none;scrollbar-width:none}.log-filter-tab{flex:0 0 auto;border-radius:999px;border:1px solid #dee2e6;background-color:#fff;color:#6c757d;font-weight:600;padding:.35rem 1rem;font-size:.9rem;transition:background-color .2s ease,color .2s ease,border-color .2s ease;cursor:pointer}.log-filter-tab:focus-visible{outline:3px solid var(--sap-btn-primary);outline-offset:2px}.log-filter-tab.active{background-color:var(--sap-btn-primary);color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);border-color:var(--sap-btn-primary)}.h-100{height:100%}.pre{white-space:pre}.analysis-section{border-top:1px solid #e9ecef;padding-top:.5rem}.battle-view-header{gap:.5rem;margin-bottom:0}.fight-stage{--fight-motion-scale: 1;--fight-frame-cadence: 1;--fight-impact-scale: 1;--fight-motion: calc(var(--fight-motion-scale, 1) * var(--fight-frame-cadence, 1));border:1px solid #e9ecef;border-radius:8px;padding:.5rem;display:grid;grid-template-columns:minmax(0,1fr) minmax(0,1fr);grid-template-areas:"player opponent" "event event";align-items:start;gap:.45rem;background:linear-gradient(180deg,#f8fbff,#fff)}.fight-stage.fight-frame-attack{box-shadow:inset 0 0 0 1px #c6282829}.fight-stage.fight-frame-ability{box-shadow:inset 0 0 0 1px #2563eb24}.fight-stage.fight-frame-burst{box-shadow:inset 0 0 0 1px #d9770633,0 0 0 1px #d9770614}.fight-stage.fight-frame-resolution{box-shadow:inset 0 0 0 1px #47556933}@keyframes fight-stage-rumble{0%{transform:translate(0)}22%{transform:translate(calc(-1px * var(--fight-impact-scale, 1)))}44%{transform:translate(calc(1.5px * var(--fight-impact-scale, 1)))}66%{transform:translate(calc(-1px * var(--fight-impact-scale, 1)))}to{transform:translate(0)}}.fight-stage.fight-frame-heavy-impact{animation:fight-stage-rumble calc(.2s * var(--fight-motion, 1)) linear}.fight-team{display:grid;grid-template-columns:repeat(5,minmax(0,1fr));gap:.35rem}.fight-team-opponent .fight-slot{background-color:#dc354514}.fight-team-player .fight-slot{background-color:#28a74514}.fight-team-opponent{grid-area:opponent}.fight-team-player{grid-area:player}.fight-team-player-head-to-head{direction:rtl}.fight-team-player-head-to-head .fight-slot{direction:ltr;--fight-shift-direction: -1}.fight-team-toy-wrap{display:flex;gap:.25rem;align-items:center;justify-content:center;grid-column:1/-1;margin-bottom:.25rem}.fight-team-toy{width:24px;height:24px;object-fit:contain;opacity:.95}.fight-team-toy-hard{filter:drop-shadow(0 0 2px rgba(0,0,0,.25))}.fight-slot{--fight-shift-direction: 1;border:1px solid #dce4ec;border-radius:8px;padding:.25rem;min-height:5rem;display:flex;flex-direction:column;gap:.15rem;align-items:center;justify-content:space-between;transition:box-shadow calc(.14s * var(--fight-motion, 1)) ease-out,background-color calc(.14s * var(--fight-motion, 1)) ease-out,border-color calc(.14s * var(--fight-motion, 1)) ease-out}.fight-slot.fight-slot-front{border-color:#0d6efd;box-shadow:inset 0 0 0 1px #0d6efd59}.fight-slot.fight-slot-impact-heavy{box-shadow:inset 0 0 0 1px #c628284d,0 0 0 1px #c6282824}.fight-slot.fight-slot-impact-lethal{border-color:#4950579e;background-image:linear-gradient(180deg,#49505733,#4950570a)}.fight-slot.fight-slot-empty-card{opacity:.8}.fight-slot.fight-slot-fainted-ghost{border-color:#49505780;box-shadow:inset 0 0 0 1px #49505738}.fight-slot.fight-slot-fainted-ghost .fight-slot-art{opacity:.68;filter:grayscale(.72) saturate(.58)}.fight-slot.fight-slot-fainted-ghost .fight-slot-stats{opacity:.72}.fight-slot-label{font-size:.68rem;font-weight:700;color:#495057}.fight-slot-art{min-height:2.7rem;display:flex;align-items:center;justify-content:center;position:relative;overflow:visible;transform:translateZ(0);backface-visibility:hidden;will-change:transform}.fight-slot-art:after{content:"";position:absolute;inset:-2px;border-radius:8px;pointer-events:none;opacity:0;background:radial-gradient(circle at 50% 50%,#ffffffb8,#ffd7a261 48%,#fff0);mix-blend-mode:screen}.fight-slot-icon{width:42px;height:42px;object-fit:contain}.fight-slot-companion{position:absolute;left:-6px;bottom:-4px;width:16px;height:16px;object-fit:contain;border-radius:50%;background-color:#fff;box-shadow:0 0 0 1px #00000014}.fight-slot-equipment{position:absolute;right:-6px;bottom:-4px;width:16px;height:16px;object-fit:contain}.fight-equipment-ghost{position:absolute;right:-6px;bottom:-4px;pointer-events:none;will-change:transform,opacity,filter}.fight-equipment-ghost-icon{width:16px;height:16px;object-fit:contain}.fight-equipment-gain-ghost{position:absolute;right:-6px;bottom:-4px;pointer-events:none;opacity:0;will-change:transform,opacity,filter}.fight-equipment-gain-icon{width:16px;height:16px;object-fit:contain}.fight-slot-empty{font-family:Courier New,Courier,monospace;color:#9aa4af;font-size:.78rem}.fight-slot-stats{display:flex;flex-wrap:wrap;justify-content:center;align-items:center;gap:.22rem;font-size:.74rem;font-weight:700;color:#212529}.fight-slot-stat{display:inline-flex;align-items:center;gap:.12rem}.fight-slot-stat-icon{width:14px;height:14px;object-fit:contain}.fight-slot-exp{gap:.18rem}.fight-slot-exp-group{width:44px;display:inline-flex;flex-direction:column;gap:1px}.fight-slot-exp-levels{display:grid;grid-template-columns:repeat(5,minmax(0,1fr));align-items:center;font-size:.42rem;line-height:1;color:#6c757d}.fight-slot-exp-level{text-align:center;font-weight:700}.fight-slot-exp-bar{display:grid;grid-template-columns:repeat(5,minmax(0,1fr));gap:1px}.fight-slot-exp-segment{height:.38rem;border:1px solid #212529;border-radius:2px;background-color:#9c5900;box-shadow:0 1px 1px #00000040}.fight-slot-exp-segment.selected{background-color:#feb900}.fight-slot-stat-divider{color:#6c757d;font-size:.66rem}.fight-event{grid-area:event;border:1px solid #dce4ec;border-radius:8px;background-color:#fff;padding:.4rem .55rem;display:flex;flex-direction:column;gap:.15rem}@keyframes fight-event-pulse-a{0%{transform:translateY(1px);opacity:.9}to{transform:translateY(0);opacity:1}}@keyframes fight-event-pulse-b{0%{transform:translateY(1px);opacity:.88}to{transform:translateY(0);opacity:1}}.fight-event.fight-event-phase-a,.fight-stage.fight-phase-a .fight-event{animation:fight-event-pulse-a calc(.26s * var(--fight-motion, 1)) ease-out}.fight-event.fight-event-phase-b,.fight-stage.fight-phase-b .fight-event{animation:fight-event-pulse-b calc(.26s * var(--fight-motion, 1)) ease-out}.fight-event.fight-event-random{border-left:4px solid #6f42c1}.fight-event-type{font-size:.74rem;font-weight:700;text-transform:uppercase;color:#6c757d}.fight-event-text{font-size:.92rem;color:#212529;line-height:1.35}.fight-event-step{font-size:.76rem;color:#6c757d}.fight-stage.fight-frame-attack .fight-event{border-color:#c6282875;box-shadow:inset 0 0 0 1px #c6282829}.fight-stage.fight-frame-burst .fight-event{border-color:#d977067a;box-shadow:inset 0 0 0 1px #d9770633}@keyframes fight-event-burst-pulse{0%{transform:translateY(1px) scale(.99);filter:brightness(1)}48%{transform:translateY(0) scale(1.01);filter:brightness(1.08)}to{transform:translateY(0) scale(1);filter:brightness(1)}}.fight-stage.fight-frame-burst .fight-event{animation:fight-event-burst-pulse calc(.24s * var(--fight-motion, 1)) cubic-bezier(.25,.7,.25,1)}@keyframes fight-lunge-player-a{0%{transform:translate(0) scale(1)}12%{transform:translate(calc(-4px * var(--fight-impact-scale, 1))) scale(.982)}36%{transform:translate(calc(16px * var(--fight-impact-scale, 1))) scale(1.05)}50%{transform:translate(calc(15px * var(--fight-impact-scale, 1))) scale(1.045)}72%{transform:translate(calc(-1px * var(--fight-impact-scale, 1))) scale(.995)}to{transform:translate(0) scale(1)}}@keyframes fight-lunge-player-b{0%{transform:translate(0) scale(1)}12%{transform:translate(calc(-3px * var(--fight-impact-scale, 1))) scale(.984)}35%{transform:translate(calc(15px * var(--fight-impact-scale, 1))) scale(1.048)}49%{transform:translate(calc(14px * var(--fight-impact-scale, 1))) scale(1.04)}72%{transform:translate(calc(-1px * var(--fight-impact-scale, 1))) scale(.995)}to{transform:translate(0) scale(1)}}@keyframes fight-lunge-opponent-a{0%{transform:translate(0) scale(1)}12%{transform:translate(calc(4px * var(--fight-impact-scale, 1))) scale(.982)}36%{transform:translate(calc(-16px * var(--fight-impact-scale, 1))) scale(1.05)}50%{transform:translate(calc(-15px * var(--fight-impact-scale, 1))) scale(1.045)}72%{transform:translate(calc(1px * var(--fight-impact-scale, 1))) scale(.995)}to{transform:translate(0) scale(1)}}@keyframes fight-lunge-opponent-b{0%{transform:translate(0) scale(1)}12%{transform:translate(calc(3px * var(--fight-impact-scale, 1))) scale(.984)}35%{transform:translate(calc(-15px * var(--fight-impact-scale, 1))) scale(1.048)}49%{transform:translate(calc(-14px * var(--fight-impact-scale, 1))) scale(1.04)}72%{transform:translate(calc(1px * var(--fight-impact-scale, 1))) scale(.995)}to{transform:translate(0) scale(1)}}@keyframes fight-hit-shake-a{0%{transform:translate(0);filter:brightness(1)}16%{transform:translate(calc(-3px * var(--fight-impact-scale, 1))) scale(1.01);filter:brightness(1.16)}34%,48%{transform:translate(calc(4px * var(--fight-impact-scale, 1))) scale(.985);filter:brightness(1.3)}82%{transform:translate(calc(-2px * var(--fight-impact-scale, 1)))}to{transform:translate(0);filter:brightness(1)}}@keyframes fight-hit-shake-b{0%{transform:translate(0);filter:brightness(1)}16%{transform:translate(calc(3px * var(--fight-impact-scale, 1))) scale(1.01);filter:brightness(1.16)}34%,48%{transform:translate(calc(-4px * var(--fight-impact-scale, 1))) scale(.985);filter:brightness(1.3)}82%{transform:translate(calc(2px * var(--fight-impact-scale, 1)))}to{transform:translate(0);filter:brightness(1)}}@keyframes fight-hit-shake-heavy-a{0%{transform:translate(0) scale(1);filter:brightness(1)}16%{transform:translate(calc(-5px * var(--fight-impact-scale, 1))) scale(1.02)}38%,56%{transform:translate(calc(6px * var(--fight-impact-scale, 1))) scale(.97);filter:brightness(1.34)}72%{transform:translate(calc(-3px * var(--fight-impact-scale, 1))) scale(1)}to{transform:translate(0) scale(1);filter:brightness(1)}}@keyframes fight-hit-shake-heavy-b{0%{transform:translate(0) scale(1);filter:brightness(1)}16%{transform:translate(calc(5px * var(--fight-impact-scale, 1))) scale(1.02)}38%,56%{transform:translate(calc(-6px * var(--fight-impact-scale, 1))) scale(.97);filter:brightness(1.34)}72%{transform:translate(calc(3px * var(--fight-impact-scale, 1))) scale(1)}to{transform:translate(0) scale(1);filter:brightness(1)}}@keyframes fight-contact-flash-a{0%{opacity:0;transform:scale(.98)}24%{opacity:.98;transform:scale(calc(1.03 * var(--fight-impact-scale, 1)))}44%{opacity:.98;transform:scale(calc(1.02 * var(--fight-impact-scale, 1)))}to{opacity:0;transform:scale(1)}}@keyframes fight-contact-flash-b{0%{opacity:0;transform:scale(.98)}22%{opacity:.96;transform:scale(calc(1.028 * var(--fight-impact-scale, 1)))}42%{opacity:.96;transform:scale(calc(1.018 * var(--fight-impact-scale, 1)))}to{opacity:0;transform:scale(1)}}@keyframes fight-contact-hitstop-a{0%{transform:scale(1);filter:brightness(1)}38%,56%{transform:scale(calc(1.08 * var(--fight-impact-scale, 1)));filter:brightness(1.24)}to{transform:scale(1);filter:brightness(1)}}@keyframes fight-contact-hitstop-b{0%{transform:scale(1);filter:brightness(1)}36%,54%{transform:scale(calc(1.075 * var(--fight-impact-scale, 1)));filter:brightness(1.22)}to{transform:scale(1);filter:brightness(1)}}.fight-team-player .fight-slot-attacker.fight-impact-phase-a .fight-slot-art,.fight-stage.fight-phase-a .fight-team-player .fight-slot-attacker .fight-slot-art{animation:fight-lunge-player-a calc(.3s * var(--fight-motion, 1)) cubic-bezier(.25,.65,.35,1)}.fight-team-player .fight-slot-attacker.fight-impact-phase-b .fight-slot-art,.fight-stage.fight-phase-b .fight-team-player .fight-slot-attacker .fight-slot-art{animation:fight-lunge-player-b calc(.3s * var(--fight-motion, 1)) cubic-bezier(.25,.65,.35,1)}.fight-team-opponent .fight-slot-attacker.fight-impact-phase-a .fight-slot-art,.fight-stage.fight-phase-a .fight-team-opponent .fight-slot-attacker .fight-slot-art{animation:fight-lunge-opponent-a calc(.3s * var(--fight-motion, 1)) cubic-bezier(.25,.65,.35,1)}.fight-team-opponent .fight-slot-attacker.fight-impact-phase-b .fight-slot-art,.fight-stage.fight-phase-b .fight-team-opponent .fight-slot-attacker .fight-slot-art{animation:fight-lunge-opponent-b calc(.3s * var(--fight-motion, 1)) cubic-bezier(.25,.65,.35,1)}.fight-slot-target.fight-impact-phase-a,.fight-stage.fight-phase-a .fight-slot-target{animation:fight-hit-shake-a calc(.25s * var(--fight-motion, 1)) ease-out;box-shadow:inset 0 0 0 1px #c6282840}.fight-slot-target.fight-impact-phase-b,.fight-stage.fight-phase-b .fight-slot-target{animation:fight-hit-shake-b calc(.25s * var(--fight-motion, 1)) ease-out;box-shadow:inset 0 0 0 1px #c6282840}.fight-stage.fight-frame-heavy-impact .fight-slot-target.fight-impact-phase-a,.fight-stage.fight-frame-heavy-impact.fight-phase-a .fight-slot-target{animation:fight-hit-shake-heavy-a calc(.28s * var(--fight-motion, 1)) cubic-bezier(.2,.72,.3,1)}.fight-stage.fight-frame-heavy-impact .fight-slot-target.fight-impact-phase-b,.fight-stage.fight-frame-heavy-impact.fight-phase-b .fight-slot-target{animation:fight-hit-shake-heavy-b calc(.28s * var(--fight-motion, 1)) cubic-bezier(.2,.72,.3,1)}.fight-stage.fight-frame-contact-freeze .fight-slot-contact-pair.fight-impact-phase-a .fight-slot-art:after,.fight-stage.fight-frame-contact-freeze.fight-phase-a .fight-slot-contact-pair .fight-slot-art:after{animation:fight-contact-flash-a calc(205ms * var(--fight-motion, 1)) cubic-bezier(.25,.72,.25,1) forwards}.fight-stage.fight-frame-contact-freeze .fight-slot-contact-pair.fight-impact-phase-b .fight-slot-art:after,.fight-stage.fight-frame-contact-freeze.fight-phase-b .fight-slot-contact-pair .fight-slot-art:after{animation:fight-contact-flash-b calc(205ms * var(--fight-motion, 1)) cubic-bezier(.25,.72,.25,1) forwards}.fight-stage.fight-frame-contact-freeze.fight-phase-a .fight-slot-contact-pair .fight-slot-icon,.fight-stage.fight-frame-contact-freeze.fight-phase-a .fight-slot-contact-pair .fight-slot-companion{animation:fight-contact-hitstop-a calc(.19s * var(--fight-motion, 1)) cubic-bezier(.2,.78,.2,1)}.fight-stage.fight-frame-contact-freeze.fight-phase-b .fight-slot-contact-pair .fight-slot-icon,.fight-stage.fight-frame-contact-freeze.fight-phase-b .fight-slot-contact-pair .fight-slot-companion{animation:fight-contact-hitstop-b calc(.19s * var(--fight-motion, 1)) cubic-bezier(.2,.78,.2,1)}.fight-snipe-impact{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;pointer-events:none}.fight-snipe-impact-icon{width:20px;height:20px;object-fit:contain;opacity:0;filter:drop-shadow(0 0 2px rgba(51,65,85,.45));will-change:transform,opacity,filter}@keyframes fight-snipe-hit-a{0%{opacity:0;transform:translate(calc(14px * var(--fight-impact-scale, 1)),calc(-12px * var(--fight-impact-scale, 1))) scale(.58) rotate(-24deg);filter:brightness(1)}42%,52%{opacity:1;transform:translate(0) scale(calc(1.08 * var(--fight-impact-scale, 1))) rotate(0);filter:brightness(1.22)}to{opacity:0;transform:translate(calc(-3px * var(--fight-impact-scale, 1)),2px) scale(.82) rotate(8deg);filter:brightness(.96)}}@keyframes fight-snipe-hit-b{0%{opacity:0;transform:translate(calc(-14px * var(--fight-impact-scale, 1)),calc(-11px * var(--fight-impact-scale, 1))) scale(.56) rotate(22deg);filter:brightness(1)}40%,50%{opacity:1;transform:translate(0) scale(calc(1.07 * var(--fight-impact-scale, 1))) rotate(0);filter:brightness(1.2)}to{opacity:0;transform:translate(calc(2px * var(--fight-impact-scale, 1)),2px) scale(.8) rotate(-7deg);filter:brightness(.96)}}.fight-slot-snipe-target.fight-impact-phase-a .fight-snipe-impact-icon,.fight-stage.fight-phase-a .fight-slot-snipe-target .fight-snipe-impact-icon{animation:fight-snipe-hit-a calc(.33s * var(--fight-motion, 1)) ease-out forwards}.fight-slot-snipe-target.fight-impact-phase-b .fight-snipe-impact-icon,.fight-stage.fight-phase-b .fight-slot-snipe-target .fight-snipe-impact-icon{animation:fight-snipe-hit-b calc(.33s * var(--fight-motion, 1)) ease-out forwards}.fight-slot.fight-slot-stat-gain{border-color:#2f9e448c;box-shadow:inset 0 0 0 1px #2f9e4440}@keyframes fight-stat-gain-icon-a{0%{transform:scale(1);filter:brightness(1) saturate(1)}44%{transform:scale(1.13);filter:brightness(1.2) saturate(1.18)}to{transform:scale(1);filter:brightness(1) saturate(1)}}@keyframes fight-stat-gain-icon-b{0%{transform:scale(1);filter:brightness(1) saturate(1)}42%{transform:scale(1.11);filter:brightness(1.18) saturate(1.15)}to{transform:scale(1);filter:brightness(1) saturate(1)}}@keyframes fight-stat-gain-stats-a{0%{transform:translateY(0);color:#212529}42%{transform:translateY(-2px);color:#2f9e44}to{transform:translateY(0);color:#212529}}@keyframes fight-stat-gain-stats-b{0%{transform:translateY(0);color:#212529}40%{transform:translateY(-1px);color:#2f9e44}to{transform:translateY(0);color:#212529}}.fight-slot.fight-slot-stat-gain.fight-impact-phase-a .fight-slot-icon,.fight-slot.fight-slot-stat-gain.fight-impact-phase-a .fight-slot-companion,.fight-stage.fight-phase-a .fight-slot.fight-slot-stat-gain .fight-slot-icon,.fight-stage.fight-phase-a .fight-slot.fight-slot-stat-gain .fight-slot-companion{animation:fight-stat-gain-icon-a calc(.34s * var(--fight-motion, 1)) ease-out}.fight-slot.fight-slot-stat-gain.fight-impact-phase-b .fight-slot-icon,.fight-slot.fight-slot-stat-gain.fight-impact-phase-b .fight-slot-companion,.fight-stage.fight-phase-b .fight-slot.fight-slot-stat-gain .fight-slot-icon,.fight-stage.fight-phase-b .fight-slot.fight-slot-stat-gain .fight-slot-companion{animation:fight-stat-gain-icon-b calc(.34s * var(--fight-motion, 1)) ease-out}.fight-slot.fight-slot-stat-gain.fight-impact-phase-a .fight-slot-stats,.fight-stage.fight-phase-a .fight-slot.fight-slot-stat-gain .fight-slot-stats{animation:fight-stat-gain-stats-a calc(.34s * var(--fight-motion, 1)) ease-out}.fight-slot.fight-slot-stat-gain.fight-impact-phase-b .fight-slot-stats,.fight-stage.fight-phase-b .fight-slot.fight-slot-stat-gain .fight-slot-stats{animation:fight-stat-gain-stats-b calc(.34s * var(--fight-motion, 1)) ease-out}.fight-slot.fight-slot-equipment-removed{border-color:#e6492d8c;box-shadow:inset 0 0 0 1px #e6492d40}@keyframes fight-equipment-remove-a{0%{opacity:.95;transform:translateY(0) scale(1);filter:brightness(1)}48%{opacity:.78;transform:translateY(-6px) scale(1.18) rotate(-7deg);filter:brightness(1.16) saturate(1.15)}to{opacity:0;transform:translateY(-14px) scale(.72) rotate(10deg);filter:brightness(.9)}}@keyframes fight-equipment-remove-b{0%{opacity:.95;transform:translateY(0) scale(1);filter:brightness(1)}45%{opacity:.76;transform:translateY(-5px) scale(1.16) rotate(6deg);filter:brightness(1.14) saturate(1.12)}to{opacity:0;transform:translateY(-13px) scale(.74) rotate(-9deg);filter:brightness(.9)}}.fight-slot.fight-slot-equipment-removed.fight-impact-phase-a .fight-equipment-ghost,.fight-stage.fight-phase-a .fight-slot.fight-slot-equipment-removed .fight-equipment-ghost{animation:fight-equipment-remove-a calc(.34s * var(--fight-motion, 1)) ease-out forwards}.fight-slot.fight-slot-equipment-removed.fight-impact-phase-b .fight-equipment-ghost,.fight-stage.fight-phase-b .fight-slot.fight-slot-equipment-removed .fight-equipment-ghost{animation:fight-equipment-remove-b calc(.34s * var(--fight-motion, 1)) ease-out forwards}.fight-slot.fight-slot-equipment-added{border-color:#2e7d328c;box-shadow:inset 0 0 0 1px #2e7d3238}@keyframes fight-equipment-add-a{0%{opacity:0;transform:translateY(6px) scale(.72);filter:brightness(.9)}55%{opacity:.96;transform:translateY(-2px) scale(1.16);filter:brightness(1.15)}to{opacity:0;transform:translateY(0) scale(1);filter:brightness(1)}}@keyframes fight-equipment-add-b{0%{opacity:0;transform:translateY(5px) scale(.74);filter:brightness(.9)}52%{opacity:.94;transform:translateY(-2px) scale(1.14);filter:brightness(1.13)}to{opacity:0;transform:translateY(0) scale(1);filter:brightness(1)}}.fight-slot.fight-slot-equipment-added.fight-impact-phase-a:not(.fight-slot-equipment-transfer-in) .fight-equipment-gain-ghost,.fight-stage.fight-phase-a .fight-slot.fight-slot-equipment-added:not(.fight-slot-equipment-transfer-in) .fight-equipment-gain-ghost{animation:fight-equipment-add-a calc(.34s * var(--fight-motion, 1)) ease-out forwards}.fight-slot.fight-slot-equipment-added.fight-impact-phase-b:not(.fight-slot-equipment-transfer-in) .fight-equipment-gain-ghost,.fight-stage.fight-phase-b .fight-slot.fight-slot-equipment-added:not(.fight-slot-equipment-transfer-in) .fight-equipment-gain-ghost{animation:fight-equipment-add-b calc(.34s * var(--fight-motion, 1)) ease-out forwards}.fight-slot.fight-slot-transform{border-color:#7e22ce8c;box-shadow:inset 0 0 0 1px #7e22ce38}@keyframes fight-transform-morph-a{0%{transform:scale(.92);filter:hue-rotate(0deg) brightness(.95)}45%{transform:scale(1.14);filter:hue-rotate(18deg) brightness(1.18)}to{transform:scale(1);filter:hue-rotate(0deg) brightness(1)}}@keyframes fight-transform-morph-b{0%{transform:scale(.93);filter:hue-rotate(0deg) brightness(.95)}40%{transform:scale(1.12);filter:hue-rotate(-14deg) brightness(1.16)}to{transform:scale(1);filter:hue-rotate(0deg) brightness(1)}}.fight-slot.fight-slot-transform.fight-impact-phase-a .fight-slot-icon,.fight-slot.fight-slot-transform.fight-impact-phase-a .fight-slot-companion,.fight-stage.fight-phase-a .fight-slot.fight-slot-transform .fight-slot-icon,.fight-stage.fight-phase-a .fight-slot.fight-slot-transform .fight-slot-companion{animation:fight-transform-morph-a calc(.36s * var(--fight-motion, 1)) ease-out}.fight-slot.fight-slot-transform.fight-impact-phase-b .fight-slot-icon,.fight-slot.fight-slot-transform.fight-impact-phase-b .fight-slot-companion,.fight-stage.fight-phase-b .fight-slot.fight-slot-transform .fight-slot-icon,.fight-stage.fight-phase-b .fight-slot.fight-slot-transform .fight-slot-companion{animation:fight-transform-morph-b calc(.36s * var(--fight-motion, 1)) ease-out}.fight-slot.fight-slot-summoned{border-color:#0f766e8c;box-shadow:inset 0 0 0 1px #0f766e40}@keyframes fight-summon-bounce-a{0%{opacity:0;transform:translateY(16px) scale(.54);filter:saturate(.9) brightness(.9)}44%,56%{opacity:1;transform:translateY(-6px) scale(1.16);filter:saturate(1.22) brightness(1.16)}to{opacity:1;transform:translateY(0) scale(1);filter:saturate(1) brightness(1)}}@keyframes fight-summon-bounce-b{0%{opacity:0;transform:translateY(15px) scale(.56);filter:saturate(.9) brightness(.9)}42%,54%{opacity:1;transform:translateY(-5px) scale(1.14);filter:saturate(1.2) brightness(1.15)}to{opacity:1;transform:translateY(0) scale(1);filter:saturate(1) brightness(1)}}.fight-slot.fight-slot-summoned.fight-impact-phase-a .fight-slot-art,.fight-stage.fight-phase-a .fight-slot.fight-slot-summoned .fight-slot-art{animation:fight-summon-bounce-a calc(.36s * var(--fight-motion, 1)) ease-out}.fight-slot.fight-slot-summoned.fight-impact-phase-b .fight-slot-art,.fight-stage.fight-phase-b .fight-slot.fight-slot-summoned .fight-slot-art{animation:fight-summon-bounce-b calc(.36s * var(--fight-motion, 1)) ease-out}.fight-slot.fight-slot-ailment-applied{border-color:#d9770694;box-shadow:inset 0 0 0 1px #d977063d}.fight-slot.fight-slot-ailment-cleansed{border-color:#0284c78f;box-shadow:inset 0 0 0 1px #0284c738}@keyframes fight-ailment-apply-a{0%{opacity:0;transform:scale(.65) rotate(-14deg);filter:saturate(1.4) brightness(1.3)}48%{opacity:.98;transform:scale(1.18) rotate(8deg);filter:saturate(1.3) brightness(1.2)}to{opacity:1;transform:scale(1) rotate(0);filter:saturate(1) brightness(1)}}@keyframes fight-ailment-apply-b{0%{opacity:0;transform:scale(.68) rotate(12deg);filter:saturate(1.35) brightness(1.28)}45%{opacity:.98;transform:scale(1.16) rotate(-7deg);filter:saturate(1.28) brightness(1.18)}to{opacity:1;transform:scale(1) rotate(0);filter:saturate(1) brightness(1)}}@keyframes fight-ailment-cleanse-a{0%{opacity:.96;transform:scale(1) rotate(0);filter:hue-rotate(0deg) brightness(1)}45%{opacity:.84;transform:scale(1.18) rotate(-8deg);filter:hue-rotate(24deg) brightness(1.2)}to{opacity:0;transform:scale(.72) rotate(12deg);filter:hue-rotate(45deg) brightness(.88)}}@keyframes fight-ailment-cleanse-b{0%{opacity:.96;transform:scale(1) rotate(0);filter:hue-rotate(0deg) brightness(1)}42%{opacity:.82;transform:scale(1.16) rotate(7deg);filter:hue-rotate(-18deg) brightness(1.18)}to{opacity:0;transform:scale(.74) rotate(-11deg);filter:hue-rotate(-38deg) brightness(.88)}}.fight-slot.fight-slot-ailment-applied.fight-impact-phase-a .fight-slot-equipment,.fight-slot.fight-slot-ailment-applied.fight-impact-phase-a .fight-equipment-gain-ghost,.fight-stage.fight-phase-a .fight-slot.fight-slot-ailment-applied .fight-slot-equipment,.fight-stage.fight-phase-a .fight-slot.fight-slot-ailment-applied .fight-equipment-gain-ghost{animation:fight-ailment-apply-a calc(.36s * var(--fight-motion, 1)) ease-out}.fight-slot.fight-slot-ailment-applied.fight-impact-phase-b .fight-slot-equipment,.fight-slot.fight-slot-ailment-applied.fight-impact-phase-b .fight-equipment-gain-ghost,.fight-stage.fight-phase-b .fight-slot.fight-slot-ailment-applied .fight-slot-equipment,.fight-stage.fight-phase-b .fight-slot.fight-slot-ailment-applied .fight-equipment-gain-ghost{animation:fight-ailment-apply-b calc(.36s * var(--fight-motion, 1)) ease-out}.fight-slot.fight-slot-ailment-cleansed.fight-impact-phase-a .fight-equipment-ghost,.fight-stage.fight-phase-a .fight-slot.fight-slot-ailment-cleansed .fight-equipment-ghost{animation:fight-ailment-cleanse-a calc(.34s * var(--fight-motion, 1)) ease-out forwards}.fight-slot.fight-slot-ailment-cleansed.fight-impact-phase-b .fight-equipment-ghost,.fight-stage.fight-phase-b .fight-slot.fight-slot-ailment-cleansed .fight-equipment-ghost{animation:fight-ailment-cleanse-b calc(.34s * var(--fight-motion, 1)) ease-out forwards}.fight-slot.fight-slot-equipment-transfer-out{border-color:#e11d4894;box-shadow:inset 0 0 0 1px #e11d483d}.fight-slot.fight-slot-equipment-transfer-in{border-color:#05966994;box-shadow:inset 0 0 0 1px #0596693d}@keyframes fight-equipment-transfer-out-a{0%{opacity:.96;transform:translate(0) scale(1) rotate(0);filter:brightness(1)}45%{opacity:.88;transform:translate(8px,-3px) scale(1.1) rotate(-8deg);filter:brightness(1.16)}to{opacity:0;transform:translate(20px,-10px) scale(.68) rotate(12deg);filter:brightness(.9)}}@keyframes fight-equipment-transfer-out-b{0%{opacity:.96;transform:translate(0) scale(1) rotate(0);filter:brightness(1)}42%{opacity:.86;transform:translate(-8px,-3px) scale(1.1) rotate(8deg);filter:brightness(1.14)}to{opacity:0;transform:translate(-20px,-10px) scale(.7) rotate(-12deg);filter:brightness(.9)}}@keyframes fight-equipment-transfer-in-a{0%{opacity:0;transform:translate(-18px,-10px) scale(.62) rotate(-8deg);filter:brightness(.88)}55%{opacity:.98;transform:translate(2px,-1px) scale(1.18) rotate(6deg);filter:brightness(1.2)}to{opacity:0;transform:translate(0) scale(1) rotate(0);filter:brightness(1)}}@keyframes fight-equipment-transfer-in-b{0%{opacity:0;transform:translate(18px,-10px) scale(.62) rotate(8deg);filter:brightness(.88)}52%{opacity:.98;transform:translate(-2px,-1px) scale(1.16) rotate(-6deg);filter:brightness(1.18)}to{opacity:0;transform:translate(0) scale(1) rotate(0);filter:brightness(1)}}.fight-slot.fight-slot-equipment-transfer-out.fight-impact-phase-a .fight-equipment-ghost,.fight-stage.fight-phase-a .fight-slot.fight-slot-equipment-transfer-out .fight-equipment-ghost{animation:fight-equipment-transfer-out-a calc(.34s * var(--fight-motion, 1)) ease-out forwards}.fight-slot.fight-slot-equipment-transfer-out.fight-impact-phase-b .fight-equipment-ghost,.fight-stage.fight-phase-b .fight-slot.fight-slot-equipment-transfer-out .fight-equipment-ghost{animation:fight-equipment-transfer-out-b calc(.34s * var(--fight-motion, 1)) ease-out forwards}.fight-slot.fight-slot-equipment-transfer-in.fight-impact-phase-a .fight-equipment-gain-ghost,.fight-stage.fight-phase-a .fight-slot.fight-slot-equipment-transfer-in .fight-equipment-gain-ghost{animation:fight-equipment-transfer-in-a calc(.34s * var(--fight-motion, 1)) ease-out forwards}.fight-slot.fight-slot-equipment-transfer-in.fight-impact-phase-b .fight-equipment-gain-ghost,.fight-stage.fight-phase-b .fight-slot.fight-slot-equipment-transfer-in .fight-equipment-gain-ghost{animation:fight-equipment-transfer-in-b calc(.34s * var(--fight-motion, 1)) ease-out forwards}.fight-slot.fight-slot-shifted{animation:fight-shift-forward calc(.26s * var(--fight-motion, 1)) ease-out}@keyframes fight-shift-forward{0%{transform:translate(calc(var(--fight-shift-steps, 1) * 18px * var(--fight-shift-direction, 1)));opacity:.7}to{transform:translate(0);opacity:1}}@media(max-width:768px){.fight-stage{grid-template-columns:minmax(0,1fr);grid-template-areas:"opponent" "event" "player"}.fight-team-player-head-to-head{direction:ltr}.fight-team-player-head-to-head .fight-slot{--fight-shift-direction: 1}}.fight-value-popup{position:absolute;left:50%;top:calc(-2px - var(--fight-popup-index, 0) * 12px);transform:translate3d(-50%,0,0);display:inline-flex;align-items:center;gap:.14rem;font-size:.78rem;font-weight:700;line-height:.9;color:#495057;text-shadow:0 1px 0 #ffffff,0 0 4px rgba(255,255,255,.8);pointer-events:none;white-space:nowrap;z-index:4;backface-visibility:hidden;will-change:transform,opacity}.fight-value-popup.fight-value-popup-damage{font-size:1.24rem;font-weight:900;letter-spacing:-.03em;color:#ff3131;-webkit-text-stroke:1.25px rgba(22,4,4,.98);text-shadow:0 1px 0 rgba(255,246,246,.94),0 0 2px rgba(32,0,0,.72),0 2px 0 rgba(32,0,0,.94),0 4px 6px rgba(0,0,0,.52)}.fight-slot.fight-slot-popup-stack .fight-value-popup{text-shadow:0 1px 0 #ffffff,0 0 6px rgba(255,255,255,.95)}.fight-slot.fight-slot-popup-stack .fight-value-popup.fight-value-popup-damage{font-size:1.34rem}.fight-slot.fight-slot-impact-heavy .fight-value-popup.fight-value-popup-damage{font-size:1.42rem}.fight-value-popup-number{display:inline-block;transform-origin:50% 74%}.fight-value-popup.fight-value-popup-debuff{color:#c92a2a}.fight-value-popup.fight-value-popup-buff{color:#2f9e44}.fight-value-popup.fight-value-popup-trumpets{color:#b45309}.fight-value-popup-icon{width:14px;height:14px;object-fit:contain}.fight-value-popup.fight-value-popup-trumpets .fight-value-popup-icon{animation:fight-trumpet-icon-pop calc(.36s * var(--fight-motion, 1)) ease-out;animation-delay:calc(var(--fight-popup-index, 0) * 32ms * var(--fight-motion, 1));filter:drop-shadow(0 0 2px rgba(245,158,11,.5))}@keyframes fight-trumpet-icon-pop{0%{transform:scale(.86) rotate(-8deg)}45%{transform:scale(1.2) rotate(6deg)}to{transform:scale(1) rotate(0)}}@keyframes fight-value-pop-a{0%{opacity:0;transform:translate(-50%,8px) scale(.8)}20%{opacity:1}to{opacity:0;transform:translate(-50%,-20px) scale(1.04)}}@keyframes fight-value-pop-b{0%{opacity:0;transform:translate(-50%,7px) scale(.82)}18%{opacity:1}to{opacity:0;transform:translate(-50%,-22px) scale(1.03)}}@keyframes fight-damage-pop-a{0%{opacity:0;transform:translate(-50%,13px) scale(.24) rotate(-8deg)}14%{opacity:1;transform:translate(-50%,-4px) scale(calc(1.42 * var(--fight-impact-scale, 1))) rotate(2deg)}30%{opacity:1;transform:translate(-50%,-5px) scale(calc(1.24 * var(--fight-impact-scale, 1))) rotate(0)}48%{opacity:1;transform:translate(-50%,-5px) scale(calc(1.16 * var(--fight-impact-scale, 1))) rotate(-1deg)}74%{opacity:.92;transform:translate(-50%,-14px) scale(1.04) rotate(0)}to{opacity:0;transform:translate(-50%,-25px) scale(.88) rotate(0)}}@keyframes fight-damage-pop-b{0%{opacity:0;transform:translate(-50%,13px) scale(.24) rotate(8deg)}14%{opacity:1;transform:translate(-50%,-4px) scale(calc(1.38 * var(--fight-impact-scale, 1))) rotate(-2deg)}30%{opacity:1;transform:translate(-50%,-5px) scale(calc(1.22 * var(--fight-impact-scale, 1))) rotate(0)}48%{opacity:1;transform:translate(-50%,-5px) scale(calc(1.14 * var(--fight-impact-scale, 1))) rotate(1deg)}74%{opacity:.92;transform:translate(-50%,-14px) scale(1.04) rotate(0)}to{opacity:0;transform:translate(-50%,-25px) scale(.88) rotate(0)}}.fight-value-popup.fight-value-phase-a,.fight-stage.fight-phase-a .fight-value-popup{animation:fight-value-pop-a calc(.56s * var(--fight-motion, 1)) ease-out both;animation-delay:calc(var(--fight-popup-index, 0) * 38ms * var(--fight-motion, 1))}.fight-value-popup.fight-value-phase-b,.fight-stage.fight-phase-b .fight-value-popup{animation:fight-value-pop-b calc(.56s * var(--fight-motion, 1)) ease-out both;animation-delay:calc(var(--fight-popup-index, 0) * 38ms * var(--fight-motion, 1))}.fight-stage.fight-phase-a .fight-value-popup.fight-value-popup-damage{animation:fight-damage-pop-a calc(.34s * var(--fight-motion, 1)) cubic-bezier(.16,.7,.2,1) both;animation-delay:calc((44ms + var(--fight-popup-index, 0) * 20ms) * var(--fight-motion, 1))}.fight-stage.fight-phase-b .fight-value-popup.fight-value-popup-damage{animation:fight-damage-pop-b calc(.34s * var(--fight-motion, 1)) cubic-bezier(.16,.7,.2,1) both;animation-delay:calc((44ms + var(--fight-popup-index, 0) * 20ms) * var(--fight-motion, 1))}.fight-faint-ghost{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;pointer-events:none;transform-origin:50% 64%;will-change:transform,opacity}.fight-faint-ghost:before,.fight-faint-ghost:after{content:"";position:absolute;opacity:0;pointer-events:none;mix-blend-mode:screen}.fight-faint-ghost:before{width:34px;height:24px;border-radius:999px;transform:translateY(6px);background:radial-gradient(ellipse at 50% 48%,#ffffffeb,#fafafaa3 42%,#fff0)}.fight-faint-ghost:after{width:52px;height:34px;border-radius:999px;transform:translateY(4px);background:radial-gradient(ellipse at 50% 50%,#ffffffc7,#f4f4f43d 52%,#fff0)}.fight-faint-icon{width:40px;height:40px;object-fit:contain;opacity:.95;will-change:transform,opacity,filter}.fight-faint-companion{position:absolute;left:6px;bottom:3px;width:14px;height:14px;object-fit:contain;border-radius:50%;background-color:#fff;box-shadow:0 0 0 1px #00000014}@keyframes fight-faint-a{0%{opacity:0;transform:translateY(-1px) scale(.88);filter:brightness(1.04)}16%{opacity:1;transform:translateY(-2px) scale(1.03);filter:brightness(1.15)}36%{opacity:.98;transform:translateY(-1px) scale(1.02);filter:brightness(1.09)}60%{opacity:.9;transform:translateY(4px) scale(.88,.64);filter:brightness(1.1) saturate(.76)}to{opacity:0;transform:translateY(9px) scale(.34,.16);filter:brightness(1.18) saturate(.58) blur(1.8px)}}@keyframes fight-faint-b{0%{opacity:0;transform:translateY(-1px) scale(.9);filter:brightness(1.03)}15%{opacity:1;transform:translateY(-2px) scale(1.02);filter:brightness(1.14)}34%{opacity:.98;transform:translateY(-1px) scale(1.015);filter:brightness(1.08)}58%{opacity:.9;transform:translateY(4px) scale(.86,.62);filter:brightness(1.09) saturate(.76)}to{opacity:0;transform:translateY(9px) scale(.32,.16);filter:brightness(1.16) saturate(.58) blur(1.8px)}}@keyframes fight-faint-pop-a{0%{opacity:0;transform:translateY(6px) scale(.52,.34)}28%{opacity:.94;transform:translateY(5px) scale(1.06,.94)}58%{opacity:.7;transform:translateY(2px) scale(1.22,1.02)}to{opacity:0;transform:translateY(-2px) scale(1.34,1.1)}}@keyframes fight-faint-pop-b{0%{opacity:0;transform:translateY(6px) scale(.54,.34)}26%{opacity:.92;transform:translateY(5px) scale(1.04,.92)}56%{opacity:.68;transform:translateY(2px) scaleX(1.2)}to{opacity:0;transform:translateY(-2px) scale(1.32,1.08)}}@keyframes fight-faint-smoke-a{0%{opacity:0;transform:translateY(7px) scale(.48,.34)}32%{opacity:.86;transform:translateY(5px) scale(1.02,.84)}to{opacity:0;transform:translateY(0) scale(1.18,.98)}}@keyframes fight-faint-smoke-b{0%{opacity:0;transform:translateY(7px) scale(.5,.34)}30%{opacity:.82;transform:translateY(5px) scaleY(.82)}to{opacity:0;transform:translateY(0) scale(1.16,.96)}}@keyframes fight-faint-icon-a{0%{opacity:.96;transform:translateY(0) scale(1) rotate(0);filter:brightness(1.1)}44%{opacity:.92;transform:translateY(1px) scale(1.01) rotate(-1deg)}to{opacity:0;transform:translateY(6px) scale(.24,.14) rotate(-4deg);filter:brightness(1.12) saturate(.56) blur(1.6px)}}@keyframes fight-faint-icon-b{0%{opacity:.96;transform:translateY(0) scale(1) rotate(0);filter:brightness(1.1)}44%{opacity:.92;transform:translateY(1px) scale(1.01) rotate(1deg)}to{opacity:0;transform:translateY(6px) scale(.24,.14) rotate(4deg);filter:brightness(1.12) saturate(.56) blur(1.6px)}}@keyframes fight-faint-companion-pop{0%{opacity:.92;transform:translateY(0) scale(1)}to{opacity:0;transform:translateY(5px) scale(.24,.16)}}.fight-faint-ghost.fight-faint-phase-a,.fight-stage.fight-phase-a .fight-faint-ghost{animation:fight-faint-a calc(195ms * var(--fight-motion, 1)) ease-in forwards}.fight-stage.fight-phase-a .fight-faint-icon{animation:fight-faint-icon-a calc(195ms * var(--fight-motion, 1)) ease-in forwards}.fight-stage.fight-phase-a .fight-faint-ghost:before{animation:fight-faint-smoke-a calc(195ms * var(--fight-motion, 1)) ease-out forwards}.fight-stage.fight-phase-a .fight-faint-ghost:after{animation:fight-faint-pop-a calc(195ms * var(--fight-motion, 1)) ease-out forwards}.fight-faint-ghost.fight-faint-phase-b,.fight-stage.fight-phase-b .fight-faint-ghost{animation:fight-faint-b calc(195ms * var(--fight-motion, 1)) ease-in forwards}.fight-stage.fight-phase-b .fight-faint-icon{animation:fight-faint-icon-b calc(195ms * var(--fight-motion, 1)) ease-in forwards}.fight-stage.fight-phase-b .fight-faint-ghost:before{animation:fight-faint-smoke-b calc(195ms * var(--fight-motion, 1)) ease-out forwards}.fight-stage.fight-phase-b .fight-faint-ghost:after{animation:fight-faint-pop-b calc(195ms * var(--fight-motion, 1)) ease-out forwards}.fight-stage.fight-phase-a .fight-faint-companion,.fight-stage.fight-phase-b .fight-faint-companion{opacity:.88;animation:fight-faint-companion-pop calc(.18s * var(--fight-motion, 1)) ease-in forwards}.fight-stage.fight-frame-heavy-impact.fight-phase-a .fight-faint-ghost,.fight-stage.fight-frame-heavy-impact.fight-phase-b .fight-faint-ghost{animation-duration:calc(.17s * var(--fight-motion, 1))}.fight-controls{display:flex;flex-wrap:wrap;gap:.45rem;align-items:center;margin-top:.5rem}.fight-speed-controls .btn.active{background-color:var(--sap-btn-primary);border-color:var(--sap-btn-primary);color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55)}.fight-scrubber{margin-top:.5rem}.fight-log-stream{margin-top:.35rem;border:1px solid #e9ecef;border-radius:8px;overflow-y:auto;background-color:#fff;padding-left:.25rem}.fight-log-row{padding:.3rem .45rem;border-bottom:1px solid #f1f3f5;font-size:.9rem;scroll-margin-block:1.4rem;transition:background-color calc(.15s * var(--fight-motion, 1)) ease-out}.fight-log-row:last-child{border-bottom:0}.fight-log-row.fight-log-row-active{background-color:#0d6efd1f}.fight-log-row .log-row{margin-top:0;border:0;padding:0;background:transparent}.fight-log-row .log-row:before{display:none}.fight-log-row .log-row-meta{min-width:7.1rem}.fight-log-row .log-row-text{font-size:.9rem}@media(prefers-reduced-motion:reduce){.fight-slot,.fight-slot-icon,.fight-slot-companion,.fight-slot-stats,.fight-event,.fight-value-popup,.fight-value-popup-icon,.fight-snipe-impact,.fight-snipe-impact-icon,.fight-equipment-ghost,.fight-equipment-ghost-icon,.fight-equipment-gain-ghost,.fight-equipment-gain-icon,.fight-faint-ghost,.fight-log-row{animation:none!important;transition:none!important}}.fight-empty-state{min-height:7rem;display:flex;align-items:center;justify-content:center;text-align:center;border:1px dashed #dce4ec;border-radius:8px;color:#6c757d;padding:.75rem}.analysis-title{font-size:.95rem;margin:0 0 .5rem}.analysis-table-wrap{max-height:18rem;overflow-y:auto;border:1px solid #e9ecef;border-radius:6px}.analysis-table th,.analysis-table td{font-size:.75rem;vertical-align:top}.timeline-player td{background-color:#28a74514}.timeline-opponent td{background-color:#dc354514}.timeline-deterministic td{border-left:3px solid #6c757d}.timeline-tie td{border-left:3px solid #fd7e14}.timeline-random td{border-left:3px solid #6f42c1}.diff-controls{display:flex;gap:.5rem;margin-bottom:.5rem}.diff-label{font-size:.75rem;font-weight:600;color:#495057;display:flex;flex-direction:column;gap:.2rem}.diff-select{min-width:9rem}.diff-summary{font-size:.75rem;color:#495057;margin-bottom:.5rem}.diff-same td{opacity:.7}.diff-changed td{background-color:#ffc1072e}.diff-left-only td{background-color:#0d6efd1f}.diff-right-only td{background-color:#dc35451f}.btn-link{color:var(--sap-btn-primary);cursor:pointer;background:none;border:0;padding:0;font:inherit;line-height:inherit;text-decoration:underline}.btn-link:hover{text-decoration:none}.btn-link:focus-visible{outline:3px solid var(--sap-btn-primary);outline-offset:2px;border-radius:4px}.cdk-drag-placeholder{opacity:0}.drag-container{position:relative}@media(hover:none)and (pointer:coarse){.drag-container.cdk-drag{touch-action:pan-y!important}}.drag-container.pet-slot-active app-pet-selector .card{border-color:#2563ebcc;box-shadow:0 0 0 2px #2563eb4d,0 8px 32px #0000005e}.pet-slot-actions{display:flex;justify-content:flex-end;align-items:center;gap:.35rem;margin-bottom:.35rem;padding-right:.4rem}.pet-clear-btn{width:1.8em;height:1.8em;position:static;opacity:.95;display:flex;align-items:center;justify-content:center;color:#ff5a66;background:#00000073;border:1px solid rgba(255,255,255,.5);border-radius:999px;box-shadow:0 2px 6px #00000073;cursor:pointer;font-weight:700;line-height:1;padding:0}.pet-clear-btn:hover{opacity:1;color:#ff7680;background:#0009;border-color:#ffffffbf}.pet-clear-btn:focus-visible{outline:2px solid #ffffff;outline-offset:2px}.info-link{margin-bottom:0}.toy-art{width:36px;height:36px;object-fit:contain}.toy-wrap{position:relative;gap:.5rem}.toy-wrap .toy-art+.toy-art{margin-left:.35rem}.toy-select-container{position:relative;display:inline-flex;align-items:center;cursor:pointer;border-radius:8px;padding:2px}.toy-select-container:hover{background:#fff3;transform:scale(1.05)}.toy-select-container.toy-none{background:#0000004d;border:1px dashed rgba(255,255,255,.5);padding:8px 12px;min-width:50px;justify-content:center;align-items:center}.toy-row{display:flex;align-items:center;gap:.6rem;flex-wrap:wrap}.toy-slot{display:flex;align-items:center;gap:.4rem}.toy-select-btn{display:inline-flex;align-items:center;gap:.4rem;padding:.2rem .5rem;border-radius:8px;border:1px solid rgba(255,255,255,.4);background:#00000040;backdrop-filter:blur(6px);color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);font-size:.9rem;line-height:1.1;letter-spacing:.02em;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;text-shadow:0 1px 0 rgba(0,0,0,.6),0 0 2px rgba(0,0,0,.45);cursor:pointer}.toy-select-btn:hover{background:#00000052;transform:translateY(-1px)}.toy-select-btn i{font-size:.7rem;color:#ffffffd9;text-shadow:0 1px 2px rgba(0,0,0,.55)}.toy-select-btn:focus-visible{outline:3px solid #ffffff;outline-offset:2px}.toy-label{font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:500;line-height:1.1;letter-spacing:.025em;white-space:nowrap}.toy-main{display:flex;align-items:center}.toy-level-controls{position:absolute;bottom:-8px;left:50%;transform:translate(-50%);display:flex;align-items:center;gap:.25rem;background:#000000d9;border-radius:12px;padding:.15rem .4rem;border:1px solid rgba(255,255,255,.3);opacity:0;pointer-events:none}.toy-level-controls.inline{position:static;transform:none;opacity:1;pointer-events:auto;background:#00000040;backdrop-filter:blur(6px)}.custom-pack-editor-modal .custom-pack-editor-dialog{transform:translateY(20px);opacity:0;transition:transform .3s ease-out,opacity .3s ease-out}.custom-pack-editor-modal.show .custom-pack-editor-dialog{transform:translateY(0);opacity:1}body.custom-pack-editor-open .modal-backdrop.show{background:#00000080;backdrop-filter:blur(4px)}.glass-btn{background:#00000040;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);border:1px solid rgba(255,255,255,.4);backdrop-filter:blur(6px);font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;font-size:.95rem;line-height:1.1;letter-spacing:.02em;text-shadow:0 1px 0 rgba(0,0,0,.6),0 0 2px rgba(0,0,0,.45)}.glass-btn:hover{background:#00000052;border-color:#ffffff80;color:#fff;transform:translateY(-1px)}.glass-btn:focus-visible,.glass-btn:active{color:#fff}.toy-select-container:hover .toy-level-controls,.toy-select-container:hover .toy-remove-btn,.toy-wrap:hover .toy-add-hard{opacity:1;pointer-events:auto}.toy-level-btn{background:#ffffff26;border:none;border-radius:999px;width:18px;height:18px;display:flex;align-items:center;justify-content:center;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);cursor:pointer;font-size:.65rem;padding:0}.toy-level-btn:hover{background:#ffffff4d;transform:scale(1.1)}.toy-level-btn:focus-visible{outline:2px solid #ffffff;outline-offset:1px}.toy-level-label{color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);font-size:.78rem;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:500;line-height:1.1;letter-spacing:.02em;text-shadow:0 1px 0 rgba(0,0,0,.55),0 0 1px rgba(0,0,0,.35);min-width:22px;text-align:center}.toy-remove-btn{position:absolute;top:-6px;right:-6px;width:18px;height:18px;background:#d63384;border:2px solid #fff;border-radius:999px;display:flex;align-items:center;justify-content:center;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);cursor:pointer;font-size:.75rem}.toy-remove-btn:hover{background:#c2185b;transform:scale(1.1)}.toy-remove-btn-inline{width:22px;height:22px;background:#d63384;border:2px solid #fff;border-radius:999px;display:inline-flex;align-items:center;justify-content:center;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);cursor:pointer;font-size:.75rem}.toy-remove-btn-inline:hover{background:#c2185b;transform:scale(1.05)}.toy-remove-btn-inline:focus-visible{outline:2px solid #ffffff;outline-offset:1px}.toy-add-hard{position:absolute;top:4px;right:4px;width:20px;height:20px;background:#000000b3;border:1px solid rgba(255,255,255,.4);border-radius:999px;display:flex;align-items:center;justify-content:center;color:#ffffffb3;text-shadow:0 1px 2px rgba(0,0,0,.55);cursor:pointer;font-size:.75rem}.toy-add-hard:hover{background:#000000e6;border-color:#ffffffb3;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);transform:scale(1.15)}.toy-select-icon{position:absolute;bottom:-4px;right:-4px;background:#000000b3;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);border-radius:999px;width:16px;height:16px;display:flex;align-items:center;justify-content:center;font-size:.7rem;opacity:0;transition:opacity .2s;pointer-events:none;border:1px solid rgba(255,255,255,.3)}.toy-select-container:hover .toy-select-icon{opacity:1}.toy-level-text{color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);font-weight:700;text-shadow:0 2px 4px rgba(0,0,0,.75);margin-left:.35rem;display:none}.battle-row h2{color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.75)}:host-context(.night) .battle-table-meta,:host-context(.night) .battle-table thead th,:host-context(.night) .battle-table tbody td,:host-context(.night) .battle-random-cell,:host-context(.night) .battle-no-random,:host-context(.night) .battle-winner-chip,:host-context(.night) .log-filter-tab,:host-context(.night) .log-event-filter-btn,:host-context(.night) .log-event-filter-label,:host-context(.night) .log-group-header,:host-context(.night) .log-group-title,:host-context(.night) .log-group-count,:host-context(.night) .log-group-meta,:host-context(.night) .log-row-meta,:host-context(.night) .log-row-text,:host-context(.night) .log-row-text span,:host-context(.night) .log-empty-state,:host-context(.night) .fight-slot-label,:host-context(.night) .fight-slot-stats,:host-context(.night) .fight-slot-stat,:host-context(.night) .fight-slot-exp,:host-context(.night) .fight-event-text,:host-context(.night) .fight-event-step,:host-context(.night) .fight-log-row .log-row-meta,:host-context(.night) .fight-log-row .log-row-text,:host-context(.theme-dark) .battle-table-meta,:host-context(.theme-dark) .battle-table thead th,:host-context(.theme-dark) .battle-table tbody td,:host-context(.theme-dark) .battle-random-cell,:host-context(.theme-dark) .battle-no-random,:host-context(.theme-dark) .battle-winner-chip,:host-context(.theme-dark) .log-filter-tab,:host-context(.theme-dark) .log-event-filter-btn,:host-context(.theme-dark) .log-event-filter-label,:host-context(.theme-dark) .log-group-header,:host-context(.theme-dark) .log-group-title,:host-context(.theme-dark) .log-group-count,:host-context(.theme-dark) .log-group-meta,:host-context(.theme-dark) .log-row-meta,:host-context(.theme-dark) .log-row-text,:host-context(.theme-dark) .log-row-text span,:host-context(.theme-dark) .log-empty-state,:host-context(.theme-dark) .fight-slot-label,:host-context(.theme-dark) .fight-slot-stats,:host-context(.theme-dark) .fight-slot-stat,:host-context(.theme-dark) .fight-slot-exp,:host-context(.theme-dark) .fight-event-text,:host-context(.theme-dark) .fight-event-step,:host-context(.theme-dark) .fight-log-row .log-row-meta,:host-context(.theme-dark) .fight-log-row .log-row-text{text-shadow:0 1px 2px rgba(0,0,0,.55)}@media(max-width:767.98px){.card{max-width:18em}.back,.front{transform:initial;writing-mode:initial}.player-card{grid-template-columns:none}}.ml-auto{margin-left:auto}.bug-button{margin-right:.5em;margin-bottom:.25em}.advanced-input input{width:60px}.simulation-progress{display:flex;align-items:center;gap:.75rem}.simulation-progress .progress{flex:1;height:8px;background-color:#00000014}.simulation-progress .progress-bar{transition:width .2s linear}.simulation-progress .progress-text{min-width:110px;text-align:right;font-size:.85rem;color:#6c757d}@media(max-width:991.98px){.bottom-container-scroll-hint{display:block}.bottom-container{flex-direction:row;flex-wrap:nowrap;column-gap:1rem;min-width:64rem}.bottom-container>.col-12{flex:0 0 calc(50% - .5rem);max-width:calc(50% - .5rem);height:auto}.battle-row{flex-direction:column}.battle-row .col-12{padding-left:0;padding-right:0}.top-controls{padding:.75rem}.top-controls .team-row{flex-direction:column;align-items:stretch}.team-row-right{flex-direction:column;align-items:stretch;gap:.5rem}.team-name-actions{margin-top:.4rem;gap:.25rem}.action-row{flex-direction:column}.action-row>div{width:100%;display:flex;flex-wrap:wrap;gap:.5rem;justify-content:center}.results-row{margin-bottom:.25rem}.results-row .stats{flex-direction:column;align-items:center}.control-groups{flex-direction:column}.control-group{width:100%}.compact-toy-group .toy-row{flex-direction:column}.compact-toy-group .toy-inline{width:100%;min-width:0}.compact-toy-group .toy-row.hard-row{gap:.5rem}.results-bar{width:100%;min-width:unset;max-width:none}}@media(min-width:768px)and (max-width:991.98px){.pane-switch-tabs{display:flex}.bottom-container-scroll-hint{display:none}.bottom-container-scroll{overflow-x:visible;overflow-y:visible}.bottom-container{flex-direction:column;min-width:0;row-gap:.75rem}.bottom-container>.col-12,.bottom-container>.battle-pane,.bottom-container>.logs-pane{flex:1 1 auto;max-width:100%;width:100%;min-width:0;height:auto}.bottom-container>.pane-hidden-single-column{display:none}}\n'],encapsulation:2,changeDetection:0})}return u})(),{providers:[(0,Ua.$R)((0,Ua.Sx)())]}).catch(u=>console.error(u))},28114(O,S,i){i.d(S,{A:()=>t});var A=i(70563),c=i(28010),E=i(42697),_=i(26032);const t=Object.getOwnPropertySymbols?function(n){for(var a=[];n;)(0,A.A)(a,(0,E.A)(n)),n=(0,c.A)(n);return a}:_.A},28128(O,S,i){i.d(S,{D:()=>E});var A=i(50873);i(5615);class E extends A.L{name="Magic Mirror";tier=4}},28266(O,S,i){i.d(S,{q:()=>_});var A=i(46200),c=i(5615),E=i(1152);class _ extends A.i{logService;abilityService;name="Loveland Frogman";tier=5;pack="Unicorn";attack=1;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"LovelandFrogmanAbility",owner:t,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,precondition:a=>{const{triggerPet:o}=a,r=this.owner,g=(0,E.lK)(r,o).pet;return!!g&&g.alive&&!r.targettedFriends.has(g)},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a}=t,d=this.owner;let g={attack:1*d.level,health:2*d.level},f=(0,E.lK)(d,a),D=f.pet;null!=D&&(this.logService.createLog({message:`${d.name} gave ${D.name} ${g.attack} attack and ${g.health} health.`,type:"ability",player:d.parent,randomEvent:f.random}),D.increaseAttack(g.attack),D.increaseHealth(g.health),d.targettedFriends.add(D),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},28606(O,S,i){i.d(S,{A:()=>_});var c=/^(?:0|[1-9]\d*)$/;const _=function E(v,e){var t=typeof v;return!!(e=e??9007199254740991)&&("number"==t||"symbol"!=t&&c.test(v))&&v>-1&&v%1==0&&v<e}},28805(O,S,i){i.d(S,{x:()=>_});var A=i(46200),c=i(51838),E=i(5615);class _ extends A.i{logService;abilityService;name="Gorilla";tier=6;pack="Turtle";attack=7;health=10;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends E.T{logService;constructor(t,n){super({name:"GorillaAbility",owner:t,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,condition:a=>this.owner.alive,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let f=d.parent.getThis(d).pet;null!=f&&(f.givePetEquipment(new c.K),this.logService.createLog({message:`${d.name} gave ${f.name} a Coconut.`,type:"ability",player:d.parent,tiger:o}),this.triggerTigerExecution(t))}reset(){this.maxUses=this.level,super.reset()}copy(t){const n=new v(t,this.logService);return n.maxUses=t.level,n}}},29088(O,S,i){i.d(S,{A:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Rock";tier=1;pack="Unicorn";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"RockAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},29192(O,S,i){i.d(S,{J:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Pygmy Seahorse";tier=1;pack="Custom";attack=3;health=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PygmySeahorseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=a.parent.getRandomPets(3,[a],!1,!1,a),r=o.pets;if(0!==r.length){for(const d of r)d.increaseAttack(this.level),d.increaseHealth(this.level),this.logService.createLog({message:`${a.name} gave ${d.name} +${this.level} attack and +${this.level} health.`,type:"ability",player:a.parent,tiger:t,pteranodon:n,randomEvent:o.random});a.health=0,this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},29629(O,S,i){i.d(S,{B:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Sloth";tier=1;pack="Custom";attack=1;health=1;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},29654(O,S,i){i.d(S,{z:()=>c});var A=i(50873);class c extends A.L{name="Lamp";tier=1;startOfBattle(_,v){for(const e of this.parent.petArray){const t=Math.floor(.2*e.attack),n=Math.floor(.2*e.health);t>0&&e.increaseAttack(-t),n>0&&e.increaseHealth(-n),this.logService.createLog({message:`${this.name} removed ${t} attack and ${n} health from ${e.name}.`,type:"ability",player:this.parent,puma:v})}}}},29768(O,S,i){i.d(S,{B:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Woolly Rhino";tier=5;pack="Custom";attack=3;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Woolly Rhino Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=new Set;for(const g of t.parent.petArray){const f=g?.equipment;("ailment-attack"===f?.equipmentClass||"ailment-defense"===f?.equipmentClass||"ailment-other"===f?.equipmentClass)&&n.add(f.name)}const a=n.size;if(a<=0)return void this.triggerTigerExecution(e);const o=4*a,r=t.parent.opponent.petArray.filter(g=>g.alive),d=Math.min(this.level,r.length);for(let g=0;g<d;g++)t.snipePet(r[g],o,!1,e.tiger,e.pteranodon);d>0&&this.logService.createLog({message:`${t.name} dealt ${o} damage to ${d} enemy${1===d?"":"ies"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},29823(O,S,i){i.d(S,{R:()=>_});var A=i(46200),c=i(41752),E=i(5615);class _ extends A.i{logService;abilityService;name="Osprey";tier=3;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends E.T{logService;abilityService;constructor(t,n,a){super({name:"OspreyAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;for(let g=0;g<d.level;g++){let f=new c.G(this.logService,this.abilityService,d.parent,null,null,0,0),D=d.parent.summonPet(f,d.savedPosition,!1,d);D.success&&this.logService.createLog({message:`${d.name} summoned a 2/1 Groundhog`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:D.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},29855(O,S,i){i.d(S,{p:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Head";tier=1;pack="Unicorn";hidden=!0;health=5;attack=5;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},29866(O,S,i){i.d(S,{B:()=>v,J:()=>_});var A=i(50873),c=i(2375),E=i(5615);class _ extends A.L{name="Peanut Jar";tier=6;startOfBattle(t,n){let a=this.parent.getLowestAttackPets(this.level,this.parent.getPetsWithEquipment("Peanut Butter")),o=a.pets;if(0!=o.length)for(let r of o)r.givePetEquipment(new c._),this.logService.createLog({message:`${this.name} gave ${r.name} PeanutButter.`,type:"ability",player:this.parent,puma:n,randomEvent:a.random})}}class v extends E.T{logService;constructor(t,n){super({name:"PeanutJarAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.getPetsWithEquipment("Peanut Butter"),D=d.parent.getLowestAttackPets(this.level,g,d).pets;if(0!=D.length){for(let k of D)k.givePetEquipment(new c._),this.logService.createLog({message:`Peanut Jar Ability gave ${k.name} PeanutButter.`,type:"ability",player:d.parent,tiger:o,pteranodon:r});this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},29886(O,S,i){i.d(S,{B:()=>c,P:()=>E});var A=i(22097);class c extends A.${name="Guava";tier=3;equipmentClass="shield";power=3;originalPower=3;uses=1;originalUses=1}class E extends A.${name="Guava (Attack)";equipmentClass="attack";power=3;originalPower=3}},29916(O,S,i){i.d(S,{H5:()=>H,Pl:()=>ne,SB:()=>F,XS:()=>$,_k:()=>J,il:()=>D,m8:()=>f,nE:()=>L,oy:()=>q,v:()=>k,xk:()=>ae});var A=i(23828),c=i(61850),E=i(33524),_=i(77856),v=i(58857);function t(le){return le?`${le.parent?.isOpponent?"O":"P"}${Number.isFinite(le.savedPosition)?le.savedPosition+1:0} ${le.name}`:"unknown caller"}function n(le){const _e=le.some(Se=>!Se.parent?.isOpponent),ye=le.some(Se=>Se.parent?.isOpponent);return _e&&ye?"both teams":ye?"opponent team":"player team"}function a(le,_e,ye,Se){if(0===ye.length)return{pet:null,random:!1};const Ce=(0,v.k6)({key:le,label:`${t(Se)} -> ${_e} (${n(ye)}, ${ye.length} options)`,options:ye.map(de=>function e(le){const _e=le.parent?.isOpponent?"opponent":"player",ye=le.parent?.isOpponent?"O":"P",Se=Number.isFinite(le.savedPosition)?le.savedPosition+1:0;return{id:`${_e}:${Se}:${le.name}`,label:`${ye}${Se} ${le.name}`}}(de))},()=>(0,c.hw)(0,ye.length-1));return{pet:ye[Ce.index]??null,random:Ce.randomEvent}}function o(le){return!(!le||!(0,E.ku)(le))}function r(le,_e){return[...le.petArray].filter(ye=>ye.alive&&(!_e||!_e.includes(ye)))}function d(le,_e,ye,Se){let Ce=[];for(const de of le){if(de===Se||!de.alive)continue;if(0===Ce.length){Ce=[de];continue}const Te=_e(de),xe=_e(Ce[0]);Te!==xe?("max"===ye?Te>xe:Te<xe)&&(Ce=[de]):Ce.push(de)}return Ce}function g(le,_e,ye,Se){if(0===le.length)return{pets:[],random:!1};const Ce=(0,A.A)(le);Ce.sort(ye);const de=Ce.slice(0,_e);let Te=!1;return de.length===_e&&Ce.length>_e&&Se(de[_e-1])===Se(Ce[_e])&&(Te=!0),{pets:de,random:Te}}const f=(le,_e,ye)=>{if(o(ye))return(0,_.WB)(le,[ye],!0);const Se=d(le.petArray,Ce=>Ce.health,"max",_e);return 0===Se.length?{pet:null,random:!1}:a("target.highest-health","Highest health tie-break",Se,ye)},D=(le,_e,ye)=>o(ye)?(0,_.WB)(le,[ye],!0):a("target.highest-attack","Highest attack tie-break",d(le.petArray,Ce=>Ce.attack,"max",_e),ye),k=(le,_e,ye,Se)=>o(Se)?(0,_.BR)(le,_e,!0,[Se]):g(r(le,ye),_e,(Ce,de)=>de.attack-Ce.attack,Ce=>Ce.attack),L=(le,_e,ye,Se)=>o(Se)?(0,_.BR)(le,_e,!0,[Se]):g(r(le,ye),_e,(Ce,de)=>Ce.attack-de.attack,Ce=>Ce.attack),F=(le,_e,ye)=>o(ye)?(0,_.WB)(le,[ye],!0):a("target.lowest-attack","Lowest attack tie-break",d(le.petArray,Ce=>Ce.attack,"min",_e),ye),J=(le,_e,ye)=>o(ye)?(0,_.WB)(le,[ye],!0):a("target.lowest-health","Lowest health tie-break",d(le.petArray,Ce=>Ce.health,"min",_e),ye),ne=(le,_e,ye,Se)=>o(Se)?(0,_.BR)(le,_e,!0,[Se]):g(r(le,ye),_e,(Ce,de)=>Ce.health-de.health,Ce=>Ce.health),H=(le,_e,ye,Se)=>o(Se)?(0,_.BR)(le,_e,!0,[Se]):g(r(le,ye),_e,(Ce,de)=>de.health-Ce.health,Ce=>Ce.health),$=(le,_e,ye,Se)=>o(Se)?(0,_.BR)(le,_e,!0,[Se]):g(r(le,ye),_e,(Ce,de)=>de.tier-Ce.tier,Ce=>Ce.tier),q=(le,_e,ye,Se)=>{if(o(Se))return(0,_.WB)(le,[Se],!0);const Ce=[...le.petArray].filter(de=>de.alive&&de.tier<=_e&&(!ye||!ye.includes(de)));return 0===Ce.length?{pet:null,random:!1}:a("target.tier-x-or-lower",`Tier ${_e} or lower target`,Ce,Se)},ae=(le,_e)=>{if(o(_e))return(0,_.WB)(le,[_e],!0);let ye=[],Se=-1;const Ce=(0,A.A)(le.petArray.filter(de=>de.alive));for(const de of Ce){const Te=de.attack+de.health;Te>Se?(Se=Te,ye=[de]):Te===Se&&ye.push(de)}return 0===ye.length?{pet:null,random:!1}:a("target.strongest-pet","Strongest pet tie-break",ye,_e)}},30102(O,S,i){i.d(S,{J:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Markhor";tier=6;pack="Custom";attack=6;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MarkhorAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:n,pteranodon:a}=e,o=t.parent;if(o.trumpets<4)return void this.triggerTigerExecution(e);const r=o.petArray.filter(F=>F&&F!==t&&F.alive);if(0===r.length)return void this.triggerTigerExecution(e);o.trumpets-=4;const d=4*this.level,g=4*this.level,f=Math.floor(d/r.length),D=Math.floor(g/r.length),k=d-f*r.length,L=g-D*r.length;for(let F=0;F<r.length;F++){const J=r[F],H=F<L?1:0;J.increaseAttack(f+(F<k?1:0)),J.increaseHealth(D+H)}this.logService.createLog({message:`${t.name} spent 4 trumpets to grant ${d}/${g} evenly among ${r.length} friends.`,type:"ability",player:o,tiger:n,pteranodon:a}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},30126(O,S,i){i.d(S,{t:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Geometric Tortoise";tier=5;pack="Danger";attack=3;health=10;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"GeometricTortoiseAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,damageAmount:r}=e,d=this.owner;if(void 0===r||r<=0)return;let g=.33*this.level;3===d.level&&(g=1);let f=Math.floor(r*g);if(f>0){let D=d.parent.opponent.getRandomPet([],!1,!0,!1,d);D.pet&&d.snipePet(D.pet,f,D.random,a)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},30147(O,S,i){i.d(S,{O:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Hoatzin";tier=4;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Hoatzin Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=a.parent,r=3*this.level;let d=0;for(const D of o.petArray)!D||!D.alive||"Strawberry"===D.equipment?.name&&(D.removePerk(),d++);if(0===d)return void this.triggerTigerExecution(e);const g=r*d,f=o.resolveTrumpetGainTarget(a);f.player.gainTrumpets(g,a,t,void 0,void 0,f.random),this.logService.createLog({message:`${a.name} removed ${d} Strawberry${1===d?"":"s"} for +${g} trumpets.`,type:"ability",player:o,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},30219(O,S,i){i.d(S,{A:()=>E});var A=i(3746);const E=function c(_){var v=(0,A.A)(this,_).delete(_);return this.size-=v?1:0,v}},30254(O,S,i){i.d(S,{d:()=>E});var A=i(22097),c=i(5615);class E extends A.${name="Unagi";equipmentClass="startOfBattle";hasRandomEvents=!0;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t))};constructor(){super()}}class _ extends c.T{equipment;constructor(e,t){super({name:"UnagiAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t}executeAbility(e){const t=this.owner;for(let n=0;n<this.equipment.multiplier;n++){let a=t.parent.opponent.getRandomPet([],!1,!0,!1,t);a.pet&&t.snipePet(a.pet,2,a.random,!1,!1,!0,!1)}}}},30357(O,S,i){i.d(S,{w:()=>c});var A=i(22097);class c extends A.${name="Inked";equipmentClass="ailment-attack";power=-3;originalPower=-3}},30450(O,S,i){i.d(S,{H:()=>E});var A=i(46200);i(5615);class E extends A.i{logService;abilityService;name="Angelshark";tier=4;pack="Danger";attack=3;health=4;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}},30553(O,S,i){i.d(S,{C:()=>e});var A=i(46200),c=i(5615),E=i(58857),_=i(61850),v=i(79222);class e extends A.i{logService;abilityService;name="Baku";tier=1;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{logService;abilityService;constructor(a,o,r){super({name:"BakuAbility",owner:a,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:d=>{this.executeAbility(d)}}),this.logService=o,this.abilityService=r}executeAbility(a){const o=this.owner;if((a.gameApi?.turnNumber??0)%2!=0)return void this.triggerTigerExecution(a);const d=o.parent.petArray.filter(k=>k.alive&&k.equipment?.equipmentClass?.startsWith("ailment"));if(0===d.length)return void this.triggerTigerExecution(a);const g=[],f=[...d];for(;g.length<2&&f.length>0;){const k=(0,E.k6)({key:"pet.baku-end-turn-target",label:(0,v.I)(o,"Baku ailment target",g.length+1),options:f.map(L=>({id:`${L.savedPosition+1}:${L.name}`,label:`P${L.savedPosition+1} ${L.name}`}))},()=>(0,_.hw)(0,f.length-1));g.push(f[k.index]),f.splice(k.index,1)}const D=this.level;for(const k of g)k.removePerk(),k.increaseHealth(D);this.logService.createLog({message:`${o.name} replaced ailments with +${D} health on ${g.map(k=>k.name).join(", ")}.`,type:"ability",player:o.parent,tiger:a.tiger,pteranodon:a.pteranodon,randomEvent:d.length>g.length}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService)}}},30554(O,S,i){i.d(S,{A:()=>c});const c=function A(E){var _=typeof E;return null!=E&&("object"==_||"function"==_)}},30568(O,S,i){i.d(S,{A:()=>de});var A=i(31685),c=i(15481),E=i(42661),Se={};Se["[object Float32Array]"]=Se["[object Float64Array]"]=Se["[object Int8Array]"]=Se["[object Int16Array]"]=Se["[object Int32Array]"]=Se["[object Uint8Array]"]=Se["[object Uint8ClampedArray]"]=Se["[object Uint16Array]"]=Se["[object Uint32Array]"]=!0,Se["[object Arguments]"]=Se["[object Array]"]=Se["[object ArrayBuffer]"]=Se["[object Boolean]"]=Se["[object DataView]"]=Se["[object Date]"]=Se["[object Error]"]=Se["[object Function]"]=Se["[object Map]"]=Se["[object Number]"]=Se["[object Object]"]=Se["[object RegExp]"]=Se["[object Set]"]=Se["[object String]"]=Se["[object WeakMap]"]=!1;const de=function Ce(Te){return(0,E.A)(Te)&&(0,c.A)(Te.length)&&!!Se[(0,A.A)(Te)]}},30639(O,S,i){i.d(S,{b:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Skunk";tier=4;pack="Turtle";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SkunkAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let g=r.parent.opponent.getHighestHealthPet(void 0,r),f=g.pet;if(null==f)return;let D=.33*this.level,k=Math.max(1,Math.floor(f.health*(1-D)));f.health=k,this.logService.createLog({message:`${r.name} reduced ${f.name} health by ${100*D}% to ${k}.`,type:"ability",player:r.parent,randomEvent:g.random,tiger:a}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},30712(O,S,i){i.d(S,{A:()=>_});var A=i(99898),c=i(42697);const _=function E(v,e){return(0,A.A)(v,(0,c.A)(v),e)}},31287(O,S,i){i.d(S,{A:()=>_});var A=i(70129),c=i(15481);const _=function E(v){return null!=v&&(0,c.A)(v.length)&&!(0,A.A)(v)}},31401(O,S,i){i.d(S,{x:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Vampire Squid";tier=6;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"VampireSquidAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=new Map;for(const f of a.parent.petArray)!f||f===a||!f.alive||!f.equipment||!(f.equipment.equipmentClass??"").startsWith("ailment")||o.has(f.equipment.name)||o.set(f.equipment.name,f);if(0===o.size)return void this.triggerTigerExecution(e);const r=this.level,d=2*this.level,g=[];o.forEach(f=>{f.increaseAttack(r),f.increaseHealth(d),g.push(f.name)}),this.logService.createLog({message:`${a.name} gave ${g.join(", ")} +${r}/+${d} at end of turn for having unique ailments.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},31546(O,S,i){i.d(S,{w:()=>E});var A=i(22097),c=i(5615);class E extends A.${logService;name="White Truffle";equipmentClass="faint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"WhiteTruffleAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const{tiger:t}=e,n=this.owner,a=4*this.equipment.multiplier;n.increaseAttack(a),this.logService.createLog({message:`${n.name} gained ${a} attack (White Truffle)${this.equipment.multiplierMessage}`,type:"equipment",player:n.parent});for(let o=0;o<this.equipment.multiplier;o++){let r=n.parent.opponent.getHighestAttackPet(void 0,n);r.pet&&(n.jumpAttackPrep(r.pet),n.jumpAttack(r.pet,t,null,r.random))}n.removePerk()}}},31671(O,S,i){i.d(S,{N:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Gargoyle";tier=2;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"GargoyleAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.mana*this.level;d+=2*this.level;let g=r.parent.nearestPetsBehind(1,r);if(0===g.pets.length)return;let f=g.pets[0];this.logService.createLog({message:`${r.name} spent ${r.mana} mana and gave ${d} health to ${f.name}.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:g.random}),f.increaseHealth(d),r.mana=0,this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},31685(O,S,i){i.d(S,{A:()=>n});var A=i(6944),c=i(96756),E=i(83811),e=A.A?A.A.toStringTag:void 0;const n=function t(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":e&&e in Object(a)?(0,c.A)(a):(0,E.A)(a)}},31805(O,S,i){i.d(S,{y:()=>v});var t,A=i(27354),c=i(61456),E=i(98099),_=i(69379);class v{constructor(n){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,n&&(this._ctorUnsubscribe=!0,this._unsubscribe=n)}unsubscribe(){let n;if(this.closed)return;let{_parentOrParents:a,_ctorUnsubscribe:o,_unsubscribe:r,_subscriptions:d}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,a instanceof v)a.remove(this);else if(null!==a)for(let g=0;g<a.length;++g)a[g].remove(this);if((0,E.T)(r)){o&&(this._unsubscribe=void 0);try{r.call(this)}catch(g){n=g instanceof _.Z?e(g.errors):[g]}}if((0,A.c)(d)){let g=-1,f=d.length;for(;++g<f;){const D=d[g];if((0,c.G)(D))try{D.unsubscribe()}catch(k){n=n||[],k instanceof _.Z?n=n.concat(e(k.errors)):n.push(k)}}}if(n)throw new _.Z(n)}add(n){let a=n;if(!n)return v.EMPTY;switch(typeof n){case"function":a=new v(n);case"object":if(a===this||a.closed||"function"!=typeof a.unsubscribe)return a;if(this.closed)return a.unsubscribe(),a;if(!(a instanceof v)){const d=a;a=new v,a._subscriptions=[d]}break;default:throw new Error("unrecognized teardown "+n+" added to Subscription.")}let{_parentOrParents:o}=a;if(null===o)a._parentOrParents=this;else if(o instanceof v){if(o===this)return a;a._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return a;o.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[a]:r.push(a),a}remove(n){const a=this._subscriptions;if(a){const o=a.indexOf(n);-1!==o&&a.splice(o,1)}}}function e(t){return t.reduce((n,a)=>n.concat(a instanceof _.Z?a.errors:a),[])}v.EMPTY=((t=new v).closed=!0,t)},32232(O,S,i){i.d(S,{o:()=>c});var A=i(22097);class c extends A.${name="Melon Slice";equipmentClass="shield";power=10;originalPower=10;uses=1;originalUses=1}},32234(O,S,i){function A(c){return c&&"function"==typeof c.schedule}i.d(S,{m:()=>A})},32238(O,S,i){i.d(S,{w:()=>E});var A=i(22097),c=i(5615);class E extends A.${logService;name="Sudduth Tomato";equipmentClass="hurt";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"SudduthTomatoAbility",owner:e,triggers:["ThisHurt"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,condition:a=>!!this.owner.alive,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const a=this.owner;let r=1*this.equipment.multiplier;a.increaseHealth(r),this.logService.createLog({message:`${a.name} gained ${r} health (Sudduth Tomato)${this.equipment.multiplierMessage}`,type:"equipment",player:a.parent}),a.removePerk()}}},32308(O,S,i){i.d(S,{H:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Polar Bear";tier=5;pack="Custom";attack=4;health=8;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Polar Bear Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=[4,8,12],a=n[Math.min(Math.max(t.level-1,0),n.length-1)],o=t.parent.getRandomPets(1,[],!1,!1,t),r=o.pets[0];r?(r.increaseAttack(a),r.increaseHealth(a),this.logService.createLog({message:`${t.name} gave ${r.name} +${a}/+${a}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:o.random}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},32334(O,S,i){i.d(S,{E:()=>c});var A=i(22097);class c extends A.${name="Eucalyptus";equipmentClass="shield";power=4;originalPower=4;uses=1;originalUses=1}},32480(O,S,i){i.d(S,{p:()=>_});var A=i(46200),c=i(32584),E=i(5615);class _ extends A.i{logService;abilityService;name="Fairy Armadillo";tier=4;pack="Star";attack=2;health=6;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends E.T{logService;abilityService;constructor(t,n,a){super({name:"FairyArmadilloAbility",owner:t,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o}=t,d=this.owner,g=2*this.level,f=d.parent.getThis(d),D=f.pet;if(null==D)return;D.increaseHealth(g),this.logService.createLog({message:`${d.name} gave ${D.name} ${g} permanent health and transforms into a protected ball!`,type:"ability",player:d.parent,tiger:o,randomEvent:f.random});const L=d.parent.getThis(d).pet;if(null==L)return;const F=new c.f(this.logService,this.abilityService,L.parent,L.health,L.attack,L.mana,L.exp,L.equipment);L.parent.transformPet(L,F),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},32496(O,S,i){i.d(S,{V:()=>E});var A=i(27389),c=i(31805);function E(_,v){return new A.c(e=>{const t=new c.y;let n=0;return t.add(v.schedule(function(){n!==_.length?(e.next(_[n++]),e.closed||t.add(this.schedule())):e.complete()})),t})}},32584(O,S,i){i.d(S,{f:()=>E});var A=i(45575),c=i(46200);class E extends c.i{logService;abilityService;name="Fairy Ball";tier=1;pack="Star";attack=2;health=6;hidden=!0;initAbilities(){this.addAbility(new A.q(this)),super.initAbilities()}constructor(v,e,t,n,a,o,r,d,g){super(v,e,t),this.logService=v,this.abilityService=e,this.initPet(r,n,a,o,d,g)}}},32804(O,S,i){i.d(S,{_:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Angry Pygmy Hog";tier=2;pack="Custom";attack=5;health=5;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},33126(O,S,i){i.d(S,{A:()=>g});var A=i(70129),c=i(14541),E=i(30554),_=i(38736),e=/^\[object .+?Constructor\]$/,r=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const g=function d(f){return!(!(0,E.A)(f)||(0,c.A)(f))&&((0,A.A)(f)?r:e).test((0,_.A)(f))}},33127(O,S,i){i.d(S,{I:()=>c});var A=i(47868);let c=(()=>{class E{static injector;static setInjector(v){E.injector||(E.injector=v)}static getInjector(){return E.injector}static \u0275fac=function(e){return new(e||E)};static \u0275prov=A.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})()},33245(O,S,i){i.d(S,{U:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Baby Urchin";tier=2;pack="Star";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BabyUrchinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.opponent.getFurthestUpPet(r),g=[d.pet],f=d.random;if(g[0]){for(let D=0;D<r.level-1;D++){let k;if(k=f?r.parent.opponent.getFurthestUpPet(r).pet:g[D].petBehind(),!k)break;g.push(k)}for(let D of g)D&&(D.increaseHealth(-4),this.logService.createLog({message:`${r.name} removed 4 health from ${D.name}.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:f}));this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},33270(O,S,i){i.d(S,{Y:()=>E});var A=i(50873);i(5615);class E extends A.L{name="Pickaxe";tier=4}},33340(O,S,i){i.d(S,{A:()=>t});var A=i(17133),c="object"==typeof exports&&exports&&!exports.nodeType&&exports,E=c&&"object"==typeof module&&module&&!module.nodeType&&module,v=E&&E.exports===c&&A.A.process;const t=function(){try{return E&&E.require&&E.require("util").types||v&&v.binding&&v.binding("util")}catch{}}()},33411(O,S,i){i.d(S,{L:()=>E});var A=i(46200);i(5615);class E extends A.i{logService;abilityService;name="Tooth Billed Pigeon";tier=1;pack="Danger";attack=3;health=1;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}},33446(O,S,i){i.d(S,{A:()=>v});var A=i(16080);const v=function _(e){return(0,A.A)(e,5)}},33500(O,S,i){i.d(S,{EE:()=>a,Kw:()=>r,Q_:()=>f,i2:()=>D,m3:()=>o,q7:()=>g,vI:()=>d,yY:()=>n});var A=i(42280),c=i(80659);const _=(k,L,F)=>{switch(L){case 0:k.pet0=F;break;case 1:k.pet1=F;break;case 2:k.pet2=F;break;case 3:k.pet3=F;break;case 4:k.pet4=F}},v=(k,L,F)=>{try{k.setPet(L,F)}catch{_(k,L,void 0)}},n=k=>{const L=(0,A.A)(k.petArray);for(let F=0;F<=4;F++)v(k,F,L[F])},a=k=>{null!=k.pet0?.equipment&&k.pet0.equipment instanceof c.m&&(k.pet0.equipment.callback(k.pet0),n(k))},o=(k,L)=>{const F=((k,L)=>{for(let F=L-1;F>=0;F--)if(null==k.getPet(F))return F;return null})(k,L);if(null==F)return!1;for(let J=F;J<L;J++)_(k,J,k.getPet(J+1));return!0},r=(k,L)=>{const F=((k,L)=>{for(let F=L+1;F<=4;F++)if(null==k.getPet(F))return F;return null})(k,L);if(null==F)return!1;for(let J=F;J>L;J--)_(k,J,k.getPet(J-1));return!0},d=(k,L)=>{5!==k.petArray.length?o(k,L)||r(k,L):console.warn("No room to Make Room")},g=(k,L,F=1,J,ne,H)=>{if("Brussels Sprout"===L?.equipment?.name)return ne.createLog({message:`${L.name} blocked being pushed. (Brussels Sprout)`,type:"equipment",player:L.parent}),void L.removePerk();const $=L.position;let q;if(_(L.parent,$,void 0),F>0&&(q=Math.max($-F,0),null!=k.getPet(q)&&(o(k,q)||r(k,q)),k.setPet(q,L)),F<0&&(q=Math.min($-F,4),null!=k.getPet(q)&&(r(k,q)||o(k,q)),k.setPet(q,L)),J?(L.jumped=!0,H.triggerJumpEvents(L)):H.triggerPushedEvents(L),null==k.pet0)H.triggerEmptyFrontSpaceEvents(k),H.executeEmptyFrontSpaceEvents(),H.triggerEmptyFrontSpaceToyEvents(k),H.executeEmptyFrontSpaceToyEvents();else for(const ae of k.petArray)ae.clearFrontTriggered=!1},f=(k,L,F,J,ne)=>{g(k,L,4,F,J,ne)},D=(k,L,F,J)=>{g(k,L,-4,!1,F,J)}},33524(O,S,i){i.d(S,{Rr:()=>c,XT:()=>E,Ye:()=>_,ku:()=>A,lx:()=>v});const A=e=>{const t=e.equipment;return"string"==typeof t?"Silly"===t:!(!t||"string"!=typeof t.name)&&"Silly"===t.name},c=(e,t)=>{const n=[];for(const a of e.petArray)a.alive&&("perk"===t?a.equipment&&!a.equipment.equipmentClass?.startsWith("ailment")&&n.push(a):a.equipment?.name===t&&n.push(a));return n},E=(e,t)=>{const n=[];for(const a of e.petArray)a.alive&&("Perk"===t?(!a.equipment||a.equipment.name.startsWith("ailment"))&&n.push(a):(!a.equipment||a.equipment.name!==t)&&n.push(a));return n},_=(e,t)=>{for(const n of e.petArray)if(n.position===t)return n;return null},v=e=>{const t=[];for(const n of e.petArray)if(n.hasTrigger(void 0,"Pet","ManticoreAbility"))for(const a of n.abilityList)"ManticoreAbility"===a.name&&t.push(a.level);return t}},33605(O,S,i){i.d(S,{V:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Quail";tier=1;pack="Custom";hidden=!0;attack=2;health=2;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},33685(O,S,i){i.d(S,{h:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Lusca";tier=5;pack="Custom";attack=7;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Lusca Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=t.mana;if(n<=0)return void this.triggerTigerExecution(e);t.mana=0;const o=t.parent.getRandomEnemyPetsWithSillyFallback(this.level,[],!1,!1,t).pets;if(0!==o.length){for(const r of o){const d=n,g=Math.max(0,r.attack-d),f=Math.max(0,r.health-d);r.attack=g,r.health=Math.max(1,f)}this.logService.createLog({message:`${t.name} spent ${n} mana and drained ${o.map(r=>r.name).join(", ")}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},33837(O,S,i){i.d(S,{L:()=>_});var A=i(46200),c=i(5615),E=i(29088);class _ extends A.i{name="Basilisk";tier=3;pack="Custom";attack=5;health=2;constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.initPet(g,o,r,d,f,D)}initAbilities(){this.abilityList=[new v(this,this.logService,this.abilityService)],super.initAbilities()}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"Basilisk Ability",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>this.executeAbility(o)}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner,r=o.petAhead;if(r&&r.alive){const d=5*this.level,g=Math.max(1,r.attack??1),f=Math.max(1,r.health??1)+d,D=new E.A(this.logService,this.abilityService,r.parent,f,g,r.mana,r.exp);o.parent.transformPet(r,D),this.logService.createLog({message:`${o.name} transformed ${r.name} into a Rock with +${d} health.`,type:"ability",player:o.parent,tiger:n,pteranodon:a})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},34122(O,S,i){i.d(S,{C:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Bass";tier=2;pack="Star";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BassAbility",owner:e,triggers:["Faint","ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner,d=r.parent.petArray.filter(k=>k==r&&!k.isSellPet()&&k.level<2);let g=r.parent.getRandomPet(d,!0,null,null,r);const f=g.pet;if(null==f)return;const D=this.level;this.logService.createLog({message:`${r.name} gave ${f.name} +${D} experience.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:g.random}),f.increaseExp(D),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},34133(O,S,i){i.d(S,{B:()=>_});var A=i(46200),c=i(5615),E=i(1152);class _ extends A.i{logService;abilityService;name="Blue-Throated Macaw";tier=3;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"BlueThroatedMacawAbility",owner:t,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:t.level,precondition:a=>{const{triggerPet:o}=a,g=(0,E.lK)(this.owner,o).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:o}=t,d=this.owner;if(a){if(a.position<d.position){let g=(0,E.lK)(d,a),f=g.pet;if(!f)return;let D=3*this.level;f.increaseAttack(D),this.logService.createLog({message:`${d.name} gave ${f.name} +${D} attack.`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random})}else{let g=(0,E.lK)(d,a),f=g.pet;if(!f)return;let D=3*this.level;f.increaseHealth(D),this.logService.createLog({message:`${d.name} gave ${f.name} +${D} health.`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random})}this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},34443(O,S,i){i.d(S,{K:()=>_});var A=i(46200),c=i(5615),E=i(30357);class _ extends A.i{logService;abilityService;name="Cuttlefish";tier=4;pack="Golden";attack=8;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"CuttlefishAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.opponent.getLastPets(this.level,void 0,d),f=g.pets;if(0==f.length)return;for(let J of f)J.increaseHealth(-3),this.logService.createLog({message:`${d.name} reduced ${J.name} health by 3`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:g.random});let k=d.parent.getPetsWithEquipmentWithSillyFallback("Inked",d),L=d.parent.opponent.getLastPets(this.level,k,d),F=L.pets;if(0!=F.length){for(let J of F)J.givePetEquipment(new E.w),this.logService.createLog({message:`${d.name} gave ${J.name} Inked.`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:L.random});this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},34444(O,S,i){i.d(S,{X:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Mandarinfish";tier=2;pack="Custom";attack=2;health=3;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},34593(O,S,i){i.d(S,{T:()=>e});var A=i(46200),c=i(5615),E=i(90966),_=i(33127),v=i(61850);class e extends A.i{logService;abilityService;name="Albino Squirrel";tier=2;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new t(this,this.logService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{logService;constructor(a,o){super({name:"AlbinoSquirrelAbility",owner:a,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=o}executeAbility(a){const{tiger:o,pteranodon:r}=a,d=this.owner,f=_.I.getInjector().get(E.m).getInstanceOfAllEquipment(),D=Array.from(f.values()).filter(L=>"shop"===L.equipmentClass);if(0===D.length)return;let k=[];for(let L=0;L<3;L++){let F=D[(0,v.hw)(0,D.length-1)];k.push(F.name)}this.logService.createLog({message:`${d.name} restocked shop food with ${k.join(", ")} at -${this.level} gold.`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:!0}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService)}}},34638(O,S,i){i.d(S,{i:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Flounder";tier=5;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;foodsEaten=0;triggeredThisTurn=!1;constructor(e,t){super({name:"Flounder Ability",owner:e,triggers:["FoodEatenByThis","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.foodsEaten=0,this.triggeredThisTurn=!1,void this.triggerTigerExecution(e);if(this.triggeredThisTurn)return void this.triggerTigerExecution(e);if(this.foodsEaten++,this.foodsEaten<2)return void this.triggerTigerExecution(e);const n=this.level,a=t.parent.nearestPetsBehind(2,t);for(const o of a.pets)o.increaseExp(n),this.logService.createLog({message:`${t.name} gave ${o.name} ${n} exp.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:a.random});this.triggeredThisTurn=!0,this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},34747(O,S,i){i.d(S,{Z:()=>e});var A=i(46200),c=i(5615),E=i(58857),_=i(61850),v=i(79222);class e extends A.i{logService;abilityService;petService;name="Eagle";tier=5;pack="Puppy";attack=6;health=5;constructor(a,o,r,d,g,f,D,k,L,F){super(a,o,d),this.logService=a,this.abilityService=o,this.petService=r,this.initPet(k,g,f,D,L,F)}initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class t extends c.T{logService;abilityService;petService;constructor(a,o,r,d){super({name:"EagleAbility",owner:a,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=o,this.abilityService=r,this.petService=d}executeAbility(a){const{gameApi:o,tiger:d,pteranodon:g}=a,f=this.owner,D=Number.isFinite(o.previousShopTier)?o.previousShopTier:1,k=Math.min(6,Math.max(1,D+1)),L=le=>(le??[]).filter(_e=>_e&&f.name&&_e.toLowerCase()!==f.name.toLowerCase()),F=f.parent===o.player?o.playerPetPool:o.opponentPetPool;let J=L(F?.get(k));if(J?.length||(J=L(this.petService.allPets.get(k))),J?.length||(J=L(this.petService.allPets.get(1))),!J.length)return void this.triggerTigerExecution(a);const ne=(0,E.k6)({key:"pet.eagle-faint-summon",label:(0,v.I)(f,`Eagle tier ${k} summon`),options:J.map(le=>({id:le,label:le}))},()=>(0,_.hw)(0,J.length-1));let $=5*this.level,q=this.petService.createPet({name:J[ne.index],attack:$,health:$,exp:f.minExpForLevel,equipment:null,mana:0},f.parent);f.parent.summonPet(q,f.savedPosition,!1,f).success&&this.logService.createLog({message:`${f.name} spawned ${q.name} Level ${q.level}`,type:"ability",player:f.parent,tiger:d,randomEvent:ne.randomEvent,pteranodon:g}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService,this.petService)}}},34748(O,S,i){i.d(S,{V:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Dolphin";tier=3;pack="Turtle";health=3;attack=4;hasRandomEvents=!0;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DolphinAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.opponent;for(let g=0;g<this.level;g++){let f=d.getLowestHealthPet(null,r);if(!f.pet)break;r.snipePet(f.pet,4,f.random,a)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},34774(O,S,i){i.d(S,{P:()=>v});var A=i(46200),c=i(5615),E=i(90966),_=i(33127);class v extends A.i{logService;abilityService;name="Toucan";tier=3;pack="Puppy";attack=4;health=3;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"ToucanAbility",owner:n,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:n.level,condition:o=>this.owner.timesAttacked<1,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const{tiger:r,pteranodon:d}=n,g=this.owner;let f;f=null==g.equipment||g.equipment.tier>5?"Egg":g.equipment.name;let D=g.parent.getPetsWithEquipment(f),L=g.parent.nearestPetsBehind(this.level,g,D).pets;if(0!=L.length){for(let F of L){const J=_.I.getInjector().get(E.m).getInstanceOfAllEquipment().get(f);J&&(this.logService.createLog({message:`${g.name} gave ${F.name} ${J.name}`,type:"ability",player:g.parent,randomEvent:!1,tiger:r,pteranodon:d}),F.givePetEquipment(J))}this.triggerTigerExecution(n)}}copy(n){return new e(n,this.logService)}}},34815(O,S,i){i.d(S,{w:()=>v});var A=i(46200),c=i(59374),E=i(5615),_=i(61850);class v extends A.i{logService;abilityService;name="Mandrake";tier=3;pack="Unicorn";attack=4;health=3;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends E.T{logService;constructor(n,a){super({name:"MandrakeAbility",owner:n,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const{tiger:r}=n,g=this.owner;let f=g.parent.getPetsWithEquipmentWithSillyFallback("Dazed",g),k=this.getTargetPrioritizingFaintPets(f,g).pet;null!=k&&(this.logService.createLog({message:`${g.name} made ${k.name} Dazed.`,type:"ability",player:g.parent,tiger:r,randomEvent:!0}),k.givePetEquipment(new c.x),this.triggerTigerExecution(n))}getTargetPrioritizingFaintPets(n,a){const o=2*this.level,r=a.parent.opponent.petArray.filter(d=>d.alive&&d.tier<=o&&!n.includes(d)&&d.isFaintPet());return r.length>0?{pet:r[(0,_.hw)(0,r.length-1)],random:r.length>1}:a.parent.opponent.getTierXOrLowerPet(o,n,a)}copy(n){return new e(n,this.logService)}}},34829(O,S,i){i.d(S,{Q:()=>e});var A=i(46200),c=i(5615),E=i(90966),_=i(33127),v=i(1152);class e extends A.i{logService;abilityService;petService;gameService;name="Seagull";tier=4;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new t(this,this.logService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L,F,J){super(a,o,g),this.logService=a,this.abilityService=o,this.petService=r,this.gameService=d,this.initPet(L,f,D,k,F,J)}}class t extends c.T{logService;usesThisTurn=0;constructor(a,o){super({name:"SeagullAbility",owner:a,triggers:["FriendSummoned","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=o}executeAbility(a){const{triggerPet:o,tiger:r,pteranodon:d,trigger:g}=a,f=this.owner;if("StartTurn"===g)return void(this.usesThisTurn=0);const D=(0,v.Uj)(f,o);if(!D.pet||!f.equipment||this.usesThisTurn>=this.level)return void this.triggerTigerExecution(a);const k=_.I.getInjector().get(E.m),L=f.equipment,F=k.getInstanceOfAllEquipment().get(L.name);if(!F)return void this.triggerTigerExecution(a);const J=D.pet;J.givePetEquipment(F),this.usesThisTurn++,(0,v.rv)(this.logService,f,`${f.name} gave ${J.name} a ${L.name}`,r,d,{randomEvent:D.random}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService)}}},35045(O,S,i){i.d(S,{x:()=>Rt});var A=i(38022),c=i(84797),E=i(23475),_=i(71433),v=i(3626),e=i(90285),t=i(35867),n=i(86950),a=i(72818),o=i(50871),r=i(88513),d=i(26666),g=i(20290),f=i(48549),D=i(57862),k=i(98964),L=i(56692),F=i(78229),J=i(34774),ne=i(66548),H=i(66855),$=i(87955),q=i(14228),ae=i(8143),le=i(15504),_e=i(56876),ye=i(98349),Se=i(60990),Ce=i(19114),de=i(50598),Te=i(50702),xe=i(83398),Ue=i(21784),Ne=i(4945),ct=i(18506),Je=i(4066),Ke=i(3813),qe=i(98977),mt=i(19939),pt=i(64747),it=i(34747),Dt=i(79770),ut=i(92248),yt=i(49575),rt=i(24101),He=i(11325),kt=i(37429),Xt=i(25700),nt=i(1785),$t=i(66802),Et=i(46637),ge=i(50424),Oe=i(80128),Ve=i(43726),Fe=i(51384),ot=i(45312),Bt=i(16408);const Rt={Moth:A.n,Bluebird:c.S,Chinchilla:E._,Beetle:_._,Ladybug:v.d,Chipmunk:e.C,Gecko:t.k,Ferret:n.t,Robin:r.v,Bat:a.M,Bilby:o.i,Dromedary:d.Q,Shrimp:g.S,Toucan:J.P,"Beluga Sturgeon":f.$,"Tabby Cat":D.b,Mandrill:k._,Lemur:L.S,"Gold Fish":F.Z,"Hoopoe Bird":ne.u,"Tropical Fish":H.f,"Hatching Chick":$.x,Owl:q.d,Mole:ae.e,Pangolin:le.Z,Puppy:_e.p,"Purple Frog":ye.J,Hare:Se.z,Microbe:Ce.u,Lobster:de.g,Buffalo:Te.s,Llama:xe.m,Caterpillar:Ue.G,Doberman:Ne.N,Tahr:ct.y,"Whale Shark":Je.v,Chameleon:Ke.l,Gharial:qe.V,Stonefish:mt.w,Goat:rt.r,Chicken:pt.u,"Orchid Mantis":Dt.u,Panther:ut.X,Axolotl:yt.W,"Snapping Turtle":He.t,Mosasaurus:kt.P,"Sting Ray":Xt.w,"Mantis Shrimp":nt.q,Lionfish:$t.n,Tyrannosaurus:Et.x,Octopus:ge.S,Anglerfish:Oe.w,Sauropod:Ve.y,"Elephant Seal":Fe.d,Puma:ot.E,Mongoose:Bt.c,Eagle:it.Z}},35115(O,S,i){i.d(S,{t:()=>_});var A=i(46200),c=i(5615),E=i(904);class _ extends A.i{logService;abilityService;name="Taita Shrew";tier=2;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"TaitaShrewAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.getThis(d),f=g.pet;if(!f)return;let D=new E.I(this.logService,this.abilityService,d.parent,f.health,f.attack,f.mana,f.exp,f.equipment);this.logService.createLog({message:`${d.name} transformed ${f.name} into ${D.name} (level ${this.level}).`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random}),d.parent.transformPet(f,D),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},35389(O,S,i){i.d(S,{x:()=>E});var A=i(46200),c=i(5615);class E extends A.i{constructor(e,t,n){super(e,t,n),this.name="Barnacle",this.tier=3,this.pack="Custom",this.attack=1,this.health=3}initAbilities(){this.abilityList=[new _(this,this.logService)],super.initAbilities()}}class _ extends c.T{logService;constructor(e,t){super({name:"Barnacle Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{gameApi:t}=e,n=this.owner;if(0===(n.parent===t.player?t.playerRollAmount||0:t.opponentRollAmount||0)){const o=this.level;n.increaseExp(o),this.logService.createLog({message:`${n.name} gained +${o} experience (EndTurn, no rolls).`,type:"ability",player:n.parent})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},35454(O,S,i){i.d(S,{U:()=>t});var A=i(46200),c=i(5615),E=i(94798),_=i(58857),v=i(61850),e=i(79222);class t extends A.i{logService;abilityService;petService;name="Golden Tamarin";tier=4;pack="Danger";attack=4;health=4;initAbilities(){this.addAbility(new n(this,this.logService,this.petService)),super.initAbilities()}constructor(o,r,d,g,f,D,k,L,F,J){super(o,r,g),this.logService=o,this.abilityService=r,this.petService=d,this.initPet(L,f,D,k,F,J)}}class n extends c.T{logService;petService;constructor(o,r,d){super({name:"GoldenTamarinAbility",owner:o,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:o.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=r,this.petService=d}executeAbility(o){const{tiger:g}=o,D=this.owner;let L=D.parent.getThis(D).pet;if(!L)return;const F=E.s.goldenTamarin,J=(0,_.k6)({key:"pet.golden-tamarin-transform",label:(0,e.I)(D,"Golden Tamarin transform"),options:F.map($=>({id:$,label:$}))},()=>(0,v.hw)(0,F.length-1));let H=this.petService.createPet({name:F[J.index],health:L.health,attack:L.attack,mana:L.mana,exp:L.exp,equipment:L.equipment},D.parent);D.parent.transformPet(L,H),this.logService.createLog({message:`${D.name} transformed ${L.name} into a ${H.attack}/${H.health} ${H.name}.`,type:"ability",player:D.parent,tiger:g,randomEvent:J.randomEvent}),this.triggerTigerExecution(o)}copy(o){return new n(o,this.logService,this.petService)}}},35547(O,S,i){i.d(S,{$C:()=>$v,$Ln:()=>Yg,$o8:()=>Ps,AVh:()=>Xm,Ab1:()=>lo,Agw:()=>j,B4B:()=>bh,BIS:()=>he,BMQ:()=>Zd,C4Q:()=>Mc,C5r:()=>xP,C7A:()=>cy,Co$:()=>Nv,DH7:()=>a_,DNE:()=>bl,DUP:()=>Zr,DkB:()=>Wl,EBC:()=>H_,EFF:()=>aP,EJ8:()=>Gv,Ef8:()=>rt,FsC:()=>Nd,GBs:()=>Gm,H1s:()=>Dy,HbH:()=>zb,Hgh:()=>Zn,JRh:()=>e_,Jt5:()=>yp,Jv_:()=>EP,KED:()=>q0,LHq:()=>i_,LVR:()=>om,Lme:()=>xp,NCX:()=>vd,NOj:()=>z_,NSC:()=>Ul,NYb:()=>Ey,OA$:()=>Ne,Ocv:()=>qP,PLl:()=>ee,PeT:()=>Is,R50:()=>n_,R7$:()=>q_,RV6:()=>mb,SpI:()=>Lp,TFI:()=>Yc,UQu:()=>uD,VBU:()=>Fd,VeQ:()=>Be,Vt3:()=>uo,VzW:()=>Uv,XpG:()=>Po,Y8G:()=>Bl,YEm:()=>va,Zhj:()=>VS,_9s:()=>ag,_9u:()=>rr,_jY:()=>Pn,_qm:()=>Yt,_ys:()=>rf,a8H:()=>Ec,aCM:()=>Oa,aKT:()=>Jt,bH1:()=>Wv,bIt:()=>$m,bVm:()=>su,c1b:()=>Ld,cDI:()=>y1,cdK:()=>Sy,czy:()=>sd,d80:()=>ZM,dOL:()=>zg,dfE:()=>DA,e6s:()=>LT,eHC:()=>Rd,eq3:()=>SP,eu8:()=>ru,eux:()=>ga,gXe:()=>wa,j41:()=>au,k0s:()=>Fl,kBR:()=>ou,kS0:()=>Le,lJ4:()=>o_,lJT:()=>Zg,l_i:()=>TP,lsd:()=>Mp,mGM:()=>Bb,mS5:()=>He,mY:()=>ke,mal:()=>Oh,mxI:()=>yu,nrm:()=>wm,nv$:()=>Fy,o8S:()=>Tl,ozJ:()=>cg,pl0:()=>Q1,qex:()=>_p,rXU:()=>dl,rj2:()=>ha,rpG:()=>JP,s1E:()=>CP,sFG:()=>sS,sMw:()=>DP,sZ2:()=>ei,sdS:()=>Hm,sgu:()=>xv,tSv:()=>G_,uiO:()=>ne,utN:()=>AS,vDg:()=>yv,w6W:()=>co,xGo:()=>na,xc7:()=>Ym,xe9:()=>QP,yLl:()=>Jg,ypd:()=>Qg,ziG:()=>MP,zoo:()=>sf});var A=i(10467),c=i(47868),E=i(15824),_=i(45286),v=i(31805),e=i(95006);function t(s){return{toString:s}.toString()}const n="__annotations__",a="__parameters__",o="__prop__metadata__";function r(s,p,m,b,T){return t(()=>{const M=d(p);function w(...R){if(this instanceof w)return M.call(this,...R),this;const B=new w(...R);return function(Q){return T&&T(Q,...R),(Q.hasOwnProperty(n)?Q[n]:Object.defineProperty(Q,n,{value:[]})[n]).push(B),Q}}return m&&(w.prototype=Object.create(m.prototype)),w.prototype.ngMetadataName=s,w.annotationCls=w,w})}function d(s){return function(...m){if(s){const b=s(...m);for(const T in b)this[T]=b[T]}}}function g(s,p,m){return t(()=>{const b=d(p);function T(...M){if(this instanceof T)return b.apply(this,M),this;const w=new T(...M);return R.annotation=w,R;function R(B,G,Q){const oe=B.hasOwnProperty(a)?B[a]:Object.defineProperty(B,a,{value:[]})[a];for(;oe.length<=Q;)oe.push(null);return(oe[Q]=oe[Q]||[]).push(w),B}}return T.prototype.ngMetadataName=s,T.annotationCls=T,T})}const D=(0,c.z6V)(g("Inject",s=>({token:s})),-1),k=(0,c.z6V)(g("Optional"),8),L=(0,c.z6V)(g("Self"),2),F=(0,c.z6V)(g("SkipSelf"),4),J=(0,c.z6V)(g("Host"),1);function ne(s){const p=c.laP.ng;if(p&&p.\u0275compilerFacade)return p.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const H={\u0275\u0275defineInjectable:c.jDH,\u0275\u0275defineInjector:c.G2t,\u0275\u0275inject:c.KVO,\u0275\u0275invalidFactoryDep:c.dmw,resolveForwardRef:c.nl4},$=Function;function q(s){return"function"==typeof s}const ae=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,le=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,_e=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,ye=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class Ce{_reflect;constructor(p){this._reflect=p||c.laP.Reflect}factory(p){return(...m)=>new p(...m)}_zipTypesAndAnnotations(p,m){let b;b=(0,c.WfI)(typeof p>"u"?m.length:p.length);for(let T=0;T<b.length;T++)b[T]=typeof p>"u"?[]:p[T]&&p[T]!=Object?[p[T]]:[],m&&null!=m[T]&&(b[T]=b[T].concat(m[T]));return b}_ownParameters(p,m){if(function Se(s){return ae.test(s)||ye.test(s)||le.test(s)&&!_e.test(s)}(p.toString()))return null;if(p.parameters&&p.parameters!==m.parameters)return p.parameters;const T=p.ctorParameters;if(T&&T!==m.ctorParameters){const R="function"==typeof T?T():T,B=R.map(Q=>Q&&Q.type),G=R.map(Q=>Q&&de(Q.decorators));return this._zipTypesAndAnnotations(B,G)}const M=p.hasOwnProperty(a)&&p[a],w=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",p);return w||M?this._zipTypesAndAnnotations(w,M):(0,c.WfI)(p.length)}parameters(p){if(!q(p))return[];const m=Te(p);let b=this._ownParameters(p,m);return!b&&m!==Object&&(b=this.parameters(m)),b||[]}_ownAnnotations(p,m){if(p.annotations&&p.annotations!==m.annotations){let b=p.annotations;return"function"==typeof b&&b.annotations&&(b=b.annotations),b}return p.decorators&&p.decorators!==m.decorators?de(p.decorators):p.hasOwnProperty(n)?p[n]:null}annotations(p){if(!q(p))return[];const m=Te(p),b=this._ownAnnotations(p,m)||[];return(m!==Object?this.annotations(m):[]).concat(b)}_ownPropMetadata(p,m){if(p.propMetadata&&p.propMetadata!==m.propMetadata){let b=p.propMetadata;return"function"==typeof b&&b.propMetadata&&(b=b.propMetadata),b}if(p.propDecorators&&p.propDecorators!==m.propDecorators){const b=p.propDecorators,T={};return Object.keys(b).forEach(M=>{T[M]=de(b[M])}),T}return p.hasOwnProperty(o)?p[o]:null}propMetadata(p){if(!q(p))return{};const m=Te(p),b={};if(m!==Object){const M=this.propMetadata(m);Object.keys(M).forEach(w=>{b[w]=M[w]})}const T=this._ownPropMetadata(p,m);return T&&Object.keys(T).forEach(M=>{const w=[];b.hasOwnProperty(M)&&w.push(...b[M]),w.push(...T[M]),b[M]=w}),b}ownPropMetadata(p){return q(p)&&this._ownPropMetadata(p,Te(p))||{}}hasLifecycleHook(p,m){return p instanceof $&&m in p.prototype}}function de(s){return s?s.map(p=>new(0,p.type.annotationCls)(...p.args?p.args:[])):[]}function Te(s){const p=s.prototype?Object.getPrototypeOf(s.prototype):null;return(p?p.constructor:null)||Object}function xe(s,p,m,b){null!==p?p.applyValueToInputSignal(p,b):s[m]=b}class Ue{previousValue;currentValue;firstChange;constructor(p,m,b){this.previousValue=p,this.currentValue=m,this.firstChange=b}isFirstChange(){return this.firstChange}}const Ne=(()=>{const s=()=>ct;return s.ngInherit=!0,s})();function ct(s){return s.type.prototype.ngOnChanges&&(s.setInput=Ke),Je}function Je(){const s=mt(this),p=s?.current;if(p){const m=s.previous;if(m===c.MZA)s.previous=p;else for(let b in p)m[b]=p[b];s.current=null,this.ngOnChanges(p)}}function Ke(s,p,m,b,T){const M=this.declaredInputs[b],w=mt(s)||function pt(s,p){return s[qe]=p}(s,{previous:c.MZA,current:null}),R=w.current||(w.current={}),B=w.previous,G=B[M];R[M]=new Ue(G&&G.currentValue,m,B===c.MZA),xe(s,p,T,m)}const qe="__ngSimpleChanges__";function mt(s){return s[qe]||null}const it=[],rt=function(s,p=null,m){for(let b=0;b<it.length;b++)(0,it[b])(s,p,m)};var He=function(s){return s[s.TemplateCreateStart=0]="TemplateCreateStart",s[s.TemplateCreateEnd=1]="TemplateCreateEnd",s[s.TemplateUpdateStart=2]="TemplateUpdateStart",s[s.TemplateUpdateEnd=3]="TemplateUpdateEnd",s[s.LifecycleHookStart=4]="LifecycleHookStart",s[s.LifecycleHookEnd=5]="LifecycleHookEnd",s[s.OutputStart=6]="OutputStart",s[s.OutputEnd=7]="OutputEnd",s[s.BootstrapApplicationStart=8]="BootstrapApplicationStart",s[s.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",s[s.BootstrapComponentStart=10]="BootstrapComponentStart",s[s.BootstrapComponentEnd=11]="BootstrapComponentEnd",s[s.ChangeDetectionStart=12]="ChangeDetectionStart",s[s.ChangeDetectionEnd=13]="ChangeDetectionEnd",s[s.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",s[s.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",s[s.AfterRenderHooksStart=16]="AfterRenderHooksStart",s[s.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",s[s.ComponentStart=18]="ComponentStart",s[s.ComponentEnd=19]="ComponentEnd",s[s.DeferBlockStateStart=20]="DeferBlockStateStart",s[s.DeferBlockStateEnd=21]="DeferBlockStateEnd",s[s.DynamicComponentStart=22]="DynamicComponentStart",s[s.DynamicComponentEnd=23]="DynamicComponentEnd",s[s.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",s[s.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",s}(He||{});function Xt(s,p){for(let m=p.directiveStart,b=p.directiveEnd;m<b;m++){const M=s.data[m].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:R,ngAfterViewInit:B,ngAfterViewChecked:G,ngOnDestroy:Q}=M;w&&(s.contentHooks??=[]).push(-m,w),R&&((s.contentHooks??=[]).push(m,R),(s.contentCheckHooks??=[]).push(m,R)),B&&(s.viewHooks??=[]).push(-m,B),G&&((s.viewHooks??=[]).push(m,G),(s.viewCheckHooks??=[]).push(m,G)),null!=Q&&(s.destroyHooks??=[]).push(m,Q)}}function nt(s,p,m){ge(s,p,3,m)}function $t(s,p,m,b){(3&s[c.Wg1])===m&&ge(s,p,m,b)}function Et(s,p){let m=s[c.Wg1];(3&m)===p&&(m&=16383,m+=1,s[c.Wg1]=m)}function ge(s,p,m,b){const M=b??-1,w=p.length-1;let R=0;for(let B=void 0!==b?65535&s[c.wVl]:0;B<w;B++)if("number"==typeof p[B+1]){if(R=p[B],null!=b&&R>=b)break}else p[B]<0&&(s[c.wVl]+=65536),(R<M||-1==M)&&(Ve(s,m,p,B),s[c.wVl]=(4294901760&s[c.wVl])+B+2),B++}function Oe(s,p){rt(He.LifecycleHookStart,s,p);const m=(0,E.Ht)(null);try{p.call(s)}finally{(0,E.Ht)(m),rt(He.LifecycleHookEnd,s,p)}}function Ve(s,p,m,b){const T=m[b]<0,M=m[b+1],R=s[T?-m[b]:m[b]];T?s[c.Wg1]>>14<s[c.wVl]>>16&&(3&s[c.Wg1])===p&&(s[c.Wg1]+=16384,Oe(R,M)):Oe(R,M)}class ot{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(p,m,b,T){this.factory=p,this.name=T,this.canSeeViewProviders=m,this.injectImpl=b}}function Rt(s){return null!=s&&"object"==typeof s&&(null===s.insertBeforeIndex||"number"==typeof s.insertBeforeIndex||Array.isArray(s.insertBeforeIndex))}function Vi(s){return 3===s||4===s||6===s}function wi(s){return 64===s.charCodeAt(0)}function Oi(s,p){if(null!==p&&0!==p.length)if(null===s||0===s.length)s=p.slice();else{let m=-1;for(let b=0;b<p.length;b++){const T=p[b];"number"==typeof T?m=T:0===m||zi(s,m,T,0,-1===m||2===m?p[++b]:null)}}return s}function zi(s,p,m,b,T){let M=0,w=s.length;if(-1===p)w=-1;else for(;M<s.length;){const R=s[M++];if("number"==typeof R){if(R===p){w=-1;break}if(R>p){w=M-1;break}}}for(;M<s.length;){const R=s[M];if("number"==typeof R)break;if(R===m)return void(null!==T&&(s[M+1]=T));M++,null!==T&&M++}-1!==w&&(s.splice(w,0,p),M=w+1),s.splice(M++,0,m),null!==T&&s.splice(M++,0,T)}function Sn(s){return-1!==s}function Mi(s){return 32767&s}function Ci(s,p){let m=function fi(s){return s>>16}(s),b=p;for(;m>0;)b=b[c.X5O],m--;return b}let Nn=!0;function pn(s){const p=Nn;return Nn=s,p}let In=0;const Bi={};function Ii(s,p){const m=Tn(s,p);if(-1!==m)return m;const b=p[c.eDl];b.firstCreatePass&&(s.injectorIndex=p.length,Hi(b.data,s),Hi(p,null),Hi(b.blueprint,null));const T=bi(s,p),M=s.injectorIndex;if(Sn(T)){const w=Mi(T),R=Ci(T,p),B=R[c.eDl].data;for(let G=0;G<8;G++)p[M+G]=R[w+G]|B[w+G]}return p[M+8]=T,M}function Hi(s,p){s.push(0,0,0,0,0,0,0,0,p)}function Tn(s,p){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===p[s.injectorIndex+8]?-1:s.injectorIndex}function bi(s,p){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let m=0,b=null,T=p;for(;null!==T;){if(b=ve(T),null===b)return-1;if(m++,T=T[c.X5O],-1!==b.injectorIndex)return b.injectorIndex|m<<16}return-1}function qi(s,p,m){!function pi(s,p,m){let b;"string"==typeof m?b=m.charCodeAt(0)||0:m.hasOwnProperty(c.p9y)&&(b=m[c.p9y]),null==b&&(b=m[c.p9y]=In++);const T=255&b;p.data[s+(T>>5)]|=1<<T}(s,p,m)}function Dn(s,p,m){if(8&m||void 0!==s)return s;(0,c.$Hz)(p,"NodeInjector")}function ea(s,p,m,b){if(8&m&&void 0===b&&(b=null),!(3&m)){const T=s[c.YEL],M=(0,c.a2B)(void 0);try{return T?T.get(p,b,8&m):(0,c.MzJ)(p,b,8&m)}finally{(0,c.a2B)(M)}}return Dn(b,p,m)}function Si(s,p,m,b=0,T){if(null!==s){if(2048&p[c.Wg1]&&!(2&b)){const w=function Ae(s,p,m,b,T){let M=s,w=p;for(;null!==M&&null!==w&&2048&w[c.Wg1]&&!(0,c.EFk)(w);){const R=en(M,w,m,2|b,Bi);if(R!==Bi)return R;let B=M.parent;if(!B){const G=w[c.oMQ];if(G){const Q=G.get(m,Bi,b);if(Q!==Bi)return Q}B=ve(w),w=w[c.X5O]}M=B}return T}(s,p,m,b,Bi);if(w!==Bi)return w}const M=en(s,p,m,b,Bi);if(M!==Bi)return M}return ea(p,m,b,T)}function en(s,p,m,b,T){const M=function ta(s){if("string"==typeof s)return s.charCodeAt(0)||0;const p=s.hasOwnProperty(c.p9y)?s[c.p9y]:void 0;return"number"==typeof p?p>=0?255&p:ia:p}(m);if("function"==typeof M){if(!(0,c.ihb)(p,s,b))return 1&b?Dn(T,m,b):ea(p,m,b,T);try{let w;if(w=M(b),null!=w||8&b)return w;(0,c.$Hz)(m)}finally{(0,c.niQ)()}}else if("number"==typeof M){let w=null,R=Tn(s,p),B=-1,G=1&b?p[c.b5C][c.qlT]:null;for((-1===R||4&b)&&(B=-1===R?bi(s,p):p[R+8],-1!==B&&qa(b,!1)?(w=p[c.eDl],R=Mi(B),p=Ci(B,p)):R=-1);-1!==R;){const Q=p[c.eDl];if(Ta(M,R,Q.data)){const oe=jn(R,p,m,w,b,G);if(oe!==Bi)return oe}B=p[R+8],-1!==B&&qa(b,p[c.eDl].data[R+8]===G)&&Ta(M,R,p)?(w=Q,R=Mi(B),p=Ci(B,p)):R=-1}}return T}function jn(s,p,m,b,T,M){const w=p[c.eDl],R=w.data[s+8],Q=Mn(R,w,m,null==b?(0,c.Qs1)(R)&&Nn:b!=w&&!!(3&R.type),1&T&&M===R);return null!==Q?sn(p,w,Q,R,T):Bi}function Mn(s,p,m,b,T){const M=s.providerIndexes,w=p.data,R=1048575&M,B=s.directiveStart,Q=M>>20,be=T?R+Q:s.directiveEnd;for(let Pe=b?R:R+Q;Pe<be;Pe++){const we=w[Pe];if(Pe<B&&m===we||Pe>=B&&we.type===m)return Pe}if(T){const Pe=w[B];if(Pe&&(0,c.JlV)(Pe)&&Pe.type===m)return B}return null}function sn(s,p,m,b,T){let M=s[m];const w=p.data;if(M instanceof ot){const R=M;if(R.resolving){const Pe=(0,c.PP7)(w[m]);throw(0,c.PQT)(Pe)}const B=pn(R.canSeeViewProviders);R.resolving=!0;const oe=R.injectImpl?(0,c.a2B)(R.injectImpl):null;(0,c.ihb)(s,b,0);try{M=s[m]=R.factory(void 0,T,w,s,b),p.firstCreatePass&&m>=b.directiveStart&&function kt(s,p,m){const{ngOnChanges:b,ngOnInit:T,ngDoCheck:M}=p.type.prototype;if(b){const w=ct(p);(m.preOrderHooks??=[]).push(s,w),(m.preOrderCheckHooks??=[]).push(s,w)}T&&(m.preOrderHooks??=[]).push(0-s,T),M&&((m.preOrderHooks??=[]).push(s,M),(m.preOrderCheckHooks??=[]).push(s,M))}(m,w[m],p)}finally{null!==oe&&(0,c.a2B)(oe),pn(B),R.resolving=!1,(0,c.niQ)()}}return M}function Ta(s,p,m){return!!(m[p+(s>>5)]&1<<s)}function qa(s,p){return!(2&s||1&s&&p)}class hi{_tNode;_lView;constructor(p,m){this._tNode=p,this._lView=m}get(p,m,b){return Si(this._tNode,this._lView,p,(0,c.hjC)(b),m)}}function ia(){return new hi((0,c.Mx4)(),(0,c.OAn)())}function na(s){return t(()=>{const p=s.prototype.constructor,m=p[c.zSs]||ce(p),b=Object.prototype;let T=Object.getPrototypeOf(s.prototype).constructor;for(;T&&T!==b;){const M=T[c.zSs]||ce(T);if(M&&M!==m)return M;T=Object.getPrototypeOf(T)}return M=>new M})}function ce(s){return(0,c.Jzi)(s)?()=>{const p=ce((0,c.nl4)(s));return p&&p()}:(0,c.wGu)(s)}function ve(s){const p=s[c.eDl],m=p.type;return 2===m?p.declTNode:1===m?s[c.qlT]:null}function Le(s){return function Zi(s,p){if("class"===p)return s.classes;if("style"===p)return s.styles;const m=s.attrs;if(m){const b=m.length;let T=0;for(;T<b;){const M=m[T];if(Vi(M))break;if(0===M)T+=2;else if("number"==typeof M)for(T++;T<b&&"string"==typeof m[T];)T++;else{if(M===p)return m[T+1];T+=2}}}return null}((0,c.Mx4)(),s)}const We=g("Attribute",s=>({attributeName:s,__NG_ELEMENT_ID__:()=>Le(s)}));let je=null;function Kt(s){return At(function ze(){return je=je||new Ce}().parameters(s))}function At(s){return s.map(p=>function Pi(s){const p={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(s)&&s.length>0)for(let m=0;m<s.length;m++){const b=s[m];if(void 0===b)continue;const T=Object.getPrototypeOf(b);if(b instanceof k||"Optional"===T.ngMetadataName)p.optional=!0;else if(b instanceof F||"SkipSelf"===T.ngMetadataName)p.skipSelf=!0;else if(b instanceof L||"Self"===T.ngMetadataName)p.self=!0;else if(b instanceof J||"Host"===T.ngMetadataName)p.host=!0;else if(b instanceof D)p.token=b.token;else if(b instanceof We){if(void 0===b.attributeName)throw new c.buA(204,!1);p.attribute=b.attributeName}else p.token=b}else p.token=void 0===s||Array.isArray(s)&&0===s.length?null:s;return p}(p))}const mi=(0,c.kLh)({provide:String,useValue:c.kLh});function gi(s){return void 0!==s.useClass}function ri(s){return void 0!==s.useFactory}const Yt=r("Injectable",void 0,void 0,0,(s,p)=>function Fi(s,p){let m=null,b=null;s.hasOwnProperty(c.yAH)||Object.defineProperty(s,c.yAH,{get:()=>(null===m&&(m=ne().compileInjectable(H,`ng:///${s.name}/\u0275prov.js`,function Gt(s,p){const m=p||{providedIn:null},b={name:s.name,type:s,typeArgumentCount:0,providedIn:m.providedIn};return(gi(m)||ri(m))&&void 0!==m.deps&&(b.deps=At(m.deps)),gi(m)?b.useClass=m.useClass:function rn(s){return mi in s}(m)?b.useValue=m.useValue:ri(m)?b.useFactory=m.useFactory:function Ri(s){return void 0!==s.useExisting}(m)&&(b.useExisting=m.useExisting),b}(s,p))),m)}),s.hasOwnProperty(c.zSs)||Object.defineProperty(s,c.zSs,{get:()=>{if(null===b){const T=ne();b=T.compileFactory(H,`ng:///${s.name}/\u0275fac.js`,{name:s.name,type:s,typeArgumentCount:0,deps:Kt(s),target:T.FactoryTarget.Injectable})}return b},configurable:!0})}(s,p));function Ai(){return ki((0,c.Mx4)(),(0,c.OAn)())}function ki(s,p){return new Jt((0,c.d31)(s,p))}let Jt=(()=>class s{nativeElement;constructor(m){this.nativeElement=m}static __NG_ELEMENT_ID__=Ai})();function Li(s){return s instanceof Jt?s.nativeElement:s}function on(){return this._results[Symbol.iterator]()}class Ui{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new _.B7}constructor(p=!1){this._emitDistinctChangesOnly=p}get(p){return this._results[p]}map(p){return this._results.map(p)}filter(p){return this._results.filter(p)}find(p){return this._results.find(p)}reduce(p,m){return this._results.reduce(p,m)}forEach(p){this._results.forEach(p)}some(p){return this._results.some(p)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(p,m){this.dirty=!1;const b=(0,c.Bqz)(p);(this._changesDetected=!(0,c.ng7)(this._results,b,m))&&(this._results=b,this.length=b.length,this.last=b[this.length-1],this.first=b[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(p){this._onDirty=p}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=on}function tn(s){return!(128&~s.flags)}var _n=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(_n||{});const fn=new Map;let Ma=0;function Y(s){fn.delete(s[c.ID])}const Ze="__ngContext__";function lt(s,p){(0,c.q$2)(p)?(s[Ze]=p[c.ID],function Cn(s){fn.set(s[c.ID],s)}(p)):s[Ze]=p}function kn(s){return _s(s[c.EJG])}function es(s){return _s(s[c.K29])}function _s(s){for(;null!==s&&!(0,c.A0l)(s);)s=s[c.K29];return s}let fa;function rr(s){fa=s}function va(){if(void 0!==fa)return fa;if(typeof document<"u")return document;throw new c.buA(210,!1)}const ei=new c.nKC("",{factory:()=>bs}),bs="ng",Ps={provide:c.Z63,multi:!0,useValue:()=>{const s=(0,c.WQX)(ei);if(!/^[a-zA-Z0-9\-_]+$/.test(s))throw new c.buA(211,`APP_ID value "${s}" is not alphanumeric. The APP_ID must be a string of alphanumeric characters. (a-zA-Z0-9), hyphens (-) and underscores (_) are allowed.`)}},ee=new c.nKC(""),j=new c.nKC("",{providedIn:"platform",factory:()=>"unknown"}),he=new c.nKC("",{factory:()=>(0,c.WQX)(c.qQL).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),ke={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},Be=new c.nKC("",{factory:()=>ke});let at=(()=>{class s{static \u0275prov=(0,c.jDH)({token:s,providedIn:"root",factory:()=>{const m=new s;return m.store=function Tt(s,p){const m=s.getElementById(p+"-state");if(m?.textContent)try{return JSON.parse(m.textContent)}catch(b){console.warn("Exception while restoring TransferState for app "+p,b)}return{}}((0,c.WQX)(c.qQL),(0,c.WQX)(ei)),m}});store={};onSerializeCallbacks={};get(m,b){return void 0!==this.store[m]?this.store[m]:b}set(m,b){this.store[m]=b}remove(m){delete this.store[m]}hasKey(m){return this.store.hasOwnProperty(m)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(m,b){this.onSerializeCallbacks[m]=b}toJson(){for(const m in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(m))try{this.store[m]=this.onSerializeCallbacks[m]()}catch(b){console.warn("Exception in onSerialize callback: ",b)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return s})();const as=new c.nKC("",{factory:()=>!1}),Jl=new c.nKC(""),Gs={passive:!0,capture:!0},Wa=new WeakMap,ur=new WeakMap,Ka=new WeakMap,Hs=["click","keydown"],dr=["mouseenter","mouseover","focusin"],pr=new Map;class hr{callbacks=new Set;listener=()=>{for(const p of this.callbacks)p()}}function Fr(s,p){let m=ur.get(s);if(!m){m=new hr,ur.set(s,m);for(const b of Hs)s.addEventListener(b,m.listener,Gs)}return m.callbacks.add(p),()=>{const{callbacks:b,listener:T}=m;if(b.delete(p),0===b.size){ur.delete(s);for(const M of Hs)s.removeEventListener(M,T,Gs)}}}function Io(s,p){let m=Wa.get(s);if(!m){m=new hr,Wa.set(s,m);for(const b of dr)s.addEventListener(b,m.listener,Gs)}return m.callbacks.add(p),()=>{const{callbacks:b,listener:T}=m;if(b.delete(p),0===b.size){for(const M of dr)s.removeEventListener(M,T,Gs);Wa.delete(s)}}}function ss(s){return s?`${s.rootMargin}/${"number"==typeof s.threshold?s.threshold:s.threshold?.join("\n")}`:""}const cn=new c.nKC("");function ya(s){return!(32&~s.flags)}function qp(s){let p=s._lView;return 2===p[c.eDl].type?null:((0,c.EFk)(p)&&(p=p[c.Yw1]),p)}function Ru(s){return s.get(Jl,!1,{optional:!0})}function Ku(s,p){const m=s.contentQueries;if(null!==m){const b=(0,E.Ht)(null);try{for(let T=0;T<m.length;T+=2){const w=m[T+1];if(-1!==w){const R=s.data[w];(0,c.GA0)(m[T]),R.contentQueries(2,p[w],w)}}}finally{(0,E.Ht)(b)}}}function Ko(s,p,m){(0,c.GA0)(0);const b=(0,E.Ht)(null);try{p(s,m)}finally{(0,E.Ht)(b)}}function rc(s,p,m){if((0,c.srX)(p)){const b=(0,E.Ht)(null);try{const M=p.directiveEnd;for(let w=p.directiveStart;w<M;w++){const R=s.data[w];R.contentQueries&&R.contentQueries(1,m[w],w)}}finally{(0,E.Ht)(b)}}}var wa=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s[s.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",s}(wa||{});let $n,fr;function On(){if(void 0===$n&&($n=null,c.laP.trustedTypes))try{$n=c.laP.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return $n}function Ts(s){return On()?.createHTML(s)||s}function Ds(){if(void 0===fr&&(fr=null,c.laP.trustedTypes))try{fr=c.laP.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return fr}function cc(s){return Ds()?.createHTML(s)||s}function Vu(s){return Ds()?.createScript(s)||s}function vr(s){return Ds()?.createScriptURL(s)||s}class lh{changingThisBreaksApplicationSecurity;constructor(p){this.changingThisBreaksApplicationSecurity=p}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${c.ok8})`}}function Oa(s){return s instanceof lh?s.changingThisBreaksApplicationSecurity:s}function Vo(s,p){const m=function zo(s){return s instanceof lh&&s.getTypeName()||null}(s);if(null!=m&&m!==p){if("ResourceURL"===m&&"URL"===p)return!0;throw new Error(`Required a safe ${p}, got a ${m} (see ${c.ok8})`)}return m===p}function Yu(s){const p=new Mt(s);return function ba(){try{return!!(new window.DOMParser).parseFromString(Ts(""),"text/html")}catch{return!1}}()?new Xu(p):p}class Xu{inertDocumentHelper;constructor(p){this.inertDocumentHelper=p}getInertBodyElement(p){p="<body><remove></remove>"+p;try{const m=(new window.DOMParser).parseFromString(Ts(p),"text/html").body;return null===m?this.inertDocumentHelper.getInertBodyElement(p):(m.firstChild?.remove(),m)}catch{return null}}}class Mt{defaultDoc;inertDocument;constructor(p){this.defaultDoc=p,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(p){const m=this.inertDocument.createElement("template");return m.innerHTML=Ts(p),m}}const Ju=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ms(s){return(s=String(s)).match(Ju)?s:"unsafe:"+s}function oa(s){const p={};for(const m of s.split(","))p[m]=!0;return p}function Vs(...s){const p={};for(const m of s)for(const b in m)m.hasOwnProperty(b)&&(p[b]=!0);return p}const dc=oa("area,br,col,hr,img,wbr"),Xo=oa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jo=oa("rp,rt"),Qu=Vs(dc,Vs(Xo,oa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Vs(Jo,oa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Vs(Jo,Xo)),pc=oa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Qo=Vs(pc,oa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),oa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ph=oa("script,style,template");class hc{sanitizedSomething=!1;buf=[];sanitizeChildren(p){let m=p.firstChild,b=!0,T=[];for(;m;)if(m.nodeType===Node.ELEMENT_NODE?b=this.startElement(m):m.nodeType===Node.TEXT_NODE?this.chars(m.nodeValue):this.sanitizedSomething=!0,b&&m.firstChild)T.push(m),m=mh(m);else for(;m;){m.nodeType===Node.ELEMENT_NODE&&this.endElement(m);let M=gh(m);if(M){m=M;break}m=T.pop()}return this.buf.join("")}startElement(p){const m=qu(p).toLowerCase();if(!Qu.hasOwnProperty(m))return this.sanitizedSomething=!0,!ph.hasOwnProperty(m);this.buf.push("<"),this.buf.push(m);const b=p.attributes;for(let T=0;T<b.length;T++){const M=b.item(T),w=M.name,R=w.toLowerCase();if(!Qo.hasOwnProperty(R)){this.sanitizedSomething=!0;continue}let B=M.value;pc[R]&&(B=Ms(B)),this.buf.push(" ",w,'="',mc(B),'"')}return this.buf.push(">"),!0}endElement(p){const m=qu(p).toLowerCase();Qu.hasOwnProperty(m)&&!dc.hasOwnProperty(m)&&(this.buf.push("</"),this.buf.push(m),this.buf.push(">"))}chars(p){this.buf.push(mc(p))}}function gh(s){const p=s.nextSibling;if(p&&s!==p.previousSibling)throw gc(p);return p}function mh(s){const p=s.firstChild;if(p&&function hh(s,p){return(s.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(s,p))throw gc(p);return p}function qu(s){const p=s.nodeName;return"string"==typeof p?p:"FORM"}function gc(s){return new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`)}const _h=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zu=/([^\#-~ |!])/g;function mc(s){return s.replace(/&/g,"&amp;").replace(_h,function(p){return"&#"+(1024*(p.charCodeAt(0)-55296)+(p.charCodeAt(1)-56320)+65536)+";"}).replace(Zu,function(p){return"&#"+p.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Jr;function _c(s){return"content"in s&&function vh(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}const yr=/^>|^->|<!--|-->|--!>|<!-$/g,ed=/(<|>)/g;function V(s,p){return s.createText(p)}function se(s,p,m){s.setValue(p,m)}function Ee(s,p){return s.createComment(function x(s){return s.replace(yr,p=>p.replace(ed,"\u200b$1\u200b"))}(p))}function Ie(s,p,m){return s.createElement(p,m)}function Qe(s,p,m,b,T){s.insertBefore(p,m,b,T)}function bt(s,p,m){s.appendChild(p,m)}function Di(s,p,m,b,T){null!==b?Qe(s,p,m,b,T):bt(s,p,m)}function ti(s,p,m,b){s.removeChild(null,p,m,b)}function K_(s,p,m){const{mergedAttrs:b,classes:T,styles:M}=m;null!==b&&function Qi(s,p,m){let b=0;for(;b<m.length;){const T=m[b];if("number"==typeof T){if(0!==T)break;b++;const M=m[b++],w=m[b++],R=m[b++];s.setAttribute(p,w,R,M)}else{const M=T,w=m[++b];wi(M)?s.setProperty(p,M,w):s.setAttribute(p,M,w),b++}}}(s,p,b),null!==T&&function cA(s,p,m){""===m?s.removeAttribute(p,"class"):s.setAttribute(p,"class",m)}(s,p,T),null!==M&&function zs(s,p,m){s.setAttribute(p,"style",m)}(s,p,M)}var ja=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(ja||{});function bh(s){const p=fc();return p?p.sanitize(ja.URL,s)||"":Vo(s,"URL")?Oa(s):Ms((0,c.eFE)(s))}function $_(s){const p=fc();if(p)return vr(p.sanitize(ja.RESOURCE_URL,s)||"");if(Vo(s,"ResourceURL"))return vr(Oa(s));throw new c.buA(904,!1)}const mA=new Set(["embed","frame","iframe","media","script"]),_A=new Set(["base","link","script"]);function fc(){const s=(0,c.OAn)();return s&&s[c.M0L].sanitizer}const id=new Set(["attributename"]),yA={iframe:new Set(["sandbox","allow","allowfullscreen","referrerpolicy","csp","fetchpriority"]),animate:id,set:id,animatemotion:id,animatetransform:id};function G_(s){return s.ownerDocument.defaultView}function H_(s){return s.ownerDocument}function Cs(s){return s instanceof Function?s():s}function DA(s){if(z_(s),!(0,c.xUg)(s).standalone)throw new c.buA(907,`The ${(0,c.PP7)(s)} component is not marked as standalone, but Angular expects to have a standalone component here. Please make sure the ${(0,c.PP7)(s)} component does not have the \`standalone: false\` flag in the decorator.`)}function z_(s){if(!(0,c.xUg)(s))throw new c.buA(906,`The ${(0,c.PP7)(s)} is not an Angular component, make sure it has the \`@Component\` decorator.`)}function vc(s,p,m){let b=s.length;for(;;){const T=s.indexOf(p,m);if(-1===T)return T;if(0===T||s.charCodeAt(T-1)<=32){const M=p.length;if(T+M===b||s.charCodeAt(T+M)<=32)return T}m=T+1}}const yc="ng-template";function Ah(s,p,m,b){let T=0;if(b){for(;T<p.length&&"string"==typeof p[T];T+=2)if("class"===p[T]&&-1!==vc(p[T+1].toLowerCase(),m,0))return!0}else if(bc(s))return!1;if(T=p.indexOf(1,T),T>-1){let M;for(;++T<p.length&&"string"==typeof(M=p[T]);)if(M.toLowerCase()===m)return!0}return!1}function bc(s){return 4===s.type&&s.value!==yc}function Eh(s,p,m){return p===(4!==s.type||m?s.value:yc)}function X_(s,p,m){let b=4;const T=s.attrs,M=null!==T?function Qr(s){for(let p=0;p<s.length;p++)if(Vi(s[p]))return p;return s.length}(T):0;let w=!1;for(let R=0;R<p.length;R++){const B=p[R];if("number"!=typeof B){if(!w)if(4&b){if(b=2|1&b,""!==B&&!Eh(s,B,m)||""===B&&1===p.length){if(rs(b))return!1;w=!0}}else if(8&b){if(null===T||!Ah(s,T,B,m)){if(rs(b))return!1;w=!0}}else{const G=p[++R],Q=Ys(B,T,bc(s),m);if(-1===Q){if(rs(b))return!1;w=!0;continue}if(""!==G){let oe;if(oe=Q>M?"":T[Q+1].toLowerCase(),2&b&&G!==oe){if(rs(b))return!1;w=!0}}}}else{if(!w&&!rs(b)&&!rs(B))return!1;if(w&&rs(B))continue;w=!1,b=B|1&b}}return rs(b)||w}function rs(s){return!(1&s)}function Ys(s,p,m,b){if(null===p)return-1;let T=0;if(b||!m){let M=!1;for(;T<p.length;){const w=p[T];if(w===s)return T;if(3===w||6===w)M=!0;else{if(1===w||2===w){let R=p[++T];for(;"string"==typeof R;)R=p[++T];continue}if(4===w)break;if(0===w){T+=4;continue}}T+=M?1:2}return-1}return function kA(s,p){let m=s.indexOf(4);if(m>-1)for(m++;m<s.length;){const b=s[m];if("number"==typeof b)return-1;if(b===p)return m;m++}return-1}(p,s)}function Pc(s,p,m=!1){for(let b=0;b<p.length;b++)if(X_(s,p[b],m))return!0;return!1}function wA(s,p){e:for(let m=0;m<p.length;m++){const b=p[m];if(s.length===b.length){for(let T=0;T<s.length;T++)if(s[T]!==b[T])continue e;return!0}}return!1}function J_(s,p){return s?":not("+p.trim()+")":p}function OA(s){let p=s[0],m=1,b=2,T="",M=!1;for(;m<s.length;){let w=s[m];if("string"==typeof w)if(2&b){const R=s[++m];T+="["+w+(R.length>0?'="'+R+'"':"")+"]"}else 8&b?T+="."+w:4&b&&(T+=" "+w);else""!==T&&!rs(w)&&(p+=J_(M,T),T=""),b=w,M=M||!rs(b);m++}return""!==T&&(p+=J_(M,T)),p}const Ei={};function Sh(s,p,m,b,T,M,w,R,B,G,Q){const oe=c.Yw1+b,be=oe+T,Pe=function LA(s,p){const m=[];for(let b=0;b<p;b++)m.push(b<s?null:Ei);return m}(oe,be),we="function"==typeof G?G():G;return Pe[c.eDl]={type:s,blueprint:Pe,template:m,queries:null,viewQuery:R,declTNode:p,data:Pe.slice().fill(null,oe),bindingStartIndex:oe,expandoStartIndex:be,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof M?M():M,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:B,consts:we,incompleteFirstPass:!1,ssrId:Q}}function Q_(s){const p=s.tView;return null===p||p.incompleteFirstPass?s.tView=Sh(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):p}function nd(s,p,m,b,T,M,w,R,B,G,Q){const oe=p.blueprint.slice();return oe[c.jgP]=T,oe[c.Wg1]=1228|b,(null!==G||s&&2048&s[c.Wg1])&&(oe[c.Wg1]|=2048),(0,c.HUe)(oe),oe[c.f7T]=oe[c.X5O]=s,oe[c.SKP]=m,oe[c.M0L]=w||s&&s[c.M0L],oe[c.GpT]=R||s&&s[c.GpT],oe[c.YEL]=B||s&&s[c.YEL]||null,oe[c.qlT]=M,oe[c.ID]=function Un(){return Ma++}(),oe[c.tcA]=Q,oe[c.oMQ]=G,oe[c.b5C]=2==p.type?s[c.b5C]:oe,oe}function Th(s){let p=16;return s.signals?p=4096:s.onPush&&(p=64),p}function Ac(s,p,m,b){if(0===m)return-1;const T=p.length;for(let M=0;M<m;M++)p.push(b),s.blueprint.push(b),s.data.push(null);return T}function Dh(s,p){return s[c.EJG]?s[c.Yrj][c.K29]=p:s[c.EJG]=p,s[c.Yrj]=p,p}function q_(s=1){Z_((0,c.klJ)(),(0,c.OAn)(),(0,c._px)()+s,!1)}function Z_(s,p,m,b){if(!b)if(3&~p[c.Wg1]){const M=s.preOrderHooks;null!==M&&$t(p,M,0,m)}else{const M=s.preOrderCheckHooks;null!==M&&nt(p,M,m)}(0,c.ypq)(m)}var ad=function(s){return s[s.None=0]="None",s[s.SignalBased=1]="SignalBased",s[s.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",s}(ad||{});function qr(s,p,m,b){const T=(0,E.Ht)(null);try{const[M,w,R]=s.inputs[m];let B=null;0!==(w&ad.SignalBased)&&(B=p[M][E.bh]),null!==B&&void 0!==B.transformFn?b=B.transformFn(b):null!==R&&(b=R.call(p,b)),null!==s.setInput?s.setInput(p,B,b,m,M):xe(p,B,M,b)}finally{(0,E.Ht)(T)}}var sd=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}(sd||{});let Mh;function Ch(s,p){return Mh(s,p)}function rd(s){if(!s)return 0;const p=s.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(s)*p}function Zo(s,p){return s.getPropertyValue(p).split(",").map(b=>b.trim())}function kh(s,p){return void 0!==s&&s.duration>p.duration}function tf(s){return(null!=s.animationName||null!=s.propertyName)&&s.duration>0}function ld(s,p,m){if(!m)return;const b=s.getAnimations();return 0===b.length?function od(s,p){const m=getComputedStyle(s),b=function ef(s){const p=Zo(s,"animation-name"),m=Zo(s,"animation-delay"),b=Zo(s,"animation-duration"),T={animationName:"",propertyName:void 0,duration:0};for(let M=0;M<p.length;M++){const w=rd(m[M])+rd(b[M]);w>T.duration&&(T.animationName=p[M],T.duration=w)}return T}(m),T=function FA(s){const p=Zo(s,"transition-property"),m=Zo(s,"transition-duration"),b=Zo(s,"transition-delay"),T={propertyName:"",duration:0,animationName:void 0};for(let M=0;M<p.length;M++){const w=rd(b[M])+rd(m[M]);w>T.duration&&(T.propertyName=p[M],T.duration=w)}return T}(m),M=b.duration>T.duration?b:T;kh(p.get(s),M)||tf(M)&&p.set(s,M)}(s,p):function NA(s,p,m){let b={animationName:void 0,propertyName:void 0,duration:0};for(const T of m){const M=T.effect?.getTiming(),w="number"==typeof M?.duration?M.duration:0;let B,G,R=(M?.delay??0)+w;T.animationName?G=T.animationName:B=T.transitionProperty,R>=b.duration&&(b={animationName:G,propertyName:B,duration:R})}kh(p.get(s),b)||tf(b)&&p.set(s,b)}(s,p,b)}const Zr=new Set;var wh=function(s){return s[s.CHANGE_DETECTION=0]="CHANGE_DETECTION",s[s.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",s}(wh||{});const Ec=new c.nKC(""),nf=new Set;function Pn(s){nf.has(s)||(nf.add(s),performance?.mark?.("mark_feature_usage",{detail:{feature:s}}))}let af=(()=>{class s{impl=null;execute(){this.impl?.execute()}static \u0275prov=(0,c.jDH)({token:s,providedIn:"root",factory:()=>new s})}return s})();const sf=[0,1,2,3];let UA=(()=>{class s{ngZone=(0,c.WQX)(c.SKi);scheduler=(0,c.WQX)(c.hk6);errorHandler=(0,c.WQX)(c.zcH,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){(0,c.WQX)(Ec,{optional:!0})}execute(){const m=this.sequences.size>0;m&&rt(He.AfterRenderHooksStart),this.executing=!0;for(const b of sf)for(const T of this.sequences)if(!T.erroredOrDestroyed&&T.hooks[b])try{T.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,T.hooks[b])(T.pipelinedValue),T.snapshot))}catch(M){T.erroredOrDestroyed=!0,this.errorHandler?.handleError(M)}this.executing=!1;for(const b of this.sequences)b.afterRun(),b.once&&(this.sequences.delete(b),b.destroy());for(const b of this.deferredRegistrations)this.sequences.add(b);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),m&&rt(He.AfterRenderHooksEnd)}register(m){const{view:b}=m;void 0!==b?((b[c.JEi]??=[]).push(m),(0,c.blu)(b),b[c.Wg1]|=8192):this.executing?this.deferredRegistrations.add(m):this.addSequence(m)}addSequence(m){this.sequences.add(m),this.scheduler.notify(7)}unregister(m){this.executing&&this.sequences.has(m)?(m.erroredOrDestroyed=!0,m.pipelinedValue=void 0,m.once=!0):(this.sequences.delete(m),this.deferredRegistrations.delete(m))}maybeTrace(m,b){return b?b.run(wh.AFTER_NEXT_RENDER,m):m()}static \u0275prov=(0,c.jDH)({token:s,providedIn:"root",factory:()=>new s})}return s})();class rf{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(p,m,b,T,M,w=null){this.impl=p,this.hooks=m,this.view=b,this.once=T,this.snapshot=w,this.unregisterOnDestroy=M?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const p=this.view?.[c.JEi];p&&(this.view[c.JEi]=p.filter(m=>m!==this))}}function Oh(s,p){const m=p?.injector??(0,c.WQX)(c.zZn);return Pn("NgAfterNextRender"),lf(s,m,p,!0)}function lf(s,p,m,b){const T=p.get(af);T.impl??=p.get(UA);const M=p.get(Ec,null,{optional:!0}),w=!0!==m?.manualCleanup?p.get(c.abz):null,R=p.get(c.r4V,null,{optional:!0}),B=new rf(T.impl,function KA(s){return s instanceof Function?[void 0,void 0,s,void 0]:[s.earlyRead,s.write,s.mixedReadWrite,s.read]}(s),R?.view,b,w,M?.snapshot(null));return T.impl.register(B),B}const eo=new c.nKC("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:(0,c.WQX)(c.uvJ)})});function Ih(s,p,m){const b=s.get(eo);if(Array.isArray(p))for(const T of p)b.queue.add(T),m?.detachedLeaveAnimationFns?.push(T);else b.queue.add(p),m?.detachedLeaveAnimationFns?.push(p);b.scheduler&&b.scheduler(s)}function HA(s){const p=s.get(eo);p.isScheduled||(Oh(()=>{p.isScheduled=!1;for(let m of p.queue)m();p.queue.clear()},{injector:p.injector}),p.isScheduled=!0)}function cd(s){const p=s.get(eo);p.scheduler=HA,p.scheduler(s)}function Rh(s,p){for(const[m,b]of p)Ih(s,b.animateFns)}function cf(s,p,m,b){const T=s?.[c.Isx]?.enter;null!==p&&T&&T.has(m.index)&&Rh(b,T)}function el(s,p,m,b,T,M,w,R){if(null!=T){let B,G=!1;(0,c.A0l)(T)?B=T:(0,c.q$2)(T)&&(G=!0,T=T[c.jgP]);const Q=(0,c.IvY)(T);0===s&&null!==b?(cf(R,b,M,m),null==w?bt(p,b,Q):Qe(p,b,Q,w||null,!0)):1===s&&null!==b?(cf(R,b,M,m),Qe(p,b,Q,w||null,!0)):2===s?pf(R,M,m,oe=>{ti(p,Q,G,oe)}):3===s&&pf(R,M,m,()=>{p.destroyNode(Q)}),null!=B&&function JA(s,p,m,b,T,M,w){const R=b[c.s6P];R!==(0,c.IvY)(b)&&el(p,s,m,M,R,T,w);for(let G=c.Y20;G<b.length;G++){const Q=b[G];ks(Q[c.eDl],Q,s,p,M,R)}}(p,s,m,B,M,b,w)}}function uf(s,p){df(s,p),p[c.jgP]=null,p[c.qlT]=null}function df(s,p){p[c.M0L].changeDetectionScheduler?.notify(9),ks(s,p,p[c.GpT],2,null,null)}function Lh(s,p){const m=s[c.nfM],b=m.indexOf(p);m.splice(b,1)}function Sc(s,p){if((0,c.EPY)(p))return;const m=p[c.GpT];m.destroyNode&&ks(s,p,m,3,null,null),function VA(s){let p=s[c.EJG];if(!p)return xh(s[c.eDl],s);for(;p;){let m=null;if((0,c.q$2)(p))m=p[c.EJG];else{const b=p[c.Y20];b&&(m=b)}if(!m){for(;p&&!p[c.K29]&&p!==s;)(0,c.q$2)(p)&&xh(p[c.eDl],p),p=p[c.f7T];null===p&&(p=s),(0,c.q$2)(p)&&xh(p[c.eDl],p),m=p&&p[c.K29]}p=m}}(p)}function xh(s,p){if((0,c.EPY)(p))return;const m=(0,E.Ht)(null);try{p[c.Wg1]&=-129,p[c.Wg1]|=256,p[c.Iaj]&&(0,E.XR)(p[c.Iaj]),function XA(s,p){let m;if(null!=s&&null!=(m=s.destroyHooks))for(let b=0;b<m.length;b+=2){const T=p[m[b]];if(!(T instanceof ot)){const M=m[b+1];if(Array.isArray(M))for(let w=0;w<M.length;w+=2){const R=T[M[w]],B=M[w+1];rt(He.LifecycleHookStart,R,B);try{B.call(R)}finally{rt(He.LifecycleHookEnd,R,B)}}else{rt(He.LifecycleHookStart,T,M);try{M.call(T)}finally{rt(He.LifecycleHookEnd,T,M)}}}}}(s,p),function YA(s,p){const m=s.cleanup,b=p[c.VVG];if(null!==m)for(let w=0;w<m.length-1;w+=2)if("string"==typeof m[w]){const R=m[w+3];R>=0?b[R]():b[-R].unsubscribe(),w+=2}else m[w].call(b[m[w+1]]);null!==b&&(p[c.VVG]=null);const T=p[c.Czx];if(null!==T){p[c.Czx]=null;for(let w=0;w<T.length;w++)(0,T[w])()}const M=p[c.tQN];if(null!==M){p[c.tQN]=null;for(const w of M)w.destroy()}}(s,p),1===p[c.eDl].type&&p[c.GpT].destroy();const b=p[c.rQE];if(null!==b&&(0,c.A0l)(p[c.f7T])){b!==p[c.f7T]&&Lh(b,p);const T=p[c.Ds7];null!==T&&T.detachView(s)}Y(p)}finally{(0,E.Ht)(m)}}function pf(s,p,m,b){const T=s?.[c.Isx];if(null==T||null==T.leave||!T.leave.has(p.index))return b(!1);s&&Zr.add(s[c.ID]),Ih(m,()=>{if(T.leave&&T.leave.has(p.index)){const w=T.leave.get(p.index),R=[];if(w){for(let B=0;B<w.animateFns.length;B++){const G=w.animateFns[B],{promise:Q}=G();R.push(Q)}T.detachedLeaveAnimationFns=void 0}T.running=Promise.allSettled(R),function zA(s,p){const m=s[c.Isx]?.running;m?m.then(()=>{s[c.Isx].running=void 0,Zr.delete(s[c.ID]),p(!0)}):p(!1)}(s,b)}else s&&Zr.delete(s[c.ID]),b(!1)},T)}function Bh(s,p,m){return Fh(s,p.parent,m)}function Fh(s,p,m){let b=p;for(;null!==b&&168&b.type;)b=(p=b).parent;if(null===b)return m[c.jgP];if((0,c.Qs1)(b)){const{encapsulation:T}=s.data[b.directiveStart+b.componentOffset];if(T===wa.None||T===wa.Emulated)return null}return(0,c.d31)(b,m)}function ud(s,p,m){return gf(s,p,m)}function hf(s,p,m){return 40&s.type?(0,c.d31)(s,m):null}let dd,gf=hf;function mf(s,p){gf=s,dd=p}function Nh(s,p,m,b){const T=Bh(s,b,p),M=p[c.GpT],R=ud(b.parent||p[c.qlT],b,p);if(null!=T)if(Array.isArray(m))for(let B=0;B<m.length;B++)Di(M,T,m[B],R,!1);else Di(M,T,m,R,!1);void 0!==dd&&dd(M,b,p,m,T)}function to(s,p){if(null!==p){const m=p.type;if(3&m)return(0,c.d31)(p,s);if(4&m)return pd(-1,s[p.index]);if(8&m){const b=p.child;if(null!==b)return to(s,b);{const T=s[p.index];return(0,c.A0l)(T)?pd(-1,T):(0,c.IvY)(T)}}if(128&m)return to(s,p.next);if(32&m)return Ch(p,s)()||(0,c.IvY)(s[p.index]);{const b=_f(s,p);return null!==b?Array.isArray(b)?b[0]:to((0,c._0$)(s[c.b5C]),b):to(s,p.next)}}return null}function _f(s,p){return null!==p?s[c.b5C][c.qlT].projection[p.projection]:null}function pd(s,p){const m=c.Y20+s+1;if(m<p.length){const b=p[m],T=b[c.eDl].firstChild;if(null!==T)return to(b,T)}return p[c.s6P]}function hd(s,p,m,b,T,M,w){for(;null!=m;){const R=b[c.YEL];if(128===m.type){m=m.next;continue}const B=b[m.index],G=m.type;if(w&&0===p&&(B&&lt((0,c.IvY)(B),b),m.flags|=2),!ya(m))if(8&G)hd(s,p,m.child,b,T,M,!1),el(p,s,R,T,B,m,M,b);else if(32&G){const Q=Ch(m,b);let oe;for(;oe=Q();)el(p,s,R,T,oe,m,M,b);el(p,s,R,T,B,m,M,b)}else 16&G?vf(s,p,b,m,T,M):el(p,s,R,T,B,m,M,b);m=w?m.projectionNext:m.next}}function ks(s,p,m,b,T,M){hd(m,b,s.firstChild,p,T,M,!1)}function vf(s,p,m,b,T,M){const w=m[c.b5C],B=w[c.qlT].projection[b.projection];if(Array.isArray(B))for(let G=0;G<B.length;G++)el(p,s,m[c.YEL],T,B[G],b,M,m);else{let G=B;const Q=w[c.f7T];tn(b)&&(G.flags|=128),hd(s,p,G,Q,T,M,!0)}}function Uh(s,p,m,b,T){const M=(0,c._px)(),w=2&b;try{(0,c.ypq)(-1),w&&p.length>c.Yw1&&Z_(s,p,c.Yw1,!1),rt(w?He.TemplateUpdateStart:He.TemplateCreateStart,T,m),m(b,T)}finally{(0,c.ypq)(M),rt(w?He.TemplateUpdateEnd:He.TemplateCreateEnd,T,m)}}function io(s,p,m){(function ZA(s,p,m){const b=m.directiveStart,T=m.directiveEnd;(0,c.Qs1)(m)&&function xA(s,p,m){const b=(0,c.d31)(p,s),T=Q_(m),M=s[c.M0L].rendererFactory,w=Dh(s,nd(s,T,null,Th(m),b,p,null,M.createRenderer(b,m),null,null,null));s[p.index]=w}(p,m,s.data[b+m.componentOffset]),s.firstCreatePass||Ii(m,p);const M=m.initialInputs;for(let w=b;w<T;w++){const R=s.data[w],B=sn(p,s,w,m);lt(B,p),null!==M&&Df(0,w-b,B,R,0,M),(0,c.JlV)(R)&&((0,c.KdJ)(m.index,p)[c.SKP]=sn(p,s,w,m))}})(s,p,m),!(64&~m.flags)&&function Tf(s,p,m){const b=m.directiveStart,T=m.directiveEnd,M=m.index,w=(0,c.Z9v)();try{(0,c.ypq)(M);for(let R=b;R<T;R++){const B=s.data[R],G=p[R];(0,c.RZ9)(R),(null!==B.hostBindings||0!==B.hostVars||null!==B.hostAttrs)&&eE(B,G)}}finally{(0,c.ypq)(-1),(0,c.RZ9)(w)}}(s,p,m)}function tl(s,p,m=c.d31){const b=p.localNames;if(null!==b){let T=p.index+1;for(let M=0;M<b.length;M+=2){const w=b[M+1],R=-1===w?m(p,s):s[w];s[T++]=R}}}let Pf=()=>null;function gd(s,p,m,b,T,M){il(s,p[c.eDl],p,m,b)?(0,c.Qs1)(s)&&Ef(p,s.index):(3&s.type&&(m=function Af(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(m)),Kh(s,p,m,b,T,M))}function Kh(s,p,m,b,T,M){if(3&s.type){const w=(0,c.d31)(s,p);b=null!=M?M(b,s.value||"",m):b,T.setProperty(w,m,b)}}function Ef(s,p){const m=(0,c.KdJ)(p,s);16&m[c.Wg1]||(m[c.Wg1]|=64)}function eE(s,p){null!==s.hostBindings&&s.hostBindings(1,p)}function $h(s,p){const m=s.directiveRegistry;let b=null;if(m)for(let T=0;T<m.length;T++){const M=m[T];Pc(p,M.selectors,!1)&&(b??=[],(0,c.JlV)(M)?b.unshift(M):b.push(M))}return b}function md(s,p,m,b,T,M,w){if(null==M)s.removeAttribute(p,T,m);else{const R=null==w?(0,c.eFE)(M):w(M,b||"",T);s.setAttribute(p,T,R,m)}}function Df(s,p,m,b,T,M){const w=M[p];if(null!==w)for(let R=0;R<w.length;R+=2)qr(b,m,w[R],w[R+1])}function _d(s,p,m,b,T){const M=c.Yw1+m,w=p[c.eDl],R=T(w,p,s,b,m);p[M]=R,(0,c.iMd)(s,!0);const B=2===s.type;return B?(K_(p[c.GpT],R,s),(0===(0,c.znI)()||(0,c.yoD)(s))&&lt(R,p),(0,c.Fje)()):lt(R,p),(0,c.SX7)()&&(!B||!ya(s))&&Nh(w,p,R,s),s}function fd(s){let p=s;return(0,c.YWB)()?(0,c.Pfq)():(p=p.parent,(0,c.iMd)(p,!1)),p}function Mf(s,p,m){return(null===s||(0,c.JlV)(s))&&(m=(0,c.zAe)(m[p.index])),m[c.GpT]}function Gh(s,p){const m=s[c.YEL];if(!m)return;let b;try{b=m.get(c.ZTf,null)}catch{b=null}b?.(p)}function il(s,p,m,b,T){const M=s.inputs?.[b],w=s.hostDirectiveInputs?.[b];let R=!1;if(w)for(let B=0;B<w.length;B+=2){const G=w[B];qr(p.data[G],m[G],w[B+1],T),R=!0}if(M)for(const B of M)qr(p.data[B],m[B],b,T),R=!0;return R}function nE(s,p){const m=(0,c.KdJ)(p,s),b=m[c.eDl];!function aE(s,p){for(let m=p.length;m<s.blueprint.length;m++)p.push(s.blueprint[m])}(b,m);const T=m[c.jgP];null!==T&&null===m[c.tcA]&&(m[c.tcA]=null),rt(He.ComponentStart);try{nl(b,m,m[c.SKP])}finally{rt(He.ComponentEnd,m[c.SKP])}}function nl(s,p,m){(0,c.ID8)(p);try{const b=s.viewQuery;null!==b&&Ko(1,b,m);const T=s.template;null!==T&&Uh(s,p,T,1,m),s.firstCreatePass&&(s.firstCreatePass=!1),p[c.Ds7]?.finishViewCreation(s),s.staticContentQueries&&Ku(s,p),s.staticViewQueries&&Ko(2,s.viewQuery,m);const M=s.components;null!==M&&function sE(s,p){for(let m=0;m<p.length;m++)nE(s,p[m])}(p,M)}catch(b){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),b}finally{p[c.Wg1]&=-5,(0,c.bll)()}}function br(s,p,m,b){const T=(0,E.Ht)(null);try{const M=p.tView,B=nd(s,M,m,4096&s[c.Wg1]?4096:16,null,p,null,null,b?.injector??null,b?.embeddedViewInjector??null,b?.dehydratedView??null);B[c.rQE]=s[p.index];const Q=s[c.Ds7];return null!==Q&&(B[c.Ds7]=Q.createEmbeddedView(M)),nl(M,B,m),B}finally{(0,E.Ht)(T)}}function no(s,p){return!p||null===p.firstChild||tn(s)}function Tc(s,p,m,b,T=!1){for(;null!==m;){if(128===m.type){m=T?m.projectionNext:m.next;continue}const M=p[m.index];null!==M&&b.push((0,c.IvY)(M)),(0,c.A0l)(M)&&rE(M,b);const w=m.type;if(8&w)Tc(s,p,m.child,b);else if(32&w){const R=Ch(m,p);let B;for(;B=R();)b.push(B)}else if(16&w){const R=_f(p,m);if(Array.isArray(R))b.push(...R);else{const B=(0,c._0$)(p[c.b5C]);Tc(B[c.eDl],B,R,b,!0)}}m=T?m.projectionNext:m.next}return b}function rE(s,p){for(let m=c.Y20;m<s.length;m++){const b=s[m],T=b[c.eDl].firstChild;null!==T&&Tc(b[c.eDl],b,T,p)}s[c.s6P]!==s[c.jgP]&&p.push(s[c.s6P])}function Cf(s){if(null!==s[c.JEi]){for(const p of s[c.JEi])p.impl.addSequence(p);s[c.JEi].length=0}}let kf=[];const wf={...E.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:s=>{(0,c.blu)(s.lView)},consumerOnSignalRead(){this.lView[c.Iaj]=this}},If={...E.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:s=>{let p=(0,c._0$)(s.lView);for(;p&&!Rf(p[c.eDl]);)p=(0,c._0$)(p);p&&(0,c.HAh)(p)},consumerOnSignalRead(){this.lView[c.Iaj]=this}};function Rf(s){return 2!==s.type}function Lf(s){if(null===s[c.tQN])return;let p=!0;for(;p;){let m=!1;for(const b of s[c.tQN])b.dirty&&(m=!0,null===b.zone||Zone.current===b.zone?b.run():b.zone.run(()=>b.run()));p=m&&!!(8192&s[c.Wg1])}}function al(s,p=0){const b=s[c.M0L].rendererFactory;b.begin?.();try{!function dE(s,p){const m=(0,c.yP_)();try{(0,c.cBl)(!0),jh(s,p);let b=0;for(;(0,c.dMS)(s);){if(100===b)throw new c.buA(103,!1);b++,jh(s,1)}}finally{(0,c.cBl)(m)}}(s,p)}finally{b.end?.()}}function sl(s,p,m,b){if((0,c.EPY)(p))return;const T=p[c.Wg1];(0,c.ID8)(p);let R=!0,B=null,G=null;Rf(s)?(G=function oE(s){return s[c.Iaj]??function lE(s){const p=kf.pop()??Object.create(wf);return p.lView=s,p}(s)}(p),B=(0,E.Bg)(G)):null===(0,E.nR)()?(R=!1,G=function Of(s){const p=s[c.Iaj]??Object.create(If);return p.lView=s,p}(p),B=(0,E.Bg)(G)):p[c.Iaj]&&((0,E.XR)(p[c.Iaj]),p[c.Iaj]=null);try{(0,c.HUe)(p),(0,c.Kw3)(s.bindingStartIndex),null!==m&&Uh(s,p,m,2,b);const Q=!(3&~T);if(Q){const Pe=s.preOrderCheckHooks;null!==Pe&&nt(p,Pe,null)}else{const Pe=s.preOrderHooks;null!==Pe&&$t(p,Pe,0,null),Et(p,0)}if(function Hh(s){for(let p=kn(s);null!==p;p=es(p)){if(!(2&p[c.Wg1]))continue;const m=p[c.nfM];for(let b=0;b<m.length;b++)(0,c.HAh)(m[b])}}(p),Lf(p),xf(p,0),null!==s.contentQueries&&Ku(s,p),Q){const Pe=s.contentCheckHooks;null!==Pe&&nt(p,Pe)}else{const Pe=s.contentHooks;null!==Pe&&$t(p,Pe,1),Et(p,1)}!function hE(s,p){const m=s.hostBindingOpCodes;if(null!==m)try{for(let b=0;b<m.length;b++){const T=m[b];if(T<0)(0,c.ypq)(~T);else{const M=T,w=m[++b],R=m[++b];(0,c.vQI)(w,M);const B=p[M];rt(He.HostBindingsUpdateStart,B);try{R(2,B)}finally{rt(He.HostBindingsUpdateEnd,B)}}}}finally{(0,c.ypq)(-1)}}(s,p);const oe=s.components;null!==oe&&Ff(p,oe,0);const be=s.viewQuery;if(null!==be&&Ko(2,be,b),Q){const Pe=s.viewCheckHooks;null!==Pe&&nt(p,Pe)}else{const Pe=s.viewHooks;null!==Pe&&$t(p,Pe,2),Et(p,2)}if(!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),p[c.pcR]){for(const Pe of p[c.pcR])Pe();p[c.pcR]=null}Cf(p),p[c.Wg1]&=-73}catch(Q){throw(0,c.blu)(p),Q}finally{null!==G&&((0,E.Wu)(G,B),R&&function cE(s){s.lView[c.Iaj]!==s&&(s.lView=null,kf.push(s))}(G)),(0,c.bll)()}}function xf(s,p){for(let m=kn(s);null!==m;m=es(m))for(let b=c.Y20;b<m.length;b++)Bf(m[b],p)}function pE(s,p,m){rt(He.ComponentStart);const b=(0,c.KdJ)(p,s);try{Bf(b,m)}finally{rt(He.ComponentEnd,b[c.SKP])}}function Bf(s,p){(0,c.F1c)(s)&&jh(s,p)}function jh(s,p){const b=s[c.eDl],T=s[c.Wg1],M=s[c.Iaj];let w=!!(0===p&&16&T);if(w||=!!(64&T&&0===p),w||=!!(1024&T),w||=!(!M?.dirty||!(0,E.si)(M)),w||=!1,M&&(M.dirty=!1),s[c.Wg1]&=-9217,w)sl(b,s,b.template,s[c.SKP]);else if(8192&T){const R=(0,E.Ht)(null);try{Lf(s),xf(s,1);const B=b.components;null!==B&&Ff(s,B,1),Cf(s)}finally{(0,E.Ht)(R)}}}function Ff(s,p,m){for(let b=0;b<p.length;b++)pE(s,p[b],m)}function ao(s,p){const m=(0,c.yP_)()?64:1088;for(s[c.M0L].changeDetectionScheduler?.notify(p);s;){s[c.Wg1]|=m;const b=(0,c._0$)(s);if((0,c.EFk)(s)&&!b)return s;s=b}return null}function Nf(s,p,m,b){return[s,!0,0,p,null,b,null,m,null,null]}function Uf(s,p){const m=c.Y20+p;if(m<s.length)return s[m]}function rl(s,p,m,b=!0){const T=p[c.eDl];if(function gE(s,p,m,b){const T=c.Y20+b,M=m.length;b>0&&(m[T-1][c.K29]=p),b<M-c.Y20?(p[c.K29]=m[T],(0,c.EYC)(m,c.Y20+b,p)):(m.push(p),p[c.K29]=null),p[c.f7T]=m;const w=p[c.rQE];null!==w&&m!==w&&Wf(w,p);const R=p[c.Ds7];null!==R&&R.insertView(s),(0,c._gW)(p),p[c.Wg1]|=128}(T,p,s,m),b){const w=pd(m,s),R=p[c.GpT],B=R.parentNode(s[c.s6P]);null!==B&&function jA(s,p,m,b,T,M){b[c.jgP]=T,b[c.qlT]=p,ks(s,b,m,1,T,M)}(T,s[c.qlT],R,p,B,w)}const M=p[c.tcA];null!==M&&null!==M.firstChild&&(M.firstChild=null)}function Vh(s,p){const m=Dc(s,p);return void 0!==m&&Sc(m[c.eDl],m),m}function Dc(s,p){if(s.length<=c.Y20)return;const m=c.Y20+p,b=s[m];if(b){const T=b[c.rQE];null!==T&&T!==s&&Lh(T,b),p>0&&(s[m-1][c.K29]=b[c.K29]);const M=(0,c.E6O)(s,c.Y20+p);uf(b[c.eDl],b);const w=M[c.Ds7];null!==w&&w.detachView(M[c.eDl]),b[c.f7T]=null,b[c.K29]=null,b[c.Wg1]&=-129}return b}function Wf(s,p){const m=s[c.nfM],b=p[c.f7T];((0,c.q$2)(b)||p[c.b5C]!==b[c.f7T][c.b5C])&&(s[c.Wg1]|=2),null===m?s[c.nfM]=[p]:m.push(p)}class vd{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const p=this._lView,m=p[c.eDl];return Tc(m,p,m.firstChild,[])}constructor(p,m){this._lView=p,this._cdRefInjectingView=m}get context(){return this._lView[c.SKP]}set context(p){this._lView[c.SKP]=p}get destroyed(){return(0,c.EPY)(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const p=this._lView[c.f7T];if((0,c.A0l)(p)){const m=p[c.bm_],b=m?m.indexOf(this):-1;b>-1&&(Dc(p,b),(0,c.E6O)(m,b))}this._attachedToViewContainer=!1}Sc(this._lView[c.eDl],this._lView)}onDestroy(p){(0,c.ik5)(this._lView,p)}markForCheck(){ao(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[c.Wg1]&=-129}reattach(){(0,c._gW)(this._lView),this._lView[c.Wg1]|=128}detectChanges(){this._lView[c.Wg1]|=1024,al(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new c.buA(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const p=(0,c.EFk)(this._lView),m=this._lView[c.rQE];null!==m&&!p&&Lh(m,this._lView),df(this._lView[c.eDl],this._lView)}attachToAppRef(p){if(this._attachedToViewContainer)throw new c.buA(902,!1);this._appRef=p;const m=(0,c.EFk)(this._lView),b=this._lView[c.rQE];null!==b&&!m&&Wf(b,this._lView),(0,c._gW)(this._lView)}}let Mc=(()=>class s{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=mE;constructor(m,b,T){this._declarationLView=m,this._declarationTContainer=b,this.elementRef=T}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(m,b){return this.createEmbeddedViewImpl(m,b)}createEmbeddedViewImpl(m,b,T){const M=br(this._declarationLView,this._declarationTContainer,m,{embeddedViewInjector:b,dehydratedView:T});return new vd(M)}})();function mE(){return yd((0,c.Mx4)(),(0,c.OAn)())}function yd(s,p){return 4&s.type?new Mc(p,s,ki(s,p)):null}function Gf(s,p,m){const b=p.insertBeforeIndex,T=Array.isArray(b)?b[0]:b;return null===T?hf(s,0,m):(0,c.IvY)(m[T])}function Hf(s,p,m,b,T){const M=p.insertBeforeIndex;if(Array.isArray(M)){let w=b,R=null;if(3&p.type||(R=w,w=T),null!==w&&-1===p.componentOffset)for(let B=1;B<M.length;B++)Qe(s,w,m[M[B]],R,!1)}}function so(s,p,m,b,T){let M=s.data[p];if(null===M)M=Jh(s,p,m,b,T),(0,c.JjR)()&&(M.flags|=32);else if(64&M.type){M.type=m,M.value=b,M.attrs=T;const w=(0,c.Ab)();M.injectorIndex=null===w?-1:w.injectorIndex}return(0,c.iMd)(M,!0),M}function Jh(s,p,m,b,T){const M=(0,c.veI)(),w=(0,c.YWB)(),B=s.data[p]=function SE(s,p,m,b,T,M){let w=p?p.injectorIndex:-1,R=0;return(0,c.KtD)()&&(R|=128),{type:m,index:b,insertBeforeIndex:null,injectorIndex:w,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:R,providerIndexes:0,value:T,attrs:M,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:p,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?M:M&&M.parent,m,p,b,T);return function EE(s,p,m,b){null===s.firstChild&&(s.firstChild=p),null!==m&&(b?null==m.child&&null!==p.parent&&(m.child=p):null===m.next&&(m.next=p,p.prev=m))}(s,B,M,w),B}function jf(s,p){if(s.push(p),s.length>1)for(let m=s.length-2;m>=0;m--){const b=s[m];Vf(b)||TE(b,p)&&null===DE(b)&&zf(b,p.index)}}function Vf(s){return!(64&s.type)}function TE(s,p){return Vf(p)||s.index>p.index}function DE(s){const p=s.insertBeforeIndex;return Array.isArray(p)?p[0]:p}function zf(s,p){const m=s.insertBeforeIndex;Array.isArray(m)?m[0]=p:(mf(Gf,Hf),s.insertBeforeIndex=p)}function Oc(s,p){const m=s.data[p];return null===m||"string"==typeof m?null:m.hasOwnProperty("currentCaseLViewIndex")?m:m.value}function kE(s,p,m){const b=Jh(s,m,64,null,null);return jf(p,b),b}function Pd(s,p){const m=p[s.currentCaseLViewIndex];return null===m?m:m<0?~m:m}function Yf(s){return s>>>17}function Xf(s){return(131070&s)>>>1}function Qh(s,p,m){s.index=0;const b=Pd(p,m);s.removes=null!==b?p.remove[b]:c.Mlv}function Ad(s){if(s.index<s.removes.length){const p=s.removes[s.index++];return p>0?s.lView[p]:(s.stack.push(s.index,s.removes),Qh(s,s.lView[c.eDl].data[~p],s.lView),Ad(s))}return 0===s.stack.length?(s.lView=void 0,null):(s.removes=s.stack.pop(),s.index=s.stack.pop(),Ad(s))}function wE(){const s={stack:[],index:-1};return function p(m,b){for(s.lView=b;s.stack.length;)s.stack.pop();return Qh(s,m.value,b),Ad.bind(null,s)}}function XE(s,p,m){for(const b of m.node.cases[m.case]){const T=p.get(b.index-c.Yw1);T&&ti(s,T,!1)}}function Td(s){const p=s[c.qFA]??[],b=s[c.f7T][c.GpT],T=[];for(const M of p)void 0!==M.data.di?T.push(M):sv(M,b);s[c.qFA]=T}function JE(s){const{lContainer:p}=s,m=p[c.qFA];if(null===m)return;const T=p[c.f7T][c.GpT];for(const M of m)sv(M,T)}function sv(s,p){let m=0,b=s.firstChild;if(b){const T=s.data.r;for(;m<T;){const M=b.nextSibling;ti(p,b,!1),b=M,m++}}}function Dd(s){Td(s);const p=s[c.jgP];(0,c.q$2)(p)&&Md(p);for(let m=c.Y20;m<s.length;m++)Md(s[m])}function Md(s){!function YE(s){const p=s[c.tcA];if(p){const{i18nNodes:m,dehydratedIcuData:b}=p;if(m&&b){const T=s[c.GpT];for(const M of b.values())XE(T,m,M)}p.i18nNodes=void 0,p.dehydratedIcuData=void 0}}(s);const p=s[c.eDl];for(let m=c.Yw1;m<p.bindingStartIndex;m++)(0,c.A0l)(s[m])?Dd(s[m]):(0,c.q$2)(s[m])&&Md(s[m])}let nS=class{},dv=class{};class aS{resolveComponentFactory(p){throw new c.buA(917,!1)}}let Cd=class{static NULL=new aS};class ag{}let sS=(()=>class s{destroyNode=null;static __NG_ELEMENT_ID__=()=>function rS(){const s=(0,c.OAn)(),p=(0,c.Mx4)(),m=(0,c.KdJ)(p.index,s);return((0,c.q$2)(m)?m:s)[c.GpT]}()})(),oS=(()=>{class s{static \u0275prov=(0,c.jDH)({token:s,providedIn:"root",factory:()=>null})}return s})();function sg(s){return void 0!==s.ngModule}function cl(s){return!!(0,c.phH)(s)}function kd(s){return!!(0,c.oyA)(s)}function pv(s){return!!(0,c.HaV)(s)}function xc(s){return!!(0,c.xUg)(s)}function cS(s,p){if((0,c.Jzi)(s)&&!(s=(0,c.nl4)(s)))throw new Error(`Expected forwardRef function, imported from "${(0,c.PP7)(p)}", to return a standalone entity or NgModule but got "${(0,c.PP7)(s)||s}".`);if(null==(0,c.phH)(s)){const m=(0,c.xUg)(s)||(0,c.HaV)(s)||(0,c.oyA)(s);if(null==m)throw sg(s)?new Error(`A module with providers was imported from "${(0,c.PP7)(p)}". Modules with providers are not supported in standalone components imports.`):new Error(`The "${(0,c.PP7)(s)}" type, imported from "${(0,c.PP7)(p)}", must be a standalone component / directive / pipe or an NgModule. Did you forget to add the required @Component / @Directive / @Pipe or @NgModule annotation?`);if(!m.standalone){const b=function lS(s){return(0,c.xUg)(s)?"component":(0,c.HaV)(s)?"directive":(0,c.oyA)(s)?"pipe":"type"}(s);throw new Error(`The "${(0,c.PP7)(s)}" ${b}, imported from "${(0,c.PP7)(p)}", is not standalone. Does the ${b} have the standalone: false flag?`)}}}class uS{ownerNgModule=new Map;ngModulesWithSomeUnresolvedDecls=new Set;ngModulesScopeCache=new Map;standaloneComponentsScopeCache=new Map;resolveNgModulesDecls(){if(0!==this.ngModulesWithSomeUnresolvedDecls.size){for(const p of this.ngModulesWithSomeUnresolvedDecls){const m=(0,c.phH)(p);if(m?.declarations)for(const b of Cs(m.declarations))xc(b)&&this.ownerNgModule.set(b,p)}this.ngModulesWithSomeUnresolvedDecls.clear()}}getComponentDependencies(p,m){this.resolveNgModulesDecls();const b=(0,c.xUg)(p);if(null===b)throw new Error(`Attempting to get component dependencies for a type that is not a component: ${p}`);if(b.standalone){const T=this.getStandaloneComponentScope(p,m);return T.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...T.compilation.directives,...T.compilation.pipes,...T.compilation.ngModules]}}{if(!this.ownerNgModule.has(p))return{dependencies:[]};const T=this.getNgModuleScope(this.ownerNgModule.get(p));return T.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...T.compilation.directives,...T.compilation.pipes]}}}registerNgModule(p,m){if(!cl(p))throw new Error(`Attempting to register a Type which is not NgModule as NgModule: ${p}`);this.ngModulesWithSomeUnresolvedDecls.add(p)}clearScopeCacheFor(p){this.ngModulesScopeCache.delete(p),this.standaloneComponentsScopeCache.delete(p)}getNgModuleScope(p){if(this.ngModulesScopeCache.has(p))return this.ngModulesScopeCache.get(p);const m=this.computeNgModuleScope(p);return this.ngModulesScopeCache.set(p,m),m}computeNgModuleScope(p){const m=(0,c.WbQ)(p),b={exported:{directives:new Set,pipes:new Set},compilation:{directives:new Set,pipes:new Set}};for(const T of Cs(m.imports))if(cl(T)){const M=this.getNgModuleScope(T);Pr(M.exported.directives,b.compilation.directives),Pr(M.exported.pipes,b.compilation.pipes)}else{if(!(0,c.QuC)(T)){b.compilation.isPoisoned=!0;break}if(pv(T)||xc(T))b.compilation.directives.add(T);else{if(!kd(T))throw new c.buA(980,"The standalone imported type is neither a component nor a directive nor a pipe");b.compilation.pipes.add(T)}}if(!b.compilation.isPoisoned)for(const T of Cs(m.declarations)){if(cl(T)||(0,c.QuC)(T)){b.compilation.isPoisoned=!0;break}kd(T)?b.compilation.pipes.add(T):b.compilation.directives.add(T)}for(const T of Cs(m.exports))if(cl(T)){const M=this.getNgModuleScope(T);Pr(M.exported.directives,b.exported.directives),Pr(M.exported.pipes,b.exported.pipes),Pr(M.exported.directives,b.compilation.directives),Pr(M.exported.pipes,b.compilation.pipes)}else kd(T)?b.exported.pipes.add(T):b.exported.directives.add(T);return b}getStandaloneComponentScope(p,m){if(this.standaloneComponentsScopeCache.has(p))return this.standaloneComponentsScopeCache.get(p);const b=this.computeStandaloneComponentScope(p,m);return this.standaloneComponentsScopeCache.set(p,b),b}computeStandaloneComponentScope(p,m){const b={compilation:{directives:new Set([p]),pipes:new Set,ngModules:new Set}};for(const T of(0,c.Bqz)(m??[])){const M=(0,c.nl4)(T);try{cS(M,p)}catch{return b.compilation.isPoisoned=!0,b}if(cl(M)){b.compilation.ngModules.add(M);const w=this.getNgModuleScope(M);if(w.exported.isPoisoned)return b.compilation.isPoisoned=!0,b;Pr(w.exported.directives,b.compilation.directives),Pr(w.exported.pipes,b.compilation.pipes)}else if(kd(M))b.compilation.pipes.add(M);else{if(!pv(M)&&!xc(M))return b.compilation.isPoisoned=!0,b;b.compilation.directives.add(M)}}return b}isOrphanComponent(p){const m=(0,c.xUg)(p);return!(!m||m.standalone||(this.resolveNgModulesDecls(),this.ownerNgModule.has(p)))}}function Pr(s,p){for(const m of s)p.add(m)}const Bc=new uS,rg={};class ul{injector;parentInjector;constructor(p,m){this.injector=p,this.parentInjector=m}get(p,m,b){const T=this.injector.get(p,rg,b);return T!==rg||m===rg?T:this.parentInjector.get(p,m,b)}}function wd(s,p,m){let b=m?s.styles:null,T=m?s.classes:null,M=0;if(null!==p)for(let w=0;w<p.length;w++){const R=p[w];if("number"==typeof R)M=R;else if(1==M)T=(0,c.n$e)(T,R);else if(2==M){const G=p[++w];b=(0,c.n$e)(b,R+": "+G+";")}}m?s.styles=b:s.stylesWithoutHost=b,m?s.classes=T:s.classesWithoutHost=T}function dl(s,p=0){const m=(0,c.OAn)();return null===m?(0,c.KVO)(s,p):Si((0,c.Mx4)(),m,(0,c.nl4)(s),p)}function hv(s,p,m,b,T){const M=null===b?null:{"":-1},w=T(s,m);if(null!==w){let R=w,B=null,G=null;for(const Q of w)if(null!==Q.resolveHostDirectives){[R,B,G]=Q.resolveHostDirectives(w);break}!function gS(s,p,m,b,T,M,w){const R=b.length;let B=null;for(let be=0;be<R;be++){const Pe=b[be];null===B&&(0,c.JlV)(Pe)&&(B=Pe,hS(s,m,be)),qi(Ii(m,p),s,Pe.type)}(function bS(s,p,m){s.flags|=1,s.directiveStart=p,s.directiveEnd=p+m,s.providerIndexes=p})(m,s.data.length,R),B?.viewProvidersResolver&&B.viewProvidersResolver(B);for(let be=0;be<R;be++){const Pe=b[be];Pe.providersResolver&&Pe.providersResolver(Pe)}let G=!1,Q=!1,oe=Ac(s,p,R,null);R>0&&(m.directiveToIndex=new Map);for(let be=0;be<R;be++){const Pe=b[be];if(m.mergedAttrs=Oi(m.mergedAttrs,Pe.hostAttrs),_S(s,m,p,oe,Pe),yS(oe,Pe,T),null!==w&&w.has(Pe)){const[Xe,gt]=w.get(Pe);m.directiveToIndex.set(Pe.type,[oe,Xe+m.directiveStart,gt+m.directiveStart])}else(null===M||!M.has(Pe))&&m.directiveToIndex.set(Pe.type,oe);null!==Pe.contentQueries&&(m.flags|=4),(null!==Pe.hostBindings||null!==Pe.hostAttrs||0!==Pe.hostVars)&&(m.flags|=64);const we=Pe.type.prototype;!G&&(we.ngOnChanges||we.ngOnInit||we.ngDoCheck)&&((s.preOrderHooks??=[]).push(m.index),G=!0),!Q&&(we.ngOnChanges||we.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(m.index),Q=!0),oe++}!function mS(s,p,m){for(let b=p.directiveStart;b<p.directiveEnd;b++){const T=s.data[b];if(null!==m&&m.has(T)){const M=m.get(T);mv(0,p,M,b),mv(1,p,M,b),fv(p,b,!0)}else gv(0,p,T,b),gv(1,p,T,b),fv(p,b,!1)}}(s,m,M)}(s,p,m,R,M,B,G)}null!==M&&null!==b&&function pS(s,p,m){const b=s.localNames=[];for(let T=0;T<p.length;T+=2){const M=m[p[T+1]];if(null==M)throw new c.buA(-301,!1);b.push(p[T],M)}}(m,b,M)}function hS(s,p,m){p.componentOffset=m,(s.components??=[]).push(p.index)}function gv(s,p,m,b){const T=0===s?m.inputs:m.outputs;for(const M in T)if(T.hasOwnProperty(M)){let w;w=0===s?p.inputs??={}:p.outputs??={},w[M]??=[],w[M].push(b),_v(p,M)}}function mv(s,p,m,b){const T=0===s?m.inputs:m.outputs;for(const M in T)if(T.hasOwnProperty(M)){const w=T[M];let R;R=0===s?p.hostDirectiveInputs??={}:p.hostDirectiveOutputs??={},R[w]??=[],R[w].push(b,M),_v(p,w)}}function _v(s,p){"class"===p?s.flags|=8:"style"===p&&(s.flags|=16)}function fv(s,p,m){const{attrs:b,inputs:T,hostDirectiveInputs:M}=s;if(null===b||!m&&null===T||m&&null===M||bc(s))return s.initialInputs??=[],void s.initialInputs.push(null);let w=null,R=0;for(;R<b.length;){const B=b[R];if(0!==B)if(5!==B){if("number"==typeof B)break;if(!m&&T.hasOwnProperty(B)){const G=T[B];for(const Q of G)if(Q===p){w??=[],w.push(B,b[R+1]);break}}else if(m&&M.hasOwnProperty(B)){const G=M[B];for(let Q=0;Q<G.length;Q+=2)if(G[Q]===p){w??=[],w.push(G[Q+1],b[R+1]);break}}R+=2}else R+=2;else R+=4}s.initialInputs??=[],s.initialInputs.push(w)}function _S(s,p,m,b,T){s.data[b]=T;const M=T.factory||(T.factory=(0,c.wGu)(T.type,!0)),w=new ot(M,(0,c.JlV)(T),dl,null);s.blueprint[b]=w,m[b]=w,function fS(s,p,m,b,T){const M=T.hostBindings;if(M){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const R=~p.index;(function vS(s){let p=s.length;for(;p>0;){const m=s[--p];if("number"==typeof m&&m<0)return m}return 0})(w)!=R&&w.push(R),w.push(m,b,M)}}(s,p,b,Ac(s,m,T.hostVars,Ei),T)}function yS(s,p,m){if(m){if(p.exportAs)for(let b=0;b<p.exportAs.length;b++)m[p.exportAs[b]]=s;(0,c.JlV)(p)&&(m[""]=s)}}function og(s,p,m,b,T,M,w,R){const B=p[c.eDl],G=B.consts,oe=so(B,s,m,b,(0,c.db4)(G,w));return M&&hv(B,p,oe,(0,c.db4)(G,R),T),oe.mergedAttrs=Oi(oe.mergedAttrs,oe.attrs),null!==oe.attrs&&wd(oe,oe.attrs,!1),null!==oe.mergedAttrs&&wd(oe,oe.mergedAttrs,!0),null!==B.queries&&B.queries.elementStart(B,oe),oe}function lg(s,p){Xt(s,p),(0,c.srX)(p)&&s.queries.elementEnd(p)}function vv(s,p,m,b,T,M){const w=p.consts,B=so(p,s,m,b,(0,c.db4)(w,T));if(B.mergedAttrs=Oi(B.mergedAttrs,B.attrs),null!=M){const G=(0,c.db4)(w,M);B.localNames=[];for(let Q=0;Q<G.length;Q+=2)B.localNames.push(G[Q],-1)}return null!==B.attrs&&wd(B,B.attrs,!1),null!==B.mergedAttrs&&wd(B,B.mergedAttrs,!0),null!==p.queries&&p.queries.elementStart(p,B),B}function cg(s){return!!yv(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function AS(s,p){if(Array.isArray(s))for(let m=0;m<s.length;m++)p(s[m]);else{const m=s[Symbol.iterator]();let b;for(;!(b=m.next()).done;)p(b.value)}}function yv(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ws(s,p,m){return s[p]=m}function Fc(s,p){return s[p]}function Ni(s,p,m){return m!==Ei&&(!Object.is(s[p],m)&&(s[p]=m,!0))}function oo(s,p,m,b){const T=Ni(s,p,m);return Ni(s,p+1,b)||T}function Od(s,p,m,b,T){const M=oo(s,p,m,b);return Ni(s,p+2,T)||M}function Va(s,p,m,b,T,M){const w=oo(s,p,m,b);return oo(s,p+2,T,M)||w}const bv=Symbol("CONTROL");function Xs(s,p,m){return function b(T){ao((0,c.Qs1)(s)?(0,c.KdJ)(s.index,p):p,5);const w=p[c.SKP];let R=Pv(p,w,m,T),B=b.__ngNextListenerFn__;for(;B;)R=Pv(p,w,B,T)&&R,B=B.__ngNextListenerFn__;return R}}function Pv(s,p,m,b){const T=(0,E.Ht)(null);try{return rt(He.OutputStart,p,m),!1!==m(b)}catch(M){return Gh(s,M),!1}finally{rt(He.OutputEnd,p,m),(0,E.Ht)(T)}}function Id(s,p,m,b,T,M,w,R){const B=(0,c.yoD)(s);let G=!1,Q=null;if(!b&&B&&(Q=function TS(s,p,m,b){const T=s.cleanup;if(null!=T)for(let M=0;M<T.length-1;M+=2){const w=T[M];if(w===m&&T[M+1]===b){const R=p[c.VVG],B=T[M+2];return R&&R.length>B?R[B]:null}"string"==typeof w&&(M+=2)}return null}(p,m,M,s.index)),null!==Q)(Q.__ngLastListenerFn__||Q).__ngNextListenerFn__=w,Q.__ngLastListenerFn__=w,G=!0;else{const oe=(0,c.d31)(s,m),be=b?b(oe):oe,Pe=T.listen(be,M,R);(function SS(s){return s.startsWith("animation")||s.startsWith("transition")})(M)||Av(b?Xe=>b((0,c.IvY)(Xe[s.index])):s.index,p,m,M,R,Pe,!1)}return G}function Av(s,p,m,b,T,M,w){const R=p.firstCreatePass?(0,c.vNG)(p):null,B=(0,c.d_l)(m),G=B.length;B.push(T,M),R&&R.push(b,s,G,(G+1)*(w?-1:1))}function pl(s,p,m,b,T,M){const R=p[c.eDl],oe=p[m][R.data[m].outputs[b]].subscribe(M);Av(s.index,R,p,T,M,oe,!0)}const Js=Symbol("BINDING");class ug extends Cd{ngModule;constructor(p){super(),this.ngModule=p}resolveComponentFactory(p){const m=(0,c.xUg)(p);return new Rd(m,this.ngModule)}}class Rd extends dv{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function OS(s){return Object.keys(s).map(p=>{const[m,b,T]=s[p],M={propName:m,templateName:p,isSignal:0!==(b&ad.SignalBased)};return T&&(M.transform=T),M})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function Tv(s){return Object.keys(s).map(p=>({propName:s[p],templateName:p}))}(this.componentDef.outputs),this.cachedOutputs}constructor(p,m){super(),this.componentDef=p,this.ngModule=m,this.componentType=p.type,this.selector=function IA(s){return s.map(OA).join(",")}(p.selectors),this.ngContentSelectors=p.ngContentSelectors??[],this.isBoundToModule=!!m}create(p,m,b,T,M,w){rt(He.DynamicComponentStart);const R=(0,E.Ht)(null);try{const B=this.componentDef,G=function FS(s,p,m,b){const T=s?["ng-version","21.1.1"]:function RA(s){const p=[],m=[];let b=1,T=2;for(;b<s.length;){let M=s[b];if("string"==typeof M)2===T?""!==M&&p.push(M,s[++b]):8===T&&m.push(M);else{if(!rs(T))break;T=M}b++}return m.length&&p.push(1,...m),p}(p.selectors[0]);let M=null,w=null,R=0;if(m)for(const Q of m)R+=Q[Js].requiredVars,Q.create&&(Q.targetIdx=0,(M??=[]).push(Q)),Q.update&&(Q.targetIdx=0,(w??=[]).push(Q));if(b)for(let Q=0;Q<b.length;Q++){const oe=b[Q];if("function"!=typeof oe)for(const be of oe.bindings){R+=be[Js].requiredVars;const Pe=Q+1;be.create&&(be.targetIdx=Pe,(M??=[]).push(be)),be.update&&(be.targetIdx=Pe,(w??=[]).push(be))}}const B=[p];if(b)for(const Q of b){const be=(0,c.HaV)("function"==typeof Q?Q:Q.type);B.push(be)}return Sh(0,null,function NS(s,p){return s||p?m=>{if(1&m&&s)for(const b of s)b.create();if(2&m&&p)for(const b of p)b.update()}:null}(M,w),1,R,B,null,null,null,[T],null)}(b,B,w,M),Q=function RS(s,p,m){let b=p instanceof c.uvJ?p:p?.injector;return b&&null!==s.getStandaloneInjector&&(b=s.getStandaloneInjector(b)||b),b?new ul(m,b):m}(B,T||this.ngModule,p),oe=function LS(s){const p=s.get(ag,null);if(null===p)throw new c.buA(407,!1);return{rendererFactory:p,sanitizer:s.get(oS,null),changeDetectionScheduler:s.get(c.hk6,null),ngReflect:!1}}(Q),be=oe.rendererFactory.createRenderer(null,B),Pe=b?function bf(s,p,m,b){const M=b.get(as,!1)||m===wa.ShadowDom||m===wa.ExperimentalIsolatedShadowDom,w=s.selectRootElement(p,M);return function QA(s){Pf(s)}(w),w}(be,b,B.encapsulation,Q):function xS(s,p){const m=function BS(s){return(s.selectors[0][0]||"div").toLowerCase()}(s);return Ie(p,m,"svg"===m?c.jNX:"math"===m?c.rJ1:null)}(B,be),we=w?.some(dg)||M?.some(St=>"function"!=typeof St&&St.bindings.some(dg)),Xe=nd(null,G,null,512|Th(B),null,null,oe,be,Q,null,null);Xe[c.Yw1]=Pe,(0,c.ID8)(Xe);let gt=null;try{const St=og(c.Yw1,Xe,2,"#host",()=>G.directiveRegistry,!0,0);K_(be,Pe,St),lt(Pe,Xe),io(G,Xe,St),rc(G,St,Xe),lg(G,St),void 0!==m&&function WS(s,p,m){const b=s.projection=[];for(let T=0;T<p.length;T++){const M=m[T];b.push(null!=M&&M.length?Array.from(M):null)}}(St,this.ngContentSelectors,m),gt=(0,c.KdJ)(St.index,Xe),Xe[c.SKP]=gt[c.SKP],nl(G,Xe,null)}catch(St){throw null!==gt&&Y(gt),Y(Xe),St}finally{rt(He.DynamicComponentEnd),(0,c.bll)()}return new US(this.componentType,Xe,!!we)}finally{(0,E.Ht)(R)}}}function dg(s){const p=s[Js].kind;return"input"===p||"twoWay"===p}class US extends nS{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(p,m,b){super(),this._rootLView=m,this._hasInputBindings=b,this._tNode=(0,c.XRZ)(m[c.eDl],c.Yw1),this.location=ki(this._tNode,m),this.instance=(0,c.KdJ)(this._tNode.index,m)[c.SKP],this.hostView=this.changeDetectorRef=new vd(m,void 0),this.componentType=p}setInput(p,m){const b=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(p)&&Object.is(this.previousInputValues.get(p),m))return;const T=this._rootLView;il(b,T[c.eDl],T,p,m),this.previousInputValues.set(p,m),ao((0,c.KdJ)(b.index,T),1)}get injector(){return new hi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(p){this.hostView.onDestroy(p)}}let Ld=(()=>class s{static __NG_ELEMENT_ID__=Nc})();function Nc(){return hg((0,c.Mx4)(),(0,c.OAn)())}const pg=Ld,Dv=class extends pg{_lContainer;_hostTNode;_hostLView;constructor(p,m,b){super(),this._lContainer=p,this._hostTNode=m,this._hostLView=b}get element(){return ki(this._hostTNode,this._hostLView)}get injector(){return new hi(this._hostTNode,this._hostLView)}get parentInjector(){const p=bi(this._hostTNode,this._hostLView);if(Sn(p)){const m=Ci(p,this._hostLView),b=Mi(p);return new hi(m[c.eDl].data[b+8],m)}return new hi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(p){const m=Uc(this._lContainer);return null!==m&&m[p]||null}get length(){return this._lContainer.length-c.Y20}createEmbeddedView(p,m,b){let T,M;"number"==typeof b?T=b:null!=b&&(T=b.index,M=b.injector);const R=p.createEmbeddedViewImpl(m||{},M,null);return this.insertImpl(R,T,no(this._hostTNode,null)),R}createComponent(p,m,b,T,M,w,R){const B=p&&!q(p);let G;if(B)G=m;else{const gt=m||{};G=gt.index,b=gt.injector,T=gt.projectableNodes,M=gt.environmentInjector||gt.ngModuleRef,w=gt.directives,R=gt.bindings}const Q=B?p:new Rd((0,c.xUg)(p)),oe=b||this.parentInjector;if(!M&&null==Q.ngModule){const St=(B?oe:this.parentInjector).get(c.uvJ,null);St&&(M=St)}(0,c.xUg)(Q.componentType??{});const Xe=Q.create(oe,T,null,M,w,R);return this.insertImpl(Xe.hostView,G,no(this._hostTNode,null)),Xe}insert(p,m){return this.insertImpl(p,m,!0)}insertImpl(p,m,b){const T=p._lView;if((0,c.ITl)(T)){const R=this.indexOf(p);if(-1!==R)this.detach(R);else{const B=T[c.f7T],G=new Dv(B,B[c.qlT],B[c.f7T]);G.detach(G.indexOf(p))}}const M=this._adjustIndex(m),w=this._lContainer;return rl(w,T,M,b),p.attachToViewContainerRef(),(0,c.EYC)(hl(w),M,p),p}move(p,m){return this.insert(p,m)}indexOf(p){const m=Uc(this._lContainer);return null!==m?m.indexOf(p):-1}remove(p){const m=this._adjustIndex(p,-1),b=Dc(this._lContainer,m);b&&((0,c.E6O)(hl(this._lContainer),m),Sc(b[c.eDl],b))}detach(p){const m=this._adjustIndex(p,-1),b=Dc(this._lContainer,m);return b&&null!=(0,c.E6O)(hl(this._lContainer),m)?new vd(b):null}_adjustIndex(p,m=0){return p??this.length+m}};function Uc(s){return s[c.bm_]}function hl(s){return s[c.bm_]||(s[c.bm_]=[])}function hg(s,p){let m;const b=p[s.index];return(0,c.A0l)(b)?m=b:(m=Nf(b,p,null,s),p[s.index]=m,Dh(p,m)),gg(m,p,s,b),new Dv(m,s,p)}let gg=function kv(s,p,m,b){if(s[c.s6P])return;let T;T=8&m.type?(0,c.IvY)(b):function Mv(s,p){const m=s[c.GpT],b=m.createComment(""),T=(0,c.d31)(p,s),M=m.parentNode(T);return Qe(m,M,b,m.nextSibling(T),!1),b}(p,m),s[c.s6P]=T};class _g{queryList;matches=null;constructor(p){this.queryList=p}clone(){return new _g(this.queryList)}setDirty(){this.queryList.setDirty()}}class fg{queries;constructor(p=[]){this.queries=p}createEmbeddedView(p){const m=p.queries;if(null!==m){const b=null!==p.contentQueries?p.contentQueries[0]:m.length,T=[];for(let M=0;M<b;M++){const w=m.getByIndex(M);T.push(this.queries[w.indexInDeclarationView].clone())}return new fg(T)}return null}insertView(p){this.dirtyQueriesWithMatches(p)}detachView(p){this.dirtyQueriesWithMatches(p)}finishViewCreation(p){this.dirtyQueriesWithMatches(p)}dirtyQueriesWithMatches(p){for(let m=0;m<this.queries.length;m++)null!==Wc(p,m).matches&&this.queries[m].setDirty()}}class vg{flags;read;predicate;constructor(p,m,b=null){this.flags=m,this.read=b,this.predicate="string"==typeof p?function jS(s){return s.split(",").map(p=>p.trim())}(p):p}}class xd{queries;constructor(p=[]){this.queries=p}elementStart(p,m){for(let b=0;b<this.queries.length;b++)this.queries[b].elementStart(p,m)}elementEnd(p){for(let m=0;m<this.queries.length;m++)this.queries[m].elementEnd(p)}embeddedTView(p){let m=null;for(let b=0;b<this.length;b++){const T=null!==m?m.length:0,M=this.getByIndex(b).embeddedTView(p,T);M&&(M.indexInDeclarationView=b,null!==m?m.push(M):m=[M])}return null!==m?new xd(m):null}template(p,m){for(let b=0;b<this.queries.length;b++)this.queries[b].template(p,m)}getByIndex(p){return this.queries[p]}get length(){return this.queries.length}track(p){this.queries.push(p)}}class yg{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(p,m=-1){this.metadata=p,this._declarationNodeIndex=m}elementStart(p,m){this.isApplyingToNode(m)&&this.matchTNode(p,m)}elementEnd(p){this._declarationNodeIndex===p.index&&(this._appliesToNextNode=!1)}template(p,m){this.elementStart(p,m)}embeddedTView(p,m){return this.isApplyingToNode(p)?(this.crossesNgTemplate=!0,this.addMatch(-p.index,m),new yg(this.metadata)):null}isApplyingToNode(p){if(this._appliesToNextNode&&1&~this.metadata.flags){const m=this._declarationNodeIndex;let b=p.parent;for(;null!==b&&8&b.type&&b.index!==m;)b=b.parent;return m===(null!==b?b.index:-1)}return this._appliesToNextNode}matchTNode(p,m){const b=this.metadata.predicate;if(Array.isArray(b))for(let T=0;T<b.length;T++){const M=b[T];this.matchTNodeWithReadOption(p,m,KS(m,M)),this.matchTNodeWithReadOption(p,m,Mn(m,p,M,!1,!1))}else b===Mc?4&m.type&&this.matchTNodeWithReadOption(p,m,-1):this.matchTNodeWithReadOption(p,m,Mn(m,p,b,!1,!1))}matchTNodeWithReadOption(p,m,b){if(null!==b){const T=this.metadata.read;if(null!==T)if(T===Jt||T===Ld||T===Mc&&4&m.type)this.addMatch(m.index,-2);else{const M=Mn(m,p,T,!1,!1);null!==M&&this.addMatch(m.index,M)}else this.addMatch(m.index,b)}}addMatch(p,m){null===this.matches?this.matches=[p,m]:this.matches.push(p,m)}}function KS(s,p){const m=s.localNames;if(null!==m)for(let b=0;b<m.length;b+=2)if(m[b]===p)return m[b+1];return null}function GS(s,p,m,b){return-1===m?function $S(s,p){return 11&s.type?ki(s,p):4&s.type?yd(s,p):null}(p,s):-2===m?function HS(s,p,m){return m===Jt?ki(p,s):m===Mc?yd(p,s):m===Ld?hg(p,s):void 0}(s,p,b):sn(s,s[c.eDl],m,p)}function Ov(s,p,m,b){const T=p[c.Ds7].queries[b];if(null===T.matches){const M=s.data,w=m.matches,R=[];for(let B=0;null!==w&&B<w.length;B+=2){const G=w[B];R.push(G<0?null:GS(p,M[G],w[B+1],m.metadata.read))}T.matches=R}return T.matches}function bg(s,p,m,b){const T=s.queries.getByIndex(m),M=T.matches;if(null!==M){const w=Ov(s,p,T,m);for(let R=0;R<M.length;R+=2){const B=M[R];if(B>0)b.push(w[R/2]);else{const G=M[R+1],Q=p[-B];for(let oe=c.Y20;oe<Q.length;oe++){const be=Q[oe];be[c.rQE]===be[c.f7T]&&bg(be[c.eDl],be,G,b)}if(null!==Q[c.nfM]){const oe=Q[c.nfM];for(let be=0;be<oe.length;be++){const Pe=oe[be];bg(Pe[c.eDl],Pe,G,b)}}}}}return b}function Pg(s,p){return s[c.Ds7].queries[p].queryList}function Bd(s,p,m){const b=new Ui(!(4&~m));return(0,c.B22)(s,p,b,b.destroy),(p[c.Ds7]??=new fg).queries.push(new _g(b))-1}function ml(s,p,m){const b=(0,c.klJ)();return b.firstCreatePass&&(Eg(b,new vg(s,p,m),-1),!(2&~p)&&(b.staticViewQueries=!0)),Bd(b,(0,c.OAn)(),p)}function Ag(s,p,m,b){const T=(0,c.klJ)();if(T.firstCreatePass){const M=(0,c.Mx4)();Eg(T,new vg(p,m,b),M.index),function Iv(s,p){const m=s.contentQueries||(s.contentQueries=[]);p!==(m.length?m[m.length-1]:-1)&&m.push(s.queries.length-1,p)}(T,s),!(2&~m)&&(T.staticContentQueries=!0)}return Bd(T,(0,c.OAn)(),m)}function Eg(s,p,m){null===s.queries&&(s.queries=new xd),s.queries.track(new yg(p,m))}function Wc(s,p){return s.queries.getByIndex(p)}function Sg(s,p){const m=s[c.eDl],b=Wc(m,p);return b.crossesNgTemplate?bg(m,s,p,[]):Ov(m,s,b,p)}function Rv(s,p){const m=s[E.bh];m._lView=(0,c.OAn)(),m._queryIndex=p,m._queryList=Pg(m._lView,p),m._queryList.onDirty(()=>m._dirtyCounter.update(b=>b+1))}let Pa=new Map;const Qs=new Set;function VS(s){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,A.A)(function*(s){const p=Pa;Pa=new Map;const m=new Map;function b(M){const w=m.get(M);if(w)return w;const R=s(M).then(B=>function YS(s,p){return _l.apply(this,arguments)}(M,B));return m.set(M,R),R}const T=Array.from(p).map(function(){var M=(0,A.A)(function*([w,R]){if(R.styleUrl&&R.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");const B=[];R.templateUrl&&B.push(b(R.templateUrl).then(be=>{R.template=be}));const G="string"==typeof R.styles?[R.styles]:R.styles??[];R.styles=G;let{styleUrl:Q,styleUrls:oe}=R;if(Q&&(oe=[Q],R.styleUrl=void 0),oe?.length){const be=Promise.all(oe.map(Pe=>b(Pe))).then(Pe=>{G.push(...Pe),R.styleUrls=void 0});B.push(be)}yield Promise.all(B),Qs.delete(w)});return function(w){return M.apply(this,arguments)}}());yield Promise.all(T)}),Dg.apply(this,arguments)}function xv(){return 0===Pa.size}function _l(){return(_l=(0,A.A)(function*(s,p){if("string"==typeof p)return p;if(void 0!==p.status&&200!==p.status)throw new c.buA(918,!1);return p.text()})).apply(this,arguments)}const Cg=new Map;function Fv(s,p){(function XS(s,p,m){if(p&&p!==m)throw new c.buA(921,!1)})(0,Cg.get(p)||null,s),Cg.set(p,s)}let lo=class{},qS=class{};function co(s,p){return new kg(s,p??null,[])}class kg extends lo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ug(this);constructor(p,m,b,T=!0){super(),this.ngModuleType=p,this._parent=m;const M=(0,c.phH)(p);this._bootstrapComponents=Cs(M.bootstrap),this._r3Injector=(0,c.Pz9)(p,m,[{provide:lo,useValue:this},{provide:Cd,useValue:this.componentFactoryResolver},...b],(0,c.AsM)(p),new Set(["environment"])),T&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const p=this._r3Injector;!p.destroyed&&p.destroy(),this.destroyCbs.forEach(m=>m()),this.destroyCbs=null}onDestroy(p){this.destroyCbs.push(p)}}class Nv extends qS{moduleType;constructor(p){super(),this.moduleType=p}create(p){return new kg(this.moduleType,p,[])}}function Uv(s,p,m){return new kg(s,p,m,!1)}class Wv extends lo{injector;componentFactoryResolver=new ug(this);instance=null;constructor(p){super();const m=new c.e5P([...p.providers,{provide:lo,useValue:this},{provide:Cd,useValue:this.componentFactoryResolver}],p.parent||(0,c.WB9)(),p.debugName,new Set(["environment"]));this.injector=m,p.runEnvironmentInitializers&&m.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(p){this.injector.onDestroy(p)}}function wg(s,p,m=null){return new Wv({providers:s,parent:p,debugName:m,runEnvironmentInitializers:!0}).injector}let fl=(()=>{class s{_injector;cachedInjectors=new Map;constructor(m){this._injector=m}getOrCreateStandaloneInjector(m){if(!m.standalone)return null;if(!this.cachedInjectors.has(m)){const b=(0,c.jXY)(!1,m.type),T=b.length>0?wg([b],this._injector,""):null;this.cachedInjectors.set(m,T)}return this.cachedInjectors.get(m)}ngOnDestroy(){try{for(const m of this.cachedInjectors.values())null!==m&&m.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,c.jDH)({token:s,providedIn:"environment",factory:()=>new s((0,c.KVO)(c.uvJ))})}return s})();function Fd(s){return t(()=>{const p=Kc(s),m={...p,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===_n.OnPush,directiveDefs:null,pipeDefs:null,dependencies:p.standalone&&s.dependencies||null,getStandaloneInjector:p.standalone?T=>T.get(fl).getOrCreateStandaloneInjector(m):null,getExternalStyles:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||wa.Emulated,styles:s.styles||c.Mlv,_:null,schemas:s.schemas||null,tView:null,id:""};p.standalone&&Pn("NgStandalone"),Ud(m);const b=s.dependencies;return m.directiveDefs=Wd(b,Kv),m.pipeDefs=Wd(b,c.oyA),m.id=function n1(s){let p=0;const b=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,"function"==typeof s.consts?"":s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery];for(const M of b.join("|"))p=Math.imul(31,p)+M.charCodeAt(0)|0;return p+=2147483648,"c"+p}(m),m})}function Kv(s){return(0,c.xUg)(s)||(0,c.HaV)(s)}function $v(s){return t(()=>({type:s.type,bootstrap:s.bootstrap||c.Mlv,declarations:s.declarations||c.Mlv,imports:s.imports||c.Mlv,exports:s.exports||c.Mlv,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function e1(s,p){if(null==s)return c.MZA;const m={};for(const b in s)if(s.hasOwnProperty(b)){const T=s[b];let M,w,R,B;Array.isArray(T)?(R=T[0],M=T[1],w=T[2]??M,B=T[3]||null):(M=T,w=T,R=ad.None,B=null),m[M]=[b,R,B],p[M]=w}return m}function t1(s){if(null==s)return c.MZA;const p={};for(const m in s)s.hasOwnProperty(m)&&(p[s[m]]=m);return p}function Nd(s){return t(()=>{const p=Kc(s);return Ud(p),p})}function Gv(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:s.standalone??!0,onDestroy:s.type.prototype.ngOnDestroy||null}}function Kc(s){const p={};return{type:s.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:p,inputConfig:s.inputs||c.MZA,exportAs:s.exportAs||null,standalone:s.standalone??!0,signals:!0===s.signals,selectors:s.selectors||c.Mlv,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:e1(s.inputs,p),outputs:t1(s.outputs),debugInfo:null}}function Ud(s){s.features?.forEach(p=>p(s))}function Wd(s,p){return s?()=>{const m="function"==typeof s?s():s,b=[];for(const T of m){const M=p(T);null!==M&&b.push(M)}return b}:null}function vl(s){const p=[];let m=!1,b=null,T=null;for(let M=0;M<s.length;M++){const w=s[M];if(null!==w.hostDirectives){const R=p.length;b??=new Map,T??=new Map,Og(w,p,b),T.set(w,[R,p.length-1])}0===M&&(0,c.JlV)(w)&&(m=!0,p.push(w))}for(let M=m?1:0;M<s.length;M++)p.push(s[M]);return[p,b,T]}function Og(s,p,m){if(null!==s.hostDirectives)for(const b of s.hostDirectives)if("function"==typeof b){const T=b();for(const M of T)Ig(Rg(M),p,m)}else Ig(b,p,m)}function Ig(s,p,m){const b=(0,c.HaV)(s.directive);(function Hv(s,p){for(const m in p)p.hasOwnProperty(m)&&(s[p[m]]=s[m])})(b.declaredInputs,s.inputs),Og(b,p,m),m.set(b,s),p.push(b)}function Rg(s){return"function"==typeof s?{directive:(0,c.nl4)(s),inputs:c.MZA,outputs:c.MZA}:{directive:(0,c.nl4)(s.directive),inputs:$c(s.inputs),outputs:$c(s.outputs)}}function $c(s){if(void 0===s||0===s.length)return c.MZA;const p={};for(let m=0;m<s.length;m+=2)p[s[m]]=s[m+1];return p}function uo(s){let p=function s1(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),m=!0;const b=[s];for(;p;){let T;if((0,c.JlV)(s))T=p.\u0275cmp||p.\u0275dir;else{if(p.\u0275cmp)throw new c.buA(903,!1);T=p.\u0275dir}if(T){if(m){b.push(T);const w=s;w.inputs=yl(s.inputs),w.declaredInputs=yl(s.declaredInputs),w.outputs=yl(s.outputs);const R=T.hostBindings;R&&Lg(s,R);const B=T.viewQuery,G=T.contentQueries;if(B&&un(s,B),G&&la(s,G),Gc(s,T),(0,c.dwj)(s.outputs,T.outputs),(0,c.JlV)(T)&&T.data.animation){const Q=s.data;Q.animation=(Q.animation||[]).concat(T.data.animation)}}const M=T.features;if(M)for(let w=0;w<M.length;w++){const R=M[w];R&&R.ngInherit&&R(s),R===uo&&(m=!1)}}p=Object.getPrototypeOf(p)}!function Bn(s){let p=0,m=null;for(let b=s.length-1;b>=0;b--){const T=s[b];T.hostVars=p+=T.hostVars,T.hostAttrs=Oi(T.hostAttrs,m=Oi(m,T.hostAttrs))}}(b)}function Gc(s,p){for(const m in p.inputs){if(!p.inputs.hasOwnProperty(m)||s.inputs.hasOwnProperty(m))continue;const b=p.inputs[m];void 0!==b&&(s.inputs[m]=b,s.declaredInputs[m]=p.declaredInputs[m])}}function yl(s){return s===c.MZA?{}:s===c.Mlv?[]:s}function un(s,p){const m=s.viewQuery;s.viewQuery=m?(b,T)=>{p(b,T),m(b,T)}:p}function la(s,p){const m=s.contentQueries;s.contentQueries=m?(b,T,M)=>{p(b,T,M),m(b,T,M)}:p}function Lg(s,p){const m=s.hostBindings;s.hostBindings=m?(b,T)=>{p(b,T),m(b,T)}:p}function Os(s,p,m,b,T,M,w,R){if(m.firstCreatePass){s.mergedAttrs=Oi(s.mergedAttrs,s.attrs);const Q=s.tView=Sh(2,s,T,M,w,m.directiveRegistry,m.pipeRegistry,null,m.schemas,m.consts,null);null!==m.queries&&(m.queries.template(m,s),Q.queries=m.queries.embeddedTView(s))}R&&(s.flags|=R),(0,c.iMd)(s,!1);const B=Bg(m,p,s,b);(0,c.SX7)()&&Nh(m,p,B,s),lt(B,p);const G=Nf(B,p,B,s);p[b+c.Yw1]=G,Dh(p,G)}function os(s,p,m,b,T,M,w,R,B,G,Q){const oe=m+c.Yw1;let be;if(p.firstCreatePass){if(be=so(p,oe,4,w||null,R||null),null!=G){const Pe=(0,c.db4)(p.consts,G);be.localNames=[];for(let we=0;we<Pe.length;we+=2)be.localNames.push(Pe[we],-1)}}else be=p.data[oe];return Os(be,s,p,m,b,T,M,B),null!=G&&tl(s,be,Q),be}function bl(s,p,m,b,T,M,w,R){const B=(0,c.OAn)(),G=(0,c.klJ)();return function xg(s,p,m,b,T,M,w,R,B,G,Q){const oe=m+c.Yw1;let be;p.firstCreatePass?(be=so(p,oe,4,w||null,R||null),(0,c.ckz)()&&hv(p,s,be,(0,c.db4)(p.consts,G),$h),Xt(p,be)):be=p.data[oe],Os(be,s,p,m,b,T,M,B),(0,c.yoD)(be)&&io(p,s,be),null!=G&&tl(s,be,Q)}(B,G,s,p,m,b,T,(0,c.db4)(G.consts,M),void 0,w,R),bl}function Is(s,p,m,b,T,M,w,R){const B=(0,c.OAn)(),G=(0,c.klJ)();return os(B,G,s,p,m,b,T,(0,c.db4)(G.consts,M),void 0,w,R),Is}let Bg=function Vv(s,p,m,b){return(0,c.m7n)(!0),p[c.GpT].createComment("")};var dn=function(s){return s[s.NOT_STARTED=0]="NOT_STARTED",s[s.IN_PROGRESS=1]="IN_PROGRESS",s[s.COMPLETE=2]="COMPLETE",s[s.FAILED=3]="FAILED",s}(dn||{}),li=function(s){return s[s.Placeholder=0]="Placeholder",s[s.Loading=1]="Loading",s[s.Complete=2]="Complete",s[s.Error=3]="Error",s}(li||{}),Rs=function(s){return s[s.Initial=-1]="Initial",s}(Rs||{}),Yv=function(s){return s[s.Manual=0]="Manual",s[s.Playthrough=1]="Playthrough",s}(Yv||{});function jc(s,p,m){const b=Ng(s);null===p[b]&&(p[b]=[]),p[b].push(m)}function Vc(s,p){const m=Ng(s),b=p[m];if(null!==b){for(const T of b)T();p[m]=null}}function Xv(s){Vc(1,s),Vc(0,s),Vc(2,s)}function Ng(s){let p=4;return 1===s?p=5:2===s&&(p=9),p}function zc(s){return s+1}function Aa(s,p){return s[zc(p.index)]}function Gn(s,p){const m=zc(p.index);return s.data[m]}function Ug(s,p){return p===li.Placeholder?s.placeholderBlockConfig?.[0]??null:p===li.Loading?s.loadingBlockConfig?.[0]??null:null}function Qv(s){return s.loadingBlockConfig?.[1]??null}function qv(s,p){if(!s||0===s.length)return p;const m=new Set(s);for(const b of p)m.add(b);return s.length===m.size?s:Array.from(m)}function $d(s,p,m,b){const T=m.get(c.SKi);return function $a(s,p,m,b){const T=ss(b);let M=Ka.get(s)?.get(T);pr.has(T)||pr.set(T,{observer:m(b),count:0});const w=pr.get(T);if(!M){M=new hr,w.observer.observe(s);let R=Ka.get(s);R?R.set(T,M):(R=new Map,Ka.set(s,R)),R.set(T,M),w.count++}return M.callbacks.add(p),()=>{if(Ka.get(s)?.has(T)){if(M.callbacks.delete(p),0===M.callbacks.size){w.observer.unobserve(s),w.count--;const R=Ka.get(s);R&&(R.delete(T),0===R.size&&Ka.delete(s))}0===w.count&&(w.observer.disconnect(),pr.delete(T))}}}(s,()=>T.run(p),M=>T.runOutsideAngular(()=>function Mu(s){const p=ss(s);return new IntersectionObserver(m=>{for(const b of m)b.isIntersecting&&Ka.has(b.target)&&Ka.get(b.target)?.get(p)?.listener()},s)}(M)),b)}function Al(s,p,m,b,T,M,w,R){const B=s[c.YEL],G=B.get(c.SKi);let Q;Q=function WA(s,p){const m=p?.injector??(0,c.WQX)(c.zZn);return Pn("NgAfterRender"),lf(s,m,p,!1)}({read:function oe(){if((0,c.EPY)(s))return void Q.destroy();const be=Aa(s,p),Pe=be[1];if(Pe!==Rs.Initial&&Pe!==li.Placeholder)return void Q.destroy();const we=function h1(s,p,m){return null==m?s:m>=0?(0,c.jRZ)(m,s):s[p.index][c.Y20]??null}(s,p,b);if(!we||(Q.destroy(),(0,c.EPY)(we)))return;const Xe=function g1(s,p){return(0,c.vaC)(c.Yw1+p,s)}(we,m),gt=T(Xe,()=>{G.run(()=>{s!==we&&(0,c.DyX)(we,gt),M()})},B,R);s!==we&&(0,c.ik5)(we,gt),jc(w,be,gt)}},{injector:B})}function Gd(s,p){const m=p.get(ty);return m.add(s),()=>m.remove(s)}let ty=(()=>{class s{executingCallbacks=!1;idleId=null;current=new Set;deferred=new Set;ngZone=(0,c.WQX)(c.SKi);requestIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout)().bind(globalThis);cancelIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?cancelIdleCallback:clearTimeout)().bind(globalThis);add(m){(this.executingCallbacks?this.deferred:this.current).add(m),null===this.idleId&&this.scheduleIdleCallback()}remove(m){const{current:b,deferred:T}=this;b.delete(m),T.delete(m),0===b.size&&0===T.size&&this.cancelIdleCallback()}scheduleIdleCallback(){const m=()=>{this.cancelIdleCallback(),this.executingCallbacks=!0;for(const b of this.current)b();if(this.current.clear(),this.executingCallbacks=!1,this.deferred.size>0){for(const b of this.deferred)this.current.add(b);this.deferred.clear(),this.scheduleIdleCallback()}};this.idleId=this.requestIdleCallbackFn(()=>this.ngZone.run(m))}cancelIdleCallback(){null!==this.idleId&&(this.cancelIdleCallbackFn(this.idleId),this.idleId=null)}ngOnDestroy(){this.cancelIdleCallback(),this.current.clear(),this.deferred.clear()}static \u0275prov=(0,c.jDH)({token:s,providedIn:"root",factory:()=>new s})}return s})();function Hd(s){return(p,m)=>iy(s,p,m)}function iy(s,p,m){const b=m.get(ny),T=m.get(c.SKi);return b.add(s,p,T),()=>b.remove(p)}let ny=(()=>{class s{executingCallbacks=!1;timeoutId=null;invokeTimerAt=null;current=[];deferred=[];add(m,b,T){this.addToQueue(this.executingCallbacks?this.deferred:this.current,Date.now()+m,b),this.scheduleTimer(T)}remove(m){const{current:b,deferred:T}=this;-1===this.removeFromQueue(b,m)&&this.removeFromQueue(T,m),0===b.length&&0===T.length&&this.clearTimeout()}addToQueue(m,b,T){let M=m.length;for(let w=0;w<m.length;w+=2)if(m[w]>b){M=w;break}(0,c.llW)(m,M,b,T)}removeFromQueue(m,b){let T=-1;for(let M=0;M<m.length;M+=2)if(m[M+1]===b){T=M;break}return T>-1&&(0,c.gsJ)(m,T,2),T}scheduleTimer(m){const b=()=>{this.clearTimeout(),this.executingCallbacks=!0;const M=[...this.current],w=Date.now();for(let B=0;B<M.length;B+=2){const Q=M[B+1];if(!(M[B]<=w))break;Q()}let R=-1;for(let B=0;B<this.current.length&&this.current[B]<=w;B+=2)R=B+1;if(R>=0&&(0,c.gsJ)(this.current,0,R+1),this.executingCallbacks=!1,this.deferred.length>0){for(let B=0;B<this.deferred.length;B+=2)this.addToQueue(this.current,this.deferred[B],this.deferred[B+1]);this.deferred.length=0}this.scheduleTimer(m)};if(this.current.length>0){const M=Date.now(),w=this.current[0];if(null===this.timeoutId||this.invokeTimerAt&&this.invokeTimerAt-w>16){this.clearTimeout();const R=Math.max(w-M,16);this.invokeTimerAt=w,this.timeoutId=m.runOutsideAngular(()=>setTimeout(()=>m.run(b),R))}}}clearTimeout(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}ngOnDestroy(){this.clearTimeout(),this.current.length=0,this.deferred.length=0}static \u0275prov=(0,c.jDH)({token:s,providedIn:"root",factory:()=>new s})}return s})(),m1=(()=>{class s{cachedInjectors=new Map;getOrCreateInjector(m,b,T,M){if(!this.cachedInjectors.has(m)){const w=T.length>0?wg(T,b,M):null;this.cachedInjectors.set(m,w)}return this.cachedInjectors.get(m)}ngOnDestroy(){try{for(const m of this.cachedInjectors.values())null!==m&&m.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,c.jDH)({token:s,providedIn:"environment",factory:()=>new s})}return s})();const ay=new c.nKC("");function Wg(s,p,m){return s.get(m1).getOrCreateInjector(p,s,m,"")}function Bs(s,p,m,b=!1){const T=m[c.f7T],M=T[c.eDl];if((0,c.EPY)(T))return;const w=Aa(T,p),B=w[7];if(!(null!==B&&s<B)&&oy(w[1],s)&&oy(w[0]??-1,s)){const G=Gn(M,p),oe=b||null===Qv(G)&&null===Ug(G,li.Loading)&&!Ug(G,li.Placeholder)?sy:jd;try{oe(s,w,m,p,T)}catch(be){Gh(T,be)}}}function sy(s,p,m,b,T){rt(He.DeferBlockStateStart);const M=function Jv(s,p,m){const T=Gn(p[c.eDl],m);switch(s){case li.Complete:return T.primaryTmplIndex;case li.Loading:return T.loadingTmplIndex;case li.Error:return T.errorTmplIndex;case li.Placeholder:return T.placeholderTmplIndex;default:return null}}(s,T,b);if(null!==M){p[1]=s;const w=T[c.eDl],B=(0,c.XRZ)(w,M+c.Yw1),G=0;let Q;if(Vh(m,G),s===li.Complete){const we=Gn(w,b),Xe=we.providers;Xe&&Xe.length>0&&(Q=function _1(s,p,m){if(s instanceof ul){const T=s.injector,w=Wg(s.parentInjector,p,m);return new ul(T,w)}const b=s.get(c.uvJ);if(b!==s){const T=Wg(b,p,m);return new ul(s,T)}return Wg(s,p,m)}(T[c.YEL],we,Xe))}const{dehydratedView:oe,dehydratedViewIx:be}=function f1(s,p){const m=s[c.qFA]?.findIndex(T=>T.data.s===p[1])??-1;return{dehydratedView:m>-1?s[c.qFA][m]:null,dehydratedViewIx:m}}(m,p),Pe=br(T,B,null,{injector:Q,dehydratedView:oe});if(rl(m,Pe,G,no(B,oe)),ao(Pe,2),be>-1&&m[c.qFA]?.splice(be,1),(s===li.Complete||s===li.Error)&&Array.isArray(p[8])){for(const we of p[8])we();p[8]=null}}rt(He.DeferBlockStateEnd)}function Kg(s,p,m,b,T){const M=Date.now(),R=Gn(T[c.eDl],b);if(null===p[2]||p[2]<=M){p[2]=null;const B=Qv(R),G=null!==p[3];if(s!==li.Loading||null===B||G){s>li.Loading&&G&&(p[3](),p[3]=null,p[0]=null),sy(s,p,m,b,T);const Q=Ug(R,s);null!==Q&&(p[2]=M+Q,ry(Q,p,b,m,T))}else{p[0]=s;const Q=ry(B,p,b,m,T);p[3]=Q}}else p[0]=s}function ry(s,p,m,b,T){return iy(s,()=>{const w=p[0];p[2]=null,p[0]=null,null!==w&&Bs(w,m,b)},T[c.YEL])}function oy(s,p){return s<p}function Sl(s,p){Bs(li.Placeholder,p,s[p.index])}function ly(s,p,m){s.loadingPromise.then(()=>{s.loadingState===dn.COMPLETE?Bs(li.Complete,p,m):s.loadingState===dn.FAILED&&Bs(li.Error,p,m)})}let jd=null;function y1(s,p,m,b){return t(()=>{const T=s;null!==p&&(T.hasOwnProperty("decorators")&&void 0!==T.decorators?T.decorators.push(...p):T.decorators=p),null!==m&&(T.ctorParameters=m),null!==b&&(T.propDecorators=T.hasOwnProperty("propDecorators")&&void 0!==T.propDecorators?{...T.propDecorators,...b}:b)})}let cy=(()=>{class s{log(m){console.log(m)}warn(m){console.warn(m)}static \u0275fac=function(b){return new(b||s)};static \u0275prov=(0,c.jDH)({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();function py(s){return function dy(s){return"function"==typeof s&&void 0!==s[E.bh]}(s)&&"function"==typeof s.set}const zg=new c.nKC(""),Yg=new c.nKC("");let Xg,Ey=(()=>{class s{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(m,b,T){this._ngZone=m,this.registry=b,(0,c.M6u)()&&(this._destroyRef=(0,c.WQX)(c.abz,{optional:!0})??void 0),Xg||(function X1(s){Xg=s}(T),T.addToWindow(b)),this._watchAngularEvents(),m.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const m=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),b=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{c.SKi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{m.unsubscribe(),b.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let m=this._callbacks.pop();clearTimeout(m.timeoutId),m.doneCb()}});else{let m=this.getPendingTasks();this._callbacks=this._callbacks.filter(b=>!b.updateCb||!b.updateCb(m)||(clearTimeout(b.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(m=>({source:m.source,creationLocation:m.creationLocation,data:m.data})):[]}addCallback(m,b,T){let M=-1;b&&b>0&&(M=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==M),m()},b)),this._callbacks.push({doneCb:m,timeoutId:M,updateCb:T})}whenStable(m,b,T){if(T&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(m,b,T),this._runCallbacksIfReady()}registerApplication(m){this.registry.registerApplication(m,this)}unregisterApplication(m){this.registry.unregisterApplication(m)}findProviders(m,b,T){return[]}static \u0275fac=function(b){return new(b||s)((0,c.KVO)(c.SKi),(0,c.KVO)(Y1),(0,c.KVO)(Yg))};static \u0275prov=(0,c.jDH)({token:s,factory:s.\u0275fac})}return s})(),Y1=(()=>{class s{_applications=new Map;registerApplication(m,b){this._applications.set(m,b)}unregisterApplication(m){this._applications.delete(m)}unregisterAllApplications(){this._applications.clear()}getTestability(m){return this._applications.get(m)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(m,b=!0){return Xg?.findTestabilityInTree(this,m,b)??null}static \u0275fac=function(b){return new(b||s)};static \u0275prov=(0,c.jDH)({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();function Jg(s){return!!s&&"function"==typeof s.then}function Sy(s){return!!s&&"function"==typeof s.subscribe}const Ty=new c.nKC("");let Dy=(()=>{class s{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((m,b)=>{this.resolve=m,this.reject=b});appInits=(0,c.WQX)(Ty,{optional:!0})??[];injector=(0,c.WQX)(c.zZn);constructor(){}runInitializers(){if(this.initialized)return;const m=[];for(const T of this.appInits){const M=(0,c.N4e)(this.injector,T);if(Jg(M))m.push(M);else if(Sy(M)){const w=new Promise((R,B)=>{M.subscribe({complete:R,error:B})});m.push(w)}}const b=()=>{this.done=!0,this.resolve()};Promise.all(m).then(()=>{b()}).catch(T=>{this.reject(T)}),0===m.length&&b(),this.initialized=!0}static \u0275fac=function(b){return new(b||s)};static \u0275prov=(0,c.jDH)({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const J1=new c.nKC("");function Q1(){}function Qg(){(0,E.KO)(()=>{throw new c.buA(600,"")})}function Zg(s,p){return Array.isArray(p)?p.reduce(Zg,s):{...s,...p}}let Tl=(()=>{class s{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=(0,c.WQX)(c.ZTf);afterRenderManager=(0,c.WQX)(af);zonelessEnabled=(0,c.WQX)(c.Evm);rootEffectScheduler=(0,c.WQX)(c.VML);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new _.B7;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=(0,c.WQX)(c.rev);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe((0,e.T)(m=>!m))}constructor(){(0,c.WQX)(Ec,{optional:!0})}whenStable(){let m;return new Promise(b=>{m=this.isStable.subscribe({next:T=>{T&&b()}})}).finally(()=>{m.unsubscribe()})}_injector=(0,c.WQX)(c.uvJ);_rendererFactory=null;get injector(){return this._injector}bootstrap(m,b){return this.bootstrapImpl(m,b)}bootstrapImpl(m,b,T=c.zZn.NULL){return this._injector.get(c.SKi).run(()=>{rt(He.BootstrapComponentStart);const w=m instanceof dv;if(!this._injector.get(Dy).done)throw new c.buA(405,"");let B;B=w?m:this._injector.get(Cd).resolveComponentFactory(m),this.componentTypes.push(B.componentType);const G=function q1(s){return s.isBoundToModule}(B)?void 0:this._injector.get(lo),oe=B.create(T,[],b||B.selector,G),be=oe.location.nativeElement,Pe=oe.injector.get(zg,null);return Pe?.registerApplication(be),oe.onDestroy(()=>{this.detachView(oe.hostView),Yc(this.components,oe),Pe?.unregisterApplication(be)}),this._loadComponent(oe),rt(He.BootstrapComponentEnd,oe),oe})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){rt(He.ChangeDetectionStart),null!==this.tracingSnapshot?this.tracingSnapshot.run(wh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw rt(He.ChangeDetectionEnd),new c.buA(101,!1);const m=(0,E.Ht)(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,(0,E.Ht)(m),this.afterTick.next(),rt(He.ChangeDetectionEnd)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ag,null,{optional:!0}));let m=0;for(;0!==this.dirtyFlags&&m++<10;){rt(He.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{rt(He.ChangeDetectionSyncEnd)}}}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let m=!1;if(7&this.dirtyFlags){const b=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:T}of this.allViews)(b||(0,c.dMS)(T))&&(al(T,b&&!this.zonelessEnabled?0:1),m=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}m||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:m})=>(0,c.dMS)(m))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(m){const b=m;this._views.push(b),b.attachToAppRef(this)}detachView(m){const b=m;Yc(this._views,b),b.detachFromAppRef()}_loadComponent(m){this.attachView(m.hostView);try{this.tick()}catch(T){this.internalErrorHandler(T)}this.components.push(m),this._injector.get(J1,[]).forEach(T=>T(m))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(m=>m()),this._views.slice().forEach(m=>m.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(m){return this._destroyListeners.push(m),()=>Yc(this._destroyListeners,m)}destroy(){if(this._destroyed)throw new c.buA(406,!1);const m=this._injector;m.destroy&&!m.destroyed&&m.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(b){return new(b||s)};static \u0275prov=(0,c.jDH)({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function Yc(s,p){const m=s.indexOf(p);m>-1&&s.splice(m,1)}function em(){let s,p;return{promise:new Promise((b,T)=>{s=b,p=T}),resolve:s,reject:p}}function Ia(s){const p=(0,c.OAn)(),m=(0,c.Mx4)();if(Sl(p,m),!Qd(0,p))return;const b=p[c.YEL];jc(0,Aa(p,m),s(()=>ho(0,p,m),b))}function Cy(s){const p=(0,c.OAn)(),m=p[c.YEL],b=(0,c.Mx4)(),M=Gn(p[c.eDl],b);M.loadingState===dn.NOT_STARTED&&jc(1,Aa(p,b),s(()=>Xc(M,p,b),m))}function tm(s,p,m){const b=p[c.YEL],T=Aa(p,m),M=T[6];jc(2,T,s(()=>go(b,M),b))}function Xc(s,p,m){im(s,p,m)}function im(s,p,m){const b=p[c.YEL],T=p[c.eDl];if(s.loadingState!==dn.NOT_STARTED)return s.loadingPromise??Promise.resolve();const M=Aa(p,m),w=function d1(s,p){return(0,c.XRZ)(s,p.primaryTmplIndex+c.Yw1)}(T,s);s.loadingState=dn.IN_PROGRESS,Vc(1,M);let R=s.dependencyResolverFn;const B=b.get(c.u5s).add();return R?(s.loadingPromise=Promise.allSettled(R()).then(G=>{let Q=!1;const oe=[],be=[];for(const Pe of G){if("fulfilled"!==Pe.status){Q=!0;break}{const we=Pe.value,Xe=(0,c.xUg)(we)||(0,c.HaV)(we);if(Xe)oe.push(Xe);else{const gt=(0,c.oyA)(we);gt&&be.push(gt)}}}if(Q){if(s.loadingState=dn.FAILED,null===s.errorTmplIndex){const we=new c.buA(-750,!1);Gh(p,we)}}else{s.loadingState=dn.COMPLETE;const Pe=w.tView;if(oe.length>0){Pe.directiveRegistry=qv(Pe.directiveRegistry,oe);const we=oe.map(gt=>gt.type),Xe=(0,c.jXY)(!1,...we);s.providers=Xe}be.length>0&&(Pe.pipeRegistry=qv(Pe.pipeRegistry,be))}}),s.loadingPromise.finally(()=>{s.loadingPromise=null,B()})):(s.loadingPromise=Promise.resolve().then(()=>{s.loadingPromise=null,s.loadingState=dn.COMPLETE,B()}),s.loadingPromise)}function Qd(s,p){return p[c.YEL].get(ay,null,{optional:!0})?.behavior!==Yv.Manual}function ho(s,p,m){const b=p[c.eDl],T=p[m.index];if(!Qd(0,p))return;const M=Aa(p,m),w=Gn(b,m);switch(Xv(M),w.loadingState){case dn.NOT_STARTED:Bs(li.Loading,m,T),im(w,p,m),w.loadingState===dn.IN_PROGRESS&&ly(w,m,T);break;case dn.IN_PROGRESS:Bs(li.Loading,m,T),ly(w,m,T);break;case dn.COMPLETE:Bs(li.Complete,m,T);break;case dn.FAILED:Bs(li.Error,m,T)}}function go(s,p,m){return nm.apply(this,arguments)}function nm(){return(nm=(0,A.A)(function*(s,p,m){const b=s.get(cn);if(b.hydrating.has(p))return;const{parentBlockPromise:M,hydrationQueue:w}=function Bu(s,p){const m=p.get(cn),T=p.get(at).get("__nghDeferData__",{});let M=!1,w=s,R=null;const B=[];for(;!M&&w;){M=m.has(w);const G=m.hydrating.get(w);if(null===R&&null!=G){R=G.promise;break}B.unshift(w),w=T[w].p}return{parentBlockPromise:R,hydrationQueue:B}}(p,s);if(0===w.length)return;null!==M&&w.shift(),function Oy(s,p){for(let m of p)s.hydrating.set(m,em())}(b,w),null!==M&&(yield M);const R=w[0];b.has(R)?yield ky(s,w,m):b.awaitParentBlock(R,(0,A.A)(function*(){return yield ky(s,w,m)}))})).apply(this,arguments)}function ky(s,p,m){return am.apply(this,arguments)}function am(){return(am=(0,A.A)(function*(s,p,m){const b=s.get(cn),T=b.hydrating,M=s.get(c.rev),w=M.add();for(let B=0;B<p.length;B++){const G=p[B],Q=b.get(G);if(null==Q){eT(B,p,b),wy(p.slice(B),b);break}if(yield iT(Q),yield tT(s),Z1(Q)){JE(Q),wy(p.slice(B),b);break}T.get(G).resolve()}const R=p[p.length-1];yield T.get(R)?.promise,M.remove(w),m&&m(p),function qE(s,p,m,b){null!==s&&(m.cleanup(p),Dd(s.lContainer),function QE(s){const p=s._views;for(const m of p){const b=qp(m);null!==b&&null!==b[c.jgP]&&((0,c.q$2)(b)?Md(b):Dd(b))}}(b))}(b.get(R),p,b,s.get(Tl))})).apply(this,arguments)}function Z1(s){return Aa(s.lView,s.tNode)[1]===li.Error}function eT(s,p,m){const b=s-1,T=b>-1?m.get(p[b]):null;T&&Dd(T.lContainer)}function wy(s,p){const m=p.hydrating;for(const b in s)m.get(b)?.reject();p.cleanup(s)}function tT(s){return new Promise(p=>Oh(p,{injector:s}))}function iT(s){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,A.A)(function*(s){const{tNode:p,lView:m}=s,b=Aa(m,p);return new Promise(T=>{(function sm(s,p){Array.isArray(s[8])||(s[8]=[]),s[8].push(p)})(b,T),ho(0,m,p)})})).apply(this,arguments)}function Ki(s,p,m){return 0===s?Qc(p,m):2!==s||!Qc(p,m)}function Qc(s,p){const m=s[c.YEL],b=Gn(s[c.eDl],p),T=Ru(m),M=function Jc(s){return null!=s&&!(1&~s)}(b.flags),R=null!==Aa(s,p)[6];return!(M&&R&&T)}function za(s,p){const m=Gn(s,p);return m.hydrateTriggers??=new Map}function Fy(s,p,m,b,T,M,w,R,B,G){const Q=(0,c.OAn)(),oe=(0,c.klJ)(),be=s+c.Yw1,Pe=os(Q,oe,s,null,0,0),we=Q[c.YEL],Xe=Ru(we);if(oe.firstCreatePass){Pn("NgDefer");const Us={primaryTmplIndex:p,loadingTmplIndex:b??null,placeholderTmplIndex:T??null,errorTmplIndex:M??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:m??null,loadingState:dn.NOT_STARTED,loadingPromise:null,providers:null,hydrateTriggers:null,debug:null,flags:G??0};B?.(oe,Us,R,w),function u1(s,p,m){const b=zc(p);s.data[b]=m}(oe,be,Us)}const gt=Q[be];let St=null,tt=null;if(gt[c.qFA]?.length>0){const Us=gt[c.qFA][0].data;tt=Us.di??null,St=Us.s}const ui=[null,Rs.Initial,null,null,null,null,tt,St,null,null];!function c1(s,p,m){s[zc(p)]=m}(Q,be,ui);let Hn=null;null!==tt&&Xe&&(Hn=we.get(cn),Hn.add(tt,{lView:Q,tNode:Pe,lContainer:gt}));const $i=()=>{Xv(ui),null!==tt&&Hn?.cleanup([tt])};jc(0,ui,()=>(0,c.DyX)(Q,$i)),(0,c.ik5)(Q,$i)}function om(s){const p=(0,c.OAn)(),m=(0,c.CpD)();if(Ki(0,p,m)&&Ni(p,(0,c.xbp)(),s)){const T=(0,E.Ht)(null);try{const M=!!s,R=Aa(p,m)[1];!1===M&&R===Rs.Initial?Sl(p,m):!0===M&&(R===Rs.Initial||R===li.Placeholder)&&ho(0,p,m)}finally{(0,E.Ht)(T)}}}function Zd(s,p,m,b){const T=(0,c.OAn)();return Ni(T,(0,c.xbp)(),p)&&((0,c.klJ)(),function tE(s,p,m,b,T,M){const w=(0,c.d31)(s,p);md(p[c.GpT],w,M,s.value,m,b,T)}((0,c.CpD)(),T,s,p,m,b)),Zd}const Hy=new c.nKC("",{factory:()=>!1}),jy=new c.nKC("",{factory:()=>Vy}),Vy=4e3,Jn=typeof document<"u"&&"function"==typeof document?.documentElement?.getAnimations;function Qn(s){return s[c.YEL].get(Hy,!1)}function hm(s){const p=Tr.get(s);if(p){for(const m of p.cleanupFns)m();Tr.delete(s)}qn.delete(s)}const rT=()=>{},Tr=new WeakMap,qn=new WeakMap,Ya=new WeakMap;function Ol(s,p){const m=Ya.get(s);if(m&&m.length>0){const b=m.findIndex(T=>T===p);b>-1&&m.splice(b,1)}0===m?.length&&Ya.delete(s)}function tr(s,p){const m=Ya.get(s)?.shift(),b=p[c.rQE];if(b){const M=pd(s.index,b)?.previousSibling;m&&M&&m===M&&m.dispatchEvent(new CustomEvent("animationend",{detail:{cancel:!0}}))}}function ep(s,p){Ya.has(s)?Ya.get(s)?.push(p):Ya.set(s,[p])}function qc(s){const p=s[c.Isx]??={};return p.enter??=new Map}function Xa(s){const p=s[c.Isx]??={};return p.leave??=new Map}function tp(s){const p="function"==typeof s?s():s;let m=Array.isArray(p)?p:null;return"string"==typeof p&&(m=p.trim().split(/\s+/).filter(b=>b)),m}function Xy(s,p){const m=qn.get(p);return void 0===m||p===s.target&&(void 0!==m.animationName&&s.animationName===m.animationName||void 0!==m.propertyName&&s.propertyName===m.propertyName)}function ds(s,p,m){const b=s.get(p.index)??{animateFns:[]};b.animateFns.push(m),s.set(p.index,b)}function Il(s,p){if(s)for(const m of s)m();for(const m of p)m()}function ip(s,p){const m=Xa(s).get(p.index);m&&(m.resolvers=void 0)}function np(s,p,m,b,T){Ol(p,m),Il(b,T),ip(s,p)}function eb(s,p){const m=s.fieldIndex;return-1===m?void 0:p[m]}function tb(s,p){return function ib(s,p){return p in s.inputs}(s,p)&&op(s,p+"Change")}function op(s,p){return p in s.outputs}function lp(s,p,m,b){const T=(0,c.klJ)(),M=p.customControlIndex,w=b+"Change";pl(p,s,M,w,w,Xs(p,s,G=>m.state().setControlValue(G)));const B="touchedChange";op(T.data[M],B)&&pl(p,s,M,B,B,Xs(p,s,()=>m.state().markAsTouched()))}function ab(s,p,m,b){const T=(0,c.klJ)(),M=s.customControlIndex,w=p[M],R=T.data[M],B=m.state(),G=pp(p),Q=B.controlValue();Ll(G,Sm,Q)&&qr(R,w,b,Q);const oe=!!(8192&s.flags),be=oe?(0,c.d31)(s,p):null,Pe=p[c.GpT];for(const we of dp){const Xe=B[we]?.();if(Ll(G,we,Xe)){const gt=up[we];bm(s,p,gt,Xe),oe&&!(gt in R.inputs)&&cp(s,Pe,be,we,Xe,gt)}}}function bm(s,p,m,b){const T=s.inputs?.[m];if(T){const M=(0,c.klJ)();for(const w of T)qr(M.data[w],p[w],m,b);return!0}return!1}function cp(s,p,m,b,T,M){switch(b){case lb:p.setAttribute(m,M,T);break;case Am:case PT:case Em:!function ET(s,p,m,b){b?s.setAttribute(p,m,""):s.removeAttribute(p,m)}(p,m,M,T);break;case vT:case yT:16384&s.flags&&cb(p,m,M,T);break;case ob:case bT:32768&s.flags&&cb(p,m,M,T)}}function _o(s){return null===s||s instanceof Date}function Pm(s,p){isNaN(p)?s.value="":s.valueAsNumber=p}const Am=(0,c.kLh)({disabled:c.kLh}),vT=(0,c.kLh)({max:c.kLh}),ob=(0,c.kLh)({maxLength:c.kLh}),yT=(0,c.kLh)({min:c.kLh}),bT=(0,c.kLh)({minLength:c.kLh}),lb=(0,c.kLh)({name:c.kLh}),PT=(0,c.kLh)({readonly:c.kLh}),Em=(0,c.kLh)({required:c.kLh}),Sm=(0,c.kLh)({controlValue:c.kLh}),up={disabled:"disabled",disabledReasons:"disabledReasons",dirty:"dirty",errors:"errors",hidden:"hidden",invalid:"invalid",max:"max",maxLength:"maxLength",min:"min",minLength:"minLength",name:"name",pattern:"pattern",pending:"pending",readonly:"readonly",required:"required",touched:"touched"},dp=Object.keys(up);function pp(s){const p=(0,c.c$7)();let m=s[p];return m===Ei&&(m=s[p]={}),m}function Ll(s,p,m){return!Object.is(s[p],m)&&(s[p]=m,!0)}function AT(s,p,m){return!Object.is(s[p],m)&&(s[p]=m,!0)}function cb(s,p,m,b){void 0!==b?s.setAttribute(p,m,b.toString()):s.removeAttribute(p,m)}class ST{destroy(p){}updateValue(p,m){}swap(p,m){const b=Math.min(p,m),T=Math.max(p,m),M=this.detach(T);if(T-b>1){const w=this.detach(b);this.attach(b,M),this.attach(T,w)}else this.attach(b,M)}move(p,m){this.attach(m,this.detach(p))}}function Tm(s,p,m,b,T){return s===m&&Object.is(p,b)?1:Object.is(T(s,p),T(m,b))?-1:0}function hp(s,p,m,b){return!(void 0===p||!p.has(b)||(s.attach(m,p.get(b)),p.delete(b),0))}function iu(s,p,m,b,T){if(hp(s,p,b,m(b,T)))s.updateValue(b,T);else{const M=s.create(b,T);s.attach(b,M)}}function db(s,p,m,b){const T=new Set;for(let M=p;M<=m;M++)T.add(b(M,s.at(M)));return T}class pb{kvMap=new Map;_vMap=void 0;has(p){return this.kvMap.has(p)}delete(p){if(!this.has(p))return!1;const m=this.kvMap.get(p);return void 0!==this._vMap&&this._vMap.has(m)?(this.kvMap.set(p,this._vMap.get(m)),this._vMap.delete(m)):this.kvMap.delete(p),!0}get(p){return this.kvMap.get(p)}set(p,m){if(this.kvMap.has(p)){let b=this.kvMap.get(p);void 0===this._vMap&&(this._vMap=new Map);const T=this._vMap;for(;T.has(b);)b=T.get(b);T.set(b,m)}else this.kvMap.set(p,m)}forEach(p){for(let[m,b]of this.kvMap)if(p(b,m),void 0!==this._vMap){const T=this._vMap;for(;T.has(b);)b=T.get(b),p(b,m)}}}function Mm(s,p,m,b,T,M,w,R){Pn("NgControlFlow");const B=(0,c.OAn)(),G=(0,c.klJ)();return os(B,G,s,p,m,b,T,(0,c.db4)(G.consts,M),512,w,R),Mm}class Mr{lContainer;$implicit;$index;constructor(p,m,b){this.lContainer=p,this.$implicit=m,this.$index=b}get $count(){return this.lContainer.length-c.Y20}}class MT{hasEmptyBlock;trackByFn;liveCollection;constructor(p,m,b){this.hasEmptyBlock=p,this.trackByFn=m,this.liveCollection=b}}class kT extends ST{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(p,m,b){super(),this.lContainer=p,this.hostLView=m,this.templateTNode=b}get length(){return this.lContainer.length-c.Y20}at(p){return this.getLView(p)[c.SKP].$implicit}attach(p,m){const b=m[c.tcA];this.needsIndexUpdate||=p!==this.length,rl(this.lContainer,m,p,no(this.templateTNode,b)),function nr(s,p){if(s.length<=c.Y20)return;const b=s[c.Y20+p],T=b?b[c.Isx]:void 0;b&&T&&T.detachedLeaveAnimationFns&&T.detachedLeaveAnimationFns.length>0&&(function GA(s,p){const m=s.get(eo);if(p.detachedLeaveAnimationFns){for(const b of p.detachedLeaveAnimationFns)m.queue.delete(b);p.detachedLeaveAnimationFns=void 0}}(b[c.YEL],T),Zr.delete(b[c.ID]),T.detachedLeaveAnimationFns=void 0)}(this.lContainer,p)}detach(p){return this.needsIndexUpdate||=p!==this.length-1,function Cr(s,p){if(s.length<=c.Y20)return;const b=s[c.Y20+p],T=b?b[c.Isx]:void 0;T&&T.leave&&T.leave.size>0&&(T.detachedLeaveAnimationFns=[])}(this.lContainer,p),function xl(s,p){return Dc(s,p)}(this.lContainer,p)}create(p,m){return br(this.hostLView,this.templateTNode,new Mr(this.lContainer,m,p),{dehydratedView:null})}destroy(p){Sc(p[c.eDl],p)}updateValue(p,m){this.getLView(p)[c.SKP].$implicit=m}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let p=0;p<this.length;p++)this.getLView(p)[c.SKP].$index=p}getLView(p){return function kr(s,p){return Uf(s,p)}(this.lContainer,p)}}function nu(s,p){return s[p]}function gp(s,p){return(0,c.XRZ)(s,p)}function Bl(s,p,m){const b=(0,c.OAn)();return Ni(b,(0,c.xbp)(),p)&&((0,c.klJ)(),gd((0,c.CpD)(),b,s,p,b[c.GpT],m)),Bl}function fo(s,p,m,b,T){il(p,s,m,T?"class":"style",b)}function au(s,p,m,b){const T=(0,c.OAn)(),M=T[c.eDl],w=s+c.Yw1,R=M.firstCreatePass?og(w,T,2,p,$h,(0,c.ckz)(),m,b):M.data[w];if(_d(R,T,s,p,mp),(0,c.yoD)(R)){const B=T[c.eDl];io(B,T,R),rc(B,R,T)}return null!=b&&tl(T,R),au}function Fl(){const s=(0,c.klJ)(),m=fd((0,c.Mx4)());return s.firstCreatePass&&lg(s,m),(0,c.UhH)(m)&&(0,c.krE)(),(0,c.N79)(),null!=m.classesWithoutHost&&function zt(s){return!!(8&s.flags)}(m)&&fo(s,m,(0,c.OAn)(),m.classesWithoutHost,!0),null!=m.stylesWithoutHost&&function Ht(s){return!!(16&s.flags)}(m)&&fo(s,m,(0,c.OAn)(),m.stylesWithoutHost,!1),Fl}function wm(s,p,m,b){return au(s,p,m,b),Fl(),wm}function ha(s,p,m,b){const T=(0,c.OAn)(),M=T[c.eDl],w=s+c.Yw1,R=M.firstCreatePass?vv(w,M,2,p,m,b):M.data[w];return _d(R,T,s,p,mp),null!=b&&tl(T,R),ha}function ga(){const p=fd((0,c.Mx4)());return(0,c.UhH)(p)&&(0,c.krE)(),(0,c.N79)(),ga}function Zn(s,p,m,b){return ha(s,p,m,b),ga(),Zn}let mp=(s,p,m,b,T)=>((0,c.m7n)(!0),Ie(p[c.GpT],b,(0,c.UaU)()));function _p(s,p,m){const b=(0,c.OAn)(),T=b[c.eDl],M=s+c.Yw1,w=T.firstCreatePass?og(M,b,8,"ng-container",$h,(0,c.ckz)(),p,m):T.data[M];if(_d(w,b,s,"ng-container",vp),(0,c.yoD)(w)){const R=b[c.eDl];io(R,b,w),rc(R,w,b)}return null!=m&&tl(b,w),_p}function su(){const s=(0,c.klJ)(),m=fd((0,c.Mx4)());return s.firstCreatePass&&lg(s,m),su}function ru(s,p,m){return _p(s,p,m),su(),ru}function fp(s,p,m){const b=(0,c.OAn)(),T=b[c.eDl],M=s+c.Yw1,w=T.firstCreatePass?vv(M,T,8,"ng-container",p,m):T.data[M];return _d(w,b,s,"ng-container",vp),null!=m&&tl(b,w),fp}function Im(){return fd((0,c.Mx4)()),su}let vp=(s,p,m,b,T)=>((0,c.m7n)(!0),Ee(p[c.GpT],""));function mb(){return(0,c.OAn)()}const Nl=void 0;var OT=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202fa","h:mm:ss\u202fa","h:mm:ss\u202fa z","h:mm:ss\u202fa zzzz"],["{1}, {0}",Nl,Nl,Nl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function xm(s){const p=Math.floor(Math.abs(s)),m=s.toString().replace(/^[^.]*\.?/,"").length;return 1===p&&0===m?1:5}];let vo={};function ou(s){const p=function ps(s){return s.toLowerCase().replace(/_/g,"-")}(s);let m=Fs(p);if(m)return m;const b=p.split("-")[0];if(m=Fs(b),m)return m;if("en"===b)return OT;throw new c.buA(701,!1)}function yp(s){return ou(s)[Ul.PluralCase]}function Fs(s){return s in vo||(vo[s]=c.laP.ng&&c.laP.ng.common&&c.laP.ng.common.locales&&c.laP.ng.common.locales[s]),vo[s]}var Ul=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(Ul||{});const Bm=["zero","one","two","few","many"],Wl="en-US",Fm={marker:"element"},lu={marker:"ICU"};var Ea=function(s){return s[s.SHIFT=2]="SHIFT",s[s.APPEND_EAGERLY=1]="APPEND_EAGERLY",s[s.COMMENT=2]="COMMENT",s}(Ea||{});let _b=Wl;function LT(s){"string"==typeof s&&(_b=s.toLowerCase().replace(/_/g,"-"))}let wr=0,cu=0;let uu=(s,p,m,b)=>((0,c.m7n)(!0),function fb(s,p,m){const b=s[c.GpT];switch(m){case Node.COMMENT_NODE:return Ee(b,p);case Node.TEXT_NODE:return V(b,p);case Node.ELEMENT_NODE:return Ie(b,p,null)}}(s,m,b));function yb(s,p,m,b){const T=m[c.GpT];let w,M=null;for(let R=0;R<p.length;R++){const B=p[R];if("string"==typeof B){const G=p[++R];null===m[G]&&(m[G]=uu(m,0,B,Node.TEXT_NODE))}else if("number"==typeof B)switch(1&B){case 0:const G=Yf(B);let Q,oe;if(null===M&&(M=G,w=T.parentNode(b)),G===M?(Q=b,oe=w):(Q=null,oe=(0,c.IvY)(m[G])),null!==oe){const Xe=Xf(B);Qe(T,oe,m[Xe],Q,!1);const St=Oc(s,Xe);if(null!==St&&"object"==typeof St){const tt=Pd(St,m);null!==tt&&yb(s,St.create[tt],m,m[St.anchorIdx])}}break;case 1:const Pe=p[++R],we=p[++R];md(T,(0,c.vaC)(B>>>1,m),null,null,Pe,we,null)}else switch(B){case lu:const G=p[++R],Q=p[++R];null===m[Q]&&lt(m[Q]=uu(m,0,G,Node.COMMENT_NODE),m);break;case Fm:const oe=p[++R],be=p[++R];null===m[be]&&lt(m[be]=uu(m,0,oe,Node.ELEMENT_NODE),m)}}}function yo(s,p,m,b,T){for(let M=0;M<m.length;M++){const w=m[M],R=m[++M];if(w&T){let B="";for(let G=M+1;G<=M+R;G++){const Q=m[G];if("string"==typeof Q)B+=Q;else if("number"==typeof Q)if(Q<0)B+=(0,c.eFE)(p[b-Q]);else{const oe=Q>>>2;switch(3&Q){case 1:const be=m[++G],Pe=m[++G],we=s.data[oe];"string"==typeof we?md(p[c.GpT],p[oe],null,we,be,B,Pe):gd(we,p,be,B,p[c.GpT],Pe);break;case 0:const Xe=p[oe];null!==Xe&&se(p[c.GpT],Xe,B);break;case 2:FT(s,Oc(s,oe),p,B);break;case 3:bb(s,Oc(s,oe),b,p)}}}}else{const B=m[M+1];if(B>0&&!(3&~B)){const Q=Oc(s,B>>>2);p[Q.currentCaseLViewIndex]<0&&bb(s,Q,b,p)}}M+=R}}function bb(s,p,m,b){let T=b[p.currentCaseLViewIndex];if(null!==T){let M=wr;T<0&&(T=b[p.currentCaseLViewIndex]=~T,M=-1),yo(s,b,p.update[T],m,M)}}function FT(s,p,m,b){const T=function NT(s,p){let m=s.cases.indexOf(p);if(-1===m)switch(s.type){case 1:{const b=function Nt(s,p){const m=yp(p)(parseInt(s,10)),b=Bm[m];return void 0!==b?b:"other"}(p,function xT(){return _b}());m=s.cases.indexOf(b),-1===m&&"other"!==b&&(m=s.cases.indexOf("other"));break}case 0:m=s.cases.indexOf("other")}return-1===m?null:m}(p,b);if(Pd(p,m)!==T&&(Pb(s,p,m),m[p.currentCaseLViewIndex]=null===T?null:~T,null!==T)){const w=m[p.anchorIdx];w&&yb(s,p.create[T],m,w)}}function Pb(s,p,m){let b=Pd(p,m);if(null!==b){const T=p.remove[b];for(let M=0;M<T.length;M++){const w=T[M];if(w>0){const R=(0,c.vaC)(w,m);null!==R&&ti(m[c.GpT],R)}else Pb(s,Oc(s,~w),m)}}}const Ap=/\ufffd(\d+):?\d*\ufffd/gi,UT=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,Ep=/\ufffd(\d+)\ufffd/,Eb=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Or=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Sb=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,WT=/\uE500/g;function bo(s,p,m,b,T,M,w){const R=Ac(s,b,1,null);let B=R<<Ea.SHIFT,G=(0,c.Ab)();p===G&&(G=null),null===G&&(B|=Ea.APPEND_EAGERLY),w&&(B|=Ea.COMMENT,function BA(s){void 0===Mh&&(Mh=s())}(wE)),T.push(B,null===M?"":M);const Q=Jh(s,R,w?32:1,null===M?"":M,null);jf(m,Q);const oe=Q.index;return(0,c.iMd)(Q,!1),null!==G&&p!==G&&function CE(s,p){let m=s.insertBeforeIndex;null===m?(mf(Gf,Hf),m=s.insertBeforeIndex=[null,p]):((0,c.Xln)(Array.isArray(m),!0,"Expecting array here"),m.push(p))}(G,oe),Q}function Kl(s,p,m,b,T,M,w,R){const B=R.match(Ap),Q=bo(p,m,b,w,T,B?null:R,!1).index;B&&pu(M,R,Q,null,0,null),s.push({kind:0,index:Q})}function pu(s,p,m,b,T,M){const w=s.length,R=w+1;s.push(null,null);const B=w+2,G=p.split(Ap);let Q=0;for(let oe=0;oe<G.length;oe++){const be=G[oe];if(1&oe){const Pe=T+parseInt(be,10);s.push(-1-Pe),Q|=Tb(Pe)}else""!==be&&s.push(be)}return s.push(m<<2|(b?1:0)),b&&s.push(b,M),s[w]=Q,s[R]=s.length-B,Q}function Nm(s){let p=0;for(let m=0;m<s.length;m++){const b=s[m];"number"==typeof b&&b<0&&p++}return p}function Tb(s){return 1<<Math.min(s,31)}function Db(s){let p,M,m="",b=0,T=!1;for(;null!==(p=Or.exec(s));)T?p[0]===`\ufffd/*${M}\ufffd`&&(b=p.index,T=!1):(m+=s.substring(b,p.index+p[0].length),M=p[1],T=!0);return m+=s.slice(b),m}function Mb(s,p,m,b,T,M,w){let R=0;const B={type:M.type,currentCaseLViewIndex:Ac(p,m,1,null),anchorIdx:w,cases:[],create:[],remove:[],update:[]};(function jT(s,p,m){s.push(Tb(p.mainBinding),2,-1-p.mainBinding,m<<2|2)})(b,M,w),function ME(s,p,m){const b=s.data[p];null===b?s.data[p]=m:b.value=m}(p,w,B);const G=M.values,Q=[];for(let oe=0;oe<G.length;oe++){const be=G[oe],Pe=[];for(let Xe=0;Xe<be.length;Xe++){const gt=be[Xe];if("string"!=typeof gt){const St=Pe.push(gt)-1;be[Xe]=`\x3c!--\ufffd${St}\ufffd--\x3e`}}const we=[];Q.push(we),R=Cb(we,p,B,m,b,T,M.cases[oe],be.join(""),Pe)|R}R&&function VT(s,p,m){s.push(p,1,m<<2|3)}(b,R,w),s.push({kind:3,index:w,cases:Q,currentCaseLViewIndex:B.currentCaseLViewIndex})}function GT(s){const p=[],m=[];let b=1,T=0;const M=Um(s=s.replace(Eb,function(w,R,B){return b="select"===B?0:1,T=parseInt(R.slice(1),10),""}));for(let w=0;w<M.length;){let R=M[w++].trim();1===b&&(R=R.replace(/\s*(?:=)?(\w+)\s*/,"$1")),R.length&&p.push(R);const B=Um(M[w++]);p.length>m.length&&m.push(B)}return{type:b,mainBinding:T,cases:p,values:m}}function Um(s){if(!s)return[];let p=0;const m=[],b=[],T=/[{}]/g;let M;for(T.lastIndex=0;M=T.exec(s);){const R=M.index;if("}"==M[0]){if(m.pop(),0==m.length){const B=s.substring(p,R);Eb.test(B)?b.push(GT(B)):b.push(B),p=R+1}}else{if(0==m.length){const B=s.substring(p,R);b.push(B),p=R+1}m.push("{")}}const w=s.substring(p);return b.push(w),b}function Cb(s,p,m,b,T,M,w,R,B){const G=[],Q=[],oe=[];m.cases.push(w),m.create.push(G),m.remove.push(Q),m.update.push(oe);const Pe=Yu(va()).getInertBodyElement(R),we=_c(Pe)||Pe;return we?hu(s,p,m,b,T,G,Q,oe,we,M,B,0):0}function hu(s,p,m,b,T,M,w,R,B,G,Q,oe){let be=0,Pe=B.firstChild;for(;Pe;){const we=Ac(p,b,1,null);switch(Pe.nodeType){case Node.ELEMENT_NODE:const Xe=Pe,gt=Xe.tagName.toLowerCase();if(Qu.hasOwnProperty(gt)){Wm(M,Fm,gt,G,we),p.data[we]=gt;const Hn=Xe.attributes;for(let Us=0;Us<Hn.length;Us++){const Mo=Hn.item(Us),tA=Mo.name.toLowerCase();Mo.value.match(Ap)?Qo.hasOwnProperty(tA)&&pu(R,Mo.value,we,Mo.name,0,pc[tA]?Ms:null):wb(M,we,Mo)}const $i={kind:1,index:we,children:[]};s.push($i),be=hu($i.children,p,m,b,T,M,w,R,Pe,we,Q,oe+1)|be,kb(w,we,oe)}break;case Node.TEXT_NODE:const St=Pe.textContent||"",tt=St.match(Ap);Wm(M,null,tt?"":St,G,we),kb(w,we,oe),tt&&(be=pu(R,St,we,null,0,null)|be),s.push({kind:0,index:we});break;case Node.COMMENT_NODE:const ui=Ep.exec(Pe.textContent||"");if(ui){const $i=Q[parseInt(ui[1],10)];Wm(M,lu,"",G,we),Mb(s,p,b,T,G,$i,we),HT(w,we,oe)}}Pe=Pe.nextSibling}return be}function kb(s,p,m){0===m&&s.push(p)}function HT(s,p,m){0===m&&(s.push(~p),s.push(p))}function Wm(s,p,m,b,T){null!==p&&s.push(p),s.push(m,T,function ol(s,p,m){return s|p<<17|m<<1}(0,b,T))}function wb(s,p,m){s.push(p<<1|1,m.name,m.value)}const zT=/\[(\ufffd.+?\ufffd?)\]/,YT=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,XT=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,JT=/{([A-Z0-9_]+)}/g,QT=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,qT=/\/\*/,ZT=/\d+\:(\d+)/;function $l(s,p,m=-1){const b=(0,c.klJ)(),T=(0,c.OAn)(),M=c.Yw1+s,w=(0,c.db4)(b.consts,p),R=(0,c.Ab)();b.firstCreatePass&&function du(s,p,m,b,T,M){const w=(0,c.Ab)(),R=[],B=[],G=[[]],Q=[[]];T=function $T(s,p){if(function Qf(s){return-1===s}(p))return Db(s);{const m=s.indexOf(`:${p}\ufffd`)+2+p.toString().length,b=s.search(new RegExp(`\ufffd\\/\\*\\d+:${p}\ufffd`));return Db(s.substring(m,b))}}(T,M);const oe=function KT(s){return s.replace(WT," ")}(T).split(Sb);for(let be=0;be<oe.length;be++){let Pe=oe[be];if(1&be){const we=47===Pe.charCodeAt(0),Xe=Pe.charCodeAt(we?1:0),gt=c.Yw1+Number.parseInt(Pe.substring(we?2:1));if(we)G.shift(),Q.shift(),(0,c.iMd)((0,c.Ab)(),!1);else{const St=kE(s,G[0],gt);G.unshift([]),(0,c.iMd)(St,!0);const tt={kind:2,index:gt,children:[],type:35===Xe?0:1};Q[0].push(tt),Q.unshift(tt.children)}}else{const we=Um(Pe);for(let Xe=0;Xe<we.length;Xe++){let gt=we[Xe];if(1&Xe){const St=gt;if("object"!=typeof St)throw new Error(`Unable to parse ICU expression in "${T}" message.`);const ui=bo(s,w,G[0],m,R,"",!0).index;Mb(Q[0],s,m,B,p,St,ui)}else""!==gt&&Kl(Q[0],s,w,G[0],R,B,m,gt)}}}s.data[b]={create:R,update:B,ast:Q[0],parentTNodeIndex:p}}(b,null===R?0:R.index,T,M,w,m),2===b.type?T[c.b5C][c.Wg1]|=32:T[c.Wg1]|=32;const B=b.data[M],Q=Fh(b,R===T[c.qlT]?null:R,T);(function Pp(s,p,m,b){const T=s[c.GpT];for(let M=0;M<p.length;M++){const w=p[M++],G=(w&Ea.APPEND_EAGERLY)===Ea.APPEND_EAGERLY,Q=w>>>Ea.SHIFT;let oe=s[Q],be=!1;null===oe&&(oe=s[Q]=uu(s,0,p[M],(w&Ea.COMMENT)===Ea.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),be=(0,c.SX7)()),G&&null!==m&&be&&Qe(T,m,oe,b,!1)}})(T,B.create,Q,R&&8&R.type?T[R.index]:null),(0,c.xyx)(!0)}function Ob(){(0,c.xyx)(!1)}function $m(s,p,m){const b=(0,c.OAn)(),T=(0,c.klJ)(),M=(0,c.Mx4)();return mu(T,b,b[c.GpT],M,s,p,m),$m}function mu(s,p,m,b,T,M,w){let R=!0,B=null;if((3&b.type||w)&&(B??=Xs(b,p,M),Id(b,s,p,w,m,T,M,B)&&(R=!1)),R){const G=b.outputs?.[T],Q=b.hostDirectiveOutputs?.[T];if(Q&&Q.length)for(let oe=0;oe<Q.length;oe+=2){const be=Q[oe],Pe=Q[oe+1];B??=Xs(b,p,M),pl(b,p,be,Pe,T,B)}if(G&&G.length)for(const oe of G)B??=Xs(b,p,M),pl(b,p,oe,T,T,B)}}function Po(s=1){return(0,c.jvu)(s)}function Dp(s,p){let m=null;const b=function CA(s){const p=s.attrs;if(null!=p){const m=p.indexOf(5);if(!(1&m))return p[m+1]}return null}(s);for(let T=0;T<p.length;T++){const M=p[T];if("*"!==M){if(null===b?Pc(s,M,!0):wA(b,M))return T}else m=T}return m}function Gm(s,p,m){return ml(s,p,m),Gm}function Bb(s){const p=(0,c.OAn)(),m=(0,c.klJ)(),b=(0,c.w7Z)();(0,c.GA0)(b+1);const T=Wc(m,b);if(s.dirty&&(0,c.vOT)(p)===!(2&~T.metadata.flags)){if(null===T.matches)s.reset([]);else{const M=Sg(p,b);s.reset(M,Li),s.notifyOnChanges()}return!0}return!1}function Mp(){return Pg((0,c.OAn)(),(0,c.w7Z)())}function Hm(s){const p=(0,c.VPL)();return(0,c.Hh6)(p,c.Yw1+s)}function jm(s,p){return s<<17|p<<2}function xa(s){return s>>17&32767}function Cp(s){return 2|s}function Gl(s){return(131068&s)>>2}function kp(s,p){return-131069&s|p<<2}function zm(s){return 1|s}function Ub(s,p,m,b){const T=s[m+1],M=null===p;let w=b?xa(T):Gl(T),R=!1;for(;0!==w&&(!1===R||M);){const G=s[w+1];Wb(s[w],p)&&(R=!0,s[w+1]=b?zm(G):Cp(G)),w=b?xa(G):Gl(G)}R&&(s[m+1]=b?Cp(T):zm(T))}function Wb(s,p){return null===s||null==p||(Array.isArray(s)?s[1]:s)===p||!(!Array.isArray(s)||"string"!=typeof p)&&(0,c.FRF)(s,p)>=0}const An={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Kb(s){return s.substring(An.key,An.keyEnd)}function Hl(s){return s.substring(An.value,An.valueEnd)}function $b(s,p){const m=An.textEnd;return m===p?-1:(p=An.keyEnd=function h0(s,p,m){for(;p<m&&s.charCodeAt(p)>32;)p++;return p}(s,An.key=p,m),Ja(s,p,m))}function Gb(s,p){const m=An.textEnd;let b=An.key=Ja(s,p,m);return m===b?-1:(b=An.keyEnd=function wp(s,p,m){let b;for(;p<m&&(45===(b=s.charCodeAt(p))||95===b||(-33&b)>=65&&(-33&b)<=90||b>=48&&b<=57);)p++;return p}(s,b,m),b=jb(s,b,m),b=An.value=Ja(s,b,m),b=An.valueEnd=function g0(s,p,m){let b=-1,T=-1,M=-1,w=p,R=w;for(;w<m;){const B=s.charCodeAt(w++);if(59===B)return R;34===B||39===B?R=w=Vb(s,B,w,m):p===w-4&&85===M&&82===T&&76===b&&40===B?R=w=Vb(s,41,w,m):B>32&&(R=w),M=T,T=b,b=-33&B}return R}(s,b,m),jb(s,b,m))}function Hb(s){An.key=0,An.keyEnd=0,An.value=0,An.valueEnd=0,An.textEnd=s.length}function Ja(s,p,m){for(;p<m&&s.charCodeAt(p)<=32;)p++;return p}function jb(s,p,m,b){return(p=Ja(s,p,m))<m&&p++,p}function Vb(s,p,m,b){let T=-1,M=m;for(;M<b;){const w=s.charCodeAt(M++);if(w==p&&92!==T)return M;T=92==w&&92===T?0:w}throw new Error}function Ym(s,p,m){return Yb(s,p,m,!1),Ym}function Xm(s,p){return Yb(s,p,null,!0),Xm}function _0(s,p){for(let m=function p0(s){return Hb(s),Gb(s,Ja(s,0,An.textEnd))}(p);m>=0;m=Gb(p,m))tP(s,Kb(p),Hl(p))}function zb(s){Xb(KM,f0,s,!0)}function f0(s,p){for(let m=function d0(s){return Hb(s),$b(s,Ja(s,0,An.textEnd))}(p);m>=0;m=$b(p,m))(0,c.ezK)(s,Kb(p),!0)}function Yb(s,p,m,b){const T=(0,c.OAn)(),M=(0,c.klJ)(),w=(0,c.b$O)(2);M.firstUpdatePass&&hs(M,s,w,b),p!==Ei&&Ni(T,w,p)&&iP(M,M.data[(0,c._px)()],T,T[c.GpT],s,T[w+1]=function y0(s,p){return null==s||""===s||("string"==typeof p?s+=p:"object"==typeof s&&(s=(0,c.AsM)(Oa(s)))),s}(p,m),b,w)}function Xb(s,p,m,b){const T=(0,c.klJ)(),M=(0,c.b$O)(2);T.firstUpdatePass&&hs(T,null,M,b);const w=(0,c.OAn)();if(m!==Ei&&Ni(w,M,m)){const R=T.data[(0,c._px)()];if(Qm(R,b)&&!Jb(T,M)){let B=b?R.classesWithoutHost:R.stylesWithoutHost;null!==B&&(m=(0,c.n$e)(B,m||"")),fo(T,R,w,m,b)}else!function Op(s,p,m,b,T,M,w,R){T===Ei&&(T=c.Mlv);let B=0,G=0,Q=0<T.length?T[0]:null,oe=0<M.length?M[0]:null;for(;null!==Q||null!==oe;){const be=B<T.length?T[B+1]:void 0,Pe=G<M.length?M[G+1]:void 0;let Xe,we=null;Q===oe?(B+=2,G+=2,be!==Pe&&(we=oe,Xe=Pe)):null===oe||null!==Q&&Q<oe?(B+=2,we=Q):(G+=2,we=oe,Xe=Pe),null!==we&&iP(s,p,m,b,we,Xe,w,R),Q=B<T.length?T[B]:null,oe=G<M.length?M[G]:null}}(T,R,w,w[c.GpT],w[M+1],w[M+1]=function eP(s,p,m){if(null==m||""===m)return c.Mlv;const b=[],T=Oa(m);if(Array.isArray(T))for(let M=0;M<T.length;M++)s(b,T[M],!0);else if(T instanceof Set)for(const M of T)s(b,M,!0);else if("object"==typeof T)for(const M in T)T.hasOwnProperty(M)&&s(b,M,T[M]);else"string"==typeof T&&p(b,T);return b}(s,p,m),b,M)}}function Jb(s,p){return p>=s.expandoStartIndex}function hs(s,p,m,b){const T=s.data;if(null===T[m+1]){const M=T[(0,c._px)()],w=Jb(s,m);Qm(M,b)&&null===p&&!w&&(p=!1),p=function Qb(s,p,m,b){const T=(0,c.MT)(s);let M=b?p.residualClasses:p.residualStyles;if(null===T)0===(b?p.classBindings:p.styleBindings)&&(m=fu(m=Jm(null,s,p,m,b),p.attrs,b),M=null);else{const w=p.directiveStylingLast;if(-1===w||s[w]!==T)if(m=Jm(T,s,p,m,b),null===M){let B=function v0(s,p,m){const b=m?p.classBindings:p.styleBindings;if(0!==Gl(b))return s[xa(b)]}(s,p,b);void 0!==B&&Array.isArray(B)&&(B=Jm(null,s,p,B[1],b),B=fu(B,p.attrs,b),function qb(s,p,m,b){s[xa(m?p.classBindings:p.styleBindings)]=b}(s,p,b,B))}else M=function Zb(s,p,m){let b;const T=p.directiveEnd;for(let M=1+p.directiveStylingLast;M<T;M++)b=fu(b,s[M].hostAttrs,m);return fu(b,p.attrs,m)}(s,p,b)}return void 0!==M&&(b?p.residualClasses=M:p.residualStyles=M),m}(T,M,p,b),function c0(s,p,m,b,T,M){let w=M?p.classBindings:p.styleBindings,R=xa(w),B=Gl(w);s[b]=m;let Q,G=!1;if(Array.isArray(m)?(Q=m[1],(null===Q||(0,c.FRF)(m,Q)>0)&&(G=!0)):Q=m,T)if(0!==B){const be=xa(s[R+1]);s[b+1]=jm(be,R),0!==be&&(s[be+1]=kp(s[be+1],b)),s[R+1]=function o0(s,p){return 131071&s|p<<17}(s[R+1],b)}else s[b+1]=jm(R,0),0!==R&&(s[R+1]=kp(s[R+1],b)),R=b;else s[b+1]=jm(B,0),0===R?R=b:s[B+1]=kp(s[B+1],b),B=b;G&&(s[b+1]=Cp(s[b+1])),Ub(s,Q,b,!0),Ub(s,Q,b,!1),function u0(s,p,m,b,T){const M=T?s.residualClasses:s.residualStyles;null!=M&&"string"==typeof p&&(0,c.FRF)(M,p)>=0&&(m[b+1]=zm(m[b+1]))}(p,Q,s,b,M),w=jm(R,B),M?p.classBindings=w:p.styleBindings=w}(T,M,p,m,w,b)}}function Jm(s,p,m,b,T){let M=null;const w=m.directiveEnd;let R=m.directiveStylingLast;for(-1===R?R=m.directiveStart:R++;R<w&&(M=p[R],b=fu(b,M.hostAttrs,T),M!==s);)R++;return null!==s&&(m.directiveStylingLast=R),b}function fu(s,p,m){const b=m?1:2;let T=-1;if(null!==p)for(let M=0;M<p.length;M++){const w=p[M];"number"==typeof w?T=w:T===b&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),(0,c.ezK)(s,w,!!m||p[++M]))}return void 0===s?null:s}function tP(s,p,m){(0,c.ezK)(s,p,Oa(m))}function KM(s,p,m){const b=String(p);""!==b&&!b.includes(" ")&&(0,c.ezK)(s,b,m)}function iP(s,p,m,b,T,M,w,R){if(!(3&p.type))return;const B=s.data,G=B[R+1],Q=function l0(s){return!(1&~s)}(G)?nP(B,p,m,T,Gl(G),w):void 0;Ip(Q)||(Ip(M)||function Vm(s){return!(2&~s)}(G)&&(M=nP(B,null,m,T,R,w)),function yf(s,p,m,b,T){if(p)T?s.addClass(m,b):s.removeClass(m,b);else{let M=-1===b.indexOf("-")?void 0:sd.DashCase;null==T?s.removeStyle(m,b,M):("string"==typeof T&&T.endsWith("!important")&&(T=T.slice(0,-10),M|=sd.Important),s.setStyle(m,b,T,M))}}(b,w,(0,c.vaC)((0,c._px)(),m),T,M))}function nP(s,p,m,b,T,M){const w=null===p;let R;for(;T>0;){const B=s[T],G=Array.isArray(B),Q=G?B[1]:B,oe=null===Q;let be=m[T+1];be===Ei&&(be=oe?c.Mlv:void 0);let Pe=oe?(0,c.K7h)(be,b):Q===b?be:void 0;if(G&&!Ip(Pe)&&(Pe=(0,c.K7h)(B,b)),Ip(Pe)&&(R=Pe,w))return R;const we=s[T+1];T=w?xa(we):Gl(we)}if(null!==p){let B=M?p.residualClasses:p.residualStyles;null!=B&&(R=(0,c.K7h)(B,b))}return R}function Ip(s){return void 0!==s}function Qm(s,p){return!!(s.flags&(p?8:16))}function aP(s,p=""){const m=(0,c.OAn)(),b=(0,c.klJ)(),T=s+c.Yw1,M=b.firstCreatePass?so(b,T,1,p,null):b.data[T],w=sP(b,m,M,p,s);m[T]=w,(0,c.SX7)()&&Nh(b,m,w,M),(0,c.iMd)(M,!1)}let sP=(s,p,m,b,T)=>((0,c.m7n)(!0),V(p[c.GpT],b));function qm(s,p){let m=!1,b=(0,c.c$7)();for(let M=1;M<p.length;M+=2)m=Ni(s,b++,p[M])||m;if((0,c.Kw3)(b),!m)return Ei;let T=p[0];for(let M=1;M<p.length;M+=2)T+=(0,c.eFE)(p[M])+(M+1!==p.length?p[M+1]:"");return T}function vu(s,p,m,b=""){return Ni(s,(0,c.xbp)(),m)?p+(0,c.eFE)(m)+b:Ei}function Zm(s,p,m,b,T,M=""){const R=oo(s,(0,c.c$7)(),m,T);return(0,c.b$O)(2),R?p+(0,c.eFE)(m)+b+(0,c.eFE)(T)+M:Ei}function Rp(s,p,m,b,T,M,w,R=""){const G=Od(s,(0,c.c$7)(),m,T,w);return(0,c.b$O)(3),G?p+(0,c.eFE)(m)+b+(0,c.eFE)(T)+M+(0,c.eFE)(w)+R:Ei}function oP(s,p,m,b,T,M,w,R,B,G=""){const oe=Va(s,(0,c.c$7)(),m,T,w,B);return(0,c.b$O)(4),oe?p+(0,c.eFE)(m)+b+(0,c.eFE)(T)+M+(0,c.eFE)(w)+R+(0,c.eFE)(B)+G:Ei}function P0(s,p,m,b,T,M,w,R,B,G,Q,oe=""){const be=(0,c.c$7)();let Pe=Va(s,be,m,T,w,B);return Pe=Ni(s,be+4,Q)||Pe,(0,c.b$O)(5),Pe?p+(0,c.eFE)(m)+b+(0,c.eFE)(T)+M+(0,c.eFE)(w)+R+(0,c.eFE)(B)+G+(0,c.eFE)(Q)+oe:Ei}function Ba(s,p,m,b,T,M,w,R,B,G,Q,oe,be,Pe=""){const we=(0,c.c$7)();let Xe=Va(s,we,m,T,w,B);return Xe=oo(s,we+4,Q,be)||Xe,(0,c.b$O)(6),Xe?p+(0,c.eFE)(m)+b+(0,c.eFE)(T)+M+(0,c.eFE)(w)+R+(0,c.eFE)(B)+G+(0,c.eFE)(Q)+oe+(0,c.eFE)(be)+Pe:Ei}function lP(s,p,m,b,T,M,w,R,B,G,Q,oe,be,Pe,we,Xe=""){const gt=(0,c.c$7)();let St=Va(s,gt,m,T,w,B);return St=Od(s,gt+4,Q,be,we)||St,(0,c.b$O)(7),St?p+(0,c.eFE)(m)+b+(0,c.eFE)(T)+M+(0,c.eFE)(w)+R+(0,c.eFE)(B)+G+(0,c.eFE)(Q)+oe+(0,c.eFE)(be)+Pe+(0,c.eFE)(we)+Xe:Ei}function cP(s,p,m,b,T,M,w,R,B,G,Q,oe,be,Pe,we,Xe,gt,St=""){const tt=(0,c.c$7)();let ui=Va(s,tt,m,T,w,B);return ui=Va(s,tt+4,Q,be,we,gt)||ui,(0,c.b$O)(8),ui?p+(0,c.eFE)(m)+b+(0,c.eFE)(T)+M+(0,c.eFE)(w)+R+(0,c.eFE)(B)+G+(0,c.eFE)(Q)+oe+(0,c.eFE)(be)+Pe+(0,c.eFE)(we)+Xe+(0,c.eFE)(gt)+St:Ei}function e_(s){return Lp("",s),e_}function Lp(s,p,m){const b=(0,c.OAn)(),T=vu(b,s,p,m);return T!==Ei&&Ns(b,(0,c._px)(),T),Lp}function xp(s,p,m,b,T){const M=(0,c.OAn)(),w=Zm(M,s,p,m,b,T);return w!==Ei&&Ns(M,(0,c._px)(),w),xp}function i_(s,p,m,b,T,M,w,R,B){const G=(0,c.OAn)(),Q=oP(G,s,p,m,b,T,M,w,R,B);return Q!==Ei&&Ns(G,(0,c._px)(),Q),i_}function Ns(s,p,m){const b=(0,c.vaC)(p,s);se(s[c.GpT],b,m)}function n_(s,p,m){py(p)&&(p=p());const b=(0,c.OAn)();return Ni(b,(0,c.xbp)(),p)&&((0,c.klJ)(),gd((0,c.CpD)(),b,s,p,b[c.GpT],m)),n_}function a_(s,p){const m=py(s);return m&&s.set(p),m}function yu(s,p){const m=(0,c.OAn)(),b=(0,c.klJ)(),T=(0,c.Mx4)();return mu(b,m,m[c.GpT],T,s,p),yu}const mP={};function s_(s,p,m){const b=(0,c.klJ)();b.firstCreatePass&&bP(p,b.data,b.blueprint,(0,c.JlV)(s),m)}function bP(s,p,m,b,T){if(s=(0,c.nl4)(s),Array.isArray(s))for(let M=0;M<s.length;M++)bP(s[M],p,m,b,T);else{const M=(0,c.klJ)(),w=(0,c.OAn)(),R=(0,c.Mx4)();let B=(0,c.Y3W)(s)?s:(0,c.nl4)(s.provide);const G=(0,c.Rc9)(s),Q=1048575&R.providerIndexes,oe=R.directiveStart,be=R.providerIndexes>>20;if((0,c.Y3W)(s)||!s.multi){const Pe=new ot(G,T,dl,null),we=r_(B,p,T?Q:Q+be,oe);-1===we?(qi(Ii(R,w),M,B),Bp(M,s,p.length),p.push(B),R.directiveStart++,R.directiveEnd++,T&&(R.providerIndexes+=1048576),m.push(Pe),w.push(Pe)):(m[we]=Pe,w[we]=Pe)}else{const Pe=r_(B,p,Q+be,oe),we=r_(B,p,Q,Q+be),gt=we>=0&&m[we];if(T&&!gt||!T&&!(Pe>=0&&m[Pe])){qi(Ii(R,w),M,B);const St=function w0(s,p,m,b,T){const w=new ot(s,m,dl,null);return w.multi=[],w.index=p,w.componentProviders=0,PP(w,T,b&&!m),w}(T?AP:k0,m.length,T,b,G);!T&&gt&&(m[we].providerFactory=St),Bp(M,s,p.length,0),p.push(B),R.directiveStart++,R.directiveEnd++,T&&(R.providerIndexes+=1048576),m.push(St),w.push(St)}else Bp(M,s,Pe>-1?Pe:we,PP(m[T?we:Pe],G,!T&&b));!T&&b&&gt&&m[we].componentProviders++}}}function Bp(s,p,m,b){const T=(0,c.Y3W)(p),M=(0,c.MME)(p);if(T||M){const B=(M?(0,c.nl4)(p.useClass):p).prototype.ngOnDestroy;if(B){const G=s.destroyHooks||(s.destroyHooks=[]);if(!T&&p.multi){const Q=G.indexOf(m);-1===Q?G.push(m,[b,B]):G[Q+1].push(b,B)}else G.push(m,B)}}}function PP(s,p,m){return m&&s.componentProviders++,s.multi.push(p)-1}function r_(s,p,m,b){for(let T=m;T<b;T++)if(p[T]===s)return T;return-1}function k0(s,p,m,b,T){return Fp(this.multi,[])}function AP(s,p,m,b,T){const M=this.multi;let w;if(this.providerFactory){const R=this.providerFactory.componentProviders,B=sn(b,b[c.eDl],this.providerFactory.index,T);w=B.slice(0,R),Fp(M,w);for(let G=R;G<B.length;G++)w.push(B[G])}else w=[],Fp(M,w);return w}function Fp(s,p){for(let m=0;m<s.length;m++)p.push((0,s[m])());return p}function EP(s,p){return m=>{m.providersResolver=(b,T)=>s_(b,T?T(s):s,!1),p&&(m.viewProvidersResolver=(b,T)=>s_(b,T?T(p):p,!0))}}function gs(s){if("function"==typeof s)return s;const p=(0,c.Bqz)(s);return p.some(c.Jzi)?()=>p.map(c.nl4).map(L0):p.map(L0)}function L0(s){return sg(s)?s.ngModule:s}function o_(s,p){const m=(0,c.gxQ)()+s,b=(0,c.OAn)();return b[m]===Ei?ws(b,m,p()):Fc(b,m)}function SP(s,p,m){return kP((0,c.OAn)(),(0,c.gxQ)(),s,p,m)}function TP(s,p,m,b){return Np((0,c.OAn)(),(0,c.gxQ)(),s,p,m,b)}function DP(s,p,m,b,T){return wP((0,c.OAn)(),(0,c.gxQ)(),s,p,m,b,T)}function MP(s,p,m,b,T,M,w){return Pu((0,c.OAn)(),(0,c.gxQ)(),s,p,m,b,T,M)}function CP(s,p,m,b,T,M,w){const R=(0,c.gxQ)()+s,B=(0,c.OAn)(),G=Va(B,R,m,b,T,M);return Ni(B,R+4,w)||G?ws(B,R+5,p(m,b,T,M,w)):Fc(B,R+5)}function bu(s,p){const m=s[p];return m===Ei?void 0:m}function kP(s,p,m,b,T,M){const w=p+m;return Ni(s,w,T)?ws(s,w+1,M?b.call(M,T):b(T)):bu(s,w+1)}function Np(s,p,m,b,T,M,w){const R=p+m;return oo(s,R,T,M)?ws(s,R+2,w?b.call(w,T,M):b(T,M)):bu(s,R+2)}function wP(s,p,m,b,T,M,w,R){const B=p+m;return Od(s,B,T,M,w)?ws(s,B+3,R?b.call(R,T,M,w):b(T,M,w)):bu(s,B+3)}function Pu(s,p,m,b,T,M,w,R,B){const G=p+m;return Va(s,G,T,M,w,R)?ws(s,G+4,B?b.call(B,T,M,w,R):b(T,M,w,R)):bu(s,G+4)}function OP(s,p,m,b,T,M){let w=p+m,R=!1;for(let B=0;B<T.length;B++)Ni(s,w++,T[B])&&(R=!0);return R?ws(s,w,b.apply(M,T)):bu(s,w)}function Au(s,p){return s[c.eDl].data[p].pure}function xP(s,p){return yd(s,p)}function Wp(s,p,m,b,T){const M=T[c.eDl];if(M!==b.tView)for(let w=c.Yw1;w<M.bindingStartIndex;w++){const R=T[w];if((0,c.A0l)(R)){(0,c.q$2)(R[c.jgP])&&Wp(s,p,m,b,R[c.jgP]);for(let B=c.Y20;B<R.length;B++)Wp(s,p,m,b,R[B])}else(0,c.q$2)(R)&&Wp(s,p,m,b,R)}else!function X0(s,p,m,b,T){const M=T[c.SKP];let w=T[c.jgP];const R=T[c.f7T],B=T[c.qlT],G=T[c.YEL].get(c.SKi,null),Q=()=>{if(b.encapsulation===wa.ShadowDom||b.encapsulation===wa.ExperimentalIsolatedShadowDom){const we=w.cloneNode(!1);w.replaceWith(we),w=we}const oe=Q_(m),be=nd(R,oe,M,Th(m),w,B,null,null,null,null,null);(function J0(s,p,m,b){for(let T=c.Yw1;T<s[c.eDl].bindingStartIndex;T++){const M=s[T];if(((0,c.q$2)(M)||(0,c.A0l)(M))&&M[c.K29]===p){M[c.K29]=m;break}}s[c.EJG]===p&&(s[c.EJG]=m),s[c.Yrj]===p&&(s[c.Yrj]=m),m[c.K29]=p[c.K29],p[c.K29]=null,s[b]=m})(R,T,be,B.index),Sc(T[c.eDl],T);const Pe=T[c.M0L].rendererFactory;(function Y0(s,p){s.componentReplaced?.(p.id)})(Pe,b),be[c.GpT]=Pe.createRenderer(w,m),uf(T[c.eDl],T),function Q0(s){if(null!==s.projection){for(const p of s.projection)Rt(p)&&(p.projectionNext=null,p.flags&=-3);s.projection=null}}(B),nl(oe,be,M),sl(oe,be,oe.template,M)};null===G?Eo(s,p,Q):G.run(()=>Eo(s,p,Q))}(s,p,m,b,T)}function Eo(s,p,m){try{m()}catch(b){if(null!==p&&b.message){const M=b.message+(b.stack?"\n"+b.stack:"");s?.hot?.send?.("angular:invalidate",{id:p,message:M,error:!0})}throw b}}const Ir={\u0275\u0275animateEnter:function Dr(s){if(Pn("NgAnimateEnter"),!Jn)return Dr;const p=(0,c.OAn)();if(Qn(p))return Dr;const m=(0,c.Mx4)();return tr(m,p),ds(qc(p),m,()=>function gm(s,p,m){const b=(0,c.d31)(p,s),T=s[c.GpT],M=s[c.YEL].get(c.SKi),w=tp(m),R=[],B=Q=>{if(Q.target!==b)return;const oe=Q instanceof AnimationEvent?"animationend":"transitionend";M.runOutsideAngular(()=>{T.listen(b,oe,G)})},G=Q=>{Q.target===b&&function Zc(s,p,m){const b=Tr.get(p);if(s.target===p&&b&&Xy(s,p)){s.stopImmediatePropagation();for(const T of b.classList)m.removeClass(p,T);hm(p)}}(Q,b,T)};if(w&&w.length>0){M.runOutsideAngular(()=>{R.push(T.listen(b,"animationstart",B)),R.push(T.listen(b,"transitionstart",B))}),function pm(s,p,m){const b=Tr.get(s);if(b){for(const T of p)b.classList.push(T);for(const T of m)b.cleanupFns.push(T)}else Tr.set(s,{classList:p,cleanupFns:m})}(b,w,R);for(const Q of w)T.addClass(b,Q);M.runOutsideAngular(()=>{requestAnimationFrame(()=>{if(ld(b,qn,Jn),!qn.has(b)){for(const Q of w)T.removeClass(b,Q);hm(b)}})})}}(p,m,s)),cd(p[c.YEL]),Rh(p[c.YEL],qc(p)),Dr},\u0275\u0275animateEnterListener:function ap(s){if(Pn("NgAnimateEnter"),!Jn)return ap;const p=(0,c.OAn)();if(Qn(p))return ap;const m=(0,c.Mx4)();return tr(m,p),ds(qc(p),m,()=>function Jy(s,p,m){const b=(0,c.d31)(p,s);m.call(s[c.SKP],{target:b,animationComplete:rT})}(p,m,s)),cd(p[c.YEL]),Rh(p[c.YEL],qc(p)),ap},\u0275\u0275animateLeave:function eu(s){if(Pn("NgAnimateLeave"),!Jn)return eu;const p=(0,c.OAn)();if(Qn(p))return eu;const b=(0,c.Mx4)();return tr(b,p),ds(Xa(p),b,()=>function Qy(s,p,m){const{promise:b,resolve:T}=em(),M=(0,c.d31)(p,s),w=s[c.GpT],R=s[c.YEL].get(c.SKi);Zr.add(s[c.ID]),(Xa(s).get(p.index).resolvers??=[]).push(T);const B=tp(m);return B&&B.length>0?function oT(s,p,m,b,T,M){!function Yy(s,p){if(!Jn)return;const m=Tr.get(s);if(m&&m.classList.length>0&&function ir(s,p){for(const m of p)if(s.classList.contains(m))return!0;return!1}(s,m.classList))for(const b of m.classList)p.removeClass(s,b);hm(s)}(s,T);const w=[],R=Xa(m).get(p.index)?.resolvers,B=G=>{if(G.target===s&&(G instanceof CustomEvent||Xy(G,s))){if(G.stopImmediatePropagation(),qn.delete(s),Ol(p,s),Array.isArray(p.projection))for(const Q of b)T.removeClass(s,Q);Il(R,w),ip(m,p)}};M.runOutsideAngular(()=>{w.push(T.listen(s,"animationend",B)),w.push(T.listen(s,"transitionend",B))}),ep(p,s);for(const G of b)T.addClass(s,G);M.runOutsideAngular(()=>{requestAnimationFrame(()=>{ld(s,qn,Jn),qn.has(s)||(Ol(p,s),Il(R,w),ip(m,p))})})}(M,p,s,B,w,R):T(),{promise:b,resolve:T}}(p,b,s)),cd(p[c.YEL]),eu},\u0275\u0275animateLeaveListener:function mm(s){if(Pn("NgAnimateLeave"),!Jn)return mm;const p=(0,c.OAn)(),m=(0,c.Mx4)();return tr(m,p),Zr.add(p[c.ID]),ds(Xa(p),m,()=>function lT(s,p,m){const{promise:b,resolve:T}=em(),M=(0,c.d31)(p,s),w=[],R=s[c.GpT],B=Qn(s),G=s[c.YEL].get(c.SKi),Q=s[c.YEL].get(jy);(Xa(s).get(p.index).resolvers??=[]).push(T);const oe=Xa(s).get(p.index)?.resolvers;if(B)np(s,p,M,oe,w);else{const be=setTimeout(()=>np(s,p,M,oe,w),Q),Pe={target:M,animationComplete:()=>{np(s,p,M,oe,w),clearTimeout(be)}};ep(p,M),G.runOutsideAngular(()=>{w.push(R.listen(M,"animationend",()=>{np(s,p,M,oe,w),clearTimeout(be)},{once:!0}))}),m.call(s[c.SKP],Pe)}return{promise:b,resolve:T}}(p,m,s)),cd(p[c.YEL]),mm},\u0275\u0275attribute:Zd,\u0275\u0275defineComponent:Fd,\u0275\u0275defineDirective:Nd,\u0275\u0275defineInjectable:c.jDH,\u0275\u0275defineInjector:c.G2t,\u0275\u0275defineNgModule:$v,\u0275\u0275definePipe:Gv,\u0275\u0275directiveInject:dl,\u0275\u0275getInheritedFactory:na,\u0275\u0275inject:c.KVO,\u0275\u0275injectAttribute:Le,\u0275\u0275invalidFactory:function dS(){throw new Error("invalid")},\u0275\u0275invalidFactoryDep:c.dmw,\u0275\u0275templateRefExtractor:xP,\u0275\u0275resetView:c.Njj,\u0275\u0275HostDirectivesFeature:function a1(s){const p=m=>{const b=Array.isArray(s);null===m.hostDirectives?(m.resolveHostDirectives=vl,m.hostDirectives=b?s.map(Rg):[s]):b?m.hostDirectives.unshift(...s.map(Rg)):m.hostDirectives.unshift(s)};return p.ngInherit=!0,p},\u0275\u0275NgOnChangesFeature:Ne,\u0275\u0275ProvidersFeature:EP,\u0275\u0275InheritDefinitionFeature:uo,\u0275\u0275ExternalStylesFeature:function O0(s){return p=>{s.length<1||(p.getExternalStyles=m=>s.map(T=>T+"?ngcomp"+(m?"="+encodeURIComponent(m):"")+"&e="+p.encapsulation))}},\u0275\u0275nextContext:Po,\u0275\u0275namespaceHTML:c.joV,\u0275\u0275namespaceMathML:c.By9,\u0275\u0275namespaceSVG:c.qSk,\u0275\u0275enableBindings:c.cSN,\u0275\u0275disableBindings:c.fuf,\u0275\u0275elementStart:au,\u0275\u0275elementEnd:Fl,\u0275\u0275element:wm,\u0275\u0275elementContainerStart:_p,\u0275\u0275elementContainerEnd:su,\u0275\u0275domElement:Zn,\u0275\u0275domElementStart:ha,\u0275\u0275domElementEnd:ga,\u0275\u0275domElementContainer:function hb(s,p,m){return fp(s,p,m),Im(),hb},\u0275\u0275domElementContainerStart:fp,\u0275\u0275domElementContainerEnd:Im,\u0275\u0275domTemplate:Is,\u0275\u0275domListener:function Lb(s,p,m){const b=(0,c.OAn)(),T=(0,c.klJ)(),M=(0,c.Mx4)();return(3&M.type||m)&&Id(M,T,b,m,b[c.GpT],s,p,Xs(M,b,p)),Lb},\u0275\u0275elementContainer:ru,\u0275\u0275pureFunction0:o_,\u0275\u0275pureFunction1:SP,\u0275\u0275pureFunction2:TP,\u0275\u0275pureFunction3:DP,\u0275\u0275pureFunction4:MP,\u0275\u0275pureFunction5:CP,\u0275\u0275pureFunction6:function x0(s,p,m,b,T,M,w,R){const B=(0,c.gxQ)()+s,G=(0,c.OAn)(),Q=Va(G,B,m,b,T,M);return oo(G,B+4,w,R)||Q?ws(G,B+6,p(m,b,T,M,w,R)):Fc(G,B+6)},\u0275\u0275pureFunction7:function B0(s,p,m,b,T,M,w,R,B){const G=(0,c.gxQ)()+s,Q=(0,c.OAn)();let oe=Va(Q,G,m,b,T,M);return Od(Q,G+4,w,R,B)||oe?ws(Q,G+7,p(m,b,T,M,w,R,B)):Fc(Q,G+7)},\u0275\u0275pureFunction8:function F0(s,p,m,b,T,M,w,R,B,G){const Q=(0,c.gxQ)()+s,oe=(0,c.OAn)(),be=Va(oe,Q,m,b,T,M);return Va(oe,Q+4,w,R,B,G)||be?ws(oe,Q+8,p(m,b,T,M,w,R,B,G)):Fc(oe,Q+8)},\u0275\u0275pureFunctionV:function N0(s,p,m){return OP((0,c.OAn)(),(0,c.gxQ)(),s,p,m)},\u0275\u0275getCurrentView:mb,\u0275\u0275restoreView:c.eBV,\u0275\u0275listener:$m,\u0275\u0275projection:function s0(s,p=0,m,b,T,M){const w=(0,c.OAn)(),R=(0,c.klJ)(),B=b?s+1:null;null!==B&&os(w,R,B,b,T,M,null,m);const G=so(R,c.Yw1+s,16,null,m||null);null===G.projection&&(G.projection=p),(0,c.Pfq)();const oe=!w[c.tcA]||(0,c.KtD)();null===w[c.b5C][c.qlT].projection[G.projection]&&null!==B?function r0(s,p,m){const b=c.Yw1+m,T=p.data[b],M=s[b];rl(M,br(s,T,void 0,{dehydratedView:null}),0,no(T,null))}(w,R,B):oe&&!ya(G)&&function ff(s,p,m){vf(p[c.GpT],0,p,m,Bh(s,m,p),ud(m.parent||p[c.qlT],m,p))}(R,w,G)},\u0275\u0275syntheticHostProperty:function Lm(s,p,m){const b=(0,c.OAn)();if(Ni(b,(0,c.xbp)(),p)){const M=(0,c.klJ)(),w=(0,c.CpD)();Kh(w,b,s,p,Mf((0,c.MT)(M.data),w,b),m)}return Lm},\u0275\u0275syntheticHostListener:function Rb(s,p){const m=(0,c.Mx4)(),b=(0,c.OAn)(),T=(0,c.klJ)();return mu(T,b,Mf((0,c.MT)(T.data),m,b),m,s,p),Rb},\u0275\u0275pipeBind1:function l_(s,p,m){const b=s+c.Yw1,T=(0,c.OAn)(),M=(0,c.Hh6)(T,b);return Au(T,b)?kP(T,(0,c.gxQ)(),p,M.transform,m,M):M.transform(m)},\u0275\u0275pipeBind2:function U0(s,p,m,b){const T=s+c.Yw1,M=(0,c.OAn)(),w=(0,c.Hh6)(M,T);return Au(M,T)?Np(M,(0,c.gxQ)(),p,w.transform,m,b,w):w.transform(m,b)},\u0275\u0275pipeBind3:function W0(s,p,m,b,T){const M=s+c.Yw1,w=(0,c.OAn)(),R=(0,c.Hh6)(w,M);return Au(w,M)?wP(w,(0,c.gxQ)(),p,R.transform,m,b,T,R):R.transform(m,b,T)},\u0275\u0275pipeBind4:function K0(s,p,m,b,T,M){const w=s+c.Yw1,R=(0,c.OAn)(),B=(0,c.Hh6)(R,w);return Au(R,w)?Pu(R,(0,c.gxQ)(),p,B.transform,m,b,T,M,B):B.transform(m,b,T,M)},\u0275\u0275pipeBindV:function $0(s,p,m){const b=s+c.Yw1,T=(0,c.OAn)(),M=(0,c.Hh6)(T,b);return Au(T,b)?OP(T,(0,c.gxQ)(),p,M.transform,m,M):M.transform.apply(M,m)},\u0275\u0275projectionDef:function a0(s){const p=(0,c.OAn)()[c.b5C][c.qlT];if(!p.projection){const b=p.projection=(0,c.WfI)(s?s.length:1,null),T=b.slice();let M=p.child;for(;null!==M;){if(128!==M.type){const w=s?Dp(M,s):0;null!==w&&(T[w]?T[w].projectionNext=M:b[w]=M,T[w]=M)}M=M.next}}},\u0275\u0275domProperty:function Rm(s,p,m){const b=(0,c.OAn)();return Ni(b,(0,c.xbp)(),p)&&((0,c.klJ)(),Kh((0,c.CpD)(),b,s,p,b[c.GpT],m)),Rm},\u0275\u0275ariaProperty:function dm(s,p){const m=(0,c.OAn)();if(Ni(m,(0,c.xbp)(),p)){const T=(0,c.klJ)(),M=(0,c.CpD)();if(il(M,T,m,s,p))(0,c.Qs1)(M)&&Ef(m,M.index);else{const R=(0,c.d31)(M,m);md(m[c.GpT],R,null,M.value,s,p,null)}}return dm},\u0275\u0275property:Bl,\u0275\u0275control:function cT(s,p,m){const b=(0,c.OAn)(),T=(0,c.CpD)();Ni(b,(0,c.xbp)(),s)&&((0,c.klJ)(),gd(T,b,p,s,b[c.GpT],m)),function _m(s,p){const m=eb(p,s);m&&(function ym(s,p,m){if(m.classes){const b=pp(s);b.classes??={},m.state();const T=s[c.GpT],M=(0,c.d31)(p,s);for(const[w,R]of m.classes){const B=R();AT(b.classes,w,B)&&(B?T.addClass(M,w):T.removeClass(M,w))}}}(s,p,m),1024&p.flags?ab(p,s,m,"value"):2048&p.flags?ab(p,s,m,"checked"):4096&p.flags?function sb(s,p,m){const b=m.\u0275interopControl,T=pp(p),M=m.state(),w=!!(8192&s.flags),R=w?(0,c.d31)(s,p):null,B=p[c.GpT],G=M.value();Ll(T,Sm,G)&&(0,c.O8t)(()=>b.writeValue(G));for(const Q of dp){const oe=M[Q]?.();if(Ll(T,Q,oe)){const be=up[Q],Pe=bm(s,p,be,oe);Q===Am?b.setDisabledState&&(0,c.O8t)(()=>b.setDisabledState(oe)):w&&!Pe&&cp(s,B,R,Q,oe,be)}}}(p,s,m):function gT(s,p,m){const b=(0,c.d31)(s,p),T=p[c.GpT],M=m.state(),w=pp(p),R=M.controlValue();Ll(w,Sm,R)&&function rb(s,p){switch(s.type){case"checkbox":return void(s.checked=p);case"radio":return void(s.checked=p===s.value);case"number":case"range":case"datetime-local":if("number"==typeof p)return void Pm(s,p);break;case"date":case"month":case"time":case"week":if(_o(p))return void(s.valueAsDate=p);if("number"==typeof p)return void Pm(s,p)}s.value=p}(b,R);for(const B of dp){const G=M[B]?.();if(Ll(w,B,G)){const Q=up[B];cp(s,T,b,B,G,Q),bm(s,p,Q,G)}}}(p,s,m)),(0,c.xbp)()}(b,T)},\u0275\u0275controlCreate:function Rl(){const s=(0,c.OAn)(),p=(0,c.klJ)(),m=(0,c.Mx4)();p.firstCreatePass&&function uT(s,p,m){const b=p.inputs?.formField;if(!b||(0,c.Qs1)(p)&&b.includes(p.directiveStart+p.componentOffset))return;const T=b.find(w=>bv in m[w]);if(void 0===T)return;p.fieldIndex=T;const M=function sp(s,p){return!!p[s.fieldIndex].\u0275interopControl&&(s.flags|=4096,!0)}(p,m)||function dT(s,p){for(let m=p.directiveStart;m<p.directiveEnd;m++){const b=s.data[m];if(tb(b,"value"))return p.flags|=1024,p.customControlIndex=m,!0;if(tb(b,"checked"))return p.flags|=2048,p.customControlIndex=m,!0}return!1}(s,p);if(!function fm(s){return!!function hT(s){if(2!==s.type)return!1;const p=s.value;return"input"===p||"textarea"===p||"select"===p}(s)&&(s.flags|=8192,function mT(s){if(!s.attrs||"input"!==s.value)return!1;for(let p=0;p<s.attrs.length;p+=2){const m=s.attrs[p];if(Vi(m))break;if("type"===m){const b=s.attrs[p+1];return"date"===b||"datetime-local"===b||"month"===b||"number"===b||"range"===b||"time"===b||"week"===b}}return!1}(s)&&(s.flags|=16384),function _T(s){return"select"!==s.value}(s)&&(s.flags|=32768),!0)}(p)&&!M)throw new c.buA(318,!1)}(p,m,s);const b=eb(m,s);b&&(Pn("NgSignalForms"),1024&m.flags?lp(s,m,b,"value"):2048&m.flags?lp(s,m,b,"checked"):4096&m.flags?function pT(s){const p=s.\u0275interopControl;p.registerOnChange(m=>s.state().setControlValue(m)),p.registerOnTouched(()=>s.state().markAsTouched())}(b):8192&m.flags&&function vm(s,p,m){const b=(0,c.klJ)(),T=s[c.GpT],M=(0,c.d31)(p,s),w=()=>{const B=m.state();B.setControlValue(function fT(s,p){switch(s.type){case"checkbox":return s.checked;case"number":case"range":case"datetime-local":if("number"==typeof p())return s.valueAsNumber;break;case"date":case"month":case"time":case"week":const m=p();if(_o(m))return s.valueAsDate;if("number"==typeof m)return s.valueAsNumber}return s.value}(M,B.value))};Id(p,b,s,void 0,T,"input",w,Xs(p,s,w));const R=()=>{m.state().markAsTouched()};if(Id(p,b,s,void 0,T,"blur",R,Xs(p,s,R)),2===p.type&&"select"===p.value&&"function"==typeof MutationObserver){const B=function nb(s,p){const m=new MutationObserver(b=>{b.some(T=>function tu(s){if("childList"===s.type||"characterData"===s.type){if(s.target instanceof Comment)return!1;for(const p of s.addedNodes)if(!(p instanceof Comment))return!0;for(const p of s.removedNodes)if(!(p instanceof Comment))return!0;return!1}return"attributes"===s.type&&s.target instanceof HTMLOptionElement}(T))&&(s.value=p.state().value())});return m.observe(s,{attributes:!0,attributeFilter:["value"],characterData:!0,childList:!0,subtree:!0}),m}(M,m);(0,c.B22)(b,s,B,B.disconnect)}}(s,m,b),b.registerAsBinding(function rp(s,p){const m=s.customControlIndex;return-1===m?void 0:p[m]}(m,s)))},\u0275\u0275pipe:function IP(s,p){const m=(0,c.klJ)();let b;const T=s+c.Yw1;m.firstCreatePass?(b=function RP(s,p){if(p)for(let m=p.length-1;m>=0;m--){const b=p[m];if(s===b.name)return b}}(p,m.pipeRegistry),m.data[T]=b,b.onDestroy&&(m.destroyHooks??=[]).push(T,b.onDestroy)):b=m.data[T];const M=b.factory||(b.factory=(0,c.wGu)(b.type,!0)),R=(0,c.a2B)(dl);try{const B=pn(!1),G=M();return pn(B),(0,c.M_e)(m,(0,c.OAn)(),T,G),G}finally{(0,c.a2B)(R)}},\u0275\u0275queryRefresh:Bb,\u0275\u0275queryAdvance:function _u(s=1){(0,c.GA0)((0,c.w7Z)()+s)},\u0275\u0275viewQuery:Gm,\u0275\u0275viewQuerySignal:function Nb(s,p,m,b){return Rv(s,ml(p,m,b)),Nb},\u0275\u0275loadQuery:Mp,\u0275\u0275contentQuery:function xb(s,p,m,b){return Ag(s,p,m,b),xb},\u0275\u0275contentQuerySignal:function Fb(s,p,m,b,T){return Rv(p,Ag(s,m,b,T)),Fb},\u0275\u0275reference:Hm,\u0275\u0275classMap:zb,\u0275\u0275styleMap:function m0(s){Xb(tP,_0,s,!1)},\u0275\u0275styleProp:Ym,\u0275\u0275classProp:Xm,\u0275\u0275advance:q_,\u0275\u0275template:bl,\u0275\u0275conditional:function TT(s,p){Pn("NgControlFlow");const m=(0,c.OAn)(),b=(0,c.xbp)(),T=m[b]!==Ei?m[b]:-1,M=-1!==T?nu(m,c.Yw1+T):void 0;if(Ni(m,b,s)){const R=(0,E.Ht)(null);try{if(void 0!==M&&Vh(M,0),-1!==s){const B=c.Yw1+s,G=nu(m,B),Q=gp(m[c.eDl],B),oe=null;rl(G,br(m,Q,p,{dehydratedView:oe}),0,no(Q,oe))}}finally{(0,E.Ht)(R)}}else if(void 0!==M){const R=Uf(M,0);void 0!==R&&(R[c.SKP]=p)}},\u0275\u0275conditionalCreate:function Dm(s,p,m,b,T,M,w,R){Pn("NgControlFlow");const B=(0,c.OAn)(),G=(0,c.klJ)();return os(B,G,s,p,m,b,T,(0,c.db4)(G.consts,M),256,w,R),Mm},\u0275\u0275conditionalBranchCreate:Mm,\u0275\u0275defer:Fy,\u0275\u0275deferWhen:om,\u0275\u0275deferOnIdle:function da(){Ki(0,(0,c.OAn)(),(0,c.Mx4)())&&Ia(Gd)},\u0275\u0275deferOnImmediate:function pa(){const s=(0,c.OAn)(),p=(0,c.Mx4)();Ki(0,s,p)&&(null===Gn(s[c.eDl],p).loadingTmplIndex&&Sl(s,p),ho(0,s,p))},\u0275\u0275deferOnTimer:function mo(s){Ki(0,(0,c.OAn)(),(0,c.Mx4)())&&Ia(Hd(s))},\u0275\u0275deferOnHover:function lm(s,p){const m=(0,c.OAn)(),b=(0,c.Mx4)();Ki(0,m,b)&&(Sl(m,b),Al(m,b,s,p,Io,()=>ho(0,m,b),0))},\u0275\u0275deferOnInteraction:function cm(s,p){const m=(0,c.OAn)(),b=(0,c.Mx4)();Ki(0,m,b)&&(Sl(m,b),Al(m,b,s,p,Fr,()=>ho(0,m,b),0))},\u0275\u0275deferOnViewport:function Ky(s,p,m){const b=(0,c.OAn)(),T=(0,c.Mx4)();Ki(0,b,T)&&(Sl(b,T),Al(b,T,s,p,$d,()=>ho(0,b,T),0,m))},\u0275\u0275deferPrefetchWhen:function nT(s){const p=(0,c.OAn)(),m=(0,c.CpD)();if(Ki(1,p,m)&&Ni(p,(0,c.xbp)(),s)){const T=(0,E.Ht)(null);try{const M=!!s,R=Gn(p[c.eDl],m);!0===M&&R.loadingState===dn.NOT_STARTED&&Xc(R,p,m)}finally{(0,E.Ht)(T)}}},\u0275\u0275deferPrefetchOnIdle:function Ra(){Ki(1,(0,c.OAn)(),(0,c.Mx4)())&&Cy(Gd)},\u0275\u0275deferPrefetchOnImmediate:function qd(){const s=(0,c.OAn)(),p=(0,c.Mx4)();if(!Ki(1,s,p))return;const b=Gn(s[c.eDl],p);b.loadingState===dn.NOT_STARTED&&im(b,s,p)},\u0275\u0275deferPrefetchOnTimer:function Cl(s){Ki(1,(0,c.OAn)(),(0,c.Mx4)())&&Cy(Hd(s))},\u0275\u0275deferPrefetchOnHover:function kl(s,p){const m=(0,c.OAn)(),b=(0,c.Mx4)();if(!Ki(1,m,b))return;const M=Gn(m[c.eDl],b);M.loadingState===dn.NOT_STARTED&&Al(m,b,s,p,Io,()=>Xc(M,m,b),1)},\u0275\u0275deferPrefetchOnInteraction:function um(s,p){const m=(0,c.OAn)(),b=(0,c.Mx4)();if(!Ki(1,m,b))return;const M=Gn(m[c.eDl],b);M.loadingState===dn.NOT_STARTED&&Al(m,b,s,p,Fr,()=>Xc(M,m,b),1)},\u0275\u0275deferPrefetchOnViewport:function $y(s,p,m){const b=(0,c.OAn)(),T=(0,c.Mx4)();if(!Ki(1,b,T))return;const w=Gn(b[c.eDl],T);w.loadingState===dn.NOT_STARTED&&Al(b,T,s,p,$d,()=>Xc(w,b,T),1,m)},\u0275\u0275deferHydrateWhen:function aT(s){const p=(0,c.OAn)(),m=(0,c.CpD)();if(!Ki(2,p,m))return;const b=(0,c.xbp)();if(za((0,c.klJ)(),m).set(6,null),Ni(p,b,s)){const w=p[c.YEL],R=(0,E.Ht)(null);try{1==!!s&&go(w,Aa(p,m)[6])}finally{(0,E.Ht)(R)}}},\u0275\u0275deferHydrateNever:function sT(){const s=(0,c.OAn)(),p=(0,c.Mx4)();Ki(2,s,p)&&za((0,c.klJ)(),p).set(7,null)},\u0275\u0275deferHydrateOnIdle:function La(){const s=(0,c.OAn)(),p=(0,c.Mx4)();Ki(2,s,p)&&(za((0,c.klJ)(),p).set(0,null),tm(Gd,s,p))},\u0275\u0275deferHydrateOnImmediate:function Ml(){const s=(0,c.OAn)(),p=(0,c.Mx4)();Ki(2,s,p)&&(za((0,c.klJ)(),p).set(1,null),go(s[c.YEL],Aa(s,p)[6]))},\u0275\u0275deferHydrateOnTimer:function Ny(s){const p=(0,c.OAn)(),m=(0,c.Mx4)();Ki(2,p,m)&&(za((0,c.klJ)(),m).set(5,{type:5,delay:s}),tm(Hd(s),p,m))},\u0275\u0275deferHydrateOnHover:function Uy(){const s=(0,c.OAn)(),p=(0,c.Mx4)();Ki(2,s,p)&&za((0,c.klJ)(),p).set(4,null)},\u0275\u0275deferHydrateOnInteraction:function Wy(){const s=(0,c.OAn)(),p=(0,c.Mx4)();Ki(2,s,p)&&za((0,c.klJ)(),p).set(3,null)},\u0275\u0275deferHydrateOnViewport:function Gy(s){const p=(0,c.OAn)(),m=(0,c.Mx4)();Ki(2,p,m)&&za((0,c.klJ)(),m).set(2,s?{type:2,intersectionObserverOptions:s}:null)},\u0275\u0275deferEnableTimerScheduling:function v1(s,p,m,b){const T=s.consts;null!=m&&(p.placeholderBlockConfig=(0,c.db4)(T,m)),null!=b&&(p.loadingBlockConfig=(0,c.db4)(T,b)),null===jd&&(jd=Kg)},\u0275\u0275repeater:function wT(s){const p=(0,E.Ht)(null),m=(0,c._px)();try{const b=(0,c.OAn)(),T=b[c.eDl],M=b[m],w=m+1,R=nu(b,w);if(void 0===M.liveCollection){const G=gp(T,w);M.liveCollection=new kT(R,b,G)}else M.liveCollection.reset();const B=M.liveCollection;if(function ub(s,p,m,b){let T,M,w=0,R=s.length-1;if(Array.isArray(p)){(0,E.Ht)(b);let G=p.length-1;for((0,E.Ht)(null);w<=R&&w<=G;){const Q=s.at(w),oe=p[w],be=Tm(w,Q,w,oe,m);if(0!==be){be<0&&s.updateValue(w,oe),w++;continue}const Pe=s.at(R),we=p[G],Xe=Tm(R,Pe,G,we,m);if(0!==Xe){Xe<0&&s.updateValue(R,we),R--,G--;continue}const gt=m(w,Q),St=m(R,Pe),tt=m(w,oe);if(Object.is(tt,St)){const ui=m(G,we);Object.is(ui,gt)?(s.swap(w,R),s.updateValue(R,we),G--,R--):s.move(R,w),s.updateValue(w,oe),w++;continue}if(T??=new pb,M??=db(s,w,R,m),hp(s,T,w,tt))s.updateValue(w,oe),w++,R++;else if(M.has(tt))T.set(gt,s.detach(w)),R--;else{const ui=s.create(w,p[w]);s.attach(w,ui),w++,R++}}for(;w<=G;)iu(s,T,m,w,p[w]),w++}else if(null!=p){(0,E.Ht)(b);const G=p[Symbol.iterator]();(0,E.Ht)(null);let Q=G.next();for(;!Q.done&&w<=R;){const oe=s.at(w),be=Q.value,Pe=Tm(w,oe,w,be,m);if(0!==Pe)Pe<0&&s.updateValue(w,be),w++,Q=G.next();else{T??=new pb,M??=db(s,w,R,m);const we=m(w,be);if(hp(s,T,w,we))s.updateValue(w,be),w++,R++,Q=G.next();else if(M.has(we)){const Xe=m(w,oe);T.set(Xe,s.detach(w)),R--}else s.attach(w,s.create(w,be)),w++,R++,Q=G.next()}}for(;!Q.done;)iu(s,T,m,s.length,Q.value),Q=G.next()}for(;w<=R;)s.destroy(s.detach(R--));T?.forEach(G=>{s.destroy(G)})}(B,s,M.trackByFn,p),B.updateIndexes(),M.hasEmptyBlock){const G=(0,c.xbp)(),Q=0===B.length;if(Ni(b,G,Q)){const oe=m+2,be=nu(b,oe);if(Q){const Pe=gp(T,oe),we=null;rl(be,br(b,Pe,void 0,{dehydratedView:we}),0,no(Pe,we))}else T.firstUpdatePass&&Td(be),Vh(be,0)}}}finally{(0,E.Ht)(p)}},\u0275\u0275repeaterCreate:function km(s,p,m,b,T,M,w,R,B,G,Q,oe,be){Pn("NgControlFlow");const Pe=(0,c.OAn)(),we=(0,c.klJ)(),Xe=void 0!==B,gt=(0,c.OAn)(),St=R?w.bind(gt[c.b5C][c.SKP]):w,tt=new MT(Xe,St);gt[c.Yw1+s]=tt,os(Pe,we,s+1,p,m,b,T,(0,c.db4)(we.consts,M),256),Xe&&os(Pe,we,s+2,B,G,Q,oe,(0,c.db4)(we.consts,be),512)},\u0275\u0275repeaterTrackByIndex:function Cm(s){return s},\u0275\u0275repeaterTrackByIdentity:function DT(s,p){return p},\u0275\u0275componentInstance:function qy(){return(0,c.OAn)()[c.b5C][c.SKP]},\u0275\u0275text:aP,\u0275\u0275textInterpolate:e_,\u0275\u0275textInterpolate1:Lp,\u0275\u0275textInterpolate2:xp,\u0275\u0275textInterpolate3:function t_(s,p,m,b,T,M,w){const R=(0,c.OAn)(),B=Rp(R,s,p,m,b,T,M,w);return B!==Ei&&Ns(R,(0,c._px)(),B),t_},\u0275\u0275textInterpolate4:i_,\u0275\u0275textInterpolate5:function uP(s,p,m,b,T,M,w,R,B,G,Q){const oe=(0,c.OAn)(),be=P0(oe,s,p,m,b,T,M,w,R,B,G,Q);return be!==Ei&&Ns(oe,(0,c._px)(),be),uP},\u0275\u0275textInterpolate6:function dP(s,p,m,b,T,M,w,R,B,G,Q,oe,be){const Pe=(0,c.OAn)(),we=Ba(Pe,s,p,m,b,T,M,w,R,B,G,Q,oe,be);return we!==Ei&&Ns(Pe,(0,c._px)(),we),dP},\u0275\u0275textInterpolate7:function pP(s,p,m,b,T,M,w,R,B,G,Q,oe,be,Pe,we){const Xe=(0,c.OAn)(),gt=lP(Xe,s,p,m,b,T,M,w,R,B,G,Q,oe,be,Pe,we);return gt!==Ei&&Ns(Xe,(0,c._px)(),gt),pP},\u0275\u0275textInterpolate8:function hP(s,p,m,b,T,M,w,R,B,G,Q,oe,be,Pe,we,Xe,gt){const St=(0,c.OAn)(),tt=cP(St,s,p,m,b,T,M,w,R,B,G,Q,oe,be,Pe,we,Xe,gt);return tt!==Ei&&Ns(St,(0,c._px)(),tt),hP},\u0275\u0275textInterpolateV:function gP(s){const p=(0,c.OAn)(),m=qm(p,s);return m!==Ei&&Ns(p,(0,c._px)(),m),gP},\u0275\u0275i18n:function UM(s,p,m){$l(s,p,m),Ob()},\u0275\u0275i18nAttributes:function gu(s,p){const m=(0,c.klJ)(),b=(0,c.db4)(m.consts,p);!function Tp(s,p,m){const T=(0,c.Mx4)().index,M=[];if(s.firstCreatePass&&null===s.data[p]){for(let w=0;w<m.length;w+=2){const R=m[w],B=m[w+1];if(""!==B){if(UT.test(B))throw new Error(`ICU expressions are not supported in attributes. Message: "${B}".`);pu(M,B,T,R,Nm(M),null)}}s.data[p]=M}}(m,s+c.Yw1,b)},\u0275\u0275i18nExp:function Ib(s){return function IM(s){s&&(wr|=1<<Math.min(cu,31)),cu++}(Ni((0,c.OAn)(),(0,c.xbp)(),s)),Ib},\u0275\u0275i18nStart:$l,\u0275\u0275i18nEnd:Ob,\u0275\u0275i18nApply:function t0(s){!function BT(s,p,m){if(cu>0){const b=s.data[m];yo(s,p,Array.isArray(b)?b:b.update,(0,c.c$7)()-cu-1,wr)}wr=0,cu=0}((0,c.klJ)(),(0,c.OAn)(),s+c.Yw1)},\u0275\u0275i18nPostprocess:function n0(s,p={}){return function e0(s,p={}){let m=s;if(zT.test(s)){const b={},T=[0];m=m.replace(YT,(M,w,R)=>{const B=w||R,G=b[B]||[];if(G.length||(B.split("|").forEach(Xe=>{const gt=Xe.match(ZT),St=gt?parseInt(gt[1],10):0,tt=qT.test(Xe);G.push([St,tt,Xe])}),b[B]=G),!G.length)throw new Error(`i18n postprocess: unmatched placeholder - ${B}`);const Q=T[T.length-1];let oe=0;for(let Xe=0;Xe<G.length;Xe++)if(G[Xe][0]===Q){oe=Xe;break}const[be,Pe,we]=G[oe];return Pe?T.pop():Q!==be&&T.push(be),G.splice(oe,1),we})}return Object.keys(p).length&&(m=m.replace(XT,(b,T,M,w,R,B)=>p.hasOwnProperty(M)?`${T}${p[M]}${B}`:b),m=m.replace(JT,(b,T)=>p.hasOwnProperty(T)?p[T]:b),m=m.replace(QT,(b,T)=>{if(p.hasOwnProperty(T)){const M=p[T];if(!M.length)throw new Error(`i18n postprocess: unmatched ICU - ${b} with key: ${T}`);return M.shift()}return b})),m}(s,p)},\u0275\u0275resolveWindow:G_,\u0275\u0275resolveDocument:H_,\u0275\u0275resolveBody:function j_(s){return s.ownerDocument.body},\u0275\u0275setComponentScope:function I0(s,p,m){const b=s.\u0275cmp;b.directiveDefs=Wd(p,Kv),b.pipeDefs=Wd(m,c.oyA)},\u0275\u0275setNgModuleScope:function R0(s,p){return t(()=>{const m=(0,c.WbQ)(s);m.declarations=gs(p.declarations||c.Mlv),m.imports=gs(p.imports||c.Mlv),m.exports=gs(p.exports||c.Mlv),p.bootstrap&&(m.bootstrap=gs(p.bootstrap)),Bc.registerNgModule(s,p)})},\u0275\u0275registerNgModuleType:Fv,\u0275\u0275getComponentDepsFactory:function G0(s,p){return()=>{try{return Bc.getComponentDependencies(s,p).dependencies}catch(m){throw console.error(`Computing dependencies in local compilation mode for the component "${s.name}" failed with the exception:`,m),m}}},\u0275setClassDebugInfo:function H0(s,p){const m=(0,c.xUg)(s);null!==m&&(m.debugInfo=p)},\u0275\u0275declareLet:function _P(s){Pn("NgLet");const p=(0,c.klJ)(),m=(0,c.OAn)(),b=s+c.Yw1,T=so(p,b,128,null,null);return(0,c.iMd)(T,!1),(0,c.M_e)(p,m,b,mP),_P},\u0275\u0275storeLet:function A0(s){const p=(0,c.klJ)(),m=(0,c.OAn)(),b=(0,c._px)();return(0,c.M_e)(p,m,b,s),s},\u0275\u0275readContextLet:function E0(s){const p=(0,c.VPL)(),m=(0,c.Hh6)(p,c.Yw1+s);if(m===mP)throw new c.buA(314,!1);return m},\u0275\u0275attachSourceLocations:function S0(s,p){const m=(0,c.klJ)(),b=(0,c.OAn)(),T=b[c.GpT],M="data-ng-source-location";for(const[w,R,B,G]of p){(0,c.XRZ)(m,w+c.Yw1);const oe=(0,c.vaC)(w+c.Yw1,b);oe.hasAttribute(M)||T.setAttribute(oe,M,`${s}@o:${R},l:${B},c:${G}`)}},\u0275\u0275interpolate:function T0(s){return Ni((0,c.OAn)(),(0,c.xbp)(),s)?(0,c.eFE)(s):Ei},\u0275\u0275interpolate1:function Ao(s,p,m=""){return vu((0,c.OAn)(),s,p,m)},\u0275\u0275interpolate2:function D0(s,p,m,b,T=""){return Zm((0,c.OAn)(),s,p,m,b,T)},\u0275\u0275interpolate3:function $M(s,p,m,b,T,M,w=""){return Rp((0,c.OAn)(),s,p,m,b,T,M,w)},\u0275\u0275interpolate4:function ar(s,p,m,b,T,M,w,R,B=""){return oP((0,c.OAn)(),s,p,m,b,T,M,w,R,B)},\u0275\u0275interpolate5:function fP(s,p,m,b,T,M,w,R,B,G,Q=""){return P0((0,c.OAn)(),s,p,m,b,T,M,w,R,B,G,Q)},\u0275\u0275interpolate6:function M0(s,p,m,b,T,M,w,R,B,G,Q,oe,be=""){return Ba((0,c.OAn)(),s,p,m,b,T,M,w,R,B,G,Q,oe,be)},\u0275\u0275interpolate7:function C0(s,p,m,b,T,M,w,R,B,G,Q,oe,be,Pe,we=""){return lP((0,c.OAn)(),s,p,m,b,T,M,w,R,B,G,Q,oe,be,Pe,we)},\u0275\u0275interpolate8:function vP(s,p,m,b,T,M,w,R,B,G,Q,oe,be,Pe,we,Xe,gt=""){return cP((0,c.OAn)(),s,p,m,b,T,M,w,R,B,G,Q,oe,be,Pe,we,Xe,gt)},\u0275\u0275interpolateV:function yP(s){return qm((0,c.OAn)(),s)},\u0275\u0275sanitizeHtml:function yh(s){const p=fc();return p?cc(p.sanitize(ja.HTML,s)||""):Vo(s,"HTML")?cc(Oa(s)):function fh(s,p){let m=null;try{Jr=Jr||Yu(s);let b=p?String(p):"";m=Jr.getInertBodyElement(b);let T=5,M=b;do{if(0===T)throw new Error("Failed to sanitize html because the input is unstable");T--,b=M,M=m.innerHTML,m=Jr.getInertBodyElement(b)}while(b!==M);return Ts((new hc).sanitizeChildren(_c(m)||m))}finally{if(m){const b=_c(m)||m;for(;b.firstChild;)b.firstChild.remove()}}}(va(),(0,c.eFE)(s))},\u0275\u0275sanitizeStyle:function dA(s){const p=fc();return p?p.sanitize(ja.STYLE,s)||"":Vo(s,"Style")?Oa(s):(0,c.eFE)(s)},\u0275\u0275sanitizeResourceUrl:$_,\u0275\u0275sanitizeScript:function pA(s){const p=fc();if(p)return Vu(p.sanitize(ja.SCRIPT,s)||"");if(Vo(s,"Script"))return Vu(Oa(s));throw new c.buA(905,!1)},\u0275\u0275validateAttribute:function bA(s,p,m){const b=p.toLowerCase(),T=m.toLowerCase();if(!yA[b]?.has(T))return s;const M=(0,c.CpD)();if(2!==M.type)return s;const w=(0,c.OAn)();throw"iframe"===b&&function uA(s){const p=(0,c.OAn)();s.src="",s.srcdoc=Ts(""),ti(p[c.GpT],s)}((0,c.d31)(M,w)),new c.buA(-910,!1)},\u0275\u0275sanitizeUrl:bh,\u0275\u0275sanitizeUrlOrResourceUrl:function vA(s,p,m){return function fA(s,p){return"src"===p&&mA.has(s)||"href"===p&&_A.has(s)||"xlink:href"===p&&"script"===s?$_:bh}(p,m)(s)},\u0275\u0275trustConstantHtml:function hA(s){return Ts(s[0])},\u0275\u0275trustConstantResourceUrl:function gA(s){return function Ho(s){return On()?.createScriptURL(s)||s}(s[0])},forwardRef:c.Rfq,resolveForwardRef:c.nl4,\u0275\u0275twoWayProperty:n_,\u0275\u0275twoWayBindingSet:a_,\u0275\u0275twoWayListener:yu,\u0275\u0275replaceMetadata:function V0(s,p,m,b,T=null,M=null){const w=(0,c.xUg)(s);p.apply(null,[s,m,...b]);const{newDef:R,oldDef:B}=function z0(s,p){const m={...s};return{newDef:Object.assign(s,p,{directiveDefs:m.directiveDefs,pipeDefs:m.pipeDefs,setInput:m.setInput,type:m.type}),oldDef:m}}(w,(0,c.xUg)(s));if(s[c.CQl]=R,B.tView){const G=function me(){return fn}().values();for(const Q of G)(0,c.EFk)(Q)&&null===Q[c.f7T]&&Wp(T,M,R,B,Q)}},\u0275\u0275getReplaceMetadataURL:function j0(s,p,m){const b=`./@ng/component?c=${s}&t=${encodeURIComponent(p)}`;return new URL(b,m).href}};let jl=null;function q0(s){null!==jl&&(s.defaultEncapsulation!==jl.defaultEncapsulation||s.preserveWhitespaces!==jl.preserveWhitespaces)||(jl=s)}const Kp=[];function WP(s){return sg(s)?s.ngModule:s}const uD=r("NgModule",s=>s,void 0,0,(s,p)=>function eD(s,p={}){(function tD(s,p){const b=(0,c.Bqz)(p.declarations||c.Mlv);let T=null;Object.defineProperty(s,c.hmW,{configurable:!0,get:()=>(null===T&&(T=ne().compileNgModule(Ir,`ng:///${s.name}/\u0275mod.js`,{type:s,bootstrap:(0,c.Bqz)(p.bootstrap||c.Mlv).map(c.nl4),declarations:b.map(c.nl4),imports:(0,c.Bqz)(p.imports||c.Mlv).map(c.nl4).map(WP),exports:(0,c.Bqz)(p.exports||c.Mlv).map(c.nl4).map(WP),schemas:p.schemas?(0,c.Bqz)(p.schemas):null,id:p.id||null}),T.schemas||(T.schemas=[])),T)});let M=null;Object.defineProperty(s,c.zSs,{get:()=>{if(null===M){const R=ne();M=R.compileFactory(Ir,`ng:///${s.name}/\u0275fac.js`,{name:s.name,type:s,deps:Kt(s),target:R.FactoryTarget.NgModule,typeArgumentCount:0})}return M},configurable:!1});let w=null;Object.defineProperty(s,c.ONQ,{get:()=>{if(null===w){const R={name:s.name,type:s,providers:p.providers||c.Mlv,imports:[(p.imports||c.Mlv).map(c.nl4),(p.exports||c.Mlv).map(c.nl4)]};w=ne().compileInjector(Ir,`ng:///${s.name}/\u0275inj.js`,R)}return w},configurable:!1})})(s,p),void 0!==p.id&&Fv(s,p.id),function u_(s,p){Kp.push({moduleType:s,ngModule:p})}(s,p)}(s,p)),ZM=new c.nKC("");let dD=(()=>{class s{applicationErrorHandler=(0,c.WQX)(c.ZTf);appRef=(0,c.WQX)(Tl);taskService=(0,c.WQX)(c.rev);ngZone=(0,c.WQX)(c.SKi);zonelessEnabled=(0,c.WQX)(c.Evm);tracing=(0,c.WQX)(Ec,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new v.y;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(c.AbJ):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&((0,c.WQX)(c.AQb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{const m=this.taskService.add();this.runningTick||(this.cleanup(),this.zonelessEnabled&&!this.appRef.includeAllTestViews)?(this.switchToMicrotaskScheduler(),this.taskService.remove(m)):this.taskService.remove(m)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{const m=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(m)})})}notify(m){if(!this.zonelessEnabled&&5===m)return;switch(m){case 0:case 6:case 13:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 12:this.appRef.dirtyFlags|=16;break;case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;const b=this.useMicrotaskScheduler?c.uiq:c.l4E;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>b(()=>this.tick())):this.ngZone.runOutsideAngular(()=>b(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(c.AbJ+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const m=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(b){this.applicationErrorHandler(b)}finally{this.taskService.remove(m),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const m=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(m)}}static \u0275fac=function(b){return new(b||s)};static \u0275prov=(0,c.jDH)({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function JP(){return[{provide:c.hk6,useExisting:dD},{provide:c.SKi,useClass:c.myG},{provide:c.Evm,useValue:!0}]}const QP=new c.nKC("",{factory:()=>(0,c.WQX)(QP,{optional:!0,skipSelf:!0})||function pD(){return typeof $localize<"u"&&$localize.locale||Wl}()}),qP=new c.nKC("",{factory:()=>"USD"})},35776(O,S,i){i.d(S,{A:()=>E});var A=Object.prototype;const E=function c(_){var v=_&&_.constructor;return _===("function"==typeof v&&v.prototype||A)}},35867(O,S,i){i.d(S,{k:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Gecko";tier=1;pack="Puppy";attack=3;health=1;toyPet=!0;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"GeckoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>null!=this.owner.parent.toy,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=2*this.level,f=r.parent.getThis(r).pet;null!=f&&(f.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${f.name} ${d} health.`,type:"ability",player:r.parent,tiger:a}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},36466(O,S,i){i.d(S,{M:()=>_});var A=i(46200),c=i(5615),E=i(44402);class _ extends A.i{logService;abilityService;name="Crane";tier=5;pack="Golden";attack=6;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"CraneAbility",owner:t,triggers:["FriendAheadHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.nearestPetsAhead(1,d);if(0==g.pets.length)return;let f=g.pets[0];f.increaseAttack(5),this.logService.createLog({message:`${d.name} gave ${f.name} 5 attack.`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:g.random});let D=d.parent.nearestPetsAhead(1,d);if(0==D.pets.length)return;let k=D.pets[0];k.givePetEquipment(new E.m),this.logService.createLog({message:`${d.name} gave ${k.name} Melon.`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:D.random}),this.triggerTigerExecution(t)}reset(){super.reset(),this.maxUses=this.level}copy(t){return new v(t,this.logService)}}},36481(O,S,i){i.d(S,{U:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Chimera Snake";tier=1;pack="Custom";hidden=!0;attack=1;health=1;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},36509(O,S,i){i.d(S,{y:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Armadillo";tier=5;pack="Turtle";attack=4;health=8;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"ArmadilloAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getAll(!0,r),g=d.pets;if(0!=g.length){for(let f of g){if(!f.alive)continue;let D=8*this.level;f.increaseHealth(D),this.logService.createLog({message:`${r.name} increased health of ${f.name} by ${D}.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random})}this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},36548(O,S,i){i.d(S,{u:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Fan Mussel";tier=1;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new _(this)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{constructor(e){super({name:"FanMusselAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:t=>{this.executeAbility(t)}})}executeAbility(e){}copy(e){return new _(e)}}},36578(O,S,i){i.d(S,{v:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Camel";tier=3;pack="Turtle";health=3;attack=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"CamelAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.nearestPetsBehind(1,r);if(0===d.pets.length)return;let g=d.pets[0],f=2*this.level;g.increaseAttack(this.level),g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${this.level} attack and ${f} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},37272(O,S,i){i.d(S,{N:()=>_});var A=i(46200),c=i(5615),E=i(44402);class _ extends A.i{logService;abilityService;name="Green Sea Turtle";tier=6;pack="Danger";attack=5;health=6;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"GreenSeaTurtleAbility",owner:t,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:1,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let f=d.parent.getAll(!1,d).pets;for(let D of f)D.givePetEquipment(new E.m,d.level),this.logService.createLog({message:`${d.name} gave ${D.name} Melon.`,type:"ability",player:d.parent,tiger:o});this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},37283(O){O.exports=JSON.parse('[{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give Coconut perk to two first enemies."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"294","Name":"Action Figure","NameId":"RelicActionFigure","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Break: Give the front-most friend +1 attack and +1 health."},{"Level":2,"About":"Break: Give the two front-most friends +1 attack and +1 health."},{"Level":3,"About":"Break: Give the three front-most friends +1 attack and +1 health."}],"Type":1,"ToyType":0,"Id":"479","Name":"Balloon","NameId":"RelicBalloon","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Deal 50 damage to the front-most friend."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"299","Name":"Boot","NameId":"RelicBoot","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: If you rolled less than 6 times this turn, deal the turn number as damage to friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"300","Name":"Bowling Ball","NameId":"RelicBowlingBall","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Lose 3 gold."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"310","Name":"Broken Piggy Bank","NameId":"RelicOpenPiggyBank","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Sell the two front-most friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"302","Name":"Cardboard Box","NameId":"RelicCardboardBox","Tier":1,"TierMax":4,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give +1 experience to friends and +2 experience to enemies."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"794","Name":"Chocolate Box","NameId":"RelicChocolateBox","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Summoned: Replace this with another random toy."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"482","Name":"Crumpled Paper","NameId":"RelicCrumpledPaper","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend +2 mana."},{"Level":2,"About":"Start of battle: Give the front-most friend +4 mana."},{"Level":3,"About":"Start of battle: Give the front-most friend +6 mana."}],"Type":1,"ToyType":0,"Id":"580","Name":"Crystal Ball","NameId":"RelicCrystalBall","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Friend bought: Transform it into ANY random pet from the same tier with new base stats."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"303","Name":"Deck of Cards","NameId":"RelicCardDeck","Tier":1,"TierMax":4,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Roll: Lose 1 gold."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"304","Name":"Dice","NameId":"RelicDice","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Shuffle positions of all friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"286","Name":"Dice Cup","NameId":"RelicDiceCup","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: If you did not buy any tier 1 food this turn, make friends Dazed until next turn."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"485","Name":"Flute","NameId":"RelicFlute","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make the two front-most friends Weak."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"306","Name":"Handkerchief","NameId":"RelicHandkerchief","Tier":1,"TierMax":3,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Empty front space: Remove 20% attack from the back-most friend and move it to the front."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"307","Name":"Kite","NameId":"RelicKite","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Remove 20% attack and 20% health from friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"506","Name":"Lamp","NameId":"RelicLamp","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Feed Apples to random pets for each turn number. Double their power on enemies."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"308","Name":"Lunchbox","NameId":"RelicLunchbox","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the back-most tier 2 or lower friend +1 experience."},{"Level":2,"About":"Start of battle: Give the back-most tier 2 or lower friend +2 experience."},{"Level":3,"About":"Start of battle: Give the back-most tier 2 or lower friend +3 experience."}],"Type":1,"ToyType":0,"Id":"581","Name":"Magic Wand","NameId":"RelicMagicWand","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make two random friends Cold."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"590","Name":"Onesie","NameId":"RelicOnesie","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Friend summoned: Knock it out."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"312","Name":"Paper Shredder","NameId":"RelicPaperShredder","Tier":1,"TierMax":5,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make the two front-most friends Inked."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"313","Name":"Pen","NameId":"RelicPen","Tier":1,"TierMax":3,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Knock out the two front-most friends and the front-most enemy."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"284","Name":"Pill Bottle","NameId":"RelicPillBottle","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Push the last enemy up front and give it +100% attack and +100% health."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"314","Name":"Pogo Stick","NameId":"RelicPogoStick","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give enemies +20% attack and +20% health."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"315","Name":"Remote Car","NameId":"RelicRemoteCar","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: If you spent less than 13 gold this turn, remove 20% health from friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"582","Name":"Ring","NameId":"RelicTheOneRing","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Knock out friends from the previous tier."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"316","Name":"Ring Pyramid","NameId":"RelicRingPyramid","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Deal 1 damage to the three front-most friends. Multiply damage with their tiers."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"285","Name":"Rock Bag","NameId":"RelicRockBag","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"All enemies fainted: Summon one 50/1 enemy Duck. Works 1 time per battle."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"318","Name":"Rubber Duck","NameId":"RelicRubberDuck","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Set attack and health of all friends to the turn number."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"795","Name":"Scale","NameId":"RelicScale","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Knock out friends from the current tier."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"486","Name":"Soccer Ball","NameId":"RelicFootball","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give Walnut perk to the friend on the middle space."},{"Level":2,"About":"Start of battle: Give Walnut perk with double effect to the friend on the middle space."},{"Level":3,"About":"Start of battle: Give Walnut perk with triple effect to the friend on the middle space."}],"Type":1,"ToyType":0,"Id":"496","Name":"Stick","NameId":"RelicWoodenStick","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block 2 damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make the two back-most friends Icky."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"792","Name":"Sticky Hand","NameId":"RelicStickyHand","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take double damage, twice.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Three friends faint: Summon one exact enemy copy of the back-most friend."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"324","Name":"Stuffed Bear","NameId":"RelicTeddyBear","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Remove the lowest tier perks from two friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"793","Name":"Vacuum Cleaner","NameId":"RelicHandheldVacuumCleaner","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make one random perk-less enemy Weak."},{"Level":2,"About":"Start of battle: Make two random perk-less enemies Weak."},{"Level":3,"About":"Start of battle: Make three random perk-less enemies Weak."}],"Type":1,"ToyType":0,"Id":"600","Name":"Witch Broom","NameId":"RelicWitchBroom","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend Garlic perk."},{"Level":2,"About":"Start of battle: Give the two front-most friends Garlic perk."},{"Level":3,"About":"Start of battle: Give the three front-most friends Garlic perk."}],"Type":1,"ToyType":0,"Id":"509","Name":"Garlic Press","NameId":"RelicGarlicPress","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Takes 2 less damage.","CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 attack."},{"Level":2,"About":"Friend summoned: Give it +2 attack."},{"Level":3,"About":"Friend summoned: Give it +3 attack."}],"Type":1,"ToyType":0,"Id":"598","Name":"Magic Carpet","NameId":"RelicMagicCarpet","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Friendly level-up: Give it +1 attack and +1 health."},{"Level":2,"About":"Friendly level-up: Give it +2 attack and +2 health."},{"Level":3,"About":"Friendly level-up: Give it +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"575","Name":"Magic Lamp","NameId":"RelicMagicLamp","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give Popcorn perk to the front-most perkless friend."},{"Level":2,"About":"Start of battle: Give Popcorn perk to the two front-most perkless friends."},{"Level":3,"About":"Start of battle: Give Popcorn perk to the three front-most perkless friends."}],"Type":1,"ToyType":0,"Id":"699","Name":"Microwave Oven","NameId":"RelicMicrowaver","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Faint: Summon one random pet from the same tier.","CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give Eucalyptus perk to the front-most friend."},{"Level":2,"About":"Start of battle: Give Eucalyptus perk to the two front-most friends."},{"Level":3,"About":"Start of battle: Give Eucalyptus perk to the three front-most friends."}],"Type":1,"ToyType":0,"Id":"789","Name":"Plastic Saw","NameId":"RelicToySaw","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block 4 enemy damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Break: Give friends +1 health."},{"Level":2,"About":"Break: Give friends +2 health."},{"Level":3,"About":"Break: Give friends +3 health."}],"Type":1,"ToyType":0,"Id":"488","Name":"Radio","NameId":"RelicRadio","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Deal 3 damage to one random enemy."},{"Level":2,"About":"Start of battle: Deal 3 damage to two random enemies."},{"Level":3,"About":"Start of battle: Deal 3 damage to three random enemies."}],"Type":1,"ToyType":0,"Id":"478","Name":"Tennis Ball","NameId":"RelicTennisBall","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Three friends bought: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Three friends bought: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Three friends bought: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"574","Name":"Candelabra","NameId":"RelicCandelabra","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Deal 5 damage to the lowest health enemy."},{"Level":2,"About":"Start of battle: Deal 5 damage to the lowest health enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 5 damage to the lowest health enemy. Triggers 3 times."}],"Type":1,"ToyType":0,"Id":"507","Name":"Foam Sword","NameId":"RelicFoamSword","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Three friends faint: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Three friends faint: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Three friends faint: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"586","Name":"Glass Shoes","NameId":"RelicGlassShoes","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Spend 14 gold: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Spend 14 gold: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Spend 14 gold: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"589","Name":"Golden Harp","NameId":"RelicGoldenHarp","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Three food bought: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Three food bought: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Three food bought: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"595","Name":"Lock of Hair","NameId":"RelicLockofHair","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Two friends transformed: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Two friends transformed: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Two friends transformed: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"578","Name":"Magic Mirror","NameId":"RelicMagicMirror","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Break: Give the front-most friend Melon perk."},{"Level":2,"About":"Break: Give the two front-most friends Melon perk."},{"Level":3,"About":"Break: Give the three front-most friends Melon perk."}],"Type":1,"ToyType":0,"Id":"510","Name":"Melon Helmet","NameId":"RelicMelonHelmet","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Roll 7 times: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Roll 7 times: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Roll 7 times: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"599","Name":"Pickaxe","NameId":"RelicPickaxe","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Friend jumped: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Friend jumped: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Friend jumped: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"576","Name":"Red Cape","NameId":"RelicRedCape","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Two friendly level-up: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Two friendly level-up: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Two friendly level-up: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"579","Name":"Rosebud","NameId":"RelicRosebud","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Transform front-most friend into another random pet from 2 tiers below."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"319","Name":"Scissors","NameId":"RelicScissors","Tier":3,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Deal 5 damage to the last enemy."},{"Level":2,"About":"Start of battle: Deal 5 damage to the last enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 5 damage to the last enemy. Triggers 3 times."}],"Type":1,"ToyType":0,"Id":"493","Name":"Toy Gun","NameId":"RelicToyGun","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Transform all friends to level 1."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"327","Name":"Toy Mouse","NameId":"RelicToyMouse","Tier":3,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Break: Stock one free pet from tier 2 as a 4/4 level 3."},{"Level":2,"About":"Break: Stock one free pet from tier 4 as a 8/8 level 3."},{"Level":3,"About":"Break: Stock one free pet from tier 6 as a 12/12 level 3."}],"Type":1,"ToyType":0,"Id":"591","Name":"Treasure Chest","NameId":"RelicTreasureChest","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Break: Summon a level 1 Treasure Chest."},{"Level":2,"About":"Break: Summon a level 2 Treasure Chest."},{"Level":3,"About":"Break: Summon a level 3 Treasure Chest."}],"Type":1,"ToyType":0,"Id":"594","Name":"Treasure Map","NameId":"RelicTreasureMap","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"End turn: Gain one free roll next turn."},{"Level":2,"About":"End turn: Gain two free rolls next turn."},{"Level":3,"About":"End turn: Gain three free rolls next turn."}],"Type":1,"ToyType":0,"Id":"597","Name":"Winged Sandals","NameId":"RelicWingedSandals","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Break: Summon one 6/6 friend that sells for 3 gold."},{"Level":2,"About":"Break: Summon one 12/12 friend that sells for 6 gold."},{"Level":3,"About":"Break: Summon one 18/18 friend that sells for 9 gold."}],"Type":1,"ToyType":0,"Id":"492","Name":"Cash Register","NameId":"RelicToyCashRegister","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"All friends fainted: Summon one 6/6 Salmon of Knowledge in battle once."},{"Level":2,"About":"All friends fainted: Summon one 12/12 Salmon of Knowledge in battle once."},{"Level":3,"About":"All friends fainted: Summon one 18/18 Salmon of Knowledge in battle once."}],"Type":1,"ToyType":0,"Id":"584","Name":"Nutcracker","NameId":"RelicNutcracker","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Give the middle friendly pet +6 mana."},{"Level":2,"About":"Start of battle: Give the middle friendly pet +12 mana."},{"Level":3,"About":"Start of battle: Give the middle friendly pet +18 mana."}],"Type":1,"ToyType":0,"Id":"587","Name":"Ocarina","NameId":"RelicOcarina","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Break: Stock one free Chicken Leg."},{"Level":2,"About":"Break: Stock two free Chicken Legs."},{"Level":3,"About":"Break: Stock three free Chicken Legs."}],"Type":1,"ToyType":0,"Id":"311","Name":"Oven Mitts","NameId":"RelicOvenMitts","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Give one random Tand & Tand +6 attack and +6 health."},{"Level":2,"About":"Start of battle: Give one random Tand & Tand +12 attack and +12 health."},{"Level":3,"About":"Start of battle: Give one random Tand & Tand +18 attack and +18 health."}],"Type":1,"ToyType":0,"Id":"585","Name":"Thunder Hammer","NameId":"RelicThunderHammer","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Empty front space: Summon one 6/6 Giant Eyes Dog up front in battle once."},{"Level":2,"About":"Empty front space: Summon one 12/12 Giant Eyes Dog up front in battle once."},{"Level":3,"About":"Empty front space: Summon one 18/18 Giant Eyes Dog up front in battle once."}],"Type":1,"ToyType":0,"Id":"588","Name":"Tinder Box","NameId":"RelicTinderBox","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Make the first enemy Weak."},{"Level":2,"About":"Start of battle: Make the first two enemies Weak."},{"Level":3,"About":"Start of battle: Make the first three enemies Weak."}],"Type":1,"ToyType":0,"Id":"326","Name":"Toilet Paper","NameId":"RelicToiletPaper","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Start of battle: Remove 30% attack from the highest attack enemy."},{"Level":2,"About":"Start of battle: Remove 30% attack from the two highest attack enemies."},{"Level":3,"About":"Start of battle: Remove 30% attack from the three highest attack enemies."}],"Type":1,"ToyType":0,"Id":"503","Name":"Camera","NameId":"RelicCamera","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Empty front space: Summon one 6/6 Great One in battle that deals 5 damage to ALL other pets."},{"Level":2,"About":"Empty front space: Summon one 12/12 Great One in battle that deals 10 damage to ALL other pets."},{"Level":3,"About":"Empty front space: Summon one 18/18 Great One in battle that deals 15 damage to ALL other pets."}],"Type":1,"ToyType":0,"Id":"645","Name":"Evil Book","NameId":"RelicEvilBook","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Break: Give front-most friend +5 attack and +5 health."},{"Level":2,"About":"Break: Give front-most friend +10 attack and +10 health."},{"Level":3,"About":"Break: Give front-most friend +15 attack and +15 health."}],"Type":1,"ToyType":0,"Id":"484","Name":"Flashlight","NameId":"RelicFlashlight","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Start of battle: Give ALL pets random perks and ailments."},{"Level":2,"About":"Start of battle: Give ALL pets random perks and ailments with double effects."},{"Level":3,"About":"Start of battle: Give ALL pets random perks and ailments with triple effects."}],"Type":1,"ToyType":0,"Id":"593","Name":"Pandoras Box","NameId":"RelicPandorasBox","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Start of battle: Remove 40% health from the highest health enemy."},{"Level":2,"About":"Start of battle: Remove 40% health from the two highest health enemies."},{"Level":3,"About":"Start of battle: Remove 40% health from the three highest health enemies."}],"Type":1,"ToyType":0,"Id":"513","Name":"Stinky Sock","NameId":"RelicStinkySock","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Start of battle: Give Coconut perk to the highest attack friend."},{"Level":2,"About":"Start of battle: Give Coconut perk to the two highest attack friends."},{"Level":3,"About":"Start of battle: Give Coconut perk to the three highest attack friends."}],"Type":1,"ToyType":0,"Id":"511","Name":"Air Palm Tree","NameId":"RelicPalmTree","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"End turn: Give the back-most friend +1 attack and +1 health."},{"Level":2,"About":"End turn: Give the back-most friend +2 attack and +2 health."},{"Level":3,"About":"End turn: Give the back-most friend +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"583","Name":"Excalibur","NameId":"RelicExcalibur","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Break: Stock one free Holy Water."},{"Level":2,"About":"Break: Stock two free Holy Waters."},{"Level":3,"About":"Break: Stock three free Holy Waters."}],"Type":1,"ToyType":0,"Id":"592","Name":"Holy Grail","NameId":"RelicHolyGrail","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Start of battle: Give Peanut Butter perk to the lowest attack friend."},{"Level":2,"About":"Start of battle: Give Peanut Butter perk to the two lowest attack friends."},{"Level":3,"About":"Start of battle: Give Peanut Butter perk to the three lowest attack friends."}],"Type":1,"ToyType":0,"Id":"512","Name":"Peanut Jar","NameId":"RelicPeanutJar","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this, once.","CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Break: Give friends +2 attack and +2 health."},{"Level":2,"About":"Break: Give friends +4 attack and +4 health."},{"Level":3,"About":"Break: Give friends +6 attack and +6 health."}],"Type":1,"ToyType":0,"Id":"491","Name":"Television","NameId":"RelicTelevision","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]}]')},37302(O,S,i){i.d(S,{A:()=>n});var A=i(73180),c=i(14173),E=i(77437),_=i(90340),v=i(18960),e=i(73632);function t(a){var o=this.__data__=new A.A(a);this.size=o.size}t.prototype.clear=c.A,t.prototype.delete=E.A,t.prototype.get=_.A,t.prototype.has=v.A,t.prototype.set=e.A;const n=t},37429(O,S,i){i.d(S,{P:()=>_});var A=i(46200),c=i(5615),E=i(1152);class _ extends A.i{logService;abilityService;name="Mosasaurus";tier=5;pack="Puppy";attack=5;health=6;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"MosasaurusAbility",owner:t,triggers:["FriendlyToyBroke"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,a=(0,E.MZ)(n);if(0===a.length)return void this.triggerTigerExecution(t);const o=2*this.level,r=3*this.level;for(const d of a)d.increaseAttack(o),d.increaseHealth(r),this.logService.createLog({message:`${n.name} gave ${d.name} +${o}/+${r}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon});this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},37545(O,S,i){i.d(S,{O:()=>E,s:()=>_});var A=i(50873),c=i(5615);class E extends A.L{name="Balloon";tier=1;onBreak(e,t){let n=this.parent.getFurthestUpPets(this.level,[]);if(0!=n.pets.length)for(let o of n.pets)o.increaseAttack(1),o.increaseHealth(1),this.logService.createLog({message:`${this.name} gave ${o.name} 1 attack and 1 health.`,type:"ability",player:this.parent,puma:t})}}class _ extends c.T{logService;constructor(e,t){super({name:"BalloonAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,o=this.owner;let r=o.parent.getFurthestUpPets(this.level,[],o),d=r.pets;if(0!=d.length){for(let f of d)f.increaseAttack(1),f.increaseHealth(1),this.logService.createLog({message:`${o.name} gave ${f.name} 1 attack and 1 health.`,type:"ability",player:o.parent,tiger:a,randomEvent:r.random});this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},37584(O,S,i){i.d(S,{r:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Amargasaurus";tier=5;pack="Star";attack=5;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;healthRestoredThisTurn=0;reset(){this.healthRestoredThisTurn=0,super.reset()}constructor(e,t){super({name:"AmargasaurusAbility",owner:e,triggers:["FriendHurt","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return void(this.healthRestoredThisTurn=0);const{triggerPet:a,tiger:o,pteranodon:r}=e;let d;if(!a||(a.transformed?(d=a.transformedInto,d.originalHealth=a.originalHealth):d=a,!d||!d.alive)||d===t)return;const g=15*this.level,f=d.originalHealth-d.health;if(f<=0||this.healthRestoredThisTurn>=g)return;const k=Math.min(f,g-this.healthRestoredThisTurn);if(k>0){let F=t.parent.getSpecificPet(t,d).pet;if(null==F)return;this.logService.createLog({message:`${t.name} restored ${k} health to ${F.name}.`,type:"ability",player:t.parent,tiger:o,pteranodon:r}),F.increaseHealth(k),this.healthRestoredThisTurn+=k}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},37765(O,S,i){i.d(S,{lJ:()=>c});const c=function A(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},37831(O,S,i){i.d(S,{FZ:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;petService;name="Goblin Shark";tier=4;pack="Custom";attack=6;health=3;initAbilities(){this.addAbility(new v(this,this.logService,this.petService)),this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D,k){super(t,n,o),this.logService=t,this.abilityService=n,this.petService=a,this.initPet(f,r,d,g,D,k)}}class _ extends c.T{logService;abilityService;constructor(t,n,a){super({name:"GoblinSharkFaintAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:o=>this.owner.alive,abilityFunction:o=>{this.executeAbility(o)},ignoreRepeats:!0}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;for(;d.swallowedPets.length>0;){let g=d.swallowedPets.shift();g.health=1;let f=d.parent.summonPet(g,d.savedPosition,!1,d);f.success&&this.logService.createLog({message:`${d.name} summoned ${g.name} (level ${g.level}).`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:f.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new _(t,this.logService,this.abilityService)}}class v extends c.T{logService;petService;constructor(t,n,a){super({name:"GoblinSharkStartAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.petService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=6*this.level;for(let f of d.parent.opponent.petArray)if(f.alive&&f.health<=g){let D=this.petService.createPet({name:f.name,attack:f.attack,health:f.health,exp:f.exp,equipment:null,mana:0},d.parent);d.swallowedPets.push(D),f.health=0,this.logService.createLog({message:`${d.name} swallowed ${f.name}`,type:"ability",player:d.parent,tiger:o,pteranodon:r});break}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.petService)}}},37850(O,S,i){i.d(S,{L:()=>E});var A=i(19058),c=i(50873);class E extends c.L{name="Handkerchief";tier=1;startOfBattle(v,e){const t=this.parent.getFurthestUpPets(2);for(const n of t.pets)n.givePetEquipment(new A.l),this.logService.createLog({message:`${this.name} gave ${n.name} Weak.`,type:"ability",player:this.parent,puma:e,randomEvent:t.random})}}},37907(O,S,i){i.d(S,{z:()=>c});var A=i(22097);class c extends A.${name="Sardinian Currant";equipmentClass="shop"}},38022(O,S,i){i.d(S,{n:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Moth";tier=1;pack="Puppy";health=3;attack=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MothAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getFurthestUpPet(r),g=d.pet;if(null==g)return;let f=2*this.level;g.increaseAttack(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} attack.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},38065(O,S,i){i.d(S,{f:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Roc";tier=4;pack="Unicorn";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"RocAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let g=r.parent.nearestPetsAhead(5,r).pets;if(0==g.length)return;let f=r.parent.petArray.filter(D=>D==r||!g.includes(D));for(let D=0;D<3*this.level;D++){let k=r.parent.getRandomPet(f,!0,!1,!1,r);if(null==k.pet)break;this.logService.createLog({message:`${r.name} gave ${k.pet.name} 2 mana.`,type:"ability",player:r.parent,tiger:a,randomEvent:k.random}),k.pet.increaseMana(2)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},38086(O,S,i){i.d(S,{x:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Seahorse";tier=2;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SeahorseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,r=a.parent.opponent.getLastPet();if(null==r.pet)return;const d=r.pet;d.parent.pushPet(d,this.level),this.logService.createLog({message:`${a.name} pushed ${d.name} forward ${this.level} space(s).`,type:"ability",player:a.parent,tiger:t,pteranodon:n,randomEvent:r.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},38129(O,S,i){i.d(S,{$:()=>c,d:()=>A});const A=["Turtle","Puppy","Star","Golden","Unicorn","Danger","Custom"],c=A.filter(E=>"Custom"!==E)},38130(O,S,i){i.d(S,{A:()=>c});var A=i(50873);class c extends A.L{logService;toyService;petService;name="Rubber Duck";tier=1;constructor(_,v,e,t,n){super(_,v,t,n),this.logService=_,this.toyService=v,this.petService=e}allEnemiesFainted(_,v){if(this.used)return;const e=this.parent.opponent,t=this.petService.createPet({name:"Duck",attack:50,health:1,exp:0,mana:0,equipment:null},e);t.toyPet=!0,e.summonPet(t,0).success&&(this.logService.createLog({message:`${this.name} summoned a 50/1 Duck for the enemy.`,type:"ability",player:this.parent,puma:v}),this.used=!0)}}},38148(O,S,i){i.d(S,{N:()=>E});var A=i(22097),c=i(5615);class E extends A.${logService;name="Golden Egg";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;constructor(e,t){super({name:"GoldenEggAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t}executeAbility(e){const t=this.owner;let n=t.parent.opponent.petArray,a=null;for(let r of n)if(r.alive){a=r;break}if(null==a)return;let o=this.equipment.multiplier;for(let r=0;r<o;r++)t.snipePet(a,6,!1,!1,!1,!0,!1);t.removePerk()}}},38271(O,S,i){i.d(S,{s:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Pillbug";tier=1;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"PillbugAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level;this.logService.createLog({message:`${t.name} stocked ${n} free Sleeping Pill${1===n?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},38350(O,S,i){i.d(S,{Z:()=>_});var A=i(86785),c=i(61850),E=i(44708);class _ extends E.q{petBehind(e=!1,t=!1){if(!this.parent)return null;for(let a=(void 0!==this.position?this.position:this.savedPosition)+1;a<5;a++){let o=this.parent.getPetAtPosition(a);if(t&&null!=o)return o;if(e&&null!=o&&!o.alive&&!o.seenDead)return null;if(null!=o&&o.alive)return o}return null}getManticoreMult(){const e=this.parent;if(!e||!e.petArray)return[];let t=[];for(let n of e.petArray)"Manticore"==n.name&&t.push(n.level);return t}getSparrowLevel(){const e=this.parent;if(!e||!Array.isArray(e.petArray))return 0;let t=0;for(let n of e.petArray)"Sparrow"==n.name&&(t=Math.max(t,n.level));return t}getPetsBehind(e,t){const n=this.getSillyRandomTargets(e,t);if(n.length>0)return n;let a=[],o=this.petBehind();for(t&&o&&o.equipment?.name===t&&(o=o.petBehind());o&&!(a.length>=e);)a.push(o),o=o.petBehind();return a}kitsuneCheck(){let e=this.petBehind(),t=!0;for(;e;){if("Kitsune"==e.name&&t)return!1;if(t=!1,"Kitsune"==e.name)return!0;e=e.petBehind()}return!1}get petAhead(){const e=this.parent;if(!e)return null;for(let n=(void 0!==this.position?this.position:this.savedPosition)-1;n>-1;n--){let a=e.getPetAtPosition(n);if(null!=a&&a.alive)return a}return null}get minExpForLevel(){return(0,A.T)(this.level)}getSillyRandomTargets(e,t){if(!this.parent?.opponent)return[];const n=this.equipment;if(!("string"==typeof n&&"Silly"===n||n&&"string"==typeof n.name&&"Silly"===n.name))return[];const r=[],d=[...[...this.parent.petArray,...this.parent.opponent.petArray].filter(g=>!(!g.alive||g===this.asPet()||t&&g.equipment?.name===t))];for(;r.length<e&&d.length>0;){const g=(0,c.hw)(0,d.length-1);r.push(d.splice(g,1)[0])}return r}}},38354(O,S,i){i.d(S,{n:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Warthog";tier=6;pack="Golden";attack=9;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"WarthogAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=this.level,g=Math.floor(r.attack/3);for(let f=0;f<g;f++){let D=r.parent.getRandomPet([],!0,!1,!0,r);if(null==D.pet)break;D.pet.increaseAttack(d),D.pet.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${D.pet.name} ${d} attack and ${d} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:D.random})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},38736(O,S,i){i.d(S,{A:()=>_});var c=Function.prototype.toString;const _=function E(v){if(null!=v){try{return c.call(v)}catch{}try{return v+""}catch{}}return""}},38762(O,S,i){function A(v,e){if(!v||!e||v.player!==e.player||v.type!==e.type||v.randomEvent!==e.randomEvent||v.randomEventReason!==e.randomEventReason||v.sourcePet!==e.sourcePet||v.sourceIndex!==e.sourceIndex||v.targetPet!==e.targetPet||v.targetIndex!==e.targetIndex||v.tiger!==e.tiger||v.puma!==e.puma||v.pteranodon!==e.pteranodon)return null;if((v.pantherMultiplier??null)!==(e.pantherMultiplier??null))return null;const a=_(v.rawMessage??v.message??""),o=_(e.rawMessage??e.message??"");return!a||!o||a.includes(" attack and ")||a.includes(" health and ")||o.includes(" attack and ")||o.includes(" health and ")?null:c(a,o)??c(o,a)}function c(v,e){const t=E(v,"lost","attack"),n=E(e,"lost","health");if(t&&n&&t.prefix===n.prefix&&t.suffix===n.suffix)return`${t.prefix}${t.value} attack and ${n.value} health${t.suffix}`;const a=E(v,"gave","attack"),o=E(e,"gave","health");return a&&o&&a.prefix===o.prefix&&a.suffix===o.suffix?`${a.prefix}${a.plus}${a.value} attack and ${o.plus}${o.value} health${a.suffix}`:null}function E(v,e,t){if("lost"===e){const o=new RegExp(`^(.*\\blost\\s+)(\\d+)\\s+${t}\\b(.*)$`,"i"),r=v.match(o);return r?{prefix:r[1],plus:"",value:r[2],suffix:r[3]}:null}const n=new RegExp(`^(.*\\b(?:gave|give|gives)\\b.*?\\s+)(\\+?)(\\d+)\\s+${t}\\b(.*)$`,"i"),a=v.match(n);return a?{prefix:a[1],plus:a[2]??"",value:a[3],suffix:a[4]}:null}function _(v){return v.replace(/<[^>]+>/g,"").trim()}i.d(S,{c:()=>A})},38818(O,S,i){i.d(S,{A:()=>_});var A=i(77107);const _=function E(v,e){var t=this.__data__;return this.size+=this.has(v)?0:1,t[v]=A.A&&void 0===e?"__lodash_hash_undefined__":e,this}},38866(O,S,i){i.d(S,{v:()=>e});var A=i(46200),c=i(5615),E=i(33127),_=i(43681),v=i(56990);class e extends A.i{logService;abilityService;name="Tapir";tier=6;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new t(this,this.logService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{logService;constructor(a,o){super({name:"TapirAbility",owner:a,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=o}executeAbility(a){const o=this.owner,{tiger:r,pteranodon:d}=a,f=o.parent.getLastPet(void 0,o).pet;if(!f)return void this.triggerTigerExecution(a);const D=Math.min(3,Math.max(1,this.level)),k=10*D,L=1===D?0:2===D?2:5,F=E.I.getInjector().get(_.h),J=E.I.getInjector().get(v.T),ne=F.createPet(f,J,k,k,L);if(!ne)return void this.triggerTigerExecution(a);const H=o.parent.summonPet(ne,o.savedPosition,!1,o);H.success&&this.logService.createLog({message:`${o.name} summoned a ${k}/${k} copy of ${f.name}.`,type:"ability",player:o.parent,tiger:r,pteranodon:d,randomEvent:H.randomEvent}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService)}}},38950(O,S,i){i.d(S,{w:()=>c});const A=[{name:"FairyAbility",label:"FairyBall",perLevel:2},{name:"NurikabeAbility",label:"Nurikabe",perLevel:4,incrementUses:!0},{name:"FanMusselAbility",label:"Fan Mussel",perLevel:1,incrementUses:!0},{name:"GhostKittenAbility",label:"Ghost Kitten",perLevel:3}];class c{static applyDamage(_){const{pet:v,baseDamage:e,perkName:t,manticoreMultipliers:n,logService:a,afterDamage:o}=_,r=v.equipment;if(!r)return;let d=r.multiplier;for(let L of n)d+=L;const f=this.applyAbilityReductions(v,e*d),D=f.damage,k=this.buildLogMessage({pet:v,finalDamage:D,equipment:r,perkName:t,reductions:f.reductions,manticoreMultipliers:n});a.createLog({message:k,type:"ability",player:v.parent}),v.dealDamage(v,D),o&&o(v)}static applyAbilityReductions(_,v){let e=v;const t=[];for(const n of A){if(e<=0)break;if(!_.hasTrigger(void 0,"Pet",n.name))continue;let a=0;for(const o of _.abilityList){if(o.name!==n.name)continue;const r=o.level*n.perLevel;0!==r&&(a+=r,e=Math.max(0,e-r),n.incrementUses&&o.currentUses++)}a>0&&t.push({label:n.label,amount:a})}return{damage:e,reductions:t}}static buildLogMessage(_){let v=`${_.pet.name} took ${_.finalDamage} damage`;if(_.manticoreMultipliers.length>0)for(const e of _.manticoreMultipliers)v+=` x${e+1} (Manticore)`;_.equipment.multiplier>1&&(v+=_.equipment.multiplierMessage);for(const e of _.reductions)v+=` -${e.amount} (${e.label})`;return v+=` (${_.perkName}).`,v}}},38992(O,S,i){i.d(S,{A:()=>c});const c=function A(E,_){return function(v){return E(_(v))}}},39112(O,S,i){i.d(S,{u:()=>_});var A=i(70762),c=i(40091),E=i(20178);function _(v,e,t){if(v){if(v instanceof A.v)return v;if(v[c.D])return v[c.D]()}return v||e||t?new A.v(v,e,t):new A.v(E.I)}},39156(O,S,i){i.d(S,{E:()=>E});var A=i(65419),c=i(12768);class E extends A.n{breakToy(v=!1){(0,c.Y)(this,v,this.logService,this.abilityService,this.gameService)}setToy(v){(0,c.P)(this,v)}}},39195(O,S,i){i.d(S,{v:()=>_});var A=i(46200),c=i(5615),E=i(607);class _ extends A.i{logService;abilityService;name="Boitata";tier=5;pack="Custom";attack=2;health=12;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;reset(){this.maxUses=2*this.level,super.reset()}initUses(){this.maxUses=2*this.level,super.initUses()}constructor(t,n,a){super({name:"BoitataAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2*t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.getPetsWithEquipmentWithSillyFallback("Crisp",d),f=d.parent.opponent.getFurthestUpPet(d,g),D=f.pet;null!=D&&(this.logService.createLog({message:`${d.name} gave ${D.name} Crisp.`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:f.random}),D.givePetEquipment(new E.Y),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService,this.abilityService)}}},39371(O,S,i){i.d(S,{t:()=>c});var A=i(22097);class c extends A.${name="Grapes";equipmentClass="shop"}},39486(O,S,i){i.d(S,{i:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Blue Whale";tier=6;pack="Danger";health=12;attack=12;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"BlueWhaleAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=2*this.level;this.logService.createLog({message:`${t.name} sold friends for +2 extra gold each and gave future shop pets +${n} attack and +${n} health.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},39748(O,S,i){i.d(S,{A:()=>E});const E=i(1860).A["__core-js_shared__"]},39830(O,S,i){i.d(S,{U:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Leopard";tier=6;pack="Turtle";attack=10;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"LeopardAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=Math.floor(.5*r.attack),g=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,null,null,!0,r);for(let f of g.pets)null!=f&&r.snipePet(f,d,g.random,a);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},40091(O,S,i){i.d(S,{D:()=>A});const A="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},40110(O,S,i){i.d(S,{o:()=>E});var A=i(22097),c=i(5615);class E extends A.${logService;name="Squash";tier=3;equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"SquashAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,condition:()=>{const a=this.owner.parent.opponent.pet0;return!!a&&a.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;for(let n=0;n<this.equipment.multiplier;n++){let a=t.parent.opponent.pet0;if(null==a||!a.alive)return;let o=6,r=Math.max(1,a.health-o);a.health=r,this.logService.createLog({message:`${this.equipment.name} reduced ${a.name} health by ${o} to ${r}${n>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent})}t.removePerk()}}},40212(O,S,i){i.d(S,{_:()=>_});var A=i(46200),c=i(5615),E=i(63683);class _ extends A.i{logService;abilityService;name="Hirola";tier=3;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"HirolaAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;for(let g=0;g<this.level;g++){let f=new E.A(this.logService,this.abilityService,d.parent,3,4,d.mana,d.exp),D=d.parent.summonPet(f,d.savedPosition,!1,d);D.success&&this.logService.createLog({message:`${d.name} summoned a 4/3 ${f.name}.`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:D.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},40328(O,S,i){i.d(S,{r:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Silver Fox";tier=5;pack="Custom";attack=3;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Silver Fox Ability",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,n=this.level,a=t.parent;a.gold=(a.gold??0)+n,this.logService.createLog({message:`${t.name} gave ${n} gold to the owner.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},40358(O,S,i){i.d(S,{j:()=>_,z:()=>v});var A=i(57488),c=i(50873),E=i(5615);class _ extends c.L{name="Toy Gun";tier=3;startOfBattle(t,n){let a=(0,A.a)(t,this.parent);for(let o=0;o<this.level;o++){let r=a.getLastPet();if(null==r.pet)return;this.toyService.snipePet(r.pet,5,this.parent,this.name,!1,n)}}}class v extends E.T{logService;constructor(t,n){super({name:"ToyGunAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.opponent;for(let f=0;f<this.level;f++){let D=g.getLastPet();if(null==D.pet)return;d.snipePet(D.pet,5,D.random,o)}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},40468(O,S,i){i.d(S,{F:()=>_});var A=i(46200),c=i(5615),E=i(56692);class _ extends A.i{logService;abilityService;name="Aye-aye";tier=5;pack="Danger";attack=3;health=5;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"AyeAyeAbility",owner:t,triggers:["EnemyAttacked7"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o}=t,d=this.owner;for(let D=0;D<2;D++){let k=3,L=3,F=new E.S(this.logService,this.abilityService,d.parent,L,k,0,0),J=d.parent.summonPet(F,d.savedPosition,!1,d);J.success&&this.logService.createLog({message:`${d.name} summoned a ${k}/${L} ${F.name}.`,type:"ability",player:d.parent,tiger:o,randomEvent:J.randomEvent})}let g=3*this.level,f=d.parent.getAll(!1,d,!0);for(let D of f.pets)D.increaseAttack(g),D.increaseHealth(g),this.logService.createLog({message:`${d.name} gave ${D.name} +${g} attack and +${g} health.`,type:"ability",player:d.parent,tiger:o,randomEvent:f.random});this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},40482(O,S,i){i.d(S,{m:()=>e});var A=i(22097),c=i(5615),E=i(58857),_=i(61850),v=i(79222);class e extends A.${logService;petService;gameService;name="Popcorn";equipmentClass="afterFaint";callback=a=>{const o=a.getEquippedEquipmentInstance(this);a.addAbility(new t(a,o,this.logService,this.petService))};constructor(a,o,r){super(),this.logService=a,this.petService=o,this.gameService=r}}class t extends c.T{equipment;logService;petService;constructor(a,o,r,d){super({name:"PopcornAbility",owner:a,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:g=>{this.executeAbility(g)}}),this.equipment=o,this.logService=r,this.petService=d}executeAbility(a){const{gameApi:o}=a,r=this.owner;for(let d=0;d<this.equipment.multiplier;d++){let f=[...(r.parent==o.player?o.playerPetPool:o.opponentPetPool)?.get(r.tier)??[]];if(f.length||(f=[...this.petService.allPets.get(r.tier)??[]]),!f.length)return;const D=(0,E.k6)({key:"equipment.popcorn-summon",label:(0,v.R)(r,"Popcorn","summon",d+1),options:f.map(J=>({id:J,label:J}))},()=>(0,_.hw)(0,f.length-1));if(D.index<0||D.index>=f.length)return;let L=this.petService.createPet({attack:null,equipment:null,exp:0,health:null,name:f[D.index],mana:0},r.parent);r.parent.summonPet(L,r.savedPosition).success&&this.logService.createLog({message:`${r.name} Spawned ${L.name} (Popcorn)${d>0?this.equipment.multiplierMessage:""}`,type:"ability",player:r.parent,randomEvent:D.randomEvent})}}}},40532(O,S,i){i.d(S,{$:()=>c});var A=i(45312);class c{logService;gameService;abilityService;toyService;player;opponent;constructor(_,v,e,t,n,a){this.logService=_,this.gameService=v,this.abilityService=e,this.toyService=t,this.player=n,this.opponent=a}applyPreBattleFriendDeathCounts(){const _=[this.player,this.opponent];for(const v of _)for(const e of v.petArray)e?.friendsDiedBeforeBattle&&this.abilityService.simulatePostRemovalFriendFaintsCounters(e,e.friendsDiedBeforeBattle)}abilityCycle(){this.emptyFrontSpaceCheck();let _=0;const v=1e5;for(;;){for(;this.abilityService.hasGlobalEvents;){const t=this.abilityService.peekNextHighestPriorityEvent();if(t&&this.abilityService.getPriorityNumber(t.abilityType)>=27&&(this.checkPetsAlive(),this.removeDeadPets())){this.resetClearFrontFlags(),this.emptyFrontSpaceCheck();continue}const n=this.abilityService.getNextHighestPriorityEvent();if(!n){console.error("AbilityCycle: Expected event from queue but got null. Queue state inconsistent.");break}if(_++,_>v){const a=this.abilityService.getQueueSnapshot().map(d=>d.abilityType??"unknown"),o=new Map;for(const d of a)o.set(d,(o.get(d)??0)+1);const r=Array.from(o.entries()).sort((d,g)=>g[1]-d[1]).slice(0,10).map(([d,g])=>`${d}:${g}`).join(", ");throw new Error(`Ability cycle overflow: processed>${v}. Last=${n.abilityType??"unknown"}. QueueLen=${a.length}. Top=[${r}]`)}this.abilityService.executeEventCallback(n),this.checkPetsAlive()}if(this.removeDeadPets()&&(this.resetClearFrontFlags(),this.emptyFrontSpaceCheck()),!this.abilityService.hasGlobalEvents){this.player.checkGoldenSpawn(),this.opponent.checkGoldenSpawn();break}}}checkPetsAlive(){this.player.checkPetsAlive(),this.opponent.checkPetsAlive()}removeDeadPets(){let _=!1;return _=this.player.removeDeadPets(),_=this.opponent.removeDeadPets()||_,_}emptyFrontSpaceCheck(){if(null==this.player.pet0)this.abilityService.triggerEmptyFrontSpaceEvents(this.player);else for(const _ of this.player.petArray)_.clearFrontTriggered=!1;if(null==this.opponent.pet0)this.abilityService.triggerEmptyFrontSpaceEvents(this.opponent);else for(const _ of this.opponent.petArray)_.clearFrontTriggered=!1;null==this.player.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.player),null==this.opponent.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.opponent),this.abilityService.executeEmptyFrontSpaceToyEvents()}initToys(){this.registerStartOfBattleToyEvents(this.player),this.registerStartOfBattleToyEvents(this.opponent)}getActiveToys(_){const v=[];return _.toy&&v.push(_.toy),_.hardToy&&v.push(_.hardToy),v}registerStartOfBattleToyEvents(_){const v=this.getActiveToys(_);for(const e of v){const t=e.startOfBattle;t&&this.toyService.setStartOfBattleEvent({callback:()=>{if(_.toy!==e&&_.hardToy!==e)return;t.call(e,this.gameService.gameApi);const n=e.level;for(const a of _.petArray)a instanceof A.E&&(e.level=a.level,t.call(e,this.gameService.gameApi,!0),e.level=n)},priority:e.tier,player:_,customParams:{toyName:e.name,suppressFriendFaintLog:e.suppressFriendFaintLog}})}}initializeEquipmentMultipliers(){for(let _ of this.player.petArray)_.equipment&&_.setEquipmentMultiplier();for(let _ of this.opponent.petArray)_.equipment&&_.setEquipmentMultiplier()}resetClearFrontFlags(){for(const _ of this.player.petArray)_.clearFrontTriggered=!1;for(const _ of this.opponent.petArray)_.clearFrontTriggered=!1}}},40555(O,S,i){i.d(S,{A:()=>_});var A=i(3043),c=i(14429);const _=function E(v){return null==v?[]:(0,A.A)(v,(0,c.A)(v))}},40622(O){O.exports=JSON.parse('{"byNameId":{"Leafling":"Leafling-sharedassets1.assets-3345.ogg","AfricanWildDog":"AfricanWildDog-sharedassets1.assets-3650.ogg","AlchemistBug":"AlchemistBug-sharedassets1.assets-3321.ogg","Ant":"Ant-sharedassets1.assets-3379.ogg","Baku":"Baku-sharedassets1.assets-3837.ogg","Barghest":"Barghest-sharedassets1.assets-3885.ogg","Beaver":"Beaver-sharedassets1.assets-3576.ogg","Bee":"Bee-sharedassets1.assets-3578.ogg","Beetle":"Beetle-sharedassets1.assets-3273.ogg","Bluebird":"Bluebird-sharedassets1.assets-3335.ogg","BombusDahlbomii":"BombusDahlbomii-sharedassets1.assets-3473.ogg","Budgie":"Budgie-sharedassets1.assets-3277.ogg","Bulldog":"Bulldog-sharedassets1.assets-3614.ogg","Bunyip":"Bunyip-sharedassets1.assets-3743.ogg","Bus":"Bus-sharedassets1.assets-3459.ogg","Chick":"Chick-sharedassets1.assets-3748.ogg","Chihuahua":"Chihuahua-sharedassets1.assets-3570.ogg","Chinchilla":"Chinchilla-sharedassets1.assets-3853.ogg","Chipmunk":"Chipmunk-sharedassets1.assets-3830.ogg","Cockroach":"Cockroach-sharedassets1.assets-3408.ogg","ConeSnail":"ConeSnail-sharedassets1.assets-3754.ogg","Cricket":"Cricket-sharedassets1.assets-3397.ogg","CuckooBaby":"CuckooBaby-sharedassets1.assets-3551.ogg","CuddleToad":"CuddleToad-sharedassets1.assets-3472.ogg","Duck":"Duck-sharedassets1.assets-3290.ogg","BabyDuck":"BabyDuck-sharedassets1.assets-3545.ogg","EthiopianWolf":"EthiopianWolf-sharedassets1.assets-3822.ogg","FanMussel":"FanMussel-sharedassets1.assets-3497.ogg","FarmerMouse":"FarmerMouse-sharedassets1.assets-3295.ogg","Ferret":"Ferret-sharedassets1.assets-3597.ogg","FirePup":"FirePup-sharedassets1.assets-3341.ogg","Firefly":"Firefly-sharedassets1.assets-3840.ogg","Fish":"Fish-sharedassets1.assets-3403.ogg","FrilledDragon":"FrilledDragon-sharedassets1.assets-3617.ogg","Frog":"Frog-sharedassets1.assets-3873.ogg","Gecko":"Gecko-sharedassets1.assets-3289.ogg","Gibbon":"Gibbon-sharedassets1.assets-3770.ogg","GoldenRetriever":"GoldenRetriever-sharedassets1.assets-3671.ogg","Goose":"Goose-sharedassets1.assets-3546.ogg","Groundhog":"Groundhog-sharedassets1.assets-3574.ogg","Horse":"Horse-sharedassets1.assets-3718.ogg","Hummingbird":"Hummingbird-sharedassets1.assets-3352.ogg","IliPika":"IliPika-sharedassets1.assets-3535.ogg","IriomoteCat":"IriomoteCat-sharedassets1.assets-3298.ogg","Kiwi":"Kiwi-sharedassets1.assets-3815.ogg","Lemming":"Lemming-sharedassets1.assets-3383.ogg","Magpie":"Magpie-sharedassets1.assets-3716.ogg","MalayTapir":"MalayTapir-sharedassets1.assets-3311.ogg","Marmoset":"Marmoset-sharedassets1.assets-3351.ogg","WhiteKillerRabbit":"WhiteKillerRabbit-sharedassets1.assets-3691.ogg","Mosquito":"Mosquito-sharedassets1.assets-3860.ogg","Moth":"Moth-sharedassets1.assets-3406.ogg","Mouse":"Mouse-sharedassets1.assets-3506.ogg","Murloc":"Murloc-sharedassets1.assets-3773.ogg","Nudibranchs":"Nudibranchs-sharedassets1.assets-3400.ogg","Opossum":"Opossum-sharedassets1.assets-3681.ogg","Otter":"Otter-sharedassets1.assets-3727.ogg","PeacockSpider":"PeacockSpider-sharedassets1.assets-3677.ogg","Pengobble":"Pengobble-sharedassets1.assets-3776.ogg","Pheasant":"Pheasant-sharedassets1.assets-3675.ogg","PiedTamarin":"PiedTamarin-sharedassets1.assets-3310.ogg","Pig":"Pig-sharedassets1.assets-3527.ogg","Pigeon":"Pigeon-sharedassets1.assets-3529.ogg","Pillbug":"Pillbug-sharedassets1.assets-3642.ogg","PygmySeahorse":"PygmySeahorse-sharedassets1.assets-3673.ogg","Quoll":"Quoll-sharedassets1.assets-3724.ogg","Silkmoth":"Silkmoth-sharedassets1.assets-3465.ogg","Silverfish":"Silverfish-sharedassets1.assets-3849.ogg","Sloth":"Sloth-sharedassets1.assets-3366.ogg","EggLadCovered":"EggLadCovered-sharedassets1.assets-3845.ogg","Termite":"Termite-sharedassets1.assets-3613.ogg","TogianBabirusa":"TogianBabirusa-sharedassets1.assets-3805.ogg","ToothBilledPigeon":"ToothBilledPigeon-sharedassets1.assets-3323.ogg","Tsuchinoko":"Tsuchinoko-sharedassets1.assets-3317.ogg","LongWattledUmbrellabird":"LongWattledUmbrellabird-sharedassets1.assets-3342.ogg","VolcanoSnail":"VolcanoSnail-sharedassets1.assets-3306.ogg","Weevil":"Weevil-sharedassets1.assets-3728.ogg","AfricanPenguin":"AfricanPenguin-sharedassets1.assets-3772.ogg","AlbinoSquirrel":"AlbinoSquirrel-sharedassets1.assets-3531.ogg","Amphisbaena":"Amphisbaena-sharedassets1.assets-3470.ogg","AraripeManakin":"AraripeManakin-sharedassets1.assets-3336.ogg","AtlanticPuffin":"AtlanticPuffin-sharedassets1.assets-3312.ogg","Bass":"Bass-sharedassets1.assets-3325.ogg","Bat":"Bat-sharedassets1.assets-3523.ogg","BelugaSturgeon":"BelugaSturgeon-sharedassets1.assets-3674.ogg","Bigfoot":"Bigfoot-sharedassets1.assets-3880.ogg","Bilby":"Bilby-sharedassets1.assets-3619.ogg","BlackNeckedStilt":"BlackNeckedStilt-sharedassets1.assets-3388.ogg","Chupacabra":"Chupacabra-sharedassets1.assets-3409.ogg","Crab":"Crab-sharedassets1.assets-3555.ogg","DarwinsFox":"DarwinsFox-sharedassets1.assets-3640.ogg","DesertRainFrog":"DesertRainFrog-sharedassets1.assets-3821.ogg","DoorHeadAnt":"DoorHeadAnt-sharedassets1.assets-3755.ogg","Dove":"Dove-sharedassets1.assets-3624.ogg","Dromedary":"Dromedary-sharedassets1.assets-3643.ogg","DropBear":"DropBear-sharedassets1.assets-3783.ogg","DumboOctopus":"DumboOctopus-sharedassets1.assets-3349.ogg","DungBeetle":"DungBeetle-sharedassets1.assets-3496.ogg","EuropeanMink":"EuropeanMink-sharedassets1.assets-3422.ogg","FarmerChicken":"FarmerChicken-sharedassets1.assets-3832.ogg","Flamingo":"Flamingo-sharedassets1.assets-3689.ogg","Frigatebird":"Frigatebird-sharedassets1.assets-3567.ogg","FrostWolf":"FrostWolf-sharedassets1.assets-3279.ogg","FruitFly":"FruitFly-sharedassets1.assets-3870.ogg","Gargoyle":"Gargoyle-sharedassets1.assets-3874.ogg","GhostKitten":"GhostKitten-sharedassets1.assets-3620.ogg","GiantSquirrel":"GiantSquirrel-sharedassets1.assets-3713.ogg","DwarvenBeetle":"DwarvenBeetle-sharedassets1.assets-3583.ogg","GuineaPig":"GuineaPig-sharedassets1.assets-3635.ogg","Hedgehog":"Hedgehog-sharedassets1.assets-3466.ogg","HerculesBeetle":"HerculesBeetle-sharedassets1.assets-3634.ogg","HermitCrab":"HermitCrab-sharedassets1.assets-3444.ogg","HonduranWhiteBat":"HonduranWhiteBat-sharedassets1.assets-3427.ogg","Iguana":"Iguana-sharedassets1.assets-3512.ogg","Jackalope":"Jackalope-sharedassets1.assets-3340.ogg","Kangaroo":"Kangaroo-sharedassets1.assets-3720.ogg","Koala":"Koala-sharedassets1.assets-3445.ogg","Lemur":"Lemur-sharedassets1.assets-3666.ogg","Lizard":"Lizard-sharedassets1.assets-3670.ogg","Mandarinfish":"Mandarinfish-sharedassets1.assets-3678.ogg","Drill":"Drill-sharedassets1.assets-3443.ogg","Meerkat":"Meerkat-sharedassets1.assets-3797.ogg","Mink":"Mink-sharedassets1.assets-3495.ogg","Mothman":"Mothman-sharedassets1.assets-3426.ogg","NightCrawler":"NightCrawler-sharedassets1.assets-3274.ogg","Ogopogo":"Ogopogo-sharedassets1.assets-3411.ogg","Olm":"Olm-sharedassets1.assets-3563.ogg","Panda":"Panda-sharedassets1.assets-3272.ogg","Peacock":"Peacock-sharedassets1.assets-3800.ogg","PinkRobin":"PinkRobin-sharedassets1.assets-3552.ogg","ProboscisMonkey":"ProboscisMonkey-sharedassets1.assets-3318.ogg","PygmyHog":"PygmyHog-sharedassets1.assets-3362.ogg","Rat":"Rat-sharedassets1.assets-3621.ogg","Roadrunner":"Roadrunner-sharedassets1.assets-3744.ogg","Robin":"Robin-sharedassets1.assets-3646.ogg","SakerFalcon":"SakerFalcon-sharedassets1.assets-3420.ogg","Salamander":"Salamander-sharedassets1.assets-3710.ogg","Saola":"Saola-sharedassets1.assets-3695.ogg","SeaTurtle":"SeaTurtle-sharedassets1.assets-3684.ogg","SeaUrchin":"SeaUrchin-sharedassets1.assets-3846.ogg","Seahorse":"Seahorse-sharedassets1.assets-3368.ogg","ShimaEnaga":"ShimaEnaga-sharedassets1.assets-3862.ogg","Shrimp":"Shrimp-sharedassets1.assets-3350.ogg","Snail":"Snail-sharedassets1.assets-3810.ogg","Sphinx":"Sphinx-sharedassets1.assets-3554.ogg","Spider":"Spider-sharedassets1.assets-3270.ogg","SpottedHandfish":"SpottedHandfish-sharedassets1.assets-3664.ogg","Squid":"Squid-sharedassets1.assets-3708.ogg","Stoat":"Stoat-sharedassets1.assets-3498.ogg","Stork":"Stork-sharedassets1.assets-3477.ogg","Swan":"Swan-sharedassets1.assets-3307.ogg","TabbyCat":"TabbyCat-sharedassets1.assets-3360.ogg","Tadpole":"Tadpole-sharedassets1.assets-3462.ogg","TaitaShrew":"TaitaShrew-sharedassets1.assets-3392.ogg","Takhi":"Takhi-sharedassets1.assets-3799.ogg","ThornyDragon":"ThornyDragon-sharedassets1.assets-3572.ogg","Thunderbird":"Thunderbird-sharedassets1.assets-3421.ogg","Vervet":"Vervet-sharedassets1.assets-3326.ogg","Warg":"Warg-sharedassets1.assets-3398.ogg","WhiteBelliedHeron":"WhiteBelliedHeron-sharedassets1.assets-3540.ogg","Wombat":"Wombat-sharedassets1.assets-3302.ogg","Worm":"Worm-sharedassets1.assets-3533.ogg","Wyvern":"Wyvern-sharedassets1.assets-3692.ogg","Yak":"Yak-sharedassets1.assets-3483.ogg","Aardvark":"Aardvark-sharedassets1.assets-3659.ogg","AmamiRabbit":"AmamiRabbit-sharedassets1.assets-3847.ogg","AxehandleHound":"AxehandleHound-sharedassets1.assets-3715.ogg","Baboon":"Baboon-sharedassets1.assets-3723.ogg","Badger":"Badger-sharedassets1.assets-3730.ogg","Barnacle":"Barnacle-sharedassets1.assets-3645.ogg","Basilisk":"Basilisk-sharedassets1.assets-3553.ogg","Bear":"Bear-sharedassets1.assets-3304.ogg","BettaFish":"BettaFish-sharedassets1.assets-3610.ogg","GlaucusAtlanticus":"GlaucusAtlanticus-sharedassets1.assets-3628.ogg","BlueThroatedMacaw":"BlueThroatedMacaw-sharedassets1.assets-3347.ogg","Headcrab":"Headcrab-sharedassets1.assets-3468.ogg","BrazillianTreehopper":"BrazillianTreehopper-sharedassets1.assets-3864.ogg","Caladrius":"Caladrius-sharedassets1.assets-3741.ogg","Calygreyhound":"Calygreyhound-sharedassets1.assets-3455.ogg","Camel":"Camel-sharedassets1.assets-3363.ogg","Capybara":"Capybara-sharedassets1.assets-3700.ogg","Cardinal":"Cardinal-sharedassets1.assets-3359.ogg","Cassowary":"Cassowary-sharedassets1.assets-3868.ogg","Centipede":"Centipede-sharedassets1.assets-3353.ogg","Wendigo":"Wendigo-sharedassets1.assets-3549.ogg","Dimetrodon":"Dimetrodon-sharedassets1.assets-3448.ogg","Dodo":"Dodo-sharedassets1.assets-3726.ogg","Dog":"Dog-sharedassets1.assets-3474.ogg","Dolphin":"Dolphin-sharedassets1.assets-3871.ogg","Dugong":"Dugong-sharedassets1.assets-3834.ogg","Eel":"Eel-sharedassets1.assets-3502.ogg","Elephant":"Elephant-sharedassets1.assets-3686.ogg","EmperorTamarin":"EmperorTamarin-sharedassets1.assets-3761.ogg","FarmerPig":"FarmerPig-sharedassets1.assets-3365.ogg","Flea":"Flea-sharedassets1.assets-3835.ogg","FlyingFish":"FlyingFish-sharedassets1.assets-3284.ogg","FlyingSquirrel":"FlyingSquirrel-sharedassets1.assets-3794.ogg","FuLion":"FuLion-sharedassets1.assets-3401.ogg","FurBearingTrout":"FurBearingTrout-sharedassets1.assets-3729.ogg","Gerenuk":"Gerenuk-sharedassets1.assets-3756.ogg","Gharial":"Gharial-sharedassets1.assets-3334.ogg","Giraffe":"Giraffe-sharedassets1.assets-3548.ogg","GreatPotoo":"GreatPotoo-sharedassets1.assets-3491.ogg","Griffin":"Griffin-sharedassets1.assets-3798.ogg","FowlBird":"FowlBird-sharedassets1.assets-3652.ogg","Hare":"Hare-sharedassets1.assets-3370.ogg","HatchingChick":"HatchingChick-sharedassets1.assets-3740.ogg","Hirola":"Hirola-sharedassets1.assets-3774.ogg","HoopoeBird":"HoopoeBird-sharedassets1.assets-3283.ogg","JewelCaterpillar":"JewelCaterpillar-sharedassets1.assets-3522.ogg","Leech":"Leech-sharedassets1.assets-3293.ogg","LuckyCat":"LuckyCat-sharedassets1.assets-3291.ogg","ManaHound":"ManaHound-sharedassets1.assets-3434.ogg","Mandrake":"Mandrake-sharedassets1.assets-3668.ogg","Mole":"Mole-sharedassets1.assets-3478.ogg","MonkeyFacedBat":"MonkeyFacedBat-sharedassets1.assets-3878.ogg","MuskOx":"MuskOx-sharedassets1.assets-3641.ogg","Okapi":"Okapi-sharedassets1.assets-3486.ogg","Orangutan":"Orangutan-sharedassets1.assets-3813.ogg","Osprey":"Osprey-sharedassets1.assets-3575.ogg","Ouroboros":"Ouroboros-sharedassets1.assets-3876.ogg","Owl":"Owl-sharedassets1.assets-3669.ogg","Ox":"Ox-sharedassets1.assets-3265.ogg","Pangasius":"Pangasius-sharedassets1.assets-3492.ogg","Pangolin":"Pangolin-sharedassets1.assets-3883.ogg","PatagonianMara":"PatagonianMara-sharedassets1.assets-3760.ogg","Pony":"Pony-sharedassets1.assets-3507.ogg","Porcupine":"Porcupine-sharedassets1.assets-3587.ogg","Pug":"Pug-sharedassets1.assets-3482.ogg","PurpleFrog":"PurpleFrog-sharedassets1.assets-3661.ogg","PygmyHippo":"PygmyHippo-sharedassets1.assets-3764.ogg","Quail":"Quail-sharedassets1.assets-3297.ogg","QueenBee":"QueenBee-sharedassets1.assets-3667.ogg","Quetzalcoatlus":"Quetzalcoatlus-sharedassets1.assets-3565.ogg","Rabbit":"Rabbit-sharedassets1.assets-3452.ogg","RolowayMonkey":"RolowayMonkey-sharedassets1.assets-3399.ogg","RoyalFlycatcher":"RoyalFlycatcher-sharedassets1.assets-3625.ogg","GreaterSageGrouse":"GreaterSageGrouse-sharedassets1.assets-3423.ogg","SarcasticFringehead":"SarcasticFringehead-sharedassets1.assets-3833.ogg","Sheep":"Sheep-sharedassets1.assets-3524.ogg","SilkieChicken":"SilkieChicken-sharedassets1.assets-3532.ogg","SkeletonDog":"SkeletonDog-sharedassets1.assets-3539.ogg","Slime":"Slime-sharedassets1.assets-3446.ogg","SpoonBilledSandpiper":"SpoonBilledSandpiper-sharedassets1.assets-3415.ogg","SugarGlider":"SugarGlider-sharedassets1.assets-3665.ogg","SurgeonFish":"SurgeonFish-sharedassets1.assets-3763.ogg","Takin":"Takin-sharedassets1.assets-3490.ogg","Tatzelwurm":"Tatzelwurm-sharedassets1.assets-3865.ogg","Toad":"Toad-sharedassets1.assets-3704.ogg","Toucan":"Toucan-sharedassets1.assets-3717.ogg","TreeEnt":"TreeEnt-sharedassets1.assets-3395.ogg","TreeKangaroo":"TreeKangaroo-sharedassets1.assets-3500.ogg","TropicalFish":"TropicalFish-sharedassets1.assets-3441.ogg","Tucuxi":"Tucuxi-sharedassets1.assets-3413.ogg","Tuna":"Tuna-sharedassets1.assets-3637.ogg","VampireParrot":"VampireParrot-sharedassets1.assets-3348.ogg","Wasp":"Wasp-sharedassets1.assets-3380.ogg","Weasel":"Weasel-sharedassets1.assets-3795.ogg","Shoggoth":"Shoggoth-sharedassets1.assets-3556.ogg","Ahuizotl":"Ahuizotl-sharedassets1.assets-3428.ogg","AmazonRiverDolphin":"AmazonRiverDolphin-sharedassets1.assets-3603.ogg","Andrewsarchus":"Andrewsarchus-sharedassets1.assets-3479.ogg","Angelshark":"Angelshark-sharedassets1.assets-3787.ogg","Anubis":"Anubis-sharedassets1.assets-3606.ogg","Bison":"Bison-sharedassets1.assets-3651.ogg","Bloodhound":"Bloodhound-sharedassets1.assets-3439.ogg","Blowfish":"Blowfish-sharedassets1.assets-3544.ogg","BlueFootedBooby":"BlueFootedBooby-sharedassets1.assets-3682.ogg","Bonobo":"Bonobo-sharedassets1.assets-3432.ogg","Buffalo":"Buffalo-sharedassets1.assets-3839.ogg","Butterfly":"Butterfly-sharedassets1.assets-3792.ogg","Caterpillar":"Caterpillar-sharedassets1.assets-3451.ogg","Chameleon":"Chameleon-sharedassets1.assets-3841.ogg","Chimera":"Chimera-sharedassets1.assets-3547.ogg","ClownFish":"ClownFish-sharedassets1.assets-3433.ogg","Cockatoo":"Cockatoo-sharedassets1.assets-3286.ogg","Crow":"Crow-sharedassets1.assets-3750.ogg","Cuckoo":"Cuckoo-sharedassets1.assets-3633.ogg","Cuddlefish":"Cuddlefish-sharedassets1.assets-3557.ogg","Cyclops":"Cyclops-sharedassets1.assets-3521.ogg","Deer":"Deer-sharedassets1.assets-3698.ogg","Deinocheirus":"Deinocheirus-sharedassets1.assets-3264.ogg","Doberman":"Doberman-sharedassets1.assets-3746.ogg","Donkey":"Donkey-sharedassets1.assets-3843.ogg","Elk":"Elk-sharedassets1.assets-3859.ogg","Fairy":"Fairy-sharedassets1.assets-3779.ogg","FairyArmadillo":"FairyArmadillo-sharedassets1.assets-3263.ogg","Falcon":"Falcon-sharedassets1.assets-3657.ogg","FarmerCat":"FarmerCat-sharedassets1.assets-3375.ogg","Fossa":"Fossa-sharedassets1.assets-3566.ogg","Gazelle":"Gazelle-sharedassets1.assets-3725.ogg","Gelada":"Gelada-sharedassets1.assets-3806.ogg","GiantOtter":"GiantOtter-sharedassets1.assets-3801.ogg","GiantTortoise":"GiantTortoise-sharedassets1.assets-3742.ogg","GoblinShark":"GoblinShark-sharedassets1.assets-3696.ogg","GoldenTamarin":"GoldenTamarin-sharedassets1.assets-3396.ogg","Hawk":"Hawk-sharedassets1.assets-3369.ogg","Hippo":"Hippo-sharedassets1.assets-3464.ogg","Hoatzin":"Hoatzin-sharedassets1.assets-3586.ogg","HumpheadWrasse":"HumpheadWrasse-sharedassets1.assets-3528.ogg","Jerboa":"Jerboa-sharedassets1.assets-3367.ogg","Kakapo":"Kakapo-sharedassets1.assets-3631.ogg","Kraken":"Kraken-sharedassets1.assets-3536.ogg","SatanicLeafTailedGecko":"SatanicLeafTailedGecko-sharedassets1.assets-3301.ogg","LeafySeaDragon":"LeafySeaDragon-sharedassets1.assets-3731.ogg","Llama":"Llama-sharedassets1.assets-3314.ogg","Lobster":"Lobster-sharedassets1.assets-3816.ogg","Locust":"Locust-sharedassets1.assets-3752.ogg","LongcombSawfish":"LongcombSawfish-sharedassets1.assets-3622.ogg","Lynx":"Lynx-sharedassets1.assets-3749.ogg","Manatee":"Manatee-sharedassets1.assets-3561.ogg","MantaRay":"MantaRay-sharedassets1.assets-3818.ogg","Microbe":"Microbe-sharedassets1.assets-3638.ogg","Mimic":"Mimic-sharedassets1.assets-3735.ogg","Minotaur":"Minotaur-sharedassets1.assets-3812.ogg","OldMouse":"OldMouse-sharedassets1.assets-3579.ogg","Parrot":"Parrot-sharedassets1.assets-3511.ogg","Pegasus":"Pegasus-sharedassets1.assets-3442.ogg","Penguin":"Penguin-sharedassets1.assets-3775.ogg","Platybelodon":"Platybelodon-sharedassets1.assets-3609.ogg","Platypus":"Platypus-sharedassets1.assets-3287.ogg","PoisonDartFrog":"PoisonDartFrog-sharedassets1.assets-3660.ogg","PoodleMoth":"PoodleMoth-sharedassets1.assets-3294.ogg","PrayingMantis":"PrayingMantis-sharedassets1.assets-3316.ogg","Puppy":"Puppy-sharedassets1.assets-3588.ogg","WhiteBootedRacketTail":"WhiteBootedRacketTail-sharedassets1.assets-3623.ogg","RedLippedBatfish":"RedLippedBatfish-sharedassets1.assets-3796.ogg","Roc":"Roc-sharedassets1.assets-3308.ogg","Rootler":"Rootler-sharedassets1.assets-3767.ogg","RuspolisTuraco":"RuspolisTuraco-sharedassets1.assets-3313.ogg","SaigaAntelope":"SaigaAntelope-sharedassets1.assets-3453.ogg","SeaAnemone":"SeaAnemone-sharedassets1.assets-3393.ogg","Seagull":"Seagull-sharedassets1.assets-3737.ogg","Sealion":"Sealion-sharedassets1.assets-3361.ogg","Siamese":"Siamese-sharedassets1.assets-3707.ogg","Skunk":"Skunk-sharedassets1.assets-3454.ogg","Slug":"Slug-sharedassets1.assets-3537.ogg","Sparrow":"Sparrow-sharedassets1.assets-3732.ogg","SpiderCrab":"SpiderCrab-sharedassets1.assets-3809.ogg","SpinyBushViper":"SpinyBushViper-sharedassets1.assets-3639.ogg","Squirrel":"Squirrel-sharedassets1.assets-3867.ogg","ArabianTahr":"ArabianTahr-sharedassets1.assets-3331.ogg","ThorGoat1":"ThorGoat1-sharedassets1.assets-3857.ogg","Tardigrade":"Tardigrade-sharedassets1.assets-3385.ogg","TasmanianDevil":"TasmanianDevil-sharedassets1.assets-3758.ogg","AntLion":"AntLion-sharedassets1.assets-3390.ogg","Trout":"Trout-sharedassets1.assets-3607.ogg","Turtle":"Turtle-sharedassets1.assets-3879.ogg","Unicorn":"Unicorn-sharedassets1.assets-3460.ogg","Vaquita":"Vaquita-sharedassets1.assets-3819.ogg","Xenomorph":"Xenomorph-sharedassets1.assets-3680.ogg","Whale":"Whale-sharedassets1.assets-3430.ogg","WhaleShark":"WhaleShark-sharedassets1.assets-3672.ogg","Sandworm":"Sandworm-sharedassets1.assets-3778.ogg","YetiCrab":"YetiCrab-sharedassets1.assets-3863.ogg","Amalgam":"Amalgam-sharedassets1.assets-3269.ogg","Armadillo":"Armadillo-sharedassets1.assets-3499.ogg","Axolotl":"Axolotl-sharedassets1.assets-3447.ogg","AyeAye":"AyeAye-sharedassets1.assets-3785.ogg","BadDog":"BadDog-sharedassets1.assets-3856.ogg","BanggaiCardinalfish":"BanggaiCardinalfish-sharedassets1.assets-3266.ogg","WhiteWhale":"WhiteWhale-sharedassets1.assets-3471.ogg","BlueJay":"BlueJay-sharedassets1.assets-3333.ogg","BlueRingedOctopus":"BlueRingedOctopus-sharedassets1.assets-3850.ogg","Boitata":"Boitata-sharedassets1.assets-3412.ogg","BrahmaChicken":"BrahmaChicken-sharedassets1.assets-3757.ogg","Chicken":"Chicken-sharedassets1.assets-3869.ogg","Cow":"Cow-sharedassets1.assets-3407.ogg","Crane":"Crane-sharedassets1.assets-3458.ogg","Crocodile":"Crocodile-sharedassets1.assets-3534.ogg","Dragonfly":"Dragonfly-sharedassets1.assets-3745.ogg","Eagle":"Eagle-sharedassets1.assets-3807.ogg","EgyptianVulture":"EgyptianVulture-sharedassets1.assets-3419.ogg","Emu":"Emu-sharedassets1.assets-3571.ogg","Estemmenosuchus":"Estemmenosuchus-sharedassets1.assets-3685.ogg","FarmerCrow":"FarmerCrow-sharedassets1.assets-3324.ogg","FireAnt":"FireAnt-sharedassets1.assets-3504.ogg","FlounderYoung":"FlounderYoung-sharedassets1.assets-3777.ogg","GeometricTortoise":"GeometricTortoise-sharedassets1.assets-3594.ogg","GiantIsopod":"GiantIsopod-sharedassets1.assets-3404.ogg","GiantPangasius":"GiantPangasius-sharedassets1.assets-3387.ogg","Goat":"Goat-sharedassets1.assets-3296.ogg","Hamster":"Hamster-sharedassets1.assets-3844.ogg","HawaiianMonkSeal":"HawaiianMonkSeal-sharedassets1.assets-3630.ogg","Hippocampus":"Hippocampus-sharedassets1.assets-3480.ogg","Hyena":"Hyena-sharedassets1.assets-3683.ogg","Ibex":"Ibex-sharedassets1.assets-3378.ogg","Jackal":"Jackal-sharedassets1.assets-3328.ogg","Kappa":"Kappa-sharedassets1.assets-3329.ogg","Kitsune":"Kitsune-sharedassets1.assets-3487.ogg","LovelandFrogman":"LovelandFrogman-sharedassets1.assets-3391.ogg","Lusca":"Lusca-sharedassets1.assets-3281.ogg","Macaque":"Macaque-sharedassets1.assets-3861.ogg","Maltese":"Maltese-sharedassets1.assets-3416.ogg","MarineIguana":"MarineIguana-sharedassets1.assets-3626.ogg","Monkey":"Monkey-sharedassets1.assets-3437.ogg","Moose":"Moose-sharedassets1.assets-3436.ogg","Mosasaurus":"Mosasaurus-sharedassets1.assets-3550.ogg","Namazu":"Namazu-sharedassets1.assets-3319.ogg","Nessie":"Nessie-sharedassets1.assets-3384.ogg","Nurikabe":"Nurikabe-sharedassets1.assets-3519.ogg","NurseShark":"NurseShark-sharedassets1.assets-3877.ogg","Nyala":"Nyala-sharedassets1.assets-3690.ogg","OrchidMantis":"OrchidMantis-sharedassets1.assets-3852.ogg","PacificFanfish":"PacificFanfish-sharedassets1.assets-3354.ogg","PaintedTerrapin":"PaintedTerrapin-sharedassets1.assets-3802.ogg","Panther":"Panther-sharedassets1.assets-3602.ogg","Pelican":"Pelican-sharedassets1.assets-3558.ogg","Pixiu":"Pixiu-sharedassets1.assets-3485.ogg","PolarBear":"PolarBear-sharedassets1.assets-3389.ogg","Racoon":"Racoon-sharedassets1.assets-3784.ogg","RedDragon":"RedDragon-sharedassets1.assets-3786.ogg","RedPanda":"RedPanda-sharedassets1.assets-3562.ogg","Rhino":"Rhino-sharedassets1.assets-3332.ogg","Rooster":"Rooster-sharedassets1.assets-3611.ogg","Salmon":"Salmon-sharedassets1.assets-3526.ogg","Scorpion":"Scorpion-sharedassets1.assets-3618.ogg","SeaCucumber":"SeaCucumber-sharedassets1.assets-3702.ogg","Seal":"Seal-sharedassets1.assets-3481.ogg","SecretaryBird":"SecretaryBird-sharedassets1.assets-3848.ogg","Shark":"Shark-sharedassets1.assets-3766.ogg","Shoebill":"Shoebill-sharedassets1.assets-3405.ogg","SiberianHusky":"SiberianHusky-sharedassets1.assets-3884.ogg","SilverFox":"SilverFox-sharedassets1.assets-3343.ogg","SnappingJawTurtle":"SnappingJawTurtle-sharedassets1.assets-3644.ogg","SnowLeopard":"SnowLeopard-sharedassets1.assets-3872.ogg","Starfish":"Starfish-sharedassets1.assets-3654.ogg","Stingray":"Stingray-sharedassets1.assets-3771.ogg","Stonefish":"Stonefish-sharedassets1.assets-3636.ogg","SwordFish":"SwordFish-sharedassets1.assets-3386.ogg","TaitaThrush":"TaitaThrush-sharedassets1.assets-3520.ogg","TarantulaHawk":"TarantulaHawk-sharedassets1.assets-3355.ogg","Tarasque":"Tarasque-sharedassets1.assets-3600.ogg","Triceratops":"Triceratops-sharedassets1.assets-3762.ogg","Turkey":"Turkey-sharedassets1.assets-3402.ogg","VampireBat":"VampireBat-sharedassets1.assets-3688.ogg","VenusFlytrap":"VenusFlytrap-sharedassets1.assets-3275.ogg","Vulture":"Vulture-sharedassets1.assets-3414.ogg","Werewolf":"Werewolf-sharedassets1.assets-3781.ogg","Wolf":"Wolf-sharedassets1.assets-3271.ogg","WoollyRhino":"WoollyRhino-sharedassets1.assets-3599.ogg","Zebra":"Zebra-sharedassets1.assets-3828.ogg","Akhlut":"Akhlut-sharedassets1.assets-3573.ogg","Albatross":"Albatross-sharedassets1.assets-3508.ogg","Alpaca":"Alpaca-sharedassets1.assets-3358.ogg","Amargasaurus":"Amargasaurus-sharedassets1.assets-3320.ogg","Ammonite":"Ammonite-sharedassets1.assets-3374.ogg","AmsterdamAlbatross":"AmsterdamAlbatross-sharedassets1.assets-3604.ogg","Anglerfish":"Anglerfish-sharedassets1.assets-3516.ogg","Bakunawa":"Bakunawa-sharedassets1.assets-3722.ogg","BayCat":"BayCat-sharedassets1.assets-3591.ogg","Behemoth":"Behemoth-sharedassets1.assets-3484.ogg","ParadiseBird":"ParadiseBird-sharedassets1.assets-3788.ogg","BlackBear":"BlackBear-sharedassets1.assets-3503.ogg","BlackRhino":"BlackRhino-sharedassets1.assets-3338.ogg","BlueWhale":"BlueWhale-sharedassets1.assets-3372.ogg","Boar":"Boar-sharedassets1.assets-3285.ogg","CaliforniaCondor":"CaliforniaCondor-sharedassets1.assets-3739.ogg","Cat":"Cat-sharedassets1.assets-3782.ogg","Catfish":"Catfish-sharedassets1.assets-3344.ogg","Cerberus":"Cerberus-sharedassets1.assets-3559.ogg","Chimpanzee":"Chimpanzee-sharedassets1.assets-3596.ogg","Cobra":"Cobra-sharedassets1.assets-3751.ogg","Cockatrice":"Cockatrice-sharedassets1.assets-3649.ogg","CoconutCrab":"CoconutCrab-sharedassets1.assets-3488.ogg","Dragon":"Dragon-sharedassets1.assets-3598.ogg","Dunkleosteus":"Dunkleosteus-sharedassets1.assets-3418.ogg","EagleOwl":"EagleOwl-sharedassets1.assets-3824.ogg","ElephantSeal":"ElephantSeal-sharedassets1.assets-3831.ogg","FarmerDog":"FarmerDog-sharedassets1.assets-3538.ogg","Fly":"Fly-sharedassets1.assets-3276.ogg","GermanShepard":"GermanShepard-sharedassets1.assets-3601.ogg","Gorilla":"Gorilla-sharedassets1.assets-3709.ogg","GreenSeaTurtle":"GreenSeaTurtle-sharedassets1.assets-3881.ogg","GrizzlyBear":"GrizzlyBear-sharedassets1.assets-3530.ogg","Hammershark":"Hammershark-sharedassets1.assets-3662.ogg","HarpyEagle":"HarpyEagle-sharedassets1.assets-3322.ogg","HelmetedHornbill":"HelmetedHornbill-sharedassets1.assets-3382.ogg","HighlandCow":"HighlandCow-sharedassets1.assets-3456.ogg","HoodedSeal":"HoodedSeal-sharedassets1.assets-3653.ogg","Hydra":"Hydra-sharedassets1.assets-3280.ogg","JerseyDevil":"JerseyDevil-sharedassets1.assets-3629.ogg","Komodo":"Komodo-sharedassets1.assets-3790.ogg","Lamprey":"Lamprey-sharedassets1.assets-3693.ogg","Leopard":"Leopard-sharedassets1.assets-3612.ogg","Leviathan":"Leviathan-sharedassets1.assets-3759.ogg","Lion":"Lion-sharedassets1.assets-3605.ogg","Lioness":"Lioness-sharedassets1.assets-3808.ogg","Mammoth":"Mammoth-sharedassets1.assets-3780.ogg","Manticore":"Manticore-sharedassets1.assets-3719.ogg","ShrimpMantis":"ShrimpMantis-sharedassets1.assets-3371.ogg","Markhor":"Markhor-sharedassets1.assets-3582.ogg","MimicOctopus":"MimicOctopus-sharedassets1.assets-3694.ogg","Mongoose":"Mongoose-sharedassets1.assets-3817.ogg","Octopus":"Octopus-sharedassets1.assets-3738.ogg","Orca":"Orca-sharedassets1.assets-3449.ogg","Ostrich":"Ostrich-sharedassets1.assets-3315.ogg","Oyster":"Oyster-sharedassets1.assets-3305.ogg","PhilippineEagle":"PhilippineEagle-sharedassets1.assets-3875.ogg","Phoenix":"Phoenix-sharedassets1.assets-3736.ogg","Piranha":"Piranha-sharedassets1.assets-3429.ogg","Poodle":"Poodle-sharedassets1.assets-3804.ogg","Pteranodon":"Pteranodon-sharedassets1.assets-3569.ogg","Puma":"Puma-sharedassets1.assets-3866.ogg","QuestingBeast":"QuestingBeast-sharedassets1.assets-3647.ogg","Quetzalcoatl":"Quetzalcoatl-sharedassets1.assets-3440.ogg","RealVelociraptor":"RealVelociraptor-sharedassets1.assets-3765.ogg","Reindeer":"Reindeer-sharedassets1.assets-3509.ogg","SabertoothTiger":"SabertoothTiger-sharedassets1.assets-3373.ogg","Sauropod":"Sauropod-sharedassets1.assets-3747.ogg","SeaSerpent":"SeaSerpent-sharedassets1.assets-3627.ogg","SilkySifaka":"SilkySifaka-sharedassets1.assets-3589.ogg","Sleipnir":"Sleipnir-sharedassets1.assets-3803.ogg","BabyCthulhu":"BabyCthulhu-sharedassets1.assets-3461.ogg","Snake":"Snake-sharedassets1.assets-3377.ogg","Spinosaurus":"Spinosaurus-sharedassets1.assets-3823.ogg","Stegosaurus":"Stegosaurus-sharedassets1.assets-3467.ogg","SumatranTiger":"SumatranTiger-sharedassets1.assets-3299.ogg","Sunfish":"Sunfish-sharedassets1.assets-3364.ogg","Tapir":"Tapir-sharedassets1.assets-3510.ogg","TeamSpirit":"TeamSpirit-sharedassets1.assets-3701.ogg","TerrorBird":"TerrorBird-sharedassets1.assets-3697.ogg","Therizinosaurus":"Therizinosaurus-sharedassets1.assets-3590.ogg","Tiger":"Tiger-sharedassets1.assets-3721.ogg","Tyrannosaurus":"Tyrannosaurus-sharedassets1.assets-3793.ogg","VampireSquid":"VampireSquid-sharedassets1.assets-3706.ogg","Velociraptor":"Velociraptor-sharedassets1.assets-3337.ogg","Walrus":"Walrus-sharedassets1.assets-3476.ogg","Warthog":"Warthog-sharedassets1.assets-3768.ogg","WhiteTiger":"WhiteTiger-sharedassets1.assets-3679.ogg","Wildebeest":"Wildebeest-sharedassets1.assets-3410.ogg","ForestSpirit":"ForestSpirit-sharedassets1.assets-3525.ogg","Wolverine":"Wolverine-sharedassets1.assets-3829.ogg","YellowBoxFish":"YellowBoxFish-sharedassets1.assets-3303.ogg","Yeti":"Yeti-sharedassets1.assets-3593.ogg","MochaDick":"MochaDick-sharedassets1.assets-3581.ogg","Tanystropheus":"Tanystropheus-sharedassets1.assets-3417.ogg"},"byPetId":{"0":"Ant-sharedassets1.assets-3379.ogg","2":"Badger-sharedassets1.assets-3730.ogg","3":"Beaver-sharedassets1.assets-3576.ogg","4":"Bee-sharedassets1.assets-3578.ogg","5":"Bison-sharedassets1.assets-3651.ogg","7":"Blowfish-sharedassets1.assets-3544.ogg","8":"Buffalo-sharedassets1.assets-3839.ogg","9":"Butterfly-sharedassets1.assets-3792.ogg","10":"Camel-sharedassets1.assets-3363.ogg","11":"Cat-sharedassets1.assets-3782.ogg","12":"Caterpillar-sharedassets1.assets-3451.ogg","13":"Chick-sharedassets1.assets-3748.ogg","14":"Chicken-sharedassets1.assets-3869.ogg","15":"Cow-sharedassets1.assets-3407.ogg","16":"Crab-sharedassets1.assets-3555.ogg","17":"Cricket-sharedassets1.assets-3397.ogg","18":"Cockroach-sharedassets1.assets-3408.ogg","19":"Crocodile-sharedassets1.assets-3534.ogg","20":"Deer-sharedassets1.assets-3698.ogg","21":"Dodo-sharedassets1.assets-3726.ogg","22":"Dog-sharedassets1.assets-3474.ogg","23":"Dolphin-sharedassets1.assets-3871.ogg","24":"Dove-sharedassets1.assets-3624.ogg","25":"Dragon-sharedassets1.assets-3598.ogg","26":"Duck-sharedassets1.assets-3290.ogg","27":"Eagle-sharedassets1.assets-3807.ogg","28":"Elephant-sharedassets1.assets-3686.ogg","29":"Flamingo-sharedassets1.assets-3689.ogg","30":"Fly-sharedassets1.assets-3276.ogg","32":"Fish-sharedassets1.assets-3403.ogg","33":"Giraffe-sharedassets1.assets-3548.ogg","34":"Goat-sharedassets1.assets-3296.ogg","36":"Gorilla-sharedassets1.assets-3709.ogg","37":"Hedgehog-sharedassets1.assets-3466.ogg","38":"Hippo-sharedassets1.assets-3464.ogg","39":"Horse-sharedassets1.assets-3718.ogg","40":"Kangaroo-sharedassets1.assets-3720.ogg","41":"Leopard-sharedassets1.assets-3612.ogg","42":"Lion-sharedassets1.assets-3605.ogg","44":"Llama-sharedassets1.assets-3314.ogg","45":"Mammoth-sharedassets1.assets-3780.ogg","46":"Monkey-sharedassets1.assets-3437.ogg","47":"Mosquito-sharedassets1.assets-3860.ogg","48":"Mouse-sharedassets1.assets-3506.ogg","50":"Octopus-sharedassets1.assets-3738.ogg","51":"Otter-sharedassets1.assets-3727.ogg","52":"Ox-sharedassets1.assets-3265.ogg","53":"Parrot-sharedassets1.assets-3511.ogg","54":"Peacock-sharedassets1.assets-3800.ogg","55":"Rhino-sharedassets1.assets-3332.ogg","56":"Penguin-sharedassets1.assets-3775.ogg","57":"Rat-sharedassets1.assets-3621.ogg","59":"Pig-sharedassets1.assets-3527.ogg","60":"Rabbit-sharedassets1.assets-3452.ogg","63":"Rooster-sharedassets1.assets-3611.ogg","65":"Scorpion-sharedassets1.assets-3618.ogg","66":"Seal-sharedassets1.assets-3481.ogg","67":"Shrimp-sharedassets1.assets-3350.ogg","68":"Sheep-sharedassets1.assets-3524.ogg","69":"Shark-sharedassets1.assets-3766.ogg","70":"Skunk-sharedassets1.assets-3454.ogg","71":"Sloth-sharedassets1.assets-3366.ogg","72":"Snail-sharedassets1.assets-3810.ogg","73":"Snake-sharedassets1.assets-3377.ogg","74":"Spider-sharedassets1.assets-3270.ogg","75":"Squirrel-sharedassets1.assets-3867.ogg","76":"Swan-sharedassets1.assets-3307.ogg","77":"Tiger-sharedassets1.assets-3721.ogg","78":"Tyrannosaurus-sharedassets1.assets-3793.ogg","79":"Turkey-sharedassets1.assets-3402.ogg","80":"Turtle-sharedassets1.assets-3879.ogg","81":"Whale-sharedassets1.assets-3430.ogg","82":"Worm-sharedassets1.assets-3533.ogg","85":"Bus-sharedassets1.assets-3459.ogg","87":"Bat-sharedassets1.assets-3523.ogg","88":"Beetle-sharedassets1.assets-3273.ogg","89":"Bluebird-sharedassets1.assets-3335.ogg","91":"HatchingChick-sharedassets1.assets-3740.ogg","93":"Lobster-sharedassets1.assets-3816.ogg","94":"Microbe-sharedassets1.assets-3638.ogg","95":"Owl-sharedassets1.assets-3669.ogg","96":"Poodle-sharedassets1.assets-3804.ogg","97":"Puppy-sharedassets1.assets-3588.ogg","98":"Sauropod-sharedassets1.assets-3747.ogg","99":"TabbyCat-sharedassets1.assets-3360.ogg","100":"TropicalFish-sharedassets1.assets-3441.ogg","103":"Boar-sharedassets1.assets-3285.ogg","104":"Dromedary-sharedassets1.assets-3643.ogg","107":"Panda-sharedassets1.assets-3272.ogg","108":"PolarBear-sharedassets1.assets-3389.ogg","109":"GuineaPig-sharedassets1.assets-3635.ogg","110":"Hamster-sharedassets1.assets-3844.ogg","111":"Donkey-sharedassets1.assets-3843.ogg","112":"Koala-sharedassets1.assets-3445.ogg","113":"BabyDuck-sharedassets1.assets-3545.ogg","114":"Lioness-sharedassets1.assets-3808.ogg","115":"Velociraptor-sharedassets1.assets-3337.ogg","116":"Orca-sharedassets1.assets-3449.ogg","117":"ClownFish-sharedassets1.assets-3433.ogg","118":"Piranha-sharedassets1.assets-3429.ogg","119":"SwordFish-sharedassets1.assets-3386.ogg","120":"Eel-sharedassets1.assets-3502.ogg","123":"Hammershark-sharedassets1.assets-3662.ogg","124":"Komodo-sharedassets1.assets-3790.ogg","125":"Ostrich-sharedassets1.assets-3315.ogg","126":"PrayingMantis-sharedassets1.assets-3316.ogg","127":"Hawk-sharedassets1.assets-3369.ogg","128":"Seagull-sharedassets1.assets-3737.ogg","129":"Pelican-sharedassets1.assets-3558.ogg","130":"Okapi-sharedassets1.assets-3486.ogg","131":"Kiwi-sharedassets1.assets-3815.ogg","132":"AtlanticPuffin-sharedassets1.assets-3312.ogg","133":"Cassowary-sharedassets1.assets-3868.ogg","134":"Shoebill-sharedassets1.assets-3405.ogg","135":"Vulture-sharedassets1.assets-3414.ogg","136":"Stork-sharedassets1.assets-3477.ogg","137":"Frigatebird-sharedassets1.assets-3567.ogg","138":"Hummingbird-sharedassets1.assets-3352.ogg","139":"Frog-sharedassets1.assets-3873.ogg","140":"Bear-sharedassets1.assets-3304.ogg","141":"Moth-sharedassets1.assets-3406.ogg","142":"Triceratops-sharedassets1.assets-3762.ogg","143":"Spinosaurus-sharedassets1.assets-3823.ogg","144":"Stegosaurus-sharedassets1.assets-3467.ogg","145":"Pug-sharedassets1.assets-3482.ogg","146":"SiberianHusky-sharedassets1.assets-3884.ogg","147":"Iguana-sharedassets1.assets-3512.ogg","148":"SabertoothTiger-sharedassets1.assets-3373.ogg","149":"Pillbug-sharedassets1.assets-3642.ogg","151":"Toucan-sharedassets1.assets-3717.ogg","152":"Seahorse-sharedassets1.assets-3368.ogg","153":"Starfish-sharedassets1.assets-3654.ogg","154":"Capybara-sharedassets1.assets-3700.ogg","155":"Zebra-sharedassets1.assets-3828.ogg","157":"Orangutan-sharedassets1.assets-3813.ogg","158":"Racoon-sharedassets1.assets-3784.ogg","159":"Platypus-sharedassets1.assets-3287.ogg","160":"Wasp-sharedassets1.assets-3380.ogg","161":"Chinchilla-sharedassets1.assets-3853.ogg","162":"Toad-sharedassets1.assets-3704.ogg","163":"Yak-sharedassets1.assets-3483.ogg","164":"Salamander-sharedassets1.assets-3710.ogg","165":"Leech-sharedassets1.assets-3293.ogg","166":"Armadillo-sharedassets1.assets-3499.ogg","167":"Hyena-sharedassets1.assets-3683.ogg","168":"Mole-sharedassets1.assets-3478.ogg","169":"Porcupine-sharedassets1.assets-3587.ogg","170":"Wolf-sharedassets1.assets-3271.ogg","171":"Baboon-sharedassets1.assets-3723.ogg","172":"Ferret-sharedassets1.assets-3597.ogg","173":"Weasel-sharedassets1.assets-3795.ogg","174":"Catfish-sharedassets1.assets-3344.ogg","175":"Sealion-sharedassets1.assets-3361.ogg","176":"Cuddlefish-sharedassets1.assets-3557.ogg","177":"Squid-sharedassets1.assets-3708.ogg","178":"Stingray-sharedassets1.assets-3771.ogg","180":"Anglerfish-sharedassets1.assets-3516.ogg","181":"ParadiseBird-sharedassets1.assets-3788.ogg","182":"WhiteWhale-sharedassets1.assets-3471.ogg","184":"Chipmunk-sharedassets1.assets-3830.ogg","185":"Gazelle-sharedassets1.assets-3725.ogg","186":"HighlandCow-sharedassets1.assets-3456.ogg","187":"Opossum-sharedassets1.assets-3681.ogg","188":"GoldenRetriever-sharedassets1.assets-3671.ogg","189":"Bulldog-sharedassets1.assets-3614.ogg","190":"ShrimpMantis-sharedassets1.assets-3371.ogg","191":"SeaTurtle-sharedassets1.assets-3684.ogg","192":"Manatee-sharedassets1.assets-3561.ogg","193":"Aardvark-sharedassets1.assets-3659.ogg","194":"Alpaca-sharedassets1.assets-3358.ogg","195":"Crow-sharedassets1.assets-3750.ogg","196":"Dragonfly-sharedassets1.assets-3745.ogg","197":"EmperorTamarin-sharedassets1.assets-3761.ogg","198":"FrilledDragon-sharedassets1.assets-3617.ogg","199":"Jerboa-sharedassets1.assets-3367.ogg","200":"Lynx-sharedassets1.assets-3749.ogg","202":"Moose-sharedassets1.assets-3436.ogg","203":"Meerkat-sharedassets1.assets-3797.ogg","204":"Marmoset-sharedassets1.assets-3351.ogg","205":"Reindeer-sharedassets1.assets-3509.ogg","206":"WhiteTiger-sharedassets1.assets-3679.ogg","207":"Wombat-sharedassets1.assets-3302.ogg","208":"Tapir-sharedassets1.assets-3510.ogg","209":"Walrus-sharedassets1.assets-3476.ogg","210":"AfricanPenguin-sharedassets1.assets-3772.ogg","212":"Axolotl-sharedassets1.assets-3447.ogg","213":"BelugaSturgeon-sharedassets1.assets-3674.ogg","214":"BettaFish-sharedassets1.assets-3610.ogg","215":"BlackNeckedStilt-sharedassets1.assets-3388.ogg","216":"Chameleon-sharedassets1.assets-3841.ogg","217":"Cobra-sharedassets1.assets-3751.ogg","218":"Cockatoo-sharedassets1.assets-3286.ogg","219":"Crane-sharedassets1.assets-3458.ogg","220":"DoorHeadAnt-sharedassets1.assets-3755.ogg","221":"EgyptianVulture-sharedassets1.assets-3419.ogg","222":"ElephantSeal-sharedassets1.assets-3831.ogg","223":"Emu-sharedassets1.assets-3571.ogg","224":"Falcon-sharedassets1.assets-3657.ogg","225":"Flea-sharedassets1.assets-3835.ogg","226":"FlyingFish-sharedassets1.assets-3284.ogg","227":"FlyingSquirrel-sharedassets1.assets-3794.ogg","228":"FowlBird-sharedassets1.assets-3652.ogg","229":"Gecko-sharedassets1.assets-3289.ogg","230":"GermanShepard-sharedassets1.assets-3601.ogg","231":"Gharial-sharedassets1.assets-3334.ogg","232":"Goose-sharedassets1.assets-3546.ogg","233":"Groundhog-sharedassets1.assets-3574.ogg","234":"HerculesBeetle-sharedassets1.assets-3634.ogg","235":"HoopoeBird-sharedassets1.assets-3283.ogg","236":"Lemur-sharedassets1.assets-3666.ogg","237":"Lizard-sharedassets1.assets-3670.ogg","238":"Macaque-sharedassets1.assets-3861.ogg","239":"Magpie-sharedassets1.assets-3716.ogg","240":"MantaRay-sharedassets1.assets-3818.ogg","241":"Mongoose-sharedassets1.assets-3817.ogg","242":"Mosasaurus-sharedassets1.assets-3550.ogg","245":"MuskOx-sharedassets1.assets-3641.ogg","246":"Nyala-sharedassets1.assets-3690.ogg","247":"Osprey-sharedassets1.assets-3575.ogg","248":"Oyster-sharedassets1.assets-3305.ogg","249":"Pangolin-sharedassets1.assets-3883.ogg","250":"Panther-sharedassets1.assets-3602.ogg","251":"PiedTamarin-sharedassets1.assets-3310.ogg","252":"PoisonDartFrog-sharedassets1.assets-3660.ogg","253":"Pteranodon-sharedassets1.assets-3569.ogg","254":"Puma-sharedassets1.assets-3866.ogg","255":"Robin-sharedassets1.assets-3646.ogg","256":"RoyalFlycatcher-sharedassets1.assets-3625.ogg","257":"SaigaAntelope-sharedassets1.assets-3453.ogg","258":"SeaUrchin-sharedassets1.assets-3846.ogg","259":"SecretaryBird-sharedassets1.assets-3848.ogg","260":"Silkmoth-sharedassets1.assets-3465.ogg","261":"SilverFox-sharedassets1.assets-3343.ogg","262":"Slug-sharedassets1.assets-3537.ogg","263":"Stoat-sharedassets1.assets-3498.ogg","264":"SurgeonFish-sharedassets1.assets-3763.ogg","265":"Vaquita-sharedassets1.assets-3819.ogg","266":"Warthog-sharedassets1.assets-3768.ogg","267":"WhaleShark-sharedassets1.assets-3672.ogg","268":"Wildebeest-sharedassets1.assets-3410.ogg","269":"Wolverine-sharedassets1.assets-3829.ogg","271":"BlueRingedOctopus-sharedassets1.assets-3850.ogg","272":"ConeSnail-sharedassets1.assets-3754.ogg","273":"Doberman-sharedassets1.assets-3746.ogg","274":"FireAnt-sharedassets1.assets-3504.ogg","275":"GrizzlyBear-sharedassets1.assets-3530.ogg","276":"NurseShark-sharedassets1.assets-3877.ogg","277":"SnappingJawTurtle-sharedassets1.assets-3644.ogg","278":"Stonefish-sharedassets1.assets-3636.ogg","330":"AntLion-sharedassets1.assets-3390.ogg","331":"Anubis-sharedassets1.assets-3606.ogg","332":"Basilisk-sharedassets1.assets-3553.ogg","333":"Behemoth-sharedassets1.assets-3484.ogg","334":"Bigfoot-sharedassets1.assets-3880.ogg","336":"Calygreyhound-sharedassets1.assets-3455.ogg","337":"Cerberus-sharedassets1.assets-3559.ogg","338":"Chimera-sharedassets1.assets-3547.ogg","339":"Chupacabra-sharedassets1.assets-3409.ogg","340":"Cockatrice-sharedassets1.assets-3649.ogg","341":"DropBear-sharedassets1.assets-3783.ogg","342":"Fairy-sharedassets1.assets-3779.ogg","343":"FirePup-sharedassets1.assets-3341.ogg","344":"FrostWolf-sharedassets1.assets-3279.ogg","345":"Gargoyle-sharedassets1.assets-3874.ogg","346":"GhostKitten-sharedassets1.assets-3620.ogg","348":"Griffin-sharedassets1.assets-3798.ogg","349":"Headcrab-sharedassets1.assets-3468.ogg","350":"Hippocampus-sharedassets1.assets-3480.ogg","352":"Hydra-sharedassets1.assets-3280.ogg","353":"Jackalope-sharedassets1.assets-3340.ogg","354":"Kitsune-sharedassets1.assets-3487.ogg","355":"Kraken-sharedassets1.assets-3536.ogg","356":"Leviathan-sharedassets1.assets-3759.ogg","357":"Mandrake-sharedassets1.assets-3668.ogg","358":"Manticore-sharedassets1.assets-3719.ogg","359":"Mimic-sharedassets1.assets-3735.ogg","360":"Minotaur-sharedassets1.assets-3812.ogg","362":"Murloc-sharedassets1.assets-3773.ogg","363":"Nessie-sharedassets1.assets-3384.ogg","364":"Ouroboros-sharedassets1.assets-3876.ogg","365":"Pegasus-sharedassets1.assets-3442.ogg","366":"Phoenix-sharedassets1.assets-3736.ogg","367":"Quetzalcoatl-sharedassets1.assets-3440.ogg","368":"RedDragon-sharedassets1.assets-3786.ogg","369":"Roc-sharedassets1.assets-3308.ogg","371":"Sandworm-sharedassets1.assets-3778.ogg","372":"SeaSerpent-sharedassets1.assets-3627.ogg","373":"Shoggoth-sharedassets1.assets-3556.ogg","374":"SkeletonDog-sharedassets1.assets-3539.ogg","375":"Slime-sharedassets1.assets-3446.ogg","376":"Sphinx-sharedassets1.assets-3554.ogg","377":"AxehandleHound-sharedassets1.assets-3715.ogg","378":"TreeEnt-sharedassets1.assets-3395.ogg","379":"Tsuchinoko-sharedassets1.assets-3317.ogg","380":"Unicorn-sharedassets1.assets-3460.ogg","381":"VampireBat-sharedassets1.assets-3688.ogg","382":"Warg-sharedassets1.assets-3398.ogg","383":"Werewolf-sharedassets1.assets-3781.ogg","384":"WhiteKillerRabbit-sharedassets1.assets-3691.ogg","385":"Wyvern-sharedassets1.assets-3692.ogg","386":"Xenomorph-sharedassets1.assets-3680.ogg","387":"Yeti-sharedassets1.assets-3593.ogg","388":"AfricanWildDog-sharedassets1.assets-3650.ogg","389":"AmamiRabbit-sharedassets1.assets-3847.ogg","390":"AmazonRiverDolphin-sharedassets1.assets-3603.ogg","391":"AmsterdamAlbatross-sharedassets1.assets-3604.ogg","392":"Angelshark-sharedassets1.assets-3787.ogg","393":"ArabianTahr-sharedassets1.assets-3331.ogg","394":"AraripeManakin-sharedassets1.assets-3336.ogg","395":"AyeAye-sharedassets1.assets-3785.ogg","396":"BanggaiCardinalfish-sharedassets1.assets-3266.ogg","397":"BayCat-sharedassets1.assets-3591.ogg","398":"BlackRhino-sharedassets1.assets-3338.ogg","399":"BlueWhale-sharedassets1.assets-3372.ogg","400":"BlueThroatedMacaw-sharedassets1.assets-3347.ogg","401":"BombusDahlbomii-sharedassets1.assets-3473.ogg","402":"Bonobo-sharedassets1.assets-3432.ogg","403":"CaliforniaCondor-sharedassets1.assets-3739.ogg","404":"DarwinsFox-sharedassets1.assets-3640.ogg","405":"Drill-sharedassets1.assets-3443.ogg","406":"EthiopianWolf-sharedassets1.assets-3822.ogg","407":"EuropeanMink-sharedassets1.assets-3422.ogg","408":"FanMussel-sharedassets1.assets-3497.ogg","409":"GeometricTortoise-sharedassets1.assets-3594.ogg","410":"GiantOtter-sharedassets1.assets-3801.ogg","411":"GiantPangasius-sharedassets1.assets-3387.ogg","412":"GiantTortoise-sharedassets1.assets-3742.ogg","413":"GreenSeaTurtle-sharedassets1.assets-3881.ogg","414":"HawaiianMonkSeal-sharedassets1.assets-3630.ogg","415":"HelmetedHornbill-sharedassets1.assets-3382.ogg","416":"HumpheadWrasse-sharedassets1.assets-3528.ogg","417":"IliPika-sharedassets1.assets-3535.ogg","418":"IriomoteCat-sharedassets1.assets-3298.ogg","419":"Kakapo-sharedassets1.assets-3631.ogg","420":"LongcombSawfish-sharedassets1.assets-3622.ogg","421":"MalayTapir-sharedassets1.assets-3311.ogg","422":"MonkeyFacedBat-sharedassets1.assets-3878.ogg","423":"PaintedTerrapin-sharedassets1.assets-3802.ogg","424":"PhilippineEagle-sharedassets1.assets-3875.ogg","425":"ProboscisMonkey-sharedassets1.assets-3318.ogg","426":"PygmyHippo-sharedassets1.assets-3764.ogg","427":"PygmyHog-sharedassets1.assets-3362.ogg","428":"RedPanda-sharedassets1.assets-3562.ogg","429":"RolowayMonkey-sharedassets1.assets-3399.ogg","430":"SakerFalcon-sharedassets1.assets-3420.ogg","431":"Saola-sharedassets1.assets-3695.ogg","432":"SilkySifaka-sharedassets1.assets-3589.ogg","433":"SpoonBilledSandpiper-sharedassets1.assets-3415.ogg","434":"SumatranTiger-sharedassets1.assets-3299.ogg","435":"TaitaShrew-sharedassets1.assets-3392.ogg","436":"TaitaThrush-sharedassets1.assets-3520.ogg","437":"TasmanianDevil-sharedassets1.assets-3758.ogg","438":"ToothBilledPigeon-sharedassets1.assets-3323.ogg","439":"Tucuxi-sharedassets1.assets-3413.ogg","440":"VolcanoSnail-sharedassets1.assets-3306.ogg","441":"WhiteBelliedHeron-sharedassets1.assets-3540.ogg","530":"BlueFootedBooby-sharedassets1.assets-3682.ogg","531":"GreaterSageGrouse-sharedassets1.assets-3423.ogg","532":"MarineIguana-sharedassets1.assets-3626.ogg","534":"TreeKangaroo-sharedassets1.assets-3500.ogg","535":"Albatross-sharedassets1.assets-3508.ogg","536":"Ammonite-sharedassets1.assets-3374.ogg","537":"Bass-sharedassets1.assets-3325.ogg","539":"Cardinal-sharedassets1.assets-3359.ogg","540":"Centipede-sharedassets1.assets-3353.ogg","541":"Chihuahua-sharedassets1.assets-3570.ogg","542":"Chimpanzee-sharedassets1.assets-3596.ogg","543":"Dimetrodon-sharedassets1.assets-3448.ogg","544":"Dugong-sharedassets1.assets-3834.ogg","545":"DumboOctopus-sharedassets1.assets-3349.ogg","546":"Elk-sharedassets1.assets-3859.ogg","547":"FairyArmadillo-sharedassets1.assets-3263.ogg","548":"Firefly-sharedassets1.assets-3840.ogg","549":"Fossa-sharedassets1.assets-3566.ogg","550":"Gibbon-sharedassets1.assets-3770.ogg","551":"Hare-sharedassets1.assets-3370.ogg","552":"HarpyEagle-sharedassets1.assets-3322.ogg","553":"Ibex-sharedassets1.assets-3378.ogg","554":"Jackal-sharedassets1.assets-3328.ogg","555":"Lemming-sharedassets1.assets-3383.ogg","556":"Maltese-sharedassets1.assets-3416.ogg","557":"OrchidMantis-sharedassets1.assets-3852.ogg","558":"Pheasant-sharedassets1.assets-3675.ogg","559":"Pigeon-sharedassets1.assets-3529.ogg","560":"Pony-sharedassets1.assets-3507.ogg","561":"RealVelociraptor-sharedassets1.assets-3765.ogg","562":"Salmon-sharedassets1.assets-3526.ogg","563":"SeaAnemone-sharedassets1.assets-3393.ogg","564":"SeaCucumber-sharedassets1.assets-3702.ogg","565":"Siamese-sharedassets1.assets-3707.ogg","566":"Silverfish-sharedassets1.assets-3849.ogg","567":"Sparrow-sharedassets1.assets-3732.ogg","568":"Sunfish-sharedassets1.assets-3364.ogg","569":"TarantulaHawk-sharedassets1.assets-3355.ogg","570":"Tardigrade-sharedassets1.assets-3385.ogg","571":"Termite-sharedassets1.assets-3613.ogg","572":"Tuna-sharedassets1.assets-3637.ogg","573":"VenusFlytrap-sharedassets1.assets-3275.ogg","601":"Bunyip-sharedassets1.assets-3743.ogg","603":"Bakunawa-sharedassets1.assets-3722.ogg","604":"Mothman-sharedassets1.assets-3426.ogg","605":"NightCrawler-sharedassets1.assets-3274.ogg","606":"Sleipnir-sharedassets1.assets-3803.ogg","607":"ThorGoat1-sharedassets1.assets-3857.ogg","610":"Thunderbird-sharedassets1.assets-3421.ogg","611":"CuddleToad-sharedassets1.assets-3472.ogg","612":"OldMouse-sharedassets1.assets-3579.ogg","613":"BadDog-sharedassets1.assets-3856.ogg","616":"QuestingBeast-sharedassets1.assets-3647.ogg","617":"EggLadCovered-sharedassets1.assets-3845.ogg","619":"Pixiu-sharedassets1.assets-3485.ogg","621":"Barghest-sharedassets1.assets-3885.ogg","622":"Rootler-sharedassets1.assets-3767.ogg","623":"LuckyCat-sharedassets1.assets-3291.ogg","624":"Leafling-sharedassets1.assets-3345.ogg","625":"FuLion-sharedassets1.assets-3401.ogg","626":"AlchemistBug-sharedassets1.assets-3321.ogg","627":"Pengobble-sharedassets1.assets-3776.ogg","628":"Baku-sharedassets1.assets-3837.ogg","630":"Cyclops-sharedassets1.assets-3521.ogg","631":"Amalgam-sharedassets1.assets-3269.ogg","633":"ForestSpirit-sharedassets1.assets-3525.ogg","634":"DwarvenBeetle-sharedassets1.assets-3583.ogg","635":"ManaHound-sharedassets1.assets-3434.ogg","636":"TeamSpirit-sharedassets1.assets-3701.ogg","639":"Ogopogo-sharedassets1.assets-3411.ogg","640":"LovelandFrogman-sharedassets1.assets-3391.ogg","651":"Wendigo-sharedassets1.assets-3549.ogg","652":"JerseyDevil-sharedassets1.assets-3629.ogg","653":"FurBearingTrout-sharedassets1.assets-3729.ogg","654":"Tatzelwurm-sharedassets1.assets-3865.ogg","655":"Kappa-sharedassets1.assets-3329.ogg","656":"Boitata-sharedassets1.assets-3412.ogg","657":"Nurikabe-sharedassets1.assets-3519.ogg","686":"AlbinoSquirrel-sharedassets1.assets-3531.ogg","687":"BlackBear-sharedassets1.assets-3503.ogg","688":"BrahmaChicken-sharedassets1.assets-3757.ogg","689":"FarmerCat-sharedassets1.assets-3375.ogg","690":"FarmerChicken-sharedassets1.assets-3832.ogg","691":"FarmerCrow-sharedassets1.assets-3324.ogg","692":"FarmerDog-sharedassets1.assets-3538.ogg","693":"FarmerMouse-sharedassets1.assets-3295.ogg","694":"FarmerPig-sharedassets1.assets-3365.ogg","695":"FruitFly-sharedassets1.assets-3870.ogg","696":"Gelada-sharedassets1.assets-3806.ogg","697":"GreatPotoo-sharedassets1.assets-3491.ogg","698":"Locust-sharedassets1.assets-3752.ogg","700":"Mink-sharedassets1.assets-3495.ogg","701":"Pangasius-sharedassets1.assets-3492.ogg","702":"Quail-sharedassets1.assets-3297.ogg","703":"QueenBee-sharedassets1.assets-3667.ogg","704":"Quoll-sharedassets1.assets-3724.ogg","705":"SugarGlider-sharedassets1.assets-3665.ogg","706":"Trout-sharedassets1.assets-3607.ogg","707":"Vervet-sharedassets1.assets-3326.ogg","708":"Weevil-sharedassets1.assets-3728.ogg","711":"VampireSquid-sharedassets1.assets-3706.ogg","712":"MimicOctopus-sharedassets1.assets-3694.ogg","713":"TogianBabirusa-sharedassets1.assets-3805.ogg","715":"Takhi-sharedassets1.assets-3799.ogg","716":"SnowLeopard-sharedassets1.assets-3872.ogg","717":"Hirola-sharedassets1.assets-3774.ogg","719":"Takin-sharedassets1.assets-3490.ogg","720":"GoldenTamarin-sharedassets1.assets-3396.ogg","721":"DungBeetle-sharedassets1.assets-3496.ogg","722":"SilkieChicken-sharedassets1.assets-3532.ogg","723":"LeafySeaDragon-sharedassets1.assets-3731.ogg","724":"Mandarinfish-sharedassets1.assets-3678.ogg","725":"Olm-sharedassets1.assets-3563.ogg","726":"HonduranWhiteBat-sharedassets1.assets-3427.ogg","727":"SpiderCrab-sharedassets1.assets-3809.ogg","728":"GlaucusAtlanticus-sharedassets1.assets-3628.ogg","729":"PoodleMoth-sharedassets1.assets-3294.ogg","730":"Andrewsarchus-sharedassets1.assets-3479.ogg","731":"ThornyDragon-sharedassets1.assets-3572.ogg","732":"PinkRobin-sharedassets1.assets-3552.ogg","733":"PatagonianMara-sharedassets1.assets-3760.ogg","734":"Platybelodon-sharedassets1.assets-3609.ogg","735":"SpottedHandfish-sharedassets1.assets-3664.ogg","736":"JewelCaterpillar-sharedassets1.assets-3522.ogg","740":"Gerenuk-sharedassets1.assets-3756.ogg","742":"RedLippedBatfish-sharedassets1.assets-3796.ogg","743":"Markhor-sharedassets1.assets-3582.ogg","744":"PurpleFrog-sharedassets1.assets-3661.ogg","745":"PeacockSpider-sharedassets1.assets-3677.ogg","746":"LongWattledUmbrellabird-sharedassets1.assets-3342.ogg","748":"Deinocheirus-sharedassets1.assets-3264.ogg","749":"Lamprey-sharedassets1.assets-3693.ogg","750":"SatanicLeafTailedGecko-sharedassets1.assets-3301.ogg","751":"Quetzalcoatlus-sharedassets1.assets-3565.ogg","752":"GiantIsopod-sharedassets1.assets-3404.ogg","753":"HoodedSeal-sharedassets1.assets-3653.ogg","754":"GoblinShark-sharedassets1.assets-3696.ogg","755":"Hoatzin-sharedassets1.assets-3586.ogg","756":"YetiCrab-sharedassets1.assets-3863.ogg","757":"Nudibranchs-sharedassets1.assets-3400.ogg","758":"Bilby-sharedassets1.assets-3619.ogg","759":"Therizinosaurus-sharedassets1.assets-3590.ogg","760":"WhiteBootedRacketTail-sharedassets1.assets-3623.ogg","761":"PygmySeahorse-sharedassets1.assets-3673.ogg","763":"SarcasticFringehead-sharedassets1.assets-3833.ogg","765":"Roadrunner-sharedassets1.assets-3744.ogg","766":"YellowBoxFish-sharedassets1.assets-3303.ogg","768":"DesertRainFrog-sharedassets1.assets-3821.ogg","769":"Dunkleosteus-sharedassets1.assets-3418.ogg","770":"Estemmenosuchus-sharedassets1.assets-3685.ogg","772":"Amargasaurus-sharedassets1.assets-3320.ogg","773":"BabyCthulhu-sharedassets1.assets-3461.ogg","774":"BlueJay-sharedassets1.assets-3333.ogg","775":"Budgie-sharedassets1.assets-3277.ogg","776":"FlounderYoung-sharedassets1.assets-3777.ogg","779":"CoconutCrab-sharedassets1.assets-3488.ogg","781":"EagleOwl-sharedassets1.assets-3824.ogg","782":"Akhlut-sharedassets1.assets-3573.ogg","783":"HermitCrab-sharedassets1.assets-3444.ogg","784":"Namazu-sharedassets1.assets-3319.ogg","785":"Ahuizotl-sharedassets1.assets-3428.ogg","786":"Caladrius-sharedassets1.assets-3741.ogg","787":"Cuckoo-sharedassets1.assets-3633.ogg","788":"CuckooBaby-sharedassets1.assets-3551.ogg","791":"VampireParrot-sharedassets1.assets-3348.ogg","796":"Barnacle-sharedassets1.assets-3645.ogg","797":"Bloodhound-sharedassets1.assets-3439.ogg","798":"BrazillianTreehopper-sharedassets1.assets-3864.ogg","800":"GiantSquirrel-sharedassets1.assets-3713.ogg","801":"PacificFanfish-sharedassets1.assets-3354.ogg","802":"RuspolisTuraco-sharedassets1.assets-3313.ogg","803":"ShimaEnaga-sharedassets1.assets-3862.ogg","804":"SpinyBushViper-sharedassets1.assets-3639.ogg","805":"Tadpole-sharedassets1.assets-3462.ogg","806":"TerrorBird-sharedassets1.assets-3697.ogg","807":"WoollyRhino-sharedassets1.assets-3599.ogg","808":"Lusca-sharedassets1.assets-3281.ogg","811":"Amphisbaena-sharedassets1.assets-3470.ogg","812":"Tarasque-sharedassets1.assets-3600.ogg","823":"MochaDick-sharedassets1.assets-3581.ogg","824":"Tanystropheus-sharedassets1.assets-3417.ogg"}}')},40781(O,S,i){i.d(S,{X:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Tarasque";tier=5;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Tarasque Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,o=[.25,.5,.75][Math.min(Math.max(t.level-1,0),2)],r=t.parent.petArray.filter(F=>F&&F.alive);if(0===r.length)return void this.triggerTigerExecution(e);let d=0,g=0;for(const F of r){const J=Math.floor(F.attack*o),ne=Math.floor(F.health*o);F.attack=Math.max(1,F.attack-J),F.health=Math.max(1,F.health-ne),d+=J,g+=ne}const f=Math.floor(d/r.length),D=Math.floor(g/r.length),k=d%r.length,L=g%r.length;for(let F=0;F<r.length;F++){const J=r[F];let ne=f+(F<k?1:0),H=D+(F<L?1:0);ne>0&&J.increaseAttack(ne),H>0&&J.increaseHealth(H)}this.logService.createLog({message:`${t.name} redistributed ${d}/${g} stats across ${r.length} pets.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},40804(O,S,i){i.d(S,{G:()=>c});var A=i(22097);class c extends A.${name="Bok Choy";equipmentClass="shop";tier=2}},40830(O,S,i){i.d(S,{Z:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;petService;name="Sarcastic Fringehead";tier=3;pack="Custom";attack=4;health=7;initAbilities(){this.addAbility(new _(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,o,r,d,f,D)}}class _ extends c.T{logService;petService;constructor(e,t,n){super({name:"SarcasticFringeheadAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=t,this.petService=n}spawnForOpponent(e){const t=this.owner,n=t.parent.opponent;if(0===(t.swallowedPets?.length??0)){const a=t.sarcasticFringeheadSwallowedPet;if(a){const o=this.petService.createPet({name:a,attack:1,health:1,exp:t.minExpForLevel,equipment:null,mana:0},t.parent);o&&t.swallowedPets.push(o)}}for(;t.swallowedPets.length>0;){const a=t.swallowedPets.shift();if(!a)continue;a.parent=n;const o=n.summonPet(a,0,!1);o.success&&this.logService.createLog({message:`${t.name} spawned ${a.name} for the opponent.`,type:"ability",player:t.parent,tiger:e.tiger,randomEvent:o.randomEvent})}}executeAbility(e){this.spawnForOpponent(e),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.petService)}}},40970(O,S,i){i.d(S,{s:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Manta Ray";tier=4;pack="Golden";attack=5;health=7;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"MantaRayAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;let n=!1;for(let o=0;o<5;o++)if(null==t.parent.getPetAtPosition(o)){n=!0;break}n?(this.logService.createLog({message:`${t.name} will give +${2*this.level} gold next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},41074(O,S,i){i.d(S,{j:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;petService;name="Leviathan";tier=6;pack="Custom";attack=6;health=10;initAbilities(){this.addAbility(new _(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,o,r,d,f,D)}}class _ extends c.T{logService;petService;constructor(e,t,n){super({name:"LeviathanAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.petService=n}executeAbility(e){const t=this.owner,{tiger:n,pteranodon:a}=e,o=6*this.level,r=2*this.level,d=this.petService.createPet({name:"Fish",attack:o,health:o,mana:0,exp:0,equipment:null,triggersConsumed:0},t.parent);d.increaseExp(r);const g=t.parent.summonPet(d,t.savedPosition,!1,t);g.success&&this.logService.createLog({message:`${t.name} summoned ${d.name} (${o}/${o}) and granted ${r} exp.`,type:"ability",player:t.parent,tiger:n,pteranodon:a,randomEvent:g.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.petService)}}},41080(O,S,i){i.d(S,{b:()=>_});var A=i(68189);const _=new(i(76228).q)(A.R)},41270(O,S,i){i.d(S,{A:()=>t});var A=i(30554),c=i(35776),E=i(53600),v=Object.prototype.hasOwnProperty;const t=function e(n){if(!(0,A.A)(n))return(0,E.A)(n);var a=(0,c.A)(n),o=[];for(var r in n)"constructor"==r&&(a||!v.call(n,r))||o.push(r);return o}},41271(O,S,i){i.d(S,{R:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Salmon";tier=1;pack="Star";attack=5;health=5;hidden=!0;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SalmonAbility",owner:e,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=1+Math.floor(r.health/25),g=5*this.level;for(let f=0;f<d;f++){let D=r.parent.opponent.getRandomPet([],!1,!0,!1,r);D.pet&&r.snipePet(D.pet,g,D.random,a)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},41504(O,S,i){i.d(S,{W:()=>E});var A=i(50873),c=i(17385);class E extends A.L{logService;toyService;petService;name="Stuffed Bear";tier=1;faintCount=0;constructor(v,e,t,n,a){super(v,e,n,a),this.logService=v,this.toyService=e,this.petService=t}friendFaints(v,e,t,n){if(this.faintCount+=1,this.faintCount%3!=0)return;const a=this.parent.getLastPet();if(!a.pet)return;const o=a.pet,r=(0,c.e)(o.equipment),d=this.parent.opponent,g=this.petService.createPet({name:o.name,attack:o.attack,health:o.health,exp:o.exp??0,mana:o.mana??0,equipment:r},d);g.toyPet=!0,d.summonPet(g,0).success&&this.logService.createLog({message:`${this.name} summoned an enemy copy of ${o.name}.`,type:"ability",player:this.parent,puma:t})}}},41604(O,S,i){i.d(S,{F:()=>_});var A=i(46200),c=i(5615),E=i(32232);class _ extends A.i{logService;abilityService;name="Blue-Footed Booby";tier=4;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Blue-Footed Booby Ability",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner;if(o.parent.trumpets<4)return void this.triggerTigerExecution(t);const g=o.getPetsBehind(1,"Melon Slice")[0];if(!g||!g.alive)return void this.triggerTigerExecution(t);o.parent.spendTrumpets(4,o);const f=new E.o;f.uses=this.level,f.originalUses=f.uses,g.givePetEquipment(f),this.logService.createLog({message:`${o.name} spent 4 trumpets to give ${g.name} a Melon Slice (${f.uses} uses).`,type:"ability",player:o.parent,tiger:n,pteranodon:a}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},41752(O,S,i){i.d(S,{G:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Groundhog";tier=1;pack="Golden";attack=2;health=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"GroundhogAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{pteranodon:o}=e,r=this.owner,d=r.parent.resolveTrumpetGainTarget(r);d.player.gainTrumpets(this.level,r,o,void 0,void 0,d.random),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},41795(O,S,i){i.d(S,{A:()=>e});var A=i(42619),c=i(20778),E=i(33340),_=E.A&&E.A.isMap;const e=_?(0,c.A)(_):A.A},41837(O,S,i){i.d(S,{E:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Platybelodon";tier=4;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PlatybelodonAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:a}=e,r=this.owner;let d=0;r.parent===t.player?d=t.playerRollAmount||0:r.parent===t.opponent&&(d=t.opponentRollAmount||0);let g=this.level*Math.min(d,8);if(g>0){const f=r.parent.resolveTrumpetGainTarget(r);f.player.gainTrumpets(g,r,a,void 0,void 0,f.random)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},41885(O,S,i){i.d(S,{A:()=>c});const c=function A(E,_){return E?.[_]}},41943(O,S,i){i.d(S,{z:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Bus";tier=1;pack="Turtle";hidden=!0;health=3;attack=5;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"BusAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},42075(O,S,i){i.d(S,{u:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Orangutan";tier=3;pack="Star";attack=1;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"OrangutanAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=t.parent.getLowestHealthPet(t),a=n.pet;if(!a)return void this.triggerTigerExecution(e);const o=3*this.level;a.increaseHealth(o),this.logService.createLog({message:`${t.name} gave ${a.name} +${o} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},42280(O,S,i){i.d(S,{A:()=>_});var A=i(16080);const _=function E(v){return(0,A.A)(v,4)}},42294(O,S,i){function A(v,e,t){for(const n of v.getTeam(e))v.triggerAbility(n,"FoodEatenByAny",e),v.triggerAbility(n,"FoodEatenByFriendly",e),n==e?(v.triggerAbility(n,"FoodEatenByThis",e),"apple"===t?(v.triggerAbility(n,"AppleEatenByThis",e),v.handleNumberedCounterTriggers(n,e,void 0,v.getNumberedTriggersForPet(n,"AppleEatenByThis"))):"corn"===t&&v.triggerAbility(n,"CornEatenByThis",e),v.handleNumberedCounterTriggers(n,e,void 0,v.getNumberedTriggersForPet(n,"Eat"))):(v.triggerAbility(n,"FoodEatenByFriend",e),"corn"===t&&v.triggerAbility(n,"CornEatenByFriend",e));for(const n of v.getTeam(e.parent?.opponent))v.triggerAbility(n,"FoodEatenByAny",e)}function c(v,e,t){for(const n of v.getTeam(e))v.triggerAbility(n,"FriendlyGainsPerk",e),"Strawberry"===t&&v.triggerAbility(n,"FriendlyGainedStrawberry",e),n==e?(v.triggerAbility(n,"ThisGainedPerk",e),"Strawberry"===t&&v.triggerAbility(n,"ThisGainedStrawberry",e)):(v.triggerAbility(n,"FriendGainsPerk",e),"Strawberry"===t&&v.triggerAbility(n,"FriendGainedStrawberry",e))}function E(v,e,t){for(const n of v.getTeam(e))v.triggerAbility(n,"PetLostPerk",e),"strawberry"===t&&v.triggerAbility(n,"LostStrawberry",e),n==e?v.triggerAbility(n,"ThisLostPerk",e):(v.triggerAbility(n,"FriendLostPerk",e),"strawberry"===t&&v.triggerAbility(n,"FriendLostStrawberry",e));for(const n of v.getTeam(e.parent?.opponent))v.triggerAbility(n,"PetLostPerk",e)}function _(v,e,t){for(const n of v.getTeam(e))v.triggerAbility(n,"AnyoneGainedAilment",e),v.triggerAbility(n,n==e?"ThisGainedAilment":"FriendGainsAilment",e),"weak"===t&&v.triggerAbility(n,"AnyoneGainedWeak",e);for(const n of v.getTeam(e.parent?.opponent))v.triggerAbility(n,"EnemyGainedAilment",e),v.triggerAbility(n,"AnyoneGainedAilment",e),"weak"===t&&v.triggerAbility(n,"AnyoneGainedWeak",e)}i.d(S,{$f:()=>_,Jo:()=>c,hu:()=>E,yB:()=>A})},42377(O,S,i){i.d(S,{j:()=>t});var A=i(46200),c=i(5615),E=i(1152),_=i(58857),v=i(61850),e=i(79222);class t extends A.i{logService;abilityService;petService;name="Hippogriff";tier=5;pack="Custom";attack=5;health=5;initAbilities(){this.addAbility(new n(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(o,r,d,g,f,D,k,L,F,J){super(o,r,g),this.logService=o,this.abilityService=r,this.petService=d,this.initPet(L,f,D,k,F,J)}}class n extends c.T{logService;abilityService;petService;pendingBuffs=new Map;constructor(o,r,d,g){super({name:"Hippogriff Ability",owner:o,triggers:["FriendSummoned","EndTurn","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:o.level,abilityFunction:f=>this.executeAbility(f)}),this.logService=r,this.abilityService=d,this.petService=g}executeAbility(o){const{trigger:r,triggerPet:d,gameApi:g}=o;if("FriendSummoned"===r){const L=(0,E.Uj)(this.owner,d);L.pet&&this.applyTemporaryBuff(L.pet,o,L.random)}else"EndTurn"===r?this.resetBuffs():"PostRemovalFaint"===r&&this.summonNextTierPet(g,o);this.triggerTigerExecution(o)}applyTemporaryBuff(o,r,d){const g=this.owner,f=this.level;o.increaseAttack(f);const D=this.pendingBuffs.get(o)??0;this.pendingBuffs.set(o,D+f),(0,E.rv)(this.logService,g,`${g.name} gave ${o.name} +${f} attack until next turn.`,r.tiger,r.pteranodon,{randomEvent:d})}resetBuffs(){for(const[o,r]of this.pendingBuffs)o&&o.increaseAttack(-r);this.pendingBuffs.clear()}summonNextTierPet(o,r){const d=this.owner;if(!o)return;const g=Number.isFinite(o.previousShopTier)?o.previousShopTier:1,f=Math.min(6,Math.max(1,g+1)),D=q=>(q??[]).filter(ae=>ae&&d.name&&ae.toLowerCase()!==d.name.toLowerCase()),k=d.parent===o.player?o.playerPetPool:o.opponentPetPool;let L=D(k?.get(f));if(L?.length||(L=D(this.petService.allPets.get(f))),L?.length||(L=D(this.petService.allPets.get(1))),!L.length)return;const F=(0,_.k6)({key:"pet.hippogriff-faint-summon",label:(0,e.I)(d,`Hippogriff tier ${f} summon`),options:L.map(q=>({id:q,label:q}))},()=>(0,v.hw)(0,L.length-1)),ne=5*this.level,H=this.petService.createPet({name:L[F.index],attack:ne,equipment:null,exp:0,health:ne,mana:0},d.parent);d.parent.summonPet(H,d.savedPosition,!1,d).success&&this.logService.createLog({message:`${d.name} spawned a ${H.attack}/${H.health} ${H.name} from tier ${f}.`,type:"ability",player:d.parent,tiger:r.tiger,randomEvent:F.randomEvent,pteranodon:r.pteranodon})}copy(o){return new n(o,this.logService,this.abilityService,this.petService)}}},42381(O,S,i){i.d(S,{d:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Eel";tier=3;pack="Custom";attack=4;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Eel Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=.5*this.level,r=Math.floor(a.health*o);a.increaseHealth(r),this.logService.createLog({message:`${a.name} gained +${r} health (+${100*o}%).`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},42390(O,S,i){i.d(S,{T:()=>_});var A=i(46200),c=i(5615),E=i(85871);class _ extends A.i{logService;abilityService;name="Tree Kangaroo";tier=3;pack="Danger";attack=3;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"TreeKangarooAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{gameApi:n,tiger:o,pteranodon:r}=t,d=this.owner;let k=[...d.parent.getPetsWithEquipmentWithSillyFallback("perk",d),...d.parent.opponent.petArray.filter(J=>"Tree Kangaroo"==J.name),...d.parent.petArray.filter(J=>"Tree Kangaroo"==J.name)],L=d.parent.opponent.getLastPet(k,d),F=L.pet;F&&(F.givePetEquipment(new E.E),this.logService.createLog({message:`${d.name} gave ${F.name} Silly`,type:"ability",tiger:o,player:d.parent,randomEvent:L.random}));for(let J=0;J<this.level;J++){let H=d.parent.getSpecificPet(d,F).pet;if(H){this.logService.createLog({message:`${d.name} activated ${F.name}'s ability.`,type:"ability",tiger:o,player:d.parent,randomEvent:L.random});for(const $ of H.abilityList)$.execute(n,H,o,r)}}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},42495(O,S,i){i.d(S,{A:()=>c});const c=function A(E){var _=this.has(E)&&delete this.__data__[E];return this.size-=_?1:0,_}},42504(O,S,i){i.d(S,{f:()=>E});var A=i(50873);i(5615);class E extends A.L{name="Golden Harp";tier=4}},42589(O,S,i){i.d(S,{Y:()=>_});var A=i(46200),c=i(8178),E=i(5615);class _ extends A.i{logService;abilityService;name="Nessie";tier=5;pack="Unicorn";attack=3;health=5;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends E.T{logService;abilityService;constructor(t,n,a){super({name:"NessieAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{gameApi:n,tiger:o,pteranodon:r}=t,d=this.owner,D=3*this.level,k=3*this.level;let L=D,F=k,J="";const ne=!d.parent.summonedBoatThisBattle;if(ne){const ae=(d.parent===n.player?n.playerRollAmount:n.opponentRollAmount)*this.level;L+=ae,F+=ae,d.parent.summonedBoatThisBattle=!0}L=Math.min(50,L),F=Math.min(50,F),ne&&(J=` It's the first Boat, so it gains +${Math.max(0,L-D)}/+${Math.max(0,F-k)}!`);let H=new c.p(this.logService,this.abilityService,d.parent,F,L,0),$=d.parent.summonPet(H,d.savedPosition,!1,d);$.success&&this.logService.createLog({message:`${d.name} spawned a Nessie? ${L}/${F}${J}`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:$.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},42619(O,S,i){i.d(S,{A:()=>v});var A=i(63080),c=i(42661);const v=function _(e){return(0,c.A)(e)&&"[object Map]"==(0,A.A)(e)}},42655(O,S,i){i.d(S,{A:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Zombie Fly";tier=1;pack="Turtle";hidden=!0;health=4;attack=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"ZombieFlyAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},42661(O,S,i){i.d(S,{A:()=>c});const c=function A(E){return null!=E&&"object"==typeof E}},42697(O,S,i){i.d(S,{A:()=>t});var A=i(71861),c=i(26032),_=Object.prototype.propertyIsEnumerable,v=Object.getOwnPropertySymbols;const t=v?function(n){return null==n?[]:(n=Object(n),(0,A.A)(v(n),function(a){return _.call(n,a)}))}:c.A},42704(O,S,i){i.d(S,{Jd:()=>a,MR:()=>d,Nq:()=>e,O3:()=>_,Oc:()=>v,Rh:()=>o,UK:()=>E,_w:()=>r,gK:()=>t,p5:()=>f,vn:()=>g,xF:()=>n});var A=i(33524),c=i(77856);const E=(D,k,L,F)=>{if(L&&(0,A.ku)(L))return{pets:[...D.petArray,...D.opponent.petArray].filter(H=>H.alive),random:!1};let J=k?[...D.petArray,...D.opponent.petArray]:[...D.petArray];return F&&(J=J.filter(ne=>ne!==L)),J=J.filter(ne=>ne.alive),{pets:J,random:!1}},_=(D,k)=>{if(k&&(0,A.ku)(k))return(0,c.WB)(D,[k],!0);const L=D.getPet(2);return L&&!L.alive?{pet:null,random:!1}:{pet:L??null,random:!1}},v=(D,k,L)=>{if(L&&(0,A.ku)(L))return(0,c.WB)(D,[L],!0);for(const F of[...D.petArray].reverse())if(F.alive&&(!k||!k.includes(F)))return{pet:F,random:!1};return{pet:null,random:!1}},e=(D,k,L,F)=>{if(F&&(0,A.ku)(F))return(0,c.BR)(D,k,!0,[F]);const J=[...D.petArray].filter($=>$.alive&&(!L||!L.includes($)));return 0===J.length?{pets:[],random:!1}:{pets:[...J].reverse().slice(0,k),random:!1}},t=(D,k,L)=>{if(k&&(0,A.ku)(k))return(0,c.WB)(D,[k],!0);for(const F of D.petArray)if(F.alive){if(L&&L.includes(F))continue;return{pet:F,random:!1}}return{pet:null,random:!1}},n=(D,k,L,F)=>{if(F&&(0,A.ku)(F))return(0,c.BR)(D,k,!0,[F]);const J=[...D.petArray].filter(H=>H.alive&&(!L||!L.includes(H)));return 0===J.length?{pets:[],random:!1}:{pets:J.slice(0,k),random:!1}},a=(D,k,L,F)=>{if(L&&(0,A.ku)(L)){const $=F?[...F]:[];return $.includes(L)||$.push(L),(0,c.BR)(D,k,!0,$)}return{pets:L.getPetsBehind(2*k).filter($=>!F||!F.includes($)).slice(0,k),random:!1}},o=(D,k)=>k&&(0,A.ku)(k)?(0,c.WB)(D,[k],!0):{pet:k,random:!1},r=(D,k,L)=>k&&(0,A.ku)(k)?(0,c.WB)(D,void 0,!0):L&&L.alive?{pet:L,random:!1}:{pet:null,random:!1},d=(D,k,L,F,J,ne)=>{if(L&&(0,A.ku)(L)){const q=F?[...F]:[];return q.includes(L)||q.push(L),(0,c.BR)(D,k,!0,q)}const H=[];let $=L.petAhead;for(;$&&!(H.length>=k);)ne&&$.equipment?.name===ne||(!F||!F.includes($))&&H.push($),$=$.petAhead;if(H.length<k&&J){let q=D.opponent.furthestUpPet;for(;q&&!(H.length>=k);)ne&&q.equipment?.name===ne||(!F||!F.includes(q))&&H.push(q),q=q.petBehind()}return{pets:H,random:!1}},g=(D,k,L)=>{if(k&&(0,A.ku)(k))return(0,c.BR)(D,2*L,!0,[k]);const F=k.savedPosition,J=[];for(const ne of D.petArray)if(ne.alive&&ne!==k){const H=Math.abs(ne.position-F);H>0&&H<=L&&J.push(ne)}for(const ne of D.opponent.petArray)ne.alive&&F+ne.position+1<=L&&J.push(ne);return{pets:J,random:!1}},f=(D,k)=>{if(k&&(0,A.ku)(k))return(0,c.WB)(D,[k],!0);const L=k.position;let F=(0,A.Ye)(D.opponent,L);if(F&&F.alive)return{pet:F,random:!1};for(let J=1;J<=4;J++){if(F=(0,A.Ye)(D.opponent,L+J),F&&F.alive)return{pet:F,random:!1};if(F=(0,A.Ye)(D.opponent,L-J),F&&F.alive)return{pet:F,random:!1}}return{pet:null,random:!1}}},42727(O,S,i){i.d(S,{w:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Mosquito";tier=1;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MosquitoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,null,null,!0,r);for(let g of d.pets)null!=g&&r.snipePet(g,1,d.random,a);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},42797(O,S,i){i.d(S,{d:()=>_});var A=i(46200),c=i(5615),E=i(81226);class _ extends A.i{logService;abilityService;name="Bear";tier=3;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"BearAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner,g=this.level,f=d.savedPosition,D=[];for(const k of d.parent.petArray)if(k.alive){const L=Math.abs(k.position-f);L>0&&L<=g&&D.push(k)}for(const k of d.parent.opponent.petArray)k.alive&&f+k.position+1<=g&&D.push(k);for(let k of D)k.givePetEquipment(new E.c(this.logService,this.abilityService)),this.logService.createLog({message:`${d.name} gave ${k.name} Honey.`,type:"ability",player:d.parent,tiger:o,pteranodon:r});this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},42798(O,S,i){i.d(S,{f:()=>_});var A=i(46200),c=i(5615),E=i(51838);class _ extends A.i{logService;abilityService;name="Wildebeest";tier=6;pack="Golden";attack=8;health=6;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"WildebeestAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,condition:a=>this.owner.parent.trumpets>=2,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.getThis(d),f=g.pet;null!=f&&(f.givePetEquipment(new E.K),this.logService.createLog({message:`${d.name} gave itself a Coconut.`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:g.random}),d.parent.spendTrumpets(2,d),this.triggerTigerExecution(t))}reset(){super.reset(),this.maxUses=this.level}copy(t){return new v(t,this.logService)}}},42814(O,S,i){i.d(S,{_:()=>A});class A{setAbilityEquipments(){"Eggplant"==this.equipment?.name?(this.equipment.callback(this.asPet()),this.eggplantTouched=!0):this.equipment?.callback&&this.equipment.callback(this.asPet())}getEquippedEquipmentInstance(E){return this.equipment??E}addAbility(E){this.abilityList.push(E)}removeAbility(E,_){const v=this.abilityList.length;return this.abilityList=this.abilityList.filter(e=>!(E&&e.name===E||_&&e.abilityType===_||!E&&!_)),this.abilityList.length<v}getAbilities(E,_){return this.abilityList.filter(v=>!(E&&!v.matchesTrigger(E)||_&&v.abilityType!==_))}getAbilitiesWithTrigger(E,_,v){return this.abilityList.filter(e=>!(E&&!e.matchesTrigger(E)||!e.canUse()||_&&e.abilityType!==_||v&&e.name!==v))}executeAbilities(E,_,v,e,t,n){if(this.transformed&&this.transformedInto)return void this.transformedInto.executeAbilities(E,_,v,e,t,n);const a=this.getAbilitiesWithTrigger(E,"Pet");for(const r of a)if(r.execute(_,v,e,t,n),this.transformed&&this.transformedInto)return void this.transformedInto.executeAbilities(E,_,v,e,t,n);const o=this.getAbilitiesWithTrigger(E,"Equipment");for(const r of o)if(r.execute(_,v,e,t,n),this.transformed&&this.transformedInto)return void this.transformedInto.executeAbilities(E,_,v,e,t,n)}activateAbilities(E,_,v,e,t){const n=this.getAbilities(E,v);for(const a of n)a.execute(_,e,void 0,void 0,t)}copyAbilities(E,_,v){this.transferAbilities(E,_,v,!0)}gainAbilities(E,_,v){this.transferAbilities(E,_,v,!1)}transferAbilities(E,_,v,e){const t=E.getAbilities(void 0,_);e&&this.removeAbility(void 0,_);for(const n of t){const a=n.copy(this.asPet());if(null==a)continue;v&&(a.abilityLevel=v,a.alwaysIgnorePetLevel=!0,a.reset()),a.native=!1;const o=a.abilityFunction,r=E.name;a.abilityFunction=d=>{const g=this.name;this.name=`${this.baseName??g}'s ${r}`;try{o(d)}finally{this.name=g}},this.addAbility(a)}}hasAbility(E,_){return this.getAbilities(E,_).length>0}hasTrigger(E,_,v){return this.getAbilitiesWithTrigger(E,_,v).length>0}isSellPet(){return!!(["Beaver","Duck","Pig","Pillbug","Kiwi","Mouse","Frog","Bass","Tooth Billed Pigeon","Marmoset","Capybara","Platypus"].includes(this.name)||this.originalAbilityList.filter(_=>_.matchesTrigger("ThisSold")&&"Pet"==_.abilityType).length>0)}isFaintPet(){return this.originalAbilityList.filter(E=>(E.matchesTrigger("PostRemovalFaint")||E.matchesTrigger("Faint"))&&"Pet"==E.abilityType).length>0}asPet(){return this}}},42824(O,S,i){i.d(S,{L:()=>v});var A=i(46200),c=i(5615),E=i(29886),_=i(1152);class v extends A.i{logService;abilityService;name="Betta Fish";tier=3;pack="Golden";attack=2;health=3;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;targetedPets=new Set;constructor(n,a){super({name:"Betta Fish Ability",owner:n,triggers:["FriendLostPerk"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:n.level,precondition:o=>{const{triggerPet:r}=o,d=this.owner;if(!(0,_.Re)(d,r,{excludeOwner:!0}))return!1;const f=(0,_.lK)(d,r).pet;return!!f&&!this.targetedPets.has(f)},abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}reset(){this.maxUses=this.level,this.targetedPets.clear(),super.reset()}executeAbility(n){const{triggerPet:o,tiger:r}=n,g=this.owner;if(!o)return;const D=(0,_.lK)(g,o).pet;D&&(this.targetedPets.add(D),D.givePetEquipment(new E.B),this.logService.createLog({message:`${g.name} gave ${D.name} Guava.`,type:"ability",player:g.parent,tiger:r}),this.triggerTigerExecution(n))}copy(n){return new e(n,this.logService)}}},42916(O,S,i){i.d(S,{W:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Tarantula Hawk";tier=6;pack="Custom";health=2;attack=10;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TarantulaHawkAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner,d=Math.floor(r.attack/10);if(d<=0)return;let f=r.parent.opponent.getAll(!1,r).pets;if(0!=f.length){for(let D=0;D<d;D++)for(let k of f){const L=this.formatPositionArg(r),F=this.formatPositionArg(k);k.increaseHealth(-this.level),this.logService.createLog({message:`[${L}->${F}] ${r.name} removed ${this.level} health from ${k.name}.`,type:"ability",player:r.parent,sourcePet:r,targetPet:k,sourceIndex:r.savedPosition+1,targetIndex:k.savedPosition+1,targetIsOpponent:k.parent?.isOpponent,tiger:a,pteranodon:o})}this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}formatPositionArg(e){const t=e.parent?.isOpponent?"O":"P",n=Number.isFinite(e.savedPosition)?Math.trunc(e.savedPosition)+1:1;return`${t}${Math.min(Math.max(n,1),5)}`}}},42917(O,S,i){i.d(S,{A:()=>e});var A=i(35776),c=i(97939),_=Object.prototype.hasOwnProperty;const e=function v(t){if(!(0,A.A)(t))return(0,c.A)(t);var n=[];for(var a in Object(t))_.call(t,a)&&"constructor"!=a&&n.push(a);return n}},43125(O,S,i){i.d(S,{Y:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Sealion";tier=4;pack="Golden";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"SealionAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level,a=this.level,o=[];let r=t.petBehind();for(;r;)o.push(r),r=r.petBehind();const d=[];let g=t.petAhead;for(;g;)d.push(g),g=g.petAhead;for(const f of o)f.increaseAttack(n);for(const f of d)f.increaseHealth(a);(o.length>0||d.length>0)&&this.logService.createLog({message:`${t.name} gave friends behind +${n} attack and friends ahead +${a} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:o.length+d.length>1}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},43378(O,S,i){i.d(S,{A:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Butterfly";tier=1;pack="Puppy";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"ButterflyAbility",owner:e,triggers:["ThisTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;if(!r.alive)return;let g=r.parent.opponent.getStrongestPet(r);g.pet&&(r.health=g.pet.health,r.attack=g.pet.attack,this.logService.createLog({message:`${r.name} copied stats from the strongest enemy (${r.attack}/${r.health}).`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},43422(O,S,i){i.d(S,{Q:()=>_});var A=i(46200),c=i(5615),E=i(51838);class _ extends A.i{logService;abilityService;name="Coconut Crab";tier=6;pack="Custom";attack=4;health=8;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;hasCoconut=!1;constructor(t,n){super({name:"Coconut Crab Ability",owner:t,triggers:["Eat2","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner;if("StartTurn"!==t.trigger){if("Eat2"===t.trigger){const a=new E.K;a.uses=this.level,a.originalUses=this.level,n.givePetEquipment(a),this.hasCoconut=!0,this.logService.createLog({message:`${n.name} gained Coconut perk that works ${1===this.level?"once":2===this.level?"twice":"thrice"} until next turn.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}}else this.hasCoconut&&(n.removePerk(!0),this.hasCoconut=!1)}copy(t){return new v(t,this.logService)}}},43592(O,S,i){i.d(S,{S:()=>c});var A=i(22097);class c extends A.${name="Walnut";tier=1;equipmentClass="shield";power=2;originalPower=2;uses=1;originalUses=1}},43681(O,S,i){i.d(S,{h:()=>g});var A=i(22097),c=i(86785),E=i(90966),_=i(17385),v=i(33127),e=i(78833),t=i(4902),n=i(83028),a=i(47868),o=i(24111),r=i(49230),d=i(1744);let g=(()=>{class f{logService;abilityService;gameService;equipmentService;equipmentCache=new Map;constructor(k,L,F,J){this.logService=k,this.abilityService=L,this.gameService=F,this.equipmentService=J,this.logService=(0,n.V)(this.logService)}createPet(k,L,F,J,ne){const H=k.constructor,$=k.parent,q=ne??(0,c.l)(k.level);for(const ae of t.M3)if(k instanceof ae)return new ae(this.logService,this.abilityService,L,this.gameService,$,J,F,0,q);return t.JL.includes(H)?new H(this.logService,this.abilityService,L,$,J,F,0,q):new H(this.logService,this.abilityService,$,J,F,0,q)}createPetFromForm(k,L,F,J){const ne=this.normalizePetForm(k),H=this.getPetBuildPlan(ne,J),$=this.resolveEquipment(H.equipmentValue,H.equipmentUses),{name:q,health:ae,attack:le,mana:_e,exp:ye,triggersConsumed:Se,foodsEaten:Ce,battlesFought:de}=ne;let Te=ne.hasRandomEvents;void 0===Te&&"function"==typeof F.isPetRandom&&(Te=F.isPetRandom(q));const Je=Ke=>Ke&&H.needsPostInit?(Ke=>{if(!Ke)return Ke;if(null!=Ce){const qe=Number(Ce);Number.isFinite(qe)&&(Ke.foodsEaten=qe,Ke.originalFoodsEaten=qe)}if(H.hasTimesHurt&&null!=ne.timesHurt&&(Ke.timesHurt=ne.timesHurt,Ke.originalTimesHurt=ne.timesHurt),null!=de){const qe=Number(de);Number.isFinite(qe)&&(Ke.battlesFought=Math.max(0,Math.floor(qe)))}return Te&&(Ke.hasRandomEvents=!0),Ke})((Ke=>(!H.hasParrotData||"Parrot"!==Ke?.name||(0,e.YW)(Ke,ne,e.Kq),Ke))((Ke=>(Ke&&(H.hasSarcastic||H.hasFriendsDied)&&(Ke.sarcasticFringeheadSwallowedPet=ne.sarcasticFringeheadSwallowedPet??null,Ke.friendsDiedBeforeBattle=ne.friendsDiedBeforeBattle??0),Ke))((Ke=>(!H.hasAbominationData||"Abomination"!==Ke?.name||(0,e.YW)(Ke,ne,e.JX),Ke))(H.hasEquipmentUses?this.applyEquipmentUsesOverride(Ke,ne):Ke)))):Ke;if("gameservice"===H.builderKind&&H.PetClass)return Je(new(0,H.PetClass)(this.logService,this.abilityService,F,this.gameService,L,ae,le,_e,ye,$,Se));if("special"===H.builderKind&&H.specialBuilder){const Ke={logService:this.logService,abilityService:this.abilityService,gameService:this.gameService},qe={...ne,equipment:$};return Je(H.specialBuilder(Ke,qe,L,F))}return"petservice"===H.builderKind&&H.PetClass?Je(new(0,H.PetClass)(this.logService,this.abilityService,F,L,ae,le,_e,ye,$,Se)):"registry"===H.builderKind&&H.PetClass?Je(new(0,H.PetClass)(this.logService,this.abilityService,L,ae,le,_e,ye,$,Se)):null}applyEquipmentUsesOverride(k,L){return k&&(null!=L.equipmentUses&&(k.equipmentUsesOverride=L.equipmentUses),k)}resolveEquipmentFromForm(k,L){return this.resolveEquipment(k,L)}resolveEquipment(k,L){const F=L??("number"==typeof k?.uses?k.uses:null);if(k instanceof A.$){const _e=(0,_.e)(k);if(null!=F){const ye=Number(F);Number.isFinite(ye)&&(_e.uses=ye,_e.originalUses=ye)}return _e}const J=this.getEquipmentName(k);if(!J)return null;const ne=v.I.getInjector(),H=this.equipmentService??(ne?ne.get(E.m):null);if(!H)return null;const $=H.getInstanceOfAllEquipment(),q=H.getInstanceOfAllAilments(),ae=$.get(J)??q.get(J);if(!ae)return null;const le=(0,_.e)(ae);if(null!=F){const _e=Number(F);Number.isFinite(_e)&&(le.uses=_e,le.originalUses=_e)}return le}getEquipmentName(k){return k?"string"==typeof k?k:("string"==typeof k.name?k.name:null)||null:null}getPetBuildPlan(k,L){const F=k.name,J=null!=k.equipmentUses,ne="Parrot"===k.name&&(0,e.A_)(k,e.Kq),H="Abomination"===k.name&&(0,e.A_)(k,e.JX),$=null!=k.sarcasticFringeheadSwallowedPet,q=(k.friendsDiedBeforeBattle??0)>0,ae=(k.timesHurt??0)>0;let Se,Ce,ye="missing";return t.Iq[F]?(ye="gameservice",Se=t.Iq[F]):t.ul[F]?(ye="special",Ce=t.ul[F]):t.Db[F]?(ye="petservice",Se=t.Db[F]):L[F]&&(ye="registry",Se=L[F]),{name:F,builderKind:ye,PetClass:Se,specialBuilder:Ce,needsPostInit:J||ne||H||$||q||ae||null!=k.foodsEaten,hasParrotData:ne,hasAbominationData:H,hasSarcastic:$,hasFriendsDied:q,hasTimesHurt:ae,hasEquipmentUses:J,equipmentValue:k.equipment??null,equipmentUses:k.equipmentUses??null}}normalizePetForm(k){if("Abomination"!==k.name)return k;const L={...k},F=L,J=[1,2,3];for(const ae of J){const le=`abominationSwallowedPet${ae}`,_e=`abominationSwallowedPet${ae}Level`,ye=`abominationSwallowedPet${ae}TimesHurt`,Se=`abominationSwallowedPet${ae}BelugaSwallowedPet`,Ce=F[le],de="string"==typeof Ce&&Ce.trim().length>0?Ce:null;de?"Beluga Whale"!==de&&(F[Se]=null):(F[le]=null,F[_e]=1,F[ye]=0,F[Se]=null)}const H=J.some(ae=>"Behemoth"===F[`abominationSwallowedPet${ae}`])?100:50,$=this.clampFiniteNumber(L.attack,0,H);null!=$&&(L.attack=$);const q=this.clampFiniteNumber(L.health,0,H);return null!=q&&(L.health=q),L}clampFiniteNumber(k,L,F){return"number"==typeof k&&Number.isFinite(k)?Math.min(F,Math.max(L,k)):null}static \u0275fac=function(L){return new(L||f)(a.KVO(o.K),a.KVO(r.K),a.KVO(d.w),a.KVO(E.m))};static \u0275prov=a.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},43714(O,S,i){i.d(S,{J:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Great Potoo";tier=3;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Great Potoo Ability",owner:e,triggers:["AnyoneHurt"],abilityType:"Pet",native:!0,maxUses:5,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{gameApi:t}=e,n=this.owner;if(!0!==t.FirstNonJumpAttackHappened){const o=2*this.level;n.increaseHealth(o),this.logService.createLog({message:`${n.name} gained +${o} health from AnyoneHurt (before any attacks).`,type:"ability",player:n.parent})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},43726(O,S,i){i.d(S,{y:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Sauropod";tier=6;pack="Puppy";attack=4;health=12;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=3;constructor(e,t,n){super({name:"SauropodAbility",owner:e,triggers:["FriendlyGainsPerk","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const n=this.level;this.usesThisTurn++,this.logService.createLog({message:`${t.name} will give +${n} gold next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},43744(O,S,i){i.d(S,{A:()=>c});const c=Array.isArray},43783(O,S,i){i.d(S,{s:()=>v});var A=i(22097),c=i(5615),E=i(33127),_=i(24111);class v extends A.${name="Cauliflower";equipmentClass="shop";callback=n=>{const a=n.getEquippedEquipmentInstance(this);n.addAbility(new e(n,a))}}class e extends c.T{equipment;logService;constructor(n,a){super({name:"CauliflowerAbility",owner:n,triggers:["KnockOut"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:o=>this.executeAbility(o)}),this.equipment=a,this.logService=E.I.getInjector().get(_.K)}executeAbility(n){const a=this.owner;if(!a.alive)return void a.removePerk();const o=1*this.equipment.multiplier;a.increaseAttack(o),a.increaseHealth(o),this.logService.createLog({message:`${a.name} gained +${o} attack and +${o} health. (Cauliflower)${this.equipment.multiplierMessage}`,type:"equipment",player:a.parent}),a.removePerk()}}},43870(O,S,i){i.d(S,{C:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Monkey-Faced Bat";tier=3;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MonkeyFacedBatAbility",owner:e,triggers:["AnyoneBehindHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getRandomPets(2,[],!0,!1,r);for(let g of d.pets)if(null!=g){let f={attack:this.level,health:2*this.level};g.increaseAttack(f.attack),g.increaseHealth(f.health),this.logService.createLog({message:`${r.name} gave ${g.name} ${f.attack} attack and ${f.health} health`,type:"ability",player:r.parent,randomEvent:d.random,tiger:a})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},43959(O,S,i){i.d(S,{t:()=>zt});var A=i(38271),c=i(90021),E=i(84968),_=i(25240),v=i(75998),e=i(13322),t=i(81658),n=i(53654),a=i(72445),o=i(95966),r=i(64255),d=i(27376),g=i(55577),f=i(65033),D=i(79099),k=i(99953),L=i(45686),F=i(44746),J=i(34122),ne=i(22266),H=i(66948),$=i(21499),q=i(88034),ae=i(3836),le=i(50795),_e=i(22312),ye=i(53108),Se=i(7234),Ce=i(42075),de=i(79520),Te=i(50342),xe=i(91589),Ue=i(32480),Ne=i(82491),ct=i(91982),Je=i(76563),Ke=i(26624),qe=i(6267),mt=i(82967),pt=i(9215),it=i(80337),Dt=i(75540),ut=i(59370),yt=i(89732),rt=i(6172),He=i(75818),kt=i(88184),Xt=i(5021),nt=i(5492),$t=i(61313),Et=i(9695),ge=i(4942),Oe=i(23238),Ve=i(27694),Fe=i(3332),ot=i(83355),Bt=i(57511),Rt=i(24233),qt=i(14469);const zt={Pillbug:A.s,Cockroach:c.A,Frog:E.F,Hummingbird:_.F,Marmoset:v.t,Pheasant:e.$,Kiwi:t.Z,Chihuahua:n.p,Firefly:a.s,Koala:r.Z,Salamander:g.L,"Guinea Pig":f.A,Jellyfish:D.Z,Dove:k.H,"Dumbo Octopus":d.h,Bass:J.C,Leech:$.c,Woodpecker:it.M,Toad:ae.L,Starfish:Dt.P,Clownfish:de.u,Blobfish:pt.u,Capybara:le.I,Okapi:_e.d,Cassowary:ye.Z,Anteater:Se.l,Orangutan:Ce.u,Hawk:ct.y,Platypus:Je.V,"Praying Mantis":Ke.L,Donkey:qe.$,"Fairy Armadillo":Ue.p,Fossa:Ne.D,Siamese:Te.y,Elk:xe.B,Sparrow:mt.b,Swordfish:yt.K,Triceratops:rt.N,Hamster:He.V,Shoebill:kt.$,Vulture:Xt.g,Ibex:nt.V,Ostrich:$t.N,Reindeer:Et.f,Piranha:ge.Q,"Real Velociraptor":Oe.M,Spinosaurus:ot.b,Alpaca:Bt.V,Velociraptor:Rt.n,Ammonite:qt.j,Cardinal:H.v,Orca:Fe.s,Pelican:ut.R6,"Sabertooth Tiger":Ve.f,"Shima Enaga":F.J,Stork:L.i,Tuna:q.n,Iguana:o.i,Pug:ne.T}},44071(O,S,i){i.d(S,{y:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Venus Flytrap";tier=5;pack="Custom";attack=2;health=7;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},44279(O,S,i){i.d(S,{c:()=>_});var A=i(27389),c=i(84385),E=i(32496);function _(v,e){return e?(0,E.V)(v,e):new A.c((0,c.v)(v))}},44314(O,S,i){i.d(S,{A:()=>E});var A=i(75152);const E=function c(_,v){var e=v?(0,A.A)(_.buffer):_.buffer;return new _.constructor(e,_.byteOffset,_.length)}},44398(O,S,i){i.d(S,{m:()=>E});var A=i(46200);i(5615);class E extends A.i{logService;abilityService;name="Spoon-Billed Sandpiper";tier=3;pack="Danger";attack=3;health=2;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}},44402(O,S,i){i.d(S,{m:()=>c});var A=i(22097);class c extends A.${name="Melon";tier=6;equipmentClass="shield";power=20;originalPower=20;uses=1;originalUses=1}},44519(O,S,i){i.d(S,{H:()=>c});var A=i(22097);class c extends A.${name="Pepper";equipmentClass="shield";uses=1;originalUses=1;power=0;originalPower=0}},44708(O,S,i){i.d(S,{q:()=>e});var A=i(75263),c=i(60385),E=i(56518),_=i(76282),v=i(42814);class e extends v._{givePetEquipment(n,a=1){if(null!=n){if(this.alive){if("Bloated"===this.equipment?.name&&!n.equipmentClass?.startsWith("ailment"))return this.logService.createLog({message:`${this.name} blocked gaining ${n.name}. (Bloated)`,type:"equipment",player:this.parent}),void this.removePerk();if(!this.handleCorncobEquipment(n))if("ailment-attack"==n.equipmentClass||"ailment-defense"==n.equipmentClass||"ailment-other"==n.equipmentClass){if(this.applyAilmentEquipment(n,a))return}else this.applyStandardEquipment(n,a)}}else console.warn(`givePetEquipment called with null equipment for pet: ${this.name}`)}applyEquipment(n,a=1){null!=n&&(this.equipment=n,this.setEquipmentMultiplier(a),this.removeAbility(void 0,"Equipment"),this.equipment.callback&&this.equipment.callback(this.asPet()))}removePerk(n=!1){if(null==this.equipment)return;let a="ailment-attack"==this.equipment.equipmentClass||"ailment-defense"==this.equipment.equipmentClass||"ailment-other"==this.equipment.equipmentClass;n&&a||(this.lastLostEquipment=this.equipment,this.removeAbility(void 0,"Equipment"),this.equipment=null,a||this.abilityService.triggerPerkLossEvents(this.asPet(),this.lastLostEquipment?.name))}setEquipmentMultiplier(n=1){if(!this.equipment)return;let a=this.equipment.baseMultiplier??1;const o=this.equipment.multiplier??1;1===a&&1!==o&&(a=o),this.equipment.baseMultiplier=a;let r=a,d=[];const g=this.getPantherEquipmentMultiplierLevel();g>0&&"ailment-attack"!==this.equipment.equipmentClass&&"ailment-defense"!==this.equipment.equipmentClass&&"ailment-other"!==this.equipment.equipmentClass&&(r+=g,d.push(`x${g+1} (Panther)`)),n&&n>1&&(r+=n-1,d.push(`x${n} (Pandora's Box)`)),this.equipment.multiplier=r,this.equipment.multiplierMessage=d.length>0?` ${d.join(" ")}`:""}getPantherEquipmentMultiplierLevel(){const n=this.abilityList.filter(a=>"PantherAbility"===a.name).map(a=>Number(a.abilityLevel)).filter(a=>Number.isFinite(a)&&a>0);return 0===n.length?0:Math.max(...n)}handleCorncobEquipment(n){if("Corncob"!==n.name)return!1;const o=Math.max(1,Math.floor(n.effectMultiplier??1));return this.attack<=this.health?this.increaseAttack(o):this.increaseHealth(o),this.abilityService.triggerFoodEvents(this.asPet(),"corn"),!0}applyAilmentEquipment(n,a){return!(this.equipment?.name!==n.name&&(this.equipment instanceof A.B?(this.equipment.uses--,this.logService.createLog({message:`${this.name} blocked ${n.name}. (Ambrosia)`,type:"equipment",player:this.parent}),0==this.equipment.uses&&this.removePerk(),0):this.equipment instanceof c.f?(this.logService.createLog({message:`${this.name} blocked ${n.name}. (White Okra)`,type:"equipment",player:this.parent}),this.removePerk(),0):this.equipment instanceof E.q&&this.getSparrowLevel()>0&&this.equipment.uses>0?(this.logService.createLog({message:`${this.name} blocked ${n.name}. (Strawberry)`,type:"equipment",player:this.parent}),this.removePerk(),0):(null!=this.equipment&&this.removePerk(!0),this.applyEquipment(n,a),this.abilityService.triggerAilmentGainEvents(this.asPet(),n.name),0)))}applyStandardEquipment(n,a){if(n instanceof _.a){this.applyEquipment(n,a);const o=1*n.multiplier,r=2*n.multiplier;this.increaseAttack(o),this.increaseHealth(r),this.logService.createLog({message:`${this.name} gained ${o} attack and ${r} health (Blackberry)${n.multiplierMessage}`,type:"equipment",player:this.parent})}else this.applyEquipment(n,a);this.abilityService.triggerPerkGainEvents(this.asPet(),n.name),this.abilityService.triggerFoodEvents(this.asPet(),n.name)}}},44746(O,S,i){i.d(S,{J:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;petService;name="Shima Enaga";tier=2;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,o,r,d,f,D)}}class _ extends c.T{logService;abilityService;petService;constructor(e,t,n,a){super({name:"ShimaEnagaAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,condition:o=>{const{triggerPet:r}=o;return r&&"Strawberry"==r.equipment?.name},abilityFunction:o=>{this.executeAbility(o)}}),this.logService=t,this.abilityService=n,this.petService=a}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;let d=2*this.level,g=this.petService.createPet({name:r.name,attack:d,health:d,equipment:null,exp:0,mana:0},r.parent);r.parent.summonPet(g,n.position,!1,r).success&&this.logService.createLog({message:`${r.name} summoned a (${d}/${d}) Shima Enaga`,type:"ability",player:r.parent,tiger:a,randomEvent:!0}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService,this.petService)}}},44870(O,S,i){i.d(S,{m:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Swan";tier=2;pack="Turtle";health=2;attack=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SwanAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gained ${this.level} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},44876(O,S,i){i.d(S,{C:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Nyala";tier=5;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"NyalaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{pteranodon:o}=e,r=this.owner,d=r.parent.resolveTrumpetGainTarget(r);d.player.gainTrumpets(8*this.level,r,o,void 0,void 0,d.random),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},44937(O,S,i){i.d(S,{s:()=>c});var A=i(47868);let c=(()=>{class E{key="sapData";constructor(){}getStorage(){return window.localStorage.getItem(this.key),window.localStorage.getItem(this.key)}setFormStorage(v){this.setStorage(v.value)}setStorage(v){if("object"==typeof v&&null!==v){const e=new Set,t=(n,a)=>{if("equipment"===n&&"object"==typeof a&&null!==a&&"name"in a){const o="string"==typeof a.name?a.name:null;return o?{name:o}:null}if(!["parent","logService","abilityService","gameService","petService"].includes(n)){if("object"==typeof a&&null!==a){if(e.has(a))return;e.add(a)}return a}};try{const n=JSON.stringify(v,t);window.localStorage.setItem(this.key,n)}catch(n){console.error("Could not stringify value for local storage",n)}}else"string"==typeof v&&window.localStorage.setItem(this.key,v)}clearStorage(){window.localStorage.removeItem(this.key)}static \u0275fac=function(e){return new(e||E)};static \u0275prov=A.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})()},45035(O,S,i){i.d(S,{t:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Caladrius";tier=3;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Caladrius Ability",owner:e,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:n,pteranodon:a}=e,o=this.owner;if(t&&t.parent===o.parent&&t!==o&&t.mana>=3){const r=2*this.level;t.mana-=3,t.increaseAttack(r),t.increaseHealth(r),this.logService.createLog({message:`${o.name} spent 3 mana from ${t.name} to give it +${r}/+${r}.`,type:"ability",player:o.parent,tiger:n,pteranodon:a})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},45286(O,S,i){i.d(S,{B7:()=>n});var A=i(27389),c=i(70762),E=i(31805),_=i(2145),v=i(21259),e=i(40091);class t extends c.v{constructor(r){super(r),this.destination=r}}let n=(()=>{class o extends A.c{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[e.D](){return new t(this)}lift(d){const g=new a(this,this);return g.operator=d,g}next(d){if(this.closed)throw new _.P;if(!this.isStopped){const{observers:g}=this,f=g.length,D=g.slice();for(let k=0;k<f;k++)D[k].next(d)}}error(d){if(this.closed)throw new _.P;this.hasError=!0,this.thrownError=d,this.isStopped=!0;const{observers:g}=this,f=g.length,D=g.slice();for(let k=0;k<f;k++)D[k].error(d);this.observers.length=0}complete(){if(this.closed)throw new _.P;this.isStopped=!0;const{observers:d}=this,g=d.length,f=d.slice();for(let D=0;D<g;D++)f[D].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(d){if(this.closed)throw new _.P;return super._trySubscribe(d)}_subscribe(d){if(this.closed)throw new _.P;return this.hasError?(d.error(this.thrownError),E.y.EMPTY):this.isStopped?(d.complete(),E.y.EMPTY):(this.observers.push(d),new v.Y(this,d))}asObservable(){const d=new A.c;return d.source=this,d}}return o.create=(r,d)=>new a(r,d),o})();class a extends n{constructor(r,d){super(),this.destination=r,this.source=d}next(r){const{destination:d}=this;d&&d.next&&d.next(r)}error(r){const{destination:d}=this;d&&d.error&&this.destination.error(r)}complete(){const{destination:r}=this;r&&r.complete&&this.destination.complete()}_subscribe(r){const{source:d}=this;return d?this.source.subscribe(r):E.y.EMPTY}}},45312(O,S,i){i.d(S,{E:()=>E});var A=i(46200);i(5615);class E extends A.i{logService;abilityService;name="Puma";tier=6;pack="Puppy";attack=6;health=5;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}},45525(O,S,i){i.d(S,{A:()=>_});var A=i(33126),c=i(41885);const _=function E(v,e){var t=(0,c.A)(v,e);return(0,A.A)(t)?t:void 0}},45575(O,S,i){i.d(S,{q:()=>_,s:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Fairy";tier=4;pack="Custom";attack=1;health=1;initAbilities(){this.addAbility(new _(this)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{constructor(e){super({name:"FairyAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:t=>{this.executeAbility(t)}})}executeAbility(e){}copy(e){return new _(e)}}},45651(O,S,i){i.d(S,{K:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Salmon of Knowledge";tier=5;pack="Unicorn";attack=5;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SalmonOfKnowledgeAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=2*this.level,g=[],f=r.parent.getFurthestUpPets(2,[r],r);g.push(...f.pets);let D=r.parent.opponent.getFurthestUpPets(2,void 0,r);g.push(...D.pets);for(let k of g)this.logService.createLog({message:`${r.name} gave ${k.name} ${d} exp.`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random||D.random}),k.increaseExp(d);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},45686(O,S,i){i.d(S,{i:()=>e});var A=i(46200),c=i(5615),E=i(58857),_=i(61850),v=i(79222);class e extends A.i{logService;abilityService;petService;name="Stork";tier=2;pack="Star";attack=3;health=1;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L,F){super(a,o,d),this.logService=a,this.abilityService=o,this.petService=r,this.initPet(k,g,f,D,L,F)}}class t extends c.T{logService;abilityService;petService;constructor(a,o,r,d){super({name:"StorkAbility",owner:a,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=o,this.abilityService=r,this.petService=d}executeAbility(a){const{gameApi:o,tiger:d,pteranodon:g}=a,f=this.owner;let D=Math.max(1,o.previousShopTier-1);const k=q=>(q??[]).filter(ae=>ae&&f.name&&ae.toLowerCase()!==f.name.toLowerCase());let L=k(this.petService.allPets.get(D));if(L.length||(L=k(this.petService.allPets.get(1))),!L.length)return void this.triggerTigerExecution(a);const F=(0,E.k6)({key:"pet.stork-faint-summon",label:(0,v.I)(f,"Stork faint summon"),options:L.map(q=>({id:q,label:q}))},()=>(0,_.hw)(0,L.length-1));let ne=o.oldStork,H=this.petService.createPet({name:L[F.index],attack:ne?null:2*this.level,equipment:null,exp:f.minExpForLevel,health:ne?null:2*this.level,mana:0},f.parent);f.parent.summonPet(H,f.savedPosition,!1,f).success&&this.logService.createLog({message:`${f.name} spawned ${H.name} Level ${this.level}`,type:"ability",player:f.parent,tiger:d,randomEvent:F.randomEvent,pteranodon:g}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService,this.petService)}}},45722(O,S,i){i.d(S,{s:()=>A});const A="function"==typeof Symbol&&Symbol.observable||"@@observable"},45925(O,S,i){i.d(S,{f:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Estemmenosuchus";tier=5;pack="Custom";attack=4;health=6;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class _ extends A.i{name="Estemmenosuchus's Ally";tier=1;pack="Custom";attack=1;health=1;initAbilities(){}constructor(t,n,a,o,r){super(t,n,a),this.initPet(0,r,o,0,void 0,0)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"Estemmenosuchus Ability",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>this.executeAbility(o)}),this.logService=n,this.abilityService=a}countAilments(){return this.owner.parent.petArray.filter(n=>{const a=n?.equipment?.equipmentClass;return!!a&&a.startsWith("ailment")}).length}executeAbility(t){const n=this.owner,a=Math.max(0,this.countAilments()),o=3+a,r=Math.min(this.level,3),d=n.position??n.savedPosition??0;let g=0;for(let f=0;f<r;f++){const D=new _(this.logService,this.abilityService,n.parent,o,o);if(!n.parent.summonPet(D,d,!1,n).success)break;g++}g>0&&this.logService.createLog({message:`${n.name} summoned ${g} 3/3 friend${1===g?"":"s"} with +${a}/+${a}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},46021(O,S,i){i.d(S,{w:()=>e});var A=i(46200),c=i(5615),E=i(58857),_=i(61850),v=i(79222);class e extends A.i{logService;abilityService;name="Cockatoo";tier=4;pack="Golden";attack=4;health=2;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{logService;abilityService;constructor(a,o,r){super({name:"CockatooAbility",owner:a,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:d=>{this.executeAbility(d)}}),this.logService=o,this.abilityService=r}executeAbility(a){const o=this.owner,r=o.parent.petArray.filter(L=>L.alive&&L!==o);if(0===r.length)return void this.triggerTigerExecution(a);let d=Math.max(...r.map(L=>L.tier));const g=r.filter(L=>L.tier===d),f=(0,E.k6)({key:"pet.cockatoo-bought-target",label:(0,v.I)(o,"Cockatoo bought target"),options:g.map(L=>({id:`${L.savedPosition+1}:${L.name}`,label:`P${L.savedPosition+1} ${L.name}`}))},()=>(0,_.hw)(0,g.length-1)),D=g[f.index],k=2*this.level;D.increaseAttack(k),D.increaseHealth(k),this.logService.createLog({message:`${o.name} gave ${D.name} +${k}/+${k}.`,type:"ability",player:o.parent,tiger:a.tiger,pteranodon:a.pteranodon,randomEvent:f.randomEvent}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService)}}},46138(O,S,i){i.d(S,{n:()=>_});var A=i(46200),c=i(5615),E=i(1152);class _ extends A.i{logService;abilityService;name="Chimpanzee";tier=6;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Chimpanzee Ability",owner:t,triggers:["CornEatenByFriend"],abilityType:"Pet",native:!0,abilitylevel:t.level,precondition:a=>{const d=(0,E.lK)(this.owner,a.triggerPet).pet;return!!d&&d.alive},abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,a=(0,E.lK)(n,t.triggerPet),o=a.pet;if(!o)return void this.triggerTigerExecution(t);const r=this.level;o.increaseAttack(r),o.increaseHealth(r),this.logService.createLog({message:`${n.name} gave ${o.name} +${r}/+${r} after eating Corncob.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon,randomEvent:a.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},46200(O,S,i){i.d(S,{i:()=>E});var A=i(80152),c=i(83028);class E extends A.O{logService;abilityService;name;baseName;tier;pack;hidden=!1;parent;health;attack;exp=0;equipment;equipmentUsesOverride;mana=0;suppressManaSnipeOnFaint=!1;triggersConsumed=0;foodsEaten=0;sellValue=1;baseSellValue=1;swallowedPets=[];belugaSwallowedPet=null;parrotCopyPet=null;parrotCopyPetBelugaSwallowedPet=null;sarcasticFringeheadSwallowedPet;friendsDiedBeforeBattle=0;timesHurt=0;timesAttacked=0;battlesFought=0;currentTarget;lastAttacker;killedBy;transformedInto=null;lastLostEquipment;abilityCounter=0;targettedFriends=new Set;originalHealth;originalAttack;originalMana;originalTriggersConsumed;originalFoodsEaten;originalEquipment;originalExp=0;originalTimesHurt=0;faintPet=!1;toyPet=!1;transformed=!1;removed=!1;startOfBattleTriggered=!1;jumped=!1;done=!1;seenDead=!1;eggplantTouched=!1;cherryTouched=!1;clearFrontTriggered=!1;maxAbilityUses=null;abilityList=[];originalAbilityList=[];savedPosition;originalSavedPosition;hasRandomEvents=!1;constructor(v,e,t){super(),this.logService=v,this.abilityService=e,(0,c.L)(this),this.parent=t}initPet(v,e,t,n,a,o){this.baseName=this.baseName??this.name;const r=v??this.exp??0;this.exp=r,this.health=e??this.health+r,this.attack=t??this.attack+r,this.mana=n??this.mana,this.triggersConsumed=o??this.triggersConsumed,this.originalHealth=this.health,this.originalAttack=this.attack,this.originalMana=this.mana,this.originalTriggersConsumed=this.triggersConsumed,this.originalFoodsEaten=this.foodsEaten,this.equipment=a,this.originalEquipment=a,this.originalExp=this.exp,this.baseSellValue=this.level,this.sellValue=this.baseSellValue,this.initAbilities(),this.originalAbilityList=[...this.abilityList]}}},46300(O,S,i){i.d(S,{R:()=>c});var A=i(22097);class c extends A.${name="Donut";equipmentClass="target";constructor(){super()}}},46398(O,S,i){i.d(S,{z:()=>_});var A=i(46200),c=i(5615),E=i(56518);class _ extends A.i{logService;abilityService;name="Roadrunner";tier=2;pack="Custom";attack=4;health=1;constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}}class v extends c.T{logService;constructor(t,n){super({name:"Roadrunner Ability",owner:t,triggers:["StartBattle"],abilityType:"Pet",abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const a=this.owner,o=this.level,d=a.parent.petArray.filter(g=>g.alive&&g.position<a.position).sort((g,f)=>f.position-g.position).slice(0,o);for(const g of d){const f=new E.q(this.logService);f&&g.applyEquipment(f),g.attack+=2,this.logService.createLog({message:`${a.name} gave Strawberry and +2 attack to ${g.name}.`,type:"ability",player:a.parent})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},46482(O,S,i){i.d(S,{u:()=>_});var A=i(46200),c=i(5615),E=i(21844);class _ extends A.i{logService;abilityService;name="Fruit Fly";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"FruitFlyAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner;let r=o.parent.getOppositeEnemyPet(o),d=r.pet;null!=d&&(d.givePetEquipment(new E.z),this.logService.createLog({message:`${o.name} gave ${d.name} Blueberry.`,type:"ability",player:o.parent,tiger:n,pteranodon:a,randomEvent:r.random}),o.snipePet(d,2*this.level,r.random,n),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},46494(O,S,i){i.d(S,{Vw:()=>e,ig:()=>_,qj:()=>v,rb:()=>E});var A=i(47868);let c=null;function E(){return c}function _(a){c??=a}class v{}let e=(()=>{class a{historyGo(r){throw new Error("")}static \u0275fac=function(d){return new(d||a)};static \u0275prov=A.jDH({token:a,factory:()=>(0,A.WQX)(n),providedIn:"platform"})}return a})(),n=(()=>{class a extends e{_location;_history;_doc=(0,A.WQX)(A.qQL);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return E().getBaseHref(this._doc)}onPopState(r){const d=E().getGlobalEventTarget(this._doc,"window");return d.addEventListener("popstate",r,!1),()=>d.removeEventListener("popstate",r)}onHashChange(r){const d=E().getGlobalEventTarget(this._doc,"window");return d.addEventListener("hashchange",r,!1),()=>d.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,d,g){this._history.pushState(r,d,g)}replaceState(r,d,g){this._history.replaceState(r,d,g)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}static \u0275fac=function(d){return new(d||a)};static \u0275prov=A.jDH({token:a,factory:()=>new a,providedIn:"platform"})}return a})()},46567(O,S,i){i.d(S,{P:()=>v});var A=i(46200),c=i(5615),E=i(90966),_=i(33127);class v extends A.i{logService;abilityService;name="Budgie";tier=1;pack="Custom";attack=1;health=1;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"BudgieAbility",owner:n,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const{tiger:a,pteranodon:o}=n,r=this.owner,g=_.I.getInjector().get(E.m).getInstanceOfAllEquipment().get("Popcorn");r.givePetEquipment(g),r.increaseHealth(this.level),this.logService.createLog({message:`${r.name} gained Popcorn and +${this.level} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:o}),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService)}}},46637(O,S,i){i.d(S,{x:()=>_});var A=i(46200),c=i(5615),E=i(61850);class _ extends A.i{logService;abilityService;name="Tyrannosaurus";tier=6;pack="Puppy";attack=7;health=7;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"TyrannosaurusAbility",owner:t,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,a=n.parent.petArray.filter(g=>g.alive&&g!==n&&g.tier>=5),o=a.length;if(0===a.length)return void this.triggerTigerExecution(t);const r=[];for(;r.length<2&&a.length>0;){const g=(0,E.hw)(0,a.length-1);r.push(a[g]),a.splice(g,1)}const d=2*this.level;for(const g of r)g.increaseAttack(d),g.increaseHealth(d);this.logService.createLog({message:`${n.name} gave ${r.map(g=>g.name).join(", ")} +${d}/+${d}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon,randomEvent:o>r.length}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},46791(O,S,i){i.d(S,{O:()=>t});var A=i(95892),c=i(40532),E=i(72222),_=i(82429),v=i(58857),e=i(83028);class t{logService;gameService;abilityService;petService;equipmentService;toyService;player;opponent;battleStarted=!1;turns=0;maxTurns=71;currBattle=null;battles=[];playerWinner=0;opponentWinner=0;draw=0;abilityEngine;eventProcessor;petFormCache=new WeakMap;constructor(o,r,d,g,f,D){this.logService=o,this.gameService=r,this.abilityService=d,this.petService=g,this.equipmentService=f,this.toyService=D,this.logService=(0,e.V)(this.logService),this.player=new A.a(this.logService,d,r),this.opponent=new A.a(this.logService,d,r),this.opponent.isOpponent=!0,this.gameService.init(this.player,this.opponent),this.abilityEngine=new c.$(this.logService,this.gameService,this.abilityService,this.toyService,this.player,this.opponent),this.eventProcessor=new E.v({player:this.player,opponent:this.opponent,logService:this.logService,gameService:this.gameService,abilityService:this.abilityService,abilityEngine:this.abilityEngine,maxTurns:this.maxTurns,getBattle:()=>this.currBattle,setBattle:L=>{this.currBattle=L},getBattleStarted:()=>this.battleStarted,setBattleStarted:L=>{this.battleStarted=L},getTurns:()=>this.turns,setTurns:L=>{this.turns=L},incrementPlayerWinner:()=>{this.playerWinner+=1},incrementOpponentWinner:()=>{this.opponentWinner+=1},incrementDraw:()=>{this.draw+=1}})}run(o,r){const d=(0,_.c)(o.seed);let g,f={playerWins:0,opponentWins:0,draws:0,battles:[]};(0,v.Ys)({capture:o.captureRandomDecisions,overrides:o.randomDecisionOverrides,strictValidation:!1!==o.strictRandomOverrideValidation});try{let D=o.simulationCount||1e3;const k=!1!==o.logsEnabled;let L=0;const F=r?.onProgress&&null!=r.progressInterval?Math.max(1,r.progressInterval):null;this.logService.setEnabled(k),this.logService.setDeferDecorations(!0),this.resetSimulation(),this.setupGameEnvironment(o),o.optimizeDeterministicSimulations&&(0,_.B)(o,this.petService,this.equipmentService,this.toyService)&&(D=1);let J=null==o.maxLoggedBattles?k?D:0:Math.max(0,o.maxLoggedBattles);J>D&&(J=D);for(let ne=0;ne<D&&!r?.shouldAbort?.();ne++){const H=k&&J>0&&L<J;if(this.logService.setEnabled(H),this.initBattle(o,H),H&&(L+=1),this.prepareBattle(o),this.executeBattleLoop(),this.reset(),r?.onProgress&&null!=F){const $=ne+1;($%F===0||$===D)&&r.onProgress({completed:$,total:D,playerWins:this.playerWinner,opponentWins:this.opponentWinner,draws:this.draw,loggedBattles:this.battles.length})}if(r?.shouldAbort?.())break}f={playerWins:this.playerWinner,opponentWins:this.opponentWinner,draws:this.draw,battles:this.battles}}finally{d(),g=(0,v.xe)()}return f.randomDecisions=g.decisions,f.randomOverrideError=g.invalidOverrideError,f}projectLineupAfterEndTurn(o,r,d){const g={...o,playerPets:"player"===r?n(d,5):o.playerPets,opponentPets:"opponent"===r?n(d,5):o.opponentPets,simulationCount:1,logsEnabled:!1,maxLoggedBattles:0,captureRandomDecisions:!1,randomDecisionOverrides:[]},f=this.logService.isEnabled(),D=this.logService.isDeferDecorations();this.logService.setEnabled(!1),this.logService.setDeferDecorations(!0);try{return this.logService.reset(),this.abilityService.clearGlobalEventQueue(),this.setupGameEnvironment(g),this.clearPlayers(),this.createPets(this.player,g.playerPets),this.createPets(this.opponent,g.opponentPets),this.applyPreBattleFriendDeathCounts(),this.abilityService.triggerEndTurnEvents(),this.abilityService.executeEndTurnEvents(),"player"===r?this.captureProjectedLineup(g.playerPets,this.player):this.captureProjectedLineup(g.opponentPets,this.opponent)}finally{this.logService.setEnabled(f),this.logService.setDeferDecorations(D)}}resetSimulation(){this.playerWinner=0,this.opponentWinner=0,this.draw=0,this.battles=[],this.currBattle=null}setupGameEnvironment(o){let r=1;o.turn>2&&(r=2),o.turn>4&&(r=3),o.turn>6&&(r=4),o.turn>8&&(r=5),o.turn>10&&(r=6),this.gameService.setPreviousShopTier(r),this.gameService.setTurnNumber(o.turn),this.gameService.setGoldSpent(o.playerGoldSpent??10,o.opponentGoldSpent??10),this.gameService.gameApi.oldStork=o.oldStork??!1,this.gameService.gameApi.komodoShuffle=o.komodoShuffle??!1,this.gameService.gameApi.mana=o.mana??!1,this.gameService.gameApi.playerRollAmount=o.playerRollAmount??4,this.gameService.gameApi.opponentRollAmount=o.opponentRollAmount??4,this.gameService.gameApi.playerLevel3Sold=o.playerLevel3Sold??0,this.gameService.gameApi.opponentLevel3Sold=o.opponentLevel3Sold??0,this.gameService.gameApi.playerLostLastBattle=o.playerLostLastBattle??!1,this.gameService.gameApi.opponentLostLastBattle=o.opponentLostLastBattle??!1,this.petService.setCustomPackPools(o.customPacks??[]),this.player.pack=o.playerPack,this.opponent.pack=o.opponentPack;const d=D=>{switch(D){case"Turtle":return this.petService.turtlePackPets;case"Puppy":return this.petService.puppyPackPets;case"Star":return this.petService.starPackPets;case"Golden":return this.petService.goldenPackPets;case"Unicorn":return this.petService.unicornPackPets;case"Danger":return this.petService.dangerPackPets;default:return this.petService.playerCustomPackPets.get(D)||new Map}},g=d(o.playerPack),f=d(o.opponentPack);this.gameService.setTierGroupPets(g,f)}initBattle(o,r=!0){this.logService.reset(),this.abilityService.clearGlobalEventQueue(),r?(this.currBattle={winner:"draw",logs:this.logService.getLogs()},this.battles.push(this.currBattle)):this.currBattle=null,this.gameService.gameApi.opponentSummonedAmount=o.opponentSummonedAmount??0,this.gameService.gameApi.playerSummonedAmount=o.playerSummonedAmount??0,this.gameService.gameApi.opponentTransformationAmount=o.opponentTransformationAmount??0,this.gameService.gameApi.playerTransformationAmount=o.playerTransformationAmount??0}prepareBattle(o){this.reset(),this.createPets(this.player,o.playerPets),this.createPets(this.opponent,o.opponentPets),this.applyPreBattleFriendDeathCounts(),o.playerToy?(this.player.toy=this.toyService.createToy(o.playerToy,this.player,o.playerToyLevel??1),this.player.originalToy=this.player.toy):(this.player.toy=null,this.player.originalToy=null),o.playerHardToy?(this.player.hardToy=this.toyService.createToy(o.playerHardToy,this.player,o.playerHardToyLevel??1),this.player.originalHardToy=this.player.hardToy):(this.player.hardToy=null,this.player.originalHardToy=null),o.opponentToy?(this.opponent.toy=this.toyService.createToy(o.opponentToy,this.opponent,o.opponentToyLevel??1),this.opponent.originalToy=this.opponent.toy):(this.opponent.toy=null,this.opponent.originalToy=null),o.opponentHardToy?(this.opponent.hardToy=this.toyService.createToy(o.opponentHardToy,this.opponent,o.opponentHardToyLevel??1),this.opponent.originalHardToy=this.opponent.hardToy):(this.opponent.hardToy=null,this.opponent.originalHardToy=null),this.gameService.gameApi.playerHardToy=o.playerHardToy??null,this.gameService.gameApi.playerHardToyLevel=o.playerHardToyLevel??1,this.gameService.gameApi.opponentHardToy=o.opponentHardToy??null,this.gameService.gameApi.opponentHardToyLevel=o.opponentHardToyLevel??1,this.startBattle(),this.initToys(),this.abilityService.initSpecialEndTurnAbility(this.player),this.abilityService.initSpecialEndTurnAbility(this.opponent),this.gameService.gameApi.FirstNonJumpAttackHappened=!1,this.initializeEquipmentMultipliers(),this.logService.createLog({message:"Phase 1: Before battle",type:"board"}),this.logService.printState(this.player,this.opponent),this.abilityService.triggerBeforeStartOfBattleEvents(),this.abilityService.executeBeforeStartOfBattleEvents(),this.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);const r=d=>"Churros"===d.equipment?.name;this.logService.createLog({message:"Phase 2: Start of battle",type:"board"}),this.logService.printState(this.player,this.opponent),this.abilityService.triggerStartBattleEvents(r),this.abilityService.executeStartBattleEvents(),this.toyService.executeStartOfBattleEvents(),this.abilityService.triggerStartBattleEvents(d=>!r(d)),this.abilityService.executeStartBattleEvents(),this.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);this.logService.createLog({message:"Phase 3: After Start of Battle",type:"board"}),this.logService.printState(this.player,this.opponent)}createPets(o,r){for(let d=0;d<5;d++){const g=r[d];if(!g||!g.name)continue;let f=this.petFormCache.get(g);f||(f=this.buildPetForm(g),this.petFormCache.set(g,f));const D=this.petService.createPet(f,o);o.setPet(d,D,!0)}}buildPetForm(o){const r=o.equipment;let d=null;"string"==typeof r?d={name:r}:r&&"object"==typeof r&&(d=r);const g=r&&"object"==typeof r?r:null;return{...o,name:o.name,attack:o.attack??0,health:o.health??0,exp:o.exp??0,mana:o.mana??0,triggersConsumed:o.triggersConsumed??0,foodsEaten:o.foodsEaten??0,equipment:d,equipmentUses:o.equipmentUses??("number"==typeof g?.uses?g.uses:null),battlesFought:o.battlesFought??0,timesHurt:o.timesHurt??0,friendsDiedBeforeBattle:o.friendsDiedBeforeBattle??0,abominationSwallowedPet1TimesHurt:o.abominationSwallowedPet1TimesHurt??0,abominationSwallowedPet2TimesHurt:o.abominationSwallowedPet2TimesHurt??0,abominationSwallowedPet3TimesHurt:o.abominationSwallowedPet3TimesHurt??0}}applyPreBattleFriendDeathCounts(){this.abilityEngine.applyPreBattleFriendDeathCounts()}executeBattleLoop(){this.eventProcessor.executeBattleLoop()}startBattle(){this.eventProcessor.startBattle()}reset(){this.eventProcessor.reset()}nextTurn(){this.eventProcessor.nextTurn()}fight(){this.eventProcessor.fight()}abilityCycle(){this.abilityEngine.abilityCycle()}checkPetsAlive(){this.abilityEngine.checkPetsAlive()}removeDeadPets(){return this.abilityEngine.removeDeadPets()}emptyFrontSpaceCheck(){this.abilityEngine.emptyFrontSpaceCheck()}initToys(){this.abilityEngine.initToys()}pushPetsForwards(){this.eventProcessor.pushPetsForwards()}endLog(o){this.eventProcessor.endLog(o)}initializeEquipmentMultipliers(){this.abilityEngine.initializeEquipmentMultipliers()}resetClearFrontFlags(){this.abilityEngine.resetClearFrontFlags()}captureProjectedLineup(o,r){const d=[];for(let g=0;g<o.length;g+=1){const f=o[g]??null,D=r.getPetAtPosition(g);if(!f||!D){d.push(null);continue}const k={...f,name:D.name??f.name??null,attack:D.attack??f.attack??0,health:D.health??f.health??0,exp:D.exp??f.exp??0,mana:D.mana??f.mana??0,triggersConsumed:D.triggersConsumed??f.triggersConsumed??0,foodsEaten:D.foodsEaten??f.foodsEaten??0,battlesFought:D.battlesFought??f.battlesFought??0,timesHurt:D.timesHurt??f.timesHurt??0,friendsDiedBeforeBattle:D.friendsDiedBeforeBattle??f.friendsDiedBeforeBattle??0,equipment:D.equipment?.name?{name:D.equipment.name}:null,equipmentUses:D.equipment?.uses??f.equipmentUses??null};d.push(k)}return d}clearPlayers(){this.clearPlayer(this.player),this.clearPlayer(this.opponent)}clearPlayer(o){o.pet0=void 0,o.pet1=void 0,o.pet2=void 0,o.pet3=void 0,o.pet4=void 0,o.orignalPet0=void 0,o.orignalPet1=void 0,o.orignalPet2=void 0,o.orignalPet3=void 0,o.orignalPet4=void 0}}function n(a,o){const r=a.slice(0,o);for(;r.length<o;)r.push(null);return r}},47097(O,S,i){i.d(S,{s:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Umbrella Bird";tier=1;pack="Custom";attack=3;health=2;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},47175(O,S,i){i.d(S,{Z:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Mothman";tier=2;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MothmanAbility",owner:e,triggers:["AnyoneGainedAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:5,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner,d=this.level;let f=r.parent.getThis(r).pet;null!=f&&(this.logService.createLog({message:`${r.name} gave ${f.name} +${d} attack and +${d} health.`,type:"ability",player:r.parent,tiger:a}),f.increaseAttack(d),f.increaseHealth(d),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},47256(O,S,i){i.d(S,{a:()=>e});var A=i(46200),c=i(5615),E=i(58857),_=i(61850),v=i(79222);class e extends A.i{logService;abilityService;name="Quetzalcoatl";tier=6;pack="Unicorn";attack=4;health=8;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{logService;abilityService;constructor(a,o,r){super({name:"QuetzalcoatlAbility",owner:a,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:d=>{this.executeAbility(d)}}),this.logService=o,this.abilityService=r}executeAbility(a){const o=this.owner,r=o.parent.petArray.filter(g=>g.alive&&g!==o&&g.tier<=3);if(0===r.length)return void this.triggerTigerExecution(a);const d=this.level;for(let g=0;g<d;g++){const f=(0,E.k6)({key:"pet.quetzalcoatl-end-turn-target",label:(0,v.I)(o,"Quetzalcoatl end turn target",g+1),options:r.map(k=>({id:`${k.savedPosition+1}:${k.name}`,label:`P${k.savedPosition+1} ${k.name}`}))},()=>(0,_.hw)(0,r.length-1)),D=r[f.index];D.increaseExp(2),this.logService.createLog({message:`${o.name} gave ${D.name} +2 experience.`,type:"ability",player:o.parent,tiger:a.tiger,pteranodon:a.pteranodon,randomEvent:f.randomEvent})}this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService)}}},47748(O,S,i){i.d(S,{k:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Dung Beetle";tier=2;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DungBeetleAbility",owner:e,triggers:["FoodEatenByFriendly","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,triggerPet:n,tiger:a,pteranodon:o}=e,r=this.owner,d=r,g=t?.turnNumber??0;if(d.dungBeetleFoodTurn!==g&&(d.dungBeetleFoodTurn=g,d.dungBeetleFoodEaten=0),d.dungBeetleFoodSeededTurn!==g){d.dungBeetleFoodSeededTurn=g;const k=r.foodsEaten??0;k>0&&(d.dungBeetleFoodEaten=Math.min(3,Math.max(d.dungBeetleFoodEaten??0,k)))}if(n&&r.alive)return void(d.dungBeetleFoodEaten=Math.min(3,(d.dungBeetleFoodEaten??0)+1));if(r.alive)return;const f=Math.min(3,d.dungBeetleFoodEaten??0);if(f<=0)return;const D=3*this.level;for(let k=0;k<f;k++){let L=r.parent.opponent.getLowestHealthPet(void 0,r),F=L.pet;if(null==F)break;r.snipePet(F,D,L.random,a)}this.logService.createLog({message:`${r.name} dealt ${D} damage ${f} time(s) to the weakest enemy.`,type:"ability",player:r.parent,tiger:a,pteranodon:o}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},47832(O,S,i){i.d(S,{B:()=>_});var A=i(46200),c=i(5615),E=i(61850);class _ extends A.i{logService;abilityService;name="Brahma Chicken";tier=5;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;attackers=new Set;constructor(t,n){super({name:"Brahma Chicken Ability",owner:t,triggers:["FriendAttacked","PostRemovalFaint","StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,{triggerPet:a,tiger:o,pteranodon:r}=t;if("StartBattle"!==t.trigger){if("FriendAttacked"===t.trigger&&a&&a.parent===n.parent)this.attackers.add(a);else if("PostRemovalFaint"===t.trigger){const d=(0,E.k4)(Array.from(this.attackers).filter(k=>k&&k.alive)),g=Math.min(3,d.length),f=this.level,D=d.slice(0,g);for(const k of D)k.increaseAttack(f),k.increaseHealth(f);D.length>0&&this.logService.createLog({message:`${n.name} gave ${D.map(k=>k.name).join(", ")} +${f}/+${f} after fainting.`,type:"ability",player:n.parent,tiger:o,pteranodon:r}),this.triggerTigerExecution(t)}}else this.attackers.clear()}copy(t){return new v(t,this.logService)}}},47868(O,S,i){i.d(S,{$8:()=>it,$Hz:()=>gn,A0l:()=>Es,A7J:()=>Mi,AQb:()=>mh,Ab:()=>Fo,AbJ:()=>zu,Af3:()=>Ua,Agf:()=>Tn,Ap:()=>o,AsM:()=>ne,B22:()=>Zp,B9r:()=>Y,BI7:()=>zi,Bqz:()=>on,By9:()=>B_,CQl:()=>Nn,CpD:()=>Hu,Cv0:()=>Ce,Czx:()=>Vt,DFp:()=>qt,Ds7:()=>at,DyX:()=>Qp,E6O:()=>Rn,EFk:()=>lr,EJG:()=>j,EPY:()=>Br,EYC:()=>Da,EmA:()=>ie,Evm:()=>hh,F1c:()=>ya,FRF:()=>_n,Fje:()=>R_,G2t:()=>Xt,GA0:()=>Ko,GBX:()=>Ln,GWr:()=>Ke,GYQ:()=>gh,GZS:()=>ur,GpT:()=>ee,HAh:()=>Zl,HO5:()=>dh,HUe:()=>Xp,HaV:()=>bi,Hh6:()=>Lt,IAh:()=>Ne,ID:()=>Tt,ID8:()=>sh,ITl:()=>ku,Iaj:()=>Wi,Isx:()=>bn,IvY:()=>U,JEi:()=>yn,JjR:()=>Wu,JlV:()=>as,Jzi:()=>_e,K29:()=>ra,K7h:()=>zn,KET:()=>Ka,KVO:()=>gi,KdJ:()=>cn,KtD:()=>th,Kw3:()=>Hr,LIA:()=>de,LZP:()=>ut,M0L:()=>Ps,M6u:()=>is,MI:()=>w_,MME:()=>Wn,MT:()=>L_,MZA:()=>Ma,M_e:()=>ci,MdC:()=>hr,Mlv:()=>Un,Mx4:()=>Bo,MzJ:()=>je,N4e:()=>ys,N79:()=>eh,Njj:()=>ih,O8q:()=>Ql,O8t:()=>td,OAn:()=>Lu,ONQ:()=>Fe,OsK:()=>f,P2g:()=>Nu,P3H:()=>Fu,PEr:()=>Mu,PP7:()=>Si,PQT:()=>ta,Pfq:()=>Gr,Pz9:()=>Ts,QZP:()=>mc,Qs1:()=>wo,QuC:()=>Dn,R2n:()=>Gs,RZ9:()=>Vr,Rc9:()=>fs,Rfq:()=>ae,Rom:()=>cr,RxE:()=>t,SKP:()=>ei,SKi:()=>Yo,SMZ:()=>L,SX7:()=>lc,TWe:()=>Io,Tkx:()=>Yp,U45:()=>ye,U7d:()=>wi,UaU:()=>ju,UhH:()=>xo,VKj:()=>Jl,VML:()=>gc,VPL:()=>nh,VVG:()=>va,VX4:()=>Ta,W0r:()=>Wa,WB9:()=>ma,WQX:()=>ri,WbQ:()=>Ii,WfI:()=>aa,Wg1:()=>Xi,WrV:()=>Se,X5O:()=>he,XRZ:()=>_t,XaM:()=>fi,Xln:()=>Te,XvL:()=>ct,Y20:()=>As,Y3W:()=>vi,YEL:()=>bs,YWB:()=>No,Yrj:()=>Z,Yw1:()=>Ji,Z63:()=>Cn,Z9v:()=>sc,ZFY:()=>ze,ZQF:()=>Ue,ZRn:()=>fe,ZTf:()=>Jo,_0$:()=>Lo,_Z$:()=>en,_gW:()=>O_,_px:()=>$o,a2B:()=>We,abz:()=>Ds,b$O:()=>ac,b5C:()=>ke,bBq:()=>Hs,biv:()=>k_,bkB:()=>Ha,bll:()=>oc,blu:()=>wn,bm_:()=>Ks,brz:()=>lt,buA:()=>d,c$7:()=>Uu,cBl:()=>Uo,cP4:()=>dr,cSN:()=>tc,ckz:()=>mr,d31:()=>te,dMS:()=>Ro,dTm:()=>Zu,d_l:()=>qp,db4:()=>wu,dmw:()=>rn,dwj:()=>J,e5P:()=>es,eBV:()=>ic,eDl:()=>ue,eFE:()=>ea,eVN:()=>Nr,ebl:()=>Oe,ezK:()=>sa,f7T:()=>_a,fuf:()=>Wr,gsJ:()=>mn,gv8:()=>N_,gxQ:()=>nc,hjC:()=>Ri,hk6:()=>hc,hmW:()=>an,iMd:()=>_r,iYM:()=>pt,ihb:()=>wa,ik5:()=>Ou,iw4:()=>xe,jDH:()=>kt,jNX:()=>Cu,jRZ:()=>Jp,jXY:()=>Ge,jgP:()=>jt,joV:()=>Ss,jvu:()=>oh,kLh:()=>F,kNT:()=>rt,kcM:()=>xt,klJ:()=>xu,krE:()=>Kr,l4E:()=>uc,laP:()=>D,llW:()=>tn,m7n:()=>$n,myG:()=>Ms,n$e:()=>H,nKC:()=>ot,nZS:()=>Vi,nfM:()=>ka,ng7:()=>Li,niQ:()=>rh,nl4:()=>le,oMQ:()=>Ot,oTH:()=>me,oZy:()=>ss,ok8:()=>r,oyA:()=>qi,p9y:()=>In,pbo:()=>qe,pcR:()=>wt,phH:()=>pi,pr_:()=>He,q$2:()=>$s,qFA:()=>ns,qQL:()=>fr,qSk:()=>rA,qlT:()=>fa,r4V:()=>Qo,rFz:()=>Bu,rJ1:()=>ql,rQE:()=>Be,rev:()=>jo,s6P:()=>Kn,srX:()=>or,tF7:()=>yt,tQN:()=>_i,tcA:()=>rr,tdH:()=>W_,u5s:()=>qu,uXy:()=>Oi,uiq:()=>Oa,uvJ:()=>kn,vNG:()=>Iu,vOT:()=>Ga,vPA:()=>pc,vQI:()=>ah,vaC:()=>N,veI:()=>$r,w7Z:()=>Ku,wGu:()=>Jt,wVl:()=>Ye,xLP:()=>Ui,xUg:()=>Hi,xbp:()=>jr,xyx:()=>Wo,yAH:()=>Ve,yP_:()=>js,yoD:()=>xr,ypq:()=>x_,yzR:()=>Fr,z6V:()=>Ai,z7f:()=>Dt,zAe:()=>K,zQk:()=>$a,zSs:()=>Yi,zZn:()=>Ho,zcH:()=>Xo,znI:()=>I_});var A=i(15824),c=i(27389),E=i(45286),_=i(79928),v=i(31805),e=i(91679);class t{full;major;minor;patch;constructor(V){this.full=V;const se=V.split(".");this.major=se[0],this.minor=se[1],this.patch=se.slice(2).join(".")}}const n=new t("21.1.1"),o=`${(()=>{const x=n.full;return`https://${x.includes("-next")||x.includes("-rc")||"0.0.0-PLACEHOLDER"===x?"next":`v${n.major}`}.angular.dev`})()}/errors`,r="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class d extends Error{code;constructor(V,se){super(f(V,se)),this.code=V}}function f(x,V){return`${function g(x){return`NG0${Math.abs(x)}`}(x)}${V?": "+V:""}`}const D=globalThis;function L(){return!1}function F(x){for(let V in x)if(x[V]===F)return V;throw Error("")}function J(x,V){for(const se in V)V.hasOwnProperty(se)&&!x.hasOwnProperty(se)&&(x[se]=V[se])}function ne(x){if("string"==typeof x)return x;if(Array.isArray(x))return`[${x.map(ne).join(", ")}]`;if(null==x)return""+x;const V=x.overriddenName||x.name;if(V)return`${V}`;const se=x.toString();if(null==se)return""+se;const Ee=se.indexOf("\n");return Ee>=0?se.slice(0,Ee):se}function H(x,V){return x?V?`${x} ${V}`:x:V||""}const q=F({__forward_ref__:F});function ae(x){return x.__forward_ref__=ae,x.toString=function(){return ne(this())},x}function le(x){return _e(x)?x():x}function _e(x){return"function"==typeof x&&x.hasOwnProperty(q)&&x.__forward_ref__===ae}function ye(x,V){"number"!=typeof x&&it(V,typeof x,"number","===")}function Se(x,V,se){ye(x,"Expected a number"),function Je(x,V,se){x<=V||it(se,x,V,"<=")}(x,se,"Expected number to be less than or equal to"),qe(x,V,"Expected number to be greater than or equal to")}function Ce(x,V){"string"!=typeof x&&it(V,null===x?"null":typeof x,"string","===")}function de(x,V){"function"!=typeof x&&it(V,null===x?"null":typeof x,"function","===")}function Te(x,V,se){x!=V&&it(se,x,V,"==")}function xe(x,V,se){x==V&&it(se,x,V,"!=")}function Ue(x,V,se){x!==V&&it(se,x,V,"===")}function Ne(x,V,se){x===V&&it(se,x,V,"!==")}function ct(x,V,se){x<V||it(se,x,V,"<")}function Ke(x,V,se){x>V||it(se,x,V,">")}function qe(x,V,se){x>=V||it(se,x,V,">=")}function pt(x,V){null==x&&it(V,x,null,"!=")}function it(x,V,se,Ee){throw new Error(`ASSERTION ERROR: ${x}`+(null==Ee?"":` [Expected=> ${se} ${Ee} ${V} <=Actual]`))}function Dt(x){x instanceof Node||it(`The provided value must be an instance of a DOM Node but got ${ne(x)}`)}function ut(x){x instanceof Element||it(`The provided value must be an element but got ${ne(x)}`)}function yt(x,V){pt(x,"Array must be defined.");const se=x.length;(V<0||V>=se)&&it(`Index expected to be less than ${se} but got ${V}`)}function rt(x,...V){if(-1!==V.indexOf(x))return!0;it(`Expected value to be one of ${JSON.stringify(V)} but was ${JSON.stringify(x)}.`)}function He(x){null!==(0,A.nR)()&&it(`${x}() should never be called in a reactive context.`)}function kt(x){return{token:x.token,providedIn:x.providedIn||null,factory:x.factory,value:void 0}}function Xt(x){return{providers:x.providers||[],imports:x.imports||[]}}function nt(x){return function Et(x,V){return x.hasOwnProperty(V)&&x[V]||null}(x,Ve)}function Oe(x){return x&&x.hasOwnProperty(Fe)?x[Fe]:null}const Ve=F({\u0275prov:F}),Fe=F({\u0275inj:F});class ot{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(V,se){this._desc=V,this.\u0275prov=void 0,"number"==typeof se?this.__NG_ELEMENT_ID__=se:void 0!==se&&(this.\u0275prov=kt({token:this,providedIn:se.providedIn||"root",factory:se.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}let Bt;function Rt(){return it("getInjectorProfilerContext should never be called in production mode"),Bt}function qt(x){it("setInjectorProfilerContext should never be called in production mode");const V=Bt;return Bt=x,V}const zt=[],Ht=()=>{};function xt(x){return it("setInjectorProfiler should never be called in production mode"),null!==x?(zt.includes(x)||zt.push(x),()=>function Gi(x){const V=zt.indexOf(x);-1!==V&&zt.splice(V,1)}(x)):(zt.length=0,Ht)}function Qi(x){it("Injector profiler should never be called in production mode");for(let V=0;V<zt.length;V++)(0,zt[V])(x)}function Vi(x,V=!1){let se;it("Injector profiler should never be called in production mode"),se="function"==typeof x||x instanceof ot?x:le(x.provide);let Ee=x;x instanceof ot&&(Ee=x.\u0275prov||x),Qi({type:2,context:Rt(),providerRecord:{token:se,provider:Ee,isViewProvider:V}})}function wi(x){it("Injector profiler should never be called in production mode"),Qi({type:5,context:Rt(),token:x})}function Oi(x){it("Injector profiler should never be called in production mode"),Qi({type:1,context:Rt(),instance:{value:x}})}function zi(x,V,se){it("Injector profiler should never be called in production mode"),Qi({type:0,context:Rt(),service:{token:x,value:V,flags:se}})}function Mi(x){it("Injector profiler should never be called in production mode"),Qi({type:4,context:Rt(),effectPhase:x})}function fi(x,V,se){it("runInInjectorProfilerContext should never be called in production mode");const Ee=qt({injector:x,token:V});try{se()}finally{qt(Ee)}}function Ci(x){return x&&!!x.\u0275providers}const Nn=F({\u0275cmp:F}),pn=F({\u0275dir:F}),nn=F({\u0275pipe:F}),an=F({\u0275mod:F}),Yi=F({\u0275fac:F}),In=F({__NG_ELEMENT_ID__:F}),Bi=F({__NG_ENV_ID__:F});function pi(x){return Zi(x),x[an]||null}function Ii(x){const V=pi(x);if(!V)throw new d(915,!1);return V}function Hi(x){return Zi(x),x[Nn]||null}function Tn(x){const V=bi(x);if(!V)throw new d(916,!1);return V}function bi(x){return Zi(x),x[pn]||null}function qi(x){return Zi(x),x[nn]||null}function Zi(x,V){if(null==x)throw new d(-919,!1)}function Dn(x){const V=Hi(x)||bi(x)||qi(x);return null!==V&&V.standalone}function ea(x){return"string"==typeof x?x:null==x?"":String(x)}function Si(x){return"function"==typeof x?x.name||x.toString():"object"==typeof x&&null!=x&&"function"==typeof x.type?x.type.name||x.type.toString():ea(x)}function en(x){const V=Hi(x);return null!==V&&V.debugInfo?function jn(x){return x.filePath&&x.lineNumber?`${x.className} (at ${x.filePath}:${x.lineNumber})`:x.className}(V.debugInfo):Si(x)}const Mn=F({ngErrorCode:F}),Vn=F({ngErrorMessage:F}),sn=F({ngTokenPath:F});function ta(x,V){return na("",-200,V)}function Ta(x,V){return function ia(x,V){return x.message=function Ae(x,V,se=[],Ee=null){let Ie="";se&&se.length>1&&(Ie=` Path: ${se.join(" -> ")}.`);return f(V,`${x}${Ee?` Source: ${Ee}.`:""}${Ie}`)}(x[Vn]||x.message,x[Mn],x[sn],V),x}(ta(0,V),null)}function gn(x,V){throw new d(-201,!1)}function na(x,V,se){const Ee=new d(V,x);return Ee[Mn]=V,Ee[Vn]=x,se&&(Ee[sn]=se),Ee}let ve;function Le(){return ve}function We(x){const V=ve;return ve=x,V}function je(x,V,se){const Ee=nt(x);return Ee&&"root"==Ee.providedIn?void 0===Ee.value?Ee.value=Ee.factory():Ee.value:8&se?null:void 0!==V?V:void gn()}function ze(x){}const At={},Pi="__NG_DI_FLAG__";class Fi{injector;constructor(V){this.injector=V}retrieve(V,se){const Ee=Ri(se)||0;try{return this.injector.get(V,8&Ee?null:At,Ee)}catch(Ie){if((0,e.c4)(Ie))return Ie;throw Ie}}}function mi(x,V=0){const se=(0,e.Af)();if(void 0===se)throw new d(-203,!1);if(null===se)return je(x,void 0,V);{const Ee=function Gt(x){return{optional:!!(8&x),host:!!(1&x),self:!!(2&x),skipSelf:!!(4&x)}}(V),Ie=se.retrieve(x,Ee);if((0,e.c4)(Ie)){if(Ee.optional)return null;throw Ie}return Ie}}function gi(x,V=0){return(Le()||mi)(le(x),V)}function rn(x){throw new d(202,!1)}function ri(x,V){return gi(x,Ri(V))}function Ri(x){return typeof x>"u"||"number"==typeof x?x:0|(x.optional&&8)|(x.host&&1)|(x.self&&2)|(x.skipSelf&&4)}function Yt(x){const V=[];for(let se=0;se<x.length;se++){const Ee=le(x[se]);if(Array.isArray(Ee)){if(0===Ee.length)throw new d(900,!1);let Ie,Qe=0;for(let bt=0;bt<Ee.length;bt++){const Di=Ee[bt],ti=ki(Di);"number"==typeof ti?-1===ti?Ie=Di.token:Qe|=ti:Ie=Di}V.push(gi(Ie,Qe))}else V.push(gi(Ee))}return V}function Ai(x,V){return x[Pi]=V,x.prototype[Pi]=V,x}function ki(x){return x[Pi]}function Jt(x,V){return x.hasOwnProperty(Yi)?x[Yi]:null}function Li(x,V,se){if(x.length!==V.length)return!1;for(let Ee=0;Ee<x.length;Ee++){let Ie=x[Ee],Qe=V[Ee];if(se&&(Ie=se(Ie),Qe=se(Qe)),Qe!==Ie)return!1}return!0}function on(x){return x.flat(Number.POSITIVE_INFINITY)}function Ui(x,V){x.forEach(se=>Array.isArray(se)?Ui(se,V):V(se))}function Da(x,V,se){V>=x.length?x.push(se):x.splice(V,0,se)}function Rn(x,V){return V>=x.length-1?x.pop():x.splice(V,1)[0]}function aa(x,V){const se=[];for(let Ee=0;Ee<x;Ee++)se.push(V);return se}function mn(x,V,se){const Ee=x.length-se;for(;V<Ee;)x[V]=x[V+se],V++;for(;se--;)x.pop()}function tn(x,V,se,Ee){let Ie=x.length;if(Ie==V)x.push(se,Ee);else if(1===Ie)x.push(Ee,x[0]),x[0]=se;else{for(Ie--,x.push(x[Ie-1],x[Ie]);Ie>V;)x[Ie]=x[Ie-2],Ie--;x[V]=se,x[V+1]=Ee}}function sa(x,V,se){let Ee=_n(x,V);return Ee>=0?x[1|Ee]=se:(Ee=~Ee,tn(x,Ee,V,se)),Ee}function zn(x,V){const se=_n(x,V);if(se>=0)return x[1|se]}function _n(x,V){return function fn(x,V,se){let Ee=0,Ie=x.length>>se;for(;Ie!==Ee;){const Qe=Ee+(Ie-Ee>>1),bt=x[Qe<<se];if(V===bt)return Qe<<se;bt>V?Ie=Qe:Ee=Qe+1}return~(Ie<<se)}(x,V,1)}const Ma={},Un=[],Cn=new ot(""),Za=new ot("",-1),Y=new ot("");class me{get(V,se=At){if(se===At){const Ie=na("",-201);throw Ie.name="\u0275NotFound",Ie}return se}}function ie(x){return{\u0275providers:x}}function De(...x){return{\u0275providers:Ge(0,x),\u0275fromNgModule:!0}}function Ge(x,...V){const se=[],Ee=new Set;let Ie;const Qe=bt=>{se.push(bt)};return Ui(V,bt=>{const Di=bt;lt(Di,Qe,[],Ee)&&(Ie||=[],Ie.push(Di))}),void 0!==Ie&&Ze(Ie,Qe),se}function Ze(x,V){for(let se=0;se<x.length;se++){const{ngModule:Ee,providers:Ie}=x[se];Zt(Ie,Qe=>{V(Qe,Ee)})}}function lt(x,V,se,Ee){if(!(x=le(x)))return!1;let Ie=null,Qe=Oe(x);const bt=!Qe&&Hi(x);if(Qe||bt){if(bt&&!bt.standalone)return!1;Ie=x}else{const ti=x.ngModule;if(Qe=Oe(ti),!Qe)return!1;Ie=ti}const Di=Ee.has(Ie);if(bt){if(Di)return!1;if(Ee.add(Ie),bt.dependencies){const ti="function"==typeof bt.dependencies?bt.dependencies():bt.dependencies;for(const xi of ti)lt(xi,V,se,Ee)}}else{if(!Qe)return!1;{if(null!=Qe.imports&&!Di){let xi;Ee.add(Ie),Ui(Qe.imports,zs=>{lt(zs,V,se,Ee)&&(xi||=[],xi.push(zs))}),void 0!==xi&&Ze(xi,V)}if(!Di){const xi=Jt(Ie)||(()=>new Ie);V({provide:Ie,useFactory:xi,deps:Un},Ie),V({provide:Y,useValue:Ie,multi:!0},Ie),V({provide:Cn,useValue:()=>gi(Ie),multi:!0},Ie)}const ti=Qe.providers;if(null!=ti&&!Di){const xi=x;Zt(ti,zs=>{V(zs,xi)})}}}return Ie!==x&&void 0!==x.providers}function Zt(x,V){for(let se of x)Ci(se)&&(se=se.\u0275providers),Array.isArray(se)?Zt(se,V):V(se)}const si=F({provide:String,useValue:F});function Qt(x){return null!==x&&"object"==typeof x&&si in x}function vi(x){return"function"==typeof x}function Wn(x){return!!x.useClass}const Ln=new ot(""),vn={},ln={};let xn;function ma(){return void 0===xn&&(xn=new me),xn}class kn{}class es extends kn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(V,se,Ee,Ie){super(),this.parent=se,this.source=Ee,this.scopes=Ie,ts(V,bt=>this.processProvider(bt)),this.records.set(Za,Ca(void 0,this)),Ie.has("environment")&&this.records.set(kn,Ca(void 0,this));const Qe=this.records.get(Ln);null!=Qe&&"string"==typeof Qe.value&&this.scopes.add(Qe.value),this.injectorDefTypes=new Set(this.get(Y,Un,{self:!0}))}retrieve(V,se){const Ee=Ri(se)||0;try{return this.get(V,At,Ee)}catch(Ie){if((0,e.c4)(Ie))return Ie;throw Ie}}destroy(){Na(this),this._destroyed=!0;const V=(0,A.Ht)(null);try{for(const Ee of this._ngOnDestroyHooks)Ee.ngOnDestroy();const se=this._onDestroyHooks;this._onDestroyHooks=[];for(const Ee of se)Ee()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),(0,A.Ht)(V)}}onDestroy(V){return Na(this),this._onDestroyHooks.push(V),()=>this.removeOnDestroy(V)}runInContext(V){Na(this);const se=(0,e.mu)(this),Ee=We(void 0);try{return V()}finally{(0,e.mu)(se),We(Ee)}}get(V,se=At,Ee){if(Na(this),V.hasOwnProperty(Bi))return V[Bi](this);const Ie=Ri(Ee),bt=(0,e.mu)(this),Di=We(void 0);try{if(!(4&Ie)){let xi=this.records.get(V);if(void 0===xi){const zs=function Lr(x){return"function"==typeof x||"object"==typeof x&&"InjectionToken"===x.ngMetadataName}(V)&&nt(V);xi=zs&&this.injectableDefInScope(zs)?Ca(_s(V),vn):null,this.records.set(V,xi)}if(null!=xi)return this.hydrate(V,xi,Ie)}return(2&Ie?ma():this.parent).get(V,se=8&Ie&&se===At?null:se)}catch(ti){const xi=function ce(x){return x[Mn]}(ti);throw-200===xi||-201===xi?new d(xi,null):ti}finally{We(Di),(0,e.mu)(bt)}}resolveInjectorInitializers(){const V=(0,A.Ht)(null),se=(0,e.mu)(this),Ee=We(void 0);try{const Qe=this.get(Cn,Un,{self:!0});for(const bt of Qe)bt()}finally{(0,e.mu)(se),We(Ee),(0,A.Ht)(V)}}toString(){const V=[],se=this.records;for(const Ee of se.keys())V.push(ne(Ee));return`R3Injector[${V.join(", ")}]`}processProvider(V){let se=vi(V=le(V))?V:le(V&&V.provide);const Ee=function sr(x){return Qt(x)?Ca(void 0,x.useValue):Ca(fs(x),vn)}(V);if(!vi(V)&&!0===V.multi){let Ie=this.records.get(se);Ie||(Ie=Ca(void 0,vn,!0),Ie.factory=()=>Yt(Ie.multi),this.records.set(se,Ie)),se=V,Ie.multi.push(V)}this.records.set(se,Ee)}hydrate(V,se,Ee){const Ie=(0,A.Ht)(null);try{if(se.value===ln)throw ta(ne(V));return se.value===vn&&(se.value=ln,se.value=se.factory(void 0,Ee)),"object"==typeof se.value&&se.value&&function vs(x){return null!==x&&"object"==typeof x&&"function"==typeof x.ngOnDestroy}(se.value)&&this._ngOnDestroyHooks.add(se.value),se.value}finally{(0,A.Ht)(Ie)}}injectableDefInScope(V){if(!V.providedIn)return!1;const se=le(V.providedIn);return"string"==typeof se?"any"===se||this.scopes.has(se):this.injectorDefTypes.has(se)}removeOnDestroy(V){const se=this._onDestroyHooks.indexOf(V);-1!==se&&this._onDestroyHooks.splice(se,1)}}function _s(x){const V=nt(x),se=null!==V?V.factory:Jt(x);if(null!==se)return se;if(x instanceof ot)throw new d(204,!1);if(x instanceof Function)return function Yn(x){if(x.length>0)throw new d(204,!1);const se=function ge(x){return(x?.[Ve]??null)||null}(x);return null!==se?()=>se.factory(x):()=>new x}(x);throw new d(204,!1)}function fs(x,V,se){let Ee;if(vi(x)){const Ie=le(x);return Jt(Ie)||_s(Ie)}if(Qt(x))Ee=()=>le(x.useValue);else if(function oi(x){return!(!x||!x.useFactory)}(x))Ee=()=>x.useFactory(...Yt(x.deps||[]));else if(function Ti(x){return!(!x||!x.useExisting)}(x))Ee=(Ie,Qe)=>gi(le(x.useExisting),void 0!==Qe&&8&Qe?8:void 0);else{const Ie=le(x&&(x.useClass||x.provide));if(!function Ws(x){return!!x.deps}(x))return Jt(Ie)||_s(Ie);Ee=()=>new Ie(...Yt(x.deps))}return Ee}function Na(x){if(x.destroyed)throw new d(205,!1)}function Ca(x,V,se=!1){return{factory:x,value:V,multi:se?[]:void 0}}function ts(x,V){for(const se of x)Array.isArray(se)?ts(se,V):se&&Ci(se)?ts(se.\u0275providers,V):V(se)}function ys(x,V){let se;x instanceof es?(Na(x),se=x):se=new Fi(x);const Ie=(0,e.mu)(se),Qe=We(void 0);try{return V()}finally{(0,e.mu)(Ie),We(Qe)}}function is(){return void 0!==Le()||null!=(0,e.Af)()}function Ua(x){if(!is())throw new d(-203,!1)}const jt=0,ue=1,Xi=2,_a=3,ra=4,fa=5,rr=6,va=7,ei=8,bs=9,Ps=10,ee=11,j=12,Z=13,he=14,ke=15,Be=16,Ye=17,at=18,Tt=19,Ot=20,Vt=21,wt=22,_i=23,Wi=24,yn=25,bn=26,Ji=27,ns=6,Kn=7,Ks=8,ka=9,As=10;function $s(x){return Array.isArray(x)&&"object"==typeof x[1]}function Es(x){return Array.isArray(x)&&!0===x[1]}function or(x){return!!(4&x.flags)}function wo(x){return x.componentOffset>-1}function xr(x){return!(1&~x.flags)}function as(x){return!!x.template}function lr(x){return!!(512&x[Xi])}function Br(x){return!(256&~x[Xi])}function Jl(x,V){cr(x,V[ue])}function Ql(x,V){const se=V+Ji;yt(x,se),ct(se,x[ue].bindingStartIndex,"TNodes should be created before any bindings")}function cr(x,V){Gs(x);const se=V.data;for(let Ee=Ji;Ee<se.length;Ee++)if(se[Ee]===x)return;it("This TNode does not belong to this TView.")}function Gs(x){pt(x,"TNode must be defined"),x&&"object"==typeof x&&x.hasOwnProperty("directiveStylingLast")||it("Not of type TNode, got: "+x)}function Wa(x){pt(x,"Expected TIcu to be defined"),"number"!=typeof x.currentCaseLViewIndex&&it("Object is not of TIcu type.")}function ur(x,V="Type passed in is not ComponentType, it does not have '\u0275cmp' property."){Hi(x)||it(V)}function Ka(x,V="Type passed in is not NgModuleType, it does not have '\u0275mod' property."){pi(x)||it(V)}function Hs(x){pt(x,"currentTNode should exist!"),pt(x.parent,"currentTNode should have a parent")}function dr(x){pt(x,"LContainer must be defined"),Te(Es(x),!0,"Expecting LContainer")}function hr(x){pt(x,"LView must be defined"),Te($s(x),!0,"Expecting LView")}function Fr(x,V){Te(x.firstCreatePass,!0,V||"Should only be called in first create pass.")}function Io(x,V){Te(x.firstUpdatePass,!0,"Should only be called in first update pass.")}function Mu(x){(void 0===x.type||null==x.selectors||void 0===x.inputs)&&it("Expected a DirectiveDef/ComponentDef and this object does not seem to have the expected shape.")}function $a(x,V){gr(Ji,x.bindingStartIndex,V)}function ss(x,V){gr(x[1].expandoStartIndex,x.length,V)}function gr(x,V,se){x<=se&&se<V||it(`Index out of range (expecting ${x} <= ${se} < ${V})`)}function k_(x,V){pt(x[ke],"Component views should exist."),pt(x[ke][fa].projection,"Components with projection nodes (<ng-content>) must have projection slots defined.")}function w_(x,V){pt(x,"Component views should always have a parent view (component's host view)")}function Yp(x,V){ss(x,V),ss(x,V+8),ye(x[V+0],"injectorIndex should point to a bloom filter"),ye(x[V+1],"injectorIndex should point to a bloom filter"),ye(x[V+2],"injectorIndex should point to a bloom filter"),ye(x[V+3],"injectorIndex should point to a bloom filter"),ye(x[V+4],"injectorIndex should point to a bloom filter"),ye(x[V+5],"injectorIndex should point to a bloom filter"),ye(x[V+6],"injectorIndex should point to a bloom filter"),ye(x[V+7],"injectorIndex should point to a bloom filter"),ye(x[V+8],"injectorIndex should point to parent injector")}const Cu="svg",ql="math";function U(x){for(;Array.isArray(x);)x=x[jt];return x}function K(x){for(;Array.isArray(x);){if("object"==typeof x[1])return x;x=x[jt]}return null}function N(x,V){return U(V[x])}function te(x,V){return U(V[x.index])}function fe(x,V){const se=null===x?-1:x.index;return-1!==se?U(V[se]):null}function _t(x,V){return x.data[V]}function Lt(x,V){return x[V]}function ci(x,V,se,Ee){se>=x.data.length&&(x.data[se]=null,x.blueprint[se]=null),V[se]=Ee}function cn(x,V){const se=V[x];return $s(se)?se:se[jt]}function Ga(x){return!(4&~x[Xi])}function ya(x){return!(128&~x[Xi])}function ku(x){return Es(x[_a])}function wu(x,V){return null==V?null:x[V]}function Xp(x){x[Ye]=0}function Zl(x){1024&x[Xi]||(x[Xi]|=1024,ya(x)&&wn(x))}function Jp(x,V){for(;x>0;)V=V[he],x--;return V}function Ro(x){return!!(9216&x[Xi]||x[Wi]?.dirty)}function O_(x){x[Ps].changeDetectionScheduler?.notify(8),64&x[Xi]&&(x[Xi]|=1024),Ro(x)&&wn(x)}function wn(x){x[Ps].changeDetectionScheduler?.notify(0);let V=Lo(x);for(;null!==V&&!(8192&V[Xi])&&(V[Xi]|=8192,ya(V));)V=Lo(V)}function Ou(x,V){if(Br(x))throw new d(911,!1);null===x[Vt]&&(x[Vt]=[]),x[Vt].push(V)}function Qp(x,V){if(null===x[Vt])return;const se=x[Vt].indexOf(V);-1!==se&&x[Vt].splice(se,1)}function Lo(x){const V=x[_a];return Es(V)?V[_a]:V}function qp(x){return x[va]??=[]}function Iu(x){return x.cleanup??=[]}function Zp(x,V,se,Ee){const Ie=qp(V);Ie.push(se),x.firstCreatePass&&Iu(x).push(Ee,Ie.length-1)}const Ft={lFrame:zr(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Nr=function(x){return x[x.Off=0]="Off",x[x.Exhaustive=1]="Exhaustive",x[x.OnlyDirtyViews=2]="OnlyDirtyViews",x}(Nr||{});let Ur=0,ec=!1;function I_(){return Ft.lFrame.elementDepthCount}function R_(){Ft.lFrame.elementDepthCount++}function eh(){Ft.lFrame.elementDepthCount--}function mr(){return Ft.bindingsEnabled}function th(){return null!==Ft.skipHydrationRootTNode}function xo(x){return Ft.skipHydrationRootTNode===x}function tc(){Ft.bindingsEnabled=!0}function Wr(){Ft.bindingsEnabled=!1}function Kr(){Ft.skipHydrationRootTNode=null}function Lu(){return Ft.lFrame.lView}function xu(){return Ft.lFrame.tView}function ic(x){return Ft.lFrame.contextLView=x,x[ei]}function ih(x){return Ft.lFrame.contextLView=null,x}function Bo(){let x=$r();for(;null!==x&&64===x.type;)x=x.parent;return x}function $r(){return Ft.lFrame.currentTNode}function Fo(){const x=Ft.lFrame,V=x.currentTNode;return x.isParent?V:V.parent}function _r(x,V){const se=Ft.lFrame;se.currentTNode=x,se.isParent=V}function No(){return Ft.lFrame.isParent}function Gr(){Ft.lFrame.isParent=!1}function nh(){return Ft.lFrame.contextLView}function Bu(){return it("Must never be called in production mode"),Ur!==Nr.Off}function Fu(){return it("Must never be called in production mode"),Ur===Nr.Exhaustive}function Nu(x){it("Must never be called in production mode"),Ur=x}function js(){return ec}function Uo(x){const V=ec;return ec=x,V}function nc(){const x=Ft.lFrame;let V=x.bindingRootIndex;return-1===V&&(V=x.bindingRootIndex=x.tView.bindingStartIndex),V}function Uu(){return Ft.lFrame.bindingIndex}function Hr(x){return Ft.lFrame.bindingIndex=x}function jr(){return Ft.lFrame.bindingIndex++}function ac(x){const V=Ft.lFrame,se=V.bindingIndex;return V.bindingIndex=V.bindingIndex+x,se}function Wu(){return Ft.lFrame.inI18n}function Wo(x){Ft.lFrame.inI18n=x}function ah(x,V){const se=Ft.lFrame;se.bindingIndex=se.bindingRootIndex=x,Vr(V)}function sc(){return Ft.lFrame.currentDirectiveIndex}function Vr(x){Ft.lFrame.currentDirectiveIndex=x}function L_(x){const V=Ft.lFrame.currentDirectiveIndex;return-1===V?null:x[V]}function Ku(){return Ft.lFrame.currentQueryIndex}function Ko(x){Ft.lFrame.currentQueryIndex=x}function rc(x){const V=x[ue];return 2===V.type?V.declTNode:1===V.type?x[fa]:null}function wa(x,V,se){if(4&se){let Ie=V,Qe=x;for(;!(Ie=Ie.parent,null!==Ie||1&se||(Ie=rc(Qe),null===Ie||(Qe=Qe[he],10&Ie.type))););if(null===Ie)return!1;V=Ie,x=Qe}const Ee=Ft.lFrame=$u();return Ee.currentTNode=V,Ee.lView=x,!0}function sh(x){const V=$u(),se=x[ue];Ft.lFrame=V,V.currentTNode=se.firstChild,V.lView=x,V.tView=se,V.contextLView=x,V.bindingIndex=se.bindingStartIndex,V.inI18n=!1}function $u(){const x=Ft.lFrame,V=null===x?null:x.child;return null===V?zr(x):V}function zr(x){const V={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:x,child:null,inI18n:!1};return null!==x&&(x.child=V),V}function Gu(){const x=Ft.lFrame;return Ft.lFrame=x.parent,x.currentTNode=null,x.lView=null,x}const rh=Gu;function oc(){const x=Gu();x.isParent=!0,x.tView=null,x.selectedIndex=-1,x.contextLView=null,x.elementDepthCount=0,x.currentDirectiveIndex=-1,x.currentNamespace=null,x.bindingRootIndex=-1,x.bindingIndex=-1,x.currentQueryIndex=0}function oh(x){return(Ft.lFrame.contextLView=Jp(x,Ft.lFrame.contextLView))[ei]}function $o(){return Ft.lFrame.selectedIndex}function x_(x){Ft.lFrame.selectedIndex=x}function Hu(){const x=Ft.lFrame;return _t(x.tView,x.selectedIndex)}function rA(){Ft.lFrame.currentNamespace=Cu}function B_(){Ft.lFrame.currentNamespace=ql}function Ss(){!function Yr(){Ft.lFrame.currentNamespace=null}()}function ju(){return Ft.lFrame.currentNamespace}let Go=!0;function lc(){return Go}function $n(x){Go=x}function On(x,V=null,se=null,Ee){const Ie=Ts(x,V,se,Ee);return Ie.resolveInjectorInitializers(),Ie}function Ts(x,V=null,se=null,Ee,Ie=new Set){const Qe=[se||Un,De(x)];return Ee=Ee||("object"==typeof x?void 0:ne(x)),new es(Qe,V||ma(),Ee||null,Ie)}class Ho{static THROW_IF_NOT_FOUND=At;static NULL=new me;static create(V,se){if(Array.isArray(V))return On({name:""},se,V,"");{const Ee=V.name??"";return On({name:Ee},V.parent,V.providers,Ee)}}static \u0275prov=kt({token:Ho,providedIn:"any",factory:()=>gi(Za)});static __NG_ELEMENT_ID__=-1}const fr=new ot("");let Ds=(()=>class x{static __NG_ELEMENT_ID__=Vu;static __NG_ENV_ID__=se=>se})();class cc extends Ds{_lView;constructor(V){super(),this._lView=V}get destroyed(){return Br(this._lView)}onDestroy(V){const se=this._lView;return Ou(se,V),()=>Qp(se,V)}}function Vu(){return new cc(Lu())}const vr=!1,lh=new ot("");let jo=(()=>{class x{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new _.t(!1);debugTaskTracker=ri(lh,{optional:!0});get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new c.c(se=>{se.next(!1),se.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const se=this.taskId++;return this.pendingTasks.add(se),this.debugTaskTracker?.add(se),se}has(se){return this.pendingTasks.has(se)}remove(se){this.pendingTasks.delete(se),this.debugTaskTracker?.remove(se),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=kt({token:x,providedIn:"root",factory:()=>new x})}return x})();const Ha=class ch extends E.B7{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(V=!1){super(),this.__isAsync=V,is()&&(this.destroyRef=ri(Ds,{optional:!0})??void 0,this.pendingTasks=ri(jo,{optional:!0})??void 0)}emit(V){const se=(0,A.Ht)(null);try{super.next(V)}finally{(0,A.Ht)(se)}}subscribe(V,se,Ee){let Ie=V,Qe=se||(()=>null),bt=Ee;if(V&&"object"==typeof V){const ti=V;Ie=ti.next?.bind(ti),Qe=ti.error?.bind(ti),bt=ti.complete?.bind(ti)}this.__isAsync&&(Qe=this.wrapInTimeout(Qe),Ie&&(Ie=this.wrapInTimeout(Ie)),bt&&(bt=this.wrapInTimeout(bt)));const Di=super.subscribe({next:Ie,error:Qe,complete:bt});return V instanceof v.y&&V.add(Di),Di}wrapInTimeout(V){return se=>{const Ee=this.pendingTasks?.add();setTimeout(()=>{try{V(se)}finally{void 0!==Ee&&this.pendingTasks?.remove(Ee)}})}}};function Xr(...x){}function uc(x){let V,se;function Ee(){x=Xr;try{void 0!==se&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(se),void 0!==V&&clearTimeout(V)}catch{}}return V=setTimeout(()=>{x(),Ee()}),"function"==typeof requestAnimationFrame&&(se=requestAnimationFrame(()=>{x(),Ee()})),()=>Ee()}function Oa(x){return queueMicrotask(()=>x()),()=>{x=Xr}}const zo="isAngularZone",zu=zo+"_ID";let F_=0;class Yo{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ha(!1);onMicrotaskEmpty=new Ha(!1);onStable=new Ha(!1);onError=new Ha(!1);constructor(V){const{enableLongStackTrace:se=!1,shouldCoalesceEventChangeDetection:Ee=!1,shouldCoalesceRunChangeDetection:Ie=!1,scheduleInRootZone:Qe=vr}=V;if(typeof Zone>"u")throw new d(908,!1);Zone.assertZonePatched();const bt=this;bt._nesting=0,bt._outer=bt._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(bt._inner=bt._inner.fork(new Zone.TaskTrackingZoneSpec)),se&&Zone.longStackTraceZoneSpec&&(bt._inner=bt._inner.fork(Zone.longStackTraceZoneSpec)),bt.shouldCoalesceEventChangeDetection=!Ie&&Ee,bt.shouldCoalesceRunChangeDetection=Ie,bt.callbackScheduled=!1,bt.scheduleInRootZone=Qe,function Xu(x){const V=()=>{!function Yu(x){function V(){uc(()=>{x.callbackScheduled=!1,Mt(x),x.isCheckStableRunning=!0,uh(x),x.isCheckStableRunning=!1})}x.isCheckStableRunning||x.callbackScheduled||(x.callbackScheduled=!0,x.scheduleInRootZone?Zone.root.run(()=>{V()}):x._outer.run(()=>{V()}),Mt(x))}(x)},se=F_++;x._inner=x._inner.fork({name:"angular",properties:{[zo]:!0,[zu]:se,[zu+se]:!0},onInvokeTask:(Ee,Ie,Qe,bt,Di,ti)=>{if(function oa(x){return dc(x,"__ignore_ng_zone__")}(ti))return Ee.invokeTask(Qe,bt,Di,ti);try{return ba(x),Ee.invokeTask(Qe,bt,Di,ti)}finally{(x.shouldCoalesceEventChangeDetection&&"eventTask"===bt.type||x.shouldCoalesceRunChangeDetection)&&V(),Ju(x)}},onInvoke:(Ee,Ie,Qe,bt,Di,ti,xi)=>{try{return ba(x),Ee.invoke(Qe,bt,Di,ti,xi)}finally{x.shouldCoalesceRunChangeDetection&&!x.callbackScheduled&&!function Vs(x){return dc(x,"__scheduler_tick__")}(ti)&&V(),Ju(x)}},onHasTask:(Ee,Ie,Qe,bt)=>{Ee.hasTask(Qe,bt),Ie===Qe&&("microTask"==bt.change?(x._hasPendingMicrotasks=bt.microTask,Mt(x),uh(x)):"macroTask"==bt.change&&(x.hasPendingMacrotasks=bt.macroTask))},onHandleError:(Ee,Ie,Qe,bt)=>(Ee.handleError(Qe,bt),x.runOutsideAngular(()=>x.onError.emit(bt)),!1)})}(bt)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(zo)}static assertInAngularZone(){if(!Yo.isInAngularZone())throw new d(909,!1)}static assertNotInAngularZone(){if(Yo.isInAngularZone())throw new d(909,!1)}run(V,se,Ee){return this._inner.run(V,se,Ee)}runTask(V,se,Ee,Ie){const Qe=this._inner,bt=Qe.scheduleEventTask("NgZoneEvent: "+Ie,V,oA,Xr,Xr);try{return Qe.runTask(bt,se,Ee)}finally{Qe.cancelTask(bt)}}runGuarded(V,se,Ee){return this._inner.runGuarded(V,se,Ee)}runOutsideAngular(V){return this._outer.run(V)}}const oA={};function uh(x){if(0==x._nesting&&!x.hasPendingMicrotasks&&!x.isStable)try{x._nesting++,x.onMicrotaskEmpty.emit(null)}finally{if(x._nesting--,!x.hasPendingMicrotasks)try{x.runOutsideAngular(()=>x.onStable.emit(null))}finally{x.isStable=!0}}}function Mt(x){x.hasPendingMicrotasks=!!(x._hasPendingMicrotasks||(x.shouldCoalesceEventChangeDetection||x.shouldCoalesceRunChangeDetection)&&!0===x.callbackScheduled)}function ba(x){x._nesting++,x.isStable&&(x.isStable=!1,x.onUnstable.emit(null))}function Ju(x){x._nesting--,uh(x)}class Ms{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ha;onMicrotaskEmpty=new Ha;onStable=new Ha;onError=new Ha;run(V,se,Ee){return V.apply(se,Ee)}runGuarded(V,se,Ee){return V.apply(se,Ee)}runOutsideAngular(V){return V()}runTask(V,se,Ee,Ie){return V.apply(se,Ee)}}function dc(x,V){return!(!Array.isArray(x)||1!==x.length)&&!0===x[0]?.data?.[V]}class Xo{_console=console;handleError(V){this._console.error("ERROR",V)}}const Jo=new ot("",{factory:()=>{const x=ri(Yo),V=ri(kn);let se;return Ee=>{x.runOutsideAngular(()=>{V.destroyed&&!se?setTimeout(()=>{throw Ee}):(se??=V.get(Xo),se.handleError(Ee))})}}}),N_={provide:Cn,useValue:()=>{ri(Xo,{optional:!0})},multi:!0};function pc(x,V){const[se,Ee,Ie]=(0,A.n5)(x,V?.equal),Qe=se;return Qe.set=Ee,Qe.update=Ie,Qe.asReadonly=dh.bind(Qe),Qe}function dh(){const x=this[A.bh];if(void 0===x.readonlyFn){const V=()=>this();V[A.bh]=x,x.readonlyFn=V}return x.readonlyFn}function W_(x,V){if(null!==(0,A.nR)())throw new d(-602,!1)}let Qo=(()=>class x{view;node;constructor(se,Ee){this.view=se,this.node=Ee}static __NG_ELEMENT_ID__=ph})();function ph(){return new Qo(Lu(),Bo())}class hc{}const hh=new ot("",{factory:()=>!0}),gh=new ot("",{factory:()=>!1}),mh=new ot("");let qu=(()=>{class x{internalPendingTasks=ri(jo);scheduler=ri(hc);errorHandler=ri(Jo);add(){const se=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(se)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(se))}}run(se){const Ee=this.add();se().catch(this.errorHandler).finally(Ee)}static \u0275prov=kt({token:x,providedIn:"root",factory:()=>new x})}return x})(),gc=(()=>{class x{static \u0275prov=kt({token:x,providedIn:"root",factory:()=>new _h})}return x})();class _h{dirtyEffectCount=0;queues=new Map;add(V){this.enqueue(V),this.schedule(V)}schedule(V){V.dirty&&this.dirtyEffectCount++}remove(V){const Ee=this.queues.get(V.zone);Ee.has(V)&&(Ee.delete(V),V.dirty&&this.dirtyEffectCount--)}enqueue(V){const se=V.zone;this.queues.has(se)||this.queues.set(se,new Set);const Ee=this.queues.get(se);Ee.has(V)||Ee.add(V)}flush(){for(;this.dirtyEffectCount>0;){let V=!1;for(const[se,Ee]of this.queues)V||=null===se?this.flushQueue(Ee):se.run(()=>this.flushQueue(Ee));V||(this.dirtyEffectCount=0)}}flushQueue(V){let se=!1;for(const Ee of V)Ee.dirty&&(this.dirtyEffectCount--,se=!0,Ee.run());return se}}class Zu{[A.bh];constructor(V){this[A.bh]=V}destroy(){this[A.bh].destroy()}}function mc(x,V){const se=V?.injector??ri(Ho);let Ie,Ee=!0!==V?.manualCleanup?se.get(Ds):null;const Qe=se.get(Qo,null,{optional:!0}),bt=se.get(hc);return null!==Qe?(Ie=function vh(x,V,se){const Ee=Object.create(_c);return Ee.view=x,Ee.zone=typeof Zone<"u"?Zone.current:null,Ee.notifier=V,Ee.fn=ed(Ee,se),x[_i]??=new Set,x[_i].add(Ee),Ee.consumerMarkedDirty(Ee),Ee}(Qe.view,bt,x),Ee instanceof cc&&Ee._lView===Qe.view&&(Ee=null)):Ie=function yr(x,V,se){const Ee=Object.create(fh);return Ee.fn=ed(Ee,x),Ee.scheduler=V,Ee.notifier=se,Ee.zone=typeof Zone<"u"?Zone.current:null,Ee.scheduler.add(Ee),Ee.notifier.notify(12),Ee}(x,se.get(gc),bt),Ie.injector=se,null!==Ee&&(Ie.onDestroyFns=[Ee.onDestroy(()=>Ie.destroy())]),new Zu(Ie)}const Jr={...A.vX,cleanupFns:void 0,zone:null,onDestroyFns:null,run(){const x=Uo(!1);try{(0,A.lh)(this)}finally{Uo(x)}},cleanup(){if(!this.cleanupFns?.length)return;const x=(0,A.Ht)(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],(0,A.Ht)(x)}}},fh={...Jr,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if((0,A.XR)(this),null!==this.onDestroyFns)for(const x of this.onDestroyFns)x();this.cleanup(),this.scheduler.remove(this)}},_c={...Jr,consumerMarkedDirty(){this.view[Xi]|=8192,wn(this.view),this.notifier.notify(13)},destroy(){if((0,A.XR)(this),null!==this.onDestroyFns)for(const x of this.onDestroyFns)x();this.cleanup(),this.view[_i]?.delete(this)}};function ed(x,V){return()=>{V(se=>(x.cleanupFns??=[]).push(se))}}function td(x){return(0,A.O8)(x)}},47925(O,S,i){i.d(S,{Z:()=>E,q:()=>c});var A=i(22097);class c extends A.${name="Maple Syrup";tier=4;equipmentClass="shield";power=0;originalPower=0;uses=3;originalUses=3}class E extends A.${name="Maple Syrup (Attack)";equipmentClass="attack";power=0;originalPower=0}},48191(O,S,i){i.d(S,{m:()=>_});var A=i(46200),c=i(5615),E=i(1152);class _ extends A.i{logService;abilityService;name="Hippocampus";tier=4;pack="Custom";attack=4;health=6;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"HippocampusAbility",owner:t,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{gameApi:n,tiger:a,pteranodon:o}=t,r=this.owner;if(!n)return void this.triggerTigerExecution(t);const d=r.parent===n.player?n.playerRollAmount||0:n.opponentRollAmount||0,g=d*this.level;g<=0||(r.increaseMana(g),(0,E.rv)(this.logService,r,`${r.name} gained ${g} mana from ${d} rolls this turn.`,a,o)),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},48352(O,S,i){i.d(S,{X:()=>c});var A=i(50873);class c extends A.L{name="Glass Shoes";tier=4;friendFaints(_,v,e,t){if(e||this.triggers++,this.triggers%3!=0)return;let n=v.parent.petArray.filter(a=>a.alive);for(let a of n)this.logService.createLog({message:`${this.name} gave ${a.name} ${t} attack and ${t} health.`,type:"ability",player:this.parent,puma:e}),a.increaseAttack(+t),a.increaseHealth(+t)}}},48356(O,S,i){i.d(S,{i:()=>E});var A=i(57488),c=i(50873);class E extends c.L{name="Chocolate Box";tier=1;startOfBattle(v,e){const t=(0,A.a)(v,this.parent);for(const n of this.parent.petArray)n.increaseExp(1),this.logService.createLog({message:`${this.name} gave ${n.name} 1 exp.`,type:"ability",player:this.parent,puma:e});for(const n of t.petArray)n.increaseExp(2),this.logService.createLog({message:`${this.name} gave ${n.name} 2 exp.`,type:"ability",player:this.parent,puma:e})}}},48549(O,S,i){i.d(S,{$:()=>v});var A=i(51610),c=i(46200),E=i(34748),_=i(5615);class v extends c.i{logService;abilityService;name="Beluga Sturgeon";tier=2;pack="Puppy";attack=2;health=3;constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}initAbilities(){this.addAbility(new e(this,this.logService,this.abilityService)),super.initAbilities()}}class e extends _.T{logService;abilityService;constructor(n,a,o){super({name:"BelugaSturgeonAbility",owner:n,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=a,this.abilityService=o}executeAbility(n){const{tiger:r,pteranodon:d}=n,g=this.owner;for(let f=0;f<this.level;f++){let D=new E.V(this.logService,this.abilityService,g.parent,3,2,0,0,null),k=g.parent.summonPet(D,4,!1,g);k.success&&(this.logService.createLog({message:`${g.name} summoned a 2/3 Dolphin in the back.`,type:"ability",player:g.parent,randomEvent:k.randomEvent,tiger:r,pteranodon:d}),D.givePetEquipment(new A.o),this.logService.createLog({message:`${g.name} gave ${D.name} Rice.`,type:"ability",player:g.parent,randomEvent:!1,tiger:r,pteranodon:d}))}this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService,this.abilityService)}}},48576(O,S,i){i.d(S,{b:()=>c});var A=i(22097);class c extends A.${name="Cold";equipmentClass="ailment-defense";power=-5;originalPower=-5;uses=1;originalUses=1}},48626(O,S,i){i.d(S,{z:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Lamprey";tier=6;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"LampreyAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:n,pteranodon:a}=e,o=this.owner;if(!t)return void this.triggerTigerExecution(e);const r=o.parent.nearestPetsAhead(this.level,o);if(0===r.pets.length)return void this.triggerTigerExecution(e);const d=r.pets;for(const f of d)o.dealDamage(f,1);const g=d.map(f=>f.name).join(", ");this.logService.createLog({message:`${o.name} dealt 1 damage to ${g} when ${t.name} fainted.`,type:"ability",player:o.parent,tiger:n,pteranodon:a,randomEvent:r.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},48740(O,S,i){i.d(S,{W:()=>Ht});var A=i(6988),c=i(90417),E=i(10858),_=i(16725),v=i(63683),e=i(36548),t=i(95033),n=i(33411),a=i(4399),o=i(3057),r=i(24990),d=i(60797),g=i(27906),f=i(24609),D=i(65006),k=i(75518),L=i(35115),F=i(22806),J=i(15896),ne=i(59951),H=i(34133),$=i(40212),q=i(43870),ae=i(20188),le=i(13420),_e=i(13891),ye=i(72354),Se=i(44398),Ce=i(50745),de=i(42390),Te=i(30450),xe=i(90771),Ue=i(80163),Ne=i(15684),ct=i(35454),Je=i(59713),Ke=i(12765),qe=i(76350),mt=i(72297),pt=i(69792),it=i(40468),Dt=i(91543),ut=i(30126),yt=i(20802),rt=i(93525),He=i(65103),kt=i(63979),Xt=i(93699),nt=i(17144),$t=i(68546),Et=i(93012),ge=i(21545),Oe=i(77648),Ve=i(39486),Fe=i(91576),ot=i(37272),Bt=i(89443),Rt=i(52865),qt=i(67336),zt=i(5611);const Ht={"Iriomote Cat":A.U,"Ili Pika":c.M,"Malay Tapir":E.P,"Bombus Dahlbomii":_.o,"African Wild Dog":o.B,"Ethiopian Wolf":v.A,"Fan Mussel":e.u,"Togian Babirusa":t.Y,"Tooth Billed Pigeon":n.L,"Volcano Snail":a.K,"Araripe Manakin":r.s,"European Mink":d.N,"Proboscis Monkey":g.c,"Pygmy Hog":f.R,Saola:D.$,"Saker Falcon":k.j,"Taita Shrew":L.t,"White-Bellied Heron":F.d,"Darwin's Fox":J.y,"Amami Rabbit":Ce.y,"Tree Kangaroo":de.T,"Blue-Throated Macaw":H.B,Hirola:$._,"Monkey-Faced Bat":q.C,Takin:le.a,Tucuxi:_e.x,"Pygmy Hippo":ae.$,"Spoon-Billed Sandpiper":Se.m,Angelshark:Te.H,"Giant Otter":pt.M,"Giant Tortoise":Ue.d,"Humphead Wrasse":Ne.S,Kakapo:Je.i,"Longcomb Sawfish":Ke.n,"Tasmanian Devil":mt.P,"Amazon River Dolphin":qe.$,"Aye-aye":it.F,"Banggai Cardinalfish":Dt.Q,"Geometric Tortoise":ut.t,"Giant Pangasius":yt.B,"Hawaiian Monk Seal":rt.B,"Marine Iguana":He.y,"Red Panda":kt.e,"Taita Thrush":Xt.k,"Snow Leopard":$t.V,"Painted Terrapin":nt.X,"Amsterdam Albatross":Et.A,"Black Rhino":Oe.a,"Blue Whale":Ve.i,"Green Sea Turtle":ot.N,"Helmeted Hornbill":Bt.L,"Philippine Eagle":Rt.B,"Sumatran Tiger":zt.Z,"Bay Cat":ge.P,Bonobo:xe.m,"California Condor":Fe.k,"Golden Tamarin":ct.U,"Roloway Monkey":ye.n,"Silky Sifaka":qt.e,Takhi:ne.y}},48762(O,S,i){i.d(S,{S:()=>_});var A=i(46200),c=i(5615),E=i(61850);class _ extends A.i{logService;abilityService;name="Hyena";tier=5;pack="Custom";attack=5;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"HyenaAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{gameApi:n,tiger:o,pteranodon:r}=t;switch(this.level){case 1:this.level1Ability(n,o,r);break;case 2:this.level2Ability(n,o,r);break;case 3:this.level3Ability(n,o,r)}this.triggerTigerExecution(t)}level1Ability(t,n,a){const o=this.owner;let r=o.parent.getAll(!0,o);for(let d of r.pets){let g=d.health;d.health=d.attack,d.attack=g}this.logService.createLog({message:`${o.name} swapped all pets attack and health.`,type:"ability",player:o.parent,tiger:n,pteranodon:a})}level2Ability(t,n,a){const o=this.owner;this.shufflePets(t.player),this.shufflePets(t.opponent),this.logService.createLog({message:`${o.name} shuffled positions of all pets.`,type:"ability",player:o.parent,tiger:n,pteranodon:a,randomEvent:!0})}level3Ability(t,n,a){this.level1Ability(t,n,a),this.level2Ability(t,n,a)}shufflePets(t){let n=t.petArray;(0,E.k4)(n);for(let a=0;a<n.length;a++)t.setPet(a,n[a])}copy(t){return new v(t,this.logService)}}},48813(O,S,i){i.d(S,{a:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Jerboa";tier=4;pack="Custom";attack=1;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;lastTriggeredTurn=null;constructor(e,t,n){super({name:"Jerboa Ability",owner:e,triggers:["AppleEatenByThis"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const{tiger:t,pteranodon:n,gameApi:a}=e,o=this.owner,r=a?.turnNumber??null;if(null!=r&&this.lastTriggeredTurn===r)return void this.triggerTigerExecution(e);this.lastTriggeredTurn=r;const d=this.level,g=o.parent,f=g.petArray.filter(D=>D&&D.alive&&D!==o);if(0!==f.length){for(const D of f)D.increaseAttack(d),D.increaseHealth(d);this.logService.createLog({message:`${o.name} ate an apple and gave friendly pets +${d}/+${d}.`,type:"ability",player:g,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},48955(O,S,i){i.d(S,{t:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;petService;name="Wolf";tier=5;pack="Golden";attack=4;health=4;constructor(e,t,n,a,o,r,d,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,o,r,d,f,D)}initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class _ extends c.T{logService;abilityService;petService;constructor(e,t,n,a){super({name:"WolfAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=t,this.abilityService=n,this.petService=a}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d={attack:3*this.level,health:2*this.level};for(let g=0;g<3;g++){let f=this.petService.createPet({attack:d.attack,equipment:null,exp:r.minExpForLevel,health:d.health,name:"Pig",mana:0},r.parent),D=r.parent.summonPet(f,r.savedPosition,!1,r);D.success&&this.logService.createLog({message:`${r.name} spawned ${f.name} ${d.attack}/${d.health}`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:D.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService,this.petService)}}},49090(O,S,i){i.d(S,{n:()=>_});var A=i(95006),c=i(84787),E=i(13004);function _(t,n){return"function"==typeof n?a=>a.pipe(_((o,r)=>(0,c.H)(t(o,r)).pipe((0,A.T)((d,g)=>n(o,d,r,g))))):a=>a.lift(new v(t))}class v{constructor(n){this.project=n}call(n,a){return a.subscribe(new e(n,this.project))}}class e extends E.gn{constructor(n,a){super(n),this.project=a,this.index=0}_next(n){let a;const o=this.index++;try{a=this.project(n,o)}catch(r){return void this.destination.error(r)}this._innerSub(a)}_innerSub(n){const a=this.innerSubscription;a&&a.unsubscribe();const o=new E.zA(this),r=this.destination;r.add(o),this.innerSubscription=(0,E.tS)(n,o),this.innerSubscription!==o&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:n}=this;(!n||n.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(n){this.destination.next(n)}}},49149(O,S,i){i.d(S,{e:()=>t});var A=i(23828),c=i(61850),E=i(83028),_=i(47868),v=i(1744),e=i(24111);let t=(()=>{class n{gameService;logService;startOfBattleToyEvents=[];emptyFrontSpaceToyEvents=[];friendSummonedToyEvents=[];friendlyLevelUpToyEvents=[];friendFaintsToyEvents=[];friendJumpedToyEvents=[];constructor(o,r){this.gameService=o,this.logService=r,this.logService=(0,E.V)(this.logService)}enqueueToyEvents(o,r,d,g,f){this.addToyEvent(o,{callback:f,priority:100,level:d.level,triggerPet:g,player:r,customParams:{toyName:d.name,suppressFriendFaintLog:d.suppressFriendFaintLog}});const D=r.petArray.filter(k=>"Puma"===k.name);for(const k of D)this.addToyEvent(o,{callback:f,priority:+k.attack,level:k.level,triggerPet:g,player:r})}getActiveToys(o){const r=[];return o.toy&&r.push(o.toy),o.hardToy&&r.push(o.hardToy),r}addToyEvent(o,r){o.push(r)}setStartOfBattleEvent(o){o.tieBreaker=(0,c.Ak)(),this.startOfBattleToyEvents.push(o)}executeStartOfBattleEvents(){const o=(0,A.A)(this.startOfBattleToyEvents);o.sort((d,g)=>d.priority!==g.priority?g.priority-d.priority:(g.tieBreaker??0)-(d.tieBreaker??0));const r=new Map;for(const d of o)r.set(d.priority,(r.get(d.priority)??0)+1);for(const d of o){const g=(r.get(d.priority)??0)>1;this.logStartOfBattleToyEvent(d,g,g?"tie-broken":"deterministic"),d.callback(this.gameService.gameApi)}this.startOfBattleToyEvents=[]}logStartOfBattleToyEvent(o,r,d){const g=o.customParams?.toyName??o.player?.toy?.name;g&&this.logService.createLog({message:`${o.player?.isOpponent?"Opponent's":"Player's"} ${g} activated at start of battle${o.triggerPet?.name?` (${o.triggerPet.name})`:""}`,type:"ability",player:o.player,randomEvent:r,randomEventReason:d})}executeToyEventQueue(o,r,d,g){const f=(0,A.A)(o);f.sort((k,L)=>k.priority>L.priority?-1:k.priority<L.priority?1:0);const D=new Map;for(const k of f)D.set(k.priority,(D.get(k.priority)??0)+1);for(const k of f){if(d&&(null==g||g(k))){const L=(D.get(k.priority)??0)>1;this.logToyEvent(k,d,L,L?"tie-broken":"deterministic")}r(k)}o.length=0}logToyEvent(o,r,d,g){const f=o.customParams?.toyName??o.player?.toy?.name;f&&this.logService.createLog({message:`${f} ${r}${o.triggerPet?.name?` (${o.triggerPet.name})`:""}`,type:"ability",player:o.player,randomEvent:d,randomEventReason:g})}triggerEmptyFrontSpaceToyEvents(o){for(const r of this.getActiveToys(o))null!=r.emptyFromSpace&&(r.used||this.enqueueToyEvents(this.emptyFrontSpaceToyEvents,o,r,void 0,r.emptyFromSpace.bind(r)))}executeEmptyFrontSpaceToyEvents(){this.executeToyEventQueue(this.emptyFrontSpaceToyEvents,o=>{o.callback(this.gameService.gameApi,o.priority<100,o.level,o.priority)},"triggered after empty front space")}triggerFriendSummonedToyEvents(o,r){for(const d of this.getActiveToys(o))null!=d.friendSummoned&&this.enqueueToyEvents(this.friendSummonedToyEvents,o,d,r,d.friendSummoned.bind(d))}executeFriendSummonedToyEvents(){this.executeToyEventQueue(this.friendSummonedToyEvents,o=>{o.callback(this.gameService.gameApi,o.triggerPet,o.priority<100,o.level)},"reacted to friend summoned")}triggerFriendlyLevelUpToyEvents(o,r){if(o==r.parent)for(const d of this.getActiveToys(o))null!=d.friendlyLevelUp&&this.enqueueToyEvents(this.friendlyLevelUpToyEvents,o,d,r,d.friendlyLevelUp.bind(d))}executeFriendlyLevelUpToyEvents(){this.executeToyEventQueue(this.friendlyLevelUpToyEvents,o=>{o.callback(this.gameService.gameApi,o.triggerPet,o.priority<100,o.level)},"reacted to friendly level up")}triggerFriendFaintsToyEvents(o,r){if(o==r.parent)for(const d of this.getActiveToys(o))null!=d.friendFaints&&this.enqueueToyEvents(this.friendFaintsToyEvents,o,d,r,d.friendFaints.bind(d))}executeFriendFaintsToyEvents(){this.executeToyEventQueue(this.friendFaintsToyEvents,o=>{o.callback(this.gameService.gameApi,o.triggerPet,o.priority<100,o.level)},"reacted to friend fainting",o=>!o.customParams?.suppressFriendFaintLog)}triggerFriendJumpedToyEvents(o,r){if(o==r.parent)for(const d of this.getActiveToys(o))null!=d.friendJumped&&this.enqueueToyEvents(this.friendJumpedToyEvents,o,d,r,d.friendJumped.bind(d))}executeFriendJumpedToyEvents(){this.executeToyEventQueue(this.friendJumpedToyEvents,o=>{o.callback(this.gameService.gameApi,o.triggerPet,o.priority<100,o.level)},"reacted to friend jumping")}static \u0275fac=function(r){return new(r||n)(_.KVO(v.w),_.KVO(e.K))};static \u0275prov=_.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()},49230(O,S,i){i.d(S,{K:()=>o});var A=i(99462),c=i(83028),E=i(47868),_=i(1744),v=i(24111),e=i(49149),t=i(22168),n=i(23393),a=i(63891);let o=(()=>{class r extends A.m{gameService;logService;toyEventService;abilityQueueService;attackEventService;faintEventService;gameApi;lastLoggedTrigger;constructor(g,f,D,k,L,F){super(),this.gameService=g,this.logService=f,this.toyEventService=D,this.abilityQueueService=k,this.attackEventService=L,this.faintEventService=F,this.logService=(0,c.V)(this.logService)}clearGlobalEventQueue(){this.abilityQueueService.clearGlobalEventQueue(),this.lastLoggedTrigger=void 0}get hasGlobalEvents(){return this.abilityQueueService.hasGlobalEvents}get hasAbilityCycleEvents(){return this.abilityQueueService.hasGlobalEvents}getQueueSnapshot(){return[...this.abilityQueueService.globalEventQueue]}getNextHighestPriorityEvent(){return this.abilityQueueService.getNextHighestPriorityEvent()}peekNextHighestPriorityEvent(){return this.abilityQueueService.peekNextHighestPriorityEvent()}getPriorityNumber(g){return this.abilityQueueService.getPriorityNumber(g)}executeEventCallback(g){this.logTriggerHeader(g),this.abilityQueueService.executeEvent(g,this.gameService.gameApi),this.hasGlobalEvents||(this.lastLoggedTrigger=void 0)}logTriggerHeader(g){if(!this.logService.isShowTriggerNamesInLogs())return void(this.lastLoggedTrigger=void 0);const f=g?.abilityType;f&&this.lastLoggedTrigger!==f&&(this.lastLoggedTrigger=f,this.logService.createLog({message:`${f}:`,type:"ability",player:g.player??g.pet?.parent}))}clearLastLoggedTrigger(){this.lastLoggedTrigger=void 0}simulatePostRemovalFriendFaintsCounters(g,f){this.abilityQueueService.simulatePostRemovalFriendFaintsCounters(g,f)}initSpecialEndTurnAbility(g){for(let f of g.petArray)f.hasTrigger("SpecialEndTurn")&&f.executeAbilities("SpecialEndTurn",this.gameService.gameApi)}triggerEndTurnEvents(){this.gameApi=this.gameService.gameApi;for(const g of this.gameApi.player.petArray)g.hasTrigger("EndTurn")&&this.abilityQueueService.triggerAbility(g,"EndTurn");for(const g of this.gameApi.opponent.petArray)g.hasTrigger("EndTurn")&&this.abilityQueueService.triggerAbility(g,"EndTurn")}executeEndTurnEvents(){this.processPhaseWithInterleaving(new Set(["EndTurn"]))}triggerBeforeStartOfBattleEvents(){this.gameApi=this.gameService.gameApi;for(let g of this.gameApi.player.petArray)g.hasTrigger("BeforeStartBattle")&&this.abilityQueueService.triggerAbility(g,"BeforeStartBattle");for(let g of this.gameApi.opponent.petArray)g.hasTrigger("BeforeStartBattle")&&this.abilityQueueService.triggerAbility(g,"BeforeStartBattle")}resetBeforeStartOfBattleEvents(){}executeBeforeStartOfBattleEvents(){this.processPhaseWithInterleaving(new Set(["BeforeStartBattle"]))}setCounterEvent(g){this.abilityQueueService.addEventToQueue(g)}triggerStartBattleEvents(g){this.gameApi=this.gameService.gameApi;for(let f of this.gameApi.player.petArray)f.hasTrigger("StartBattle")&&(!g||g(f))&&this.abilityQueueService.triggerAbility(f,"StartBattle");for(let f of this.gameApi.opponent.petArray)f.hasTrigger("StartBattle")&&(!g||g(f))&&this.abilityQueueService.triggerAbility(f,"StartBattle")}executeStartBattleEvents(){this.processPhaseWithInterleaving(new Set(["StartBattle"]))}triggerBeforeAttackEvent(g){this.attackEventService.triggerBeforeAttackEvents(g)}executeBeforeAttackEvents(){const g=new Set(["BeforeFriendlyAttack","BeforeThisAttacks","BeforeFirstAttack","BeforeFriendAttacks","BeforeAdjacentFriendAttacked"]),f=new Set(["BeforeStartBattle","StartBattle"]);this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:D=>g.has(D.abilityType),onExecute:D=>this.logTriggerHeader(D)}),this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:D=>!f.has(D.abilityType),onExecute:D=>this.logTriggerHeader(D)}),this.lastLoggedTrigger=void 0}executeBeforeAttackTriggerOnly(){const g=new Set(["BeforeFriendlyAttack","BeforeThisAttacks","BeforeFirstAttack","BeforeFriendAttacks","BeforeAdjacentFriendAttacked"]);this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:f=>g.has(f.abilityType),onExecute:f=>this.logTriggerHeader(f)}),this.lastLoggedTrigger=void 0}triggerAttacksEvents(g){this.attackEventService.triggerAfterAttackEvents(g)}executeAfterAttackEvents(){const g=new Set(["FriendlyAttacked","FriendAttacked","FriendAheadAttacked","AdjacentFriendAttacked","AnyoneAttack","EnemyAttacked","ThisAttacked","ThisFirstAttack"]),f=new Set(["BeforeStartBattle","StartBattle"]);this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:D=>{const k=D.abilityType;return!!g.has(k)||/^(FriendlyAttacked|FriendAttacked|EnemyAttacked)\d+$/.test(k)},onExecute:D=>this.logTriggerHeader(D)}),this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:D=>!f.has(D.abilityType),onExecute:D=>this.logTriggerHeader(D)}),this.lastLoggedTrigger=void 0}takeNextPhaseEvent(g){const f=this.abilityQueueService.globalEventQueue;let D=-1;for(let L=0;L<f.length;L++){const F=f[L];if(!g.has(F.abilityType))continue;if(-1===D){D=L;continue}const J=f[D],ne=this.abilityQueueService.getPriorityNumber(F.abilityType),H=this.abilityQueueService.getPriorityNumber(J.abilityType);if(ne<H){D=L;continue}if(ne>H)continue;const $=F.pet?.transformed&&F.pet?.transformedInto?F.pet.transformedInto:F.pet,q=J.pet?.transformed&&J.pet?.transformedInto?J.pet.transformedInto:J.pet,ae=$?this.abilityQueueService.getPetEventPriority($):Number(F.priority??0),le=q?this.abilityQueueService.getPetEventPriority(q):Number(J.priority??0);ae>le?D=L:ae<le||Number(F.tieBreaker??0)<Number(J.tieBreaker??0)&&(D=L)}if(-1===D)return null;const[k]=f.splice(D,1);return k??null}processPhaseWithInterleaving(g){for(;;){const f=this.takeNextPhaseEvent(g);if(!f)break;this.logTriggerHeader(f),this.abilityQueueService.executeEvent(f,this.gameService.gameApi),this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:D=>!g.has(D.abilityType),onExecute:D=>this.logTriggerHeader(D)})}this.lastLoggedTrigger=void 0}static \u0275fac=function(f){return new(f||r)(E.KVO(_.w),E.KVO(v.K),E.KVO(e.e),E.KVO(t.b),E.KVO(n.q),E.KVO(a.q))};static \u0275prov=E.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})()},49449(O,S,i){i.d(S,{o:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Giant Isopod";tier=5;pack="Custom";attack=5;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;triggerCount=0;constructor(e,t){super({name:"Giant Isopod Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,o=[2,4,6][Math.min(Math.max(this.level-1,0),2)]+Math.floor(this.triggerCount/2),r=t.parent.petArray.filter(d=>d&&d.alive&&d!==t);for(const d of r)d.increaseHealth(o);this.logService.createLog({message:`${t.name} gave ${r.length} friends +${o} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),t.parent.trumpets>=2&&t.parent.spendTrumpets(2,t),this.triggerCount++,this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},49517(O,S,i){i.d(S,{I:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;petService;name="Beluga Whale";tier=5;pack="Golden";attack=2;health=5;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f,D,k){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,o,r,d,f,D),this.belugaSwallowedPet=k??null}}class _ extends c.T{logService;abilityService;petService;constructor(e,t,n,a){super({name:"BelugaWhaleAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:o=>{this.executeAbility(o)},ignoreRepeats:!0}),this.logService=t,this.abilityService=n,this.petService=a}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;if(null==r.belugaSwallowedPet||r.alive)return;let d=this.petService.createPet({attack:null,equipment:null,exp:this.minExpForLevel,health:null,name:r.belugaSwallowedPet,mana:0},r.parent);const g=this.level,D=d.health-d.exp;d.attack=(d.attack-d.exp)*g,d.health=D*g,d.originalAttack=d.attack,d.originalHealth=d.health;let k=r.parent.summonPet(d,r.savedPosition,!1,r);k.success&&this.logService.createLog({message:`${r.name} spawned ${d.name} Level ${this.level}`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:k.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService,this.petService)}}},49547(O,S,i){i.d(S,{x:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Jackal";tier=5;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Jackal Ability",owner:e,triggers:["AnyoneFlung"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=e.triggerPet;if(!n||n!==t)return;const a=[13,26,39],o=a[Math.min(Math.max(this.level-1,0),a.length-1)];t.attack=o,t.health=o,this.logService.createLog({message:`${t.name} was flung and reset to ${o}/${o}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},49575(O,S,i){i.d(S,{W:()=>_});var A=i(46200),c=i(5615),E=i(1152);class _ extends A.i{logService;abilityService;name="Axolotl";tier=5;pack="Puppy";attack=2;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"AxolotlAbility",owner:t,triggers:["FriendlyGainsPerk"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:3,precondition:a=>{const{triggerPet:o}=a,g=(0,E.lK)(this.owner,o).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:o}=t,d=this.owner;let g=(0,E.lK)(d,a),f=g.pet;if(null==f)return;let D=this.level;f.increaseAttack(D),f.increaseHealth(D),this.logService.createLog({message:`${d.name} gave ${f.name} ${D} attack and ${D} health.`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},49769(O,S,i){i.d(S,{MD:()=>Za,Sq:()=>ta,T3:()=>ze,YU:()=>jn,bT:()=>hn});var A=i(17705),c=i(47868),E=i(35547);const Si=/\s+/,en=[];let jn=(()=>{class Y{_ngEl;_renderer;initialClasses=en;rawClass;stateMap=new Map;constructor(ie,re){this._ngEl=ie,this._renderer=re}set klass(ie){this.initialClasses=null!=ie?ie.trim().split(Si):en}set ngClass(ie){this.rawClass="string"==typeof ie?ie.trim().split(Si):ie}ngDoCheck(){for(const re of this.initialClasses)this._updateState(re,!0);const ie=this.rawClass;if(Array.isArray(ie)||ie instanceof Set)for(const re of ie)this._updateState(re,!0);else if(null!=ie)for(const re of Object.keys(ie))this._updateState(re,!!ie[re]);this._applyStateDiff()}_updateState(ie,re){const De=this.stateMap.get(ie);void 0!==De?(De.enabled!==re&&(De.changed=!0,De.enabled=re),De.touched=!0):this.stateMap.set(ie,{enabled:re,changed:!0,touched:!0})}_applyStateDiff(){for(const ie of this.stateMap){const re=ie[0],De=ie[1];De.changed?(this._toggleClass(re,De.enabled),De.changed=!1):De.touched||(De.enabled&&this._toggleClass(re,!1),this.stateMap.delete(re)),De.touched=!1}}_toggleClass(ie,re){(ie=ie.trim()).length>0&&ie.split(Si).forEach(De=>{re?this._renderer.addClass(this._ngEl.nativeElement,De):this._renderer.removeClass(this._ngEl.nativeElement,De)})}static \u0275fac=function(re){return new(re||Y)(E.rXU(E.aKT),E.rXU(E.sFG))};static \u0275dir=E.FsC({type:Y,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return Y})();class sn{$implicit;ngForOf;index;count;constructor(me,ie,re,De){this.$implicit=me,this.ngForOf=ie,this.index=re,this.count=De}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ta=(()=>{class Y{_viewContainer;_template;_differs;set ngForOf(ie){this._ngForOf=ie,this._ngForOfDirty=!0}set ngForTrackBy(ie){this._trackByFn=ie}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(ie,re,De){this._viewContainer=ie,this._template=re,this._differs=De}set ngForTemplate(ie){ie&&(this._template=ie)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const ie=this._ngForOf;!this._differ&&ie&&(this._differ=this._differs.find(ie).create(this.ngForTrackBy))}if(this._differ){const ie=this._differ.diff(this._ngForOf);ie&&this._applyChanges(ie)}}_applyChanges(ie){const re=this._viewContainer;ie.forEachOperation((De,Ge,Ze)=>{if(null==De.previousIndex)re.createEmbeddedView(this._template,new sn(De.item,this._ngForOf,-1,-1),null===Ze?void 0:Ze);else if(null==Ze)re.remove(null===Ge?void 0:Ge);else if(null!==Ge){const lt=re.get(Ge);re.move(lt,Ze),Ta(lt,De)}});for(let De=0,Ge=re.length;De<Ge;De++){const lt=re.get(De).context;lt.index=De,lt.count=Ge,lt.ngForOf=this._ngForOf}ie.forEachIdentityChange(De=>{Ta(re.get(De.currentIndex),De)})}static ngTemplateContextGuard(ie,re){return!0}static \u0275fac=function(re){return new(re||Y)(E.rXU(E.c1b),E.rXU(E.C4Q),E.rXU(A._q3))};static \u0275dir=E.FsC({type:Y,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return Y})();function Ta(Y,me){Y.context.$implicit=me.item}let hn=(()=>{class Y{_viewContainer;_context=new gn;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(ie,re){this._viewContainer=ie,this._thenTemplateRef=re}set ngIf(ie){this._context.$implicit=this._context.ngIf=ie,this._updateView()}set ngIfThen(ie){hi(ie),this._thenTemplateRef=ie,this._thenViewRef=null,this._updateView()}set ngIfElse(ie){hi(ie),this._elseTemplateRef=ie,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(ie,re){return!0}static \u0275fac=function(re){return new(re||Y)(E.rXU(E.c1b),E.rXU(E.C4Q))};static \u0275dir=E.FsC({type:Y,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return Y})();class gn{$implicit=null;ngIf=null}function hi(Y,me){if(Y&&!Y.createEmbeddedView)throw new c.buA(2020,!1)}let ze=(()=>{class Y{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(ie){this._viewContainerRef=ie}ngOnChanges(ie){if(this._shouldRecreateView(ie)){const re=this._viewContainerRef;if(this._viewRef&&re.remove(re.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const De=this._createContextForwardProxy();this._viewRef=re.createEmbeddedView(this.ngTemplateOutlet,De,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(ie){return!!ie.ngTemplateOutlet||!!ie.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(ie,re,De)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,re,De),get:(ie,re,De)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,re,De)}})}static \u0275fac=function(re){return new(re||Y)(E.rXU(E.c1b))};static \u0275dir=E.FsC({type:Y,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[E.OA$]})}return Y})(),Za=(()=>{class Y{static \u0275fac=function(re){return new(re||Y)};static \u0275mod=E.$C({type:Y});static \u0275inj=c.G2t({})}return Y})()},49943(O,S,i){i.d(S,{b:()=>_});var A=i(44402),c=i(46200),E=i(5615);class _ extends c.i{logService;abilityService;name="Turtle";tier=4;pack="Turtle";attack=2;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends E.T{logService;constructor(t,n){super({name:"TurtleAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.getPetsWithEquipment("Melon"),f=d.parent.nearestPetsBehind(this.level,d,g);if(0!=f.pets.length){for(let D of f.pets)this.logService.createLog({message:`${d.name} gave ${D.name} Melon.`,type:"ability",tiger:o,player:d.parent,pteranodon:r,randomEvent:f.random}),D.givePetEquipment(new A.m);this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},49999(O,S,i){i.d(S,{O:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Black Necked Stilt";tier=2;pack="Golden";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BlackNeckedStiltAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{pteranodon:o}=e,r=this.owner;let d=2*this.level;const g=r.parent.resolveTrumpetGainTarget(r);g.player.gainTrumpets(d,r,o,void 0,void 0,g.random),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},50048(O,S,i){i.d(S,{EX:()=>v});var A=i(607),c=i(46200),E=i(24207),_=i(5615);class v extends c.i{logService;abilityService;name="Phoenix";tier=6;pack="Unicorn";attack=8;health=8;initAbilities(){this.addAbility(new t(this,this.logService)),this.addAbility(new e(this,this.logService,this.abilityService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class e extends _.T{logService;abilityService;constructor(a,o,r){super({name:"PhoenixAfterFaintAbility",owner:a,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:d=>{this.executeAbility(d)}}),this.logService=o,this.abilityService=r}executeAbility(a){const{tiger:d,pteranodon:g}=a,f=this.owner;let D=4*this.level,k=new E.C(this.logService,this.abilityService,f.parent,D,D,0),L=f.parent.summonPet(k,f.savedPosition,!1,f);L.success&&this.logService.createLog({message:`${f.name} spawned a Young Phoenix (${D}/${D}).`,type:"ability",player:f.parent,tiger:d,pteranodon:g,sourcePet:f,randomEvent:L.randomEvent}),this.triggerTigerExecution(a)}copy(a){return new e(a,this.logService,this.abilityService)}}class t extends _.T{logService;constructor(a,o){super({name:"PhoenixFaintAbility",owner:a,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=o}executeAbility(a){const{tiger:d}=a,f=this.owner;let D=3*this.level,L=[...f.parent.petArray,...f.parent.opponent.petArray].filter(ne=>ne.equipment instanceof A.Y),F=f.parent.getRandomPets(D,L,!0,!0,f,!0),J=F.pets;if(J.length>0)for(let ne of J)this.logService.createLog({message:`${f.name} gave ${ne.name} Crisp.`,type:"ability",randomEvent:F.random,tiger:d,player:f.parent}),ne.givePetEquipment(new A.Y);this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService)}}},50119(O,S,i){i.d(S,{e:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;petService;name="Falcon";tier=4;pack="Golden";attack=5;health=5;initAbilities(){this.addAbility(new _(this,this.logService,this.petService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,o,r,d,f,D)}}class _ extends c.T{logService;petService;abilityService;constructor(e,t,n,a){super({name:"FalconAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=t,this.petService=n,this.abilityService=a}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;let d=3*this.level,g=this.petService.createPet({attack:d,health:d,name:n.name,exp:r.minExpForLevel,equipment:null,mana:0},r.parent),f=r.parent.summonPet(g,r.savedPosition,!1,r);f.success&&this.logService.createLog({message:`${r.name} spawned ${g.name} ${d}/${d} Level ${this.level}`,type:"ability",player:r.parent,tiger:a,randomEvent:f.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.petService,this.abilityService)}}},50229(O,S,i){i.d(S,{F:()=>_});var A=i(46200),c=i(5615),E=i(15523);class _ extends A.i{logService;abilityService;name="Cuckoo";tier=5;pack="Custom";attack=5;health=4;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"CuckooAbility",owner:t,triggers:["EnemyFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{triggerPet:n,tiger:a,pteranodon:o}=t,r=this.owner,d=r.parent.opponent;if(this.currentUses>2*this.level)return;let f=new E.Z(this.logService,this.abilityService,d);f.initPet(0,1,1,0,null,0);let k=d.summonPet(f,n?.savedPosition??0,!0,r);k.success&&this.logService.createLog({message:`${r.name} summoned Cuckoo Chick for the enemy Early.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:k.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},50253(O,S,i){i.d(S,{A:()=>v});var A=i(31685),c=i(42661);const v=function _(e){return(0,c.A)(e)&&"[object Arguments]"==(0,A.A)(e)}},50336(O,S,i){i.d(S,{A:()=>E});var A=i(61319);const E=function c(_,v){for(var e=_.length;e--;)if((0,A.A)(_[e][0],v))return e;return-1}},50342(O,S,i){i.d(S,{y:()=>_});var A=i(46200),c=i(5615),E=i(1152);class _ extends A.i{logService;abilityService;name="Siamese";tier=4;pack="Star";health=5;attack=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"SiameseAbility",owner:t,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,a=(0,E.MZ)(n);if(0===a.length)return void this.triggerTigerExecution(t);const r=this.level,d=!0===t.discountedFood||!0===t.shopDiscountedFood?this.level:0;for(const g of a)g.increaseAttack(r),d>0&&g.increaseHealth(d);this.logService.createLog({message:`${n.name} gave adjacent friends +${r} attack${d>0?` and +${d} health`:""}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon,randomEvent:a.length>1}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},50424(O,S,i){i.d(S,{S:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Octopus";tier=6;pack="Puppy";attack=8;health=8;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"OctopusAbility",owner:e,triggers:["ThisAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner,d=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,[r],null,!0,r);let g=d.pets;for(let D of g){if(null==D)return;r.snipePet(D,6,d.random,a)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},50598(O,S,i){i.d(S,{g:()=>_});var A=i(46200),c=i(5615),E=i(1152);class _ extends A.i{logService;abilityService;name="Lobster";tier=4;pack="Puppy";attack=3;health=3;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"LobsterAbility",owner:t,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,a=(0,E.Uj)(n,t.triggerPet);if(!a.pet)return;const o=this.level,r=2*this.level;a.pet.increaseAttack(o),a.pet.increaseHealth(r),(0,E.rv)(this.logService,n,`${n.name} gave ${a.pet.name} ${o} attack and ${r} health.`,t.tiger,t.pteranodon,{randomEvent:a.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},50702(O,S,i){i.d(S,{s:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Buffalo";tier=4;pack="Puppy";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;pendingAttack=0;pendingHealth=0;constructor(e,t,n){super({name:"BuffaloAbility",owner:e,triggers:["FriendSold","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return(this.pendingAttack||this.pendingHealth)&&(t.increaseAttack(-this.pendingAttack),t.increaseHealth(-this.pendingHealth)),this.pendingAttack=0,this.pendingHealth=0,void this.triggerTigerExecution(e);const n=e.triggerPet;if(!n||!n.isSellPet())return void this.triggerTigerExecution(e);const a=2*this.level;t.increaseAttack(a),t.increaseHealth(a),this.pendingAttack+=a,this.pendingHealth+=a,this.logService.createLog({message:`${t.name} gained +${a}/+${a} until next turn after ${n.name} was sold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},50745(O,S,i){i.d(S,{y:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Amami Rabbit";tier=3;pack="Danger";attack=1;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"AmamiRabbitAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=1*this.level,g=r.parent.opponent.getHighestAttackPet(void 0,r);if(g.pet&&g.pet.alive){if(r.jumpAttackPrep(g.pet),r.transformed&&r.transformedInto){let f=r.parent.getThis(r.transformedInto);f.pet&&(r.transformedInto.increaseAttack(d),this.logService.createLog({message:`${r.name} gave ${r.transformedInto.name} ${d} attack`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random}))}else{let f=r.parent.getThis(r);f.pet&&(f.pet.increaseAttack(d),this.logService.createLog({message:`${r.name} gave ${f.pet.name} ${d} attack`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random}))}r.jumpAttack(g.pet,a,void 0,g.random)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},50795(O,S,i){i.d(S,{I:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Capybara";tier=3;pack="Star";attack=2;health=6;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"CapybaraAbility",owner:e,triggers:["Roll","FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level;this.logService.createLog({message:`${t.name} gave newly rolled shop pets +${n}/+${n}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},50871(O,S,i){i.d(S,{i:()=>v});var A=i(46200),c=i(5615),E=i(83991),_=i(1152);class v extends A.i{logService;abilityService;name="Bilby";tier=2;pack="Puppy";attack=2;health=4;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;reset(){this.maxUses=this.level,super.reset()}constructor(n,a){super({name:"BilbyAbility",owner:n,triggers:["FriendLostPerk"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:n.level,precondition:o=>(0,_.Re)(this.owner,o.triggerPet,{excludeOwner:!0}),abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const{triggerPet:o,tiger:r}=n,g=this.owner;let f=(0,_.lK)(g,o),D=f.pet;null!=D&&(this.logService.createLog({message:`${g.name} gave ${D.name} Garlic.`,type:"ability",player:g.parent,tiger:r,randomEvent:f.random}),D.givePetEquipment(new E.T),this.triggerTigerExecution(n))}copy(n){return new e(n,this.logService)}}},50873(O,S,i){i.d(S,{L:()=>c});var A=i(83028);class c{logService;toyService;name;parent;level;tier;used=!1;suppressFriendFaintLog=!1;triggers=0;constructor(_,v,e,t){this.logService=_,this.toyService=v,(0,A.L)(this),this.parent=e,this.level=t}}},50885(O,S,i){i.d(S,{p:()=>c});var A=i(22097);class c extends A.${name="Brussels Sprout";equipmentClass="shield";power=5;originalPower=5;uses=1;originalUses=1}},51235(O,S,i){i.d(S,{I:()=>E});var A=i(27389);const c=new A.c(v=>v.complete());function E(v){return v?function _(v){return new A.c(e=>v.schedule(()=>e.complete()))}(v):c}},51384(O,S,i){i.d(S,{d:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Elephant Seal";tier=6;pack="Puppy";attack=4;health=8;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}}class _ extends c.T{logService;constructor(e,t){super({name:"ElephantSealAbility",owner:e,triggers:["ThisGainedPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:1,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=4*this.level,g=r.parent.getRandomPets(3,[r],!0,!1,r);for(let f of g.pets)null!=f&&(f.increaseAttack(d),f.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${f.name} ${d} attack and ${d} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}));this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},51610(O,S,i){i.d(S,{o:()=>c});var A=i(22097);class c extends A.${name="Rice";tier=2;equipmentClass="shop";callback=_=>{_.increaseSellValue(2*this.multiplier)}}},51665(O,S,i){i.d(S,{K:()=>_});var A=i(46200),c=i(80249),E=i(5615);class _ extends A.i{logService;abilityService;name="Fur-Bearing Trout";tier=3;pack="Unicorn";attack=3;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends E.T{logService;constructor(t,n){super({name:"FurBearingTroutAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=[],f=d;for(;g.length<this.level;){let D=f.petBehind();if(null==D)break;D.equipment instanceof c.B||g.push(D),f=D}if(0!==g.length){for(let D of g)this.logService.createLog({message:`${d.name} gave ${D.name} a Rambutan.`,type:"ability",player:d.parent,tiger:o}),D.givePetEquipment(new c.B(this.logService));this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},51838(O,S,i){i.d(S,{K:()=>c});var A=i(22097);class c extends A.${name="Coconut";tier=7;equipmentClass="shield";power=999;originalPower=999;uses=1;originalUses=1}},51876(O,S,i){i.d(S,{u:()=>_});var A=i(46200),c=i(5615),E=i(42075);class _ extends A.i{logService;abilityService;name="Macaque";tier=5;pack="Golden";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"MacaqueAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=12*this.level,f=new E.u(this.logService,this.abilityService,d.parent,g,g,0,d.minExpForLevel,d.equipment),D=d.parent.summonPetInFront(d,f);if(D.success){let k=`${d.name} spawned Orangutan ${f.attack}/${f.health}`;null!=d.equipment&&(k+=` with ${d.equipment.name}`),k+=".",this.logService.createLog({message:k,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:D.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},52078(O,S,i){i.d(S,{W:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Thunderbird";tier=2;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"ThunderbirdAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.nearestPetsAhead(2,r);if(d.pets.length<1)return;let f=d.pets[1]??d.pets[0];if(null==f)return;let D=3*this.level;this.logService.createLog({message:`${r.name} gave ${f.name} ${D} mana.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),f.increaseMana(D),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},52164(O,S,i){i.d(S,{g:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Grizzly Bear";tier=6;pack="Golden";attack=6;health=8;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"GrizzlyBearAbility",owner:e,triggers:["FriendlyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getRandomEnemyPetsWithSillyFallback(2,[],!0,!1,r),g=d.pets,f=6*this.level;for(let D of g)r.snipePet(D,f,d.random,a);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},52561(O,S,i){i.d(S,{f:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Zebra";tier=5;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Zebra Ability",owner:e,triggers:["ThisBought","ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,n=t.parent.getRandomPets(1,[t],!1,!1,t),a=n.pets[0];if(!a)return void this.triggerTigerExecution(e);const o=2*this.level;a.increaseAttack(o),a.increaseHealth(o),this.logService.createLog({message:`${t.name} gave ${a.name} +${o}/+${o}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},52573(O,S,i){i.d(S,{N:()=>v});var A=i(21580),c=i(46200),E=i(41943),_=i(5615);class v extends c.i{logService;abilityService;name="Deer";tier=4;pack="Turtle";attack=2;health=2;initAbilities(){this.addAbility(new e(this,this.logService,this.abilityService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends _.T{logService;abilityService;constructor(n,a,o){super({name:"DeerAbility",owner:n,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=a,this.abilityService=o}executeAbility(n){const{tiger:r,pteranodon:d}=n,g=this.owner;let k=new E.z(this.logService,this.abilityService,g.parent,3*this.level,5*this.level,null,this.minExpForLevel,new A.k(this.logService,this.abilityService)),L=g.parent.summonPet(k,g.savedPosition,!1,g);L.success&&this.logService.createLog({message:`${g.name} spawned Bus level ${this.level}`,type:"ability",player:g.parent,tiger:r,pteranodon:d,randomEvent:L.randomEvent}),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService,this.abilityService)}}},52783(O,S,i){i.d(S,{y:()=>a});var A=i(76413),c=i(35045),E=i(43959),_=i(1257),v=i(83167),e=i(48740),t=i(17996),n=i(56015);const a={...A.n,...c.x,...E.t,..._.C,...v.f,...e.W,...t.Y,...n.D}},52865(O,S,i){i.d(S,{B:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Philippine Eagle";tier=6;pack="Danger";attack=7;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PhilippineEagleAbility",owner:e,triggers:["AnyoneJumped"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getRandomPet([],!1,!1,!1,r),g=d.pet;if(!g)return;let f=4*this.level;g.increaseAttack(f),g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} +${f} attack and +${f} health`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},53092(O,S,i){i.d(S,{I:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Minotaur";tier=4;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MinotaurAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;if(!n)return;let d=this.level*n.level,g=r.parent.getThis(r),f=g.pet;null!=f&&(this.logService.createLog({message:`${r.name} gave ${f.name} ${d} attack and ${d} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),f.increaseAttack(d),f.increaseHealth(d),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},53108(O,S,i){i.d(S,{Z:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Cassowary";tier=3;pack="Star";attack=5;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"CassowaryAbility",owner:e,triggers:["FriendlyGainedStrawberry"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner,d=this.level;let f=r.parent.getThis(r).pet;null!=f&&(this.logService.createLog({message:`${r.name} gave ${f.name} +${d} permanent health and +${d} attack for this battle.`,type:"ability",player:r.parent,tiger:a}),f.increaseHealth(d),f.increaseAttack(d),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},53190(O,S,i){i.d(S,{y:()=>_});var A=i(46200),c=i(5615),E=i(13712);class _ extends A.i{logService;abilityService;name="Terror Bird";tier=6;pack="Custom";attack=8;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"TerrorBirdAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,{tiger:a,pteranodon:o}=t,r=n.parent.petArray.filter(g=>g&&g!==n&&g.alive&&"Strawberry"===g.equipment?.name).sort((g,f)=>g.position-f.position).slice(0,this.level);if(0===r.length)return void this.triggerTigerExecution(t);for(const g of r)g.givePetEquipment(new E.u);const d=r.map(g=>g.name).join(", ");this.logService.createLog({message:`${n.name} gave Peanut to ${d} at start of battle.`,type:"ability",player:n.parent,tiger:a,pteranodon:o}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},53227(O,S,i){i.d(S,{E:()=>v,i:()=>_});var A=i(57488),c=i(50873),E=i(5615);class _ extends c.L{name="Camera";tier=5;startOfBattle(t,n){let a=(0,A.a)(t,this.parent);for(let o=0;o<this.level;o++){let r=a.getHighestAttackPet(),d=r.pet;if(null==d)return;let g=.3,f=Math.max(1,Math.floor(d.attack*(1-g)));d.attack=f,this.logService.createLog({message:`${this.name} reduced ${d.name} attack by ${100*g}% to ${f}`,type:"ability",player:this.parent,puma:n,randomEvent:r.random})}}}class v extends E.T{constructor(t,n){super({name:"CameraAbility",triggers:["StartBattle"],owner:t,abilityType:"Pet",abilityFunction:a=>{const{gameApi:o,puma:r}=a;let d=(0,A.a)(o,t.parent);for(let g=0;g<this.abilityLevel;g++){let f=d.getHighestAttackPet(),D=f.pet;if(null==D)return;let k=.3,L=Math.max(1,Math.floor(D.attack*(1-k)));D.attack=L,n.createLog({message:`${t.name} reduced ${D.name} attack by ${100*k}% to ${L} (Camera)`,type:"ability",player:t.parent,puma:r,randomEvent:f.random})}}})}}},53324(O,S,i){i.d(S,{F:()=>E});var A=i(22097),c=i(5615);class E extends A.${logService;name="Fig";equipmentClass="beforeAttack";hasRandomEvents=!0;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;constructor(e,t){super({name:"FigAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t}executeAbility(e){const t=this.owner;let n=this.equipment.multiplier;for(let a=0;a<n;a++){let o=t.parent.opponent.getLowestHealthPet(),r=o.pet;if(null==r)return;t.snipePet(r,4,o.random,!1,!1,!0,!1)}t.removePerk()}}},53473(O,S,i){i.d(S,{Q:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Tiger Bug";tier=4;pack="Unicorn";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TigerBugAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>null==this.owner.parent.pet0,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let g=r.parent.getThis(r).pet;if(null==g)return;this.logService.createLog({message:`${r.name} pushed ${g.name} to the front.`,type:"ability",player:r.parent,tiger:a,pteranodon:o}),r.parent.pushPetToFront(g,!0);let f=r.parent.opponent.getFurthestUpPets(2,[],r),D=f.pets;if(0==D.length)return;let k=3*this.level;for(let L of D)null!=L&&r.snipePet(L,k,f.random,a);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},53591(O,S,i){i.d(S,{ET:()=>e,T5:()=>t});var A=i(61850);function E(n,a,o){o&&o(n),e(n,a)}function e(n,a,o){if(n.callback){const d=n.pet;if(d&&d.transformed&&d.transformedInto&&n.abilityType){const g=d.transformedInto;n.callback=(f,D)=>{g.executeAbilities(f,D,n.triggerPet,void 0,void 0,o)}}return void n.callback(n.abilityType,a,n.triggerPet)}const r=function c(n){const a=n.pet;return a?a.transformed&&a.transformedInto?a.transformedInto:a:null}(n);r&&n.abilityType&&r.executeAbilities(n.abilityType,a,n.triggerPet,void 0,void 0,n.customParams||o)}function t(n,a,o){if(o?.shuffle)for(let r=n.length-1;r>0;r--){const d=(0,A.hw)(0,r);[n[r],n[d]]=[n[d],n[r]]}if(o?.filter)!function _(n,a,o,r){let d=n.findIndex(o);for(;-1!==d;){const[g]=n.splice(d,1);if(!g)break;E(g,a,r),d=n.findIndex(o)}}(n,a,o.filter,o.onExecute);else for(;n.length>0;)E(n.shift(),a,o?.onExecute)}},53600(O,S,i){i.d(S,{A:()=>c});const c=function A(E){var _=[];if(null!=E)for(var v in Object(E))_.push(v);return _}},53654(O,S,i){i.d(S,{p:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Chihuahua";tier=1;pack="Star";attack=4;health=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"ChihuahuaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner,d=r.parent.opponent,g=d.getHighestHealthPet(void 0,r),f=g.pet;if(f){const D=this.level;this.logService.createLog({message:`${r.name} pushed ${f.name} forward ${D} space(s).`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),d.pushPet(f,D)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},53874(O,S,i){i.d(S,{M:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Silverfish";tier=2;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Silverfish Ability",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} sold for +${2*this.level} gold, but will lose ${this.level} gold next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},54073(O,S,i){i.d(S,{J:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Alchemedes";tier=1;pack="Unicorn";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"AlchemedesAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.nearestPetsAhead(1,r);if(0===d.pets.length)return;let g=d.pets[0];this.logService.createLog({message:`${r.name} gave ${g.name} ${this.level} mana.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),g.increaseMana(this.level),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},54155(O,S,i){i.d(S,{j:()=>E});var A=i(22097),c=i(5615);class E extends A.${logService;name="Pita Bread";tier=6;power=0;equipmentClass="hurt";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"PitaBreadAbility",owner:e,triggers:["ThisHurt"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;if(!t.alive)return;let a=15*this.equipment.multiplier;t.increaseHealth(a),this.logService.createLog({message:`${t.name} gained ${a} health. (Pita Bread)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent}),t.removePerk()}}},54190(O,S,i){i.d(S,{U:()=>E});var A=i(22097),c=i(5615);class E extends A.${logService;name="Tomato";tier=6;equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;constructor(e,t){super({name:"TomatoAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t}executeAbility(e){const t=this.owner;let n=this.equipment.multiplier;for(let a=0;a<n;a++){let o=t.parent.opponent.getLastPet();if(null==o.pet)break;t.snipePet(o.pet,10,o.random,!1,!1,!0,!1)}t.removePerk()}}},54416(O,S,i){i.d(S,{J:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Sunfish";tier=6;pack="Custom";attack=4;health=10;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SunfishAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,{gameApi:n,tiger:a,pteranodon:o}=e,r=n?.turnNumber??1;if(r%2==0)return void this.triggerTigerExecution(e);const d=4*this.level,f=t.parent.nearestPetsAhead(5,t,void 0,!0).pets;if(0===f.length)return void this.triggerTigerExecution(e);for(const k of f)t.snipePet(k,d);const D=f.map(k=>k.name).join(", ");this.logService.createLog({message:`${t.name} hit ${D} ahead for ${d} damage because turn ${r} is odd.`,type:"ability",player:t.parent,tiger:a,pteranodon:o}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},54515(O,S,i){i.d(S,{w:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Cobra";tier=6;pack="Golden";attack=12;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"CobraAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.opponent.getRandomPet([],!1,!0,!1,r);if(null==d.pet)return;let g=Math.floor(.2*r.attack*r.level);r.snipePet(d.pet,g,d.random,a),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},54571(O,S,i){i.d(S,{G:()=>_});var A=i(46200),c=i(5615),E=i(61850);class _ extends A.i{logService;abilityService;name="Sugar Glider";tier=3;pack="Custom";attack=1;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Sugar Glider Ability",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner,r=2*this.level,g=(0,E.k4)(o.parent.petArray.filter(f=>f.alive&&f!==o)).slice(0,2);for(const f of g)f.mana+=r;g.length>0&&this.logService.createLog({message:`${o.name} gave ${r} mana to ${g.length} friends.`,type:"ability",player:o.parent,tiger:n,pteranodon:a}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},54608(O,S,i){i.d(S,{A:()=>e});var A=i(30568),c=i(20778),E=i(33340),_=E.A&&E.A.isTypedArray;const e=_?(0,c.A)(_):A.A},54841(O,S,i){i.d(S,{A:()=>E});var A=i(57690);const E=function c(_,v){var e=-1,t=_.length,n=t-1;for(v=void 0===v?t:v;++e<v;){var a=(0,A.A)(e,n),o=_[a];_[a]=_[e],_[e]=o}return _.length=v,_}},55241(O,S,i){function A(c){return c}i.d(S,{D:()=>A})},55267(O,S,i){i.d(S,{_:()=>a});var A=i(46200),c=i(5615),E=i(90966),_=i(33127),v=i(17385),e=i(58857),t=i(61850),n=i(79222);class a extends A.i{logService;abilityService;petService;gameService;name="Good Dog";tier=5;pack="Unicorn";attack=1;health=1;hidden=!0;initAbilities(){this.addAbility(new o(this,this.logService)),super.initAbilities()}constructor(d,g,f,D,k,L,F,J,ne,H,$){super(d,g,k),this.logService=d,this.abilityService=g,this.petService=f,this.gameService=D,this.initPet(ne,L,F,J,H,$)}}class o extends c.T{logService;constructor(d,g){super({name:"GoodDogAbility",owner:d,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:d.level,abilityFunction:f=>{this.executeAbility(f)}}),this.logService=g}executeAbility(d){const{tiger:D}=d,L=this.owner;let F=L.parent.getAll(!0,L),J=F.pets;if(0===J.length)return;const ne=_.I.getInjector().get(E.m).getInstanceOfAllEquipment(),$=new Map([[1,1],[2,3],[3,5]]).get(L.level)??1;let q=Array.from(ne.values()).filter(ae=>ae&&(ae.tier??1)>=$);q.length||(q=Array.from(ne.values()).filter(ae=>ae));for(let ae of J){if(!ae.alive)continue;const le=(0,e.k6)({key:"pet.good-dog-equipment",label:(0,n.I)(L,`Good Dog equipment for P${ae.savedPosition+1} ${ae.name}`),options:q.map(Se=>({id:Se.name,label:Se.name}))},()=>(0,t.hw)(0,q.length-1)),ye=(0,v.e)(q[le.index]);ye&&(this.logService.createLog({message:`${L.name} gave ${ae.name} ${ye.name}`,type:"ability",player:L.parent,randomEvent:F.random||le.randomEvent,tiger:D}),ae.givePetEquipment(ye))}this.triggerTigerExecution(d)}copy(d){return new o(d,this.logService)}}},55378(O,S,i){i.d(S,{z:()=>c});var A=i(22097);class c extends A.${name="Icky";equipmentClass="ailment-other";uses=2;originalUses=2}},55541(O,S,i){i.d(S,{G:()=>_});var A=i(46200),c=i(5615),E=i(13712);class _ extends A.i{logService;abilityService;name="Scorpion";tier=5;pack="Turtle";attack=1;health=1;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"ScorpionAbility",owner:t,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=new E.u,f=d.parent.getThis(d),D=f.pet;null!=D&&(D.givePetEquipment(g),this.logService.createLog({message:`${d.name} gave ${D.name} the Peanut perk.`,type:"ability",player:d.parent,tiger:o,randomEvent:f.random}),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},55577(O,S,i){i.d(S,{L:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Salamander";tier=2;pack="Star";attack=1;health=2;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}}class _ extends c.T{logService;constructor(e,t){super({name:"SalamanderAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.getThis(r),g=d.pet;if(null==g)return;let f=0;for(let D of r.parent.petArray)D.isSellPet()&&(f+=D.level*this.level);f>0&&(this.logService.createLog({message:`${r.name} gave ${g.name} ${f} attack and ${f} health from sell pets.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:d.random}),g.increaseAttack(f),g.increaseHealth(f)),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},55649(O,S,i){i.d(S,{Y:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Musk Ox";tier=3;pack="Golden";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MuskOxAbility",owner:e,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d={attack:r.level,health:2*r.level},g=r.parent.getThis(r),f=g.pet;null!=f&&(f.increaseAttack(d.attack),f.increaseHealth(d.health),this.logService.createLog({message:`${r.name} gave ${f.name} ${d.attack} attack and ${d.health} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},55713(O,S,i){i.d(S,{S:()=>v});var A=i(22097),c=i(5615),E=i(56990),_=i(33127);class v extends A.${logService;name="Love Potion";equipmentClass="beforeStartOfBattle";tier=5;callback=n=>{const a=n.getEquippedEquipmentInstance(this);n.addAbility(new e(n,a,this.logService))};constructor(n){super(),this.logService=n}}class e extends c.T{equipment;logService;petService;constructor(n,a,o){super({name:"LovePotionAbility",owner:n,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=a,this.logService=o,this.petService=_.I.getInjector().get(E.T)}executeAbility(n){const a=this.owner;for(let o=0;o<this.equipment.multiplier;o++){const r=this.petService.createPet({name:a.name,attack:3,health:3,exp:0,equipment:null,mana:0},a.parent),d=a.parent.summonPet(r,a.savedPosition,!1,a);d.success&&this.logService.createLog({message:`${a.name} summoned a ${r.attack}/${r.health} ${r.name} (Love Potion)${o>0?this.equipment.multiplierMessage:""}.`,type:"equipment",player:a.parent,randomEvent:d.randomEvent})}}}},55786(O,S,i){i.d(S,{ST:()=>o.S,hA:()=>F,jb:()=>J,su:()=>ne,uL:()=>L});var A=i(13712),c=i(2375),E=i(31546),_=i(13115),v=i(22410),e=i(6328),t=i(44519),n=i(84932),a=i(47925),o=i(97758);const r=["Weak","Cold","Icky","Spooked"];function d(H,$){if("Icky"!=$.equipment?.name)return H;let q=`${H}x2 (Icky)`;return $.equipment.multiplier>1&&(q+=$.equipment.multiplierMessage),q}function g(H,$,q){const ae=$.getManticoreMult();if(0===ae.length||!r.includes(q.equipment?.name??""))return H;let _e=H;for(const ye of ae)_e+=` x${ye+1} (Manticore)`;return _e}function f(H,$,q){let ae=H;return $.nurikabe>0&&(ae+=` -${$.nurikabe} (Nurikabe)`),($.fairyBallReduction??0)>0&&(ae+=` -${$.fairyBallReduction} (Fairy Ball)`),($.fanMusselReduction??0)>0&&(ae+=` -${$.fanMusselReduction} (Fan Mussel)`),($.ghostKittenReduction??0)>0&&(ae+=` -${$.ghostKittenReduction} (Ghost Kitten)`),q&&($.mapleSyrupReduction??0)>0&&(ae+=` -${$.mapleSyrupReduction} (Maple Syrup)`),ae}function D(H){if(!H||!H.alive||!H.hasTrigger(void 0,"Pet","Albatross Ability"))return 0;let $=0;for(const q of H.abilityList)"Albatross Ability"===q.name&&($+=3*q.level);return $}function L(H,$,q=!1,ae,le=!1){H.timesAttacked++;let _e=(0,o.S)(H,$,H.getManticoreMult(),ae),ye=_e.attackEquipment,Se=_e.defenseEquipment,Ce=_e.damage;const de=H.equipment instanceof n.Z;de&&(Ce=Math.floor(Ce/2));let Ue,Te=H.equipment?.multiplier??1,xe=$.equipment?.multiplier??1;if(H.currentTarget=$,q?(Ue=`${H.name} jump-attacks ${$.name} for ${Ce}.`,H.equipment instanceof E.w&&(Ue+=" (White Truffle)")):Ue=`${H.name} attacks ${$.name} for ${Ce}.`,de&&(Ue+=" (Sleepy x0.5)"),ye instanceof A.u&&Ce>0)H.createLog({message:`${Ue} (Peanut)`,type:"attack",player:H.parent,sourcePet:H,targetPet:$,randomEvent:le}),ne(H,$,Ce),$.killedBy=H,$.health=0;else if(ye instanceof c._&&Ce>0&&ye.uses>0)H.createLog({message:`${Ue} (Peanut Butter)`,type:"attack",player:H.parent,sourcePet:H,targetPet:$,randomEvent:le}),$.killedBy=H,ne(H,$,Ce),$.health=0;else{if(ne(H,$,Ce),null!=ye){const Je=ye.power??0;let qe="-";Je>0&&(qe="+");let mt=`${qe}${Math.abs(Je)}`;ye instanceof _.B&&(mt="x2"),ye instanceof a.Z&&(mt="x0.5"),ye instanceof v.W&&(mt=Ce<=15?"=15":"+0"),ye instanceof e.Y&&(le=!0,_e.fortuneCookie?(mt="x2",ye.multiplier>1&&(mt+=ye.multiplierMessage)):mt="x1"),Ue+=` (${ye.name} ${mt})`,Te>1&&H.equipment&&(Ue+=H.equipment.multiplierMessage)}if(null!=Se){const Je=Se.power??0;let Ke=Math.abs(Je),qe="-";if(Je<0&&(qe="+"),"Coconut"===Se.name)Ue+=` (${Se.name} block)`;else if("Strawberry"===Se.name){let mt=$.getSparrowLevel();mt>0&&(Ke=5*mt,Ue+=` (Strawberry -${Ke} (Sparrow))`)}else Se instanceof t.H?(qe=1==$.health?"!":"-",Ke="",Ue+=` (${Se.name} ${qe}${Ke})`):Se instanceof a.q?(Ke="x0.5",Ue+=` (${Se.name} ${Ke})`):Ue+=` (${Se.name} ${qe}${Ke})`;xe>1&&$.equipment&&(Ue+=$.equipment.multiplierMessage)}Ue=d(Ue,$),Ue=f(Ue,_e,!0),Ue=g(Ue,H,$),H.createLog({message:Ue,type:"attack",player:H.parent,sourcePet:H,targetPet:$,randomEvent:le}),("skewer"==H.equipment?.equipmentClass?H.equipment:null)?.attackCallback?.(H,$)}de&&H.removePerk(),H.triggerAttackEventsFor(),H.applyCrisp();const Ne=H.parent.opponent?.petArray?.[0];Ne&&Ne.applyCrisp()}function F(H,$,q,ae,le,_e,ye,Se,Ce="sniped",de){const Te=function k(H){if((H.tier??Number.POSITIVE_INFINITY)>4)return 0;let $=0;return $+=D(H.petAhead),$+=D(H.petBehind()),$}(H);Te>0&&(q+=Te);let xe=(0,o.S)(H,$,H.getManticoreMult(),q,!0),Ue=xe.attackEquipment,Ne=xe.defenseEquipment,ct=xe.damage;"Kiwano"===H.equipment?.name&&ct>0&&(ct+=8,H.createLog({message:`${H.name} added +8 damage. (Kiwano)`,type:"equipment",player:H.parent}),H.removePerk()),ne(H,$,ct);let Je=`${H.name} ${Ce} ${$.name} for ${ct}.`;if(null!=de&&null!=H.equipment?.multiplier&&H.equipment.multiplier>1&&(Je+=` (${de}*${H.equipment.multiplier})`),null!=Ne){$.useDefenseEquipment(!0);const Ke=Ne.power??0;let qe=Math.abs(Ke),mt="-";if(Ke<0&&(mt="+"),"Coconut"===Ne.name)Je+=` (${Ne.name} block)`;else if("Strawberry"===Ne.name){let pt=$.getSparrowLevel();pt>0&&(qe=5*pt,Je+=` (Strawberry -${qe} (Sparrow))`)}else Je+=` (${Ne.name} ${mt}${qe})`;Je+=Ne.multiplierMessage}if(null!=Ue&&"attack-snipe"==Ue.equipmentClass){const Ke=Ue.power??0;let qe=Math.abs(Ke),mt="-";Ke>0&&(mt="+"),Je+=` (${Ue.name} ${mt}${qe})`,H.equipment?.multiplier&&H.equipment.multiplier>1&&(Je+=H.equipment.multiplierMessage)}return le&&(Je+=" (Tiger)"),Te>0&&(Je+=` (+${Te} Albatross)`),ye&&H.equipment&&(Je+=` (${H.equipment.name})`),Se&&(Je+=" (Mana)"),Je=d(Je,$),Je=g(Je,H,$),Je=f(Je,xe,!1),H.createLog({message:Je,type:"attack",randomEvent:ae,player:H.parent,sourcePet:H,targetPet:$,pteranodon:_e}),null!=Ue&&"attack-snipe"==Ue.equipmentClass&&null!=H.equipment?.uses&&(H.equipment.uses-=1,H.equipment.uses<=0&&H.removePerk()),ct}function J(H,$,q,ae,le=!1){let _e;$.lastAttacker=H,_e=H.transformed?H.transformedInto??H:H,$.transformed&&($=$.transformedInto??$),_e.alive&&$.alive&&(_e.attackPet($,!0,ae,le),$.attackPet(_e),_e.useAttackDefenseEquipment(),$.useAttackDefenseEquipment(),_e.executeAfterAttackEvents(),_e.triggerJumpEventsFor())}function ne(H,$,q){if($.alive){if(q>=$.health&&"Bok Choy"==$.equipment?.name){let ae=4*$.equipment.multiplier;H.createLog({message:`${$.name} gained ${ae} health (Bok Choy) ${$.equipment.multiplierMessage} `,type:"equipment",player:$.parent}),$.increaseHealth(ae),$.removePerk()}$.health-=q,$.health<=0&&($.killedBy=H),q>0&&$.timesHurt++,$.health<1&&H.triggerKillEventsFor($),q>0&&H.triggerHurtEventsFor($,q)}}},55853(O,S,i){i.d(S,{J:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Secretary Bird";tier=4;pack="Golden";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityUses=0;constructor(e,t){super({name:"SecretaryBirdAbility",owner:e,triggers:["PostRemovalFriendFaints2"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.nearestPetsAhead(1,r);if(0===d.pets.length)return;let g=d.pets[0],f=3*this.level,D=4*this.level;g.increaseAttack(f),g.increaseHealth(D),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} attack and ${D} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:d.random}),this.triggerTigerExecution(e),this.logService.createLog({message:`${r.name} triggered secretary bird ability at level ${this.level}.`,type:"ability",player:r.parent,tiger:a,pteranodon:o})}copy(e){return new _(e,this.logService)}}},55984(O,S,i){i.d(S,{p:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Royal Flycatcher";tier=3;pack="Golden";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"RoyalFlycatcherAbility",owner:e,triggers:["EnemyFaint3"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=4*this.level,g=r.parent.opponent.getRandomPet([],null,!0,null,r),f=g.pet;null!=f&&(r.snipePet(f,d,g.random,a),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},56015(O,S,i){i.d(S,{D:()=>Dt});var A=i(78477),c=i(32804),E=i(33245),_=i(98441),v=i(41943),e=i(43378),t=i(10041),n=i(72638),a=i(7715),o=i(36481),r=i(92952),d=i(3754),g=i(4635),f=i(74891),D=i(32584),k=i(89124),L=i(4673),F=i(25828),J=i(57235),ne=i(55267),H=i(29855),$=i(58068),q=i(14908),ae=i(95768),le=i(22528),_e=i(63892),ye=i(8178),Se=i(3279),Ce=i(33605),de=i(95573),Te=i(29088),xe=i(41271),Ue=i(13761),Ne=i(12312),ct=i(56057),Je=i(22426),Ke=i(14787),qe=i(1728),mt=i(24207),pt=i(60489),it=i(42655);const Dt={"Adult Flounder":A.u,"Angry Pygmy Hog":c._,"Baby Urchin":E.U,Bee:_.V,Bus:v.z,Butterfly:e.A,Chick:t.$,"Chimera Goat":n.D,"Chimera Lion":a.k,"Chimera Snake":o.U,"Cooked Roach":r.J,"Cracked Egg":d.j,Daycrawler:g.f,"Dirty Rat":f.s,"Fairy Ball":D.f,"Fake Nessie":k.b,"Fire Pup":L.O,"Giant Eyes Dog":F.y,"Golden Retriever":J.K,"Good Dog":ne._,Head:H.p,"Lizard Tail":$.n,"Loyal Chinchilla":q.r,"Mimic Octopus":ae.Z,"Moby Dick":le.D,Monty:_e.m,"Nessie?":ye.p,Nest:Se.D,Quail:Ce.V,Ram:de.w,Rock:Te.A,Salmon:xe.R,"Sleeping Gelada":Ue.s,"Smaller Slime":Ne.x,"Smaller Slug":ct.m,"Smallest Slug":Je.z,"Summoned Cockroach":Ke.s,"Tand and Tand":qe.c,"Young Phoenix":mt.C,"Zombie Cricket":pt.y,"Zombie Fly":it.A}},56057(O,S,i){i.d(S,{m:()=>_});var A=i(46200),c=i(5615),E=i(22426);class _ extends A.i{logService;abilityService;name="Smaller Slug";tier=1;pack="Golden";hidden=!0;health=2;attack=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"SmallerSlugAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let D=new E.z(this.logService,this.abilityService,d.parent,this.level,this.level,0,d.minExpForLevel),k=d.parent.summonPet(D,d.savedPosition,!1,d);k.success&&this.logService.createLog({message:`${d.name} spawned Smallest Slug Level ${d.level}`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:k.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},56079(O,S,i){i.d(S,{B:()=>E});var A=i(50873);i(5615);class E extends A.L{name="Lock of Hair";tier=4}},56351(O,S,i){i.d(S,{i:()=>_});var A=i(25828),c=i(50873);i(5615);class _ extends c.L{logService;toyService;abilityService;name="Tinder Box";tier=4;emptyFromSpace(t,n,a,o){let r={attack:6*a,health:6*a},g=new A.y(this.logService,this.abilityService,this.parent,r.health,r.attack,0,1==a?0:2==a?2:5),f=`${this.name} spawned Giant Eyes Dog (${r.attack}/${r.health}).`;this.parent.summonPet(g,0).success&&this.logService.createLog({message:f,type:"ability",player:this.parent,puma:n}),this.used=!0}constructor(t,n,a,o,r){super(t,n,o,r),this.logService=t,this.toyService=n,this.abilityService=a}}},56485(O,S,i){i.d(S,{B:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Winter Spirit";tier=6;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"WinterSpiritAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,r=a.parent.nearestPetsAhead(2,a).pets;if(0===r.length)return void this.triggerTigerExecution(e);const d=5*this.level,g=[];for(const f of r)f.increaseMana(d),g.push(f.name);this.logService.createLog({message:`${a.name} gave ${g.join(", ")} +${d} mana at end of turn.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},56518(O,S,i){i.d(S,{q:()=>E});var A=i(22097),c=i(5615);class E extends A.${logService;name="Strawberry";equipmentClass="shield";tier=1;uses=2;originalUses=2;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"StrawberryAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,maxUses:t.originalUses,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner,n=t.parent.getLastPet();if(n.pet){const a=1*this.equipment.multiplier;this.logService.createLog({message:`${t.name} (Strawberry) gave ${n.pet.name} +${a} attack and +${a} health${this.equipment.multiplierMessage}.`,type:"equipment",player:t.parent,randomEvent:n.random}),n.pet.increaseAttack(a),n.pet.increaseHealth(a)}}}},56613(O,S,i){i.d(S,{G:()=>E});var A=i(22097),c=i(5615);class E extends A.${name="Cherry";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t))}}class _ extends c.T{equipment;constructor(e,t){super({name:"CherryAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t}executeAbility(e){const t=this.owner;let n=this.equipment.multiplier;t.parent.gainTrumpets(2*n,t,!1,n,!0),t.removePerk(!0)}}},56616(O,S,i){i.d(S,{R:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Panda";tier=2;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PandaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=.5*this.level,g={attack:Math.floor(r.attack*d),health:Math.floor(r.health*d)},f=r.parent.nearestPetsAhead(1,r);if(f.pets.length>0){let D=f.pets[0];D.increaseAttack(g.attack),D.increaseHealth(g.health),this.logService.createLog({message:`${r.name} gave ${D.name} ${g.attack} attack and ${g.health} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:f.random})}r.health=0,this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},56658(O,S,i){i.d(S,{A:()=>_});var A=i(70563),c=i(43744);const _=function E(v,e,t){var n=e(v);return(0,c.A)(v)?n:(0,A.A)(n,t(v))}},56689(O,S,i){i.d(S,{A:()=>c});const c=function A(E,_){for(var v=-1,e=null==E?0:E.length,t=Array(e);++v<e;)t[v]=_(E[v],v,E);return t}},56692(O,S,i){i.d(S,{S:()=>t});var A=i(46200),c=i(5615),E=i(33127),_=i(26886),v=i(61850),e=i(1152);class t extends A.i{logService;abilityService;name="Lemur";tier=2;pack="Puppy";attack=3;health=4;initAbilities(){this.addAbility(new n(this,this.logService,this.abilityService)),super.initAbilities()}constructor(o,r,d,g,f,D,k,L,F){super(o,r,d),this.logService=o,this.abilityService=r,this.initPet(k,g,f,D,L,F)}}class n extends c.T{logService;abilityService;constructor(o,r,d){super({name:"LemurAbility",owner:o,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:o.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=r,this.abilityService=d}executeAbility(o){const r=this.owner,d=E.I.getInjector().get(_.w),g=Math.max(1,Math.min(3,this.level)),f=d.toys.get(g)??[];if(0===f.length)return void this.triggerTigerExecution(o);const D=f[(0,v.hw)(0,f.length-1)],k=d.createToy(D,r.parent,g);k?(r.parent.toy=k,r.parent.toy.used=!1,r.parent.toy.triggers=0,(0,e.rv)(this.logService,r,`${r.name} chose a level ${g} ${D} toy.`,o.tiger,o.pteranodon),this.triggerTigerExecution(o)):this.triggerTigerExecution(o)}copy(o){return new n(o,this.logService,this.abilityService)}}},56876(O,S,i){i.d(S,{p:()=>t});var A=i(46200),c=i(5615),E=i(33127),_=i(26886),v=i(61850),e=i(1152);class t extends A.i{logService;abilityService;name="Puppy";tier=4;pack="Puppy";attack=3;health=6;initAbilities(){this.addAbility(new n(this,this.logService,this.abilityService)),super.initAbilities()}constructor(o,r,d,g,f,D,k,L,F){super(o,r,d),this.logService=o,this.abilityService=r,this.initPet(k,g,f,D,L,F)}}class n extends c.T{logService;abilityService;constructor(o,r,d){super({name:"PuppyAbility",owner:o,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:o.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=r,this.abilityService=d}executeAbility(o){const r=this.owner,d=E.I.getInjector().get(_.w),g=Math.max(1,Math.min(3,this.level)),f=d.toys.get(g)??[];if(0===f.length)return void this.triggerTigerExecution(o);const D=f[(0,v.hw)(0,f.length-1)],k=d.createToy(D,r.parent,g);k?(r.parent.toy=k,r.parent.toy.used=!1,r.parent.toy.triggers=0,(0,e.rv)(this.logService,r,`${r.name} chose a level ${g} ${D} toy.`,o.tiger,o.pteranodon),this.triggerTigerExecution(o)):this.triggerTigerExecution(o)}copy(o){return new n(o,this.logService,this.abilityService)}}},56960(O,S,i){i.d(S,{Y:()=>_});var A=i(44402),c=i(46200),E=i(5615);class _ extends c.i{logService;abilityService;name="Brain Cramp";tier=3;pack="Unicorn";attack=1;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends E.T{logService;constructor(t,n){super({name:"BrainCrampAbility",owner:t,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:a=>null==this.owner.parent.pet0,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=2*this.level,D=d.parent.getThis(d).pet;if(null==D)return;this.logService.createLog({message:`${d.name} pushed ${D.name} to the front.`,type:"ability",player:d.parent,tiger:o,pteranodon:r}),d.parent.pushPetToFront(D,!0);let L=d.parent.getThis(d).pet;if(null==L)return;this.logService.createLog({message:`${d.name} gave ${L.name} Melon.`,type:"ability",player:d.parent,tiger:o,pteranodon:r}),L.givePetEquipment(new A.m);let J=d.parent.getThis(d).pet;null!=J&&(this.logService.createLog({message:`${d.name} gave ${J.name} ${g} attack.`,type:"ability",player:d.parent,tiger:o,pteranodon:r}),J.increaseAttack(g),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},56979(O,S,i){i.d(S,{E:()=>c});var A=i(22097);class c extends A.${name="Spooked";equipmentClass="ailment-defense";power=-1;originalPower=-1}},56990(O,S,i){var A;i.d(S,{T:()=>J});var c=i(61850),E=i(4230),_=i(52783),v=i(38129),e=i(13276),t=i(58857),n=i(83028),a=i(47868),o=i(24111),r=i(49230),d=i(1744),g=i(43681);const k=[1,2,3,4,5,6],F={Pack1:"Turtle",Pack2:"Puppy",Pack3:"Star",Pack4:"Golden",Pack5:"Unicorn",Danger:"Danger",Custom:"Custom",MiniPack1:"Custom",MiniPack2:"Custom",MiniPack3:"Custom"};let J=(()=>{class ne{logService;abilityService;gameService;petFactory;turtlePackPets=new Map;puppyPackPets=new Map;starPackPets=new Map;goldenPackPets=new Map;unicornPackPets=new Map;customPackPets=new Map;dangerPackPets=new Map;playerCustomPackPets=new Map;allPets=new Map;tokenPetsMap=new Map;basePackPetsByName;startOfBattlePets=[];faintPetsByTier=new Map;constructor($,q,ae,le){this.logService=$,this.abilityService=q,this.gameService=ae,this.petFactory=le,this.logService=(0,n.V)(this.logService),this.basePackPetsByName={Turtle:this.turtlePackPets,Puppy:this.puppyPackPets,Star:this.starPackPets,Golden:this.goldenPackPets,Unicorn:this.unicornPackPets,Danger:this.dangerPackPets,Custom:this.customPackPets}}buildCustomPackPets($){for(let q of $.controls){let ae=new Map;for(let le=1;le<=6;le++)ae.set(le,q.get(`tier${le}Pets`).value);this.playerCustomPackPets.set(q.get("name").value,ae)}}setCustomPackPools($=[]){this.playerCustomPackPets.clear();for(const q of $){const ae=`${q?.name??""}`.trim();if(!ae)continue;const le=new Map;for(const _e of k){const ye=`tier${_e}Pets`,Se=q?.[ye],Ce=this.normalizePetNameList(Se);le.set(_e,Ce)}this.playerCustomPackPets.set(ae,le)}}normalizePetNameList($){return Array.isArray($)?$.filter(q=>"string"==typeof q).map(q=>q.trim()).filter(q=>q.length>0):[]}isValidTier($){return Number.isFinite($)&&$>=1&&$<=6}getCustomPackTierPets($,q){return[...this.playerCustomPackPets.get($)?.get(q)||[]]}getBasePackTierPets($,q){return[...this.basePackPetsByName[$]?.get(q)||[]]}resolveBasePackName($){switch($){case"Turtle":case"Puppy":case"Star":case"Golden":case"Unicorn":case"Danger":return $;default:return null}}getRandomPetPoolByTier($,q){if($.allPets)return[...this.allPets.get(q)||[]];const ae=this.resolveBasePackName($.pack);return ae?this.getBasePackTierPets(ae,q):this.getCustomPackTierPets($.pack,q)}resetPackMaps(){const $=[this.turtlePackPets,this.puppyPackPets,this.starPackPets,this.goldenPackPets,this.unicornPackPets,this.dangerPackPets,this.customPackPets,this.tokenPetsMap];for(const q of $){q.clear();for(const ae of k)q.set(ae,[])}}getPetEntriesFromJson(){return(e??(A||(A=i.t(e,2)))??[]).filter(q=>!!q?.Name)}isPetRandom($){return!0===this.petDataMap.get($)?.Random}petDataMap=new Map;populatePackMaps($){for(const q of $){q.Name&&this.petDataMap.set(q.Name,q);const ae=Number(q.Tier);if(!this.isValidTier(ae))continue;const le=Array.isArray(q.Abilities)&&q.Abilities.length>0&&q.Abilities.every(ye=>"No ability."===ye?.About);if(!0!==q.Rollable||le)this.tokenPetsMap.get(ae)?.push(q.Name);else for(const ye of this.getPackNamesFromEntry(q)){const Ce=this.basePackPetsByName[ye]?.get(ae);Ce&&Ce.push(q.Name)}}for(const q of Object.values(this.basePackPetsByName))this.deduplicateTierMap(q);this.deduplicateTierMap(this.tokenPetsMap)}getPackNamesFromEntry($){const q=new Set,ae=new Set;Array.isArray($.Packs)&&$.Packs.forEach(ye=>{if(ye){const Se=ye.trim();q.add(Se),ae.add(Se)}}),!(ae.has("Custom")||ae.has("MiniPack1")||ae.has("MiniPack2")||ae.has("MiniPack3"))&&Array.isArray($.PacksRequired)&&$.PacksRequired.forEach(ye=>{ye&&q.add(ye.trim())});const _e=new Set;for(const ye of q){const Se=F[ye];Se&&_e.add(Se)}return Array.from(_e)}deduplicateTierMap($){for(const[q,ae]of $)$.set(q,[...new Set(ae)])}buildStartOfBattlePets($){const q=new Set;for(const ae of $)Array.isArray(ae.Abilities)&&ae.Abilities.some(le=>{const _e=le?.About;return"string"==typeof _e&&_e.toLowerCase().includes("start of battle")})&&q.add(ae.Name);return Array.from(q)}buildFaintPetsByTier($){const q=new Map;for(const ae of k)q.set(ae,[]);for(const ae of $){const le=Number(ae.Tier);!this.isValidTier(le)||!0!==ae.Rollable||!Array.isArray(ae.Abilities)||!ae.Abilities.some(ye=>{const Se=ye?.About;return"string"==typeof Se&&Se.includes("Faint:")})||q.get(le)?.push(ae.Name)}return this.deduplicateTierMap(q),q}init(){this.resetPackMaps();const $=this.getPetEntriesFromJson();this.populatePackMaps($),this.startOfBattlePets=this.buildStartOfBattlePets($),this.faintPetsByTier=this.buildFaintPetsByTier($),this.setAllPets()}setAllPets(){this.allPets=new Map;for(const $ of k)this.allPets.set($,[]);for(const $ of v.$){const q=this.basePackPetsByName[$];for(let[ae,le]of q)this.allPets.get(ae).push(...le)}for(let[$,q]of this.allPets)this.allPets.set($,[...new Set(q)])}createPet($,q){const ae=this.petFactory.createPetFromForm($,q,this,_.y);if(ae)return ae;const le=this.petFactory.resolveEquipmentFromForm($.equipment,$.equipmentUses);return new E.K(this.logService,this.abilityService,q,$.health,$.attack,$.mana,$.exp,le,$.triggersConsumed)}createDefaultVersionOfPet($,q=null,ae=null){return this.petFactory.createPet($,this,q,ae)}getRandomPet($){const q=k.map(Ce=>({id:`tier-${Ce}`,label:`Tier ${Ce}`}));let le=(0,t.k6)({key:"pet.random-tier",label:"Random pet tier",options:q},()=>(0,c.hw)(0,q.length-1)).index+1,_e=this.getRandomPetPoolByTier($,le);if($.allPets&&$.tokenPets){const Ce=this.tokenPetsMap.get(le)||[];_e.push(...Ce),_e=[...new Set(_e)]}(!_e||0===_e.length)&&(_e=["Ant"]);const ye=(0,t.k6)({key:"pet.random-pool",label:`Random pet from tier ${le}`,options:_e.map(Ce=>({id:Ce,label:Ce}))},()=>(0,c.hw)(0,_e.length-1));let Se=_e[ye.index];return this.createPet({attack:null,equipment:null,exp:(0,c.hw)(0,5),health:null,name:Se,mana:null},$)}getRandomFaintPet($,q,ae=[],le){this.faintPetsByTier?.size||(this.faintPetsByTier=this.buildFaintPetsByTier(this.getPetEntriesFromJson()));let _e=[];_e=q&&this.faintPetsByTier.get(q)?this.faintPetsByTier.get(q)??[]:Array.from(this.faintPetsByTier.values()).flat();const ye=new Set(ae.map(xe=>xe?.toLowerCase()));let Ce=_e.filter(xe=>!ye.has(xe.toLowerCase()));if(!Ce.length&&q){const xe=Array.from(this.faintPetsByTier.values()).flat().filter(Ue=>!ye.has(Ue.toLowerCase()));xe.length&&(Ce=xe)}Ce.length||(Ce=_e);const de=(0,t.k6)({key:"pet.random-faint-pet",label:`${this.describeRandomFaintPetOwner($,le)} -> Random faint pet summon`,options:Ce.map(xe=>({id:xe,label:xe}))},()=>(0,c.hw)(0,Ce.length-1));return this.createPet({name:Ce[de.index],attack:null,equipment:null,exp:0,health:null,mana:null},$)}describeRandomFaintPetOwner($,q){const ae=$?.isOpponent?"opponent team":"player team";return q?`${q.parent?.isOpponent?"O":"P"}${Number.isFinite(q.savedPosition)?q.savedPosition+1:0} ${q.name} (owner: ${ae})`:ae}static \u0275fac=function(q){return new(q||ne)(a.KVO(o.K),a.KVO(r.K),a.KVO(d.w),a.KVO(g.h))};static \u0275prov=a.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"})}return ne})()},57033(O,S,i){i.d(S,{$K:()=>q,$j:()=>ye,_9:()=>Ce,d4:()=>Se,ml:()=>ae});var A=i(33446),c=i(96767);const E="abomParrotSwallowed",_="SAPC1:",v={playerPack:"Turtle",opponentPack:"Turtle",playerToy:null,playerToyLevel:1,playerHardToy:null,playerHardToyLevel:1,opponentToy:null,opponentToyLevel:1,opponentHardToy:null,opponentHardToyLevel:1,turn:11,playerGoldSpent:10,opponentGoldSpent:10,playerRollAmount:4,opponentRollAmount:4,playerSummonedAmount:0,opponentSummonedAmount:0,playerTransformationAmount:0,opponentTransformationAmount:0,playerLevel3Sold:0,opponentLevel3Sold:0,playerPets:[null,null,null,null,null],opponentPets:[null,null,null,null,null],allPets:!1,logFilter:null,customPacks:[],oldStork:!1,tokenPets:!0,komodoShuffle:!1,mana:!1,seed:null,triggersConsumed:!1,showAdvanced:!1,showTriggerNamesInLogs:!1,showPositionalArgsInLogs:!0,ailmentEquipment:!1,changeEquipmentUses:!1,logsEnabled:!0,simulations:100};function e(de){return"object"==typeof de&&null!==de}function t(de,Te){if(Array.isArray(de)&&Array.isArray(Te)){if(de.length!==Te.length)return!1;for(let xe=0;xe<de.length;xe++)if(!t(de[xe],Te[xe]))return!1;return!0}return de===Te}function a(de){if(Array.isArray(de))return de.map(Te=>a(Te));if(e(de)){const Te={};for(const xe of Object.keys(de))Te[c.H[xe]||xe]=a(de[xe]);return Te}return de}function o(de){if(Array.isArray(de))return de.map(Te=>o(Te));if(e(de)){const Te={};for(const xe of Object.keys(de))Te[c.g[xe]||xe]=o(de[xe]);return Te}return de}function g(de,Te){if(!e(de))return;const Ne=[...Array.isArray(de.playerPets)?de.playerPets:[],...Array.isArray(de.opponentPets)?de.opponentPets:[]];for(const ct of Ne)e(ct)&&Te(ct)}function f(de){return!de||null==de[0]&&null==de[1]&&null==de[2]&&null==de[3]}function D(de){if(!de)return!0;const Te=Array.isArray(de[6])?de[6]:[];return null==de[0]&&null==de[1]&&null==de[2]&&null==de[3]&&null==de[4]&&null==de[5]&&Te.every(xe=>f(xe))}function k(de){let Te=de.length;for(;Te>0&&f(de[Te-1]);)Te-=1;return Te===de.length?de:de.slice(0,Te)}function F(de){if(Array.isArray(de[E]))return;const Te=[];for(let Ue=1;Ue<=3;Ue++){const Ne=`parrotCopyPetAbominationSwallowedPet${Ue}`,ct=[];for(let Ke=1;Ke<=3;Ke++){const qe=`${Ne}ParrotCopyPetAbominationSwallowedPet${Ke}`;ct.push([de[qe]??null,de[`${qe}BelugaSwallowedPet`]??null,de[`${qe}Level`]??null,de[`${qe}TimesHurt`]??null]),delete de[qe],delete de[`${qe}BelugaSwallowedPet`],delete de[`${qe}Level`],delete de[`${qe}TimesHurt`]}const Je=k(ct);Te.push([de[Ne]??null,de[`${Ne}BelugaSwallowedPet`]??null,de[`${Ne}Level`]??null,de[`${Ne}TimesHurt`]??null,de[`${Ne}ParrotCopyPet`]??null,de[`${Ne}ParrotCopyPetBelugaSwallowedPet`]??null,Je]),delete de[Ne],delete de[`${Ne}BelugaSwallowedPet`],delete de[`${Ne}Level`],delete de[`${Ne}TimesHurt`],delete de[`${Ne}ParrotCopyPet`],delete de[`${Ne}ParrotCopyPetBelugaSwallowedPet`]}const xe=function L(de){let Te=de.length;for(;Te>0&&D(de[Te-1]);)Te-=1;return Te===de.length?de:de.slice(0,Te)}(Te);xe.length>0&&(de[E]=xe)}function J(de){if(!e(de))return null;const Te=de.name;if("string"!=typeof Te||0===Te.trim().length)return null;if(delete de.parent,delete de.logService,delete de.abilityService,delete de.gameService,delete de.petService,de.equipment){const xe="string"==typeof de.equipment?de.equipment:e(de.equipment)&&"string"==typeof de.equipment.name?de.equipment.name:null;de.equipment=xe?{name:xe}:null}for(const xe of Object.keys(de)){if("name"===xe)continue;const Ue=de[xe];(null==Ue||!1===Ue||""===Ue||"number"==typeof Ue&&0===Ue||xe.endsWith("Level")&&1===Ue||Array.isArray(Ue)&&0===Ue.length)&&delete de[xe]}return de}function ne(de){if(!e(de))return null;const Te=de.name;if("string"!=typeof Te||0===Te.trim().length)return null;if(delete de.parent,delete de.logService,delete de.abilityService,delete de.gameService,delete de.petService,de.equipment){const xe="string"==typeof de.equipment?de.equipment:e(de.equipment)&&"string"==typeof de.equipment.name?de.equipment.name:null;de.equipment=xe?{name:xe}:null}return de}function H(de){const Te=de[E];if(Array.isArray(Te)){for(let xe=1;xe<=3;xe++){const Ue=`parrotCopyPetAbominationSwallowedPet${xe}`,Ne=Te[xe-1];if(!Ne)continue;const[ct,Je,Ke,qe,mt,pt,it]=Ne;if(de[Ue]=ct??null,de[`${Ue}BelugaSwallowedPet`]=Je??null,de[`${Ue}Level`]=Ke??null,de[`${Ue}TimesHurt`]=qe??null,de[`${Ue}ParrotCopyPet`]=mt??null,de[`${Ue}ParrotCopyPetBelugaSwallowedPet`]=pt??null,Array.isArray(it))for(let Dt=1;Dt<=3;Dt++){const ut=`${Ue}ParrotCopyPetAbominationSwallowedPet${Dt}`,yt=it[Dt-1];if(!yt)continue;const[rt,He,kt,Xt]=yt;de[ut]=rt??null,de[`${ut}BelugaSwallowedPet`]=He??null,de[`${ut}Level`]=kt??null,de[`${ut}TimesHurt`]=Xt??null}}delete de[E]}}function q(de){return e(de)&&g(de,H),de}function ae(de,Te,xe){return JSON.stringify({playerWins:de,opponentWins:Te,draws:xe},null)}function le(de){const Te=(0,A.A)(de),xe=Array.isArray(Te.playerPets)?Te.playerPets:[],Ue=Array.isArray(Te.opponentPets)?Te.opponentPets:[];Te.playerPets=xe.map(Ke=>J(Ke)),Te.opponentPets=Ue.map(Ke=>J(Ke)),function n(de){for(const Te of Object.keys(v))Te in de&&t(de[Te],v[Te])&&delete de[Te]}(Te);const Ne=function $(de){const Te=(0,A.A)(de);return g(Te,F),Te}(Te),ct=a(Ne),Je=JSON.stringify(ct);return`${_}${function r(de){const Te=(new TextEncoder).encode(de);let xe="";for(let Ne=0;Ne<Te.length;Ne+=32768)xe+=String.fromCharCode(...Te.subarray(Ne,Ne+32768));return btoa(xe).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/g,"")}(Je)}`}function ye(de,Te="compressed"){return"legacyJson"===Te?function _e(de){const Te=(0,A.A)(de),xe=Array.isArray(Te.playerPets)?Te.playerPets:[],Ue=Array.isArray(Te.opponentPets)?Te.opponentPets:[];return Te.playerPets=xe.map(Ne=>ne(Ne)),Te.opponentPets=Ue.map(Ne=>ne(Ne)),JSON.stringify(Te,null,2)}(de.value):le(de.value)}function Se(de){const Te=de.trim();if(!Te)throw new Error("Import payload is empty.");if(Te.startsWith(_)){const Ue=Te.slice(6),Ne=JSON.parse(function d(de){const Te=de.replace(/-/g,"+").replace(/_/g,"/"),Ue=`${Te}${"=".repeat((4-Te.length%4)%4)}`,Ne=atob(Ue),ct=Uint8Array.from(Ne,Je=>Je.charCodeAt(0));return(new TextDecoder).decode(ct)}(Ue));return o(Ne)}const xe=JSON.parse(Te);return"object"==typeof xe&&null!==xe||Array.isArray(xe)?o(xe):xe}function Ce(de,Te){return`${Te}#c=${le(de.value).slice(6)}`}},57130(O,S,i){i.d(S,{q:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Gerenuk";tier=3;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Gerenuk Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=a.parent.opponent;let r=this.level;for(;r>0;){const d=this.getHighestTierPerkPet(o);if(!d)break;const g=d.equipment?.name??"perk";d.removePerk(!0),this.logService.createLog({message:`${a.name} removed ${d.name}'s ${g}.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),r--}this.triggerTigerExecution(e)}getHighestTierPerkPet(e){const t=e.petArray.filter(o=>o.alive&&o.equipment&&!this.isAilmentEquipment(o.equipment));if(0===t.length)return null;let n=Math.max(...t.map(o=>o.equipment?.tier??0));return t.filter(o=>(o.equipment?.tier??0)===n).sort((o,r)=>o.position-r.position)[0]??null}isAilmentEquipment(e){return"ailment-attack"===e.equipmentClass||"ailment-defense"===e.equipmentClass||"ailment-other"===e.equipmentClass}copy(e){return new _(e,this.logService)}}},57235(O,S,i){i.d(S,{K:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Golden Retriever";tier=1;pack="Golden";hidden=!0;health=1;attack=1;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},57252(O,S,i){i.d(S,{_:()=>c});var A=i(50873);class c extends A.L{name="Paper Shredder";tier=1;friendSummoned(_,v,e,t){v&&(v.health=0,this.logService.createLog({message:`${this.name} knocked out ${v.name}.`,type:"ability",player:this.parent,puma:e}))}}},57356(O,S,i){i.d(S,{g:()=>_});var A=i(46200),c=i(5615),E=i(61850);class _ extends A.i{logService;abilityService;name="Thorny Dragon";tier=2;pack="Custom";attack=3;health=3;hasRandomEvents=!0;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Thorny Dragon Ability",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner,r=3*this.level,d=o.parent.opponent.petArray.filter(L=>L.alive);if(0===d.length)return;const g=d.filter(L=>!!L.equipment&&("ailment-attack"===L.equipment.equipmentClass||"ailment-defense"===L.equipment.equipmentClass||"ailment-other"===L.equipment.equipmentClass)),f=g.length>0?g:d,D=f.length>1,k=f[(0,E.hw)(0,f.length-1)];k&&(o.snipePet(k,r,D,n,a),this.logService.createLog({message:`${o.name} fainted and dealt ${r} damage to ${k.name} (prioritizing ailments).`,type:"ability",player:o.parent,tiger:n,pteranodon:a,randomEvent:D})),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},57372(O,S,i){i.d(S,{A:()=>v});var A=i(56658),c=i(28114),E=i(64238);const v=function _(e){return(0,A.A)(e,E.A,c.A)}},57455(O,S,i){i.d(S,{T:()=>_});var A=i(46200),c=i(5615),E=i(86785);class _ extends A.i{logService;abilityService;name="Hooded Seal";tier=6;pack="Custom";attack=4;health=9;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;usesThisTurn=0;constructor(t,n){super({name:"Hooded Seal Ability",owner:t,triggers:["FriendTransformed","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){if("StartTurn"===t.trigger)return void(this.usesThisTurn=0);if(this.usesThisTurn>=2)return void this.triggerTigerExecution(t);const n=t.triggerPet;if(!n)return void this.triggerTigerExecution(t);this.usesThisTurn++;const a=(0,E.T)(this.level);n.exp=Math.min(n.exp,a),n.resetAbilityUses(),this.logService.createLog({message:`${this.owner.name} capped ${n.name} to level ${this.level}.`,type:"ability",player:this.owner.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},57483(O,S,i){i.d(S,{_:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Amphisbaena";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"AmphisbaenaAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:a}=e,o=this.owner;let r=o.parent.nearestPetsAhead(1,o);if(0===r.pets.length)return;let d=r.pets[0];(t?.turnNumber??1)%2==1?(d.increaseAttack(this.level),this.logService.createLog({message:`${o.name} gave ${d.name} ${this.level} attack.`,type:"ability",player:o.parent,tiger:n,pteranodon:a,randomEvent:r.random})):(d.increaseHealth(this.level),this.logService.createLog({message:`${o.name} gave ${d.name} ${this.level} health.`,type:"ability",player:o.parent,tiger:n,pteranodon:a,randomEvent:r.random})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},57488(O,S,i){function A(c,E){return c.player===E?c.opponent:c.player}i.d(S,{a:()=>A})},57511(O,S,i){i.d(S,{V:()=>v});var A=i(46200),c=i(5615),E=i(23638),_=i(1152);class v extends A.i{logService;abilityService;name="Alpaca";tier=6;pack="Star";attack=3;health=7;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;reset(){this.maxUses=this.level,super.reset()}constructor(n,a){super({name:"AlpacaAbility",owner:n,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:n.level,condition:o=>{const{triggerPet:r}=o;return r&&!(r instanceof v)},abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const{triggerPet:o}=n,g=this.owner,f=(0,_.Uj)(g,o);f.pet&&((0,E.Oe)({logService:this.logService,owner:g,context:n,target:f.pet,amount:3,extras:{randomEvent:f.random}}),this.triggerTigerExecution(n))}copy(n){return new e(n,this.logService)}}},57598(O,S,i){i.d(S,{h:()=>_});var A=i(22097),c=i(5615),E=i(25479);class _ extends A.${logService;abilityService;name="Gros Michel Banana";equipmentClass="beforeAttack";callback=t=>{t.addAbility(new v(t,this,this.logService,this.abilityService))};constructor(t,n){super(),this.logService=t,this.abilityService=n}}class v extends c.T{equipment;logService;abilityService;constructor(t,n,a,o){super({name:"GrosMichelBananaAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=n,this.logService=a,this.abilityService=o}executeAbility(t){const a=this.owner;for(let o=0;o<this.equipment.multiplier;o++){let r=new E.w(this.logService,this.abilityService,a.parent,a.health,a.attack,a.mana,a.exp);this.logService.createLog({message:`${a.name} transformed into ${r.name} (Gros Michel Banana)${o>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:a.parent}),a.parent.transformPet(a,r)}}}},57616(O,S,i){i.d(S,{O:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Maltese";tier=5;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Maltese Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=t.parent,a=n.trumpets;a>0&&n.spendTrumpets(a,t,e.pteranodon);const o=n.petArray.filter(D=>D.alive&&D!==t);if(0===o.length||a<=0)return void this.triggerTigerExecution(e);const d=a*(this.level+1),g=Math.floor(d/o.length);let f=d%o.length;for(const D of o){const k=g+(f>0?1:0);k>0&&D.increaseMana(k),f=Math.max(0,f-1)}this.logService.createLog({message:`${t.name} converted ${a} trumpets into ${d} mana and spread it to friends.`,type:"ability",player:n,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},57690(O,S,i){i.d(S,{A:()=>_});var A=Math.floor,c=Math.random;const _=function E(v,e){return v+A(c()*(e-v+1))}},57788(O,S,i){i.d(S,{r:()=>_});var A=i(46200),c=i(5615),E=i(58068);class _ extends A.i{logService;abilityService;name="Lizard";tier=2;pack="Golden";attack=1;health=3;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"LizardAbility",owner:t,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=new E.n(this.logService,this.abilityService,d.parent,null,null,0,d.minExpForLevel),f=d.parent.summonPetInFront(d,g);f.success&&this.logService.createLog({message:`${d.name} spawned Lizard Tail Level ${d.level}`,type:"ability",player:d.parent,tiger:o,randomEvent:f.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},57850(O,S,i){i.d(S,{A:()=>_e});var A=i(75152),c=i(80618),E=i(58438),_=i(85267),v=i(44314);const _e=function le(ye,Se,Ce){var de=ye.constructor;switch(Se){case"[object ArrayBuffer]":return(0,A.A)(ye);case"[object Boolean]":case"[object Date]":return new de(+ye);case"[object DataView]":return(0,c.A)(ye,Ce);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,v.A)(ye,Ce);case"[object Map]":case"[object Set]":return new de;case"[object Number]":case"[object String]":return new de(ye);case"[object RegExp]":return(0,E.A)(ye);case"[object Symbol]":return(0,_.A)(ye)}}},57862(O,S,i){i.d(S,{b:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Tabby Cat";tier=2;pack="Puppy";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TabbyCatAbility",owner:e,triggers:["FriendlyGainsPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getRandomPets(2,[r],!0,!1,r);if(0!=d.pets.length){for(let g of d.pets)null!=g&&(this.logService.createLog({message:`${r.name} increased ${g.name}'s health by ${this.level}.`,type:"ability",player:r.parent,randomEvent:d.random,tiger:a}),g.increaseHealth(this.level));this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},57967(O,S,i){i.d(S,{G:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Bird of Paradise";tier=6;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=3;constructor(e,t,n){super({name:"BirdOfParadiseAbility",owner:e,triggers:["SpendGold7","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const t=this.owner,n=t.parent.getRandomPets(3,[t]),a=n.pets;if(0===a.length)return void this.triggerTigerExecution(e);const o=this.level;for(const r of a)r.increaseAttack(o),r.increaseHealth(o);this.usesThisTurn++,this.logService.createLog({message:`${t.name} gave ${a.map(r=>r.name).join(", ")} +${o}/+${o}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},58068(O,S,i){i.d(S,{n:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Lizard Tail";tier=1;pack="Golden";hidden=!0;attack=3;health=1;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},58069(O,S,i){i.d(S,{u:()=>v});var A=i(46200),c=i(5615),E=i(56979),_=i(1152);class v extends A.i{logService;abilityService;name="Peacock Spider";tier=1;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"PeacockSpiderAbility",owner:n,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const{tiger:a,pteranodon:o}=n,r=this.owner,d=(0,_.MZ)(r);if(0!==d.length){for(const g of d){if(!(0,_.zo)(g,"Spooked"))continue;const f=new E.E;f.power=-this.level,f.originalPower=f.power,g.givePetEquipment(f),(0,_.rv)(this.logService,r,`${r.name} gave ${g.name} Spooked.`,a,o)}this.triggerTigerExecution(n)}}copy(n){return new e(n,this.logService)}}},58151(O,S,i){i.d(S,{k:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Griffin";tier=3;pack="Unicorn";attack=5;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"GriffinAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} chose a level ${this.level} toy from Griffin's collection.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},58212(O,S,i){i.d(S,{M:()=>A,U:()=>c});const A={Turtle:["Cake","Chili","Coconut","Garlic","Honey","Meat Bone","Melon","Mushroom","Peanut","Steak"],Puppy:["Blackberry","Croissant","Egg","Eucalyptus","Lemon","Lime","Mild Chili","Pancakes","Pie","Rice","Salt","Skewer","Squash","Walnut"],Star:["Baguette","Caramel","Carrot","Cheese","Cucumber","Grapes","Pepper","Popcorn","Seaweed","Strawberry"],Golden:["Banana","Bok Choy","Cherry","Chocolate Cake","Durian","Eggplant","Fig","Honeydew Melon","Maple Syrup","Onion","Pita Bread","Potato","Tomato"],Unicorn:["Ambrosia","Easter Egg","Faint Bread","Fairy Dust","Gingerbread Man","Golden Egg","Health Potion","Love Potion","Magic Beans","Rambutan","Yggdrasil Fruit"],Danger:["Cocoa Bean","Cod Roe","Gros Michel Banana","Sudduth Tomato","White Okra","White Truffle"],Custom:["Blueberry","Brussels Sprout","Cashew Nut","Cauliflower","Churros","Donut","Fortune Cookie","Guava","Kiwano","Kiwifruit","Macaron","Melon Slice","Nachos","Oyster Mushroom","Pineapple","Radish","Sardinian Currant","Sausage","Unagi"],Hidden:["Cake Slice","Peanut Butter"]},c={Ailments:["Bloated","Cold","Confused","Crisp","Cursed","Dazed","Icky","Inked","Sad","Silly","Sleepy","Spooked","Tasty","Toasty","Weak","Webbed"]}},58238(O,S,i){i.d(S,{Z:()=>e});var A=i(46200),c=i(5615),E=i(90966),_=i(33127),v=i(61850);class e extends A.i{logService;abilityService;name="Silkie Chicken";tier=3;pack="Custom";attack=2;health=6;initAbilities(){this.addAbility(new t(this,this.logService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{logService;constructor(a,o){super({name:"Silkie Chicken Ability",owner:a,triggers:["FriendGainsAilment"],abilityType:"Pet",native:!0,maxUses:2,abilitylevel:a.level,precondition:r=>{const d=r.triggerPet;return!!d&&d.alive},abilityFunction:r=>this.executeAbility(r)}),this.logService=o}executeAbility(a){const{tiger:o,pteranodon:r,triggerPet:d}=a,g=this.owner,f=d;if(!f)return;const k=_.I.getInjector().get(E.m).getUsefulPerksByTier(1);if(0===k.length)return;const F=k[(0,v.hw)(0,k.length-1)];f.givePetEquipment(F),this.logService.createLog({message:`${g.name} gave ${f.name} the ${F.name} perk.`,type:"ability",player:g.parent,tiger:o,pteranodon:r}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService)}}},58253(O,S,i){function A(c){setTimeout(()=>{throw c},0)}i.d(S,{T:()=>A})},58438(O,S,i){i.d(S,{A:()=>E});var A=/\w*$/;const E=function c(_){var v=new _.constructor(_.source,A.exec(_));return v.lastIndex=_.lastIndex,v}},58728(O,S,i){i.d(S,{p:()=>c});var A=i(70762);function c(v,e){return function(n){return n.lift(new E(v,e))}}class E{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new _(e,this.predicate,this.thisArg))}}class _ extends A.v{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}},58789(O,S,i){i.d(S,{f:()=>e});var A=i(46200),c=i(5615),E=i(33127),_=i(56990),v=i(38129);class e extends A.i{logService;abilityService;name="Dugong";tier=3;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new t(this,this.logService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{logService;constructor(a,o){super({name:"Dugong Ability",owner:a,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=o}executeAbility(a){const{tiger:o,pteranodon:r}=a,d=this.owner,g=2*this.level,f=2*this.level,D=E.I.getInjector().get(_.T),k=d.parent.pack,L=d.parent.petArray.filter(F=>F.alive&&F!==d&&!this.isPetInActivePack(F,k,D));for(const F of L)F.increaseAttack(g),F.increaseHealth(f);L.length>0&&this.logService.createLog({message:`${d.name} gave +${g}/+${f} to pets outside ${k}.`,type:"ability",player:d.parent,tiger:o,pteranodon:r}),this.triggerTigerExecution(a)}isPetInActivePack(a,o,r){if(!r)return a.pack===o;if(v.$.includes(o))return(r.basePackPetsByName[o]?.get(a.tier)??[]).includes(a.name);const d=r.playerCustomPackPets.get(o);return d?d.get(a.tier)?.includes(a.name)??!1:a.pack===o}copy(a){return new t(a,this.logService)}}},58857(O,S,i){function A(t,n){return`${t}::${n}`}i.d(S,{Ys:()=>_,k6:()=>e,xe:()=>v});let c=null;function E(t,n){const a=(t??"").trim();return a.length>0?a:`option-${n+1}`}function _(t){const n=new Map,a=new Map;for(const o of t?.overrides??[]){if(!o||!Number.isFinite(o.index))continue;const r=Math.trunc(o.index);if(r<0)continue;const d=`${o.optionId??""}`.trim();if(!d)continue;const g=`${o.key??""}`.trim(),f=`${o.label??""}`.trim();g&&f&&a.set(A(g,f),d),n.set(r,d)}c={capture:!!t?.capture,strictValidation:!1!==t?.strictValidation,overridesByIndex:n,overridesByFingerprint:a,decisions:[],invalidOverrideError:null}}function v(){const t={decisions:c?.decisions??[],invalidOverrideError:c?.invalidOverrideError??null};return c=null,t}function e(t,n){const a=t.options.map((F,J)=>({id:E(F?.id,J),label:F?.label??F?.id??`Option ${J+1}`}));if(0===a.length)return{index:-1,randomEvent:!1,forced:!1};if(1===a.length)return{index:0,randomEvent:!1,forced:!1};const o=c,d=!!o&&(o.capture||o.overridesByIndex.size>0||o.overridesByFingerprint.size>0),g=o?.decisions.length??-1,f=A(t.key,t.label),D=o&&g>=0?o.overridesByFingerprint.get(f)??o.overridesByIndex.get(g)??null:null;let k=n(),L=!1;if(D){const F=a.findIndex(J=>J.id===D);if(F>=0)k=F,L=!0;else if(o&&o.strictValidation){const J=`Random override invalid at step ${g+1}: "${D}" not found for ${t.label}.`;throw o.invalidOverrideError=J,new Error(J)}}return(k<0||k>=a.length)&&(k=Math.max(0,Math.min(a.length-1,k))),d&&o&&o.decisions.push({index:g,key:t.key,label:t.label,options:a,selectedOptionId:a[k]?.id??null,forced:L}),{index:k,randomEvent:!0,forced:L}}},58880(O,S,i){i.d(S,{w:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Goose";tier=1;pack="Golden";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"GooseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.opponent.getFurthestUpPet(r),g=d.pet;if(null==g)return;let f=this.level;g.increaseAttack(-this.level),this.logService.createLog({message:`${r.name} removed ${f} attack from ${g.name}.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},59303(O,S,i){i.d(S,{c:()=>_});var A=i(46200),c=i(5615),E=i(51838);class _ extends A.i{logService;abilityService;name="Therizinosaurus";tier=6;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"TherizinosaurusAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.getPetsWithoutEquipment("Strawberry"),f=d.parent.getFurthestUpPets(this.level,g,d),D=f.pets;for(let k of D)k.givePetEquipment(new E.K),this.logService.createLog({message:`${d.name} gave ${k.name} Coconut.`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:f.random});this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},59320(O,S,i){i.d(S,{A:()=>t});var A=i(71387),c=i(42495),E=i(11374),_=i(75738),v=i(38818);function e(n){var a=-1,o=null==n?0:n.length;for(this.clear();++a<o;){var r=n[a];this.set(r[0],r[1])}}e.prototype.clear=A.A,e.prototype.delete=c.A,e.prototype.get=E.A,e.prototype.has=_.A,e.prototype.set=v.A;const t=e},59370(O,S,i){i.d(S,{R6:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;petService;name="Pelican";tier=5;pack="Star";attack=5;health=5;initAbilities(){this.addAbility(new v(this,this.logService,this.petService)),this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D,k){super(t,n,o),this.logService=t,this.abilityService=n,this.petService=a,this.initPet(f,r,d,g,D,k)}}class _ extends c.T{logService;abilityService;constructor(t,n,a){super({name:"PelicanFaintAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)},ignoreRepeats:!0}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;for(;d.swallowedPets.length>0;){let g=d.swallowedPets.shift(),f=d.parent.summonPet(g,d.savedPosition,!1,d);f.success&&this.logService.createLog({message:`${d.name} summoned ${g.name} (level ${g.level}).`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:f.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new _(t,this.logService,this.abilityService)}}class v extends c.T{logService;petService;constructor(t,n,a){super({name:"PelicanStartAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.petService=a}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.getPetsWithoutEquipment("Strawberry"),f=d.parent.nearestPetsAhead(this.level,d,g),D=f.pets;if(0!=D.length){for(let k of D){let L=this.petService.createPet({name:"Salmon",attack:k.attack,health:k.health,exp:k.exp,equipment:null,mana:0},d.parent);d.swallowedPets.push(L),k.health=0,this.logService.createLog({message:`${d.name} swallowed ${k.name}`,type:"ability",player:d.parent,tiger:o,randomEvent:f.random})}this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService,this.petService)}}},59374(O,S,i){i.d(S,{x:()=>c});var A=i(22097);class c extends A.${name="Dazed";equipmentClass="ailment-other"}},59561(O,S,i){i.d(S,{Q:()=>E});var A=i(22097),c=i(5615);class E extends A.${logService;name="Durian";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"DurianAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;let n=this.equipment.multiplier;for(let a=0;a<n;a++){let o=t.parent.opponent.getHighestHealthPet(),r=o.pet;if(null==r)continue;let d=.33,g=Math.max(1,Math.floor(r.health*(1-d)));r.health=g,this.logService.createLog({message:`${this.equipment.name} reduced ${r.name} health by ${100*d}% to ${g}${a>0?this.equipment.multiplierMessage:""}`,type:"ability",player:t.parent,randomEvent:o.random})}t.removePerk()}}},59644(O,S,i){i.d(S,{R:()=>_});var A=i(46200),c=i(5615),E=i(2375);class _ extends A.i{logService;abilityService;name="Walrus";tier=6;pack="Custom";attack=7;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"WalrusAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner,r=o.parent.getRandomPets(this.level,[o],!1,!1,o),d=r.pets;if(0===d.length)return void this.triggerTigerExecution(t);const g=[];for(const f of d)f.givePetEquipment(new E._),g.push(f.name);this.logService.createLog({message:`${o.name} gave Peanut Butter to ${g.join(", ")} on faint.`,type:"ability",player:o.parent,tiger:n,pteranodon:a,randomEvent:r.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},59659(O,S,i){i.d(S,{W:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Kitsune";tier=5;pack="Unicorn";attack=2;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"KitsuneAbility",owner:e,triggers:["FriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner,d=r.petAhead;if(!d||!d.alive)return;let g=0;const f=r.parent.petArray.filter(D=>D.mana>0&&D!==r&&D!==d);for(let D of f){const k=D.mana;g+=k,D.mana=0,this.logService.createLog({message:`${r.name} took ${k} mana from ${D.name}.`,type:"ability",player:r.parent,tiger:a})}this.logService.createLog({message:`${r.name} gave ${d.name} +${g+2*r.level} mana.`,type:"ability",player:r.parent,tiger:a}),d.increaseMana(g+2*r.level),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},59713(O,S,i){i.d(S,{i:()=>_});var A=i(46200),c=i(5615),E=i(56979);class _ extends A.i{logService;abilityService;name="Kakapo";tier=4;pack="Danger";attack=4;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"KakapoAbility",owner:t,triggers:["ThisFirstAttack"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2,condition:a=>this.owner.timesAttacked<=1,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner,g=d.parent.opponent.getHighestAttackPets(this.level,void 0,d),f=[...g.pets].sort((D,k)=>D.attack-k.attack);for(let D of f)D.givePetEquipment(new E.E),this.logService.createLog({message:`${d.name} gave ${D.name} Spooked.`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random});for(let D of f)D.parent.pushPetToBack(D),this.logService.createLog({message:`${d.name} pushed ${D.name} to the back.`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random});this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},59879(O,S,i){i.d(S,{A:()=>_});var A=i(46200),c=i(5615),E=i(61850);class _ extends A.i{logService;abilityService;name="Siberian Husky";tier=5;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Siberian Husky Ability",owner:t,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const n=this.owner,a=this.level,o=n.parent.petArray.filter(d=>!(!d||d===n||!d.alive||null!=d.equipment&&"shop"===d.equipment.equipmentClass));if(0===o.length)return void this.triggerTigerExecution(t);(0,E.k4)(o);const r=o.slice(0,3);for(const d of r)d.increaseAttack(a),d.increaseHealth(a);this.logService.createLog({message:`${n.name} gave ${r.map(d=>d.name).join(", ")} +${a}/+${a}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},59951(O,S,i){i.d(S,{y:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;petService;name="Takhi";tier=2;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,o,r,d,f,D)}}class _ extends c.T{logService;abilityService;petService;constructor(e,t,n,a){super({name:"TakhiAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=t,this.abilityService=n,this.petService=a}executeAbility(e){const{gameApi:t,tiger:a,pteranodon:o}=e,r=this.owner;let f=this.petService.createPet({name:"African Wild Dog",attack:3*this.level,health:2*this.level,exp:0,mana:0,equipment:null},r.parent);if(f){let D=r.parent.summonPet(f,r.savedPosition,!1,r);D.success&&(this.logService.createLog({message:`${r.name} summoned a ${f.attack}/${f.health} ${f.name}`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:D.randomEvent}),f.activateAbilities("StartBattle",t,"Pet"))}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService,this.petService)}}},59975(O,S,i){i.d(S,{A:()=>_});var A=i(99898),c=i(28114);const _=function E(v,e){return(0,A.A)(v,(0,c.A)(v),e)}},60135(O,S,i){i.d(S,{i:()=>r});var A=i(84385),c=i(58253),_=i(37765),e=i(45722),n=i(25253),a=i(15998),o=i(61456);const r=d=>{if(d&&"function"==typeof d[e.s])return(d=>g=>{const f=d[e.s]();if("function"!=typeof f.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return f.subscribe(g)})(d);if((0,n.X)(d))return(0,A.v)(d);if((0,a.y)(d))return(d=>g=>(d.then(f=>{g.closed||(g.next(f),g.complete())},f=>g.error(f)).then(null,c.T),g))(d);if(d&&"function"==typeof d[_.lJ])return(d=>g=>{const f=d[_.lJ]();for(;;){let D;try{D=f.next()}catch(k){return g.error(k),g}if(D.done){g.complete();break}if(g.next(D.value),g.closed)break}return"function"==typeof f.return&&g.add(()=>{f.return&&f.return()}),g})(d);{const f=`You provided ${(0,o.G)(d)?"an invalid object":`'${d}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(f)}}},60190(O,S,i){i.d(S,{o:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Squirrel";tier=4;pack="Turtle";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SquirrelAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} discounted all shop food by ${this.level} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},60309(O,S,i){i.d(S,{A:()=>c});const c=function A(E){var _=typeof E;return"string"==_||"number"==_||"symbol"==_||"boolean"==_?"__proto__"!==E:null===E}},60385(O,S,i){i.d(S,{f:()=>c});var A=i(22097);class c extends A.${name="White Okra";tier=6;equipmentClass="shield";power=10;originalPower=10;uses=2;originalUses=2}},60397(O,S,i){i.d(S,{f:()=>_});var A=i(46200),c=i(5615),E=i(6550);class _ extends A.i{logService;abilityService;petService;name="Parrot";tier=4;pack="Turtle";attack=4;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.petService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D,k){super(t,n,o),this.logService=t,this.abilityService=n,this.petService=a,this.initPet(f,r,d,g,D,k)}}class v extends c.T{logService;petService;constructor(t,n,a){super({name:"ParrotAbility",owner:t,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.petService=a}executeAbility(t){const{gameApi:n,triggerPet:a,tiger:o,pteranodon:r}=t;let d=this.owner;const g=null!=d.parrotCopyPet&&""!==d.parrotCopyPet,f=g?(0,E.yo)(d,"parrotCopyPet",null):d.petAhead?.name??null,D=g?(0,E.yo)(d,"parrotCopyPetBelugaSwallowedPet",null):null;if(!f)return;const L="Abomination"===f&&g?(()=>{const ne={};for(const H of E.uF){const $=(0,E.AV)("parrotCopyPetAbominationSwallowedPet",H),q=(0,E.AV)("abominationSwallowedPet",H);ne[q.base]=(0,E.yo)(d,$.base,null),ne[q.belugaSwallowedPet]=(0,E.yo)(d,$.belugaSwallowedPet,null),ne[q.level]=(0,E.aA)(d,$.level,1),ne[q.timesHurt]=(0,E.aA)(d,$.timesHurt,0),ne[q.parrotCopyPet]=(0,E.yo)(d,$.parrotCopyPet,null),ne[q.parrotCopyPetBelugaSwallowedPet]=(0,E.yo)(d,$.parrotCopyPetBelugaSwallowedPet,null);for(const ae of E.uF){const le=$.nested(ae),_e=q.nested(ae);ne[_e.base]=(0,E.yo)(d,le.base,null),ne[_e.belugaSwallowedPet]=(0,E.yo)(d,le.belugaSwallowedPet,null),ne[_e.level]=(0,E.aA)(d,le.level,1),ne[_e.timesHurt]=(0,E.aA)(d,le.timesHurt,0)}}return ne})():{},F={name:f,attack:null,health:null,mana:null,exp:d.exp??0,equipment:null,belugaSwallowedPet:"Beluga Whale"===f?(0,E.yo)({belugaSwallowedPet:D},"belugaSwallowedPet",null)??null:void 0};Object.assign(F,L);let J=this.petService.createPet(F,d.parent);if(null!=J){if("Abomination"===f&&Object.assign(d,L),"Beluga Whale"===f&&(d.belugaSwallowedPet=D??null),d.copyAbilities(J,"Pet",d.level),d.initAbilityUses(),"Abomination"===f){const ne=d.abilityList.filter(H=>"AbominationAbility"===H.name);for(const H of ne)H.execute(n,a,o,r)}this.logService.createLog({message:`${d.name} copied ${J.name}`,type:"ability",player:d.parent})}}copy(t){return new v(t,this.logService,this.petService)}}},60489(O,S,i){i.d(S,{y:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Zombie Cricket";tier=1;pack="Turtle";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"ZombieCricketAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},60583(O,S,i){i.d(S,{N:()=>_});var A=i(46200),c=i(5615),E=i(23770);class _ extends A.i{logService;abilityService;name="Farmer Chicken";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"FarmerChickenAbility",owner:t,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner;let r=o.parent.nearestPetsAhead(this.level,o);if(0!==r.pets.length){for(let d of r.pets)d.givePetEquipment(new E.D),this.logService.createLog({message:`${o.name} fed ${d.name} a Corncob.`,type:"ability",player:o.parent,tiger:n,pteranodon:a,randomEvent:r.random});this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},60715(O,S,i){i.d(S,{P:()=>_,f:()=>E});var A=i(50873),c=i(5615);class E extends A.L{name="Television";tier=6;onBreak(e,t){let n=2*this.level;for(let a of this.parent.petArray)a.alive&&(a.increaseAttack(n),a.increaseHealth(n),this.logService.createLog({message:`${this.name} gave ${a.name} ${n} attack and ${n} health.`,type:"ability",player:this.parent,puma:t}))}}class _ extends c.T{logService;constructor(e,t){super({name:"TelevisionAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=2*this.level,g=r.parent.getAll(!1,r,!0),f=g.pets;if(0!=f.length){for(let D of f)D.increaseAttack(d),D.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${D.name} ${d} attack and ${d} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random});this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},60797(O,S,i){i.d(S,{N:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="European Mink";tier=2;pack="Danger";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"EuropeanMinkAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:5,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=this.level,g=r.parent.nearestPetsAhead(1,r);if(g.pets.length>0){let D=g.pets[0];D.increaseAttack(d),this.logService.createLog({message:`${r.name} gave ${D.name} ${d} attack.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random})}let f=r.parent.nearestPetsBehind(1,r);if(f.pets.length>0){let D=f.pets[0];D.increaseAttack(d),this.logService.createLog({message:`${r.name} gave ${D.name} ${d} attack.`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},60826(O,S,i){i.d(S,{q:()=>c});var A=i(22097);class c extends A.${logService;name="Skewer";tier=5;equipmentClass="skewer";power=0;attackCallback=(_,v)=>{this.skewer(_,v,1),this.skewer(_,v,2)};constructor(_){super(),this.logService=_}skewer(_,v,e){let t=v.parent.getPetAtPosition(e);null!=t&&_.snipePet(t,3*(_.equipment?.multiplier??1),!1,null,null,!0,!1,"attacked",3)}}},60892(O,S,i){i.d(S,{C:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Magpie";tier=1;pack="Golden";attack=1;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"MagpieAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} spent up to ${this.level} gold and will gain it back next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},60990(O,S,i){i.d(S,{z:()=>n});var A=i(46200),c=i(5615),E=i(90966),_=i(33127),v=i(58857),e=i(61850),t=i(79222);class n extends A.i{logService;abilityService;name="Hare";tier=3;pack="Puppy";health=4;attack=4;initAbilities(){this.addAbility(new a(this,this.logService)),super.initAbilities()}constructor(r,d,g,f,D,k,L,F,J){super(r,d,g),this.logService=r,this.abilityService=d,this.initPet(L,f,D,k,F,J)}}class a extends c.T{logService;reset(){this.maxUses=this.level,super.reset()}constructor(r,d){super({name:"HareAbility",owner:r,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:r.level,maxUses:r.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=d}executeAbility(r){const{tiger:f}=r,k=this.owner;let L=k.parent.opponent.petArray,F=[];for(let le of L)le.equipment&&_.I.getInjector().get(E.m).isUsefulPerk(le.equipment.name)&&F.push(le);if(0==F.length)return;const J=(0,v.k6)({key:"pet.hare-copy-equipment",label:(0,t.I)(k,"Hare copied equipment source"),options:F.map(le=>({id:`${le.savedPosition+1}:${le.name}`,label:`O${le.savedPosition+1} ${le.name}`}))},()=>(0,e.hw)(0,F.length-1));let ne=F[J.index],H=ne.equipment;if(!H)return;const $=_.I.getInjector().get(E.m).getInstanceOfAllEquipment().get(H.name);if(!$)return;let ae=k.parent.getThis(k).pet;null!=ae&&(k.givePetEquipment($),this.logService.createLog({message:`${k.name} copied ${H.name} to ${ae.name} from ${ne.name}.`,type:"ability",player:k.parent,tiger:f,randomEvent:J.randomEvent}),this.triggerTigerExecution(r))}copy(r){return new a(r,this.logService)}}},61245(O,S,i){i.d(S,{Ox:()=>_});var A=i(46200),c=i(5615),E=i(44402);class _ extends A.i{logService;abilityService;name="Ox";tier=3;pack="Turtle";health=3;attack=1;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"OxAbility",owner:t,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.getThis(d),f=g.pet;if(null==f)return;f.increaseAttack(1),this.logService.createLog({message:`${d.name} gave ${f.name} +1 attack.`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random});let D=d.parent.getThis(d),k=D.pet;null!=k&&(k.givePetEquipment(new E.m),this.logService.createLog({message:`${d.name} gave ${k.name} Melon.`,type:"ability",player:d.parent,tiger:o,randomEvent:D.random}),this.triggerTigerExecution(t))}reset(){this.maxUses=this.level,super.reset()}copy(t){return new v(t,this.logService)}}},61311(O,S,i){i.d(S,{U:()=>e});var A=i(22097),c=i(5615),E=i(58857),_=i(61850),v=i(79222);class e extends A.${logService;name="Tasty";equipmentClass="faint";callback=a=>{const o=a.getEquippedEquipmentInstance(this);a.addAbility(new t(a,o,this.logService))};constructor(a){super(),this.logService=a}}class t extends c.T{equipment;logService;constructor(a,o,r){super({name:"TastyAbility",owner:a,triggers:["Faint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:d=>{this.executeAbility(d)}}),this.equipment=o,this.logService=r}executeAbility(a){const o=this.owner;let r=o.parent.opponent.petArray.filter(f=>f.alive);if(0==r.length)return;const d=(0,E.k6)({key:"equipment.tasty-target",label:(0,v.R)(o,"Tasty","target"),options:r.map(f=>({id:`${f.savedPosition+1}:${f.name}`,label:`O${f.savedPosition+1} ${f.name}`}))},()=>(0,_.hw)(0,r.length-1));let g=r[d.index];g.increaseAttack(2*this.equipment.multiplier),g.increaseHealth(2*this.equipment.multiplier),this.logService.createLog({message:`${o.name} gave ${g.name} +2 attack and +2 health (Tasty)${this.equipment.multiplierMessage}`,type:"equipment",player:o.parent,randomEvent:d.randomEvent})}}},61313(O,S,i){i.d(S,{N:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Ostrich";tier=6;pack="Star";attack=6;health=7;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=4;constructor(e,t,n){super({name:"OstrichAbility",owner:e,triggers:["Roll","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const t=e.shopPets,a=e.shopPetTiers??t?.map(f=>"number"==typeof f?.tier?f.tier:null);if(!a||a.length<4)return void this.triggerTigerExecution(e);const o=a[0];if(null==o||!a.slice(0,4).every(f=>f===o))return void this.triggerTigerExecution(e);this.usesThisTurn++;const r=this.owner,d=2*this.level,g=r.parent.petArray.filter(f=>f.alive);for(const f of g)f.increaseHealth(d);this.logService.createLog({message:`${r.name} re-rolled the shop and gave friends +${d} health.`,type:"ability",player:r.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},61319(O,S,i){i.d(S,{A:()=>c});const c=function A(E,_){return E===_||E!=E&&_!=_}},61404(O,S,i){i.d(S,{r:()=>c});var A=i(22097);class c extends A.${name="Cake Slice";equipmentClass="shop";tier=1}},61456(O,S,i){function A(c){return null!==c&&"object"==typeof c}i.d(S,{G:()=>A})},61502(O,S,i){i.d(S,{u:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Wyvern";tier=3;pack="Unicorn";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"WyvernAbility",owner:e,triggers:["FriendlyLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level;this.logService.createLog({message:`${t.name} will grant ${n} extra shop reward${1===n?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},61582(O,S,i){i.d(S,{V:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Bloodhound";tier=4;pack="Custom";attack=4;health=4;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},61625(O,S,i){i.d(S,{s:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Albatross";tier=6;pack="Custom";attack=5;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Albatross Ability",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:()=>{}}),this.logService=t}copy(e){return new _(e,this.logService)}}},61752(O,S,i){i.d(S,{x:()=>c});var A=i(50873);class c extends A.L{name="Rosebud";tier=4;friendlyLevelUp(_,v,e,t){if(e||this.triggers++,this.triggers%2!=0)return;let n=v.parent.petArray.filter(a=>a.alive);for(let a of n)this.logService.createLog({message:`${this.name} gave ${a.name} ${t} attack and ${t} health.`,type:"ability",player:this.parent,puma:e}),a.increaseAttack(+t),a.increaseHealth(+t)}}},61753(O,S,i){i.d(S,{p:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Sea Urchin";tier=2;pack="Golden";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SeaUrchinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.opponent.getFurthestUpPet(r),g=[d.pet],f=d.random;if(null!=g[0]){for(let D=0;D<this.level-1;D++){let k;if(k=f?r.parent.opponent.getFurthestUpPet(r).pet:g[D].petBehind(),null==k)break;g.push(k)}for(let D of g)null!=D&&(D.increaseHealth(-5),this.logService.createLog({message:`${r.name} removed 5 health from ${D.name}.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:f}));this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},61759(O,S,i){i.d(S,{k:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Pony";tier=3;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Pony Ability",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=a.parent,r=this.level,d=a.petBehind();if(!d)return void this.triggerTigerExecution(e);const g=o.abilityService;for(let f=0;f<r;f++)this.applyBetterApple(d,g);this.logService.createLog({message:`${a.name} fed ${d.name} ${r} Better Apple${1===r?"":"s"} after knocking out an enemy.`,type:"ability",player:o,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}applyBetterApple(e,t){e.increaseAttack(2),e.increaseHealth(2),t?.triggerFoodEvents(e,"better apple")}copy(e){return new _(e,this.logService)}}},61850(O,S,i){function A(v){let t,e=v.length;for(;0!==e;)t=Math.floor(Math.random()*e),e--,[v[e],v[t]]=[v[t],v[e]];return v}function c(v,e){const t=Math.ceil(v),n=Math.floor(e);return Math.floor(Math.random()*(n-t+1))+t}function E(){return Math.random()}i.d(S,{Ak:()=>E,hw:()=>c,k4:()=>A})},61901(O,S,i){i.d(S,{D:()=>E});var A=i(55378),c=i(50873);class E extends c.L{name="Sticky Hand";tier=1;startOfBattle(v,e){const t=this.parent.getLastPets(2);for(const n of t.pets)n.givePetEquipment(new A.z),this.logService.createLog({message:`${this.name} gave ${n.name} Icky.`,type:"ability",player:this.parent,puma:e,randomEvent:t.random})}}},61908(O,S,i){i.d(S,{$:()=>v});var A=i(22097),c=i(5615),E=i(33127),_=i(24111);class v extends A.${name="Cursed";equipmentClass="ailment-other";callback=n=>{n.addAbility(new e(n))}}class e extends c.T{logService;constructor(n){super({name:"CursedAbility",owner:n,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>this.executeAbility(a)}),this.logService=E.I.getInjector().get(_.K)}executeAbility(n){const a=this.owner,o=a.parent.getRandomPet([a],!1,!1,!1,a),r=o.pet;r&&(r.givePetEquipment(new v),this.logService.createLog({message:`${a.name} made ${r.name} Cursed.`,type:"equipment",player:a.parent,randomEvent:o.random}))}}},61950(O,S,i){i.d(S,{m:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Saiga Antelope";tier=4;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"SaigaAntelopeAbility",owner:e,triggers:["PostRemovalFriendFaints2"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner,d=r.parent.resolveTrumpetGainTarget(r);d.player.gainTrumpets(3*this.level,r,o,void 0,void 0,d.random),this.logService.createLog({message:`${r.name} gave ${3*this.level} trumpets after a friend died.`,type:"ability",player:r.parent,tiger:a,pteranodon:o}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},61967(O,S,i){i.d(S,{m:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Tsuchinoko";tier=1;pack="Unicorn";attack=2;health=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TsuchinokoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let g=r.parent.getThis(r).pet;if(null==g)return;r.parent.pushPetToFront(g,!0),this.logService.createLog({message:`${r.name} pushed ${g.name} to the front and gained ${this.level} experience.`,type:"ability",player:r.parent,tiger:a});let D=r.parent.getThis(r).pet;null!=D&&(D.increaseExp(this.level),this.logService.createLog({message:`${r.name} gave ${D.name} +${this.level} experience.`,type:"ability",player:r.parent,tiger:a}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},62023(O,S,i){i.d(S,{c:()=>_});var A=i(46200),c=i(95573),E=i(5615);class _ extends A.i{logService;abilityService;name="Sheep";tier=3;pack="Turtle";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends E.T{logService;abilityService;constructor(t,n,a){super({name:"SheepAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner,g=2*this.level,f=2*this.level;for(let D=0;D<2;D++){let k=new c.w(this.logService,this.abilityService,d.parent,f,g,0,this.minExpForLevel),L=d.parent.summonPet(k,d.savedPosition,!1,d);L.success&&this.logService.createLog({message:`${d.name} spawned Ram (${k.attack}/${k.health}).`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:L.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},62223(O,S,i){var A,c,E,_;i.d(S,{EA:()=>Ke,Eo:()=>rt,KK:()=>it,Mw:()=>yt,XR:()=>qe,_s:()=>Je,bG:()=>ut,bf:()=>Dt,ht:()=>kt,oI:()=>nt,qK:()=>Et,yx:()=>Xt});var v=i(13276),e=i(40622),t=i(37283),n=i(98935);const a=ge=>ge.map(Oe=>Oe?.Name).filter(Oe=>!!Oe),o={"Beluga Whale":"WhiteWhale","Great One":"Cthulu","Small One":"BabyCthulhu",Abomination:"Shoggoth",Visitor:"Xenomorph",Swordfish:"SwordFish",Doberman:"DobermanDog","Highland Cow":"HighlandCow","Sabertooth Tiger":"SaberToothTiger","Moby Dick":"MochaDick","Chimera Goat":"ChimeraGoat","Chimera Lion":"ChimeraLion","Chimera Snake":"ChimeraSnake",CrackedEgg:"EggLadCracked","Fake Nessie":"FakeNessie","Tand and Tand":"ThorGoats"},r={Corncob:"Corn","Cake Slice":"BirthdayCakeSlice","Peanut Butter":"PeanutButter","Mana Potion":"ManaPotion","Faint Bread":"DeadBread",Kiwifruit:"Kiwi",Eggplant:"EggPlant",Rice:"RiceBall",Donut:"Doughnut",Cherry:"Cherries","Melon Slice":"WaterMelon",Cold:"Frozen",Crisp:"Burn",Dazed:"Deaf",Icky:"Acid",Inked:"Ink",Spooked:"Scared",Sleepy:"Drowsy",Webbed:"Web",Cursed:"Curse",Silly:"Silly",Bloated:"Bloated"},d=Object.fromEntries(Object.entries(r).map(([ge,Oe])=>[ge.toLowerCase(),Oe])),g=ge=>ge?ge.replace(/[^a-zA-Z0-9]/g,""):"",f=ge=>{const Oe=new Map;for(const Ve of ge)Ve?.Name&&Ve?.NameId&&Oe.set(Ve.Name,Ve.NameId);return Oe},D=(ge,Oe)=>{const Ve=ot=>!ot||/^no ability\.?$/i.test(ot.trim()),Fe=[];if(Array.isArray(ge))for(const ot of ge)!ot?.About||Ve(ot.About)||Fe.push(null!=ot.Level?`Lv${ot.Level}: ${ot.About}`:ot.About);return Oe&&Fe.push(Oe),Fe.length?Fe.join("\n"):null},k=f(v??(A||(A=i.t(v,2)))??[]),L=new Map,F=v??(A||(A=i.t(v,2)))??[];for(const ge of F)!ge?.Name||!ge?.Id||L.set(ge.Name,ge.Id);const J=e??(c||(c=i.t(e,2)))??{},ne=new Map(Object.entries(J.byNameId??{})),H=new Map(Object.entries(J.byPetId??{})),$=new Map,q=v??(A||(A=i.t(v,2)))??[];for(const ge of q){if(!ge?.Name)continue;const Oe=D(ge.Abilities,ge.PerkNote);Oe&&$.set(ge.Name,Oe)}const ae=a(v??(A||(A=i.t(v,2)))??[]),le=f(t??(E||(E=i.t(t,2)))??[]),_e=new Map,ye=t??(E||(E=i.t(t,2)))??[];for(const ge of ye){if(!ge?.Name)continue;const Oe=D(ge.Abilities);Oe&&_e.set(ge.Name,Oe)}const Se=a(t??(E||(E=i.t(t,2)))??[]),Ce=f(n??(_||(_=i.t(n,2)))??[]),de=new Map(Array.from(Ce.entries()).map(([ge,Oe])=>[ge.toLowerCase(),Oe])),Te=new Map(Array.from(Ce.entries()).map(([ge,Oe])=>[g(ge),Oe])),xe=new Map,Ue=n??(_||(_=i.t(n,2)))??[];for(const ge of Ue)ge?.Name&&ge.Ability&&xe.set(ge.Name,ge.Ability);const Ne=a(n??(_||(_=i.t(n,2)))??[]);function Je(ge){if(!ge)return null;const Oe=k.get(ge);return Oe||(o[ge]||null)}function Ke(ge){const Oe=Je(ge);return Oe?`assets/art/Public/Public/Pets/${Oe}.png`:null}function qe(ge){return ge?$.get(ge)??null:null}function it(ge){if(!ge)return null;const Ve=function mt(ge){if(!ge)return null;const Oe=ne.get(ge);return Oe?`assets/sounds/pets/${Oe}`:null}(k.get(ge));return Ve||function pt(ge){if(null==ge)return null;const Oe=H.get(String(ge));return Oe?`assets/sounds/pets/${Oe}`:null}(L.get(ge))}function Dt(){return[...ae]}function ut(ge){if(!ge)return null;const Ve=le.get(ge)??g(ge);return Ve?`assets/art/Public/Public/Toys/${Ve}.png`:null}function yt(ge){return ge?_e.get(ge)??null:null}function rt(){return[...Se]}function kt(ge,Oe=!1){const Ve=(ge=>{if(!ge)return null;const Oe=g(ge),Ve=Ce.get(ge)??de.get(ge.toLowerCase())??Te.get(Oe),Fe=r[ge]??d[ge.toLowerCase()];return(Ve??Fe??Oe)||null})(ge);return Ve?Oe?`assets/art/Ailments/Ailments/${Ve}.png`:`assets/art/Public/Public/Food/${Ve}.png`:null}function Xt(ge){return ge?xe.get(ge)??null:null}function nt(){return[...Ne]}const $t={Turtle:"Turtle",Golden:"Golden Retriever",Puppy:"Puppy",Star:"Starfish",Unicorn:"Unicorn",Danger:"Blue Whale",Custom:"White Tiger"};function Et(ge){return ge&&"Add Custom Pack"!==ge?Ke($t[ge]||"White Tiger"):null}},62275(O,S,i){i.d(S,{y:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Honduran White Bat";tier=2;pack="Custom";attack=1;health=1;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},62307(O,S,i){i.d(S,{X:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Lion";tier=5;pack="Custom";attack=7;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"LionAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}conditionFunction(){const e=this.owner;let t=e.parent.petArray.filter(a=>a!==e),n=0;for(let a of t)a.tier>n&&(n=a.tier);return e.tier>n}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;if(!this.conditionFunction())return;let d=.5*this.level;r.increaseAttack(Math.floor(r.attack*d)),r.increaseHealth(Math.floor(r.health*d)),this.logService.createLog({message:`${r.name} increased its attack and health by ${100*d}% (${r.attack}/${r.health})`,type:"ability",player:r.parent,tiger:a,pteranodon:o}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},62332(O,S,i){i.d(S,{E:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Lemming";tier=1;pack="Golden";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"LemmingAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} will give +${this.level} gold next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},62633(O,S,i){i.d(S,{T:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Lucky Cat";tier=3;pack="Unicorn";attack=1;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"LuckyCatAbility",owner:e,triggers:["ThisLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=2;3==r.level&&(d=4);let f=r.parent.getThis(r).pet;null!=f&&(this.logService.createLog({message:`${r.name} gave ${f.name} ${d} attack and ${d} health.`,type:"ability",player:r.parent,tiger:a}),f.increaseAttack(d),f.increaseHealth(d),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},62983(O,S,i){i.d(S,{U:()=>e});var A=i(46200),c=i(5615),E=i(58857),_=i(61850),v=i(79222);class e extends A.i{logService;abilityService;petService;name="Stoat";tier=2;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L,F){super(a,o,d),this.logService=a,this.abilityService=o,this.petService=r,this.initPet(k,g,f,D,L,F)}}class t extends c.T{logService;abilityService;petService;constructor(a,o,r,d){super({name:"StoatAbility",owner:a,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=o,this.abilityService=r,this.petService=d}executeAbility(a){const o=this.owner,{gameApi:r}=a,d=Math.max(1,r.previousShopTier??o.tier),g=this.petService.allPets.get(d)??[];if(!g.length)return void this.triggerTigerExecution(a);const f=(0,E.k6)({key:"pet.stoat-summon",label:(0,v.I)(o,"Stoat summon"),options:g.map(J=>({id:J,label:J}))},()=>(0,_.hw)(0,g.length-1)),L=this.petService.createPet({name:g[f.index],attack:1,health:1,equipment:null,exp:this.minExpForLevel,mana:0},o.parent);o.parent.summonPet(L,o.savedPosition,!1,o).success&&this.logService.createLog({message:`${o.name} summoned a 1/1 level ${this.level} ${L.name}.`,type:"ability",player:o.parent,tiger:a.tiger,pteranodon:a.pteranodon,randomEvent:f.randomEvent}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService,this.petService)}}},62990(O,S,i){i.d(S,{e:()=>e});var A=i(46200),c=i(5615),E=i(33127),_=i(26886),v=i(61850);class e extends A.i{logService;abilityService;name="Questing Beast";tier=6;pack="Custom";attack=7;health=9;initAbilities(){this.addAbility(new t(this,this.logService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{logService;constructor(a,o){super({name:"QuestingBeastAbility",owner:a,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=o}executeAbility(a){const o=this.owner,r=Math.max(1,Math.min(3,this.level)),d=E.I.getInjector().get(_.w),g=d.toys.get(r)??[];if(0===g.length)return void this.triggerTigerExecution(a);const f=g[(0,v.hw)(0,g.length-1)],D=d.createToy(f,o.parent,r);D?(o.parent.toy=D,o.parent.toy.used=!1,o.parent.toy.triggers=0,this.logService.createLog({message:`${o.name} created a level ${r} ${f} toy.`,type:"ability",player:o.parent}),this.triggerTigerExecution(a)):this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService)}}},63080(O,S,i){i.d(S,{A:()=>ne});var A=i(78257),c=i(86568),E=i(82063),_=i(94226),v=i(75756),e=i(31685),t=i(38736),n="[object Map]",o="[object Promise]",r="[object Set]",d="[object WeakMap]",g="[object DataView]",f=(0,t.A)(A.A),D=(0,t.A)(c.A),k=(0,t.A)(E.A),L=(0,t.A)(_.A),F=(0,t.A)(v.A),J=e.A;(A.A&&J(new A.A(new ArrayBuffer(1)))!=g||c.A&&J(new c.A)!=n||E.A&&J(E.A.resolve())!=o||_.A&&J(new _.A)!=r||v.A&&J(new v.A)!=d)&&(J=function(H){var $=(0,e.A)(H),q="[object Object]"==$?H.constructor:void 0,ae=q?(0,t.A)(q):"";if(ae)switch(ae){case f:return g;case D:return n;case k:return o;case L:return r;case F:return d}return $});const ne=J},63195(O,S,i){i.d(S,{I:()=>c});var A=i(50873);class c extends A.L{name="Kite";tier=1;emptyFromSpace(_,v,e,t){const n=this.parent.getLastPet();if(!n.pet)return;const a=n.pet,o=Math.floor(.2*a.attack);o>0&&a.increaseAttack(-o),this.parent.pushPetToFront(a),this.logService.createLog({message:`${this.name} moved ${a.name} to the front and removed ${o} attack.`,type:"ability",player:this.parent,puma:v}),this.used=!0}}},63198(O,S,i){i.d(S,{G:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Mammoth";tier=6;pack="Turtle";attack=4;health=12;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MammothAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=2*this.level,g=r.parent.getAll(!1,r),f=g.pets;if(0!=f.length){for(let D of f)D.increaseAttack(d),D.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${D.name} ${d} attack and ${d} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:g.random});this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},63257(O,S,i){i.d(S,{J:()=>v,d:()=>_});var A=i(57488),c=i(50873),E=i(5615);class _ extends c.L{name="Stinky Sock";tier=5;startOfBattle(t,n){let a=(0,A.a)(t,this.parent);for(let o=0;o<this.level;o++){let r=a.getHighestHealthPet(),d=r.pet;if(null==d)return;let g=.4,f=Math.max(1,Math.floor(d.health*(1-g)));d.health=f,this.logService.createLog({message:`${this.name} reduced ${d.name} health by ${100*g}% to ${f}`,type:"ability",player:this.parent,puma:n,randomEvent:r.random})}}}class v extends E.T{logService;constructor(t,n){super({name:"StinkySockAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let f=d.parent.opponent.getHighestHealthPets(this.level,[],d),D=f.pets;if(0!=D.length){for(let k of D){let L=.4,F=Math.max(1,Math.floor(k.health*(1-L)));k.health=F,this.logService.createLog({message:`${d.name} reduced ${k.name} health by ${100*L}% to ${F}`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:f.random})}this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},63507(O,S,i){i.d(S,{A:()=>_});var A=i(99898),c=i(64238);const _=function E(v,e){return v&&(0,A.A)(e,(0,c.A)(e),v)}},63618(O,S,i){i.d(S,{y:()=>E});var A=i(46200);i(5615);class E extends A.i{logService;abilityService;name="Ruspolis Turaco";tier=4;pack="Custom";attack=4;health=3;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}},63625(O,S,i){i.d(S,{y:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Sage-Grouse";tier=3;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Sage-Grouse Ability",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=a.parent;"Strawberry"===a.equipment?.name?(a.removePerk(!0),o.gold=(o.gold??0)+3,this.logService.createLog({message:`${a.name} sold and removed Strawberry to gain +3 gold.`,type:"ability",player:o,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},63651(O,S,i){i.d(S,{z:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Stegosaurus";tier=6;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"StegosaurusAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:a,pteranodon:o}=e,r=10*this.level,d=t.parent.petArray.find(g=>g&&g!==t&&g.alive&&!g.equipment);d?(d.increaseAttack(r),d.increaseHealth(r),this.logService.createLog({message:`${t.name} gave ${d.name} +${r}/+${r} at start of battle.`,type:"ability",player:t.parent,tiger:a,pteranodon:o}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},63683(O,S,i){i.d(S,{A:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Ethiopian Wolf";tier=1;pack="Danger";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"EthiopianWolfAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.opponent.getFurthestUpPets(this.level,void 0,r);for(const g of d.pets)g?.alive&&(g.increaseAttack(-1),this.logService.createLog({message:`${r.name} removed 1 attack from ${g.name}.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:d.random}));this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},63792(O,S,i){i.d(S,{X:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Foo Dog";tier=3;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Foo Dog Ability",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} was bought and gave future shop pets from the next tier +${2*this.level} health.`,type:"ability",player:t.parent}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},63891(O,S,i){i.d(S,{q:()=>_});var A=i(47868),c=i(22168),E=i(49149);let _=(()=>{class v{abilityQueueService;toyEventService;constructor(t,n){this.abilityQueueService=t,this.toyEventService=n}triggerFaintEvents(t){const n=this.abilityQueueService.getTeam(t);for(let a of n)this.abilityQueueService.triggerAbility(a,a==t?"Faint":"FriendFaints",t),a==t.petBehind(null,!0)&&this.abilityQueueService.triggerAbility(a,"FriendAheadFainted",t),(a==t.petBehind(null,!0)||a.petBehind(null,!0)==t)&&this.abilityQueueService.triggerAbility(a,"AdjacentFriendsFaint",t)}triggerAfterFaintEvents(t){t.parent&&this.toyEventService.triggerFriendFaintsToyEvents(t.parent,t),this.abilityQueueService.triggerAbility(t,"PetFainted",t),this.abilityQueueService.triggerAbility(t,"PostRemovalFaint",t);const n=this.abilityQueueService.getTeam(t);for(let o of n)this.abilityQueueService.triggerAbility(o,"PetFainted",t),this.abilityQueueService.triggerAbility(o,"PostRemovalFriendFaints",t),this.abilityQueueService.handleNumberedCounterTriggers(o,t,void 0,this.abilityQueueService.getNumberedTriggersForPet(o,"PostRemovalFriendFaints"));const a=this.abilityQueueService.getTeam(t.parent?.opponent).filter(o=>o.alive);for(let o of a)this.abilityQueueService.triggerAbility(o,"EnemyFainted",t),this.abilityQueueService.triggerAbility(o,"EnemyFaint",t),this.abilityQueueService.triggerAbility(o,"PetFainted",t),this.abilityQueueService.handleNumberedCounterTriggers(o,t,void 0,this.abilityQueueService.getNumberedTriggersForPet(o,"EnemyFaint"));this.toyEventService.executeFriendFaintsToyEvents()}static \u0275fac=function(n){return new(n||v)(A.KVO(c.b),A.KVO(E.e))};static \u0275prov=A.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()},63892(O,S,i){i.d(S,{m:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Monty";tier=1;pack="Unicorn";hidden=!0;health=3;attack=3;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},63972(O,S,i){i.d(S,{a:()=>_});var A=i(46200),c=i(5615),E=i(1152);class _ extends A.i{logService;abilityService;name="German Shepherd";tier=6;pack="Golden";attack=10;health=6;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"GermanShepherdAbility",owner:t,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:n,tiger:a,pteranodon:o}=t,r=this.owner,g=Math.floor(r.attack*(.25*this.level)),f=(0,E.Uj)(r,n);if(!f.pet)return;const D=f.pet;D.increaseAttack(g),(0,E.rv)(this.logService,r,`${r.name} gave ${D.name} ${g} attack.`,a,o,{randomEvent:f.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},63979(O,S,i){i.d(S,{e:()=>E});var A=i(46200);i(5615);class E extends A.i{logService;abilityService;name="Red Panda";tier=5;pack="Danger";health=4;attack=4;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}},63981(O,S,i){i.d(S,{Z:()=>_});var A=i(46200),c=i(5615),E=i(19058);class _ extends A.i{logService;abilityService;name="Flea";tier=3;pack="Golden";attack=3;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"FleaAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.getPetsWithEquipmentWithSillyFallback("Weak",d),f=d.parent.opponent.getHighestHealthPets(this.level,g,d);for(let D of f.pets)this.logService.createLog({message:`${d.name} gave ${D.name} Weak.`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:f.random}),D.givePetEquipment(new E.l);this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},64017(O,S,i){i.d(S,{W:()=>c});var A=i(22097);class c extends A.${name="Kiwano";equipmentClass="shop"}},64174(O,S,i){i.d(S,{K:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Hammerhead Shark";tier=6;pack="Custom";attack=5;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Hammerhead Shark Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner;if(!t.parent.petArray.some(r=>r&&r!==t&&3===r.level))return void this.triggerTigerExecution(e);const a=3*this.level,o=t.parent;o.gold=(o.gold??0)+a,this.logService.createLog({message:`${t.name} gained +${a} gold from level 3 friends.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},64238(O,S,i){i.d(S,{A:()=>v});var A=i(6792),c=i(41270),E=i(31287);const v=function _(e){return(0,E.A)(e)?(0,A.A)(e,!0):(0,c.A)(e)}},64255(O,S,i){i.d(S,{Z:()=>v});var A=i(46200),c=i(5615),E=i(32334),_=i(1152);class v extends A.i{logService;abilityService;name="Koala";tier=2;pack="Star";attack=4;health=2;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"KoalaAbility",owner:n,triggers:["FriendHurt"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:n.level,precondition:o=>(0,_.Re)(this.owner,o.triggerPet),abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const{triggerPet:o,tiger:r}=n,g=this.owner;let f=(0,_.LZ)(g,o),D=f.pet;D&&(D.givePetEquipment(new E.E),this.logService.createLog({message:`${g.name} gave ${D.name} Eucalyptus perk.`,type:"ability",player:g.parent,tiger:r,randomEvent:f.random}),this.triggerTigerExecution(n))}copy(n){return new e(n,this.logService)}}},64746(O,S,i){i.d(S,{A:()=>E});var A=i(3746);const E=function c(_){return(0,A.A)(this,_).get(_)}},64747(O,S,i){i.d(S,{u:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Chicken";tier=5;pack="Puppy";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"ChickenAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level;this.logService.createLog({message:`${t.name} gave future shop pets +${n} attack and +${n} health.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},64855(O,S,i){i.d(S,{AF:()=>Gi,UI:()=>Ht,qw:()=>zt});var A=i(37545),c=i(23201),E=i(72242),_=i(68879),v=i(48356),e=i(14182),t=i(37850),n=i(63195),a=i(29654),o=i(945),r=i(78435),d=i(57252),g=i(94225),f=i(95624),D=i(9238),k=i(95957),L=i(6143),F=i(38130),J=i(94640),ne=i(95621),H=i(61901),$=i(41504),q=i(8408),ae=i(97244),le=i(22167),_e=i(76032),ye=i(77226),Se=i(13950),Ce=i(97588),de=i(40358),Te=i(91946),xe=i(53227),Ue=i(93614),Ne=i(63257),ct=i(60715),Je=i(29866),Ke=i(25321),qe=i(20136),mt=i(85709),pt=i(83048),it=i(78708),Dt=i(736),ut=i(26683),yt=i(890),rt=i(1398),He=i(83699),kt=i(68460),Xt=i(48352),nt=i(42504),$t=i(56079),Et=i(28128),ge=i(33270),Oe=i(67276),Ve=i(61752),Fe=i(19540),ot=i(13713),Bt=i(18609),Rt=i(56351),qt=i(93533);const zt={"Action Figure":_.j,Balloon:A.O,"Chocolate Box":v.i,"Dice Cup":e.O,Handkerchief:t.L,Kite:n.I,Lamp:a.z,Lunchbox:o.Y,"Tennis Ball":c.R,Onesie:r.M,"Paper Shredder":d._,Pen:g.w,"Pill Bottle":f.S,"Pogo Stick":D.g,"Remote Car":k.N,"Ring Pyramid":L.P,Scale:J.F,"Soccer Ball":ne.x,"Sticky Hand":H.D,Radio:ae.s,"Plastic Saw":le.y,"Toilet Paper":_e.G,"Oven Mitts":ye.w,"Melon Helmet":Se.h,"Foam Sword":Ce.P,"Toy Gun":de.j,"Toy Mouse":q._,"Cash Register":Te.X,Camera:xe.i,Flashlight:Ue.l,"Stinky Sock":Ne.d,Television:ct.f,"Peanut Jar":Je.J,"Air Palm Tree":Ke.H,"Witch Broom":mt.t,"Magic Wand":pt.a,"Crystal Ball":it.u,"Treasure Map":Dt.W,"Treasure Chest":ut.P,"Magic Carpet":rt.H,"Magic Lamp":He.M,Candelabra:kt.a,"Glass Shoes":Xt.X,"Golden Harp":nt.f,"Lock of Hair":$t.B,"Magic Mirror":Et.D,Pickaxe:ge.Y,"Red Cape":Oe.N,Rosebud:Ve.x,Excalibur:Fe.U,"Holy Grail":ot.s},Ht={"Evil Book":yt._,Nutcracker:Bt.t,"Tinder Box":Rt.i},Gi={"Rubber Duck":xt=>new F.A(xt.logService,xt.toyService,xt.petService,xt.parent,xt.level),Stick:xt=>new E.n(xt.logService,xt.toyService,xt.parent,xt.level,xt.petService),"Stuffed Bear":xt=>new $.W(xt.logService,xt.toyService,xt.petService,xt.parent,xt.level),"Pandoras Box":xt=>new qe.g(xt.logService,xt.toyService,xt.parent,xt.level,xt.equipmentService),"Microwave Oven":xt=>new qt.q(xt.logService,xt.toyService,xt.parent,xt.level,xt.petService,xt.gameService)}},64888(O,S,i){i.d(S,{l:()=>_});var A=i(61850),c=i(46200),E=i(5615);class _ extends c.i{logService;abilityService;name="Tandgnost";tier=4;pack="Custom";attack=6;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends E.T{logService;constructor(t,n){super({name:"Tandgnost Ability",owner:t,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,a=n.parent.petArray.filter(d=>d&&d.alive&&"Tandgrisner"===d.name);if(0===a.length)return void this.triggerTigerExecution(t);const[o]=(0,A.k4)([...a]),r=3*Math.max(1,this.level);o.increaseHealth(r),this.logService.createLog({message:`${n.name} gave ${o.name} +${r} health.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},65006(O,S,i){i.d(S,{$:()=>E});var A=i(46200);i(5615);class E extends A.i{logService;abilityService;name="Saola";tier=2;pack="Danger";attack=2;health=2;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}},65033(O,S,i){i.d(S,{A:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Guinea Pig";tier=2;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"GuineaPigAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,a=this.level,o=new E(this.logService,this.abilityService,t.parent,a,a,null,this.minExpForLevel),r=t.parent.summonPet(o,t.savedPosition,!1,t);r.success&&this.logService.createLog({message:`${t.name} summoned a ${a}/${a} Guinea Pig (level ${this.level}).`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:r.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},65103(O,S,i){i.d(S,{y:()=>v});var A=i(46200),c=i(5615),E=i(44402),_=i(1152);class v extends A.i{logService;abilityService;name="Marine Iguana";tier=5;pack="Danger";attack=4;health=5;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;targettedFriends=new Set;constructor(n,a){super({name:"MarineIguanaAbility",owner:n,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:n.level,precondition:o=>{const r=this.owner;if(!(0,_.Re)(r,o.triggerPet))return!1;const g=(0,_.lK)(r,o.triggerPet).pet;return!!g&&!this.targettedFriends.has(g)},abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}reset(){this.targettedFriends=new Set,super.reset()}executeAbility(n){const{triggerPet:o,tiger:r}=n,g=this.owner;let f=(0,_.lK)(g,o),D=f.pet;D&&(D.givePetEquipment(new E.m),this.targettedFriends.add(D),this.logService.createLog({message:`${g.name} gave ${D.name} Melon`,type:"ability",player:g.parent,tiger:r,randomEvent:f.random}),this.triggerTigerExecution(n))}copy(n){return new e(n,this.logService)}}},65188(O,S,i){i.d(S,{E:()=>c});var A=i(22097);class c extends A.${name="Carrot";equipmentClass="shop"}},65223(O,S,i){i.d(S,{X:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Nudibranch";tier=1;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"NudibranchAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>{const a=this.owner;let o=new Set;for(const r of a.parent.petArray){if(o.has(r.name))return!1;o.add(r.name)}return!0},abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=3*this.level,r=this.level;a.increaseAttack(o),a.increaseHealth(r),this.logService.createLog({message:`${a.name} gained +${o} attack and +${r} health.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},65418(O,S,i){i.d(S,{f:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Nurse Shark";tier=5;pack="Golden";attack=5;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"NurseSharkAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>0!=this.owner.parent.trumpets,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=3*Math.min(r.parent.trumpets,6),g=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,[],!1,!0,r),f=g.pets;if(0!=f.length){r.parent.spendTrumpets(Math.min(r.parent.trumpets,6),r,o);for(let D of f)r.snipePet(D,d,g.random,a,o);this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},65419(O,S,i){i.d(S,{n:()=>E});var A=i(33500),c=i(22729);class E extends c.H{pushPetToFront(v,e=!1){(0,A.Q_)(this,v,e,this.logService,this.abilityService)}pushPetToBack(v){(0,A.i2)(this,v,this.logService,this.abilityService)}pushPet(v,e=1,t){(0,A.q7)(this,v,e,t,this.logService,this.abilityService)}}},65438(O,S,i){i.d(S,{B:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Murmel";tier=1;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MurmelAbility",owner:e,triggers:["FriendGainedExp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=this.level,f=r.parent.getThis(r).pet;null!=f&&(this.logService.createLog({message:`${r.name} gave ${f.name} ${d} attack.`,type:"ability",player:r.parent,tiger:a}),f.increaseAttack(d),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},65679(O,S,i){i.d(S,{v:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Boar";tier=6;pack="Turtle";attack=10;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BoarAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d={attack:4*this.level,health:2*this.level},g=r.parent.getThis(r),f=g.pet;null!=f&&(f.increaseAttack(d.attack),f.increaseHealth(d.health),this.logService.createLog({message:`${r.name} gave ${f.name} ${d.attack} attack and ${d.health} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},65919(O,S,i){i.d(S,{n:()=>_});var A=i(46200),c=i(29855),E=i(5615);class _ extends A.i{logService;abilityService;name="Hydra";tier=6;pack="Unicorn";attack=10;health=6;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends E.T{logService;abilityService;constructor(t,n,a){super({name:"HydraAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=Math.floor(d.attack/10);for(let f=0;f<g;f++){let D=5*this.level,k=new c.p(this.logService,this.abilityService,d.parent,D,D),L=d.parent.summonPet(k,d.savedPosition,!1,d);L.success&&this.logService.createLog({message:`${d.name} spawned Head (${k.attack}/${k.health}).`,type:"ability",player:d.parent,tiger:o,pteranodon:r,sourcePet:d,randomEvent:L.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},66139(O,S,i){i.d(S,{u:()=>_});var A=i(22097),c=i(63892),E=i(5615);class _ extends A.${logService;abilityService;name="Easter Egg";equipmentClass="afterFaint";callback=t=>{const n=t.getEquippedEquipmentInstance(this);t.addAbility(new v(t,n,this.logService,this.abilityService))};constructor(t,n){super(),this.logService=t,this.abilityService=n}}class v extends E.T{equipment;logService;abilityService;constructor(t,n,a,o){super({name:"EasterEggAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=n,this.logService=a,this.abilityService=o}executeAbility(t){const n=this.owner;for(let a=0;a<this.equipment.multiplier;a++){let o=new c.m(this.logService,this.abilityService,n.parent,null,null,0,0);n.parent.summonPet(o,n.savedPosition).success&&this.logService.createLog({message:`${n.name} Spawned Monty (Easter Egg)${a>0?this.equipment.multiplierMessage:""}`,type:"ability",player:n.parent})}}}},66328(O,S,i){i.d(S,{r:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Ahuizotl";tier=4;pack="Custom";attack=3;health=6;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},66358(O,S,i){i.d(S,{J:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Dog";tier=3;pack="Turtle";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DogAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;if(!n||n===r)return;let d=2*this.level,g=this.level,f=r.parent.getThis(r);f.pet&&(f.pet.increaseAttack(d),f.pet.increaseHealth(g),this.logService.createLog({message:`${r.name} gave ${f.pet.name} ${d} attack and ${g} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},66391(O,S,i){i.d(S,{i:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Fire Ant";tier=5;pack="Golden";attack=8;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"FireAntAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.getHighestTierPets(this.level,null,r),g=d.pets;if(0!=g.length){for(let f of g)f.increaseAttack(r.attack),this.logService.createLog({message:`${r.name} gave ${f.name} ${r.attack} attack.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random,pteranodon:o});this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},66548(O,S,i){i.d(S,{u:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Hoopoe Bird";tier=3;pack="Puppy";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"HoopoeBirdAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.opponent,g=d.getFurthestUpPet(r),f=g.pet,D=d.getLastPet(void 0,r),k=D.pet,L=2*this.level;f&&r.snipePet(f,L,g.random,a,o),k&&r.snipePet(k,L,D.random,a,o),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},66723(O,S,i){i.d(S,{J:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Manticore";tier=6;pack="Unicorn";attack=7;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"ManticoreAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){}copy(e){return new _(e,this.logService,this.abilityService)}}},66802(O,S,i){i.d(S,{n:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Lionfish";tier=6;pack="Puppy";attack=10;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"LionfishAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.opponent,g=1+Math.floor(r.attack/10);for(let f=0;f<g;f++){let D=d.getRandomPet([],!1,!0,!1,r);if(null==D.pet)return;r.snipePet(D.pet,3*this.level,D.random,a,o)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},66855(O,S,i){i.d(S,{f:()=>_});var A=i(46200),c=i(5615),E=i(1152);class _ extends A.i{logService;abilityService;name="Tropical Fish";tier=3;pack="Puppy";attack=3;health=3;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"TropicalFishAbility",owner:t,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,a=(0,E.MZ)(n);if(0!==a.length){for(const o of a)o.increaseHealth(this.level),(0,E.rv)(this.logService,n,`${n.name} gave ${o.name} +${this.level} health.`,t.tiger,t.pteranodon);this.triggerTigerExecution(t)}else this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},66948(O,S,i){i.d(S,{v:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Cardinal";tier=3;pack="Star";health=3;attack=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"CardinalAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;let n=t.petAhead;for(;n;){const a=n.equipment;if(a&&!a.equipmentClass?.startsWith("ailment")){this.logService.createLog({message:`${t.name} stocked a discounted copy of ${a.name} (-${this.level} gold).`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon});break}n=n.petAhead}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},67013(O,S,i){i.d(S,{P:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Hippo";tier=4;pack="Turtle";attack=4;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"HippoAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=3*this.level,g=r.parent.getThis(r),f=g.pet;null!=f&&(f.increaseAttack(d),f.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${f.name} ${d} attack and ${d} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},67056(O,S,i){i.d(S,{B:()=>_});var A=i(46200),c=i(33446),E=i(5615);class _ extends A.i{logService;abilityService;name="Dunkleosteus";tier=6;pack="Custom";attack=6;health=8;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends E.T{logService;constructor(t,n){super({name:"Dunkleosteus Ability",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,a=n.equipment;if(!a||!this.isAilmentEquipment(a))return void this.triggerTigerExecution(t);const o=n.parent.opponent.petArray.filter(D=>D&&D.alive);if(0===o.length)return void this.triggerTigerExecution(t);const r=(0,c.A)(a);n.removePerk(!0);const d=o.slice(0,Math.min(2,o.length));for(const D of d){const k=(0,c.A)(r);k.multiplier+=this.level-1,D.givePetEquipment(k)}const g=["."," with double effect."," with triple effect."],f=`${n.name} moved ${r.name} to ${d.map(D=>D.name).join(", ")}${g[Math.min(this.level,g.length)-1]}`;this.logService.createLog({message:f,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}isAilmentEquipment(t){return"ailment-attack"===t.equipmentClass||"ailment-defense"===t.equipmentClass||"ailment-other"===t.equipmentClass}copy(t){return new v(t,this.logService)}}},67104(O,S,i){i.d(S,{A:()=>_});var c=Object.prototype.hasOwnProperty;const _=function E(v){var e=v.length,t=new v.constructor(e);return e&&"string"==typeof v[0]&&c.call(v,"index")&&(t.index=v.index,t.input=v.input),t}},67138(O,S,i){i.d(S,{z:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Team Spirit";tier=6;pack="Unicorn";attack=4;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TeamSpiritAbility",owner:e,triggers:["FriendLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getAll(!1,r,!0),g=d.pets,f={attack:r.level,health:r.level};for(let D of g)this.logService.createLog({message:`${r.name} gave ${D.name} ${f.attack} attack and ${f.health} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),D.increaseAttack(f.attack),D.increaseHealth(f.health);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},67174(O,S,i){i.d(S,{a:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Bad Dog";tier=5;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"BadDogAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} chose a level ${this.level} toy that brings doom and chaos!`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},67276(O,S,i){i.d(S,{N:()=>E});var A=i(50873);i(5615);class E extends A.L{name="Red Cape";tier=4;friendJumped(e,t,n,a){let o=t.parent.petArray.filter(r=>r.alive);for(let r of o)this.logService.createLog({message:`${this.name} gave ${r.name} ${a} attack and ${a} health.`,type:"ability",player:this.parent,puma:n}),r.increaseAttack(+a),r.increaseHealth(+a)}}},67319(O,S,i){i.d(S,{S:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Shark";tier=5;pack="Turtle";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SharkAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;if(!r.alive||n==r)return;let d={attack:2*this.level,health:2*this.level},g=r.parent.getThis(r),f=g.pet;null!=f&&(f.increaseAttack(d.attack),f.increaseHealth(d.health),this.logService.createLog({message:`${r.name} gave ${f.name} ${d.attack} attack and ${d.health} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},67336(O,S,i){i.d(S,{e:()=>e});var A=i(46200),c=i(5615),E=i(58857),_=i(61850),v=i(79222);class e extends A.i{logService;abilityService;petService;name="Silky Sifaka";tier=6;pack="Danger";attack=4;health=6;initAbilities(){this.addAbility(new t(this,this.logService,this.petService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L,F){super(a,o,d),this.logService=a,this.abilityService=o,this.petService=r,this.initPet(k,g,f,D,L,F)}}class t extends c.T{logService;petService;constructor(a,o,r){super({name:"SilkySifakaAbility",owner:a,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:d=>{this.executeAbility(d)}}),this.logService=o,this.petService=r}executeAbility(a){const{tiger:d}=a,f=this.owner;let D=["Mammoth","Lionfish","Orca","Sabertooth Tiger","Warthog","Hydra","Phoenix","Bay Cat","Walrus","Ammonite"],L=f.parent.nearestPetsBehind(2,f).pets;for(let F of L){const J=this.formatPositionArg(f),ne=this.formatPositionArg(F),H=(0,E.k6)({key:"pet.silky-sifaka-transform",label:(0,v.I)(f,`Silky Sifaka transform for ${F.name}`),options:D.map(ae=>({id:ae,label:ae}))},()=>(0,_.hw)(0,D.length-1));let q=this.petService.createPet({name:D[H.index],attack:F.attack,health:F.health,mana:F.mana,exp:f.minExpForLevel,equipment:F.equipment},f.parent);f.parent.transformPet(F,q),this.logService.createLog({message:`[${J}->${ne}] ${f.name} transformed ${F.name} into level ${f.level} ${q.name}`,type:"ability",player:f.parent,sourceIndex:f.savedPosition+1,targetIndex:F.savedPosition+1,targetIsOpponent:F.parent?.isOpponent,tiger:d,randomEvent:H.randomEvent})}this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.petService)}formatPositionArg(a){const o=a.parent?.isOpponent?"O":"P",r=Number.isFinite(a.savedPosition)?Math.trunc(a.savedPosition)+1:1;return`${o}${Math.min(Math.max(r,1),5)}`}}},67358(O,S,i){i.d(S,{$:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Sea Serpent";tier=6;pack="Unicorn";attack=6;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SeaSerpentAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner,g=e.seaSerpentMana??r.mana;if(0==g)return;null==e.seaSerpentMana&&(e.seaSerpentMana=g,r.mana=0);let f=g;this.logService.createLog({message:`${r.name} spent ${g} mana.`,type:"ability",player:r.parent,tiger:a,pteranodon:o});let k=r.parent.opponent.getHighestHealthPet(void 0,r);null!=k.pet&&r.snipePet(k.pet,f,k.random,a,o);let L=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,[k.pet],null,!0,r);for(let F of L.pets)null!=F&&r.snipePet(F,f,L.random,a,o);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},67412(O,S,i){i.d(S,{l:()=>e});var A=i(46200),c=i(5615),E=i(58857),_=i(61850),v=i(79222);class e extends A.i{logService;abilityService;name="Sphinx";tier=2;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new t(this)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{constructor(a){super({name:"Sphinx Ability",owner:a,triggers:["ThisBought"],abilityType:"Pet",abilitylevel:a.level,abilityFunction:o=>this.executeAbility(o)})}executeAbility(a){const{gameApi:o}=a,r=this.owner,d=this.level,g=["Tennis Ball","Plastic Saw","Toilet Paper","Foam Sword","Flashlight","Television"],f=(0,E.k6)({key:"pet.sphinx-toy-roll",label:(0,v.I)(r,"Sphinx adventurous toy roll"),options:g.map(L=>({id:L,label:L}))},()=>(0,_.hw)(0,g.length-1)),D=g[f.index],k=o?.toyService?.createToy(D,r.parent,d);k&&(r.parent.toy=k,o?.logService?.createLog({message:`${r.name} gained a level ${d} ${D}.`,type:"ability",player:r.parent,randomEvent:f.randomEvent})),this.triggerTigerExecution(a)}copy(a){return new t(a)}}},67459(O,S,i){i.d(S,{a:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Blue Dragon";tier=3;pack="Custom";attack=3;health=4;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}}class _ extends c.T{logService;constructor(e,t){super({name:"Blue Dragon Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,d=a.parent.nearestPetsBehind(4,a).pets.length*this.level;if(d>0){const k=a.parent.resolveTrumpetGainTarget(a);k.player.gainTrumpets(d,a,n,void 0,void 0,k.random)}const g=this.level,D=a.parent.nearestPetsAhead(4,a).pets;D.length>0&&(D.forEach(k=>k.increaseMana(g)),this.logService.createLog({message:`${a.name} gave ${D.length} friend${1===D.length?"":"s"} ahead +${g} mana at StartBattle.`,type:"ability",player:a.parent,tiger:t,pteranodon:n})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},67476(O,S,i){i.d(S,{h:()=>_});var A=i(46200),c=i(5615),E=i(13761);class _ extends A.i{logService;abilityService;name="Gelada";tier=4;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"Gelada Ability",owner:t,triggers:["Eat2"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>this.executeAbility(o)}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner,r=this.level;if(r<=0)return void this.triggerTigerExecution(t);const d=new E.s(this.logService,this.abilityService,o.parent,void 0,void 0,void 0,o.exp);o.parent.transformPet(o,d),this.feedFriends(r),this.logService.createLog({message:`${o.name} transformed into ${d.name} and fed each friend ${r} Pear${1===r?"":"s"}.`,type:"ability",player:o.parent,tiger:n,pteranodon:a}),this.triggerTigerExecution(t)}feedFriends(t){if(t<=0)return;const o=this.owner.parent.petArray.filter(r=>r&&r.alive);for(const r of o)for(let d=0;d<t;d++)r.increaseAttack(1),r.increaseHealth(1),this.abilityService.triggerFoodEvents(r,"pear")}copy(t){return new v(t,this.logService,this.abilityService)}}},67647(O,S,i){i.d(S,{T:()=>c});var A=i(22097);class c extends A.${name="Cucumber";equipmentClass="shop"}},67895(O,S,i){i.d(S,{A:()=>v});var A=i(56658),c=i(42697),E=i(14429);const v=function _(e){return(0,A.A)(e,E.A,c.A)}},67902(O,S,i){i.d(S,{S:()=>_});var A=i(46200),c=i(42655),E=i(5615);class _ extends A.i{logService;abilityService;name="Fly";tier=6;pack="Turtle";attack=4;health=4;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends E.T{logService;abilityService;constructor(t,n,a){super({name:"FlyAbility",owner:t,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:3,condition:o=>{const{triggerPet:r}=o;return!(r&&r instanceof c.A||this.owner.parent.petArray.length>=5)},abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{triggerPet:a,tiger:o}=t,d=this.owner;let g=new c.A(this.logService,this.abilityService,d.parent,null,null,null,this.minExpForLevel),f=d.parent.summonPet(g,a.savedPosition,!1,d);f.success&&this.logService.createLog({message:`${d.name} spawned Zombie Fly Level ${this.level}`,type:"ability",player:d.parent,tiger:o,randomEvent:f.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},68169(O,S,i){i.d(S,{E:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Beaver";tier=1;pack="Turtle";health=2;attack=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BeaverAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,n=this.level,a=t.parent.getRandomPets(2,[t],!1,!1,t);if(0!==a.pets.length){for(const o of a.pets)o.increaseAttack(n);this.logService.createLog({message:`${t.name} gave ${a.pets.map(o=>o.name).join(", ")} ${n} attack.`,type:"ability",player:t.parent,randomEvent:a.random,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},68184(O,S,i){i.d(S,{k:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Cuddle Toad";tier=1;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"CuddleToadAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked a witch toy that breaks after ${2*this.level} turns.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},68189(O,S,i){i.d(S,{R:()=>E});var A=i(31805);class c extends A.y{constructor(v,e){super()}schedule(v,e=0){return this}}class E extends c{constructor(v,e){super(v,e),this.scheduler=v,this.work=e,this.pending=!1}schedule(v,e=0){if(this.closed)return this;this.state=v;const t=this.id,n=this.scheduler;return null!=t&&(this.id=this.recycleAsyncId(n,t,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this}requestAsyncId(v,e,t=0){return setInterval(v.flush.bind(v,this),t)}recycleAsyncId(v,e,t=0){if(null!==t&&this.delay===t&&!1===this.pending)return e;clearInterval(e)}execute(v,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const t=this._execute(v,e);if(t)return t;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(v,e){let n,t=!1;try{this.work(v)}catch(a){t=!0,n=!!a&&a||new Error(a)}if(t)return this.unsubscribe(),n}_unsubscribe(){const v=this.id,e=this.scheduler,t=e.actions,n=t.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&t.splice(n,1),null!=v&&(this.id=this.recycleAsyncId(e,v,null)),this.delay=null}}},68308(O,S,i){i.d(S,{A:()=>t});var A=i(92943),c=i(30219),E=i(64746),_=i(86542),v=i(15030);function e(n){var a=-1,o=null==n?0:n.length;for(this.clear();++a<o;){var r=n[a];this.set(r[0],r[1])}}e.prototype.clear=A.A,e.prototype.delete=c.A,e.prototype.get=E.A,e.prototype.has=_.A,e.prototype.set=v.A;const t=e},68460(O,S,i){i.d(S,{a:()=>c});var A=i(50873);class c extends A.L{name="Candelabra";tier=4}},68478(O,S,i){i.d(S,{N:()=>c});var A=i(22097);class c extends A.${name="Pineapple";equipmentClass="attack-snipe";power=2;uses=3;originalUses=3;constructor(){super()}}},68546(O,S,i){i.d(S,{V:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Snow Leopard";tier=5;pack="Danger";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SnowLeopardAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=5*this.level,g=r.parent.opponent.getRandomPet([],!1,!0,!1,r);if(g.pet&&g.pet.alive){if(r.jumpAttackPrep(g.pet),r.transformed&&r.transformedInto){let f=r.parent.getThis(r.transformedInto);f.pet&&(r.transformedInto.increaseAttack(d),r.transformedInto.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${r.transformedInto.name} ${d} attack and ${d} health`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random}))}else{let f=r.parent.getThis(r);f.pet&&(f.pet.increaseAttack(d),f.pet.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${f.pet.name} ${d} attack and ${d} health`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random}))}r.jumpAttack(g.pet,a,null,g.random)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},68629(O,S,i){i.d(S,{u:()=>_});var A=i(46200),c=i(5615),E=i(23770);class _ extends A.i{logService;abilityService;name="Farmer Pig";tier=3;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Farmer Pig Ability",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner,r=[o.petAhead,o.petBehind()].filter(d=>null!==d&&d.alive);for(const d of r)for(let g=0;g<this.level;g++){const f=new E.D;f.effectMultiplier=2,d.givePetEquipment(f)}r.length>0&&this.logService.createLog({message:`${o.name} fed adjacent friends ${this.level} Corncob${1===this.level?"":"s"} with double effect.`,type:"ability",player:o.parent,tiger:n,pteranodon:a}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},68879(O,S,i){i.d(S,{j:()=>_});var A=i(57488),c=i(51838),E=i(50873);class _ extends E.L{name="Action Figure";tier=1;startOfBattle(e,t){const a=(0,A.a)(e,this.parent).getFurthestUpPets(2);for(const o of a.pets)o.givePetEquipment(new c.K),this.logService.createLog({message:`${this.name} gave ${o.name} Coconut.`,type:"ability",player:this.parent,puma:t,randomEvent:a.random})}}},68908(O,S,i){i.d(S,{g:()=>_});var A=i(46200),c=i(5615),E=i(4673);class _ extends A.i{logService;abilityService;name="Cerberus";tier=6;pack="Unicorn";attack=9;health=9;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"CerberusAbility",owner:t,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,condition:o=>null==this.owner.parent.pet0,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o}=t,d=this.owner;let f=new E.O(this.logService,this.abilityService,d.parent,8,8,null,5),D=d.parent.summonPet(f,0,!1,d);D.success&&this.logService.createLog({message:`${d.name} spawned Fire Pup (8/8).`,type:"ability",player:d.parent,tiger:o,sourcePet:d,randomEvent:D.randomEvent}),this.triggerTigerExecution(t)}reset(){this.maxUses=this.level,super.reset()}copy(t){return new v(t,this.logService,this.abilityService)}}},68932(O,S,i){var A;i.d(S,{v:()=>n});var c=i(46200),E=i(5615),_=i(61850),v=i(13276);const e=new Map,t=v??(A||(A=i.t(v,2)));if(Array.isArray(t))for(const o of t){if(!o||"object"!=typeof o)continue;const r=o;if(!r.Name)continue;const d=Number(r.Attack??0),g=Number(r.Health??0);e.set(r.Name,{attack:d,health:g})}class n extends c.i{logService;abilityService;name="Andrewsarchus";tier=4;pack="Custom";attack=5;health=4;initAbilities(){this.addAbility(new a(this,this.logService)),super.initAbilities()}constructor(r,d,g,f,D,k,L,F,J){super(r,d,g),this.logService=r,this.abilityService=d,this.initPet(L,f,D,k,F,J)}}class a extends E.T{logService;pendingAttack=0;pendingHealth=0;constructor(r,d){super({name:"Andrewsarchus Ability",owner:r,triggers:["EndTurn","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:r.level,abilityFunction:g=>this.executeAbility(g)}),this.logService=d}executeAbility(r){const{gameApi:d,tiger:g,pteranodon:f}=r,D=this.owner;if("StartTurn"===r.trigger)return(this.pendingAttack||this.pendingHealth)&&(D.increaseAttack(-this.pendingAttack),D.increaseHealth(-this.pendingHealth),this.pendingAttack=0,this.pendingHealth=0),void this.triggerTigerExecution(r);const k=D.parent===d?.player?d?.playerPetPool:d?.opponentPetPool,L=[];let F=-1;for(const ae of k?.values()??[])for(const le of ae??[]){const _e=e.get(le);_e&&(_e.health>F?(F=_e.health,L.length=0,L.push(le)):_e.health===F&&L.push(le))}if(!L.length||F<0)return void this.triggerTigerExecution(r);const J=1===L.length?L[0]:L[(0,_.hw)(0,L.length-1)],ne=e.get(J);if(!ne)return void this.triggerTigerExecution(r);const H=.5*this.level,$=Math.floor(ne.attack*H),q=Math.floor(ne.health*H);($>0||q>0)&&(D.increaseAttack($),D.increaseHealth(q),this.pendingAttack+=$,this.pendingHealth+=q),this.logService.createLog({message:`${D.name} removed ${J} from the shop and gained +${$}/+${q} until next turn.`,type:"ability",player:D.parent,tiger:g,pteranodon:f,randomEvent:L.length>1}),this.triggerTigerExecution(r)}copy(r){const d=new a(r,this.logService);return d.pendingAttack=this.pendingAttack,d.pendingHealth=this.pendingHealth,d}}},69357(O,S,i){i.d(S,{L:()=>E});var A=i(46200),c=i(5615);class E extends A.i{constructor(e,t,n){super(e,t,n),this.name="Aardvark",this.tier=3,this.pack="Custom",this.attack=2,this.health=3}initAbilities(){this.abilityList=[new _(this,this.logService)],super.initAbilities()}}class _ extends c.T{logService;constructor(e,t){super({name:"Aardvark Ability",owner:e,triggers:["EnemySummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=this.level,r=3*this.level;a.increaseAttack(o),a.increaseHealth(r),this.logService.createLog({message:`${a.name} gained +${o}/+${r} from EnemySummoned.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},69359(O,S,i){i.d(S,{x:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Highland Cow";tier=6;pack="Golden";attack=4;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"HighlandCowAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{pteranodon:o}=e,r=this.owner,d=4*this.level+Math.floor(r.health/3)*this.level,g=r.parent.resolveTrumpetGainTarget(r);g.player.gainTrumpets(d,r,o,void 0,void 0,g.random),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},69379(O,S,i){i.d(S,{Z:()=>c});const c=(()=>{function E(_){return Error.call(this),this.message=_?`${_.length} errors occurred during unsubscription:\n${_.map((v,e)=>`${e+1}) ${v.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=_,this}return E.prototype=Object.create(Error.prototype),E})()},69385(O,S,i){i.d(S,{L:()=>_});var A=i(46200),c=i(5615),E=i(1152);class _ extends A.i{logService;abilityService;name="Worm of Sand";tier=4;pack="Unicorn";attack=4;health=1;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"WormOfSandAbility",owner:t,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,o=Math.min(Math.max((n.parent===t.gameApi.player?t.gameApi.playerRollAmount:t.gameApi.opponentRollAmount)??0,0),8),r=Math.floor(o/4);if(r<=0)return void this.triggerTigerExecution(t);const d=this.level*r,g=(0,E.MZ)(n);for(const f of g)f.increaseAttack(d),f.increaseHealth(d);g.length>0&&this.logService.createLog({message:`${n.name} gave adjacent friends +${d}/+${d}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon,randomEvent:g.length>1}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},69792(O,S,i){i.d(S,{M:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Giant Otter";tier=4;pack="Danger";attack=4;health=3;buffedFriends=new Map;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;buffedFriends=new Map;constructor(e,t){super({name:"GiantOtterAbility",owner:e,triggers:["BeforeStartBattle","AnyoneAttack","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}reset(){this.buffedFriends.clear(),super.reset()}removeConditionalBuffs(){this.buffedFriends.size>0&&this.logService.createLog({message:`${this.owner.name} removed its temporary buffs after the first non-jump attack`,type:"ability",player:this.owner.parent});for(let[e,t]of this.buffedFriends){let n=e;if(n.transformed&&n.transformedInto&&(n=n.transformedInto),n&&n.alive&&(t.attack>0&&n.increaseAttack(-t.attack),t.health>0&&n.increaseHealth(-t.health),t.attack>0||t.health>0)){const a=[];t.attack>0&&a.push(`${t.attack} attack`),t.health>0&&a.push(`${t.health} health`),this.logService.createLog({message:`${n.name} lost ${a.join(" and ")} (Giant Otter Buffs removed)`,type:"ability",player:this.owner.parent})}this.buffedFriends.delete(e)}}executeAbility(e){const{gameApi:t,triggerPet:n,tiger:a}=e,d=this.owner;if("PostRemovalFaint"===e.trigger)return void this.removeConditionalBuffs();if(n)return void(t.FirstNonJumpAttackHappened&&this.removeConditionalBuffs());let g={attack:2*this.level,health:5*this.level},f=d.parent.getAll(!1,d,!0),D=f.pets;for(let k of D){const L=k.increaseAttack(g.attack),F=k.increaseHealth(g.health),J=this.buffedFriends.get(k);J?(J.attack+=L,J.health+=F):this.buffedFriends.set(k,{attack:L,health:F}),this.logService.createLog({message:`${d.name} gave ${k.name} +${g.attack} attack and +${g.health} health`,type:"ability",player:d.parent,tiger:a,randomEvent:f.random})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},70129(O,S,i){i.d(S,{A:()=>n});var A=i(31685),c=i(30554);const n=function t(a){if(!(0,c.A)(a))return!1;var o=(0,A.A)(a);return"[object Function]"==o||"[object GeneratorFunction]"==o||"[object AsyncFunction]"==o||"[object Proxy]"==o}},70458(O,S,i){i.d(S,{c:()=>_});var A=i(46200),c=i(5615),E=i(61850);class _ extends A.i{logService;abilityService;petService;name="Spider";tier=2;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D,k){super(t,n,o),this.logService=t,this.abilityService=n,this.petService=a,this.initPet(f,r,d,g,D,k)}}class v extends c.T{logService;abilityService;petService;constructor(t,n,a,o){super({name:"SpiderAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=n,this.abilityService=a,this.petService=o}executeAbility(t){const{gameApi:n,tiger:o,pteranodon:r}=t,d=this.owner;let D=[...(d.parent==n?.player?n?.playerPetPool:n?.opponentPetPool)?.get(3)??[]].filter($=>$&&"Spider"!=$);if(0==D.length&&(D=[...this.petService?.allPets?.get(3)??[]].filter($=>$&&"Spider"!=$)),0==D.length)return;let k=D[(0,E.hw)(0,D.length-1)];if(!k)return;let L=this.level,J=2*this.level,ne=this.petService.createPet({attack:J,exp:this.minExpForLevel,equipment:null,health:J,name:k,mana:0},d.parent);d.parent.summonPet(ne,d.savedPosition,!1,d).success&&this.logService.createLog({message:`${d.name} spawned ${ne.name} level ${L} (${J}/${J})`,type:"ability",player:d.parent,randomEvent:!0,tiger:o,pteranodon:r}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService,this.petService)}}},70471(O,S,i){i.d(S,{w:()=>_});var A=i(46200),c=i(5615),E=i(61311);class _ extends A.i{logService;abilityService;name="Sea Cucumber";tier=5;pack="Custom";health=5;attack=3;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"SeaCucumberAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.getPetsWithEquipmentWithSillyFallback("Tasty",d),f=d.parent.getRandomEnemyPetsWithSillyFallback(this.level,g,!1,!0,d),D=f.pets;if(0!=D.length){for(let k of D){let L=new E.U(this.logService);k.givePetEquipment(L),this.logService.createLog({message:`${d.name} made ${k.name} Tasty`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:f.random})}this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService,this.abilityService)}}},70511(O,S,i){i.d(S,{c:()=>_});var A=i(46200),c=i(5615),E=i(59374);class _ extends A.i{logService;abilityService;name="Tardigrade";tier=4;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new e(this,this.logService,this.abilityService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class v extends A.i{name="Tardigrade";tier=1;pack="Custom";attack=3;health=3;initAbilities(){}constructor(n,a,o,r,d){super(n,a,o),this.initPet(0,r,d,0,void 0,0)}}class e extends c.T{logService;abilityService;constructor(n,a,o){super({name:"Tardigrade Ability",owner:n,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=a,this.abilityService=o}executeAbility(n){const a=this.owner,o=3*Math.max(1,this.level),r=a.position??a.savedPosition??0,d=new v(this.logService,this.abilityService,a.parent,o,o);a.parent.summonPet(d,r,!1,a).success&&(d.givePetEquipment(new E.x),this.logService.createLog({message:`${a.name} summoned a ${o}/${o} level ${this.level} Tardigrade (Dazed).`,type:"ability",player:a.parent,tiger:n.tiger,pteranodon:n.pteranodon})),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService,this.abilityService)}}},70563(O,S,i){i.d(S,{A:()=>c});const c=function A(E,_){for(var v=-1,e=_.length,t=E.length;++v<e;)E[t+v]=_[v];return E}},70762(O,S,i){i.d(S,{v:()=>t});var A=i(98099),c=i(20178),E=i(31805),_=i(40091),v=i(80614),e=i(58253);class t extends E.y{constructor(o,r,d){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=c.I;break;case 1:if(!o){this.destination=c.I;break}if("object"==typeof o){o instanceof t?(this.syncErrorThrowable=o.syncErrorThrowable,this.destination=o,o.add(this)):(this.syncErrorThrowable=!0,this.destination=new n(this,o));break}default:this.syncErrorThrowable=!0,this.destination=new n(this,o,r,d)}}[_.D](){return this}static create(o,r,d){const g=new t(o,r,d);return g.syncErrorThrowable=!1,g}next(o){this.isStopped||this._next(o)}error(o){this.isStopped||(this.isStopped=!0,this._error(o))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(o){this.destination.next(o)}_error(o){this.destination.error(o),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:o}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=o,this}}class n extends t{constructor(o,r,d,g){super(),this._parentSubscriber=o;let f,D=this;(0,A.T)(r)?f=r:r&&(f=r.next,d=r.error,g=r.complete,r!==c.I&&(D=Object.create(r),(0,A.T)(D.unsubscribe)&&this.add(D.unsubscribe.bind(D)),D.unsubscribe=this.unsubscribe.bind(this))),this._context=D,this._next=f,this._error=d,this._complete=g}next(o){if(!this.isStopped&&this._next){const{_parentSubscriber:r}=this;v.$.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?this.__tryOrSetError(r,this._next,o)&&this.unsubscribe():this.__tryOrUnsub(this._next,o)}}error(o){if(!this.isStopped){const{_parentSubscriber:r}=this,{useDeprecatedSynchronousErrorHandling:d}=v.$;if(this._error)d&&r.syncErrorThrowable?(this.__tryOrSetError(r,this._error,o),this.unsubscribe()):(this.__tryOrUnsub(this._error,o),this.unsubscribe());else if(r.syncErrorThrowable)d?(r.syncErrorValue=o,r.syncErrorThrown=!0):(0,e.T)(o),this.unsubscribe();else{if(this.unsubscribe(),d)throw o;(0,e.T)(o)}}}complete(){if(!this.isStopped){const{_parentSubscriber:o}=this;if(this._complete){const r=()=>this._complete.call(this._context);v.$.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable?(this.__tryOrSetError(o,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(o,r){try{o.call(this._context,r)}catch(d){if(this.unsubscribe(),v.$.useDeprecatedSynchronousErrorHandling)throw d;(0,e.T)(d)}}__tryOrSetError(o,r,d){if(!v.$.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{r.call(this._context,d)}catch(g){return v.$.useDeprecatedSynchronousErrorHandling?(o.syncErrorValue=g,o.syncErrorThrown=!0,!0):((0,e.T)(g),!0)}return!1}_unsubscribe(){const{_parentSubscriber:o}=this;this._context=null,this._parentSubscriber=null,o.unsubscribe()}}},70928(O,S,i){i.d(S,{$:()=>c});var A=i(22097);class c extends A.${name="Magic Beans";equipmentClass="shop";constructor(){super()}}},71322(O,S,i){i.d(S,{g:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Flamingo";tier=2;pack="Turtle";health=2;attack=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"FlamingoAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let g=r.parent.nearestPetsBehind(2,r).pets;if(0!=g.length){for(let f of g)f.increaseAttack(this.level),f.increaseHealth(this.level),this.logService.createLog({message:`${r.name} gave ${f.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:o});this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},71387(O,S,i){i.d(S,{A:()=>E});var A=i(77107);const E=function c(){this.__data__=A.A?(0,A.A)(null):{},this.size=0}},71433(O,S,i){i.d(S,{_:()=>_});var A=i(46200),c=i(5615),E=i(43592);class _ extends A.i{logService;abilityService;name="Beetle";tier=1;pack="Puppy";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"BeetleAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o}=t,d=this.owner;let g;switch(this.level){case 1:g=new E.S;break;case 2:g=new E.S,g.power=4,g.originalPower=4;break;case 3:g=new E.S,g.power=6,g.originalPower=6}let f=d.parent.getPetsWithEquipment(g.name),D=d.parent.nearestPetsBehind(1,d,f);if(0===D.pets.length)return;let k=D.pets[0];this.logService.createLog({message:`${d.name} gave ${k.name} ${g.name}.`,type:"ability",player:d.parent,tiger:o,randomEvent:D.random}),k.givePetEquipment(g),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},71772(O,S,i){i.d(S,{H:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Anubis";tier=4;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"AnubisAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:a}=e,o=this.owner,r=[2,4,6],d=r[Math.min(Math.max(this.level,1)-1,r.length-1)],g=o.parent.petArray.filter(f=>f&&f!==o&&f.alive&&f.isFaintPet()&&f.tier<=d).sort((f,D)=>(f.position??0)-(D.position??0)).slice(0,2);for(const f of g)this.logService.createLog({message:`${o.name} activated ${f.name}'s faint ability (tier ${f.tier} <= ${d}).`,type:"ability",player:o.parent,tiger:n,pteranodon:a}),f.activateAbilities("PostRemovalFaint",t,"Pet");this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},71799(O,S,i){i.d(S,{r:()=>E});var A=i(22097),c=i(5615);class E extends A.${logService;name="Cashew Nut";tier=1;equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;constructor(e,t){super({name:"CashewNutAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t}executeAbility(e){const t=this.owner;for(let n=0;n<this.equipment.multiplier;n++){let a=t.parent.nearestPetsAhead(2,t,null,!0),o=a.pets.filter(d=>d?.alive);if(o.length<2)return;let r=o[1];t.snipePet(r,r.parent==t.parent?1:2,a.random,null,null,!0)}}}},71861(O,S,i){i.d(S,{A:()=>c});const c=function A(E,_){for(var v=-1,e=null==E?0:E.length,t=0,n=[];++v<e;){var a=E[v];_(a,v,E)&&(n[t++]=a)}return n}},72222(O,S,i){i.d(S,{v:()=>A});class A{ctx;constructor(E){this.ctx=E}executeBattleLoop(){for(;this.ctx.getBattleStarted();)this.nextTurn()}startBattle(){this.reset(),this.ctx.setBattleStarted(!0),this.ctx.setTurns(0)}reset(){this.ctx.player.resetPets(),this.ctx.opponent.resetPets()}nextTurn(){let E=!1,_=null;this.ctx.setTurns(this.ctx.getTurns()+1);let v=this.ctx.player.alive(),e=this.ctx.opponent.alive();if(v&&!e){const t=this.tryAllEnemiesFaintedToyTrigger(this.ctx.player,this.ctx.opponent);if(e=this.ctx.opponent.alive(),!t){_=this.ctx.player;const n=this.ctx.getBattle();n&&(n.winner="player"),this.ctx.incrementPlayerWinner(),E=!0}}if(!v&&e){const t=this.tryAllEnemiesFaintedToyTrigger(this.ctx.opponent,this.ctx.player);if(v=this.ctx.player.alive(),!t){_=this.ctx.opponent;const n=this.ctx.getBattle();n&&(n.winner="opponent"),this.ctx.incrementOpponentWinner(),E=!0}}if(!v&&!e&&(this.ctx.incrementDraw(),E=!0),E)return this.ctx.logService.printState(this.ctx.player,this.ctx.opponent),this.endLog(_),void this.ctx.setBattleStarted(!1);if(this.ctx.getTurns()>=this.ctx.maxTurns&&(this.ctx.incrementDraw(),E=!0),E)return this.ctx.logService.printState(this.ctx.player,this.ctx.opponent),this.endLog(_),void this.ctx.setBattleStarted(!1);for(this.pushPetsForwards(),this.ctx.logService.printState(this.ctx.player,this.ctx.opponent);;){let t=this.ctx.player.pet0,n=this.ctx.opponent.pet0;this.ctx.player.pet0&&this.ctx.abilityService.triggerBeforeAttackEvent(this.ctx.player.pet0),this.ctx.opponent.pet0&&this.ctx.abilityService.triggerBeforeAttackEvent(this.ctx.opponent.pet0),this.ctx.abilityService.executeBeforeAttackEvents(),this.ctx.abilityEngine.checkPetsAlive();do{this.ctx.abilityEngine.abilityCycle()}while(this.ctx.abilityService.hasAbilityCycleEvents);if(!this.ctx.player.alive()||!this.ctx.opponent.alive())return;if(this.pushPetsForwards(),t&&t.transformed&&(t=t.transformedInto??t),n&&n.transformed&&(n=n.transformedInto??n),this.ctx.player.pet0==t&&this.ctx.opponent.pet0==n)break}this.ctx.player.resetJumpedFlags(),this.ctx.opponent.resetJumpedFlags(),this.fight(),this.ctx.abilityEngine.checkPetsAlive();do{this.ctx.abilityEngine.abilityCycle()}while(this.ctx.abilityService.hasAbilityCycleEvents)}fight(){const E=this.ctx.player.pet0,_=this.ctx.opponent.pet0;!E||!_||(E.attackPet(_),_.attackPet(E),E.useAttackDefenseEquipment(),_.useAttackDefenseEquipment(),this.ctx.gameService.gameApi.FirstNonJumpAttackHappened=!0,this.ctx.abilityService.executeAfterAttackEvents(),this.ctx.abilityEngine.checkPetsAlive())}pushPetsForwards(){this.ctx.player.pushPetsForward(),this.ctx.opponent.pushPetsForward()}endLog(E){let _;_=null==E?"Draw":E==this.ctx.player?"Player is the winner":"Opponent is the winner",this.ctx.logService.createLog({message:_,type:"board"})}tryAllEnemiesFaintedToyTrigger(E,_){const v=[E.toy,E.hardToy].filter(e=>null!=e?.allEnemiesFainted);if(0===v.length)return!1;for(const e of v)e?.allEnemiesFainted?.(this.ctx.gameService.gameApi);return _.alive()}}},72242(O,S,i){i.d(S,{L:()=>v,n:()=>_});var A=i(50873),c=i(43592),E=i(5615);class _ extends A.L{logService;toyService;petService;name="Stick";tier=1;constructor(t,n,a,o,r){super(t,n,a,o),this.logService=t,this.toyService=n,this.petService=r}startOfBattle(t,n){const a=this.parent.getMiddleFriend();if(a.pet&&a.pet.alive){const o=new c.S;o.power=2*this.level,o.originalPower=o.power,a.pet.givePetEquipment(o),this.logService.createLog({message:`${this.name} gave Walnut to ${a.pet.name}`,type:"ability",player:this.parent,randomEvent:a.random})}}}class v extends E.T{constructor(t,n){super({name:"StickAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",abilityFunction:a=>{const r=t.parent.getMiddleFriend(t);if(r.pet&&r.pet.alive){const d=new c.S;d.power=2*this.abilityLevel,d.originalPower=d.power,r.pet.givePetEquipment(d),n.createLog({message:`${t.name} gave Walnut to ${r.pet.name} (Stick)`,type:"ability",player:t.parent,randomEvent:r.random})}}})}}},72297(O,S,i){i.d(S,{P:()=>_});var A=i(46200),c=i(5615),E=i(56979);class _ extends A.i{logService;abilityService;name="Tasmanian Devil";tier=4;pack="Danger";attack=1;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"TasmanianDevilAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.opponent.getLowestAttackPet(void 0,d);if(g.pet&&g.pet.alive){let f=new E.E;f.multiplier+=5*this.level-1,this.logService.createLog({message:`${d.name} gave ${g.pet.name} ${f.multiplier}x Spooked.`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random}),g.pet.givePetEquipment(f),d.jumpAttackPrep(g.pet),d.jumpAttack(g.pet,o,null,g.random)}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},72354(O,S,i){i.d(S,{n:()=>t});var A=i(46200),c=i(5615),E=i(94798),_=i(58857),v=i(61850),e=i(79222);class t extends A.i{logService;abilityService;petService;name="Roloway Monkey";tier=3;pack="Danger";attack=2;health=5;initAbilities(){this.addAbility(new n(this,this.logService,this.petService)),super.initAbilities()}constructor(o,r,d,g,f,D,k,L,F,J){super(o,r,g),this.logService=o,this.abilityService=r,this.petService=d,this.initPet(L,f,D,k,F,J)}}class n extends c.T{logService;petService;constructor(o,r,d){super({name:"RolowayMonkeyAbility",owner:o,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:o.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=r,this.petService=d}executeAbility(o){const{tiger:g}=o,D=this.owner;let k=D.parent.nearestPetsAhead(2,D);if(0===k.pets.length)return;const L=E.s.rolowayMonkey;for(let F of k.pets){const J=this.formatPositionArg(D),ne=this.formatPositionArg(F),H=(0,_.k6)({key:"pet.roloway-monkey-transform",label:(0,e.I)(D,`Roloway Monkey transform for ${ne} ${F.name}`),options:L.map(ae=>({id:ae,label:ae}))},()=>(0,v.hw)(0,L.length-1));let q=this.petService.createPet({name:L[H.index],health:F.health,attack:F.attack,mana:F.mana,exp:D.exp,equipment:F.equipment},D.parent);D.parent.transformPet(F,q),this.logService.createLog({message:`[${J}->${ne}] ${D.name} transformed ${F.name} into a ${q.attack}/${q.health} ${q.name}.`,type:"ability",player:D.parent,sourceIndex:D.savedPosition+1,targetIndex:F.savedPosition+1,targetIsOpponent:F.parent?.isOpponent,tiger:g,randomEvent:H.randomEvent})}this.triggerTigerExecution(o)}copy(o){return new n(o,this.logService,this.petService)}formatPositionArg(o){const r=o.parent?.isOpponent?"O":"P",d=Number.isFinite(o.savedPosition)?Math.trunc(o.savedPosition)+1:1;return`${r}${Math.min(Math.max(d,1),5)}`}}},72421(O,S,i){i.d(S,{F:()=>E});var A=i(22097),c=i(5615);class E extends A.${logService;name="Pie";tier=4;equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"PieAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner,n=4*this.equipment.multiplier,a=3*this.equipment.multiplier;t.increaseAttack(n),t.increaseHealth(a),this.logService.createLog({message:`${t.name} gained ${n} attack and ${a} health (Pie)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent})}}},72445(O,S,i){i.d(S,{s:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Firefly";tier=1;pack="Star";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"FireflyAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.getPetsWithinXSpaces(r,this.level),g=d.pets;if(0!=g.length){for(const f of g)r.snipePet(f,1,d.random,a,o);this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},72492(O,S,i){i.d(S,{E:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Raccoon";tier=5;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"RaccoonAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner;let r=a.parent.opponent.getPetAtPosition(0);null!=r&&null!=r.equipment&&(this.isAilmentEquipment(r.equipment)||(this.logService.createLog({message:`${a.name} stole ${r.name}'s equipment. (${r.equipment.name})`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),a.givePetEquipment(r.equipment),r.removePerk(!0),this.triggerTigerExecution(e)))}isAilmentEquipment(e){return"ailment-attack"===e.equipmentClass||"ailment-defense"===e.equipmentClass||"ailment-other"===e.equipmentClass}copy(e){return new _(e,this.logService)}}},72557(O,S,i){i.d(S,{G:()=>v});var A=i(46200),c=i(5615),E=i(23638),_=i(1152);class v extends A.i{logService;abilityService;name="Flying Fish";tier=3;pack="Golden";attack=5;health=2;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"FlyingFishAbility",owner:n,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:2,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const{triggerPet:o}=n,g=this.owner,f=2*this.level,D=(0,_.Uj)(g,o);D.pet&&((0,E.Oe)({logService:this.logService,owner:g,context:n,target:D.pet,amount:f,extras:{randomEvent:D.random}}),this.triggerTigerExecution(n))}copy(n){return new e(n,this.logService)}}},72560(O,S,i){i.d(S,{c:()=>_});var A=i(61850),c=i(46200),E=i(5615);class _ extends c.i{logService;abilityService;name="Tandgrisner";tier=5;pack="Custom";attack=2;health=6;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends E.T{logService;constructor(t,n){super({name:"Tandgrisner Ability",owner:t,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,a=n.parent.petArray.filter(d=>d&&d.alive&&"Tandgnost"===d.name);if(0===a.length)return void this.triggerTigerExecution(t);const[o]=(0,A.k4)([...a]),r=3*Math.max(1,this.level);o.increaseAttack(r),this.logService.createLog({message:`${n.name} gave ${o.name} +${r} attack.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},72638(O,S,i){i.d(S,{D:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Chimera Goat";tier=1;pack="Custom";hidden=!0;attack=1;health=1;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},72683(O,S,i){i.d(S,{R:()=>c});var A=i(22097);class c extends A.${name="Steak";equipmentClass="attack";tier=6;power=20;originalPower=20;uses=1;originalUses=1}},72818(O,S,i){i.d(S,{M:()=>_});var A=i(46200),c=i(5615),E=i(19058);class _ extends A.i{logService;abilityService;name="Bat";tier=2;pack="Puppy";attack=2;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;reset(){this.maxUses=this.level,super.reset()}constructor(t,n){super({name:"BatAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.getPetsWithEquipmentWithSillyFallback("Weak",d),f=d.parent.opponent.getRandomPet(g,null,!0,null,d),D=f.pet;null!=D&&(D.givePetEquipment(new E.l),this.logService.createLog({message:`${d.name} made ${D.name} weak.`,type:"ability",player:d.parent,randomEvent:f.random,tiger:o})),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},73028(O,S,i){i.d(S,{mX:()=>A});const A={ThisLeveledUp:1,FriendLeveledUp:2,FriendlyLeveledUp:2,ThisHurt:3,FriendHurt:4,EnemyHurt:4,AnyoneHurt:4,FriendAheadHurt:4,AnyoneBehindHurt:4,ThisGainedMana:5,ThisSummoned:6,FriendSummoned:7,EnemySummoned:7,BeeSummoned:7,EnemyPushed:8,FriendJumped:8,AnyoneJumped:8,Faint:9,FriendAheadFainted:10,FriendFaints:11,EnemyFaint:11,KnockOut:13,ThisTransformed:14,FriendTransformed:15,FriendGainedExp:16,FoodEatenByThis:17,FoodEatenByFriendly:17,AppleEatenByThis:17,CornEatenByFriend:17,CounterEvent:18,FriendLostPerk:19,PetLostPerk:19,ThisGainedPerk:20,FriendlyGainsPerk:21,FriendlyGainedStrawberry:21,ThisGainedAilment:20,FriendGainsAilment:21,EnemyGainedAilment:21,AnyoneGainedAilment:21,AnyoneFlung:22,ManaSnipe:23,PostRemovalFaint:25,PostRemovalFriendFaints:26,FriendlyToyBroke:26,EmptyFrontSpace:27,GoldenRetrieverSummons:28}},73117(O,S,i){function A(E,_){_=encodeURIComponent(_);for(const v of E.split(";")){const e=v.indexOf("="),[t,n]=-1==e?[v,""]:[v.slice(0,e),v.slice(e+1)];if(t.trim()===_)return decodeURIComponent(n)}return null}i.d(S,{N:()=>c,b:()=>A});class c{}},73180(O,S,i){i.d(S,{A:()=>t});var A=i(73527),c=i(80355),E=i(94402),_=i(14166),v=i(590);function e(n){var a=-1,o=null==n?0:n.length;for(this.clear();++a<o;){var r=n[a];this.set(r[0],r[1])}}e.prototype.clear=A.A,e.prototype.delete=c.A,e.prototype.get=E.A,e.prototype.has=_.A,e.prototype.set=v.A;const t=e},73327(O,S,i){i.d(S,{F:()=>v});var A=i(46200),c=i(5615),E=i(56979),_=i(1152);class v extends A.i{logService;abilityService;name="???";tier=1;pack="Unicorn";attack=3;health=2;initAbilities(){this.addAbility(new e(this,this.logService,this.abilityService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;abilityService;constructor(n,a,o){super({name:"QuestionMarksAbility",owner:n,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=a,this.abilityService=o}executeAbility(n){const a=this.owner,o=a.petAhead;if(!o)return void this.triggerTigerExecution(n);const r=this.level;if(o.increaseAttack(r),(0,_.zo)(o,"Spooked")){const d=new E.E;d.power=-1,d.originalPower=-1,o.givePetEquipment(d)}this.logService.createLog({message:`${a.name} gave ${o.name} +${r} attack and Spooked until next turn.`,type:"ability",player:a.parent,tiger:n.tiger,pteranodon:n.pteranodon}),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService,this.abilityService)}}},73527(O,S,i){i.d(S,{A:()=>c});const c=function A(){this.__data__=[],this.size=0}},73620(O,S,i){i.d(S,{u:()=>v});var A=i(46200),c=i(5615),E=i(32232),_=i(1152);class v extends A.i{logService;abilityService;name="Yeti Crab";tier=4;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"Yeti Crab Ability",owner:n,triggers:["PetLostPerk"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:n.level,precondition:o=>{const{triggerPet:r}=o,d=this.owner;return!!r&&(r.parent!==d.parent?r.alive:(0,_.Re)(d,r))},abilityFunction:o=>this.executeAbility(o)}),this.logService=a}executeAbility(n){const a=this.owner,o=n.triggerPet,{tiger:r,pteranodon:d}=n;if(o){if(o.parent===a.parent){const g=(0,_.lK)(a,o),f=g.pet;if(!f)return;const D=new E.o;f.givePetEquipment(D),this.logService.createLog({message:`${a.name} gave ${f.name} a Melon Slice after losing a perk.`,type:"ability",player:a.parent,tiger:r,randomEvent:g.random})}else a.dealDamage(o,6),this.logService.createLog({message:`${a.name} dealt 6 damage to ${o.name} after they lost a perk.`,type:"ability",player:a.parent,tiger:r,pteranodon:d});this.triggerTigerExecution(n)}}copy(n){return new e(n,this.logService)}}},73632(O,S,i){i.d(S,{A:()=>e});var A=i(73180),c=i(86568),E=i(68308);const e=function v(t,n){var a=this.__data__;if(a instanceof A.A){var o=a.__data__;if(!c.A||o.length<199)return o.push([t,n]),this.size=++a.size,this;a=this.__data__=new E.A(o)}return a.set(t,n),this.size=a.size,this}},74384(O,S,i){i.d(S,{Y:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Wolverine";tier=6;pack="Turtle";attack=5;health=7;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"WolverineAbility",owner:e,triggers:["FriendHurt4"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.opponent.getAll(!1,r),g=d.pets;if(0!=g.length){for(let f of g){let D=-3*this.level;f.increaseHealth(D),this.logService.createLog({message:`${r.name} reduced ${f.name} health by ${Math.abs(D)}`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random})}this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService,this.abilityService)}}},74766(O){O.exports=JSON.parse('[{"Ability":"Give one pet +1 attack and +1 health.","Id":"0","Name":"Apple","NameId":"Apple","Tier":1,"Packs":["Pack1","Pack2","Pack4"],"PacksRequired":["Pack1","Pack2","Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Increase sell value of one pet by 1 gold.","Id":"117","Name":"Asparagus","NameId":"Asparagus","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack.","Id":"2","Name":"Bacon","NameId":"Bacon","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and +3 health.","Id":"135","Name":"Best Apple","NameId":"Apple3","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and +6 health.","Id":"103","Name":"Best Milk","NameId":"Milk3","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health.","Id":"134","Name":"Better Apple","NameId":"Apple2","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +4 health.","Id":"102","Name":"Better Milk","NameId":"Milk2","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Blueberry perk.","Id":"7","Name":"Blueberry","NameId":"BlueBerries","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Prioritize this for enemy random abilities.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet +1 attack.","Id":"139","Name":"Bread Crumbs","NameId":"BreadCrumbs","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health until next turn.","Id":"213","Name":"Cake Slice","NameId":"BirthdayCakeSlice","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one tier 1-3 ailment to stock. Always on sale!","Id":"225","Name":"Canned Ailment","NameId":"CannedAilment","Tier":1,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Spooked without triggering abilities.","Id":"216","Name":"Canned Spooky","NameId":"CannedScared","Tier":1,"Packs":[],"PacksRequired":[],"PerkNote":"Take +1 damage.","CustomArchetypes":[]},{"Ability":"Make one pet Toasty without triggering abilities.","Id":"223","Name":"Canned Toasty","NameId":"CannedToasty","Tier":1,"Packs":[],"PacksRequired":[],"PerkNote":"Anyone attacks: Take 1 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Cashew Nut perk.","Id":"173","Name":"Cashew Nut","NameId":"CashewNut","Tier":1,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Before battle: Deal 1 damage to the second nearest pet ahead. Double against enemies.","CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health until next turn.","Id":"27","Name":"Cookie","NameId":"Cookie","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +1 to lowest stat.","Id":"28","Name":"Corncob","NameId":"Corn","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Ability":"Give one pet the Egg perk.","Id":"33","Name":"Egg","NameId":"Egg","Tier":1,"Packs":["Pack2","Pack4"],"PacksRequired":["Pack2","Pack4"],"Rollable":true,"PerkNote":"Before attack: Deal 2 damage to target, once.","CustomArchetypes":[]},{"Ability":"Choose one level 1 Ferret toy.","Id":"234","Name":"Ferret Present","NameId":"FerretGift1","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Ferret toy.","Id":"235","Name":"Ferret Present","NameId":"FerretGift2","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Ferret toy.","Id":"236","Name":"Ferret Present","NameId":"FerretGift3","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 to their lowest stat.","Id":"191","Name":"Fresh Water","NameId":"FreshWater","Tier":1,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Golden Egg perk.","Id":"148","Name":"Golden Egg","NameId":"GoldenEgg","Tier":1,"Packs":["Pack5"],"PacksRequired":["Pack5"],"PerkNote":"Before attack: Deal 6 damage to target, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Gros Michel Banana perk.","Id":"192","Name":"Gros Michel Banana","NameId":"GrosMichelBanana","Tier":1,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Before attack: Transform into an Ant.","CustomArchetypes":[]},{"Ability":"Give one pet the Health Potion perk.","Id":"150","Name":"Health Potion","NameId":"HealthPotion","Tier":1,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Before battle: Give the front-most friendly pet +2 health.","CustomArchetypes":[]},{"Ability":"Transform one Bad Dog into Good Dog, or give +4 attack and +4 health.","Id":"151","Name":"Holy Water","NameId":"HolyWater","Tier":1,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Ability":"Give one pet the Honey perk.","Id":"40","Name":"Honey","NameId":"Honey","Tier":1,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Faint: Summon one 1/1 Bee.","CustomArchetypes":[]},{"Ability":"Give one pet the Macaron perk.","Id":"128","Name":"Macaron","NameId":"Macaron","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Activate ability after other pets with the same trigger.","CustomArchetypes":[]},{"Ability":"Give one pet +1 attack and +2 health.","Id":"49","Name":"Milk","NameId":"Milk","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Nachos perk.","Id":"136","Name":"Nachos","NameId":"Nachos","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Before attack: Convert up to 3 health into attack.","CustomArchetypes":[]},{"Ability":"Give one pet +2 health.","Id":"64","Name":"Peach","NameId":"Plumb","Tier":1,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack on odd turns and +2 health on even turns.","Id":"119","Name":"Pumpkin","NameId":"Pumpkin","Tier":1,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":false,"CustomArchetypes":[]},{"Ability":"Give one pet +1 health.","Id":"210","Name":"Seed Pile","NameId":"SeedPile","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Strawberry perk.","Id":"81","Name":"Strawberry","NameId":"Strawberry","Tier":1,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Faint: Give the back-most friend +1 attack and +1 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Unagi perk.","Id":"196","Name":"Unagi","NameId":"Unagi","Tier":1,"Packs":["Custom"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Start of battle: Deal 2 damage to a random enemy.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Walnut perk.","Id":"174","Name":"Walnut","NameId":"Walnut","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block 2 damage, once.","CustomArchetypes":[]},{"Ability":"Choose ANY perk food from the current tier to stock at 1 gold.","Id":"208","Name":"Antarctic Krill","NameId":"AntarcticKrill","Tier":2,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Bok Choy perk.","Id":"176","Name":"Bok Choy","NameId":"BokChoy","Tier":2,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Gain +3 health when this would faint, once.","CustomArchetypes":[]},{"Ability":"Give one pet +3 health and remove 1 attack.","Id":"11","Name":"Broccoli","NameId":"Broccoli","Tier":2,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Cold without triggering abilities.","Id":"219","Name":"Canned Cold","NameId":"CannedFrozen","Tier":2,"Packs":[],"PacksRequired":[],"PerkNote":"Take +5 damage, once.","CustomArchetypes":[]},{"Ability":"Make one pet Inked without triggering abilities.","Id":"220","Name":"Canned Ink","NameId":"CannedInk","Tier":2,"Packs":[],"PacksRequired":[],"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":[]},{"Ability":"Make one pet Weak without triggering abilities.","Id":"214","Name":"Canned Weak","NameId":"CannedWeak","Tier":2,"Packs":[],"PacksRequired":[],"PerkNote":"Take +3 damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Caramel perk.","Id":"124","Name":"Caramel","NameId":"Caramel","Tier":2,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Before attack: Combine friendly Caramels to deal 3 damage each to the most healthy enemy, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Cherry perk.","Id":"20","Name":"Cherries","NameId":"Cherries","Tier":2,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before battle: Gain 2 trumpets and remove perk.","CustomArchetypes":[]},{"Ability":"Give one pet the Chocolate Cake perk.","Id":"24","Name":"Chocolate Cake","NameId":"ChocolateCake","Tier":2,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Gain +3 experience and faint.","CustomArchetypes":[]},{"Ability":"Give one pet the Churros perk.","Id":"126","Name":"Churros","NameId":"Churros","Tier":2,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Activate ability before other pets with the same trigger.","CustomArchetypes":[]},{"Ability":"Give one pet +1 attack and +1 health. Triple on every third Cloudberry.","Id":"185","Name":"Cloudberry","NameId":"Cloudberries","Tier":2,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Cod Roe perk.","Id":"207","Name":"Cod Roe","NameId":"CodRoe","Tier":2,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Faint: Summon one 2/3 Fish.","CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and +3 health until next turn.","Id":"50","Name":"Cupcake","NameId":"Muffin","Tier":2,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Eucalyptus perk.","Id":"167","Name":"Eucalyptus","NameId":"Eucalyptus","Tier":2,"Packs":[],"PacksRequired":[],"PerkNote":"Block 4 enemy damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Faint Bread perk.","Id":"140","Name":"Faint Bread","NameId":"DeadBread","Tier":2,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Faint: Summon ANY one tier 1 <b>Faint</b> pet.","CustomArchetypes":[]},{"Ability":"Give one pet the Fairy Dust perk.","Id":"144","Name":"Fairy Dust","NameId":"FairyDust","Tier":2,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Empty front space: Jump to the front and gain +2 mana, once.","CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and remove 1 health.","Id":"100","Name":"Fried Shrimp","NameId":"FriedShrimp","Tier":2,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Gain 2 free rolls next turn.","Id":"45","Name":"Kiwifruit","NameId":"Kiwi","Tier":2,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Choose one level 1 Lemur toy.","Id":"249","Name":"Lemur Present","NameId":"LemurGift1","Tier":2,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Lemur toy.","Id":"250","Name":"Lemur Present","NameId":"LemurGift2","Tier":2,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Lemur toy.","Id":"251","Name":"Lemur Present","NameId":"LemurGift3","Tier":2,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Lime perk.","Id":"170","Name":"Lime","NameId":"Lime","Tier":2,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Takes 1 less damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Meat Bone perk.","Id":"9","Name":"Meat Bone","NameId":"MeatBone","Tier":2,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Attack with +3 damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Radish perk.","Id":"122","Name":"Radish","NameId":"Radish","Tier":2,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Before battle: Gain ANY useful perk from the pet\'s tier.","CustomArchetypes":[]},{"Ability":"Give one pet the Rice perk.","Id":"70","Name":"Rice","NameId":"RiceBall","Tier":2,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Sell for +2 gold.","CustomArchetypes":[]},{"Ability":"Make one pet faint. Always on sale!","Id":"92","Name":"Sleeping Pill","NameId":"Pill","Tier":2,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Sudduth Tomato perk.","Id":"195","Name":"Sudduth Tomato","NameId":"SudduthTomato","Tier":2,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Hurt: If still standing, gain permanent +1 health, once.","CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and Weak.","Id":"159","Name":"Wall Chicken","NameId":"WallChicken","Tier":2,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Gain +3 gold on next turn.","Id":"1","Name":"Avocado","NameId":"Avocado","Tier":3,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Blackberry perk.","Id":"172","Name":"Blackberry","NameId":"Blackberry","Tier":3,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Gain +1 attack and +2 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Brussels Sprout perk.","Id":"118","Name":"Brussels Sprout","NameId":"BrusselsSprout","Tier":3,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block being pushed or 5 damage, once.","CustomArchetypes":[]},{"Ability":"Give future shop pets from the next tier permanent +1 attack and +1 health.","Id":"12","Name":"Bubble Tea","NameId":"BubbleTea","Tier":3,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Cake perk.","Id":"6","Name":"Cake","NameId":"BirthdayCake","Tier":3,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"End turn: Increase sell value by 1 gold.","CustomArchetypes":[]},{"Ability":"Make one pet Confused without triggering abilities.","Id":"231","Name":"Canned Confusion","NameId":"CannedConfused","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Before attack: Transform into a pet from one tier below, once.","CustomArchetypes":[]},{"Ability":"Make one pet Silly without triggering abilities.","Id":"217","Name":"Canned Silly","NameId":"CannedSilly","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Ability has random targets in battle.","CustomArchetypes":[],"Random":true},{"Ability":"Make one pet Webbed without triggering abilities.","Id":"228","Name":"Canned Web","NameId":"CannedWeb","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Faint: Summon one 2/2 Spider up front for the opponent.","CustomArchetypes":[]},{"Ability":"Give one pet +3 attack.","Id":"201","Name":"Carrot Parisier","NameId":"CarrotParisier","Tier":3,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Croissant perk.","Id":"29","Name":"Croissant","NameId":"Croissant","Tier":3,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"PerkNote":"End turn: Gain +1 attack.","CustomArchetypes":[]},{"Ability":"Give one pet the Cucumber perk.","Id":"97","Name":"Cucumber","NameId":"Cucumber","Tier":3,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"End turn: Gain +1 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Fig perk.","Id":"109","Name":"Fig","NameId":"Fig","Tier":3,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Deal 4 damage to the lowest health enemy, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Garlic perk.","Id":"38","Name":"Garlic","NameId":"Garlic","Tier":3,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Takes 2 less damage.","PerkFinePrint":"Damage can\'t be reduced to less than 2.","CustomArchetypes":[]},{"Ability":"Give one pet +3 health.","Id":"211","Name":"Geechee Red Pea","NameId":"GeecheeRedPea","Tier":3,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Choose one level 1 Gharial toy.","Id":"237","Name":"Gharial Present","NameId":"GharialGift1","Tier":3,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Gharial toy.","Id":"238","Name":"Gharial Present","NameId":"GharialGift2","Tier":3,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Gharial toy.","Id":"239","Name":"Gharial Present","NameId":"GharialGift3","Tier":3,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Gingerbread Man perk.","Id":"147","Name":"Gingerbread Man","NameId":"GingerbreadMan","Tier":3,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Before battle: Gain +1 experience.","CustomArchetypes":[]},{"Ability":"Give one pet the Guava perk.","Id":"112","Name":"Guava","NameId":"Guava","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Block 3 damage, and attack for +3 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet +3 to their lowest stat.","Id":"153","Name":"Just-Right Porridge","NameId":"JustRightPorridge","Tier":3,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give three pets from the current shop tier or higher +1 attack and +1 health.","Id":"72","Name":"Lettuce","NameId":"Salad","Tier":3,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Swap Attack and Health of a pet. Always on sale!","Id":"48","Name":"Lollipop","NameId":"Lollipop","Tier":3,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Pineapple perk.","Id":"61","Name":"Pineapple","NameId":"Pineapple","Tier":3,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Ability deals +2 damage, thrice.","CustomArchetypes":[]},{"Ability":"Give one pet the Rambutan perk.","Id":"110","Name":"Rambutan","NameId":"Rambutan","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Before attack: Gain +3 mana.","CustomArchetypes":[]},{"Ability":"Replace perk or ailment on one pet with +2 attack and +2 health.","Id":"179","Name":"Ravioli","NameId":"Ravioli","Tier":3,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give two random pets +1 attack and +1 health.","Id":"73","Name":"Salad Bowl","NameId":"SaladBowl","Tier":3,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Balance out attack and health. Always on sale!","Id":"75","Name":"Sandwich","NameId":"Sandwich","Tier":3,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Sausage perk.","Id":"114","Name":"Sausage","NameId":"Sausage","Tier":3,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Start of turn: Gain one free roll.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Seaweed perk.","Id":"184","Name":"Seaweed","NameId":"Seaweed","Tier":3,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Before attack: Transform into a Baby Urchin.","CustomArchetypes":[]},{"Ability":"Give one pet the Squash perk.","Id":"121","Name":"Squash","NameId":"Squash","Tier":3,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Before attack: Remove 6 health from target, once.","CustomArchetypes":[]},{"Ability":"Transform one pet into another from the same tier and with ANY tier 3 perk.","Id":"161","Name":"Water of Youth","NameId":"YouthWater","Tier":3,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the White Truffle perk.","Id":"198","Name":"White Truffle","NameId":"WhiteTruffle","Tier":3,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Friend faints: Gain +4 attack and jump-attack the highest attack enemy, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Ambrosia perk.","Id":"138","Name":"Ambrosia","NameId":"Ambrosia","Tier":4,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Block ailment or 8 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Baguette perk.","Id":"3","Name":"Baguette","NameId":"Baguette","Tier":4,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Before attack: Remove the front-most enemy perk, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Banana perk.","Id":"4","Name":"Banana","NameId":"Banana","Tier":4,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Faint: Summon one 4/4 Monkey.","CustomArchetypes":[]},{"Ability":"Make one pet Bloated without triggering abilities.","Id":"229","Name":"Canned Bloat","NameId":"CannedBloated","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Can\'t gain perk, once.","CustomArchetypes":[]},{"Ability":"Make one pet Crisp without triggering abilities.","Id":"224","Name":"Canned Burn","NameId":"CannedBurn","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Anyone attacks: Take 6 damage, once.","CustomArchetypes":[]},{"Ability":"Give all current and future shop pets +1 attack and +1 health.","Id":"16","Name":"Canned Food","NameId":"CannedFood","Tier":4,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Tasty without triggering abilities.","Id":"222","Name":"Canned Tasty","NameId":"CannedTasty","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Faint: Give one random enemy permanent +2 attack and +2 health.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Cauliflower perk.","Id":"137","Name":"Cauliflower","NameId":"Cauliflower","Tier":4,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Knock out: If still standing, gain permanent +1 attack and +1 health, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Cheese perk.","Id":"19","Name":"Cheese","NameId":"Cheese","Tier":4,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Attack with at least 15 attack, once.","CustomArchetypes":[]},{"Ability":"Transform one pet into another of the same tier and give two other +1 attack and +1 health.","Id":"189","Name":"Chickpea","NameId":"Chickpea","Tier":4,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Donut perk.","Id":"31","Name":"Donut","NameId":"Doughnut","Tier":4,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Prioritize this for friendly random abilities.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet +3 health. Also convert 2 attack into health.","Id":"141","Name":"Drink-Me Liquid","NameId":"DrinkMeLiquid","Tier":4,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +3 attack. Also convert 2 health into attack.","Id":"143","Name":"Eat-Me Cake","NameId":"EatMeCake","Tier":4,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Fortune Cookie perk.","Id":"35","Name":"Fortune Cookie","NameId":"FortuneCookie","Tier":4,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Attack has 50% chance to deal double damage.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Grapes perk.","Id":"39","Name":"Grapes","NameId":"Grapes","Tier":4,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Start of turn: Gain +1 gold.","CustomArchetypes":[]},{"Ability":"Give one pet the Maple Syrup perk.","Id":"194","Name":"Maple Syrup","NameId":"MapleSyrup","Tier":4,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Attack for 50% damage and block 50% damage, thrice.","CustomArchetypes":[]},{"Ability":"Give one pet the Melon Slice perk.","Id":"87","Name":"Melon Slice","NameId":"WaterMelon","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Block 10 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Mild Chili perk.","Id":"232","Name":"Mild Chili","NameId":"MildChili","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Attack second enemy for 4 damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Onion perk.","Id":"53","Name":"Onion","NameId":"Onion","Tier":4,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Move to the back, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Oyster Mushroom perk.","Id":"183","Name":"Oyster Mushroom","NameId":"OysterMushroom","Tier":4,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Before attack: Set attack and health to at least 9, once.","CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health.","Id":"58","Name":"Pear","NameId":"Pear","Tier":4,"Packs":["Pack1","Pack3"],"PacksRequired":["Pack1","Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Pie perk.","Id":"60","Name":"Pie","NameId":"Pie","Tier":4,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Before battle: Gain +4 attack and +3 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Potato perk.","Id":"66","Name":"Potato","NameId":"Potato","Tier":4,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 10 damage from abilities and perks, twice.","CustomArchetypes":[]},{"Ability":"Choose one level 1 Puppy toy.","Id":"240","Name":"Puppy Present","NameId":"PuppyGift1","Tier":4,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Puppy toy.","Id":"241","Name":"Puppy Present","NameId":"PuppyGift2","Tier":4,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Puppy toy.","Id":"242","Name":"Puppy Present","NameId":"PuppyGift3","Tier":4,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Salt perk.","Id":"74","Name":"Salt","NameId":"Salt","Tier":4,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Attack for double damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet +1 attack and +1 health. Triple if you have 1 life left.","Id":"78","Name":"Soup","NameId":"Soup","Tier":4,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Choose one tier 4-6 ailment to stock. Always on sale!","Id":"226","Name":"Stronger Canned Ailment","NameId":"CannedAilment2","Tier":4,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give the two left-most shop pets +2 attack and +3 health.","Id":"197","Name":"Vanilla Bean","NameId":"VanillaBean","Tier":4,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Activate buy ability or give +3 health.","Id":"86","Name":"Waffle","NameId":"Waffle","Tier":4,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +3 experience.","Id":"105","Name":"Best Chocolate","NameId":"Chocolate3","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 experience.","Id":"104","Name":"Better Chocolate","NameId":"Chocolate2","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +6 mana.","Id":"202","Name":"Big Mana Potion","NameId":"ManaPotion2","Tier":5,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Dazed without triggering abilities.","Id":"218","Name":"Canned Dazed","NameId":"CannedDeaf","Tier":5,"Packs":[],"PacksRequired":[],"PerkNote":"Prevent ability from activating.","CustomArchetypes":[]},{"Ability":"Make one pet Sleepy without triggering abilities.","Id":"221","Name":"Canned Sleepy","NameId":"CannedDrowsy","Tier":5,"Packs":[],"PacksRequired":[],"PerkNote":"Attack with half damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Carrot perk.","Id":"17","Name":"Carrot","NameId":"Carrot","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"End turn: Gain +1 attack and +1 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Chili perk.","Id":"22","Name":"Chili","NameId":"Chili","Tier":5,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Attack second enemy for 5 damage.","CustomArchetypes":[]},{"Ability":"Give one pet +1 experience.","Id":"23","Name":"Chocolate","NameId":"Chocolate","Tier":5,"Packs":["Pack1","Pack2","Pack3","Pack4","Pack5","Danger"],"PacksRequired":["Pack1","Pack2","Pack3","Pack4","Pack5","Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Cocoa Bean perk.","Id":"190","Name":"Cocoa Bean","NameId":"CocoaBean","Tier":5,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Before attack: Transform into an exact copy of a random enemy, once.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet +3 attack and +2 health.","Id":"123","Name":"Cotton Candy","NameId":"CottonCandy","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Durian perk.","Id":"113","Name":"Durian","NameId":"Durian","Tier":5,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Reduce the most healthy enemy by 33% health, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Easter Egg perk.","Id":"142","Name":"Easter Egg","NameId":"EasterEgg","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Faint: Summon one 3/3 Bunny that attacks for double damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Eggplant perk.","Id":"34","Name":"Eggplant","NameId":"EggPlant","Tier":5,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Before battle: Push opposite enemy 1 space forward.","CustomArchetypes":[]},{"Ability":"Replace each shop item with something from 1 tier higher than it.","Id":"129","Name":"Flodebolle","NameId":"Flodeboller","Tier":5,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Honeydew Melon perk.","Id":"193","Name":"Honeydew Melon","NameId":"HoneydewMelon","Tier":5,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 10 damage, and attack for +5 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Kiwano perk.","Id":"181","Name":"Kiwano","NameId":"Kiwano","Tier":5,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Ability deals +8 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +3 health.","Id":"125","Name":"Lasagna","NameId":"Lasagne","Tier":5,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Lemon perk.","Id":"47","Name":"Lemon","NameId":"Lemon","Tier":5,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Block 7 damage, twice.","CustomArchetypes":[]},{"Ability":"Give one pet the Love Potion perk.","Id":"155","Name":"Love Potion","NameId":"LovePotion","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Before battle: Summon one 5/5 pet like this.","CustomArchetypes":[]},{"Ability":"Give one pet the Magic Beans perk.","Id":"156","Name":"Magic Beans","NameId":"MagicBeans","Tier":5,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Start of turn: Gain the Golden Egg perk and increase sell value by 4 gold.","CustomArchetypes":[]},{"Ability":"Give one pet +5 to its lowest stat.","Id":"209","Name":"Oblonot","NameId":"Oblonot","Tier":5,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Pepper perk.","Id":"59","Name":"Pepper","NameId":"Pepper","Tier":5,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Health does not go under 1. Removed after taking damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Skewer perk.","Id":"76","Name":"Skewer","NameId":"Skewer","Tier":5,"Packs":[],"PacksRequired":[],"PerkNote":"Attack second and third enemy for 3 damage.","CustomArchetypes":[]},{"Ability":"Give three random pets +2 health.","Id":"80","Name":"Stew","NameId":"Stew","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Choose one level 1 Sting Ray toy.","Id":"246","Name":"Sting Ray Present","NameId":"StingRayGift1","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Sting Ray toy.","Id":"247","Name":"Sting Ray Present","NameId":"StingRayGift2","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Sting Ray toy.","Id":"248","Name":"Sting Ray Present","NameId":"StingRayGift3","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet Strawberry. Always on sale!","Id":"168","Name":"Strawberry Jam","NameId":"StrawberryJar","Tier":5,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Faint: Give the back-most friend +1 attack and +1 health.","CustomArchetypes":[]},{"Ability":"Give three random pets +1 attack and +1 health.","Id":"82","Name":"Sushi","NameId":"Sushi","Tier":5,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Give three random pets +2 attack.","Id":"84","Name":"Taco","NameId":"Taco","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Stock one 2-gold copy of the last non-Tofu food bought this turn.","Id":"187","Name":"Tofu","NameId":"Tofu","Tier":5,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Cursed without triggering abilities.","Id":"230","Name":"Canned Curse","NameId":"CannedCurse","Tier":6,"Packs":[],"PacksRequired":[],"PerkNote":"Faint: Make one random friend Cursed.","CustomArchetypes":[],"Random":true},{"Ability":"Make one pet Icky without triggering abilities.","Id":"215","Name":"Canned Icky","NameId":"CannedAcid","Tier":6,"Packs":[],"PacksRequired":[],"PerkNote":"Take double damage, twice.","CustomArchetypes":[]},{"Ability":"Give one pet +6 health.","Id":"120","Name":"Celery","NameId":"Celery","Tier":6,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and +3 health.","Id":"21","Name":"Chicken Leg","NameId":"ChickenLeg","Tier":6,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Activate one pet\'s ability.","Id":"206","Name":"Coffee Bean","NameId":"CoffeeBean","Tier":6,"Packs":["Danger"],"PacksRequired":["Danger"],"CustomArchetypes":[]},{"Ability":"Choose one free tier 6 food to stock from ALL packs.","Id":"166","Name":"Cornucopia","NameId":"Cornucopia","Tier":6,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give two random pets +4 attack.","Id":"41","Name":"Hot Dog","NameId":"HotDog","Tier":6,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Stock one 2-gold Melon and one 2-gold Steak.","Id":"106","Name":"Judean Date","NameId":"Date","Tier":6,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Transform one pet into another from one higher tier.","Id":"154","Name":"Konpeito","NameId":"Kompeito","Tier":6,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mvp"]},{"Ability":"Give one pet the Melon perk.","Id":"96","Name":"Melon","NameId":"Melon","Tier":6,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":[]},{"Ability":"Choose one level 1 Mongoose toy.","Id":"243","Name":"Mongoose Present","NameId":"MongooseGift1","Tier":6,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Mongoose toy.","Id":"244","Name":"Mongoose Present","NameId":"MongooseGift2","Tier":6,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Mongoose toy.","Id":"245","Name":"Mongoose Present","NameId":"MongooseGift3","Tier":6,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Mushroom perk.","Id":"51","Name":"Mushroom","NameId":"Mushroom","Tier":6,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Faint: Come back as a 1/1.","CustomArchetypes":["Mvp"]},{"Ability":"Give two random pets +4 health.","Id":"54","Name":"Orange","NameId":"Orange","Tier":6,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Pancakes perk.","Id":"55","Name":"Pancakes","NameId":"Pancakes","Tier":6,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Before battle: Give friends +2 attack and +2 health.","CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health. Upgrade future peaches to give +1 more attack and health.","Id":"152","Name":"Peach of Immortality","NameId":"ImmortalPeach","Tier":6,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Pita Bread perk.","Id":"62","Name":"Pita Bread","NameId":"PitaBread","Tier":6,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Hurt: Gain +15 health, once.","CustomArchetypes":[]},{"Ability":"Give two random pets +2 attack and +2 health.","Id":"63","Name":"Pizza","NameId":"Pizza","Tier":6,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Popcorn perk.","Id":"65","Name":"Popcorn","NameId":"Popcorn","Tier":6,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Faint: Summon one random pet from the same tier.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet +2 attack and +2 health. Double if all pets are tier 4 or higher.","Id":"67","Name":"Pretzel","NameId":"Pretzel","Tier":6,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"If pack has no pets/food from the tab, give tier 5 and 6 perks to one pet and the friends ahead of it.","Id":"158","Name":"Rainbow Jelly","NameId":"RainbowJelly","Tier":6,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Sardinian Currant perk.","Id":"200","Name":"Sardinian Currant","NameId":"SardinianCurrant","Tier":6,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Start of turn: Gain +2 gold.","CustomArchetypes":[]},{"Ability":"Give all pets +1 attack.","Id":"77","Name":"Soft Ice","NameId":"SoftIce","Tier":6,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Choose one tier 5-6 perk food to stock for free from ANY pack.","Id":"171","Name":"Starfruit","NameId":"Starfruit","Tier":6,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Steak perk.","Id":"79","Name":"Steak","NameId":"Steak","Tier":6,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"PerkNote":"Attack with +20 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Tomato perk.","Id":"85","Name":"Tomato","NameId":"Tomato","Tier":6,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Deal 10 damage to the last enemy, once.","CustomArchetypes":[]},{"Ability":"Give one pet the White Okra perk.","Id":"199","Name":"White Okra","NameId":"WhiteOkra","Tier":6,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Block 10 damage twice or ailment once.","CustomArchetypes":[]},{"Ability":"Give one pet the Yggdrasil Fruit perk.","Id":"160","Name":"Yggdrasil Fruit","NameId":"YggdrasilFruit","Tier":6,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Faint: Summon two 5/5 Nordic Goats.","CustomArchetypes":[]},{"Ability":"Give one pet the Coconut perk.","Id":"26","Name":"Coconut","NameId":"Coconut","Tier":7,"Packs":[],"PacksRequired":[],"PerkNote":"Block damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Peanut perk.","Id":"57","Name":"Peanut","NameId":"Peanut","Tier":7,"Packs":[],"PacksRequired":[],"PerkNote":"Knock out any pet attacked and hurt by this.","CustomArchetypes":[]},{"Ability":"Give one pet the Peanut Butter perk.","Id":"204","Name":"Peanut Butter","NameId":"PeanutButter","Tier":7,"Packs":[],"PacksRequired":[],"PerkNote":"Knock out any pet attacked and hurt by this, once.","CustomArchetypes":[]}]')},74794(O,S,i){i.d(S,{a:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Small One";tier=6;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SmallOneAbility",owner:e,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:n,pteranodon:a}=e,o=t.parent.getAll(!0,t).pets.filter(g=>g&&g!==t);if(0!==o.length){for(let g=0;g<this.level;g++)for(const f of o)t.dealDamage(f,f.parent===t.parent?2:4);this.logService.createLog({message:`${t.name} dealt 2 (4 vs enemies) damage ${this.level}x to all other pets.`,type:"ability",player:t.parent,tiger:n,pteranodon:a}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},74838(O,S,i){i.d(S,{L:()=>E});var A=i(46200),c=i(5615);class E extends A.i{constructor(e,t,n){super(e,t,n),this.name="Axehandle Hound",this.attack=5,this.health=3,this.tier=3,this.pack="Custom"}initAbilities(){this.abilityList=[new _(this,this.logService)],super.initAbilities()}}class _ extends c.T{hasUsed=!1;logService;constructor(e,t){super({name:"Axehandle Hound Ability",owner:e,triggers:["BeforeFriendlyAttack","StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:a}=e;if("StartBattle"===e.trigger)return this.hasUsed=!1,void this.triggerTigerExecution(e);if(this.hasUsed)return;const o=t.opponent;if(!o)return;const r=o.petArray.filter(f=>f.health>0),d=r.map(f=>f.name);if(new Set(d).size!==d.length){this.hasUsed=!0;const f=2*this.level;this.logService.createLog({message:`${this.owner.name} activated. Opponent has duplicates. Dealing ${f} damage to all enemies.`,type:"ability",player:this.owner.parent,tiger:n,pteranodon:a});for(const D of r)this.owner.dealDamage(D,f)}this.triggerTigerExecution(e)}copy(e){const t=new _(e,this.logService);return t.hasUsed=this.hasUsed,t}}},74891(O,S,i){i.d(S,{s:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Dirty Rat";tier=1;pack="Turtle";hidden=!0;health=1;attack=1;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},75119(O,S,i){i.d(S,{Zm:()=>Dt,me:()=>He,Yp:()=>ei,MJ:()=>kn,JD:()=>_i,gE:()=>Li,j4:()=>bn,YN:()=>Cu,zX:()=>Oo,VZ:()=>Br,BC:()=>bi,cb:()=>qi,vS:()=>ys,xH:()=>Ks,Q0:()=>ue,MR:()=>va,X1:()=>ql,YS:()=>cr,wz:()=>Kn,k0:()=>ge,qT:()=>Ua,y7:()=>or});var A=i(35547),c=i(47868),_=(i(10467),i(15824));function r(U,K){return(0,_.KZ)(U,K?.equal)}Error,Error;var Se=i(17705),Ce=i(46494),de=i(84787),Te=i(27389),xe=i(27354),Ue=i(95006),Ne=i(61456);function Je(U,K){return new Te.c(N=>{const te=U.length;if(0===te)return void N.complete();const fe=new Array(te);let _t=0,Lt=0;for(let ci=0;ci<te;ci++){const cn=(0,de.H)(U[ci]);let Ga=!1;N.add(cn.subscribe({next:ya=>{Ga||(Ga=!0,Lt++),fe[ci]=ya},error:ya=>N.error(ya),complete:()=>{_t++,(_t===te||!Ga)&&(Lt===te&&N.next(K?K.reduce((ya,ku,wu)=>(ya[ku]=fe[wu],ya),{}):fe),N.complete())}}))}})}var Ke=i(45286);let qe=(()=>{class U{_renderer;_elementRef;onChange=N=>{};onTouched=()=>{};constructor(N,te){this._renderer=N,this._elementRef=te}setProperty(N,te){this._renderer.setProperty(this._elementRef.nativeElement,N,te)}registerOnTouched(N){this.onTouched=N}registerOnChange(N){this.onChange=N}setDisabledState(N){this.setProperty("disabled",N)}static \u0275fac=function(te){return new(te||U)(A.rXU(A.sFG),A.rXU(A.aKT))};static \u0275dir=A.FsC({type:U})}return U})(),mt=(()=>{class U extends qe{static \u0275fac=(()=>{let N;return function(fe){return(N||(N=A.xGo(U)))(fe||U)}})();static \u0275dir=A.FsC({type:U,features:[A.Vt3]})}return U})();const pt=new c.nKC(""),it={provide:pt,useExisting:(0,c.Rfq)(()=>Dt),multi:!0};let Dt=(()=>{class U extends mt{writeValue(N){this.setProperty("checked",N)}static \u0275fac=(()=>{let N;return function(fe){return(N||(N=A.xGo(U)))(fe||U)}})();static \u0275dir=A.FsC({type:U,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(te,fe){1&te&&A.bIt("change",function(Lt){return fe.onChange(Lt.target.checked)})("blur",function(){return fe.onTouched()})},standalone:!1,features:[A.Jv_([it]),A.Vt3]})}return U})();const ut={provide:pt,useExisting:(0,c.Rfq)(()=>He),multi:!0},rt=new c.nKC("");let He=(()=>{class U extends qe{_compositionMode;_composing=!1;constructor(N,te,fe){super(N,te),this._compositionMode=fe,null==this._compositionMode&&(this._compositionMode=!function yt(){const U=(0,Ce.rb)()?(0,Ce.rb)().getUserAgent():"";return/android (\d+)/.test(U.toLowerCase())}())}writeValue(N){this.setProperty("value",N??"")}_handleInput(N){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(N)}_compositionStart(){this._composing=!0}_compositionEnd(N){this._composing=!1,this._compositionMode&&this.onChange(N)}static \u0275fac=function(te){return new(te||U)(A.rXU(A.sFG),A.rXU(A.aKT),A.rXU(rt,8))};static \u0275dir=A.FsC({type:U,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(te,fe){1&te&&A.bIt("input",function(Lt){return fe._handleInput(Lt.target.value)})("blur",function(){return fe.onTouched()})("compositionstart",function(){return fe._compositionStart()})("compositionend",function(Lt){return fe._compositionEnd(Lt.target.value)})},standalone:!1,features:[A.Jv_([ut]),A.Vt3]})}return U})();function kt(U){return null==U||0===Xt(U)}function Xt(U){return null==U?null:Array.isArray(U)||"string"==typeof U?U.length:U instanceof Set?U.size:null}const nt=new c.nKC(""),$t=new c.nKC(""),Et=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ge{static min(K){return Oe(K)}static max(K){return Ve(K)}static required(K){return Fe(K)}static requiredTrue(K){return function ot(U){return!0===U.value?null:{required:!0}}(K)}static email(K){return function Bt(U){return kt(U.value)||Et.test(U.value)?null:{email:!0}}(K)}static minLength(K){return function Rt(U){return K=>{const N=K.value?.length??Xt(K.value);return null===N||0===N?null:N<U?{minlength:{requiredLength:U,actualLength:N}}:null}}(K)}static maxLength(K){return function qt(U){return K=>{const N=K.value?.length??Xt(K.value);return null!==N&&N>U?{maxlength:{requiredLength:U,actualLength:N}}:null}}(K)}static pattern(K){return function zt(U){if(!U)return Ht;let K,N;return"string"==typeof U?(N="","^"!==U.charAt(0)&&(N+="^"),N+=U,"$"!==U.charAt(U.length-1)&&(N+="$"),K=new RegExp(N)):(N=U.toString(),K=U),te=>{if(kt(te.value))return null;const fe=te.value;return K.test(fe)?null:{pattern:{requiredPattern:N,actualValue:fe}}}}(K)}static nullValidator(K){return null}static compose(K){return zi(K)}static composeAsync(K){return Mi(K)}}function Oe(U){return K=>{if(null==K.value||null==U)return null;const N=parseFloat(K.value);return!isNaN(N)&&N<U?{min:{min:U,actual:K.value}}:null}}function Ve(U){return K=>{if(null==K.value||null==U)return null;const N=parseFloat(K.value);return!isNaN(N)&&N>U?{max:{max:U,actual:K.value}}:null}}function Fe(U){return kt(U.value)?{required:!0}:null}function Ht(U){return null}function Gi(U){return null!=U}function xt(U){return(0,A.yLl)(U)?(0,de.H)(U):U}function Qi(U){let K={};return U.forEach(N=>{K=null!=N?{...K,...N}:K}),0===Object.keys(K).length?null:K}function Vi(U,K){return K.map(N=>N(U))}function Oi(U){return U.map(K=>function wi(U){return!U.validate}(K)?K:N=>K.validate(N))}function zi(U){if(!U)return null;const K=U.filter(Gi);return 0==K.length?null:function(N){return Qi(Vi(N,K))}}function Sn(U){return null!=U?zi(Oi(U)):null}function Mi(U){if(!U)return null;const K=U.filter(Gi);return 0==K.length?null:function(N){return function ct(...U){if(1===U.length){const K=U[0];if((0,xe.c)(K))return Je(K,null);if((0,Ne.G)(K)&&Object.getPrototypeOf(K)===Object.prototype){const N=Object.keys(K);return Je(N.map(te=>K[te]),N)}}if("function"==typeof U[U.length-1]){const K=U.pop();return Je(U=1===U.length&&(0,xe.c)(U[0])?U[0]:U,null).pipe((0,Ue.T)(N=>K(...N)))}return Je(U,null)}(Vi(N,K).map(xt)).pipe((0,Ue.T)(Qi))}}function fi(U){return null!=U?Mi(Oi(U)):null}function Ci(U,K){return null===U?[K]:Array.isArray(U)?[...U,K]:[U,K]}function Nn(U){return U._rawValidators}function pn(U){return U._rawAsyncValidators}function nn(U){return U?Array.isArray(U)?U:[U]:[]}function an(U,K){return Array.isArray(U)?U.includes(K):U===K}function Yi(U,K){const N=nn(K);return nn(U).forEach(fe=>{an(N,fe)||N.push(fe)}),N}function In(U,K){return nn(K).filter(N=>!an(U,N))}class Bi{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(K){this._rawValidators=K||[],this._composedValidatorFn=Sn(this._rawValidators)}_setAsyncValidators(K){this._rawAsyncValidators=K||[],this._composedAsyncValidatorFn=fi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(K){this._onDestroyCallbacks.push(K)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(K=>K()),this._onDestroyCallbacks=[]}reset(K=void 0){this.control&&this.control.reset(K)}hasError(K,N){return!!this.control&&this.control.hasError(K,N)}getError(K,N){return this.control?this.control.getError(K,N):null}}class pi extends Bi{name;get formDirective(){return null}get path(){return null}}class Ii extends Bi{_parent=null;name=null;valueAccessor=null}class Hi{_cd;constructor(K){this._cd=K}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let bi=(()=>{class U extends Hi{constructor(N){super(N)}static \u0275fac=function(te){return new(te||U)(A.rXU(Ii,2))};static \u0275dir=A.FsC({type:U,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(te,fe){2&te&&A.AVh("ng-untouched",fe.isUntouched)("ng-touched",fe.isTouched)("ng-pristine",fe.isPristine)("ng-dirty",fe.isDirty)("ng-valid",fe.isValid)("ng-invalid",fe.isInvalid)("ng-pending",fe.isPending)},standalone:!1,features:[A.Vt3]})}return U})(),qi=(()=>{class U extends Hi{constructor(N){super(N)}static \u0275fac=function(te){return new(te||U)(A.rXU(pi,10))};static \u0275dir=A.FsC({type:U,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(te,fe){2&te&&A.AVh("ng-untouched",fe.isUntouched)("ng-touched",fe.isTouched)("ng-pristine",fe.isPristine)("ng-dirty",fe.isDirty)("ng-valid",fe.isValid)("ng-invalid",fe.isInvalid)("ng-pending",fe.isPending)("ng-submitted",fe.isSubmitted)},standalone:!1,features:[A.Vt3]})}return U})();const ve="VALID",Le="INVALID",We="PENDING",je="DISABLED";class ze{}class Kt extends ze{value;source;constructor(K,N){super(),this.value=K,this.source=N}}class At extends ze{pristine;source;constructor(K,N){super(),this.pristine=K,this.source=N}}class Pi extends ze{touched;source;constructor(K,N){super(),this.touched=K,this.source=N}}class Fi extends ze{status;source;constructor(K,N){super(),this.status=K,this.source=N}}class mi extends ze{source;constructor(K){super(),this.source=K}}class gi extends ze{source;constructor(K){super(),this.source=K}}function rn(U){return(Yt(U)?U.validators:U)||null}function Ri(U,K){return(Yt(K)?K.asyncValidators:U)||null}function Yt(U){return null!=U&&!Array.isArray(U)&&"object"==typeof U}function Ai(U,K,N){const te=U.controls;if(!(K?Object.keys(te):te).length)throw new c.buA(1e3,"");if(!te[N])throw new c.buA(1001,"")}function ki(U,K,N){U._forEachChild((te,fe)=>{if(void 0===N[fe])throw new c.buA(1002,"")})}class Jt{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(K,N){this._assignValidators(K),this._assignAsyncValidators(N)}get validator(){return this._composedValidatorFn}set validator(K){this._rawValidators=this._composedValidatorFn=K}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(K){this._rawAsyncValidators=this._composedAsyncValidatorFn=K}get parent(){return this._parent}get status(){return(0,c.O8t)(this.statusReactive)}set status(K){(0,c.O8t)(()=>this.statusReactive.set(K))}_status=r(()=>this.statusReactive());statusReactive=(0,c.vPA)(void 0);get valid(){return this.status===ve}get invalid(){return this.status===Le}get pending(){return this.status==We}get disabled(){return this.status===je}get enabled(){return this.status!==je}errors;get pristine(){return(0,c.O8t)(this.pristineReactive)}set pristine(K){(0,c.O8t)(()=>this.pristineReactive.set(K))}_pristine=r(()=>this.pristineReactive());pristineReactive=(0,c.vPA)(!0);get dirty(){return!this.pristine}get touched(){return(0,c.O8t)(this.touchedReactive)}set touched(K){(0,c.O8t)(()=>this.touchedReactive.set(K))}_touched=r(()=>this.touchedReactive());touchedReactive=(0,c.vPA)(!1);get untouched(){return!this.touched}_events=new Ke.B7;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(K){this._assignValidators(K)}setAsyncValidators(K){this._assignAsyncValidators(K)}addValidators(K){this.setValidators(Yi(K,this._rawValidators))}addAsyncValidators(K){this.setAsyncValidators(Yi(K,this._rawAsyncValidators))}removeValidators(K){this.setValidators(In(K,this._rawValidators))}removeAsyncValidators(K){this.setAsyncValidators(In(K,this._rawAsyncValidators))}hasValidator(K){return an(this._rawValidators,K)}hasAsyncValidator(K){return an(this._rawAsyncValidators,K)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(K={}){const N=!1===this.touched;this.touched=!0;const te=K.sourceControl??this;this._parent&&!K.onlySelf&&this._parent.markAsTouched({...K,sourceControl:te}),N&&!1!==K.emitEvent&&this._events.next(new Pi(!0,te))}markAllAsDirty(K={}){this.markAsDirty({onlySelf:!0,emitEvent:K.emitEvent,sourceControl:this}),this._forEachChild(N=>N.markAllAsDirty(K))}markAllAsTouched(K={}){this.markAsTouched({onlySelf:!0,emitEvent:K.emitEvent,sourceControl:this}),this._forEachChild(N=>N.markAllAsTouched(K))}markAsUntouched(K={}){const N=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const te=K.sourceControl??this;this._forEachChild(fe=>{fe.markAsUntouched({onlySelf:!0,emitEvent:K.emitEvent,sourceControl:te})}),this._parent&&!K.onlySelf&&this._parent._updateTouched(K,te),N&&!1!==K.emitEvent&&this._events.next(new Pi(!1,te))}markAsDirty(K={}){const N=!0===this.pristine;this.pristine=!1;const te=K.sourceControl??this;this._parent&&!K.onlySelf&&this._parent.markAsDirty({...K,sourceControl:te}),N&&!1!==K.emitEvent&&this._events.next(new At(!1,te))}markAsPristine(K={}){const N=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const te=K.sourceControl??this;this._forEachChild(fe=>{fe.markAsPristine({onlySelf:!0,emitEvent:K.emitEvent})}),this._parent&&!K.onlySelf&&this._parent._updatePristine(K,te),N&&!1!==K.emitEvent&&this._events.next(new At(!0,te))}markAsPending(K={}){this.status=We;const N=K.sourceControl??this;!1!==K.emitEvent&&(this._events.next(new Fi(this.status,N)),this.statusChanges.emit(this.status)),this._parent&&!K.onlySelf&&this._parent.markAsPending({...K,sourceControl:N})}disable(K={}){const N=this._parentMarkedDirty(K.onlySelf);this.status=je,this.errors=null,this._forEachChild(fe=>{fe.disable({...K,onlySelf:!0})}),this._updateValue();const te=K.sourceControl??this;!1!==K.emitEvent&&(this._events.next(new Kt(this.value,te)),this._events.next(new Fi(this.status,te)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...K,skipPristineCheck:N},this),this._onDisabledChange.forEach(fe=>fe(!0))}enable(K={}){const N=this._parentMarkedDirty(K.onlySelf);this.status=ve,this._forEachChild(te=>{te.enable({...K,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:K.emitEvent}),this._updateAncestors({...K,skipPristineCheck:N},this),this._onDisabledChange.forEach(te=>te(!1))}_updateAncestors(K,N){this._parent&&!K.onlySelf&&(this._parent.updateValueAndValidity(K),K.skipPristineCheck||this._parent._updatePristine({},N),this._parent._updateTouched({},N))}setParent(K){this._parent=K}getRawValue(){return this.value}updateValueAndValidity(K={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const te=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ve||this.status===We)&&this._runAsyncValidator(te,K.emitEvent)}const N=K.sourceControl??this;!1!==K.emitEvent&&(this._events.next(new Kt(this.value,N)),this._events.next(new Fi(this.status,N)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!K.onlySelf&&this._parent.updateValueAndValidity({...K,sourceControl:N})}_updateTreeValidity(K={emitEvent:!0}){this._forEachChild(N=>N._updateTreeValidity(K)),this.updateValueAndValidity({onlySelf:!0,emitEvent:K.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?je:ve}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(K,N){if(this.asyncValidator){this.status=We,this._hasOwnPendingAsyncValidator={emitEvent:!1!==N,shouldHaveEmitted:!1!==K};const te=xt(this.asyncValidator(this));this._asyncValidationSubscription=te.subscribe(fe=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(fe,{emitEvent:N,shouldHaveEmitted:K})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const K=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,K}return!1}setErrors(K,N={}){this.errors=K,this._updateControlsErrors(!1!==N.emitEvent,this,N.shouldHaveEmitted)}get(K){let N=K;return null==N||(Array.isArray(N)||(N=N.split(".")),0===N.length)?null:N.reduce((te,fe)=>te&&te._find(fe),this)}getError(K,N){const te=N?this.get(N):this;return te&&te.errors?te.errors[K]:null}hasError(K,N){return!!this.getError(K,N)}get root(){let K=this;for(;K._parent;)K=K._parent;return K}_updateControlsErrors(K,N,te){this.status=this._calculateStatus(),K&&this.statusChanges.emit(this.status),(K||te)&&this._events.next(new Fi(this.status,N)),this._parent&&this._parent._updateControlsErrors(K,N,te)}_initObservables(){this.valueChanges=new c.bkB,this.statusChanges=new c.bkB}_calculateStatus(){return this._allControlsDisabled()?je:this.errors?Le:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(We)?We:this._anyControlsHaveStatus(Le)?Le:ve}_anyControlsHaveStatus(K){return this._anyControls(N=>N.status===K)}_anyControlsDirty(){return this._anyControls(K=>K.dirty)}_anyControlsTouched(){return this._anyControls(K=>K.touched)}_updatePristine(K,N){const te=!this._anyControlsDirty(),fe=this.pristine!==te;this.pristine=te,this._parent&&!K.onlySelf&&this._parent._updatePristine(K,N),fe&&this._events.next(new At(this.pristine,N))}_updateTouched(K={},N){this.touched=this._anyControlsTouched(),this._events.next(new Pi(this.touched,N)),this._parent&&!K.onlySelf&&this._parent._updateTouched(K,N)}_onDisabledChange=[];_registerOnCollectionChange(K){this._onCollectionChange=K}_setUpdateStrategy(K){Yt(K)&&null!=K.updateOn&&(this._updateOn=K.updateOn)}_parentMarkedDirty(K){return!K&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(K){return null}_assignValidators(K){this._rawValidators=Array.isArray(K)?K.slice():K,this._composedValidatorFn=function ri(U){return Array.isArray(U)?Sn(U):U||null}(this._rawValidators)}_assignAsyncValidators(K){this._rawAsyncValidators=Array.isArray(K)?K.slice():K,this._composedAsyncValidatorFn=function Gt(U){return Array.isArray(U)?fi(U):U||null}(this._rawAsyncValidators)}}class Li extends Jt{constructor(K,N,te){super(rn(N),Ri(te,N)),this.controls=K,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(K,N){return this.controls[K]?this.controls[K]:(this.controls[K]=N,N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange),N)}addControl(K,N,te={}){this.registerControl(K,N),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}removeControl(K,N={}){this.controls[K]&&this.controls[K]._registerOnCollectionChange(()=>{}),delete this.controls[K],this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}setControl(K,N,te={}){this.controls[K]&&this.controls[K]._registerOnCollectionChange(()=>{}),delete this.controls[K],N&&this.registerControl(K,N),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}contains(K){return this.controls.hasOwnProperty(K)&&this.controls[K].enabled}setValue(K,N={}){ki(this,0,K),Object.keys(K).forEach(te=>{Ai(this,!0,te),this.controls[te].setValue(K[te],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(K,N={}){null!=K&&(Object.keys(K).forEach(te=>{const fe=this.controls[te];fe&&fe.patchValue(K[te],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(K={},N={}){this._forEachChild((te,fe)=>{te.reset(K?K[fe]:null,{...N,onlySelf:!0})}),this._updatePristine(N,this),this._updateTouched(N,this),this.updateValueAndValidity(N),!1!==N?.emitEvent&&this._events.next(new gi(this))}getRawValue(){return this._reduceChildren({},(K,N,te)=>(K[te]=N.getRawValue(),K))}_syncPendingControls(){let K=this._reduceChildren(!1,(N,te)=>!!te._syncPendingControls()||N);return K&&this.updateValueAndValidity({onlySelf:!0}),K}_forEachChild(K){Object.keys(this.controls).forEach(N=>{const te=this.controls[N];te&&K(te,N)})}_setUpControls(){this._forEachChild(K=>{K.setParent(this),K._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(K){for(const[N,te]of Object.entries(this.controls))if(this.contains(N)&&K(te))return!0;return!1}_reduceValue(){return this._reduceChildren({},(N,te,fe)=>((te.enabled||this.disabled)&&(N[fe]=te.value),N))}_reduceChildren(K,N){let te=K;return this._forEachChild((fe,_t)=>{te=N(te,fe,_t)}),te}_allControlsDisabled(){for(const K of Object.keys(this.controls))if(this.controls[K].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(K){return this.controls.hasOwnProperty(K)?this.controls[K]:null}}const mn=new c.nKC("",{factory:()=>tn}),tn="always";function sa(U,K){return[...K.path,U]}function zn(U,K,N=tn){Un(U,K),K.valueAccessor.writeValue(U.value),(U.disabled||"always"===N)&&K.valueAccessor.setDisabledState?.(U.disabled),function Za(U,K){K.valueAccessor.registerOnChange(N=>{U._pendingValue=N,U._pendingChange=!0,U._pendingDirty=!0,"change"===U.updateOn&&me(U,K)})}(U,K),function ie(U,K){const N=(te,fe)=>{K.valueAccessor.writeValue(te),fe&&K.viewToModelUpdate(te)};U.registerOnChange(N),K._registerOnDestroy(()=>{U._unregisterOnChange(N)})}(U,K),function Y(U,K){K.valueAccessor.registerOnTouched(()=>{U._pendingTouched=!0,"blur"===U.updateOn&&U._pendingChange&&me(U,K),"submit"!==U.updateOn&&U.markAsTouched()})}(U,K),function Ma(U,K){if(K.valueAccessor.setDisabledState){const N=te=>{K.valueAccessor.setDisabledState(te)};U.registerOnDisabledChange(N),K._registerOnDestroy(()=>{U._unregisterOnDisabledChange(N)})}}(U,K)}function _n(U,K,N=!0){const te=()=>{};K.valueAccessor&&(K.valueAccessor.registerOnChange(te),K.valueAccessor.registerOnTouched(te)),Cn(U,K),U&&(K._invokeOnDestroyCallbacks(),U._registerOnCollectionChange(()=>{}))}function fn(U,K){U.forEach(N=>{N.registerOnValidatorChange&&N.registerOnValidatorChange(K)})}function Un(U,K){const N=Nn(U);null!==K.validator?U.setValidators(Ci(N,K.validator)):"function"==typeof N&&U.setValidators([N]);const te=pn(U);null!==K.asyncValidator?U.setAsyncValidators(Ci(te,K.asyncValidator)):"function"==typeof te&&U.setAsyncValidators([te]);const fe=()=>U.updateValueAndValidity();fn(K._rawValidators,fe),fn(K._rawAsyncValidators,fe)}function Cn(U,K){let N=!1;if(null!==U){if(null!==K.validator){const fe=Nn(U);if(Array.isArray(fe)&&fe.length>0){const _t=fe.filter(Lt=>Lt!==K.validator);_t.length!==fe.length&&(N=!0,U.setValidators(_t))}}if(null!==K.asyncValidator){const fe=pn(U);if(Array.isArray(fe)&&fe.length>0){const _t=fe.filter(Lt=>Lt!==K.asyncValidator);_t.length!==fe.length&&(N=!0,U.setAsyncValidators(_t))}}}const te=()=>{};return fn(K._rawValidators,te),fn(K._rawAsyncValidators,te),N}function me(U,K){U._pendingDirty&&U.markAsDirty(),U.setValue(U._pendingValue,{emitModelToViewChange:!1}),K.viewToModelUpdate(U._pendingValue),U._pendingChange=!1}function si(U,K){if(!U.hasOwnProperty("model"))return!1;const N=U.model;return!!N.isFirstChange()||!Object.is(K,N.currentValue)}function oi(U,K){if(!K)return null;let N,te,fe;return Array.isArray(K),K.forEach(_t=>{_t.constructor===He?N=_t:function Qt(U){return Object.getPrototypeOf(U.constructor)===mt}(_t)?te=_t:fe=_t}),fe||te||N||null}function xn(U,K){const N=U.indexOf(K);N>-1&&U.splice(N,1)}function ma(U){return"object"==typeof U&&null!==U&&2===Object.keys(U).length&&"value"in U&&"disabled"in U}Promise.resolve();const kn=class extends Jt{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(K=null,N,te){super(rn(N),Ri(te,N)),this._applyFormState(K),this._setUpdateStrategy(N),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Yt(N)&&(N.nonNullable||N.initialValueIsDefault)&&(this.defaultValue=ma(K)?K.value:K)}setValue(K,N={}){this.value=this._pendingValue=K,this._onChange.length&&!1!==N.emitModelToViewChange&&this._onChange.forEach(te=>te(this.value,!1!==N.emitViewToModelChange)),this.updateValueAndValidity(N)}patchValue(K,N={}){this.setValue(K,N)}reset(K=this.defaultValue,N={}){this._applyFormState(K),this.markAsPristine(N),this.markAsUntouched(N),this.setValue(this.value,N),N.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,!1!==N?.emitEvent&&this._events.next(new gi(this))}_updateValue(){}_anyControls(K){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(K){this._onChange.push(K)}_unregisterOnChange(K){xn(this._onChange,K)}registerOnDisabledChange(K){this._onDisabledChange.push(K)}_unregisterOnDisabledChange(K){xn(this._onDisabledChange,K)}_forEachChild(K){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(K){ma(K)?(this.value=this._pendingValue=K.value,K.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=K}},Lr={provide:Ii,useExisting:(0,c.Rfq)(()=>ys)},ts=Promise.resolve();let ys=(()=>{class U extends Ii{_changeDetectorRef;callSetDisabledState;control=new kn;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new c.bkB;constructor(N,te,fe,_t,Lt,ci){super(),this._changeDetectorRef=Lt,this.callSetDisabledState=ci,this._parent=N,this._setValidators(te),this._setAsyncValidators(fe),this.valueAccessor=oi(0,_t)}ngOnChanges(N){if(this._checkForErrors(),!this._registered||"name"in N){if(this._registered&&(this._checkName(),this.formDirective)){const te=N.name.previousValue;this.formDirective.removeControl({name:te,path:this._getPath(te)})}this._setUpControl()}"isDisabled"in N&&this._updateDisabled(N),si(N,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){zn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(N){ts.then(()=>{this.control.setValue(N,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(N){const te=N.isDisabled.currentValue,fe=0!==te&&(0,Se.L39)(te);ts.then(()=>{fe&&!this.control.disabled?this.control.disable():!fe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(N){return this._parent?sa(N,this._parent):[N]}static \u0275fac=function(te){return new(te||U)(A.rXU(pi,9),A.rXU(nt,10),A.rXU($t,10),A.rXU(pt,10),A.rXU(Se.gRc,8),A.rXU(mn,8))};static \u0275dir=A.FsC({type:U,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[A.Jv_([Lr]),A.Vt3,A.OA$]})}return U})(),Ua=(()=>{class U{static \u0275fac=function(te){return new(te||U)};static \u0275dir=A.FsC({type:U,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return U})();const jt={provide:pt,useExisting:(0,c.Rfq)(()=>ue),multi:!0};let ue=(()=>{class U extends mt{writeValue(N){this.setProperty("value",N??"")}registerOnChange(N){this.onChange=te=>{N(""==te?null:parseFloat(te))}}static \u0275fac=(()=>{let N;return function(fe){return(N||(N=A.xGo(U)))(fe||U)}})();static \u0275dir=A.FsC({type:U,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(te,fe){1&te&&A.bIt("input",function(Lt){return fe.onChange(Lt.target.value)})("blur",function(){return fe.onTouched()})},standalone:!1,features:[A.Jv_([jt]),A.Vt3]})}return U})();const rr={provide:pt,useExisting:(0,c.Rfq)(()=>va),multi:!0};let va=(()=>{class U extends mt{writeValue(N){this.setProperty("value",parseFloat(N))}registerOnChange(N){this.onChange=te=>{N(""==te?null:parseFloat(te))}}static \u0275fac=(()=>{let N;return function(fe){return(N||(N=A.xGo(U)))(fe||U)}})();static \u0275dir=A.FsC({type:U,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(te,fe){1&te&&A.bIt("change",function(Lt){return fe.onChange(Lt.target.value)})("input",function(Lt){return fe.onChange(Lt.target.value)})("blur",function(){return fe.onTouched()})},standalone:!1,features:[A.Jv_([rr]),A.Vt3]})}return U})();class ei extends Jt{constructor(K,N,te){super(rn(N),Ri(te,N)),this.controls=K,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(K){return this.controls[this._adjustIndex(K)]}push(K,N={}){Array.isArray(K)?K.forEach(te=>{this.controls.push(te),this._registerControl(te)}):(this.controls.push(K),this._registerControl(K)),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}insert(K,N,te={}){this.controls.splice(K,0,N),this._registerControl(N),this.updateValueAndValidity({emitEvent:te.emitEvent})}removeAt(K,N={}){let te=this._adjustIndex(K);te<0&&(te=0),this.controls[te]&&this.controls[te]._registerOnCollectionChange(()=>{}),this.controls.splice(te,1),this.updateValueAndValidity({emitEvent:N.emitEvent})}setControl(K,N,te={}){let fe=this._adjustIndex(K);fe<0&&(fe=0),this.controls[fe]&&this.controls[fe]._registerOnCollectionChange(()=>{}),this.controls.splice(fe,1),N&&(this.controls.splice(fe,0,N),this._registerControl(N)),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(K,N={}){ki(this,0,K),K.forEach((te,fe)=>{Ai(this,!1,fe),this.at(fe).setValue(te,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(K,N={}){null!=K&&(K.forEach((te,fe)=>{this.at(fe)&&this.at(fe).patchValue(te,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(K=[],N={}){this._forEachChild((te,fe)=>{te.reset(K[fe],{...N,onlySelf:!0})}),this._updatePristine(N,this),this._updateTouched(N,this),this.updateValueAndValidity(N),!1!==N?.emitEvent&&this._events.next(new gi(this))}getRawValue(){return this.controls.map(K=>K.getRawValue())}clear(K={}){this.controls.length<1||(this._forEachChild(N=>N._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:K.emitEvent}))}_adjustIndex(K){return K<0?K+this.length:K}_syncPendingControls(){let K=this.controls.reduce((N,te)=>!!te._syncPendingControls()||N,!1);return K&&this.updateValueAndValidity({onlySelf:!0}),K}_forEachChild(K){this.controls.forEach((N,te)=>{K(N,te)})}_updateValue(){this.value=this.controls.filter(K=>K.enabled||this.disabled).map(K=>K.value)}_anyControls(K){return this.controls.some(N=>N.enabled&&K(N))}_setUpControls(){this._forEachChild(K=>this._registerControl(K))}_allControlsDisabled(){for(const K of this.controls)if(K.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(K){K.setParent(this),K._registerOnCollectionChange(this._onCollectionChange)}_find(K){return this.at(K)??null}}let ee=(()=>{class U extends pi{callSetDisabledState;get submitted(){return(0,c.O8t)(this._submittedReactive)}set submitted(N){this._submittedReactive.set(N)}_submitted=r(()=>this._submittedReactive());_submittedReactive=(0,c.vPA)(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(N,te,fe){super(),this.callSetDisabledState=fe,this._setValidators(N),this._setAsyncValidators(te)}ngOnChanges(N){this.onChanges(N)}ngOnDestroy(){this.onDestroy()}onChanges(N){this._checkFormPresent(),N.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(Cn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(N){const te=this.form.get(N.path);return zn(te,N,this.callSetDisabledState),te.updateValueAndValidity({emitEvent:!1}),this.directives.push(N),te}getControl(N){return this.form.get(N.path)}removeControl(N){_n(N.control||null,N,!1),function vi(U,K){const N=U.indexOf(K);N>-1&&U.splice(N,1)}(this.directives,N)}addFormGroup(N){this._setUpFormContainer(N)}removeFormGroup(N){this._cleanUpFormContainer(N)}getFormGroup(N){return this.form.get(N.path)}getFormArray(N){return this.form.get(N.path)}addFormArray(N){this._setUpFormContainer(N)}removeFormArray(N){this._cleanUpFormContainer(N)}updateModel(N,te){this.form.get(N.path).setValue(te)}onReset(){this.resetForm()}resetForm(N=void 0,te={}){this.form.reset(N,te),this._submittedReactive.set(!1)}onSubmit(N){return this.submitted=!0,function Ti(U,K){U._syncPendingControls(),K.forEach(N=>{const te=N.control;"submit"===te.updateOn&&te._pendingChange&&(N.viewToModelUpdate(te._pendingValue),te._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(N),this.form._events.next(new mi(this.control)),"dialog"===N?.target?.method}_updateDomValue(){this.directives.forEach(N=>{const te=N.control,fe=this.form.get(N.path);te!==fe&&(_n(te||null,N),(U=>U instanceof kn)(fe)&&(zn(fe,N,this.callSetDisabledState),N.control=fe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(N){const te=this.form.get(N.path);(function re(U,K){Un(U,K)})(te,N),te.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(N){if(this.form){const te=this.form.get(N.path);te&&function De(U,K){return Cn(U,K)}(te,N)&&te.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Un(this.form,this),this._oldForm&&Cn(this._oldForm,this)}_checkFormPresent(){}static \u0275fac=function(te){return new(te||U)(A.rXU(nt,10),A.rXU($t,10),A.rXU(mn,8))};static \u0275dir=A.FsC({type:U,features:[A.Vt3,A.OA$]})}return U})();const he=new c.nKC(""),wt={provide:Ii,useExisting:(0,c.Rfq)(()=>_i)};let _i=(()=>{class U extends Ii{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(N){}model;update=new c.bkB;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(N,te,fe,_t,Lt){super(),this._ngModelWarningConfig=Lt,this._parent=N,this._setValidators(te),this._setAsyncValidators(fe),this.valueAccessor=oi(0,_t)}ngOnChanges(N){this._added||this._setUpControl(),si(N,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}get path(){return sa(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(te){return new(te||U)(A.rXU(pi,13),A.rXU(nt,10),A.rXU($t,10),A.rXU(pt,10),A.rXU(he,8))};static \u0275dir=A.FsC({type:U,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[A.Jv_([wt]),A.Vt3,A.OA$]})}return U})();const yn={provide:pi,useExisting:(0,c.Rfq)(()=>bn)};let bn=(()=>{class U extends ee{form=null;ngSubmit=new c.bkB;get control(){return this.form}static \u0275fac=(()=>{let N;return function(fe){return(N||(N=A.xGo(U)))(fe||U)}})();static \u0275dir=A.FsC({type:U,selectors:[["","formGroup",""]],hostBindings:function(te,fe){1&te&&A.bIt("submit",function(Lt){return fe.onSubmit(Lt)})("reset",function(){return fe.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[A.Jv_([yn]),A.Vt3]})}return U})();const Ji={provide:pt,useExisting:(0,c.Rfq)(()=>Kn),multi:!0};function ji(U,K){return null==U?`${K}`:(K&&"object"==typeof K&&(K="Object"),`${U}: ${K}`.slice(0,50))}let Kn=(()=>{class U extends mt{value;_optionMap=new Map;_idCounter=0;set compareWith(N){this._compareWith=N}_compareWith=Object.is;appRefInjector=(0,c.WQX)(A.o8S).injector;destroyRef=(0,c.WQX)(c.abz);cdr=(0,c.WQX)(Se.gRc);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,(0,A.mal)({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(N){this.cdr.markForCheck(),this.value=N;const fe=ji(this._getOptionId(N),N);this.setProperty("value",fe)}registerOnChange(N){this.onChange=te=>{this.value=this._getOptionValue(te),N(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(N){for(const te of this._optionMap.keys())if(this._compareWith(this._optionMap.get(te),N))return te;return null}_getOptionValue(N){const te=function ns(U){return U.split(":")[0]}(N);return this._optionMap.has(te)?this._optionMap.get(te):N}static \u0275fac=(()=>{let N;return function(fe){return(N||(N=A.xGo(U)))(fe||U)}})();static \u0275dir=A.FsC({type:U,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(te,fe){1&te&&A.bIt("change",function(Lt){return fe.onChange(Lt.target.value)})("blur",function(){return fe.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[A.Jv_([Ji]),A.Vt3]})}return U})(),Ks=(()=>{class U{_element;_renderer;_select;id;constructor(N,te,fe){this._element=N,this._renderer=te,this._select=fe,this._select&&(this.id=this._select._registerOption())}set ngValue(N){null!=this._select&&(this._select._optionMap.set(this.id,N),this._setElementValue(ji(this.id,N)),this._select._writeValueAfterRender())}set value(N){this._setElementValue(N),this._select&&this._select._writeValueAfterRender()}_setElementValue(N){this._renderer.setProperty(this._element.nativeElement,"value",N)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(te){return new(te||U)(A.rXU(A.aKT),A.rXU(A.sFG),A.rXU(Kn,9))};static \u0275dir=A.FsC({type:U,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return U})();const ka={provide:pt,useExisting:(0,c.Rfq)(()=>Es),multi:!0};function As(U,K){return null==U?`${K}`:("string"==typeof K&&(K=`'${K}'`),K&&"object"==typeof K&&(K="Object"),`${U}: ${K}`.slice(0,50))}let Es=(()=>{class U extends mt{value;_optionMap=new Map;_idCounter=0;set compareWith(N){this._compareWith=N}_compareWith=Object.is;writeValue(N){let te;if(this.value=N,Array.isArray(N)){const fe=N.map(_t=>this._getOptionId(_t));te=(_t,Lt)=>{_t._setSelected(fe.indexOf(Lt.toString())>-1)}}else te=(fe,_t)=>{fe._setSelected(!1)};this._optionMap.forEach(te)}registerOnChange(N){this.onChange=te=>{const fe=[],_t=te.selectedOptions;if(void 0!==_t){const Lt=_t;for(let ci=0;ci<Lt.length;ci++){const Ga=this._getOptionValue(Lt[ci].value);fe.push(Ga)}}else{const Lt=te.options;for(let ci=0;ci<Lt.length;ci++){const cn=Lt[ci];if(cn.selected){const Ga=this._getOptionValue(cn.value);fe.push(Ga)}}}this.value=fe,N(fe)}}_registerOption(N){const te=(this._idCounter++).toString();return this._optionMap.set(te,N),te}_getOptionId(N){for(const te of this._optionMap.keys())if(this._compareWith(this._optionMap.get(te)._value,N))return te;return null}_getOptionValue(N){const te=function $s(U){return U.split(":")[0]}(N);return this._optionMap.has(te)?this._optionMap.get(te)._value:N}static \u0275fac=(()=>{let N;return function(fe){return(N||(N=A.xGo(U)))(fe||U)}})();static \u0275dir=A.FsC({type:U,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(te,fe){1&te&&A.bIt("change",function(Lt){return fe.onChange(Lt.target)})("blur",function(){return fe.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[A.Jv_([ka]),A.Vt3]})}return U})(),or=(()=>{class U{_element;_renderer;_select;id;_value;constructor(N,te,fe){this._element=N,this._renderer=te,this._select=fe,this._select&&(this.id=this._select._registerOption(this))}set ngValue(N){null!=this._select&&(this._value=N,this._setElementValue(As(this.id,N)),this._select.writeValue(this._select.value))}set value(N){this._select?(this._value=N,this._setElementValue(As(this.id,N)),this._select.writeValue(this._select.value)):this._setElementValue(N)}_setElementValue(N){this._renderer.setProperty(this._element.nativeElement,"value",N)}_setSelected(N){this._renderer.setProperty(this._element.nativeElement,"selected",N)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(te){return new(te||U)(A.rXU(A.aKT),A.rXU(A.sFG),A.rXU(Es,9))};static \u0275dir=A.FsC({type:U,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return U})();function xr(U){return"number"==typeof U?U:parseFloat(U)}let as=(()=>{class U{_validator=Ht;_onChange;_enabled;ngOnChanges(N){if(this.inputName in N){const te=this.normalizeInput(N[this.inputName].currentValue);this._enabled=this.enabled(te),this._validator=this._enabled?this.createValidator(te):Ht,this._onChange&&this._onChange()}}validate(N){return this._validator(N)}registerOnValidatorChange(N){this._onChange=N}enabled(N){return null!=N}static \u0275fac=function(te){return new(te||U)};static \u0275dir=A.FsC({type:U,features:[A.OA$]})}return U})();const lr={provide:nt,useExisting:(0,c.Rfq)(()=>Oo),multi:!0};let Oo=(()=>{class U extends as{max;inputName="max";normalizeInput=N=>xr(N);createValidator=N=>Ve(N);static \u0275fac=(()=>{let N;return function(fe){return(N||(N=A.xGo(U)))(fe||U)}})();static \u0275dir=A.FsC({type:U,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(te,fe){2&te&&A.BMQ("max",fe._enabled?fe.max:null)},inputs:{max:"max"},standalone:!1,features:[A.Jv_([lr]),A.Vt3]})}return U})();const Du={provide:nt,useExisting:(0,c.Rfq)(()=>Br),multi:!0};let Br=(()=>{class U extends as{min;inputName="min";normalizeInput=N=>xr(N);createValidator=N=>Oe(N);static \u0275fac=(()=>{let N;return function(fe){return(N||(N=A.xGo(U)))(fe||U)}})();static \u0275dir=A.FsC({type:U,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(te,fe){2&te&&A.BMQ("min",fe._enabled?fe.min:null)},inputs:{min:"min"},standalone:!1,features:[A.Jv_([Du]),A.Vt3]})}return U})();const Jl={provide:nt,useExisting:(0,c.Rfq)(()=>cr),multi:!0};let cr=(()=>{class U extends as{required;inputName="required";normalizeInput=Se.L39;createValidator=N=>Fe;enabled(N){return N}static \u0275fac=(()=>{let N;return function(fe){return(N||(N=A.xGo(U)))(fe||U)}})();static \u0275dir=A.FsC({type:U,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(te,fe){2&te&&A.BMQ("required",fe._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[A.Jv_([Jl]),A.Vt3]})}return U})(),ss=(()=>{class U{static \u0275fac=function(te){return new(te||U)};static \u0275mod=A.$C({type:U});static \u0275inj=c.G2t({})}return U})(),Cu=(()=>{class U{static withConfig(N){return{ngModule:U,providers:[{provide:mn,useValue:N.callSetDisabledState??tn}]}}static \u0275fac=function(te){return new(te||U)};static \u0275mod=A.$C({type:U});static \u0275inj=c.G2t({imports:[ss]})}return U})(),ql=(()=>{class U{static withConfig(N){return{ngModule:U,providers:[{provide:he,useValue:N.warnOnNgModelWithFormControl??"always"},{provide:mn,useValue:N.callSetDisabledState??tn}]}}static \u0275fac=function(te){return new(te||U)};static \u0275mod=A.$C({type:U});static \u0275inj=c.G2t({imports:[ss]})}return U})()},75152(O,S,i){i.d(S,{A:()=>E});var A=i(26509);const E=function c(_){var v=new _.constructor(_.byteLength);return new A.A(v).set(new A.A(_)),v}},75182(O,S,i){i.d(S,{j:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Dragonfly";tier=4;pack="Custom";attack=4;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DragonflyAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,n=this.level,a=t.parent.petArray.filter(r=>r&&r.alive&&r!==t),o=new Map;for(const r of a)o.has(r.level)||o.set(r.level,r);if(0!==o.size){for(const r of o.values())r.increaseAttack(n),r.increaseHealth(n);this.logService.createLog({message:`${t.name} gave friends +${n}/+${n} based on unique levels.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},75191(O,S,i){i.d(S,{w:()=>e});var A=i(49230),c=i(46200),E=i(5615),_=i(33127),v=i(57235);class e extends c.i{logService;abilityService;name="Patagonian Mara";tier=3;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new t(this,this.logService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends E.T{logService;constructor(a,o){super({name:"Patagonian Mara Ability",owner:a,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=o}executeAbility(a){const{tiger:o,pteranodon:r}=a,d=this.owner,g=d.parent,f=4*this.level;g.gainTrumpets(f,d,r);const D=_.I.getInjector().get(A.K),k=new v.K(this.logService,D,g,this.level,this.level);g.summonPet(k,d.position),this.logService.createLog({message:`${d.name} gained ${f} trumpets and summoned a Golden Retriever.`,type:"ability",player:g,tiger:o,pteranodon:r}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService)}}},75263(O,S,i){i.d(S,{B:()=>c});var A=i(22097);class c extends A.${name="Ambrosia";tier=4;equipmentClass="shield";power=8;originalPower=8;uses=1;originalUses=1}},75518(O,S,i){i.d(S,{j:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Saker Falcon";tier=2;pack="Danger";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SakerFalconAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;if(r.parent.petArray.length<r.parent.opponent.petArray.length){let f=r.parent.getThis(r),D=f.pet;if(!D)return;let k=2*this.level;D.increaseAttack(k),D.increaseHealth(k),this.logService.createLog({message:`${r.name} gave ${D.name} ${k} attack and ${k} health (outnumbered)`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},75540(O,S,i){i.d(S,{P:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Starfish";tier=5;pack="Star";attack=3;health=7;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"StarfishAbility",owner:e,triggers:["FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=e.triggerPet;if(!n||3!==n.level)return void this.triggerTigerExecution(e);const a=n.attack>=10?3:1,o=this.level*a,r=t.parent.petArray.filter(d=>d.alive);for(const d of r)d.increaseAttack(o),d.increaseHealth(o);this.logService.createLog({message:`${t.name} gave friends +${o}/+${o}${a>1?" (triple bonus)":""}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},75738(O,S,i){i.d(S,{A:()=>v});var A=i(77107),E=Object.prototype.hasOwnProperty;const v=function _(e){var t=this.__data__;return A.A?void 0!==t[e]:E.call(t,e)}},75756(O,S,i){i.d(S,{A:()=>_});var A=i(45525),c=i(1860);const _=(0,A.A)(c.A,"WeakMap")},75818(O,S,i){i.d(S,{V:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Hamster";tier=5;pack="Star";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;usesThisTurn=0;constructor(e,t,n){super({name:"HamsterAbility",owner:e,triggers:["Roll","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=2*this.level)return void this.triggerTigerExecution(e);this.usesThisTurn++;const n=this.owner;this.logService.createLog({message:`${n.name} gained a free roll.`,type:"ability",player:n.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},75898(O,S,i){i.d(S,{Q:()=>_});var A=i(22097),c=i(5615),E=i(3279);class _ extends A.${logService;name="Egg";tier=1;equipmentClass="beforeAttack";callback=t=>{const n=t.getEquippedEquipmentInstance(this);t.addAbility(new v(t,n))};constructor(t){super(),this.logService=t}}class v extends c.T{equipment;constructor(t,n){super({name:"EggAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=n}executeAbility(t){const{triggerPet:n}=t,a=this.owner;let o=this.equipment.multiplier;a instanceof E.D&&(o+=("Tiger"===n?.name?n.level:a.level)-1);for(let r=0;r<o;r++){let d=a.parent.opponent.petArray,g=null;for(let f of d)if(f.alive){g=f;break}null!=g&&a.snipePet(g,2,!1,!1,!1,!0,!1)}a.removePerk()}}},75970(O,S,i){i.d(S,{AT:()=>e,DQ:()=>t,Rd:()=>v,zq:()=>n});var A=i(61850),c=i(33524),E=i(33500),_=i(58857);const v=(a,o,r,d,g,f,D,k)=>{if(g&&(0,c.ku)(g)){const J=0===(0,_.k6)({key:"summon.silly-target-team",label:"Silly summon target team",options:[{id:"player",label:"Player team"},{id:"opponent",label:"Opponent team"}]},()=>(0,A.hw)(0,1)).index?a:a.opponent,H=(0,_.k6)({key:"summon.silly-position",label:"Silly summon position",options:[0,1,2,3,4].map(q=>({id:`slot-${q+1}`,label:`Slot ${q+1}`}))},()=>(0,A.hw)(0,4)).index;return o.parent=J,{success:v(J,o,H,d,void 0,f,D,k).success,randomEvent:!0}}return r<0||r>4?(d||f.createLog({message:`No room to spawn ${o.name}!`,type:"ability",player:a}),{success:!1,randomEvent:!1}):d&&null!=a.getPet(r)?{success:!1,randomEvent:!1}:5===a.petArray.length?(d||f.createLog({message:`No room to spawn ${o.name}!`,type:"ability",player:a}),{success:!1,randomEvent:!1}):(a===k.gameApi.player?k.gameApi.playerSummonedAmount++:k.gameApi.opponentSummonedAmount++,0===r&&(null!=a.pet0&&(0,E.vI)(a,0),a.setPet(0,o)),1===r&&(null!=a.pet1&&(0,E.vI)(a,1),a.setPet(1,o)),2===r&&(null!=a.pet2&&(0,E.vI)(a,2),a.setPet(2,o)),3===r&&(null!=a.pet3&&(0,E.vI)(a,3),a.setPet(3,o)),4===r&&(null!=a.pet4&&(0,E.vI)(a,4),a.setPet(4,o)),D.triggerSummonEvents(o),{success:!0,randomEvent:!1})},e=(a,o,r,d,g)=>{const f=o?.parent??a;r.parent!==f&&(r.parent=f),f.setPet((()=>{for(let F=0;F<=4;F++)if(f.getPet(F)===o)return F;if(o?.transformedInto)for(let F=0;F<=4;F++)if(f.getPet(F)===o.transformedInto)return F;const L=Number(o?.savedPosition);if(Number.isInteger(L)&&L>=0&&L<=4)return L;for(let F=0;F<=4;F++)if(null==f.getPet(F))return F;return 0})(),r),f===g.gameApi.player?g.gameApi.playerTransformationAmount++:g.gameApi.opponentTransformationAmount++,o.transformed=!0,o.transformedInto=r,r.applyEquipment(r.equipment),d.triggerTransformEvents(o)},t=(a,o,r,d,g,f)=>{if(5===a.petArray.length)return d.createLog({message:`No room to spawn ${r.name}!`,type:"ability",player:a}),{success:!1,randomEvent:!1};let D=!1;for(let F=0;F<o.position;F++)if(null==a.getPet(F)){D=!0;break}if(D)return v(a,r,o.position-1,!1,o,d,g,f);const k=o.position,L=Math.min(k+1,4);return o.parent.setPet(k,null),null!=a.getPet(L)&&(0,E.Kw)(a,L),a.setPet(L,o),v(a,r,k,!1,o,d,g,f)},n=(a,o,r,d,g,f)=>{if(5===a.petArray.length)return d.createLog({message:`No room to spawn ${r.name}!`,type:"ability",player:a}),{success:!1,randomEvent:!1};let D=!1;for(let k=0;k<o.position;k++)if(null==a.getPet(k)){D=!0;break}if(D){const k=o.position;o.parent.setPet(k,null);const L=Math.max(k-1,0);return null!=a.getPet(L)&&(0,E.m3)(a,L),a.setPet(L,o),v(a,r,o.position+1,!1,o,d,g,f)}return v(a,r,o.position+1,!1,o,d,g,f)}},75998(O,S,i){i.d(S,{t:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Marmoset";tier=1;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"MarmosetAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level;this.logService.createLog({message:`${t.name} was sold and your ${1===n?"next roll is":`next ${n} rolls are`} free.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},76030(O,S,i){i.d(S,{w:()=>c});var A=i(22097);class c extends A.${equipmentClass="defense";name="Lime";tier=2;power=1;originalPower=1;callback=_=>{}}},76032(O,S,i){i.d(S,{G:()=>v,Y:()=>e});var A=i(57488),c=i(19058),E=i(50873),_=i(5615);class v extends E.L{name="Toilet Paper";tier=4;startOfBattle(n,a){let r=(0,A.a)(n,this.parent).petArray.filter(d=>"Weak"!=d.equipment?.name).slice(0,this.level);for(let d of r)d.givePetEquipment(new c.l),this.logService.createLog({message:`${this.name} gave ${d.name} Weak.`,type:"ability",player:this.parent,puma:a})}}class e extends _.T{logService;constructor(n,a){super({name:"ToiletPaperAbility",owner:n,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const{tiger:r}=n,g=this.owner;let f=g.parent.opponent,D=g.parent.getPetsWithEquipmentWithSillyFallback("Weak",g),k=f.getFurthestUpPets(this.level,D,g),L=k.pets;if(0!=L.length){for(let F of L)F.givePetEquipment(new c.l),this.logService.createLog({message:`${g.name} gave ${F.name} Weak.`,type:"ability",player:g.parent,tiger:r,randomEvent:k.random});this.triggerTigerExecution(n)}}copy(n){return new e(n,this.logService)}}},76228(O,S,i){i.d(S,{q:()=>c});let A=(()=>{class E{constructor(v,e=E.now){this.SchedulerAction=v,this.now=e}schedule(v,e=0,t){return new this.SchedulerAction(this,v).schedule(t,e)}}return E.now=()=>Date.now(),E})();class c extends A{constructor(_,v=A.now){super(_,()=>c.delegate&&c.delegate!==this?c.delegate.now():v()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(_,v=0,e){return c.delegate&&c.delegate!==this?c.delegate.schedule(_,v,e):super.schedule(_,v,e)}flush(_){const{actions:v}=this;if(this.active)return void v.push(_);let e;this.active=!0;do{if(e=_.execute(_.state,_.delay))break}while(_=v.shift());if(this.active=!1,e){for(;_=v.shift();)_.unsubscribe();throw e}}}},76282(O,S,i){i.d(S,{a:()=>c});var A=i(22097);class c extends A.${name="Blackberry";tier=3;equipmentClass="shop";constructor(){super()}}},76325(O,S,i){i.d(S,{W:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Drop Bear";tier=2;pack="Unicorn";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DropBearAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>null==this.owner.parent.pet0,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;this.logService.createLog({message:`${r.name} pushed itself to the front.`,type:"ability",player:r.parent,tiger:a,pteranodon:o}),r.parent.pushPetToFront(r,!0);let d=3*this.level,g=r.parent.opponent.getLastPet();null!=g.pet&&(r.snipePet(g.pet,d,g.random,a),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},76350(O,S,i){i.d(S,{$:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Amazon River Dolphin";tier=4;pack="Danger";attack=4;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"AmazonRiverDolphinAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;let d=r.parent.getSpecificPet(r,n.currentTarget),g=d.pet;if(g&&g.alive)r.snipePet(g,3*this.level,d.random,a);else{let f=r.parent.getThis(r),D=f.pet;if(!D)return;let k=3*this.level;D.increaseAttack(k),this.logService.createLog({message:`${r.name} gave ${D.name} ${k} attack`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},76351(O,S,i){i.d(S,{ZM:()=>a,eK:()=>n,gq:()=>t,rd:()=>o});var A=i(46200),c=i(57235),E=i(33524),_=i(75970),v=i(58857),e=i(61850);const t=(r,d)=>d&&(0,E.ku)(d)?{player:0===(0,v.k6)({key:"trumpets.silly-target-team",label:"Silly trumpet target team",options:[{id:"player",label:"Player team"},{id:"opponent",label:"Opponent team"}]},()=>(0,e.hw)(0,1)).index?r:r.opponent,random:!0}:{player:r,random:!1},n=(r,d,g,f,D,k,L,F)=>{r.trumpets=Math.min(50,r.trumpets+=d);let ne=g instanceof A.i&&null!=g.parent&&g.parent!==r?`${g.name} gave opponent ${d} trumpets. (${r.trumpets})`:`${g.name} gained ${d} trumpets. (${r.trumpets})`;L&&(ne+=" (Cherry)"),f.createLog({message:ne,type:"trumpets",player:r,pteranodon:D,pantherMultiplier:k,randomEvent:F})},a=(r,d,g,f,D)=>{r.trumpets=Math.max(0,r.trumpets-=d),f.createLog({message:`${g.name} spent ${d} trumpets. (${r.trumpets})`,type:"trumpets",player:r,pteranodon:D})},o=(r,d,g,f)=>{r.spawnedGoldenRetiever||r.petArray.length>1||0===r.trumpets||(d.setgoldenRetrieverSummonsEvent({priority:0,callback:(D,k,L)=>{const F=new c.K(g,d,r,r.trumpets,r.trumpets);g.createLog({message:`${r===k.player?"Player":"Opponent"} spawned Golden Retriever (${F.attack}/${F.health})`,type:"ability",player:r}),(0,_.Rd)(r,F,0,!1,void 0,g,d,f),r.trumpets=0}}),r.spawnedGoldenRetiever=!0)}},76413(O,S,i){i.d(S,{n:()=>Ht});var A=i(25479),c=i(1277),E=i(7390),_=i(92495),v=i(42727),e=i(96849),t=i(68169),n=i(25208),a=i(86610),o=i(87942),r=i(14218),d=i(86589),g=i(44870),f=i(6300),D=i(77262),k=i(97265),L=i(71322),F=i(9292),J=i(86909),ne=i(70458),H=i(95770),$=i(3273),q=i(34748),ae=i(81740),le=i(84375),_e=i(36578),ye=i(87970),Se=i(61245),Ce=i(66358),de=i(62023),Te=i(60397),xe=i(30639),Ue=i(67013),Ne=i(81946),ct=i(89579),Je=i(49943),Ke=i(60190),qe=i(6425),mt=i(52573),pt=i(97280),it=i(55541),Dt=i(91298),ut=i(79720),yt=i(94433),rt=i(36509),He=i(2525),kt=i(86249),Xt=i(6050),nt=i(67319),$t=i(76638),Et=i(39830),ge=i(65679),Oe=i(92244),Ve=i(74384),Fe=i(28805),ot=i(23360),Bt=i(63198),Rt=i(21311),qt=i(18779),zt=i(67902);const Ht={Ant:A.w,Cricket:c.y,Fish:E.T,Horse:_.W,Mosquito:v.w,Duck:e.e,Beaver:t.E,Otter:n.p,Pig:a.r,Pigeon:o.H,Snail:r.w,Crab:d.B,Swan:g.m,Rat:f.Y,Hedgehog:D.O,Peacock:k.z,Flamingo:L.g,Worm:F.C,Kangaroo:J.$,Spider:ne.c,Dodo:H.F,Badger:$.o,Dolphin:q.V,Giraffe:ae.P,Elephant:le.C,Camel:_e.v,Rabbit:ye.Z,Ox:Se.Ox,Dog:Ce.J,Sheep:de.c,Parrot:Te.f,Skunk:xe.b,Hippo:Ue.P,Bison:Ne.q,Blowfish:ct.d,Turtle:Je.b,Squirrel:Ke.o,Penguin:qe.K,Deer:mt.N,Whale:pt.Uw,Scorpion:it.G,Crocodile:Dt.J,Rhino:ut.M,Monkey:yt.P,Armadillo:rt.y,Cow:He._,Seal:kt.Q,Rooster:Xt.p,Shark:nt.S,Turkey:$t.z,Leopard:Et.U,Boar:ge.v,Tiger:Oe._,Wolverine:Ve.Y,Gorilla:Fe.x,Dragon:ot.A,Mammoth:Bt.G,Cat:Rt.F,Snake:qt.Z,Fly:zt.S}},76483(O,S,i){i.d(S,{e:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Crow";tier=4;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"CrowAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked one ${1===this.level?"Chocolate":2===this.level?"Better Chocolate":"Best Chocolate"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},76563(O,S,i){i.d(S,{V:()=>v});var A=i(46200),c=i(68169),E=i(96849),_=i(5615);class v extends A.i{logService;abilityService;name="Platypus";tier=4;pack="Star";attack=2;health=2;initAbilities(){this.addAbility(new e(this,this.logService,this.abilityService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends _.T{logService;abilityService;constructor(n,a,o){super({name:"PlatypusAbility",owner:n,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=a,this.abilityService=o}executeAbility(n){const{tiger:r,pteranodon:d}=n,g=this.owner;let f=3*this.level,D=2*this.level,k=new E.e(this.logService,this.abilityService,g.parent,D,f,0,this.minExpForLevel),L=new c.E(this.logService,this.abilityService,g.parent,D,f,0,this.minExpForLevel),F=g.parent.summonPet(k,g.savedPosition,!1,g);F.success&&this.logService.createLog({message:`${g.name} spawned ${f}/${D} Duck level ${this.level}`,type:"ability",player:g.parent,tiger:r,pteranodon:d,randomEvent:F.randomEvent});let J=g.parent.summonPet(L,g.savedPosition,!1,g);J.success&&this.logService.createLog({message:`${g.name} spawned ${f}/${D} Beaver level ${this.level}`,type:"ability",player:g.parent,tiger:r,pteranodon:d,randomEvent:J.randomEvent}),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService,this.abilityService)}}},76638(O,S,i){i.d(S,{z:()=>_});var A=i(46200),c=i(5615),E=i(1152);class _ extends A.i{logService;abilityService;name="Turkey";tier=5;pack="Turtle";attack=3;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"TurkeyAbility",owner:t,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:o,pteranodon:r}=t,d=this.owner,g={attack:3*this.level,health:1*this.level},f=(0,E.Uj)(d,a);if(!f.pet)return;const D=f.pet;D.increaseAttack(g.attack),D.increaseHealth(g.health),(0,E.rv)(this.logService,d,`${d.name} gave ${D.name} ${g.attack} attack and ${g.health} health.`,o,r,{randomEvent:f.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},77107(O,S,i){i.d(S,{A:()=>E});const E=(0,i(45525).A)(Object,"create")},77226(O,S,i){i.d(S,{K:()=>_,w:()=>E});var A=i(50873),c=i(5615);class E extends A.L{name="Oven Mitts";tier=4;onBreak(e){}}class _ extends c.T{logService;constructor(e,t){super({name:"OvenMittsAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){}copy(e){return new _(e,this.logService)}}},77262(O,S,i){i.d(S,{O:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Hedgehog";tier=2;pack="Turtle";attack=4;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"HedgehogAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.getAll(!0,r),g=d.pets;if(0==g.length)return;let f=2*this.level;for(let D of g)r.snipePet(D,f,d.random,a,o);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},77312(O,S,i){i.d(S,{j:()=>E});var A=i(70762),c=i(31805);function E(e){return t=>t.lift(new _(e))}class _{constructor(t){this.callback=t}call(t,n){return n.subscribe(new v(t,this.callback))}}class v extends A.v{constructor(t,n){super(t),this.add(new c.y(n))}}},77348(O,S,i){i.d(S,{I:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Hermit Crab";tier=1;pack="Custom";attack=1;health=4;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},77392(O,S,i){i.d(S,{_:()=>_});var A=i(46200),c=i(5615),E=i(6550);class _ extends A.i{logService;abilityService;petService;name="Abomination";tier=4;pack="Unicorn";attack=6;health=5;initAbilities(){this.addAbility(new v(this,this.logService,this.petService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D,k,L,F,J,ne,H,$,q,ae,le){super(t,n,o),this.logService=t,this.abilityService=n,this.petService=a,this.initPet(f,r,d,g,D,k),this.abominationSwallowedPet1=L,this.abominationSwallowedPet2=F,this.abominationSwallowedPet3=J,this.abominationSwallowedPet1Level=ne??1,this.abominationSwallowedPet2Level=H??1,this.abominationSwallowedPet3Level=$??1,this.abominationSwallowedPet1TimesHurt=q??0,this.abominationSwallowedPet2TimesHurt=ae??0,this.abominationSwallowedPet3TimesHurt=le??0}}class v extends c.T{logService;petService;constructor(t,n,a){super({name:"AbominationAbility",owner:t,triggers:["EndTurn","SpecialEndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.petService=a}executeAbility(t){const{gameApi:n,triggerPet:a,tiger:o,pteranodon:r}=t,d=this.owner,g=this.level,f=H=>{const $={};for(const q of E.uF){const ae=H.nested(q),le=(0,E.AV)("parrotCopyPetAbominationSwallowedPet",q);$[le.base]=(0,E.yo)(d,ae.base,null),$[le.belugaSwallowedPet]=(0,E.yo)(d,ae.belugaSwallowedPet,null),$[le.sarcasticFringeheadSwallowedPet]=(0,E.yo)(d,ae.sarcasticFringeheadSwallowedPet,null),$[le.level]=(0,E.aA)(d,ae.level,1),$[le.timesHurt]=(0,E.aA)(d,ae.timesHurt,0)}return $},D=H=>{const $={};for(const q of E.uF){const ae=(0,E.AV)("parrotCopyPetAbominationSwallowedPet",q);$[ae.base]=H[ae.base]??void 0,$[ae.belugaSwallowedPet]=H[ae.belugaSwallowedPet]??void 0,$[ae.sarcasticFringeheadSwallowedPet]=H[ae.sarcasticFringeheadSwallowedPet]??void 0,$[ae.level]=H[ae.level]??void 0,$[ae.timesHurt]=H[ae.timesHurt]??void 0}return $},L=H=>{(0,E.H6)(d,"parrotCopyPet",H.parrotCopyPet??null),(0,E.H6)(d,"parrotCopyPetBelugaSwallowedPet",H.parrotCopyPetBelugaSwallowedPet??null);for(const $ of E.uF){const q=(0,E.AV)("parrotCopyPetAbominationSwallowedPet",$);(0,E.H6)(d,q.base,(0,E.yo)(H,q.base,null)),(0,E.H6)(d,q.belugaSwallowedPet,(0,E.yo)(H,q.belugaSwallowedPet,null)),(0,E.H6)(d,q.sarcasticFringeheadSwallowedPet,(0,E.yo)(H,q.sarcasticFringeheadSwallowedPet,null)),(0,E.Ls)(d,q.level,(0,E.aA)(H,q.level,1)),(0,E.Ls)(d,q.timesHurt,(0,E.aA)(H,q.timesHurt,0))}},J=E.uF.map(H=>(H=>{const $=(0,E.AV)("abominationSwallowedPet",H);return{name:(0,E.yo)(d,$.base,null),level:(0,E.aA)(d,$.level,1),timesHurt:(0,E.aA)(d,$.timesHurt,0),belugaSwallowedPet:(0,E.yo)(d,$.belugaSwallowedPet,null),sarcasticFringeheadSwallowedPet:(0,E.yo)(d,$.sarcasticFringeheadSwallowedPet,null),parrotCopyPet:(0,E.yo)(d,$.parrotCopyPet,null),parrotCopyPetBelugaSwallowedPet:(0,E.yo)(d,$.parrotCopyPetBelugaSwallowedPet,null),...f($)}})(H)).filter(H=>null!=H.name).slice(0,g);let ne=J;o&&J.length>0&&(ne=J.slice(0,1));for(let H of ne){if(!H.name)continue;const $=H.name,q="Parrot"===$?D(H):{},ae={attack:0,health:0,mana:0,equipment:null,name:$,exp:0,timesHurt:H.timesHurt??0,belugaSwallowedPet:"Beluga Whale"===$?(0,E.yo)(H,"belugaSwallowedPet",null)??void 0:void 0,sarcasticFringeheadSwallowedPet:"Sarcastic Fringehead"===$?(0,E.yo)(H,"sarcasticFringeheadSwallowedPet",null)??void 0:void 0,parrotCopyPet:"Parrot"===$?(0,E.yo)(H,"parrotCopyPet",null)??void 0:void 0,parrotCopyPetBelugaSwallowedPet:"Parrot"===$?(0,E.yo)(H,"parrotCopyPetBelugaSwallowedPet",null)??void 0:void 0};Object.assign(ae,q);let le=this.petService.createPet(ae,d.parent);if(!le)continue;"Beluga Whale"===$&&(d.belugaSwallowedPet=H.belugaSwallowedPet??null),"Sarcastic Fringehead"===$&&(d.sarcasticFringeheadSwallowedPet=H.sarcasticFringeheadSwallowedPet??null),"Parrot"===$&&L(H),d.removeAbility("AbominationAbility");const _e=d.abilityList.length;if(d.gainAbilities(le,"Pet",H.level??1),"Parrot"===$){const ye=d.abilityList.slice(_e).filter(Se=>"ParrotAbility"===Se.name);for(const Se of ye)Se.execute(n,a,o,r)}}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.petService)}}},77437(O,S,i){i.d(S,{A:()=>c});const c=function A(E){var _=this.__data__,v=_.delete(E);return this.size=_.size,v}},77648(O,S,i){i.d(S,{a:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Black Rhino";tier=6;pack="Danger";attack=5;health=9;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BlackRhinoAbility",owner:e,triggers:["EnemyAttacked7"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let g=r.parent.opponent.getHighestHealthPets(r.level,[],r),f=g.pets;for(let D of f)r.snipePet(D,30,g.random,a);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},77856(O,S,i){i.d(S,{BR:()=>g,Ff:()=>r,IR:()=>d,WB:()=>f,dK:()=>a,oc:()=>o});var A=i(42280),c=i(61850),E=i(33524),_=i(58857);function e(D){return D?`${D.parent?.isOpponent?"O":"P"}${Number.isFinite(D.savedPosition)?D.savedPosition+1:0} ${D.name}`:"unknown caller"}function t(D){const k=D.some(F=>!F.parent?.isOpponent),L=D.some(F=>F.parent?.isOpponent);return k&&L?"both teams":L?"opponent team":"player team"}function n(D,k,L,F){if(0===L.length)return{pet:null,random:!1};const J=(0,_.k6)({key:D,label:`${e(F)} -> ${k} (${t(L)}, ${L.length} options)`,options:L.map(ne=>function v(D){const k=D.parent?.isOpponent?"opponent":"player",L=D.parent?.isOpponent?"O":"P",F=Number.isFinite(D.savedPosition)?D.savedPosition+1:0;return{id:`${k}:${F}:${D.name}`,label:`${L}${F} ${D.name}`}}(ne))},()=>(0,c.hw)(0,L.length-1));return{pet:L[J.index]??null,random:J.randomEvent}}const a=(D,k,L,F,J,ne,H)=>{if(ne&&(0,E.ku)(ne)){const q=k?[...k]:[];return q.includes(ne)||q.push(ne),f(D,q,!0)}let $=H?[...D.opponent.petArray,...D.petArray]:D.petArray;if(L&&F){const q=(0,E.Rr)(D,"Donut").filter(le=>!k?.includes(le)),ae=(0,E.Rr)(D,"Blueberry").filter(le=>!k?.includes(le));(q.length>0||ae.length>0)&&($=[...q,...ae])}else if(L){const q=(0,E.Rr)(D,"Donut").filter(ae=>!k?.includes(ae));q.length>0&&($=q),J&&($=$.filter(ae=>50!==ae.health||50!==ae.attack||ae.hasTrigger(void 0,"Pet","BehemothAbility")||ae.hasTrigger(void 0,"Pet","GiantTortoiseAbility")),0===$.length&&($=D.petArray))}else if(F){const q=(0,E.Rr)(D,"Blueberry").filter(ae=>!k?.includes(ae));q.length>0&&($=q)}if($=$.filter(q=>{let ae=!0;return k&&(ae=!k.includes(q)),ae&&q.health>0}),J){const q=(0,A.A)($);$=$.filter(ae=>50!==ae.health||50!==ae.attack),0===$.length&&($=q)}return 0===$.length?{pet:null,random:!1}:n("target.random-pet","Random pet target",$,ne)},o=(D,k,L,F,J,ne,H)=>{if(ne&&(0,E.ku)(ne)){const le=L?[...L]:[];return le.includes(ne)||le.push(ne),g(D,k,!0,le)}const $=[],q=L??[];let ae=!0;for(let le=0;le<k;le++){const _e=a(D,q,F,J,void 0,ne,H);if(ae=_e.random,null==_e.pet)break;q.push(_e.pet),$.push(_e.pet)}return{pets:$,random:ae}},r=(D,k,L,F,J,ne)=>{if(ne&&(0,E.ku)(ne)){const H=L?[...L]:[];return H.includes(ne)||H.push(ne),o(D,k,H,F,J,void 0,!0)}return o(D.opponent,k,L,F,J,ne)},d=(D,k,L)=>L&&(0,E.ku)(L)?[...(0,E.Rr)(D,k),...(0,E.Rr)(D.opponent,k)]:(0,E.Rr)(D.opponent,k),g=(D,k,L=!1,F)=>{const J=[],ne=F?[...F]:[],$=(q=>{let ae=[...D.petArray,...D.opponent.petArray];if(!L){const le=(0,E.Rr)(D,"Donut").filter(Ce=>!q?.includes(Ce)),_e=(0,E.Rr)(D,"Blueberry").filter(Ce=>!q?.includes(Ce)),ye=(0,E.Rr)(D.opponent,"Donut").filter(Ce=>!q?.includes(Ce)),Se=(0,E.Rr)(D.opponent,"Blueberry").filter(Ce=>!q?.includes(Ce));(le.length>0||_e.length>0||ye.length>0||Se.length>0)&&(ae=[...le,..._e,...ye,...Se])}return ae.filter(le=>{let _e=!0;return q&&(_e=!q.includes(le)),_e&&le.health>0})})(ne).length;for(let q=0;q<k;q++){const ae=f(D,ne,L);if(null==ae.pet)break;ne.push(ae.pet),J.push(ae.pet)}return{pets:J,random:$>J.length}},f=(D,k,L=!1)=>{let F=[...D.opponent.petArray,...D.petArray];if(!L){const J=(0,E.Rr)(D,"Donut").filter(q=>!k?.includes(q)),ne=(0,E.Rr)(D,"Blueberry").filter(q=>!k?.includes(q)),H=(0,E.Rr)(D.opponent,"Donut").filter(q=>!k?.includes(q)),$=(0,E.Rr)(D.opponent,"Blueberry").filter(q=>!k?.includes(q));(J.length>0||ne.length>0||H.length>0||$.length>0)&&(F=[...H,...$,...J,...ne])}return F=F.filter(J=>{let ne=!0;return k&&(ne=!k.includes(J)),ne&&J.health>0}),0===F.length?{pet:null,random:!1}:n("target.random-living-pet","Random living pet target",F,void 0)}},77901(O,S,i){i.d(S,{A:()=>_});var A=i(30554),c=Object.create;const _=function(){function v(){}return function(e){if(!(0,A.A)(e))return{};if(c)return c(e);v.prototype=e;var t=new v;return v.prototype=void 0,t}}()},78167(O,S,i){i.d(S,{m:()=>E});var A=i(55241);function E(_){return 0===_.length?A.D:1===_.length?_[0]:function(e){return _.reduce((t,n)=>n(t),e)}}},78229(O,S,i){i.d(S,{Z:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Goldfish";tier=2;pack="Puppy";attack=1;health=1;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"GoldfishAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;t.increaseSellValue(this.level),this.logService.createLog({message:`${t.name} increased its sell value by ${this.level}.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},78257(O,S,i){i.d(S,{A:()=>_});var A=i(45525),c=i(1860);const _=(0,A.A)(c.A,"DataView")},78305(O,S,i){i.d(S,{A:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Pixiu";tier=5;pack="Unicorn";attack=5;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PixiuAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;r.mana<4||(this.logService.createLog({message:`${r.name} spent 4 mana and gained ${3*this.level} gold for next turn.`,type:"ability",player:r.parent,tiger:a}),r.mana-=4,this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},78311(O,S,i){i.d(S,{n:()=>c});var A=i(62223);function c(_,v,e,t){let n="";_.toy&&(n+=`{{toy:${_.toy.name}}} `),_.hardToy&&(n+=`{{hardtoy:${_.hardToy.name}}} `),n+=E(_.pet4,e,t),n+=E(_.pet3,e,t),n+=E(_.pet2,e,t),n+=E(_.pet1,e,t),n+=E(_.pet0,e,t);let a="";return a+=E(v.pet0,e,t),a+=E(v.pet1,e,t),a+=E(v.pet2,e,t),a+=E(v.pet3,e,t),a+=E(v.pet4,e,t),v.toy&&(a+=`{{toy:${v.toy.name}}} `),v.hardToy&&(a+=`{{hardtoy:${v.hardToy.name}}} `),`${n}| ${a}`}function E(_,v,e){if(null==_)return"___ (-/-) ";const t=v(_),n=null!=t?`${_.parent?.isOpponent?"O":"P"}${t} `:"",a=(0,A.EA)(_.name),o=a?`<img src="${a}" class="log-pet-icon" alt="${_.name}">`:"",r="string"==typeof _.equipment?.name?_.equipment.name:null,d=r?(()=>{const D=e(r),k=(0,A.ht)(r,D)??(0,A.ht)(r,!D);if(!k)return"";const L=(0,A.ht)(r,!D);return`<img src="${k}" class="log-inline-icon" alt="${r}" onerror="if(!this.dataset.step){${L?`this.dataset.step='1';this.src='${L}';`:"this.dataset.step='1';"}return;}this.remove()">`})():"",g=Number.isFinite(_.mana)?Math.max(0,Math.trunc(_.mana)):0;return`${n}${o}${d}(${_.attack}/${_.health}/${_.exp}xp${g>0?`/${g}mana`:""}) `}},78435(O,S,i){i.d(S,{M:()=>E});var A=i(48576),c=i(50873);class E extends c.L{name="Onesie";tier=1;startOfBattle(v,e){const t=[];for(let n=0;n<2;n++){const a=this.parent.getRandomPet(t);if(!a.pet)return;t.push(a.pet),a.pet.givePetEquipment(new A.b),this.logService.createLog({message:`${this.name} gave ${a.pet.name} Cold.`,type:"ability",player:this.parent,puma:e,randomEvent:a.random})}}}},78440(O,S,i){i.d(S,{r:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Cone Snail";tier=1;pack="Golden";attack=1;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"ConeSnailAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.nearestPetsBehind(1,r);if(0===d.pets.length)return;let g=d.pets[0],f=2*this.level;g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},78477(O,S,i){i.d(S,{u:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Adult Flounder";tier=1;pack="Custom";hidden=!0;attack=2;health=4;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},78480(O,S,i){i.d(S,{Z:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Pengobble";tier=1;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PengobbleAbility",owner:e,triggers:["ThisGainedMana"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner,d=2*this.level;let g=r.parent.getThis(r),f=g.pet;null!=f&&(this.logService.createLog({message:`${r.name} gave ${f.name} an extra ${d} bonus mana.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),r.mana+=d,this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},78500(O,S,i){i.d(S,{c:()=>v});var A=i(46200),c=i(5615),E=i(56979),_=i(17385);class v extends A.i{logService;abilityService;name="Pangasius";tier=3;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"Pangasius Ability",owner:n,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:o=>this.executeAbility(o)}),this.logService=a}executeAbility(n){const{tiger:a,pteranodon:o}=n,r=this.owner,d=this.getFriendWithAilment(r.parent),g=this.getFirstEnemy(r.parent.opponent);if(!g)return void this.triggerTigerExecution(n);const f=this.level,D=d?.equipment??new E.E,k=(0,_.e)(D);if(!k)return void this.triggerTigerExecution(n);f>1&&(k.multiplier=f,k.multiplierMessage=` x${f} (Pangasius)`),g.givePetEquipment(k);const L=["copied","copied with double effect","copied with triple effect"],F=L[Math.min(f,L.length)-1];this.logService.createLog({message:`${r.name} ${F} ${d?`${d.name}'s ${D?.name}`:D?.name} onto ${g.name}.`,type:"ability",player:r.parent,tiger:a,pteranodon:o}),this.triggerTigerExecution(n)}getFriendWithAilment(n){return n.petArray.filter(o=>o.alive&&o.equipment&&this.isAilmentEquipment(o.equipment)).sort((o,r)=>o.position-r.position)[0]??null}getFirstEnemy(n){return n.petArray.find(a=>a.alive)??null}isAilmentEquipment(n){return"ailment-attack"===n.equipmentClass||"ailment-defense"===n.equipmentClass||"ailment-other"===n.equipmentClass}copy(n){return new e(n,this.logService)}}},78708(O,S,i){i.d(S,{u:()=>E,y:()=>_});var A=i(50873),c=i(5615);class E extends A.L{name="Crystal Ball";tier=1;startOfBattle(e,t){let n=this.parent.petArray[0];null!=n&&(this.logService.createLog({message:`${this.name} gave ${n.name} ${this.level} mana.`,type:"ability",player:this.parent,puma:t,randomEvent:!1}),n.increaseMana(this.level))}}class _ extends c.T{logService;constructor(e,t){super({name:"CrystalBallAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getFurthestUpPet(r),g=d.pet;if(null==g)return;let f=2*this.level;g.increaseMana(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} mana.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},78833(O,S,i){i.d(S,{A_:()=>a,JX:()=>t,Kq:()=>e,YW:()=>o});var A=i(6550);const e=(()=>{const r=["parrotCopyPet","parrotCopyPetBelugaSwallowedPet"];for(const d of A.uF){const g=(0,A.AV)("parrotCopyPetAbominationSwallowedPet",d);r.push(g.base,g.belugaSwallowedPet,g.sarcasticFringeheadSwallowedPet,g.level,g.timesHurt,g.parrotCopyPet,g.parrotCopyPetBelugaSwallowedPet);for(const f of A.uF){const D=g.nested(f);r.push(D.base,D.belugaSwallowedPet,D.sarcasticFringeheadSwallowedPet,D.level,D.timesHurt)}}return r})(),t=(()=>{const r=[];for(const d of A.uF){const g=(0,A.AV)("abominationSwallowedPet",d);r.push(g.belugaSwallowedPet,g.sarcasticFringeheadSwallowedPet,g.parrotCopyPet,g.parrotCopyPetBelugaSwallowedPet);for(const f of A.uF){const D=g.nested(f);r.push(D.base,D.belugaSwallowedPet,D.sarcasticFringeheadSwallowedPet,D.level,D.timesHurt)}}return r})(),n=(r,d)=>{if(null==d||"string"==typeof d&&""===d.trim())return!1;const g=String(r);if(g.endsWith("Level")){const f="number"==typeof d?d:Number(d);return!!Number.isFinite(f)&&1!==f}if(g.endsWith("TimesHurt")){const f="number"==typeof d?d:Number(d);return!!Number.isFinite(f)&&0!==f}return!0};function a(r,d){const g=r;for(const f of d){const D=g[String(f)];if(n(f,D))return!0}return!1}function o(r,d,g){const f=d,D=r;for(const k of g){const L=String(k),F=f[L];if(null!=F){D[L]=F;continue}const J=L;D[L]=J.endsWith("Level")?1:J.endsWith("TimesHurt")?0:null}}},78848(O,S,i){i.d(S,{F:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Trout";tier=4;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Trout Ability",owner:e,triggers:["FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=e.triggerPet;if(!n||n.sellValue<3)return void this.triggerTigerExecution(e);const a=Math.max(1,this.level),o=2*a;t.increaseAttack(a),t.increaseHealth(o),this.logService.createLog({message:`${t.name} gained +${a}/+${o} after ${n.name} was sold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},79099(O,S,i){i.d(S,{Z:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Jellyfish";tier=2;pack="Star";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"JellyfishAbility",owner:e,triggers:["FriendLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getThis(r),g=d.pet;if(null==g)return;let f=this.level;g.increaseAttack(f),g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} attack by ${f} and health by ${f}`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},79222(O,S,i){function A(E,_,v){const e=`${_??""}`.trim()||"Random event",t=Number.isFinite(v)&&Number(v)>0?` ${Math.trunc(Number(v))}`:"";if(!E)return`${e}${t}`;const a=E.savedPosition??E.position??Number.NaN;return`(${E.parent?.isOpponent?"O":"P"}${Number.isFinite(a)?Math.trunc(a)+1:0}) ${e}${t}`}function c(E,_,v,e){const t=`${_??""}`.trim()||"Equipment",n=`${v??""}`.trim()||"random event",a=Number.isFinite(e)&&Number(e)>0?` ${Math.trunc(Number(e))}`:"";if(!E)return`${t} ${n}${a}`;const r=E.savedPosition??E.position??Number.NaN;return`(${E.parent?.isOpponent?"O":"P"}${Number.isFinite(r)?Math.trunc(r)+1:0}) ${t} (${`${E.name??""}`.trim()||"Unknown"}) ${n}${a}`}i.d(S,{I:()=>A,R:()=>c})},79257(O,S,i){i.d(S,{r:()=>_});var A=i(22097),c=i(5615),E=i(7390);class _ extends A.${logService;abilityService;name="Cod Roe";equipmentClass="afterFaint";callback=t=>{const n=t.getEquippedEquipmentInstance(this);t.addAbility(new v(t,n,this.logService,this.abilityService))};constructor(t,n){super(),this.logService=t,this.abilityService=n}}class v extends c.T{equipment;logService;abilityService;constructor(t,n,a,o){super({name:"CodRoeAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=n,this.logService=a,this.abilityService=o}executeAbility(t){const n=this.owner;for(let a=0;a<this.equipment.multiplier;a++){let o=new E.T(this.logService,this.abilityService,n.parent,3,2,0,0);n.parent.summonPet(o,n.savedPosition).success&&this.logService.createLog({message:`${n.name} spawned ${o.name} (Cod Roe)${a>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:n.parent})}}}},79323(O,S,i){i.d(S,{k:()=>_});var A=i(46200),c=i(5615),E=i(1152);class _ extends A.i{logService;abilityService;name="Leafy Sea Dragon";tier=4;pack="Custom";attack=7;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Leafy Sea Dragon Ability",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner,r=this.level,d=(0,E.MZ)(o);d.forEach(f=>{f.increaseExp(r)}),o.health=0,o.parent.handleDeath(o),o.parent.removeDeadPets(),(0,E.rv)(this.logService,o,`${o.name} gave ${d.length} adjacent friend${1===d.length?"":"s"} +${r} experience and removed itself.`,n,a),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},79340(O,S,i){i.d(S,{M:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Yellow Boxfish";tier=6;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"YellowBoxfishAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=a.parent.getAll(!0,a).pets.filter(f=>f&&f.alive&&f!==a);if(0===o.length)return void this.triggerTigerExecution(e);const d=[...o].sort((f,D)=>D.attack+D.health-(f.attack+f.health)).slice(0,this.level);if(0===d.length)return void this.triggerTigerExecution(e);for(const f of d)f.attack=20,f.health=20;const g=d.map(f=>f.name).join(", ");this.logService.createLog({message:`${a.name} set ${g} to 20/20 at faint.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},79520(O,S,i){i.d(S,{u:()=>_});var A=i(46200),c=i(5615),E=i(1152);class _ extends A.i{logService;abilityService;name="Clownfish";tier=4;pack="Star";attack=3;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"ClownfishAbility",owner:t,triggers:["FriendlyLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:t.level,precondition:a=>{const{triggerPet:o}=a,g=(0,E.lK)(this.owner,o).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:o}=t,d=this.owner;let g=(0,E.lK)(d,a),f=g.pet;if(null==f)return;let D=2*this.level;f.increaseAttack(D),f.increaseHealth(D),this.logService.createLog({message:`${d.name} gave ${f.name} ${D} attack and ${D} health.`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},79720(O,S,i){i.d(S,{M:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Rhino";tier=5;pack="Turtle";attack=6;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"RhinoAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.opponent.getFurthestUpPet(r),g=d.pet;if(null==g)return;let f=4*this.level;1==g.tier&&(f*=2),r.snipePet(g,f,d.random,a),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},79770(O,S,i){i.d(S,{u:()=>_});var A=i(46200),c=i(5615),E=i(26624);class _ extends A.i{logService;abilityService;name="Orchid Mantis";tier=5;pack="Puppy";attack=8;health=4;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"OrchidMantisAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=Math.min(Math.floor(d.attack*(.4*this.level)),50),f=Math.min(Math.floor(d.health*(.4*this.level)),50),D=new E.L(this.logService,this.abilityService,d.parent,f,g,0,this.minExpForLevel,null),k=d.parent.summonPetInFront(d,D);k.success&&this.logService.createLog({message:`${d.name} spawned Mantis ${D.attack}/${D.health}.`,type:"ability",player:d.parent,tiger:o,randomEvent:k.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},79928(O,S,i){i.d(S,{t:()=>E});var A=i(45286),c=i(2145);class E extends A.B7{constructor(v){super(),this._value=v}get value(){return this.getValue()}_subscribe(v){const e=super._subscribe(v);return e&&!e.closed&&v.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new c.P;return this._value}next(v){super.next(this._value=v)}}},80128(O,S,i){i.d(S,{w:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Anglerfish";tier=6;pack="Puppy";attack=7;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"AnglerfishAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level;this.logService.createLog({message:`${t.name} stocked a free pet from the last opponent ${1===n?"once":2===n?"twice":"thrice"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},80152(O,S,i){i.d(S,{O:()=>a});var A=i(59374),c=i(607),E=i(18060),_=i(38950),v=i(55786),e=i(92101),t=i(38350),n=i(61850);class a extends t.Z{initAbilities(){this.initAbilityUses(),this.setAbilityEquipments()}abilityValidCheck(){return!(null==this.savedPosition||this.equipment instanceof A.x&&(this.logService.createLog({message:`${this.name}'s ability was not activated because of Dazed.`,type:"ability",player:this.parent}),1))}resetAbilityUses(){this.abilityList.forEach(r=>{r.reset()})}initAbilityUses(){this.abilityList.forEach(r=>{r.initUses()})}attackPet(r,d=!1,g,f=!1){(0,v.uL)(this.asPet(),r,d,g,f)}applyCrisp(){const r=this.parent,d=r?.opponent;if(!r||!d)return;const g=d.getManticoreMult();for(let f of r.petArray)f.equipment instanceof c.Y?_.w.applyDamage({pet:f,baseDamage:6,perkName:"Crisp",manticoreMultipliers:g,logService:this.logService,afterDamage:D=>D.removePerk()}):f.equipment instanceof E.V&&f.equipment.uses>0&&_.w.applyDamage({pet:f,baseDamage:1,perkName:"Toasty",manticoreMultipliers:g,logService:this.logService,afterDamage:D=>{D.equipment.uses--,D.equipment.uses<=0&&D.removePerk()}})}snipePet(r,d,g,f,D,k,L,F,J){return(0,v.hA)(this.asPet(),r,d,g,f,D,k,L,F,J)}calculateDamage(r,d,g,f=!1){return(0,v.ST)(this.asPet(),r,d,g,f)}resetPet(){(0,e.O)(this.asPet())}jumpAttackPrep(r){this.abilityService.triggerBeforeAttackEvent(this),this.abilityService.triggerBeforeAttackEvent(r),this.abilityService.executeBeforeAttackTriggerOnly()}jumpAttack(r,d,g,f=!1){(0,v.jb)(this.asPet(),r,d,g,f)}get alive(){return this.health>0}setFaintEventIfPresent(){if(this.abilityService.triggerFaintEvents(this),this.mana>0){if(this.suppressManaSnipeOnFaint)return;this.abilityService.setManaEvent({priority:this.attack,callback:(r,d,g,f)=>{if(0==this.mana||this.kitsuneCheck())return;const k=this.parent.opponent.getRandomPet([],!1,!0,!1,this.asPet());null!=k.pet&&(this.snipePet(k.pet,this.mana,k.random,!1,!1,!1,!0),this.mana=0)},pet:this,triggerPet:this,tieBreaker:(0,n.Ak)()})}}useDefenseEquipment(r=!1){this.canConsumeDefenseEquipment(r)&&(this.equipment.uses-=1,this.equipment.uses<=0&&this.removePerk())}useAttackDefenseEquipment(){this.canConsumeAttackDefenseEquipment()&&(this.equipment.uses-=1,this.equipment.uses<=0&&this.removePerk())}increaseAttack(r){let d=50;if("Behemoth"==this.name&&(d=100),r>0&&"Sad"===this.equipment?.name||!this.alive)return 0;const g=this.attack;return this.attack=Math.min(Math.max(this.attack+r,1),d),this.attack-g}increaseHealth(r){let d=50;if(("Behemoth"==this.name||"Giant Tortoise"==this.name)&&(d=100),r>0&&"Sad"===this.equipment?.name||!this.alive)return 0;const g=this.health;return this.health=Math.min(Math.max(this.health+r,1),d),this.abilityService.triggerFriendGainsHealthEvents(this),this.health-g}increaseSellValue(r){r<=0||(this.sellValue+=r)}dealDamage(r,d){d>0&&"Kiwano"===this.equipment?.name&&(d+=8,this.logService.createLog({message:`${this.name} added +8 damage. (Kiwano)`,type:"equipment",player:this.parent}),this.removePerk()),(0,v.su)(this.asPet(),r,d)}triggerHurtEventsFor(r,d){this.abilityService.triggerHurtEvents(r,d)}triggerKillEventsFor(r){this.abilityService.triggerKillEvents(this,r)}triggerAttackEventsFor(){this.abilityService.triggerAttacksEvents(this)}executeAfterAttackEvents(){this.abilityService.executeAfterAttackEvents()}triggerJumpEventsFor(){this.abilityService.triggerJumpEvents(this)}createLog(r){this.logService.createLog(r)}increaseExp(r){let d=this.level;this.increaseAttack(r),this.increaseHealth(r),this.exp=Math.min(this.exp+r,5);let g=this.level-d;g>0&&(this.baseSellValue+=g,this.sellValue+=g);for(let f=0;f<g;f++)this.logService.createLog({message:`${this.name} leveled up to level ${this.level}.`,type:"ability",player:this.parent}),this.abilityService.triggerLevelUpEvents(this),this.abilityService.executeFriendlyLevelUpToyEvents(),this.resetAbilityUses();for(let f=0;f<Math.min(r,5);f++)this.abilityService.triggerFriendGainedExperienceEvents(this)}increaseMana(r){this.mana+=r,this.mana=Math.min(this.mana,50),this.abilityService.triggerManaGainedEvents(this)}get level(){return this.exp<2?1:this.exp<5?2:3}get position(){const r=this.parent;return r?this.asPet()==r.pet0?0:this.asPet()==r.pet1?1:this.asPet()==r.pet2?2:this.asPet()==r.pet3?3:this.asPet()==r.pet4?4:this.savedPosition:this.savedPosition}canConsumeDefenseEquipment(r){return!(!this.equipment||"ailment-defense"!=this.equipment.equipmentClass&&"Icky"!=this.equipment.name&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&r&&"shield-snipe"!=this.equipment.equipmentClass||null==this.equipment.uses||"Strawberry"===this.equipment.name&&(this.getSparrowLevel()<=0||this.equipment.uses<=0))}canConsumeAttackDefenseEquipment(){return!(!this.equipment||null==this.equipment.uses||"Strawberry"===this.equipment.name&&(this.getSparrowLevel()<=0||this.equipment.uses<=0)||"attack"!=this.equipment.equipmentClass&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&"snipe"!=this.equipment.equipmentClass&&"ailment-attack"!=this.equipment.equipmentClass&&"ailment-defense"!=this.equipment.equipmentClass&&"Icky"!=this.equipment.name||(isNaN(this.equipment.uses)&&console.warn("uses is NaN",this.equipment),0))}}},80163(O,S,i){i.d(S,{d:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Giant Tortoise";tier=4;pack="Danger";attack=4;health=6;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"GiantTortoiseAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},80249(O,S,i){i.d(S,{B:()=>E});var A=i(22097),c=i(5615);class E extends A.${logService;name="Rambutan";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"RambutanAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;let o=3*this.equipment.multiplier;this.logService.createLog({message:`${t.name} gained ${o} mana. (Rambutan)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent}),t.increaseMana(o)}}},80337(O,S,i){i.d(S,{M:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Woodpecker";tier=5;pack="Star";attack=6;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"WoodpeckerAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=2*this.level;for(let g=0;g<d;g++){let f=r.parent.nearestPetsAhead(2,r,null,!0),D=f.pets;for(let k of D){let L=1;k.parent!=this.owner.parent&&(L*=2),r.snipePet(k,L,f.random,a)}}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},80355(O,S,i){i.d(S,{A:()=>v});var A=i(50336),E=Array.prototype.splice;const v=function _(e){var t=this.__data__,n=(0,A.A)(t,e);return!(n<0||(n==t.length-1?t.pop():E.call(t,n,1),--this.size,0))}},80517(O,S,i){i.d(S,{A:()=>_});var A=i(46200),c=i(5615),E=i(61850);class _ extends A.i{logService;abilityService;name="Spiny Bush Viper";tier=4;pack="Custom";attack=5;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Spiny Bush Viper Ability",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,a=n.parent.opponent.petArray.filter(g=>g&&g.alive);if(0===a.length)return void this.triggerTigerExecution(t);const o=(0,E.k4)([...a]).slice(0,Math.min(2,a.length)),r=n.position??n.savedPosition??0,d=[];for(const g of o){const D=Math.max(1,Math.abs(r-(g.position??g.savedPosition??0))),k=Math.max(1,this.level)*D;n.dealDamage(g,k),d.push(`${k} to ${g.name}`)}d.length>0&&this.logService.createLog({message:`${n.name} dealt ${d.join(" and ")}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},80591(O,S,i){i.d(S,{E:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Yak";tier=2;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Yak Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=this.level,r=2*this.level;a.dealDamage(a,o),a.increaseAttack(r),this.logService.createLog({message:`${a.name} took ${o} damage and gained +${r} attack.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},80614(O,S,i){i.d(S,{$:()=>c});let A=!1;const c={Promise:void 0,set useDeprecatedSynchronousErrorHandling(E){if(E){const _=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+_.stack)}else A&&console.log("RxJS: Back to a better error behavior. Thank you. <3");A=E},get useDeprecatedSynchronousErrorHandling(){return A}}},80618(O,S,i){i.d(S,{A:()=>E});var A=i(75152);const E=function c(_,v){var e=v?(0,A.A)(_.buffer):_.buffer;return new _.constructor(e,_.byteOffset,_.byteLength)}},80659(O,S,i){i.d(S,{m:()=>E});var A=i(22097),c=i(5615);class E extends A.${logService;name="Onion";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"OnionAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} pushed itself to the back. (Onion)`,type:"equipment",player:t.parent}),t.parent.pushPetToBack(t),t.parent.pushPetsForward(),t.removePerk()}}},80728(O,S,i){i.d(S,{t:()=>c});var A=i(22097);class c extends A.${name="Churros";equipmentClass="shop"}},81106(O,S,i){i.d(S,{_:()=>e});var A=i(46200),c=i(5615),E=i(58857),_=i(61850),v=i(79222);class e extends A.i{logService;abilityService;name="Baboon";tier=3;pack="Golden";attack=2;health=3;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{logService;abilityService;constructor(a,o,r){super({name:"BaboonAbility",owner:a,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:d=>{this.executeAbility(d)}}),this.logService=o,this.abilityService=r}executeAbility(a){const o=this.owner,{gameApi:r}=a,d=Math.max(1,r.previousShopTier??o.tier),g=o.parent.petArray.filter(L=>L.alive&&L.tier>=d);if(0===g.length)return void this.triggerTigerExecution(a);const f=(0,E.k6)({key:"pet.baboon-end-turn-target",label:(0,v.I)(o,"Baboon end turn target"),options:g.map(L=>({id:`${L.savedPosition+1}:${L.name}`,label:`P${L.savedPosition+1} ${L.name}`}))},()=>(0,_.hw)(0,g.length-1)),D=g[f.index],k=this.level;D.increaseAttack(k),D.increaseHealth(k),this.logService.createLog({message:`${o.name} gave ${D.name} +${k}/+${k}.`,type:"ability",player:o.parent,tiger:a.tiger,pteranodon:a.pteranodon,randomEvent:f.randomEvent}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService)}}},81179(O,S,i){i.d(S,{c:()=>c});var A=i(22097);class c extends A.${name="Potato";equipmentClass="shield-snipe";power=10;uses=2;originalUses=2;originalPower=10}},81207(O,S,i){i.d(S,{X:()=>e});var A=i(46200),c=i(5615),E=i(58857),_=i(61850),v=i(79222);class e extends A.i{logService;abilityService;name="Sea Anemone";tier=4;pack="Custom";health=4;attack=3;initAbilities(){this.addAbility(new t(this,this.logService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{logService;usesThisTurn=0;maxUsesPerTurn=3;constructor(a,o){super({name:"Sea Anemone Ability",owner:a,triggers:["FriendSold","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=o}executeAbility(a){const o=this.owner;if("StartTurn"===a.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(a);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(a);const r=a.triggerPet;if(!r||!r.isSellPet())return void this.triggerTigerExecution(a);const d=o.parent.petArray.filter(k=>k&&k!==o&&k.alive);if(0===d.length)return void this.triggerTigerExecution(a);const g=(0,E.k6)({key:"pet.sea-anemone-friend-sold-target",label:(0,v.I)(o,"Sea Anemone sold buff target"),options:d.map(k=>({id:`${k.savedPosition+1}:${k.name}`,label:`P${k.savedPosition+1} ${k.name}`}))},()=>(0,_.hw)(0,d.length-1)),f=d[g.index],D=Math.min(Math.max(this.level,1),3);f.increaseAttack(D),f.increaseHealth(D),this.usesThisTurn++,this.logService.createLog({message:`${o.name} gave ${f.name} +${D}/+${D} after ${r.name} was sold.`,type:"ability",player:o.parent,randomEvent:g.randomEvent,tiger:a.tiger,pteranodon:a.pteranodon}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService)}}},81226(O,S,i){i.d(S,{c:()=>_});var A=i(22097),c=i(5615),E=i(98441);class _ extends A.${logService;abilityService;name="Honey";equipmentClass="afterFaint";callback=t=>{const n=t.getEquippedEquipmentInstance(this);t.addAbility(new v(t,n,this.logService,this.abilityService))};constructor(t,n){super(),this.logService=t,this.abilityService=n}}class v extends c.T{equipment;logService;abilityService;constructor(t,n,a,o){super({name:"HoneyAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=n,this.logService=a,this.abilityService=o}executeAbility(t){const n=this.owner;for(let a=0;a<this.equipment.multiplier;a++){let o=new E.V(this.logService,this.abilityService,n.parent,null,null,0);n.parent.summonPet(o,n.savedPosition).success&&this.logService.createLog({message:`${n.name} Spawned Bee (Honey)${a>0?this.equipment.multiplierMessage:""}`,type:"ability",player:n.parent})}}}},81477(O,S,i){i.d(S,{K:()=>a});var A=i(22097),c=i(5615),E=i(56990),_=i(33127),v=i(24111),e=i(58857),t=i(61850),n=i(79222);class a extends A.${name="Confused";equipmentClass="ailment-other";callback=d=>{d.addAbility(new o(d))}}class o extends c.T{petService;logService;constructor(d){super({name:"ConfusedAbility",owner:d,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:g=>this.executeAbility(g)}),this.petService=_.I.getInjector().get(E.T),this.logService=_.I.getInjector().get(v.K)}executeAbility(d){const g=this.owner,f=Math.max(1,(g.tier??1)-1),D=this.petService.allPets.get(f)??[];if(0===D.length)return void g.removePerk();const k=(0,e.k6)({key:"equipment.confused-transform",label:(0,n.R)(g,"Confused","transform"),options:D.map(J=>({id:J,label:J}))},()=>(0,t.hw)(0,D.length-1)),L=D[k.index];g.removePerk();const F=this.petService.createPet({name:L,attack:g.attack,health:g.health,exp:g.exp??0,equipment:null,mana:g.mana},g.parent);this.logService.createLog({message:`${g.name} transformed into a ${L}. (Confused)`,type:"equipment",player:g.parent,randomEvent:k.randomEvent}),g.parent.transformPet(g,F)}}},81537(O,S,i){i.d(S,{T:()=>E});var A=i(22097),c=i(5615);class E extends A.${logService;name="Cake";equipmentClass="shop";tier=3;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"CakeAbility",owner:e,triggers:["EndTurn"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner,n=1*(this.equipment.multiplier??1);t.increaseSellValue(n),this.logService.createLog({message:`${t.name} increased its sell value by ${n}. (Cake)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent})}}},81658(O,S,i){i.d(S,{Z:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Kiwi";tier=1;pack="Star";attack=1;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"KiwiAbility",owner:e,triggers:["ThisHurt","ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.petArray.filter(k=>"Strawberry"!=k.equipment?.name||k==r),g=r.parent.getLastPet(d,r),f=g.pet;if(null==f)return;let D=this.level;f.increaseAttack(D),this.logService.createLog({message:`${r.name} gave ${f.name} +${D} attack`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},81740(O,S,i){i.d(S,{P:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Giraffe";tier=3;pack="Turtle";attack=1;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"GiraffeAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,a=t.parent.nearestPetsAhead(this.level,t);if(0!==a.pets.length){for(const o of a.pets)o.increaseAttack(1),o.increaseHealth(1);this.logService.createLog({message:`${t.name} gave ${a.pets.map(o=>o.name).join(", ")} +1 attack and +1 health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:a.random}),this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},81946(O,S,i){i.d(S,{q:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Bison";tier=4;pack="Turtle";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BisonAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner;if(!t.parent.petArray.some(r=>r&&r!==t&&r.level>=3))return;const a=this.level,o=2*this.level;t.increaseAttack(a),t.increaseHealth(o),this.logService.createLog({message:`${t.name} gained +${a} attack and +${o} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},81984(O,S,i){i.d(S,{A:()=>e});var A=i(1827),c=i(61319),_=Object.prototype.hasOwnProperty;const e=function v(t,n,a){var o=t[n];(!_.call(t,n)||!(0,c.A)(o,a)||void 0===a&&!(n in t))&&(0,A.A)(t,n,a)}},82063(O,S,i){i.d(S,{A:()=>_});var A=i(45525),c=i(1860);const _=(0,A.A)(c.A,"Promise")},82144(O,S,i){i.d(S,{k:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Moose";tier=5;pack="Custom";attack=5;health=6;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"Moose Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,a=e.gameApi?.playerPetPool?.get(1)?.length??0;if(0===a)return void this.triggerTigerExecution(e);const r=3*this.level*a,d=t.parent.getRandomPets(1,[t],!1,!1,t),g=d.pets[0];g?(g.increaseHealth(r),this.logService.createLog({message:`${t.name} gave ${g.name} +${r} health from ${a} Tier 1 shop pets.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:d.random}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},82429(O,S,i){function A(_,v,e,t){if(_.komodoShuffle||_.oldStork||_.playerToy&&t.isToyRandom(_.playerToy)||_.opponentToy&&t.isToyRandom(_.opponentToy))return!1;const n=a=>{if(!a)return!0;for(let o=0;o<a.length;o++){const r=a[o];if(!r||!r.name)continue;if(v.isPetRandom(r.name))return!1;let d=null;if("string"==typeof r.equipment?d=r.equipment:r.equipment&&"object"==typeof r.equipment&&(d=r.equipment.name),d&&e.isEquipmentRandom(d))return!1}return!0};return!(!n(_.playerPets)||!n(_.opponentPets))}function c(_){if(null==_||!Number.isFinite(_))return()=>{};const v=function E(_){let v=_>>>0;return()=>{v=v+1831565813>>>0;let e=Math.imul(v^v>>>15,1|v);return e^=e+Math.imul(e^e>>>7,61|e),((e^e>>>14)>>>0)/4294967296}}(Math.trunc(_)),e=Math,t=e.random;return e.random=v,()=>{e.random=t}}i.d(S,{B:()=>A,c:()=>c})},82491(O,S,i){i.d(S,{D:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Fossa";tier=4;pack="Star";attack=6;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"FossaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:a}=e,r=this.owner,g=r.parent===t.player?t.playerRollAmount:t.opponentRollAmount;if(g<=0)return;const f=this.level*g;let k=r.parent.opponent.getFurthestUpPets(2,void 0,r).pets;if(0!=k.length){for(let L of k)this.logService.createLog({message:`${r.name} removed ${f} health from ${L.name}.`,type:"ability",player:r.parent,tiger:a}),L.increaseHealth(-f);this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},82661(O,S,i){i.d(S,{C:()=>_});var A=i(61850),c=i(46200),E=i(5615);class _ extends c.i{logService;abilityService;name="Komodo";tier=6;pack="Custom";attack=6;health=6;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}endTurn(t){if(!t.komodoShuffle)return;let a=this.position;if(0==a)return;let r=this.shufflePets(0,a).map(d=>d.name).join(", ");this.logService.createLog({message:`${this.name} shuffled positions of pets (${r}).`,type:"ability",player:this.parent,randomEvent:!0})}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}shufflePets(t,n){let a=this.parent.petArray.slice(t,n);(0,A.k4)(a);for(let o=0;o<a.length;o++)this.parent.setPet(o,a[o]);return a}}class v extends E.T{logService;abilityService;constructor(t,n,a){super({name:"KomodoAbility",owner:t,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{gameApi:n,tiger:a,pteranodon:o}=t,r=this.owner;if(0===r.position)return void this.triggerTigerExecution(t);const g=r.parent.nearestPetsAhead(r.position,r).pets;if(0===g.length)return void this.triggerTigerExecution(t);const f=this.level;for(const k of g)k.increaseAttack(f),k.increaseHealth(f);n&&(n.komodoShuffle=!0);const D=g.map(k=>k.name).join(", ");this.logService.createLog({message:`${r.name} gave ${D} +${f}/+${f} at end of turn and shuffled positions.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:!0}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},82967(O,S,i){i.d(S,{b:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Sparrow";tier=4;pack="Star";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"SparrowAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},83028(O,S,i){i.d(S,{L:()=>E,V:()=>c});const A={setEnabled:()=>{},isEnabled:()=>!1,setDeferDecorations:()=>{},isDeferDecorations:()=>!0,setShowTriggerNamesInLogs:()=>{},isShowTriggerNamesInLogs:()=>!1,setDebugSummonBoardStateLogs:()=>{},isDebugSummonBoardStateLogs:()=>!1,decorateLogIfNeeded:()=>{},createLog:()=>{},getLogs:()=>[],reset:()=>{},printState:()=>{}};function c(_){return _??A}function E(_){let e=c(_.logService);Object.defineProperty(_,"logService",{configurable:!0,enumerable:!0,get:()=>e,set:t=>{e=c(t)}})}},83031(O,S,i){i.d(S,{Y:()=>v});var A=i(46200),c=i(5615),E=i(51610),_=i(1152);class v extends A.i{logService;abilityService;name="Frigatebird";tier=2;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}resetPet(){super.resetPet()}}class e extends c.T{logService;constructor(n,a){super({name:"FrigatebirdAbility",owner:n,triggers:["FriendGainsAilment"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:n.level,precondition:o=>(0,_.Re)(this.owner,o.triggerPet),abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const d=this.owner,g=(0,_.lK)(d,n.triggerPet),f=g.pet;if(!f)return;const D=f.equipment;!D||!D.equipmentClass?.startsWith("ailment")||(f.removePerk(),f.givePetEquipment(new E.o),this.logService.createLog({message:`${d.name} removed ${D.name} from ${f.name} and gave ${f.name} Rice.`,type:"ability",player:d.parent,randomEvent:g.random}),this.triggerTigerExecution(n))}reset(){this.maxUses=this.level,super.reset()}copy(n){return new e(n,this.logService)}}},83048(O,S,i){i.d(S,{a:()=>_});var A=i(23828),c=i(50873);i(5615);class _ extends c.L{name="Magic Wand";tier=1;startOfBattle(t,n){let a=this.parent.petArray.filter(d=>d.level<3),o=null,r=!1;if(0==a.length){const d=this.parent.getRandomPet([],!0);o=d.pet,r=d.random}else a=(0,A.A)(a),o=a[0],r=a.length>1;null!=o&&(this.logService.createLog({message:`${this.name} gave ${o.name} ${this.level} exp.`,type:"ability",player:this.parent,puma:n,randomEvent:r}),o.increaseExp(this.level))}}},83134(O,S,i){i.d(S,{j:()=>E});var A=i(22097),c=i(5615);class E extends A.${logService;name="Gingerbread Man";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"GingerbreadManAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;let a=1*this.equipment.multiplier;this.logService.createLog({message:`${t.name} gained ${a} experience (Gingerbread Man)${this.equipment.multiplierMessage}.`,type:"equipment",player:t.parent}),t.increaseExp(a)}}},83167(O,S,i){i.d(S,{f:()=>Gi});var A=i(30553),c=i(73327),E=i(5762),_=i(61967),v=i(65438),e=i(54073),t=i(78480),n=i(95313),a=i(7059),o=i(68184),r=i(2042),d=i(20858),g=i(47175),f=i(76325),D=i(99771),k=i(25935),L=i(52078),F=i(31671),J=i(19405),ne=i(61502),H=i(62633),$=i(11970),q=i(34815),ae=i(51665),le=i(1874),_e=i(19866),ye=i(56960),Se=i(86900),Ce=i(58151),de=i(23623),Te=i(53092),xe=i(97919),Ue=i(17647),Ne=i(53473),ct=i(99352),Je=i(27312),Ke=i(38065),qe=i(69385),mt=i(77392),pt=i(4193),it=i(8362),Dt=i(26717),ut=i(28266),yt=i(45651),rt=i(91039),He=i(78305),kt=i(59659),Xt=i(42589),nt=i(67174),$t=i(24277),Et=i(18467),ge=i(66723),Oe=i(50048),Ve=i(47256),Fe=i(67138),ot=i(25047),Bt=i(67358),Rt=i(21110),qt=i(68908),zt=i(65919),Ht=i(3269);const Gi={Baku:A.C,Barghest:E.T,Tsuchinoko:_.m,Murmel:v.B,Alchemedes:e.J,Pengobble:t.Z,Bunyip:n.q,"Sneaky Egg":a.v,"Cuddle Toad":o.k,"???":c.F,"Ghost Kitten":r.z,"Frost Wolf":d.j,Mothman:g.Z,"Drop Bear":f.W,Jackalope:D.l,Ogopogo:k.L,Thunderbird:L.W,Gargoyle:F.N,Bigfoot:J.h,"Lucky Cat":H.T,"Skeleton Dog":$.k,Mandrake:q.w,"Fur-Bearing Trout":ae.K,"Mana Hound":le._,Calygreyhound:_e.r,"Brain Cramp":ye.Y,Minotaur:Te.I,Wyvern:ne.u,Ouroboros:Se.x,Griffin:Ce.k,Kraken:xe.H,Visitor:Ue.l,"Vampire Bat":it.g,"Tiger Bug":Ne.Q,Tatzelwurm:de.W,Cyclops:ct.p,Chimera:Je.S,Roc:Ke.f,"Worm of Sand":qe.L,"Red Dragon":Dt.L,Unicorn:pt.r,"Loveland Frogman":ut.q,"Salmon of Knowledge":yt.K,"Jersey Devil":rt.j,Pixiu:He.A,Kitsune:kt.W,Nessie:Xt.Y,"Bad Dog":nt.a,Werewolf:$t.a,Amalgamation:Et.P,Manticore:ge.J,Phoenix:Oe.EX,Quetzalcoatl:Ve.a,"Team Spirit":Fe.z,Sleipnir:ot.$,"Sea Serpent":Bt.$,Yeti:Rt.w,Cerberus:qt.g,Hydra:zt.n,Behemoth:Ht.D,Abomination:mt._}},83245(O,S,i){i.d(S,{t:()=>e});var A=i(46200),c=i(5615),E=i(33127),_=i(26886),v=i(1152);class e extends A.i{logService;abilityService;name="Old Mouse";tier=4;pack="Custom";attack=1;health=2;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{logService;abilityService;constructor(a,o,r){super({name:"Old Mouse Ability",owner:a,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:d=>{this.executeAbility(d)}}),this.logService=o,this.abilityService=r}executeAbility(a){const{tiger:o,pteranodon:r}=a,d=this.owner,g=E.I.getInjector().get(_.w),f=Math.max(1,Math.min(3,this.level)),D=g.toys.get(f)??[];if(0===D.length)return void this.triggerTigerExecution(a);const k=D[0],L=g.createToy(k,d.parent,f);L?(d.parent.toy=L,d.parent.toy.used=!1,d.parent.toy.triggers=0,(0,v.rv)(this.logService,d,`${d.name} chose a level ${f} ${k} toy.`,o,r),this.triggerTigerExecution(a)):this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService)}}},83355(O,S,i){i.d(S,{b:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Spinosaurus";tier=6;pack="Star";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SpinosaurusAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d={attack:2*this.level,health:3*this.level},g=r.parent.getRandomPet([r],!0,!1,!0,r);null!=g.pet&&(g.pet.increaseAttack(d.attack),g.pet.increaseHealth(d.health),this.logService.createLog({message:`${r.name} gave ${g.pet.name} ${d.attack} attack and ${d.health} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},83398(O,S,i){i.d(S,{m:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Llama";tier=4;pack="Puppy";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"LlamaAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;let n=!1;for(let r=0;r<5;r++)if(null==t.parent.getPetAtPosition(r)){n=!0;break}if(!n)return void this.triggerTigerExecution(e);const a=this.level,o=2*this.level;t.increaseAttack(a),t.increaseHealth(o),this.logService.createLog({message:`${t.name} gained +${a}/+${o} because there was an empty space.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},83699(O,S,i){i.d(S,{M:()=>E});var A=i(50873);i(5615);class E extends A.L{name="Magic Lamp";tier=2;friendlyLevelUp(e,t,n,a){this.logService.createLog({message:`${this.name} gave ${t.name} ${a} attack and ${a} health.`,type:"ability",player:this.parent,puma:n}),t.increaseAttack(+a),t.increaseHealth(+a)}}},83796(O,S,i){i.d(S,{r:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Catfish";tier=6;pack="Golden";attack=4;health=6;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"CatfishAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=t.petAhead;if(!n)return void this.triggerTigerExecution(e);const a=this.level;if(n.hasTrigger("ThisBought")){for(let r=0;r<a;r++)n.executeAbilities("ThisBought",e.gameApi,n,void 0,void 0,{trigger:"ThisBought"});this.logService.createLog({message:`${t.name} activated ${n.name}'s buy ability ${a} time${1===a?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon})}else{const r=4*this.level;n.increaseHealth(r),this.logService.createLog({message:`${t.name} gave ${n.name} +${r} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},83811(O,S,i){i.d(S,{A:()=>_});var c=Object.prototype.toString;const _=function E(v){return c.call(v)}},83991(O,S,i){i.d(S,{T:()=>c});var A=i(22097);class c extends A.${equipmentClass="defense";name="Garlic";tier=3;power=2;originalPower=2;minimumDamage=2;callback=_=>{}}},84371(O,S,i){i.d(S,{L:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Blue Ringed Octopus";tier=5;pack="Golden";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"BlueRingedOctopusAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level,a=t.parent.petArray.filter(o=>o.alive&&o!==t);if(0!==a.length){for(const o of a)o.increaseAttack(n),o.increaseHealth(n);this.logService.createLog({message:`${t.name} gave friends +${n}/+${n}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},84375(O,S,i){i.d(S,{C:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Elephant";tier=3;pack="Turtle";health=7;attack=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"ElephantAbility",owner:e,triggers:["ThisAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;for(let d=0;d<this.level;d++){let g=r.parent.nearestPetsBehind(1,r);g.pets.length>0&&r.snipePet(g.pets[0],1,g.random,a)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},84385(O,S,i){i.d(S,{v:()=>A});const A=c=>E=>{for(let _=0,v=c.length;_<v&&!E.closed;_++)E.next(c[_]);E.complete()}},84587(O,S,i){i.d(S,{$:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Termite";tier=1;pack="Custom";health=4;attack=1;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"TermiteAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,a=Math.max(1,e.gameApi.previousShopTier??1)+this.level;t.attack=Math.max(1,a),this.logService.createLog({message:`${t.name} set its attack to ${t.attack}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},84736(O,S,i){i.d(S,{v:()=>_});var A=i(46200),c=i(5615),E=i(61850);class _ extends A.i{logService;abilityService;name="Blue Jay";tier=5;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;foodsEatenThisTurn=0;seededFromShop=!1;constructor(t,n){super({name:"Blue Jay Ability",owner:t,triggers:["FoodEatenByThis","StartTurn","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner;if("StartTurn"===t.trigger)return this.foodsEatenThisTurn=0,void(this.seededFromShop=!1);if(!this.seededFromShop){const a=n.foodsEaten??0;a>0&&(this.foodsEatenThisTurn=Math.max(this.foodsEatenThisTurn,a)),this.seededFromShop=!0}if("FoodEatenByThis"!==t.trigger){if("PostRemovalFaint"===t.trigger){const o=this.level*this.foodsEatenThisTurn;if(o<=0)return void this.triggerTigerExecution(t);const r=n.parent.petArray.filter(g=>g&&g!==n&&g.alive);if(0===r.length)return void this.triggerTigerExecution(t);(0,E.k4)(r);const d=r.slice(0,3);for(const g of d)g.increaseAttack(o),g.increaseHealth(o);this.logService.createLog({message:`${n.name} gave ${d.map(g=>g.name).join(", ")} +${o}/+${o} after fainting.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}}else this.foodsEatenThisTurn++}copy(t){return new v(t,this.logService)}}},84746(O,S,i){i.d(S,{A:()=>E});var A=i(45525);const E=function(){try{var _=(0,A.A)(Object,"defineProperty");return _({},"",{}),_}catch{}}()},84787(O,S,i){i.d(S,{H:()=>D});var A=i(27389),c=i(60135),E=i(31805),_=i(45722),t=i(32496),n=i(37765),r=i(15998),d=i(25253);function D(k,L){return L?function f(k,L){if(null!=k){if(function o(k){return k&&"function"==typeof k[_.s]}(k))return function v(k,L){return new A.c(F=>{const J=new E.y;return J.add(L.schedule(()=>{const ne=k[_.s]();J.add(ne.subscribe({next(H){J.add(L.schedule(()=>F.next(H)))},error(H){J.add(L.schedule(()=>F.error(H)))},complete(){J.add(L.schedule(()=>F.complete()))}}))})),J})}(k,L);if((0,r.y)(k))return function e(k,L){return new A.c(F=>{const J=new E.y;return J.add(L.schedule(()=>k.then(ne=>{J.add(L.schedule(()=>{F.next(ne),J.add(L.schedule(()=>F.complete()))}))},ne=>{J.add(L.schedule(()=>F.error(ne)))}))),J})}(k,L);if((0,d.X)(k))return(0,t.V)(k,L);if(function g(k){return k&&"function"==typeof k[n.lJ]}(k)||"string"==typeof k)return function a(k,L){if(!k)throw new Error("Iterable cannot be null");return new A.c(F=>{const J=new E.y;let ne;return J.add(()=>{ne&&"function"==typeof ne.return&&ne.return()}),J.add(L.schedule(()=>{ne=k[n.lJ](),J.add(L.schedule(function(){if(F.closed)return;let H,$;try{const q=ne.next();H=q.value,$=q.done}catch(q){return void F.error(q)}$?F.complete():(F.next(H),this.schedule())}))})),J})}(k,L)}throw new TypeError((null!==k&&typeof k||k)+" is not observable")}(k,L):k instanceof A.c?k:new A.c((0,c.i)(k))}},84797(O,S,i){i.d(S,{S:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Bluebird";tier=1;pack="Puppy";attack=2;health=1;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"BluebirdAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=t.parent.getRandomPet([t]),a=n.pet;if(!a)return;const o=this.level;a.increaseAttack(o),this.logService.createLog({message:`${t.name} gave ${a.name} +${o} attack.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},84932(O,S,i){i.d(S,{Z:()=>c});var A=i(22097);class c extends A.${name="Sleepy";equipmentClass="ailment-other"}},84968(O,S,i){i.d(S,{F:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Frog";tier=1;pack="Star";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"FrogAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>1===this.owner.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.nearestPetsAhead(1,r),g=r.parent.nearestPetsBehind(1,r);if(0===d.pets.length||0===g.pets.length)return;let f=d.pets[0],D=g.pets[0],k=f.attack,L=f.health,J=D.health;f.attack=D.attack,f.health=J,D.attack=k,D.health=L,this.logService.createLog({message:`${r.name} swapped the attack and health of ${f.name} and ${D.name}.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random||g.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},85063(O,S,i){i.d(S,{EA:()=>ce,G1:()=>je,Nb:()=>ve,RY:()=>Le,_y:()=>We,xd:()=>Ae});var A=i(83991),c=i(81537),E=i(23865),_=i(72683),v=i(44402),e=i(81226),t=i(21580),n=i(14271),a=i(51838),o=i(13712),r=i(76282),d=i(13651),g=i(51610),f=i(75898),D=i(32334),k=i(76030),L=i(40110),F=i(13115),J=i(72421),ne=i(60826),H=i(12160),$=i(1075),q=i(17017),ae=i(43592),le=i(56518),_e=i(23296),ye=i(67647),Se=i(22410),Ce=i(39371),de=i(44519),Te=i(65188),xe=i(40482),Ue=i(3129),Ne=i(1406),ct=i(56613),Je=i(40804),Ke=i(6513),qe=i(2730),mt=i(81179),pt=i(19429),it=i(80659),Dt=i(54155),ut=i(54190),yt=i(59561),rt=i(53324),He=i(3887),kt=i(47925),Xt=i(79257),nt=i(32238),$t=i(57598),Et=i(85838),ge=i(60385),Oe=i(31546),Ve=i(30254),Fe=i(23770),ot=i(6328),Bt=i(21844),Rt=i(46300),qt=i(71799),zt=i(6674),Ht=i(242),Gi=i(68478),xt=i(29886),Qi=i(50885),Vi=i(43783),wi=i(80728),Oi=i(64017),zi=i(6145),Sn=i(32232),Mi=i(13997),fi=i(8891),Ci=i(37907),Nn=i(3615),pn=i(80249),nn=i(55713),an=i(1689),Yi=i(83134),In=i(66139),Bi=i(18783),pi=i(70928),Ii=i(38148),Hi=i(95244),Tn=i(75263),bi=i(19180),qi=i(2375),Zi=i(61404),Dn=i(48576),ea=i(55378),Si=i(607),en=i(59374),jn=i(56979),Mn=i(19058),Vn=i(61311),sn=i(85871),ta=i(10687),Ta=i(81477),qa=i(61908),hn=i(30357),gn=i(9008),hi=i(84932),ia=i(7199),na=i(18060);const ce={Garlic:A.T,"Meat Bone":E.i,Steak:_.R,Melon:v.m,Coconut:a.K,Peanut:o.u,"Peanut Butter":qi._,"Cake Slice":Zi.r,Blackberry:r.a,Croissant:d.J,Rice:g.o,Eucalyptus:D.E,Lime:k.w,Salt:F.B,Lemon:H.C,Cucumber:ye.T,Cheese:Se.W,Grapes:Ce.t,Pepper:de.H,Carrot:Te.E,Cherry:ct.G,"Bok Choy":Je.G,Potato:mt.c,Unagi:Ve.d,Corncob:Fe.D,"Fortune Cookie":ot.Y,Blueberry:Bt.z,Donut:Rt.R,Kiwifruit:Ht.T,Pineapple:Gi.N,Guava:xt.B,"Brussels Sprout":Qi.p,Cauliflower:Vi.s,Churros:wi.t,Kiwano:Oi.W,Macaron:zi.S,"Melon Slice":Sn.o,"Oyster Mushroom":Mi.N,"Sardinian Currant":Ci.z,Sausage:Nn.w,Walnut:ae.S,"Honeydew Melon":He.L,"Maple Syrup":kt.q,"White Okra":ge.f,Ambrosia:Tn.B,"Magic Beans":pi.$},Ae={Cake:c.T,Egg:f.Q,Squash:L.o,Pie:J.F,Skewer:ne.q,Pancakes:$.V,Strawberry:le.q,Baguette:_e.m,Eggplant:qe.$,Onion:it.m,"Pita Bread":Dt.j,Tomato:ut.U,Durian:yt.Q,"Sudduth Tomato":nt.w,Fig:rt.F,"Cashew Nut":qt.r,Nachos:zt.h,Caramel:Ne.U,Rambutan:pn.B,"Love Potion":nn.S,"Fairy Dust":an.S,"Gingerbread Man":Yi.j,"Health Potion":Bi.S,"Golden Egg":Ii.N,"White Truffle":Oe.w},ve={Honey:e.c,Chili:t.k,"Chocolate Cake":Ke.L,"Cod Roe":Xt.r,Banana:pt.U,"Gros Michel Banana":$t.h,"Easter Egg":In.u,"Yggdrasil Fruit":Hi.H,"Mild Chili":q.W},Le={Cold:Dn.b,Crisp:Si.Y,Dazed:en.x,Icky:ea.z,Inked:hn.w,Toasty:na.V,Spooked:jn.E,Weak:Mn.l,Silly:sn.E,Bloated:ta.e,Confused:Ta.K,Cursed:qa.$,Sad:gn.B,Sleepy:hi.Z,Webbed:ia.o},We={Mushroom:ze=>new n.t(ze.logService,ze.petService),Popcorn:ze=>new xe.m(ze.logService,ze.petService,ze.gameService),Seaweed:ze=>new Ue.X(ze.logService,ze.abilityService,ze.petService),"Cocoa Bean":ze=>new Et.b(ze.logService,ze.petService),"Faint Bread":ze=>new bi.V(ze.logService,ze.petService),Radish:ze=>new fi.w(ze.logService)},je={Tasty:ze=>new Vn.U(ze.logService)}},85078(O,S,i){i.d(S,{j:()=>_});var A=i(46200),c=i(5615),E=i(29088);class _ extends A.i{logService;abilityService;name="Cockatrice";tier=6;pack="Custom";attack=6;health=8;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"CockatriceAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=d.parent.opponent.petArray.reverse(),f=null;for(let L of g)if(L.level<=this.level){f=L;break}if(null==f)return;this.logService.createLog({message:`${d.name} transformed ${f.name} into a Rock.`,type:"ability",player:d.parent,tiger:o,pteranodon:r});let D=new E.A(this.logService,this.abilityService,f.parent,f.health,f.attack,f.mana,f.exp,f.equipment);d.parent.opponent.setPet(f.position,D,!1),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},85240(O,S,i){i.d(S,{y:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Wasp";tier=3;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Wasp Ability",owner:e,triggers:["ShopUpgrade"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,a=Math.floor(t.attack*(.5*this.level));a>0&&(t.increaseAttack(a),this.logService.createLog({message:`${t.name} gained +${a} attack from Shop Upgrade.`,type:"ability",player:t.parent}))}copy(e){return new _(e,this.logService)}}},85267(O,S,i){i.d(S,{A:()=>v});var A=i(6944),c=A.A?A.A.prototype:void 0,E=c?c.valueOf:void 0;const v=function _(e){return E?Object(E.call(e)):{}}},85554(O,S,i){i.d(S,{A:()=>c});const c=function A(){return!1}},85709(O,S,i){i.d(S,{b:()=>e,t:()=>v});var A=i(57488),c=i(19058),E=i(50873),_=i(5615);class v extends E.L{name="Witch Broom";tier=1;startOfBattle(n,a){let o=(0,A.a)(n,this.parent),r=o.petArray.filter(g=>null!=g.equipment),d=[];for(let g=0;g<this.level;g++){let f=o.getRandomPet(r,!1,!0,!1,null);if(null==f.pet)break;r.push(f.pet),d.push(f.pet)}if(0!==d.length)for(let g of d)this.logService.createLog({message:`${this.name} gave ${g.name} Weak.`,type:"ability",player:this.parent,puma:a,randomEvent:o.petArray.length-r.length>0}),g.givePetEquipment(new c.l);else this.logService.createLog({message:"Player's Witch Broom found no targets",type:"ability",player:this.parent,puma:a,randomEvent:!0})}}class e extends _.T{logService;constructor(n,a){super({name:"WitchBroomAbility",owner:n,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=a}executeAbility(n){const{tiger:r}=n,g=this.owner;let f=g.parent.getPetsWithEquipmentWithSillyFallback("any",g),D=g.parent.getRandomEnemyPetsWithSillyFallback(this.level,f,!1,!0,g),k=D.pets;if(0!=k.length){for(let L of k)L.givePetEquipment(new c.l),this.logService.createLog({message:`${g.name} gave ${L.name} Weak.`,type:"ability",player:g.parent,tiger:r,randomEvent:D.random});this.triggerTigerExecution(n)}}copy(n){return new e(n,this.logService)}}},85838(O,S,i){i.d(S,{b:()=>e});var A=i(22097),c=i(5615),E=i(58857),_=i(61850),v=i(79222);class e extends A.${logService;petService;name="Cocoa Bean";tier=5;equipmentClass="beforeAttack";power=0;originalPower=0;uses=1;originalUses=1;callback=a=>{const o=a.getEquippedEquipmentInstance(this);a.addAbility(new t(a,o,this.logService,this.petService))};constructor(a,o){super(),this.logService=a,this.petService=o}}class t extends c.T{equipment;logService;petService;constructor(a,o,r,d){super({name:"CocoaBeanAbility",owner:a,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:g=>{this.executeAbility(g)}}),this.equipment=o,this.logService=r,this.petService=d}executeAbility(a){const o=this.owner;for(let r=0;r<this.equipment.multiplier;r++){let d=o.parent.opponent.petArray.filter(L=>L.alive);if(0==d.length)return void o.removePerk();const g=(0,E.k6)({key:"equipment.cocoa-bean-transform",label:(0,v.R)(o,"Cocoa Bean","transform",r+1),options:d.map(L=>({id:`${L.savedPosition+1}:${L.name}`,label:`O${L.savedPosition+1} ${L.name}`}))},()=>(0,_.hw)(0,d.length-1));let f=d[g.index],D=this.petService.createPet({name:f.name,attack:f.attack,health:f.health,mana:o.mana,exp:f.exp,equipment:null},o.parent);if(D.mana=o.mana,f.swallowedPets&&f.swallowedPets.length>0){D.swallowedPets=[];for(let L of f.swallowedPets){let F=this.petService.createPet({name:L.name,attack:L.attack,health:L.health,mana:L.mana,exp:L.exp,equipment:L.equipment},o.parent);D.swallowedPets.push(F)}}D.copyAbilities(f,"Pet"),this.logService.createLog({message:`${o.name} transformed into ${D.name} (Cocoa Bean)${r>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:o.parent,randomEvent:g.randomEvent}),o.parent.transformPet(o,D)}}}},85871(O,S,i){i.d(S,{E:()=>c});var A=i(22097);class c extends A.${name="Silly";equipmentClass="ailment-other"}},86249(O,S,i){i.d(S,{Q:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Seal";tier=5;pack="Turtle";attack=3;health=8;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SealAbility",owner:e,triggers:["FoodEatenByThis"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;if(n!=r)return;let d=this.level,g=r.parent.getRandomPets(3,[r],!0,!1,r);for(let f of g.pets)null!=f&&(f.increaseAttack(d),this.logService.createLog({message:`${r.name} gave ${f.name} ${d} attack.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}));this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},86253(O,S,i){i.d(S,{BE:()=>t,Ku:()=>E,Uk:()=>e,bE:()=>v,vD:()=>_,wA:()=>c,yV:()=>A});const A=n=>n.petArray.length>0,c=n=>{n.pet0=n.orignalPet0,n.pet0?.resetPet(),n.pet1=n.orignalPet1,n.pet1?.resetPet(),n.pet2=n.orignalPet2,n.pet2?.resetPet(),n.pet3=n.orignalPet3,n.pet3?.resetPet(),n.pet4=n.orignalPet4,n.pet4?.resetPet(),n.orignalPet0=n.pet0,n.orignalPet1=n.pet1,n.orignalPet2=n.pet2,n.orignalPet3=n.pet3,n.orignalPet4=n.pet4,n.toy=n.originalToy,n.toy&&(n.toy.used=!1,n.toy.triggers=0,n.originalToy&&(n.toy.level=n.originalToy.level)),n.hardToy=n.originalHardToy,n.hardToy&&(n.hardToy.used=!1,n.hardToy.triggers=0,n.originalHardToy&&(n.hardToy.level=n.originalHardToy.level)),n.brokenToy=null,n.brokenHardToy=null,n.trumpets=0,n.spawnedGoldenRetiever=!1,n.summonedBoatThisBattle=!1,n.cannedAilments=[]},E=n=>{for(const a of n.petArray)a&&(a.jumped=!1)},_=(n,a)=>{a.createLog({message:`${n.name} fainted.`,type:"death",player:n.parent,sourcePet:n})},v=(n,a)=>{n.seenDead=!0,n.setFaintEventIfPresent(),_(n,a)},e=(n,a)=>{n.pet0&&!n.pet0.alive&&!n.pet0.seenDead&&v(n.pet0,a),n.pet1&&!n.pet1.alive&&!n.pet1.seenDead&&v(n.pet1,a),n.pet2&&!n.pet2.alive&&!n.pet2.seenDead&&v(n.pet2,a),n.pet3&&!n.pet3.alive&&!n.pet3.seenDead&&v(n.pet3,a),n.pet4&&!n.pet4.alive&&!n.pet4.seenDead&&v(n.pet4,a)},t=(n,a)=>{let o=!1;const r=[{pet:n.pet0,index:0},{pet:n.pet1,index:1},{pet:n.pet2,index:2},{pet:n.pet3,index:3},{pet:n.pet4,index:4}];for(const d of r)if(d.pet&&!d.pet.alive){switch(d.pet.removed=!0,d.index){case 0:n.pet0=void 0;break;case 1:n.pet1=void 0;break;case 2:n.pet2=void 0;break;case 3:n.pet3=void 0;break;case 4:n.pet4=void 0}a.triggerAfterFaintEvents(d.pet),o=!0}return o}},86542(O,S,i){i.d(S,{A:()=>E});var A=i(3746);const E=function c(_){return(0,A.A)(this,_).has(_)}},86568(O,S,i){i.d(S,{A:()=>_});var A=i(45525),c=i(1860);const _=(0,A.A)(c.A,"Map")},86589(O,S,i){i.d(S,{B:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Crab";tier=2;pack="Turtle";health=1;attack=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"CrabAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;if(!r.alive)return;let d=r.parent.getHighestHealthPet(r,r);if(null==d.pet)return;let g=Math.ceil(d.pet.health*(.25*this.level)),f=r.parent.getThis(r);f.pet&&(f.pet.increaseHealth(g),this.logService.createLog({message:`${r.name} gave ${f.pet.name} ${.25*this.level*100}% of ${d.pet.name}'s health (${g})`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},86610(O,S,i){i.d(S,{r:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Pig";tier=1;pack="Turtle";health=1;attack=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PigAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gained ${this.level} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},86785(O,S,i){function A(E){return 1===E?0:2===E?2:5}function c(E){return A(E)}i.d(S,{T:()=>c,l:()=>A})},86863(O,S,i){i.d(S,{M:()=>_});var A=i(46200),c=i(5615),E=i(86785);class _ extends A.i{logService;abilityService;petService;name="Tadpole";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.petService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D,k){super(t,n,o),this.logService=t,this.abilityService=n,this.petService=a,this.initPet(f,r,d,g,D,k)}}class v extends c.T{logService;petService;constructor(t,n,a){super({name:"Tadpole Ability",owner:t,triggers:["StartBattle"],abilityType:"Pet",abilitylevel:t.level,abilityFunction:o=>this.executeAbility(o)}),this.logService=n,this.petService=a}executeAbility(t){const n=this.owner,a=n.level,o=this.petService.createPet({name:"Frog",attack:null,health:null,mana:0,exp:(0,E.l)(a),equipment:null},n.parent);o&&(n.parent.transformPet(n,o),this.logService.createLog({message:`${n.name} transformed into a level ${a} Frog.`,type:"ability",player:n.parent})),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.petService)}}},86900(O,S,i){i.d(S,{x:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Ouroboros";tier=3;pack="Unicorn";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=5;constructor(e,t,n){super({name:"OuroborosAbility",owner:e,triggers:["Roll","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const t=this.owner,n=this.level;this.usesThisTurn++,this.logService.createLog({message:`${t.name} gave newly rolled shop pets +${n}/+${n} until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},86909(O,S,i){i.d(S,{$:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Kangaroo";tier=2;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"KangarooAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getThis(r);d.pet&&(d.pet.increaseAttack(this.level),d.pet.increaseHealth(this.level),this.logService.createLog({message:`${r.name} gave ${d.pet.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},86950(O,S,i){i.d(S,{t:()=>t});var A=i(46200),c=i(5615),E=i(33127),_=i(26886),v=i(61850),e=i(1152);class t extends A.i{logService;abilityService;name="Ferret";tier=1;pack="Puppy";attack=1;health=3;initAbilities(){this.addAbility(new n(this,this.logService,this.abilityService)),super.initAbilities()}constructor(o,r,d,g,f,D,k,L,F){super(o,r,d),this.logService=o,this.abilityService=r,this.initPet(k,g,f,D,L,F)}}class n extends c.T{logService;abilityService;constructor(o,r,d){super({name:"FerretAbility",owner:o,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:o.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=r,this.abilityService=d}executeAbility(o){const r=this.owner,d=E.I.getInjector().get(_.w),g=Math.max(1,Math.min(3,this.level)),f=d.toys.get(g)??[];if(0===f.length)return void this.triggerTigerExecution(o);const D=f[(0,v.hw)(0,f.length-1)],k=d.createToy(D,r.parent,g);k?(r.parent.toy=k,r.parent.toy.used=!1,r.parent.toy.triggers=0,(0,e.rv)(this.logService,r,`${r.name} chose a level ${g} ${D} toy.`,o.tiger,o.pteranodon),this.triggerTigerExecution(o)):this.triggerTigerExecution(o)}copy(o){return new n(o,this.logService,this.abilityService)}}},87647(O,S,i){function A(_,v,e,t){if(!v||!t.includes(v))return _;let n=_;for(const a of e)n+=a;return n}function c(_,v,e){if("Icky"!==v?.name)return _;let t=2;for(const n of e)t+=n;return t+=(v.multiplier??1)-1,_*t}function E(_,v,e){const t=e?.includeGhostKitten??!1,n=e?.fairyMinimumOne??!1,a=e?.fairyRequiresPositiveDamage??!0,o=e?.nurikabeConsumesOnZeroHit??!1,r=e?.fanMusselConsumesOnZeroHit??!1;let d=v,g=0,f=0,D=0,k=0;const L=!a||d>0;if(_.hasTrigger(void 0,"Pet","FairyAbility")&&L){for(const ne of _.abilityList)if("FairyAbility"==ne.name){const H=2*ne.level;g+=H,d=Math.max(0,d-H)}n&&d<1&&(d=1)}if(_.hasTrigger(void 0,"Pet","NurikabeAbility")&&(d>0||o&&v<=0))for(const ne of _.abilityList)if("NurikabeAbility"==ne.name){const H=4*ne.level;f+=H,d>0&&(d=Math.max(0,d-H)),ne.currentUses++}if(_.hasTrigger(void 0,"Pet","FanMusselAbility")&&(d>0||r&&v<=0))for(const ne of _.abilityList)if("FanMusselAbility"==ne.name){const H=ne.level;D+=H,d>0&&(d=Math.max(0,d-H)),ne.currentUses++}if(t&&_.hasTrigger(void 0,"Pet","GhostKittenAbility")&&d>0)for(const ne of _.abilityList)if("GhostKittenAbility"==ne.name){const H=3*ne.level;k+=H,d=Math.max(0,d-H)}return{damage:d,fairyBallReduction:g,nurikabe:f,fanMusselReduction:D,ghostKittenReduction:k}}i.d(S,{GH:()=>A,W6:()=>c,qw:()=>E})},87750(O,S,i){i.d(S,{q:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Poodle Moth";tier=4;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Poodle Moth Ability",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",maxUses:e.level,native:!0,abilitylevel:e.level,precondition:n=>{const{triggerPet:a}=n;return!!a&&a.parent===this.owner.parent},abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:n,pteranodon:a}=e,o=this.owner;t&&(t.increaseExp(3),this.logService.createLog({message:`${o.name} gave ${t.name} +3 experience after transforming.`,type:"ability",player:o.parent,tiger:n,pteranodon:a}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},87942(O,S,i){i.d(S,{H:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Pigeon";tier=1;pack="Turtle";attack=3;health=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PigeonAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked ${this.level} free Bread Crumbs.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},87955(O,S,i){i.d(S,{x:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Hatching Chick";tier=3;pack="Puppy";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;pendingBuffs=new Map;constructor(e,t,n){super({name:"HatchingChickAbility",owner:e,triggers:["EndTurn","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger){for(const[a,o]of this.pendingBuffs)a&&(a.increaseAttack(-o.attack),a.increaseHealth(-o.health));return this.pendingBuffs.clear(),void this.triggerTigerExecution(e)}const n=t.petAhead;if(n)return 1===this.level?(n.increaseAttack(3),n.increaseHealth(3),this.pendingBuffs.set(n,{attack:3,health:3}),this.logService.createLog({message:`${t.name} gave ${n.name} +3/+3 until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),void this.triggerTigerExecution(e)):2===this.level?(n.increaseAttack(2),n.increaseHealth(2),this.logService.createLog({message:`${t.name} gave ${n.name} +2/+2.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),void this.triggerTigerExecution(e)):(n.increaseExp(1),this.logService.createLog({message:`${t.name} gave ${n.name} +1 experience.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),void this.triggerTigerExecution(e));this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},87970(O,S,i){i.d(S,{Z:()=>_});var A=i(46200),c=i(5615),E=i(1152);class _ extends A.i{logService;abilityService;name="Rabbit";tier=3;pack="Turtle";health=2;attack=1;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"RabbitAbility",owner:t,triggers:["FoodEatenByFriendly"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:3,precondition:a=>{const{triggerPet:o}=a,g=(0,E.lK)(this.owner,o).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:o}=t,d=this.owner;let g=this.level,f=(0,E.lK)(d,a),D=f.pet;null!=D&&(D.increaseHealth(g),this.logService.createLog({message:`${d.name} gave ${D.name} ${g} health.`,type:"ability",player:d.parent,tiger:o,randomEvent:f.random}),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},88034(O,S,i){i.d(S,{n:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Tuna";tier=3;pack="Star";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f,D){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f),this.timesHurt=D??0,this.originalTimesHurt=this.timesHurt}}class _ extends c.T{logService;timesHurtOverride;constructor(e,t,n){super({name:"TunaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.timesHurtOverride=n??null}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=this.timesHurtOverride??r.timesHurt;for(let g=0;g<d;g++){const f=r.parent.getRandomPet([r],!0,!1,!0,r);if(null==f.pet)continue;const D=this.level;this.logService.createLog({message:`${r.name} gave ${f.pet.name} +${D} attack and +${D} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random}),f.pet.increaseAttack(D),f.pet.increaseHealth(D)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.timesHurtOverride??this.owner.timesHurt)}}},88184(O,S,i){i.d(S,{$:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Shoebill";tier=5;pack="Star";attack=3;health=6;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"ShoebillAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;let n=t.petAhead;for(;n;){if("Strawberry"===n.equipment?.name){const a=4*this.level;n.removePerk(),n.increaseAttack(a),n.increaseHealth(a),this.logService.createLog({message:`${t.name} replaced Strawberry on ${n.name} with +${a}/+${a}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon});break}n=n.petAhead}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},88513(O,S,i){i.d(S,{v:()=>v});var A=i(46200),c=i(5615),E=i(3279),_=i(75898);class v extends A.i{logService;abilityService;name="Robin";tier=2;pack="Puppy";attack=2;health=3;initAbilities(){this.addAbility(new e(this,this.logService,this.abilityService)),super.initAbilities()}constructor(n,a,o,r,d,g,f,D,k){super(n,a,o),this.logService=n,this.abilityService=a,this.initPet(f,r,d,g,D,k)}}class e extends c.T{logService;abilityService;constructor(n,a,o){super({name:"RobinAbility",owner:n,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=a,this.abilityService=o}executeAbility(n){const{tiger:r}=n,g=this.owner;let f=new E.D(this.logService,this.abilityService,g.parent,null,null,this.minExpForLevel,null);this.logService.createLog({message:`${g.name} summoned a Nest (level ${this.level}).`,type:"ability",player:g.parent,randomEvent:!1,tiger:r});let D=g.parent.summonPetInFront(g,f);D.success&&(this.logService.createLog({message:`${g.name} gave Nest an Egg.`,type:"ability",player:g.parent,randomEvent:D.randomEvent,tiger:r}),f.givePetEquipment(new _.Q(this.logService))),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService,this.abilityService)}}},88988(O,S,i){i.d(S,{P:()=>_});var A=i(46200),c=i(5615),E=i(30357);class _ extends A.i{logService;abilityService;name="Squid";tier=2;pack="Golden";attack=5;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"SquidAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:a=>!(this.owner.parent.trumpets<1),abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner;let g=!1,f=d.parent.getPetsWithEquipmentWithSillyFallback("Inked",d),D=d.parent.opponent.getFurthestUpPets(this.level,f,d),k=D.pets;for(let L of k){if(null==L)break;g=!0,L.givePetEquipment(new E.w),this.logService.createLog({message:`${d.name} gave ${L.name} Inked.`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:D.random})}g&&d.parent.spendTrumpets(1,d,r),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},89043(O,S,i){i.d(S,{B:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Opossum";tier=1;pack="Golden";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"OpossumAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level;this.logService.createLog({message:`${t.name} gave a random faint pet in the shop +${n}/+${n}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},89124(O,S,i){i.d(S,{b:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Fake Nessie";tier=1;pack="Custom";hidden=!0;attack=1;health=2;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},89189(O,S,i){var A;i.d(S,{G:()=>r});var c=i(46200),E=i(5615),_=i(33127),v=i(56990),e=i(38129),t=i(74766);const n={Pack1:"Turtle",Pack2:"Puppy",Pack3:"Star",Pack4:"Golden",Pack5:"Unicorn",Danger:"Danger",Custom:"Custom",MiniPack1:"Custom",MiniPack2:"Custom",MiniPack3:"Custom"},a=new Map,o=t??(A||(A=i.t(t,2)));if(Array.isArray(o))for(const g of o){if(!g||"object"!=typeof g)continue;const f=g;if(!f.Name)continue;const D=new Set;for(const k of f.Packs??[]){const L=n[k];L&&D.add(L)}D.size>0&&a.set(f.Name,D)}class r extends c.i{logService;abilityService;name="Tanystropheus";tier=6;pack="Custom";attack=6;health=6;initAbilities(){this.addAbility(new d(this,this.logService)),super.initAbilities()}constructor(f,D,k,L,F,J,ne,H,$){super(f,D,k),this.logService=f,this.abilityService=D,this.initPet(ne,L,F,J,H,$)}}class d extends E.T{logService;constructor(f,D){super({name:"Tanystropheus Ability",owner:f,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:f.level,abilityFunction:k=>this.executeAbility(k)}),this.logService=D}executeAbility(f){const{tiger:D,pteranodon:k}=f,L=this.owner,F=L.parent.pack,J=_.I.getInjector().get(v.T),ne=L.parent.petArray.some(le=>this.isPetInActivePack(le,F,J)),H=L.parent.petArray.some(le=>this.isFoodInActivePack(le.equipment?.name,F));if(ne||H)return void this.triggerTigerExecution(f);const $=L.parent.getRandomEnemyPetsWithSillyFallback(3,[],!1,!0,L),q=$.pets;if(!q.length)return void this.triggerTigerExecution(f);const ae=this.level;for(const le of q)le&&(le.exp=Math.max(0,(le.exp??0)-ae));this.logService.createLog({message:`${L.name} removed ${ae} XP from ${q.map(le=>le.name).join(", ")}.`,type:"ability",player:L.parent,tiger:D,pteranodon:k,randomEvent:$.random}),this.triggerTigerExecution(f)}isPetInActivePack(f,D,k){if(!k)return f.pack===D;if(e.$.includes(D))return(k.basePackPetsByName[D]?.get(f.tier)??[]).includes(f.name);const L=k.playerCustomPackPets.get(D);return L?L.get(f.tier)?.includes(f.name)??!1:f.pack===D}isFoodInActivePack(f,D){if(!f)return!1;const k=a.get(f);return!!k&&k.has(D)}copy(f){return new d(f,this.logService)}}},89407(O,S,i){i.d(S,{r:()=>E});var A=i(39156),c=i(76351);class E extends A.E{resolveTrumpetGainTarget(v){return(0,c.gq)(this,v)}gainTrumpets(v,e,t,n,a,o){(0,c.eK)(this,v,e,this.logService,t,n,a,o)}spendTrumpets(v,e,t){(0,c.ZM)(this,v,e,this.logService,t)}checkGoldenSpawn(){(0,c.rd)(this,this.abilityService,this.logService,this.gameService)}}},89443(O,S,i){i.d(S,{L:()=>E});var A=i(46200);i(5615);class E extends A.i{logService;abilityService;name="Helmeted Hornbill";tier=6;pack="Danger";health=4;attack=5;constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}},89579(O,S,i){i.d(S,{d:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Blowfish";tier=4;pack="Turtle";attack=3;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BlowfishAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=3*this.level,g=r.parent.opponent.getRandomPet([],!1,!0,!1,r);g.pet&&r.snipePet(g.pet,d,g.random,a),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},89732(O,S,i){i.d(S,{K:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Swordfish";tier=5;pack="Star";attack=6;health=9;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SwordFishAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,r=a.parent.opponent.getHighestHealthPet(void 0,a),d=r.pet,g=a.attack*this.level;d?(a.snipePet(d,g,r.random,t,n),this.logService.createLog({message:`${a.name} deals ${g} damage to ${d.name}.`,type:"ability",player:a.parent,sourcePet:a,targetPet:d,tiger:t,pteranodon:n,randomEvent:r.random})):this.logService.createLog({message:`${a.name} could not find an enemy to attack.`,type:"ability",player:a.parent,sourcePet:a,tiger:t,pteranodon:n}),a.snipePet(a,g,!1,t,n),this.logService.createLog({message:`${a.name} deals ${g} damage to itself.`,type:"ability",player:a.parent,sourcePet:a,targetPet:a,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},90021(O,S,i){i.d(S,{A:()=>_});var A=i(46200),c=i(14787),E=i(5615);class _ extends A.i{logService;abilityService;name="Cockroach";tier=1;pack="Star";attack=1;health=1;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends E.T{logService;abilityService;constructor(t,n,a){super({name:"CockroachAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner,g=this.level,f=new c.s(this.logService,this.abilityService,d.parent,1,1,0,0);let D=d.parent.summonPet(f,d.savedPosition,!1,d);if(D.success){this.logService.createLog({message:`${d.name} summoned a 1/1 Cockroach.`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:D.randomEvent});let k=d.parent.getSpecificPet(d,f);k.pet.increaseExp(g),this.logService.createLog({message:`${d.name} gave ${k.pet.name} +${g} exp.`,type:"ability",player:d.parent,tiger:o,randomEvent:k.random})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},90285(O,S,i){i.d(S,{C:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Chipmunk";tier=1;pack="Puppy";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"ChipmunkAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=t.equipment,a=this.level;if(!n)return this.logService.createLog({message:`${t.name} had no food perk to stock.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),void this.triggerTigerExecution(e);this.logService.createLog({message:`${t.name} stocked ${a} free ${n.name}${1===a?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},90340(O,S,i){i.d(S,{A:()=>c});const c=function A(E){return this.__data__.get(E)}},90417(O,S,i){i.d(S,{M:()=>_});var A=i(46200),c=i(5615),E=i(1152);class _ extends A.i{logService;abilityService;name="Ili Pika";tier=1;pack="Danger";attack=2;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"IliPikaAbility",owner:t,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:t.level,precondition:a=>{const{triggerPet:o}=a,g=(0,E.lK)(this.owner,o).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:o}=t,d=this.owner;let g=(0,E.lK)(d,a),f=g.pet;if(!f)return;let D=1*this.level;f.attack>f.health?(f.increaseAttack(D),this.logService.createLog({message:`${d.name} give ${D} attack to ${f.name}.`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random})):(f.increaseHealth(D),this.logService.createLog({message:`${d.name} give ${D} health to ${f.name}.`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random})),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},90771(O,S,i){i.d(S,{m:()=>E});var A=i(46200);i(5615);class E extends A.i{logService;abilityService;petService;name="Bonobo";tier=4;pack="Danger";attack=3;health=3;constructor(e,t,n,a,o,r,d,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,o,r,d,f,D)}}},90966(O,S,i){i.d(S,{m:()=>t});var A=i(83028),c=i(47868),E=i(24111),_=i(49230),v=i(1744),e=i(94185);class t{logService;abilityService;gameService;equipmentFactory;cachedEquipment=null;cachedAilments=null;constructor(a,o,r,d){this.logService=a,this.abilityService=o,this.gameService=r,this.equipmentFactory=d,this.logService=(0,A.V)(this.logService)}getInstanceOfAllEquipment(){return this.cachedEquipment||(this.cachedEquipment=this.equipmentFactory.getAllEquipment()),this.cachedEquipment}getInstanceOfAllAilments(){return this.cachedAilments||(this.cachedAilments=this.equipmentFactory.getAllAilments()),this.cachedAilments}isEquipmentRandom(a){const o=this.getInstanceOfAllEquipment(),r=this.getInstanceOfAllAilments();return(o.get(a)?.hasRandomEvents??!1)||(r.get(a)?.hasRandomEvents??!1)}static USEFUL_PERKS=new Map([["Honey",1],["Strawberry",1],["Egg",1],["Cake Slice",1],["Cashew Nut",1],["Nachos",1],["Lime",2],["Meat Bone",2],["Cherry",2],["Bok Choy",2],["Kiwifruit",2],["Fairy Dust",2],["Garlic",3],["Gingerbread Man",3],["Fig",3],["Cucumber",3],["Croissant",3],["Squash",3],["Banana",4],["Love Potion",4],["Pie",4],["Grapes",4],["Cheese",4],["Cod Roe",4],["Salt",4],["Fortune Cookie",4],["Easter Egg",5],["Magic Beans",5],["Chili",5],["Lemon",5],["Durian",5],["Honeydew Melon",5],["Maple Syrup",4],["Cocoa Bean",5],["White Okra",5],["Popcorn",6],["Steak",6],["Pancakes",6],["Yggdrasil Fruit",6],["Melon",6],["Tomato",6],["Sudduth Tomato",6],["Pita Bread",6],["Seaweed",5],["Caramel",4],["Baguette",4]]);isUsefulPerk(a){return t.USEFUL_PERKS.has(a)}getUsefulPerksByTier(a){const o=this.getInstanceOfAllEquipment(),r=[];for(const[d,g]of t.USEFUL_PERKS.entries())g===a&&o.has(d)&&r.push(o.get(d));return r}getUsefulPerks(){const a=this.getInstanceOfAllEquipment(),o=[];for(const r of t.USEFUL_PERKS.keys())a.has(r)&&o.push(a.get(r));return o}static \u0275fac=function(o){return new(o||t)(c.KVO(E.K),c.KVO(_.K),c.KVO(v.w),c.KVO(e.c))};static \u0275prov=c.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}},91039(O,S,i){i.d(S,{j:()=>_});var A=i(46200),c=i(5615),E=i(1152);class _ extends A.i{logService;abilityService;name="Jersey Devil";tier=5;pack="Unicorn";attack=3;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;pendingBuffs=new Map;constructor(t,n){super({name:"JerseyDevilAbility",owner:t,triggers:["FriendSummoned","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{gameApi:n,triggerPet:a,tiger:o,pteranodon:r}=t,d=this.owner;if("EndTurn"===t.trigger)return this.resetBuffs(),void this.triggerTigerExecution(t);if(!a)return;let f=d.parent===n.player?n.playerLevel3Sold:n.opponentLevel3Sold;f=Math.min(f??0,5);const D=this.level*f,k=(0,E.Uj)(d,a,(J,ne)=>J.parent.getSpecificPet(J,ne));if(!k.pet||D<=0)return;const L=k.pet;L.increaseAttack(D),L.increaseHealth(D);const F=this.pendingBuffs.get(L)??{attack:0,health:0};this.pendingBuffs.set(L,{attack:F.attack+D,health:F.health+D}),(0,E.rv)(this.logService,d,`${d.name} gave ${L.name} ${D} attack and ${D} health until next turn.`,o,r,{randomEvent:k.random}),this.triggerTigerExecution(t)}resetBuffs(){for(const[t,n]of this.pendingBuffs)t&&(n.attack&&t.increaseAttack(-n.attack),n.health&&t.increaseHealth(-n.health));this.pendingBuffs.clear()}copy(t){return new v(t,this.logService)}}},91066(O,S,i){i.d(S,{e:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Black Bear";tier=6;pack="Custom";attack=5;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;foodsEatenThisTurn=0;seededFromShop=!1;constructor(e,t){super({name:"Black Bear Ability",owner:e,triggers:["StartTurn","FoodEatenByThis","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.foodsEatenThisTurn=0,void(this.seededFromShop=!1);if(!this.seededFromShop){const n=t.foodsEaten??0;n>0&&(this.foodsEatenThisTurn=Math.max(this.foodsEatenThisTurn,n)),this.seededFromShop=!0}if("FoodEatenByThis"!==e.trigger){if("PostRemovalFaint"===e.trigger){const a=4*this.level*this.foodsEatenThisTurn;if(a<=0)return void this.triggerTigerExecution(e);const o=t.parent.getRandomEnemyPetsWithSillyFallback(1,[],!1,!0,t),r=o.pets[0];if(!r)return void this.triggerTigerExecution(e);t.dealDamage(r,a),this.logService.createLog({message:`${t.name} dealt ${a} damage to ${r.name} after eating ${this.foodsEatenThisTurn} food item${1===this.foodsEatenThisTurn?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:o.random}),this.triggerTigerExecution(e)}}else this.foodsEatenThisTurn++}copy(e){return new _(e,this.logService)}}},91298(O,S,i){i.d(S,{J:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Crocodile";tier=5;pack="Turtle";attack=8;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"CrocodileAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;for(let d=0;d<this.level;d++){let g=r.parent.opponent.getLastPet(void 0,r),f=g.pet;f&&r.snipePet(f,8,g.random,a)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},91442(O,S,i){i.d(S,{Z:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Gazelle";tier=3;pack="Custom";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;pendingAttackBuff=0;pendingHealthBuff=0;constructor(e,t){super({name:"Gazelle Ability",owner:e,triggers:["StartTurn","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{trigger:t,gameApi:n,tiger:a,pteranodon:o}=e,r=this.owner;"StartTurn"===t?this.applyBonus(n,r,a,o):"EndTurn"===t&&this.removeBonus(r)}applyBonus(e,t,n,a){const r=Math.max(0,((t.parent===e?.player?e.playerGoldSpent:e?.opponentGoldSpent)??0)-10);if(r<=0)return this.pendingAttackBuff=0,void(this.pendingHealthBuff=0);const f=r*[2,4,6][Math.min(this.level-1,2)],D=r*[1,2,3][Math.min(this.level-1,2)];t.increaseAttack(f),t.increaseHealth(D),this.pendingAttackBuff=f,this.pendingHealthBuff=D,this.logService.createLog({message:`${t.name} gained +${f}/+${D} (per gold over 10) from ${r} gold.`,type:"ability",player:t.parent,tiger:n,pteranodon:a})}removeBonus(e){(0!==this.pendingAttackBuff||0!==this.pendingHealthBuff)&&(e.increaseAttack(-this.pendingAttackBuff),e.increaseHealth(-this.pendingHealthBuff),this.pendingAttackBuff=0,this.pendingHealthBuff=0)}copy(e){return new _(e,this.logService)}}},91543(O,S,i){i.d(S,{Q:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Banggai Cardinalfish";tier=5;pack="Danger";attack=4;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BanggaiCardinalfishAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=6*this.level,f=r.parent.getAll(!0,r,!0);for(let D of f.pets){let k=Math.max(D.attack-d,4);D.attack=k,this.logService.createLog({message:`${r.name} reduced ${D.name} attack by ${d} to ${k}.`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},91576(O,S,i){i.d(S,{k:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;petService;name="California Condor";tier=6;pack="Danger";attack=10;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,o,r,d,f,D)}}class _ extends c.T{logService;constructor(e,t){super({name:"CaliforniaCondorAbility",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;let d=n;!d||"California Condor"===d.baseName||"California Condor"===d.name||(this.logService.createLog({message:`California Condor copied ${d.name}'s level ${r.level} ability`,type:"ability",player:r.parent,tiger:a}),r.gainAbilities(d,"Pet"),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},91589(O,S,i){i.d(S,{B:()=>e});var A=i(46200),c=i(5615),E=i(58857),_=i(61850),v=i(79222);class e extends A.i{logService;abilityService;name="Elk";tier=4;pack="Star";attack=2;health=6;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{logService;abilityService;constructor(a,o,r){super({name:"ElkAbility",owner:a,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:d=>{this.executeAbility(d)}}),this.logService=o,this.abilityService=r}executeAbility(a){const o=this.owner,r=o.parent.petArray.filter(D=>D.alive&&D.isSellPet());if(0===r.length)return void this.triggerTigerExecution(a);const d=(0,E.k6)({key:"pet.elk-end-turn-target",label:(0,v.I)(o,"Elk end turn sell target"),options:r.map(D=>({id:`${D.savedPosition+1}:${D.name}`,label:`P${D.savedPosition+1} ${D.name}`}))},()=>(0,_.hw)(0,r.length-1)),g=r[d.index],f=2*this.level;g.increaseSellValue(f),this.logService.createLog({message:`${o.name} increased ${g.name}'s sell value by ${f}.`,type:"ability",player:o.parent,tiger:a.tiger,pteranodon:a.pteranodon,randomEvent:d.randomEvent}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService)}}},91679(O,S,i){let A;function c(){return A}function E(n){const a=A;return A=n,a}i.d(S,{Af:()=>c,c4:()=>t,mu:()=>E});const v=Symbol("NotFound");function t(n){return n===v||"\u0275NotFound"===n?.name}Error},91946(O,S,i){i.d(S,{X:()=>E,j:()=>_});var A=i(50873),c=i(5615);class E extends A.L{name="Cash Register";tier=4;onBreak(e){}}class _ extends c.T{constructor(e,t){super({name:"CashRegisterAbility",triggers:[],owner:e,abilityType:"Pet",abilityFunction:n=>{}})}}},91982(O,S,i){i.d(S,{y:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Hawk";tier=4;pack="Star";attack=5;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"HawkAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getOppositeEnemyPet(r),g=d.pet;g&&r.snipePet(g,7*this.level,d.random,a),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},92060(O,S,i){i.d(S,{y:()=>_});var A=i(46200),c=i(5615),E=i(1152);class _ extends A.i{logService;abilityService;name="Sea Turtle";tier=2;pack="Golden";attack=1;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"SeaTurtleAbility",owner:t,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:o,pteranodon:r}=t,d=this.owner,g=2*this.level,f=(0,E.Uj)(d,a);if(!f.pet)return;const D=f.pet;D.increaseHealth(g),(0,E.rv)(this.logService,d,`${d.name} gave ${D.name} ${g} health.`,o,r,{randomEvent:f.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},92083(O,S,i){i.d(S,{Y:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Lioness";tier=6;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;usesThisTurn=0;constructor(e,t){super({name:"LionessAbility",owner:e,triggers:["StartTurn","FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,{trigger:n,triggerPet:a,tiger:o,pteranodon:r}=e;if("StartTurn"===n)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if("FriendSold"!==n)return void this.triggerTigerExecution(e);if(this.usesThisTurn>=2)return void this.triggerTigerExecution(e);this.usesThisTurn++;const d=a?.tier??t.tier,g=t.parent.futureShopBuffs??new Map,f=g.get(d)??{attack:0,health:0};f.attack+=this.level,f.health+=this.level,g.set(d,f),t.parent.futureShopBuffs=g,this.logService.createLog({message:`${t.name} gave future tier ${d} shop pets +${this.level}/+${this.level} (uses ${this.usesThisTurn}/2 this turn).`,type:"ability",player:t.parent,tiger:o,pteranodon:r}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},92101(O,S,i){function A(c){c.health=c.originalHealth,c.attack=c.originalAttack,c.equipment=c.originalEquipment,c.lastLostEquipment=null,c.mana=c.originalMana,c.triggersConsumed=c.originalTriggersConsumed,c.foodsEaten=c.originalFoodsEaten,c.exp=c.originalExp,c.timesHurt=c.originalTimesHurt,c.timesAttacked=0,c.abilityCounter=0,c.transformed=!1,c.transformedInto=null,c.currentTarget=null,c.lastAttacker=null,c.killedBy=null,c.swallowedPets=[],c.targettedFriends.clear(),c.savedPosition=c.originalSavedPosition,c.abilityList=[...c.originalAbilityList],c.initAbilityUses(),c.done=!1,c.seenDead=!1,c.removed=!1,c.jumped=!1,c.clearFrontTriggered=!1;try{c.equipment?.reset()}catch(E){console.warn("equipment reset failed",c.equipment),console.error(E)}c.equipment&&(c.equipment.multiplier=c.equipment.baseMultiplier??1,c.equipment.multiplierMessage="")}i.d(S,{O:()=>A})},92244(O,S,i){i.d(S,{_:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Tiger";tier=6;pack="Turtle";attack=6;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"TigerAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){}copy(e){return new _(e,this.logService,this.abilityService)}}},92248(O,S,i){i.d(S,{X:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Panther";tier=5;pack="Puppy";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"PantherAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},92495(O,S,i){i.d(S,{W:()=>_});var A=i(46200),c=i(5615),E=i(1152);class _ extends A.i{logService;abilityService;name="Horse";tier=1;pack="Turtle";health=1;attack=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"HorseAbility",owner:t,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:o,pteranodon:r}=t,d=this.owner,g=(0,E.Uj)(d,a);if(!g.pet)return;const f=g.pet;f.increaseAttack(this.level),(0,E.rv)(this.logService,d,`${d.name} gave ${f.name} ${this.level} attack`,o,r,{randomEvent:g.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},92661(O,S,i){i.d(S,{A:()=>v});var A=i(63080),c=i(42661);const v=function _(e){return(0,c.A)(e)&&"[object Set]"==(0,A.A)(e)}},92943(O,S,i){i.d(S,{A:()=>v});var A=i(59320),c=i(73180),E=i(86568);const v=function _(){this.size=0,this.__data__={hash:new A.A,map:new(E.A||c.A),string:new A.A}}},92952(O,S,i){i.d(S,{J:()=>c});var A=i(46200);class c extends A.i{logService;abilityService;name="Cooked Roach";tier=1;pack="Custom";hidden=!0;attack=1;health=1;constructor(_,v,e,t,n,a,o,r,d){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(o,t,n,a,r,d)}}},92990(O,S,i){i.d(S,{_:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Dimetrodon";tier=3;pack="Custom";attack=1;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class _ extends A.i{logService;abilityService;name="Dimetrodon";tier=3;pack="Custom";hidden=!0;constructor(t,n,a,o,r,d,g,f){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,null,f)}initAbilities(){}}class v extends c.T{logService;constructor(t,n){super({name:"Dimetrodon Ability",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,o=this.owner,r=this.level,d=5*r,f=new _(this.logService,o.abilityService,o.parent,d,d);if(o.parent.summonPet(f,o.position).success)this.logService.createLog({message:`${o.name} summoned a ${d}/${d} Dimetrodon.`,type:"ability",player:o.parent,tiger:n,pteranodon:a});else{const k=r,L=o.parent.petArray.filter(F=>F&&F!==o);for(const F of L)F.increaseAttack(k),F.increaseHealth(k);L.length>0&&this.logService.createLog({message:`${o.name} gave friends +${k}/+${k}.`,type:"ability",player:o.parent,tiger:n,pteranodon:a})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},93012(O,S,i){i.d(S,{A:()=>_});var A=i(46200),c=i(5615),E=i(1152);class _ extends A.i{logService;abilityService;name="Amsterdam Albatross";tier=6;pack="Danger";attack=3;health=6;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"AmsterdamAlbatrossAbility",owner:t,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2,precondition:a=>{const{triggerPet:o}=a,g=(0,E.lK)(this.owner,o).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:o}=t,d=this.owner;let g=2*d.level,f=2*d.level,k=(0,E.lK)(d,a).pet;null!=k&&(k.increaseAttack(g),k.increaseHealth(f),this.logService.createLog({message:`${d.name} gave ${k.name} +${g} attack and +${f} health.`,type:"ability",player:d.parent,tiger:o}),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},93311(O,S,i){i.d(S,{T:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Eagle Owl";tier=6;pack="Custom";attack=8;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Eagle Owl Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=Math.max(0,t.battlesFought??0);if(n<=0)return void this.triggerTigerExecution(e);const o=n*this.level,r=t.parent.getRandomPets(3,[t],!0,!1,t),d=r.pets;if(0!==d.length){for(const g of d)g.increaseAttack(o),g.increaseHealth(o);this.logService.createLog({message:`${t.name} gave ${d.map(g=>g.name).join(", ")} +${o}/+${o} after fighting ${n} battle${1===n?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:r.random}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},93348(O,S,i){i.d(S,{w:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Guineafowl";tier=3;pack="Golden";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"GuineafowlAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{pteranodon:o}=e,r=this.owner;let d=2*this.level;const g=r.parent.resolveTrumpetGainTarget(r);g.player.gainTrumpets(d,r,o,void 0,void 0,g.random),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},93365(O,S,i){i.d(S,{p:()=>e});var A=i(46200),c=i(5615),E=i(58857),_=i(61850),v=i(79222);class e extends A.i{logService;abilityService;name="Spotted Handfish";tier=2;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new t(this)),super.initAbilities()}constructor(a,o,r,d,g,f,D,k,L){super(a,o,r),this.logService=a,this.abilityService=o,this.initPet(D,d,g,f,k,L)}}class t extends c.T{constructor(a){super({name:"Spotted Handfish Ability",owner:a,triggers:["StartTurn"],abilityType:"Pet",abilitylevel:a.level,abilityFunction:o=>this.executeAbility(o)})}executeAbility(a){const{gameApi:o}=a,r=this.owner,d=this.level,g=["Cold","Crisp","Dazed","Icky","Inked","Spooked","Weak","Silly","Bloated","Confused","Cursed","Sad","Sleepy","Webbed"];for(let f=0;f<d;f++){const D=(0,E.k6)({key:"pet.spotted-handfish-ailment",label:(0,v.I)(r,"Spotted Handfish canned ailment",f+1),options:g.map(L=>({id:L,label:L}))},()=>(0,_.hw)(0,g.length-1)),k=g[D.index];r.parent.cannedAilments.push(k),o?.logService?.createLog({message:`${r.name} stocked a canned ${k}.`,type:"ability",player:r.parent,randomEvent:D.randomEvent})}this.triggerTigerExecution(a)}copy(a){return new t(a)}}},93525(O,S,i){i.d(S,{B:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Hawaiian Monk Seal";tier=5;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"HawaiianMonkSealAbility",owner:e,triggers:["FriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;let d=r.parent.getSpecificPet(r,n),g=d.pet;if(g&&!r.targettedFriends.has(g)){if(r.targettedFriends.size<3&&g.alive){let f=2*r.level;g.increaseHealth(f),r.targettedFriends.add(g),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} health`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random})}this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},93533(O,S,i){i.d(S,{G:()=>v,q:()=>_});var A=i(40482),c=i(50873),E=i(5615);class _ extends c.L{logService;toyService;petService;gameService;name="Microwave Oven";tier=2;startOfBattle(t,n){let a=this.parent.getPetsWithEquipment("perk"),r=this.parent.getFurthestUpPets(this.level,a).pets;if(0!=r.length)for(let d of r)this.logService.createLog({message:`${this.name} gave ${d.name} Popcorn.`,type:"ability",player:this.parent,puma:n}),d.givePetEquipment(new A.m(this.logService,this.petService,this.gameService))}constructor(t,n,a,o,r,d){super(t,n,a,o),this.logService=t,this.toyService=n,this.petService=r,this.gameService=d}}class v extends E.T{constructor(t,n,a){super({name:"MicrowaveOvenAbility",triggers:["StartBattle"],owner:t,abilityType:"Pet",abilityFunction:o=>{const{puma:r}=o;let d=t.parent.getPetsWithEquipment("perk"),f=t.parent.getFurthestUpPets(this.abilityLevel,d,t).pets;if(0!=f.length)for(let D of f){n.createLog({message:`${t.name} gave ${D.name} Popcorn (Microwave Oven).`,type:"ability",player:t.parent,puma:r});const k=a.getInstanceOfAllEquipment().get("Popcorn");D.givePetEquipment(k)}}})}}},93584(O,S,i){i.d(S,{h:()=>E});var A=i(46200),c=i(5615);class E extends A.i{constructor(e,t,n){super(e,t,n),this.name="Brazillian Treehopper",this.tier=3,this.pack="Custom",this.attack=2,this.health=3}initAbilities(){this.abilityList=[new _(this,this.logService)],super.initAbilities()}}class _ extends c.T{logService;constructor(e,t){super({name:"Brazillian Treehopper Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,d=a.parent.getRandomEnemyPetsWithSillyFallback(2*this.level,[],!1,!1,a).pets;if(d.length>1){let g=0,f=0;for(const L of d)g+=L.attack,f+=L.health;const D=Math.floor(g/d.length),k=Math.floor(f/d.length);for(const L of d)L.attack=Math.max(1,D),L.health=Math.max(1,k);this.logService.createLog({message:`${a.name} averaged stats of ${d.length} enemies to ${D}/${k}.`,type:"ability",player:a.parent,tiger:t,pteranodon:n})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},93614(O,S,i){i.d(S,{l:()=>E,v:()=>_});var A=i(50873),c=i(5615);class E extends A.L{name="Flashlight";tier=5;onBreak(e,t){let n=5*this.level,a=this.parent.furthestUpPet;null!=a&&(a.increaseAttack(n),a.increaseHealth(n),this.logService.createLog({message:`${this.name} gave ${a.name} ${n} attack and ${n} health.`,type:"ability",player:this.parent,puma:t}))}}class _ extends c.T{logService;constructor(e,t){super({name:"FlashlightAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=5*this.level,g=r.parent.getFurthestUpPet(r),f=g.pet;null!=f&&(f.increaseAttack(d),f.increaseHealth(d),this.logService.createLog({message:`Flashlight Ability gave ${f.name} ${d} attack and ${d} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},93699(O,S,i){i.d(S,{k:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Taita Thrush";tier=5;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TaitaThrushAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=this.level,g=r.parent.getAll(!1,r,!0);for(let f of g.pets)f.increaseAttack(d),f.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${f.name} +${d} attack and +${d} health`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random});this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},94185(O,S,i){var A,c;i.d(S,{c:()=>F});var E=i(56990),_=i(33127),v=i(85063),e=i(74766),t=i(98935),n=i(83028),a=i(47868),o=i(24111),r=i(49230),d=i(1744);const g=new Map([["Blueberry",1],["Golden Egg",1],["Gros Michel Banana",1],["Health Potion",1],["Honey",1],["Macaron",1],["Unagi",1],["Caramel",2],["Cherry",2],["Chocolate Cake",2],["Churros",2],["Cod Roe",2],["Eucalyptus",2],["Faint Bread",2],["Fairy Dust",2],["Meat Bone",2],["Radish",2],["Sudduth Tomato",2],["Brussels Sprout",3],["Cucumber",3],["Fig",3],["Gingerbread Man",3],["Pineapple",3],["Rambutan",3],["Sausage",3],["Seaweed",3],["White Truffle",3],["Baguette",4],["Banana",4],["Cauliflower",4],["Cheese",4],["Donut",4],["Fortune Cookie",4],["Grapes",4],["Melon Slice",4],["Oyster Mushroom",4],["Potato",4],["Carrot",5],["Chili",5],["Durian",5],["Easter Egg",5],["Eggplant",5],["Kiwano",5],["Magic Beans",5],["Onion",4],["Pepper",5],["Mild Chili",4],["Popcorn",6],["Sardinian Currant",6],["Yggdrasil Fruit",6]]),f=[{pattern:/^Start of turn:/i,trigger:"StartTurn"},{pattern:/^End turn:/i,trigger:"EndTurn"},{pattern:/^Before battle:/i,trigger:"BeforeStartBattle"},{pattern:/^Start of battle:/i,trigger:"StartBattle"},{pattern:/^Before attack:/i,trigger:"BeforeThisAttacks"},{pattern:/^Faint:/i,trigger:"Faint"},{pattern:/^Hurt:/i,trigger:"ThisHurt"},{pattern:/^Anyone attacks:/i,trigger:"AnyoneAttack"},{pattern:/^Empty front space:/i,trigger:"EmptyFrontSpace"},{pattern:/^Knock out:/i,trigger:"KnockOut"}],D=t??(c||(c=i.t(t,2))),k=new Map((D??[]).filter(J=>J?.Name).map(J=>{const H=[],$=(J.Ability??"").trim();for(const{pattern:q,trigger:ae}of f)q.test($)&&!H.includes(ae)&&H.push(ae);return[J.Name,H]}));function L(J,ne){if(!J)return;const H=k.get(ne);H&&H.length&&(J.triggers=[...H])}let F=(()=>{class J{logService;abilityService;gameService;randomEquipmentSet=new Set;constructor(H,$,q){this.logService=H,this.abilityService=$,this.gameService=q,this.logService=(0,n.V)(this.logService),this.initRandomEquipment()}initRandomEquipment(){const H=e??(A||(A=i.t(e,2)));if(Array.isArray(H))for(const $ of H)$&&"object"==typeof $&&!0===$.Random&&"string"==typeof $.Name&&this.randomEquipmentSet.add($.Name)}getAllEquipment(){const H=_.I.getInjector().get(E.T),$=new Map,q={logService:this.logService,abilityService:this.abilityService,gameService:this.gameService,petService:H};for(const[ae,le]of Object.entries(v.EA)){const _e=new le;this.randomEquipmentSet.has(ae)&&(_e.hasRandomEvents=!0),L(_e,ae),$.set(ae,_e)}for(const[ae,le]of Object.entries(v.xd)){const _e=new le(this.logService);this.randomEquipmentSet.has(ae)&&(_e.hasRandomEvents=!0),L(_e,ae),$.set(ae,_e)}for(const[ae,le]of Object.entries(v.Nb)){const _e=new le(this.logService,this.abilityService);this.randomEquipmentSet.has(ae)&&(_e.hasRandomEvents=!0),L(_e,ae),$.set(ae,_e)}for(const[ae,le]of Object.entries(v._y)){const _e=le(q);this.randomEquipmentSet.has(ae)&&(_e.hasRandomEvents=!0),L(_e,ae),$.set(ae,_e)}for(const[ae,le]of $.entries())if(null==le?.tier){const _e=g.get(ae);null!=_e&&(le.tier=_e)}return $}getAllAilments(){const H=new Map,$={logService:this.logService,abilityService:this.abilityService,gameService:this.gameService,petService:null};for(const[q,ae]of Object.entries(v.RY)){const le=new ae;this.randomEquipmentSet.has(q)&&(le.hasRandomEvents=!0),L(le,q),H.set(q,le)}for(const[q,ae]of Object.entries(v.G1)){const le=ae($);this.randomEquipmentSet.has(q)&&(le.hasRandomEvents=!0),L(le,q),H.set(q,le)}return H}static \u0275fac=function($){return new($||J)(a.KVO(o.K),a.KVO(r.K),a.KVO(d.w))};static \u0275prov=a.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}return J})()},94225(O,S,i){i.d(S,{w:()=>E});var A=i(30357),c=i(50873);class E extends c.L{name="Pen";tier=1;startOfBattle(v,e){const t=this.parent.getFurthestUpPets(2);for(const n of t.pets)n.givePetEquipment(new A.w),this.logService.createLog({message:`${this.name} gave ${n.name} Inked.`,type:"ability",player:this.parent,puma:e,randomEvent:t.random})}}},94226(O,S,i){i.d(S,{A:()=>_});var A=i(45525),c=i(1860);const _=(0,A.A)(c.A,"Set")},94402(O,S,i){i.d(S,{A:()=>E});var A=i(50336);const E=function c(_){var v=this.__data__,e=(0,A.A)(v,_);return e<0?void 0:v[e][1]}},94433(O,S,i){i.d(S,{P:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Monkey";tier=5;pack="Turtle";attack=1;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MonkeyAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,n=t.parent.getFurthestUpPet(t),a=n.pet;if(!a)return void this.triggerTigerExecution(e);const o=2*this.level;a.increaseAttack(o),a.increaseHealth(o),this.logService.createLog({message:`${t.name} gave ${a.name} +${o} attack and +${o} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},94528(O,S,i){i.d(S,{A:()=>c});const c=function A(E,_){var v=-1,e=E.length;for(_||(_=Array(e));++v<e;)_[v]=E[v];return _}},94640(O,S,i){i.d(S,{F:()=>c});var A=i(50873);class c extends A.L{name="Scale";tier=1;abominationHasBehemoth(_){return"Abomination"===_?.name&&[1,2,3].some(v=>"Behemoth"===_[`abominationSwallowedPet${v}`])}getAttackCap(_){return"Behemoth"===_?.name||this.abominationHasBehemoth(_)?100:50}getHealthCap(_){return"Behemoth"===_?.name||"Giant Tortoise"===_?.name||this.abominationHasBehemoth(_)?100:50}startOfBattle(_,v){const e=_?.turnNumber??1;for(const t of this.parent.petArray){const n=Math.min(e,this.getAttackCap(t)),a=Math.min(e,this.getHealthCap(t)),o=n-t.attack,r=a-t.health;0!==o&&t.increaseAttack(o),0!==r&&t.increaseHealth(r),this.logService.createLog({message:`${this.name} set ${t.name} to ${n}/${a}.`,type:"ability",player:this.parent,puma:v})}}}},94798(O,S,i){i.d(S,{s:()=>A});const A={iriomoteCat:{1:["Ant","Mosquito","Cricket","Moth","Beetle","Chihuahua","Cockroach","Hummingbird","Frilled Dragon","Farmer Mouse","Budgie","Groundhog","Cone Snail","Goose","Barghest","Tsuchinoko","Alchemedes","Bunyip","Sneaky Egg","Ethiopian Wolf","African Wild Dog","Volcano Snail","Pygmy Seahorse","Nudibranch"],2:["Crab","Hedgehog","Flamingo","Spider","Robin","Beluga Sturgeon","Stork","Bass","Panda","Seahorse","Roadrunner","Mink","Meerkat","Black Necked Stilt","Sea Urchin","Honduran White Bat","Frost Wolf","Ogopogo","Thunderbird","Bigfoot","Takhi","White-Bellied Heron","Taita Shrew","Nightcrawler","Pink Robin","Fruit Fly","Olm","Tadpole","Thorny Dragon"],3:["Dodo","Dolphin","Sheep","Hoopoe Bird","Pug","Anteater","Eel","Bear","Farmer Pig","Brazillian Treehopper","Flea","Weasel","Osprey","Blue Dragon","Betta Fish","Skeleton Dog","Mandrake","Fur-Bearing Trout","Mana Hound","Roloway Monkey","Amami Rabbit","Hirola","Tucuxi","Tree Kangaroo","Slime","Dimetrodon","Gerenuk","Pangasius","Vampire Parrot"]},radish:{1:["Walnut","Honey","Egg","Strawberry"],2:["Meat Bone","Lime","Caramel","Bok Choy","Fairy Dust","Faint Bread","Cod Roe"],3:["Garlic","Squash","Seaweed","Fig","Brussels Sprout"],4:["Fortune Cookie","Salt","Baguette","Cheese","Banana","Ambrosia"],5:["Chili","Lemon","Pepper","Durian","Honeydew Melon","Easter Egg"],6:["Steak","Melon","Pita Bread","Tomato","Yggdrasil Fruit","Popcorn","White Okra"]},rolowayMonkey:["Peacock","Camel","Porcupine","Lizard","Guineafowl"],goldenTamarin:["Crocodile","Tarantula Hawk","Red Dragon","Werewolf","Snow Leopard","Sea Cucumber"],bayCat:["Skunk","Fossa","Hawk","Lynx","Platybelodon","Kraken","Tasmanian Devil","Humphead Wrasse"]}},95006(O,S,i){i.d(S,{T:()=>c});var A=i(70762);function c(v,e){return function(n){if("function"!=typeof v)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new E(v,e))}}class E{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new _(e,this.project,this.thisArg))}}class _ extends A.v{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},95015(O,S,i){i.d(S,{Y:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Manatee";tier=4;pack="Golden";attack=2;health=11;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"ManateeAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=t.petAhead,a=2*this.level,o=this.level;t.dealDamage(t,5),n?(n.increaseAttack(a),n.increaseHealth(o),this.logService.createLog({message:`${t.name} took 5 damage and gave ${n.name} +${a}/+${o}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon})):this.logService.createLog({message:`${t.name} took 5 damage.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},95033(O,S,i){i.d(S,{Y:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Togian Babirusa";tier=1;pack="Danger";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TogianBabirusaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.opponent.getRandomPet([],!1,!1,!1,r);d.pet&&(d.pet.increaseHealth(1),this.logService.createLog({message:`${r.name} gave ${d.pet.name} +1 health.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:d.random})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},95244(O,S,i){i.d(S,{H:()=>v});var A=i(22097),c=i(64888),E=i(72560),_=i(5615);class v extends A.${logService;abilityService;name="Yggdrasil Fruit";equipmentClass="afterFaint";callback=n=>{n.addAbility(new e(n,this,this.logService,this.abilityService))};constructor(n,a){super(),this.logService=n,this.abilityService=a}}class e extends _.T{equipment;logService;abilityService;constructor(n,a,o,r){super({name:"YggdrasilFruitAbility",owner:n,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:d=>{this.executeAbility(d)}}),this.equipment=a,this.logService=o,this.abilityService=r}executeAbility(n){const a=this.owner;for(let o=0;o<this.equipment.multiplier;o++){let r=new c.l(this.logService,this.abilityService,a.parent,5,5,0),d=new E.c(this.logService,this.abilityService,a.parent,5,5,0),g=o>0?this.equipment.multiplierMessage:"";a.parent.summonPet(r,a.savedPosition).success&&this.logService.createLog({message:`${a.name} Spawned Tandgnost (Yggdrasil Fruit)${g}`,type:"ability",player:a.parent}),a.parent.summonPet(d,a.savedPosition).success&&this.logService.createLog({message:`${a.name} Spawned Tandgrisner (Yggdrasil Fruit)${g}`,type:"ability",player:a.parent})}}}},95313(O,S,i){i.d(S,{q:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Bunyip";tier=1;pack="Unicorn";attack=3;health=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BunyipAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:a}=e,r=this.owner;let g;g=r.parent==t.player?t.playerRollAmount:t.opponentRollAmount,g=Math.min(2,g)*this.level;let D=r.parent.getThis(r).pet;null!=D&&(D.increaseHealth(g),this.logService.createLog({message:`${r.name} gave ${D.name} ${g} health.`,type:"ability",player:r.parent,tiger:a}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},95365(O,S,i){i.d(S,{s:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Meerkat";tier=2;pack="Golden";attack=1;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MeerkatAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:a,pteranodon:o}=e,r=this.owner;let d;d=r.parent==t.player?t.playerGoldSpent:t.opponentGoldSpent;let g=Math.floor(d/4)*this.level,f=r.parent.nearestPetsBehind(1,r),D=r.parent.nearestPetsAhead(1,r);if(D.pets.length>0){let k=D.pets[0];k.increaseAttack(g),this.logService.createLog({message:`${r.name} gave ${k.name} ${g} attack.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:D.random})}if(f.pets.length>0){let k=f.pets[0];k.increaseAttack(g),this.logService.createLog({message:`${r.name} gave ${k.name} ${g} attack.`,type:"ability",player:r.parent,tiger:a,pteranodon:o,randomEvent:f.random})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},95395(O,S,i){i.d(S,{n:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Golden Beetle";tier=2;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"GoldenBeetleAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gained ${this.level*(t.attack>=10?3:1)} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},95573(O,S,i){i.d(S,{w:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Ram";tier=1;pack="Turtle";hidden=!0;health=2;attack=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"RamAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},95621(O,S,i){i.d(S,{x:()=>c});var A=i(50873);class c extends A.L{name="Soccer Ball";tier=1;startOfBattle(_,v){const e=_?.turnNumber??1;let t=1;e>2&&(t=2),e>4&&(t=3),e>6&&(t=4),e>8&&(t=5),e>10&&(t=6);for(const n of this.parent.petArray)n.tier===t&&(n.health=0,this.logService.createLog({message:`${this.name} knocked out ${n.name}.`,type:"ability",player:this.parent,puma:v}))}}},95624(O,S,i){i.d(S,{S:()=>E});var A=i(57488),c=i(50873);class E extends c.L{name="Pill Bottle";tier=1;startOfBattle(v,e){const t=this.parent.getFurthestUpPets(2);for(const o of t.pets)o.health=0,this.logService.createLog({message:`${this.name} knocked out ${o.name}.`,type:"ability",player:this.parent,puma:e});const a=(0,A.a)(v,this.parent).getFurthestUpPets(1).pets[0];a&&(a.health=0,this.logService.createLog({message:`${this.name} knocked out ${a.name}.`,type:"ability",player:this.parent,puma:e}))}}},95626(O,S,i){i.d(S,{V:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Chupacabra";tier=2;pack="Custom";attack=4;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"ChupacabraAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;for(let d=0;d<2*this.level;d++){let g=r.parent.getRandomPet([r],!0,!1,!0,r);if(null==g.pet)return;g.pet.increaseHealth(1),this.logService.createLog({message:`${r.name} gave ${g.pet.name} 1 health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},95695(O,S,i){i.d(S,{d:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Atlantic Puffin";tier=2;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"AtlanticPuffinAbility",owner:e,triggers:["FriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>{const{triggerPet:a}=n;return!(!a||"Strawberry"!=a.equipment?.name)},abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;this.logService.createLog({message:`${r.name} removed ${n.name}'s ${n.equipment.name}.`,type:"ability",player:r.parent,tiger:a}),n.removePerk();let d=2*r.level,g=r.parent.opponent.getLastPet(),f=g.pet;null!=f&&(r.snipePet(f,d,g.random,a),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},95768(O,S,i){i.d(S,{Z:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Mimic Octopus";tier=6;pack="Star";attack=4;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MimicOctopusAbility",owner:e,triggers:["ThisAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.opponent.getLowestHealthPets(r.level,void 0,r);for(let g of d.pets)r.snipePet(g,4,d.random,a);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},95770(O,S,i){i.d(S,{F:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Dodo";tier=3;pack="Turtle";health=2;attack=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DodoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.nearestPetsAhead(1,r);if(0===d.pets.length)return;let g=d.pets[0],f=Math.floor(r.attack*(.5*this.level));g.increaseAttack(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} attack.`,player:r.parent,type:"ability",tiger:a,randomEvent:d.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},95892(O,S,i){i.d(S,{a:()=>t});var A=i(57488),c=i(86253),E=i(33500),_=i(75970),v=i(1029),e=i(83028);class t extends v.d{logService;abilityService;gameService;pet0;pet1;pet2;pet3;pet4;orignalPet0;orignalPet1;orignalPet2;orignalPet3;orignalPet4;pack="Turtle";toy=null;hardToy=null;brokenToy=null;brokenHardToy=null;originalToy=null;originalHardToy=null;trumpets=0;spawnedGoldenRetiever=!1;summonedBoatThisBattle=!1;isOpponent=!1;allPets=!1;tokenPets=!1;gold=0;pendingGoldFromMimic=0;futureShopBuffs=new Map;cannedAilments=[];constructor(a,o,r){super(),this.logService=a,this.abilityService=o,this.gameService=r,(0,e.L)(this)}alive(){return(0,c.yV)(this)}resetPets(){(0,c.wA)(this)}resetJumpedFlags(){(0,c.Ku)(this)}setPet(a,o,r=!1){this.getPet(a),0==a&&(this.pet0=o,null!=o&&(this.pet0.savedPosition=0),r&&(this.orignalPet0=o)),1==a&&(this.pet1=o,null!=o&&(this.pet1.savedPosition=1),r&&(this.orignalPet1=o)),2==a&&(this.pet2=o,null!=o&&(this.pet2.savedPosition=2),r&&(this.orignalPet2=o)),3==a&&(this.pet3=o,null!=o&&(this.pet3.savedPosition=3),r&&(this.orignalPet3=o)),4==a&&(this.pet4=o,null!=o&&(this.pet4.savedPosition=4),r&&(this.orignalPet4=o)),r&&null!=o&&(o.originalSavedPosition=o.savedPosition)}getPet(a){switch(a){case 0:return this.pet0;case 1:return this.pet1;case 2:return this.pet2;case 3:return this.pet3;case 4:return this.pet4;default:return}}pushPetsForward(){(0,E.yY)(this)}onionCheck(){(0,E.EE)(this)}summonPet(a,o,r=!1,d){return(0,_.Rd)(this,a,o,r,d,this.logService,this.abilityService,this.gameService)}transformPet(a,o){(0,_.AT)(this,a,o,this.abilityService,this.gameService)}pushForwardFromSlot(a){return(0,E.m3)(this,a)}pushBackwardFromSlot(a){return(0,E.Kw)(this,a)}makeRoomForSlot(a){(0,E.vI)(this,a)}get petArray(){let a=[];return null!=this.pet0&&a.push(this.pet0),null!=this.pet1&&a.push(this.pet1),null!=this.pet2&&a.push(this.pet2),null!=this.pet3&&a.push(this.pet3),null!=this.pet4&&a.push(this.pet4),a}handleDeath(a){(0,c.bE)(a,this.logService)}checkPetsAlive(){(0,c.Uk)(this,this.logService)}removeDeadPets(){return(0,c.BE)(this,this.abilityService)}createDeathLog(a){(0,c.vD)(a,this.logService)}get opponent(){return(0,A.a)(this.gameService.gameApi,this)}}},95957(O,S,i){i.d(S,{N:()=>E});var A=i(57488),c=i(50873);class E extends c.L{name="Remote Car";tier=1;startOfBattle(v,e){const t=(0,A.a)(v,this.parent);for(const n of t.petArray){const a=Math.floor(.2*n.attack),o=Math.floor(.2*n.health);a>0&&n.increaseAttack(a),o>0&&n.increaseHealth(o),this.logService.createLog({message:`${this.name} gave ${n.name} +${a}/+${o}.`,type:"ability",player:this.parent,puma:e})}}}},95966(O,S,i){i.d(S,{i:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Iguana";tier=2;pack="Star";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"IguanaAbility",owner:e,triggers:["EnemyPushed","EnemySummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;let d=r.parent.getSpecificPet(r,n),g=d.pet;null!=g&&g.alive&&(r.snipePet(g,2*this.level,d.random,a),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},96034(O,S,i){i.d(S,{d:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Vampire Parrot";tier=3;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Vampire Parrot Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=a.parent.petArray.filter(L=>L.alive&&L.equipment),r=new Set;for(const L of o){const F=L.equipment.equipmentClass;("ailment-attack"===F||"ailment-defense"===F||"ailment-other"===F)&&r.add(L.equipment.name)}const d=r.size;if(0===d)return void this.triggerTigerExecution(e);const g=this.level,f=2*this.level,D=d*g,k=d*f;a.increaseAttack(D),a.increaseHealth(k),this.logService.createLog({message:`${a.name} gained +${D}/+${k} (+${g}/+${f} per unique ailment) from ${d} friendly pets with different ailments.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},96396(O,S,i){i.d(S,{A:()=>_});var A=i(54841),c=i(40555);const _=function E(v){return(0,A.A)((0,c.A)(v))}},96756(O,S,i){i.d(S,{A:()=>t});var A=i(6944),c=Object.prototype,E=c.hasOwnProperty,_=c.toString,v=A.A?A.A.toStringTag:void 0;const t=function e(n){var a=E.call(n,v),o=n[v];try{n[v]=void 0;var r=!0}catch{}var d=_.call(n);return r&&(a?n[v]=o:delete n[v]),d}},96767(O,S,i){i.d(S,{H:()=>c,g:()=>E});const c={playerPack:"pP",opponentPack:"oP",playerToy:"pT",playerToyLevel:"pTL",playerHardToy:"pHT",playerHardToyLevel:"pHTL",opponentToy:"oT",opponentToyLevel:"oTL",opponentHardToy:"oHT",opponentHardToyLevel:"oHTL",turn:"t",playerGoldSpent:"pGS",opponentGoldSpent:"oGS",playerRollAmount:"pRA",opponentRollAmount:"oRA",playerSummonedAmount:"pSA",opponentSummonedAmount:"oSA",playerLevel3Sold:"pL3",opponentLevel3Sold:"oL3",playerTransformationAmount:"pTA",opponentTransformationAmount:"oTA",playerPets:"p",opponentPets:"o",allPets:"ap",logFilter:"lf",customPacks:"cp",oldStork:"os",tokenPets:"tp",komodoShuffle:"ks",mana:"m",seed:"sd",triggersConsumed:"tc",showAdvanced:"sa",showTriggerNamesInLogs:"stn",showPositionalArgsInLogs:"spa",ailmentEquipment:"ae",changeEquipmentUses:"cEU",logsEnabled:"lE",simulations:"sim",name:"n",attack:"a",health:"h",exp:"e",equipment:"eq",equipmentUses:"eU",belugaSwallowedPet:"bSP",sarcasticFringeheadSwallowedPet:"sFSP",parrotCopyPet:"pCP",parrotCopyPetBelugaSwallowedPet:"pCPB",abomParrotSwallowed:"aPS",abominationSwallowedPet1:"aSP1",abominationSwallowedPet2:"aSP2",abominationSwallowedPet3:"aSP3",abominationSwallowedPet1BelugaSwallowedPet:"aSP1B",abominationSwallowedPet2BelugaSwallowedPet:"aSP2B",abominationSwallowedPet3BelugaSwallowedPet:"aSP3B",abominationSwallowedPet1SarcasticFringeheadSwallowedPet:"aSP1SFS",abominationSwallowedPet2SarcasticFringeheadSwallowedPet:"aSP2SFS",abominationSwallowedPet3SarcasticFringeheadSwallowedPet:"aSP3SFS",abominationSwallowedPet1Level:"aSP1L",abominationSwallowedPet2Level:"aSP2L",abominationSwallowedPet3Level:"aSP3L",abominationSwallowedPet1TimesHurt:"aSP1T",abominationSwallowedPet2TimesHurt:"aSP2T",abominationSwallowedPet3TimesHurt:"aSP3T",battlesFought:"bF",friendsDiedBeforeBattle:"fDBB",foodsEaten:"fE",...(()=>{const _={};for(let v=1;v<=3;v++){const e=`parrotCopyPetAbominationSwallowedPet${v}`,t=`pCPAS${v}`;_[e]=t,_[`${e}BelugaSwallowedPet`]=`${t}B`,_[`${e}Level`]=`${t}L`,_[`${e}TimesHurt`]=`${t}T`,_[`${e}ParrotCopyPet`]=`${t}PCP`,_[`${e}ParrotCopyPetBelugaSwallowedPet`]=`${t}PCPB`;for(let n=1;n<=3;n++){const a=`${e}ParrotCopyPetAbominationSwallowedPet${n}`,o=`${t}PCPAS${n}`;_[a]=o,_[`${a}BelugaSwallowedPet`]=`${o}B`,_[`${a}Level`]=`${o}L`,_[`${a}TimesHurt`]=`${o}T`}}return _})(),abominationSwallowedPet1ParrotCopyPet:"aSP1PCP",abominationSwallowedPet2ParrotCopyPet:"aSP2PCP",abominationSwallowedPet3ParrotCopyPet:"aSP3PCP",abominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet:"aSP1PCPB",abominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet:"aSP2PCPB",abominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet:"aSP3PCPB",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1:"aSP1PCPAS1",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2:"aSP1PCPAS2",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3:"aSP1PCPAS3",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1:"aSP2PCPAS1",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2:"aSP2PCPAS2",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3:"aSP2PCPAS3",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1:"aSP3PCPAS1",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2:"aSP3PCPAS2",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3:"aSP3PCPAS3",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:"aSP1PCPAS1B",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:"aSP1PCPAS2B",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:"aSP1PCPAS3B",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:"aSP2PCPAS1B",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:"aSP2PCPAS2B",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:"aSP2PCPAS3B",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:"aSP3PCPAS1B",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:"aSP3PCPAS2B",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:"aSP3PCPAS3B",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level:"aSP1PCPAS1L",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level:"aSP1PCPAS2L",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level:"aSP1PCPAS3L",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level:"aSP2PCPAS1L",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level:"aSP2PCPAS2L",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level:"aSP2PCPAS3L",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level:"aSP3PCPAS1L",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level:"aSP3PCPAS2L",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level:"aSP3PCPAS3L",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt:"aSP1PCPAS1T",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt:"aSP1PCPAS2T",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt:"aSP1PCPAS3T",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt:"aSP2PCPAS1T",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt:"aSP2PCPAS2T",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt:"aSP2PCPAS3T",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt:"aSP3PCPAS1T",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt:"aSP3PCPAS2T",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt:"aSP3PCPAS3T",timesHurt:"tH"},E=Object.entries(c).reduce((_,[v,e])=>(_[e]=v,_),{})},96849(O,S,i){i.d(S,{e:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Duck";tier=1;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DuckAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gave shop pets +${this.level} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},96889(O,S,i){i.d(S,{Z:()=>_});var A=i(46200),c=i(5615),E=i(61850);class _ extends A.i{logService;abilityService;name="Hercules Beetle";tier=2;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"HerculesBeetleAbility",owner:t,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,a=Math.max(0,n.battlesFought??0),o=a*this.level,r=n.parent.petArray.filter(f=>f.alive);if(o<=0||0===r.length)return void this.triggerTigerExecution(t);const d=Math.floor(o/r.length);let g=o%r.length;for(const f of r)d>0&&f.increaseAttack(d);if(g>0){const f=(0,E.k4)([...r]);for(let D=0;D<g&&D<f.length;D++)f[D].increaseAttack(1)}this.logService.createLog({message:`${n.name} gave friends +${o} attack split evenly after ${a} battle${1===a?"":"s"}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon,randomEvent:r.length>1}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},97061(O,S,i){i.d(S,{A:()=>t});var A=i(50253),c=i(42661),E=Object.prototype,_=E.hasOwnProperty,v=E.propertyIsEnumerable,e=(0,A.A)(function(){return arguments}())?A.A:function(n){return(0,c.A)(n)&&_.call(n,"callee")&&!v.call(n,"callee")};const t=e},97244(O,S,i){i.d(S,{e:()=>_,s:()=>E});var A=i(50873),c=i(5615);class E extends A.L{name="Radio";tier=2;onBreak(e,t){let n=this.parent.petArray;for(let a of n)a.alive&&(a.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${a.name} ${this.level} health.`,type:"ability",player:this.parent,puma:t}))}}class _ extends c.T{logService;constructor(e,t){super({name:"RadioAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getAll(!1,r,!0),g=d.pets;if(0!=g.length){for(let f of g)f.increaseHealth(this.level),this.logService.createLog({message:`${r.name} gave ${f.name} ${this.level} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random});this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},97265(O,S,i){i.d(S,{z:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Peacock";tier=2;pack="Turtle";health=5;attack=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PeacockAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=3*this.level,g=r.parent.getThis(r);g.pet&&(g.pet.increaseAttack(d),this.logService.createLog({message:`${r.name} gave ${g.pet.name} ${d} attack.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},97280(O,S,i){i.d(S,{Uw:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;petService;name="Whale";tier=4;pack="Turtle";attack=3;health=7;initAbilities(){this.addAbility(new v(this,this.logService,this.petService)),this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D,k){super(t,n,o),this.logService=t,this.abilityService=n,this.petService=a,this.initPet(f,r,d,g,D,k)}}class _ extends c.T{logService;abilityService;constructor(t,n,a){super({name:"WhaleSummonAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,ignoreRepeats:!0,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:o,pteranodon:r}=t,d=this.owner,g=d.swallowedPets??[];for(;g.length>0;){const f=g.shift();if(!f)continue;let D=d.parent.summonPet(f,d.savedPosition,!1,d);D.success&&this.logService.createLog({message:`${d.name} summoned ${f.name} (level ${f.level}).`,type:"ability",player:d.parent,tiger:o,pteranodon:r,randomEvent:D.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new _(t,this.logService,this.abilityService)}}class v extends c.T{logService;petService;constructor(t,n,a){super({name:"WhaleSwallowAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.petService=a}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.nearestPetsAhead(1,d);if(0===g.pets.length)return;let f=g.pets[0],D=this.petService.createPet({name:f.name,attack:f.attack,health:f.health,exp:d.exp,equipment:null,mana:0},d.parent);d.swallowedPets||(d.swallowedPets=[]),d.swallowedPets.push(D),f.health=0,this.logService.createLog({message:`${d.name} swallowed ${f.name}`,type:"ability",player:d.parent,tiger:o,randomEvent:g.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.petService)}}},97588(O,S,i){i.d(S,{P:()=>_,r:()=>v});var A=i(57488),c=i(50873),E=i(5615);class _ extends c.L{name="Foam Sword";tier=3;startOfBattle(t,n){let a=(0,A.a)(t,this.parent);for(let o=0;o<this.level;o++){let r=a.getLowestHealthPet();if(null==r.pet)return;this.toyService.snipePet(r.pet,5,this.parent,this.name,r.random,n)}}}class v extends E.T{logService;constructor(t,n){super({name:"FoamSwordAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:o}=t,d=this.owner;let g=d.parent.opponent;for(let f=0;f<this.level;f++){let D=g.getLowestHealthPet();d.snipePet(D.pet,5,D.random,o)}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},97677(O,S,i){i.d(S,{H:()=>c});var A=i(70762);function c(E){for(;E;){const{closed:_,destination:v,isStopped:e}=E;if(_||e)return!1;E=v&&v instanceof A.v?v:null}return!0}},97758(O,S,i){i.d(S,{S:()=>r});var A=i(13115),c=i(22410),E=i(6328),_=i(44519),v=i(29886),e=i(47925),t=i(3887),n=i(87647),a=i(58857),o=i(61850);function r(d,g,f,D,k=!1){let L=d.equipment?.multiplier??1,F=g.equipment?.multiplier??1;const J=["Cold","Weak","Spooked"],ne=["Inked"];let $,q,H="defense"==g.equipment?.equipmentClass||"shield"==g.equipment?.equipmentClass||"ailment-defense"==g.equipment?.equipmentClass||k&&"shield-snipe"==g.equipment?.equipmentClass?g.equipment:null;if(null!=H)if("Strawberry"===H.name){const ct=g.getSparrowLevel();ct<=0||null!=H.uses&&H.uses<=0?H=null:H.power=5*ct}else F=(0,n.GH)(F,H?.name??"",f,J),H.power=(H.originalPower??H.power??0)*F;if(k)$="attack-snipe"==d.equipment?.equipmentClass?d.equipment:null,q=(D??0)+($?.power??0),H instanceof e.q&&(H=null);else{$=d.equipment instanceof t.L?new t.v:d.equipment instanceof e.q?new e.Z:d.equipment instanceof v.B?new v.P:"attack"==d.equipment?.equipmentClass||"ailment-attack"==d.equipment?.equipmentClass?d.equipment:null,null!=$&&(L=(0,n.GH)(L,$?.name??"",f,ne),$.power=($.originalPower??$.power??0)*L);let ct=d.attack;"Monty"==d.name&&(ct*=d.level+1),q=(D??ct)+($?.power??0)}let ae=H?.power??0,le=g.getSparrowLevel();"Strawberry"===g.equipment?.name&&le>0&&(ae+=5*le),g.equipment instanceof e.q&&g.equipment.uses>0&&!k&&(q=Math.floor(q*Math.pow(.5,F))),$ instanceof A.B&&!k&&(q*=2+L-1),$ instanceof e.Z&&!k&&(q=Math.floor(q*Math.pow(.5,L)));let ye=!1;$ instanceof E.Y&&!k&&0===(0,a.k6)({key:"equipment.fortune-cookie",label:"Fortune Cookie outcome",options:[{id:"double-damage",label:"Double damage"},{id:"no-bonus",label:"No bonus"}]},()=>(0,o.hw)(0,1)).index&&(q*=2+L-1,ye=!0),$ instanceof c.W&&!k&&(q=Math.max(15,q)),q=(0,n.W6)(q,g.equipment,f);let Ce,Se="shield"==H?.equipmentClass||"shield-snipe"==H?.equipmentClass?0:1;void 0!==H?.minimumDamage&&(Se=H.minimumDamage),Ce=q<=Se&&ae>0?Math.max(q,0):Math.max(Se,q-ae),"Inked"===d.equipment?.name&&Ce>0&&(Ce=Math.max(0,Ce-3)),H instanceof _.H&&(Ce=Math.min(Ce,g.health-1));const de=(0,n.qw)(g,Ce,{includeGhostKitten:k,fairyMinimumOne:!0,fairyRequiresPositiveDamage:!1,nurikabeConsumesOnZeroHit:!0,fanMusselConsumesOnZeroHit:!0});return Ce=de.damage,{defenseEquipment:H,attackEquipment:$,damage:Ce,fortuneCookie:ye,nurikabe:de.nurikabe,fairyBallReduction:de.fairyBallReduction,fanMusselReduction:de.fanMusselReduction,mapleSyrupReduction:0,ghostKittenReduction:de.ghostKittenReduction}}},97919(O,S,i){i.d(S,{H:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Kraken";tier=4;pack="Unicorn";attack=5;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"KrakenAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let d=r.parent.getAll(!0,r,!0),g=d.pets;if(0!=g.length){for(let f of g){let D=1==this.level?.15:2==this.level?.3:.45,k=Math.max(1,Math.floor(f.health*(1-D)));f.health=k,this.logService.createLog({message:`${r.name} reduced ${f.name} health by ${(100*D).toFixed(0)}% to ${k}`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random})}this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},97939(O,S,i){i.d(S,{A:()=>E});const E=(0,i(38992).A)(Object.keys,Object)},98099(O,S,i){function A(c){return"function"==typeof c}i.d(S,{T:()=>A})},98146(O,S,i){i.d(S,{D:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;petService;name="Pteranodon";tier=6;pack="Golden";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,o,r,d,f,D)}}class _ extends c.T{logService;abilityService;petService;constructor(e,t,n,a){super({name:"PteranodonAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:o=>{const{triggerPet:r}=o;return null!=r},abilityFunction:o=>{this.executeAbility(o)}}),this.logService=t,this.abilityService=n,this.petService=a}executeAbility(e){const{triggerPet:n,tiger:a,pteranodon:o}=e,r=this.owner;let d=this.petService.createPet({attack:1,health:1,equipment:null,exp:n.exp,name:n.name,mana:0},r.parent),g=r.parent.summonPetBehind(r,d);g.success&&this.logService.createLog({message:`${r.name} summoned a 1/1 ${n.name} behind it.`,type:"ability",player:r.parent,randomEvent:g.randomEvent,tiger:a,pteranodon:o}),this.triggerTigerExecution(e)}reset(){super.reset(),this.maxUses=this.level}copy(e){return new _(e,this.logService,this.abilityService,this.petService)}}},98349(O,S,i){i.d(S,{J:()=>_});var A=i(46200),c=i(5615),E=i(1152);class _ extends A.i{logService;abilityService;name="Purple Frog";tier=3;pack="Puppy";attack=4;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;abilityService;usesThisTurn=0;constructor(t,n,a){super({name:"PurpleFrogAbility",owner:t,triggers:["FriendSummoned","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:o=>{this.executeAbility(o)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner;if("StartTurn"===t.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(t);if(this.usesThisTurn>=this.level)return void this.triggerTigerExecution(t);const a=(0,E.Uj)(n,t.triggerPet);a.pet?(a.pet.executeAbilities("StartTurn",t.gameApi,a.pet,void 0,void 0,{trigger:"StartTurn"}),this.usesThisTurn++,(0,E.rv)(this.logService,n,`${n.name} activated ${a.pet.name}'s start of turn ability.`,t.tiger,t.pteranodon,{randomEvent:a.random}),this.triggerTigerExecution(t)):this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},98441(O,S,i){i.d(S,{V:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Bee";tier=1;pack="Turtle";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"BeeAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},98935(O){O.exports=JSON.parse('[{"Ability":"Block ailment or 8 damage, once.","Positive":true,"Id":"60","Name":"Ambrosia","NameId":"Ambrosia"},{"Ability":"Before attack: Remove the front-most enemy perk, once.","Positive":true,"Id":"64","Name":"Baguette","NameId":"Baguette"},{"Ability":"Faint: Summon one 4/4 Monkey.","Positive":true,"Id":"25","Name":"Banana","NameId":"Banana"},{"Ability":"Before battle: Gain +7 mana.","Positive":true,"Id":"87","Name":"Big Mana Potion","NameId":"ManaPotion2"},{"Ability":"Gain +1 attack and +2 health.","Positive":true,"Id":"89","Name":"Blackberry","NameId":"Blackberry"},{"Ability":"Can\'t gain perk, once.","Id":"120","Name":"Bloated","NameId":"Bloated"},{"Ability":"Prioritize this for enemy random abilities.","Positive":true,"Id":"28","Name":"Blueberry","NameId":"BlueBerries"},{"Ability":"Gain +3 health when this would faint, once.","Positive":true,"Id":"111","Name":"Bok Choy","NameId":"BokChoy"},{"Ability":"Block being pushed or 5 damage, once.","Positive":true,"Id":"66","Name":"Brussels Sprout","NameId":"BrusselsSprout"},{"Ability":"End turn: Increase sell value by 1 gold.","Positive":true,"Id":"44","Name":"Cake","NameId":"BirthdayCake"},{"Ability":"Before attack: Combine friendly Caramels to deal 3 damage each to the most healthy enemy, once.","Positive":true,"Id":"67","Name":"Caramel","NameId":"Caramel"},{"Ability":"End turn: Gain +1 attack and +1 health.","Positive":true,"Id":"15","Name":"Carrot","NameId":"Carrot"},{"Ability":"Before battle: Deal 1 damage to the second nearest pet ahead. Double against enemies.","Positive":true,"Id":"115","Name":"Cashew Nut","NameId":"CashewNut"},{"Ability":"Knock out: If still standing, gain permanent +1 attack and +1 health, once.","Positive":true,"Id":"71","Name":"Cauliflower","NameId":"Cauliflower"},{"Ability":"Attack with at least 15 attack, once.","Positive":true,"Id":"23","Name":"Cheese","NameId":"Cheese"},{"Ability":"Before battle: Gain 2 trumpets and remove perk.","Positive":true,"Id":"7","Name":"Cherry","NameId":"Cherries"},{"Ability":"Attack second enemy for 5 damage.","Positive":true,"Id":"5","Name":"Chili","NameId":"Chili"},{"Ability":"Before attack: Gain +3 experience and faint.","Positive":true,"Id":"30","Name":"Chocolate Cake","NameId":"ChocolateCake"},{"Ability":"Activate ability before other pets with the same trigger.","Positive":true,"Id":"70","Name":"Churros","NameId":"Churros"},{"Ability":"Before attack: Transform into an exact copy of a random enemy, once.","Positive":true,"Id":"94","Name":"Cocoa Bean","NameId":"CocoaBean"},{"Ability":"Block damage, once.","Positive":true,"Id":"0","Name":"Coconut","NameId":"Coconut"},{"Ability":"Faint: Summon one 2/3 Fish.","Positive":true,"Id":"104","Name":"Cod Roe","NameId":"CodRoe"},{"Ability":"Take +5 damage, once.","Id":"54","Name":"Cold","NameId":"Frozen"},{"Ability":"Before attack: Transform into a pet from one tier below, once.","Id":"118","Name":"Confused","NameId":"Confused"},{"Ability":"Anyone attacks: Take 6 damage, once.","Id":"57","Name":"Crisp","NameId":"Burn"},{"Ability":"End turn: Gain +1 attack.","Positive":true,"Id":"20","Name":"Croissant","NameId":"Croissant"},{"Ability":"End turn: Gain +1 health.","Positive":true,"Id":"19","Name":"Cucumber","NameId":"Cucumber"},{"Ability":"Faint: Make one random friend Cursed.","Id":"119","Name":"Cursed","NameId":"Curse"},{"Ability":"Prevent ability from activating.","Id":"55","Name":"Dazed","NameId":"Deaf"},{"Ability":"Prioritize this for friendly random abilities.","Positive":true,"Id":"36","Name":"Donut","NameId":"Doughnut"},{"Ability":"Before attack: Reduce the most healthy enemy by 33% health, once.","Positive":true,"Id":"45","Name":"Durian","NameId":"Durian"},{"Ability":"Faint: Summon one 3/3 Bunny that attacks for double damage.","Positive":true,"Id":"51","Name":"Easter Egg","NameId":"EasterEgg"},{"Ability":"Before attack: Deal 2 damage to target, once.","Positive":true,"Id":"24","Name":"Egg","NameId":"Egg"},{"Ability":"Before battle: Push opposite enemy 1 space forward.","Positive":true,"Id":"38","Name":"Eggplant","NameId":"EggPlant"},{"Ability":"Block 4 enemy damage, once.","Positive":true,"Id":"68","Name":"Eucalyptus","NameId":"Eucalyptus"},{"Ability":"Faint: Summon ANY one tier 1 <b>Faint</b> pet.","Positive":true,"Id":"86","Name":"Faint Bread","NameId":"DeadBread"},{"Ability":"Empty front space: Jump to the front and gain +2 mana, once.","Positive":true,"Id":"49","Name":"Fairy Dust","NameId":"FairyDust"},{"Ability":"Before attack: Deal 4 damage to the lowest health enemy, once.","Positive":true,"Id":"46","Name":"Fig","NameId":"Fig"},{"Ability":"Attack has 50% chance to deal double damage.","Positive":true,"Id":"11","Name":"Fortune Cookie","NameId":"FortuneCookie"},{"Ability":"Takes 2 less damage.","FinePrint":"Damage can\'t be reduced to less than 2.","Positive":true,"Id":"9","Name":"Garlic","NameId":"Garlic"},{"Ability":"Before battle: Gain +1 experience.","Positive":true,"Id":"52","Name":"Gingerbread Man","NameId":"GingerbreadMan"},{"Ability":"Before attack: Deal 6 damage to target, once.","Positive":true,"Id":"47","Name":"Golden Egg","NameId":"GoldenEgg"},{"Ability":"Start of turn: Gain +1 gold.","Positive":true,"Id":"16","Name":"Grapes","NameId":"Grapes"},{"Ability":"Before attack: Transform into an Ant.","Positive":true,"Id":"103","Name":"Gros Michel Banana","NameId":"GrosMichelBanana"},{"Ability":"Block 3 damage, and attack for +3 damage, once.","Positive":true,"Id":"105","Name":"Guava","NameId":"Guava"},{"Ability":"Before battle: Give the front-most friendly pet +2 health.","Positive":true,"Id":"58","Name":"Health Potion","NameId":"HealthPotion"},{"Ability":"Faint: Summon one 1/1 Bee.","Positive":true,"Id":"8","Name":"Honey","NameId":"Honey"},{"Ability":"Block 10 damage, and attack for +5 damage, once.","Positive":true,"Id":"110","Name":"Honeydew Melon","NameId":"HoneydewMelon"},{"Ability":"Take double damage, twice.","Id":"56","Name":"Icky","NameId":"Acid"},{"Ability":"Attack and ability deal 3 less damage.","Id":"37","Name":"Inked","NameId":"Ink"},{"Ability":"Ability deals +8 damage, once.","Positive":true,"Id":"78","Name":"Kiwano","NameId":"Kiwano"},{"Ability":"Before battle: Gain +3 health.","Positive":true,"Id":"107","Name":"Kiwifruit","NameId":"Kiwi"},{"Ability":"Block 7 damage, twice.","Positive":true,"Id":"22","Name":"Lemon","NameId":"Lemon"},{"Ability":"Takes 1 less damage.","Positive":true,"Id":"108","Name":"Lime","NameId":"Lime"},{"Ability":"Activate ability at level 1.","Positive":true,"Id":"122","Name":"Liquorice","NameId":"SweetLiquorice"},{"Ability":"Before battle: Summon one 5/5 pet like this.","Positive":true,"Id":"59","Name":"Love Potion","NameId":"LovePotion"},{"Ability":"Before battle: Copy ability to the nearest friend ahead.","Positive":true,"Id":"76","Name":"Lychee","NameId":"Lychee"},{"Ability":"Activate ability after other pets with the same trigger.","Positive":true,"Id":"117","Name":"Macaron","NameId":"Macaron"},{"Ability":"Start of turn: Gain the Golden Egg perk and increase sell value by 4 gold.","Positive":true,"Id":"48","Name":"Magic Beans","NameId":"MagicBeans"},{"Ability":"Attack for 50% damage and block 50% damage, thrice.","Positive":true,"Id":"93","Name":"Maple Syrup","NameId":"MapleSyrup"},{"Ability":"Attack with +3 damage.","Positive":true,"Id":"6","Name":"Meat Bone","NameId":"MeatBone"},{"Ability":"Block 20 damage, once.","Positive":true,"Id":"13","Name":"Melon","NameId":"Melon"},{"Ability":"Block 10 damage, once.","Positive":true,"Id":"79","Name":"Melon Slice","NameId":"WaterMelon"},{"Ability":"Attack second enemy for 4 damage.","Positive":true,"Id":"123","Name":"Mild Chili","NameId":"MildChili"},{"Ability":"Faint: Come back as a 1/1.","Positive":true,"Id":"1","Name":"Mushroom","NameId":"Mushroom"},{"Ability":"Before attack: Convert up to 3 health into attack.","Positive":true,"Id":"116","Name":"Nachos","NameId":"Nachos"},{"Ability":"Before attack: Move to the back, once.","Positive":true,"Id":"31","Name":"Onion","NameId":"Onion"},{"Ability":"Before attack: Set attack and health to at least 9, once.","Positive":true,"Id":"77","Name":"Oyster Mushroom","NameId":"OysterMushroom"},{"Ability":"Before battle: Give friends +2 attack and +2 health.","Positive":true,"Id":"35","Name":"Pancakes","NameId":"Pancakes"},{"Ability":"Knock out any pet attacked and hurt by this.","Positive":true,"Id":"2","Name":"Peanut","NameId":"Peanut"},{"Ability":"Knock out any pet attacked and hurt by this, once.","Positive":true,"Id":"88","Name":"Peanut Butter","NameId":"PeanutButter"},{"Ability":"Health does not go under 1. Removed after taking damage.","Positive":true,"Id":"18","Name":"Pepper","NameId":"Pepper"},{"Ability":"Before battle: Gain +4 attack and +3 health.","Positive":true,"Id":"39","Name":"Pie","NameId":"Pie"},{"Ability":"Ability deals +2 damage, thrice.","Positive":true,"Id":"21","Name":"Pineapple","NameId":"Pineapple"},{"Ability":"Hurt: Gain +15 health, once.","Positive":true,"Id":"33","Name":"Pita Bread","NameId":"PitaBread"},{"Ability":"Faint: Summon one random pet from the same tier.","Positive":true,"Id":"17","Name":"Popcorn","NameId":"Popcorn"},{"Ability":"Block 10 damage from abilities and perks, twice.","Positive":true,"Id":"29","Name":"Potato","NameId":"Potato"},{"Ability":"Before battle: Gain ANY useful perk from the pet\'s tier.","Positive":true,"Id":"65","Name":"Radish","NameId":"Radish"},{"Ability":"Before attack: Gain +3 mana.","Positive":true,"Id":"62","Name":"Rambutan","NameId":"Rambutan"},{"Ability":"Sell for +2 gold.","Positive":true,"Id":"43","Name":"Rice","NameId":"RiceBall"},{"Ability":"Attack for double damage, once.","Positive":true,"Id":"3","Name":"Salt","NameId":"Salt"},{"Ability":"Start of turn: Gain +2 gold.","Positive":true,"Id":"100","Name":"Sardinian Currant","NameId":"SardinianCurrant"},{"Ability":"Start of turn: Gain one free roll.","Positive":true,"Id":"69","Name":"Sausage","NameId":"Sausage"},{"Ability":"Before attack: Transform into a Baby Urchin.","Positive":true,"Id":"72","Name":"Seaweed","NameId":"Seaweed"},{"Ability":"Ability has random targets in battle.","Id":"75","Name":"Silly","NameId":"Silly"},{"Ability":"Attack second and third enemy for 3 damage.","Positive":true,"Id":"26","Name":"Skewer","NameId":"Skewer"},{"Ability":"Attack with half damage, once.","Id":"84","Name":"Sleepy","NameId":"Drowsy"},{"Ability":"Take +1 damage.","Id":"63","Name":"Spooked","NameId":"Scared"},{"Ability":"Before attack: Remove 6 health from target, once.","Positive":true,"Id":"109","Name":"Squash","NameId":"Squash"},{"Ability":"Attack with +20 damage, once.","Positive":true,"Id":"12","Name":"Steak","NameId":"Steak"},{"Ability":"Faint: Give the back-most friend +1 attack and +1 health.","Positive":true,"Id":"14","Name":"Strawberry","NameId":"Strawberry"},{"Ability":"Hurt: If still standing, gain permanent +1 health, once.","Positive":true,"Id":"95","Name":"Sudduth Tomato","NameId":"SudduthTomato"},{"Ability":"Faint: Give one random enemy permanent +2 attack and +2 health.","Id":"85","Name":"Tasty","NameId":"Tasty"},{"Ability":"Anyone attacks: Take 1 damage, once.","Id":"73","Name":"Toasty","NameId":"Toasty"},{"Ability":"Before attack: Deal 10 damage to the last enemy, once.","Positive":true,"Id":"34","Name":"Tomato","NameId":"Tomato"},{"Ability":"Start of battle: Deal 2 damage to a random enemy.","Positive":true,"Id":"97","Name":"Unagi","NameId":"Unagi"},{"Ability":"Block 2 damage, once.","Positive":true,"Id":"80","Name":"Walnut","NameId":"Walnut"},{"Ability":"Take +3 damage.","Id":"10","Name":"Weak","NameId":"Weak"},{"Ability":"Faint: Summon one 2/2 Spider up front for the opponent.","Id":"27","Name":"Webbed","NameId":"Web"},{"Ability":"Block 10 damage twice or ailment once.","Positive":true,"Id":"101","Name":"White Okra","NameId":"WhiteOkra"},{"Ability":"Friend faints: Gain +4 attack and jump-attack the highest attack enemy, once.","Positive":true,"Id":"91","Name":"White Truffle","NameId":"WhiteTruffle"},{"Ability":"Faint: Summon two 5/5 Nordic Goats.","Positive":true,"Id":"50","Name":"Yggdrasil Fruit","NameId":"YggdrasilFruit"}]')},98964(O,S,i){i.d(S,{_:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Mandrill";tier=2;pack="Puppy";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"MandrillAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const r=this.owner;let d=2*this.level;r.parent.toy?.tier<=d&&(r.parent.breakToy(),this.abilityService.triggerToyBrokeEvents(r.parent)),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},98977(O,S,i){i.d(S,{V:()=>t});var A=i(46200),c=i(5615),E=i(33127),_=i(26886),v=i(61850),e=i(1152);class t extends A.i{logService;abilityService;name="Gharial";tier=3;pack="Puppy";attack=5;health=2;initAbilities(){this.addAbility(new n(this,this.logService,this.abilityService)),super.initAbilities()}constructor(o,r,d,g,f,D,k,L,F){super(o,r,d),this.logService=o,this.abilityService=r,this.initPet(k,g,f,D,L,F)}}class n extends c.T{logService;abilityService;constructor(o,r,d){super({name:"GharialAbility",owner:o,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:o.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=r,this.abilityService=d}executeAbility(o){const r=this.owner,d=E.I.getInjector().get(_.w),g=Math.max(1,Math.min(3,this.level)),f=d.toys.get(g)??[];if(0===f.length)return void this.triggerTigerExecution(o);const D=f[(0,v.hw)(0,f.length-1)],k=d.createToy(D,r.parent,g);k?(r.parent.toy=k,r.parent.toy.used=!1,r.parent.toy.triggers=0,(0,e.rv)(this.logService,r,`${r.name} chose a level ${g} ${D} toy.`,o.tiger,o.pteranodon),this.triggerTigerExecution(o)):this.triggerTigerExecution(o)}copy(o){return new n(o,this.logService,this.abilityService)}}},99094(O,S,i){i.d(S,{X:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Jewel Caterpillar";tier=3;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Jewel Caterpillar Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,o=a.parent;if(o.trumpets<2)return void this.triggerTigerExecution(e);const d=o.petArray.filter(D=>D.alive&&D!==a).slice(-2);if(0===d.length)return void this.triggerTigerExecution(e);const g=this.level;d.forEach(D=>D.increaseSellValue(g)),o.spendTrumpets(2,a,n);const f=this.formatNames(d.map(D=>D.name));this.logService.createLog({message:`${a.name} spent 2 trumpets to give ${f} +${g} sell value each permanently.`,type:"ability",player:o,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}formatNames(e){return 0===e.length?"no friends":1===e.length?e[0]:`${e.slice(0,-1).join(", ")} and ${e[e.length-1]}`}copy(e){return new _(e,this.logService)}}},99162(O,S,i){i.d(S,{A:()=>c});const c=function A(E,_){for(var v=-1,e=null==E?0:E.length;++v<e&&!1!==_(E[v],v,E););return E}},99352(O,S,i){i.d(S,{p:()=>_});var A=i(46200),c=i(5615),E=i(1152);class _ extends A.i{logService;abilityService;name="Cyclops";tier=4;pack="Unicorn";attack=2;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"CyclopsAbility",owner:t,triggers:["FriendLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:t.level,precondition:a=>{const{triggerPet:o}=a,g=(0,E.lK)(this.owner,o).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:o}=t,d=this.owner;let g=2*this.level,f=(0,E.lK)(d,a),D=f.pet;if(null!=D){if(this.logService.createLog({message:`${d.name} gave ${D.name} ${g} mana.`,type:"ability",player:d.parent,tiger:o,randomEvent:f.random}),D.increaseMana(g),this.currentUses<this.level){let k=(0,E.lK)(d,a),L=k.pet;if(null==L)return;this.logService.createLog({message:`${d.name} gave ${L.name} 1 exp.`,type:"ability",player:d.parent,tiger:o,randomEvent:k.random}),L.increaseExp(1)}this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},99462(O,S,i){i.d(S,{m:()=>c});var A=i(42294);class c{triggerSummonEvents(_){const v=_?.parent;if(v&&Array.isArray(v.petArray)){this.triggerFriendSummonedToyEvents(v,_);for(let t of this.abilityQueueService.getTeam(v))t==_?this.abilityQueueService.triggerAbility(t,"ThisSummoned",_):(this.abilityQueueService.triggerAbility(t,"FriendSummoned",_),this.abilityQueueService.handleNumberedCounterTriggers(t,_,void 0,this.abilityQueueService.getNumberedTriggersForPet(t,"FriendSummoned")),"Bee"===_.name&&this.abilityQueueService.triggerAbility(t,"BeeSummoned",_));(v.opponent&&Array.isArray(v.opponent.petArray)?v.opponent.petArray:[]).forEach(t=>this.abilityQueueService.triggerAbility(t,"EnemySummoned",_)),this.executeFriendSummonedToyEvents()}}triggerFaintEvents(_){this.faintEventService.triggerFaintEvents(_)}triggerAfterFaintEvents(_){this.faintEventService.triggerAfterFaintEvents(_)}triggerFoodEvents(_,v){(0,A.yB)(this.abilityQueueService,_,v)}triggerPerkGainEvents(_,v){(0,A.Jo)(this.abilityQueueService,_,v)}triggerPerkLossEvents(_,v){(0,A.hu)(this.abilityQueueService,_,v)}triggerAilmentGainEvents(_,v){(0,A.$f)(this.abilityQueueService,_,v)}triggerTransformEvents(_){const v=_.transformedInto;if(v)for(let e of this.abilityQueueService.getTeam(v))e==v?this.abilityQueueService.triggerAbility(e,"ThisTransformed",v):(this.abilityQueueService.triggerAbility(e,"FriendTransformed",v),this.abilityQueueService.handleNumberedCounterTriggers(e,v,void 0,this.abilityQueueService.getNumberedTriggersForPet(e,"FriendTransformed")))}triggerFlungEvents(_){for(let v of this.abilityQueueService.getTeam(_))this.abilityQueueService.triggerAbility(v,"AnyoneFlung",_),v!=_&&this.abilityQueueService.triggerAbility(v,"FriendFlung",_);for(let v of this.abilityQueueService.getTeam(_.parent?.opponent))this.abilityQueueService.triggerAbility(v,"AnyoneFlung",_)}triggerPushedEvents(_){for(let v of this.abilityQueueService.getTeam(_.parent?.opponent))this.abilityQueueService.triggerAbility(v,"EnemyPushed",_)}triggerKillEvents(_,v){v.parent!==_.parent&&this.abilityQueueService.triggerAbility(_,"KnockOut",v)}triggerHurtEvents(_,v){const e=void 0!==v?{damageAmount:v}:void 0;for(let t of this.abilityQueueService.getTeam(_))this.abilityQueueService.triggerAbility(t,"AnyoneHurt",_,e),t==_?(this.abilityQueueService.triggerAbility(t,"ThisHurt",_,e),this.abilityQueueService.handleNumberedCounterTriggers(t,_,e,this.abilityQueueService.getNumberedTriggersForPet(t,"ThisHurt"))):(this.abilityQueueService.triggerAbility(t,"FriendHurt",_,e),this.abilityQueueService.handleNumberedCounterTriggers(t,_,e,this.abilityQueueService.getNumberedTriggersForPet(t,"FriendHurt"))),t==_.petBehind(void 0,!0)&&this.abilityQueueService.triggerAbility(t,"FriendAheadHurt",_,e),(t==t.petBehind()||t.petAhead)&&this.abilityQueueService.triggerAbility(t,"AdjacentFriendsHurt",_,e),t.position<_.position&&this.abilityQueueService.triggerAbility(t,"AnyoneBehindHurt",_,e);for(let t of this.abilityQueueService.getTeam(_.parent?.opponent))this.abilityQueueService.triggerAbility(t,"EnemyHurt",_,e),this.abilityQueueService.triggerAbility(t,"AnyoneHurt",_,e),this.abilityQueueService.handleNumberedCounterTriggers(t,_,e,this.abilityQueueService.getNumberedTriggersForPet(t,"EnemyHurt"))}triggerLevelUpEvents(_){const v=_.parent;this.triggerFriendlyLevelUpToyEvents(v,_);for(let e of v.petArray)this.abilityQueueService.triggerAbility(e,"AnyLeveledUp",_),this.abilityQueueService.triggerAbility(e,"FriendlyLeveledUp",_),e==_?this.abilityQueueService.triggerAbility(e,"ThisLeveledUp",_):(this.abilityQueueService.triggerAbility(e,"FriendLeveledUp",_),this.abilityQueueService.handleNumberedCounterTriggers(e,_,void 0,this.abilityQueueService.getNumberedTriggersForPet(e,"FriendlyLeveledUp")));if(v.opponent&&Array.isArray(v.opponent.petArray))for(let e of v.opponent.petArray)this.abilityQueueService.triggerAbility(e,"AnyLeveledUp",_)}triggerEmptyFrontSpaceEvents(_){for(let v of _.petArray)v.clearFrontTriggered||(this.abilityQueueService.triggerAbility(v,"EmptyFrontSpace"),v.clearFrontTriggered=!0)}executeEmptyFrontSpaceEvents(){this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:_=>"EmptyFrontSpace"===_.abilityType,onExecute:_=>this.logTriggerHeader(_)}),this.clearLastLoggedTrigger()}triggerToyBrokeEvents(_){for(let v of _.petArray)this.abilityQueueService.triggerAbility(v,"FriendlyToyBroke")}triggerJumpEvents(_){this.triggerFriendJumpedToyEvents(_.parent,_);for(let v of this.abilityQueueService.getTeam(_))this.abilityQueueService.triggerAbility(v,"AnyoneJumped",_),v==_||(this.abilityQueueService.triggerAbility(v,"FriendJumped",_),this.abilityQueueService.handleNumberedCounterTriggers(v,_,void 0,this.abilityQueueService.getNumberedTriggersForPet(v,"FriendJumped")));for(let v of this.abilityQueueService.getTeam(_.parent?.opponent))this.abilityQueueService.triggerAbility(v,"AnyoneJumped",_);this.executeFriendJumpedToyEvents()}triggerManaGainedEvents(_){this.abilityQueueService.triggerAbility(_,"ThisGainedMana",_)}setManaEvent(_){_.abilityType="ManaSnipe",this.abilityQueueService.addEventToQueue(_)}setgoldenRetrieverSummonsEvent(_){_.abilityType="GoldenRetrieverSummons",this.abilityQueueService.addEventToQueue(_)}triggerFriendGainsHealthEvents(_){}triggerFriendGainedExperienceEvents(_){for(let v of this.abilityQueueService.getTeam(_))this.abilityQueueService.triggerAbility(v,"FriendlyGainedExp",_),v!==_&&this.abilityQueueService.triggerAbility(v,"FriendGainedExp",_)}triggerEmptyFrontSpaceToyEvents(_){this.toyEventService.triggerEmptyFrontSpaceToyEvents(_)}executeEmptyFrontSpaceToyEvents(){this.toyEventService.executeEmptyFrontSpaceToyEvents()}triggerFriendSummonedToyEvents(_,v){this.toyEventService.triggerFriendSummonedToyEvents(_,v)}executeFriendSummonedToyEvents(){this.toyEventService.executeFriendSummonedToyEvents()}triggerFriendlyLevelUpToyEvents(_,v){this.toyEventService.triggerFriendlyLevelUpToyEvents(_,v)}executeFriendlyLevelUpToyEvents(){this.toyEventService.executeFriendlyLevelUpToyEvents()}triggerFriendFaintsToyEvents(_,v){this.toyEventService.triggerFriendFaintsToyEvents(_,v)}executeFriendFaintsToyEvents(){this.toyEventService.executeFriendFaintsToyEvents()}triggerFriendJumpedToyEvents(_,v){this.toyEventService.triggerFriendJumpedToyEvents(_,v)}executeFriendJumpedToyEvents(){this.toyEventService.executeFriendJumpedToyEvents()}}},99654(O,S,i){i.d(S,{B:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Warf";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;usedFirstTrigger=!1;constructor(e,t){super({name:"Warf Ability",owner:e,triggers:["ThisGainedMana","StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner;if("StartBattle"===e.trigger)return this.usedFirstTrigger=!1,void this.triggerTigerExecution(e);const o=a.parent.opponent.getRandomPet([],!1,!1,!1,a);if(o.pet){const r=o.pet,d=this.level,g=this.usedFirstTrigger?d:3*d;a.snipePet(r,g,o.random,t,n),this.logService.createLog({message:`${a.name} gained mana and dealt ${g} damage to ${r.name}.`,type:"ability",player:a.parent,tiger:t,pteranodon:n,randomEvent:o.random}),this.usedFirstTrigger=!0}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},99659(O,S,i){i.d(S,{A:()=>c});const c=function A(E,_){for(var v=-1,e=Array(E);++v<E;)e[v]=_(v);return e}},99771(O,S,i){i.d(S,{l:()=>_});var A=i(46200),c=i(5615),E=i(1152);class _ extends A.i{logService;abilityService;name="Jackalope";tier=2;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,o,r,d,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,o,r,d,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"JackalopeAbility",owner:t,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,precondition:a=>{const{triggerPet:o}=a,g=(0,E.lK)(this.owner,o).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a}=t,d=this.owner;let f=(0,E.lK)(d,a).pet;if(null==f)return;let D=this.level;d.jumped&&(D*=2),f.increaseAttack(D),this.logService.createLog({message:`${d.name} gave ${f.name} +${D} attack.`,type:"ability",player:this.owner.parent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},99898(O,S,i){i.d(S,{A:()=>_});var A=i(81984),c=i(1827);const _=function E(v,e,t,n){var a=!t;t||(t={});for(var o=-1,r=e.length;++o<r;){var d=e[o],g=n?n(t[d],v[d],d,t,v):void 0;void 0===g&&(g=v[d]),a?(0,c.A)(t,d,g):(0,A.A)(t,d,g)}return t}},99953(O,S,i){i.d(S,{H:()=>E});var A=i(46200),c=i(5615);class E extends A.i{logService;abilityService;name="Dove";tier=2;pack="Star";attack=3;health=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,o,r,d,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(d,a,o,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DoveAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:o}=e,r=this.owner;let d=r.parent.petArray.filter(D=>D==r||"Strawberry"!=D.equipment?.name),g=r.parent.getRandomPets(3,d,null,null,r),f=g.pets;if(0!=f.length){for(let D of f){if("Strawberry"!=D.equipment?.name)continue;this.logService.createLog({message:`${r.name} activated ${D.name}'s Strawberry.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random,pteranodon:o});let L=D.parent.getLastPet(void 0,D).pet;if(!L)continue;let F=this.level+(L.equipment?.multiplier??1)-1;L.increaseAttack(F),L.increaseHealth(F),this.logService.createLog({message:`${D.name} gave ${L.name} ${F} attack ${F} health (Strawberry) (x${this.level} ${r.name}).`,type:"equipment",player:r.parent,tiger:a,pteranodon:o})}this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}}},O=>{O(O.s=28077)}]);