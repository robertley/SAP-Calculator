"use strict";(self.webpackChunksap_calculator=self.webpackChunksap_calculator||[]).push([[56],{56(m,c,o){o.d(c,{ExportCalculatorComponent:()=>p});var a=o(9769),l=o(7033),t=o(5547),n=o(4937);function u(s,_){if(1&s&&(t.j41(0,"div",5),t.EFF(1),t.k0s()),2&s){const e=t.XpG();t.Y8G("ngClass","success"===e.statusTone?"text-success":"text-danger"),t.R7$(),t.SpI(" ",e.statusMessage," ")}}let p=(()=>{class s{localStorageService;formGroup;statusMessage="";statusTone="success";statusTimer=null;constructor(e){this.localStorageService=e}ngOnInit(){}formGroupValueString(){if(!this.formGroup)return"";try{return(0,l.$j)(this.formGroup)}catch(e){return console.error("Error creating export string:",e),"Error: Could not generate the export data."}}copyToClipboard(){this.localStorageService.setFormStorage(this.formGroup),this.clearStatus();const e=this.formGroupValueString();e.startsWith("Error:")?this.setStatus("Failed to export.","error"):navigator.clipboard.writeText(e).then(()=>{this.setStatus("Copied to clipboard.","success")}).catch(r=>{console.error("Clipboard error:",r),this.setStatus("Failed to copy to clipboard.","error")})}clearStatus(){this.statusTimer&&(clearTimeout(this.statusTimer),this.statusTimer=null),this.statusMessage=""}setStatus(e,r){this.statusMessage=e,this.statusTone=r,this.statusTimer&&clearTimeout(this.statusTimer),this.statusTimer=setTimeout(()=>{this.statusMessage="",this.statusTimer=null},3e3)}static \u0275fac=function(r){return new(r||s)(t.rXU(n.s))};static \u0275cmp=t.VBU({type:s,selectors:[["app-export-calculator"]],inputs:{formGroup:"formGroup"},decls:7,vars:2,consts:[[1,"form-group"],[1,"text-muted","mb-2"],["id","calcCode","rows","8","readonly","",1,"form-control","mb-2","calc-textarea",3,"value"],[1,"btn","btn-primary",3,"click"],["class","mt-2",3,"ngClass",4,"ngIf"],[1,"mt-2",3,"ngClass"]],template:function(r,i){1&r&&(t.j41(0,"div",0)(1,"div",1),t.EFF(2," Compressed export code. Paste this into Import to restore the calculator. "),t.k0s(),t.nrm(3,"textarea",2),t.j41(4,"button",3),t.bIt("click",function(){return i.copyToClipboard()}),t.EFF(5," Copy to Clipboard "),t.k0s(),t.DNE(6,u,2,2,"div",4),t.k0s()),2&r&&(t.R7$(3),t.Y8G("value",i.formGroupValueString()),t.R7$(3),t.Y8G("ngIf",i.statusMessage))},dependencies:[a.MD,a.YU,a.bT],styles:[".calc-textarea[_ngcontent-%COMP%]{min-height:180px;font-family:Courier New,Courier,monospace;white-space:pre;overflow-wrap:normal;overflow:auto;resize:vertical}"]})}return s})()}}]);