var bse=Object.defineProperty,Sse=Object.defineProperties,wse=Object.getOwnPropertyDescriptors,GH=Object.getOwnPropertySymbols,Ese=Object.prototype.hasOwnProperty,kse=Object.prototype.propertyIsEnumerable,jH=(Wt,xt,zt)=>xt in Wt?bse(Wt,xt,{enumerable:!0,configurable:!0,writable:!0,value:zt}):Wt[xt]=zt,dn=(Wt,xt)=>{for(var zt in xt||(xt={}))Ese.call(xt,zt)&&jH(Wt,zt,xt[zt]);if(GH)for(var zt of GH(xt))kse.call(xt,zt)&&jH(Wt,zt,xt[zt]);return Wt},aS=(Wt,xt)=>Sse(Wt,wse(xt));(self.webpackChunksap_calculator=self.webpackChunksap_calculator||[]).push([[179],{255:Wt=>{function xt(zt){return Promise.resolve().then(()=>{var Zn=new Error("Cannot find module '"+zt+"'");throw Zn.code="MODULE_NOT_FOUND",Zn})}xt.keys=()=>[],xt.resolve=xt,xt.id=255,Wt.exports=xt},815:function(Wt,xt,zt){var Zn;Wt=zt.nmd(Wt),function(){var M,$i="Expected a function",sl="__lodash_hash_undefined__",Xr="__lodash_placeholder__",sa=1/0,Cr=9007199254740991,_s=4294967295,oS=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Ja="[object Arguments]",ol="[object Array]",Za="[object Boolean]",ll="[object Date]",Xa="[object Error]",Rc="[object Function]",Dg="[object GeneratorFunction]",Xn="[object Map]",cl="[object Number]",Ln="[object Object]",cS="[object Promise]",Nc="[object RegExp]",Yi="[object Set]",ra="[object String]",Lc="[object Symbol]",Bc="[object WeakMap]",eo="[object ArrayBuffer]",Ar="[object DataView]",$c="[object Float32Array]",Qh="[object Float64Array]",Yh="[object Int8Array]",Jh="[object Int16Array]",Zh="[object Int32Array]",Xh="[object Uint8Array]",xg="[object Uint8ClampedArray]",ed="[object Uint16Array]",td="[object Uint32Array]",hS=/\b__p \+= '';/g,dS=/\b(__p \+=) '' \+/g,fS=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ot=/&(?:amp|lt|gt|quot|#39);/g,Vc=/[&<>"']/g,He=RegExp(ot.source),id=RegExp(Vc.source),pS=/<%-([\s\S]+?)%>/g,wt=/<%([\s\S]+?)%>/g,ge=/<%=([\s\S]+?)%>/g,Mg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,QI=/^\w*$/,Pr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rg=/[\\^$.*+?()[\]{}|]/g,nd=RegExp(Rg.source),Me=/^\s+/,Vi=/\s/,gS=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,YI=/\{\n\/\* \[wrapped with (.+)\] \*/,JI=/,? & /,Fc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,gn=/[()=,{}\[\]\/\s]/,ZI=/\\(\\)?/g,mS=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vS=/\w*$/,Zs=/^[-+]0x[0-9a-f]+$/i,XI=/^0b[01]+$/i,eO=/^\[object .+?Constructor\]$/,tO=/^0o[0-7]+$/i,iO=/^(?:0|[1-9]\d*)$/,yS=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,sd=/($^)/,_S=/['\n\r\u2028\u2029\\]/g,rd="\\ud800-\\udfff",bS="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",SS="\\u2700-\\u27bf",ue="a-z\\xdf-\\xf6\\xf8-\\xff",Og="A-Z\\xc0-\\xd6\\xd8-\\xde",Ng="\\ufe0e\\ufe0f",ad="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",od="["+rd+"]",ld="["+ad+"]",Hc="["+bS+"]",Se="\\d+",cd="["+SS+"]",Lg="["+ue+"]",er="[^"+rd+ad+Se+SS+ue+Og+"]",qc="\\ud83c[\\udffb-\\udfff]",tr="[^"+rd+"]",Ji="(?:\\ud83c[\\udde6-\\uddff]){2}",Bg="[\\ud800-\\udbff][\\udc00-\\udfff]",ul="["+Og+"]",$g="(?:"+Lg+"|"+er+")",wS="(?:"+ul+"|"+er+")",Vg="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",ES="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",ut="(?:"+Hc+"|"+qc+")?",kS="["+Ng+"]?",hl=kS+ut+"(?:\\u200d(?:"+[tr,Ji,Bg].join("|")+")"+kS+ut+")*",ud="(?:"+[cd,Ji,Bg].join("|")+")"+hl,hd="(?:"+[tr+Hc+"?",Hc,Ji,Bg,od].join("|")+")",Fg=RegExp("['\u2019]","g"),CS=RegExp(Hc,"g"),es=RegExp(qc+"(?="+qc+")|"+hd+hl,"g"),dl=RegExp([ul+"?"+Lg+"+"+Vg+"(?="+[ld,ul,"$"].join("|")+")",wS+"+"+ES+"(?="+[ld,ul+$g,"$"].join("|")+")",ul+"?"+$g+"+"+Vg,ul+"+"+ES,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Se,ud].join("|"),"g"),AS=RegExp("[\\u200d"+rd+bS+Ng+"]"),Bn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,PS=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Hg=-1,Pt={};Pt[$c]=Pt[Qh]=Pt[Yh]=Pt[Jh]=Pt[Zh]=Pt[Xh]=Pt[xg]=Pt[ed]=Pt[td]=!0,Pt[Ja]=Pt[ol]=Pt[eo]=Pt[Za]=Pt[Ar]=Pt[ll]=Pt[Xa]=Pt[Rc]=Pt[Xn]=Pt[cl]=Pt[Ln]=Pt[Nc]=Pt[Yi]=Pt[ra]=Pt[Bc]=!1;var kt={};kt[Ja]=kt[ol]=kt[eo]=kt[Ar]=kt[Za]=kt[ll]=kt[$c]=kt[Qh]=kt[Yh]=kt[Jh]=kt[Zh]=kt[Xn]=kt[cl]=kt[Ln]=kt[Nc]=kt[Yi]=kt[ra]=kt[Lc]=kt[Xh]=kt[xg]=kt[ed]=kt[td]=!0,kt[Xa]=kt[Rc]=kt[Bc]=!1;var de={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Zi=parseFloat,Pi=parseInt,ir="object"==typeof global&&global&&global.Object===Object&&global,aa="object"==typeof self&&self&&self.Object===Object&&self,_t=ir||aa||Function("return this")(),Ug=xt&&!xt.nodeType&&xt,Di=Ug&&Wt&&!Wt.nodeType&&Wt,se=Di&&Di.exports===Ug,qe=se&&ir.process,tt=function(){try{return Di&&Di.require&&Di.require("util").types||qe&&qe.binding&&qe.binding("util")}catch(q){}}(),Xi=tt&&tt.isArrayBuffer,Dr=tt&&tt.isDate,ri=tt&&tt.isMap,Tr=tt&&tt.isRegExp,Vt=tt&&tt.isSet,no=tt&&tt.isTypedArray;function di(L,q,V){switch(V.length){case 0:return L.call(q);case 1:return L.call(q,V[0]);case 2:return L.call(q,V[0],V[1]);case 3:return L.call(q,V[0],V[1],V[2])}return L.apply(q,V)}function Ve(L,q,V,le){for(var Re=-1,ht=null==L?0:L.length;++Re<ht;){var Yt=L[Re];q(le,Yt,V(Yt),L)}return le}function Fi(L,q){for(var V=-1,le=null==L?0:L.length;++V<le&&!1!==q(L[V],V,L););return L}function so(L,q){for(var V=null==L?0:L.length;V--&&!1!==q(L[V],V,L););return L}function Uc(L,q){for(var V=-1,le=null==L?0:L.length;++V<le;)if(!q(L[V],V,L))return!1;return!0}function vn(L,q){for(var V=-1,le=null==L?0:L.length,Re=0,ht=[];++V<le;){var Yt=L[V];q(Yt,V,L)&&(ht[Re++]=Yt)}return ht}function fi(L,q){return!(null==L||!L.length)&&Qt(L,q,0)>-1}function oa(L,q,V){for(var le=-1,Re=null==L?0:L.length;++le<Re;)if(V(q,L[le]))return!0;return!1}function mt(L,q){for(var V=-1,le=null==L?0:L.length,Re=Array(le);++V<le;)Re[V]=q(L[V],V,L);return Re}function pi(L,q){for(var V=-1,le=q.length,Re=L.length;++V<le;)L[Re+V]=q[V];return L}function bt(L,q,V,le){var Re=-1,ht=null==L?0:L.length;for(le&&ht&&(V=L[++Re]);++Re<ht;)V=q(V,L[Re],Re,L);return V}function TS(L,q,V,le){var Re=null==L?0:L.length;for(le&&Re&&(V=L[--Re]);Re--;)V=q(V,L[Re],Re,L);return V}function dd(L,q){for(var V=-1,le=null==L?0:L.length;++V<le;)if(q(L[V],V,L))return!0;return!1}var Gc=gl("length");function pl(L,q,V){var le;return V(L,function(Re,ht,Yt){if(q(Re,ht,Yt))return le=ht,!1}),le}function bs(L,q,V,le){for(var Re=L.length,ht=V+(le?1:-1);le?ht--:++ht<Re;)if(q(L[ht],ht,L))return ht;return-1}function Qt(L,q,V){return q==q?function(L,q,V){for(var le=V-1,Re=L.length;++le<Re;)if(L[le]===q)return le;return-1}(L,q,V):bs(L,ts,V)}function xS(L,q,V,le){for(var Re=V-1,ht=L.length;++Re<ht;)if(le(L[Re],q))return Re;return-1}function ts(L){return L!=L}function $n(L,q){var V=null==L?0:L.length;return V?pd(L,q)/V:NaN}function gl(L){return function(q){return null==q?M:q[L]}}function ro(L){return function(q){return null==L?M:L[q]}}function ml(L,q,V,le,Re){return Re(L,function(ht,Yt,Tt){V=le?(le=!1,ht):q(V,ht,Yt,Tt)}),V}function pd(L,q){for(var V,le=-1,Re=L.length;++le<Re;){var ht=q(L[le]);ht!==M&&(V=V===M?ht:V+ht)}return V}function Gg(L,q){for(var V=-1,le=Array(L);++V<L;)le[V]=q(V);return le}function jg(L){return L&&L.slice(0,vd(L)+1).replace(Me,"")}function Vn(L){return function(q){return L(q)}}function Wg(L,q){return mt(q,function(V){return L[V]})}function jc(L,q){return L.has(q)}function RS(L,q){for(var V=-1,le=L.length;++V<le&&Qt(q,L[V],0)>-1;);return V}function IS(L,q){for(var V=L.length;V--&&Qt(q,L[V],0)>-1;);return V}function oO(L,q){for(var V=L.length,le=0;V--;)L[V]===q&&++le;return le}var lO=ro({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),cO=ro({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function uO(L){return"\\"+de[L]}function vl(L){return AS.test(L)}function zg(L){var q=-1,V=Array(L.size);return L.forEach(function(le,Re){V[++q]=[Re,le]}),V}function gd(L,q){return function(V){return L(q(V))}}function Ss(L,q){for(var V=-1,le=L.length,Re=0,ht=[];++V<le;){var Yt=L[V];(Yt===q||Yt===Xr)&&(L[V]=Xr,ht[Re++]=V)}return ht}function md(L){var q=-1,V=Array(L.size);return L.forEach(function(le){V[++q]=le}),V}function ca(L){return vl(L)?function(L){for(var q=es.lastIndex=0;es.test(L);)++q;return q}(L):Gc(L)}function Dt(L){return vl(L)?function(L){return L.match(es)||[]}(L):function(L){return L.split("")}(L)}function vd(L){for(var q=L.length;q--&&Vi.test(L.charAt(q)););return q}var OS=ro({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ao=function L(q){var c,V=(q=null==q?_t:ao.defaults(_t.Object(),q,ao.pick(_t,PS))).Array,le=q.Date,Re=q.Error,ht=q.Function,Yt=q.Math,Tt=q.Object,Rt=q.RegExp,mO=q.String,yn=q.TypeError,Wc=V.prototype,oo=Tt.prototype,yd=q["__core-js_shared__"],ua=ht.prototype.toString,Fe=oo.hasOwnProperty,BS=0,zc=(c=/[^.]+$/.exec(yd&&yd.keys&&yd.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"",nr=oo.toString,_n=ua.call(Tt),Yg=_t._,_d=Rt("^"+ua.call(Fe).replace(Rg,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kc=se?q.Buffer:M,Hi=q.Symbol,yl=q.Uint8Array,Qc=Kc?Kc.allocUnsafe:M,Ae=gd(Tt.getPrototypeOf,Tt),$S=Tt.create,Jg=oo.propertyIsEnumerable,Yc=Wc.splice,Zg=Hi?Hi.isConcatSpreadable:M,lo=Hi?Hi.iterator:M,ha=Hi?Hi.toStringTag:M,Jc=function(){try{var c=Ma(Tt,"defineProperty");return c({},"",{}),c}catch(u){}}(),K=q.clearTimeout!==_t.clearTimeout&&q.clearTimeout,rt=le&&le.now!==_t.Date.now&&le.now,It=q.setTimeout!==_t.setTimeout&&q.setTimeout,jt=Yt.ceil,_l=Yt.floor,da=Tt.getOwnPropertySymbols,ws=Kc?Kc.isBuffer:M,Zc=q.isFinite,bd=Wc.join,vO=gd(Tt.keys,Tt),ai=Yt.max,oi=Yt.min,Xc=le.now,qi=q.parseInt,ns=Yt.random,Xg=Wc.reverse,xr=Ma(q,"DataView"),bn=Ma(q,"Map"),Sd=Ma(q,"Promise"),fa=Ma(q,"Set"),bl=Ma(q,"WeakMap"),Sl=Ma(Tt,"create"),co=bl&&new bl,Mr={},em=Lr(xr),wd=Lr(bn),VS=Lr(Sd),tm=Lr(fa),eu=Lr(bl),wl=Hi?Hi.prototype:M,uo=wl?wl.valueOf:M,Ed=wl?wl.toString:M;function C(c){if(Ut(c)&&!_e(c)&&!(c instanceof ke)){if(c instanceof Fn)return c;if(Fe.call(c,"__wrapped__"))return af(c)}return new Fn(c)}var sr=function(){function c(){}return function(u){if(!qt(u))return{};if($S)return $S(u);c.prototype=u;var f=new c;return c.prototype=M,f}}();function tu(){}function Fn(c,u){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=M}function ke(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=_s,this.__views__=[]}function pa(c){var u=-1,f=null==c?0:c.length;for(this.clear();++u<f;){var v=c[u];this.set(v[0],v[1])}}function Hn(c){var u=-1,f=null==c?0:c.length;for(this.clear();++u<f;){var v=c[u];this.set(v[0],v[1])}}function Sn(c){var u=-1,f=null==c?0:c.length;for(this.clear();++u<f;){var v=c[u];this.set(v[0],v[1])}}function ga(c){var u=-1,f=null==c?0:c.length;for(this.__data__=new Sn;++u<f;)this.add(c[u])}function en(c){var u=this.__data__=new Hn(c);this.size=u.size}function ma(c,u){var f=_e(c),v=!f&&Ds(c),E=!f&&!v&&Ts(c),P=!f&&!v&&!E&&Wl(c),x=f||v||E||P,R=x?Gg(c.length,mO):[],B=R.length;for(var j in c)(u||Fe.call(c,j))&&(!x||!("length"==j||E&&("offset"==j||"parent"==j)||P&&("buffer"==j||"byteLength"==j||"byteOffset"==j)||as(j,B)))&&R.push(j);return R}function am(c){var u=c.length;return u?c[Nd(0,u-1)]:M}function ho(c,u){return Eu(gi(c),rr(u,0,c.length))}function Td(c){return Eu(gi(c))}function fo(c,u,f){(f!==M&&!me(c[u],f)||f===M&&!(u in c))&&wn(c,u,f)}function ru(c,u,f){var v=c[u];(!Fe.call(c,u)||!me(v,f)||f===M&&!(u in c))&&wn(c,u,f)}function kl(c,u){for(var f=c.length;f--;)if(me(c[f][0],u))return f;return-1}function om(c,u,f,v){return ar(c,function(E,P,x){u(v,E,f(E),x)}),v}function lm(c,u){return c&&li(u,Si(u),c)}function wn(c,u,f){"__proto__"==u&&Jc?Jc(c,u,{configurable:!0,enumerable:!0,value:f,writable:!0}):c[u]=f}function Cl(c,u){for(var f=-1,v=u.length,E=V(v),P=null==c;++f<v;)E[f]=P?M:Ql(c,u[f]);return E}function rr(c,u,f){return c==c&&(f!==M&&(c=c<=f?c:f),u!==M&&(c=c>=u?c:u)),c}function Ui(c,u,f,v,E,P){var x,R=1&u,B=2&u,j=4&u;if(f&&(x=E?f(c,v,E,P):f(c)),x!==M)return x;if(!qt(c))return c;var W=_e(c);if(W){if(x=function(c){var u=c.length,f=new c.constructor(u);return u&&"string"==typeof c[0]&&Fe.call(c,"index")&&(f.index=c.index,f.input=c.input),f}(c),!R)return gi(c,x)}else{var Q=bi(c),ie=Q==Rc||Q==Dg;if(Ts(c))return Sm(c,R);if(Q==Ln||Q==Ja||ie&&!E){if(x=B||ie?{}:bu(c),!R)return B?function(c,u){return li(c,Rm(c),u)}(c,function(c,u){return c&&li(u,Wi(u),c)}(x,c)):function(c,u){return li(c,Nl(c),u)}(c,lm(x,c))}else{if(!kt[Q])return E?c:{};x=function(c,u,f){var v=c.constructor;switch(u){case eo:return H(c);case Za:case ll:return new v(+c);case Ar:return function(c,u){var f=u?H(c.buffer):c.buffer;return new c.constructor(f,c.byteOffset,c.byteLength)}(c,f);case $c:case Qh:case Yh:case Jh:case Zh:case Xh:case xg:case ed:case td:return bo(c,f);case Xn:return new v;case cl:case ra:return new v(c);case Nc:return function(c){var u=new c.constructor(c.source,vS.exec(c));return u.lastIndex=c.lastIndex,u}(c);case Yi:return new v;case Lc:return function(c){return uo?Tt(uo.call(c)):{}}(c)}}(c,Q,R)}}P||(P=new en);var fe=P.get(c);if(fe)return fe;P.set(c,x),lE(c)?c.forEach(function(Pe){x.add(Ui(Pe,u,f,Pe,c,P))}):sE(c)&&c.forEach(function(Pe,We){x.set(We,Ui(Pe,u,f,We,c,P))});var je=W?M:(j?B?zd:Wd:B?Wi:Si)(c);return Fi(je||c,function(Pe,We){je&&(Pe=c[We=Pe]),ru(x,We,Ui(Pe,u,f,We,c,P))}),x}function cm(c,u,f){var v=f.length;if(null==c)return!v;for(c=Tt(c);v--;){var E=f[v],x=c[E];if(x===M&&!(E in c)||!(0,u[E])(x))return!1}return!0}function xd(c,u,f){if("function"!=typeof c)throw new yn($i);return Eo(function(){c.apply(M,f)},u)}function po(c,u,f,v){var E=-1,P=fi,x=!0,R=c.length,B=[],j=u.length;if(!R)return B;f&&(u=mt(u,Vn(f))),v?(P=oa,x=!1):u.length>=200&&(P=jc,x=!1,u=new ga(u));e:for(;++E<R;){var W=c[E],Q=null==f?W:f(W);if(W=v||0!==W?W:0,x&&Q==Q){for(var ie=j;ie--;)if(u[ie]===Q)continue e;B.push(W)}else P(u,Q,v)||B.push(W)}return B}C.templateSettings={escape:pS,evaluate:wt,interpolate:ge,variable:"",imports:{_:C}},(C.prototype=tu.prototype).constructor=C,(Fn.prototype=sr(tu.prototype)).constructor=Fn,(ke.prototype=sr(tu.prototype)).constructor=ke,pa.prototype.clear=function(){this.__data__=Sl?Sl(null):{},this.size=0},pa.prototype.delete=function(c){var u=this.has(c)&&delete this.__data__[c];return this.size-=u?1:0,u},pa.prototype.get=function(c){var u=this.__data__;if(Sl){var f=u[c];return f===sl?M:f}return Fe.call(u,c)?u[c]:M},pa.prototype.has=function(c){var u=this.__data__;return Sl?u[c]!==M:Fe.call(u,c)},pa.prototype.set=function(c,u){var f=this.__data__;return this.size+=this.has(c)?0:1,f[c]=Sl&&u===M?sl:u,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(c){var u=this.__data__,f=kl(u,c);return!(f<0||(f==u.length-1?u.pop():Yc.call(u,f,1),--this.size,0))},Hn.prototype.get=function(c){var u=this.__data__,f=kl(u,c);return f<0?M:u[f][1]},Hn.prototype.has=function(c){return kl(this.__data__,c)>-1},Hn.prototype.set=function(c,u){var f=this.__data__,v=kl(f,c);return v<0?(++this.size,f.push([c,u])):f[v][1]=u,this},Sn.prototype.clear=function(){this.size=0,this.__data__={hash:new pa,map:new(bn||Hn),string:new pa}},Sn.prototype.delete=function(c){var u=Ol(this,c).delete(c);return this.size-=u?1:0,u},Sn.prototype.get=function(c){return Ol(this,c).get(c)},Sn.prototype.has=function(c){return Ol(this,c).has(c)},Sn.prototype.set=function(c,u){var f=Ol(this,c),v=f.size;return f.set(c,u),this.size+=f.size==v?0:1,this},ga.prototype.add=ga.prototype.push=function(c){return this.__data__.set(c,sl),this},ga.prototype.has=function(c){return this.__data__.has(c)},en.prototype.clear=function(){this.__data__=new Hn,this.size=0},en.prototype.delete=function(c){var u=this.__data__,f=u.delete(c);return this.size=u.size,f},en.prototype.get=function(c){return this.__data__.get(c)},en.prototype.has=function(c){return this.__data__.has(c)},en.prototype.set=function(c,u){var f=this.__data__;if(f instanceof Hn){var v=f.__data__;if(!bn||v.length<199)return v.push([c,u]),this.size=++f.size,this;f=this.__data__=new Sn(v)}return f.set(c,u),this.size=f.size,this};var ar=gu(Gi),Md=gu(tn,!0);function KS(c,u){var f=!0;return ar(c,function(v,E,P){return f=!!u(v,E,P)}),f}function ou(c,u,f){for(var v=-1,E=c.length;++v<E;){var P=c[v],x=u(P);if(null!=x&&(R===M?x==x&&!zn(x):f(x,R)))var R=x,B=P}return B}function go(c,u){var f=[];return ar(c,function(v,E,P){u(v,E,P)&&f.push(v)}),f}function _i(c,u,f,v,E){var P=-1,x=c.length;for(f||(f=wo),E||(E=[]);++P<x;){var R=c[P];u>0&&f(R)?u>1?_i(R,u-1,f,v,E):pi(E,R):v||(E[E.length]=R)}return E}var cu=xl(),Rd=xl(!0);function Gi(c,u){return c&&cu(c,u,Si)}function tn(c,u){return c&&Rd(c,u,Si)}function mo(c,u){return vn(u,function(f){return Wn(c[f])})}function or(c,u){for(var f=0,v=(u=Ca(u,c)).length;null!=c&&f<v;)c=c[os(u[f++])];return f&&f==v?c:M}function va(c,u,f){var v=u(c);return _e(c)?v:pi(v,f(c))}function ti(c){return null==c?c===M?"[object Undefined]":"[object Null]":ha&&ha in Tt(c)?function(c){var u=Fe.call(c,ha),f=c[ha];try{c[ha]=M;var v=!0}catch(P){}var E=nr.call(c);return v&&(u?c[ha]=f:delete c[ha]),E}(c):function(c){return nr.call(c)}(c)}function Or(c,u){return c>u}function Al(c,u){return null!=c&&Fe.call(c,u)}function Id(c,u){return null!=c&&u in Tt(c)}function um(c,u,f){for(var v=f?oa:fi,E=c[0].length,P=c.length,x=P,R=V(P),B=1/0,j=[];x--;){var W=c[x];x&&u&&(W=mt(W,Vn(u))),B=oi(W.length,B),R[x]=!f&&(u||E>=120&&W.length>=120)?new ga(x&&W):M}W=c[0];var Q=-1,ie=R[0];e:for(;++Q<E&&j.length<B;){var fe=W[Q],Ce=u?u(fe):fe;if(fe=f||0!==fe?fe:0,!(ie?jc(ie,Ce):v(j,Ce,f))){for(x=P;--x;){var je=R[x];if(!(je?jc(je,Ce):v(c[x],Ce,f)))continue e}ie&&ie.push(Ce),j.push(fe)}}return j}function Pl(c,u,f){var v=null==(c=Fm(c,u=Ca(u,c)))?c:c[os(Cn(u))];return null==v?M:di(v,c,f)}function QS(c){return Ut(c)&&ti(c)==Ja}function uu(c,u,f,v,E){return c===u||(null==c||null==u||!Ut(c)&&!Ut(u)?c!=c&&u!=u:function(c,u,f,v,E,P){var x=_e(c),R=_e(u),B=x?ol:bi(c),j=R?ol:bi(u),W=(B=B==Ja?Ln:B)==Ln,Q=(j=j==Ja?Ln:j)==Ln,ie=B==j;if(ie&&Ts(c)){if(!Ts(u))return!1;x=!0,W=!1}if(ie&&!W)return P||(P=new en),x||Wl(c)?jd(c,u,f,v,E,P):function(c,u,f,v,E,P,x){switch(f){case Ar:if(c.byteLength!=u.byteLength||c.byteOffset!=u.byteOffset)return!1;c=c.buffer,u=u.buffer;case eo:return!(c.byteLength!=u.byteLength||!P(new yl(c),new yl(u)));case Za:case ll:case cl:return me(+c,+u);case Xa:return c.name==u.name&&c.message==u.message;case Nc:case ra:return c==u+"";case Xn:var R=zg;case Yi:if(R||(R=md),c.size!=u.size&&!(1&v))return!1;var j=x.get(c);if(j)return j==u;v|=2,x.set(c,u);var W=jd(R(c),R(u),v,E,P,x);return x.delete(c),W;case Lc:if(uo)return uo.call(c)==uo.call(u)}return!1}(c,u,B,f,v,E,P);if(!(1&f)){var fe=W&&Fe.call(c,"__wrapped__"),Ce=Q&&Fe.call(u,"__wrapped__");if(fe||Ce){var je=fe?c.value():c,Pe=Ce?u.value():u;return P||(P=new en),E(je,Pe,f,v,P)}}return!!ie&&(P||(P=new en),function(c,u,f,v,E,P){var x=1&f,R=Wd(c),B=R.length;if(B!=Wd(u).length&&!x)return!1;for(var Q=B;Q--;){var ie=R[Q];if(!(x?ie in u:Fe.call(u,ie)))return!1}var fe=P.get(c),Ce=P.get(u);if(fe&&Ce)return fe==u&&Ce==c;var je=!0;P.set(c,u),P.set(u,c);for(var Pe=x;++Q<B;){var We=c[ie=R[Q]],it=u[ie];if(v)var an=x?v(it,We,ie,u,c,P):v(We,it,ie,c,u,P);if(!(an===M?We===it||E(We,it,f,v,P):an)){je=!1;break}Pe||(Pe="constructor"==ie)}if(je&&!Pe){var Ri=c.constructor,Kn=u.constructor;Ri!=Kn&&"constructor"in c&&"constructor"in u&&!("function"==typeof Ri&&Ri instanceof Ri&&"function"==typeof Kn&&Kn instanceof Kn)&&(je=!1)}return P.delete(c),P.delete(u),je}(c,u,f,v,E,P))}(c,u,f,v,uu,E))}function dm(c,u,f,v){var E=f.length,P=E,x=!v;if(null==c)return!P;for(c=Tt(c);E--;){var R=f[E];if(x&&R[2]?R[1]!==c[R[0]]:!(R[0]in c))return!1}for(;++E<P;){var B=(R=f[E])[0],j=c[B],W=R[1];if(x&&R[2]){if(j===M&&!(B in c))return!1}else{var Q=new en;if(v)var ie=v(j,W,B,c,u,Q);if(!(ie===M?uu(W,j,3,v,Q):ie))return!1}}return!0}function JS(c){return!(!qt(c)||function(c){return!!zc&&zc in c}(c))&&(Wn(c)?_d:eO).test(Lr(c))}function ZS(c){return"function"==typeof c?c:null==c?zi:"object"==typeof c?_e(c)?hu(c[0],c[1]):ii(c):Ba(c)}function fm(c){if(!Bl(c))return vO(c);var u=[];for(var f in Tt(c))Fe.call(c,f)&&"constructor"!=f&&u.push(f);return u}function _a(c,u){return c<u}function XS(c,u){var f=-1,v=sn(c)?V(c.length):[];return ar(c,function(E,P,x){v[++f]=u(E,P,x)}),v}function ii(c){var u=Kd(c);return 1==u.length&&u[0][2]?Lm(u[0][0],u[0][1]):function(f){return f===c||dm(f,c,u)}}function hu(c,u){return Zd(c)&&Nm(u)?Lm(os(c),u):function(f){var v=Ql(f,c);return v===M&&v===u?Nu(f,c):uu(u,v,3)}}function ba(c,u,f,v,E){c!==u&&cu(u,function(P,x){if(E||(E=new en),qt(P))!function(c,u,f,v,E,P,x){var R=Su(c,f),B=Su(u,f),j=x.get(B);if(j)fo(c,f,j);else{var W=P?P(R,B,f+"",c,u,x):M,Q=W===M;if(Q){var ie=_e(B),fe=!ie&&Ts(B),Ce=!ie&&!fe&&Wl(B);W=B,ie||fe||Ce?_e(R)?W=R:Ht(R)?W=gi(R):fe?(Q=!1,W=Sm(B,!0)):Ce?(Q=!1,W=bo(B,!0)):W=[]:Ou(B)||Ds(B)?(W=R,Ds(R)?W=Av(R):(!qt(R)||Wn(R))&&(W=bu(B))):Q=!1}Q&&(x.set(B,W),E(W,B,v,P,x),x.delete(B)),fo(c,f,W)}}(c,u,x,f,ba,v,E);else{var R=v?v(Su(c,x),P,x+"",c,u,E):M;R===M&&(R=P),fo(c,x,R)}},Wi)}function pm(c,u){var f=c.length;if(f)return as(u+=u<0?f:0,f)?c[u]:M}function En(c,u,f){u=u.length?mt(u,function(P){return _e(P)?function(x){return or(x,1===P.length?P[0]:P)}:P}):[zi];var v=-1;return u=mt(u,Vn(we())),function(L,q){var V=L.length;for(L.sort(function(P,x){return function(c,u,f){for(var v=-1,E=c.criteria,P=u.criteria,x=E.length,R=f.length;++v<x;){var B=Em(E[v],P[v]);if(B)return v>=R?B:B*("desc"==f[v]?-1:1)}return c.index-u.index}(P,x,f)});V--;)L[V]=L[V].value;return L}(XS(c,function(P,x,R){return{criteria:mt(u,function(j){return j(P)}),index:++v,value:P}}))}function Dl(c,u,f){for(var v=-1,E=u.length,P={};++v<E;){var x=u[v],R=or(c,x);f(R,x)&&wa(P,Ca(x,c),R)}return P}function ks(c,u,f,v){var E=v?xS:Qt,P=-1,x=u.length,R=c;for(c===u&&(u=gi(u)),f&&(R=mt(c,Vn(f)));++P<x;)for(var B=0,j=u[P],W=f?f(j):j;(B=E(R,W,B,v))>-1;)R!==c&&Yc.call(R,B,1),Yc.call(c,B,1);return c}function Od(c,u){for(var f=c?u.length:0,v=f-1;f--;){var E=u[f];if(f==v||E!==P){var P=E;as(E)?Yc.call(c,E,1):_m(c,E)}}return c}function Nd(c,u){return c+_l(ns()*(u-c+1))}function gm(c,u){var f="";if(!c||u<1||u>Cr)return f;do{u%2&&(f+=c),(u=_l(u/2))&&(c+=c)}while(u);return f}function Ye(c,u){return wu(Vm(c,u,zi),c+"")}function mm(c){return am(To(c))}function kn(c,u){var f=To(c);return Eu(f,rr(u,0,f.length))}function wa(c,u,f,v){if(!qt(c))return c;for(var E=-1,P=(u=Ca(u,c)).length,x=P-1,R=c;null!=R&&++E<P;){var B=os(u[E]),j=f;if("__proto__"===B||"constructor"===B||"prototype"===B)return c;if(E!=x){var W=R[B];(j=v?v(W,B,R):M)===M&&(j=qt(W)?W:as(u[E+1])?[]:{})}ru(R,B,j),R=R[B]}return c}var Ea=co?function(c,u){return co.set(c,u),c}:zi,PO=Jc?function(c,u){return Jc(c,"toString",{configurable:!0,enumerable:!1,value:Hf(u),writable:!0})}:zi;function vm(c){return Eu(To(c))}function qn(c,u,f){var v=-1,E=c.length;u<0&&(u=-u>E?0:E+u),(f=f>E?E:f)<0&&(f+=E),E=u>f?0:f-u>>>0,u>>>=0;for(var P=V(E);++v<E;)P[v]=c[v+u];return P}function tw(c,u){var f;return ar(c,function(v,E,P){return!(f=u(v,E,P))}),!!f}function du(c,u,f){var v=0,E=null==c?v:c.length;if("number"==typeof u&&u==u&&E<=2147483647){for(;v<E;){var P=v+E>>>1,x=c[P];null!==x&&!zn(x)&&(f?x<=u:x<u)?v=P+1:E=P}return E}return Ld(c,u,zi,f)}function Ld(c,u,f,v){var E=0,P=null==c?0:c.length;if(0===P)return 0;for(var x=(u=f(u))!=u,R=null===u,B=zn(u),j=u===M;E<P;){var W=_l((E+P)/2),Q=f(c[W]),ie=Q!==M,fe=null===Q,Ce=Q==Q,je=zn(Q);if(x)var Pe=v||Ce;else Pe=j?Ce&&(v||ie):R?Ce&&ie&&(v||!fe):B?Ce&&ie&&!fe&&(v||!je):!fe&&!je&&(v?Q<=u:Q<u);Pe?E=W+1:P=W}return oi(P,4294967294)}function ym(c,u){for(var f=-1,v=c.length,E=0,P=[];++f<v;){var x=c[f],R=u?u(x):x;if(!f||!me(R,B)){var B=R;P[E++]=0===x?0:x}}return P}function vo(c){return"number"==typeof c?c:zn(c)?NaN:+c}function ji(c){if("string"==typeof c)return c;if(_e(c))return mt(c,ji)+"";if(zn(c))return Ed?Ed.call(c):"";var u=c+"";return"0"==u&&1/c==-sa?"-0":u}function ss(c,u,f){var v=-1,E=fi,P=c.length,x=!0,R=[],B=R;if(f)x=!1,E=oa;else if(P>=200){var j=u?null:aw(c);if(j)return md(j);x=!1,E=jc,B=new ga}else B=u?[]:R;e:for(;++v<P;){var W=c[v],Q=u?u(W):W;if(W=f||0!==W?W:0,x&&Q==Q){for(var ie=B.length;ie--;)if(B[ie]===Q)continue e;u&&B.push(Q),R.push(W)}else E(B,Q,f)||(B!==R&&B.push(Q),R.push(W))}return R}function _m(c,u){return null==(c=Fm(c,u=Ca(u,c)))||delete c[os(Cn(u))]}function yo(c,u,f,v){return wa(c,u,f(or(c,u)),v)}function _o(c,u,f,v){for(var E=c.length,P=v?E:-1;(v?P--:++P<E)&&u(c[P],P,c););return f?qn(c,v?0:P,v?P+1:E):qn(c,v?P+1:0,v?E:P)}function ka(c,u){var f=c;return f instanceof ke&&(f=f.value()),bt(u,function(v,E){return E.func.apply(E.thisArg,pi([v],E.args))},f)}function Bd(c,u,f){var v=c.length;if(v<2)return v?ss(c[0]):[];for(var E=-1,P=V(v);++E<v;)for(var x=c[E],R=-1;++R<v;)R!=E&&(P[E]=po(P[E]||x,c[R],u,f));return ss(_i(P,1),u,f)}function bm(c,u,f){for(var v=-1,E=c.length,P=u.length,x={};++v<E;)f(x,c[v],v<P?u[v]:M);return x}function $d(c){return Ht(c)?c:[]}function Tl(c){return"function"==typeof c?c:zi}function Ca(c,u){return _e(c)?c:Zd(c,u)?[c]:sf(dt(c))}var Vd=Ye;function Un(c,u,f){var v=c.length;return f=f===M?v:f,!u&&f>=v?c:qn(c,u,f)}var Aa=K||function(c){return _t.clearTimeout(c)};function Sm(c,u){if(u)return c.slice();var f=c.length,v=Qc?Qc(f):new c.constructor(f);return c.copy(v),v}function H(c){var u=new c.constructor(c.byteLength);return new yl(u).set(new yl(c)),u}function bo(c,u){var f=u?H(c.buffer):c.buffer;return new c.constructor(f,c.byteOffset,c.length)}function Em(c,u){if(c!==u){var f=c!==M,v=null===c,E=c==c,P=zn(c),x=u!==M,R=null===u,B=u==u,j=zn(u);if(!R&&!j&&!P&&c>u||P&&x&&B&&!R&&!j||v&&x&&B||!f&&B||!E)return 1;if(!v&&!P&&!j&&c<u||j&&f&&E&&!v&&!P||R&&f&&E||!x&&E||!B)return-1}return 0}function Fd(c,u,f,v){for(var E=-1,P=c.length,x=f.length,R=-1,B=u.length,j=ai(P-x,0),W=V(B+j),Q=!v;++R<B;)W[R]=u[R];for(;++E<x;)(Q||E<P)&&(W[f[E]]=c[E]);for(;j--;)W[R++]=c[E++];return W}function nw(c,u,f,v){for(var E=-1,P=c.length,x=-1,R=f.length,B=-1,j=u.length,W=ai(P-R,0),Q=V(W+j),ie=!v;++E<W;)Q[E]=c[E];for(var fe=E;++B<j;)Q[fe+B]=u[B];for(;++x<R;)(ie||E<P)&&(Q[fe+f[x]]=c[E++]);return Q}function gi(c,u){var f=-1,v=c.length;for(u||(u=V(v));++f<v;)u[f]=c[f];return u}function li(c,u,f,v){var E=!f;f||(f={});for(var P=-1,x=u.length;++P<x;){var R=u[P],B=v?v(f[R],c[R],R,f,c):M;B===M&&(B=c[R]),E?wn(f,R,B):ru(f,R,B)}return f}function pu(c,u){return function(f,v){var E=_e(f)?Ve:om,P=u?u():{};return E(f,c,we(v,2),P)}}function Ta(c){return Ye(function(u,f){var v=-1,E=f.length,P=E>1?f[E-1]:M,x=E>2?f[2]:M;for(P=c.length>3&&"function"==typeof P?(E--,P):M,x&&Mi(f[0],f[1],x)&&(P=E<3?M:P,E=1),u=Tt(u);++v<E;){var R=f[v];R&&c(u,R,v,P)}return u})}function gu(c,u){return function(f,v){if(null==f)return f;if(!sn(f))return c(f,v);for(var E=f.length,P=u?E:-1,x=Tt(f);(u?P--:++P<E)&&!1!==v(x[P],P,x););return f}}function xl(c){return function(u,f,v){for(var E=-1,P=Tt(u),x=v(u),R=x.length;R--;){var B=x[c?R:++E];if(!1===f(P[B],B,P))break}return u}}function Am(c){return function(u){var f=vl(u=dt(u))?Dt(u):M,v=f?f[0]:u.charAt(0),E=f?Un(f,1).join(""):u.slice(1);return v[c]()+E}}function So(c){return function(u){return bt(Vf(Rf(u).replace(Fg,"")),c,"")}}function Cs(c){return function(){var u=arguments;switch(u.length){case 0:return new c;case 1:return new c(u[0]);case 2:return new c(u[0],u[1]);case 3:return new c(u[0],u[1],u[2]);case 4:return new c(u[0],u[1],u[2],u[3]);case 5:return new c(u[0],u[1],u[2],u[3],u[4]);case 6:return new c(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new c(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var f=sr(c.prototype),v=c.apply(f,u);return qt(v)?v:f}}function Pm(c){return function(u,f,v){var E=Tt(u);if(!sn(u)){var P=we(f,3);u=Si(u),f=function(R){return P(E[R],R,E)}}var x=c(u,f,v);return x>-1?E[P?u[x]:x]:M}}function sw(c){return rs(function(u){var f=u.length,v=f,E=Fn.prototype.thru;for(c&&u.reverse();v--;){var P=u[v];if("function"!=typeof P)throw new yn($i);if(E&&!x&&"wrapper"==_u(P))var x=new Fn([],!0)}for(v=x?v:f;++v<f;){var R=_u(P=u[v]),B="wrapper"==R?yu(P):M;x=B&&ef(B[0])&&424==B[1]&&!B[4].length&&1==B[9]?x[_u(B[0])].apply(x,B[3]):1==P.length&&ef(P)?x[R]():x.thru(P)}return function(){var j=arguments,W=j[0];if(x&&1==j.length&&_e(W))return x.plant(W).value();for(var Q=0,ie=f?u[Q].apply(this,j):W;++Q<f;)ie=u[Q].call(this,ie);return ie}})}function Rl(c,u,f,v,E,P,x,R,B,j){var W=128&u,Q=1&u,ie=2&u,fe=24&u,Ce=512&u,je=ie?M:Cs(c);return function Pe(){for(var We=arguments.length,it=V(We),an=We;an--;)it[an]=arguments[an];if(fe)var Ri=xa(Pe),Kn=oO(it,Ri);if(v&&(it=Fd(it,v,E,fe)),P&&(it=nw(it,P,x,fe)),We-=Kn,fe&&We<j){var ft=Ss(it,Ri);return nn(c,u,Rl,Pe.placeholder,f,it,ft,R,B,j-We)}var Rs=Q?f:this,Fr=ie?Rs[c]:c;return We=it.length,R?it=Hm(it,R):Ce&&We>1&&it.reverse(),W&&B<We&&(it.length=B),this&&this!==_t&&this instanceof Pe&&(Fr=je||Cs(Fr)),Fr.apply(Rs,it)}}function Dm(c,u){return function(f,v){return function(c,u,f,v){return Gi(c,function(E,P,x){u(v,f(E),P,x)}),v}(f,c,u(v),{})}}function Hd(c,u){return function(f,v){var E;if(f===M&&v===M)return u;if(f!==M&&(E=f),v!==M){if(E===M)return v;"string"==typeof f||"string"==typeof v?(f=ji(f),v=ji(v)):(f=vo(f),v=vo(v)),E=c(f,v)}return E}}function qd(c){return rs(function(u){return u=mt(u,Vn(we())),Ye(function(f){var v=this;return c(u,function(E){return di(E,v,f)})})})}function mu(c,u){var f=(u=u===M?" ":ji(u)).length;if(f<2)return f?gm(u,c):u;var v=gm(u,jt(c/ca(u)));return vl(u)?Un(Dt(v),0,c).join(""):v.slice(0,c)}function Tm(c){return function(u,f,v){return v&&"number"!=typeof v&&Mi(u,f,v)&&(f=v=M),u=xs(u),f===M?(f=u,u=0):f=xs(f),function(c,u,f,v){for(var E=-1,P=ai(jt((u-c)/(f||1)),0),x=V(P);P--;)x[v?P:++E]=c,c+=f;return x}(u,f,v=v===M?u<f?1:-1:xs(v),c)}}function Ud(c){return function(u,f){return"string"==typeof u&&"string"==typeof f||(u=rn(u),f=rn(f)),c(u,f)}}function nn(c,u,f,v,E,P,x,R,B,j){var W=8&u;u|=W?32:64,4&(u&=~(W?64:32))||(u&=-4);var je=[c,u,E,W?P:M,W?x:M,W?M:P,W?M:x,R,B,j],Pe=f.apply(M,je);return ef(c)&&Nr(Pe,je),Pe.placeholder=v,qm(Pe,c,u)}function Gd(c){var u=Yt[c];return function(f,v){if(f=rn(f),(v=null==v?0:oi(Be(v),292))&&Zc(f)){var E=(dt(f)+"e").split("e");return+((E=(dt(u(E[0]+"e"+(+E[1]+v)))+"e").split("e"))[0]+"e"+(+E[1]-v))}return u(f)}}var aw=fa&&1/md(new fa([,-0]))[1]==sa?function(c){return new fa(c)}:Gf;function xm(c){return function(u){var f=bi(u);return f==Xn?zg(u):f==Yi?function(L){var q=-1,V=Array(L.size);return L.forEach(function(le){V[++q]=[le,le]}),V}(u):function(L,q){return mt(q,function(V){return[V,L[V]]})}(u,c(u))}}function Gn(c,u,f,v,E,P,x,R){var B=2&u;if(!B&&"function"!=typeof c)throw new yn($i);var j=v?v.length:0;if(j||(u&=-97,v=E=M),x=x===M?x:ai(Be(x),0),R=R===M?R:Be(R),j-=E?E.length:0,64&u){var W=v,Q=E;v=E=M}var ie=B?M:yu(c),fe=[c,u,f,v,E,W,Q,P,x,R];if(ie&&function(c,u){var f=c[1],v=u[1],E=f|v;if(!(E<131||(128==v&&8==f||128==v&&256==f&&c[7].length<=u[8]||384==v&&u[7].length<=u[8]&&8==f)))return c;1&v&&(c[2]=u[2],E|=1&f?0:4);var R=u[3];if(R){var B=c[3];c[3]=B?Fd(B,R,u[4]):R,c[4]=B?Ss(c[3],Xr):u[4]}(R=u[5])&&(c[5]=(B=c[5])?nw(B,R,u[6]):R,c[6]=B?Ss(c[5],Xr):u[6]),(R=u[7])&&(c[7]=R),128&v&&(c[8]=null==c[8]?u[8]:oi(c[8],u[8])),null==c[9]&&(c[9]=u[9]),c[0]=u[0],c[1]=E}(fe,ie),c=fe[0],u=fe[1],f=fe[2],v=fe[3],E=fe[4],!(R=fe[9]=fe[9]===M?B?0:c.length:ai(fe[9]-j,0))&&24&u&&(u&=-25),u&&1!=u)Ce=8==u||16==u?function(c,u,f){var v=Cs(c);return function E(){for(var P=arguments.length,x=V(P),R=P,B=xa(E);R--;)x[R]=arguments[R];var j=P<3&&x[0]!==B&&x[P-1]!==B?[]:Ss(x,B);return(P-=j.length)<f?nn(c,u,Rl,E.placeholder,M,x,j,M,M,f-P):di(this&&this!==_t&&this instanceof E?v:c,this,x)}}(c,u,R):32!=u&&33!=u||E.length?Rl.apply(M,fe):function(c,u,f,v){var E=1&u,P=Cs(c);return function x(){for(var R=-1,B=arguments.length,j=-1,W=v.length,Q=V(W+B),ie=this&&this!==_t&&this instanceof x?P:c;++j<W;)Q[j]=v[j];for(;B--;)Q[j++]=arguments[++R];return di(ie,E?f:this,Q)}}(c,u,f,v);else var Ce=function(c,u,f){var v=1&u,E=Cs(c);return function P(){return(this&&this!==_t&&this instanceof P?E:c).apply(v?f:this,arguments)}}(c,u,f);return qm((ie?Ea:Nr)(Ce,fe),c,u)}function Ti(c,u,f,v){return c===M||me(c,oo[f])&&!Fe.call(v,f)?u:c}function vu(c,u,f,v,E,P){return qt(c)&&qt(u)&&(P.set(u,c),ba(c,u,M,vu,P),P.delete(u)),c}function Mm(c){return Ou(c)?M:c}function jd(c,u,f,v,E,P){var x=1&f,R=c.length,B=u.length;if(R!=B&&!(x&&B>R))return!1;var j=P.get(c),W=P.get(u);if(j&&W)return j==u&&W==c;var Q=-1,ie=!0,fe=2&f?new ga:M;for(P.set(c,u),P.set(u,c);++Q<R;){var Ce=c[Q],je=u[Q];if(v)var Pe=x?v(je,Ce,Q,u,c,P):v(Ce,je,Q,c,u,P);if(Pe!==M){if(Pe)continue;ie=!1;break}if(fe){if(!dd(u,function(We,it){if(!jc(fe,it)&&(Ce===We||E(Ce,We,f,v,P)))return fe.push(it)})){ie=!1;break}}else if(Ce!==je&&!E(Ce,je,f,v,P)){ie=!1;break}}return P.delete(c),P.delete(u),ie}function rs(c){return wu(Vm(c,M,Fl),c+"")}function Wd(c){return va(c,Si,Nl)}function zd(c){return va(c,Wi,Rm)}var yu=co?function(c){return co.get(c)}:Gf;function _u(c){for(var u=c.name+"",f=Mr[u],v=Fe.call(Mr,u)?f.length:0;v--;){var E=f[v],P=E.func;if(null==P||P==c)return E.name}return u}function xa(c){return(Fe.call(C,"placeholder")?C:c).placeholder}function we(){var c=C.iteratee||La;return c=c===La?ZS:c,arguments.length?c(arguments[0],arguments[1]):c}function Ol(c,u){var f=c.__data__;return function(c){var u=typeof c;return"string"==u||"number"==u||"symbol"==u||"boolean"==u?"__proto__"!==c:null===c}(u)?f["string"==typeof u?"string":"hash"]:f.map}function Kd(c){for(var u=Si(c),f=u.length;f--;){var v=u[f],E=c[v];u[f]=[v,E,Nm(E)]}return u}function Ma(c,u){var f=function(L,q){return null==L?M:L[q]}(c,u);return JS(f)?f:M}var Nl=da?function(c){return null==c?[]:(c=Tt(c),vn(da(c),function(u){return Jg.call(c,u)}))}:Vr,Rm=da?function(c){for(var u=[];c;)pi(u,Nl(c)),c=Ae(c);return u}:Vr,bi=ti;function Yd(c,u,f){for(var v=-1,E=(u=Ca(u,c)).length,P=!1;++v<E;){var x=os(u[v]);if(!(P=null!=c&&f(c,x)))break;c=c[x]}return P||++v!=E?P:!!(E=null==c?0:c.length)&&Ef(E)&&as(x,E)&&(_e(c)||Ds(c))}function bu(c){return"function"!=typeof c.constructor||Bl(c)?{}:sr(Ae(c))}function wo(c){return _e(c)||Ds(c)||!!(Zg&&c&&c[Zg])}function as(c,u){var f=typeof c;return!!(u=null==u?Cr:u)&&("number"==f||"symbol"!=f&&iO.test(c))&&c>-1&&c%1==0&&c<u}function Mi(c,u,f){if(!qt(f))return!1;var v=typeof u;return!!("number"==v?sn(f)&&as(u,f.length):"string"==v&&u in f)&&me(f[u],c)}function Zd(c,u){if(_e(c))return!1;var f=typeof c;return!("number"!=f&&"symbol"!=f&&"boolean"!=f&&null!=c&&!zn(c))||QI.test(c)||!Mg.test(c)||null!=u&&c in Tt(u)}function ef(c){var u=_u(c),f=C[u];if("function"!=typeof f||!(u in ke.prototype))return!1;if(c===f)return!0;var v=yu(f);return!!v&&c===v[0]}(xr&&bi(new xr(new ArrayBuffer(1)))!=Ar||bn&&bi(new bn)!=Xn||Sd&&bi(Sd.resolve())!=cS||fa&&bi(new fa)!=Yi||bl&&bi(new bl)!=Bc)&&(bi=function(c){var u=ti(c),f=u==Ln?c.constructor:M,v=f?Lr(f):"";if(v)switch(v){case em:return Ar;case wd:return Xn;case VS:return cS;case tm:return Yi;case eu:return Bc}return u});var lw=yd?Wn:Wf;function Bl(c){var u=c&&c.constructor;return c===("function"==typeof u&&u.prototype||oo)}function Nm(c){return c==c&&!qt(c)}function Lm(c,u){return function(f){return null!=f&&f[c]===u&&(u!==M||c in Tt(f))}}function Vm(c,u,f){return u=ai(u===M?c.length-1:u,0),function(){for(var v=arguments,E=-1,P=ai(v.length-u,0),x=V(P);++E<P;)x[E]=v[u+E];E=-1;for(var R=V(u+1);++E<u;)R[E]=v[E];return R[u]=f(x),di(c,this,R)}}function Fm(c,u){return u.length<2?c:or(c,qn(u,0,-1))}function Hm(c,u){for(var f=c.length,v=oi(u.length,f),E=gi(c);v--;){var P=u[v];c[v]=as(P,f)?E[P]:M}return c}function Su(c,u){if(("constructor"!==u||"function"!=typeof c[u])&&"__proto__"!=u)return c[u]}var Nr=$l(Ea),Eo=It||function(c,u){return _t.setTimeout(c,u)},wu=$l(PO);function qm(c,u,f){var v=u+"";return wu(c,function(c,u){var f=u.length;if(!f)return c;var v=f-1;return u[v]=(f>1?"& ":"")+u[v],u=u.join(f>2?", ":" "),c.replace(gS,"{\n/* [wrapped with "+u+"] */\n")}(v,function(c,u){return Fi(oS,function(f){var v="_."+f[0];u&f[1]&&!fi(c,v)&&c.push(v)}),c.sort()}(function(c){var u=c.match(YI);return u?u[1].split(JI):[]}(v),f)))}function $l(c){var u=0,f=0;return function(){var v=Xc(),E=16-(v-f);if(f=v,E>0){if(++u>=800)return arguments[0]}else u=0;return c.apply(M,arguments)}}function Eu(c,u){var f=-1,v=c.length,E=v-1;for(u=u===M?v:u;++f<u;){var P=Nd(f,E),x=c[P];c[P]=c[f],c[f]=x}return c.length=u,c}var u,f,sf=(u=jl(function(c){var u=[];return 46===c.charCodeAt(0)&&u.push(""),c.replace(Pr,function(f,v,E,P){u.push(E?P.replace(ZI,"$1"):v||f)}),u},function(v){return 500===f.size&&f.clear(),v}),f=u.cache,u);function os(c){if("string"==typeof c||zn(c))return c;var u=c+"";return"0"==u&&1/c==-sa?"-0":u}function Lr(c){if(null!=c){try{return ua.call(c)}catch(u){}try{return c+""}catch(u){}}return""}function af(c){if(c instanceof ke)return c.clone();var u=new Fn(c.__wrapped__,c.__chain__);return u.__actions__=gi(c.__actions__),u.__index__=c.__index__,u.__values__=c.__values__,u}var of=Ye(function(c,u){return Ht(c)?po(c,_i(u,1,Ht,!0)):[]}),lf=Ye(function(c,u){var f=Cn(u);return Ht(f)&&(f=M),Ht(c)?po(c,_i(u,1,Ht,!0),we(f,2)):[]}),cf=Ye(function(c,u){var f=Cn(u);return Ht(f)&&(f=M),Ht(c)?po(c,_i(u,1,Ht,!0),M,f):[]});function uf(c,u,f){var v=null==c?0:c.length;if(!v)return-1;var E=null==f?0:Be(f);return E<0&&(E=ai(v+E,0)),bs(c,we(u,3),E)}function Au(c,u,f){var v=null==c?0:c.length;if(!v)return-1;var E=v-1;return f!==M&&(E=Be(f),E=f<0?ai(v+E,0):oi(E,v-1)),bs(c,we(u,3),E,!0)}function Fl(c){return null!=c&&c.length?_i(c,1):[]}function jm(c){return c&&c.length?c[0]:M}var Pu=Ye(function(c){var u=mt(c,$d);return u.length&&u[0]===c[0]?um(u):[]}),df=Ye(function(c){var u=Cn(c),f=mt(c,$d);return u===Cn(f)?u=M:f.pop(),f.length&&f[0]===c[0]?um(f,we(u,2)):[]}),Wm=Ye(function(c){var u=Cn(c),f=mt(c,$d);return(u="function"==typeof u?u:M)&&f.pop(),f.length&&f[0]===c[0]?um(f,M,u):[]});function Cn(c){var u=null==c?0:c.length;return u?c[u-1]:M}var gw=Ye(Km);function Km(c,u){return c&&c.length&&u&&u.length?ks(c,u):c}var An=rs(function(c,u){var f=null==c?0:c.length,v=Cl(c,u);return Od(c,mt(u,function(E){return as(E,f)?+E:E}).sort(Em)),v});function Du(c){return null==c?c:Xg.call(c)}var Ps=Ye(function(c){return ss(_i(c,1,Ht,!0))}),ql=Ye(function(c){var u=Cn(c);return Ht(u)&&(u=M),ss(_i(c,1,Ht,!0),we(u,2))}),Jm=Ye(function(c){var u=Cn(c);return u="function"==typeof u?u:M,ss(_i(c,1,Ht,!0),M,u)});function ev(c){if(!c||!c.length)return[];var u=0;return c=vn(c,function(f){if(Ht(f))return u=ai(f.length,u),!0}),Gg(u,function(f){return mt(c,gl(f))})}function Dw(c,u){if(!c||!c.length)return[];var f=ev(c);return null==u?f:mt(f,function(v){return di(u,M,v)})}var ff=Ye(function(c,u){return Ht(c)?po(c,u):[]}),pf=Ye(function(c){return Bd(vn(c,Ht))}),gf=Ye(function(c){var u=Cn(c);return Ht(u)&&(u=M),Bd(vn(c,Ht),we(u,2))}),RO=Ye(function(c){var u=Cn(c);return u="function"==typeof u?u:M,Bd(vn(c,Ht),M,u)}),IO=Ye(ev),xw=Ye(function(c){var u=c.length,f=u>1?c[u-1]:M;return f="function"==typeof f?(c.pop(),f):M,Dw(c,f)});function iv(c){var u=C(c);return u.__chain__=!0,u}function Ul(c,u){return u(c)}var Tu=rs(function(c){var u=c.length,f=u?c[0]:0,v=this.__wrapped__,E=function(P){return Cl(P,c)};return!(u>1||this.__actions__.length)&&v instanceof ke&&as(f)?((v=v.slice(f,+f+(u?1:0))).__actions__.push({func:Ul,args:[E],thisArg:M}),new Fn(v,this.__chain__).thru(function(P){return u&&!P.length&&P.push(M),P})):this.thru(E)}),rv=pu(function(c,u,f){Fe.call(c,f)?++c[f]:wn(c,f,1)}),Bw=Pm(uf),$w=Pm(Au);function ko(c,u){return(_e(c)?Fi:ar)(c,we(u,3))}function av(c,u){return(_e(c)?so:Md)(c,we(u,3))}var ov=pu(function(c,u,f){Fe.call(c,f)?c[f].push(u):wn(c,f,[u])}),lv=Ye(function(c,u,f){var v=-1,E="function"==typeof u,P=sn(c)?V(c.length):[];return ar(c,function(x){P[++v]=E?di(u,x,f):Pl(x,u,f)}),P}),Fw=pu(function(c,u,f){wn(c,f,u)});function yf(c,u){return(_e(c)?mt:XS)(c,we(u,3))}var xu=pu(function(c,u,f){c[f?0:1].push(u)},function(){return[[],[]]}),Ww=Ye(function(c,u){if(null==c)return[];var f=u.length;return f>1&&Mi(c,u[0],u[1])?u=[]:f>2&&Mi(u[0],u[1],u[2])&&(u=[u[0]]),En(c,_i(u,1),[])}),Gl=rt||function(){return _t.Date.now()};function _f(c,u,f){return u=f?M:u,Gn(c,128,M,M,M,M,u=c&&null==u?c.length:u)}function hv(c,u){var f;if("function"!=typeof u)throw new yn($i);return c=Be(c),function(){return--c>0&&(f=u.apply(this,arguments)),c<=1&&(u=M),f}}var bf=Ye(function(c,u,f){var v=1;if(f.length){var E=Ss(f,xa(bf));v|=32}return Gn(c,v,u,f,E)}),dv=Ye(function(c,u,f){var v=3;if(f.length){var E=Ss(f,xa(dv));v|=32}return Gn(u,v,c,f,E)});function zw(c,u,f){var v,E,P,x,R,B,j=0,W=!1,Q=!1,ie=!0;if("function"!=typeof c)throw new yn($i);function fe(ft){var Rs=v,Fr=E;return v=E=M,j=ft,x=c.apply(Fr,Rs)}function Ce(ft){return j=ft,R=Eo(We,u),W?fe(ft):x}function Pe(ft){var Rs=ft-B;return B===M||Rs>=u||Rs<0||Q&&ft-j>=P}function We(){var ft=Gl();if(Pe(ft))return it(ft);R=Eo(We,function(ft){var JE=u-(ft-B);return Q?oi(JE,P-(ft-j)):JE}(ft))}function it(ft){return R=M,ie&&v?fe(ft):(v=E=M,x)}function Kn(){var ft=Gl(),Rs=Pe(ft);if(v=arguments,E=this,B=ft,Rs){if(R===M)return Ce(B);if(Q)return Aa(R),R=Eo(We,u),fe(B)}return R===M&&(R=Eo(We,u)),x}return u=rn(u)||0,qt(f)&&(W=!!f.leading,P=(Q="maxWait"in f)?ai(rn(f.maxWait)||0,u):P,ie="trailing"in f?!!f.trailing:ie),Kn.cancel=function(){R!==M&&Aa(R),j=0,v=B=E=R=M},Kn.flush=function(){return R===M?x:it(Gl())},Kn}var BO=Ye(function(c,u){return xd(c,1,u)}),fv=Ye(function(c,u,f){return xd(c,rn(u)||0,f)});function jl(c,u){if("function"!=typeof c||null!=u&&"function"!=typeof u)throw new yn($i);var f=function(){var v=arguments,E=u?u.apply(this,v):v[0],P=f.cache;if(P.has(E))return P.get(E);var x=c.apply(this,v);return f.cache=P.set(E,x)||P,x};return f.cache=new(jl.Cache||Sn),f}function Sf(c){if("function"!=typeof c)throw new yn($i);return function(){var u=arguments;switch(u.length){case 0:return!c.call(this);case 1:return!c.call(this,u[0]);case 2:return!c.call(this,u[0],u[1]);case 3:return!c.call(this,u[0],u[1],u[2])}return!c.apply(this,u)}}jl.Cache=Sn;var Kw=Vd(function(c,u){var f=(u=1==u.length&&_e(u[0])?mt(u[0],Vn(we())):mt(_i(u,1),Vn(we()))).length;return Ye(function(v){for(var E=-1,P=oi(v.length,f);++E<P;)v[E]=u[E].call(this,v[E]);return di(c,this,v)})}),Mu=Ye(function(c,u){var f=Ss(u,xa(Mu));return Gn(c,32,M,u,f)}),gv=Ye(function(c,u){var f=Ss(u,xa(gv));return Gn(c,64,M,u,f)}),Qw=rs(function(c,u){return Gn(c,256,M,M,M,u)});function me(c,u){return c===u||c!=c&&u!=u}var F=Ud(Or),yv=Ud(function(c,u){return c>=u}),Ds=QS(function(){return arguments}())?QS:function(c){return Ut(c)&&Fe.call(c,"callee")&&!Jg.call(c,"callee")},_e=V.isArray,_v=Xi?Vn(Xi):function(c){return Ut(c)&&ti(c)==eo};function sn(c){return null!=c&&Ef(c.length)&&!Wn(c)}function Ht(c){return Ut(c)&&sn(c)}var Ts=ws||Wf,bv=Dr?Vn(Dr):function(c){return Ut(c)&&ti(c)==ll};function us(c){if(!Ut(c))return!1;var u=ti(c);return u==Xa||"[object DOMException]"==u||"string"==typeof c.message&&"string"==typeof c.name&&!Ou(c)}function Wn(c){if(!qt(c))return!1;var u=ti(c);return u==Rc||u==Dg||"[object AsyncFunction]"==u||"[object Proxy]"==u}function Iu(c){return"number"==typeof c&&c==Be(c)}function Ef(c){return"number"==typeof c&&c>-1&&c%1==0&&c<=Cr}function qt(c){var u=typeof c;return null!=c&&("object"==u||"function"==u)}function Ut(c){return null!=c&&"object"==typeof c}var sE=ri?Vn(ri):function(c){return Ut(c)&&bi(c)==Xn};function oE(c){return"number"==typeof c||Ut(c)&&ti(c)==cl}function Ou(c){if(!Ut(c)||ti(c)!=Ln)return!1;var u=Ae(c);if(null===u)return!0;var f=Fe.call(u,"constructor")&&u.constructor;return"function"==typeof f&&f instanceof f&&ua.call(f)==_n}var kv=Tr?Vn(Tr):function(c){return Ut(c)&&ti(c)==Nc},lE=Vt?Vn(Vt):function(c){return Ut(c)&&bi(c)==Yi};function Cf(c){return"string"==typeof c||!_e(c)&&Ut(c)&&ti(c)==ra}function zn(c){return"symbol"==typeof c||Ut(c)&&ti(c)==Lc}var Wl=no?Vn(no):function(c){return Ut(c)&&Ef(c.length)&&!!Pt[ti(c)]},Br=Ud(_a),Af=Ud(function(c,u){return c<=u});function Cv(c){if(!c)return[];if(sn(c))return Cf(c)?Dt(c):gi(c);if(lo&&c[lo])return function(L){for(var q,V=[];!(q=L.next()).done;)V.push(q.value);return V}(c[lo]());var u=bi(c);return(u==Xn?zg:u==Yi?md:To)(c)}function xs(c){return c?(c=rn(c))===sa||c===-sa?17976931348623157e292*(c<0?-1:1):c==c?c:0:0===c?c:0}function Be(c){var u=xs(c),f=u%1;return u==u?f?u-f:u:0}function Pf(c){return c?rr(Be(c),0,_s):0}function rn(c){if("number"==typeof c)return c;if(zn(c))return NaN;if(qt(c)){var u="function"==typeof c.valueOf?c.valueOf():c;c=qt(u)?u+"":u}if("string"!=typeof c)return 0===c?c:+c;c=jg(c);var f=XI.test(c);return f||tO.test(c)?Pi(c.slice(2),f?2:8):Zs.test(c)?NaN:+c}function Av(c){return li(c,Wi(c))}function dt(c){return null==c?"":ji(c)}var cE=Ta(function(c,u){if(Bl(u)||sn(u))li(u,Si(u),c);else for(var f in u)Fe.call(u,f)&&ru(c,f,u[f])}),uE=Ta(function(c,u){li(u,Wi(u),c)}),Co=Ta(function(c,u,f,v){li(u,Wi(u),c,v)}),hE=Ta(function(c,u,f,v){li(u,Si(u),c,v)}),Pv=rs(Cl),fE=Ye(function(c,u){c=Tt(c);var f=-1,v=u.length,E=v>2?u[2]:M;for(E&&Mi(u[0],u[1],E)&&(v=1);++f<v;)for(var P=u[f],x=Wi(P),R=-1,B=x.length;++R<B;){var j=x[R],W=c[j];(W===M||me(W,oo[j])&&!Fe.call(c,j))&&(c[j]=P[j])}return c}),zl=Ye(function(c){return c.push(M,vu),di(Iv,M,c)});function Ql(c,u,f){var v=null==c?M:or(c,u);return v===M?f:v}function Nu(c,u){return null!=c&&Yd(c,u,Id)}var Lu=Dm(function(c,u,f){null!=u&&"function"!=typeof u.toString&&(u=nr.call(u)),c[u]=f},Hf(zi)),gE=Dm(function(c,u,f){null!=u&&"function"!=typeof u.toString&&(u=nr.call(u)),Fe.call(c,u)?c[u].push(f):c[u]=[f]},we),xv=Ye(Pl);function Si(c){return sn(c)?ma(c):fm(c)}function Wi(c){return sn(c)?ma(c,!0):function(c){if(!qt(c))return function(c){var u=[];if(null!=c)for(var f in Tt(c))u.push(f);return u}(c);var u=Bl(c),f=[];for(var v in c)"constructor"==v&&(u||!Fe.call(c,v))||f.push(v);return f}(c)}var Rv=Ta(function(c,u,f){ba(c,u,f)}),Iv=Ta(function(c,u,f,v){ba(c,u,f,v)}),vE=rs(function(c,u){var f={};if(null==c)return f;var v=!1;u=mt(u,function(P){return P=Ca(P,c),v||(v=P.length>1),P}),li(c,zd(c),f),v&&(f=Ui(f,7,Mm));for(var E=u.length;E--;)_m(f,u[E]);return f}),yE=rs(function(c,u){return null==c?{}:function(c,u){return Dl(c,u,function(f,v){return Nu(c,v)})}(c,u)});function Ov(c,u){if(null==c)return{};var f=mt(zd(c),function(v){return[v]});return u=we(u),Dl(c,f,function(v,E){return u(v,E[0])})}var _E=xm(Si),Lv=xm(Wi);function To(c){return null==c?[]:Wg(c,Si(c))}var kE=So(function(c,u,f){return u=u.toLowerCase(),c+(f?Mf(u):u)});function Mf(c){return $u(dt(c).toLowerCase())}function Rf(c){return(c=dt(c))&&c.replace(yS,lO).replace(CS,"")}var AE=So(function(c,u,f){return c+(f?"-":"")+u.toLowerCase()}),PE=So(function(c,u,f){return c+(f?" ":"")+u.toLowerCase()}),KO=Am("toLowerCase"),RE=So(function(c,u,f){return c+(f?"_":"")+u.toLowerCase()}),Nf=So(function(c,u,f){return c+(f?" ":"")+$u(u)}),qv=So(function(c,u,f){return c+(f?" ":"")+u.toUpperCase()}),$u=Am("toUpperCase");function Vf(c,u,f){return c=dt(c),(u=f?M:u)===M?function(L){return Bn.test(L)}(c)?function(L){return L.match(dl)||[]}(c):function(L){return L.match(Fc)||[]}(c):c.match(u)||[]}var Ff=Ye(function(c,u){try{return di(c,M,u)}catch(f){return us(f)?f:new Re(f)}}),Uv=rs(function(c,u){return Fi(u,function(f){f=os(f),wn(c,f,bf(c[f],c))}),c});function Hf(c){return function(){return c}}var YO=sw(),xo=sw(!0);function zi(c){return c}function La(c){return ZS("function"==typeof c?c:Ui(c,1))}var qf=Ye(function(c,u){return function(f){return Pl(f,c,u)}}),Gv=Ye(function(c,u){return function(f){return Pl(c,f,u)}});function Uf(c,u,f){var v=Si(u),E=mo(u,v);null==f&&(!qt(u)||!E.length&&v.length)&&(f=u,u=c,c=this,E=mo(u,Si(u)));var P=!(qt(f)&&"chain"in f&&!f.chain),x=Wn(c);return Fi(E,function(R){var B=u[R];c[R]=B,x&&(c.prototype[R]=function(){var j=this.__chain__;if(P||j){var W=c(this.__wrapped__),Q=W.__actions__=gi(this.__actions__);return Q.push({func:B,args:arguments,thisArg:c}),W.__chain__=j,W}return B.apply(c,pi([this.value()],arguments))})}),c}function Gf(){}var VE=qd(mt),FE=qd(Uc),Wv=qd(dd);function Ba(c){return Zd(c)?gl(os(c)):function(c){return function(u){return or(u,c)}}(c)}var HE=Tm(),qE=Tm(!0);function Vr(){return[]}function Wf(){return!1}var At=Hd(function(c,u){return c+u},0),zf=Gd("ceil"),ZO=Hd(function(c,u){return c/u},1),ur=Gd("floor"),Yv=Hd(function(c,u){return c*u},1),Jv=Gd("round"),Zv=Hd(function(c,u){return c-u},0);return C.after=function(c,u){if("function"!=typeof u)throw new yn($i);return c=Be(c),function(){if(--c<1)return u.apply(this,arguments)}},C.ary=_f,C.assign=cE,C.assignIn=uE,C.assignInWith=Co,C.assignWith=hE,C.at=Pv,C.before=hv,C.bind=bf,C.bindAll=Uv,C.bindKey=dv,C.castArray=function(){if(!arguments.length)return[];var c=arguments[0];return _e(c)?c:[c]},C.chain=iv,C.chunk=function(c,u,f){u=(f?Mi(c,u,f):u===M)?1:ai(Be(u),0);var v=null==c?0:c.length;if(!v||u<1)return[];for(var E=0,P=0,x=V(jt(v/u));E<v;)x[P++]=qn(c,E,E+=u);return x},C.compact=function(c){for(var u=-1,f=null==c?0:c.length,v=0,E=[];++u<f;){var P=c[u];P&&(E[v++]=P)}return E},C.concat=function(){var c=arguments.length;if(!c)return[];for(var u=V(c-1),f=arguments[0],v=c;v--;)u[v-1]=arguments[v];return pi(_e(f)?gi(f):[f],_i(u,1))},C.cond=function(c){var u=null==c?0:c.length,f=we();return c=u?mt(c,function(v){if("function"!=typeof v[1])throw new yn($i);return[f(v[0]),v[1]]}):[],Ye(function(v){for(var E=-1;++E<u;){var P=c[E];if(di(P[0],this,v))return di(P[1],this,v)}})},C.conforms=function(c){return function(c){var u=Si(c);return function(f){return cm(f,c,u)}}(Ui(c,1))},C.constant=Hf,C.countBy=rv,C.create=function(c,u){var f=sr(c);return null==u?f:lm(f,u)},C.curry=function Na(c,u,f){var v=Gn(c,8,M,M,M,M,M,u=f?M:u);return v.placeholder=Na.placeholder,v},C.curryRight=function ls(c,u,f){var v=Gn(c,16,M,M,M,M,M,u=f?M:u);return v.placeholder=ls.placeholder,v},C.debounce=zw,C.defaults=fE,C.defaultsDeep=zl,C.defer=BO,C.delay=fv,C.difference=of,C.differenceBy=lf,C.differenceWith=cf,C.drop=function(c,u,f){var v=null==c?0:c.length;return v?qn(c,(u=f||u===M?1:Be(u))<0?0:u,v):[]},C.dropRight=function(c,u,f){var v=null==c?0:c.length;return v?qn(c,0,(u=v-(u=f||u===M?1:Be(u)))<0?0:u):[]},C.dropRightWhile=function(c,u){return c&&c.length?_o(c,we(u,3),!0,!0):[]},C.dropWhile=function(c,u){return c&&c.length?_o(c,we(u,3),!0):[]},C.fill=function(c,u,f,v){var E=null==c?0:c.length;return E?(f&&"number"!=typeof f&&Mi(c,u,f)&&(f=0,v=E),function(c,u,f,v){var E=c.length;for((f=Be(f))<0&&(f=-f>E?0:E+f),(v=v===M||v>E?E:Be(v))<0&&(v+=E),v=f>v?0:Pf(v);f<v;)c[f++]=u;return c}(c,u,f,v)):[]},C.filter=function(c,u){return(_e(c)?vn:go)(c,we(u,3))},C.flatMap=function(c,u){return _i(yf(c,u),1)},C.flatMapDeep=function(c,u){return _i(yf(c,u),sa)},C.flatMapDepth=function(c,u,f){return f=f===M?1:Be(f),_i(yf(c,u),f)},C.flatten=Fl,C.flattenDeep=function(c){return null!=c&&c.length?_i(c,sa):[]},C.flattenDepth=function(c,u){return null!=c&&c.length?_i(c,u=u===M?1:Be(u)):[]},C.flip=function(c){return Gn(c,512)},C.flow=YO,C.flowRight=xo,C.fromPairs=function(c){for(var u=-1,f=null==c?0:c.length,v={};++u<f;){var E=c[u];v[E[0]]=E[1]}return v},C.functions=function(c){return null==c?[]:mo(c,Si(c))},C.functionsIn=function(c){return null==c?[]:mo(c,Wi(c))},C.groupBy=ov,C.initial=function(c){return null!=c&&c.length?qn(c,0,-1):[]},C.intersection=Pu,C.intersectionBy=df,C.intersectionWith=Wm,C.invert=Lu,C.invertBy=gE,C.invokeMap=lv,C.iteratee=La,C.keyBy=Fw,C.keys=Si,C.keysIn=Wi,C.map=yf,C.mapKeys=function(c,u){var f={};return u=we(u,3),Gi(c,function(v,E,P){wn(f,u(v,E,P),v)}),f},C.mapValues=function(c,u){var f={};return u=we(u,3),Gi(c,function(v,E,P){wn(f,E,u(v,E,P))}),f},C.matches=function(c){return ii(Ui(c,1))},C.matchesProperty=function(c,u){return hu(c,Ui(u,1))},C.memoize=jl,C.merge=Rv,C.mergeWith=Iv,C.method=qf,C.methodOf=Gv,C.mixin=Uf,C.negate=Sf,C.nthArg=function(c){return c=Be(c),Ye(function(u){return pm(u,c)})},C.omit=vE,C.omitBy=function(c,u){return Ov(c,Sf(we(u)))},C.once=function(c){return hv(2,c)},C.orderBy=function(c,u,f,v){return null==c?[]:(_e(u)||(u=null==u?[]:[u]),_e(f=v?M:f)||(f=null==f?[]:[f]),En(c,u,f))},C.over=VE,C.overArgs=Kw,C.overEvery=FE,C.overSome=Wv,C.partial=Mu,C.partialRight=gv,C.partition=xu,C.pick=yE,C.pickBy=Ov,C.property=Ba,C.propertyOf=function(c){return function(u){return null==c?M:or(c,u)}},C.pull=gw,C.pullAll=Km,C.pullAllBy=function(c,u,f){return c&&c.length&&u&&u.length?ks(c,u,we(f,2)):c},C.pullAllWith=function(c,u,f){return c&&c.length&&u&&u.length?ks(c,u,M,f):c},C.pullAt=An,C.range=HE,C.rangeRight=qE,C.rearg=Qw,C.reject=function(c,u){return(_e(c)?vn:go)(c,Sf(we(u,3)))},C.remove=function(c,u){var f=[];if(!c||!c.length)return f;var v=-1,E=[],P=c.length;for(u=we(u,3);++v<P;){var x=c[v];u(x,v,c)&&(f.push(x),E.push(v))}return Od(c,E),f},C.rest=function(c,u){if("function"!=typeof c)throw new yn($i);return Ye(c,u=u===M?u:Be(u))},C.reverse=Du,C.sampleSize=function(c,u,f){return u=(f?Mi(c,u,f):u===M)?1:Be(u),(_e(c)?ho:kn)(c,u)},C.set=function(c,u,f){return null==c?c:wa(c,u,f)},C.setWith=function(c,u,f,v){return v="function"==typeof v?v:M,null==c?c:wa(c,u,f,v)},C.shuffle=function(c){return(_e(c)?Td:vm)(c)},C.slice=function(c,u,f){var v=null==c?0:c.length;return v?(f&&"number"!=typeof f&&Mi(c,u,f)?(u=0,f=v):(u=null==u?0:Be(u),f=f===M?v:Be(f)),qn(c,u,f)):[]},C.sortBy=Ww,C.sortedUniq=function(c){return c&&c.length?ym(c):[]},C.sortedUniqBy=function(c,u){return c&&c.length?ym(c,we(u,2)):[]},C.split=function(c,u,f){return f&&"number"!=typeof f&&Mi(c,u,f)&&(u=f=M),(f=f===M?_s:f>>>0)?(c=dt(c))&&("string"==typeof u||null!=u&&!kv(u))&&!(u=ji(u))&&vl(c)?Un(Dt(c),0,f):c.split(u,f):[]},C.spread=function(c,u){if("function"!=typeof c)throw new yn($i);return u=null==u?0:ai(Be(u),0),Ye(function(f){var v=f[u],E=Un(f,0,u);return v&&pi(E,v),di(c,this,E)})},C.tail=function(c){var u=null==c?0:c.length;return u?qn(c,1,u):[]},C.take=function(c,u,f){return c&&c.length?qn(c,0,(u=f||u===M?1:Be(u))<0?0:u):[]},C.takeRight=function(c,u,f){var v=null==c?0:c.length;return v?qn(c,(u=v-(u=f||u===M?1:Be(u)))<0?0:u,v):[]},C.takeRightWhile=function(c,u){return c&&c.length?_o(c,we(u,3),!1,!0):[]},C.takeWhile=function(c,u){return c&&c.length?_o(c,we(u,3)):[]},C.tap=function(c,u){return u(c),c},C.throttle=function(c,u,f){var v=!0,E=!0;if("function"!=typeof c)throw new yn($i);return qt(f)&&(v="leading"in f?!!f.leading:v,E="trailing"in f?!!f.trailing:E),zw(c,u,{leading:v,maxWait:u,trailing:E})},C.thru=Ul,C.toArray=Cv,C.toPairs=_E,C.toPairsIn=Lv,C.toPath=function(c){return _e(c)?mt(c,os):zn(c)?[c]:gi(sf(dt(c)))},C.toPlainObject=Av,C.transform=function(c,u,f){var v=_e(c),E=v||Ts(c)||Wl(c);if(u=we(u,4),null==f){var P=c&&c.constructor;f=E?v?new P:[]:qt(c)&&Wn(P)?sr(Ae(c)):{}}return(E?Fi:Gi)(c,function(x,R,B){return u(f,x,R,B)}),f},C.unary=function(c){return _f(c,1)},C.union=Ps,C.unionBy=ql,C.unionWith=Jm,C.uniq=function(c){return c&&c.length?ss(c):[]},C.uniqBy=function(c,u){return c&&c.length?ss(c,we(u,2)):[]},C.uniqWith=function(c,u){return u="function"==typeof u?u:M,c&&c.length?ss(c,M,u):[]},C.unset=function(c,u){return null==c||_m(c,u)},C.unzip=ev,C.unzipWith=Dw,C.update=function(c,u,f){return null==c?c:yo(c,u,Tl(f))},C.updateWith=function(c,u,f,v){return v="function"==typeof v?v:M,null==c?c:yo(c,u,Tl(f),v)},C.values=To,C.valuesIn=function(c){return null==c?[]:Wg(c,Wi(c))},C.without=ff,C.words=Vf,C.wrap=function(c,u){return Mu(Tl(u),c)},C.xor=pf,C.xorBy=gf,C.xorWith=RO,C.zip=IO,C.zipObject=function(c,u){return bm(c||[],u||[],ru)},C.zipObjectDeep=function(c,u){return bm(c||[],u||[],wa)},C.zipWith=xw,C.entries=_E,C.entriesIn=Lv,C.extend=uE,C.extendWith=Co,Uf(C,C),C.add=At,C.attempt=Ff,C.camelCase=kE,C.capitalize=Mf,C.ceil=zf,C.clamp=function(c,u,f){return f===M&&(f=u,u=M),f!==M&&(f=(f=rn(f))==f?f:0),u!==M&&(u=(u=rn(u))==u?u:0),rr(rn(c),u,f)},C.clone=function(c){return Ui(c,4)},C.cloneDeep=function(c){return Ui(c,5)},C.cloneDeepWith=function(c,u){return Ui(c,5,u="function"==typeof u?u:M)},C.cloneWith=function(c,u){return Ui(c,4,u="function"==typeof u?u:M)},C.conformsTo=function(c,u){return null==u||cm(c,u,Si(u))},C.deburr=Rf,C.defaultTo=function(c,u){return null==c||c!=c?u:c},C.divide=ZO,C.endsWith=function(c,u,f){c=dt(c),u=ji(u);var v=c.length,E=f=f===M?v:rr(Be(f),0,v);return(f-=u.length)>=0&&c.slice(f,E)==u},C.eq=me,C.escape=function(c){return(c=dt(c))&&id.test(c)?c.replace(Vc,cO):c},C.escapeRegExp=function(c){return(c=dt(c))&&nd.test(c)?c.replace(Rg,"\\$&"):c},C.every=function(c,u,f){var v=_e(c)?Uc:KS;return f&&Mi(c,u,f)&&(u=M),v(c,we(u,3))},C.find=Bw,C.findIndex=uf,C.findKey=function(c,u){return pl(c,we(u,3),Gi)},C.findLast=$w,C.findLastIndex=Au,C.findLastKey=function(c,u){return pl(c,we(u,3),tn)},C.floor=ur,C.forEach=ko,C.forEachRight=av,C.forIn=function(c,u){return null==c?c:cu(c,we(u,3),Wi)},C.forInRight=function(c,u){return null==c?c:Rd(c,we(u,3),Wi)},C.forOwn=function(c,u){return c&&Gi(c,we(u,3))},C.forOwnRight=function(c,u){return c&&tn(c,we(u,3))},C.get=Ql,C.gt=F,C.gte=yv,C.has=function(c,u){return null!=c&&Yd(c,u,Al)},C.hasIn=Nu,C.head=jm,C.identity=zi,C.includes=function(c,u,f,v){c=sn(c)?c:To(c),f=f&&!v?Be(f):0;var E=c.length;return f<0&&(f=ai(E+f,0)),Cf(c)?f<=E&&c.indexOf(u,f)>-1:!!E&&Qt(c,u,f)>-1},C.indexOf=function(c,u,f){var v=null==c?0:c.length;if(!v)return-1;var E=null==f?0:Be(f);return E<0&&(E=ai(v+E,0)),Qt(c,u,E)},C.inRange=function(c,u,f){return u=xs(u),f===M?(f=u,u=0):f=xs(f),function(c,u,f){return c>=oi(u,f)&&c<ai(u,f)}(c=rn(c),u,f)},C.invoke=xv,C.isArguments=Ds,C.isArray=_e,C.isArrayBuffer=_v,C.isArrayLike=sn,C.isArrayLikeObject=Ht,C.isBoolean=function(c){return!0===c||!1===c||Ut(c)&&ti(c)==Za},C.isBuffer=Ts,C.isDate=bv,C.isElement=function(c){return Ut(c)&&1===c.nodeType&&!Ou(c)},C.isEmpty=function(c){if(null==c)return!0;if(sn(c)&&(_e(c)||"string"==typeof c||"function"==typeof c.splice||Ts(c)||Wl(c)||Ds(c)))return!c.length;var u=bi(c);if(u==Xn||u==Yi)return!c.size;if(Bl(c))return!fm(c).length;for(var f in c)if(Fe.call(c,f))return!1;return!0},C.isEqual=function(c,u){return uu(c,u)},C.isEqualWith=function(c,u,f){var v=(f="function"==typeof f?f:M)?f(c,u):M;return v===M?uu(c,u,M,f):!!v},C.isError=us,C.isFinite=function(c){return"number"==typeof c&&Zc(c)},C.isFunction=Wn,C.isInteger=Iu,C.isLength=Ef,C.isMap=sE,C.isMatch=function(c,u){return c===u||dm(c,u,Kd(u))},C.isMatchWith=function(c,u,f){return f="function"==typeof f?f:M,dm(c,u,Kd(u),f)},C.isNaN=function(c){return oE(c)&&c!=+c},C.isNative=function(c){if(lw(c))throw new Re("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return JS(c)},C.isNil=function(c){return null==c},C.isNull=function(c){return null===c},C.isNumber=oE,C.isObject=qt,C.isObjectLike=Ut,C.isPlainObject=Ou,C.isRegExp=kv,C.isSafeInteger=function(c){return Iu(c)&&c>=-Cr&&c<=Cr},C.isSet=lE,C.isString=Cf,C.isSymbol=zn,C.isTypedArray=Wl,C.isUndefined=function(c){return c===M},C.isWeakMap=function(c){return Ut(c)&&bi(c)==Bc},C.isWeakSet=function(c){return Ut(c)&&"[object WeakSet]"==ti(c)},C.join=function(c,u){return null==c?"":bd.call(c,u)},C.kebabCase=AE,C.last=Cn,C.lastIndexOf=function(c,u,f){var v=null==c?0:c.length;if(!v)return-1;var E=v;return f!==M&&(E=(E=Be(f))<0?ai(v+E,0):oi(E,v-1)),u==u?function(L,q,V){for(var le=V+1;le--;)if(L[le]===q)return le;return le}(c,u,E):bs(c,ts,E,!0)},C.lowerCase=PE,C.lowerFirst=KO,C.lt=Br,C.lte=Af,C.max=function(c){return c&&c.length?ou(c,zi,Or):M},C.maxBy=function(c,u){return c&&c.length?ou(c,we(u,2),Or):M},C.mean=function(c){return $n(c,zi)},C.meanBy=function(c,u){return $n(c,we(u,2))},C.min=function(c){return c&&c.length?ou(c,zi,_a):M},C.minBy=function(c,u){return c&&c.length?ou(c,we(u,2),_a):M},C.stubArray=Vr,C.stubFalse=Wf,C.stubObject=function(){return{}},C.stubString=function(){return""},C.stubTrue=function(){return!0},C.multiply=Yv,C.nth=function(c,u){return c&&c.length?pm(c,Be(u)):M},C.noConflict=function(){return _t._===this&&(_t._=Yg),this},C.noop=Gf,C.now=Gl,C.pad=function(c,u,f){c=dt(c);var v=(u=Be(u))?ca(c):0;if(!u||v>=u)return c;var E=(u-v)/2;return mu(_l(E),f)+c+mu(jt(E),f)},C.padEnd=function(c,u,f){c=dt(c);var v=(u=Be(u))?ca(c):0;return u&&v<u?c+mu(u-v,f):c},C.padStart=function(c,u,f){c=dt(c);var v=(u=Be(u))?ca(c):0;return u&&v<u?mu(u-v,f)+c:c},C.parseInt=function(c,u,f){return f||null==u?u=0:u&&(u=+u),qi(dt(c).replace(Me,""),u||0)},C.random=function(c,u,f){if(f&&"boolean"!=typeof f&&Mi(c,u,f)&&(u=f=M),f===M&&("boolean"==typeof u?(f=u,u=M):"boolean"==typeof c&&(f=c,c=M)),c===M&&u===M?(c=0,u=1):(c=xs(c),u===M?(u=c,c=0):u=xs(u)),c>u){var v=c;c=u,u=v}if(f||c%1||u%1){var E=ns();return oi(c+E*(u-c+Zi("1e-"+((E+"").length-1))),u)}return Nd(c,u)},C.reduce=function(c,u,f){var v=_e(c)?bt:ml,E=arguments.length<3;return v(c,we(u,4),f,E,ar)},C.reduceRight=function(c,u,f){var v=_e(c)?TS:ml,E=arguments.length<3;return v(c,we(u,4),f,E,Md)},C.repeat=function(c,u,f){return u=(f?Mi(c,u,f):u===M)?1:Be(u),gm(dt(c),u)},C.replace=function(){var c=arguments,u=dt(c[0]);return c.length<3?u:u.replace(c[1],c[2])},C.result=function(c,u,f){var v=-1,E=(u=Ca(u,c)).length;for(E||(E=1,c=M);++v<E;){var P=null==c?M:c[os(u[v])];P===M&&(v=E,P=f),c=Wn(P)?P.call(c):P}return c},C.round=Jv,C.runInContext=L,C.sample=function(c){return(_e(c)?am:mm)(c)},C.size=function(c){if(null==c)return 0;if(sn(c))return Cf(c)?ca(c):c.length;var u=bi(c);return u==Xn||u==Yi?c.size:fm(c).length},C.snakeCase=RE,C.some=function(c,u,f){var v=_e(c)?dd:tw;return f&&Mi(c,u,f)&&(u=M),v(c,we(u,3))},C.sortedIndex=function(c,u){return du(c,u)},C.sortedIndexBy=function(c,u,f){return Ld(c,u,we(f,2))},C.sortedIndexOf=function(c,u){var f=null==c?0:c.length;if(f){var v=du(c,u);if(v<f&&me(c[v],u))return v}return-1},C.sortedLastIndex=function(c,u){return du(c,u,!0)},C.sortedLastIndexBy=function(c,u,f){return Ld(c,u,we(f,2),!0)},C.sortedLastIndexOf=function(c,u){if(null!=c&&c.length){var v=du(c,u,!0)-1;if(me(c[v],u))return v}return-1},C.startCase=Nf,C.startsWith=function(c,u,f){return c=dt(c),f=null==f?0:rr(Be(f),0,c.length),u=ji(u),c.slice(f,f+u.length)==u},C.subtract=Zv,C.sum=function(c){return c&&c.length?pd(c,zi):0},C.sumBy=function(c,u){return c&&c.length?pd(c,we(u,2)):0},C.template=function(c,u,f){var v=C.templateSettings;f&&Mi(c,u,f)&&(u=M),c=dt(c),u=Co({},u,v,Ti);var R,B,E=Co({},u.imports,v.imports,Ti),P=Si(E),x=Wg(E,P),j=0,W=u.interpolate||sd,Q="__p += '",ie=Rt((u.escape||sd).source+"|"+W.source+"|"+(W===ge?mS:sd).source+"|"+(u.evaluate||sd).source+"|$","g"),fe="//# sourceURL="+(Fe.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Hg+"]")+"\n";c.replace(ie,function(Pe,We,it,an,Ri,Kn){return it||(it=an),Q+=c.slice(j,Kn).replace(_S,uO),We&&(R=!0,Q+="' +\n__e("+We+") +\n'"),Ri&&(B=!0,Q+="';\n"+Ri+";\n__p += '"),it&&(Q+="' +\n((__t = ("+it+")) == null ? '' : __t) +\n'"),j=Kn+Pe.length,Pe}),Q+="';\n";var Ce=Fe.call(u,"variable")&&u.variable;if(Ce){if(gn.test(Ce))throw new Re("Invalid `variable` option passed into `_.template`")}else Q="with (obj) {\n"+Q+"\n}\n";Q=(B?Q.replace(hS,""):Q).replace(dS,"$1").replace(fS,"$1;"),Q="function("+(Ce||"obj")+") {\n"+(Ce?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(R?", __e = _.escape":"")+(B?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Q+"return __p\n}";var je=Ff(function(){return ht(P,fe+"return "+Q).apply(M,x)});if(je.source=Q,us(je))throw je;return je},C.times=function(c,u){if((c=Be(c))<1||c>Cr)return[];var f=_s,v=oi(c,_s);u=we(u),c-=_s;for(var E=Gg(v,u);++f<c;)u(f);return E},C.toFinite=xs,C.toInteger=Be,C.toLength=Pf,C.toLower=function(c){return dt(c).toLowerCase()},C.toNumber=rn,C.toSafeInteger=function(c){return c?rr(Be(c),-Cr,Cr):0===c?c:0},C.toString=dt,C.toUpper=function(c){return dt(c).toUpperCase()},C.trim=function(c,u,f){if((c=dt(c))&&(f||u===M))return jg(c);if(!c||!(u=ji(u)))return c;var v=Dt(c),E=Dt(u);return Un(v,RS(v,E),IS(v,E)+1).join("")},C.trimEnd=function(c,u,f){if((c=dt(c))&&(f||u===M))return c.slice(0,vd(c)+1);if(!c||!(u=ji(u)))return c;var v=Dt(c);return Un(v,0,IS(v,Dt(u))+1).join("")},C.trimStart=function(c,u,f){if((c=dt(c))&&(f||u===M))return c.replace(Me,"");if(!c||!(u=ji(u)))return c;var v=Dt(c);return Un(v,RS(v,Dt(u))).join("")},C.truncate=function(c,u){var f=30,v="...";if(qt(u)){var E="separator"in u?u.separator:E;f="length"in u?Be(u.length):f,v="omission"in u?ji(u.omission):v}var P=(c=dt(c)).length;if(vl(c)){var x=Dt(c);P=x.length}if(f>=P)return c;var R=f-ca(v);if(R<1)return v;var B=x?Un(x,0,R).join(""):c.slice(0,R);if(E===M)return B+v;if(x&&(R+=B.length-R),kv(E)){if(c.slice(R).search(E)){var j,W=B;for(E.global||(E=Rt(E.source,dt(vS.exec(E))+"g")),E.lastIndex=0;j=E.exec(W);)var Q=j.index;B=B.slice(0,Q===M?R:Q)}}else if(c.indexOf(ji(E),R)!=R){var ie=B.lastIndexOf(E);ie>-1&&(B=B.slice(0,ie))}return B+v},C.unescape=function(c){return(c=dt(c))&&He.test(c)?c.replace(ot,OS):c},C.uniqueId=function(c){var u=++BS;return dt(c)+u},C.upperCase=qv,C.upperFirst=$u,C.each=ko,C.eachRight=av,C.first=jm,Uf(C,function(){var c={};return Gi(C,function(u,f){Fe.call(C.prototype,f)||(c[f]=u)}),c}(),{chain:!1}),C.VERSION="4.17.21",Fi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){C[c].placeholder=C}),Fi(["drop","take"],function(c,u){ke.prototype[c]=function(f){f=f===M?1:ai(Be(f),0);var v=this.__filtered__&&!u?new ke(this):this.clone();return v.__filtered__?v.__takeCount__=oi(f,v.__takeCount__):v.__views__.push({size:oi(f,_s),type:c+(v.__dir__<0?"Right":"")}),v},ke.prototype[c+"Right"]=function(f){return this.reverse()[c](f).reverse()}}),Fi(["filter","map","takeWhile"],function(c,u){var f=u+1,v=1==f||3==f;ke.prototype[c]=function(E){var P=this.clone();return P.__iteratees__.push({iteratee:we(E,3),type:f}),P.__filtered__=P.__filtered__||v,P}}),Fi(["head","last"],function(c,u){var f="take"+(u?"Right":"");ke.prototype[c]=function(){return this[f](1).value()[0]}}),Fi(["initial","tail"],function(c,u){var f="drop"+(u?"":"Right");ke.prototype[c]=function(){return this.__filtered__?new ke(this):this[f](1)}}),ke.prototype.compact=function(){return this.filter(zi)},ke.prototype.find=function(c){return this.filter(c).head()},ke.prototype.findLast=function(c){return this.reverse().find(c)},ke.prototype.invokeMap=Ye(function(c,u){return"function"==typeof c?new ke(this):this.map(function(f){return Pl(f,c,u)})}),ke.prototype.reject=function(c){return this.filter(Sf(we(c)))},ke.prototype.slice=function(c,u){c=Be(c);var f=this;return f.__filtered__&&(c>0||u<0)?new ke(f):(c<0?f=f.takeRight(-c):c&&(f=f.drop(c)),u!==M&&(f=(u=Be(u))<0?f.dropRight(-u):f.take(u-c)),f)},ke.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},ke.prototype.toArray=function(){return this.take(_s)},Gi(ke.prototype,function(c,u){var f=/^(?:filter|find|map|reject)|While$/.test(u),v=/^(?:head|last)$/.test(u),E=C[v?"take"+("last"==u?"Right":""):u],P=v||/^find/.test(u);!E||(C.prototype[u]=function(){var x=this.__wrapped__,R=v?[1]:arguments,B=x instanceof ke,j=R[0],W=B||_e(x),Q=function(We){var it=E.apply(C,pi([We],R));return v&&ie?it[0]:it};W&&f&&"function"==typeof j&&1!=j.length&&(B=W=!1);var ie=this.__chain__,fe=!!this.__actions__.length,Ce=P&&!ie,je=B&&!fe;if(!P&&W){x=je?x:new ke(this);var Pe=c.apply(x,R);return Pe.__actions__.push({func:Ul,args:[Q],thisArg:M}),new Fn(Pe,ie)}return Ce&&je?c.apply(this,R):(Pe=this.thru(Q),Ce?v?Pe.value()[0]:Pe.value():Pe)})}),Fi(["pop","push","shift","sort","splice","unshift"],function(c){var u=Wc[c],f=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",v=/^(?:pop|shift)$/.test(c);C.prototype[c]=function(){var E=arguments;if(v&&!this.__chain__){var P=this.value();return u.apply(_e(P)?P:[],E)}return this[f](function(x){return u.apply(_e(x)?x:[],E)})}}),Gi(ke.prototype,function(c,u){var f=C[u];if(f){var v=f.name+"";Fe.call(Mr,v)||(Mr[v]=[]),Mr[v].push({name:u,func:f})}}),Mr[Rl(M,2).name]=[{name:"wrapper",func:M}],ke.prototype.clone=function(){var c=new ke(this.__wrapped__);return c.__actions__=gi(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=gi(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=gi(this.__views__),c},ke.prototype.reverse=function(){if(this.__filtered__){var c=new ke(this);c.__dir__=-1,c.__filtered__=!0}else(c=this.clone()).__dir__*=-1;return c},ke.prototype.value=function(){var c=this.__wrapped__.value(),u=this.__dir__,f=_e(c),v=u<0,E=f?c.length:0,P=function(c,u,f){for(var v=-1,E=f.length;++v<E;){var P=f[v],x=P.size;switch(P.type){case"drop":c+=x;break;case"dropRight":u-=x;break;case"take":u=oi(u,c+x);break;case"takeRight":c=ai(c,u-x)}}return{start:c,end:u}}(0,E,this.__views__),x=P.start,R=P.end,B=R-x,j=v?R:x-1,W=this.__iteratees__,Q=W.length,ie=0,fe=oi(B,this.__takeCount__);if(!f||!v&&E==B&&fe==B)return ka(c,this.__actions__);var Ce=[];e:for(;B--&&ie<fe;){for(var je=-1,Pe=c[j+=u];++je<Q;){var We=W[je],an=We.type,Ri=(0,We.iteratee)(Pe);if(2==an)Pe=Ri;else if(!Ri){if(1==an)continue e;break e}}Ce[ie++]=Pe}return Ce},C.prototype.at=Tu,C.prototype.chain=function(){return iv(this)},C.prototype.commit=function(){return new Fn(this.value(),this.__chain__)},C.prototype.next=function(){this.__values__===M&&(this.__values__=Cv(this.value()));var c=this.__index__>=this.__values__.length;return{done:c,value:c?M:this.__values__[this.__index__++]}},C.prototype.plant=function(c){for(var u,f=this;f instanceof tu;){var v=af(f);v.__index__=0,v.__values__=M,u?E.__wrapped__=v:u=v;var E=v;f=f.__wrapped__}return E.__wrapped__=c,u},C.prototype.reverse=function(){var c=this.__wrapped__;if(c instanceof ke){var u=c;return this.__actions__.length&&(u=new ke(this)),(u=u.reverse()).__actions__.push({func:Ul,args:[Du],thisArg:M}),new Fn(u,this.__chain__)}return this.thru(Du)},C.prototype.toJSON=C.prototype.valueOf=C.prototype.value=function(){return ka(this.__wrapped__,this.__actions__)},C.prototype.first=C.prototype.head,lo&&(C.prototype[lo]=function(){return this}),C}();_t._=ao,(Zn=function(){return ao}.call(xt,zt,xt,Wt))!==M&&(Wt.exports=Zn)}.call(this)},649:(Wt,xt,zt)=>{"use strict";var Zn={};function M(n){return"function"==typeof n}zt.r(Zn),zt.d(Zn,{afterMain:()=>G3,afterRead:()=>H3,afterWrite:()=>z3,applyStyles:()=>sR,arrow:()=>tV,auto:()=>nb,basePlacements:()=>wh,beforeMain:()=>q3,beforeRead:()=>V3,beforeWrite:()=>j3,bottom:()=>hs,clippingParents:()=>B3,computeStyles:()=>lR,createPopper:()=>gR,createPopperBase:()=>SQ,createPopperLite:()=>kQ,detectOverflow:()=>Dh,end:()=>Eh,eventListeners:()=>cR,flip:()=>oV,hide:()=>uV,left:()=>On,main:()=>U3,modifierPhases:()=>K3,offset:()=>hV,placements:()=>iR,popper:()=>kh,popperGenerator:()=>lb,popperOffsets:()=>pR,preventOverflow:()=>dV,read:()=>F3,reference:()=>$3,right:()=>ds,start:()=>pc,top:()=>In,variationPlacements:()=>tR,viewport:()=>eR,write:()=>W3});let Wh=!1;const fn={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else Wh&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Wh=n},get useDeprecatedSynchronousErrorHandling(){return Wh}};function Qa(n){setTimeout(()=>{throw n},0)}const $i={closed:!0,next(n){},error(n){if(fn.useDeprecatedSynchronousErrorHandling)throw n;Qa(n)},complete(){}},nl=Array.isArray||(n=>n&&"number"==typeof n.length);function sl(n){return null!==n&&"object"==typeof n}const Xr=(()=>{function n(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,i)=>`${i+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return n.prototype=Object.create(Error.prototype),n})();class et{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:i,_unsubscribe:s,_subscriptions:r}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof et)e.remove(this);else if(null!==e)for(let a=0;a<e.length;++a)e[a].remove(this);if(M(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(a){t=a instanceof Xr?zh(a.errors):[a]}}if(nl(r)){let a=-1,o=r.length;for(;++a<o;){const l=r[a];if(sl(l))try{l.unsubscribe()}catch(h){t=t||[],h instanceof Xr?t=t.concat(zh(h.errors)):t.push(h)}}}if(t)throw new Xr(t)}add(t){let e=t;if(!t)return et.EMPTY;switch(typeof t){case"function":e=new et(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof et)){const r=e;e=new et,e._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=e;if(null===i)e._parentOrParents=this;else if(i instanceof et){if(i===this)return e;e._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return e;i.push(this)}const s=this._subscriptions;return null===s?this._subscriptions=[e]:s.push(e),e}remove(t){const e=this._subscriptions;if(e){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}}}var n;function zh(n){return n.reduce((t,e)=>t.concat(e instanceof Xr?e.errors:e),[])}et.EMPTY=((n=new et).closed=!0,n);const Ys="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Mt extends et{constructor(t,e,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=$i;break;case 1:if(!t){this.destination=$i;break}if("object"==typeof t){t instanceof Mt?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new pn(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new pn(this,t,e,i)}}[Ys](){return this}static create(t,e,i){const s=new Mt(t,e,i);return s.syncErrorThrowable=!1,s}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class pn extends Mt{constructor(t,e,i,s){super(),this._parentSubscriber=t;let r,a=this;M(e)?r=e:e&&(r=e.next,i=e.error,s=e.complete,e!==$i&&(a=Object.create(e),M(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=r,this._error=i,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;fn.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:i}=fn;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):Qa(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;Qa(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);fn.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),fn.useDeprecatedSynchronousErrorHandling)throw i;Qa(i)}}__tryOrSetError(t,e,i){if(!fn.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(s){return fn.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=s,t.syncErrorThrown=!0,!0):(Qa(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const Qi="function"==typeof Symbol&&Symbol.observable||"@@observable";function ta(n){return n}let Qe=(()=>{class n{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,s){const{operator:r}=this,a=function(n,t,e){if(n){if(n instanceof Mt)return n;if(n[Ys])return n[Ys]()}return n||t||e?new Mt(n,t,e):new Mt($i)}(e,i,s);if(a.add(r?r.call(a,this.source):this.source||fn.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),fn.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(i){fn.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=i),function(n){for(;n;){const{closed:t,destination:e,isStopped:i}=n;if(t||i)return!1;n=e&&e instanceof Mt?e:null}return!0}(e)?e.error(i):console.warn(i)}}forEach(e,i){return new(i=Ya(i))((s,r)=>{let a;a=this.subscribe(o=>{try{e(o)}catch(l){r(l),a&&a.unsubscribe()}},r,s)})}_subscribe(e){const{source:i}=this;return i&&i.subscribe(e)}[Qi](){return this}pipe(...e){return 0===e.length?this:function(n){return 0===n.length?ta:1===n.length?n[0]:function(e){return n.reduce((i,s)=>s(i),e)}}(e)(this)}toPromise(e){return new(e=Ya(e))((i,s)=>{let r;this.subscribe(a=>r=a,a=>s(a),()=>i(r))})}}return n.create=t=>new n(t),n})();function Ya(n){if(n||(n=fn.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const na=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class kg extends et{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}class Cg extends Mt{constructor(t){super(t),this.destination=t}}let Ze=(()=>{class n extends Qe{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Ys](){return new Cg(this)}lift(e){const i=new Kh(this,this);return i.operator=e,i}next(e){if(this.closed)throw new na;if(!this.isStopped){const{observers:i}=this,s=i.length,r=i.slice();for(let a=0;a<s;a++)r[a].next(e)}}error(e){if(this.closed)throw new na;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:i}=this,s=i.length,r=i.slice();for(let a=0;a<s;a++)r[a].error(e);this.observers.length=0}complete(){if(this.closed)throw new na;this.isStopped=!0;const{observers:e}=this,i=e.length,s=e.slice();for(let r=0;r<i;r++)s[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new na;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new na;return this.hasError?(e.error(this.thrownError),et.EMPTY):this.isStopped?(e.complete(),et.EMPTY):(this.observers.push(e),new kg(this,e))}asObservable(){const e=new Qe;return e.source=this,e}}return n.create=(t,e)=>new Kh(t,e),n})();class Kh extends Ze{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):et.EMPTY}}function al(n){return n&&"function"==typeof n.schedule}function ys(n,t){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new sa(n,t))}}class sa{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new Cr(t,this.project,this.thisArg))}}class Cr extends Mt{constructor(t,e,i){super(t),this.project=e,this.count=0,this.thisArg=i||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const Ag=n=>t=>{for(let e=0,i=n.length;e<i&&!t.closed;e++)t.next(n[e]);t.complete()},Mc="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",ol=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Pg(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const Za=n=>{if(n&&"function"==typeof n[Qi])return(n=>t=>{const e=n[Qi]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)})(n);if(ol(n))return Ag(n);if(Pg(n))return(n=>t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Qa),t))(n);if(n&&"function"==typeof n[Mc])return(n=>t=>{const e=n[Mc]();for(;;){let i;try{i=e.next()}catch(s){return t.error(s),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof e.return&&t.add(()=>{e.return&&e.return()}),t})(n);{const e=`You provided ${sl(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function Xa(n,t){return new Qe(e=>{const i=new et;let s=0;return i.add(t.schedule(function(){s!==n.length?(e.next(n[s++]),e.closed||i.add(this.schedule())):e.complete()})),i})}function Ic(n,t){return t?function(n,t){if(null!=n){if(function(n){return n&&"function"==typeof n[Qi]}(n))return function(n,t){return new Qe(e=>{const i=new et;return i.add(t.schedule(()=>{const s=n[Qi]();i.add(s.subscribe({next(r){i.add(t.schedule(()=>e.next(r)))},error(r){i.add(t.schedule(()=>e.error(r)))},complete(){i.add(t.schedule(()=>e.complete()))}}))})),i})}(n,t);if(Pg(n))return function(n,t){return new Qe(e=>{const i=new et;return i.add(t.schedule(()=>n.then(s=>{i.add(t.schedule(()=>{e.next(s),i.add(t.schedule(()=>e.complete()))}))},s=>{i.add(t.schedule(()=>e.error(s)))}))),i})}(n,t);if(ol(n))return Xa(n,t);if(function(n){return n&&"function"==typeof n[Mc]}(n)||"string"==typeof n)return function(n,t){if(!n)throw new Error("Iterable cannot be null");return new Qe(e=>{const i=new et;let s;return i.add(()=>{s&&"function"==typeof s.return&&s.return()}),i.add(t.schedule(()=>{s=n[Mc](),i.add(t.schedule(function(){if(e.closed)return;let r,a;try{const o=s.next();r=o.value,a=o.done}catch(o){return void e.error(o)}a?e.complete():(e.next(r),this.schedule())}))})),i})}(n,t)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,t):n instanceof Qe?n:new Qe(Za(n))}class Ln extends Mt{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Oc extends Mt{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function Yi(n,t){if(t.closed)return;if(n instanceof Qe)return n.subscribe(t);let e;try{e=Za(n)(t)}catch(i){t.error(i)}return e}function ra(n,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(ra((s,r)=>Ic(n(s,r)).pipe(ys((a,o)=>t(s,a,r,o))),e)):("number"==typeof t&&(e=t),i=>i.lift(new Lc(n,e)))}class Lc{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new uS(t,this.project,this.concurrent))}}class uS extends Oc{constructor(t,e,i=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(e)}_innerSub(t){const e=new Ln(this),i=this.destination;i.add(e);const s=Yi(t,e);s!==e&&i.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Tg(n=Number.POSITIVE_INFINITY){return ra(ta,n)}function eo(n,t){return t?Xa(n,t):new Qe(Ag(n))}function Ar(...n){let t=Number.POSITIVE_INFINITY,e=null,i=n[n.length-1];return al(i)?(e=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(t=n.pop())):"number"==typeof i&&(t=n.pop()),null===e&&1===n.length&&n[0]instanceof Qe?n[0]:Tg(t)(eo(n,e))}function $c(){return function(t){return t.lift(new Qh(t))}}class Qh{constructor(t){this.connectable=t}call(t,e){const{connectable:i}=this;i._refCount++;const s=new Yh(t,i),r=e.subscribe(s);return s.closed||(s.connection=i.connect()),r}}class Yh extends Mt{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:i}=this,s=t._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()}}class Jh extends Qe{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new et,t.add(this.source.subscribe(new Xh(this.getSubject(),this))),t.closed&&(this._connection=null,t=et.EMPTY)),t}refCount(){return $c()(this)}}const Zh=(()=>{const n=Jh.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class Xh extends Cg{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function dS(){return new Ze}function ot(n){for(let t in n)if(n[t]===ot)return t;throw Error("Could not find renamed property on target object.")}function Vc(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function He(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(He).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function id(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const pS=ot({__forward_ref__:ot});function wt(n){return n.__forward_ref__=wt,n.toString=function(){return He(this())},n}function ge(n){return Mg(n)?n():n}function Mg(n){return"function"==typeof n&&n.hasOwnProperty(pS)&&n.__forward_ref__===wt}class Pr extends Error{constructor(t,e){super(function(n,t){return`${n?`NG0${n}: `:""}${t}`}(t,e)),this.code=t}}function Me(n){return"string"==typeof n?n:null==n?"":String(n)}function Vi(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Me(n)}function Fc(n,t){const e=t?` in ${t}`:"";throw new Pr("201",`No provider for ${Vi(n)} found${e}`)}function mn(n,t){null==n&&function(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function ue(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Gt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Xs(n){return Ig(n,to)||Ig(n,ld)}function Ig(n,t){return n.hasOwnProperty(t)?n[t]:null}function ad(n){return n&&(n.hasOwnProperty(od)||n.hasOwnProperty(Hc))?n[od]:null}const to=ot({\u0275prov:ot}),od=ot({\u0275inj:ot}),ld=ot({ngInjectableDef:ot}),Hc=ot({ngInjectorDef:ot});var Se=(()=>((Se=Se||{})[Se.Default=0]="Default",Se[Se.Host=1]="Host",Se[Se.Self=2]="Self",Se[Se.SkipSelf=4]="SkipSelf",Se[Se.Optional=8]="Optional",Se))();let cd;function er(n){const t=cd;return cd=n,t}function qc(n,t,e){const i=Xs(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Se.Optional?null:void 0!==t?t:void Fc(He(n),"Injector")}function tr(n){return{toString:n}.toString()}var Ji=(()=>((Ji=Ji||{})[Ji.OnPush=0]="OnPush",Ji[Ji.Default=1]="Default",Ji))(),Kt=(()=>((Kt=Kt||{})[Kt.Emulated=0]="Emulated",Kt[Kt.None=2]="None",Kt[Kt.ShadowDom=3]="ShadowDom",Kt))();const $g="undefined"!=typeof globalThis&&globalThis,wS="undefined"!=typeof window&&window,Vg="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ut=$g||"undefined"!=typeof global&&global||wS||Vg,io={},yt=[],hl=ot({\u0275cmp:ot}),ud=ot({\u0275dir:ot}),hd=ot({\u0275pipe:ot}),Fg=ot({\u0275mod:ot}),CS=ot({\u0275loc:ot}),es=ot({\u0275fac:ot}),dl=ot({__NG_ELEMENT_ID__:ot});let AS=0;function Bn(n){return tr(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ji.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||yt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Kt.Emulated,id:"c",styles:n.styles||yt,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.directives,r=n.features,a=n.pipes;return i.id+=AS++,i.inputs=qg(n.inputs,e),i.outputs=qg(n.outputs),r&&r.forEach(o=>o(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(Hg):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(Pt):null,i})}function Hg(n){return Pi(n)||function(n){return n[ud]||null}(n)}function Pt(n){return function(n){return n[hd]||null}(n)}const kt={};function Xt(n){return tr(()=>{const t={type:n.type,bootstrap:n.bootstrap||yt,declarations:n.declarations||yt,imports:n.imports||yt,exports:n.exports||yt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(kt[n.id]=n.type),t})}function qg(n,t){if(null==n)return io;const e={};for(const i in n)if(n.hasOwnProperty(i)){let s=n[i],r=s;Array.isArray(s)&&(r=s[1],s=s[0]),e[s]=i,t&&(t[s]=r)}return e}const de=Bn;function Zi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Pi(n){return n[hl]||null}function _t(n,t){const e=n[Fg]||null;if(!e&&!0===t)throw new Error(`Type ${He(n)} does not have '\u0275mod' property.`);return e}function ts(n){return Array.isArray(n)&&"object"==typeof n[1]}function $n(n){return Array.isArray(n)&&!0===n[1]}function gl(n){return 0!=(8&n.flags)}function ro(n){return 2==(2&n.flags)}function ml(n){return 1==(1&n.flags)}function is(n){return null!==n.template}function pd(n){return 0!=(512&n[2])}function la(n,t){return n.hasOwnProperty(es)?n[es]:null}class ca{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Dt(){return vd}function vd(n){return n.type.prototype.ngOnChanges&&(n.setInput=NS),OS}function OS(){const n=Qg(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===io)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function NS(n,t,e,i){const s=Qg(n)||function(n,t){return n[Kg]=t}(n,{previous:io,current:null}),r=s.current||(s.current={}),a=s.previous,o=this.declaredInputs[e],l=a[o];r[o]=new ca(l&&l.currentValue,t,a===io),n[i]=t}Dt.ngInherit=!0;const Kg="__ngSimpleChanges__";function Qg(n){return n[Kg]||null}const V="http://www.w3.org/2000/svg";let Re;function Rt(n){return!!n.listen}const yn={createRenderer:(n,t)=>void 0!==Re?Re:"undefined"!=typeof document?document:void 0};function ei(n){for(;Array.isArray(n);)n=n[0];return n}function ua(n,t){return ei(t[n])}function Fe(n,t){return ei(t[n.index])}function zc(n,t){return n.data[t]}function _n(n,t){const e=t[n];return ts(e)?e:e[0]}function Yg(n){return 4==(4&n[2])}function _d(n){return 128==(128&n[2])}function Hi(n,t){return null==t?null:n[t]}function yl(n){n[18]=0}function Qc(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const Ae={lFrame:uo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function lo(){return Ae.bindingsEnabled}function K(){return Ae.lFrame.lView}function rt(){return Ae.lFrame.tView}function It(n){return Ae.lFrame.contextLView=n,n[8]}function jt(){let n=_l();for(;null!==n&&64===n.type;)n=n.parent;return n}function _l(){return Ae.lFrame.currentTNode}function ws(n,t){const e=Ae.lFrame;e.currentTNode=n,e.isParent=t}function Zc(){return Ae.lFrame.isParent}function bd(){Ae.lFrame.isParent=!1}function oi(){return Ae.isInCheckNoChangesMode}function Xc(n){Ae.isInCheckNoChangesMode=n}function qi(){const n=Ae.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function ns(){return Ae.lFrame.bindingIndex}function xr(){return Ae.lFrame.bindingIndex++}function bn(n){const t=Ae.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function bl(n,t){const e=Ae.lFrame;e.bindingIndex=e.bindingRootIndex=n,co(t)}function co(n){Ae.lFrame.currentDirectiveIndex=n}function em(){return Ae.lFrame.currentQueryIndex}function wd(n){Ae.lFrame.currentQueryIndex=n}function VS(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function tm(n,t,e){if(e&Se.SkipSelf){let s=t,r=n;for(;!(s=s.parent,null!==s||e&Se.Host||(s=VS(r),null===s||(r=r[15],10&s.type))););if(null===s)return!1;t=s,n=r}const i=Ae.lFrame=wl();return i.currentTNode=t,i.lView=n,!0}function eu(n){const t=wl(),e=n[1];Ae.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function wl(){const n=Ae.lFrame,t=null===n?null:n.child;return null===t?uo(n):t}function uo(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function Ed(){const n=Ae.lFrame;return Ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const C=Ed;function sr(){const n=Ed();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ke(){return Ae.lFrame.selectedIndex}function Rr(n){Ae.lFrame.selectedIndex=n}function Ft(){const n=Ae.lFrame;return zc(n.tView,n.selectedIndex)}function kd(){Ae.lFrame.currentNamespace=V}function Cd(){Ae.lFrame.currentNamespace=null}function iu(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const r=n.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:o,ngAfterViewInit:l,ngAfterViewChecked:h,ngOnDestroy:d}=r;a&&(n.contentHooks||(n.contentHooks=[])).push(-e,a),o&&((n.contentHooks||(n.contentHooks=[])).push(e,o),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,o)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),h&&((n.viewHooks||(n.viewHooks=[])).push(e,h),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,h)),null!=d&&(n.destroyHooks||(n.destroyHooks=[])).push(e,d)}}function Hn(n,t,e){im(n,t,3,e)}function nu(n,t,e,i){(3&n[2])===e&&im(n,t,e,i)}function Ad(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function im(n,t,e,i){const r=null!=i?i:-1,a=t.length-1;let o=0;for(let l=void 0!==i?65535&n[18]:0;l<a;l++)if("number"==typeof t[l+1]){if(o=t[l],null!=i&&o>=i)break}else t[l]<0&&(n[18]+=65536),(o<r||-1==r)&&(US(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function US(n,t,e,i){const s=e[i]<0,r=e[i+1],o=n[s?-e[i]:e[i]];if(s){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{r.call(o)}finally{}}}else try{r.call(o)}finally{}}class Sn{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function en(n,t,e){const i=Rt(n);let s=0;for(;s<e.length;){const r=e[s];if("number"==typeof r){if(0!==r)break;s++;const a=e[s++],o=e[s++],l=e[s++];i?n.setAttribute(t,o,l,a):t.setAttributeNS(a,o,l)}else{const a=r,o=e[++s];Dd(a)?i&&n.setProperty(t,a,o):i?n.setAttribute(t,a,o):t.setAttribute(a,o),s++}}return s}function nm(n){return 3===n||4===n||6===n}function Dd(n){return 64===n.charCodeAt(0)}function su(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?e=s:0===e||sm(n,e,s,null,-1===e||2===e?t[++i]:null)}}return n}function sm(n,t,e,i,s){let r=0,a=n.length;if(-1===t)a=-1;else for(;r<n.length;){const o=n[r++];if("number"==typeof o){if(o===t){a=-1;break}if(o>t){a=r-1;break}}}for(;r<n.length;){const o=n[r];if("number"==typeof o)break;if(o===e){if(null===i)return void(null!==s&&(n[r+1]=s));if(i===n[r+1])return void(n[r+2]=s)}r++,null!==i&&r++,null!==s&&r++}-1!==a&&(n.splice(a,0,t),r=a+1),n.splice(r++,0,e),null!==i&&n.splice(r++,0,i),null!==s&&n.splice(r++,0,s)}function rm(n){return-1!==n}function ma(n){return 32767&n}function ho(n,t){let e=function(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let Td=!0;function fo(n){const t=Td;return Td=n,t}let lm=0;function wn(n,t){const e=rr(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,Cl(i.data,n),Cl(t,null),Cl(i.blueprint,null));const s=Ui(n,t),r=n.injectorIndex;if(rm(s)){const a=ma(s),o=ho(s,t),l=o[1].data;for(let h=0;h<8;h++)t[r+h]=o[a+h]|l[a+h]}return t[r+8]=s,r}function Cl(n,t){n.push(0,0,0,0,0,0,0,0,t)}function rr(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Ui(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,s=t;for(;null!==s;){const r=s[1],a=r.type;if(i=2===a?r.declTNode:1===a?s[6]:null,null===i)return-1;if(e++,s=s[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function au(n,t,e){!function(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(dl)&&(i=e[dl]),null==i&&(i=e[dl]=lm++);const s=255&i;t.data[n+(s>>5)]|=1<<s}(n,t,e)}function xd(n,t,e){if(e&Se.Optional)return n;Fc(t,"NodeInjector")}function po(n,t,e,i){if(e&Se.Optional&&void 0===i&&(i=null),0==(e&(Se.Self|Se.Host))){const s=n[9],r=er(void 0);try{return s?s.get(t,i,e&Se.Optional):qc(t,i,e&Se.Optional)}finally{er(r)}}return xd(i,t,e)}function ar(n,t,e,i=Se.Default,s){if(null!==n){const r=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(dl)?n[dl]:void 0;return"number"==typeof t?t>=0?255&t:KS:t}(e);if("function"==typeof r){if(!tm(t,n,i))return i&Se.Host?xd(s,e,i):po(t,e,i,s);try{const a=r(i);if(null!=a||i&Se.Optional)return a;Fc(e)}finally{C()}}else if("number"==typeof r){let a=null,o=rr(n,t),l=-1,h=i&Se.Host?t[16][6]:null;for((-1===o||i&Se.SkipSelf)&&(l=-1===o?Ui(n,t):t[o+8],-1!==l&&Rd(i,!1)?(a=t[1],o=ma(l),t=ho(l,t)):o=-1);-1!==o;){const d=t[1];if(cu(r,o,d.data)){const m=ou(o,t,e,a,i,h);if(m!==Md)return m}l=t[o+8],-1!==l&&Rd(i,t[1].data[o+8]===h)&&cu(r,o,t)?(a=d,o=ma(l),t=ho(l,t)):o=-1}}}return po(t,e,i,s)}const Md={};function KS(){return new Gi(jt(),K())}function ou(n,t,e,i,s,r){const a=t[1],o=a.data[n+8],d=lu(o,a,e,null==i?ro(o)&&Td:i!=a&&0!=(3&o.type),s&Se.Host&&r===o);return null!==d?go(t,a,d,o):Md}function lu(n,t,e,i,s){const r=n.providerIndexes,a=t.data,o=1048575&r,l=n.directiveStart,d=r>>20,y=s?o+d:n.directiveEnd;for(let S=i?o:o+d;S<y;S++){const k=a[S];if(S<l&&e===k||S>=l&&k.type===e)return S}if(s){const S=a[l];if(S&&is(S)&&S.type===e)return l}return null}function go(n,t,e,i){let s=n[e];const r=t.data;if(function(n){return n instanceof Sn}(s)){const a=s;a.resolving&&function(n,t){throw new Pr("200",`Circular dependency in DI detected for ${n}`)}(Vi(r[e]));const o=fo(a.canSeeViewProviders);a.resolving=!0;const l=a.injectImpl?er(a.injectImpl):null;tm(n,i,Se.Default);try{s=n[e]=a.factory(void 0,r,n,i),t.firstCreatePass&&e>=i.directiveStart&&function(n,t,e){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:r}=t.type.prototype;if(i){const a=vd(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,a),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,a)}s&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,s),r&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,r),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,r))}(e,r[e],t)}finally{null!==l&&er(l),fo(o),a.resolving=!1,C()}}return s}function cu(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function Rd(n,t){return!(n&Se.Self||n&Se.Host&&t)}class Gi{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return ar(this._tNode,this._lView,t,i,e)}}function tn(n){return tr(()=>{const t=n.prototype.constructor,e=t[es]||mo(t),i=Object.prototype;let s=Object.getPrototypeOf(n.prototype).constructor;for(;s&&s!==i;){const r=s[es]||mo(s);if(r&&r!==e)return r;s=Object.getPrototypeOf(s)}return r=>new r})}function mo(n){return Mg(n)?()=>{const t=mo(ge(n));return t&&t()}:la(n)}const ti="__parameters__";function ya(n,t,e){return tr(()=>{const i=function(n){return function(...e){if(n){const i=n(...e);for(const s in i)this[s]=i[s]}}}(t);function s(...r){if(this instanceof s)return i.apply(this,r),this;const a=new s(...r);return o.annotation=a,o;function o(l,h,d){const m=l.hasOwnProperty(ti)?l[ti]:Object.defineProperty(l,ti,{value:[]})[ti];for(;m.length<=d;)m.push(null);return(m[d]=m[d]||[]).push(a),l}}return e&&(s.prototype=Object.create(e.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}class be{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ue({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}function En(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),En(i,t)):t!==n&&t.push(i)}return t}function Es(n,t){n.forEach(e=>Array.isArray(e)?Es(e,t):t(e))}function Dl(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Sa(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function kn(n,t,e){let i=Ea(n,t);return i>=0?n[1|i]=e:(i=~i,function(n,t,e,i){let s=n.length;if(s==t)n.push(e,i);else if(1===s)n.push(i,n[0]),n[0]=e;else{for(s--,n.push(n[s-1],n[s]);s>t;)n[s]=n[s-2],s--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function wa(n,t){const e=Ea(n,t);if(e>=0)return n[1|e]}function Ea(n,t){return function(n,t,e){let i=0,s=n.length>>e;for(;s!==i;){const r=i+(s-i>>1),a=n[r<<e];if(t===a)return r<<e;a>t?s=r:i=r+1}return~(s<<e)}(n,t,1)}const yo={},_o="__NG_DI_FLAG__",ka="ngTempTokenPath",bm=/\n/gm,Tl="__source",Vd=ot({provide:String,useValue:ot});let Un;function Aa(n){const t=Un;return Un=n,t}function Sm(n,t=Se.Default){if(void 0===Un)throw new Error("inject() must be called from an injection context");return null===Un?qc(n,void 0,t):Un.get(n,t&Se.Optional?null:void 0,t)}function H(n,t=Se.Default){return(cd||Sm)(ge(n),t)}const iw=H;function Pa(n){const t=[];for(let e=0;e<n.length;e++){const i=ge(n[e]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let s,r=Se.Default;for(let a=0;a<i.length;a++){const o=i[a],l=Em(o);"number"==typeof l?-1===l?s=o.token:r|=l:s=o}t.push(H(s,r))}else t.push(H(i))}return t}function bo(n,t){return n[_o]=t,n.prototype[_o]=t,n}function Em(n){return n[_o]}function km(n,t,e,i){const s=n[ka];throw t[Tl]&&s.unshift(t[Tl]),n.message=function(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let s=He(t);if(Array.isArray(t))s=t.map(He).join(" -> ");else if("object"==typeof t){let r=[];for(let a in t)if(t.hasOwnProperty(a)){let o=t[a];r.push(a+":"+("string"==typeof o?JSON.stringify(o):He(o)))}s=`{${r.join(", ")}}`}return`${e}${i?"("+i+")":""}[${s}]: ${n.replace(bm,"\n  ")}`}("\n"+n.message,s,e,i),n.ngTokenPath=s,n[ka]=null,n}const gi=bo(ya("Inject",n=>({token:n})),-1),li=bo(ya("Optional"),8),Da=bo(ya("SkipSelf"),4);var nn=(()=>((nn=nn||{})[nn.Important=1]="Important",nn[nn.DashCase=2]="DashCase",nn))();const jd="__ngContext__";function xi(n,t){n[jd]=t}function rs(n){const t=function(n){return n[jd]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function Nl(n,t){return undefined(n,t)}function Ll(n){const t=n[3];return $n(t)?t[3]:t}function Jd(n){return Om(n[13])}function bu(n){return Om(n[4])}function Om(n){for(;null!==n&&!$n(n);)n=n[4];return n}function wo(n,t,e,i,s){if(null!=i){let r,a=!1;$n(i)?r=i:ts(i)&&(a=!0,i=i[0]);const o=ei(i);0===n&&null!==e?null==s?Eo(t,e,o):Nr(t,e,o,s||null,!0):1===n&&null!==e?Nr(t,e,o,s||null,!0):2===n?function(n,t,e){const i=$l(n,t);i&&function(n,t,e,i){Rt(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,o,a):3===n&&t.destroyNode(o),null!=r&&function(n,t,e,i,s){const r=e[7];r!==ei(e)&&wo(t,n,i,r,s);for(let o=10;o<e.length;o++){const l=e[o];Vl(l[1],l,n,t,i,r)}}(t,n,r,e,s)}}function Xd(n,t,e){return Rt(n)?n.createElement(t,e):null===e?n.createElement(t):n.createElementNS(e,t)}function Bm(n,t){const e=n[9],i=e.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,Qc(s,-1)),e.splice(i,1)}function tf(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const s=i[17];null!==s&&s!==n&&Bm(s,i),t>0&&(n[e-1][4]=i[4]);const r=Sa(n,10+t);!function(n,t){Vl(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const a=r[19];null!==a&&a.detachView(r[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function $m(n,t){if(!(256&t[2])){const e=t[11];Rt(e)&&e.destroyNode&&Vl(n,t,e,3,null,null),function(n){let t=n[13];if(!t)return nf(n[1],n);for(;t;){let e=null;if(ts(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)ts(t)&&nf(t[1],t),t=t[3];null===t&&(t=n),ts(t)&&nf(t[1],t),e=t&&t[4]}t=e}}(t)}}function nf(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const s=t[e[i]];if(!(s instanceof Sn)){const r=e[i+1];if(Array.isArray(r))for(let a=0;a<r.length;a+=2){const o=s[r[a]],l=r[a+1];try{l.call(o)}finally{}}else try{r.call(s)}finally{}}}}(n,t),function(n,t){const e=n.cleanup,i=t[7];let s=-1;if(null!==e)for(let r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){const a=e[r+1],o="function"==typeof a?a(t):ei(t[a]),l=i[s=e[r+2]],h=e[r+3];"boolean"==typeof h?o.removeEventListener(e[r],l,h):h>=0?i[s=h]():i[s=-h].unsubscribe(),r+=2}else{const a=i[s=e[r+1]];e[r].call(a)}if(null!==i){for(let r=s+1;r<i.length;r++)i[r]();t[7]=null}}(n,t),1===t[1].type&&Rt(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&$n(t[3])){e!==t[3]&&Bm(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function Hm(n,t,e){return function(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const s=n.data[i.directiveStart].encapsulation;if(s===Kt.None||s===Kt.Emulated)return null}return Fe(i,e)}(n,t.parent,e)}function Nr(n,t,e,i,s){Rt(n)?n.insertBefore(t,e,i,s):t.insertBefore(e,i,s)}function Eo(n,t,e){Rt(n)?n.appendChild(t,e):t.appendChild(e)}function wu(n,t,e,i,s){null!==i?Nr(n,t,e,i,s):Eo(n,t,e)}function $l(n,t){return Rt(n)?n.parentNode(t):t.parentNode}let Lr=function(n,t,e){return 40&n.type?Fe(n,e):null};function ku(n,t,e,i){const s=Hm(n,i,t),r=t[11],o=function(n,t,e){return Lr(n,t,e)}(i.parent||t[6],i,t);if(null!=s)if(Array.isArray(e))for(let l=0;l<e.length;l++)wu(r,s,e[l],o,!1);else wu(r,s,e,o,!1)}function Cu(n,t){if(null!==t){const e=t.type;if(3&e)return Fe(t,n);if(4&e)return of(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Cu(n,i);{const s=n[t.index];return $n(s)?of(-1,s):ei(s)}}if(32&e)return Nl(t,n)()||ei(n[t.index]);{const i=Um(n,t);return null!==i?Array.isArray(i)?i[0]:Cu(Ll(n[16]),i):Cu(n,t.next)}}return null}function Um(n,t){return null!==t?n[16][6].projection[t.projection]:null}function of(n,t){const e=10+n+1;if(e<t.length){const i=t[e],s=i[1].firstChild;if(null!==s)return Cu(i,s)}return t[7]}function cf(n,t,e,i,s,r,a){for(;null!=e;){const o=i[e.index],l=e.type;if(a&&0===t&&(o&&xi(ei(o),i),e.flags|=4),64!=(64&e.flags))if(8&l)cf(n,t,e.child,i,s,r,!1),wo(t,n,s,o,r);else if(32&l){const h=Nl(e,i);let d;for(;d=h();)wo(t,n,s,d,r);wo(t,n,s,o,r)}else 16&l?Gm(n,t,i,e,s,r):wo(t,n,s,o,r);e=a?e.projectionNext:e.next}}function Vl(n,t,e,i,s,r){cf(e,i,n.firstChild,t,s,r,!1)}function Gm(n,t,e,i,s,r){const a=e[16],l=a[6].projection[i.projection];if(Array.isArray(l))for(let h=0;h<l.length;h++)wo(t,n,s,l[h],r);else cf(n,t,l,a[3],s,r,!0)}function uf(n,t,e){Rt(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function Au(n,t,e){Rt(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function An(n){return n instanceof class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?n.changingThisBreaksApplicationSecurity:n}function xu(n){return n.ngOriginalError}function qw(n,...t){n.error(...t)}class Oa{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=this._findContext(t),s=function(n){return n&&n.ngErrorLogger||qw}(t);s(this._console,"ERROR",t),e&&s(this._console,"ORIGINAL ERROR",e),i&&s(this._console,"ERROR CONTEXT",i)}_findContext(t){return t?function(n){return n.ngDebugContext}(t)||this._findContext(xu(t)):null}_findOriginalError(t){let e=t&&xu(t);for(;e&&xu(e);)e=xu(e);return e||null}}const _f=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ut))();function ls(n){return n instanceof Function?n():n}function jl(n,t,e){let i=n.length;for(;;){const s=n.indexOf(t,e);if(-1===s)return s;if(0===s||n.charCodeAt(s-1)<=32){const r=t.length;if(s+r===i||n.charCodeAt(s+r)<=32)return s}e=s+1}}const pv="ng-template";function Kw(n,t,e){let i=0;for(;i<n.length;){let s=n[i++];if(e&&"class"===s){if(s=n[i],-1!==jl(s.toLowerCase(),t,0))return!0}else if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function Mu(n){return 4===n.type&&n.value!==pv}function gv(n,t,e){return t===(4!==n.type||e?n.value:pv)}function Qw(n,t,e){let i=4;const s=n.attrs||[],r=function(n){for(let t=0;t<n.length;t++)if(nm(n[t]))return t;return n.length}(s);let a=!1;for(let o=0;o<t.length;o++){const l=t[o];if("number"!=typeof l){if(!a)if(4&i){if(i=2|1&i,""!==l&&!gv(n,l,e)||""===l&&1===t.length){if(cs(i))return!1;a=!0}}else{const h=8&i?l:t[++o];if(8&i&&null!==n.attrs){if(!Kw(n.attrs,h,e)){if(cs(i))return!1;a=!0}continue}const m=Yw(8&i?"class":l,s,Mu(n),e);if(-1===m){if(cs(i))return!1;a=!0;continue}if(""!==h){let y;y=m>r?"":s[m+1].toLowerCase();const S=8&i?y:null;if(S&&-1!==jl(S,h,0)||2&i&&h!==y){if(cs(i))return!1;a=!0}}}}else{if(!a&&!cs(i)&&!cs(l))return!1;if(a&&cs(l))continue;a=!1,i=l|1&i}}return cs(i)||a}function cs(n){return 0==(1&n)}function Yw(n,t,e,i){if(null===t)return-1;let s=0;if(i||!e){let r=!1;for(;s<t.length;){const a=t[s];if(a===n)return s;if(3===a||6===a)r=!0;else{if(1===a||2===a){let o=t[++s];for(;"string"==typeof o;)o=t[++s];continue}if(4===a)break;if(0===a){s+=4;continue}}s+=r?1:2}return-1}return function(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function mv(n,t,e=!1){for(let i=0;i<t.length;i++)if(Qw(n,t[i],e))return!0;return!1}function vv(n,t){return n?":not("+t.trim()+")":t}function tE(n){let t=n[0],e=1,i=2,s="",r=!1;for(;e<n.length;){let a=n[e];if("string"==typeof a)if(2&i){const o=n[++e];s+="["+a+(o.length>0?'="'+o+'"':"")+"]"}else 8&i?s+="."+a:4&i&&(s+=" "+a);else""!==s&&!cs(a)&&(t+=vv(r,s),s=""),i=a,r=r||!cs(i);e++}return""!==s&&(t+=vv(r,s)),t}const me={};function F(n){yv(rt(),K(),ke()+n,oi())}function yv(n,t,e,i){if(!i)if(3==(3&t[2])){const r=n.preOrderCheckHooks;null!==r&&Hn(t,r,e)}else{const r=n.preOrderHooks;null!==r&&nu(t,r,0,e)}Rr(e)}function Ds(n,t){return n<<17|t<<2}function _e(n){return n>>17&32767}function Ht(n){return 2|n}function lr(n){return(131068&n)>>2}function Ts(n,t){return-131069&n|t<<2}function wf(n){return 1|n}function Pv(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i],r=e[i+1];if(-1!==r){const a=n.data[r];wd(s),a.contentQueries(2,t[r],r)}}}function zl(n,t,e,i,s,r,a,o,l,h){const d=t.blueprint.slice();return d[0]=s,d[2]=140|i,yl(d),d[3]=d[15]=n,d[8]=e,d[10]=a||n&&n[10],d[11]=o||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=h||n&&n[9]||null,d[6]=r,d[16]=2==t.type?n[16]:d,d}function Ao(n,t,e,i,s){let r=n.data[t];if(null===r)r=function(n,t,e,i,s){const r=_l(),a=Zc(),l=n.data[t]=function(n,t,e,i,s,r){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?r:r&&r.parent,e,t,i,s);return null===n.firstChild&&(n.firstChild=l),null!==r&&(a?null==r.child&&null!==l.parent&&(r.child=l):null===r.next&&(r.next=l)),l}(n,t,e,i,s),Ae.lFrame.inI18n&&(r.flags|=64);else if(64&r.type){r.type=e,r.value=i,r.attrs=s;const a=function(){const n=Ae.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();r.injectorIndex=null===a?-1:a.injectorIndex}return ws(r,!0),r}function Po(n,t,e,i){if(0===e)return-1;const s=t.length;for(let r=0;r<e;r++)t.push(i),n.blueprint.push(i),n.data.push(null);return s}function Kl(n,t,e){eu(t);try{const i=n.viewQuery;null!==i&&$f(1,i,e);const s=n.template;null!==s&&Dv(n,t,s,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Pv(n,t),n.staticViewQueries&&$f(2,n.viewQuery,e);const r=n.components;null!==r&&function(n,t){for(let e=0;e<t.length;e++)ME(n,t[e])}(t,r)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,sr()}}function Do(n,t,e,i){const s=t[2];if(256==(256&s))return;eu(t);const r=oi();try{yl(t),function(n){Ae.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Dv(n,t,e,2,i);const a=3==(3&s);if(!r)if(a){const h=n.preOrderCheckHooks;null!==h&&Hn(t,h,null)}else{const h=n.preOrderHooks;null!==h&&nu(t,h,0,null),Ad(t,0)}if(function(n){for(let t=Jd(n);null!==t;t=bu(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const s=e[i],r=s[3];0==(1024&s[2])&&Qc(r,1),s[2]|=1024}}}(t),function(n){for(let t=Jd(n);null!==t;t=bu(t))for(let e=10;e<t.length;e++){const i=t[e],s=i[1];_d(i)&&Do(s,i,s.template,i[8])}}(t),null!==n.contentQueries&&Pv(n,t),!r)if(a){const h=n.contentCheckHooks;null!==h&&Hn(t,h)}else{const h=n.contentHooks;null!==h&&nu(t,h,1),Ad(t,1)}!function(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const s=e[i];if(s<0)Rr(~s);else{const r=s,a=e[++i],o=e[++i];bl(a,r),o(2,t[r])}}}finally{Rr(-1)}}(n,t);const o=n.components;null!==o&&function(n,t){for(let e=0;e<t.length;e++)xE(n,t[e])}(t,o);const l=n.viewQuery;if(null!==l&&$f(2,l,i),!r)if(a){const h=n.viewCheckHooks;null!==h&&Hn(t,h)}else{const h=n.viewHooks;null!==h&&nu(t,h,2),Ad(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Qc(t[3],-1))}finally{sr()}}function pE(n,t,e,i){const s=t[10],r=!oi(),a=Yg(t);try{r&&!a&&s.begin&&s.begin(),a&&Kl(n,t,i),Do(n,t,e,i)}finally{r&&!a&&s.end&&s.end()}}function Dv(n,t,e,i,s){const r=ke(),a=2&i;try{Rr(-1),a&&t.length>20&&yv(n,t,20,oi()),e(i,s)}finally{Rr(r)}}function Tv(n,t,e){if(gl(t)){const s=t.directiveEnd;for(let r=t.directiveStart;r<s;r++){const a=n.data[r];a.contentQueries&&a.contentQueries(1,e[r],r)}}}function Ql(n,t,e){!lo()||(function(n,t,e,i){const s=e.directiveStart,r=e.directiveEnd;n.firstCreatePass||wn(e,t),xi(i,t);const a=e.initialInputs;for(let o=s;o<r;o++){const l=n.data[o],h=is(l);h&&CE(t,e,l);const d=go(t,n,o,e);xi(d,t),null!==a&&AE(0,o-s,d,l,0,a),h&&(_n(e.index,t)[8]=d)}}(n,t,e,Fe(e,t)),128==(128&e.flags)&&function(n,t,e){const i=e.directiveStart,s=e.directiveEnd,a=e.index,o=Ae.lFrame.currentDirectiveIndex;try{Rr(a);for(let l=i;l<s;l++){const h=n.data[l],d=t[l];co(l),(null!==h.hostBindings||0!==h.hostVars||null!==h.hostAttrs)&&$v(h,d)}}finally{Rr(-1),co(o)}}(n,t,e))}function Tf(n,t,e=Fe){const i=t.localNames;if(null!==i){let s=t.index+1;for(let r=0;r<i.length;r+=2){const a=i[r+1],o=-1===a?e(t,n):n[a];n[s++]=o}}}function Nu(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Lu(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Lu(n,t,e,i,s,r,a,o,l,h){const d=20+i,m=d+s,y=function(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:me);return e}(d,m),S="function"==typeof h?h():h;return y[1]={type:n,blueprint:y,template:e,queries:null,viewQuery:o,declTNode:t,data:y.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:l,consts:S,incompleteFirstPass:!1}}function Mv(n,t,e,i){const s=qv(t);null===e?s.push(i):(s.push(e),n.firstCreatePass&&$u(n).push(i,s.length-1))}function Rv(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const s=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,s):e[i]=[t,s]}return e}function Pn(n,t,e,i,s,r,a,o){const l=Fe(t,e);let d,h=t.inputs;!o&&null!=h&&(d=h[i])?(Uv(n,e,d,i,s),ro(t)&&function(n,t){const e=_n(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),s=null!=a?a(s,t.value||"",i):s,Rt(r)?r.setProperty(l,i,s):Dd(i)||(l.setProperty?l.setProperty(i,s):l[i]=s))}function xf(n,t,e,i){let s=!1;if(lo()){const r=function(n,t,e){const i=n.directiveRegistry;let s=null;if(i)for(let r=0;r<i.length;r++){const a=i[r];mv(e,a.selectors,!1)&&(s||(s=[]),au(wn(e,t),n,a.type),is(a)?(Vv(n,e),s.unshift(a)):s.push(a))}return s}(n,t,e),a=null===i?null:{"":-1};if(null!==r){s=!0,Mf(e,n.data.length,r.length);for(let d=0;d<r.length;d++){const m=r[d];m.providersResolver&&m.providersResolver(m)}let o=!1,l=!1,h=Po(n,t,r.length,null);for(let d=0;d<r.length;d++){const m=r[d];e.mergedAttrs=su(e.mergedAttrs,m.hostAttrs),Rf(n,e,t,h,m),kE(h,m,a),null!==m.contentQueries&&(e.flags|=8),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(e.flags|=128);const y=m.type.prototype;!o&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),o=!0),!l&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),h++}!function(n,t){const i=t.directiveEnd,s=n.data,r=t.attrs,a=[];let o=null,l=null;for(let h=t.directiveStart;h<i;h++){const d=s[h],m=d.inputs,y=null===r||Mu(t)?null:PE(m,r);a.push(y),o=Rv(m,h,o),l=Rv(d.outputs,h,l)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=a,t.inputs=o,t.outputs=l}(n,e)}a&&function(n,t,e){if(t){const i=n.localNames=[];for(let s=0;s<t.length;s+=2){const r=e[t[s+1]];if(null==r)throw new Pr("301",`Export of name '${t[s+1]}' not found!`);i.push(t[s],r)}}}(e,i,a)}return e.mergedAttrs=su(e.mergedAttrs,e.attrs),s}function Bv(n,t,e,i,s,r){const a=r.hostBindings;if(a){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const l=~t.index;(function(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=l&&o.push(l),o.push(i,s,a)}}function $v(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Vv(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function kE(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;is(t)&&(e[""]=n)}}function Mf(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function Rf(n,t,e,i,s){n.data[i]=s;const r=s.factory||(s.factory=la(s.type)),a=new Sn(r,is(s),null);n.blueprint[i]=a,e[i]=a,Bv(n,t,0,i,Po(n,e,s.hostVars,me),s)}function CE(n,t,e){const i=Fe(t,n),s=Nu(e),r=n[10],a=Bu(n,zl(n,s,null,e.onPush?64:16,i,t,r,r.createRenderer(i,e),null,null));n[t.index]=a}function Ms(n,t,e,i,s,r){const a=Fe(n,t);!function(n,t,e,i,s,r,a){if(null==r)Rt(n)?n.removeAttribute(t,s,e):t.removeAttribute(s);else{const o=null==a?Me(r):a(r,i||"",s);Rt(n)?n.setAttribute(t,s,o,e):e?t.setAttributeNS(e,s,o):t.setAttribute(s,o)}}(t[11],a,r,n.value,e,i,s)}function AE(n,t,e,i,s,r){const a=r[t];if(null!==a){const o=i.setInput;for(let l=0;l<a.length;){const h=a[l++],d=a[l++],m=a[l++];null!==o?i.setInput(e,m,h,d):e[d]=m}}}function PE(n,t){let e=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;n.hasOwnProperty(s)&&(null===e&&(e=[]),e.push(s,n[s],t[i+1])),i+=2}else i+=2;else i+=4}return e}function Fv(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function xE(n,t){const e=_n(t,n);if(_d(e)){const i=e[1];80&e[2]?Do(i,e,i.template,e[8]):e[5]>0&&Of(e)}}function Of(n){for(let i=Jd(n);null!==i;i=bu(i))for(let s=10;s<i.length;s++){const r=i[s];if(1024&r[2]){const a=r[1];Do(a,r,a.template,r[8])}else r[5]>0&&Of(r)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const s=_n(e[i],n);_d(s)&&s[5]>0&&Of(s)}}function ME(n,t){const e=_n(t,n),i=e[1];(function(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),Kl(i,e,e[8])}function Bu(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Nf(n){for(;n;){n[2]|=64;const t=Ll(n);if(pd(n)&&!t)return n;n=t}return null}function Bf(n,t,e){const i=t[10];i.begin&&i.begin();try{Do(n,t,n.template,e)}catch(s){throw Ff(t,s),s}finally{i.end&&i.end()}}function Hv(n){!function(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=rs(e),s=i[1];pE(s,i,s.template,e)}}(n[8])}function $f(n,t,e){wd(0),t(n,e)}const LE=(()=>Promise.resolve(null))();function qv(n){return n[7]||(n[7]=[])}function $u(n){return n.cleanup||(n.cleanup=[])}function Ff(n,t){const e=n[9],i=e?e.get(Oa,null):null;i&&i.handleError(t)}function Uv(n,t,e,i,s){for(let r=0;r<e.length;){const a=e[r++],o=e[r++],l=t[a],h=n.data[a];null!==h.setInput?h.setInput(l,s,i,o):l[o]=s}}function cr(n,t,e){const i=ua(t,n);!function(n,t,e){Rt(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function Vu(n,t,e){let i=e?n.styles:null,s=e?n.classes:null,r=0;if(null!==t)for(let a=0;a<t.length;a++){const o=t[a];"number"==typeof o?r=o:1==r?s=id(s,o):2==r&&(i=id(i,o+": "+t[++a]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=s:n.classesWithoutHost=s}const xo=new be("INJECTOR",-1);class zi{get(t,e=yo){if(e===yo){const i=new Error(`NullInjectorError: No provider for ${He(t)}!`);throw i.name="NullInjectorError",i}return e}}const La=new be("Set Injector scope."),Yl={},$E={};let qf;function Gv(){return void 0===qf&&(qf=new zi),qf}function jv(n,t=null,e=null,i){return new Gf(n,e,t||Gv(),i)}class Gf{constructor(t,e,i,s=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&Es(e,o=>this.processProvider(o,t,e)),Es([t],o=>this.processInjectorType(o,[],r)),this.records.set(xo,Ba(void 0,this));const a=this.records.get(La);this.scope=null!=a?a.value:null,this.source=s||("object"==typeof t?null:He(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=yo,i=Se.Default){this.assertNotDestroyed();const s=Aa(this),r=er(void 0);try{if(!(i&Se.SkipSelf)){let o=this.records.get(t);if(void 0===o){const l=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof be}(t)&&Xs(t);o=l&&this.injectableDefInScope(l)?Ba(jf(t),Yl):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(i&Se.Self?Gv():this.parent).get(t,e=i&Se.Optional&&e===yo?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[ka]=a[ka]||[]).unshift(He(t)),s)throw a;return km(a,t,"R3InjectorError",this.source)}throw a}finally{er(r),Aa(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,s)=>t.push(He(s))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,i){if(!(t=ge(t)))return!1;let s=ad(t);const r=null==s&&t.ngModule||void 0,a=void 0===r?t:r,o=-1!==i.indexOf(a);if(void 0!==r&&(s=ad(r)),null==s)return!1;if(null!=s.imports&&!o){let d;i.push(a);try{Es(s.imports,m=>{this.processInjectorType(m,e,i)&&(void 0===d&&(d=[]),d.push(m))})}finally{}if(void 0!==d)for(let m=0;m<d.length;m++){const{ngModule:y,providers:S}=d[m];Es(S,k=>this.processProvider(k,y,S||yt))}}this.injectorDefTypes.add(a);const l=la(a)||(()=>new a);this.records.set(a,Ba(l,Yl));const h=s.providers;if(null!=h&&!o){const d=t;Es(h,m=>this.processProvider(m,d,h))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,i){let s=Vr(t=ge(t))?t:ge(t&&t.provide);const r=function(n,t,e){return zv(n)?Ba(void 0,n.useValue):Ba(Wv(n),Yl)}(t);if(Vr(t)||!0!==t.multi)this.records.get(s);else{let a=this.records.get(s);a||(a=Ba(void 0,Yl,!0),a.factory=()=>Pa(a.multi),this.records.set(s,a)),s=t,a.multi.push(t)}this.records.set(s,r)}hydrate(t,e){return e.value===Yl&&(e.value=$E,e.value=e.factory()),"object"==typeof e.value&&e.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=ge(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function jf(n){const t=Xs(n),e=null!==t?t.factory:la(n);if(null!==e)return e;if(n instanceof be)throw new Error(`Token ${He(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const t=n.length;if(t>0){const i=function(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}(t,"?");throw new Error(`Can't resolve all parameters for ${He(n)}: (${i.join(", ")}).`)}const e=function(n){const t=n&&(n[to]||n[ld]);if(t){const e=function(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Error("unreachable")}function Wv(n,t,e){let i;if(Vr(n)){const s=ge(n);return la(s)||jf(s)}if(zv(n))i=()=>ge(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Pa(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))i=()=>H(ge(n.useExisting));else{const s=ge(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return la(s)||jf(s);i=()=>new s(...Pa(n.deps))}return i}function Ba(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function zv(n){return null!==n&&"object"==typeof n&&Vd in n}function Vr(n){return"function"==typeof n}const Kv=function(n,t,e){return function(n,t=null,e=null,i){const s=jv(n,t,e,i);return s._resolveInjectorDefTypes(),s}({name:e},t,n,e)};let At=(()=>{class n{static create(e,i){return Array.isArray(e)?Kv(e,i,""):Kv(e.providers,e.parent,e.name||"")}}return n.THROW_IF_NOT_FOUND=yo,n.NULL=new zi,n.\u0275prov=ue({token:n,providedIn:"any",factory:()=>H(xo)}),n.__NG_ELEMENT_ID__=-1,n})();function WH(n,t){iu(rs(n)[1],jt())}function Ot(n){let t=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let s;if(is(n))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");s=t.\u0275dir}if(s){if(e){i.push(s);const a=n;a.inputs=ZE(n.inputs),a.declaredInputs=ZE(n.declaredInputs),a.outputs=ZE(n.outputs);const o=s.hostBindings;o&&YH(n,o);const l=s.viewQuery,h=s.contentQueries;if(l&&KH(n,l),h&&QH(n,h),Vc(n.inputs,s.inputs),Vc(n.declaredInputs,s.declaredInputs),Vc(n.outputs,s.outputs),is(s)&&s.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(s.data.animation)}}const r=s.features;if(r)for(let a=0;a<r.length;a++){const o=r[a];o&&o.ngInherit&&o(n),o===Ot&&(e=!1)}}t=Object.getPrototypeOf(t)}!function(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const s=n[i];s.hostVars=t+=s.hostVars,s.hostAttrs=su(s.hostAttrs,e=su(e,s.hostAttrs))}}(i)}function ZE(n){return n===io?{}:n===yt?[]:n}function KH(n,t){const e=n.viewQuery;n.viewQuery=e?(i,s)=>{t(i,s),e(i,s)}:t}function QH(n,t){const e=n.contentQueries;n.contentQueries=e?(i,s,r)=>{t(i,s,r),e(i,s,r)}:t}function YH(n,t){const e=n.hostBindings;n.hostBindings=e?(i,s)=>{t(i,s),e(i,s)}:t}let Xv=null;function Fu(){if(!Xv){const n=ut.Symbol;if(n&&n.iterator)Xv=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Xv=i)}}}return Xv}class hr{constructor(t){this.wrapped=t}static wrap(t){return new hr(t)}static unwrap(t){return hr.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof hr}}function Yf(n){return!!XE(n)&&(Array.isArray(n)||!(n instanceof Map)&&Fu()in n)}function XE(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Hr(n,t,e){return n[t]=e}function on(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Jl(n,t,e,i){const s=on(n,t,e);return on(n,t+1,i)||s}function dr(n,t,e,i){const s=K();return on(s,xr(),t)&&(rt(),Ms(Ft(),s,n,t,e,i)),dr}function qu(n,t,e,i){return on(n,xr(),e)?t+Me(e)+i:me}function Te(n,t,e,i,s,r,a,o){const l=K(),h=rt(),d=n+20,m=h.firstCreatePass?function(n,t,e,i,s,r,a,o,l){const h=t.consts,d=Ao(t,n,4,a||null,Hi(h,o));xf(t,e,d,Hi(h,l)),iu(t,d);const m=d.tViews=Lu(2,d,i,s,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,h);return null!==t.queries&&(t.queries.template(t,d),m.queries=t.queries.embeddedTView(d)),d}(d,h,l,t,e,i,s,r,a):h.data[d];ws(m,!1);const y=l[11].createComment("");ku(h,l,y,m),xi(y,l),Bu(l,l[d]=Fv(y,l,y,m)),ml(m)&&Ql(h,l,m),null!=a&&Tf(l,m,o)}function $(n,t=Se.Default){const e=K();return null===e?H(n,t):ar(jt(),e,ge(n),t)}function z(n,t,e){const i=K();return on(i,xr(),t)&&Pn(rt(),Ft(),i,n,t,i[11],e,!1),z}function sk(n,t,e,i,s){const a=s?"class":"style";Uv(n,e,t.inputs[a],a,i)}function p(n,t,e,i){const s=K(),r=rt(),a=20+n,o=s[11],l=s[a]=Xd(o,t,Ae.lFrame.currentNamespace),h=r.firstCreatePass?function(n,t,e,i,s,r,a){const o=t.consts,h=Ao(t,n,2,s,Hi(o,r));return xf(t,e,h,Hi(o,a)),null!==h.attrs&&Vu(h,h.attrs,!1),null!==h.mergedAttrs&&Vu(h,h.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,h),h}(a,r,s,0,t,e,i):r.data[a];ws(h,!0);const d=h.mergedAttrs;null!==d&&en(o,l,d);const m=h.classes;null!==m&&Au(o,l,m);const y=h.styles;null!==y&&uf(o,l,y),64!=(64&h.flags)&&ku(r,s,l,h),0===Ae.lFrame.elementDepthCount&&xi(l,s),Ae.lFrame.elementDepthCount++,ml(h)&&(Ql(r,s,h),Tv(r,h,s)),null!==i&&Tf(s,h)}function g(){let n=jt();Zc()?bd():(n=n.parent,ws(n,!1));const t=n;Ae.lFrame.elementDepthCount--;const e=rt();e.firstCreatePass&&(iu(e,n),gl(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(t)&&sk(e,t,K(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(t)&&sk(e,t,K(),t.stylesWithoutHost,!1)}function ne(n,t,e,i){p(n,t,e,i),g()}function iy(n,t,e){const i=K(),s=rt(),r=n+20,a=s.firstCreatePass?function(n,t,e,i,s){const r=t.consts,a=Hi(r,i),o=Ao(t,n,8,"ng-container",a);return null!==a&&Vu(o,a,!0),xf(t,e,o,Hi(r,s)),null!==t.queries&&t.queries.elementStart(t,o),o}(r,s,i,t,e):s.data[r];ws(a,!0);const o=i[r]=i[11].createComment("");ku(s,i,o,a),xi(o,i),ml(a)&&(Ql(s,i,a),Tv(s,a,i)),null!=e&&Tf(i,a)}function ny(){let n=jt();const t=rt();Zc()?bd():(n=n.parent,ws(n,!1)),t.firstCreatePass&&(iu(t,n),gl(n)&&t.queries.elementEnd(n))}function qr(){return K()}function sy(n){return!!n&&"function"==typeof n.then}const rk=function(n){return!!n&&"function"==typeof n.subscribe};function Ue(n,t,e,i){const s=K(),r=rt(),a=jt();return function(n,t,e,i,s,r,a,o){const l=ml(i),d=n.firstCreatePass&&$u(n),m=t[8],y=qv(t);let S=!0;if(3&i.type||o){const D=Fe(i,t),N=o?o(D):D,I=y.length,U=o?O=>o(ei(O[i.index])):i.index;if(Rt(e)){let O=null;if(!o&&l&&(O=function(n,t,e,i){const s=n.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const a=s[r];if(a===e&&s[r+1]===i){const o=t[7],l=s[r+2];return o.length>l?o[l]:null}"string"==typeof a&&(r+=2)}return null}(n,t,s,i.index)),null!==O)(O.__ngLastListenerFn__||O).__ngNextListenerFn__=r,O.__ngLastListenerFn__=r,S=!1;else{r=ak(i,t,m,r,!1);const G=e.listen(N,s,r);y.push(r,G),d&&d.push(s,U,I,I+1)}}else r=ak(i,t,m,r,!0),N.addEventListener(s,r,a),y.push(r),d&&d.push(s,U,I,a)}else r=ak(i,t,m,r,!1);const k=i.outputs;let T;if(S&&null!==k&&(T=k[s])){const D=T.length;if(D)for(let N=0;N<D;N+=2){const Y=t[T[N]][T[N+1]].subscribe(r),oe=y.length;y.push(r,Y),d&&d.push(s,i.index,oe,-(oe+1))}}}(r,s,s[11],a,n,t,!!e,i),Ue}function DN(n,t,e,i){try{return!1!==e(i)}catch(s){return Ff(n,s),!1}}function ak(n,t,e,i,s){return function r(a){if(a===Function)return i;const o=2&n.flags?_n(n.index,t):t;0==(32&t[2])&&Nf(o);let l=DN(t,0,i,a),h=r.__ngNextListenerFn__;for(;h;)l=DN(t,0,h,a)&&l,h=h.__ngNextListenerFn__;return s&&!1===l&&(a.preventDefault(),a.returnValue=!1),l}}function Ge(n=1){return function(n){return(Ae.lFrame.contextLView=function(n,t){for(;n>0;)t=t[15],n--;return t}(n,Ae.lFrame.contextLView))[8]}(n)}function Zf(n,t,e,i,s){const r=K(),a=qu(r,t,e,i);return a!==me&&Pn(rt(),Ft(),r,n,a,r[11],s,!1),Zf}function FN(n,t,e,i,s){const r=n[e+1],a=null===t;let o=i?_e(r):lr(r),l=!1;for(;0!==o&&(!1===l||a);){const d=n[o+1];Nq(n[o],t)&&(l=!0,n[o+1]=i?wf(d):Ht(d)),o=i?_e(d):lr(d)}l&&(n[e+1]=i?Ht(r):wf(r))}function Nq(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Ea(n,t)>=0}const wi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function HN(n){return n.substring(wi.key,wi.keyEnd)}function qN(n,t){const e=wi.textEnd;return e===t?-1:(t=wi.keyEnd=function(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,wi.key=t,e),Ju(n,t,e))}function Ju(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Xf(n,t,e){return fr(n,t,e,!1),Xf}function Zl(n,t){return fr(n,t,null,!0),Zl}function Os(n){!function(n,t,e,i){const s=rt(),r=bn(2);s.firstUpdatePass&&KN(s,null,r,i);const a=K();if(e!==me&&on(a,r,e)){const o=s.data[ke()];if(ZN(o,i)&&!zN(s,r)){let l=i?o.classesWithoutHost:o.stylesWithoutHost;null!==l&&(e=id(l,e||"")),sk(s,o,a,e,i)}else!function(n,t,e,i,s,r,a,o){s===me&&(s=yt);let l=0,h=0,d=0<s.length?s[0]:null,m=0<r.length?r[0]:null;for(;null!==d||null!==m;){const y=l<s.length?s[l+1]:void 0,S=h<r.length?r[h+1]:void 0;let T,k=null;d===m?(l+=2,h+=2,y!==S&&(k=m,T=S)):null===m||null!==d&&d<m?(l+=2,k=d):(h+=2,k=m,T=S),null!==k&&YN(n,t,e,i,k,T,a,o),d=l<s.length?s[l]:null,m=h<r.length?r[h]:null}}(s,o,a,a[11],a[r+1],a[r+1]=function(n,t,e){if(null==e||""===e)return yt;const i=[],s=An(e);if(Array.isArray(s))for(let r=0;r<s.length;r++)n(i,s[r],!0);else if("object"==typeof s)for(const r in s)s.hasOwnProperty(r)&&n(i,r,s[r]);else"string"==typeof s&&t(i,s);return i}(n,t,e),i,r)}}(kn,Gr,n,!0)}function Gr(n,t){for(let e=function(n){return function(n){wi.key=0,wi.keyEnd=0,wi.value=0,wi.valueEnd=0,wi.textEnd=n.length}(n),qN(n,Ju(n,0,wi.textEnd))}(t);e>=0;e=qN(t,e))kn(n,HN(t),!0)}function fr(n,t,e,i){const s=K(),r=rt(),a=bn(2);r.firstUpdatePass&&KN(r,n,a,i),t!==me&&on(s,a,t)&&YN(r,r.data[ke()],s,s[11],n,s[a+1]=function(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=He(An(n)))),n}(t,e),i,a)}function zN(n,t){return t>=n.expandoStartIndex}function KN(n,t,e,i){const s=n.data;if(null===s[e+1]){const r=s[ke()],a=zN(n,e);ZN(r,i)&&null===t&&!a&&(t=!1),t=function(n,t,e,i){const s=function(n){const t=Ae.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let r=i?t.residualClasses:t.residualStyles;if(null===s)0===(i?t.classBindings:t.styleBindings)&&(e=ep(e=ok(null,n,t,e,i),t.attrs,i),r=null);else{const a=t.directiveStylingLast;if(-1===a||n[a]!==s)if(e=ok(s,n,t,e,i),null===r){let l=function(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==lr(i))return n[_e(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=ok(null,n,t,l[1],i),l=ep(l,t.attrs,i),function(n,t,e,i){n[_e(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else r=function(n,t,e){let i;const s=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<s;r++)i=ep(i,n[r].hostAttrs,e);return ep(i,t.attrs,e)}(n,t,i)}return void 0!==r&&(i?t.residualClasses=r:t.residualStyles=r),e}(s,r,t,i),function(n,t,e,i,s,r){let a=r?t.classBindings:t.styleBindings,o=_e(a),l=lr(a);n[i]=e;let d,h=!1;if(Array.isArray(e)){const m=e;d=m[1],(null===d||Ea(m,d)>0)&&(h=!0)}else d=e;if(s)if(0!==l){const y=_e(n[o+1]);n[i+1]=Ds(y,o),0!==y&&(n[y+1]=Ts(n[y+1],i)),n[o+1]=function(n,t){return 131071&n|t<<17}(n[o+1],i)}else n[i+1]=Ds(o,0),0!==o&&(n[o+1]=Ts(n[o+1],i)),o=i;else n[i+1]=Ds(l,0),0===o?o=i:n[l+1]=Ts(n[l+1],i),l=i;h&&(n[i+1]=Ht(n[i+1])),FN(n,d,i,!0),FN(n,d,i,!1),function(n,t,e,i,s){const r=s?n.residualClasses:n.residualStyles;null!=r&&"string"==typeof t&&Ea(r,t)>=0&&(e[i+1]=wf(e[i+1]))}(t,d,n,i,r),a=Ds(o,l),r?t.classBindings=a:t.styleBindings=a}(s,r,t,e,a,i)}}function ok(n,t,e,i,s){let r=null;const a=e.directiveEnd;let o=e.directiveStylingLast;for(-1===o?o=e.directiveStart:o++;o<a&&(r=t[o],i=ep(i,r.hostAttrs,s),r!==n);)o++;return null!==n&&(e.directiveStylingLast=o),i}function ep(n,t,e){const i=e?1:2;let s=-1;if(null!==t)for(let r=0;r<t.length;r++){const a=t[r];"number"==typeof a?s=a:s===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),kn(n,a,!!e||t[++r]))}return void 0===n?null:n}function YN(n,t,e,i,s,r,a,o){if(!(3&t.type))return;const l=n.data,h=l[o+1];ry(function(n){return 1==(1&n)}(h)?JN(l,t,e,s,lr(h),a):void 0)||(ry(r)||function(n){return 2==(2&n)}(h)&&(r=JN(l,null,e,s,o,a)),function(n,t,e,i,s){const r=Rt(n);if(t)s?r?n.addClass(e,i):e.classList.add(i):r?n.removeClass(e,i):e.classList.remove(i);else{let a=-1===i.indexOf("-")?void 0:nn.DashCase;if(null==s)r?n.removeStyle(e,i,a):e.style.removeProperty(i);else{const o="string"==typeof s&&s.endsWith("!important");o&&(s=s.slice(0,-10),a|=nn.Important),r?n.setStyle(e,i,s,a):e.style.setProperty(i,s,o?"important":"")}}}(i,a,ua(ke(),e),s,r))}function JN(n,t,e,i,s,r){const a=null===t;let o;for(;s>0;){const l=n[s],h=Array.isArray(l),d=h?l[1]:l,m=null===d;let y=e[s+1];y===me&&(y=m?yt:void 0);let S=m?wa(y,i):d===i?y:void 0;if(h&&!ry(S)&&(S=wa(l,i)),ry(S)&&(o=S,a))return o;const k=n[s+1];s=a?_e(k):lr(k)}if(null!==t){let l=r?t.residualClasses:t.residualStyles;null!=l&&(o=wa(l,i))}return o}function ry(n){return void 0!==n}function ZN(n,t){return 0!=(n.flags&(t?16:32))}function w(n,t=""){const e=K(),i=rt(),s=n+20,r=i.firstCreatePass?Ao(i,s,1,t,null):i.data[s],a=e[s]=function(n,t){return Rt(n)?n.createText(t):n.createTextNode(t)}(e[11],t);ku(i,e,a,r),ws(r,!1)}function Ii(n){return Ei("",n,""),Ii}function Ei(n,t,e){const i=K(),s=qu(i,n,t,e);return s!==me&&cr(i,ke(),s),Ei}function tp(n,t,e,i,s){const r=K(),a=function(n,t,e,i,s,r){const o=Jl(n,ns(),e,s);return bn(2),o?t+Me(e)+i+Me(s)+r:me}(r,n,t,e,i,s);return a!==me&&cr(r,ke(),a),tp}const Xl=void 0;var gU=["en",[["a","p"],["AM","PM"],Xl],[["AM","PM"],Xl,Xl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xl,"{1} 'at' {0}",Xl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===e?1:5}];let Zu={};function yL(n){return n in Zu||(Zu[n]=ut.ng&&ut.ng.common&&ut.ng.common.locales&&ut.ng.common.locales[n]),Zu[n]}var ae=(()=>((ae=ae||{})[ae.LocaleId=0]="LocaleId",ae[ae.DayPeriodsFormat=1]="DayPeriodsFormat",ae[ae.DayPeriodsStandalone=2]="DayPeriodsStandalone",ae[ae.DaysFormat=3]="DaysFormat",ae[ae.DaysStandalone=4]="DaysStandalone",ae[ae.MonthsFormat=5]="MonthsFormat",ae[ae.MonthsStandalone=6]="MonthsStandalone",ae[ae.Eras=7]="Eras",ae[ae.FirstDayOfWeek=8]="FirstDayOfWeek",ae[ae.WeekendRange=9]="WeekendRange",ae[ae.DateFormat=10]="DateFormat",ae[ae.TimeFormat=11]="TimeFormat",ae[ae.DateTimeFormat=12]="DateTimeFormat",ae[ae.NumberSymbols=13]="NumberSymbols",ae[ae.NumberFormats=14]="NumberFormats",ae[ae.CurrencyCode=15]="CurrencyCode",ae[ae.CurrencySymbol=16]="CurrencySymbol",ae[ae.CurrencyName=17]="CurrencyName",ae[ae.Currencies=18]="Currencies",ae[ae.Directionality=19]="Directionality",ae[ae.PluralCase=20]="PluralCase",ae[ae.ExtraData=21]="ExtraData",ae))();const ay="en-US";let _L=ay;function lk(n){mn(n,"Expected localeId to be defined"),"string"==typeof n&&(_L=n.toLowerCase().replace(/_/g,"-"))}function hk(n,t,e,i,s){if(n=ge(n),Array.isArray(n))for(let r=0;r<n.length;r++)hk(n[r],t,e,i,s);else{const r=rt(),a=K();let o=Vr(n)?n:ge(n.provide),l=Wv(n);const h=jt(),d=1048575&h.providerIndexes,m=h.directiveStart,y=h.providerIndexes>>20;if(Vr(n)||!n.multi){const S=new Sn(l,s,$),k=fk(o,t,s?d:d+y,m);-1===k?(au(wn(h,a),r,o),dk(r,n,t.length),t.push(o),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),e.push(S),a.push(S)):(e[k]=S,a[k]=S)}else{const S=fk(o,t,d+y,m),k=fk(o,t,d,d+y),T=S>=0&&e[S],D=k>=0&&e[k];if(s&&!D||!s&&!T){au(wn(h,a),r,o);const N=function(n,t,e,i,s){const r=new Sn(n,e,$);return r.multi=[],r.index=t,r.componentProviders=0,UL(r,s,i&&!e),r}(s?dG:hG,e.length,s,i,l);!s&&D&&(e[k].providerFactory=N),dk(r,n,t.length,0),t.push(o),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),e.push(N),a.push(N)}else dk(r,n,S>-1?S:k,UL(e[s?k:S],l,!s&&i));!s&&i&&D&&e[k].componentProviders++}}}function dk(n,t,e,i){const s=Vr(t);if(s||function(n){return!!n.useClass}(t)){const a=(t.useClass||t).prototype.ngOnDestroy;if(a){const o=n.destroyHooks||(n.destroyHooks=[]);if(!s&&t.multi){const l=o.indexOf(e);-1===l?o.push(e,[i,a]):o[l+1].push(i,a)}else o.push(e,a)}}}function UL(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function fk(n,t,e,i){for(let s=e;s<i;s++)if(t[s]===n)return s;return-1}function hG(n,t,e,i){return pk(this.multi,[])}function dG(n,t,e,i){const s=this.multi;let r;if(this.providerFactory){const a=this.providerFactory.componentProviders,o=go(e,e[1],this.providerFactory.index,i);r=o.slice(0,a),pk(s,r);for(let l=a;l<o.length;l++)r.push(o[l])}else r=[],pk(s,r);return r}function pk(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function lt(n,t=[]){return e=>{e.providersResolver=(i,s)=>function(n,t,e){const i=rt();if(i.firstCreatePass){const s=is(n);hk(e,i.data,i.blueprint,s,!0),hk(t,i.data,i.blueprint,s,!1)}}(i,s?s(n):n,t)}}class GL{}const WL="ngComponent";class gG{resolveComponentFactory(t){throw function(n){const t=Error(`No component factory found for ${He(n)}. Did you add it to @NgModule.entryComponents?`);return t[WL]=n,t}(t)}}let eh=(()=>{class n{}return n.NULL=new gG,n})();function hy(...n){}function th(n,t){return new Nt(Fe(n,t))}const yG=function(){return th(jt(),K())};let Nt=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=yG,n})();function zL(n){return n instanceof Nt?n.nativeElement:n}class ec{}let tc=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>bG(),n})();const bG=function(){const n=K(),e=_n(jt().index,n);return function(n){return n[11]}(ts(e)?e:n)};let mk=(()=>{class n{}return n.\u0275prov=ue({token:n,providedIn:"root",factory:()=>null}),n})();class dy{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const KL=new dy("12.2.17");class QL{constructor(){}supports(t){return Yf(t)}create(t){return new kG(t)}}const EG=(n,t)=>t;class kG{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||EG}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,s=0,r=null;for(;e||i;){const a=!i||e&&e.currentIndex<JL(i,s,r)?e:i,o=JL(a,s,r),l=a.currentIndex;if(a===i)s--,i=i._nextRemoved;else if(e=e._next,null==a.previousIndex)s++;else{r||(r=[]);const h=o-s,d=l-s;if(h!=d){for(let y=0;y<h;y++){const S=y<r.length?r[y]:r[y]=0,k=S+y;d<=k&&k<h&&(r[y]=S+1)}r[a.previousIndex]=d-h}}o!==l&&t(a,o,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Yf(t))throw new Error(`Error trying to diff '${He(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,r,a,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let o=0;o<this.length;o++)r=t[o],a=this._trackByFn(o,r),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,r,a,o)),Object.is(e.item,r)||this._addIdentityChange(e,r)):(e=this._mismatch(e,r,a,o),i=!0),e=e._next}else s=0,function(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Fu()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,o=>{a=this._trackByFn(s,o),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,o,a,s)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,a,s),i=!0),e=e._next,s++}),this.length=s;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,s){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,s)):t=this._addAfter(new CG(e,i),r,s),t}_verifyReinsertion(t,e,i,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?t=this._reinsertAfter(r,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,r=t._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const s=null===e?this._itHead:e._next;return t._next=s,t._prev=e,null===s?this._itTail=t:s._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new YL),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new YL),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class CG{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class AG{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class YL{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new AG,this.map.set(e,i)),i.add(t)}get(t,e){const s=this.map.get(t);return s?s.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function JL(n,t,e){const i=n.previousIndex;if(null===i)return i;let s=0;return e&&i<e.length&&(s=e[i]),i+t+s}class ZL{constructor(){}supports(t){return t instanceof Map||XE(t)}create(){return new PG}}class PG{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||XE(t)))throw new Error(`Error trying to diff '${He(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,s)=>{if(e&&e.key===s)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(s,i);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,e);const r=s._prev,a=s._next;return r&&(r._next=a),a&&(a._prev=r),s._next=null,s._prev=null,s}const i=new DG(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class DG{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function XL(){return new ih([new QL])}let ih=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||XL()),deps:[[n,new Da,new li]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'`)}}return n.\u0275prov=ue({token:n,providedIn:"root",factory:XL}),n})();function e2(){return new nh([new ZL])}let nh=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||e2()),deps:[[n,new Da,new li]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(i)return i;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return n.\u0275prov=ue({token:n,providedIn:"root",factory:e2}),n})();function fy(n,t,e,i,s=!1){for(;null!==e;){const r=t[e.index];if(null!==r&&i.push(ei(r)),$n(r))for(let o=10;o<r.length;o++){const l=r[o],h=l[1].firstChild;null!==h&&fy(l[1],l,h,i)}const a=e.type;if(8&a)fy(n,t,e.child,i);else if(32&a){const o=Nl(e,t);let l;for(;l=o();)i.push(l)}else if(16&a){const o=Um(t,e);if(Array.isArray(o))i.push(...o);else{const l=Ll(t[16]);fy(l[1],l,o,i,!0)}}e=s?e.projectionNext:e.next}return i}class ap{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return fy(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if($n(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(tf(t,i),Sa(e,i))}this._attachedToViewContainer=!1}$m(this._lView[1],this._lView)}onDestroy(t){Mv(this._lView[1],this._lView,null,t)}markForCheck(){Nf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Bf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,t,e){Xc(!0);try{Bf(n,t,e)}finally{Xc(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,t){Vl(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class xG extends ap{constructor(t){super(t),this._view=t}detectChanges(){Hv(this._view)}checkNoChanges(){!function(n){Xc(!0);try{Hv(n)}finally{Xc(!1)}}(this._view)}get context(){return null}}const RG=function(n){return function(n,t,e){if(ro(n)&&!e){const i=_n(n.index,t);return new ap(i,i)}return 47&n.type?new ap(t[16],t):null}(jt(),K(),16==(16&n))};let py=(()=>{class n{}return n.__NG_ELEMENT_ID__=RG,n})();const NG=[new ZL],BG=new ih([new QL]),$G=new nh(NG),FG=function(){return gy(jt(),K())};let Ns=(()=>{class n{}return n.__NG_ELEMENT_ID__=FG,n})();const HG=Ns,qG=class extends HG{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=zl(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(i[19]=r.createEmbeddedView(e)),Kl(e,i,t),new ap(i)}};function gy(n,t){return 4&n.type?new qG(t,n,th(n,t)):null}class ic{}const WG=function(){return s2(jt(),K())};let Ls=(()=>{class n{}return n.__NG_ELEMENT_ID__=WG,n})();const KG=Ls,t2=class extends KG{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return th(this._hostTNode,this._hostLView)}get injector(){return new Gi(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ui(this._hostTNode,this._hostLView);if(rm(t)){const e=ho(t,this._hostLView),i=ma(t);return new Gi(e[1].data[i+8],e)}return new Gi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=n2(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const s=t.createEmbeddedView(e||{});return this.insert(s,i),s}createComponent(t,e,i,s,r){const a=i||this.parentInjector;if(!r&&null==t.ngModule&&a){const l=a.get(ic,null);l&&(r=l)}const o=t.create(a,s,void 0,r);return this.insert(o.hostView,e),o}insert(t,e){const i=t._lView,s=i[1];if(function(n){return $n(n[3])}(i)){const d=this.indexOf(t);if(-1!==d)this.detach(d);else{const m=i[3],y=new t2(m,m[6],m[3]);y.detach(y.indexOf(t))}}const r=this._adjustIndex(e),a=this._lContainer;!function(n,t,e,i){const s=10+i,r=e.length;i>0&&(e[s-1][4]=t),i<r-10?(t[4]=e[s],Dl(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const a=t[17];null!==a&&e!==a&&function(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(a,t);const o=t[19];null!==o&&o.insertView(n),t[2]|=128}(s,i,a,r);const o=of(r,a),l=i[11],h=$l(l,a[7]);return null!==h&&function(n,t,e,i,s,r){i[0]=s,i[6]=t,Vl(n,i,e,1,s,r)}(s,a[6],l,i,h,o),t.attachToViewContainerRef(),Dl(vk(a),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=n2(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=tf(this._lContainer,e);i&&(Sa(vk(this._lContainer),e),$m(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=tf(this._lContainer,e);return i&&null!=Sa(vk(this._lContainer),e)?new ap(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function n2(n){return n[8]}function vk(n){return n[8]||(n[8]=[])}function s2(n,t){let e;const i=t[n.index];if($n(i))e=i;else{let s;if(8&n.type)s=ei(i);else{const r=t[11];s=r.createComment("");const a=Fe(n,t);Nr(r,$l(r,a),s,function(n,t){return Rt(n)?n.nextSibling(t):t.nextSibling}(r,a),!1)}t[n.index]=e=Fv(i,t,s,n),Bu(t,e)}return new t2(e,n,t)}const oh={};class k2 extends eh{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Pi(t);return new A2(e,this.ngModule)}}function C2(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}const G5=new be("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>_f});class A2 extends GL{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function(n){return n.map(tE).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return C2(this.componentDef.inputs)}get outputs(){return C2(this.componentDef.outputs)}create(t,e,i,s){const r=(s=s||this.ngModule)?function(n,t){return{get:(e,i,s)=>{const r=n.get(e,oh,s);return r!==oh||i===oh?r:t.get(e,i,s)}}}(t,s.injector):t,a=r.get(ec,yn),o=r.get(mk,null),l=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",d=i?function(n,t,e){if(Rt(n))return n.selectRootElement(t,e===Kt.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(l,i,this.componentDef.encapsulation):Xd(a.createRenderer(null,this.componentDef),h,function(n){const t=n.toLowerCase();return"svg"===t?V:"math"===t?"http://www.w3.org/1998/MathML/":null}(h)),m=this.componentDef.onPush?576:528,y=function(n,t){return{components:[],scheduler:n||_f,clean:LE,playerHandler:t||null,flags:0}}(),S=Lu(0,null,null,1,0,null,null,null,null,null),k=zl(null,S,y,m,null,null,a,l,o,r);let T,D;eu(k);try{const N=function(n,t,e,i,s,r){const a=e[1];e[20]=n;const l=Ao(a,20,2,"#host",null),h=l.mergedAttrs=t.hostAttrs;null!==h&&(Vu(l,h,!0),null!==n&&(en(s,n,h),null!==l.classes&&Au(s,n,l.classes),null!==l.styles&&uf(s,n,l.styles)));const d=i.createRenderer(n,t),m=zl(e,Nu(t),null,t.onPush?64:16,e[20],l,i,d,r||null,null);return a.firstCreatePass&&(au(wn(l,e),a,t.type),Vv(a,l),Mf(l,e.length,1)),Bu(e,m),e[20]=m}(d,this.componentDef,k,a,l);if(d)if(i)en(l,d,["ng-version",KL.full]);else{const{attrs:I,classes:U}=function(n){const t=[],e=[];let i=1,s=2;for(;i<n.length;){let r=n[i];if("string"==typeof r)2===s?""!==r&&t.push(r,n[++i]):8===s&&e.push(r);else{if(!cs(s))break;s=r}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);I&&en(l,d,I),U&&U.length>0&&Au(l,d,U.join(" "))}if(D=zc(S,20),void 0!==e){const I=D.projection=[];for(let U=0;U<this.ngContentSelectors.length;U++){const O=e[U];I.push(null!=O?Array.from(O):null)}}T=function(n,t,e,i,s){const r=e[1],a=function(n,t,e){const i=jt();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Rf(n,i,t,Po(n,t,1,null),e));const s=go(t,n,i.directiveStart,i);xi(s,t);const r=Fe(i,t);return r&&xi(r,t),s}(r,e,t);if(i.components.push(a),n[8]=a,s&&s.forEach(l=>l(a,t)),t.contentQueries){const l=jt();t.contentQueries(1,a,l.directiveStart)}const o=jt();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Rr(o.index),Bv(e[1],o,0,o.directiveStart,o.directiveEnd,t),$v(t,a)),a}(N,this.componentDef,k,y,[WH]),Kl(S,k,null)}finally{sr()}return new z5(this.componentType,T,th(D,k),k,D)}}class z5 extends class{}{constructor(t,e,i,s,r){super(),this.location=i,this._rootLView=s,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new xG(s),this.componentType=t}get injector(){return new Gi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const lh=new Map;class Y5 extends ic{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new k2(this);const i=_t(t),s=function(n){return n[CS]||null}(t);s&&lk(s),this._bootstrapComponents=ls(i.bootstrap),this._r3Injector=jv(t,e,[{provide:ic,useValue:this},{provide:eh,useValue:this.componentFactoryResolver}],He(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=At.THROW_IF_NOT_FOUND,i=Se.Default){return t===At||t===ic||t===xo?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class xk extends class{}{constructor(t){super(),this.moduleType=t,null!==_t(t)&&function(n){const t=new Set;!function e(i){const s=_t(i,!0),r=s.id;null!==r&&(function(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${He(t)} vs ${He(t.name)}`)}(r,lh.get(r),i),lh.set(r,i));const a=ls(s.imports);for(const o of a)t.has(o)||(t.add(o),e(o))}(n)}(t)}create(t){return new Y5(this.moduleType,t)}}function M2(n,t,e,i,s){return function(n,t,e,i,s,r,a){const o=t+e;return Jl(n,o,s,r)?Hr(n,o+2,a?i.call(a,s,r):i(s,r)):pp(n,o+2)}(K(),qi(),n,t,e,i,s)}function pp(n,t){const e=n[t];return e===me?void 0:e}function R2(n,t,e,i,s,r){const a=t+e;return on(n,a,s)?Hr(n,a+1,r?i.call(r,s):i(s)):pp(n,a+1)}function Ro(n,t){const e=rt();let i;const s=n+20;e.firstCreatePass?(i=function(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}throw new Pr("302",`The pipe '${n}' could not be found!`)}(t,e.pipeRegistry),e.data[s]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(s,i.onDestroy)):i=e.data[s];const r=i.factory||(i.factory=la(i.type)),a=er($);try{const o=fo(!1),l=r();return fo(o),function(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,K(),s,l),l}finally{er(a)}}function Io(n,t,e){const i=n+20,s=K(),r=function(n,t){return n[t]}(s,i);return function(n,t){hr.isWrapped(t)&&(t=hr.unwrap(t),n[ns()]=me);return t}(s,function(n,t){return n[1].data[t].pure}(s,i)?R2(s,qi(),t,r.transform,e,r):r.transform(e))}function Mk(n){return t=>{setTimeout(n,void 0,t)}}const pt=class extends Ze{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var s,r,a;let o=t,l=e||(()=>null),h=i;if(t&&"object"==typeof t){const m=t;o=null===(s=m.next)||void 0===s?void 0:s.bind(m),l=null===(r=m.error)||void 0===r?void 0:r.bind(m),h=null===(a=m.complete)||void 0===a?void 0:a.bind(m)}this.__isAsync&&(l=Mk(l),o&&(o=Mk(o)),h&&(h=Mk(h)));const d=super.subscribe({next:o,error:l,complete:h});return t instanceof et&&t.add(d),d}};function u6(){return this._results[Fu()]()}class by{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Fu(),i=by.prototype;i[e]||(i[e]=u6)}get changes(){return this._changes||(this._changes=new pt)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const s=En(t);(this._changesDetected=!function(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let s=n[i],r=t[i];if(e&&(s=e(s),r=e(r)),r!==s)return!1}return!0}(i._results,s,e))&&(i._results=s,i.length=s.length,i.last=s[this.length-1],i.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Rk{constructor(t){this.queryList=t,this.matches=null}clone(){return new Rk(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ik{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,s=[];for(let r=0;r<i;r++){const a=e.getByIndex(r);s.push(this.queries[a.indexInDeclarationView].clone())}return new Ik(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==H2(t,e).matches&&this.queries[e].setDirty()}}class B2{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class Ok{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const s=null!==e?e.length:0,r=this.getByIndex(i).embeddedTView(t,s);r&&(r.indexInDeclarationView=i,null!==e?e.push(r):e=[r])}return null!==e?new Ok(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Nk{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Nk(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){const r=i[s];this.matchTNodeWithReadOption(t,e,f6(e,r)),this.matchTNodeWithReadOption(t,e,lu(e,t,r,!1,!1))}else i===Ns?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,lu(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const s=this.metadata.read;if(null!==s)if(s===Nt||s===Ls||s===Ns&&4&e.type)this.addMatch(e.index,-2);else{const r=lu(e,t,s,!1,!1);null!==r&&this.addMatch(e.index,r)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function f6(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function g6(n,t,e,i){return-1===e?function(n,t){return 11&n.type?th(n,t):4&n.type?gy(n,t):null}(t,n):-2===e?function(n,t,e){return e===Nt?th(t,n):e===Ns?gy(t,n):e===Ls?s2(t,n):void 0}(n,t,i):go(n,n[1],e,t)}function $2(n,t,e,i){const s=t[19].queries[i];if(null===s.matches){const r=n.data,a=e.matches,o=[];for(let l=0;l<a.length;l+=2){const h=a[l];o.push(h<0?null:g6(t,r[h],a[l+1],e.metadata.read))}s.matches=o}return s.matches}function Lk(n,t,e,i){const s=n.queries.getByIndex(e),r=s.matches;if(null!==r){const a=$2(n,t,s,e);for(let o=0;o<r.length;o+=2){const l=r[o];if(l>0)i.push(a[o/2]);else{const h=r[o+1],d=t[-l];for(let m=10;m<d.length;m++){const y=d[m];y[17]===y[3]&&Lk(y[1],y,h,i)}if(null!==d[9]){const m=d[9];for(let y=0;y<m.length;y++){const S=m[y];Lk(S[1],S,h,i)}}}}}return i}function rc(n){const t=K(),e=rt(),i=em();wd(i+1);const s=H2(e,i);if(n.dirty&&Yg(t)===(2==(2&s.metadata.flags))){if(null===s.matches)n.reset([]);else{const r=s.crossesNgTemplate?Lk(e,t,i,[]):$2(e,t,s,i);n.reset(r,zL),n.notifyOnChanges()}return!0}return!1}function Sy(n,t,e){const i=rt();i.firstCreatePass&&(F2(i,new B2(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),V2(i,K(),t)}function wy(n,t,e,i){const s=rt();if(s.firstCreatePass){const r=jt();F2(s,new B2(t,e,i),r.index),function(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(s,n),2==(2&e)&&(s.staticContentQueries=!0)}V2(s,K(),e)}function ac(){return function(n,t){return n[19].queries[t].queryList}(K(),em())}function V2(n,t,e){const i=new by(4==(4&e));Mv(n,t,i,i.destroy),null===t[19]&&(t[19]=new Ik),t[19].queries.push(new Rk(i))}function F2(n,t,e){null===n.queries&&(n.queries=new Ok),n.queries.track(new Nk(t,e))}function H2(n,t){return n.queries.getByIndex(t)}const Cy=new be("Application Initializer");let uh=(()=>{class n{constructor(e){this.appInits=e,this.resolve=hy,this.reject=hy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const r=this.appInits[s]();if(sy(r))e.push(r);else if(rk(r)){const a=new Promise((o,l)=>{r.subscribe({complete:o,error:l})});e.push(a)}}Promise.all(e).then(()=>{i()}).catch(s=>{this.reject(s)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(H(Cy,8))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const yp=new be("AppId"),W6={provide:yp,useFactory:function(){return`${qk()}${qk()}${qk()}`},deps:[]};function qk(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const rB=new be("Platform Initializer"),hh=new be("Platform ID"),z6=new be("appBootstrapListener");let Uk=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const Oo=new be("LocaleId"),aB=new be("DefaultCurrencyCode");class Q6{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Gk=function(n){return new xk(n)},Y6=Gk,J6=function(n){return Promise.resolve(Gk(n))},oB=function(n){const t=Gk(n),i=ls(_t(n).declarations).reduce((s,r)=>{const a=Pi(r);return a&&s.push(new A2(a)),s},[]);return new Q6(t,i)},Z6=oB,X6=function(n){return Promise.resolve(oB(n))};let Py=(()=>{class n{constructor(){this.compileModuleSync=Y6,this.compileModuleAsync=J6,this.compileModuleAndAllComponentsSync=Z6,this.compileModuleAndAllComponentsAsync=X6}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const i8=(()=>Promise.resolve(0))();function jk(n){"undefined"==typeof Zone?i8.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ze{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pt(!1),this.onMicrotaskEmpty=new pt(!1),this.onStable=new pt(!1),this.onError=new pt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&e,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function(){let n=ut.requestAnimationFrame,t=ut.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(n){const t=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ut,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,zk(n),n.isCheckStableRunning=!0,Wk(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),zk(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,s,r,a,o)=>{try{return lB(n),e.invokeTask(s,r,a,o)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||n.shouldCoalesceRunChangeDetection)&&t(),cB(n)}},onInvoke:(e,i,s,r,a,o,l)=>{try{return lB(n),e.invoke(s,r,a,o,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),cB(n)}},onHasTask:(e,i,s,r)=>{e.hasTask(s,r),i===s&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,zk(n),Wk(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,i,s,r)=>(e.handleError(s,r),n.runOutsideAngular(()=>n.onError.emit(r)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ze.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ze.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,s){const r=this._inner,a=r.scheduleEventTask("NgZoneEvent: "+s,t,s8,hy,hy);try{return r.runTask(a,e,i)}finally{r.cancelTask(a)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const s8={};function Wk(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function zk(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function lB(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function cB(n){n._nesting--,Wk(n)}class o8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pt,this.onMicrotaskEmpty=new pt,this.onStable=new pt,this.onError=new pt}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,s){return t.apply(e,i)}}let Kk=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ze.assertNotInAngularZone(),jk(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())jk(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,s){let r=-1;i&&i>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==r),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:s})}whenStable(e,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,s){return[]}}return n.\u0275fac=function(e){return new(e||n)(H(ze))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),uB=(()=>{class n{constructor(){this._applications=new Map,Qk.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return Qk.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();class l8{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let Qk=new l8,hB=!0,dB=!1;let vr;const pB=new be("AllowMultipleToken");function gB(n,t,e=[]){const i=`Platform: ${t}`,s=new be(i);return(r=[])=>{let a=mB();if(!a||a.injector.get(pB,!1))if(n)n(e.concat(r).concat({provide:s,useValue:!0}));else{const o=e.concat(r).concat({provide:s,useValue:!0},{provide:La,useValue:"platform"});!function(n){if(vr&&!vr.destroyed&&!vr.injector.get(pB,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");vr=n.get(vB);const t=n.get(rB,null);t&&t.forEach(e=>e())}(At.create({providers:o,name:i}))}return function(n){const t=mB();if(!t)throw new Error("No platform exists!");if(!t.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(s)}}function mB(){return vr&&!vr.destroyed?vr:null}let vB=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const o=function(n,t){let e;return e="noop"===n?new o8:("zone.js"===n?void 0:n)||new ze({enableLongStackTrace:(dB=!0,hB),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:ze,useValue:o}];return o.run(()=>{const h=At.create({providers:l,parent:this.injector,name:e.moduleType.name}),d=e.create(h),m=d.injector.get(Oa,null);if(!m)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(()=>{const y=o.onError.subscribe({next:S=>{m.handleError(S)}});d.onDestroy(()=>{Yk(this._modules,d),y.unsubscribe()})}),function(n,t,e){try{const i=e();return sy(i)?i.catch(s=>{throw t.runOutsideAngular(()=>n.handleError(s)),s}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(m,o,()=>{const y=d.injector.get(uh);return y.runInitializers(),y.donePromise.then(()=>(lk(d.injector.get(Oo,ay)||ay),this._moduleDoBootstrap(d),d))})})}bootstrapModule(e,i=[]){const s=yB({},i);return function(n,t,e){const i=new xk(e);return Promise.resolve(i)}(0,0,e).then(r=>this.bootstrapModuleFactory(r,s))}_moduleDoBootstrap(e){const i=e.injector.get(_p);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${He(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(H(At))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();function yB(n,t){return Array.isArray(t)?t.reduce(yB,n):Object.assign(Object.assign({},n),t)}let _p=(()=>{class n{constructor(e,i,s,r,a){this._zone=e,this._injector=i,this._exceptionHandler=s,this._componentFactoryResolver=r,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Qe(h=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{h.next(this._stable),h.complete()})}),l=new Qe(h=>{let d;this._zone.runOutsideAngular(()=>{d=this._zone.onStable.subscribe(()=>{ze.assertNotInAngularZone(),jk(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,h.next(!0))})})});const m=this._zone.onUnstable.subscribe(()=>{ze.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{h.next(!1)}))});return()=>{d.unsubscribe(),m.unsubscribe()}});this.isStable=Ar(o,l.pipe(n=>$c()(function(n,t){return function(i){let s;s="function"==typeof n?n:function(){return n};const r=Object.create(i,Zh);return r.source=i,r.subjectFactory=s,r}}(dS)(n))))}bootstrap(e,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let s;s=e instanceof GL?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(s.componentType);const r=function(n){return n.isBoundToModule}(s)?void 0:this._injector.get(ic),o=s.create(At.NULL,[],i||s.selector,r),l=o.location.nativeElement,h=o.injector.get(Kk,null),d=h&&o.injector.get(uB);return h&&d&&d.registerApplication(l,h),o.onDestroy(()=>{this.detachView(o.hostView),Yk(this.components,o),d&&d.unregisterApplication(l)}),this._loadComponent(o),o}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Yk(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(z6,[]).concat(this._bootstrapListeners).forEach(s=>s(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(H(ze),H(At),H(Oa),H(eh),H(uh))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();function Yk(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const N8=gB(null,"core",[{provide:hh,useValue:"unknown"},{provide:vB,deps:[At]},{provide:uB,deps:[]},{provide:Uk,deps:[]}]),F8=[{provide:_p,useClass:_p,deps:[ze,At,Oa,eh,uh]},{provide:G5,deps:[ze],useFactory:function(n){let t=[];return n.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:uh,useClass:uh,deps:[[new li,Cy]]},{provide:Py,useClass:Py,deps:[]},W6,{provide:ih,useFactory:function(){return BG},deps:[]},{provide:nh,useFactory:function(){return $G},deps:[]},{provide:Oo,useFactory:function(n){return lk(n=n||"undefined"!=typeof $localize&&$localize.locale||ay),n},deps:[[new gi(Oo),new li,new Da]]},{provide:aB,useValue:"USD"}];let q8=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(H(_p))},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({providers:F8}),n})(),By=null;function cc(){return By}const Xe=new be("DocumentToken");var mi=(()=>((mi=mi||{})[mi.Zero=0]="Zero",mi[mi.One=1]="One",mi[mi.Two=2]="Two",mi[mi.Few=3]="Few",mi[mi.Many=4]="Many",mi[mi.Other=5]="Other",mi))();const Yj=function(n){return function(n){const t=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=yL(t);if(e)return e;const i=t.split("-")[0];if(e=yL(i),e)return e;if("en"===i)return gU;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[ae.PluralCase]};class zy{}let C7=(()=>{class n extends zy{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(Yj(i||this.locale)(e)){case mi.Zero:return"zero";case mi.One:return"one";case mi.Two:return"two";case mi.Few:return"few";case mi.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(H(Oo))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();function i$(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[s,r]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===t)return decodeURIComponent(r)}return null}let b0=(()=>{class n{constructor(e,i,s,r){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=s,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Yf(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${He(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(e){return new(e||n)($(ih),$(nh),$(Nt),$(tc))},n.\u0275dir=de({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class P7{constructor(t,e,i,s){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ap=(()=>{class n{constructor(e,i,s){this._viewContainer=e,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=[];e.forEachOperation((s,r,a)=>{if(null==s.previousIndex){const o=this._viewContainer.createEmbeddedView(this._template,new P7(null,this._ngForOf,-1,-1),null===a?void 0:a),l=new n$(s,o);i.push(l)}else if(null==a)this._viewContainer.remove(null===r?void 0:r);else if(null!==r){const o=this._viewContainer.get(r);this._viewContainer.move(o,a);const l=new n$(s,o);i.push(l)}});for(let s=0;s<i.length;s++)this._perViewChange(i[s].view,i[s].record);for(let s=0,r=this._viewContainer.length;s<r;s++){const a=this._viewContainer.get(s);a.context.index=s,a.context.count=r,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{this._viewContainer.get(s.currentIndex).context.$implicit=s.item})}_perViewChange(e,i){e.context.$implicit=i.item}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)($(Ls),$(Ns),$(ih))},n.\u0275dir=de({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class n${constructor(t,e){this.record=t,this.view=e}}let ph=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new T7,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){s$("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){s$("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)($(Ls),$(Ns))},n.\u0275dir=de({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class T7{constructor(){this.$implicit=null,this.ngIf=null}}function s$(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${He(t)}'.`)}let E0=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=a$}transform(e,i=a$){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const s=this.differ.diff(e),r=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(a=>{this.keyValues.push(function(n,t){return{key:n,value:t}}(a.key,a.currentValue))})),(s||r)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)($(nh,16))},n.\u0275pipe=Zi({name:"keyvalue",type:n,pure:!1}),n})();function a$(n,t){const e=n.key,i=t.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const s=String(e),r=String(i);return s==r?0:s<r?-1:1}let o$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({providers:[{provide:zy,useClass:C7}]}),n})();const l$="browser";class u${}class A0 extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){By||(By=n)}(new A0)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(Pp=Pp||document.querySelector("base"),Pp?Pp.getAttribute("href"):null);return null==e?null:function(n){Ky=Ky||document.createElement("a"),Ky.setAttribute("href",n);const t=Ky.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Pp=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return i$(document.cookie,t)}}let Ky,Pp=null;const h$=new be("TRANSITION_ID"),cW=[{provide:Cy,useFactory:function(n,t,e){return()=>{e.get(uh).donePromise.then(()=>{const i=cc(),s=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let r=0;r<s.length;r++)i.remove(s[r])})}},deps:[h$,Xe,At],multi:!0}];class P0{static init(){!function(n){Qk=n}(new P0)}addToWindow(t){ut.getAngularTestability=(i,s=!0)=>{const r=t.findTestabilityInTree(i,s);if(null==r)throw new Error("Could not find testability for element.");return r},ut.getAllAngularTestabilities=()=>t.getAllTestabilities(),ut.getAllAngularRootElements=()=>t.getAllRootElements(),ut.frameworkStabilizers||(ut.frameworkStabilizers=[]),ut.frameworkStabilizers.push(i=>{const s=ut.getAllAngularTestabilities();let r=s.length,a=!1;const o=function(l){a=a||l,r--,0==r&&i(a)};s.forEach(function(l){l.whenStable(o)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:i?cc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let uW=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const Dp=new be("EventManagerPlugins");let Yy=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}addGlobalEventListener(e,i,s){return this._findPluginFor(i).addGlobalEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const s=this._plugins;for(let r=0;r<s.length;r++){const a=s[r];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(H(Dp),H(ze))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();class D0{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const s=cc().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,i)}}let f$=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),Tp=(()=>{class n extends f${constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,s){e.forEach(r=>{const a=this._doc.createElement("style");a.textContent=r,s.push(i.appendChild(a))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(p$),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(e,s,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(p$))}}return n.\u0275fac=function(e){return new(e||n)(H(Xe))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();function p$(n){cc().remove(n)}const T0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},x0=/%COMP%/g;function Jy(n,t,e){for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?Jy(n,s,e):(s=s.replace(x0,n),e.push(s))}return e}function v$(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Zy=(()=>{class n{constructor(e,i,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new M0(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Kt.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new CW(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(e),s}case 1:case Kt.ShadowDom:return new AW(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const s=Jy(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(H(Yy),H(Tp),H(yp))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();class M0{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(T0[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,s){if(s){e=s+":"+e;const r=T0[s];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const s=T0[i];s?t.removeAttributeNS(s,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,s){s&(nn.DashCase|nn.Important)?t.style.setProperty(e,i,s&nn.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&nn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,v$(i)):this.eventManager.addEventListener(t,e,v$(i))}}class CW extends M0{constructor(t,e,i,s){super(t),this.component=i;const r=Jy(s+"-"+i.id,i.styles,[]);e.addStyles(r),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(x0,n)}(s+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(x0,n)}(s+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class AW extends M0{constructor(t,e,i,s){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=Jy(s.id,s.styles,[]);for(let a=0;a<r.length;a++){const o=document.createElement("style");o.textContent=r[a],this.shadowRoot.appendChild(o)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let PW=(()=>{class n extends D0{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}}return n.\u0275fac=function(e){return new(e||n)(H(Xe))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const b$=["alt","control","meta","shift"],OW={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},S$={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},NW={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let LW=(()=>{class n extends D0{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,s){const r=n.parseEventName(i),a=n.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cc().onAndCancel(e,r.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const r=n._normalizeKey(i.pop());let a="";if(b$.forEach(l=>{const h=i.indexOf(l);h>-1&&(i.splice(h,1),a+=l+".")}),a+=r,0!=i.length||0===r.length)return null;const o={};return o.domEventName=s,o.fullKey=a,o}static getEventFullKey(e){let i="",s=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&S$.hasOwnProperty(t)&&(t=S$[t]))}return OW[t]||t}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),b$.forEach(r=>{r!=s&&NW[r](e)&&(i+=r+".")}),i+=s,i}static eventCallback(e,i,s){return r=>{n.getEventFullKey(r)===e&&s.runGuarded(()=>i(r))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(H(Xe))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const qW=[{provide:hh,useValue:l$},{provide:rB,useValue:function(){A0.makeCurrent(),P0.init()},multi:!0},{provide:Xe,useFactory:function(){return function(n){Re=n}(document),document},deps:[]}],GW=gB(N8,"browser",qW),jW=[[],{provide:La,useValue:"root"},{provide:Oa,useFactory:function(){return new Oa},deps:[]},{provide:Dp,useClass:PW,multi:!0,deps:[Xe,ze,hh]},{provide:Dp,useClass:LW,multi:!0,deps:[Xe]},[],{provide:Zy,useClass:Zy,deps:[Yy,Tp,yp]},{provide:ec,useExisting:Zy},{provide:f$,useExisting:Tp},{provide:Tp,useClass:Tp,deps:[Xe]},{provide:Kk,useClass:Kk,deps:[ze]},{provide:Yy,useClass:Yy,deps:[Dp,ze]},{provide:u$,useClass:uW,deps:[]},[]];let N0=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:yp,useValue:e.appId},{provide:h$,useExisting:yp},cW]}}}return n.\u0275fac=function(e){return new(e||n)(H(n,12))},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({providers:jW,imports:[o$,q8]}),n})();function Xy(n,t){return new Qe(e=>{const i=n.length;if(0===i)return void e.complete();const s=new Array(i);let r=0,a=0;for(let o=0;o<i;o++){const l=Ic(n[o]);let h=!1;e.add(l.subscribe({next:d=>{h||(h=!0,a++),s[o]=d},error:d=>e.error(d),complete:()=>{r++,(r===i||!h)&&(a===i&&e.next(t?t.reduce((d,m,y)=>(d[m]=s[y],d),{}):s),e.complete())}}))}})}"undefined"!=typeof window&&window;let E$=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)($(tc),$(Nt))},n.\u0275dir=de({type:n}),n})(),uc=(()=>{class n extends E${}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=de({type:n,features:[Ot]}),n})();const jr=new be("NgValueAccessor"),e9={provide:jr,useExisting:wt(()=>e_),multi:!0};let e_=(()=>{class n extends uc{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=de({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,i){1&e&&Ue("change",function(r){return i.onChange(r.target.checked)})("blur",function(){return i.onTouched()})},features:[lt([e9]),Ot]}),n})();const t9={provide:jr,useExisting:wt(()=>Fa),multi:!0},n9=new be("CompositionEventMode");let Fa=(()=>{class n extends E${constructor(e,i,s){super(e,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=cc()?cc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)($(tc),$(Nt),$(n9,8))},n.\u0275dir=de({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&Ue("input",function(r){return i._handleInput(r.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(r){return i._compositionEnd(r.target.value)})},features:[lt([t9]),Ot]}),n})();function Bo(n){return null==n||0===n.length}function k$(n){return null!=n&&"number"==typeof n.length}const un=new be("NgValidators"),$o=new be("NgAsyncValidators"),s9=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class B0{static min(t){return C$(t)}static max(t){return A$(t)}static required(t){return P$(t)}static requiredTrue(t){return function(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function(n){return Bo(n.value)||s9.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function(n){return t=>Bo(t.value)||!k$(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function(n){return t=>k$(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(n){if(!n)return Vo;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Bo(i.value))return null;const s=i.value;return t.test(s)?null:{pattern:{requiredPattern:e,actualValue:s}}}}(t)}static nullValidator(t){return null}static compose(t){return $$(t)}static composeAsync(t){return V$(t)}}function C$(n){return t=>{if(Bo(t.value)||Bo(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function A$(n){return t=>{if(Bo(t.value)||Bo(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function P$(n){return Bo(n.value)?{required:!0}:null}function Vo(n){return null}function I$(n){return null!=n}function O$(n){const t=sy(n)?Ic(n):n;return rk(t),t}function N$(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function L$(n,t){return t.map(e=>e(n))}function B$(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function $$(n){if(!n)return null;const t=n.filter(I$);return 0==t.length?null:function(e){return N$(L$(e,t))}}function $0(n){return null!=n?$$(B$(n)):null}function V$(n){if(!n)return null;const t=n.filter(I$);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if(nl(t))return Xy(t,null);if(sl(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Xy(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return Xy(n=1===n.length&&nl(n[0])?n[0]:n,null).pipe(ys(e=>t(...e)))}return Xy(n,null)}(L$(e,t).map(O$)).pipe(ys(N$))}}function V0(n){return null!=n?V$(B$(n)):null}function F$(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function H$(n){return n._rawValidators}function q$(n){return n._rawAsyncValidators}function F0(n){return n?Array.isArray(n)?n:[n]:[]}function t_(n,t){return Array.isArray(n)?n.includes(t):n===t}function U$(n,t){const e=F0(t);return F0(n).forEach(s=>{t_(e,s)||e.push(s)}),e}function G$(n,t){return F0(t).filter(e=>!t_(n,e))}let j$=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=$0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=V0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,i){return!!this.control&&this.control.hasError(e,i)}getError(e,i){return this.control?this.control.getError(e,i):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=de({type:n}),n})(),Mn=(()=>{class n extends j${get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=de({type:n,features:[Ot]}),n})();class Fo extends j${constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class W${constructor(t){this._cd=t}is(t){var e,i,s;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(s=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===s?void 0:s[t])}}let hc=(()=>{class n extends W${constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)($(Fo,2))},n.\u0275dir=de({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&Zl("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[Ot]}),n})(),dc=(()=>{class n extends W${constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)($(Mn,10))},n.\u0275dir=de({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&Zl("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[Ot]}),n})();function xp(n,t){U0(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&z$(n,t)})}(n,t),function(n,t){const e=(i,s)=>{t.valueAccessor.writeValue(i),s&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&z$(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function s_(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),a_(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function r_(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function U0(n,t){const e=H$(n);null!==t.validator?n.setValidators(F$(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=q$(n);null!==t.asyncValidator?n.setAsyncValidators(F$(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const s=()=>n.updateValueAndValidity();r_(t._rawValidators,s),r_(t._rawAsyncValidators,s)}function a_(n,t){let e=!1;if(null!==n){if(null!==t.validator){const s=H$(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(a=>a!==t.validator);r.length!==s.length&&(e=!0,n.setValidators(r))}}if(null!==t.asyncValidator){const s=q$(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(a=>a!==t.asyncValidator);r.length!==s.length&&(e=!0,n.setAsyncValidators(r))}}}const i=()=>{};return r_(t._rawValidators,i),r_(t._rawAsyncValidators,i),e}function z$(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function o_(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Mp="VALID",l_="INVALID",gh="PENDING",Rp="DISABLED";function W0(n){return(K0(n)?n.validators:n)||null}function Y$(n){return Array.isArray(n)?$0(n):n||null}function z0(n,t){return(K0(t)?t.asyncValidators:n)||null}function J$(n){return Array.isArray(n)?V0(n):n||null}function K0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Q0{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Y$(this._rawValidators),this._composedAsyncValidatorFn=J$(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Mp}get invalid(){return this.status===l_}get pending(){return this.status==gh}get disabled(){return this.status===Rp}get enabled(){return this.status!==Rp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Y$(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=J$(t)}addValidators(t){this.setValidators(U$(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(U$(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(G$(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(G$(t,this._rawAsyncValidators))}hasValidator(t){return t_(this._rawValidators,t)}hasAsyncValidator(t){return t_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=gh,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Rp,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Mp,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mp||this.status===gh)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rp:Mp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=gh,this._hasOwnPendingAsyncValidator=!0;const e=O$(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(s=>{i=i instanceof Li?i.controls.hasOwnProperty(s)?i.controls[s]:null:i instanceof c_&&i.at(s)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new pt,this.statusChanges=new pt}_calculateStatus(){return this._allControlsDisabled()?Rp:this.errors?l_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gh)?gh:this._anyControlsHaveStatus(l_)?l_:Mp}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){K0(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class te extends Q0{constructor(t=null,e,i){super(W0(e),z0(i,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){o_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){o_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Li extends Q0{constructor(t,e,i){super(W0(e),z0(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof te?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((s,r)=>{i=e(i,s,r)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class c_ extends Q0{constructor(t,e,i){super(W0(e),z0(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,s)=>{this._throwIfControlMissing(s),this.at(s).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,s)=>{this.at(s)&&this.at(s).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof te?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let i3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=de({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const b9={provide:jr,useExisting:wt(()=>u_),multi:!0};let u_=(()=>{class n extends uc{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=de({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&Ue("input",function(r){return i.onChange(r.target.value)})("blur",function(){return i.onTouched()})},features:[lt([b9]),Ot]}),n})();const S9={provide:jr,useExisting:wt(()=>J0),multi:!0};let n3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({}),n})(),w9=(()=>{class n{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e)return void this._accessors.splice(i,1)}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return!!e[0].control&&e[0]._parent===i._control._parent&&e[1].name===i.name}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({factory:function(){return new n},token:n,providedIn:n3}),n})(),J0=(()=>{class n extends uc{constructor(e,i,s,r){super(e,i),this._registry=s,this._injector=r,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Fo),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(e){return new(e||n)($(tc),$(Nt),$(w9),$(At))},n.\u0275dir=de({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,i){1&e&&Ue("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[lt([S9]),Ot]}),n})();const Z0=new be("NgModelWithFormControlWarning"),C9={provide:Mn,useExisting:wt(()=>Ha)};let Ha=(()=>{class n extends Mn{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new pt,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(a_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return xp(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){s_(e.control||null,e,!1),o_(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,s=this.form.get(e.path);i!==s&&(s_(i||null,e),s instanceof te&&(xp(s,e),e.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function(n,t){U0(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(n,t){return a_(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){U0(this.form,this),this._oldForm&&a_(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)($(un,10),$($o,10))},n.\u0275dir=de({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&Ue("submit",function(r){return i.onSubmit(r)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[lt([C9]),Ot,Dt]}),n})();const D9={provide:Fo,useExisting:wt(()=>Ho)};let Ho=(()=>{class n extends Fo{constructor(e,i,s,r,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new pt,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function(n,t){if(!t)return null;let e,i,s;return Array.isArray(t),t.forEach(r=>{r.constructor===Fa?e=r:function(n){return Object.getPrototypeOf(n.constructor)===uc}(r)?i=r:s=r}),s||i||e||null}(0,r)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(e){return new(e||n)($(Mn,13),$(un,10),$($o,10),$(jr,10),$(Z0,8))},n.\u0275dir=de({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[lt([D9]),Ot,Dt]}),n._ngModelWarningSentOnce=!1,n})();const T9={provide:jr,useExisting:wt(()=>Op),multi:!0};function o3(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Op=(()=>{class n extends uc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=this._getOptionId(e);null==i&&this.setProperty("selectedIndex",-1);const s=o3(i,e);this.setProperty("value",s)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=de({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&Ue("change",function(r){return i.onChange(r.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[lt([T9]),Ot]}),n})(),tC=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(o3(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)($(Nt),$(tc),$(Op,9))},n.\u0275dir=de({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const M9={provide:jr,useExisting:wt(()=>iC),multi:!0};function l3(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let iC=(()=>{class n extends uc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const s=e.map(r=>this._getOptionId(r));i=(r,a)=>{r._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,r)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const s=[];if(void 0!==i.selectedOptions){const r=i.selectedOptions;for(let a=0;a<r.length;a++){const o=r.item(a),l=this._getOptionValue(o.value);s.push(l)}}else{const r=i.options;for(let a=0;a<r.length;a++){const o=r.item(a);if(o.selected){const l=this._getOptionValue(o.value);s.push(l)}}}this.value=s,e(s)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=de({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&Ue("change",function(r){return i.onChange(r.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[lt([M9]),Ot]}),n})(),nC=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(l3(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(l3(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)($(Nt),$(tc),$(iC,9))},n.\u0275dir=de({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),u3=(()=>{class n{constructor(){this._validator=Vo}handleChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._validator=this.createValidator(i),this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=de({type:n}),n})();const I9={provide:un,useExisting:wt(()=>h_),multi:!0};let h_=(()=>{class n extends u3{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>parseFloat(e),this.createValidator=e=>A$(e)}ngOnChanges(e){this.handleChanges(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=de({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,i){if(2&e){let s;dr("max",null!==(s=i.max)&&void 0!==s?s:null)}},inputs:{max:"max"},features:[lt([I9]),Ot,Dt]}),n})();const O9={provide:un,useExisting:wt(()=>sC),multi:!0};let sC=(()=>{class n extends u3{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>parseFloat(e),this.createValidator=e=>C$(e)}ngOnChanges(e){this.handleChanges(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=de({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){if(2&e){let s;dr("min",null!==(s=i.min)&&void 0!==s?s:null)}},inputs:{min:"min"},features:[lt([O9]),Ot,Dt]}),n})();const N9={provide:un,useExisting:wt(()=>d_),multi:!0};let d_=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?P$(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=de({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&dr("required",i.required?"":null)},inputs:{required:"required"},features:[lt([N9])]}),n})(),m3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({imports:[[n3]]}),n})(),H9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({imports:[m3]}),n})(),q9=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Z0,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({imports:[m3]}),n})();var vt=zt(815);function v3(n){let e,t=n.length;for(;0!=t;)e=Math.floor(Math.random()*t),t--,[n[t],n[e]]=[n[e],n[t]];return n}function Rn(n,t){return n=Math.ceil(n),t=Math.floor(t),Math.floor(Math.random()*(t-n+1))+n}function rC(n){return Math.ceil(100*n)/100}function Bt(n,t){let e;return e=n.player==t?n.opponet:n.player,e}function U9(n){var t,e,i,s,r,a,o;return new Li({name:new te(null!==(t=n.name)&&void 0!==t?t:null,B0.required),tier1Pets:new te(null!==(e=n.tier1Pets)&&void 0!==e?e:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier2Pets:new te(null!==(i=n.tier2Pets)&&void 0!==i?i:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier3Pets:new te(null!==(s=n.tier3Pets)&&void 0!==s?s:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier4Pets:new te(null!==(r=n.tier4Pets)&&void 0!==r?r:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier5Pets:new te(null!==(a=n.tier5Pets)&&void 0!==a?a:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier6Pets:new te(null!==(o=n.tier6Pets)&&void 0!==o?o:[],n=>n.value&&10!==n.value.length?{length:!0}:null)})}class ee{constructor(){this.multiplier=1,this.multiplierMessage="",this.originalPower=this.power}reset(){this.uses=this.originalUses}}class Np extends ee{constructor(){super(...arguments),this.name="Peanut",this.tier=7,this.equipmentClass="attack",this.power=0}}class aC extends ee{constructor(){super(...arguments),this.name="Salt",this.tier=4,this.equipmentClass="attack",this.uses=1,this.originalUses=1}}class oC extends ee{constructor(){super(...arguments),this.name="Cheese",this.equipmentClass="attack",this.uses=1,this.originalUses=1}}class lC extends ee{constructor(){super(...arguments),this.name="Pepper",this.equipmentClass="shield",this.uses=1,this.originalUses=1,this.power=0,this.originalPower=0}}class cC extends ee{constructor(){super(),this.name="Fortune Cookie",this.equipmentClass="attack"}}class f_ extends ee{constructor(){super(...arguments),this.name="Dazed",this.equipmentClass="ailment-other"}}class Lp extends ee{constructor(){super(...arguments),this.name="Exposed",this.equipmentClass="ailment-other",this.uses=2,this.originalUses=2}}class fc extends ee{constructor(){super(...arguments),this.name="Crisp",this.equipmentClass="ailment-other"}}class uC extends ee{constructor(){super(...arguments),this.name="Toasty",this.equipmentClass="ailment-other",this.uses=1,this.originalUses=1}}class hC extends ee{constructor(){super(...arguments),this.name="Peanut Butter",this.equipmentClass="attack",this.tier=7,this.power=0,this.uses=1,this.originalUses=1}}class y3 extends ee{constructor(){super(),this.name="Blackberry",this.tier=3,this.equipmentClass="shop"}}class _3 extends ee{constructor(){super(...arguments),this.name="Honeydew Melon",this.tier=5,this.equipmentClass="shield",this.power=10,this.originalPower=10,this.uses=1,this.originalUses=1}}class G9 extends ee{constructor(){super(...arguments),this.name="Honeydew Melon (Attack)",this.equipmentClass="attack",this.power=5,this.originalPower=5}}class Bp extends ee{constructor(){super(...arguments),this.name="Maple Syrup",this.tier=5,this.equipmentClass="shield",this.power=0,this.originalPower=0,this.uses=2,this.originalUses=2}}class dC extends ee{constructor(){super(...arguments),this.name="Maple Syrup (Attack)",this.equipmentClass="attack",this.power=0,this.originalPower=0}}class fC extends ee{constructor(){super(...arguments),this.name="White Okra",this.tier=6,this.equipmentClass="shield",this.power=10,this.originalPower=10,this.uses=2,this.originalUses=2}}class b3 extends ee{constructor(){super(...arguments),this.name="Ambrosia",this.tier=4,this.equipmentClass="shield",this.power=8,this.originalPower=8,this.uses=1,this.originalUses=1}}class S3 extends ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="White Truffle",this.equipmentClass="faint",this.callback=i=>{var s;let r=null===(s=i.friendFaints)||void 0===s?void 0:s.bind(i);i.friendFaints=(a,o,l)=>{var h;if(o==i||(null!=r&&r(a,o,l),l)||"White Truffle"!=(null===(h=i.equipment)||void 0===h?void 0:h.name))return;let d=i.parent.opponent.getHighestAttackPet();d.pet&&d.pet.alive&&(i.jumpAttackPrep(d.pet),i.jumpAttack(d.pet,l,null,d.random),i.removePerk())}}}}class _{constructor(t,e,i){this.logService=t,this.abilityService=e,this.hidden=!1,this.exp=0,this.mana=0,this.swallowedPets=[],this.timesHurt=0,this.timesAttacked=0,this.battlesFought=0,this.transformedInto=null,this.abilityCounter=0,this.targettedFriends=new Set,this.originalExp=0,this.originalTimesHurt=0,this.faintPet=!1,this.toyPet=!1,this.transformed=!1,this.disabled=!1,this.startOfBattleTriggered=!1,this.done=!1,this.seenDead=!1,this.eggplantTouched=!1,this.cherryTouched=!1,this.maxAbilityUses=null,this.abilityUses=0,this.parent=i}initPet(t,e,i,s,r){this.exp=null!=t?t:this.exp,this.health=null!=e?e:this.health*this.level,this.attack=null!=i?i:this.attack*this.level,this.mana=null!=s?s:this.mana,this.originalHealth=this.health,this.originalAttack=this.attack,this.originalMana=this.mana,this.equipment=r,this.originalEquipment=r,this.originalExp=this.exp,this.originalStartOfBattle=this.startOfBattle,this.originalTransform=this.transform,this.originalHurt=this.hurt,this.originalFaint=this.faint,this.originalFriendSummoned=this.friendSummoned,this.originalFriendAheadAttacks=this.friendAheadAttacks,this.originalAdjacentAttacked=this.adjacentAttacked,this.originalFriendAheadFaints=this.friendAheadFaints,this.originalFriendFaints=this.friendFaints,this.originalEnemyFaints=this.enemyFaints,this.originalFriendAteFood=this.friendAteFood,this.originalEatsFood=this.eatsFood,this.originalFriendLostPerk=this.friendLostPerk,this.originalGainedPerk=this.gainedPerk,this.originalFriendGainedPerk=this.friendGainedPerk,this.originalFriendGainedAilment=this.friendGainedAilment,this.originalFriendHurt=this.friendHurt,this.originalFriendTransformed=this.friendTransformed,this.originalFriendAttacks=this.friendAttacks,this.originalBeforeFriendAttacks=this.beforeFriendAttacks,this.originalEnemyAttack=this.enemyAttack,this.originalAfterAttack=this.afterAttack,this.originalAfterFaint=this.afterFaint,this.originalBeforeAttack=this.beforeAttack,this.originalBeforeStartOfBattle=this.beforeStartOfBattle,this.originalAnyoneLevelUp=this.anyoneLevelUp,this.originalEndTurn=this.endTurn,this.originalKnockOut=this.knockOut,this.originalSummoned=this.summoned,this.originalFriendlyToyBroke=this.friendlyToyBroke,this.originalEnemySummoned=this.enemySummoned,this.originalEnemyPushed=this.enemyPushed,this.originalEnemyHurt=this.enemyHurt,this.originalEmptyFrontSpace=this.emptyFrontSpace,this.originalGainedMana=this.gainedMana,this.originalFriendJumped=this.friendJumped,this.originalEnemyJumped=this.enemyJumped,this.originalEnemyGainedAilment=this.enemyGainedAilment,this.originalFriendGainsHealth=this.friendGainsHealth,this.originalFriendGainedExperience=this.friendGainedExperience,this.initAbilities(),this.resetStartOfBattle=this.startOfBattle,this.resetTransform=this.transform,this.resetHurt=this.hurt,this.resetFaint=this.faint,this.resetFriendSummoned=this.friendSummoned,this.resetFriendAheadAttacks=this.friendAheadAttacks,this.resetAdjacentAttacked=this.adjacentAttacked,this.resetFriendAheadFaints=this.friendAheadFaints,this.resetFriendFaints=this.friendFaints,this.resetEnemyFaints=this.enemyFaints,this.resetFriendAteFood=this.friendAteFood,this.resetEatsFood=this.eatsFood,this.resetFriendLostPerk=this.friendLostPerk,this.resetGainedPerk=this.gainedPerk,this.resetFriendGainedPerk=this.friendGainedPerk,this.resetFriendGainedAilment=this.friendGainedAilment,this.resetFriendHurt=this.friendHurt,this.resetFriendTransformed=this.friendTransformed,this.resetFriendAttacks=this.friendAttacks,this.resetBeforeFriendAttacks=this.beforeFriendAttacks,this.resetEnemyAttack=this.enemyAttack,this.resetAfterAttack=this.afterAttack,this.resetAfterFaint=this.afterFaint,this.resetBeforeAttack=this.beforeAttack,this.resetBeforeStartOfBattle=this.beforeStartOfBattle,this.resetAnyoneLevelUp=this.anyoneLevelUp,this.resetEndTurn=this.endTurn,this.resetKnockOut=this.knockOut,this.resetSummoned=this.summoned,this.resetFriendlyToyBroke=this.friendlyToyBroke,this.resetEnemySummoned=this.enemySummoned,this.resetEnemyPushed=this.enemyPushed,this.resetEnemyHurt=this.enemyHurt,this.resetEmptyFrontSpace=this.emptyFrontSpace,this.resetGainedMana=this.gainedMana,this.resetFriendJumped=this.friendJumped,this.resetEnemyJumped=this.enemyJumped,this.resetEnemyGainedAilment=this.enemyGainedAilment,this.resetFriendGainsHealth=this.friendGainsHealth,this.resetFriendGainedExperience=this.friendGainedExperience}initAbilities(){var t,e,i,s,r,a,o,l,h,d,m,y,S,k,T,D,N,I,U,O,G,Y,oe,pe,ve,Le,ct,Je,st,ui,hi,X,re,ye;let Ie=null===(t=this.faint)||void 0===t?void 0:t.bind(this);(null!=Ie||null!=this.afterFaint)&&(this.faintPet=!0),this.faint=(ce,he,Oe)=>{if(null!=Ie){if(!this.abilityValidCheck())return;Ie(ce,he,Oe)}if(this.abilityValidCheck()&&!this.kitsuneCheck()&&this.mana>0){let qH;qH={priority:this.attack,player:this.parent,callback:()=>{let UH=Bt(ce,this.parent).getRandomPet([],!1,!0,!1,this);null!=UH.pet&&0!=this.mana&&this.snipePet(UH.pet,this.mana,!0,!1,!1,!1,!0)}},this.abilityService.setManaEvent(qH)}};let $t=null===(e=this.startOfBattle)||void 0===e?void 0:e.bind(this);this.startOfBattle=null==$t?null:(ce,he)=>{if(this.abilityValidCheck())return $t(ce,he)};let Ki=null===(i=this.transform)||void 0===i?void 0:i.bind(this);this.transform=null==Ki?null:(ce,he)=>{!this.abilityValidCheck()||Ki(ce,he)};let si=null===(s=this.endTurn)||void 0===s?void 0:s.bind(this);this.endTurn=null==si?null:ce=>{!this.abilityValidCheck()||si(ce)};let hn=null===(r=this.beforeAttack)||void 0===r?void 0:r.bind(this);this.beforeAttack=null==hn?null:(ce,he)=>{!this.abilityValidCheck()||hn(ce,he)};let gt=null===(a=this.afterAttack)||void 0===a?void 0:a.bind(this);this.afterAttack=null==gt?null:(ce,he)=>{!this.abilityValidCheck()||gt(ce,he)};let ms=null===(o=this.friendAttacks)||void 0===o?void 0:o.bind(this);this.friendAttacks=null==ms?null:(ce,he,Oe)=>{!this.abilityValidCheck()||ms(ce,he,Oe)};let Ai=null===(l=this.beforeFriendAttacks)||void 0===l?void 0:l.bind(this);this.beforeFriendAttacks=null==Ai?null:(ce,he,Oe)=>{!this.abilityValidCheck()||Ai(ce,he,Oe)};let vs=null===(h=this.friendFaints)||void 0===h?void 0:h.bind(this);this.friendFaints=null==vs?null:(ce,he,Oe)=>{!this.abilityValidCheck()||vs(ce,he,Oe)};let Nn=null===(d=this.enemyFaints)||void 0===d?void 0:d.bind(this);this.enemyFaints=null==Nn?null:(ce,he,Oe)=>{!this.abilityValidCheck()||Nn(ce,he,Oe)};let Jn=null===(m=this.friendLostPerk)||void 0===m?void 0:m.bind(this);this.friendLostPerk=null==Jn?null:(ce,he,Oe)=>{!this.abilityValidCheck()||Jn(ce,he,Oe)};let il=null===(y=this.gainedPerk)||void 0===y?void 0:y.bind(this);this.gainedPerk=null==il?null:(ce,he,Oe)=>{!this.abilityValidCheck()||il(ce,he,Oe)};let Gh=null===(S=this.friendGainedPerk)||void 0===S?void 0:S.bind(this);this.friendGainedPerk=null==Gh?null:(ce,he,Oe)=>{!this.abilityValidCheck()||Gh(ce,he,Oe)};let tS=null===(k=this.eatsFood)||void 0===k?void 0:k.bind(this);this.eatsFood=null==tS?null:(ce,he,Oe)=>{!this.abilityValidCheck()||tS(ce,he,Oe)};let fg=null===(T=this.friendAteFood)||void 0===T?void 0:T.bind(this);this.friendAteFood=null==fg?null:(ce,he,Oe)=>{!this.abilityValidCheck()||fg(ce,he,Oe)};let iS=null===(D=this.beforeStartOfBattle)||void 0===D?void 0:D.bind(this);this.beforeStartOfBattle=null==iS?null:(ce,he)=>{!this.abilityValidCheck()||iS(ce,he)};let nS=null===(N=this.friendHurt)||void 0===N?void 0:N.bind(this);this.friendHurt=null==nS?null:(ce,he,Oe)=>{!this.abilityValidCheck()||nS(ce,he,Oe)};let pg=null===(I=this.friendTransformed)||void 0===I?void 0:I.bind(this);this.friendTransformed=null==pg?null:(ce,he,Oe)=>{!this.abilityValidCheck()||pg(ce,he,Oe)};let gg=null===(U=this.friendSummoned)||void 0===U?void 0:U.bind(this);this.friendSummoned=null==gg?null:(ce,he,Oe)=>{!this.abilityValidCheck()||gg(ce,he,Oe)};let sS=null===(O=this.anyoneLevelUp)||void 0===O?void 0:O.bind(this);this.anyoneLevelUp=null==sS?null:(ce,he,Oe)=>{!this.abilityValidCheck()||sS(ce,he,Oe)};let rS=null===(G=this.enemyHurt)||void 0===G?void 0:G.bind(this);this.enemyHurt=null==rS?null:(ce,he,Oe)=>{!this.abilityValidCheck()||rS(ce,he,Oe)};let Zr=null===(Y=this.enemySummoned)||void 0===Y?void 0:Y.bind(this);this.enemySummoned=null==Zr?null:(ce,he,Oe)=>{!this.abilityValidCheck()||Zr(ce,he,Oe)};let Tc=null===(oe=this.emptyFrontSpace)||void 0===oe?void 0:oe.bind(this);this.emptyFrontSpace=null==Tc?null:(ce,he)=>{!this.abilityValidCheck()||Tc(ce,he)};let mg=null===(pe=this.gainedMana)||void 0===pe?void 0:pe.bind(this);this.gainedMana=null==mg?null:(ce,he)=>{!this.abilityValidCheck()||mg(ce,he)};let vg=null===(ve=this.friendJumped)||void 0===ve?void 0:ve.bind(this);this.friendJumped=null==vg?null:(ce,he,Oe)=>{!this.abilityValidCheck()||vg(ce,he,Oe)};let jh=null===(Le=this.enemyJumped)||void 0===Le?void 0:Le.bind(this);this.enemyJumped=null==jh?null:(ce,he,Oe)=>{!this.abilityValidCheck()||jh(ce,he,Oe)};let yg=null===(ct=this.friendlyToyBroke)||void 0===ct?void 0:ct.bind(this);this.friendlyToyBroke=null==yg?null:(ce,he)=>{!this.abilityValidCheck()||yg(ce,he)};let _g=null===(Je=this.enemyPushed)||void 0===Je?void 0:Je.bind(this);this.enemyPushed=null==_g?null:(ce,he,Oe)=>{!this.abilityValidCheck()||_g(ce,he,Oe)};let bg=null===(st=this.summoned)||void 0===st?void 0:st.bind(this);this.summoned=null==bg?null:(ce,he)=>{bg(ce,he)};let Sg=null===(ui=this.knockOut)||void 0===ui?void 0:ui.bind(this);this.knockOut=null==Sg?null:(ce,he,Oe)=>{!this.abilityValidCheck()||Sg(ce,he,Oe)};let $H=null===(hi=this.enemyGainedAilment)||void 0===hi?void 0:hi.bind(this);this.enemyGainedAilment=null==$H?null:(ce,he,Oe)=>{!this.abilityValidCheck()||$H(ce,he,Oe)};let VH=null===(X=this.friendGainsHealth)||void 0===X?void 0:X.bind(this);this.friendGainsHealth=null==VH?null:(ce,he,Oe)=>{!this.abilityValidCheck()||VH(ce,he,Oe)};let FH=null===(re=this.friendGainedExperience)||void 0===re?void 0:re.bind(this);this.friendGainedExperience=null==FH?null:(ce,he,Oe)=>{!this.abilityValidCheck()||FH(ce,he,Oe)};let HH=null===(ye=this.afterFaint)||void 0===ye?void 0:ye.bind(this);this.afterFaint=null==HH?null:(ce,he,Oe)=>{!this.abilityValidCheck()||HH(ce,he,Oe)},this.setAbilityUses()}abilityValidCheck(){return!(null==this.savedPosition||this.disabled||this.equipment instanceof f_&&(this.logService.createLog({message:`${this.name}'s ability was not activated because of Dazed.`,type:"ability",player:this.parent}),1))}setAbilityUses(){this.abilityUses=0}tigerCheck(t){var e;return"Tiger"==(null===(e=this.petBehind(!0,!0))||void 0===e?void 0:e.name)&&(null==t||0==t)}superStartOfBattle(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(!0,!0).minExpForLevel,this.startOfBattle(t,!0),this.exp=i}superHurt(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.hurt(t,e,!0),this.exp=s}superFaint(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.faint(t,!0),this.exp=i}superFriendSummoned(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendSummoned(t,e,!0),this.exp=s}superFriendAheadAttacks(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendAheadAttacks(t,e,!0),this.exp=s}superFriendAheadFaints(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendAheadFaints(t,e,!0),this.exp=s}superAdjacentAttacked(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.adjacentAttacked(t,e,!0),this.exp=s}superAfterAttack(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.afterAttack(t,!0),this.exp=i}superSummoned(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.summoned(t,!0),this.exp=i}superKnockOut(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.knockOut(t,e,!0),this.exp=s}superFriendFaints(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendFaints(t,e,!0),this.exp=s}superEnemyFaints(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.enemyFaints(t,e,!0),this.exp=s}superBeforeAttack(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.beforeAttack(t,!0),this.exp=i}superBeforeFriendAttacks(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.beforeFriendAttacks(t,e,!0),this.exp=s}superFriendLosPerk(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendLostPerk(t,e,!0),this.exp=s}superGainedPerk(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.gainedPerk(t,e,!0),this.exp=s}superFriendGainedPerk(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendGainedPerk(t,e,!0),this.exp=s}superEatsFood(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.eatsFood(t,e,!0),this.exp=s}superFriendAteFood(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendAteFood(t,e,!0),this.exp=s}superBeforeStartOfBattle(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.beforeStartOfBattle(t,!0),this.exp=i}superFriendlyToyBroke(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendlyToyBroke(t,!0),this.exp=i}superTransform(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.transform(t,!0),this.exp=i}superEnemySummoned(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.enemySummoned(t,e,!0),this.exp=s}superEnemyPushed(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.enemyPushed(t,e,!0),this.exp=s}superFriendHurt(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendHurt(t,e,!0),this.exp=s}superFriendTransformed(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendTransformed(t,e,!0),this.exp=s}superAnyoneLevelUp(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.anyoneLevelUp(t,e,!0),this.exp=s}superEnemyHurt(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.enemyHurt(t,e,!0),this.exp=s}superFriendAttacks(t,e=null,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendAttacks(t,e,!0),this.exp=s}superEnemyAttack(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.enemyAttack(t,e,!0),this.exp=s}superEmptyFrontSpace(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.emptyFrontSpace(t,!0),this.exp=i}superGainedMana(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.gainedMana(t,!0),this.exp=i}superFriendJumped(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendJumped(t,e,!0),this.exp=s}superEnemyJumped(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.enemyJumped(t,e,!0),this.exp=s}superEnemyGainedAilment(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.enemyGainedAilment(t,e,!0),this.exp=s}superFriendGainsHealth(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendGainsHealth(t,e,!0),this.exp=s}superFriendGainedExperience(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendGainedExperience(t,e,!0),this.exp=s}superAfterFaint(t,e=!1,i=!1){if(!this.tigerCheck(e))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.afterFaint(t,!0,i),this.exp=s}attackPet(t,e=!1,i,s=!1){var r,a,o,l;this.timesAttacked++,t.timesAttacked++;let T,h=this.calculateDamgae(t,this.getManticoreMult(),i),d=h.attackEquipment,m=h.defenseEquipment,y=h.damage,S=null===(r=this.equipment)||void 0===r?void 0:r.multiplier,k=null===(a=t.equipment)||void 0===a?void 0:a.multiplier;if(this.currentTarget=t,e?(T=`${this.name} jump-attacks ${t.name} for ${y}.`,this.equipment instanceof S3&&(T+="(White Truffle)")):T=`${this.name} attacks ${t.name} for ${y}.`,d instanceof Np&&y>0)this.logService.createLog({message:`${T} (Peanut)`,type:"attack",player:this.parent,randomEvent:s}),this.dealDamage(t,y),t.killedBy=this,t.health=0;else if(d instanceof hC&&y>0&&d.uses>0)this.logService.createLog({message:`${T} (Peanut Butter)`,type:"attack",player:this.parent,randomEvent:s}),t.killedBy=this,this.dealDamage(t,y),t.health=0;else{if(this.dealDamage(t,y),null!=d){let O=Math.abs(d.power),G="-";d.power>0&&(G="+");let Y=`${G}${O}`;d instanceof aC&&(Y="x2"),d instanceof dC&&(Y="x0.5"),d instanceof oC&&(Y=y<=15?"=15":"+0"),d instanceof cC&&(s=!0,h.fortuneCookie?(Y="x2",d.multiplier>1&&(Y+=d.multiplierMessage)):Y="x1"),T+=` (${d.name} ${Y})`,S>1&&(T+=this.equipment.multiplierMessage)}if(null!=m){let O=Math.abs(m.power),G="-";if(m.power<0&&(G="+"),"Strawberry"===m.name){let Y=t.getSparrowLevel();Y>0&&(O=5*Y,T+=` (Strawberry -${O} (Sparrow))`)}else m instanceof lC?(G=1==t.health?"!":"-",O="",T+=` (${m.name} ${G}${O})`):m instanceof Bp?(O="x0.5",T+=` (${m.name} ${O})`):T+=` (${m.name} ${G}${O})`;k>1&&(T+=t.equipment.multiplierMessage)}t.equipment instanceof Lp&&(T+="x2 (Exposed)",t.equipment.multiplier>1&&(T+=t.equipment.multiplierMessage)),h.nurikabe>0&&(T+=` -${h.nurikabe} (Nurikabe)`),h.fairyBallReduction>0&&(T+=` -${h.fairyBallReduction} (Fairy Ball)`),h.fanMusselReduction>0&&(T+=` -${h.fanMusselReduction} (Fan Mussel)`),h.mapleSyrupReduction>0&&(T+=` -${h.mapleSyrupReduction} (Maple Syrup)`);let D=this.getManticoreMult(),I=["Weak","Cold","Exposed","Spooked"].includes(null===(o=t.equipment)||void 0===o?void 0:o.name);if(D.length>0&&I)for(let O of D)T+=` x${O+1} (Manticore)`;this.logService.createLog({message:T,type:"attack",player:this.parent,randomEvent:s});let U="skewer"==(null===(l=this.equipment)||void 0===l?void 0:l.equipmentClass)?this.equipment:null;null!=U&&U.attackCallback(this,t)}this.abilityService.triggerFriendAttacksEvents(this.parent,this),null!=this.afterAttack&&this.abilityService.setAfterAttackEvent({callback:this.afterAttack.bind(this),priority:this.attack,pet:this}),this.applyCrisp()}applyCrisp(){let t=this.parent.opponent.getManticoreMult();for(let e of this.parent.petArray)if(e.equipment instanceof fc){let i=6,s=e.equipment.multiplier;for(let m of t)s+=m;i*=s;let r=0;"Fairy Ball"===e.name&&i>0&&(r=2*e.level,i=Math.max(1,i-r));let a=0;"Nurikabe"==e.name&&e.abilityUses<3&&(a=4*e.level,i=Math.max(1,i-a),e.abilityUses++);let o=0;"Fan Mussel"==e.name&&e.abilityUses<e.maxAbilityUses&&(o=1*e.level,i=Math.max(1,i-o),e.abilityUses++);let l="Ghost Kitten"==e.name,h=1;l&&(h=3*e.level,i=Math.max(1,i-h));let d=`${e.name} took ${i} damage`;if(t.length>0)for(let m of t)d+=` x${m+1} (Manticore)`;e.equipment.multiplier>1&&(d+=e.equipment.multiplierMessage),r>0&&(d+=`-${r} (FairyBall)`),a>0&&(d+=` -${a} (Nurikabe)`),o>0&&(d+=` -${o} (Fan Mussel)`),l&&(d+=` -${h} (Ghost Kitten)`),d+=" (Crisp).",this.logService.createLog({message:d,type:"ability",player:e.parent}),this.dealDamage(e,i),e.removePerk()}else if(e.equipment instanceof uC&&e.equipment.uses>0){let i=1,s=e.equipment.multiplier;for(let m of t)s+=m;i*=s;let r=0;"Fairy Ball"===e.name&&i>0&&(r=2*e.level,i=Math.max(1,i-r));let a=0;"Nurikabe"==e.name&&e.abilityUses<3&&(a=4*e.level,i=Math.max(1,i-a),e.abilityUses++);let o=0;"Fan Mussel"==e.name&&e.abilityUses<e.maxAbilityUses&&(o=1*e.level,i=Math.max(1,i-o),e.abilityUses++);let l="Ghost Kitten"==e.name,h=1;l&&(h=3*e.level,i=Math.max(1,i-h));let d=`${e.name} took ${i} damage`;if(t.length>0)for(let m of t)d+=` x${m+1} (Manticore)`;e.equipment.multiplier>1&&(d+=e.equipment.multiplierMessage),r>0&&(d+=`-${r} (FairyBall)`),a>0&&(d+=` -${a} (Nurikabe)`),o>0&&(d+=` -${o} (Fan Mussel)`),l&&(d+=` -${h} (Ghost Kitten)`),d+=" (Toasty).",this.logService.createLog({message:d,type:"ability",player:e.parent}),this.dealDamage(e,i),e.equipment.uses--,e.equipment.uses<=0&&e.removePerk()}}snipePet(t,e,i,s,r,a,o){var l,h,d,m,y;let S=!1;"Albatross"==(null===(l=this.petAhead)||void 0===l?void 0:l.name)&&t.tier<=4&&(e+=3*this.petAhead.level,S=!0),"Albatross"==(null===(h=this.petBehind())||void 0===h?void 0:h.name)&&t.tier<=4&&(e+=3*this.petBehind().level,S=!0);let k=this.calculateDamgae(t,this.getManticoreMult(),e,!0),T=k.attackEquipment,D=k.defenseEquipment,N=k.damage,I="Ghost Kitten"==t.name,U=0;I&&(U=3*t.level,N=Math.max(1,N-U)),this.dealDamage(t,N);let O=`${this.name} sniped ${t.name} for ${N}.`;if(null!=D){t.useDefenseEquipment(!0);let pe=Math.abs(D.power),ve="-";if(D.power<0&&(ve="+"),"Strawberry"===D.name){let Le=t.getSparrowLevel();Le>0&&(pe=5*Le,O+=` (Strawberry -${pe} (Sparrow))`)}else O+=` (${D.name} ${ve}${pe})`;O+=D.multiplierMessage}if(null!=T&&"attack-snipe"==T.equipmentClass){let pe=Math.abs(T.power),ve="-";T.power>0&&(ve="+"),O+=` (${T.name} ${ve}${pe})`}(null===(d=this.equipment)||void 0===d?void 0:d.multiplier)>1&&(O+=this.equipment.multiplierMessage),s&&(O+=" (Tiger)"),S&&(O+=" (Albatross)"),a&&this.equipment&&(O+=` (${this.equipment.name})`),o&&(O+=" (Mana)"),I&&(O+=` -${U} (Ghost Kitten)`),"Exposed"==(null===(m=t.equipment)||void 0===m?void 0:m.name)&&(O+="x2 (Exposed)",t.equipment.multiplier>1&&(O+=t.equipment.multiplierMessage));let G=this.getManticoreMult(),oe=["Weak","Cold","Exposed","Spooked"].includes(null===(y=t.equipment)||void 0===y?void 0:y.name);if(G.length>0&&oe)for(let pe of G)O+=` x${pe+1} (Manticore)`;return k.nurikabe>0&&(O+=` -${k.nurikabe} (Nurikabe)`),k.fairyBallReduction>0&&(O+=` -${k.fairyBallReduction} (Fairy Ball)`),k.fanMusselReduction>0&&(O+=` -${k.fanMusselReduction} (Fan Mussel)`),this.logService.createLog({message:O,type:"attack",randomEvent:i,player:this.parent,pteranodon:r}),N}calculateDamgae(t,e,i,s=!1){var r,a,o,l,h,d,m,y,S,k;let T=null===(r=this.equipment)||void 0===r?void 0:r.multiplier,D=null===(a=t.equipment)||void 0===a?void 0:a.multiplier;const I=["Ink"];let G,Y,O="defense"==(null===(o=t.equipment)||void 0===o?void 0:o.equipmentClass)||"shield"==(null===(l=t.equipment)||void 0===l?void 0:l.equipmentClass)||"ailment-defense"==(null===(h=t.equipment)||void 0===h?void 0:h.equipmentClass)||s&&"shield-snipe"==(null===(d=t.equipment)||void 0===d?void 0:d.equipmentClass)?t.equipment:null;if(null!=O){if(["Cold","Weak","Spooked"].includes(null==O?void 0:O.name))for(let X of e)D+=X;O.power=O.originalPower*D}if(s)G="attack-snipe"==(null===(m=this.equipment)||void 0===m?void 0:m.equipmentClass)?this.equipment:null,Y=null!=G?i+G.power:i,O instanceof Bp&&(O=null);else{if(G=this.equipment instanceof _3?new G9:this.equipment instanceof Bp?new dC:"attack"==(null===(y=this.equipment)||void 0===y?void 0:y.equipmentClass)||"ailment-attack"==(null===(S=this.equipment)||void 0===S?void 0:S.equipmentClass)?this.equipment:null,null!=G){if(I.includes(null==G?void 0:G.name))for(let Ie of e)T+=Ie;G.power=G.originalPower*T}let X=this.attack;"Monty"==this.name&&(X*=this.level+1),Y=(null!=i?i:X)+((null==G?void 0:G.power)?G.power:0)}let oe=(null==O?void 0:O.power)?O.power:0,pe=t.getSparrowLevel();"Strawberry"===(null===(k=t.equipment)||void 0===k?void 0:k.name)&&pe>0&&(oe+=5*pe),t.equipment instanceof Bp&&t.equipment.uses>0&&!s&&(Y=Math.floor(Y*Math.pow(.5,D))),G instanceof aC&&!s&&(Y*=2+T-1),G instanceof dC&&!s&&(Y=Math.floor(Y*Math.pow(.5,T)));let Le=!1;if(G instanceof cC&&!s&&Math.random()<.5&&(Y*=2+T-1,Le=!0),G instanceof oC&&!s&&(Y=Math.max(15,Y)),t.equipment instanceof Lp){let X=2;for(let re of e)X+=re;X+=t.equipment.multiplier-1,Y*=X}let Je,ct="shield"==(null==O?void 0:O.equipmentClass)||"shield-snipe"==(null==O?void 0:O.equipmentClass)?0:1;void 0!==(null==O?void 0:O.minimumDamage)&&(ct=O.minimumDamage),Je=Y<=ct&&oe>0?Math.max(Y,0):Math.max(ct,Y-oe),O instanceof lC&&(Je=Math.min(Je,t.health-1));let st=0;"Fairy Ball"===t.name&&Je>0&&(st=2*t.level,Je=Math.max(1,Je-st));let ui=0;"Nurikabe"==t.name&&t.abilityUses<3&&Je>0&&(ui=4*t.level,Je=Math.max(1,Je-st),t.abilityUses++);let hi=0;return"Fan Mussel"==t.name&&t.abilityUses<t.maxAbilityUses&&Je>0&&(hi=1*t.level,Je=Math.max(1,Je-st),t.abilityUses++),{defenseEquipment:O,attackEquipment:G,damage:Je,fortuneCookie:Le,nurikabe:ui,fairyBallReduction:st,fanMusselReduction:hi,mapleSyrupReduction:0}}resetPet(){var t,e;this.health=this.originalHealth,this.attack=this.originalAttack,this.equipment=this.originalEquipment,this.lastLostEquipment=null,this.mana=this.originalMana,this.exp=this.originalExp,this.timesHurt=this.originalTimesHurt,this.timesAttacked=0,this.abilityCounter=0,this.transformed=!1,this.transformedInto=null,this.currentTarget=null,this.lastAttacker=null,this.killedBy=null,this.swallowedPets=[],this.targettedFriends.clear(),this.savedPosition=this.originalSavedPosition,this.setAbilityUses(),this.done=!1,this.seenDead=!1,this.disabled=!1;try{null===(t=this.equipment)||void 0===t||t.reset()}catch(s){console.warn("equipment reset failed",this.equipment),console.error(s)}this.startOfBattle=this.resetStartOfBattle,this.transform=this.resetTransform,this.beforeAttack=this.resetBeforeAttack,this.afterAttack=this.resetAfterAttack,this.beforeFriendAttacks=this.resetBeforeFriendAttacks,this.enemyAttack=this.resetEnemyAttack,this.friendAttacks=this.resetFriendAttacks,this.hurt=this.resetHurt,this.faint=this.resetFaint,this.friendSummoned=this.resetFriendSummoned,this.friendAheadAttacks=this.resetFriendAheadAttacks,this.adjacentAttacked=this.resetAdjacentAttacked,this.friendAheadFaints=this.resetFriendAheadFaints,this.friendFaints=this.resetFriendFaints,this.enemyFaints=this.resetEnemyFaints,this.friendAteFood=this.resetFriendAteFood,this.eatsFood=this.resetEatsFood,this.friendLostPerk=this.resetFriendLostPerk,this.gainedPerk=this.resetGainedPerk,this.friendGainedPerk=this.resetFriendGainedPerk,this.friendGainedAilment=this.resetFriendGainedAilment,this.friendHurt=this.resetFriendHurt,this.friendTransformed=this.resetFriendTransformed,this.afterFaint=this.resetAfterFaint,this.beforeStartOfBattle=this.resetBeforeStartOfBattle,this.anyoneLevelUp=this.resetAnyoneLevelUp,this.endTurn=this.resetEndTurn,this.knockOut=this.resetKnockOut,this.summoned=this.resetSummoned,this.friendlyToyBroke=this.resetFriendlyToyBroke,this.enemySummoned=this.resetEnemySummoned,this.enemyPushed=this.resetEnemyPushed,this.enemyHurt=this.resetEnemyHurt,this.emptyFrontSpace=this.resetEmptyFrontSpace,this.gainedMana=this.resetGainedMana,this.friendJumped=this.resetFriendJumped,this.enemyJumped=this.resetEnemyJumped,this.enemyGainedAilment=this.resetEnemyGainedAilment,this.friendGainsHealth=this.resetFriendGainsHealth,this.friendGainedExperience=this.resetFriendGainedExperience;let i=null===(e=this.faint)||void 0===e?void 0:e.bind(this);(null!=i||null!=this.afterFaint)&&(this.faintPet=!0),this.faint=(s,r,a)=>{if(null!=i&&i(s,r,a),!this.kitsuneCheck()&&this.mana>0){let o;o={priority:this.attack,player:this.parent,callback:()=>{let l=Bt(s,this.parent).getRandomPet([],!1,!0),h=l.pet;null!=h&&0!=this.mana&&this.snipePet(h,this.mana,l.random,!1,!1,!1,!0)}},this.abilityService.setManaEvent(o)}}}jumpAttackPrep(t){this.beforeAttack&&this.alive&&this.abilityService.setBeforeAttackEvent({callback:this.beforeAttack.bind(this),priority:this.attack,player:this.parent,pet:this}),t.beforeAttack&&this.abilityService.setBeforeAttackEvent({callback:t.beforeAttack.bind(t),priority:t.attack,player:t.parent,pet:t}),this.abilityService.executeBeforeAttackEvents(),this.abilityService.triggerBeforeFriendAttacksEvents(this.parent,this),this.abilityService.triggerBeforeFriendAttacksEvents(t.parent,this),this.abilityService.executeBeforeFriendAttacksEvents()}jumpAttack(t,e,i,s=!1){let r;t.lastAttacker=this,r=this.transformed?this.transformedInto:this,t.transformed&&(t=t.transformedInto),r.alive&&t.alive&&(r.attackPet(t,!0,i,s),t.attackPet(r),r.useAttackDefenseEquipment(),t.useAttackDefenseEquipment(),r.parent.checkPetsAlive(),t.parent.checkPetsAlive(),r.abilityService.executeAfterAttackEvents(),r.abilityService.executeAfterFriendAttackEvents(),r.abilityService.triggerFriendJumpedEvents(r.parent,r),r.abilityService.triggerEnemyJumpedEvents(t.parent,r))}get alive(){return this.health>0}setFaintEventIfPresent(){var t;null!=this.faint&&this.abilityService.setFaintEvent({priority:this.attack,callback:this.faint.bind(this),pet:this}),"faint"==(null===(t=this.equipment)||void 0===t?void 0:t.equipmentClass)&&this.abilityService.setFaintEvent({priority:-1,callback:()=>{try{this.equipment.callback(this)}catch(e){console.warn("equipment callback failed",this.equipment)}},pet:this})}useDefenseEquipment(t=!1){if(null!=this.equipment){if("ailment-defense"!=this.equipment.equipmentClass&&"Exposed"!=this.equipment.name&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&t&&"shield-snipe"!=this.equipment.equipmentClass)return;null!=this.equipment.uses&&(this.equipment.uses-=1,0==this.equipment.uses&&this.removePerk())}}useAttackDefenseEquipment(){null!=this.equipment&&null!=this.equipment.uses&&("attack"!=this.equipment.equipmentClass&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&"snipe"!=this.equipment.equipmentClass&&"ailment-attack"!=this.equipment.equipmentClass&&"ailment-defense"!=this.equipment.equipmentClass&&"Exposed"!=this.equipment.name||(isNaN(this.equipment.uses)&&console.warn("uses is NaN",this.equipment),this.equipment.uses-=1,0==this.equipment.uses&&this.removePerk()))}increaseAttack(t){let e=50;"Behemoth"==this.name&&(e=100),this.alive&&(this.attack=Math.min(Math.max(this.attack+t,1),e))}increaseHealth(t){let e=50;("Behemoth"==this.name||"Giant Tortoise"==this.name)&&(e=100),this.alive&&(this.health=Math.min(Math.max(this.health+t,1),e),this.abilityService.triggerFriendGainsHealthEvents(this.parent,this),this.abilityService.executeFriendGainsHealthEvents())}dealDamage(t,e){var i;!t.alive||(e>=t.health&&"Bok Choy"==(null===(i=t.equipment)||void 0===i?void 0:i.name)&&t.increaseHealth(4),t.health-=e,t.health<=0&&(t.killedBy=this),e>0&&t.timesHurt++,null!=t.hurt&&e>0&&this.abilityService.setHurtEvent({callback:t.hurt.bind(t),priority:t.attack,player:t.parent,callbackPet:this,pet:t}),t.health<1&&null!=this.knockOut&&this.abilityService.setKnockOutEvent({callback:this.knockOut.bind(this),priority:this.attack,callbackPet:t,pet:this}),e>0&&this.abilityService.triggerFriendHurtEvents(t.parent,t),e>0&&this.abilityService.triggerEnemyHurtEvents(this.parent,t))}increaseExp(t){let e=this.level;this.increaseAttack(t),this.increaseHealth(t),this.exp=Math.min(this.exp+t,5);let i=this.level-e;for(let s=0;s<i;s++)this.logService.createLog({message:`${this.name} leveled up to level ${this.level}.`,type:"ability",player:this.parent}),this.abilityService.triggerLevelUpEvents(this.parent,this),this.abilityService.triggerLevelUpEvents(this.parent.opponent,this),this.abilityService.executeFriendlyLevelUpToyEvents(),this.setAbilityUses();for(let s=0;s<Math.min(t,5);s++)this.abilityService.triggerFriendGainedExperienceEvents(this.parent,this)}increaseMana(t){this.mana+=t,this.mana=Math.min(this.mana,50),null!=this.gainedMana&&this.abilityService.setGainManaEvents({callback:this.gainedMana.bind(this),priority:this.attack,pet:this})}givePetEquipment(t,e=1){if(null!=t){if(this.alive)if("ailment-attack"==t.equipmentClass||"ailment-defense"==t.equipmentClass||"ailment-other"==t.equipmentClass){if(this.equipment instanceof b3)return this.equipment.uses--,this.logService.createLog({message:`${this.name} blocked ${t.name}. (Ambrosia)`,type:"equipment",player:this.parent}),void(0==this.equipment.uses&&this.removePerk());if(this.equipment instanceof fC)return this.logService.createLog({message:`${this.name} blocked ${t.name}. (White Okra)`,type:"equipment",player:this.parent}),void this.removePerk();this.applyEquipment(t,e),this.abilityService.triggerFriendGainedAilmentEvents(this),this.abilityService.triggerEnemyGainedAilmentEvents(this.parent.opponent.petArray,this)}else{if(t instanceof y3){this.applyEquipment(t,e);let i=1*t.multiplier,s=2*t.multiplier;this.increaseAttack(i),this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${i} attack and ${s} health (Blackberry)${t.multiplierMessage}`,type:"equipment",player:this.parent})}else this.applyEquipment(t,e);this.abilityService.triggerGainedPerkEvents(this),this.abilityService.triggerFriendGainedPerkEvents(this),this.eatsFood&&this.abilityService.setEatsFoodEvent({callback:this.eatsFood.bind(this),priority:this.attack,callbackPet:this,pet:this}),this.abilityService.triggerFriendAteFoodEvents(this)}}else console.warn(`givePetEquipment called with null equipment for pet: ${this.name}`)}applyEquipment(t,e=1){null!=t&&(this.equipment=t,this.setEquipmentMultiplier(e),this.equipment.callback&&"beforeStartOfBattle"!=this.equipment.equipmentClass&&this.equipment.callback(this))}removePerk(){if(null==this.equipment)return;let t="ailment-attack"==this.equipment.equipmentClass||"ailment-defense"==this.equipment.equipmentClass||"ailment-other"==this.equipment.equipmentClass;this.lastLostEquipment=this.equipment,this.equipment=null,t||this.abilityService.triggerFriendLostPerkEvents(this)}setEquipmentMultiplier(t=1){var e;if(!this.equipment)return;let i=(null===(e=this.equipment)||void 0===e?void 0:e.multiplier)||1,s=[];"Panther"===this.name&&"ailment-attack"!==this.equipment.equipmentClass&&"ailment-defense"!==this.equipment.equipmentClass&&"ailment-other"!==this.equipment.equipmentClass&&(i+=this.level,s.push(`x${this.level+1} (Panther)`)),t&&t>1&&(i+=t-1,s.push(`x${t} (Pandora's Box)`)),this.equipment.multiplier=i,this.equipment.multiplierMessage=s.length>0?` ${s.join(" ")}`:""}get level(){return this.exp<2?1:this.exp<5?2:3}get position(){return this==this.parent.pet0?0:this==this.parent.pet1?1:this==this.parent.pet2?2:this==this.parent.pet3?3:this==this.parent.pet4?4:void 0}petBehind(t=!1,e=!1){for(let s=(void 0!==this.position?this.position:this.savedPosition)+1;s<5;s++){let r=this.parent.getPetAtPosition(s);if(e&&null!=r)return r;if(t&&null!=r&&!r.alive&&!r.seenDead)return null;if(null!=r&&r.alive)return r}return null}getManticoreMult(){let t=[];for(let e of this.parent.petArray)"Manticore"==e.name&&t.push(e.level);return t}getSparrowLevel(){let t=0;for(let e of this.parent.petArray)"Sparrow"==e.name&&(t=Math.max(t,e.level));return t}getPetsAhead(t,e=!1,i){var s,r;let a=[],o=this.petAhead;for(;o&&!(a.length>=t);)i&&(null===(s=o.equipment)||void 0===s?void 0:s.name)===i||a.push(o),o=o.petAhead;if(a.length<t&&1==e){let h=this.parent.opponent.furthestUpPet;for(;h&&!(a.length>=t);)i&&(null===(r=h.equipment)||void 0===r?void 0:r.name)===i||a.push(h),h=h.petBehind()}return a}getPetsBehind(t,e){var i;let s=[],r=this.petBehind();for(e&&r&&(null===(i=r.equipment)||void 0===i?void 0:i.name)===e&&(r=r.petBehind());r&&!(s.length>=t);)s.push(r),r=r.petBehind();return s}kitsuneCheck(){let t=this.petBehind(),e=!0;for(;t;){if("Kitsune"==t.name&&e)return!1;if(e=!1,"Kitsune"==t.name)return!0;t=t.petBehind()}return!1}get petAhead(){for(let t=this.position-1;t>-1;t--){let e=this.parent.getPetAtPosition(t);if(null!=e&&e.alive)return e}return null}get minExpForLevel(){return 1==this.level?0:2==this.level?2:5}}class wr extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Puma",this.tier=6,this.pack="Puppy",this.attack=6,this.health=5,this.initPet(o,s,r,a,l)}}class p_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Golden Retriever",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class w3 extends ee{constructor(t){super(),this.logService=t,this.name="Onion",this.equipmentClass="beforeAttack",this.callback=e=>{var i;let s=null===(i=e.beforeAttack)||void 0===i?void 0:i.bind(e);e.beforeAttack=(r,a)=>{var o;null!=s&&s(r,a),!a&&"Onion"==(null===(o=e.equipment)||void 0===o?void 0:o.name)&&(this.logService.createLog({message:`${e.name} pushed itself to the back. (Onion)`,type:"equipment",player:e.parent}),e.removePerk(),e.parent.pushPetToBack(e),e.parent.pushPetsForward())}}}}class E3{constructor(t,e,i){this.logService=t,this.abilityService=e,this.gameService=i,this.pack="Turtle",this.trumpets=0,this.spawnedGoldenRetiever=!1,this.summonedBoatThisBattle=!1}alive(){return this.petArray.length>0}resetPets(){var t,e,i,s,r;this.pet0=this.orignalPet0,null===(t=this.pet0)||void 0===t||t.resetPet(),this.pet1=this.orignalPet1,null===(e=this.pet1)||void 0===e||e.resetPet(),this.pet2=this.orignalPet2,null===(i=this.pet2)||void 0===i||i.resetPet(),this.pet3=this.orignalPet3,null===(s=this.pet3)||void 0===s||s.resetPet(),this.pet4=this.orignalPet4,null===(r=this.pet4)||void 0===r||r.resetPet(),this.orignalPet0=this.pet0,this.orignalPet1=this.pet1,this.orignalPet2=this.pet2,this.orignalPet3=this.pet3,this.orignalPet4=this.pet4,this.toy=this.originalToy,this.toy&&(this.toy.used=!1,this.toy.triggers=0),this.brokenToy=null,this.trumpets=0,this.spawnedGoldenRetiever=!1,this.summonedBoatThisBattle=!1}setPet(t,e,i=!1){this.getPet(t),0==t&&(this.pet0=e,null!=e&&(this.pet0.savedPosition=0),i&&(this.orignalPet0=e)),1==t&&(this.pet1=e,null!=e&&(this.pet1.savedPosition=1),i&&(this.orignalPet1=e)),2==t&&(this.pet2=e,null!=e&&(this.pet2.savedPosition=2),i&&(this.orignalPet2=e)),3==t&&(this.pet3=e,null!=e&&(this.pet3.savedPosition=3),i&&(this.orignalPet3=e)),4==t&&(this.pet4=e,null!=e&&(this.pet4.savedPosition=4),i&&(this.orignalPet4=e)),i&&null!=e&&(e.originalSavedPosition=e.savedPosition)}getPet(t){return this[`pet${t}`]}pushPetsForward(){let t=(0,vt.clone)(this.petArray);try{this.setPet(0,t[0])}catch(e){this.pet0=null}try{this.setPet(1,t[1])}catch(e){this.pet1=null}try{this.setPet(2,t[2])}catch(e){this.pet2=null}try{this.setPet(3,t[3])}catch(e){this.pet3=null}try{this.setPet(4,t[4])}catch(e){this.pet4=null}}onionCheck(){var t;null!=(null===(t=this.pet0)||void 0===t?void 0:t.equipment)&&this.pet0.equipment instanceof w3&&(this.pet0.equipment.callback(this.pet0),this.pushPetsForward())}summonPet(t,e,i=!1,s){if(s&&this.hasSilly(s)){let o=Math.random()<.5?this:this.opponent,l=Rn(0,4);return t.parent=o,{success:o.summonPet(t,l,i,void 0).success,randomEvent:!0}}if(5==this.petArray.length)return i||this.logService.createLog({message:`No room to spawn ${t.name}!`,type:"ability",player:this}),{success:!1,randomEvent:!1};this==this.gameService.gameApi.player?this.gameService.gameApi.playerSummonedAmount++:this.gameService.gameApi.opponentSummonedAmount++,0==e&&(null!=this.pet0&&this.makeRoomForSlot(0),this.setPet(0,t)),1==e&&(null!=this.pet1&&this.makeRoomForSlot(1),this.setPet(1,t)),2==e&&(null!=this.pet2&&this.makeRoomForSlot(2),this.setPet(2,t)),3==e&&(null!=this.pet3&&this.makeRoomForSlot(3),this.setPet(3,t)),4==e&&(null!=this.pet4&&this.makeRoomForSlot(4),this.setPet(4,t)),null!=t.summoned&&this.abilityService.setSummonedEvent({callback:t.summoned.bind(t),priority:t.attack,pet:t});let a=Bt(this.gameService.gameApi,this);return this.abilityService.triggerEnemySummonedEvents(a,t),{success:!0,randomEvent:!1}}transformPet(t,e){this.setPet(t.position,e),this==this.gameService.gameApi.player?this.gameService.gameApi.playerTransformationAmount++:this.gameService.gameApi.opponentTransformationAmount++,t.transformed=!0,t.transformedInto=e,e.applyEquipment(e.equipment),e.transform&&this.abilityService.setTransformEvent({callback:e.transform.bind(e),priority:e.attack,pet:e}),this.abilityService.triggerFriendTransformedEvents(this,e)}pushForwardFromSlot(t){let e=null,i=!1;if(t>0&&null==this.pet0&&(i=!0,e=0),t>1&&null==this.pet1&&(i=!0,e=1),t>2&&null==this.pet2&&(i=!0,e=2),t>3&&null==this.pet3&&(i=!0,e=3),i){for(let s=e;s<t;s++)this[`pet${s}`]=this[`pet${s+1}`];return!0}return!1}pushBackwardFromSlot(t){let e=null,i=!1;if(t<4&&null==this.pet4&&(i=!0,e=4),t<3&&null==this.pet3&&(i=!0,e=3),t<2&&null==this.pet2&&(i=!0,e=2),t<1&&null==this.pet1&&(i=!0,e=1),i)for(let s=e;s>t;s--)this[`pet${s}`]=this["pet"+(s-1)]}makeRoomForSlot(t){5!=this.petArray.length?this.pushForwardFromSlot(t)||this.pushBackwardFromSlot(t):console.warn("No room to Make Room")}get petArray(){let t=[];return null!=this.pet0&&t.push(this.pet0),null!=this.pet1&&t.push(this.pet1),null!=this.pet2&&t.push(this.pet2),null!=this.pet3&&t.push(this.pet3),null!=this.pet4&&t.push(this.pet4),t}handleDeath(t){t.seenDead=!0,t.setFaintEventIfPresent();let e=t.petBehind(null,!0);null!=(null==e?void 0:e.friendAheadFaints)&&(null==e?void 0:e.alive)&&this.abilityService.setFriendAheadFaintsEvent({callback:e.friendAheadFaints.bind(e),priority:e.attack,player:this,callbackPet:t,pet:e}),this.createDeathLog(t)}checkPetsAlive(){this.pet0&&!this.pet0.alive&&!this.pet0.seenDead&&this.handleDeath(this.pet0),this.pet1&&!this.pet1.alive&&!this.pet1.seenDead&&this.handleDeath(this.pet1),this.pet2&&!this.pet2.alive&&!this.pet2.seenDead&&this.handleDeath(this.pet2),this.pet3&&!this.pet3.alive&&!this.pet3.seenDead&&this.handleDeath(this.pet3),this.pet4&&!this.pet4.alive&&!this.pet4.seenDead&&this.handleDeath(this.pet4)}removeDeadPets(){let t=!1;const e=[{pet:this.pet0,index:0},{pet:this.pet1,index:1},{pet:this.pet2,index:2},{pet:this.pet3,index:3},{pet:this.pet4,index:4}];for(const i of e)i.pet&&!i.pet.alive&&(i.pet.afterFaint?this.abilityService.setAfterFaintEvents({callback:i.pet.afterFaint.bind(i.pet),priority:i.pet.attack,player:this,callbackPet:i.pet,pet:i.pet}):i.pet.disabled=!0,this.abilityService.triggerFriendFaintsEvents(i.pet),this.abilityService.triggerEnemyFaintsEvents(i.pet),this[`pet${i.index}`]=null,t=!0);return t}createDeathLog(t){this.logService.createLog({message:`${t.name} fainted.`,type:"death",player:t.parent})}getRandomPet(t,e,i,s,r,a){if(r&&this.hasSilly(r)){let h=this.getRandomLivingPet();return{pet:h.pet,random:h.random}}let o=[];if(o=a?[...this.petArray,...this.opponent.petArray]:this.petArray,e&&i){let h=this.getPetsWithEquipment("Donut").filter(m=>{null==t||t.includes(m)}),d=this.getPetsWithEquipment("Blueberry").filter(m=>{null==t||t.includes(m)});(h.length>0||d.length>0)&&(o=[...h,...d])}else if(e){let h=this.getPetsWithEquipment("Donut").filter(d=>{null==t||t.includes(d)});h.length>0&&(o=h),s&&(o=o.filter(d=>50!=d.health||50!=d.attack||"Behemoth"==d.name),0==o.length&&(o=this.petArray))}else if(i){let h=this.getPetsWithEquipment("Blueberry").filter(d=>{null==t||t.includes(d)});h.length>0&&(o=h)}if(o=o.filter(h=>{let d=!0;return t&&(d=!t.includes(h)),d&&h.health>0}),s){let h=(0,vt.clone)(o);o=o.filter(d=>50!=d.health||50!=d.attack),0==o.length&&(o=h)}return 0==o.length?{pet:null,random:!1}:{pet:o[Rn(0,o.length-1)],random:o.length>1}}getRandomPets(t,e,i,s,r,a){if(r&&this.hasSilly(r)){let l=this.getRandomLivingPets(t);return{pets:l.pets,random:l.random}}let o=[];e=null!=e?e:[];for(let l=0;l<t;l++){let h=this.getRandomPet(e,i,s,null,r,a);if(null==h.pet)break;e.push(h.pet),o.push(h.pet)}return{pets:o,random:o.length>t}}getRandomLivingPets(t){let e=[],i=[];for(let s=0;s<t;s++){let r=this.getRandomLivingPet(i);if(null==r.pet)break;i.push(r.pet),e.push(r.pet)}return{pets:e,random:e.length>t}}getAll(t,e,i){if(e&&this.hasSilly(e))return{pets:[...this.petArray,...this.opponent.petArray].filter(a=>a.alive),random:!1};let s=[];return s=t?[...this.petArray,...this.opponent.petArray]:[...this.petArray],i&&(s=s.filter(r=>r!=e)),s=s.filter(r=>r.alive),{pets:s,random:!1}}getPetsWithEquipment(t){var e;let i=[];for(let s of this.petArray)!s.alive||(null===(e=s.equipment)||void 0===e?void 0:e.name)==t&&i.push(s);return i}getPetAtPosition(t){for(let e of this.petArray)if(e.position==t)return e;return null}getLastPet(t,e){if(e&&this.hasSilly(e)){let i=this.getRandomLivingPet();return{pet:i.pet,random:i.random}}for(let i of[...this.petArray].reverse())if(i.alive&&(!t||!t.includes(i)))return{pet:i,random:!1};return{pet:null,random:!1}}getLastPets(t,e,i){if(i&&this.hasSilly(i)){let o=this.getRandomLivingPets(t);return{pets:o.pets,random:o.random}}let s=[...this.petArray].filter(o=>o.alive);return e&&(s=s.filter("perk-less"==e?o=>{var l;return null==o.equipment||(null===(l=o.equipment)||void 0===l?void 0:l.name.startsWith("ailment"))}:o=>{var l;return(null===(l=o.equipment)||void 0===l?void 0:l.name)!=e})),0===s.length?{pets:[],random:!1}:{pets:[...s].reverse().slice(0,t),random:!1}}getHighestHealthPet(t,e){if(e&&this.hasSilly(e)){let r=this.getRandomLivingPet();return{pet:r.pet,random:r.random}}if(0==this.petArray.filter(r=>r!=t&&r.alive).length)return{pet:null,random:!1};let s;for(let r in this.petArray){let o=this.petArray[+r];if(o!=t){if(null==s){s=[o];continue}if(o.health==s[0].health){s.push(o);continue}o.health>s[0].health&&(s=[o])}}return{pet:s[Rn(0,s.length-1)],random:s.length>1}}getHighestAttackPet(t,e){if(e&&this.hasSilly(e)){let r=this.getRandomLivingPet();return{pet:r.pet,random:r.random}}let i;for(let r in this.petArray){let o=this.petArray[+r];if(o!=t&&o.alive){if(null==i){i=[o];continue}if(o.attack==i[0].attack){i.push(o);continue}o.attack>i[0].attack&&(i=[o])}}let s=null==i?null:i[Rn(0,i.length-1)];return{pet:s,random:null!=s&&i.length>1}}getLowestAttackPet(t,e){if(e&&this.hasSilly(e)){let r=this.getRandomLivingPet();return{pet:r.pet,random:r.random}}let i;for(let r in this.petArray){let o=this.petArray[+r];if(o!=t&&o.alive){if(null==i){i=[o];continue}if(o.attack==i[0].attack){i.push(o);continue}o.attack<i[0].attack&&(i=[o])}}let s=null==i?null:i[Rn(0,i.length-1)];return{pet:s,random:null!=s&&i.length>1}}getLowestHealthPet(t,e){if(e&&this.hasSilly(e)){let r=this.getRandomLivingPet();return{pet:r.pet,random:r.random}}let i;for(let r in this.petArray){let o=this.petArray[+r];if(o!=t&&o.alive){if(null==i){i=[o];continue}if(o.health==i[0].health){i.push(o);continue}o.health<i[0].health&&(i=[o])}}let s=null==i?null:i[Rn(0,i.length-1)];return{pet:s,random:null!=s&&i.length>1}}getLowestHealthPets(t,e,i){if(i&&this.hasSilly(i)){let l=this.getRandomLivingPets(t);return{pets:l.pets,random:l.random}}let s=[...this.petArray].filter(l=>l.alive);if(e&&(s=s.filter(l=>{var h;return(null===(h=l.equipment)||void 0===h?void 0:h.name)!=e})),0===s.length)return{pets:[],random:!1};let r=(0,vt.shuffle)(s);r.sort((l,h)=>l.health-h.health);let a=r.slice(0,t),o=!1;return a.length===t&&r.length>t&&a[t-1].health===r[t].health&&(o=!0),{pets:a,random:o}}getHighestHealthPets(t,e,i){if(i&&this.hasSilly(i)){let l=this.getRandomLivingPets(t);return{pets:l.pets,random:l.random}}let s=[...this.petArray].filter(l=>l.alive);if(e&&(s=s.filter(l=>{var h;return(null===(h=l.equipment)||void 0===h?void 0:h.name)!=e})),0===s.length)return{pets:[],random:!1};let r=(0,vt.shuffle)(s);r.sort((l,h)=>h.health-l.health);let a=r.slice(0,t),o=!1;return a.length===t&&r.length>t&&a[t-1].health===r[t].health&&(o=!0),{pets:a,random:o}}getHighestTierPets(t,e,i){if(i&&this.hasSilly(i)){let l=this.getRandomLivingPets(t);return{pets:l.pets,random:l.random}}let s=[...this.petArray].filter(l=>l.alive);if(e&&(s=s.filter(l=>{var h;return(null===(h=l.equipment)||void 0===h?void 0:h.name)!=e})),0===s.length)return{pets:[],random:!1};let r=(0,vt.shuffle)(s);r.sort((l,h)=>h.tier-l.tier);let a=r.slice(0,t),o=!1;return a.length===t&&r.length>t&&a[t-1].tier===r[t].tier&&(o=!0),{pets:a,random:o}}getTierXOrLowerPet(t,e,i){if(i&&this.hasSilly(i)){let a=this.getRandomLivingPet();return{pet:a.pet,random:a.random}}let s=[...this.petArray].filter(a=>a.alive&&a.tier<=t);return e&&(s=s.filter(a=>{var o;return(null===(o=a.equipment)||void 0===o?void 0:o.name)!=e})),0===s.length?{pet:null,random:!1}:{pet:s[Rn(0,s.length-1)],random:s.length>1}}get furthestUpPet(){for(let t of this.petArray)if(t.alive)return t;return null}getFurthestUpPet(t){if(t&&this.hasSilly(t)){let e=this.getRandomLivingPet();return{pet:e.pet,random:e.random}}for(let e of this.petArray)if(e.alive)return{pet:e,random:!1};return{pet:null,random:!1}}getFurthestUpPets(t,e,i,s,r){if(i&&this.hasSilly(i)){let l=this.getRandomLivingPets(t);return{pets:l.pets,random:l.random}}let a=[...this.petArray].filter(l=>l.alive&&!(null==r?void 0:r.includes(l)));return e&&(a=a.filter("perk-less"==e?l=>{var h;return null==l.equipment||(null===(h=l.equipment)||void 0===h?void 0:h.name.startsWith("ailment"))}:l=>{var h;return(null===(h=l.equipment)||void 0===h?void 0:h.name)!=e})),s&&(a=a.filter(l=>{var h;return(null===(h=l.equipment)||void 0===h?void 0:h.name)==s})),0===a.length?{pets:[],random:!1}:{pets:a.slice(0,t),random:!1}}nearestPetsBehind(t,e,i){if(e&&this.hasSilly(e)){let r=this.getRandomLivingPets(t);return{pets:r.pets,random:r.random}}return{pets:e.getPetsBehind(t,i),random:!1}}getThis(t){if(t&&this.hasSilly(t)){let e=this.getRandomLivingPet();return{pet:e.pet,random:e.random}}return{pet:t,random:!1}}getSpecificPet(t,e){if(t&&this.hasSilly(t)){let i=this.getRandomLivingPet();return{pet:i.pet,random:i.random}}return{pet:e,random:!1}}nearestPetsAhead(t,e,i,s){if(e&&this.hasSilly(e)){let a=this.getRandomLivingPets(t);return{pets:a.pets,random:a.random}}return{pets:e.getPetsAhead(t,s||!1,i),random:!1}}breakToy(t=!1){if(null!=this.toy){if(this.brokenToy=this.toy,this.logService.createLog({message:`${this.toy.name} broke!`,type:"ability",player:this,randomEvent:!1}),null!=this.toy.onBreak){let e=[{callback:this.toy.onBreak.bind(this.toy),priority:99}],i=this.toy.level;for(let s of this.petArray)s instanceof wr&&e.push({callback:()=>{this.toy.level=s.level,this.toy.onBreak(this.gameService.gameApi,!0),this.toy.level=i},priority:s.attack});e.sort((s,r)=>s.priority>r.priority?-1:s.priority<r.priority?1:0);for(let s of e)s.callback(this.gameService.gameApi)}this.toy=null,t&&this.setToy(this.brokenToy)}}setToy(t){this.toy=t}getStrongestPet(t){if(t&&this.hasSilly(t)){let a=this.getRandomLivingPet();return{pet:a.pet,random:a.random}}let e=[],i=-1,s=(0,vt.shuffle)(this.petArray.filter(a=>a.alive));for(let a of s){let o=a.attack+a.health;o>i?(i=o,e=[a]):o===i&&e.push(a)}return 0===e.length?{pet:null,random:!1}:{pet:e[Rn(0,e.length-1)],random:e.length>1}}pushPetToFront(t,e=!1){this.pushPet(t,4),e&&(this.abilityService.triggerFriendJumpedEvents(this,t),this.abilityService.triggerFriendJumpedToyEvents(this,t),this.abilityService.triggerEnemyJumpedEvents(this,t))}pushPetToBack(t){this.pushPet(t,-4)}pushPet(t,e=1){let r,i=t.parent,s=t.position;i[`pet${s}`]=null,e>0&&(r=Math.max(s-e,0),null!=this.getPet(r)&&this.pushForwardFromSlot(r),this.setPet(r,t)),e<0&&(r=Math.min(s-e,4),null!=this.getPet(r)&&this.pushBackwardFromSlot(r),this.setPet(r,t));let a=Bt(this.gameService.gameApi,i);this.abilityService.triggerEnemyPushedEvents(a,t)}get opponent(){return Bt(this.gameService.gameApi,this)}gainTrumpets(t,e,i,s,r){this.trumpets=Math.min(50,this.trumpets+=t);let a=`${e.name} gained ${t} trumpets. (${this.trumpets})`;r&&(a+=" (Cherry)"),this.logService.createLog({message:a,type:"trumpets",player:this,pteranodon:i,pantherMultiplier:s})}spendTrumpets(t,e,i){this.trumpets=Math.max(0,this.trumpets-=t),this.logService.createLog({message:`${e.name} spent ${t} trumpets. (${this.trumpets})`,type:"trumpets",player:this,pteranodon:i})}checkGoldenSpawn(){if(this.spawnedGoldenRetiever||this.petArray.length>1||0==this.trumpets)return;let t=new p_(this.logService,this.abilityService,this,this.trumpets,this.trumpets);this.logService.createLog({message:`${this==this.gameService.gameApi.player?"Player":"Opponent"} spawned Golden Retriever (${t.attack}/${t.health})`,type:"ability",player:this}),this.summonPet(t,0)&&this.abilityService.triggerFriendSummonedEvents(t),this.trumpets=0,this.spawnedGoldenRetiever=!0}getManticoreMult(){let t=[];for(let e of this.petArray)"Manticore"==e.name&&t.push(e.level);return t}summonPetInFront(t,e){if(5==this.petArray.length)return this.logService.createLog({message:`No room to spawn ${e.name}!`,type:"ability",player:this}),{success:!1,randomEvent:!1};let i=!1;for(let s=0;s<t.position;s++)if(null==this.getPet(s)){i=!0;break}if(i)return this.summonPet(e,t.position-1,!1,t);{let s=t.position;return this.pushPet(t,-1),this.summonPet(e,s,!1,t)}}summonPetBehind(t,e){if(5==this.petArray.length)return this.logService.createLog({message:`No room to spawn ${e.name}!`,type:"ability",player:this}),{success:!1,randomEvent:!1};let i=!1;for(let s=0;s<t.position;s++)if(null==this.getPet(s)){i=!0;break}return i?(this.pushPet(t,1),this.summonPet(e,t.position+1,!1,t)):this.summonPet(e,t.position+1,!1,t)}getPetsWithinXSpaces(t,e){if(t&&this.hasSilly(t)){let r=this.getRandomLivingPets(2*e);return{pets:r.pets,random:r.random}}const i=t.savedPosition,s=[];for(const r of this.petArray)if(r.alive&&r!==t){const a=Math.abs(r.position-i);a>0&&a<=e&&s.push(r)}for(const r of this.opponent.petArray)r.alive&&i+r.position+1<=e&&s.push(r);return{pets:s,random:!1}}getOppositeEnemyPet(t){if(t&&this.hasSilly(t)){let s=this.getRandomLivingPet();return{pet:s.pet,random:s.random}}let e=t.position,i=this.opponent.getPetAtPosition(e);if(i&&i.alive)return{pet:i,random:!1};for(let s=1;s<=4;s++){if(i=this.opponent.getPetAtPosition(e+s),i&&i.alive)return{pet:i,random:!1};if(i=this.opponent.getPetAtPosition(e-s),i&&i.alive)return{pet:i,random:!1}}return{pet:null,random:!1}}hasSilly(t){var e;return"Silly"===(null===(e=t.equipment)||void 0===e?void 0:e.name)}getRandomLivingPet(t){let e=[...this.petArray,...this.opponent.petArray],i=this.getPetsWithEquipment("Donut").filter(l=>!(null==t?void 0:t.includes(l))),s=this.getPetsWithEquipment("Blueberry").filter(l=>!(null==t?void 0:t.includes(l))),r=this.opponent.getPetsWithEquipment("Donut").filter(l=>!(null==t?void 0:t.includes(l))),a=this.opponent.getPetsWithEquipment("Blueberry").filter(l=>!(null==t?void 0:t.includes(l)));return(i.length>0||s.length>0||r.length>0||a.length>0)&&(e=[...i,...s,...r,...a]),e=e.filter(l=>{let h=!0;return t&&(h=!t.includes(l)),h&&l.health>0}),0==e.length?{pet:null,random:!1}:{pet:e[Rn(0,e.length-1)],random:e.length>1}}}let qo=(()=>{class n{static setInjector(e){n.injector||(n.injector=e)}static getInjector(){return n.injector}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class g_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ant",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=1==this.level?{health:1,attack:1}:2==this.level?{health:2,attack:2}:{health:3,attack:3},r=this.parent.getRandomPet([this],!0,!1,!0,this);null!=r.pet&&(this.logService.createLog({message:`${this.name} gave ${r.pet.name} ${s.attack} attack and ${s.health} health.`,type:"ability",randomEvent:r.random,player:this.parent,tiger:e,pteranodon:i}),r.pet.increaseAttack(s.attack),r.pet.increaseHealth(s.health),this.superFaint(t,e),this.done=!0)}}class vh extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zombie Cricket",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class pC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cricket",this.tier=1,this.pack="Turtle",this.health=3,this.attack=1,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=1,r=0;2==this.level?(r=2,s=2):3==this.level&&(r=5,s=3);let a=new vh(this.logService,this.abilityService,this.parent,null,null,null,r),o=this.parent.summonPet(a,this.savedPosition,!1,this);o.success&&(this.logService.createLog({message:`${this.name} spawned Zombie Cricket Level ${s}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:o.randomEvent}),this.abilityService.triggerFriendSummonedEvents(a)),super.superAfterFaint(t,e,i)}}class m_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fish",this.tier=1,this.pack="Turtle",this.health=3,this.attack=2,this.initPet(o,s,r,a,l)}}class gC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Horse",this.tier=1,this.pack="Turtle",this.health=1,this.attack=2,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){let s=this.parent.getSpecificPet(this,e);null!=s.pet&&(s.pet.increaseAttack(this.level),this.logService.createLog({message:`${this.name} gave ${e.name} ${this.level} attack`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),super.superFriendSummoned(t,e,i))}}class mC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mosquito",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i;i=t.player==this.parent?t.opponet:t.player;let s=i.getRandomPets(this.level,null,null,!0,this);for(let r of s.pets)null!=r&&this.snipePet(r,1,s.random,e);super.superStartOfBattle(t,e)}}class v_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Duck",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}}class y_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beaver",this.tier=1,this.pack="Turtle",this.health=2,this.attack=3,this.initPet(o,s,r,a,l)}}class vC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Otter",this.tier=1,this.pack="Turtle",this.health=4,this.attack=1,this.initPet(o,s,r,a,l)}}class yC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pig",this.tier=1,this.pack="Turtle",this.health=1,this.attack=4,this.initPet(o,s,r,a,l)}}class _C extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mouse",this.tier=1,this.pack="Custom",this.health=2,this.attack=1,this.initPet(o,s,r,a,l)}}class j9 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snail",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}}class bC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crab",this.tier=2,this.pack="Turtle",this.health=1,this.attack=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){if(!this.alive)return;let i=this.parent.getHighestHealthPet(this,this);if(null==i.pet)return;let s=Math.floor(i.pet.health*(.25*this.level)),r=this.parent.getThis(this);r.pet&&(r.pet.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${r.pet.name} ${.25*this.level*100}% of ${i.pet.name}'s health (${s})`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random})),super.superStartOfBattle(t,e)}}class SC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Swan",this.tier=2,this.pack="Turtle",this.health=2,this.attack=1,this.initPet(o,s,r,a,l)}}class __ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dirty Rat",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class wC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rat",this.tier=2,this.pack="Turtle",this.health=6,this.attack=3,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s;s=t.player==this.parent?t.opponet:t.player;for(let r=0;r<this.level;r++){let a=new __(this.logService,this.abilityService,s,null,null,0,0),o=s.summonPet(a,0,!1,this);o.success&&(this.logService.createLog({message:`${this.name} Summoned Dirty Rat on Opponent`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:o.randomEvent}),this.abilityService.triggerFriendSummonedEvents(a))}super.superAfterFaint(t,e,i)}}class EC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hedgehog",this.tier=2,this.pack="Turtle",this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.getAll(!0,this),r=s.pets;if(0==r.length)return;let a=2*this.level;for(let o of r)this.snipePet(o,a,s.random,e,i);super.superFaint(t,e),this.done=!0}}class kC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Peacock",this.tier=2,this.pack="Turtle",this.health=5,this.attack=2,this.initPet(o,s,r,a,l)}hurt(t,e,i){if(this.health<1)return;let s=3*this.level,r=this.parent.getThis(this);r.pet&&(r.pet.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${r.pet.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random})),super.superHurt(t,e,i)}}class CC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flamingo",this.tier=2,this.pack="Turtle",this.health=2,this.attack=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let a=this.parent.nearestPetsBehind(2,this).pets;if(0!=a.length){for(let o of a)o.increaseAttack(this.level),o.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${o.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});super.superFaint(t,e)}}}class AC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Worm",this.tier=2,this.pack="Turtle",this.health=1,this.attack=3,this.initPet(o,s,r,a,l)}}class PC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kangaroo",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}friendAheadAttacks(t,e,i){if(!this.alive)return;let s=this.parent.getThis(this);s.pet&&(s.pet.increaseAttack(this.level),s.pet.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${s.pet.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random})),super.superFriendAheadAttacks(t,e,i)}}class DC extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Spider",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let s;s=this.parent==t.player?t.playerPetPool.get(3):t.opponentPetPool.get(3);let r=s.filter(m=>"Spider"!=m),a=r[Rn(0,r.length-1)],o=this.level,l=2*this.level,h=this.petService.createPet({attack:l,exp:this.minExpForLevel,equipment:null,health:l,name:a,mana:0},this.parent);this.parent.summonPet(h,this.savedPosition,!1,this).success&&(this.logService.createLog({message:`${this.name} spawned ${h.name} level ${o} (${l}/${l})`,type:"ability",player:this.parent,randomEvent:!0,tiger:e,pteranodon:i}),this.abilityService.triggerFriendSummonedEvents(h)),super.superAfterFaint(t,e,i)}}class TC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dodo",this.tier=3,this.pack="Turtle",this.health=2,this.attack=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.nearestPetsAhead(1,this);if(0===i.pets.length)return;let s=i.pets[0],r=Math.floor(this.attack*(.5*this.level));s.increaseAttack(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack.`,player:this.parent,type:"ability",tiger:e,randomEvent:i.random}),super.superStartOfBattle(t,e)}}class xC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Badger",this.tier=3,this.pack="Turtle",this.health=3,this.attack=6,this.initPet(o,s,r,a,l)}faint(t,e,i){let s;s=t.player==this.parent?t.opponet:t.player;let r=Math.floor(this.attack*(.5*this.level)),a=this.parent.nearestPetsBehind(1,this);a.pets.length>0&&this.snipePet(a.pets[0],r,a.random,e,i);let o=this.parent.nearestPetsAhead(1,this,void 0,!0);o.pets.length>0&&this.snipePet(o.pets[0],r,o.random,e,i),super.superFaint(t,e),this.done=!0}}class b_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dolphin",this.tier=3,this.pack="Turtle",this.health=3,this.attack=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i;i=t.player==this.parent?t.opponet:t.player;for(let s=0;s<this.level;s++){let r=i.getLowestHealthPet(null,this);if(!r.pet)break;this.snipePet(r.pet,4,r.random,e)}super.superStartOfBattle(t,e)}}class MC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giraffe",this.tier=3,this.pack="Turtle",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class RC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Elephant",this.tier=3,this.pack="Turtle",this.health=7,this.attack=3,this.initPet(o,s,r,a,l)}afterAttack(t,e){for(let i=0;i<this.level;i++){let s=this.parent.nearestPetsBehind(1,this);s.pets.length>0&&this.snipePet(s.pets[0],1,s.random,e)}super.superAfterAttack(t,e)}}class IC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Camel",this.tier=3,this.pack="Turtle",this.health=3,this.attack=3,this.initPet(o,s,r,a,l)}hurt(t,e,i){let s=this.parent.nearestPetsBehind(1,this);if(0===s.pets.length)return;let r=s.pets[0],a=2*this.level;r.increaseAttack(this.level),r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} ${this.level} attack and ${a} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),super.superHurt(t,e,i)}}class OC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rabbit",this.tier=3,this.pack="Turtle",this.health=2,this.attack=1,this.initPet(o,s,r,a,l)}friendAteFood(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.level,r=this.parent.getSpecificPet(this,e),a=r.pet;null!=a&&(a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),this.abilityUses++,this.superFriendGainedPerk(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class qa extends ee{constructor(){super(...arguments),this.name="Melon",this.tier=6,this.equipmentClass="shield",this.power=20,this.originalPower=20,this.uses=1,this.originalUses=1}}class NC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ox",this.tier=3,this.pack="Turtle",this.health=3,this.attack=1,this.initPet(o,s,r,a,l)}friendAheadFaints(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.getThis(this),r=s.pet;if(null==r)return;r.increaseAttack(1),this.logService.createLog({message:`${this.name} gave ${r.name} +1 attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random});let a=this.parent.getThis(this),o=a.pet;null!=o&&(o.givePetEquipment(new qa),this.logService.createLog({message:`${this.name} gave ${o.name} Melon.`,type:"ability",player:this.parent,tiger:i,randomEvent:a.random}),this.abilityUses++,super.superFriendAheadFaints(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class LC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dog",this.tier=3,this.pack="Turtle",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){if(e==this)return;let s=2*this.level,r=this.level,a=this.parent.getThis(this);a.pet&&(a.pet.increaseAttack(s),a.pet.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${a.pet.name} ${s} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:a.random})),super.superFriendSummoned(t,e,i)}}class S_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ram",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}}class BC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sheep",this.tier=3,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){for(let s=0;s<2;s++){let r=new S_(this.logService,this.abilityService,this.parent,null,null,0,this.minExpForLevel),a=this.parent.summonPet(r,this.savedPosition,!1,this);a.success&&(this.logService.createLog({message:`${this.name} spawned Ram (${r.attack}/${r.health}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:a.randomEvent}),this.abilityService.triggerFriendSummonedEvents(r))}super.superAfterFaint(t,e,i)}}class $C extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tiger",this.tier=6,this.pack="Turtle",this.attack=6,this.health=4,this.initPet(o,s,r,a,l)}}class yh extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Parrot",this.tier=4,this.pack="Turtle",this.attack=4,this.health=2,this.initPet(l,r,a,o,h)}endTurn(t){var e;let i=this.petAhead;this.copyPet=i,i instanceof yh&&(i=i.copyPet,this.logService.createLog({message:`Parrot copied ${this.petAhead.name}`,type:"ability",player:this.parent})),null!=i&&(this.startOfBattle=i.originalStartOfBattle,this.hurt=i.originalHurt,this.faint=i.originalFaint,this.friendSummoned=i.originalFriendSummoned,this.friendAheadAttacks=i.originalFriendAheadAttacks,this.friendAheadFaints=i.originalFriendAheadFaints,this.friendFaints=i.originalFriendFaints,this.enemyFaints=i.originalEnemyFaints,this.enemyAttack=i.originalEnemyAttack,this.afterAttack=i.originalAfterAttack,this.beforeAttack=i.originalBeforeAttack,this.beforeStartOfBattle=i.originalBeforeStartOfBattle,this.knockOut=i.originalKnockOut,this.summoned=i.originalSummoned,this.friendlyToyBroke=i.originalFriendlyToyBroke,this.friendGainedAilment=i.originalFriendGainedAilment,this.friendHurt=i.originalFriendHurt,this.friendTransformed=i.originalFriendTransformed,this.eatsFood=i.originalEatsFood,this.friendAteFood=i.originalFriendAteFood,this.friendLostPerk=i.originalFriendLostPerk,this.gainedPerk=i.originalGainedPerk,this.friendGainedPerk=i.originalFriendGainedPerk,this.anyoneLevelUp=i.originalAnyoneLevelUp,this.enemySummoned=i.originalEnemySummoned,this.enemyPushed=i.originalEnemyPushed,this.gainedMana=i.originalGainedMana,this.friendJumped=i.originalFriendJumped,this.enemyGainedAilment=i.originalEnemyGainedAilment,this.friendGainsHealth=i.originalFriendGainsHealth,this.emptyFrontSpace=i.originalEmptyFrontSpace,this.enemyHurt=i.originalEnemyHurt,this.afterFaint=i.originalAfterFaint,this.transform=i.originalTransform,this.adjacentAttacked=i.originalAdjacentAttacked,this.friendAttacks=i.originalFriendAttacks,this.beforeFriendAttacks=i.originalBeforeFriendAttacks,this.enemyJumped=i.originalEnemyJumped,this.friendGainedExperience=i.originalFriendGainedExperience,this.maxAbilityUses=i.maxAbilityUses,this.setAbilityUses=null===(e=i.setAbilityUses)||void 0===e?void 0:e.bind(this),this.initAbilities(),i instanceof yh||this.logService.createLog({message:`Parrot copied ${i.name}`,type:"ability",player:this.parent}))}}class VC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Skunk",this.tier=4,this.pack="Turtle",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s=Bt(t,this.parent).getHighestHealthPet(void 0,this),r=s.pet;if(null==r)return;let a=.33*this.level,o=Math.max(1,Math.floor(r.health*(1-a)));r.health=o,this.logService.createLog({message:`${this.name} reduced ${r.name} health by ${100*a}% (${o})`,type:"ability",player:this.parent,randomEvent:s.random,tiger:e}),this.superStartOfBattle(t,e)}}class FC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hippo",this.tier=4,this.pack="Turtle",this.attack=4,this.health=6,this.initPet(o,s,r,a,l)}knockOut(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=3*this.level,r=this.parent.getThis(this),a=r.pet;null!=a&&(a.increaseAttack(s),a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),this.superKnockOut(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class HC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bison",this.tier=4,this.pack="Turtle",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}}class qC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blowfish",this.tier=4,this.pack="Turtle",this.attack=3,this.health=6,this.initPet(o,s,r,a,l)}hurt(t,e,i){let s=3*this.level,r=Bt(t,this.parent).getRandomPet([],!1,!0,!1,this);r.pet&&this.snipePet(r.pet,s,r.random,i),this.superHurt(t,e,i)}}class UC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Turtle",this.tier=4,this.pack="Turtle",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.nearestPetsBehind(this.level,this,"Melon");if(0!=s.pets.length){for(let r of s.pets)this.logService.createLog({message:`${this.name} gave ${r.name} Melon.`,type:"ability",tiger:e,player:this.parent,pteranodon:i,randomEvent:s.random}),r.givePetEquipment(new qa);this.superFaint(t,e)}}}class GC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Squirrel",this.tier=4,this.pack="Turtle",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}}class jC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Penguin",this.tier=4,this.pack="Turtle",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class WC extends ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Chili",this.equipmentClass="skewer",this.power=0,this.originalPower=0,this.attackCallback=(i,s)=>{let r=s.parent.getPetAtPosition(1);null!=r&&i.snipePet(r,5,!1,null,null,!0)}}}class w_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bus",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=3,this.attack=5,this.initPet(o,s,r,a,l)}}class zC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Deer",this.tier=4,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=new w_(this.logService,this.abilityService,this.parent,null,null,null,this.minExpForLevel,new WC(this.logService,this.abilityService)),r=this.parent.summonPet(s,this.savedPosition,!1,this);r.success&&(this.logService.createLog({message:`${this.name} spawned Bus level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s)),super.superAfterFaint(t,e,i)}}class KC extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Whale",this.tier=4,this.pack="Turtle",this.attack=3,this.health=7,this.initPet(l,r,a,o,h)}startOfBattle(t,e){let i=this.parent.nearestPetsAhead(1,this);if(0===i.pets.length)return;let s=i.pets[0],r=this.petService.createPet({name:s.name,attack:s.attack,health:s.health,exp:this.exp,equipment:null,mana:0},this.parent);this.swallowedPets.push(r),s.health=0,this.logService.createLog({message:`${this.name} swallowed ${s.name}`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),this.superStartOfBattle(t,e)}afterFaint(t,e,i){for(;this.swallowedPets.length>0;){let s=this.swallowedPets.shift(),r=this.parent.summonPet(s,this.savedPosition,!1,this);r.success&&(this.logService.createLog({message:`${this.name} summoned ${s.name} (level ${s.level}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s))}super.superAfterFaint(t,e,i)}}class _h extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bee",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class E_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Angry Pygmy Hog",this.tier=2,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}}class QC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Scorpion",this.tier=5,this.pack="Turtle",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}summoned(t,e){let i=new Np,s=this.parent.getThis(this),r=s.pet;null!=r&&(r.givePetEquipment(i),this.logService.createLog({message:`${this.name} gave ${r.name} the Peanut perk.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),this.superSummoned(t,e))}}class YC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crocodile",this.tier=5,this.pack="Turtle",this.attack=8,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){for(let i=0;i<this.level;i++){let s=Bt(t,this.parent).getLastPet(void 0,this),r=s.pet;r&&this.snipePet(r,8,s.random,e)}super.superStartOfBattle(t,e)}}class JC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rhino",this.tier=5,this.pack="Turtle",this.attack=6,this.health=9,this.initPet(o,s,r,a,l)}knockOut(t,e,i){let s=Bt(t,this.parent).getFurthestUpPet(this),r=s.pet;if(null==r)return;let a=4*this.level;1==r.tier&&(a*=2),this.snipePet(r,a,s.random,i),this.superKnockOut(t,e,i)}}class k_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Monkey",this.tier=5,this.pack="Turtle",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class ZC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Armadillo",this.tier=5,this.pack="Turtle",this.attack=2,this.health=10,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.getAll(!0,this),s=i.pets;if(0!=s.length){for(let r of s){if(!r.alive)continue;let a=8*this.level;r.increaseHealth(a),this.logService.createLog({message:`${this.name} increased health of ${r.name} by ${a}.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random})}this.superStartOfBattle(t,e)}}}class XC extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cow",this.tier=5,this.pack="Turtle",this.attack=4,this.health=6,this.initPet(o,s,r,a,l)}}class eA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Seal",this.tier=5,this.pack="Turtle",this.attack=3,this.health=8,this.initPet(o,s,r,a,l)}eatsFood(t,e,i){if(e!=this)return;let s=this.level,r=this.parent.getRandomPets(3,[this],!0,!1,this);for(let a of r.pets)null!=a&&(a.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}));this.superGainedPerk(t,e,i)}}class C_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chick",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class tA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rooster",this.tier=5,this.pack="Turtle",this.attack=6,this.health=4,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=Math.max(Math.floor(.5*this.attack),1);for(let r=0;r<this.level;r++){let a=new C_(this.logService,this.abilityService,this.parent,1,s,0,this.minExpForLevel),o=this.parent.summonPet(a,this.savedPosition,!1,this);o.success&&(this.logService.createLog({message:`${this.name} spawned Chick (${s}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:o.randomEvent}),this.abilityService.triggerFriendSummonedEvents(a))}super.superAfterFaint(t,e,i)}}class iA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shark",this.tier=5,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){if(e==this)return;let s={attack:2*this.level,health:2*this.level},r=this.parent.getThis(this),a=r.pet;null!=a&&(a.increaseAttack(s.attack),a.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${a.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),super.superFriendFaints(t,e,i))}}class nA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Turkey",this.tier=5,this.pack="Turtle",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){let s={attack:3*this.level,health:1*this.level},r=this.parent.getSpecificPet(this,e),a=r.pet;null!=a&&(a.increaseAttack(s.attack),a.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${a.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),super.superFriendSummoned(t,e,i))}}class sA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leopard",this.tier=6,this.pack="Turtle",this.attack=10,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=Math.floor(.5*this.attack),s=this.parent.opponent.getRandomPets(this.level,null,null,!0,this);for(let r of s.pets)null!=r&&this.snipePet(r,i,s.random,e);this.superStartOfBattle(t,e)}}class rA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Boar",this.tier=6,this.pack="Turtle",this.attack=10,this.health=6,this.initPet(o,s,r,a,l)}beforeAttack(t,e){let i={attack:4*this.level,health:2*this.level},s=this.parent.getThis(this),r=s.pet;null!=r&&(r.increaseAttack(i.attack),r.increaseHealth(i.health),this.logService.createLog({message:`${this.name} gave ${r.name} ${i.attack} attack and ${i.health} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),this.superBeforeAttack(t,e))}}class aA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wolverine",this.tier=6,this.pack="Turtle",this.attack=5,this.health=7,this.initPet(o,s,r,a,l)}friendHurt(t,e,i){e!=this&&(i||(this.abilityCounter++,this.logService.createLog({message:`${this.name} increased counter: (${this.abilityCounter%4}/4)}`,type:"ability",player:this.parent,tiger:i})),this.abilityCounter%4==0&&(this.abilityService.setCounterEvent({callback:()=>{let s=this.parent.opponent.getAll(!1,this),r=s.pets;if(0!=r.length)for(let a of r){let o=-3*this.level;a.increaseHealth(o),this.logService.createLog({message:`${this.name} reduced ${a.name} health by ${Math.abs(o)}`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random})}},priority:this.attack,pet:this}),this.superFriendHurt(t,e,i)))}}class Uo extends ee{constructor(){super(...arguments),this.name="Coconut",this.equipmentClass="shield",this.power=999,this.originalPower=999,this.uses=1,this.originalUses=1}}class oA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gorilla",this.tier=6,this.pack="Turtle",this.attack=7,this.health=10,this.initPet(o,s,r,a,l)}hurt(t,e,i){if(!this.alive||this.abilityUses>=this.maxAbilityUses)return;let r=this.parent.getThis(this).pet;null!=r&&(r.givePetEquipment(new Uo),this.logService.createLog({message:`${this.name} gave ${r.name} a Coconut.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,super.superHurt(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class lA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dragon",this.tier=6,this.pack="Turtle",this.attack=3,this.health=8,this.initPet(o,s,r,a,l)}}class cA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mammoth",this.tier=6,this.pack="Turtle",this.attack=4,this.health=12,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=2*this.level,r=this.parent.getAll(!1,this),a=r.pets;if(0!=a.length){for(let o of a)o.increaseAttack(s),o.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.random});super.superFaint(t,e)}}}class uA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cat",this.tier=6,this.pack="Turtle",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}}class hA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snake",this.tier=6,this.pack="Turtle",this.attack=6,this.health=6,this.initPet(o,s,r,a,l)}friendAheadAttacks(t,e,i){let s=5*this.level,r=Bt(t,this.parent).getRandomPet([],!1,!0,!1,this);!r.pet||(this.snipePet(r.pet,s,r.random,i),this.superFriendAheadAttacks(t,e,i))}}class $p extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zombie Fly",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=4,this.attack=4,this.initPet(o,s,r,a,l)}}class dA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fly",this.tier=6,this.pack="Turtle",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){if(!this.alive||e instanceof $p||this.abilityUses>=this.maxAbilityUses)return;let s=new $p(this.logService,this.abilityService,this.parent,null,null,null,this.minExpForLevel),r=this.parent.summonPet(s,e.savedPosition,!0,this);r.success&&(this.abilityUses++,this.logService.createLog({message:`${this.name} spawned Zombie Fly Level ${this.level}`,type:"ability",player:this.parent,tiger:i,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s)),super.superFriendFaints(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class fA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Moth",this.tier=1,this.pack="Puppy",this.health=3,this.attack=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.getFurthestUpPet(this),s=i.pet;if(null==s)return;let r=2*this.level;s.increaseAttack(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),this.superStartOfBattle(t,e)}}class pA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bluebird",this.tier=1,this.pack="Puppy",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}}class gA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chinchilla",this.tier=1,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class bh extends ee{constructor(){super(...arguments),this.equipmentClass="defense",this.name="Garlic",this.tier=3,this.power=2,this.originalPower=2,this.minimumDamage=2}}class mA extends ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Honey",this.equipmentClass="afterFaint",this.callback=i=>{var s;let r=null===(s=i.afterFaint)||void 0===s?void 0:s.bind(i);i.afterFaint=(a,o)=>{var l;if(null!=r&&r(a,o),!o&&"Honey"==(null===(l=i.equipment)||void 0===l?void 0:l.name))for(let h=0;h<this.multiplier;h++){let d=new _h(this.logService,this.abilityService,i.parent,null,null,0);this.logService.createLog({message:`${i.name} Spawned Bee (Honey)${h>0?this.multiplierMessage:""}`,type:"ability",player:i.parent}),i.parent.summonPet(d,i.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(d)}}}}}class vA extends ee{constructor(){super(...arguments),this.name="Meat Bone",this.equipmentClass="attack",this.power=3,this.originalPower=3}}class yA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beetle",this.tier=1,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.nearestPetsBehind(1,this);if(0===i.pets.length)return void super.superStartOfBattle(t,e);let r,s=i.pets[0];switch(this.level){case 1:r=new mA(this.logService,this.abilityService);break;case 2:r=new vA;break;case 3:r=new bh}this.logService.createLog({message:`${this.name} gave ${s.name} ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),s.givePetEquipment(r),super.superStartOfBattle(t,e)}}class _A extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ladybug",this.tier=1,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}friendGainedPerk(t,e,i){let s=2*this.level,r=this.parent.getThis(this);r.pet&&(r.pet.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${r.pet.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random})),this.superFriendGainedPerk(t,e,i)}}class bA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chipmunk",this.tier=1,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}}class SA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gecko",this.tier=1,this.pack="Puppy",this.attack=3,this.health=1,this.toyPet=!0,this.initPet(o,s,r,a,l)}startOfBattle(t,e){if(null==this.parent.toy)return;let i=2*this.level,r=this.parent.getThis(this).pet;null!=r&&(r.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${r.name} ${i} health.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e))}}class wA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ferret",this.tier=1,this.pack="Puppy",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}}class Ua extends ee{constructor(){super(...arguments),this.name="Weak",this.equipmentClass="ailment-defense",this.power=-3,this.originalPower=-3}}class EA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bat",this.tier=2,this.pack="Puppy",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}beforeAttack(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let s=Bt(t,this.parent).getRandomPet(null,null,!0,null,this),r=s.pet;null!=r&&(r.givePetEquipment(new Ua),this.logService.createLog({message:`${this.name} made ${r.name} weak.`,type:"ability",player:this.parent,randomEvent:s.random,tiger:e})),this.abilityUses++,this.superBeforeAttack(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class kA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bilby",this.tier=2,this.pack="Puppy",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}friendLostPerk(t,e,i){if(this.abilityUses>=this.maxAbilityUses||this==e)return;let s=this.parent.getSpecificPet(this,e),r=s.pet;null!=r&&(this.logService.createLog({message:`${this.name} gave ${r.name} Garlic.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),r.givePetEquipment(new bh),this.abilityUses++,super.superFriendLosPerk(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class Vp extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nest",this.tier=1,this.pack="Puppy",this.hidden=!0,this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class k3 extends ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Egg",this.tier=1,this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.beforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=(a,o)=>{if(null!=r&&r(a,o),o||i.equipment!==this)return;let l=1;l=i instanceof Vp?i.level:this.multiplier;for(let h=0;h<l;h++){let m=(i.parent==a.player?a.opponet:a.player).petArray,y=null;for(let S of m)if(S.alive){y=S;break}null!=y?i.snipePet(y,2,!1,!1,!1,!0,!1):console.warn("egg didn't find target")}i.removePerk()}}}}class CA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Robin",this.tier=2,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=new Vp(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel,null);this.logService.createLog({message:`${this.name} summoned a Nest (level ${this.level}).`,type:"ability",player:this.parent,randomEvent:!1,tiger:e});let s=this.parent.summonPetInFront(this,i);s.success&&(this.logService.createLog({message:`${this.name} gave Nest an Egg.`,type:"ability",player:this.parent,randomEvent:s.randomEvent,tiger:e}),i.givePetEquipment(new k3(this.logService,this.abilityService)),this.abilityService.triggerFriendSummonedEvents(i)),this.superStartOfBattle(t,e)}}class AA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dromedary",this.tier=2,this.pack="Puppy",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class PA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shrimp",this.tier=2,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}}class W9 extends ee{constructor(){super(...arguments),this.name="Cake",this.equipmentClass="shop",this.tier=3}}class z9 extends ee{constructor(){super(...arguments),this.name="Steak",this.equipmentClass="attack",this.tier=6,this.power=20,this.originalPower=20,this.uses=1,this.originalUses=1}}class K9 extends ee{constructor(t,e,i){super(),this.logService=t,this.abilityService=e,this.petService=i,this.name="Mushroom",this.tier=6,this.equipmentClass="afterFaint",this.callback=s=>{var r;let a=null===(r=s.afterFaint)||void 0===r?void 0:r.bind(s);s.afterFaint=(o,l)=>{if(null!=a&&a(o,l),!l&&s.equipment===this)for(let h=0;h<this.multiplier;h++){let d=this.petService.createDefaultVersionOfPet(s,1,1);this.logService.createLog({message:`${s.name} Spawned ${d.name} (level ${d.level}) (Mushroom)${h>0?this.multiplierMessage:""}`,type:"ability",player:s.parent}),s.parent.summonPet(d,s.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(d)}}}}}class Q9 extends ee{constructor(){super(),this.name="Croissant",this.tier=3,this.equipmentClass="shop"}}class DA extends ee{constructor(){super(...arguments),this.name="Rice",this.tier=2,this.equipmentClass="shop"}}class A_ extends ee{constructor(){super(...arguments),this.name="Eucalyptus",this.equipmentClass="shield",this.power=4,this.originalPower=4,this.uses=1,this.originalUses=1}}class Y9 extends ee{constructor(){super(...arguments),this.equipmentClass="defense",this.name="Lime",this.tier=2,this.power=1,this.originalPower=1}}class J9 extends ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Squash",this.tier=3,this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.beforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=(a,o)=>{if(null!=r&&r(a,o),!o&&i.equipment===this){for(let l=0;l<this.multiplier;l++){let d=(i.parent==a.player?a.opponet:a.player).pet0;if(null==d||!d.alive)return void console.warn("squash didn't find target");let m=6,y=Math.max(1,d.health-m);d.health=y,this.logService.createLog({message:`${this.name} reduced ${d.name} health by ${m} (${y})${l>0?this.multiplierMessage:""}`,type:"equipment",player:i.parent})}i.removePerk()}}}}}class C3 extends ee{constructor(t){super(),this.logService=t,this.name="Pie",this.tier=4,this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.beforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=(r,a)=>{if(null!=s&&s(r,a),a)return;let o=4*this.multiplier,l=4*this.multiplier;e.increaseAttack(o),e.increaseHealth(l),this.logService.createLog({message:`${e.name} gained ${o} attack and ${l} health (Pie)${this.multiplierMessage}`,type:"equipment",player:e.parent})}}}}class A3 extends ee{constructor(t){super(),this.logService=t,this.name="Skewer",this.tier=5,this.equipmentClass="skewer",this.power=0,this.attackCallback=(e,i)=>{this.skewer(e,i,1),this.skewer(e,i,2)}}skewer(t,e,i){let s=e.parent.getPetAtPosition(i);null!=s&&t.snipePet(s,3,!1,null,null,!0)}}class Z9 extends ee{constructor(){super(...arguments),this.equipmentClass="defense",this.name="Lemon",this.tier=5,this.power=7,this.originalPower=7,this.uses=2,this.originalUses=2}}class P3 extends ee{constructor(t){super(),this.logService=t,this.name="Pancakes",this.tier=6,this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.beforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=(r,a)=>{if(null!=s&&s(r,a),!a)for(let o of e.parent.petArray){if(e==o)continue;let l=2*this.multiplier,h=2*this.multiplier;o.increaseAttack(l),o.increaseHealth(h),this.logService.createLog({message:`${o.name} gained ${l} attack and ${h} health (Pancakes)${this.multiplierMessage}`,type:"equipment",player:e.parent})}}}}}class TA extends ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Strawberry",this.equipmentClass="defense",this.tier=1,this.uses=2,this.originalUses=2,this.callback=i=>{var s;let r=null===(s=i.faint)||void 0===s?void 0:s.bind(i);i.faint=(a,o,l)=>{if(null!=r&&r(a,o,l),o)return;const h=i.parent.getLastPet();if(h.pet){const d=1;this.logService.createLog({message:`${i.name} (Strawberry) gave ${h.pet.name} +${d} attack and +${d} health.`,type:"equipment",player:i.parent,randomEvent:h.random}),h.pet.increaseAttack(d),h.pet.increaseHealth(d)}}}}}class X9 extends ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Baguette",this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.beforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=(a,o)=>{if(null!=r&&r(a,o),o||i.equipment!==this)return;let h=i.parent.opponent.furthestUpPet;if(null!=h&&null!=h.equipment){let d=h.equipment.name;h.removePerk(),this.logService.createLog({message:`${i.name} removed ${d} from ${h.name} (Baguette)`,type:"equipment",player:i.parent}),i.removePerk()}}}}}class ez extends ee{constructor(){super(...arguments),this.name="Cucumber",this.equipmentClass="shop"}}class tz extends ee{constructor(){super(...arguments),this.name="Grapes",this.equipmentClass="shop"}}class iz extends ee{constructor(){super(...arguments),this.name="Carrot",this.equipmentClass="shop"}}class nz extends ee{constructor(t,e,i,s){super(),this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s,this.name="Popcorn",this.equipmentClass="afterFaint",this.callback=r=>{var a;let o=null===(a=r.afterFaint)||void 0===a?void 0:a.bind(r);r.afterFaint=(l,h)=>{if(null!=o&&o(l,h),!h&&r.equipment===this)for(let d=0;d<this.multiplier;d++){let m;m=r.parent==this.gameService.gameApi.player?this.gameService.gameApi.playerPetPool:this.gameService.gameApi.opponentPetPool;let y=m.get(r.tier),S=y[Math.floor(Math.random()*y.length)],k=this.petService.createPet({attack:null,equipment:null,exp:0,health:null,name:S,mana:0},r.parent);this.logService.createLog({message:`${r.name} Spawned ${k.name} (Popcorn)${d>0?this.multiplierMessage:""}`,type:"ability",player:r.parent,randomEvent:!0}),r.parent.summonPet(k,r.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(k)}}}}}class D3 extends ee{constructor(){super(...arguments),this.name="Cherry",this.equipmentClass="beforeStartOfBattle",this.callback=t=>{var e;let i=null===(e=t.beforeStartOfBattle)||void 0===e?void 0:e.bind(t);t.beforeStartOfBattle=(s,r)=>{null!=i&&i(s,r),!r&&t.parent.gainTrumpets(2*this.multiplier,t,!1,this.multiplier,!0)}}}}class sz extends ee{constructor(){super(...arguments),this.name="Bok Choy",this.equipmentClass="shop",this.tier=2}}class xA extends ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Chocolate Cake",this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.beforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=(a,o)=>{var l;if(null!=r&&r(a,o),o||"Chocolate Cake"!=(null===(l=i.equipment)||void 0===l?void 0:l.name))return;let h=3*this.multiplier;this.logService.createLog({message:`${i.name} gained ${h} exp. (Chocolate Cake)${this.multiplierMessage}`,type:"equipment",player:i.parent}),i.increaseExp(h),i.health=0,null!=i.knockOut&&this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack}),i.removePerk()}}}}class rz extends ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Cod Roe",this.equipmentClass="afterFaint",this.callback=i=>{var s;let r=null===(s=i.afterFaint)||void 0===s?void 0:s.bind(i);i.afterFaint=(a,o)=>{var l;if(null!=r&&r(a,o),!o&&"Cod Roe"==(null===(l=i.equipment)||void 0===l?void 0:l.name))for(let h=0;h<this.multiplier;h++){let d=new m_(this.logService,this.abilityService,i.parent,3,2,0,0);this.logService.createLog({message:`${i.name} spawned ${d.name} (Cod Roe)${h>0?this.multiplierMessage:""}`,type:"equipment",player:i.parent}),i.parent.summonPet(d,i.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(d)}}}}}class T3 extends ee{constructor(t){super(),this.logService=t,this.name="Eggplant",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.beforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=(r,a)=>{if(null!=s&&s(r,a),!a)for(let o=0;o<this.multiplier;o++){let l=e.parent.opponent,h=l.getPet(e.position);if(null==h)return;this.logService.createLog({message:`${e.name} pushed ${h.name} 1 space forward. (Eggplant)`,type:"equipment",player:e.parent}),l.pushPet(h,1)}}}}}class az extends ee{constructor(){super(...arguments),this.name="Potato",this.equipmentClass="shield-snipe",this.power=10,this.uses=2,this.originalUses=2,this.originalPower=10}}class oz extends ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Banana",this.equipmentClass="afterFaint",this.callback=i=>{var s;let r=null===(s=i.afterFaint)||void 0===s?void 0:s.bind(i);i.afterFaint=(a,o)=>{if(null!=r&&r(a,o),!o&&i.equipment===this)for(let l=0;l<this.multiplier;l++){let h=new k_(this.logService,this.abilityService,i.parent,4,4,0,0);this.logService.createLog({message:`${i.name} Spawned Monkey (Banana)${l>0?this.multiplierMessage:""}`,type:"ability",player:i.parent}),i.parent.summonPet(h,i.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(h)}}}}}class lz extends ee{constructor(t){super(),this.logService=t,this.name="Pita Bread",this.tier=6,this.power=0,this.equipmentClass="hurt",this.callback=e=>{var i;let s=null===(i=e.hurt)||void 0===i?void 0:i.bind(e);e.hurt=(r,a,o)=>{var l;if(null!=s&&s(r,a,o),o||"Pita Bread"!=(null===(l=e.equipment)||void 0===l?void 0:l.name)||!e.alive)return;let h=15*this.multiplier;e.increaseHealth(h);let d=`${e.name} gained ${h} health. (Pita Bread)${this.multiplierMessage}`;d+=".",this.logService.createLog({message:d,type:"equipment",player:e.parent}),e.removePerk()}}}}class cz extends ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Tomato",this.tier=6,this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.beforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=(a,o)=>{if(null!=r&&r(a,o),!o&&i.equipment===this){for(let l=0;l<this.multiplier;l++){let d=(i.parent==a.player?a.opponet:a.player).getLastPet();if(null==d.pet)break;i.snipePet(d.pet,10,d.random,!1,!1,!0,!1)}i.removePerk()}}}}}class uz extends ee{constructor(t){super(),this.logService=t,this.name="Sudduth Tomato",this.equipmentClass="hurt",this.callback=e=>{var i;let s=null===(i=e.hurt)||void 0===i?void 0:i.bind(e);e.hurt=(r,a,o)=>{var l;if(null!=s&&s(r,a,o),o||"Sudduth Tomato"!=(null===(l=e.equipment)||void 0===l?void 0:l.name)||!e.alive)return;let h=1*this.multiplier;e.increaseHealth(h),this.logService.createLog({message:`${e.name} gained ${h} health (Sudduth Tomato)${this.multiplierMessage}`,type:"equipment",player:e.parent}),e.removePerk()}}}}class hz extends ee{constructor(t){super(),this.logService=t,this.name="Unagi",this.equipmentClass="startOfBattle",this.callback=e=>{var i;let s=null===(i=e.startOfBattle)||void 0===i?void 0:i.bind(e);e.startOfBattle=(r,a)=>{var o;if(null!=s&&s(r,a),a||"Unagi"!=(null===(o=e.equipment)||void 0===o?void 0:o.name))return;let l=e.parent.opponent.getRandomPet([],!1,!0,!1,e);l.pet&&e.snipePet(l.pet,2*this.multiplier,!0,!1,!1,!0,!1)}}}}class dz extends ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Durian",this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.beforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=(a,o)=>{if(null!=r&&r(a,o),!o&&i.equipment===this){for(let l=0;l<this.multiplier;l++){let d=(i.parent==a.player?a.opponet:a.player).getHighestHealthPet(),m=d.pet;if(null==m){console.warn("durian didn't find target");continue}let y=.33,S=Math.max(1,Math.floor(m.health*(1-y)));m.health=S,this.logService.createLog({message:`${this.name} reduced ${m.name} health by ${100*y}% (${S})${l>0?this.multiplierMessage:""}`,type:"ability",player:i.parent,randomEvent:d.random})}i.removePerk()}}}}}class fz extends ee{constructor(t,e,i){super(),this.logService=t,this.abilityService=e,this.petService=i,this.name="Gros Michel Banana",this.equipmentClass="beforeAttack",this.callback=s=>{var r;let a=null===(r=s.beforeAttack)||void 0===r?void 0:r.bind(s);s.beforeAttack=(o,l)=>{var h;if(null!=a&&a(o,l),l||"Gros Michel Banana"!=(null===(h=s.equipment)||void 0===h?void 0:h.name))return;let d=this.petService.createPet({name:"Ant",attack:s.attack,health:s.health,mana:s.mana,exp:s.exp,equipment:null},s.parent);this.logService.createLog({message:`${s.name} transformed into ${d.name} (Gros Michel Banana)`,type:"equipment",player:s.parent}),s.parent.transformPet(s,d)}}}}class pz extends ee{constructor(t,e,i){super(),this.logService=t,this.abilityService=e,this.petService=i,this.name="Seaweed",this.equipmentClass="beforeAttack",this.callback=s=>{var r;let a=null===(r=s.beforeAttack)||void 0===r?void 0:r.bind(s);s.beforeAttack=(o,l)=>{if(null!=a&&a(o,l),l||s.equipment!==this)return;let h=this.petService.createPet({name:"Baby Urchin",attack:s.attack,health:s.health,mana:s.mana,exp:s.exp,equipment:null},s.parent);this.logService.createLog({message:`${s.name} transformed into ${h.name} (Seaweed)`,type:"equipment",player:s.parent}),s.parent.transformPet(s,h)}}}}class gz extends ee{constructor(){super(),this.name="Blueberry",this.equipmentClass="target"}}class mz extends ee{constructor(){super(),this.name="Donut",this.equipmentClass="target"}}class vz extends ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Cashew Nut",this.tier=1,this.equipmentClass="beforeStartOfBattle",this.callback=i=>{var s;let r=null===(s=i.beforeStartOfBattle)||void 0===s?void 0:s.bind(i);i.beforeStartOfBattle=(a,o)=>{if(null!=r&&r(a,o),o||i.equipment!==this)return;let l=i.parent.nearestPetsAhead(2,i,null,!0),h=l.pets;if(h.length<2)return;let d=h[1];i.snipePet(d,d.parent==i.parent?1:2,l.random,null,null,!0)}}}}class yz extends ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Nachos",this.tier=1,this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.beforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=(a,o)=>{if(null!=r&&r(a,o),o||i.equipment!==this)return;let d=Math.min(3,i.health-1);d>0&&(i.increaseHealth(-d),i.increaseAttack(d),this.logService.createLog({message:`${i.name} converted ${d} health into ${d} attack (Nachos)`,type:"equipment",player:i.parent})),i.removePerk()}}}}class _z extends ee{constructor(){super(...arguments),this.name="Pumpkin",this.equipmentClass="shop",this.tier=1}}class bz extends ee{constructor(){super(...arguments),this.name="Kiwifruit",this.equipmentClass="shop",this.tier=2}}class Sz extends ee{constructor(){super(),this.name="Pineapple",this.equipmentClass="attack-snipe",this.power=2}}class wz extends ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Fig",this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.beforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=(a,o)=>{if(null!=r&&r(a,o),!o&&i.equipment==this){for(let l=0;l<this.multiplier;l++){let d=(i.parent==a.player?a.opponet:a.player).getLowestHealthPet().pet;if(null==d)return void console.warn("fig didn't find target");i.snipePet(d,4,!0,!1,!1,!0,!1)}i.removePerk()}}}}}class Ez extends ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Caramel",this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.beforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=(a,o)=>{if(null!=r&&r(a,o),o||i.equipment!==this)return;let l=i.parent.petArray.filter(S=>{var k;return S.alive&&"Caramel"===(null===(k=S.equipment)||void 0===k?void 0:k.name)});if(0===l.length)return;let h=3*l.length,m=(i.parent===a.player?a.opponet:a.player).getHighestHealthPet(),y=m.pet;if(null!=y){i.snipePet(y,h,m.random,o,!1,!0,!1);for(let S of l)S.removePerk(),this.logService.createLog({message:`${S.name} lost Caramel equipment`,type:"ability",player:i.parent,tiger:!1})}}}}}class MA extends ee{constructor(t){super(),this.logService=t,this.name="Rambutan",this.equipmentClass="beforeAttack",this.callback=e=>{var i;let s=null===(i=e.beforeAttack)||void 0===i?void 0:i.bind(e);e.beforeAttack=(r,a)=>{if(null!=s&&s(r,a),a||e.equipment!==this)return;let l=3*this.multiplier;this.logService.createLog({message:`${e.name} gained ${l} mana. (Rambutan)${this.multiplierMessage}`,type:"equipment",player:e.parent}),e.increaseMana(l)}}}}class x3 extends ee{constructor(t){super(),this.logService=t,this.name="Love Potion",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.beforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=(r,a)=>{if(null!=s&&s(r,a),a)return;let o=e.petAhead;if(null==o)return;let l=2*this.multiplier;this.logService.createLog({message:`${e.name} gave ${o.name} ${l} health (Love Potion)${this.multiplierMessage}.`,type:"equipment",player:e.parent}),o.increaseHealth(l)}}}}class kz extends ee{constructor(t){super(),this.logService=t,this.name="Fairy Dust",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{let i=r=>{if(null!=r.parent.pet0)return;let a=2*this.multiplier;this.logService.createLog({message:`${r.name} pushed itself to the front and gained ${a} mana(Fairy Dust)${this.multiplierMessage}.`,type:"ability",player:r.parent}),r.parent.pushPetToFront(r,!0),r.increaseMana(a)},s=e.emptyFrontSpace;e.emptyFrontSpace=(r,a)=>{var o;null!=s&&s(r,a),!a&&"Tomato"==(null===(o=e.equipment)||void 0===o?void 0:o.name)&&(i(e),e.removePerk())}}}}class M3 extends ee{constructor(t){super(),this.logService=t,this.name="Gingerbread Man",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.beforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=(r,a)=>{if(null!=s&&s(r,a),a)return;let o=1*this.multiplier;this.logService.createLog({message:`${e.name} gained ${o} experience (Gingerbread Man)${this.multiplierMessage}.`,type:"equipment",player:e.parent}),e.increaseExp(o)}}}}class P_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Monty",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=3,this.attack=3,this.initPet(o,s,r,a,l)}}class Cz extends ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Easter Egg",this.equipmentClass="afterFaint",this.callback=i=>{var s;let r=null===(s=i.afterFaint)||void 0===s?void 0:s.bind(i);i.afterFaint=(a,o)=>{var l;if(null!=r&&r(a,o),!o&&"Easter Egg"==(null===(l=i.equipment)||void 0===l?void 0:l.name))for(let h=0;h<this.multiplier;h++){let d=new P_(this.logService,this.abilityService,i.parent,null,null,0,0);this.logService.createLog({message:`${i.name} Spawned Monty (Easter Egg)${h>0?this.multiplierMessage:""}`,type:"ability",player:i.parent}),i.parent.summonPet(d,i.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(d)}}}}}class R3 extends ee{constructor(t){super(),this.logService=t,this.name="Health Potion",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.beforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=(r,a)=>{if(null!=s&&s(r,a),a)return;let o=2*this.multiplier,l=e.parent.furthestUpPet;null!=l&&(this.logService.createLog({message:`${e.name} gave ${o} health to ${l.name} (Health Potion)${this.multiplierMessage}.`,type:"equipment",player:e.parent}),l.increaseHealth(o))}}}}class Az extends ee{constructor(){super(),this.name="Magic Beans",this.equipmentClass="shop"}}class Pz extends ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Golden Egg",this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.beforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=(a,o)=>{if(null!=r&&r(a,o),o||i.equipment!==this)return;let h=(i.parent==a.player?a.opponet:a.player).petArray,d=null;for(let m of h)if(m.alive){d=m;break}if(null!=d){for(let m=0;m<this.multiplier;m++)i.snipePet(d,6,!1,!1,!1,!0,!1);i.removePerk()}else console.warn("golden egg didn't find target")}}}}class RA extends ee{constructor(){super(...arguments),this.name="Cold",this.equipmentClass="ailment-defense",this.power=-5,this.originalPower=-5,this.uses=1,this.originalUses=1}}class IA extends ee{constructor(){super(...arguments),this.name="Ink",this.equipmentClass="ailment-attack",this.power=-3,this.originalPower=-3}}class Fp extends ee{constructor(){super(...arguments),this.name="Spooked",this.equipmentClass="ailment-defense",this.power=-1,this.originalPower=-1}}class I3 extends ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Tasty",this.equipmentClass="faint",this.callback=i=>{var s;let r=null===(s=i.afterFaint)||void 0===s?void 0:s.bind(i);i.afterFaint=(a,o)=>{var l;if(null!=r&&r(a,o),o||"Tasty"!=(null===(l=i.equipment)||void 0===l?void 0:l.name))return;let d=(i.parent==a.player?a.opponet:a.player).petArray.filter(y=>y.alive);if(0==d.length)return;let m=d[Math.floor(Math.random()*d.length)];m.increaseAttack(2),m.increaseHealth(2),this.logService.createLog({message:`${i.name} gave ${m.name} +2 attack and +2 health (Tasty)`,type:"equipment",player:i.parent,randomEvent:d.length>1})}}}}class D_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tandgnost",this.tier=5,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}}class T_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tandgrisner",this.tier=5,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}}class Dz extends ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Yggdrasil Fruit",this.equipmentClass="afterFaint",this.callback=i=>{var s;let r=null===(s=i.afterFaint)||void 0===s?void 0:s.bind(i);i.afterFaint=(a,o)=>{if(null!=r&&r(a,o),!o&&i.equipment===this)for(let l=0;l<this.multiplier;l++){let h=new D_(this.logService,this.abilityService,i.parent,3,3,0),d=new T_(this.logService,this.abilityService,i.parent,3,3,0),m=l>0?this.multiplierMessage:"";this.logService.createLog({message:`${i.name} Spawned Tandgnost (Yggdrasil Fruit)${m}`,type:"ability",player:i.parent}),i.parent.summonPet(h,i.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(h),this.logService.createLog({message:`${i.name} Spawned Tandgrisner (Yggdrasil Fruit)${m}`,type:"ability",player:i.parent}),i.parent.summonPet(d,i.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(d)}}}}}class Tz extends ee{constructor(t,e,i){super(),this.logService=t,this.abilityService=e,this.petService=i,this.name="Cocoa Bean",this.tier=5,this.equipmentClass="beforeAttack",this.power=0,this.originalPower=0,this.uses=1,this.originalUses=1,this.callback=s=>{var r;let a=null===(r=s.beforeAttack)||void 0===r?void 0:r.bind(s);s.beforeAttack=(o,l)=>{var h;if(null!=a&&a(o,l),l||"Cocoa Bean"!=(null===(h=s.equipment)||void 0===h?void 0:h.name))return;let m=(s.parent==o.player?o.opponet:o.player).petArray.filter(k=>k.alive);if(0==m.length)return void s.removePerk();let y=m[Math.floor(Math.random()*m.length)],S=this.petService.createPet({name:y.name,attack:y.attack,health:y.health,mana:s.mana,exp:s.exp,equipment:null},s.parent);if(y.swallowedPets&&y.swallowedPets.length>0){S.swallowedPets=[];for(let k of y.swallowedPets){let T=this.petService.createPet({name:k.name,attack:k.attack,health:k.health,mana:k.mana,exp:k.exp,equipment:k.equipment},s.parent);S.swallowedPets.push(T)}}void 0!==y.attackCounter&&(S.attackCounter=y.attackCounter),S.abilityUses=0,S.maxAbilityUses=y.maxAbilityUses,void 0!==y.hurtThisBattle&&(S.hurtThisBattle=y.hurtThisBattle),this.logService.createLog({message:`${s.name} transformed into ${S.name} (Cocoa Bean)`,type:"equipment",player:s.parent,randomEvent:m.length>1}),s.parent.transformPet(s,S)}}}}class xz extends ee{constructor(){super(...arguments),this.name="Cake Slice",this.equipmentClass="shop",this.tier=1}}class Mz extends ee{constructor(t,e,i,s){super(),this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s,this.name="Faint Bread",this.equipmentClass="afterFaint",this.callback=r=>{var a;let o=null===(a=r.afterFaint)||void 0===a?void 0:a.bind(r);r.afterFaint=(l,h)=>{var d;if(null!=o&&o(l,h),!h&&"Faint Bread"==(null===(d=r.equipment)||void 0===d?void 0:d.name))for(let m=0;m<this.multiplier;m++){let y=this.petService.getRandomFaintPet(r.parent,1);this.logService.createLog({message:`${r.name} Spawned ${y.name} (Faint Bread)${m>0?this.multiplierMessage:""}`,type:"ability",player:r.parent,randomEvent:!0}),r.parent.summonPet(y,r.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(y)}}}}}let x_=(()=>{class n{constructor(){this.logs=[]}createLog(e){e.tiger&&(e.message+=" (Tiger)"),e.puma&&(e.message+=" (Puma)"),e.pteranodon&&(e.message+=" (Pteranodon)"),null!=e.pantherMultiplier&&e.pantherMultiplier>1&&(e.message+=` x${e.pantherMultiplier} (Panther)`),this.logs.push(e)}getLogs(){return this.logs}reset(){this.logs=[]}printState(e,i,s){s&&this.createLog({message:s,type:"board"});let r="";r+=this.getPetText(e.pet4),r+=this.getPetText(e.pet3),r+=this.getPetText(e.pet2),r+=this.getPetText(e.pet1),r+=this.getPetText(e.pet0);let a="";a+=this.getPetText(i.pet0),a+=this.getPetText(i.pet1),a+=this.getPetText(i.pet2),a+=this.getPetText(i.pet3),a+=this.getPetText(i.pet4),this.createLog({message:`${r}| ${a}`,type:"board"})}getPetText(e){return null==e?"___ (-/-) ":`${e.name.substring(0,3)} (${e.attack}/${e.health}) `}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sh=(()=>{class n{constructor(){}init(e,i){this.gameApi={player:e,opponet:i}}setTierGroupPets(e,i){null!=e&&(this.gameApi.playerPetPool=e),null!=i&&(this.gameApi.opponentPetPool=i)}setPreviousShopTier(e){this.gameApi.previousShopTier=e}setTurnNumber(e){this.gameApi.turnNumber=e}setGoldSpent(e,i){null!=e&&(this.gameApi.playerGoldSpent=e),null!=i&&(this.gameApi.opponentGoldSpent=i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),M_=(()=>{class n{constructor(e){this.gameService=e,this.afterAttackEvents=[],this.beforeAttackEvents=[],this.processedBeforeAttackPets=new Set,this.beforeStartOfBattleEvents=[],this.equipmentBeforeAttackEvents=[],this.afterFriendAttackEvents=[],this.beforeFriendAttacksEvents=[],this.friendGainsHealthEvents=[],this.friendGainedExperienceEvents=[],this.emptyFrontSpaceToyEvents=[],this.friendSummonedToyEvents=[],this.friendlyLevelUpToyEvents=[],this.friendFaintsToyEvents=[],this.friendJumpedToyEvents=[],this.globalEventQueue=[],this.ABILITY_PRIORITIES={levelUp:1,friendLevelUp:2,friendlyLevelUp:2,hurt:3,friendHurt:4,enemyHurt:4,gainsMana:5,summoned:6,friendSummoned:7,enemySummoned:7,enemyPushed:7,friendJumped:8,enemyJumped:8,faint:9,friendAheadFaints:10,afterFaint:11,friendFaints:12,enemyFaints:12,friendlyToyBroke:12,knockOut:13,transform:14,friendTransformed:14.5,friendGainedExperience:15,friendAteFood:16,eatsFood:16,counter:17,friendLostPerk:18,gainPerk:19,gainAilment:19,friendlyGainedPerk:20,enemyGainedPerk:20,friendlyGainedAilment:20,enemyGainedAilment:20,petFlung:21,manaSnipe:22,emptyFrontSpace:23,goldenRetrieverSummons:24}}get hasAbilityCycleEvents(){return this.globalEventQueue.length>0}addEventToQueue(e){const i=this.ABILITY_PRIORITIES[e.abilityType]||999;void 0===e.tieBreaker&&(e.tieBreaker=Math.random());let s=0,r=this.globalEventQueue.length;for(;s<r;){const a=Math.floor((s+r)/2),o=this.globalEventQueue[a],l=this.ABILITY_PRIORITIES[o.abilityType]||999;i<l?r=a:i>l?s=a+1:e.priority>o.priority?r=a:e.priority<o.priority?s=a+1:e.tieBreaker<o.tieBreaker?r=a:s=a+1}this.globalEventQueue.splice(s,0,e)}clearGlobalEventQueue(){this.globalEventQueue=[]}get hasGlobalEvents(){return this.globalEventQueue.length>0}getNextHighestPriorityEvent(){return this.globalEventQueue.shift()||null}peekNextHighestPriorityEvent(){return this.globalEventQueue.length>0?this.globalEventQueue[0]:null}getPriorityNumber(e){return this.ABILITY_PRIORITIES[e]||999}executeEventCallback(e){const i=this.gameService.gameApi,s=e.pet;if(s&&s.transformed&&s.transformedInto&&e.abilityType){const r=s.transformedInto;if("function"!=typeof r[e.abilityType])return;e.callback=r[e.abilityType].bind(r)}switch(e.abilityType){case"faint":case"beforeStartOfBattle":case"afterFaint":case"equipmentBeforeAttack":case"summoned":case"transform":e.callback(i);break;case"hurt":case"friendHurt":case"knockOut":case"enemyHurt":case"friendAheadFaints":case"friendFaints":case"enemyFaints":case"eatsFood":case"friendAteFood":case"friendLostPerk":case"gainPerk":case"friendGainedPerk":case"friendGainedAilment":case"enemyGainedAilment":case"friendGainedExperience":case"levelUp":case"friendAttacks":case"beforeFriendAttacks":case"friendJumped":case"enemyJumped":case"friendTransformed":case"friendGainsHealth":case"friendlyLevelUp":case"friendSummoned":e.callback(i,e.callbackPet);break;case"afterAttack":case"enemySummoned":case"enemyPushed":case"friendlyToyBroke":case"gainAilment":case"emptyFrontSpace":e.callback(i,e.callbackPet,!1);break;case"friendJumpedToy":case"emptyFrontSpaceToy":e.callback(i,e.priority<100,e.level,e.priority);break;case"gainsMana":e.callback(null);break;case"manaSnipe":case"counter":e.callback();break;default:try{e.callback(i)}catch(r){e.callback(i,e.callbackPet)}}}initEndTurnEvents(e){let i=[];for(let s of e.petArray)s.endTurn&&i.push({callback:s.endTurn.bind(s),priority:s.attack,player:e});i=(0,vt.shuffle)(i),i.sort((s,r)=>s.priority>r.priority?-1:s.priority<r.priority?1:0);for(let s of i)s.callback(this.gameService.gameApi)}setCounterEvent(e){e.abilityType="counter",this.addEventToQueue(e)}setHurtEvent(e){e.abilityType="hurt",this.addEventToQueue(e)}setFaintEvent(e){e.abilityType="faint",this.addEventToQueue(e)}setSummonedEvent(e){e.abilityType="summoned",this.addEventToQueue(e)}triggerFriendSummonedEvents(e){this.triggerFriendSummonedToyEvents(e.parent,e);for(let i of e.parent.petArray)i!=e&&null!=i.friendSummoned&&this.setFriendSummonedEvent({callback:i.friendSummoned.bind(i),priority:i.attack,callbackPet:e,pet:i})}setFriendSummonedEvent(e){e.abilityType="friendSummoned",this.addEventToQueue(e)}setAfterAttackEvent(e){this.afterAttackEvents.push(e)}resetAfterAttackEvents(){this.afterAttackEvents=[]}executeAfterAttackEvents(){this.afterAttackEvents=(0,vt.shuffle)(this.afterAttackEvents),this.afterAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.afterAttackEvents)e.callback(this.gameService.gameApi);this.resetAfterAttackEvents()}setFriendAheadFaintsEvent(e){e.abilityType="friendAheadFaints",this.addEventToQueue(e)}setKnockOutEvent(e){e.abilityType="knockOut",this.addEventToQueue(e)}triggerFriendFaintsEvents(e){this.triggerFriendFaintsToyEvents(e.parent,e);for(let i of e.parent.petArray)null!=i.friendFaints&&this.setFriendFaintsEvent({callback:i.friendFaints.bind(i),priority:i.attack,pet:i,callbackPet:e})}setFriendFaintsEvent(e){e.abilityType="friendFaints",this.addEventToQueue(e)}triggerEnemyFaintsEvents(e){for(let i of e.parent.opponent.petArray.filter(s=>s.alive))null!=i.enemyFaints&&this.setenemyFaintsEvent({callback:i.enemyFaints.bind(i),priority:i.attack,pet:i,callbackPet:e})}setenemyFaintsEvent(e){e.abilityType="enemyFaints",this.addEventToQueue(e)}setBeforeAttackEvent(e){this.beforeAttackEvents.push(e)}resetBeforeAttackEvents(){this.beforeAttackEvents=[]}checkAndAddNewBeforeAttackEvents(){let e=this.gameService.gameApi;e.player.pet0&&e.player.pet0.beforeAttack&&!this.processedBeforeAttackPets.has(e.player.pet0)&&(this.beforeAttackEvents.push({callback:e.player.pet0.beforeAttack.bind(e.player.pet0),priority:e.player.pet0.attack,player:e.player}),this.processedBeforeAttackPets.add(e.player.pet0),this.beforeAttackEvents.sort((i,s)=>i.priority>s.priority?-1:i.priority<s.priority?1:0)),e.opponet.pet0&&e.opponet.pet0.beforeAttack&&!this.processedBeforeAttackPets.has(e.opponet.pet0)&&(this.beforeAttackEvents.push({callback:e.opponet.pet0.beforeAttack.bind(e.opponet.pet0),priority:e.opponet.pet0.attack,player:e.opponet}),this.processedBeforeAttackPets.add(e.opponet.pet0),this.beforeAttackEvents.sort((i,s)=>i.priority>s.priority?-1:i.priority<s.priority?1:0))}executeBeforeAttackEvents(){for(this.beforeAttackEvents=(0,vt.shuffle)(this.beforeAttackEvents),this.beforeAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);this.beforeAttackEvents.length>0;)this.beforeAttackEvents.shift().callback(this.gameService.gameApi);this.resetBeforeAttackEvents()}setEqiupmentBeforeAttackEvent(e){this.equipmentBeforeAttackEvents.push(e)}resetEqiupmentBeforeAttackEvents(){this.equipmentBeforeAttackEvents=[]}executeEqiupmentBeforeAttackEvents(){this.equipmentBeforeAttackEvents=(0,vt.shuffle)(this.equipmentBeforeAttackEvents),this.equipmentBeforeAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.equipmentBeforeAttackEvents)e.callback(this.gameService.gameApi);this.resetEqiupmentBeforeAttackEvents()}get hasEquipmentBeforeAttackEvents(){return this.equipmentBeforeAttackEvents.length>0}triggerFriendLostPerkEvents(e){for(let i of e.parent.petArray)null!=i.friendLostPerk&&this.setFriendLostPerkEvent({callback:i.friendLostPerk.bind(i),priority:i.attack,pet:i,callbackPet:e})}setFriendLostPerkEvent(e){e.abilityType="friendLostPerk",this.addEventToQueue(e)}setEatsFoodEvent(e){e.abilityType="eatsFood",this.addEventToQueue(e)}triggerFriendAteFoodEvents(e){for(let i of e.parent.petArray)null!=i.friendAteFood&&this.setFriendAteFoodEvent({callback:i.friendAteFood.bind(i),priority:i.attack,pet:i,callbackPet:e})}setFriendAteFoodEvent(e){e.abilityType="friendAteFood",this.addEventToQueue(e)}triggerGainedPerkEvents(e){for(let i of e.parent.petArray)i==e&&null!=i.gainedPerk&&this.setGainedPerkEvent({callback:i.gainedPerk.bind(i),priority:i.attack,pet:i,callbackPet:e})}setGainedPerkEvent(e){e.abilityType="gainPerk",this.addEventToQueue(e)}triggerFriendGainedPerkEvents(e){for(let i of e.parent.petArray)null!=i.friendGainedPerk&&this.setFriendGainedPerkEvent({callback:i.friendGainedPerk.bind(i),priority:i.attack,pet:i,callbackPet:e})}setFriendGainedPerkEvent(e){e.abilityType="friendGainedPerk",this.addEventToQueue(e)}triggerBeforeStartOfBattleEvents(e){for(let i of e.petArray)null!=i.beforeStartOfBattle&&this.setBeforeStartOfBattleEvent({callback:i.beforeStartOfBattle.bind(i),priority:i.attack,pet:i,player:e})}setBeforeStartOfBattleEvent(e){this.beforeStartOfBattleEvents.push(e)}resetBeforeStartOfBattleEvents(){this.beforeStartOfBattleEvents=[]}executeBeforeStartOfBattleEvents(){this.beforeStartOfBattleEvents=(0,vt.shuffle)(this.beforeStartOfBattleEvents),this.beforeStartOfBattleEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.beforeStartOfBattleEvents)e.callback(this.gameService.gameApi);this.resetBeforeStartOfBattleEvents()}triggerFriendGainedAilmentEvents(e){for(let i of e.parent.petArray)null!=i.friendGainedAilment&&this.setFriendGainedAilmentEvent({callback:i.friendGainedAilment.bind(i),priority:i.attack,pet:i,callbackPet:e})}setFriendGainedAilmentEvent(e){e.abilityType="friendGainedAilment",this.addEventToQueue(e)}triggerEnemyGainedAilmentEvents(e,i){for(let s of e)null!=s.enemyGainedAilment&&this.setEnemyGainedAilmentEvent({callback:s.enemyGainedAilment.bind(s),priority:s.attack,pet:s,callbackPet:i})}setEnemyGainedAilmentEvent(e){e.abilityType="enemyGainedAilment",this.addEventToQueue(e)}triggerFriendlyToyBrokeEvents(e){for(let i of e.petArray)null!=i.friendlyToyBroke&&this.setFriendlyToyBrokeEvent({callback:i.friendlyToyBroke.bind(i),priority:i.attack,pet:i})}setFriendlyToyBrokeEvent(e){e.abilityType="friendlyToyBroke",this.addEventToQueue(e)}triggerTransformEvents(e){for(let i of e.petArray)null!=i.transform&&this.setTransformEvent({callback:i.transform.bind(i),priority:i.attack,pet:i})}setTransformEvent(e){e.abilityType="transform",this.addEventToQueue(e)}triggerFriendTransformedEvents(e,i){for(let s of e.petArray)s!=i&&null!=s.friendTransformed&&this.setFriendTransformedEvent({callback:s.friendTransformed.bind(s),priority:s.attack,pet:s,callbackPet:i})}setFriendTransformedEvent(e){e.abilityType="friendTransformed",this.addEventToQueue(e)}triggerEnemySummonedEvents(e,i){for(let s of e.petArray)null!=s.enemySummoned&&this.setEnemySummonedEvent({callback:s.enemySummoned.bind(s),priority:s.attack,pet:s,callbackPet:i})}setEnemySummonedEvent(e){e.abilityType="enemySummoned",this.addEventToQueue(e)}triggerEnemyPushedEvents(e,i){for(let s of e.petArray)null!=s.enemyPushed&&this.setEnemyPushedEvent({callback:s.enemyPushed.bind(s),priority:s.attack,pet:s,callbackPet:i})}setEnemyPushedEvent(e){e.abilityType="enemyPushed",this.addEventToQueue(e)}triggerFriendHurtEvents(e,i){for(let s of e.petArray)null!=s.friendHurt&&this.setFriendHurtEvent({callback:s.friendHurt.bind(s),priority:s.attack,pet:s,callbackPet:i})}setFriendHurtEvent(e){e.abilityType="friendHurt",this.addEventToQueue(e)}triggerLevelUpEvents(e,i){this.triggerFriendlyLevelUpToyEvents(e,i);for(let s of e.petArray)null!=s.anyoneLevelUp&&this.setLevelUpEvent({callback:s.anyoneLevelUp.bind(s),priority:s.attack,pet:s,callbackPet:i})}setLevelUpEvent(e){e.abilityType="levelUp",this.addEventToQueue(e)}triggerEmptyFrontSpaceEvents(e){for(let i of e.petArray)null!=i.emptyFrontSpace&&this.setEmptyFrontSpaceEvent({callback:i.emptyFrontSpace.bind(i),priority:i.attack,pet:i})}setEmptyFrontSpaceEvent(e){e.abilityType="emptyFrontSpace",this.addEventToQueue(e)}triggerEnemyHurtEvents(e,i){for(let s of e.petArray)null!=s.enemyHurt&&this.setEnemyHurtEvent({callback:s.enemyHurt.bind(s),priority:s.attack,pet:s,callbackPet:i})}setEnemyHurtEvent(e){e.abilityType="enemyHurt",this.addEventToQueue(e)}triggerFriendAttacksEvents(e,i){var s,r,a;for(let o of e.petArray)o!=i&&null!=o.friendAttacks&&this.setAfterFriendAttackEvent({callback:()=>o.friendAttacks(this.gameApi,i,!1),priority:o.attack,pet:o,callbackPet:i,abilityType:"friendAttacks"});null!=(null===(s=i.petBehind(null,!0))||void 0===s?void 0:s.friendAheadAttacks)&&this.setAfterFriendAttackEvent({callback:i.petBehind(null,!0).friendAheadAttacks.bind(i.petBehind(null,!0)),priority:i.petBehind(null,!0).attack,pet:i.petBehind(null,!0),callbackPet:i,abilityType:"friendAheadAttacks"}),null!=(null===(r=i.petAhead)||void 0===r?void 0:r.adjacentAttacked)&&this.setAfterFriendAttackEvent({callback:()=>i.petAhead.adjacentAttacked(this.gameApi,i),priority:i.petAhead.attack,pet:i.petAhead,callbackPet:i,abilityType:"adjacentFriendAttacks"}),null!=(null===(a=i.petBehind(null,!0))||void 0===a?void 0:a.adjacentAttacked)&&this.setAfterFriendAttackEvent({callback:()=>i.petBehind(null,!0).adjacentAttacked(this.gameApi,i),priority:i.petBehind(null,!0).attack,pet:i.petBehind(null,!0),callbackPet:i,abilityType:"adjacentFriendAttacks"}),this.triggerEnemyAttackEvents(i.parent.opponent,i)}triggerBeforeFriendAttacksEvents(e,i){for(let s of e.petArray)s!==i&&null!=s.beforeFriendAttacks&&this.setBeforeFriendAttacksEvent({callback:s.beforeFriendAttacks.bind(s),priority:s.attack,pet:s,callbackPet:i})}setBeforeFriendAttacksEvent(e){this.beforeFriendAttacksEvents.push(e)}resetBeforeFriendAttacksEvents(){this.beforeFriendAttacksEvents=[]}executeBeforeFriendAttacksEvents(){this.beforeFriendAttacksEvents=(0,vt.shuffle)(this.beforeFriendAttacksEvents),this.beforeFriendAttacksEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.beforeFriendAttacksEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetBeforeFriendAttacksEvents()}setAfterFriendAttackEvent(e){this.afterFriendAttackEvents.push(e)}resetAfterFriendAttackEvents(){this.afterFriendAttackEvents=[]}executeAfterFriendAttackEvents(){this.afterFriendAttackEvents=(0,vt.shuffle)(this.afterFriendAttackEvents),this.afterFriendAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.afterFriendAttackEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetAfterFriendAttackEvents()}triggerEnemyAttackEvents(e,i){for(let s of e.petArray)null!=s.enemyAttack&&this.setAfterFriendAttackEvent({callback:s.enemyAttack.bind(s),priority:s.attack,pet:s,callbackPet:i,abilityType:"enemyAttack"})}triggerFriendJumpedEvents(e,i){for(let s of e.petArray)s!=i&&null!=s.friendJumped&&this.setFriendJumpedEvent({callback:s.friendJumped.bind(s),priority:s.attack,pet:s,callbackPet:i})}setFriendJumpedEvent(e){e.abilityType="friendJumped",this.addEventToQueue(e)}triggerEnemyJumpedEvents(e,i){for(let s of e.opponent.petArray)null!=s.enemyJumped&&this.setEnemyJumpedEvent({callback:s.enemyJumped.bind(s),priority:s.attack,pet:s,callbackPet:i})}setEnemyJumpedEvent(e){e.abilityType="enemyJumped",this.addEventToQueue(e)}setManaEvent(e){e.abilityType="manaSnipe",this.addEventToQueue(e)}setGainManaEvents(e){e.abilityType="gainsMana",this.addEventToQueue(e)}triggerFriendGainsHealthEvents(e,i){for(let s of e.petArray)s!=i&&null!=s.friendGainsHealth&&this.setFriendGainsHealthEvent({callback:s.friendGainsHealth.bind(s),priority:s.attack,pet:s,callbackPet:i})}setFriendGainsHealthEvent(e){this.friendGainsHealthEvents.push(e)}resetFriendGainsHealthEvents(){this.friendGainsHealthEvents=[]}executeFriendGainsHealthEvents(){this.friendGainsHealthEvents=(0,vt.shuffle)(this.friendGainsHealthEvents),this.friendGainsHealthEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendGainsHealthEvents)e.callback(this.gameApi,e.callbackPet);this.resetFriendGainsHealthEvents()}triggerFriendGainedExperienceEvents(e,i){for(let s of e.petArray)s!==i&&null!=s.friendGainedExperience&&this.setFriendGainedExperienceEvent({callback:s.friendGainedExperience.bind(s),priority:s.attack,pet:s,callbackPet:i})}setFriendGainedExperienceEvent(e){this.friendGainedExperienceEvents.push(e)}setAfterFaintEvents(e){e.abilityType="afterFaint",this.addEventToQueue(e)}triggerEmptyFrontSpaceToyEvents(e){var i;if(null!=(null===(i=e.toy)||void 0===i?void 0:i.emptyFromSpace)){if(e.toy.used)return;this.setEmptyFrontSpaceToyEvent({callback:e.toy.emptyFromSpace.bind(e.toy),priority:100,level:e.toy.level});let s=e.petArray.filter(r=>r instanceof wr);for(let r of s)this.setEmptyFrontSpaceToyEvent({callback:e.toy.emptyFromSpace.bind(e.toy),priority:+r.attack,level:r.level})}}setEmptyFrontSpaceToyEvent(e){this.emptyFrontSpaceToyEvents.push(e)}resetEmptyFrontSpaceToyEvents(){this.emptyFrontSpaceToyEvents=[]}executeEmptyFrontSpaceToyEvents(){this.emptyFrontSpaceToyEvents=(0,vt.shuffle)(this.emptyFrontSpaceToyEvents),this.emptyFrontSpaceToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.emptyFrontSpaceToyEvents)e.callback(this.gameService.gameApi,e.priority<100,e.level,e.priority);this.resetEmptyFrontSpaceToyEvents()}triggerFriendSummonedToyEvents(e,i){var s;if(null!=(null===(s=e.toy)||void 0===s?void 0:s.friendSummoned)){this.setFriendSummonedToyEvent({callback:e.toy.friendSummoned.bind(e.toy),priority:100,level:e.toy.level,callbackPet:i});let r=e.petArray.filter(a=>a instanceof wr);for(let a of r)this.setFriendSummonedToyEvent({callback:e.toy.friendSummoned.bind(e.toy),priority:+a.attack,level:a.level,callbackPet:i})}}setFriendSummonedToyEvent(e){this.friendSummonedToyEvents.push(e)}resetFriendSummonedToyEvents(){this.friendSummonedToyEvents=[]}executeFriendSummonedToyEvents(){this.friendSummonedToyEvents=(0,vt.shuffle)(this.friendSummonedToyEvents),this.friendSummonedToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendSummonedToyEvents)e.callback(this.gameService.gameApi,e.callbackPet,e.priority<100,e.level);this.resetFriendSummonedToyEvents()}triggerFriendlyLevelUpToyEvents(e,i){var s;if(e==i.parent&&null!=(null===(s=e.toy)||void 0===s?void 0:s.friendlyLevelUp)){this.setFriendlyLevelUpToyEvent({callback:e.toy.friendlyLevelUp.bind(e.toy),priority:100,level:e.toy.level,callbackPet:i});let r=e.petArray.filter(a=>a instanceof wr);for(let a of r)this.setFriendlyLevelUpToyEvent({callback:e.toy.friendlyLevelUp.bind(e.toy),priority:+a.attack,level:a.level,callbackPet:i})}}setFriendlyLevelUpToyEvent(e){this.friendlyLevelUpToyEvents.push(e)}resetFriendlyLevelUpToyEvents(){this.friendlyLevelUpToyEvents=[]}executeFriendlyLevelUpToyEvents(){this.friendlyLevelUpToyEvents=(0,vt.shuffle)(this.friendlyLevelUpToyEvents),this.friendlyLevelUpToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendlyLevelUpToyEvents)e.callback(this.gameService.gameApi,e.callbackPet,e.priority<100,e.level);this.resetFriendlyLevelUpToyEvents()}triggerFriendFaintsToyEvents(e,i){var s;if(e==i.parent&&null!=(null===(s=e.toy)||void 0===s?void 0:s.friendFaints)){this.setFriendFaintsToyEvent({callback:e.toy.friendFaints.bind(e.toy),priority:100,level:e.toy.level,callbackPet:i});let r=e.petArray.filter(a=>a instanceof wr);for(let a of r)this.setFriendFaintsToyEvent({callback:e.toy.friendFaints.bind(e.toy),priority:+a.attack,level:+a.level,callbackPet:i})}}setFriendFaintsToyEvent(e){this.friendFaintsToyEvents.push(e)}resetFriendFaintsToyEvents(){this.friendFaintsToyEvents=[]}executeFriendFaintsToyEvents(){this.friendFaintsToyEvents=(0,vt.shuffle)(this.friendFaintsToyEvents),this.friendFaintsToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendFaintsToyEvents)e.callback(this.gameService.gameApi,e.callbackPet,e.priority<100,e.level);this.resetFriendFaintsToyEvents()}triggerFriendJumpedToyEvents(e,i){var s;if(e==i.parent&&null!=(null===(s=e.toy)||void 0===s?void 0:s.friendJumped)){this.setFriendJumpedToyEvent({callback:e.toy.friendJumped.bind(e.toy),priority:100,level:e.toy.level,callbackPet:i});let r=e.petArray.filter(a=>a instanceof wr);for(let a of r)this.setFriendJumpedToyEvent({callback:e.toy.friendJumped.bind(e.toy),priority:+a.attack,level:a.level,callbackPet:i})}}setFriendJumpedToyEvent(e){this.friendJumpedToyEvents.push(e)}resetFriendJumpedToyEvents(){this.friendJumpedToyEvents=[]}executeFriendJumpedToyEvents(){this.friendJumpedToyEvents=(0,vt.shuffle)(this.friendJumpedToyEvents),this.friendJumpedToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendJumpedToyEvents)e.callback(this.gameService.gameApi,e.callbackPet,e.priority<100,e.level);this.resetFriendJumpedToyEvents()}}return n.\u0275fac=function(e){return new(e||n)(H(Sh))},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ci{constructor(t,e,i){this.logService=t,this.abilityService=e,this.gameService=i}getInstanceOfAllEquipment(){const t=qo.getInjector().get(ib);let e=new Map;return e.set("Garlic",new bh),e.set("Cake",new W9),e.set("Meat Bone",new vA),e.set("Steak",new z9),e.set("Melon",new qa),e.set("Honey",new mA(this.logService,this.abilityService)),e.set("Chili",new WC(this.logService,this.abilityService)),e.set("Mushroom",new K9(this.logService,this.abilityService,t)),e.set("Coconut",new Uo),e.set("Peanut",new Np),e.set("Peanut Butter",new hC),e.set("Cake Slice",new xz),e.set("Blackberry",new y3),e.set("Croissant",new Q9),e.set("Rice",new DA),e.set("Eucalyptus",new A_),e.set("Lime",new Y9),e.set("Egg",new k3(this.logService,this.abilityService)),e.set("Squash",new J9(this.logService,this.abilityService)),e.set("Salt",new aC),e.set("Pie",new C3(this.logService)),e.set("Skewer",new A3(this.logService)),e.set("Lemon",new Z9),e.set("Pancakes",new P3(this.logService)),e.set("Strawberry",new TA(this.logService,this.abilityService)),e.set("Baguette",new X9(this.logService,this.abilityService)),e.set("Cucumber",new ez),e.set("Cheese",new oC),e.set("Grapes",new tz),e.set("Carrot",new iz),e.set("Pepper",new lC),e.set("Popcorn",new nz(this.logService,this.abilityService,t,this.gameService)),e.set("Cherry",new D3),e.set("Bok Choy",new sz),e.set("Chocolate Cake",new xA(this.logService,this.abilityService)),e.set("Cod Roe",new rz(this.logService,this.abilityService)),e.set("Eggplant",new T3(this.logService)),e.set("Potato",new az),e.set("Banana",new oz(this.logService,this.abilityService)),e.set("Onion",new w3(this.logService)),e.set("Pita Bread",new lz(this.logService)),e.set("Tomato",new cz(this.logService,this.abilityService)),e.set("Sudduth Tomato",new uz(this.logService)),e.set("Unagi",new hz(this.logService)),e.set("Durian",new dz(this.logService,this.abilityService)),e.set("Gros Michel Banana",new fz(this.logService,this.abilityService,t)),e.set("Seaweed",new pz(this.logService,this.abilityService,t)),e.set("Fortune Cookie",new cC),e.set("Blueberry",new gz),e.set("Donut",new mz),e.set("Cashew Nut",new vz(this.logService,this.abilityService)),e.set("Nachos",new yz(this.logService,this.abilityService)),e.set("Pumpkin",new _z),e.set("Kiwifruit",new bz),e.set("Pineapple",new Sz),e.set("Fig",new wz(this.logService,this.abilityService)),e.set("Caramel",new Ez(this.logService,this.abilityService)),e.set("Rambutan",new MA(this.logService)),e.set("Love Potion",new x3(this.logService)),e.set("Fairy Dust",new kz(this.logService)),e.set("Gingerbread Man",new M3(this.logService)),e.set("Easter Egg",new Cz(this.logService,this.abilityService)),e.set("Health Potion",new R3(this.logService)),e.set("Magic Beans",new Az),e.set("Golden Egg",new Pz(this.logService,this.abilityService)),e.set("Yggdrasil Fruit",new Dz(this.logService,this.abilityService)),e.set("Honeydew Melon",new _3),e.set("Maple Syrup",new Bp),e.set("Cocoa Bean",new Tz(this.logService,this.abilityService,t)),e.set("White Okra",new fC),e.set("White Truffle",new S3(this.logService,this.abilityService)),e.set("Ambrosia",new b3),e.set("Faint Bread",new Mz(this.logService,this.abilityService,t,this.gameService)),e}getInstanceOfAllAilments(){let t=new Map;return t.set("Cold",new RA),t.set("Crisp",new fc),t.set("Dazed",new f_),t.set("Exposed",new Lp),t.set("Ink",new IA),t.set("Spooked",new Fp),t.set("Weak",new Ua),t.set("Tasty",new I3(this.logService,this.abilityService)),t}isUsefulPerk(t){return Ci.USEFUL_PERKS.has(t)}getUsefulPerksByTier(t){const e=this.getInstanceOfAllEquipment(),i=[];for(const[s,r]of Ci.USEFUL_PERKS.entries())r===t&&e.has(s)&&i.push(e.get(s));return i}getUsefulPerks(){const t=this.getInstanceOfAllEquipment(),e=[];for(const i of Ci.USEFUL_PERKS.keys())t.has(i)&&e.push(t.get(i));return e}}Ci.USEFUL_PERKS=new Map([["Honey",1],["Strawberry",1],["Egg",1],["Cake Slice",1],["Cashew Nut",1],["Nachos",1],["Lime",2],["Meat Bone",2],["Cherry",2],["Bok Choy",2],["Kiwifruit",2],["Fairy Dust",2],["Garlic",3],["Gingerbread Man",3],["Fig",3],["Cucumber",3],["Croissant",3],["Squash",3],["Banana",4],["Love Potion",4],["Pie",4],["Grapes",4],["Cheese",4],["Cod Roe",4],["Salt",4],["Fortune Cookie",4],["Easter Egg",5],["Magic Beans",5],["Chili",5],["Lemon",5],["Durian",5],["Honeydew Melon",5],["Maple Syrup",5],["Cocoa Bean",5],["White Okra",5],["Popcorn",6],["Steak",6],["Pancakes",6],["Yggdrasil Fruit",6],["Melon",6],["Tomato",6],["Sudduth Tomato",6],["Pita Bread",6],["Seaweed",5],["Caramel",4],["Baguette",4]]),Ci.\u0275fac=function(t){return new(t||Ci)(H(x_),H(M_),H(Sh))},Ci.\u0275prov=ue({token:Ci,factory:Ci.\u0275fac,providedIn:"root"});class OA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Toucan",this.tier=3,this.pack="Puppy",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}beforeAttack(t,e,i){if(this.timesAttacked>=1)return;let s;s=null==this.equipment||this.equipment.tier>5?qo.getInjector().get(Ci).getInstanceOfAllEquipment().get("Egg"):qo.getInjector().get(Ci).getInstanceOfAllEquipment().get(this.equipment.name);let a=this.parent.nearestPetsBehind(this.level,this,s.name).pets;if(0!=a.length){for(let o of a)this.logService.createLog({message:`${this.name} gave ${o.name} ${s.name}`,type:"ability",player:this.parent,randomEvent:!1,tiger:e,pteranodon:i}),o.givePetEquipment(s);this.superBeforeAttack(t,e)}}}class NA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beluga Sturgeon",this.tier=2,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){for(let s=0;s<this.level;s++){let r=new b_(this.logService,this.abilityService,this.parent,3,2,0,0,new DA),a=this.parent.summonPet(r,4,!1,this);a.success&&(this.logService.createLog({message:`${this.name} summoned a 2/3 Dolphin with Rice in the back.`,type:"ability",player:this.parent,randomEvent:a.randomEvent,tiger:e,pteranodon:i}),this.abilityService.triggerFriendSummonedEvents(r))}super.superAfterFaint(t,e,i)}}class LA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tabby Cat",this.tier=2,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}friendGainedPerk(t,e,i){let s=this.parent.getRandomPets(2,[this],!0,!1,this);if(0!=s.pets.length){for(let r of s.pets)null!=r&&(this.logService.createLog({message:`${this.name} increased ${r.name}'s health by ${this.level}.`,type:"ability",player:this.parent,randomEvent:s.random,tiger:i}),r.increaseHealth(this.level));this.superFriendGainedPerk(t,e,i)}}}class at{constructor(t,e,i,s){this.logService=t,this.toyService=e,this.used=!1,this.triggers=0,this.parent=i,this.level=s}}class Rz extends at{constructor(){super(...arguments),this.name="Balloon",this.tier=1}onBreak(t,e){let i=this.parent.furthestUpPet;if(null==i)return;let s=this.level;i.increaseAttack(s),i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:e})}}class Iz extends at{constructor(){super(...arguments),this.name="Tennis Ball",this.tier=1}startOfBattle(t,e){let i=Bt(t,this.parent),s=i.getRandomPet([],!1,!0,!1,null);null!=s.pet&&(this.toyService.snipePet(s.pet,this.level,this.parent,this.name,!0,e),s=i.getRandomPet([],!1,!0,!1,null),null!=s.pet&&this.toyService.snipePet(s.pet,this.level,this.parent,this.name,!0,e))}}class Oz extends at{constructor(){super(...arguments),this.name="Radio",this.tier=2}onBreak(t,e){let i=this.parent.petArray;for(let s of i)!s.alive||(s.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${s.name} ${this.level} health.`,type:"ability",player:this.parent,puma:e}))}}class Nz extends at{constructor(){super(...arguments),this.name="Garlic Press",this.tier=2}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof bh)){this.logService.createLog({message:`${this.name} gave ${s.name} Garlic.`,type:"ability",player:this.parent,puma:e}),s.givePetEquipment(new bh);break}}}class Lz extends at{constructor(){super(...arguments),this.name="Plastic Saw",this.tier=2}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof A_)){this.logService.createLog({message:`${this.name} gave ${s.name} Eucalyptus.`,type:"ability",player:this.parent,puma:e}),s.givePetEquipment(new A_);break}}}class Bz extends at{constructor(){super(...arguments),this.name="Toilet Paper",this.tier=3}startOfBattle(t,e){let s=Bt(t,this.parent).petArray.slice(0,this.level);for(let r of s)r.givePetEquipment(new Ua),this.logService.createLog({message:`${this.name} gave ${r.name} Weak.`,type:"ability",player:this.parent,puma:e})}}class $z extends at{constructor(){super(...arguments),this.name="Oven Mitts",this.tier=3}onBreak(t){}}class Vz extends at{constructor(){super(...arguments),this.name="Melon Helmet",this.tier=4}onBreak(t,e){let i=this.parent.petArray.filter(s=>s.alive).slice(0,this.level);for(let s of i)s.givePetEquipment(new qa),this.logService.createLog({message:`${this.name} gave ${s.name} Melon.`,type:"ability",player:this.parent,puma:e})}}class Fz extends at{constructor(){super(...arguments),this.name="Foam Sword",this.tier=4}startOfBattle(t,e){let i=Bt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getLowestHealthPet();this.toyService.snipePet(r.pet,6,this.parent,this.name,r.random,e)}}}class Hz extends at{constructor(){super(...arguments),this.name="Toy Gun",this.tier=4}startOfBattle(t,e){let i=Bt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getLastPet();if(null==r.pet)return;this.toyService.snipePet(r.pet,6,this.parent,this.name,!1,e)}}}class qz extends at{constructor(){super(...arguments),this.name="Flashlight",this.tier=5}onBreak(t,e){let i=6*this.level,s=this.parent.furthestUpPet;null!=s&&(s.increaseAttack(i),s.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${s.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:e}))}}class Uz extends at{constructor(){super(...arguments),this.name="Strinky Sock",this.tier=5}startOfBattle(t,e){let i=Bt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getHighestHealthPet(),a=r.pet;if(null==a)return;let o=.4,l=Math.max(1,Math.floor(a.health*(1-o)));a.health=l,this.logService.createLog({message:`${this.name} reduced ${a.name} health by ${100*o}% (${l})`,type:"ability",player:this.parent,puma:e,randomEvent:r.random})}}}class Gz extends at{constructor(){super(...arguments),this.name="Television",this.tier=6}onBreak(t,e){let i=2*this.level;for(let s of this.parent.petArray)!s.alive||(s.increaseAttack(i),s.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${s.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:e}))}}class jz extends at{constructor(){super(...arguments),this.name="Peanut Jar",this.tier=6}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof Np)){s.givePetEquipment(new Np),this.logService.createLog({message:`${this.name} gave ${s.name} Peanut.`,type:"ability",player:this.parent,puma:e});break}}}class Wz extends at{constructor(){super(...arguments),this.name="Air Palm Tree",this.tier=6}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof Uo)){s.givePetEquipment(new Uo),this.logService.createLog({message:`${this.name} gave ${s.name} Coconut.`,type:"ability",player:this.parent,puma:e});break}}}class zz extends at{constructor(t,e,i,s,r){super(t,e,i,s),this.logService=t,this.toyService=e,this.equipmentService=r,this.name="Pandoras Box",this.tier=6}startOfBattle(t,e){let i=this.equipmentService.getInstanceOfAllEquipment(),s=[new RA,new fc,new f_,new Lp,new Fp,new uC,new Ua],r=["Cake Slice","Carrot","Cherry","Chocolate Cake","Coconut","Croissant","Cucumber","Eggplant","Fig","Gingerbread Man","Grapes","Golden Egg","Health Potion","Love Potion","Magic Beans","Peanut","Pie","Rambutan","Rice","Skewer"],a=[...t.player.petArray,...t.opponet.petArray],o=Array.from(i.values());o=o.filter(l=>!r.includes(l.name));for(let l of a){let h=s;Math.random()<.5&&(h=o);let d=h[Math.floor(Math.random()*h.length)];this.logService.createLog({message:`${this.name} gave ${l.name} ${d.name}`,type:"ability",player:this.parent,randomEvent:!0}),l.givePetEquipment(d,this.level)}}}class Kz extends at{constructor(){super(...arguments),this.name="Witch Broom",this.tier=1}startOfBattle(t,e){let i=Bt(t,this.parent),s=i.petArray.filter(a=>null!=a.equipment),r=[];for(let a=0;a<this.level;a++){let o=i.getRandomPet(s,!1,!0,!1,null);if(null==o.pet)break;s.push(o.pet),r.push(o.pet)}for(let a of r)this.logService.createLog({message:`${this.name} gave ${a.name} Weak.`,type:"ability",player:this.parent,puma:e,randomEvent:i.petArray.length-s.length>0}),a.givePetEquipment(new Ua)}}class Qz extends at{constructor(){super(...arguments),this.name="Magic Wand",this.tier=1}startOfBattle(t,e){let i=this.parent.petArray.filter(a=>a.level<3),s=null,r=!1;0==i.length?s=this.parent.getRandomPet([],!0):(i=(0,vt.shuffle)(i),s=i[0],r=i.length>1),null!=s&&(this.logService.createLog({message:`${this.name} gave ${s.name} ${this.level} exp.`,type:"ability",player:this.parent,puma:e,randomEvent:r}),s.increaseExp(this.level))}}class Yz extends at{constructor(){super(...arguments),this.name="Crystal Ball",this.tier=1}startOfBattle(t,e){let i=this.parent.petArray[0];null!=i&&(this.logService.createLog({message:`${this.name} gave ${i.name} ${this.level} mana.`,type:"ability",player:this.parent,puma:e,randomEvent:!1}),i.increaseMana(this.level))}}class Jz extends at{constructor(){super(...arguments),this.name="Treasure Map",this.tier=3}}class Zz extends at{constructor(){super(...arguments),this.name="Treasure Chest",this.tier=3}}class R_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Great One",this.tier=6,this.pack="Custom",this.attack=7,this.health=13,this.initPet(o,s,r,a,l)}summoned(t,e){let i=[...this.parent.petArray,...this.parent.opponent.petArray];i=i.filter(s=>s!==this);for(let s of i)this.snipePet(s,6*this.level);this.superSummoned(t,e)}}class Xz extends at{constructor(t,e,i,s,r){super(t,e,s,r),this.logService=t,this.toyService=e,this.abilityService=i,this.name="Evil Book",this.tier=5}emptyFromSpace(t,e,i,s){let r={attack:6*i,health:6*i},o=new R_(this.logService,this.abilityService,this.parent,r.health,r.attack,0,1==i?0:2==i?2:5);this.logService.createLog({message:`${this.name} spawned Great One (${r.attack}/${r.health}).`,type:"ability",player:this.parent,puma:e}),this.parent.summonPet(o,0)&&this.abilityService.triggerFriendSummonedEvents(o),this.used=!0}}class eK extends at{constructor(){super(...arguments),this.name="Magic Carpet",this.tier=2}friendSummoned(t,e,i,s){this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack.`,type:"ability",player:this.parent,puma:i}),e.increaseAttack(s)}}class tK extends at{constructor(){super(...arguments),this.name="Magic Lamp",this.tier=2}friendlyLevelUp(t,e,i,s){this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),e.increaseAttack(+s),e.increaseHealth(+s)}}class iK extends at{constructor(){super(...arguments),this.name="Candleabra",this.tier=4}}class nK extends at{constructor(){super(...arguments),this.name="Glass Shoes",this.tier=4}friendFaints(t,e,i,s){if(i||this.triggers++,this.triggers%3!=0)return;let r=e.parent.petArray.filter(a=>a.alive);for(let a of r)this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),a.increaseAttack(+s),a.increaseHealth(+s)}}class sK extends at{constructor(){super(...arguments),this.name="Golden Harp",this.tier=4}}class rK extends at{constructor(){super(...arguments),this.name="Lock of Hair",this.tier=4}}class aK extends at{constructor(){super(...arguments),this.name="Magic Mirror",this.tier=4}}class oK extends at{constructor(){super(...arguments),this.name="Pickaxe",this.tier=4}}class lK extends at{constructor(){super(...arguments),this.name="Red Cape",this.tier=4}friendJumped(t,e,i,s){let r=e.parent.petArray.filter(a=>a.alive);for(let a of r)this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),a.increaseAttack(+s),a.increaseHealth(+s)}}class cK extends at{constructor(){super(...arguments),this.name="Rosebud",this.tier=4}friendlyLevelUp(t,e,i,s){if(i||this.triggers++,this.triggers%2!=0)return;let r=e.parent.petArray.filter(a=>a.alive);for(let a of r)this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),a.increaseAttack(+s),a.increaseHealth(+s)}}class uK extends at{constructor(){super(...arguments),this.name="Excalibur",this.tier=6}}class hK extends at{constructor(){super(...arguments),this.name="Holy Grail",this.tier=6}}class I_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Salmon of Knowledge",this.tier=5,this.pack="Unicorn",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=2*this.level,s=[],r=this.parent.getFurthestUpPets(2,null,this,null,[this]);s.push(...r.pets);let a=this.parent.opponent.getFurthestUpPets(2,null,this);s.push(...a.pets);for(let o of s)this.logService.createLog({message:`${this.name} gave ${o.name} ${i} exp.`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random||a.random}),o.increaseExp(i);this.superStartOfBattle(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class dK extends at{constructor(t,e,i,s,r){super(t,e,s,r),this.logService=t,this.toyService=e,this.abilityService=i,this.name="Nutcracker",this.tier=4}friendFaints(t,e,i,s){if(this.used||e.parent.petArray.filter(l=>l.alive).length>0)return;let a=6*this.level,o=new I_(this.logService,this.abilityService,this.parent,a,a,null,0);this.logService.createLog({message:`${this.name} spawned Salmon of Knowledge (${a}/${a})`,type:"ability",player:this.parent}),this.parent.summonPet(o,0)&&this.abilityService.triggerFriendSummonedEvents(o),this.used=!0}}class fK extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giant Eyes Dog",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=6,this.attack=6,this.initPet(o,s,r,a,l)}}class pK extends at{constructor(t,e,i,s,r){super(t,e,s,r),this.logService=t,this.toyService=e,this.abilityService=i,this.name="Tinder Box",this.tier=4}emptyFromSpace(t,e,i,s){let r={attack:6*i,health:6*i},o=new fK(this.logService,this.abilityService,this.parent,r.health,r.attack,0,1==i?0:2==i?2:5);this.logService.createLog({message:`${this.name} spawned Giant Eyes Dog (${r.attack}/${r.health}).`,type:"ability",player:this.parent,puma:e}),this.parent.summonPet(o,0)&&this.abilityService.triggerFriendSummonedEvents(o),this.used=!0}}let O3=(()=>{class n{constructor(e,i,s,r){this.logService=e,this.abilityService=i,this.gameService=s,this.equipmentService=r,this.toys=new Map,this.startOfBattleEvents=[],this.emptyFrontSpaceEvents=[],this.friendSummonedEvents=[],this.setToys()}setToys(){this.toys.set(1,["Ballon","Tennis Ball"]),this.toys.set(2,["Radio","Garlic Press","Plastic Saw"]),this.toys.set(3,["Toilet Paper","Oven Mitts"]),this.toys.set(4,["Melon Helmet","Foam Sword","Toy Gun"]),this.toys.set(5,["Flashlight","Stinky Sock"]),this.toys.set(6,["Television","Peanut Jar","Air Palm Tree"]),this.toys.set(7,["Witch Broom","Pandoras Box","Magic Wand","Crystal Ball","Treasure Map","Treasure Chest","Evil Book","Magic Carpet","Magic Lamp","Nutcracker","Tinder Box","Candleabra","Glass Shoes","Golden Harp","Lock of Hair","Magic Mirror","Pickaxe","Red Cape","Rose Bud","Excalibur","Holy Grail"])}createToy(e,i,s=1){switch(e){case"Ballon":return new Rz(this.logService,this,i,s);case"Tennis Ball":return new Iz(this.logService,this,i,s);case"Radio":return new Oz(this.logService,this,i,s);case"Garlic Press":return new Nz(this.logService,this,i,s);case"Plastic Saw":return new Lz(this.logService,this,i,s);case"Toilet Paper":return new Bz(this.logService,this,i,s);case"Oven Mitts":return new $z(this.logService,this,i,s);case"Melon Helmet":return new Vz(this.logService,this,i,s);case"Foam Sword":return new Fz(this.logService,this,i,s);case"Toy Gun":return new Hz(this.logService,this,i,s);case"Flashlight":return new qz(this.logService,this,i,s);case"Stinky Sock":return new Uz(this.logService,this,i,s);case"Television":return new Gz(this.logService,this,i,s);case"Peanut Jar":return new jz(this.logService,this,i,s);case"Air Palm Tree":return new Wz(this.logService,this,i,s);case"Pandoras Box":return new zz(this.logService,this,i,s,this.equipmentService);case"Witch Broom":return new Kz(this.logService,this,i,s);case"Magic Wand":return new Qz(this.logService,this,i,s);case"Crystal Ball":return new Yz(this.logService,this,i,s);case"Treasure Map":return new Jz(this.logService,this,i,s);case"Treasure Chest":return new Zz(this.logService,this,i,s);case"Evil Book":return new Xz(this.logService,this,this.abilityService,i,s);case"Magic Carpet":return new eK(this.logService,this,i,s);case"Magic Lamp":return new tK(this.logService,this,i,s);case"Nutcracker":return new dK(this.logService,this,this.abilityService,i,s);case"Tinder Box":return new pK(this.logService,this,this.abilityService,i,s);case"Candleabra":return new iK(this.logService,this,i,s);case"Glass Shoes":return new nK(this.logService,this,i,s);case"Golden Harp":return new sK(this.logService,this,i,s);case"Lock of Hair":return new rK(this.logService,this,i,s);case"Magic Mirror":return new aK(this.logService,this,i,s);case"Pickaxe":return new oK(this.logService,this,i,s);case"Red Cape":return new lK(this.logService,this,i,s);case"Rose Bud":return new cK(this.logService,this,i,s);case"Excalibur":return new uK(this.logService,this,i,s);case"Holy Grail":return new hK(this.logService,this,i,s)}}snipePet(e,i,s,r,a=!1,o=!1){var l,h;let d=this.calculateDamgae(e,this.getManticoreMult(s),i),m=d.defenseEquipment,y=d.damage,S="Ghost Kitten"==e.name,k=0;S&&(k=3*e.level,y=Math.max(0,y-k)),this.dealDamage(e,y,s);let T=`${r} sniped ${e.name} for ${y}.`;if(null!=m){e.useDefenseEquipment(!0);let U=Math.abs(m.power),O="-";if(m.power<0&&(O="+"),"Strawberry"===m.name){let G=e.getSparrowLevel();G>0&&(U=5*G,T+=` (Strawberry -${U} (Sparrow))`)}else T+=` (${m.name} ${O}${U})`;T+=m.multiplierMessage}S&&(T+=` -${k} (Ghost Kitten)`),"Exposed"==(null===(l=e.equipment)||void 0===l?void 0:l.name)&&(T+="x2 (Exposed)",e.equipment.multiplier>1&&(T+=e.equipment.multiplierMessage));let D=this.getManticoreMult(s),I=["Weak","Cold","Exposed","Spooked"].includes(null===(h=e.equipment)||void 0===h?void 0:h.name);if(D.length>0&&I)for(let U of D)T+=` x${U+1} (Manticore)`;return d.nurikabe>0&&(T+=` -${d.nurikabe} (Nurikabe)`),d.fairyBallReduction>0&&(T+=` -${d.fairyBallReduction} (Fairy Ball)`),d.fanMusselReduction>0&&(T+=` -${d.fanMusselReduction} (Fan Mussel)`),o&&(T+=" (Puma)"),this.logService.createLog({message:T,type:"attack",randomEvent:a,player:s}),y}calculateDamgae(e,i,s){var r,a,o,l,h,d,m;let y=null===(r=e.equipment)||void 0===r?void 0:r.multiplier,D="defense"==(null===(a=e.equipment)||void 0===a?void 0:a.equipmentClass)||"shield"==(null===(o=e.equipment)||void 0===o?void 0:o.equipmentClass)||"ailment-defense"==(null===(l=e.equipment)||void 0===l?void 0:l.equipmentClass)||"shield-snipe"==(null===(h=e.equipment)||void 0===h?void 0:h.equipmentClass)?e.equipment:null;if(null!=D){if("Maple Syrup"==D.name&&(D=null),["Cold","Weak","Spooked"].includes(null==D?void 0:D.name))for(let pe of i)y+=pe;D.power=D.originalPower*y}let N=(null==D?void 0:D.power)?D.power:0,I=e.getSparrowLevel();if("Strawberry"===(null===(d=e.equipment)||void 0===d?void 0:d.name)&&I>0&&(N+=5*I),"Exposed"==(null===(m=e.equipment)||void 0===m?void 0:m.name)){let pe=2;for(let ve of i)pe+=ve;pe+=e.equipment.multiplier-1,s*=pe}let O,U="shield"==(null==D?void 0:D.equipmentClass)||"shield-snipe"==(null==D?void 0:D.equipmentClass)?0:1;void 0!==(null==D?void 0:D.minimumDamage)&&(U=D.minimumDamage),O=s<=U&&N>0?Math.max(s,0):Math.max(U,s-N);let G=0;"Fairy Ball"===e.name&&O>0&&(G=2*e.level,O=Math.max(1,O-G));let Y=0;"Nurikabe"==e.name&&e.abilityUses<3&&O>0&&(Y=4*e.level,O=Math.max(1,O-G),e.abilityUses++);let oe=0;return"Fan Mussel"==e.name&&e.abilityUses<e.maxAbilityUses&&O>0&&(oe=1*e.level,O=Math.max(1,O-G),e.abilityUses++),{defenseEquipment:D,damage:O,nurikabe:Y,fairyBallReduction:G,fanMusselReduction:oe}}dealDamage(e,i,s){e.health-=i,null!=e.hurt&&i>0&&this.abilityService.setHurtEvent({callback:e.hurt.bind(e),priority:e.attack,player:e.parent,pet:e}),i>0&&this.abilityService.triggerFriendHurtEvents(e.parent,e),i>0&&this.abilityService.triggerEnemyHurtEvents(s,e)}getManticoreMult(e){let i=[];for(let s of e.petArray)"Manticore"==s.name&&i.push(s.level);return i}getSparrowLevel(e){let i=0;for(let s of e.petArray)"Sparrow"==s.name&&(i=Math.max(i,s.level));return i}setStartOfBattleEvent(e){this.startOfBattleEvents.push(e)}resetStartOfBattleEvents(){this.startOfBattleEvents=[]}executeStartOfBattleEvents(){this.startOfBattleEvents=(0,vt.shuffle)(this.startOfBattleEvents),this.startOfBattleEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.startOfBattleEvents)e.callback(this.gameService.gameApi);this.resetStartOfBattleEvents()}}return n.\u0275fac=function(e){return new(e||n)(H(x_),H(M_),H(Sh),H(Ci))},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class O_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flying Squirrel",this.tier=3,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}friendlyToyBroke(t,e){let i=2*this.level,s=this.parent.getThis(this),r=s.pet;if(null==r||(r.increaseAttack(i),this.logService.createLog({message:`${this.name} gave ${r.name} +${i} attack`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),null==this.parent.brokenToy))return;const a=qo.getInjector().get(O3).createToy(this.parent.brokenToy.name,this.parent);a.level=Math.min(this.level,this.parent.brokenToy.level),this.parent.setToy(a),this.logService.createLog({message:`${a.name} respawned (Level ${a.level})!`,type:"ability",player:this.parent,tiger:e}),this.superFriendlyToyBroke(t,e)}}class BA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mandrill",this.tier=2,this.pack="Puppy",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){var s;if((null===(s=this.parent.toy)||void 0===s?void 0:s.tier)<=2*this.level){let a=!1;for(let o of this.parent.petArray)if(o instanceof O_){a=!0;break}this.parent.breakToy(),this.abilityService.triggerFriendlyToyBrokeEvents(this.parent)}}}class N_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lemur",this.tier=2,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class $A extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hoopoe Bird",this.tier=3,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=Bt(t,this.parent),r=s.getFurthestUpPet(this),a=r.pet,o=s.getLastPet(void 0,this),l=o.pet,h=2*this.level;a&&this.snipePet(a,h,r.random,e,i),l&&this.snipePet(l,h,o.random,e,i),this.superFaint(t,e)}}class VA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tropical Fish",this.tier=3,this.pack="Puppy",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}}class FA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hatching Chick",this.tier=3,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}}class HA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goldfish",this.tier=2,this.pack="Puppy",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}}class qA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Owl",this.tier=3,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}}class Hp extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mole",this.tier=3,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=6*this.level,r=[];for(let l of this.parent.petArray)l!=this&&l.equipment&&r.push(l);if(r=r.slice(0,2),r.length<2)return;for(let l of r)this.logService.createLog({message:`${this.name} removed ${l.name}'s equipment.`,type:"ability",player:this.parent,pteranodon:i}),l.removePerk();let a=new Hp(this.logService,this.abilityService,this.parent,s,s),o=this.parent.summonPet(a,this.savedPosition,!1,this);o.success&&(this.logService.createLog({message:`${this.name} summoned a ${s}/${s} Mole.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:o.randomEvent}),this.abilityService.triggerFriendSummonedEvents(a)),super.superAfterFaint(t,e,i)}}class UA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Raccoon",this.tier=5,this.pack="Custom",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}beforeAttack(t,e){let s=Bt(t,this.parent).getPetAtPosition(0);null!=s&&null!=s.equipment&&(this.abilityUses>=this.maxAbilityUses||(this.logService.createLog({message:`${this.name} stole ${s.name}'s equipment. (${s.equipment.name})`,type:"ability",player:this.parent}),this.givePetEquipment(s.equipment),s.removePerk(),this.abilityUses++))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class GA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Cucumber",this.tier=5,this.pack="Custom",this.health=5,this.attack=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s=(this.parent==t.player?t.opponet:t.player).petArray.filter(l=>l.alive);if(0==s.length)return void this.superStartOfBattle(t,e);let r=this.level,o=[...s];for(let l=0;l<r&&o.length>0;l++){let h=Math.floor(Math.random()*o.length),d=o[h],m=new I3(this.logService,this.abilityService);this.logService.createLog({message:`${this.name} made ${d.name} Tasty`,type:"ability",player:this.parent,tiger:e,randomEvent:s.length>1}),d.givePetEquipment(m),o.splice(h,1)}this.superStartOfBattle(t,e)}}class jA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pangolin",this.tier=3,this.pack="Puppy",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){if(null==this.parent.toy)return void this.superFaint(t,e);let s=this.parent.nearestPetsBehind(1,this);if(0===s.pets.length)return void this.superFaint(t,e);let r=s.pets[0],a=4*this.level;r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} ${a} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random}),this.superFaint(t,e)}}class WA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Puppy",this.tier=3,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class zA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Microbe",this.tier=4,this.pack="Puppy",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.getAll(!0,this),r=s.pets;if(0!=r.length){for(let a of r)!a.alive||(this.logService.createLog({message:`${this.name} gave ${a.name} Weak.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random}),a.givePetEquipment(new Ua));this.superFaint(t,e)}}}class KA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lobster",this.tier=4,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class QA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Buffalo",this.tier=4,this.pack="Puppy",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}}class YA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Llama",this.tier=4,this.pack="Puppy",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}}class L_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Butterly",this.tier=1,this.pack="Puppy",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}transform(t,e){if(!this.alive)return;let s=Bt(t,this.parent).getStrongestPet(this);null!=s.pet&&(this.health=s.pet.health,this.attack=s.pet.attack,this.logService.createLog({message:`${this.name} copied stats from the strongest enemy (${this.attack}/${this.health}).`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),this.superTransform(t,e))}}class JA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Caterpillar",this.tier=4,this.pack="Puppy",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){if(this.level<3)return;let i=this.parent.getThis(this),s=i.pet;if(null==s)return;let r=new L_(this.logService,this.abilityService,s.parent,s.health,s.attack,s.mana,s.exp,s.equipment);this.parent.transformPet(s,r),this.logService.createLog({message:`${this.name} transformed into a Butterfly.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random})}}class ZA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Doberman",this.tier=4,this.pack="Puppy",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=!0;for(let h of this.parent.petArray)if(h!=this&&h.tier<=this.tier){i=!1;break}if(!i)return;let s=8*this.level,r=this.parent.getThis(this),a=r.pet;if(null==a)return;a.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random});let o=this.parent.getThis(this),l=o.pet;null!=l&&(l.givePetEquipment(new Uo),this.logService.createLog({message:`${this.name} gave ${l.name} Coconut.`,type:"ability",player:this.parent,tiger:e,randomEvent:o.random}),this.superStartOfBattle(t,e))}}class XA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tahr",this.tier=4,this.pack="Puppy",this.attack=5,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.nearestPetsBehind(this.level,this,"Chili");if(0!==s.pets.length){for(let r of s.pets)this.logService.createLog({message:`${this.name} gave ${r.name} Chili.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random}),r.givePetEquipment(new WC(this.logService,this.abilityService));this.superFaint(t,e)}else this.superFaint(t,e)}}class eP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Whale Shark",this.tier=4,this.pack="Puppy",this.attack=2,this.health=6,this.initPet(o,s,r,a,l)}givePetEquipment(t){super.givePetEquipment(t),this.removePerk(),this.logService.createLog({message:`${this.name} removed ${t.name}`,type:"ability",player:this.parent});let e=this.parent.getThis(this),i=e.pet;if(null==i)return;let s=3*this.level;i.increaseAttack(s),i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,randomEvent:e.random})}}class tP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chameleon",this.tier=4,this.pack="Puppy",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){if(null==this.parent.toy)return;let s=this.parent.toy,r=s.level;s.level=this.level,this.logService.createLog({message:`${this.name} activated ${s.name}.`,type:"ability",player:this.parent,pteranodon:i}),s.onBreak&&this.parent.breakToy(!0),s.startOfBattle&&s.startOfBattle(t),s.level=r}}class iP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gharial",this.tier=4,this.pack="Puppy",this.attack=5,this.health=3,this.initPet(o,s,r,a,l)}}class nP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stonefish",this.tier=5,this.pack="Puppy",this.attack=7,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){let r=this.parent.getSpecificPet(this,this.killedBy).pet;null==r||!r.alive||(this.snipePet(r,this.attack*this.level,!1,e,i),this.superFaint(t,e))}}class sP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Poodle",this.tier=5,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}}class rP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chicken",this.tier=5,this.pack="Puppy",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}}class aP extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Eagle",this.tier=5,this.pack="Puppy",this.attack=6,this.health=5,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let r,s=Math.min(6,t.previousShopTier+1);r=this.parent==t.player?t.playerPetPool.get(s):t.opponentPetPool.get(s);let a=r[Math.floor(Math.random()*r.length)],o=5*this.level,l=this.petService.createPet({name:a,attack:o,health:o,exp:this.minExpForLevel,equipment:null,mana:0},this.parent);this.parent.summonPet(l,this.savedPosition,!1,this).success&&(this.logService.createLog({message:`${this.name} spawned ${l.name} Level ${l.level}`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.abilityService.triggerFriendSummonedEvents(l)),super.superAfterFaint(t,e,i)}}class B_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Praying Mantis",this.tier=4,this.pack="Star",this.attack=7,this.health=2,this.initPet(o,s,r,a,l)}}class oP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Orchid Mantis",this.tier=5,this.pack="Puppy",this.attack=8,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=Math.min(Math.floor(this.attack*(.4*this.level)),50),s=Math.min(Math.floor(this.health*(.4*this.level)),50),r=new B_(this.logService,this.abilityService,this.parent,s,i,0,this.minExpForLevel,null),a=this.parent.summonPetInFront(this,r);a.success&&(this.logService.createLog({message:`${this.name} spawned Mantis ${r.attack}/${r.health}.`,type:"ability",player:this.parent,tiger:e,randomEvent:a.randomEvent}),this.abilityService.triggerFriendSummonedEvents(r)),this.superStartOfBattle(t,e)}}class lP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Panther",this.tier=5,this.pack="Puppy",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}}class cP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Axolotl",this.tier=5,this.pack="Puppy",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}friendGainedPerk(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.getSpecificPet(this,e),r=s.pet;if(null==r)return;let a=this.level;r.increaseAttack(a),r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} ${a} attack and ${a} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.abilityUses++,this.superFriendGainedPerk(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class uP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goat",this.tier=5,this.pack="Puppy",this.attack=4,this.health=6,this.initPet(o,s,r,a,l)}}class hP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snapping Turtle",this.tier=5,this.pack="Puppy",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.nearestPetsBehind(this.level,this,"Skewer");if(0!==s.pets.length){for(let r of s.pets)this.logService.createLog({message:`${this.name} gave ${r.name} Skewer.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random}),r.givePetEquipment(new A3(this.logService));this.superFaint(t,e)}}}class dP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mosasaurus",this.tier=5,this.pack="Puppy",this.attack=5,this.health=6,this.initPet(o,s,r,a,l)}friendlyToyBroke(t,e){let i=[],s=!1,r=this.parent.nearestPetsAhead(1,this);r.pets.length>0&&(i.push(r.pets[0]),s=r.random);let a=this.parent.nearestPetsBehind(1,this);if(a.pets.length>0&&(i.push(a.pets[0]),s=s||a.random),0==i.length)return;for(let l of i)this.logService.createLog({message:`${this.name} gave ${l.name} 2 attach and 3 health.`,type:"ability",player:this.parent,randomEvent:s,tiger:e}),l.increaseHealth(3),l.increaseAttack(2)}}class fP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sting Ray",this.tier=5,this.pack="Puppy",this.attack=4,this.health=6,this.initPet(o,s,r,a,l)}}class pP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mantis Shrimp",this.tier=6,this.pack="Puppy",this.attack=9,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=Bt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getFurthestUpPet(this),a=r.pet;if(null==a)return;this.snipePet(a,10,r.random,e)}this.superStartOfBattle(t,e)}}class gP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lionfish",this.tier=6,this.pack="Puppy",this.attack=8,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=Bt(t,this.parent),r=1+Math.floor(this.attack/10);for(let a=0;a<r;a++){let o=s.getRandomPet([],!1,!0,!1,this);if(null==o.pet)return;this.snipePet(o.pet,3*this.level,o.random,e,i)}this.superFaint(t,e)}}class mP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tyrannosaurus",this.tier=6,this.pack="Puppy",this.attack=7,this.health=7,this.initPet(o,s,r,a,l)}}class vP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Octopus",this.tier=6,this.pack="Puppy",this.attack=8,this.health=8,this.initPet(o,s,r,a,l)}afterAttack(t,e){let s=Bt(t,this.parent).getRandomPets(this.level,null,null,!0,this),r=s.pets;for(let o of r){if(null==o)return;this.snipePet(o,6,s.random,e)}this.superAfterAttack(t,e)}}class yP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anglerfish",this.tier=6,this.pack="Puppy",this.attack=7,this.health=4,this.initPet(o,s,r,a,l)}}class _P extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sauropod",this.tier=6,this.pack="Puppy",this.attack=4,this.health=12,this.initPet(o,s,r,a,l)}}class bP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Elephant Seal",this.tier=6,this.pack="Puppy",this.attack=4,this.health=8,this.initPet(o,s,r,a,l)}gainedPerk(t,e,i){if(e!=this||this.abilityUses>=this.maxAbilityUses)return;let s=4*this.level,r=this.parent.getRandomPets(3,[this],!0,!1,this);for(let a of r.pets)null!=a&&(a.increaseAttack(s),a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}));this.abilityUses++,this.superGainedPerk(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=1}}class SP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mongoose",this.tier=6,this.pack="Puppy",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}}class wP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pillbug",this.tier=1,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class EP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Duckling",this.tier=1,this.pack="Custom",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class gK extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Summoned Cockroach",this.tier=1,this.pack="Star",this.attack=1,this.health=1,this.hidden=!0,this.initPet(o,s,r,a,l)}}class kP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockroach",this.tier=1,this.pack="Star",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}afterfaint(t,e,i){const s=this.level,r=new gK(this.logService,this.abilityService,this.parent,1,1,0,0);let a=this.parent.summonPet(r,this.savedPosition,!1,this);if(a.success){this.logService.createLog({message:`${this.name} summoned a 1/1 Cockroach.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:a.randomEvent});let o=this.parent.getThis(r);o.pet.increaseExp(s),this.logService.createLog({message:`${this.name} gave ${o.pet.name} +${s} exp.`,type:"ability",player:this.parent,tiger:e,randomEvent:o.random}),this.abilityService.triggerFriendSummonedEvents(r)}this.superAfterFaint(t,e)}}class CP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frog",this.tier=1,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){if(this.level>1)return;let i=this.parent.nearestPetsAhead(1,this),s=this.parent.nearestPetsBehind(1,this);if(0===i.pets.length||0===s.pets.length)return;let r=i.pets[0],a=s.pets[0],o=r.attack,l=r.health,d=a.health;r.attack=a.attack,r.health=d,a.attack=o,a.health=l,this.logService.createLog({message:`${this.name} swapped the attack and health of ${r.name} and ${a.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random||s.random}),this.superStartOfBattle(t,e)}}class AP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chihuahua",this.tier=1,this.pack="Star",this.attack=4,this.health=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){const i=this.parent.opponent,s=i.getHighestHealthPet(void 0,this),r=s.pet;if(r){const a=this.level;this.logService.createLog({message:`${this.name} pushed ${r.name} forward ${a} space(s).`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),i.pushPet(r,a)}this.superStartOfBattle(t,e)}}class PP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Seahorse",this.tier=1,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s=Bt(t,this.parent).getLastPet();null!=s.pet&&(this.parent.pushPet(s.pet,this.level),this.logService.createLog({message:`${this.name} pushes ${s.pet.name} forward ${this.level} space(s).`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e))}}class DP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Iguana",this.tier=2,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}enemyPushed(t,e,i){let s=this.parent.getSpecificPet(this,e),r=s.pet;null!=r&&r.alive&&(this.snipePet(r,2*this.level,s.random,i),this.superEnemyPushed(t,e,i))}enemySummoned(t,e,i){let s=this.parent.getSpecificPet(this,e),r=s.pet;null!=r&&r.alive&&(this.snipePet(r,2*this.level,s.random,i),this.superEnemySummoned(t,e,i))}}class TP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hummingbird",this.tier=1,this.pack="Star",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.nearestPetsBehind(this.level,this,"Strawberry");if(0!==i.pets.length){for(let s of i.pets)s.givePetEquipment(new TA(this.logService,this.abilityService)),this.logService.createLog({message:`${this.name} gave ${s.name} strawberry.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random});this.superStartOfBattle(t,e)}}}class xP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Koala",this.tier=2,this.pack="Star",this.attack=3,this.health=3,this.abilityUses=0,this.maxAbilityUses=0,this.initPet(o,s,r,a,l)}friendHurt(t,e,i){if(e===this||this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.getSpecificPet(this,e),r=s.pet;null!=r&&(this.logService.createLog({message:`${this.name} gave ${r.name} Eucalyptus perk.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),r.givePetEquipment(new A_),this.abilityUses++,this.superFriendHurt(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level,this.abilityUses=0}}class MP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Yak",this.tier=2,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}}class RP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dumbo Octopus",this.tier=2,this.pack="Star",this.health=5,this.attack=2,this.initPet(o,s,r,a,l)}}class IP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Salamander",this.tier=2,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class OP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Panda",this.tier=2,this.pack="Custom",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=.5*this.level,s={attack:Math.floor(this.attack*i),health:Math.floor(this.health*i)},r=this.parent.nearestPetsAhead(1,this);if(0===r.pets.length)return void this.superStartOfBattle(t,e);let a=r.pets[0];a.increaseAttack(s.attack),a.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${a.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random}),this.health=0,this.superStartOfBattle(t,e)}}class NP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Guinea Pig",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class LP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pug",this.tier=3,this.pack="Star",this.attack=5,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.nearestPetsAhead(1,this);if(0===i.pets.length)return void this.superStartOfBattle(t,e);let s=i.pets[0],r=this.level;this.logService.createLog({message:`${this.name} gave ${s.name} ${r} exp.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),s.increaseExp(r),this.superStartOfBattle(t,e)}}class BP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jellyfish",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}anyoneLevelUp(t,e,i){if(e.parent!=this.parent)return;let s=this.parent.getThis(this),r=s.pet;if(null==r)return;let a=this.level;r.increaseAttack(a),r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} attack by ${a} and health by ${a}`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.superAnyoneLevelUp(t,e,i)}}class $P extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Atlantic Puffin",this.tier=2,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}friendAttacks(t,e,i){var s;if("Strawberry"!=(null===(s=e.equipment)||void 0===s?void 0:s.name))return;this.logService.createLog({message:`${this.name} removed ${e.name}'s ${e.equipment.name}.`,type:"ability",player:this.parent,tiger:i}),e.removePerk();let r=2*this.level,a=this.parent.opponent.getLastPet(),o=a.pet;null!=o&&(this.snipePet(o,r,a.random,i),this.superStartOfBattle(t,i))}}class VP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dove",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.petArray.filter(o=>{var l;return o==this||"Strawberry"!=(null===(l=o.equipment)||void 0===l?void 0:l.name)}),r=this.parent.getRandomPets(3,s,null,null,this),a=r.pets;if(0!=a.length){for(let o of a){if("Strawberry"!=o.equipment.name)continue;this.logService.createLog({message:`${this.name} activated ${o.name}'s Strawberry.`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random,pteranodon:i});let h=o.parent.getLastPet(null,o).pet,d=this.level+h.equipment.multiplier-1;h.increaseAttack(d),h.increaseHealth(d),this.logService.createLog({message:`${o.name} gave ${h.name} ${d} attack ${d} health (Strawberry) (x${this.level} ${this.name}).`,type:"equipment",player:this.parent,tiger:e,pteranodon:i})}this.superFaint(t,e)}}}class FP extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Stork",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let s,r=Math.max(1,t.previousShopTier-1);s=this.parent==t.player?t.playerPetPool.get(r):t.opponentPetPool.get(r);let a=s[Math.floor(Math.random()*s.length)],o=t.oldStork,l=this.petService.createPet({name:a,attack:o?null:3*this.level,equipment:null,exp:this.minExpForLevel,health:o?null:2*this.level,mana:0},this.parent);this.parent.summonPet(l,this.savedPosition,!1,this).success&&(this.logService.createLog({message:`${this.name} spawned ${l.name} Level ${this.level}`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.abilityService.triggerFriendSummonedEvents(l)),super.superAfterFaint(t,e,i)}}class HP extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Shima Enaga",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(l,r,a,o,h)}friendFaints(t,e,i){var s;if(!this.alive||this.abilityUses>=this.maxAbilityUses)return;if(!e||"Strawberry"!=(null===(s=e.equipment)||void 0===s?void 0:s.name))return void this.superFriendFaints(t,e,i);let r=2*this.level,a=this.parent.petArray.filter(d=>d.alive);if(this.abilityUses++,0===a.length)return;let o=a[Math.floor(Math.random()*a.length)],l=this.petService.createPet({name:o.name,attack:r,health:r,equipment:null,exp:o.exp,mana:0},this.parent);this.parent.summonPet(l,e.position,!1,this).success&&(this.logService.createLog({message:`${this.name} summoned a (${r}/${r}) ${l.name} }`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}),this.abilityService.triggerFriendSummonedEvents(l)),this.superFriendFaints(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class qP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leech",this.tier=3,this.pack="Star",this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}}class UP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Woodpecker",this.tier=5,this.pack="Star",this.attack=6,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=2*this.level;for(let s=0;s<i;s++){let r=this.parent.nearestPetsAhead(2,this,null,!0),a=r.pets;for(let o of a)this.snipePet(o,2,r.random,e)}this.superStartOfBattle(t,e)}}class GP extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tuna",this.tier=3,this.pack="Star",this.attack=3,this.health=5,this.initPet(o,s,r,a,l),this.timesHurt=null!=h?h:0,this.originalTimesHurt=this.timesHurt}faint(t,e,i){let s=this.timesHurt;for(let r=0;r<s;r++){const a=this.parent.getRandomPet([this],!0,!1,!0,this);if(null==a.pet)continue;const o=this.level;this.logService.createLog({message:`${this.name} gave ${a.pet.name} +${o} attack and +${o} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:a.random}),a.pet.increaseAttack(o),a.pet.increaseHealth(o)}this.superFaint(t,e)}}class jP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Toad",this.tier=3,this.pack="Star",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}enemyHurt(t,e,i){if(!e.alive||this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.getSpecificPet(this,e),r=s.pet;null!=r&&(r.equipment instanceof Ua||(r.givePetEquipment(new Ua),this.abilityUses++,this.logService.createLog({message:`${this.name} gave ${r.name} Weak.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.enemyHurt(t,e,i)))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2*this.level}}class WP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Starfish",this.tier=5,this.pack="Star",this.attack=3,this.health=7,this.initPet(o,s,r,a,l)}}class zP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Clownfish",this.tier=4,this.pack="Star",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}anyoneLevelUp(t,e,i){if(e.parent!==this.parent)return;let s=this.parent.getSpecificPet(this,e),r=s.pet;if(null==r)return;let a=2*this.level;r.increaseAttack(a),r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} ${a} attack and ${a} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.superAnyoneLevelUp(t,e,i)}}class KP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blobfish",this.tier=5,this.pack="Star",this.attack=2,this.health=10,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.nearestPetsBehind(2,this),r=s.pets;for(let a of r){let o=this.level;this.logService.createLog({message:`${this.name} gave ${a.name} ${o} exp.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),a.increaseExp(o)}this.superFaint(t,e)}}class QP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cabybara",this.tier=3,this.pack="Star",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}}class YP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Okapi",this.tier=3,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class JP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cassowary",this.tier=3,this.pack="Star",this.attack=5,this.health=2,this.initPet(o,s,r,a,l)}friendGainedPerk(t,e,i){var s;if(e.parent!==this.parent||"Strawberry"!==(null===(s=e.equipment)||void 0===s?void 0:s.name))return;const r=this.level;let o=this.parent.getThis(this).pet;null!=o&&(this.logService.createLog({message:`${this.name} gave ${o.name} +${r} permanent health and +${r} attack for this battle.`,type:"ability",player:this.parent,tiger:i}),o.increaseHealth(r),o.increaseAttack(r),this.superFriendGainedPerk(t,e,i))}}class $_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Orangutang",this.tier=3,this.pack="Star",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}}class ZP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Siamese",this.tier=4,this.pack="Star",this.health=4,this.attack=1,this.initPet(o,s,r,a,l)}}class XP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Elk",this.tier=4,this.pack="Star",this.attack=2,this.health=6,this.initPet(o,s,r,a,l)}endTurn(t){}}class V_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fairy Ball",this.tier=1,this.pack="Star",this.attack=2,this.health=6,this.hidden=!0,this.initPet(o,s,r,a,l)}}class eD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fairy Armadillo",this.tier=4,this.pack="Star",this.attack=2,this.health=6,this.initPet(o,s,r,a,l)}hurt(t,e,i){if(this.alive){const s=2*this.level,r=this.parent.getThis(this),a=r.pet;if(null==a)return;a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} permanent health and transforms into a protected ball!`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random});const o=this.parent.getThis(this),l=o.pet;if(null==l)return;const h=new V_(this.logService,this.abilityService,l.parent,l.health,l.attack,l.mana,l.exp,l.equipment);this.logService.createLog({message:`${this.name} transformed ${l.name} into a protected ball!`,type:"ability",player:this.parent,tiger:i,randomEvent:o.random}),l.parent.transformPet(l,h)}this.superHurt(t,e,i)}}class tD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fossa",this.tier=4,this.pack="Star",this.attack=6,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){const s=this.parent===t.player?t.playerRollAmount:t.opponentRollAmount;if(s<=0)return;const r=this.level*s;let o=this.parent.getFurthestUpPets(2,null,this).pets;if(0!=o.length){for(let l of o)this.logService.createLog({message:`${this.name} removed ${r} health from ${l.name}.`,type:"ability",player:this.parent,tiger:e}),l.increaseHealth(-r);this.superStartOfBattle(t,e)}}}class iD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Eel",this.tier=4,this.pack="Custom",this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){if(!this.alive)return;let i=.5*this.level;this.health=Math.min(50,Math.floor(this.health*(1+i))),this.logService.createLog({message:`${this.name} has gained ${100*i}% health. (${this.health})`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class nD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hawk",this.tier=4,this.pack="Star",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.getOppositeEnemyPet(this),s=i.pet;s&&this.snipePet(s,7*this.level,i.random,e)}}class sD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Platypus",this.tier=4,this.pack="Star",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=3*this.level,r=2*this.level,a=new v_(this.logService,this.abilityService,this.parent,r,s,0,this.minExpForLevel),o=new y_(this.logService,this.abilityService,this.parent,r,s,0,this.minExpForLevel),l=this.parent.summonPet(a,this.savedPosition,!1,this);l.success&&(this.logService.createLog({message:`${this.name} spawned ${s}/${r} Duck level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:l.randomEvent}),this.abilityService.triggerFriendSummonedEvents(a));let h=this.parent.summonPet(o,this.savedPosition,!1,this);h.success&&(this.logService.createLog({message:`${this.name} spawned ${s}/${r} Beaver level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:h.randomEvent}),this.abilityService.triggerFriendSummonedEvents(o)),super.superAfterFaint(t,e,i)}}class rD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crow",this.tier=4,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class aD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Donkey",this.tier=4,this.pack="Star",this.attack=4,this.health=6,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){if(!this.alive||this.abilityUses>=this.maxAbilityUses)return;let r=this.parent.opponent.getLastPet();null!=r.pet&&(this.parent.pushPet(r.pet,r.pet.position),this.logService.createLog({message:`${this.name} pushed ${r.pet.name} to the front.`,type:"ability",player:this.parent,tiger:i}),this.superFriendFaints(t,e,i),this.abilityUses++)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class oD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sparrow",this.tier=4,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}}class lD extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Pelican",this.tier=5,this.pack="Star",this.attack=5,this.health=5,this.initPet(l,r,a,o,h)}startOfBattle(t,e){let i=this.level,s=this.parent.nearestPetsAhead(5,this),a=s.pets.filter(o=>o.equipment instanceof TA).slice(0,i);for(let o of a){let l=this.petService.createPet({name:"Salmon",attack:o.attack,health:o.health,exp:this.minExpForLevel,equipment:null,mana:0},this.parent);this.swallowedPets.push(l),o.health=0,this.logService.createLog({message:`${this.name} swallowed ${o.name}`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random})}this.superStartOfBattle(t,e)}afterFaint(t,e,i){for(;this.swallowedPets.length>0;){let s=this.swallowedPets.shift(),r=this.parent.summonPet(s,this.savedPosition,!1,this);r.success&&(this.logService.createLog({message:`${this.name} summoned ${s.name} (level ${s.level}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s))}super.superAfterFaint(t,e,i)}}class cD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anteater",this.tier=3,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){for(let s=0;s<this.level;s++){let r=new g_(this.logService,this.abilityService,this.parent,1,1,0,5),a=this.parent.summonPet(r,this.savedPosition,!1,this);a.success&&(this.logService.createLog({message:`${this.name} spawned 1/1 Ant level 3`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:a.randomEvent}),this.abilityService.triggerFriendSummonedEvents(r))}super.superAfterFaint(t,e,i)}}class uD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sword Fish",this.tier=5,this.pack="Star",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s=this.parent.opponent.getHighestHealthPet(void 0,this),r=s.pet,a=this.attack*this.level;null!=r&&this.snipePet(r,a,s.random,e),this.snipePet(this,a,!1,e),this.superStartOfBattle(t,e)}}class hD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Polar Bear",this.tier=5,this.pack="Custom",this.attack=4,this.health=8,this.initPet(o,s,r,a,l)}}class dD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Siberian Husky",this.tier=5,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}}class fD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lion",this.tier=5,this.pack="Custom",this.attack=6,this.health=6,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.petArray.filter(a=>a!==this),s=0;for(let a of i)a.tier>s&&(s=a.tier);let r=.5*this.level;this.tier<=s||(this.increaseAttack(Math.floor(this.attack*r)),this.increaseHealth(Math.floor(this.health*r)),this.logService.createLog({message:`${this.name} increased its attack and health by ${100*r}% (${this.attack}/${this.health})`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e))}}class pD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Triceratops",this.tier=5,this.pack="Star",this.attack=5,this.health=6,this.initPet(o,s,r,a,l)}hurt(t,e,i){let s=this.parent.getRandomPet([this],!0,!1,!0,this),r=3*this.level;null!=s.pet&&(s.pet.increaseAttack(r),s.pet.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.pet.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.superHurt(t,e,i))}}class gD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zebra",this.tier=5,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}}class mD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fox",this.tier=5,this.pack="Custom",this.attack=6,this.health=4,this.initPet(o,s,r,a,l)}}class vD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hamster",this.tier=5,this.pack="Star",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}}class yD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shoebill",this.tier=5,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class _D extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vulture",this.tier=5,this.pack="Star",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){!this.alive||(i||this.abilityCounter++,this.abilityCounter%2!=1&&(this.abilityService.setCounterEvent({callback:()=>{let r=this.parent.opponent.getRandomPet([],!1,!0,!1,this);null!=r.pet&&this.snipePet(r.pet,4*this.level,r.random,i)},priority:this.attack,pet:this}),this.superFriendFaints(t,e,i)))}}class bD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ibex",this.tier=5,this.pack="Star",this.attack=6,this.health=7,this.affectedEnemies=new Set,this.initPet(o,s,r,a,l)}processEnemyTrigger(t,e){if(this.affectedEnemies.has(t)||this.affectedEnemies.size>=this.maxAbilityUses)return;let i=this.parent.getSpecificPet(this,t),s=i.pet;if(null==s)return;let r=Math.floor(.7*t.health);s.increaseHealth(-r),this.affectedEnemies.add(s),this.logService.createLog({message:`${this.name} removed ${r} health from ${t.name} (70%)`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random})}enemyHurt(t,e,i){!(null==e?void 0:e.alive)||(this.processEnemyTrigger(e,i),this.superEnemyHurt(t,e,i))}enemyPushed(t,e,i){!(null==e?void 0:e.alive)||(this.processEnemyTrigger(e,i),this.superEnemyPushed(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class SD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Komodo",this.tier=6,this.pack="Custom",this.attack=6,this.health=6,this.initPet(o,s,r,a,l)}endTurn(t){if(!t.komodoShuffle)return;let i=this.position;if(0==i)return;let r=this.shufflePets(0,i).map(a=>a.name).join(", ");this.logService.createLog({message:`${this.name} shuffled positions of pets (${r}).`,type:"ability",player:this.parent,randomEvent:!0})}shufflePets(t,e){let i=this.parent.petArray.slice(t,e);v3(i);for(let s=0;s<i.length;s++)this.parent[`pet${s}`]=i[s];return i}}class wD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ostrich",this.tier=6,this.pack="Star",this.attack=6,this.health=7,this.initPet(o,s,r,a,l)}}class ED extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Reindeer",this.tier=6,this.pack="Star",this.attack=6,this.health=4,this.initPet(o,s,r,a,l)}beforeAttack(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=this.parent.getThis(this),s=i.pet;null!=s&&(s.givePetEquipment(new qa),this.abilityUses++,this.logService.createLog({message:`${this.name} gave ${s.name} Melon.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),this.superAfterAttack(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class kD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stegosaurus",this.tier=6,this.pack="Custom",this.attack=3,this.health=8,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.petArray.filter(a=>null!=a.equipment),s=this.parent.getRandomPet([...i,this],!0,!1,!0,this);if(null==s.pet)return;let r=this.level*t.turnNumber;s.pet.increaseAttack(r),s.pet.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.pet.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),this.superStartOfBattle(t,e)}}class CD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Piranha",this.tier=6,this.pack="Star",this.attack=10,this.health=4,this.initPet(o,s,r,a,l)}hurt(t,e,i){let s=this.parent.getAll(!1,this,!0),r=s.pets,a=3*this.level;for(let o of r)o.increaseAttack(a),this.logService.createLog({message:`${this.name} gave ${o.name} ${a} attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random});this.superHurt(t,e,i)}}class AD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hammerhead Shark",this.tier=6,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}}class PD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Therizinosaurus",this.tier=6,this.pack="Custom",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.getFurthestUpPets(this.level,null,this,"Strawberry"),s=i.pets;for(let r of s)r.givePetEquipment(new Uo),this.logService.createLog({message:`${this.name} gave ${r.name} Coconut.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random})}}class DD extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Harpy Eagle",this.tier=6,this.pack="Custom",this.attack=6,this.health=6,this.initPet(l,r,a,o,h)}hurt(t,e,i){let r,s=5*this.level;r=this.parent==t.player?t.playerPetPool.get(1):t.opponentPetPool.get(1);let a=r[Math.floor(Math.random()*r.length)],o=this.petService.createPet({name:a,attack:s,health:s,equipment:null,mana:0,exp:0},this.parent);this.parent.summonPet(o,this.savedPosition,!1,this).success&&(this.logService.createLog({message:`${this.name} spawned ${o.name} (${s}/${s}).`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}),this.abilityService.triggerFriendSummonedEvents(o)),super.superHurt(t,e,i)}}class TD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Real Velociraptor",this.tier=6,this.pack="Star",this.attack=6,this.health=5,this.friendAppliedThisTurn=new Set,this.initPet(o,s,r,a,l)}friendLostPerk(t,e,i){if(this.abilityUses>=this.maxAbilityUses||this==e||!(null==e?void 0:e.lastLostEquipment)||this.friendAppliedThisTurn.has(e))return;let s=this.createEquipmentInstance(e.lastLostEquipment);if(s){let r=this.parent.getSpecificPet(this,e),a=r.pet;if(null==a)return;a.givePetEquipment(s),this.logService.createLog({message:`${this.name} returned ${s.name} to ${a.name}.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),this.friendAppliedThisTurn.add(a),this.abilityUses++}super.superFriendLosPerk(t,e,i)}createEquipmentInstance(t){try{return new(0,t.constructor)}catch(e){return console.warn("Failed to create equipment instance:",t.name,e),null}}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class xD extends _{constructor(t,e,i,s,r,a,o,l,h,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Sabertooth Tiger",this.tier=6,this.pack="Star",this.attack=4,this.health=5,this.initPet(l,r,a,o,h),this.timesHurt=null!=d?d:0,this.originalTimesHurt=this.timesHurt}afterFaint(t,e,i){let s=this.timesHurt;if(s>0)for(let r=0;r<this.level;r++){let a=Math.min(2*s,50),o=Math.min(3*s,50),l=this.petService.createPet({name:"Mammoth",attack:a,health:o,equipment:null,mana:0,exp:0},this.parent),h=this.parent.summonPet(l,this.savedPosition,!1,this);h.success&&(this.logService.createLog({message:`${this.name} summoned ${l.name} (${a}/${o}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:h.randomEvent}),this.abilityService.triggerFriendSummonedEvents(l))}this.superAfterFaint(t,e)}resetPet(){super.resetPet()}}class MD extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Orca",this.tier=6,this.pack="Star",this.attack=5,this.health=7,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){for(let s=0;s<this.level;s++){let r=this.petService.getRandomFaintPet(this.parent);r.attack=6,r.health=6,this.parent.summonPet(r,this.savedPosition,!1,this).success&&(this.logService.createLog({message:`${this.name} spawned a 6/6 ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.abilityService.triggerFriendSummonedEvents(r))}super.superAfterFaint(t,e,i)}}class RD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Spinosaurus",this.tier=6,this.pack="Star",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){if(!this.alive)return;let s={attack:2*this.level,health:3*this.level},r=this.parent.getRandomPet([this],!0,!1,!0,this);null!=r.pet&&(r.pet.increaseAttack(s.attack),r.pet.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${r.pet.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),super.superFriendFaints(t,e,i))}}class ID extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bulldog",this.tier=1,this.pack="Golden",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}afterAttack(t,e){if(!this.alive||this.abilityUses>=this.maxAbilityUses)return;let i=2*this.level,s=this.parent.getThis(this),r=s.pet;null!=r&&(r.increaseAttack(i),this.logService.createLog({message:`${this.name} gained +${i} attack.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),this.abilityUses++,this.superAfterAttack(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=1}}class F_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Groundhog",this.tier=1,this.pack="Golden",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}faint(t,e,i){this.parent.gainTrumpets(this.level,this,i),this.superFaint(t,e)}}class OD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cone Snail",this.tier=1,this.pack="Golden",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.nearestPetsBehind(1,this);if(0===i.pets.length)return;let s=i.pets[0],r=2*this.level;s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),this.superStartOfBattle(t,e)}}class ND extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goose",this.tier=1,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.opponent.getFurthestUpPet(this),s=i.pet;if(null==s)return;let r=this.level;s.increaseAttack(-this.level),this.logService.createLog({message:`${this.name} removed ${r} attack from ${s.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),this.superStartOfBattle(t,e)}}class LD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pied Tamarin",this.tier=1,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}faint(t,e,i){if(this.parent.trumpets<1)return;let s=this.parent.opponent.getRandomPets(this.level,null,null,!0,this);for(let r of s.pets)null!=r&&this.snipePet(r,3,s.random,e,i);s.pets.length>0&&this.parent.spendTrumpets(1,this,i)}}class BD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Silkmoth",this.tier=1,this.pack="Golden",this.attack=3,this.health=1,this.maxAbilityUses=2,this.initPet(o,s,r,a,l)}friendHurt(t,e,i){if(this.abilityUses>=this.maxAbilityUses||e!=this.petAhead)return;let s=this.parent.getSpecificPet(this,e),r=s.pet;if(null==r)return;let a=this.level;r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} ${a} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.abilityUses++,this.superFriendHurt(t,e,i)}}class $D extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lemming",this.tier=1,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}}class VD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Magpie",this.tier=1,this.pack="Golden",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}}class FD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hercules Beetle",this.tier=2,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}}class HD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stoat",this.tier=2,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class qD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Black Necked Stilt",this.tier=2,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}faint(t,e,i){this.parent.gainTrumpets(2*this.level,this,i),this.superFaint(t,e)}}class UD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Squid",this.tier=2,this.pack="Golden",this.attack=5,this.health=2,this.initPet(o,s,r,a,l)}faint(t,e,i){if(this.parent.trumpets<1)return;let s=!1,r=this.parent.opponent.getFurthestUpPets(this.level,"Ink",this),a=r.pets;for(let o of a){if(null==o)break;s=!0,o.givePetEquipment(new IA),this.logService.createLog({message:`${this.name} gave ${o.name} Ink.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.random})}s&&this.parent.spendTrumpets(1,this,i),this.superFaint(t,e)}}class GD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Urchin",this.tier=2,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.opponent.getFurthestUpPet(this),r=[s.pet],a=s.random;if(null!=r[0]){for(let o=0;o<this.level-1;o++){let l;if(l=a?this.parent.opponent.getFurthestUpPet(this).pet:r[o].petBehind(),null==l)break;r.push(l)}for(let o of r)null!=o&&(o.increaseHealth(-5),this.logService.createLog({message:`${this.name} removed 5 health from ${o.name}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:a}));this.superFaint(t,e)}}}class jD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Door Head Ant",this.tier=2,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;this.parent.pushPetToFront(this,!0),this.logService.createLog({message:`${this.name} pushed itself to the front.`,type:"ability",player:this.parent,tiger:e});let i=4*this.level,s=this.parent.getThis(this),r=s.pet;null!=r&&(r.increaseHealth(i),this.logService.createLog({message:`${this.name} gained ${i} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}))}}class H_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lizard Tail",this.tier=1,this.pack="Golden",this.hidden=!0,this.attack=3,this.health=1,this.initPet(o,s,r,a,l)}}class WD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lizard",this.tier=2,this.pack="Golden",this.attack=1,this.health=3,this.maxAbilityUses=2,this.initPet(o,s,r,a,l)}hurt(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=new H_(this.logService,this.abilityService,this.parent,null,null,0,this.minExpForLevel),r=this.parent.summonPetInFront(this,s);r.success&&(this.logService.createLog({message:`${this.name} spawned Liazrd Tail Level ${this.level}`,type:"ability",player:this.parent,tiger:i,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s)),this.abilityUses++,super.superHurt(t,i)}}class zD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Turtle",this.tier=2,this.pack="Golden",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){let s=2*this.level,r=this.parent.getSpecificPet(this,e),a=r.pet;null!=a&&(a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),this.superFriendSummoned(t,e,i))}}class KD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="African Penguin",this.tier=2,this.pack="Golden",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}}class QD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Musk Ox",this.tier=3,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}friendAheadFaints(t,e,i){let s={attack:this.level,health:2*this.level},r=this.parent.getThis(this),a=r.pet;null!=a&&(a.increaseAttack(s.attack),a.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${a.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),this.superFriendAheadFaints(t,e,i))}}class YD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flea",this.tier=3,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.opponent.getHighestHealthPets(this.level,"Weak",this);for(let r of s.pets)this.logService.createLog({message:`${this.name} gave ${r.name} Weak.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random}),r.givePetEquipment(new Ua);this.superFaint(t,e)}}class JD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Surgeon Fish",this.tier=3,this.pack="Golden",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e){let s=this.parent.nearestPetsBehind(2,this).pets;if(0==s.length||this.parent.trumpets<2)return;this.parent.spendTrumpets(2,this);let r=4*this.level;for(let a of s)a.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${a.name} ${r} health.`,type:"ability",player:this.parent,tiger:e});this.superFaint(t,e)}}class q_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Weasel",this.tier=3,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){this.logService.createLog({message:`${this.name} gained ${this.level} Gold.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.superFaint(t,e)}}class ZD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Guineafowl",this.tier=3,this.pack="Golden",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}hurt(t,e,i){this.parent.gainTrumpets(2*this.level,this),this.superHurt(t,e,i)}}class XD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Betta Fish",this.tier=3,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.nearestPetsBehind(1,this);if(0===s.pets.length)return void this.superFaint(t,e);let r=s.pets[0],a={health:2*this.level,attack:4*this.level};r.increaseAttack(a.attack),r.increaseHealth(a.health),this.logService.createLog({message:`${this.name} gave ${r.name} ${a.attack} attack and ${a.health} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random}),this.superFaint(t,e)}}class eT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Meerkat",this.tier=2,this.pack="Golden",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i;i=this.parent==t.player?t.playerGoldSpent:t.opponentGoldSpent;let s=Math.floor(i/4)*this.level,r=this.parent.nearestPetsBehind(1,this),a=this.parent.nearestPetsAhead(1,this);if(a.pets.length>0){let o=a.pets[0];o.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e,randomEvent:a.random})}if(r.pets.length>0){let o=r.pets[0];o.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random})}this.superFaint(t,e)}}class tT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flying Fish",this.tier=3,this.pack="Golden",this.attack=5,this.health=2,this.maxAbilityUses=2,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=2*this.level,r=this.parent.getSpecificPet(this,e),a=r.pet;null!=a&&(this.logService.createLog({message:`${this.name} gave ${a.name} ${s} exp.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),a.increaseExp(s),this.abilityUses++,this.superFriendSummoned(t,e,i))}}class iT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Baboon",this.tier=3,this.pack="Golden",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class nT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Osprey",this.tier=3,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){for(let s=0;s<this.level;s++){let r=new F_(this.logService,this.abilityService,this.parent,null,null,0,0),a=this.parent.summonPet(r,this.savedPosition,!1,this);a.success&&(this.logService.createLog({message:`${this.name} summoned a 2/1 Groundhog`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:a.randomEvent}),this.abilityService.triggerFriendSummonedEvents(r))}super.superAfterFaint(t,e,i)}}class sT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manatee",this.tier=4,this.pack="Golden",this.attack=2,this.health=11,this.initPet(o,s,r,a,l)}}class rT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cuttlefish",this.tier=4,this.pack="Golden",this.attack=8,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.opponent.getLastPets(this.level,null,this),r=s.pets;if(0==r.length)return;for(let h of r)h.increaseHealth(-3),this.logService.createLog({message:`${this.name} reduced ${h.name} health by 3)`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random});let l=this.parent.opponent.getLastPets(this.level,null,this).pets;if(0!=l.length){for(let h of l)h.givePetEquipment(new IA),this.logService.createLog({message:`${this.name} gave ${h.name} Ink.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});this.superFaint(t,e)}}}class aT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Egyptian Vulture",this.tier=5,this.pack="Golden",this.attack=7,this.health=4,this.initPet(o,s,r,a,l)}knockOut(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.nearestPetsBehind(5,this),r=null;for(let a of s.pets)if(null!=a.faint){r=a;break}null!=r&&(this.logService.createLog({message:`${this.name} activated ${r.name}'s ability.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),r.faint(t,!1),this.abilityUses++)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class oT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Saiga Antelope",this.tier=4,this.pack="Golden",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){e!=this&&(!this.alive||(i||this.abilityCounter++,this.abilityCounter%2==0&&(this.abilityService.setCounterEvent({callback:()=>{this.parent.gainTrumpets(3*this.level,this)},priority:this.attack,pet:this}),super.superFriendFaints(t,e,i))))}}class lT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sealion",this.tier=4,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class cT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vaquita",this.tier=4,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=Math.max(Math.floor(.5*this.level*this.parent.trumpets),4*this.level);this.parent.gainTrumpets(s,this,i)}}class U_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smallest Slug",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class G_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smaller Slug",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=new U_(this.logService,this.abilityService,this.parent,null,null,0,this.minExpForLevel),r=this.parent.summonPet(s,this.savedPosition,!1,this);r.success&&(this.logService.createLog({message:`${this.name} spawned Smallest Slug Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s)),super.superFaint(t,e)}}class uT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Slug",this.tier=4,this.pack="Golden",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=new G_(this.logService,this.abilityService,this.parent,null,null,0,this.minExpForLevel),r=this.parent.summonPet(s,this.savedPosition,!1,this);r.success&&(this.logService.createLog({message:`${this.name} spawned Smaller Slug Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s)),super.superAfterFaint(t,e,i)}}class hT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Poison Dart Frog",this.tier=4,this.pack="Golden",this.attack=5,this.health=2,this.initPet(o,s,r,a,l)}friendAheadFaints(t,e,i){let s=this.parent.opponent.getHighestHealthPet(void 0,this),r=s.pet;null!=r&&this.snipePet(r,4*this.level,s.random,i)}}class dT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Secretary Bird",this.tier=4,this.pack="Golden",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){if(!this.alive||(i||this.abilityUses++,this.abilityUses%2==1))return;let s=this.parent.nearestPetsAhead(1,this);if(0===s.pets.length)return;let r=s.pets[0],a=3*this.level,o=4*this.level;r.increaseAttack(a),r.increaseHealth(o),this.logService.createLog({message:`${this.name} gave ${r.name} ${a} attack and ${o} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.superFriendFaints(t,e,i)}}class fT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Royal Flycatcher",this.tier=3,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}enemyFaints(t,e,i){i||this.abilityCounter++,this.abilityCounter%3==0&&(this.abilityService.setCounterEvent({callback:()=>{let s=3*this.level,r=this.parent.opponent.getRandomPet([],null,!0,null,this),a=r.pet;null!=a&&this.snipePet(a,s,r.random,i)},priority:this.attack,pet:this}),this.superEnemyFaints(t,e,i))}}class pT extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Falcon",this.tier=4,this.pack="Golden",this.attack=5,this.health=5,this.maxAbilityUses=3,this.initPet(l,r,a,o,h)}knockOut(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=3*this.level,r=this.petService.createPet({attack:s,health:s,name:e.name,exp:this.minExpForLevel,equipment:null,mana:0},this.parent),a=this.parent.summonPet(r,this.savedPosition,!1,this);a.success&&(this.logService.createLog({message:`${this.name} spawned ${r.name} ${s}/${s} Level ${this.level}`,type:"ability",player:this.parent,tiger:i,randomEvent:a.randomEvent}),this.abilityService.triggerFriendSummonedEvents(r)),this.abilityUses++,super.superKnockOut(t,e,i)}}class gT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manta Ray",this.tier=4,this.pack="Golden",this.attack=5,this.health=7,this.initPet(o,s,r,a,l)}}class mT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Macaque",this.tier=5,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=12*this.level,s=new $_(this.logService,this.abilityService,this.parent,i,i,0,this.minExpForLevel,this.equipment),r=this.parent.summonPetInFront(this,s);if(r.success){this.abilityService.triggerFriendSummonedEvents(s);let a=`${this.name} spawned Orangutang ${s.attack}/${s.health}`;null!=this.equipment&&(a+=` with ${this.equipment.name}`),a+=".",this.logService.createLog({message:a,type:"ability",player:this.parent,tiger:e,randomEvent:r.randomEvent})}this.superStartOfBattle(t,e)}}class vT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nyala",this.tier=5,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){this.parent.gainTrumpets(8*this.level,this,i),this.superFaint(t,e)}}class yT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nurse Shark",this.tier=5,this.pack="Golden",this.attack=5,this.health=7,this.initPet(o,s,r,a,l)}faint(t,e,i){if(0==this.parent.trumpets)return;let s=3*Math.min(this.parent.trumpets,6),r=this.parent.opponent.getRandomPets(2,[],!1,!0,this),a=r.pets;if(0!=a.length){this.parent.spendTrumpets(Math.min(this.parent.trumpets,6),this,i);for(let o of a)this.snipePet(o,s,r.random,e,i);this.superFaint(t,e)}}}class _T extends _{constructor(t,e,i,s,r,a,o,l,h,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Beluga Whale",this.tier=5,this.pack="Golden",this.attack=3,this.health=8,this.initPet(l,r,a,o,h),this.belugaSwallowedPet=d}afterFaint(t,e,i){if(null==this.belugaSwallowedPet)return;let s=this.petService.createPet({attack:null,equipment:null,exp:this.minExpForLevel,health:null,name:this.belugaSwallowedPet,mana:0},this.parent),r=this.parent.summonPet(s,this.savedPosition,!1,this);r.success&&(this.logService.createLog({message:`${this.name} spawned ${s.name} Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s)),super.superAfterFaint(t,e,i)}}class bT extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Wolf",this.tier=5,this.pack="Golden",this.attack=4,this.health=4,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let s={attack:3*this.level,health:2*this.level};for(let r=0;r<3;r++){let a=this.petService.createPet({attack:s.attack,equipment:null,exp:this.minExpForLevel,health:s.health,name:"Pig",mana:0},this.parent),o=this.parent.summonPet(a,this.savedPosition,!1,this);o.success&&(this.logService.createLog({message:`${this.name} spawned ${a.name} ${s.attack}/${s.health}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:o.randomEvent}),this.abilityService.triggerFriendSummonedEvents(a))}super.superAfterFaint(t,e,i)}}class ST extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Silver Fox",this.tier=5,this.pack="Custom",this.attack=3,this.health=6,this.initPet(o,s,r,a,l)}beforeAttack(t,e){this.logService.createLog({message:`${this.name} gained ${this.level} Gold.`,type:"ability",player:this.parent,tiger:e}),this.superBeforeAttack(t,e)}}class wT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fire Ant",this.tier=5,this.pack="Golden",this.attack=8,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=(0,vt.shuffle)(this.parent.petArray.filter(r=>r!=this));s.sort((r,a)=>a.tier-r.tier);for(let r=0;r<this.level;r++){let a=s[r];if(null==a)break;a.increaseAttack(this.attack),this.logService.createLog({message:`${this.name} gave ${a.name} ${this.attack} attack.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i})}super.superFaint(t,e)}}class ET extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockatoo",this.tier=4,this.pack="Golden",this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}}class kT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blue Ringed Octopus",this.tier=5,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class CT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crane",this.tier=5,this.pack="Golden",this.attack=6,this.health=5,this.initPet(o,s,r,a,l)}friendHurt(t,e,i){if(e!=this.petAhead||this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.nearestPetsAhead(1,this);if(0==s.pets.length)return;let r=s.pets[0];r.increaseAttack(5),this.logService.createLog({message:`${this.name} gave ${r.name} 5 attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random});let a=this.parent.nearestPetsAhead(1,this);if(0==a.pets.length)return;let o=a.pets[0];o.givePetEquipment(new qa),this.logService.createLog({message:`${this.name} gave ${o.name} Melon.`,type:"ability",player:this.parent,tiger:i,randomEvent:a.random}),this.abilityUses++,this.superFriendHurt(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class AT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Emu",this.tier=5,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;let i=this.parent.nearestPetsAhead(1,this);if(0==i.pets.length)return;let s=i.pets[0],r=4*this.level;s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random});let a=this.parent.nearestPetsAhead(1,this);if(0===a.pets.length)return;let o=a.pets[0];this.parent.pushPet(o,4),this.logService.createLog({message:`${this.name} pushed ${o.name} to the front.`,type:"ability",player:this.parent,tiger:e,randomEvent:a.random})}}class PT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wildebeast",this.tier=6,this.pack="Golden",this.attack=8,this.health=6,this.initPet(o,s,r,a,l)}beforeAttack(t,e){if(this.parent.trumpets<2||this.abilityUses>=this.maxAbilityUses)return;let i=this.parent.getThis(this),s=i.pet;null!=s&&(s.givePetEquipment(new Uo),this.logService.createLog({message:`${this.name} gave itself a Coconut.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),this.parent.spendTrumpets(2,this),this.abilityUses++)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class DT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Highland Cow",this.tier=6,this.pack="Golden",this.attack=4,this.health=12,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=Math.floor(this.health/3*this.level);this.parent.gainTrumpets(i,this)}}class TT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Catfish",this.tier=6,this.pack="Golden",this.attack=4,this.health=6,this.initPet(o,s,r,a,l)}}class xT extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Pteranodon",this.tier=6,this.pack="Golden",this.attack=3,this.health=5,this.initPet(l,r,a,o,h)}friendFaints(t,e,i){if(!this.alive||this.abilityUses>=this.maxAbilityUses||e.name==this.name)return;let s=this.petService.createPet({attack:1,health:1,equipment:null,exp:e.exp,name:e.name,mana:0},this.parent),r=this.parent.summonPetBehind(this,s);r.success&&(this.logService.createLog({message:`${this.name} summoned a 1/1 ${e.name} behind it.`,type:"ability",player:this.parent,randomEvent:r.randomEvent,tiger:i}),this.abilityService.triggerFriendSummonedEvents(s)),this.abilityUses++,this.superFriendFaints(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class MT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Warthog",this.tier=6,this.pack="Golden",this.attack=9,this.health=6,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.level,r=Math.floor(this.attack/3);for(let a=0;a<r;a++){let o=this.parent.getRandomPet([],!0,!1,!0,this);if(null==o.pet)break;o.pet.increaseAttack(s),o.pet.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${o.pet.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:o.random})}}}class RT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cobra",this.tier=6,this.pack="Golden",this.attack=12,this.health=6,this.initPet(o,s,r,a,l)}friendAheadAttacks(t,e,i){let s=this.parent.opponent.getRandomPet([],!1,!0,!1,this);if(null==s.pet)return;let r=Math.floor(.2*this.attack*this.level);this.snipePet(s.pet,r,s.random,i)}}class IT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Grizzly Bear",this.tier=6,this.pack="Golden",this.attack=6,this.health=8,this.initPet(o,s,r,a,l)}friendAttacks(t,e,i){i||this.abilityCounter++,this.abilityCounter%5==0&&(this.abilityService.setCounterEvent({callback:()=>{let s=this.parent.opponent.getRandomPets(2,[],!0,!1,this),r=s.pets,a=6*this.level;for(let o of r)this.snipePet(o,a,s.random,i)},priority:this.attack,pet:this}),this.superFriendAttacks(t,e,i))}}class OT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="German Shepherd",this.tier=6,this.pack="Golden",this.attack=10,this.health=6,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){let s=Math.floor(this.attack*this.level*.25),r=this.parent.getSpecificPet(this,e),a=r.pet;null!=a&&(a.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}))}}class NT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bird of Paradise",this.tier=6,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class LT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Oyster",this.tier=6,this.pack="Golden",this.attack=2,this.health=10,this.initPet(o,s,r,a,l)}}class BT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rockhopper Penguin",this.tier=6,this.pack="Golden",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}emptyFrontSpace(t,e){if(this.abilityUses>=this.maxAbilityUses||null!=this.parent.pet0)return;let i=this.parent.getThis(this),s=i.pet;null!=s&&(this.logService.createLog({message:`${this.name} jumps to the front!`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),this.parent.pushPetToFront(s,!0),this.parent.gainTrumpets(12*this.level,this),this.abilityUses++,this.superEmptyFrontSpace(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=1}}class $T extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Marmoset",this.tier=1,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class VT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jerboa",this.tier=4,this.pack="Custom",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}}class FT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frilled Dragon",this.tier=1,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=0;for(let s of this.parent.petArray)s!==this&&null!=s.faint&&i++;i*=this.level,this.increaseAttack(i),this.increaseHealth(i),this.logService.createLog({message:`${this.name} gained ${i} attack and ${i} health.`,type:"ability",player:this.parent,tiger:e})}}class HT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wombat",this.tier=2,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=Bt(t,this.parent),s=[],r=0;for(let o of i.petArray)null!=o.faint&&(o.tier>r?(s=[o],r=o.tier):o.tier==r&&s.push(o));if(0==s.length)return;let a=s[Math.floor(Math.random()*s.length)];this.faint=a.faint.bind(this),this.logService.createLog({message:`${this.name} has copied ${a.name}'s faint ability as level ${this.level}.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.length>1}),this.superStartOfBattle(t,e)}}class qT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frigatebird",this.tier=2,this.pack="Custom",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}friendGainedAilment(t,e){if(this.abilityUses>=this.level||e==this)return;let i=e.equipment;e.givePetEquipment(new DA),this.abilityUses++,this.logService.createLog({message:`${this.name} removed ${i.name} from ${e.name} and gave ${e.name} Rice.`,type:"ability",player:this.parent})}resetPet(){super.resetPet()}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class UT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Aardvark",this.tier=3,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}enemySummoned(t,e,i){let s=2*this.level;this.increaseAttack(s),this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i})}}class GT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bear",this.tier=3,this.pack="Golden",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){const s=this.level,r=this.savedPosition,a=[];for(const o of this.parent.petArray)if(o.alive){const l=Math.abs(o.position-r);l>0&&l<=s&&a.push(o)}for(const o of this.parent.opponent.petArray)o.alive&&r+o.position+1<=s&&a.push(o);for(let o of a)o.givePetEquipment(new mA(this.logService,this.abilityService)),this.logService.createLog({message:`${this.name} gave ${o.name} Honey.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});this.superFaint(t,e)}}class jT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Emperor Tamarin",this.tier=3,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class WT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Porcupine",this.tier=3,this.pack="Custom",this.attack=2,this.health=6,this.initPet(o,s,r,a,l)}hurt(t,e,i){null==e||!e.alive||this.snipePet(e,3*this.level)}}class zT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wasp",this.tier=3,this.pack="Custom",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}}class KT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dragonfly",this.tier=4,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}}class QT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lynx",this.tier=4,this.pack="Custom",this.attack=5,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i;i=t.player==this.parent?t.opponet:t.player;let s=0;for(let a of this.parent.petArray)s+=a.level;let r=i.getRandomPets(this.level,null,null,!0,this);for(let a of r.pets)null!=a&&this.snipePet(a,s,r.random,e);super.superStartOfBattle(t,e)}}class YT extends _{constructor(t,e,i,s,r,a,o,l,h,d){super(t,e,r),this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s,this.name="Seagull",this.tier=4,this.pack="Custom",this.attack=4,this.health=3,this.initPet(h,a,o,l,d)}friendSummoned(t,e,i){this.abilityUses>=this.maxAbilityUses||null!=this.equipment&&(e.givePetEquipment(qo.getInjector().get(Ci).getInstanceOfAllEquipment().get(this.equipment.name)),this.logService.createLog({message:`${this.name} gave ${e.name} a ${this.equipment.name}`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendSummoned(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class qp extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Alpaca",this.tier=6,this.pack="Star",this.attack=3,this.health=7,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){if(e instanceof qp||this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.getSpecificPet(this,e),r=s.pet;null!=r&&(r.increaseExp(3),this.logService.createLog({message:`${this.name} gave ${r.name} 3 exp.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.abilityUses++,this.superFriendSummoned(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class JT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hyena",this.tier=5,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){switch(this.level){case 1:this.level1Ability(t,e);break;case 2:this.level2Ability(t,e);break;case 3:this.level3Ability(t,e)}}level1Ability(t,e){let i=this.parent.getAll(!0,this);for(let s of i.pets){let r=s.health;s.health=s.attack,s.attack=r}this.logService.createLog({message:`${this.name} swapped all pets attack and health.`,type:"ability",player:this.parent,tiger:e})}level2Ability(t,e){this.shufflePets(t.player),this.shufflePets(t.opponet),this.logService.createLog({message:`${this.name} shuffled positions of all pets.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0})}level3Ability(t,e){this.level1Ability(t,e),this.level2Ability(t,e)}shufflePets(t){let e=t.petArray;v3(e);for(let i=0;i<e.length;i++)t[`pet${i}`]=e[i]}}class ZT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Moose",this.tier=5,this.pack="Custom",this.attack=5,this.health=6,this.initPet(o,s,r,a,l)}}class XT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lioness",this.tier=6,this.pack="Custom",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}}class e1 extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Tapir",this.tier=6,this.pack="Custom",this.attack=4,this.health=3,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let s=this.parent.petArray.filter(h=>"Tapir"==h.name),r=this.parent.getRandomPet(s,!0,!1,!1,this);if(null==r.pet)return void super.superAfterFaint(t,e,i);let a=(0,vt.clone)(r.pet);a.exp=this.minExpForLevel;let o=this.petService.createDefaultVersionOfPet(a);this.parent.summonPet(o,this.savedPosition,!1,this).success&&(this.logService.createLog({message:`${this.name} spawned a ${o.name} level ${o.level}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0}),this.abilityService.triggerFriendSummonedEvents(o)),super.superAfterFaint(t,e,i)}}class t1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Walrus",this.tier=6,this.pack="Custom",this.attack=7,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.getRandomPets(this.level,null,!0,!1,this);for(let r of s.pets)null!=r&&(r.givePetEquipment(new hC),this.logService.createLog({message:`${this.name} gave ${r.name} a Peanut Butter.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random}))}}class i1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="White Tiger",this.tier=6,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.nearestPetsBehind(this.level,this);for(let s of i.pets)this.logService.createLog({message:`${this.name} gave ${s.name} +3 experience.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),s.increaseExp(3);this.superStartOfBattle(t,e)}}class n1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Amargasaurus",this.tier=5,this.pack="Star",this.attack=5,this.health=7,this.healthRestoredThisTurn=0,this.initPet(o,s,r,a,l)}friendHurt(t,e,i){let s;if(e.transformed?(s=e.transformedInto,s.originalHealth=e.originalHealth):s=e,!s||!s.alive||s===this)return;const r=15*this.level,a=s.originalHealth-s.health;if(a<=0||this.healthRestoredThisTurn>=r)return;const l=Math.min(a,r-this.healthRestoredThisTurn);if(l>0){let d=this.parent.getSpecificPet(this,s).pet;if(null==d)return;this.logService.createLog({message:`${this.name} restored ${l} health to ${d.name}.`,type:"ability",player:this.parent,tiger:i}),d.increaseHealth(l),this.healthRestoredThisTurn+=l}this.superFriendHurt(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.healthRestoredThisTurn=0}}class s1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Opossum",this.tier=1,this.pack="Golden",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class r1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kiwi",this.tier=1,this.pack="Star",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}hurt(t,e,i){let s=this.parent.petArray.filter(l=>{var h;return"Strawberry"!=(null===(h=l.equipment)||void 0===h?void 0:h.name)||l==this}),r=this.parent.getLastPet(s,this),a=r.pet;if(null==a)return;let o=this.level;a.increaseAttack(o),this.logService.createLog({message:`${this.name} gave ${a.name} +${o} attack`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),this.superHurt(t,e,i)}}class a1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Firefly",this.tier=1,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.getPetsWithinXSpaces(this,this.level),r=s.pets;if(0!=r.length){for(const a of r)this.snipePet(a,1,s.random,e,i);this.superFaint(t,e)}}}class o1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bass",this.tier=2,this.pack="Star",this.attack=3,this.health=3,this.sellPets=["Beaver","Duck","Pig","Pillbug","Kiwi","Mouse","Frog","Bass","Tooth Billed Pigeon"],this.initPet(o,s,r,a,l)}faint(t,e,i){const s=this.parent.petArray.filter(l=>l==this&&!this.sellPets.includes(l.name)&&l.level<2);let r=this.parent.getRandomPet(s,!0,null,null,this);const a=r.pet;if(null==a)return;const o=this.level;this.logService.createLog({message:`${this.name} gave ${a.name} +${o} experience.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.random}),a.increaseExp(o),this.superFaint(t,e)}}class l1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pigeon",this.tier=1,this.pack="Turtle",this.attack=3,this.health=1,this.initPet(o,s,r,a,l)}}class c1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hare",this.tier=3,this.pack="Puppy",this.health=4,this.attack=4,this.initPet(o,s,r,a,l)}beforeAttack(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=this.parent.opponent.petArray,s=[];for(let h of i)h.equipment&&qo.getInjector().get(Ci).isUsefulPerk(h.equipment.name)&&s.push(h);if(0==s.length)return;let r=s[Math.floor(Math.random()*s.length)],a=r.equipment,l=this.parent.getThis(this).pet;null!=l&&(this.givePetEquipment(a),this.logService.createLog({message:`${this.name} copied ${a.name} to ${l.name} from ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.length>0}),this.abilityUses++,this.superBeforeAttack(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class u1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Baku",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}}class h1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="???",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}endTurn(t){let e=this.parent.nearestPetsAhead(1,this);if(0===e.pets.length)return;const i=e.pets[0],s=this.level;this.logService.createLog({message:`${this.name} gave ${i.name} +${s} attack and Spooked.`,type:"ability",player:this.parent,randomEvent:e.random}),i.increaseAttack(s),i.givePetEquipment(new Fp)}}class d1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Axehandle Hound",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=1,this.initPet(o,s,r,a,l)}beforeAttack(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=this.parent.opponent.petArray,s=new Set,r=!1;for(let l of i){if(s.has(l.name)){r=!0;break}s.add(l.name)}if(0==r)return;let o=this.parent.opponent.getAll(!1,this).pets;if(0!=o.length){for(let l of o)this.snipePet(l,2*this.level,!0,e);this.abilityUses++,this.superStartOfBattle(t,e)}}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=1}}class f1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Barghest",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s=this.parent.opponent.getLastPets(this.level,"perk-less",this).pets;if(0!=s.length){for(let r of s)this.logService.createLog({message:`${this.name} gave ${r.name} Spooked`,type:"ability",player:this.parent,tiger:e}),r.givePetEquipment(new Fp);this.superStartOfBattle(t,e)}}}class p1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tsuchinoko",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s=this.parent.getThis(this).pet;if(null==s)return;this.parent.pushPetToFront(s,!0),this.logService.createLog({message:`${this.name} pushed ${s.name} to the front and gained ${this.level} experience.`,type:"ability",player:this.parent,tiger:e});let a=this.parent.getThis(this).pet;null!=a&&(a.increaseExp(this.level),this.logService.createLog({message:`${this.name} gave ${a.name} +${this.level} experience.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e))}}class g1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Murmel",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}friendGainedExperience(t,e,i){if(e.parent!=this.parent)return;let s={attack:this.level,health:0},a=this.parent.getThis(this).pet;null!=a&&(this.logService.createLog({message:`${this.name} gave ${a.name} ${s.attack} attack.`,type:"ability",player:this.parent,tiger:i}),a.increaseAttack(s.attack),this.superFriendGainedExperience(t,e,i))}}class m1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Alchemedes",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.nearestPetsAhead(1,this);if(0===i.pets.length)return void this.superStartOfBattle(t,e);let s=i.pets[0];this.logService.createLog({message:`${this.name} gave ${s.name} ${this.level} mana.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),s.increaseMana(this.level),this.superStartOfBattle(t,e)}}class v1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pengobble",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}gainedMana(t,e){if(this.abilityUses>=this.maxAbilityUses)return;const i=2*this.level;let s=this.parent.getThis(this),r=s.pet;null!=r&&(this.logService.createLog({message:`${this.name} gave ${r.name} an extra ${i} bonus mana.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),this.mana+=i,this.abilityUses++,this.superGainedMana(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class y1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Warf",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}gainedMana(t,e){let i=this.parent.opponent.getRandomPet([],!1,!0,!1,this);null!=i.pet&&(this.snipePet(i.pet,this.level,i.random,e),this.superGainedMana(t,e))}}class _1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bunyip",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s;s=this.parent==t.player?t.playerRollAmount:t.opponentRollAmount,s=Math.min(2*this.level,s);let a=this.parent.getThis(this).pet;null!=a&&(a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} health.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e))}}class j_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="CrackedEgg",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}}class b1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sneaky Egg",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i={attack:4*this.level,health:2*this.level};this.health=0;let s=new j_(this.logService,this.abilityService,this.parent,i.health,i.attack,0),r=this.parent.summonPet(s,this.savedPosition,!1,this);r.success&&(this.logService.createLog({message:`${this.name} spawned a ${i.attack}/${i.health} Cracked Egg`,type:"ability",player:this.parent,tiger:e,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s)),this.superStartOfBattle(t,e)}}class S1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cuddle Toad",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class w1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ghost Kitten",this.tier=2,this.pack="Unicorn",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}}class E1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frost Wolf",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.opponent.getFurthestUpPet(this),r=s.pet;if(null==r)return;const a=new RA;a.multiplier+=this.level-1;let o=".";2===this.level?o=" twice for double effect.":3===this.level&&(o=" thrice for triple effect."),this.logService.createLog({message:`${this.name} made ${r.name} Cold ${o}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random}),r.givePetEquipment(a),this.superFaint(t,e)}}class k1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mothman",this.tier=2,this.pack="Unicorn",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}onAilmentGained(t,e){if(this.abilityUses>=this.maxAbilityUses)return;const i=this.level;this.logService.createLog({message:`${this.name} gained +${i} attack and +${i} health because ${t.name} gained an ailment.`,type:"ability",player:this.parent,tiger:e}),this.increaseAttack(i),this.increaseHealth(i),this.abilityUses++}friendGainedAilment(t,e){this.onAilmentGained(e,!1)}enemyGainedAilment(t,e,i){this.onAilmentGained(e,i),this.superEnemyGainedAilment(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=5}}class C1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Drop Bear",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;this.logService.createLog({message:`${this.name} pushed itself to the front.`,type:"ability",player:this.parent,tiger:e}),this.parent.pushPetToFront(this,!0);let i=3*this.level,s=this.parent.opponent.getLastPet();null!=s.pet&&this.snipePet(s.pet,i,s.random,e)}}class A1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jackalope",this.tier=2,this.pack="Unicorn",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}friendJumped(t,e,i){let s=this.parent.opponent.getRandomPet([],!1,!0,!1,this);null!=s.pet&&(this.snipePet(s.pet,2*this.level,s.random,i),this.superFriendJumped(t,e,i))}}class P1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lucky Cat",this.tier=3,this.pack="Unicorn",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}anyoneLevelUp(t,e,i){if(e!=this)return;let s=2;3==this.level&&(s=4),this.logService.createLog({message:`${this.name} gained ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.increaseAttack(s),this.increaseHealth(s),this.superAnyoneLevelUp(t,e,i)}}class D1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ogopogo",this.tier=2,this.pack="Unicorn",this.attack=3,this.health=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){const i=this.parent.getFurthestUpPets(this.level,null,this,null,[this]),s=i.pets;if(0!==s.length){for(const r of s)this.logService.createLog({message:`${this.name} gave ${r.name} +1 experience.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),r.increaseExp(1);this.superStartOfBattle(t,e)}else this.superStartOfBattle(t,e)}}class T1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Thunderbird",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.nearestPetsAhead(2,this);if(i.pets.length<2)return;let r=i.pets[1];if(null==r)return;let a=3*this.level;this.logService.createLog({message:`${this.name} gave ${r.name} ${a} mana.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),r.increaseMana(a),this.superStartOfBattle(t,e)}}class x1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gargoyle",this.tier=2,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.mana*this.level;s+=2*this.level;let r=this.parent.nearestPetsBehind(1,this);if(0===r.pets.length)return void this.superFaint(t,e);let a=r.pets[0];this.logService.createLog({message:`${this.name} spent ${this.mana} mana and gave ${s} health to ${a.name}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.random}),a.increaseHealth(s),this.mana=0,this.superFaint(t,e)}}class M1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bigfoot",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){}}class R1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Skeleton Dog",this.tier=3,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.getRandomPets(this.level,[this],!0,!1,this);for(let r of s.pets)null!=r&&(this.logService.createLog({message:`${this.name} gave 1 attack and 1 health to ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),r.increaseAttack(1),r.increaseHealth(1));this.superFaint(t,e)}}class I1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mandrake",this.tier=3,this.pack="Unicorn",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s=this.parent.opponent.getTierXOrLowerPet(2*this.level,"Dazed",this).pet;null!=s&&(this.logService.createLog({message:`${this.name} made ${s.name} Dazed.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),s.givePetEquipment(new f_),this.superFaint(t,e))}}class O1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fur-Bearing Trout",this.tier=3,this.pack="Unicorn",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=[],r=this;for(;s.length<this.level;){let a=r.petBehind();if(null==a)break;a.equipment instanceof MA||s.push(a),r=a}if(0!==s.length){for(let a of s)this.logService.createLog({message:`${this.name} gave ${a.name} a Rambutan.`,type:"ability",player:this.parent,tiger:e}),a.givePetEquipment(new MA(this.logService));this.superFaint(t,e)}}}class N1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mana Hound",this.tier=3,this.pack="Unicorn",this.attack=5,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s;s=this.parent==t.player?t.playerRollAmount:t.opponentRollAmount,s=Math.min(s,5);let r=this.parent.nearestPetsAhead(1,this);if(0===r.pets.length)return;let a=r.pets[0],o=s*this.level;this.logService.createLog({message:`${this.name} gave ${a.name} ${o} mana.`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random}),a.increaseMana(o),this.superStartOfBattle(t,e)}}class L1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Calygreyhound",this.tier=3,this.pack="Unicorn",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){if(0==this.mana)return;let s=this.parent.opponent.getHighestHealthPets(2,void 0,this),r=this.level*this.mana;for(let a of s.pets)a.health=Math.max(1,a.health-r),this.logService.createLog({message:`${this.name} reduced ${a.name}'s health by ${r} (${a.health}).`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random});this.mana=0,this.superFaint(t,e)}}class B1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Brain Cramp",this.tier=3,this.pack="Unicorn",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;let i=2*this.level;this.logService.createLog({message:`${this.name} pushed itself to the front, gained ${i} attack and gained Melon.`,type:"ability",player:this.parent,tiger:e}),this.parent.pushPetToFront(this,!0),this.increaseAttack(i),this.givePetEquipment(new qa)}}class $1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Minotaur",this.tier=4,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}friendAheadAttacks(t,e,i){let s=this.level*e.level,r=this.parent.getThis(this),a=r.pet;null!=a&&(this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),a.increaseAttack(s),a.increaseHealth(s),this.superFriendAheadAttacks(t,e,i))}}class V1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wyvern",this.tier=3,this.pack="Unicorn",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}}class F1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ouroboros",this.tier=3,this.pack="Unicorn",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class H1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Griffin",this.tier=3,this.pack="Unicorn",this.attack=5,this.health=4,this.initPet(o,s,r,a,l)}}class q1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kraken",this.tier=4,this.pack="Unicorn",this.attack=4,this.health=7,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.getAll(!0,this,!0),s=i.pets;if(0!=s.length){for(let r of s){let a=1==this.level?.15:2==this.level?.3:.45,o=Math.max(1,Math.floor(r.health*(1-a)));r.health=o,this.logService.createLog({message:`${this.name} reduced ${r.name} health by ${(100*a).toFixed(0)}% (${o})`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random})}this.superStartOfBattle(t,e)}}}class U1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Visitor",this.tier=4,this.pack="Unicorn",this.attack=7,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){let r=this.parent.getPetsWithinXSpaces(this,this.level).pets;if(0!=r.length){for(let a of r)a.givePetEquipment(new Lp),this.logService.createLog({message:`${this.name} made ${a.name} Exposed.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});this.superFaint(t,e)}}}class G1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vampire Bat",this.tier=5,this.pack="Unicorn",this.attack=2,this.health=5,this.maxAbilityUses=2,this.abilityUses=0,this.initPet(o,s,r,a,l)}enemyGainedAilment(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=4*this.level,a=this.parent.getSpecificPet(this,e).pet;if(null==a)return;let o=a.health,l=this.snipePet(a,s,!1,i),h=Math.min(l,o),d=this.parent.getSpecificPet(this,e),m=d.pet;null!=m&&(this.logService.createLog({message:`${this.name} gave ${m.name} ${h} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:d.random}),m.increaseHealth(h),this.abilityUses++,this.superEnemyGainedAilment(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class j1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tiger Bug",this.tier=4,this.pack="Unicorn",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;this.logService.createLog({message:`${this.name} pushed itself to the front.`,type:"ability",player:this.parent,tiger:e}),this.parent.pushPetToFront(this,!0);let i=this.parent.opponent.getFurthestUpPet(this),s=i.pet,r=[],a=i.random;s&&r.push(s);let o=null;o=a?this.parent.opponent.getFurthestUpPet(this).pet:null==s?void 0:s.petBehind(),o&&r.push(o);let l=3*this.level;for(let h of r)null!=h&&this.snipePet(h,l,a,e)}}class W1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tatzelwurm",this.tier=4,this.pack="Unicorn",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}friendAheadFaints(t,e,i){let s=2*this.level;3==e.level&&(s*=2);let r=this.parent.opponent.getFurthestUpPet(this);null!=r.pet&&(this.snipePet(r.pet,s,r.random,i),this.superFriendAheadFaints(t,e,i))}}class z1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cyclops",this.tier=4,this.pack="Unicorn",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}anyoneLevelUp(t,e,i){if(e.parent!=this.parent||e==this)return;let s=2*this.level,r=this.parent.getSpecificPet(this,e),a=r.pet;if(null==a||(this.logService.createLog({message:`${this.name} gave ${a.name} ${s} mana.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),a.increaseMana(s),this.abilityUses>=this.maxAbilityUses))return;let o=this.parent.getSpecificPet(this,e);this.logService.createLog({message:`${this.name} gave ${o.pet.name} 1 exp.`,type:"ability",player:this.parent,tiger:i,randomEvent:o.random}),e.increaseExp(1),this.abilityUses++,this.superAnyoneLevelUp(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class W_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chim-Goat",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class z_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chim-Lion",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class K_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chim-Snake",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class K1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chimera",this.tier=4,this.pack="Unicorn",this.attack=2,this.health=6,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){if(this.mana<=0)return void super.superAfterFaint(t,e,i);const s=Math.floor(this.mana/2),o=3+1*s,l=3+2*s;this.logService.createLog({message:`${this.name} spent ${this.mana} mana.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});let h=new z_(this.logService,this.abilityService,this.parent,l,o),d=this.parent.summonPet(h,this.savedPosition,!1,this);if(d.success&&(this.logService.createLog({message:`${this.name} spawned a ${h.name} ${o}/${l}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:d.randomEvent}),this.abilityService.triggerFriendSummonedEvents(h)),1==this.level)return this.mana=0,void super.superAfterFaint(t,e,i);let m=new W_(this.logService,this.abilityService,this.parent,l,o),y=this.parent.summonPet(m,this.savedPosition,!1,this);if(y.success&&(this.logService.createLog({message:`${this.name} spawned a ${m.name} ${o}/${l}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:y.randomEvent}),this.abilityService.triggerFriendSummonedEvents(m)),2==this.level)return this.mana=0,void super.superAfterFaint(t,e,i);let S=new K_(this.logService,this.abilityService,this.parent,l,o),k=this.parent.summonPet(S,this.savedPosition,!1,this);k.success&&(this.logService.createLog({message:`${this.name} spawned a ${S.name} ${o}/${l}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:k.randomEvent}),this.abilityService.triggerFriendSummonedEvents(S)),this.mana=0,super.superAfterFaint(t,e,i)}}class Q1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Roc",this.tier=4,this.pack="Unicorn",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.getPetsAhead(5);if(0==i.length)return;let s=this.parent.petArray.filter(r=>r==this||!i.includes(r));for(let r=0;r<3*this.level;r++){let a=this.parent.getRandomPet(s,!0,!1,!1,this);if(null==a.pet)break;this.logService.createLog({message:`${this.name} gave ${a.pet.name} 2 mana.`,type:"ability",player:this.parent,tiger:e,randomEvent:a.random}),a.pet.increaseMana(2)}this.superStartOfBattle(t,e)}}class Y1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Worm of Sand",this.tier=4,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}}class J1 extends _{constructor(t,e,i,s,r,a,o,l,h,d,m,y){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Abomination",this.tier=4,this.pack="Unicorn",this.attack=6,this.health=5,this.initPet(l,r,a,o,h),this.abominationSwallowedPet1=d,this.abominationSwallowedPet2=m,this.abominationSwallowedPet3=y}endTurn(t){let e=[],i=!1,s=!1,r=!1;const a=this.level;for(let o=0;o<a;o++)null==this.abominationSwallowedPet1||i?null==this.abominationSwallowedPet2||s?null!=this.abominationSwallowedPet3&&!r&&(e.push(this.abominationSwallowedPet3),r=!0):(e.push(this.abominationSwallowedPet2),s=!0):(e.push(this.abominationSwallowedPet1),i=!0);this.exp=0;for(let o of e){let l=this.petService.createPet({attack:null,health:null,mana:null,equipment:null,name:o,exp:0},this.parent);if(null==l)return;l.originalStartOfBattle&&(this.startOfBattle=l.originalStartOfBattle),l.originalHurt&&(this.hurt=l.originalHurt),l.originalFaint&&(this.faint=l.originalFaint),l.originalFriendSummoned&&(this.friendSummoned=l.originalFriendSummoned),l.originalFriendAheadAttacks&&(this.friendAheadAttacks=l.originalFriendAheadAttacks),l.originalFriendAheadFaints&&(this.friendAheadFaints=l.originalFriendAheadFaints),l.originalFriendFaints&&(this.friendFaints=l.originalFriendFaints),l.originalEnemyAttack&&(this.enemyAttack=l.originalEnemyAttack),l.originalEnemyFaints&&(this.enemyFaints=l.originalEnemyFaints),l.originalAfterAttack&&(this.afterAttack=l.originalAfterAttack),l.originalBeforeAttack&&(this.beforeAttack=l.originalBeforeAttack),l.originalBeforeStartOfBattle&&(this.beforeStartOfBattle=l.originalBeforeStartOfBattle),l.originalKnockOut&&(this.knockOut=l.originalKnockOut),l.originalSummoned&&(this.summoned=l.originalSummoned),l.originalFriendlyToyBroke&&(this.friendlyToyBroke=l.originalFriendlyToyBroke),l.originalFriendGainedAilment&&(this.friendGainedAilment=l.originalFriendGainedAilment),l.originalFriendHurt&&(this.friendHurt=l.originalFriendHurt),l.originalFriendTransformed&&(this.friendTransformed=l.originalFriendTransformed),l.originalEatsFood&&(this.eatsFood=l.originalEatsFood),l.originalFriendAteFood&&(this.friendAteFood=l.originalFriendAteFood),l.originalFriendLostPerk&&(this.friendLostPerk=l.originalFriendLostPerk),l.originalGainedPerk&&(this.gainedPerk=l.originalGainedPerk),l.originalFriendGainedPerk&&(this.friendGainedPerk=l.originalFriendGainedPerk),l.originalAnyoneLevelUp&&(this.anyoneLevelUp=l.originalAnyoneLevelUp),l.originalEnemySummoned&&(this.enemySummoned=l.originalEnemySummoned),l.originalEnemyPushed&&(this.enemyPushed=l.originalEnemyPushed),l.originalGainedMana&&(this.gainedMana=l.originalGainedMana),l.originalFriendJumped&&(this.friendJumped=l.originalFriendJumped),l.originalEnemyGainedAilment&&(this.enemyGainedAilment=l.originalEnemyGainedAilment),l.originalFriendGainsHealth&&(this.friendGainsHealth=l.originalFriendGainsHealth),l.originalEmptyFrontSpace&&(this.emptyFrontSpace=l.originalEmptyFrontSpace),l.originalEnemyHurt&&(this.enemyHurt=l.originalEnemyHurt),l.originalAfterFaint&&(this.afterFaint=l.originalAfterFaint),l.originalTransform&&(this.transform=l.originalTransform),l.originalAdjacentAttacked&&(this.adjacentAttacked=l.originalAdjacentAttacked),l.originalFriendAttacks&&(this.friendAttacks=l.originalFriendAttacks),l.originalBeforeFriendAttacks&&(this.beforeFriendAttacks=l.originalBeforeFriendAttacks),l.originalEnemyJumped&&(this.enemyJumped=l.originalEnemyJumped),l.originalFriendGainedExperience&&(this.friendGainedExperience=l.originalFriendGainedExperience),this.initAbilities(),this.logService.createLog({message:`${this.name} gained ${o}'s Ability.`,type:"ability",player:this.parent})}}}class Z1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Red Dragon",this.tier=5,this.pack="Unicorn",this.attack=4,this.health=8,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.opponent.getLastPets(this.level,"Crisp",this),s=i.pets;if(0!=s.length){for(let r of s)this.logService.createLog({message:`${this.name} gave ${r.name} Crisp.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),r.givePetEquipment(new fc);this.superStartOfBattle(t,e)}}}class X1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Unicorn",this.tier=4,this.pack="Unicorn",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}friendGainedAilment(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=2*this.level;this.logService.createLog({message:`${this.name} removed ailment from ${e.name}.`,type:"ability",player:this.parent}),e.removePerk();let s=this.parent.getSpecificPet(this,e),r=s.pet;null!=r&&(this.logService.createLog({message:`${this.name} gave ${r.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,randomEvent:s.random}),r.increaseAttack(i),r.increaseHealth(i),this.abilityUses++)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class ex extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Loveland Frogman",this.tier=5,this.pack="Unicorn",this.attack=1,this.health=5,this.initPet(o,s,r,a,l)}beforeFriendAttacks(t,e,i){let s={attack:1*this.level,health:2*this.level},r=this.parent.getSpecificPet(this,e),a=r.pet;null!=a&&(this.logService.createLog({message:`${this.name} gave ${a.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,randomEvent:r.random}),a.increaseAttack(s.attack),a.increaseHealth(s.health),this.superBeforeFriendAttacks(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class tx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Amalgamation",this.tier=5,this.pack="Unicorn",this.attack=4,this.health=5,this.maxAbilityUses=2,this.abilityUses=0,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.getThis(e),r=s.pet;if(null==r)return;let a=3*this.level,o=4*this.level;this.logService.createLog({message:`${this.name} gave ${r.name} +${a} attack, +${o} mana, and Spooked.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),r.increaseAttack(a),r.increaseMana(o),r.givePetEquipment(new Fp),this.abilityUses++,this.superFriendSummoned(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class ix extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jersey Devil",this.tier=5,this.pack="Unicorn",this.attack=5,this.health=4,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){let r=this.parent===t.player?t.playerLevel3Sold:t.opponentLevel3Sold;r=Math.min(r,5);let a=this.level*r,o=this.parent.getThis(e),l=o.pet;null!=l&&(this.logService.createLog({message:`${this.name} gave ${l.name} ${a} attack and ${a} health`,type:"ability",player:this.parent,tiger:i,randomEvent:o.random}),l.increaseAttack(a),l.increaseHealth(a),this.superFriendSummoned(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class nx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pixiu",this.tier=5,this.pack="Unicorn",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){this.mana<4||(this.logService.createLog({message:`${this.name} spent 4 mana and gained ${3*this.level} gold for next turn.`,type:"ability",player:this.parent,tiger:e}),this.mana-=4,this.superFaint(t,e))}}class sx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kitsune",this.tier=5,this.pack="Unicorn",this.attack=2,this.health=7,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){if(null==this.petAhead)return;let s=this.parent.getSpecificPet(this,e);if(null==s.pet)return;let r=s.pet,a=r.mana;r.mana=0,this.logService.createLog({message:`${this.name} took ${a} mana from ${r.name}.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random});let o=this.parent.nearestPetsAhead(1,this);if(null==o.pets.length)return;let l=o.pets[0];this.logService.createLog({message:`${this.name} gave ${r.name} +${a+2*this.level} mana.`,type:"ability",player:this.parent,tiger:i,randomEvent:o.random}),l.increaseMana(a+2*this.level),this.superFriendFaints(t,e,i)}}class Q_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nessie?",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class rx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nessie",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let a=3*this.level,o=3*this.level,l="";if(!this.parent.summonedBoatThisBattle){const y=(this.parent===t.player?t.playerRollAmount:t.opponentRollAmount)*this.level;a+=y,o+=y,this.parent.summonedBoatThisBattle=!0,l=` It's the first Boat, so it gains +${y}/+${y}!`}a=Math.min(50,a),o=Math.min(50,o);let h=new Q_(this.logService,this.abilityService,this.parent,o,a,0),d=this.parent.summonPet(h,this.savedPosition,!1,this);d.success&&(this.logService.createLog({message:`${this.name} spawned a Nessie? ${a}/${o}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:d.randomEvent}),this.abilityService.triggerFriendSummonedEvents(h)),super.superAfterFaint(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class ax extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bad Dog",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class ox extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Werewolf",this.tier=5,this.pack="Unicorn",this.attack=6,this.health=6,this.initPet(o,s,r,a,l)}startOfBattle(t,e){if(t.day){const i=6*this.level;let r=this.parent.getThis(this).pet;if(null==r)return;r.increaseMana(i),this.logService.createLog({message:`${this.name} gave ${r.name} ${i} mana.`,type:"ability",player:this.parent,tiger:e})}else{let s=this.parent.getThis(this).pet;if(null==s)return;let r=.5*this.level;const a=Math.floor(this.attack*r),o=Math.floor(this.health*r);let l=Math.min(50,this.attack+a),h=Math.min(50,this.health+o);this.logService.createLog({message:`${this.name} increased ${s.name}'s stats by ${100*r}% (${l}/${h}).`,type:"ability",player:this.parent,tiger:e}),s.increaseAttack(this.attack*r),s.increaseHealth(this.health*r)}}}class lx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manticore",this.tier=6,this.pack="Unicorn",this.attack=7,this.health=4,this.initPet(o,s,r,a,l)}}class Y_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Young Phoenix",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=6,this.attack=6,this.initPet(o,s,r,a,l)}}class cx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Phoenix",this.tier=6,this.pack="Unicorn",this.attack=8,this.health=8,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=3*this.level,a=[...this.parent.petArray,...this.parent.opponent.petArray].filter(h=>h.equipment instanceof fc),o=this.parent.getRandomPets(s,a,!0,!0,this,!0),l=o.pets;if(l.length>0)for(let h of l)this.logService.createLog({message:`${this.name} gave ${h.name} Crisp.`,type:"ability",randomEvent:o.random,tiger:e,player:this.parent}),h.givePetEquipment(new fc);this.afterFaint=(h,d,m)=>{let y=4*this.level,S=new Y_(this.logService,this.abilityService,this.parent,y,y,0),k=this.parent.summonPet(S,this.savedPosition,!1,this);k.success&&(this.logService.createLog({message:`${this.name} spawned a Young Phoenix (${y}/${y}).`,type:"ability",player:this.parent,tiger:d,pteranodon:m,randomEvent:k.randomEvent}),this.abilityService.triggerFriendSummonedEvents(S)),this.superAfterFaint(h,d,m)},super.superFaint(t,e)}}class ux extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Quetzalcoatl",this.tier=6,this.pack="Unicorn",this.attack=2,this.health=8,this.initPet(o,s,r,a,l)}}class hx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Team Spirit",this.tier=6,this.pack="Unicorn",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}anyoneLevelUp(t,e,i){if(e.parent!=this.parent||e==this)return;let s=this.parent.getAll(!1,this,!0),r=s.pets,a={attack:this.level,health:this.level};for(let o of r)this.logService.createLog({message:`${this.name} gave ${o.name} ${a.attack} attack and ${a.health} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),o.increaseAttack(a.attack),o.increaseHealth(a.health)}}class dx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sleipnir",this.tier=6,this.pack="Unicorn",this.attack=8,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=Math.floor(this.attack/2),s=this.parent.getFurthestUpPets(this.level,null,this,null,[this]),r=s.pets;if(0!=r.length){for(let a of r)null!=a&&(this.logService.createLog({message:`${this.name} gave ${a.name} ${i} mana.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),a.increaseMana(i));this.superStartOfBattle(t,e)}}}class fx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Serpent",this.tier=6,this.pack="Unicorn",this.attack=6,this.health=6,this.initPet(o,s,r,a,l)}faint(t,e,i){if(0==this.mana)return;let s=this.mana;this.logService.createLog({message:`${this.name} spent ${this.mana} mana.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.mana=0;let a=this.parent.opponent.getHighestHealthPet(void 0,this);null!=a.pet&&this.snipePet(a.pet,s,a.random,e,i);let o=this.parent.opponent.getRandomPets(this.level,[a.pet],null,!0,this);for(let l of o.pets)null!=l&&this.snipePet(l,s,o.random,e,i);this.superFaint(t,e)}}class px extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Yeti",this.tier=6,this.pack="Unicorn",this.attack=5,this.health=9,this.initPet(o,s,r,a,l)}}class J_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fire Pup",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=8,this.attack=8,this.initPet(o,s,r,a,l)}}class gx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cerberus",this.tier=6,this.pack="Unicorn",this.attack=9,this.health=9,this.initPet(o,s,r,a,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0||this.abilityUses>=this.maxAbilityUses)return;let s=new J_(this.logService,this.abilityService,this.parent,null,null,5),r=this.parent.summonPet(s,0,!1,this);r.success&&(this.logService.createLog({message:`${this.name} spawned Fire Pup (8/8).`,type:"ability",player:this.parent,tiger:e,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s)),this.abilityUses++,super.superFaint(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class Z_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Head",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=5,this.attack=5,this.initPet(o,s,r,a,l)}}class mx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hydra",this.tier=6,this.pack="Unicorn",this.attack=10,this.health=6,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=Math.floor(this.attack/10);for(let r=0;r<s;r++){let a=5*this.level,o=new Z_(this.logService,this.abilityService,this.parent,a,a),l=this.parent.summonPet(o,this.savedPosition,!1,this);l.success&&(this.logService.createLog({message:`${this.name} spawned Head (${o.attack}/${o.health}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:l.randomEvent}),this.abilityService.triggerFriendSummonedEvents(o))}super.superAfterFaint(t,e,i)}}class vx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Behemoth",this.tier=6,this.pack="Unicorn",this.attack=12,this.health=12,this.initPet(o,s,r,a,l)}}class yx extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Iriomote Cat",this.tier=1,this.pack="Danger",this.attack=2,this.health=2,this.initPet(l,r,a,o,h)}beforeStartOfBattle(t,e){let s=this.parent.getThis(this).pet;if(!s||!s.alive)return;let r=this.petService.allPets.get(this.level),o=r[Rn(0,r.length-1)],l=this.petService.createPet({name:o,attack:s.attack,health:s.health,exp:s.exp,equipment:s.equipment,mana:s.mana},this.parent);this.logService.createLog({message:`${this.name} transformed ${s.name} into a ${o}.`,type:"ability",player:this.parent,randomEvent:!0}),this.parent.transformPet(s,l)}}class _x extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ili Pika",this.tier=1,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}friendTransformed(t,e,i){let s=this.parent.getSpecificPet(this,e),r=s.pet;if(!r)return;let a=1*this.level;r.attack>r.health?(r.increaseAttack(a),this.logService.createLog({message:`${this.name} give ${a} attack to ${r.name}.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random})):(r.increaseHealth(a),this.logService.createLog({message:`${this.name} give ${a} health to ${r.name}.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random})),this.superFriendTransformed(t,e,i)}}class bx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Malay Tapir",this.tier=1,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}adjacentAttacked(t,e,i){let s=this.parent.getThis(this),r=s.pet;if(!r)return;let a=1*this.level;r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} ${a} health`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.superAdjacentAttacked(t,e,i)}}class Sx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bombus Dahlbomii",this.tier=1,this.pack="Danger",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}enemyAttack(t,e,i){if(!(this.abilityUses>=this.maxAbilityUses)){if(i||this.abilityCounter++,this.abilityCounter%2!=0)return void this.superEnemyAttack(t,e,i);this.abilityService.setCounterEvent({callback:()=>{let s=this.parent.opponent.getFurthestUpPet(this),r=s.pet;r&&this.snipePet(r,1*this.level,s.random,i)},priority:this.attack,pet:this}),this.abilityUses++,this.superEnemyAttack(t,e,i)}}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class X_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ethiopian Wolf",this.tier=1,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.opponent.getFurthestUpPets(this.level,void 0,this);for(const r of s.pets)(null==r?void 0:r.alive)&&(r.increaseAttack(-1),this.logService.createLog({message:`${this.name} removed 1 attack from ${r.name}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random}));this.superFaint(t,e)}}class wx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fan Mussel",this.tier=1,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class Ex extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Togian Babirusa",this.tier=1,this.pack="Danger",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.opponent.getRandomPet([],!1,!1,!1,this);s.pet&&(s.pet.increaseAttack(1),s.pet.increaseHealth(1),this.logService.createLog({message:`${this.name} gave ${s.pet.name} +1 attack and +1 health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random})),this.superFaint(t,e)}}class kx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tooth Billed Pigeon",this.tier=1,this.pack="Danger",this.attack=3,this.health=1,this.initPet(o,s,r,a,l)}}class Cx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Volcano Snail",this.tier=1,this.pack="Danger",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e){let i=[...this.parent.opponent.petArray].filter(r=>null!=r.equipment),s=this.parent.opponent.getRandomPets(3,i,null,null,this);if(0!==s.pets.length){for(let r of s.pets){let a=new uC;r.givePetEquipment(a),this.logService.createLog({message:`${this.name} made ${r.name} Toasty`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random})}this.superFaint(t,e)}}}class Ax extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="African Wild Dog",this.tier=1,this.pack="Danger",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){var i;let r,s=this.parent.opponent.getFurthestUpPet(this);if(null!=s.pet){if(r=s.random?s.pet:null===(i=s.pet)||void 0===i?void 0:i.petBehind(),r){let a=3*this.level;this.jumpAttackPrep(r),this.jumpAttack(r,e,a,s.random)}this.superStartOfBattle(t,e)}}}class Px extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Araripe Manakin",this.tier=2,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}friendJumped(t,e,i){this.gainHealthFromEvent(t,e,i),this.superFriendJumped(t,e,i)}friendTransformed(t,e,i){this.gainHealthFromEvent(t,e,i),this.superFriendTransformed(t,e,i)}gainHealthFromEvent(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.getThis(this),r=s.pet;if(!r)return;let a=3*this.level;r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} ${a} health`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.abilityUses++}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class Dx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="European Mink",this.tier=2,this.pack="Danger",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}adjacentAttacked(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.level,r=this.parent.nearestPetsAhead(1,this);if(r.pets.length>0){let o=r.pets[0];o.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random})}let a=this.parent.nearestPetsBehind(1,this);if(a.pets.length>0){let o=a.pets[0];o.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:a.random})}this.abilityUses++}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class Tx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Proboscis Monkey",this.tier=2,this.pack="Danger",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}}class xx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pygmy Hog",this.tier=2,this.pack="Danger",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}enemyAttack(t,e,i){i||this.abilityCounter++,this.abilityCounter%5==0&&(this.abilityService.setCounterEvent({callback:()=>{let s=this.parent.getThis(this),r=s.pet;if(!r)return;let a=5*this.level,o=new E_(this.logService,this.abilityService,this.parent,a,a,r.mana,r.exp,new bh);this.logService.createLog({message:`${this.name} transformed ${r.name} into ${o.name} (${a}/${a}) with Garlic!`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.parent.transformPet(r,o)},priority:this.attack,pet:this}),this.superEnemyAttack(t,e,i))}}class Mx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Saola",this.tier=2,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class Rx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Saker Falcon",this.tier=2,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}beforeAttack(t,e){if(!(this.abilityUses>=this.maxAbilityUses)){if(this.parent.petArray.length<this.parent.opponent.petArray.length){let r=this.parent.getThis(this),a=r.pet;if(!a)return void this.superBeforeAttack(t,e);let o=2*this.level;a.increaseAttack(o),a.increaseHealth(o),this.logService.createLog({message:`${this.name} gave ${a.name} ${o} attack and ${o} health (outnumbered)`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random}),this.abilityUses++}this.superBeforeAttack(t,e)}}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class Ix extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Taita Shrew",this.tier=2,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.getThis(this),s=i.pet;if(!s)return;let r=new q_(this.logService,this.abilityService,this.parent,s.health,s.attack,s.mana,s.exp,s.equipment);this.logService.createLog({message:`${this.name} transformed ${s.name} into ${r.name} (level ${this.level}).`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),this.parent.transformPet(s,r),this.superStartOfBattle(t,e)}}class Ox extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="White-Bellied Heron",this.tier=2,this.pack="Danger",this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.nearestPetsAhead(1,this);if(0==i.pets.length)return;let s=i.pets[0],r=new vA;r.multiplier+=this.level-1,s.givePetEquipment(r);let a=".";2===this.level?a=" twice for double effect.":3===this.level&&(a=" thrice for triple effect."),this.logService.createLog({message:`${this.name} made ${s.name} Meat Bone${a}`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),this.superStartOfBattle(t,e)}}class Nx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Darwin's Fox",this.tier=2,this.pack="Danger",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){if(e&&this.alive&&!(this.abilityUses>=this.maxAbilityUses)){if(e.killedBy&&e.killedBy.alive){let s=this.parent.getSpecificPet(this,e.killedBy),r=s.pet;if(!r)return;this.jumpAttackPrep(r),this.jumpAttack(r,i,void 0,s.random)}else{let s=this.parent.opponent.getFurthestUpPet(this),r=s.pet;if(!r)return;this.jumpAttackPrep(r),this.jumpAttack(r,i,void 0,s.random)}this.abilityUses++,this.superFriendFaints(t,e,i)}}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class Lx extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Takhi",this.tier=2,this.pack="Danger",this.attack=2,this.health=2,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let a=this.petService.createPet({name:"African Wild Dog",attack:3*this.level,health:2*this.level,exp:0,mana:0,equipment:null},this.parent);if(a){let o=this.parent.summonPet(a,this.savedPosition,!1,this);o.success&&(this.logService.createLog({message:`${this.name} summoned a ${a.attack}/${a.health} ${a.name}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:o.randomEvent}),this.abilityService.triggerFriendSummonedEvents(a),a.startOfBattle(t,e))}this.superAfterFaint(t,e)}}class Bx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blue-Throated Macaw",this.tier=3,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}friendTransformed(t,e,i){if(e.position<this.position){let s=this.parent.getSpecificPet(this,e),r=s.pet;if(!r)return;let a=3*this.level;r.increaseAttack(a),this.logService.createLog({message:`${this.name} gave ${r.name} +${a} attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random})}else{let s=this.parent.getSpecificPet(this,e),r=s.pet;if(!r)return;let a=3*this.level;r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} +${a} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random})}this.superFriendTransformed(t,e,i)}}class $x extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hirola",this.tier=3,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){for(let s=0;s<this.level;s++){let r=new X_(this.logService,this.abilityService,this.parent,3,4,this.mana,this.exp),a=this.parent.summonPet(r,this.savedPosition,!1,this);a.success&&(this.logService.createLog({message:`${this.name} summoned a 4/3 ${r.name}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:a.randomEvent}),this.abilityService.triggerFriendSummonedEvents(r))}this.superAfterFaint(t,e,i)}}class Vx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Monkey-Faced Bat",this.tier=3,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}friendHurt(t,e,i){if(this.abilityUses>=this.maxAbilityUses||!e||e.position<=this.position)return;let s=this.parent.getRandomPets(2,[this],!0,!1,this);for(let r of s.pets)if(null!=r){let a=this.level;r.increaseAttack(a),r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} ${a} attack and ${a} health`,type:"ability",player:this.parent,randomEvent:s.random,tiger:i})}this.abilityUses++,this.superFriendHurt(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class Fx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pygmy Hippo",this.tier=3,this.pack="Danger",this.attack=2,this.health=7,this.initPet(o,s,r,a,l)}enemyAttack(t,e,i){i||this.abilityCounter++,this.abilityCounter%5==0&&(this.abilityService.setCounterEvent({callback:()=>{let s=Math.floor(.33*this.health),r=this.parent.opponent.getLowestHealthPets(this.level,void 0,this);for(let a of r.pets)this.snipePet(a,s,r.random,i)},priority:this.attack,pet:this}),this.superEnemyAttack(t,e,i))}}class Hx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Takin",this.tier=3,this.pack="Danger",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}friendHurt(t,e,i){if(!this.alive)return void this.superFriendHurt(t,e,i);if(!e||e!=this.petAhead)return;let s=this.level,r=2*this.level,a=this.parent.getThis(this),o=a.pet;o.increaseAttack(s),o.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:a.random}),this.superFriendHurt(t,e,i)}}class qx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tucuxi",this.tier=3,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.getLastPet([this],this),r=s.pet;if(!r)return;this.parent.pushPetToFront(r,!1),this.logService.createLog({message:`${this.name} pushed ${r.name} to the front`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random});let a=this.parent.getLastPet([this],this),o=a.pet;if(!o)return;let l=3*this.level;o.increaseAttack(l),o.increaseHealth(l),this.logService.createLog({message:`${this.name} gave ${o.name} +${l} attack and +${l} health`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:a.random}),this.superFaint(t,e)}}class Ux extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Roloway Monkey",this.tier=3,this.pack="Danger",this.attack=2,this.health=5,this.initPet(l,r,a,o,h)}startOfBattle(t,e){let i=this.parent.nearestPetsAhead(2,this);if(0===i.pets.length)return;const s=["Camel","Peacock","Porcupine","Lizard","Guineafowl"];for(let r of i.pets){let a=Math.floor(Math.random()*s.length),l=this.petService.createPet({name:s[a],health:r.health,attack:r.attack,mana:r.mana,exp:this.exp,equipment:r.equipment},this.parent);this.parent.transformPet(r,l),this.logService.createLog({message:`${this.name} transformed ${r.name} into a ${l.attack}/${l.health} ${l.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0})}this.superStartOfBattle(t,e)}}class Gx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Spoon-Billed Sandpiper",this.tier=3,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}}class jx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Amami Rabbit",this.tier=3,this.pack="Danger",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=1*this.level,s=this.parent.opponent.getHighestAttackPet(void 0,this);if(s.pet&&s.pet.alive)if(this.jumpAttackPrep(s.pet),this.transformed&&this.transformedInto){let r=this.parent.getThis(this.transformedInto);r.pet&&(this.transformedInto.increaseAttack(i),this.logService.createLog({message:`${this.name} gave ${this.transformedInto.name} ${i} attack`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random}))}else{let r=this.parent.getThis(this);r.pet&&(r.pet.increaseAttack(i),this.logService.createLog({message:`${this.name} gave ${r.pet.name} ${i} attack`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random}))}this.jumpAttack(s.pet,e,void 0,s.random),this.superStartOfBattle(t,e)}}class mK extends ee{constructor(){super(...arguments),this.name="Silly",this.equipmentClass="ailment-other"}}class Wx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tree Kangaroo",this.tier=3,this.pack="Danger",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=Bt(t,this.parent).getLastPet(void 0,this),s=i.pet;s&&(s.givePetEquipment(new mK),this.logService.createLog({message:`${this.name} gave ${s.name} Silly`,type:"ability",tiger:e,player:this.parent,randomEvent:i.random})),super.superStartOfBattle(t,e)}}class zx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Angelshark",this.tier=4,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}}class Kx extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Bonobo",this.tier=4,this.pack="Danger",this.attack=3,this.health=3,this.initPet(l,r,a,o,h)}}class Qx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giant Tortoise",this.tier=4,this.pack="Danger",this.attack=4,this.health=8,this.initPet(o,s,r,a,l)}}class Yx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Humphead Wrasse",this.tier=4,this.pack="Danger",this.attack=6,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=.3*this.level,s=this.parent.opponent.getHighestAttackPet(void 0,this);if(!s.pet)return;let r=s.pet,a=Math.floor(r.attack*i),o=Math.max(1,r.attack-a);r.attack=o,this.logService.createLog({message:`${this.name} reduced ${r.name}'s attack by ${100*i}% to (${r.attack})`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),this.superStartOfBattle(t,e)}}class Jx extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Golden Tamarin",this.tier=4,this.pack="Danger",this.attack=4,this.health=4,this.initPet(l,r,a,o,h)}beforeStartOfBattle(t,e){let s=this.parent.getThis(this).pet;if(!s)return;const r=["Crocodile","Red Dragon","Salmon of Knowledge","Sea Cucumber","Werewolf","Tarantula Hawk","Snow Leopard"];let a=Math.floor(Math.random()*r.length),l=this.petService.createPet({name:r[a],health:s.health,attack:s.attack,mana:s.mana,exp:s.exp,equipment:s.equipment},this.parent);this.parent.transformPet(s,l),this.logService.createLog({message:`${this.name} transformed ${s.name} into a ${l.attack}/${l.health} ${l.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),this.superBeforeStartOfBattle(t,e)}}class Zx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kakapo",this.tier=4,this.pack="Danger",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}friendTransformed(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.getSpecificPet(this,e),r=s.pet;r&&(this.logService.createLog({message:`${this.name} gave ${r.name} +3 experience.`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),r.increaseExp(3),this.abilityUses++,this.superFriendTransformed(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class Xx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Longcomb Sawfish",this.tier=4,this.pack="Danger",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}enemyAttack(t,e,i){i||this.abilityCounter++,this.abilityCounter%5==0?(this.abilityService.setCounterEvent({callback:()=>{let s=4*this.level,r=-4*this.level,a=this.parent.getThis(this),o=a.pet;o&&(o.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} health`,type:"ability",player:this.parent,tiger:i,randomEvent:a.random}));let h=this.parent.opponent.getAll(!1,this).pets;for(let d of h)d.increaseHealth(r),this.logService.createLog({message:`${this.name} reduced ${d.name} health by ${Math.abs(r)}`,type:"ability",player:this.parent,tiger:i})},priority:this.attack,pet:this}),this.superEnemyAttack(t,e,i)):this.superEnemyAttack(t,e,i)}}class eM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Amazon River Dolphin",this.tier=4,this.pack="Danger",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}adjacentAttacked(t,e,i){let s=this.parent.getSpecificPet(this,e.currentTarget),r=s.pet;if(r&&r.alive)this.snipePet(r,3*this.level,s.random,i);else{let a=this.parent.getThis(this),o=a.pet;if(!o)return;let l=3*this.level;o.increaseAttack(l),this.logService.createLog({message:`${this.name} gave ${o.name} ${l} attack`,type:"ability",player:this.parent,tiger:i,randomEvent:a.random})}}}class tM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tasmanian Devil",this.tier=4,this.pack="Danger",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=.5*this.level,s=this.parent.opponent.getLowestAttackPet(void 0,this);if(s.pet&&s.pet.alive){let r=Math.floor(this.attack*i);this.jumpAttackPrep(s.pet),this.transformed&&this.transformedInto&&(r=Math.floor(this.transformedInto.attack*i)),this.jumpAttack(s.pet,e,r,s.random)}this.superStartOfBattle(t,e)}}class iM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giant Otter",this.tier=4,this.pack="Danger",this.attack=4,this.health=3,this.buffedFriends=new Map,this.initPet(o,s,r,a,l)}beforeStartOfBattle(t,e){let i=3*this.level,s=this.parent.getAll(!1,this,!0),r=s.pets;for(let a of r){a.increaseAttack(i),a.increaseHealth(i);let o=this.buffedFriends.get(a);this.buffedFriends.set(a,o?{attack:o.attack+i,health:o.health+i}:{attack:i,health:i}),this.logService.createLog({message:`${this.name} gave ${a.name} +${i} attack and +${i} health`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random})}this.superBeforeStartOfBattle(t,e)}removeConditionalBuffs(){for(let[t,e]of this.buffedFriends)t&&t.alive&&(t.increaseAttack(-e.attack),t.increaseHealth(-e.health),this.logService.createLog({message:`${t.name} lost ${e.attack} attack and ${e.health} health (Giant Otter removed)`,type:"ability",player:this.parent}))}friendTransformed(t,e,i){e===this&&(null==t?void 0:t.isInStartOfBattleFlag)&&this.removeConditionalBuffs(),this.superFriendTransformed(t,e,i)}afterFaint(t,e,i){(null==t?void 0:t.isInStartOfBattleFlag)&&this.removeConditionalBuffs(),this.superAfterFaint(t,e,i)}resetPet(){super.resetPet(),this.buffedFriends.clear()}}class nM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Aye-aye",this.tier=5,this.pack="Danger",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}enemyAttack(t,e,i){i||this.abilityCounter++,this.abilityCounter%8==0?(this.abilityService.setCounterEvent({callback:()=>{for(let a=0;a<2;a++){let o=3,l=3,h=new N_(this.logService,this.abilityService,this.parent,l,o,0,0),d=this.parent.summonPet(h,this.savedPosition,!1,this);d.success&&(this.logService.createLog({message:`${this.name} summoned a ${o}/${l} ${h.name}.`,type:"ability",player:this.parent,tiger:i,randomEvent:d.randomEvent}),this.abilityService.triggerFriendSummonedEvents(h))}let s=3*this.level,r=this.parent.getAll(!1,this,!0);for(let a of r.pets)a.increaseAttack(s),a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} +${s} attack and +${s} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random})},priority:this.attack,pet:this}),this.superEnemyAttack(t,e,i)):this.superEnemyAttack(t,e,i)}}class sM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Banggai Cardinalfish",this.tier=5,this.pack="Danger",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=6*this.level,r=this.parent.getAll(!0,this);for(let a of r.pets){let o=Math.max(a.attack-i,4);a.attack=o,this.logService.createLog({message:`${this.name} reduced ${a.name} attack by ${i} to (${o}).`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random})}this.superStartOfBattle(t,e)}}class rM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Geometric Tortoise",this.tier=5,this.pack="Danger",this.attack=3,this.health=10,this.damageTakenList=[],this.initPet(o,s,r,a,l)}hurt(t,e,i){let s=this.damageTakenList.shift();if(null==s)return;let r=.33*this.level;3==this.level&&(r=1);let a=Math.floor(s*r);if(a>0){let o=this.parent.opponent.getRandomPet([],!1,!0,!1,this);o.pet&&this.snipePet(o.pet,a,o.random,i)}this.superHurt(t,e,i)}dealDamage(t,e){this.damageTakenList.push(e),super.dealDamage(t,e)}}class aM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giant Pangasius",this.tier=5,this.pack="Danger",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){if(!t)return;let s;s=this.parent===t.player?t.playerTransformationAmount:t.opponentTransformationAmount;let r=4*this.level;if(s>0)for(let a=0;a<s;a++){let o=this.parent.opponent.getRandomPet([],!1,!0,!1,this);o.pet&&this.snipePet(o.pet,r,o.random,e)}this.superFaint(t,e)}}class oM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hawaiian Monk Seal",this.tier=5,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}friendAttacks(t,e,i){let s=this.parent.getSpecificPet(this,e),r=s.pet;if(r&&!this.targettedFriends.has(r)){if(this.targettedFriends.size<3&&r.alive){let a=2*this.level;r.increaseHealth(a),this.targettedFriends.add(r),this.logService.createLog({message:`${this.name} gave ${r.name} ${a} health`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random})}this.superFriendAttacks(t,e,i)}}}class lM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Marine Iguana",this.tier=5,this.pack="Danger",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}beforeFriendAttacks(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.parent.getSpecificPet(this,e),r=s.pet;!r||this.targettedFriends.has(r)||(r.givePetEquipment(new qa),this.targettedFriends.add(r),this.logService.createLog({message:`${this.name} gave ${r.name} Melon`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),this.abilityUses++,this.superBeforeFriendAttacks(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class cM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Red Panda",this.tier=5,this.pack="Danger",this.health=4,this.attack=4,this.initPet(o,s,r,a,l)}}class uM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Taita Thrush",this.tier=5,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}adjacentAttacked(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.level,r=this.parent.getAll(!1,this,!0);for(let a of r.pets)a.increaseAttack(s),a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} +${s} attack and +${s} health`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random});this.abilityUses++,this.superAdjacentAttacked(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class hM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Painted Terrapin",this.tier=5,this.pack="Danger",this.health=6,this.attack=4,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.nearestPetsBehind(this.level,this,"White Okra"),r=s.pets;for(let a of r)this.logService.createLog({message:`${this.name} gave ${a.name} White Okra perk`,type:"ability",tiger:e,player:this.parent,pteranodon:i,randomEvent:s.random}),a.givePetEquipment(new fC);this.superFaint(t,e)}}class dM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snow Leopard",this.tier=5,this.pack="Danger",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=5*this.level,s=this.parent.opponent.getRandomPet([],!1,!0,!1,this);if(s.pet&&s.pet.alive){if(this.jumpAttackPrep(s.pet),this.transformed&&this.transformedInto){let r=this.parent.getThis(this.transformedInto);r.pet&&(this.transformedInto.increaseAttack(i),this.transformedInto.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${this.transformedInto.name} ${i} attack and ${i} health`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random}))}else{let r=this.parent.getThis(this);r.pet&&(r.pet.increaseAttack(i),r.pet.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${r.pet.name} ${i} attack and ${i} health`,type:"ability",player:this.parent,tiger:e,randomEvent:r.random}))}this.jumpAttack(s.pet,e,null,s.random)}this.superStartOfBattle(t,e)}}class fM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Amsterdam Albatross",this.tier=6,this.pack="Danger",this.attack=3,this.health=6,this.initPet(o,s,r,a,l)}friendTransformed(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=1*this.level,r=2*this.level,o=this.parent.getSpecificPet(this,e).pet;null!=o&&(o.increaseAttack(s),o.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${o.name} +${s} attack and +${r} health.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendTransformed(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class pM extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Bay Cat",this.tier=6,this.pack="Danger",this.attack=7,this.health=5,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let s=["Skunk","Fossa","Kraken","Lynx","Humphead Wrasse","Goblin Shark","Red Lipped Batfish","Platybelodon","Tasmanian Devil"];for(let r=0;r<this.level;r++){let a=s[Math.floor(Math.random()*s.length)],o=this.petService.createPet({name:a,attack:null,health:null,equipment:null,mana:0,exp:0},this.parent);this.parent.summonPet(o,this.savedPosition,!1,this).success&&(this.logService.createLog({message:`${this.name} summoned ${o.name}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0}),o.startOfBattle&&(this.logService.createLog({message:`${o.name} activated its start of battle ability`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),o.startOfBattle(t,e)),this.abilityService.triggerFriendSummonedEvents(o))}this.superAfterFaint(t,e)}}class gM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Black Rhino",this.tier=6,this.pack="Danger",this.attack=5,this.health=9,this.initPet(o,s,r,a,l)}enemyAttack(t,e,i){i||this.abilityCounter++,this.abilityCounter%8==0?(this.abilityService.setCounterEvent({callback:()=>{let r=this.parent.opponent.getRandomPets(this.level,[],!1,!0,this),a=r.pets;for(let o of a)this.snipePet(o,30,r.random,i)},priority:this.attack,pet:this}),this.superEnemyAttack(t,e,i)):this.superEnemyAttack(t,e,i)}}class mM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blue Whale",this.tier=6,this.pack="Danger",this.health=12,this.attack=12,this.initPet(o,s,r,a,l)}}class Up extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="California Condor",this.tier=6,this.pack="Danger",this.attack=10,this.health=6,this.initPet(l,r,a,o,h)}friendTransformed(t,e,i){if(!this.alive||this.abilityUses>=this.maxAbilityUses)return;let s=e;null!=s&&(s.originalStartOfBattle&&(this.startOfBattle=s.originalStartOfBattle),s.originalHurt&&(this.hurt=s.originalHurt),s.originalFaint&&(this.faint=s.originalFaint),s.originalFriendSummoned&&(this.friendSummoned=s.originalFriendSummoned),s.originalFriendAheadAttacks&&(this.friendAheadAttacks=s.originalFriendAheadAttacks),s.originalFriendAheadFaints&&(this.friendAheadFaints=s.originalFriendAheadFaints),s.originalFriendFaints&&(this.friendFaints=s.originalFriendFaints),s.originalEnemyFaints&&(this.enemyFaints=s.originalEnemyFaints),s.originalEnemyAttack&&(this.enemyAttack=s.originalEnemyAttack),s.originalAfterAttack&&(this.afterAttack=s.originalAfterAttack),s.originalBeforeAttack&&(this.beforeAttack=s.originalBeforeAttack),s.originalBeforeStartOfBattle&&(this.beforeStartOfBattle=s.originalBeforeStartOfBattle),s.originalKnockOut&&(this.knockOut=s.originalKnockOut),s.originalSummoned&&(this.summoned=s.originalSummoned),s.originalFriendlyToyBroke&&(this.friendlyToyBroke=s.originalFriendlyToyBroke),s.originalFriendGainedAilment&&(this.friendGainedAilment=s.originalFriendGainedAilment),s.originalFriendHurt&&(this.friendHurt=s.originalFriendHurt),s.originalFriendTransformed&&(this.friendTransformed=s.originalFriendTransformed),s.originalEatsFood&&(this.eatsFood=s.originalEatsFood),s.originalFriendAteFood&&(this.friendAteFood=s.originalFriendAteFood),s.originalFriendLostPerk&&(this.friendLostPerk=s.originalFriendLostPerk),s.originalGainedPerk&&(this.gainedPerk=s.originalGainedPerk),s.originalFriendGainedPerk&&(this.friendGainedPerk=s.originalFriendGainedPerk),s.originalAnyoneLevelUp&&(this.anyoneLevelUp=s.originalAnyoneLevelUp),s.originalEnemySummoned&&(this.enemySummoned=s.originalEnemySummoned),s.originalEnemyPushed&&(this.enemyPushed=s.originalEnemyPushed),s.originalGainedMana&&(this.gainedMana=s.originalGainedMana),s.originalFriendJumped&&(this.friendJumped=s.originalFriendJumped),s.originalEnemyGainedAilment&&(this.enemyGainedAilment=s.originalEnemyGainedAilment),s.originalFriendGainsHealth&&(this.friendGainsHealth=s.originalFriendGainsHealth),s.originalEmptyFrontSpace&&(this.emptyFrontSpace=s.originalEmptyFrontSpace),s.originalEnemyHurt&&(this.enemyHurt=s.originalEnemyHurt),s.originalAfterFaint&&(this.afterFaint=s.originalAfterFaint),s.originalTransform&&(this.transform=s.originalTransform),s.originalAdjacentAttacked&&(this.adjacentAttacked=s.originalAdjacentAttacked),s.originalFriendAttacks&&(this.friendAttacks=s.originalFriendAttacks),s.originalBeforeFriendAttacks&&(this.beforeFriendAttacks=s.originalBeforeFriendAttacks),s.originalEnemyJumped&&(this.enemyJumped=s.originalEnemyJumped),s.originalFriendGainedExperience&&(this.friendGainedExperience=s.originalFriendGainedExperience),this.initAbilities(),s instanceof Up||this.logService.createLog({message:`California Condor copied ${s.name}'s level ${this.level} ability`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendTransformed(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class vM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Green Sea Turtle",this.tier=6,this.pack="Danger",this.attack=5,this.health=6,this.initPet(o,s,r,a,l)}enemyAttack(t,e,i){if(!(this.abilityUses>=this.maxAbilityUses)){if(i||this.abilityCounter++,this.abilityCounter%5!=0)return void this.superEnemyAttack(t,e,i);this.abilityService.setCounterEvent({callback:()=>{let r=this.parent.getAll(!1,this).pets;for(let a of r)a.givePetEquipment(new qa,this.level),this.logService.createLog({message:`${this.name} gave ${a.name} Melon.`,type:"ability",player:this.parent,tiger:i})},priority:this.attack,pet:this}),this.abilityUses++,this.superEnemyAttack(t,e,i)}}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=1}}class yM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Helmeted Hornbill",this.tier=6,this.pack="Danger",this.health=4,this.attack=5,this.initPet(o,s,r,a,l)}}class _M extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Philippine Eagle",this.tier=6,this.pack="Danger",this.attack=6,this.health=5,this.initPet(o,s,r,a,l)}friendJumped(t,e,i){this.anyoneJumpedAbility(t,e,i),this.superFriendJumped(t,e,i)}enemyJumped(t,e,i){this.anyoneJumpedAbility(t,e,i),this.superEnemyJumped(t,e,i)}anyoneJumpedAbility(t,e,i){let s=this.parent.getRandomPet([this],!1,!1,!1,this),r=s.pet;if(!r)return;let a=4*this.level;r.increaseAttack(a),this.logService.createLog({message:`${this.name} gave ${r.name} +${a} attack`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random}),r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} +${a} health`,type:"ability",player:this.parent,tiger:i,randomEvent:s.random})}}function vK(n){return 1==n?0:2==n?2:5}class bM extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Silky Sifaka",this.tier=6,this.pack="Danger",this.attack=4,this.health=6,this.initPet(l,r,a,o,h)}startOfBattle(t,e){let i=["Mammoth","Lionfish","Orca","Sabertooth Tiger","Warthog","Hydra","Phoenix","Bay Cat","Walrus","Ammonite"],r=this.parent.nearestPetsBehind(2,this).pets;for(let a of r){let o=i[Math.floor(Math.random()*i.length)],l=this.petService.createPet({name:o,attack:a.attack,health:a.health,mana:a.mana,exp:vK(this.level),equipment:a.equipment},this.parent);this.parent.transformPet(a,l),this.logService.createLog({message:`${this.name} transformed ${a.name} into level ${this.level} ${l.name}`,type:"ability",player:this.parent,tiger:e,randomEvent:!0})}this.superStartOfBattle(t,e)}}class SM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sumatran Tiger",this.tier=6,this.pack="Danger",this.attack=9,this.health=9,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.getOppositeEnemyPet(this),s=i.pet;if(s&&(this.jumpAttackPrep(s),this.jumpAttack(s,e,null,i.random),this.level>=2)){let r=2==this.level?6:12,a=[];if(i.random)a=this.parent.getRandomLivingPets(2).pets;else{let o=s.petBehind();o&&o.alive&&a.push(o);let l=s.petAhead;l&&l.alive&&a.push(l)}for(let o of a)this.snipePet(o,r,i.random,e)}this.superStartOfBattle(t,e)}}class Gp extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rock",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class wM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Basilisk",this.tier=1,this.pack="Custom",this.health=2,this.attack=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.nearestPetsAhead(1,this,void 0,!0);if(0===i.pets.length)return;let s=i.pets[0];if(null==s||!s.alive)return;let r=2*this.level,a=s.health+r;a=Math.min(a,50);let o=new Gp(this.logService,this.abilityService,s.parent,a,s.attack,s.mana,s.exp,s.equipment);this.logService.createLog({message:`${this.name} turned ${s.name} into a Rock with + ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),s.parent.transformPet(s,o),this.superStartOfBattle(t,e)}}class eb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Daycrawler",this.tier=1,this.pack="Custom",this.hidden=!0,this.health=1,this.attack=3,this.initPet(o,s,r,a,l)}}class EM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nightcrawler",this.tier=2,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let r=this.parent==t.player?t.playerSummonedAmount:t.opponentSummonedAmount;if(0==r)return;let a=Math.min(50,this.level*r),l=new eb(this.logService,this.abilityService,this.parent,a,6,0,0),h=this.parent.summonPet(l,this.savedPosition,!1,this);h.success&&(this.logService.createLog({message:`${this.name} spawned Daycrawler (6/${a})`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:h.randomEvent}),this.abilityService.triggerFriendSummonedEvents(l)),super.superAfterFaint(t,e,i)}}class kM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sphinx",this.tier=2,this.pack="Custom",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}}class CM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chupacabra",this.tier=2,this.pack="Custom",this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}knockOut(t,e,i){for(let s=0;s<3*this.level;s++){let r=this.parent.getRandomPet([this],!0,!1,!0,this);if(null==r.pet)return;this.logService.createLog({message:`${this.name} gave ${r.pet.name} 1 health.`,type:"ability",player:this.parent,tiger:i,randomEvent:r.random}),r.pet.increaseHealth(1)}this.superKnockOut(t,e,i)}}class AM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Golden Beetle",this.tier=2,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class PM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Foo Dog",this.tier=3,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}}class DM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tree",this.tier=3,this.pack="Custom",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){this.attack>6*this.level||(this.logService.createLog({message:`${this.name} gained Coconut.`,type:"ability",player:this.parent,tiger:e}),this.givePetEquipment(new Uo),this.superStartOfBattle(t,e))}}class tb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smaller Slime",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}}class TM extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Slime",this.tier=3,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,s,r,a,l),this.battlesFought=h}afterFaint(t,e,i){let s=Math.floor(this.battlesFought/2),r=2*this.level;for(let a=0;a<s;a++){let o=new tb(this.logService,this.abilityService,this.parent,null,null,0),l=this.parent.summonPet(o,this.savedPosition,!1,this);l.success&&(this.logService.createLog({message:`${this.name} spawned Smaller Slime (${r}/${r}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:l.randomEvent}),this.abilityService.triggerFriendSummonedEvents(o))}super.superAfterFaint(t,e,i)}}class xM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pegasus",this.tier=3,this.pack="Custom",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){let s=this.parent.getRandomPets(3,[this],!0,!1,this);for(let r of s.pets)null!=r&&(r.increaseAttack(this.level),this.logService.createLog({message:`${this.name} gave ${r.name} ${this.level} attack.`,type:"ability",player:this.parent,randomEvent:s.random,tiger:i}))}}class MM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Deer Lord",this.tier=3,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}}class RM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fairy",this.tier=4,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}}class IM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rootling",this.tier=4,this.pack="Custom",this.attack=1,this.health=5,this.initPet(o,s,r,a,l)}}class OM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anubis",this.tier=4,this.pack="Custom",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.petArray.filter(s=>s.faintPet);for(let s of i)!s.alive||s.tier<=2*this.level&&(this.logService.createLog({message:`${this.name} activated ${s.name}'s faint ability.`,type:"ability",player:this.parent,tiger:e}),this.abilityService.setFaintEvent({callback:()=>{s.faint(t,!1,!1)},priority:100-s.position,pet:s}))}}class NM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Old Mouse",this.tier=4,this.pack="Custom",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class LM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hippocampus",this.tier=4,this.pack="Custom",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}friendGainsHealth(t,e,i){let s=2*this.level;this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i}),e.increaseAttack(s),this.superFriendGainsHealth(t,e,i)}}class BM extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Goblin Shark",this.tier=4,this.pack="Custom",this.attack=6,this.health=3,this.initPet(l,r,a,o,h)}startOfBattle(t,e){let i=6*this.level;for(let s of this.parent.opponent.petArray)if(s.alive&&s.health<=i){let r=this.petService.createPet({name:s.name,attack:s.attack,health:s.health,exp:s.exp,equipment:null,mana:0},this.parent);this.swallowedPets.push(r),s.health=0,this.logService.createLog({message:`${this.name} swallowed ${s.name}`,type:"ability",player:this.parent,tiger:e});break}this.superStartOfBattle(t,e)}afterFaint(t,e,i){for(;this.swallowedPets.length>0;){let s=this.swallowedPets.shift();s.health=1;let r=this.parent.summonPet(s,this.savedPosition,!1,this);r.success&&(this.logService.createLog({message:`${this.name} summoned ${s.name} (level ${s.level}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:r.randomEvent}),this.abilityService.triggerFriendSummonedEvents(s))}super.superAfterFaint(t,e,i)}}class $M extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Red Lipped Batfish",this.tier=4,this.pack="Custom",this.attack=5,this.health=3,this.initPet(l,r,a,o,h)}startOfBattle(t,e){let i=this.parent.opponent.getPetAtPosition(this.position);if(!i||!i.alive)return;let s=Math.max(1,i.tier-this.level),r=this.petService.getRandomFaintPet(i.parent,s),a=this.petService.createPet({name:r.name,attack:i.attack,health:i.health,exp:i.exp,equipment:i.equipment,mana:i.mana},i.parent);this.logService.createLog({message:`${this.name} transformed ${i.name} into ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),i.parent.transformPet(i,a),this.superStartOfBattle(t,e)}}class VM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Platybelodon",this.tier=4,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=0;this.parent===t.player?i=t.playerRollAmount||0:this.parent===t.opponet&&(i=t.opponentRollAmount||0);let s=this.level*Math.min(i,8);s>0&&this.parent.gainTrumpets(s,this,e),this.superStartOfBattle(t,e)}}class FM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Boitata",this.tier=5,this.pack="Custom",this.attack=2,this.health=9,this.initPet(o,s,r,a,l)}beforeAttack(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=this.parent.opponent.getFurthestUpPet(this),s=i.pet;null!=s&&(this.logService.createLog({message:`${this.name} gave ${s.name} Crisp.`,type:"ability",player:this.parent,tiger:e,randomEvent:i.random}),s.givePetEquipment(new fc),this.abilityUses++,this.superBeforeAttack(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class HM extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Kappa",this.tier=5,this.pack="Custom",this.attack=4,this.health=5,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let r=(this.parent==t.player?t.playerPetPool:t.opponentPetPool).get(3);for(let a=0;a<this.level;a++){let o=r[Math.floor(Math.random()*r.length)],l=r[Math.floor(Math.random()*r.length)],h=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:o},this.parent);this.parent.summonPet(h,this.savedPosition,!1,this).success&&(this.logService.createLog({message:`${this.name} spawned a ${h.name} (14/16).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0}),this.abilityService.triggerFriendSummonedEvents(h));let m=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:l},this.parent.opponent);this.parent.opponent.summonPet(m,this.savedPosition,!1,this).success&&(this.logService.createLog({message:`${this.name} spawned a ${m.name} (14/16) for the opponent.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0}),this.abilityService.triggerFriendSummonedEvents(m))}super.superAfterFaint(t,e,i)}}class qM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mimic",this.tier=5,this.pack="Custom",this.attack=3,this.health=6,this.initPet(o,s,r,a,l)}}class UM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nurikabe",this.tier=5,this.pack="Custom",this.attack=5,this.health=6,this.maxAbilityUses=3,this.initPet(o,s,r,a,l)}}class GM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leviathan",this.tier=6,this.pack="Custom",this.attack=6,this.health=10,this.initPet(o,s,r,a,l)}}class jM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Questing Beast",this.tier=6,this.pack="Custom",this.attack=7,this.health=9,this.initPet(o,s,r,a,l)}}class WM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockatrice",this.tier=6,this.pack="Custom",this.attack=5,this.health=7,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.opponent.petArray.reverse(),s=null;for(let o of i)if(o.level<=this.level){s=o;break}if(null==s)return;this.logService.createLog({message:`${this.name} transformed ${s.name} into a Rock.`,type:"ability",player:this.parent,tiger:e});let r=new Gp(this.logService,this.abilityService,s.parent,s.health,s.attack,s.mana,s.exp,s.equipment);this.parent.opponent.setPet(s.position,r,!1)}}class N3 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Albatross",this.tier=6,this.pack="Custom",this.attack=5,this.health=4,this.initPet(o,s,r,a,l)}}class zM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tarantula Hawk",this.tier=6,this.pack="Custom",this.health=2,this.attack=10,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=Math.floor(this.attack/10)*this.level;if(i<=0)return;let r=this.parent.opponent.getAll(!1,this).pets;if(0!=r.length){for(let a of r)a.increaseHealth(-i),this.logService.createLog({message:`${this.name} removed ${i} health from ${a.name}`,type:"ability",player:this.parent,tiger:e});this.superStartOfBattle(t,e)}}}class KM extends _{constructor(t,e,i,s,r,a,o,l,h,d){super(t,e,r),this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s,this.name="Good Dog",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=3,this.hidden=!0,this.initPet(h,a,o,l,d)}startOfBattle(t,e){let i=this.parent.getAll(!0,this),s=i.pets;if(0==s.length)return;let r=qo.getInjector().get(Ci).getInstanceOfAllEquipment(),a=Array.from(r.values());for(let o of s){if(!o.alive)continue;let l=a[Math.floor(Math.random()*a.length)];this.logService.createLog({message:`${this.name} gave ${o.name} ${l.name}`,type:"ability",player:this.parent,randomEvent:i.random,tiger:e}),o.givePetEquipment(l)}}}class QM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Salmon",this.tier=1,this.pack="Star",this.attack=1,this.health=1,this.hidden=!0,this.initPet(o,s,r,a,l)}summoned(t,e){let i=1+Math.floor(this.health/25),s=5*this.level;for(let r=0;r<i;r++){let a=this.parent.opponent.getRandomPet([],!1,!0,!1,this);a.pet&&this.snipePet(a.pet,s,a.random,e)}this.superSummoned(t,e)}}class YM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mimic Octopus",this.tier=6,this.pack="Star",this.attack=3,this.health=6,this.initPet(o,s,r,a,l)}afterAttack(t,e){let i=this.parent.opponent.getLowestHealthPets(this.level,void 0,this);for(let s of i.pets)this.snipePet(s,4,i.random,e);this.superAfterAttack(t,e)}}class JM extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Ammonite",this.tier=6,this.pack="Star",this.attack=5,this.health=3,this.initPet(l,r,a,o,h)}faint(t,e,i){let s=this.parent.nearestPetsBehind(1,this);if(0===s.pets.length)return;let r=s.pets[0],o=Math.floor((this.parent===t.player?t.playerRollAmount:t.opponentRollAmount)/2)*this.level,l=this.petService.createPet({name:"Mimic Octopus",attack:r.attack,health:r.health,equipment:r.equipment,mana:r.mana,exp:r.exp},this.parent);this.logService.createLog({message:`${this.name} transformed ${r.name} into ${l.name}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:s.random}),this.parent.transformPet(r,l);let h=this.parent.getThis(l),d=h.pet;null!=d&&(this.logService.createLog({message:`${this.name} gave ${d.name} +${o} experience.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:h.random}),d.increaseExp(o),this.superFaint(t,e))}}class ZM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Velociraptor",this.tier=6,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}friendAttacks(t,e,i){let s;for(let a=this.parent.petArray.indexOf(this)-1;a>=0;a--){let o=this.parent.petArray[a];if(o.alive&&o.equipment&&"Strawberry"===o.equipment.name){s=o;break}}if(s){if(s&&s.equipment&&"Strawberry"===s.equipment.name){s.removePerk(),this.logService.createLog({message:`${this.name} removed Strawberry from ${s.name}`,type:"ability",player:this.parent,tiger:i});let a=2*this.level,o=3*this.level,l=this.parent.getAll(!1,this,!0),h=l.pets;for(let d of h)d.increaseAttack(a),d.increaseHealth(o),this.logService.createLog({message:`${this.name} gave ${d.name} +${a} attack and +${o} health`,type:"ability",player:this.parent,tiger:i,randomEvent:l.random})}this.superFriendAttacks(t,e,i)}}}class XM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Baby Urchin",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.opponent.getFurthestUpPet(this),r=[s.pet],a=s.random;if(null!=r[0]){for(let o=0;o<this.level-1;o++){let l;if(l=a?this.parent.opponent.getFurthestUpPet(this).pet:r[o].petBehind(),null==l)break;r.push(l)}for(let o of r)null!=o&&(o.increaseHealth(-4),this.logService.createLog({message:`${this.name} removed 4 health from ${o.name}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:a}));this.superFaint(t,e)}else this.superFaint(t,e)}}let ib=(()=>{class n{constructor(e,i,s){this.logService=e,this.abilityService=i,this.gameService=s,this.turtlePackPets=new Map,this.puppyPackPets=new Map,this.starPackPets=new Map,this.goldenPackPets=new Map,this.unicornPackPets=new Map,this.customPackPets=new Map,this.dangerPackPets=new Map,this.playerCustomPackPets=new Map,this.allPets=new Map,this.startOfBattlePets=["Beetle","Cone Snail","Frilled Dragon","Frog","Gecko","Goose","Hummigbird","Mosquito","Moth","Seahorse","Atlantic Puffin","Bat","Crab","Panda","Robin","Salamander","Wombat","Dodo","Dolphin","Eel","Meerkat","Pug","Woodpecker","Doberman","Hawk","Lynx","Pelican","Skunk","Whale","Armadillo","Crocodile","Hyena","Macaque","Sword Fish","Highland Cow","Leopard","Mantis Shrimp","Stegosaurus","Therizinosaurus","White Tiger","Alchemedes","Axehandle Hound","Barghest","Bunyip","Sneaky Egg","Tsuchinoko","Ogopogo","Thunderbird","Mana Hound","Mandrake","Kraken","Roc","Red Dragon","Salmon of Knowledge","Werewolf","Sleipnir","Basilisk","Tree","Anubis","Cockatrice"]}buildCustomPackPets(e){for(let i of e.controls){let s=new Map;for(let r=1;r<=6;r++)s.set(r,i.get(`tier${r}Pets`).value);this.playerCustomPackPets.set(i.get("name").value,s)}}init(){this.turtlePackPets.set(1,["Ant","Cricket","Duck","Fish","Horse","Mosquito","Beaver","Otter","Pig","Pigeon"]),this.turtlePackPets.set(2,["Snail","Crab","Swan","Rat","Hedgehog","Peacock","Flamingo","Worm","Kangaroo","Spider"]),this.turtlePackPets.set(3,["Dodo","Badger","Dolphin","Giraffe","Elephant","Camel","Rabbit","Ox","Dog","Sheep"]),this.turtlePackPets.set(4,["Skunk","Hippo","Bison","Blowfish","Turtle","Squirrel","Penguin","Deer","Whale","Parrot"]),this.turtlePackPets.set(5,["Scorpion","Crocodile","Rhino","Monkey","Armadillo","Cow","Seal","Rooster","Shark","Turkey"]),this.turtlePackPets.set(6,["Leopard","Tiger","Boar","Wolverine","Gorilla","Dragon","Mammoth","Cat","Snake","Fly"]),this.puppyPackPets.set(1,["Duck","Beaver","Moth","Bluebird","Chinchilla","Beetle","Ladybug","Chipmunk","Gecko","Ferret"]),this.puppyPackPets.set(2,["Robin","Bat","Bilby","Dromedary","Shrimp","Beluga Sturgeon","Tabby Cat","Mandrill","Lemur","Goldfish"]),this.puppyPackPets.set(3,["Hoopoe Bird","Tropical Fish","Toucan","Hatching Chick","Owl","Mole","Flying Squirrel","Pangolin","Puppy","Hare"]),this.puppyPackPets.set(4,["Microbe","Lobster","Buffalo","Llama","Caterpillar","Doberman","Tahr","Whale Shark","Chameleon","Gharial"]),this.puppyPackPets.set(5,["Stonefish","Goat","Chicken","Eagle","Orchid Mantis","Panther","Axolotl","Snapping Turtle","Mosasaurus","Sting Ray"]),this.puppyPackPets.set(6,["Dragon","Mantis Shrimp","Lionfish","Tyrannosaurus","Octopus","Anglerfish","Sauropod","Elephant Seal","Puma","Mongoose"]),this.starPackPets.set(1,["Mouse","Pillbug","Cockroach","Frog","Hummingbird","Marmoset","Kiwi","Chihuahua","Firefly"]),this.starPackPets.set(2,["Koala","Salamander","Guinea Pig","Jellyfish","Dove","Stork","Iguana","DumboOctopus","Bass","Shima Enaga"]),this.starPackPets.set(3,["Leech","Toad","Cabybara","Okapi","Cassowary","Anteater","Pug","Orangutang","Tuna"]),this.starPackPets.set(4,["Hawk","Clownfish","Platypus","Praying Mantis","Donkey","Fairy Armadillo","Fossa","Elk","Sparrow"]),this.starPackPets.set(5,["Sword Fish","Triceratops","Hamster","Shoebill","Woodpecker","Starfish","Blobfish","Pelican","Vulture","Ibex"]),this.starPackPets.set(6,["Ostrich","Reindeer","Piranha","Orca","Spinosaurus","Real Velociraptor","Sabertooth Tiger","Ammonite","Velociraptor","Alpaca"]),this.goldenPackPets.set(1,["Chipmunk","Bulldog","Groundhog","Cone Snail","Goose","Lemming","Pied Tamarin","Opossum","Silkmoth","Magpie"]),this.goldenPackPets.set(2,["Hercules Beetle","Stoat","Black Necked Stilt","Squid","Sea Urchin","Door Head Ant","Lizard","Sea Turtle","Meerkat","African Penguin"]),this.goldenPackPets.set(3,["Musk Ox","Flea","Bear","Royal Flycatcher","Surgeon Fish","Weasel","Guineafowl","Flying Fish","Baboon","Osprey"]),this.goldenPackPets.set(4,["Manatee","Cuttlefish","Saiga Antelope","Sealion","Vaquita","Slug","Poison Dart Frog","Falcon","Manta Ray","Cockatoo"]),this.goldenPackPets.set(5,["Macaque","Nyala","Nurse Shark","Beluga Whale","Wolf","Secretary Bird","Fire Ant","Blue Ringed Octopus","Crane","Emu","Egyptian Vulture"]),this.goldenPackPets.set(6,["Wildebeast","Highland Cow","Catfish","Pteranodon","Warthog","Cobra","Grizzly Bear","German Shepherd","Bird of Paradise","Oyster","Rockhopper Penguin"]),this.unicornPackPets.set(1,["Baku","Axehandle Hound","Barghest","Tsuchinoko","Murmel","Alchemedes","Pengobble","Warf","Bunyip","Sneaky Egg","Cuddle Toad","???"]),this.unicornPackPets.set(2,["Ghost Kitten","Frost Wolf","Mothman","Drop Bear","Jackalope","Ogopogo","Thunderbird","Gargoyle","Wyvern","Bigfoot"]),this.unicornPackPets.set(3,["Skeleton Dog","Mandrake","Fur-Bearing Trout","Mana Hound","Calygreyhound","Brain Cramp","Lucky Cat","Tatzelwurm","Ouroboros","Griffin"]),this.unicornPackPets.set(4,["Kraken","Visitor","Unicorn","Tiger Bug","Minotaur","Cyclops","Chimera","Roc","Worm of Sand","Abomination"]),this.unicornPackPets.set(5,["Red Dragon","Vampire Bat","Loveland Frogman","Salmon of Knowledge","Jersey Devil","Pixiu","Kitsune","Nessie","Bad Dog","Werewolf","Amalgamation"]),this.unicornPackPets.set(6,["Manticore","Phoenix","Quetzalcoatl","Team Spirit","Sleipnir","Sea Serpent","Yeti","Cerberus","Hydra","Behemoth"]),this.dangerPackPets.set(1,["African Wild Dog","Iriomote Cat","Ili Pika","Malay Tapir","Bombus Dahlbomii","Ethiopian Wolf","Fan Mussel","Togian Babirusa","Tooth Billed Pigeon","Volcano Snail"]),this.dangerPackPets.set(2,["Araripe Manakin","Darwin's Fox","European Mink","Proboscis Monkey","Pygmy Hog","Saola","Saker Falcon","Taita Shrew","Takhi","White-Bellied Heron"]),this.dangerPackPets.set(3,["Amami Rabbit","Blue-Throated Macaw","Hirola","Monkey-Faced Bat","Takin","Tree Kangaroo","Tucuxi","Pygmy Hippo","Roloway Monkey","Spoon-Billed Sandpiper"]),this.dangerPackPets.set(4,["Amazon River Dolphin","Angelshark","Bonobo","Giant Otter","Giant Tortoise","Golden Tamarin","Humphead Wrasse","Kakapo","Longcomb Sawfish","Tasmanian Devil"]),this.dangerPackPets.set(5,["Aye-aye","Banggai Cardinalfish","Geometric Tortoise","Giant Pangasius","Hawaiian Monk Seal","Marine Iguana","Red Panda","Snow Leopard","Taita Thrush","Painted Terrapin"]),this.dangerPackPets.set(6,["Amsterdam Albatross","Bay Cat","Black Rhino","Blue Whale","California Condor","Green Sea Turtle","Helmeted Hornbill","Philippine Eagle","Silky Sifaka","Sumatran Tiger"]),this.customPackPets.set(1,["Frilled Dragon","Mouse","Basilisk","Duckling","Seahorse"]),this.customPackPets.set(2,["Frigatebird","Wombat","Frigatebird","Nightcrawler","Sphinx","Chupacabra","Golden Beetle","Yak","Panda","Atlantic Puffin"]),this.customPackPets.set(3,["Aardvark","Emperor Tamarin","Porcupine","Wasp","Foo Dog","Tree","Slime","Pegasus","Deer Lord","Betta Fish"]),this.customPackPets.set(4,["Jerboa","Dragonfly","Lynx","Seagull","Fairy","Rootling","Anubis","Old Mouse","Hippocampus","Goblin Shark","Red Lipped Batfish","Platybelodon","Eel","Crow"]),this.customPackPets.set(5,["Poodle","Hyena","Moose","Raccoon","Sea Cucumber","Silver Fox","Boitata","Kappa","Mimic","Nurikabe","Tandgnost","Tandgrisner","Fox","Lion","Polar Bear","Siberian Husky","Zebra"]),this.customPackPets.set(6,["Lioness","Tapir","Walrus","White Tiger","Great One","Leviathan","Questing Beast","Cockatrice","Albatross","Amargasaurus","Tarantula Hawk","Hammerhead Shark","Komodo","Stegosaurus","Harpy Eagle","Therizinosaurus"]),this.setAllPets()}setAllPets(){this.allPets=new Map;for(let e=1;e<=6;e++)this.allPets.set(e,[]);for(let[e,i]of this.turtlePackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.puppyPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.starPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.goldenPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.unicornPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.dangerPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.allPets)this.allPets.set(e,[...new Set(i)])}createPet(e,i){switch(e.name){case"Ant":return new g_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cricket":return new pC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fish":return new m_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Horse":return new gC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mosquito":return new mC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Duck":return new v_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Beaver":return new y_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Otter":return new vC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pig":return new yC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mouse":return new _C(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pigeon":return new l1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Snail":return new j9(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Crab":return new bC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Swan":return new SC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rat":return new wC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hedgehog":return new EC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Peacock":return new kC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Flamingo":return new CC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Worm":return new AC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kangaroo":return new PC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Spider":return new DC(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dodo":return new TC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Badger":return new xC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dolphin":return new b_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Giraffe":return new MC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Elephant":return new RC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Camel":return new IC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rabbit":return new OC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ox":return new NC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dog":return new LC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sheep":return new BC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Skunk":return new VC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hippo":return new FC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bison":return new HC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Blowfish":return new qC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Turtle":return new UC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Squirrel":return new GC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Penguin":return new jC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Deer":return new zC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Whale":return new KC(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Parrot":return new yh(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Scorpion":return new QC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Crocodile":return new YC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rhino":return new JC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Monkey":return new k_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Armadillo":return new ZC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cow":return new XC(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Seal":return new eA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rooster":return new tA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Shark":return new iA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Turkey":return new nA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Leopard":return new sA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Boar":return new rA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tiger":return new $C(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wolverine":return new aA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Gorilla":return new oA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dragon":return new lA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mammoth":return new cA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cat":return new uA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Snake":return new hA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fly":return new dA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Moth":return new fA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bluebird":return new pA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chinchilla":return new gA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Beetle":return new yA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ladybug":return new _A(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chipmunk":return new bA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Gecko":return new SA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ferret":return new wA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Robin":return new CA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bat":return new EA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bilby":return new kA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dromedary":return new AA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Shrimp":return new PA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Toucan":return new OA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Beluga Sturgeon":return new NA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tabby Cat":return new LA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mandrill":return new BA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lemur":return new N_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hoopoe Bird":return new $A(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tropical Fish":return new VA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hatching Chick":return new FA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Goldfish":return new HA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Owl":return new qA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mole":return new Hp(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Raccoon":return new UA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Flying Squirrel":return new O_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pangolin":return new jA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Puppy":return new WA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hare":return new c1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Microbe":return new zA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lobster":return new KA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Buffalo":return new QA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Llama":return new YA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Caterpillar":return new JA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Doberman":return new ZA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tahr":return new XA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Whale Shark":return new eP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chameleon":return new tP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Gharial":return new iP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Stonefish":return new nP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Poodle":return new sP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Goat":return new uP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chicken":return new rP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Eagle":return new aP(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Orchid Mantis":return new oP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Panther":return new lP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Axolotl":return new cP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Snapping Turtle":return new hP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mosasaurus":return new dP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sting Ray":return new fP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mantis Shrimp":return new pP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lionfish":return new gP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tyrannosaurus":return new mP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Octopus":return new vP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Anglerfish":return new yP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sauropod":return new _P(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Elephant Seal":return new bP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Puma":return new wr(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mongoose":return new SP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pillbug":return new wP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Duckling":return new EP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cockroach":return new kP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Frog":return new CP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Seahorse":return new PP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Iguana":return new DP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hummingbird":return new TP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Marmoset":return new $T(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kiwi":return new r1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chihuahua":return new AP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Firefly":return new a1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Koala":return new xP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Yak":return new MP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Salamander":return new IP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Panda":return new OP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Guinea Pig":return new NP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Jellyfish":return new BP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pug":return new LP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Atlantic Puffin":return new $P(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dove":return new VP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Stork":return new FP(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"DumboOctopus":return new RP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bass":return new o1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Shima Enaga":return new HP(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Leech":return new qP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Woodpecker":return new UP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Toad":return new jP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Starfish":return new WP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Clownfish":return new zP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Blobfish":return new KP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cabybara":return new QP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Okapi":return new YP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cassowary":return new JP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Anteater":return new cD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tuna":return new GP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.timesHurt);case"Orangutang":return new $_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Eel":return new iD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hawk":return new nD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Platypus":return new sD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Praying Mantis":return new B_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Crow":return new rD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Donkey":return new aD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pelican":return new lD(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fairy Armadillo":return new eD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fossa":return new tD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Siamese":return new ZP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Elk":return new XP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sparrow":return new oD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sword Fish":return new uD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Polar Bear":return new hD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Siberian Husky":return new dD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lion":return new fD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Triceratops":return new pD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Zebra":return new gD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fox":return new mD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hamster":return new vD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Shoebill":return new yD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Vulture":return new _D(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ibex":return new bD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Komodo":return new SD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ostrich":return new wD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Reindeer":return new ED(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Stegosaurus":return new kD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Piranha":return new CD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hammerhead Shark":return new AD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Therizinosaurus":return new PD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Harpy Eagle":return new DD(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Real Velociraptor":return new TD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sabertooth Tiger":return new xD(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.timesHurt);case"Orca":return new MD(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Spinosaurus":return new RD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bulldog":return new ID(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Groundhog":return new F_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cone Snail":return new OD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Goose":return new ND(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lemming":return new $D(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pied Tamarin":return new LD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Opossum":return new s1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Silkmoth":return new BD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Magpie":return new VD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hercules Beetle":return new FD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Stoat":return new HD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Black Necked Stilt":return new qD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Squid":return new UD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sea Urchin":return new GD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Door Head Ant":return new jD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lizard":return new WD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sea Turtle":return new zD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"African Penguin":return new KD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Musk Ox":return new QD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Flea":return new YD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Royal Flycatcher":return new fT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Surgeon Fish":return new JD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Weasel":return new q_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Guineafowl":return new ZD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Betta Fish":return new XD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Meerkat":return new eT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Flying Fish":return new tT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Baboon":return new iT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Osprey":return new nT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Manatee":return new sT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cuttlefish":return new rT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Egyptian Vulture":return new aT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Saiga Antelope":return new oT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sealion":return new lT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Vaquita":return new cT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Slug":return new uT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Poison Dart Frog":return new hT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Secretary Bird":return new dT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Falcon":return new pT(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Manta Ray":return new gT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Macaque":return new mT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nyala":return new vT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nurse Shark":return new yT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Beluga Whale":return new _T(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.belugaSwallowedPet);case"Wolf":return new bT(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Silver Fox":return new ST(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fire Ant":return new wT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cockatoo":return new ET(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Blue Ringed Octopus":return new kT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Crane":return new CT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Emu":return new AT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wildebeast":return new PT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Highland Cow":return new DT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Catfish":return new TT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pteranodon":return new xT(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Warthog":return new MT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cobra":return new RT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Grizzly Bear":return new IT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"German Shepherd":return new OT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bird of Paradise":return new NT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Oyster":return new LT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rockhopper Penguin":return new BT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Jerboa":return new VT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Frilled Dragon":return new FT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wombat":return new HT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Frigatebird":return new qT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Aardvark":return new UT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bear":return new GT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Emperor Tamarin":return new jT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Porcupine":return new WT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wasp":return new zT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dragonfly":return new KT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lynx":return new QT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Seagull":return new YT(this.logService,this.abilityService,this,this.gameService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Alpaca":return new qp(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hyena":return new JT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Moose":return new ZT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sea Cucumber":return new GA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lioness":return new XT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tapir":return new e1(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Walrus":return new t1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"White Tiger":return new i1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Basilisk":return new wM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nightcrawler":return new EM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sphinx":return new kM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chupacabra":return new CM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Golden Beetle":return new AM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Foo Dog":return new PM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tree":return new DM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Slime":return new TM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.battlesFought);case"Pegasus":return new xM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Deer Lord":return new MM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fairy":return new RM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rootling":return new IM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Anubis":return new OM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Old Mouse":return new NM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hippocampus":return new LM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Goblin Shark":return new BM(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Red Lipped Batfish":return new $M(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Platybelodon":return new VM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Boitata":return new FM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kappa":return new HM(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mimic":return new qM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nurikabe":return new UM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tandgnost":return new D_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tandgrisner":return new T_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Great One":return new R_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Leviathan":return new GM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Questing Beast":return new jM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cockatrice":return new WM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Amargasaurus":return new n1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tarantula Hawk":return new zM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Angry Pygmy Hog":return new E_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bee":return new _h(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bus":return new w_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Butterfly":return new L_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chick":return new C_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dirty Rat":return new __(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Golden Retriever":return new p_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lizard Tail":return new H_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nest":return new Vp(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ram":return new S_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Smaller Slug":return new G_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Smallest Slug":return new U_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Zombie Cricket":return new vh(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Zombie Fly":return new $p(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cracked Egg":return new j_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nessie?":return new Q_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Young Phoenix":return new Y_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fire Pup":return new J_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Monty":return new P_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rock":return new Gp(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Daycrawler":return new eb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Smaller Slime":return new tb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chim-Goat":return new W_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chim-Lion":return new z_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chim-Snake":return new K_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Head":return new Z_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Good Dog":return new KM(this.logService,this.abilityService,this,this.gameService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Salmon":return new QM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mimic Octopus":return new YM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ammonite":return new JM(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Velociraptor":return new ZM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Baby Urchin":return new XM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fairy Ball":return new V_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp);case"Baku":return new u1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Axehandle Hound":return new d1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Barghest":return new f1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tsuchinoko":return new p1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Murmel":return new g1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Alchemedes":return new m1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pengobble":return new v1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Warf":return new y1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bunyip":return new _1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sneaky Egg":return new b1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cuddle Toad":return new S1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"???":return new h1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ghost Kitten":return new w1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Frost Wolf":return new E1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mothman":return new k1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Drop Bear":return new C1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Jackalope":return new A1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ogopogo":return new D1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Thunderbird":return new T1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Gargoyle":return new x1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bigfoot":return new M1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lucky Cat":return new P1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Skeleton Dog":return new R1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mandrake":return new I1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fur-Bearing Trout":return new O1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mana Hound":return new N1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Calygreyhound":return new L1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Brain Cramp":return new B1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Minotaur":return new $1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wyvern":return new V1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ouroboros":return new F1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Griffin":return new H1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kraken":return new q1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Visitor":return new U1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Vampire Bat":return new G1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tiger Bug":return new j1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tatzelwurm":return new W1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cyclops":return new z1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chimera":return new K1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Roc":return new Q1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Worm of Sand":return new Y1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Abomination":return new J1(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.abominationSwallowedPet1,e.abominationSwallowedPet2,e.abominationSwallowedPet3);case"Red Dragon":return new Z1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Unicorn":return new X1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Loveland Frogman":return new ex(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Salmon of Knowledge":return new I_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Jersey Devil":return new ix(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pixiu":return new nx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kitsune":return new sx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nessie":return new rx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bad Dog":return new ax(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Werewolf":return new ox(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Amalgamation":return new tx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Manticore":return new lx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Phoenix":return new cx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Quetzalcoatl":return new ux(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Team Spirit":return new hx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sleipnir":return new dx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sea Serpent":return new fx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Yeti":return new px(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cerberus":return new gx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hydra":return new mx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Behemoth":return new vx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Iriomote Cat":return new yx(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ili Pika":return new _x(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Malay Tapir":return new bx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bombus Dahlbomii":return new Sx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"African Wild Dog":return new Ax(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ethiopian Wolf":return new X_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fan Mussel":return new wx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Togian Babirusa":return new Ex(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tooth Billed Pigeon":return new kx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Volcano Snail":return new Cx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Araripe Manakin":return new Px(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"European Mink":return new Dx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Proboscis Monkey":return new Tx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pygmy Hog":return new xx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Saola":return new Mx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Saker Falcon":return new Rx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Taita Shrew":return new Ix(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Darwin's Fox":return new Nx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Takhi":return new Lx(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"White-Bellied Heron":return new Ox(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Amami Rabbit":return new jx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tree Kangaroo":return new Wx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Blue-Throated Macaw":return new Bx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hirola":return new $x(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Monkey-Faced Bat":return new Vx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Takin":return new Hx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tucuxi":return new qx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pygmy Hippo":return new Fx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Roloway Monkey":return new Ux(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Spoon-Billed Sandpiper":return new Gx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Angelshark":return new zx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bonobo":return new Kx(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Giant Otter":return new iM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Giant Tortoise":return new Qx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Golden Tamarin":return new Jx(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Humphead Wrasse":return new Yx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kakapo":return new Zx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Longcomb Sawfish":return new Xx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tasmanian Devil":return new tM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Amazon River Dolphin":return new eM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Aye-aye":return new nM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Banggai Cardinalfish":return new sM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Geometric Tortoise":return new rM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Giant Pangasius":return new aM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hawaiian Monk Seal":return new oM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Marine Iguana":return new lM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Red Panda":return new cM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Taita Thrush":return new uM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Snow Leopard":return new dM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Painted Terrapin":return new hM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Amsterdam Albatross":return new fM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bay Cat":return new pM(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Black Rhino":return new gM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Blue Whale":return new mM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"California Condor":return new Up(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Green Sea Turtle":return new vM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Helmeted Hornbill":return new yM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Philippine Eagle":return new _M(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Silky Sifaka":return new bM(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sumatran Tiger":return new SM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment)}}createDefaultVersionOfPet(e,i=null,s=null){let r;return e instanceof g_&&(r=new g_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _h&&(r=new _h(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof pC&&(r=new pC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof m_&&(r=new m_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof gC&&(r=new gC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof mC&&(r=new mC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof vh&&(r=new vh(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof v_&&(r=new v_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof y_&&(r=new y_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof vC&&(r=new vC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof yC&&(r=new yC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _C&&(r=new _C(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof l1&&(r=new l1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof bC&&(r=new bC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof SC&&(r=new SC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wC&&(r=new wC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof EC&&(r=new EC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof kC&&(r=new kC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof CC&&(r=new CC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof AC&&(r=new AC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof PC&&(r=new PC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof DC&&(r=new DC(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof TC&&(r=new TC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof xC&&(r=new xC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof b_&&(r=new b_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof MC&&(r=new MC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof RC&&(r=new RC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof IC&&(r=new IC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof OC&&(r=new OC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof NC&&(r=new NC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof LC&&(r=new LC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof BC&&(r=new BC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof VC&&(r=new VC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof FC&&(r=new FC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof HC&&(r=new HC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof qC&&(r=new qC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof UC&&(r=new UC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof GC&&(r=new GC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof jC&&(r=new jC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof zC&&(r=new zC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof KC&&(r=new KC(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof yh&&(r=new yh(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof QC&&(r=new QC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof YC&&(r=new YC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof JC&&(r=new JC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof k_&&(r=new k_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ZC&&(r=new ZC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof XC&&(r=new XC(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof eA&&(r=new eA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof tA&&(r=new tA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof iA&&(r=new iA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof nA&&(r=new nA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof sA&&(r=new sA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof rA&&(r=new rA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $C&&(r=new $C(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof aA&&(r=new aA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof oA&&(r=new oA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof lA&&(r=new lA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof cA&&(r=new cA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof uA&&(r=new uA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof hA&&(r=new hA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof dA&&(r=new dA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof fA&&(r=new fA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof pA&&(r=new pA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof gA&&(r=new gA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof yA&&(r=new yA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _A&&(r=new _A(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof bA&&(r=new bA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof SA&&(r=new SA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wA&&(r=new wA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof CA&&(r=new CA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof EA&&(r=new EA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof kA&&(r=new kA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof AA&&(r=new AA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof PA&&(r=new PA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof OA&&(r=new OA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof NA&&(r=new NA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof LA&&(r=new LA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof BA&&(r=new BA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof N_&&(r=new N_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $A&&(r=new $A(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof VA&&(r=new VA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof FA&&(r=new FA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof HA&&(r=new HA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof qA&&(r=new qA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Hp&&(r=new Hp(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof UA&&(r=new UA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof O_&&(r=new O_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof jA&&(r=new jA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof WA&&(r=new WA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof c1&&(r=new c1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof zA&&(r=new zA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof KA&&(r=new KA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof QA&&(r=new QA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof YA&&(r=new YA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof JA&&(r=new JA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ZA&&(r=new ZA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof XA&&(r=new XA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof eP&&(r=new eP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof tP&&(r=new tP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof iP&&(r=new iP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof nP&&(r=new nP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof sP&&(r=new sP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof uP&&(r=new uP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof rP&&(r=new rP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof aP&&(r=new aP(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof oP&&(r=new oP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof lP&&(r=new lP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof cP&&(r=new cP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof hP&&(r=new hP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof dP&&(r=new dP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof fP&&(r=new fP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof pP&&(r=new pP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof gP&&(r=new gP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof mP&&(r=new mP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof vP&&(r=new vP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof yP&&(r=new yP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _P&&(r=new _P(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof bP&&(r=new bP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wr&&(r=new wr(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof SP&&(r=new SP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wP&&(r=new wP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof EP&&(r=new EP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof kP&&(r=new kP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof r1&&(r=new r1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof CP&&(r=new CP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof PP&&(r=new PP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof DP&&(r=new DP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof TP&&(r=new TP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $T&&(r=new $T(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof AP&&(r=new AP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof a1&&(r=new a1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof xP&&(r=new xP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof MP&&(r=new MP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof IP&&(r=new IP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof OP&&(r=new OP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof NP&&(r=new NP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof BP&&(r=new BP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof LP&&(r=new LP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $P&&(r=new $P(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof VP&&(r=new VP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof FP&&(r=new FP(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof RP&&(r=new RP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof HP&&(r=new HP(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof o1&&(r=new o1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof qP&&(r=new qP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof UP&&(r=new UP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof jP&&(r=new jP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof WP&&(r=new WP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof zP&&(r=new zP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof KP&&(r=new KP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof QP&&(r=new QP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof YP&&(r=new YP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof JP&&(r=new JP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof GP&&(r=new GP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $_&&(r=new $_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof iD&&(r=new iD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof nD&&(r=new nD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof sD&&(r=new sD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof B_&&(r=new B_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof rD&&(r=new rD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof aD&&(r=new aD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof lD&&(r=new lD(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof cD&&(r=new cD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof eD&&(r=new eD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof tD&&(r=new tD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ZP&&(r=new ZP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof XP&&(r=new XP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof oD&&(r=new oD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof uD&&(r=new uD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof hD&&(r=new hD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof dD&&(r=new dD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof fD&&(r=new fD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof pD&&(r=new pD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof gD&&(r=new gD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof mD&&(r=new mD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof vD&&(r=new vD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof yD&&(r=new yD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _D&&(r=new _D(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof bD&&(r=new bD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof SD&&(r=new SD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wD&&(r=new wD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ED&&(r=new ED(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof kD&&(r=new kD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof CD&&(r=new CD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof AD&&(r=new AD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof PD&&(r=new PD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof DD&&(r=new DD(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof TD&&(r=new TD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof xD&&(r=new xD(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof MD&&(r=new MD(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof RD&&(r=new RD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ID&&(r=new ID(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof F_&&(r=new F_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof OD&&(r=new OD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ND&&(r=new ND(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $D&&(r=new $D(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof LD&&(r=new LD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof s1&&(r=new s1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof BD&&(r=new BD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof VD&&(r=new VD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof FD&&(r=new FD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof HD&&(r=new HD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof qD&&(r=new qD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof UD&&(r=new UD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof GD&&(r=new GD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof jD&&(r=new jD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof WD&&(r=new WD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof zD&&(r=new zD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof KD&&(r=new KD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof QD&&(r=new QD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof YD&&(r=new YD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof fT&&(r=new fT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof JD&&(r=new JD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof q_&&(r=new q_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ZD&&(r=new ZD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof XD&&(r=new XD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof eT&&(r=new eT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof tT&&(r=new tT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof iT&&(r=new iT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof nT&&(r=new nT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof sT&&(r=new sT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof rT&&(r=new rT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof aT&&(r=new aT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof oT&&(r=new oT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof lT&&(r=new lT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof cT&&(r=new cT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof uT&&(r=new uT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof hT&&(r=new hT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof dT&&(r=new dT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof pT&&(r=new pT(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof gT&&(r=new gT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof mT&&(r=new mT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof vT&&(r=new vT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof yT&&(r=new yT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _T&&(r=new _T(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof bT&&(r=new bT(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof ST&&(r=new ST(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wT&&(r=new wT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ET&&(r=new ET(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof kT&&(r=new kT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof CT&&(r=new CT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof AT&&(r=new AT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof PT&&(r=new PT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof DT&&(r=new DT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof TT&&(r=new TT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof xT&&(r=new xT(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof MT&&(r=new MT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof RT&&(r=new RT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof IT&&(r=new IT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof OT&&(r=new OT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof NT&&(r=new NT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof LT&&(r=new LT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof BT&&(r=new BT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof E_&&(r=new E_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _h&&(r=new _h(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof w_&&(r=new w_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof L_&&(r=new L_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof C_&&(r=new C_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof __&&(r=new __(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof p_&&(r=new p_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof H_&&(r=new H_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Vp&&(r=new Vp(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof S_&&(r=new S_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof G_&&(r=new G_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof U_&&(r=new U_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof vh&&(r=new vh(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $p&&(r=new $p(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof j_&&(r=new j_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Q_&&(r=new Q_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Y_&&(r=new Y_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof J_&&(r=new J_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof P_&&(r=new P_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Gp&&(r=new Gp(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof eb&&(r=new eb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof tb&&(r=new tb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof W_&&(r=new W_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof z_&&(r=new z_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof K_&&(r=new K_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Z_&&(r=new Z_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof KM&&(r=new KM(this.logService,this.abilityService,this,this.gameService,e.parent,i,s,0,b(e.level))),e instanceof QM&&(r=new QM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof YM&&(r=new YM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof JM&&(r=new JM(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof ZM&&(r=new ZM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof XM&&(r=new XM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof V_&&(r=new V_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof VT&&(r=new VT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof FT&&(r=new FT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof HT&&(r=new HT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof qT&&(r=new qT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof UT&&(r=new UT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof GT&&(r=new GT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof jT&&(r=new jT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof WT&&(r=new WT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof zT&&(r=new zT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof KT&&(r=new KT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof QT&&(r=new QT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof YT&&(r=new YT(this.logService,this.abilityService,this,this.gameService,e.parent,i,s,0,b(e.level))),e instanceof qp&&(r=new qp(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof JT&&(r=new JT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ZT&&(r=new ZT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof GA&&(r=new GA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof XT&&(r=new XT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof e1&&(r=new e1(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof t1&&(r=new t1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof i1&&(r=new i1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wM&&(r=new wM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof EM&&(r=new EM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof kM&&(r=new kM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof CM&&(r=new CM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof AM&&(r=new AM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof PM&&(r=new PM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof DM&&(r=new DM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof TM&&(r=new TM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof xM&&(r=new xM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof MM&&(r=new MM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof RM&&(r=new RM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof IM&&(r=new IM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof OM&&(r=new OM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof NM&&(r=new NM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof LM&&(r=new LM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof BM&&(r=new BM(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof $M&&(r=new $M(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof VM&&(r=new VM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof FM&&(r=new FM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof HM&&(r=new HM(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof qM&&(r=new qM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof UM&&(r=new UM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof D_&&(r=new D_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof T_&&(r=new T_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof R_&&(r=new R_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof GM&&(r=new GM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof jM&&(r=new jM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof WM&&(r=new WM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof N3&&(r=new N3(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof n1&&(r=new n1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof zM&&(r=new zM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof u1&&(r=new u1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof d1&&(r=new d1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof f1&&(r=new f1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof p1&&(r=new p1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof g1&&(r=new g1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof m1&&(r=new m1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof v1&&(r=new v1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof y1&&(r=new y1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _1&&(r=new _1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof b1&&(r=new b1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof S1&&(r=new S1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof h1&&(r=new h1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof w1&&(r=new w1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof E1&&(r=new E1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof k1&&(r=new k1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof C1&&(r=new C1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof A1&&(r=new A1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof D1&&(r=new D1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof T1&&(r=new T1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof x1&&(r=new x1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof M1&&(r=new M1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof P1&&(r=new P1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof R1&&(r=new R1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof I1&&(r=new I1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof O1&&(r=new O1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof N1&&(r=new N1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof L1&&(r=new L1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof B1&&(r=new B1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $1&&(r=new $1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof V1&&(r=new V1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof F1&&(r=new F1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof H1&&(r=new H1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof q1&&(r=new q1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof U1&&(r=new U1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof G1&&(r=new G1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof j1&&(r=new j1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof W1&&(r=new W1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof z1&&(r=new z1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof K1&&(r=new K1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Q1&&(r=new Q1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Y1&&(r=new Y1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof J1&&(r=new J1(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof Z1&&(r=new Z1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof X1&&(r=new X1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ex&&(r=new ex(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof I_&&(r=new I_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ix&&(r=new ix(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof nx&&(r=new nx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof sx&&(r=new sx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof rx&&(r=new rx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ax&&(r=new ax(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ox&&(r=new ox(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof tx&&(r=new tx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof lx&&(r=new lx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof cx&&(r=new cx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ux&&(r=new ux(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof hx&&(r=new hx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof dx&&(r=new dx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof fx&&(r=new fx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof px&&(r=new px(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof gx&&(r=new gx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof mx&&(r=new mx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof vx&&(r=new vx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof yx&&(r=new yx(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof _x&&(r=new _x(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof bx&&(r=new bx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Sx&&(r=new Sx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Ax&&(r=new Ax(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof X_&&(r=new X_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wx&&(r=new wx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Ex&&(r=new Ex(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof kx&&(r=new kx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Cx&&(r=new Cx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Px&&(r=new Px(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Dx&&(r=new Dx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Tx&&(r=new Tx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof xx&&(r=new xx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Mx&&(r=new Mx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Rx&&(r=new Rx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Ix&&(r=new Ix(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Nx&&(r=new Nx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Lx&&(r=new Lx(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof Ox&&(r=new Ox(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof jx&&(r=new jx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Wx&&(r=new Wx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Bx&&(r=new Bx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $x&&(r=new $x(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Vx&&(r=new Vx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Hx&&(r=new Hx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof qx&&(r=new qx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Fx&&(r=new Fx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Ux&&(r=new Ux(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof Gx&&(r=new Gx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof zx&&(r=new zx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Kx&&(r=new Kx(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof iM&&(r=new iM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Qx&&(r=new Qx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Jx&&(r=new Jx(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof Yx&&(r=new Yx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Zx&&(r=new Zx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Xx&&(r=new Xx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof tM&&(r=new tM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof eM&&(r=new eM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof nM&&(r=new nM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof sM&&(r=new sM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof rM&&(r=new rM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof aM&&(r=new aM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof oM&&(r=new oM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof lM&&(r=new lM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof cM&&(r=new cM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof uM&&(r=new uM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof dM&&(r=new dM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof hM&&(r=new hM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof fM&&(r=new fM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof pM&&(r=new pM(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof gM&&(r=new gM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof mM&&(r=new mM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Up&&(r=new Up(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof vM&&(r=new vM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof yM&&(r=new yM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _M&&(r=new _M(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof bM&&(r=new bM(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof SM&&(r=new SM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),r}getRandomPet(e){let s,i=Rn(1,6);s="Turtle"==e.pack?this.turtlePackPets.get(i):"Puppy"==e.pack?this.puppyPackPets.get(i):"Star"==e.pack?this.starPackPets.get(i):"Golden"==e.pack?this.goldenPackPets.get(i):"Unicorn"==e.pack?this.unicornPackPets.get(i):"Danger"==e.pack?this.dangerPackPets.get(i):this.playerCustomPackPets.get(e.pack).get(i);let a=s[Rn(0,s.length-1)];return this.createPet({attack:null,equipment:null,exp:Rn(0,5),health:null,name:a,mana:null},e)}getRandomFaintPet(e,i){let s={1:["Ant","Cricket","Groundhog","Pied Tamarin"],2:["Rat","Hedgehog","Flamingo","Spider","Stork","Beluga Sturgeon","Squid","Black Necked Stilt","Frost Wolf","Mothman","Gargoyle","Bigfoot","Nightcrawler"],3:["Badger","Sheep","Anteater","Hoopoe Bird","Mole","Pangolin","Blobfish","Flea","Weasel","Osprey","Bear","Betta Fish","Skeleton Dog","Fur-Bearing Trout","Calygreyhound","Slime"],4:["Turtle","Deer","Microbe","Tahr","Chameleon","Cuttlefish","Vaquita","Slug","Chimera","Visitor"],5:["Rooster","Eagle","Fire Ant","Stonefish","Nyala","Nurse Shark","Wolf","Nessie","Pixiu","Kappa"],6:["Mammoth","Snapping Turtle","Lionfish","Warthog","Walrus","Phoenix","Sea Serpent","Hydra"]},r=[];r=i&&s[i]?s[i]:[].concat(...Object.values(s));let a=r[Rn(0,r.length-1)];return this.createPet({name:a,attack:null,equipment:null,exp:0,health:null,mana:null},e)}}return n.\u0275fac=function(e){return new(e||n)(H(x_),H(M_),H(Sh))},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function b(n){return 1==n?0:2==n?2:5}function yK(n,t){if(1&n){const e=qr();p(0,"span",22),Ue("click",function(){return It(e),Ge().setExp(0)}),w(1,"x"),g()}}function _K(n,t){if(1&n&&(p(0,"option",9),w(1),g()),2&n){const e=t.$implicit;z("ngValue",e),F(1),Ii(e)}}function bK(n,t){if(1&n&&(p(0,"option",25),w(1),g()),2&n){const e=t.$implicit,i=Ge(2);z("ngValue",e)("hidden",i.optionHidden(e))("disabled",i.optionHidden(e)),F(1),Ii(e)}}function SK(n,t){if(1&n&&(p(0,"optgroup",23),Te(1,bK,2,4,"option",24),g()),2&n){const e=t.$implicit;z("label","Tier "+e.key),F(1),z("ngForOf",e.value)}}function wK(n,t){if(1&n){const e=qr();p(0,"button",26),Ue("click",function(){return It(e),Ge().toggleFlyOut()}),w(1,">"),g()}}function EK(n,t){if(1&n&&(p(0,"option",25),w(1),g()),2&n){const e=t.$implicit,i=Ge(4);z("ngValue",e)("hidden",i.optionHidden(e))("disabled",i.optionHidden(e)),F(1),Ii(e)}}function kK(n,t){if(1&n&&(p(0,"optgroup",23),Te(1,EK,2,4,"option",24),g()),2&n){const e=t.$implicit;z("label","Tier "+e.key),F(1),z("ngForOf",e.value)}}function CK(n,t){if(1&n&&(p(0,"div"),p(1,"label",29),w(2,"Swallowed Pet"),g(),p(3,"select",30),p(4,"option",9),w(5,"None"),g(),Te(6,kK,2,2,"optgroup",12),Ro(7,"keyvalue"),g(),g()),2&n){const e=Ge(2);F(4),z("ngValue",null),F(2),z("ngForOf",Io(7,2,e.pets))}}function AK(n,t){if(1&n&&(p(0,"option",25),w(1),g()),2&n){const e=t.$implicit,i=Ge(5);z("ngValue",e)("hidden",i.optionHidden(e))("disabled",i.optionHidden(e)),F(1),Ii(e)}}function PK(n,t){if(1&n&&(p(0,"optgroup",23),Te(1,AK,2,4,"option",24),g()),2&n){const e=t.$implicit;z("label","Tier "+e.key),F(1),z("ngForOf",e.value)}}function DK(n,t){if(1&n&&(p(0,"div"),p(1,"label",32),w(2,"Swallowed Pet"),g(),p(3,"select",33),p(4,"option",9),w(5,"None"),g(),Te(6,PK,2,2,"optgroup",12),Ro(7,"keyvalue"),g(),g()),2&n){const e=t.index,i=Ge(3);F(1),Zf("for","abominationSwallowedPet",e+1,""),F(2),Zf("formControlName","abominationSwallowedPet",e+1,""),F(1),z("ngValue",null),F(2),z("ngForOf",Io(7,4,i.pets))}}const TK=function(){return[]};function xK(n,t){if(1&n&&(p(0,"div"),Te(1,DK,8,6,"div",31),g()),2&n){const e=Ge(2);F(1),z("ngForOf",function(n,t,e){const i=qi()+n,s=K();return s[i]===me?Hr(s,i,e?t.call(e):t()):function(n,t){return n[t]}(s,i)}(1,TK).constructor(e.pet.level))}}function MK(n,t){1&n&&(p(0,"div"),p(1,"label",34),w(2,"Battles Fought"),g(),ne(3,"input",35),g())}function RK(n,t){1&n&&(p(0,"div"),p(1,"label",36),w(2,"Times Hurt"),g(),ne(3,"input",37),g())}function IK(n,t){1&n&&(p(0,"div"),p(1,"label",36),w(2,"Times Hurt"),g(),ne(3,"input",37),g())}function OK(n,t){if(1&n&&(p(0,"div",27),Te(1,CK,8,4,"div",28),Te(2,xK,2,2,"div",28),Te(3,MK,4,0,"div",28),Te(4,RK,4,0,"div",28),Te(5,IK,4,0,"div",28),g()),2&n){const e=Ge();F(1),z("ngIf","Beluga Whale"==e.pet.name),F(1),z("ngIf","Abomination"==e.pet.name),F(1),z("ngIf","Slime"==e.pet.name),F(1),z("ngIf","Sabertooth Tiger"==e.pet.name),F(1),z("ngIf","Tuna"==e.pet.name)}}function NK(n,t){if(1&n&&(p(0,"option",9),w(1),g()),2&n){const e=t.$implicit;z("ngValue",e.value),F(1),Ii(e.key)}}function LK(n,t){if(1&n&&(p(0,"option",9),w(1),g()),2&n){const e=t.$implicit;z("ngValue",e.value),F(1),Ii(e.key)}}function BK(n,t){if(1&n&&(p(0,"optgroup",38),Te(1,LK,2,2,"option",11),Ro(2,"keyvalue"),g()),2&n){const e=Ge();F(1),z("ngForOf",Io(2,1,e.ailmentEquipment))}}function $K(n,t){1&n&&(p(0,"div",39),ne(1,"input",40),g())}let L3=(()=>{class n{constructor(e,i){this.petService=e,this.equipmentService=i,this.showFlyOut=!1,this.attackHealthMax=50,this.showTokenPets=!1,this.tokenPets=["Bee","Bus","Chick","Dirty Rat","Lizard Tail","Ram","Smaller Slug","Smallest Slug","Zombie Cricket","Zombie Fly","Chim-Goat","Chim-Lion","Chim-Snake","Daycrawler","Head","Monty","Nessie?","Smaller Slime","Young Phoenix","Good Dog"]}ngOnInit(){var e;this.initSelector(),this.fixLoadEquipment(),"Behemoth"==(null===(e=this.pet)||void 0===e?void 0:e.name)&&(this.attackHealthMax=100)}initSelector(){this.initPets(),this.initEquipment(),this.initForm()}initPets(){this.pets=new Map;for(let e=1;e<=6;e++)this.pets.set(e,[]);for(let[e,i]of this.petService.turtlePackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.puppyPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.starPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.goldenPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.unicornPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.dangerPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.customPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.pets)this.pets.set(e,[...new Set(i)]);this.initStartOfBattlePets(),console.log("pets",this.pets)}initStartOfBattlePets(){this.startOfBattlePets=new Map;for(let e=1;e<=6;e++){let i=[];for(let s of this.pets.get(e))this.petService.startOfBattlePets.includes(s)&&i.push(s);this.startOfBattlePets.set(e,i)}}getPack(e){let i;if("Turtle"==e.pack)i=this.petService.turtlePackPets;else if("Puppy"==e.pack)i=this.petService.puppyPackPets;else if("Star"==e.pack)i=this.petService.starPackPets;else if("Golden"==e.pack)i=this.petService.goldenPackPets;else if("Unicorn"==e.pack)i=this.petService.unicornPackPets;else if("Danger"==e.pack)i=this.petService.dangerPackPets;else try{i=this.buildCustomPack(e.pack)}catch(s){i=this.petService.turtlePackPets}return(0,vt.cloneDeep)(i)}buildCustomPack(e){let i;for(let r of this.customPacks.controls)if(r.get("name").value==e){i=r;break}let s=new Map;for(let r=1;r<=6;r++)s.set(r,i.get(`tier${r}Pets`).value);return s}initEquipment(){this.equipment=this.equipmentService.getInstanceOfAllEquipment(),this.ailmentEquipment=this.equipmentService.getInstanceOfAllAilments()}initForm(){this.formGroup.get("name").valueChanges.subscribe(e=>{null!=e?this.substitutePet(!0):this.removePet()}),this.formGroup.get("attack").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("health").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("exp").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("equipment").valueChanges.subscribe(e=>{if(null!=e&&null==e.reset){let i=this.equipment.get(e.name);null==i&&(i=this.ailmentEquipment.get(e.name)),this.formGroup.get("equipment").setValue(i,{emitEvent:!1})}this.substitutePet(!1)}),this.formGroup.get("belugaSwallowedPet").valueChanges.subscribe(e=>{this.setBelugaSwallow(e)}),this.formGroup.get("abominationSwallowedPet1").valueChanges.subscribe(e=>{this.setSwallowedPets(e)}),this.formGroup.get("abominationSwallowedPet2").valueChanges.subscribe(e=>{this.setSwallowedPets(e)}),this.formGroup.get("abominationSwallowedPet3").valueChanges.subscribe(e=>{this.setSwallowedPets(e)}),this.formGroup.get("mana").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("battlesFought").valueChanges.subscribe(e=>{this.setBattlesFought(e)}),this.formGroup.get("timesHurt").valueChanges.subscribe(e=>{this.setTimesHurt(e)})}setExp(e){this.formGroup.get("exp").setValue(e)}getIsSelected(e){return this.formGroup.get("exp").value>=e}showRemoveExp(){return this.formGroup.get("exp").value>0}substitutePet(e=!1){setTimeout(()=>{var i;let s=this.formGroup.value;e&&(s.attack=null,s.health=null,s.mana=null);let r=s.equipment;null!=r&&(s.equipment=null!==(i=this.equipment.get(r.name))&&void 0!==i?i:this.ailmentEquipment.get(r.name));let a=this.petService.createPet(s,this.player);this.player.setPet(this.index,a,!0),e&&(this.formGroup.get("attack").setValue(a.attack,{emitEvent:!1}),this.formGroup.get("health").setValue(a.health,{emitEvent:!1}),this.formGroup.get("mana").setValue(a.mana,{emitEvent:!1})),this.attackHealthMax="Behemoth"==this.formGroup.get("name").value?100:50})}setBelugaSwallow(e){let i=this.player.getPet(this.index);null!=i&&(i.belugaSwallowedPet=e)}setSwallowedPets(e){let i=this.player.getPet(this.index);if(null==i)return;let s=[];null!=this.formGroup.get("abominationSwallowedPet1").value&&s.push(this.formGroup.get("abominationSwallowedPet1").value),null!=this.formGroup.get("abominationSwallowedPet2").value&&s.push(this.formGroup.get("abominationSwallowedPet2").value),null!=this.formGroup.get("abominationSwallowedPet3").value&&s.push(this.formGroup.get("abominationSwallowedPet3").value),console.log(s),i.abominationSwallowedPet1=s[0],i.abominationSwallowedPet2=s[1],i.abominationSwallowedPet3=s[2]}setBattlesFought(e){let i=this.player.getPet(this.index);null!=i&&(i.battlesFought=e)}setTimesHurt(e){let i=this.player.getPet(this.index);null!=i&&(i.timesHurt=e,this.substitutePet(!1))}showFlyOutButton(){return["Beluga Whale","Abomination","Slime","Sabertooth Tiger","Tuna"].includes(this.formGroup.get("name").value)}toggleFlyOut(){this.showFlyOut=!this.showFlyOut}removePet(){this.player.setPet(this.index,null,!0),this.formGroup.get("name").setValue(null,{emitEvent:!1}),this.formGroup.get("attack").setValue(0,{emitEvent:!1}),this.formGroup.get("health").setValue(0,{emitEvent:!1}),this.formGroup.get("exp").setValue(0,{emitEvent:!1}),this.formGroup.get("equipment").setValue(null,{emitEvent:!1}),this.formGroup.get("mana").setValue(0,{emitEvent:!1})}optionHidden(e){var i;if(this.allPets)return!1;let s=this.getPack(this.player);for(let[r,a]of s)if(a.includes(e))return!1;if(this.angler){let r=this.getPack(this.opponent);for(let[a,o]of r)if(o.includes(e))return!1}return(null===(i=this.player.getPet(this.index))||void 0===i?void 0:i.name)!=e}fixLoadEquipment(){let e=this.formGroup.get("equipment").value;if(null==e)return;let i=this.equipment.get(e.name);null==i&&(i=this.ailmentEquipment.get(e.name)),this.formGroup.get("equipment").setValue(i)}}return n.\u0275fac=function(e){return new(e||n)($(ib),$(Ci))},n.\u0275cmp=Bn({type:n,selectors:[["app-pet-selector"]],inputs:{pet:"pet",player:"player",opponent:"opponent",index:"index",angler:"angler",ailments:"ailments",allPets:"allPets",mana:"mana",formGroup:"formGroup",customPacks:"customPacks",showTokenPets:"showTokenPets"},decls:40,vars:28,consts:[[1,"card","p-3"],[1,"row","form-group",3,"formGroup"],[1,"col-12","d-flex","level-bar-numbers","mb-1"],[1,"level-3"],[1,"col-12","d-flex","level-bar","mb-2"],["class","remove-exp",3,"click",4,"ngIf"],[3,"click"],[1,"col-12","mb-2","d-flex"],["formControlName","name",1,"form-control"],[3,"ngValue"],["label","Token Pets",3,"hidden"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"label",4,"ngFor","ngForOf"],["class","btn btn-secondary",3,"click",4,"ngIf"],["class","fly-out border p-3",4,"ngIf"],[1,"col-12","mb-2"],["formControlName","equipment",1,"form-control"],["label","Ailments",4,"ngIf"],["class","col-12 d-flex justify-content-center",4,"ngIf"],[1,"col-6"],["formControlName","attack","type","number","min","1",1,"form-control","select-attack",3,"max"],["formControlName","health","type","number","min","1",1,"form-control","select-health",3,"max"],[1,"remove-exp",3,"click"],[3,"label"],[3,"ngValue","hidden","disabled",4,"ngFor","ngForOf"],[3,"ngValue","hidden","disabled"],[1,"btn","btn-secondary",3,"click"],[1,"fly-out","border","p-3"],[4,"ngIf"],["for","belugaSwallowedPet"],["formControlName","belugaSwallowedPet",1,"form-control"],[4,"ngFor","ngForOf"],[3,"for"],[1,"form-control",3,"formControlName"],["for","battlesFought"],["formControlName","battlesFought","type","number","max","99",1,"form-control"],["for","timesHurt"],["formControlName","timesHurt","type","number","min","0","max","99",1,"form-control"],["label","Ailments"],[1,"col-12","d-flex","justify-content-center"],["formControlName","mana","type","number","min","0","max","100",1,"form-control","select-mana"]],template:function(e,i){1&e&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"span"),w(4,"1"),g(),ne(5,"span"),p(6,"span"),w(7,"2"),g(),ne(8,"span"),p(9,"span",3),w(10,"3"),g(),g(),p(11,"div",4),Te(12,yK,2,0,"span",5),p(13,"span",6),Ue("click",function(){return i.setExp(1)}),g(),p(14,"span",6),Ue("click",function(){return i.setExp(2)}),g(),p(15,"span",6),Ue("click",function(){return i.setExp(3)}),g(),p(16,"span",6),Ue("click",function(){return i.setExp(4)}),g(),p(17,"span",6),Ue("click",function(){return i.setExp(5)}),g(),g(),p(18,"div",7),p(19,"select",8),p(20,"option",9),w(21,"None"),g(),p(22,"optgroup",10),Te(23,_K,2,2,"option",11),g(),Te(24,SK,2,2,"optgroup",12),Ro(25,"keyvalue"),g(),Te(26,wK,2,0,"button",13),Te(27,OK,6,5,"div",14),g(),p(28,"div",15),p(29,"select",16),p(30,"option",9),w(31,"None"),g(),Te(32,NK,2,2,"option",11),Ro(33,"keyvalue"),Te(34,BK,3,3,"optgroup",17),g(),g(),Te(35,$K,2,0,"div",18),p(36,"div",19),ne(37,"input",20),g(),p(38,"div",19),ne(39,"input",21),g(),g(),g()),2&e&&(F(1),z("formGroup",i.formGroup),F(11),z("ngIf",i.showRemoveExp()),F(1),Os(i.getIsSelected(1)?"selected":""),F(1),Os(i.getIsSelected(2)?"selected":""),F(1),Os(i.getIsSelected(3)?"selected":""),F(1),Os(i.getIsSelected(4)?"selected":""),F(1),Os(i.getIsSelected(5)?"selected":""),F(3),z("ngValue",null),F(2),z("hidden",!i.showTokenPets),F(1),z("ngForOf",i.tokenPets),F(1),z("ngForOf",Io(25,24,i.pets)),F(2),z("ngIf",i.showFlyOutButton()),F(1),z("ngIf",i.showFlyOut),F(3),z("ngValue",null),F(2),z("ngForOf",Io(33,26,i.equipment)),F(2),z("ngIf",i.ailments),F(1),z("ngIf",i.mana),F(2),z("max",i.attackHealthMax),F(2),z("max",i.attackHealthMax))},directives:[dc,Ha,ph,Op,hc,Ho,tC,nC,Ap,Fa,u_,sC,h_],pipes:[E0],styles:[".select-attack[_ngcontent-%COMP%]{background-color:gray;color:#fff}.select-health[_ngcontent-%COMP%]{background-color:#ca0202;color:#fff}.select-mana[_ngcontent-%COMP%]{background-color:#7388f8;color:#fff;width:45%}.select-attack[_ngcontent-%COMP%], .select-health[_ngcontent-%COMP%], .select-mana[_ngcontent-%COMP%]{font-size:1.5em;padding-right:0}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% / 5);height:100%}.level-bar[_ngcontent-%COMP%]{position:relative}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:initial;border-radius:initial;width:initial;position:absolute;left:0;bottom:.33em}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.level-3[_ngcontent-%COMP%]{text-align:right}.fly-out[_ngcontent-%COMP%]{position:absolute;left:100%;background-color:#fff;width:100%;z-index:1;box-shadow:12px 4px 9px 7px #0000001a}"]}),n})();var In="top",hs="bottom",ds="right",On="left",nb="auto",wh=[In,hs,ds,On],pc="start",Eh="end",B3="clippingParents",eR="viewport",kh="popper",$3="reference",tR=wh.reduce(function(n,t){return n.concat([t+"-"+pc,t+"-"+Eh])},[]),iR=[].concat(wh,[nb]).reduce(function(n,t){return n.concat([t,t+"-"+pc,t+"-"+Eh])},[]),V3="beforeRead",F3="read",H3="afterRead",q3="beforeMain",U3="main",G3="afterMain",j3="beforeWrite",W3="write",z3="afterWrite",K3=[V3,F3,H3,q3,U3,G3,j3,W3,z3];function Wr(n){return n?(n.nodeName||"").toLowerCase():null}function fs(n){if(null==n)return window;if("[object Window]"!==n.toString()){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function gc(n){return n instanceof fs(n).Element||n instanceof Element}function Hs(n){return n instanceof fs(n).HTMLElement||n instanceof HTMLElement}function nR(n){return"undefined"!=typeof ShadowRoot&&(n instanceof fs(n).ShadowRoot||n instanceof ShadowRoot)}const sR={name:"applyStyles",enabled:!0,phase:"write",fn:function(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},s=t.attributes[e]||{},r=t.elements[e];!Hs(r)||!Wr(r)||(Object.assign(r.style,i),Object.keys(s).forEach(function(a){var o=s[a];!1===o?r.removeAttribute(a):r.setAttribute(a,!0===o?"":o)}))})},effect:function(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var s=t.elements[i],r=t.attributes[i]||{},o=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]).reduce(function(l,h){return l[h]="",l},{});!Hs(s)||!Wr(s)||(Object.assign(s.style,o),Object.keys(r).forEach(function(l){s.removeAttribute(l)}))})}},requires:["computeStyles"]};function zr(n){return n.split("-")[0]}var mc=Math.max,sb=Math.min,Ch=Math.round;function rR(){var n=navigator.userAgentData;return null!=n&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Q3(){return!/^((?!chrome|android).)*safari/i.test(rR())}function Ah(n,t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);var i=n.getBoundingClientRect(),s=1,r=1;t&&Hs(n)&&(s=n.offsetWidth>0&&Ch(i.width)/n.offsetWidth||1,r=n.offsetHeight>0&&Ch(i.height)/n.offsetHeight||1);var o=(gc(n)?fs(n):window).visualViewport,l=!Q3()&&e,h=(i.left+(l&&o?o.offsetLeft:0))/s,d=(i.top+(l&&o?o.offsetTop:0))/r,m=i.width/s,y=i.height/r;return{width:m,height:y,top:d,right:h+m,bottom:d+y,left:h,x:h,y:d}}function aR(n){var t=Ah(n),e=n.offsetWidth,i=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:i}}function Y3(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&nR(e)){var i=t;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Ga(n){return fs(n).getComputedStyle(n)}function HK(n){return["table","td","th"].indexOf(Wr(n))>=0}function Go(n){return((gc(n)?n.ownerDocument:n.document)||window.document).documentElement}function rb(n){return"html"===Wr(n)?n:n.assignedSlot||n.parentNode||(nR(n)?n.host:null)||Go(n)}function J3(n){return Hs(n)&&"fixed"!==Ga(n).position?n.offsetParent:null}function jp(n){for(var t=fs(n),e=J3(n);e&&HK(e)&&"static"===Ga(e).position;)e=J3(e);return e&&("html"===Wr(e)||"body"===Wr(e)&&"static"===Ga(e).position)?t:e||function(n){var t=/firefox/i.test(rR());if(/Trident/i.test(rR())&&Hs(n)&&"fixed"===Ga(n).position)return null;var s=rb(n);for(nR(s)&&(s=s.host);Hs(s)&&["html","body"].indexOf(Wr(s))<0;){var r=Ga(s);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return s;s=s.parentNode}return null}(n)||t}function oR(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Wp(n,t,e){return mc(n,sb(t,e))}function X3(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function eV(n,t){return t.reduce(function(e,i){return e[i]=n,e},{})}const tV={name:"arrow",enabled:!0,phase:"main",fn:function(n){var t,e=n.state,i=n.name,s=n.options,r=e.elements.arrow,a=e.modifiersData.popperOffsets,o=zr(e.placement),l=oR(o),d=[On,ds].indexOf(o)>=0?"height":"width";if(r&&a){var m=function(t,e){return X3("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:eV(t,wh))}(s.padding,e),y=aR(r),S="y"===l?In:On,k="y"===l?hs:ds,T=e.rects.reference[d]+e.rects.reference[l]-a[l]-e.rects.popper[d],D=a[l]-e.rects.reference[l],N=jp(r),I=N?"y"===l?N.clientHeight||0:N.clientWidth||0:0,Y=I/2-y[d]/2+(T/2-D/2),oe=Wp(m[S],Y,I-y[d]-m[k]);e.modifiersData[i]=((t={})[l]=oe,t.centerOffset=oe-Y,t)}},effect:function(n){var t=n.state,i=n.options.element,s=void 0===i?"[data-popper-arrow]":i;null!=s&&("string"==typeof s&&!(s=t.elements.popper.querySelector(s))||!Y3(t.elements.popper,s)||(t.elements.arrow=s))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ph(n){return n.split("-")[1]}var zK={top:"auto",right:"auto",bottom:"auto",left:"auto"};function iV(n){var t,e=n.popper,i=n.popperRect,s=n.placement,r=n.variation,a=n.offsets,o=n.position,l=n.gpuAcceleration,h=n.adaptive,d=n.roundOffsets,m=n.isFixed,y=a.x,S=void 0===y?0:y,k=a.y,T=void 0===k?0:k,D="function"==typeof d?d({x:S,y:T}):{x:S,y:T};S=D.x,T=D.y;var N=a.hasOwnProperty("x"),I=a.hasOwnProperty("y"),U=On,O=In,G=window;if(h){var Y=jp(e),oe="clientHeight",pe="clientWidth";Y===fs(e)&&"static"!==Ga(Y=Go(e)).position&&"absolute"===o&&(oe="scrollHeight",pe="scrollWidth"),(s===In||(s===On||s===ds)&&r===Eh)&&(O=hs,T-=(m&&Y===G&&G.visualViewport?G.visualViewport.height:Y[oe])-i.height,T*=l?1:-1),s!==On&&(s!==In&&s!==hs||r!==Eh)||(U=ds,S-=(m&&Y===G&&G.visualViewport?G.visualViewport.width:Y[pe])-i.width,S*=l?1:-1)}var st,ct=Object.assign({position:o},h&&zK),Je=!0===d?function(n,t){var i=n.y,s=t.devicePixelRatio||1;return{x:Ch(n.x*s)/s||0,y:Ch(i*s)/s||0}}({x:S,y:T},fs(e)):{x:S,y:T};return S=Je.x,T=Je.y,Object.assign({},ct,l?((st={})[O]=I?"0":"",st[U]=N?"0":"",st.transform=(G.devicePixelRatio||1)<=1?"translate("+S+"px, "+T+"px)":"translate3d("+S+"px, "+T+"px, 0)",st):((t={})[O]=I?T+"px":"",t[U]=N?S+"px":"",t.transform="",t))}const lR={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(n){var t=n.state,e=n.options,i=e.gpuAcceleration,s=void 0===i||i,r=e.adaptive,a=void 0===r||r,o=e.roundOffsets,l=void 0===o||o,h={placement:zr(t.placement),variation:Ph(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,iV(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,iV(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var ab={passive:!0};const cR={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(n){var t=n.state,e=n.instance,i=n.options,s=i.scroll,r=void 0===s||s,a=i.resize,o=void 0===a||a,l=fs(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&h.forEach(function(d){d.addEventListener("scroll",e.update,ab)}),o&&l.addEventListener("resize",e.update,ab),function(){r&&h.forEach(function(d){d.removeEventListener("scroll",e.update,ab)}),o&&l.removeEventListener("resize",e.update,ab)}},data:{}};var JK={left:"right",right:"left",bottom:"top",top:"bottom"};function ob(n){return n.replace(/left|right|bottom|top/g,function(t){return JK[t]})}var ZK={start:"end",end:"start"};function nV(n){return n.replace(/start|end/g,function(t){return ZK[t]})}function uR(n){var t=fs(n);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function hR(n){return Ah(Go(n)).left+uR(n).scrollLeft}function dR(n){var t=Ga(n);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function sV(n){return["html","body","#document"].indexOf(Wr(n))>=0?n.ownerDocument.body:Hs(n)&&dR(n)?n:sV(rb(n))}function zp(n,t){var e;void 0===t&&(t=[]);var i=sV(n),s=i===(null==(e=n.ownerDocument)?void 0:e.body),r=fs(i),a=s?[r].concat(r.visualViewport||[],dR(i)?i:[]):i,o=t.concat(a);return s?o:o.concat(zp(rb(a)))}function fR(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function rV(n,t,e){return t===eR?fR(function(n,t){var e=fs(n),i=Go(n),s=e.visualViewport,r=i.clientWidth,a=i.clientHeight,o=0,l=0;if(s){r=s.width,a=s.height;var h=Q3();(h||!h&&"fixed"===t)&&(o=s.offsetLeft,l=s.offsetTop)}return{width:r,height:a,x:o+hR(n),y:l}}(n,e)):gc(t)?function(n,t){var e=Ah(n,!1,"fixed"===t);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}(t,e):fR(function(n){var t,e=Go(n),i=uR(n),s=null==(t=n.ownerDocument)?void 0:t.body,r=mc(e.scrollWidth,e.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),a=mc(e.scrollHeight,e.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),o=-i.scrollLeft+hR(n),l=-i.scrollTop;return"rtl"===Ga(s||e).direction&&(o+=mc(e.clientWidth,s?s.clientWidth:0)-r),{width:r,height:a,x:o,y:l}}(Go(n)))}function aV(n){var l,t=n.reference,e=n.element,i=n.placement,s=i?zr(i):null,r=i?Ph(i):null,a=t.x+t.width/2-e.width/2,o=t.y+t.height/2-e.height/2;switch(s){case In:l={x:a,y:t.y-e.height};break;case hs:l={x:a,y:t.y+t.height};break;case ds:l={x:t.x+t.width,y:o};break;case On:l={x:t.x-e.width,y:o};break;default:l={x:t.x,y:t.y}}var h=s?oR(s):null;if(null!=h){var d="y"===h?"height":"width";switch(r){case pc:l[h]=l[h]-(t[d]/2-e[d]/2);break;case Eh:l[h]=l[h]+(t[d]/2-e[d]/2)}}return l}function Dh(n,t){void 0===t&&(t={});var i=t.placement,s=void 0===i?n.placement:i,r=t.strategy,a=void 0===r?n.strategy:r,o=t.boundary,l=void 0===o?B3:o,h=t.rootBoundary,d=void 0===h?eR:h,m=t.elementContext,y=void 0===m?kh:m,S=t.altBoundary,k=void 0!==S&&S,T=t.padding,D=void 0===T?0:T,N=X3("number"!=typeof D?D:eV(D,wh)),U=n.rects.popper,O=n.elements[k?y===kh?$3:kh:y],G=function(n,t,e,i){var s="clippingParents"===t?function(n){var t=zp(rb(n)),i=["absolute","fixed"].indexOf(Ga(n).position)>=0&&Hs(n)?jp(n):n;return gc(i)?t.filter(function(s){return gc(s)&&Y3(s,i)&&"body"!==Wr(s)}):[]}(n):[].concat(t),r=[].concat(s,[e]),o=r.reduce(function(l,h){var d=rV(n,h,i);return l.top=mc(d.top,l.top),l.right=sb(d.right,l.right),l.bottom=sb(d.bottom,l.bottom),l.left=mc(d.left,l.left),l},rV(n,r[0],i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}(gc(O)?O:O.contextElement||Go(n.elements.popper),l,d,a),Y=Ah(n.elements.reference),oe=aV({reference:Y,element:U,strategy:"absolute",placement:s}),pe=fR(Object.assign({},U,oe)),ve=y===kh?pe:Y,Le={top:G.top-ve.top+N.top,bottom:ve.bottom-G.bottom+N.bottom,left:G.left-ve.left+N.left,right:ve.right-G.right+N.right},ct=n.modifiersData.offset;if(y===kh&&ct){var Je=ct[s];Object.keys(Le).forEach(function(st){var ui=[ds,hs].indexOf(st)>=0?1:-1,hi=[In,hs].indexOf(st)>=0?"y":"x";Le[st]+=Je[hi]*ui})}return Le}const oV={name:"flip",enabled:!0,phase:"main",fn:function(n){var t=n.state,e=n.options,i=n.name;if(!t.modifiersData[i]._skip){for(var s=e.mainAxis,r=void 0===s||s,a=e.altAxis,o=void 0===a||a,l=e.fallbackPlacements,h=e.padding,d=e.boundary,m=e.rootBoundary,y=e.altBoundary,S=e.flipVariations,k=void 0===S||S,T=e.allowedAutoPlacements,D=t.options.placement,N=zr(D),U=l||(N!==D&&k?function(n){if(zr(n)===nb)return[];var t=ob(n);return[nV(n),t,nV(t)]}(D):[ob(D)]),O=[D].concat(U).reduce(function(gt,ms){return gt.concat(zr(ms)===nb?function(n,t){void 0===t&&(t={});var s=t.boundary,r=t.rootBoundary,a=t.padding,o=t.flipVariations,l=t.allowedAutoPlacements,h=void 0===l?iR:l,d=Ph(t.placement),m=d?o?tR:tR.filter(function(k){return Ph(k)===d}):wh,y=m.filter(function(k){return h.indexOf(k)>=0});0===y.length&&(y=m);var S=y.reduce(function(k,T){return k[T]=Dh(n,{placement:T,boundary:s,rootBoundary:r,padding:a})[zr(T)],k},{});return Object.keys(S).sort(function(k,T){return S[k]-S[T]})}(t,{placement:ms,boundary:d,rootBoundary:m,padding:h,flipVariations:k,allowedAutoPlacements:T}):ms)},[]),G=t.rects.reference,Y=t.rects.popper,oe=new Map,pe=!0,ve=O[0],Le=0;Le<O.length;Le++){var ct=O[Le],Je=zr(ct),st=Ph(ct)===pc,ui=[In,hs].indexOf(Je)>=0,hi=ui?"width":"height",X=Dh(t,{placement:ct,boundary:d,rootBoundary:m,altBoundary:y,padding:h}),re=ui?st?ds:On:st?hs:In;G[hi]>Y[hi]&&(re=ob(re));var ye=ob(re),Ie=[];if(r&&Ie.push(X[Je]<=0),o&&Ie.push(X[re]<=0,X[ye]<=0),Ie.every(function(gt){return gt})){ve=ct,pe=!1;break}oe.set(ct,Ie)}if(pe)for(var Ki=function(ms){var Ai=O.find(function(vs){var Nn=oe.get(vs);if(Nn)return Nn.slice(0,ms).every(function(Jn){return Jn})});if(Ai)return ve=Ai,"break"},si=k?3:1;si>0&&"break"!==Ki(si);si--);t.placement!==ve&&(t.modifiersData[i]._skip=!0,t.placement=ve,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function lV(n,t,e){return void 0===e&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function cV(n){return[In,ds,hs,On].some(function(t){return n[t]>=0})}const uV={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(n){var t=n.state,e=n.name,i=t.rects.reference,s=t.rects.popper,r=t.modifiersData.preventOverflow,a=Dh(t,{elementContext:"reference"}),o=Dh(t,{altBoundary:!0}),l=lV(a,i),h=lV(o,s,r),d=cV(l),m=cV(h);t.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:h,isReferenceHidden:d,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":m})}},hV={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(n){var t=n.state,i=n.name,s=n.options.offset,r=void 0===s?[0,0]:s,a=iR.reduce(function(d,m){return d[m]=function(n,t,e){var i=zr(n),s=[On,In].indexOf(i)>=0?-1:1,r="function"==typeof e?e(Object.assign({},t,{placement:n})):e,a=r[0],o=r[1];return a=a||0,o=(o||0)*s,[On,ds].indexOf(i)>=0?{x:o,y:a}:{x:a,y:o}}(m,t.rects,r),d},{}),o=a[t.placement],h=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=o.x,t.modifiersData.popperOffsets.y+=h),t.modifiersData[i]=a}},pR={name:"popperOffsets",enabled:!0,phase:"read",fn:function(n){var t=n.state;t.modifiersData[n.name]=aV({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},dV={name:"preventOverflow",enabled:!0,phase:"main",fn:function(n){var t=n.state,e=n.options,i=n.name,s=e.mainAxis,r=void 0===s||s,a=e.altAxis,o=void 0!==a&&a,y=e.tether,S=void 0===y||y,k=e.tetherOffset,T=void 0===k?0:k,D=Dh(t,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),N=zr(t.placement),I=Ph(t.placement),U=!I,O=oR(N),G=function(n){return"x"===n?"y":"x"}(O),Y=t.modifiersData.popperOffsets,oe=t.rects.reference,pe=t.rects.popper,ve="function"==typeof T?T(Object.assign({},t.rects,{placement:t.placement})):T,Le="number"==typeof ve?{mainAxis:ve,altAxis:ve}:Object.assign({mainAxis:0,altAxis:0},ve),ct=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Je={x:0,y:0};if(Y){if(r){var st,ui="y"===O?In:On,hi="y"===O?hs:ds,X="y"===O?"height":"width",re=Y[O],ye=re+D[ui],Ie=re-D[hi],$t=S?-pe[X]/2:0,Ki=I===pc?oe[X]:pe[X],si=I===pc?-pe[X]:-oe[X],hn=t.elements.arrow,gt=S&&hn?aR(hn):{width:0,height:0},ms=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Ai=ms[ui],vs=ms[hi],Nn=Wp(0,oe[X],gt[X]),Jn=U?oe[X]/2-$t-Nn-Ai-Le.mainAxis:Ki-Nn-Ai-Le.mainAxis,il=U?-oe[X]/2+$t+Nn+vs+Le.mainAxis:si+Nn+vs+Le.mainAxis,Gh=t.elements.arrow&&jp(t.elements.arrow),fg=null!=(st=null==ct?void 0:ct[O])?st:0,nS=re+il-fg,pg=Wp(S?sb(ye,re+Jn-fg-(Gh?"y"===O?Gh.clientTop||0:Gh.clientLeft||0:0)):ye,re,S?mc(Ie,nS):Ie);Y[O]=pg,Je[O]=pg-re}if(o){var gg,Zr=Y[G],Tc="y"===G?"height":"width",mg=Zr+D["x"===O?In:On],vg=Zr-D["x"===O?hs:ds],jh=-1!==[In,On].indexOf(N),yg=null!=(gg=null==ct?void 0:ct[G])?gg:0,_g=jh?mg:Zr-oe[Tc]-pe[Tc]-yg+Le.altAxis,bg=jh?Zr+oe[Tc]+pe[Tc]-yg-Le.altAxis:vg,Sg=S&&jh?function(n,t,e){var i=Wp(n,t,e);return i>e?e:i}(_g,Zr,bg):Wp(S?_g:mg,Zr,S?bg:vg);Y[G]=Sg,Je[G]=Sg-Zr}t.modifiersData[i]=Je}},requiresIfExists:["offset"]};function mQ(n,t,e){void 0===e&&(e=!1);var i=Hs(t),s=Hs(t)&&function(n){var t=n.getBoundingClientRect(),e=Ch(t.width)/n.offsetWidth||1,i=Ch(t.height)/n.offsetHeight||1;return 1!==e||1!==i}(t),r=Go(t),a=Ah(n,s,e),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!e)&&(("body"!==Wr(t)||dR(r))&&(o=function(n){return n!==fs(n)&&Hs(n)?function(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):uR(n)}(t)),Hs(t)?((l=Ah(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):r&&(l.x=hR(r))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function vQ(n){var t=new Map,e=new Set,i=[];function s(r){e.add(r.name),[].concat(r.requires||[],r.requiresIfExists||[]).forEach(function(o){if(!e.has(o)){var l=t.get(o);l&&s(l)}}),i.push(r)}return n.forEach(function(r){t.set(r.name,r)}),n.forEach(function(r){e.has(r.name)||s(r)}),i}function _Q(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}var fV={placement:"bottom",modifiers:[],strategy:"absolute"};function pV(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function lb(n){void 0===n&&(n={});var e=n.defaultModifiers,i=void 0===e?[]:e,s=n.defaultOptions,r=void 0===s?fV:s;return function(o,l,h){void 0===h&&(h=r);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},fV,r),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},m=[],y=!1,S={state:d,setOptions:function(N){var I="function"==typeof N?N(d.options):N;T(),d.options=Object.assign({},r,d.options,I),d.scrollParents={reference:gc(o)?zp(o):o.contextElement?zp(o.contextElement):[],popper:zp(l)};var U=function(n){var t=vQ(n);return K3.reduce(function(e,i){return e.concat(t.filter(function(s){return s.phase===i}))},[])}(function(n){var t=n.reduce(function(e,i){var s=e[i.name];return e[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(i,d.options.modifiers)));return d.orderedModifiers=U.filter(function(O){return O.enabled}),d.orderedModifiers.forEach(function(D){var I=D.options,O=D.effect;if("function"==typeof O){var G=O({state:d,name:D.name,instance:S,options:void 0===I?{}:I});m.push(G||function(){})}}),S.update()},forceUpdate:function(){if(!y){var N=d.elements,I=N.reference,U=N.popper;if(pV(I,U)){d.rects={reference:mQ(I,jp(U),"fixed"===d.options.strategy),popper:aR(U)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(Le){return d.modifiersData[Le.name]=Object.assign({},Le.data)});for(var O=0;O<d.orderedModifiers.length;O++)if(!0!==d.reset){var G=d.orderedModifiers[O],Y=G.fn,oe=G.options;"function"==typeof Y&&(d=Y({state:d,options:void 0===oe?{}:oe,name:G.name,instance:S})||d)}else d.reset=!1,O=-1}}},update:_Q(function(){return new Promise(function(D){S.forceUpdate(),D(d)})}),destroy:function(){T(),y=!0}};if(!pV(o,l))return S;function T(){m.forEach(function(D){return D()}),m=[]}return S.setOptions(h).then(function(D){!y&&h.onFirstUpdate&&h.onFirstUpdate(D)}),S}}var SQ=lb(),gR=lb({defaultModifiers:[cR,pR,lR,sR,hV,oV,dV,tV,uV]}),kQ=lb({defaultModifiers:[cR,pR,lR,sR]});const jo=new Map,mR={set(n,t,e){jo.has(n)||jo.set(n,new Map);const i=jo.get(n);i.has(t)||0===i.size?i.set(t,e):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(n,t)=>jo.has(n)&&jo.get(n).get(t)||null,remove(n,t){if(!jo.has(n))return;const e=jo.get(n);e.delete(t),0===e.size&&jo.delete(n)}},vR="transitionend",gV=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),n),PQ=n=>null==n?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),mV=n=>{n.dispatchEvent(new Event(vR))},ja=n=>!(!n||"object"!=typeof n)&&(void 0!==n.jquery&&(n=n[0]),void 0!==n.nodeType),Wo=n=>ja(n)?n.jquery?n[0]:n:"string"==typeof n&&n.length>0?document.querySelector(gV(n)):null,Th=n=>{if(!ja(n)||0===n.getClientRects().length)return!1;const t="visible"===getComputedStyle(n).getPropertyValue("visibility"),e=n.closest("details:not([open])");if(!e)return t;if(e!==n){const i=n.closest("summary");if(i&&i.parentNode!==e||null===i)return!1}return t},zo=n=>!(n&&n.nodeType===Node.ELEMENT_NODE&&!n.classList.contains("disabled"))||(void 0!==n.disabled?n.disabled:n.hasAttribute("disabled")&&"false"!==n.getAttribute("disabled")),vV=n=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof n.getRootNode){const t=n.getRootNode();return t instanceof ShadowRoot?t:null}return n instanceof ShadowRoot?n:n.parentNode?vV(n.parentNode):null},cb=()=>{},yV=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,yR=[],qs=()=>"rtl"===document.documentElement.dir,Us=n=>{(n=>{"loading"===document.readyState?(yR.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of yR)t()}),yR.push(n)):n()})(()=>{const t=yV();if(t){const e=n.NAME,i=t.fn[e];t.fn[e]=n.jQueryInterface,t.fn[e].Constructor=n,t.fn[e].noConflict=()=>(t.fn[e]=i,n.jQueryInterface)}})},Yn=(n,t=[],e=n)=>"function"==typeof n?n(...t):e,_V=(n,t,e=!0)=>{if(!e)return void Yn(n);const s=(n=>{if(!n)return 0;let{transitionDuration:t,transitionDelay:e}=window.getComputedStyle(n);const i=Number.parseFloat(t),s=Number.parseFloat(e);return i||s?(t=t.split(",")[0],e=e.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(e))):0})(t)+5;let r=!1;const a=({target:o})=>{o===t&&(r=!0,t.removeEventListener(vR,a),Yn(n))};t.addEventListener(vR,a),setTimeout(()=>{r||mV(t)},s)},_R=(n,t,e,i)=>{const s=n.length;let r=n.indexOf(t);return-1===r?!e&&i?n[s-1]:n[0]:(r+=e?1:-1,i&&(r=(r+s)%s),n[Math.max(0,Math.min(r,s-1))])},MQ=/[^.]*(?=\..*)\.|.*/,RQ=/\..*/,IQ=/::\d+$/,bR={};let bV=1;const SV={mouseenter:"mouseover",mouseleave:"mouseout"},OQ=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function wV(n,t){return t&&`${t}::${bV++}`||n.uidEvent||bV++}function EV(n){const t=wV(n);return n.uidEvent=t,bR[t]=bR[t]||{},bR[t]}function kV(n,t,e=null){return Object.values(n).find(i=>i.callable===t&&i.delegationSelector===e)}function CV(n,t,e){const i="string"==typeof t,s=i?e:t||e;let r=PV(n);return OQ.has(r)||(r=n),[i,s,r]}function AV(n,t,e,i,s){if("string"!=typeof t||!n)return;let[r,a,o]=CV(t,e,i);var k;t in SV&&(k=a,a=function(T){if(!T.relatedTarget||T.relatedTarget!==T.delegateTarget&&!T.delegateTarget.contains(T.relatedTarget))return k.call(this,T)});const l=EV(n),h=l[o]||(l[o]={}),d=kV(h,a,r?e:null);if(d)return void(d.oneOff=d.oneOff&&s);const m=wV(a,t.replace(MQ,"")),y=r?function(n,t,e){return function i(s){const r=n.querySelectorAll(t);for(let{target:a}=s;a&&a!==this;a=a.parentNode)for(const o of r)if(o===a)return wR(s,{delegateTarget:a}),i.oneOff&&J.off(n,s.type,t,e),e.apply(a,[s])}}(n,e,a):function(n,t){return function e(i){return wR(i,{delegateTarget:n}),e.oneOff&&J.off(n,i.type,t),t.apply(n,[i])}}(n,a);y.delegationSelector=r?e:null,y.callable=a,y.oneOff=s,y.uidEvent=m,h[m]=y,n.addEventListener(o,y,r)}function SR(n,t,e,i,s){const r=kV(t[e],i,s);!r||(n.removeEventListener(e,r,Boolean(s)),delete t[e][r.uidEvent])}function BQ(n,t,e,i){const s=t[e]||{};for(const[r,a]of Object.entries(s))r.includes(i)&&SR(n,t,e,a.callable,a.delegationSelector)}function PV(n){return n=n.replace(RQ,""),SV[n]||n}const J={on(n,t,e,i){AV(n,t,e,i,!1)},one(n,t,e,i){AV(n,t,e,i,!0)},off(n,t,e,i){if("string"!=typeof t||!n)return;const[s,r,a]=CV(t,e,i),o=a!==t,l=EV(n),h=l[a]||{},d=t.startsWith(".");if(void 0===r){if(d)for(const m of Object.keys(l))BQ(n,l,m,t.slice(1));for(const[m,y]of Object.entries(h)){const S=m.replace(IQ,"");(!o||t.includes(S))&&SR(n,l,a,y.callable,y.delegationSelector)}}else{if(!Object.keys(h).length)return;SR(n,l,a,r,s?e:null)}},trigger(n,t,e){if("string"!=typeof t||!n)return null;const i=yV();let a=null,o=!0,l=!0,h=!1;t!==PV(t)&&i&&(a=i.Event(t,e),i(n).trigger(a),o=!a.isPropagationStopped(),l=!a.isImmediatePropagationStopped(),h=a.isDefaultPrevented());const d=wR(new Event(t,{bubbles:o,cancelable:!0}),e);return h&&d.preventDefault(),l&&n.dispatchEvent(d),d.defaultPrevented&&a&&a.preventDefault(),d}};function wR(n,t={}){for(const[e,i]of Object.entries(t))try{n[e]=i}catch(s){Object.defineProperty(n,e,{configurable:!0,get:()=>i})}return n}function DV(n){if("true"===n)return!0;if("false"===n)return!1;if(n===Number(n).toString())return Number(n);if(""===n||"null"===n)return null;if("string"!=typeof n)return n;try{return JSON.parse(decodeURIComponent(n))}catch(t){return n}}function ER(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const Wa={setDataAttribute(n,t,e){n.setAttribute(`data-bs-${ER(t)}`,e)},removeDataAttribute(n,t){n.removeAttribute(`data-bs-${ER(t)}`)},getDataAttributes(n){if(!n)return{};const t={},e=Object.keys(n.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of e){let s=i.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1,s.length),t[s]=DV(n.dataset[i])}return t},getDataAttribute:(n,t)=>DV(n.getAttribute(`data-bs-${ER(t)}`))};class Qp{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const i=ja(e)?Wa.getDataAttribute(e,"config"):{};return dn(dn(dn(dn({},this.constructor.Default),"object"==typeof i?i:{}),ja(e)?Wa.getDataAttributes(e):{}),"object"==typeof t?t:{})}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[i,s]of Object.entries(e)){const r=t[i],a=ja(r)?"element":PQ(r);if(!new RegExp(s).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${a}" but expected type "${s}".`)}}}class Er extends Qp{constructor(t,e){super(),(t=Wo(t))&&(this._element=t,this._config=this._getConfig(e),mR.set(this._element,this.constructor.DATA_KEY,this))}dispose(){mR.remove(this._element,this.constructor.DATA_KEY),J.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){_V(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return mR.get(Wo(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.3.1"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const kR=n=>{let t=n.getAttribute("data-bs-target");if(!t||"#"===t){let e=n.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),t=e&&"#"!==e?e.trim():null}return gV(t)},Ee={find:(n,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,n)),findOne:(n,t=document.documentElement)=>Element.prototype.querySelector.call(t,n),children:(n,t)=>[].concat(...n.children).filter(e=>e.matches(t)),parents(n,t){const e=[];let i=n.parentNode.closest(t);for(;i;)e.push(i),i=i.parentNode.closest(t);return e},prev(n,t){let e=n.previousElementSibling;for(;e;){if(e.matches(t))return[e];e=e.previousElementSibling}return[]},next(n,t){let e=n.nextElementSibling;for(;e;){if(e.matches(t))return[e];e=e.nextElementSibling}return[]},focusableChildren(n){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,n).filter(e=>!zo(e)&&Th(e))},getSelectorFromElement(n){const t=kR(n);return t&&Ee.findOne(t)?t:null},getElementFromSelector(n){const t=kR(n);return t?Ee.findOne(t):null},getMultipleElementsFromSelector(n){const t=kR(n);return t?Ee.find(t):[]}},ub=(n,t="hide")=>{const i=n.NAME;J.on(document,`click.dismiss${n.EVENT_KEY}`,`[data-bs-dismiss="${i}"]`,function(s){if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),zo(this))return;const r=Ee.getElementFromSelector(this)||this.closest(`.${i}`);n.getOrCreateInstance(r)[t]()})},TV=".bs.alert",FQ=`close${TV}`,HQ=`closed${TV}`;class hb extends Er{static get NAME(){return"alert"}close(){if(J.trigger(this._element,FQ).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),J.trigger(this._element,HQ),this.dispose()}static jQueryInterface(t){return this.each(function(){const e=hb.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}ub(hb,"close"),Us(hb);const xV='[data-bs-toggle="button"]';class db extends Er{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){const e=db.getOrCreateInstance(this);"toggle"===t&&e[t]()})}}J.on(document,"click.bs.button.data-api",xV,n=>{n.preventDefault();const t=n.target.closest(xV);db.getOrCreateInstance(t).toggle()}),Us(db);const xh=".bs.swipe",YQ=`touchstart${xh}`,JQ=`touchmove${xh}`,ZQ=`touchend${xh}`,XQ=`pointerdown${xh}`,eY=`pointerup${xh}`,rY={endCallback:null,leftCallback:null,rightCallback:null},aY={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class fb extends Qp{constructor(t,e){super(),this._element=t,t&&fb.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return rY}static get DefaultType(){return aY}static get NAME(){return"swipe"}dispose(){J.off(this._element,xh)}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),Yn(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=40)return;const e=t/this._deltaX;this._deltaX=0,e&&Yn(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(J.on(this._element,XQ,t=>this._start(t)),J.on(this._element,eY,t=>this._end(t)),this._element.classList.add("pointer-event")):(J.on(this._element,YQ,t=>this._start(t)),J.on(this._element,JQ,t=>this._move(t)),J.on(this._element,ZQ,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ko=".bs.carousel",MV=".data-api",Yp="next",Mh="prev",Rh="left",pb="right",hY=`slide${Ko}`,CR=`slid${Ko}`,dY=`keydown${Ko}`,fY=`mouseenter${Ko}`,pY=`mouseleave${Ko}`,gY=`dragstart${Ko}`,mY=`load${Ko}${MV}`,vY=`click${Ko}${MV}`,RV="carousel",gb="active",DY={ArrowLeft:pb,ArrowRight:Rh},TY={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},xY={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Jp extends Er{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Ee.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===RV&&this.cycle()}static get Default(){return TY}static get DefaultType(){return xY}static get NAME(){return"carousel"}next(){this._slide(Yp)}nextWhenVisible(){!document.hidden&&Th(this._element)&&this.next()}prev(){this._slide(Mh)}pause(){this._isSliding&&mV(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void J.one(this._element,CR,()=>this.cycle());this.cycle()}}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding)return void J.one(this._element,CR,()=>this.to(t));const i=this._getItemIndex(this._getActive());i!==t&&this._slide(t>i?Yp:Mh,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&J.on(this._element,dY,t=>this._keydown(t)),"hover"===this._config.pause&&(J.on(this._element,fY,()=>this.pause()),J.on(this._element,pY,()=>this._maybeEnableCycle())),this._config.touch&&fb.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of Ee.find(".carousel-item img",this._element))J.on(i,gY,s=>s.preventDefault());this._swipeHelper=new fb(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Rh)),rightCallback:()=>this._slide(this._directionToOrder(pb)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=DY[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=Ee.findOne(".active",this._indicatorsElement);e.classList.remove(gb),e.removeAttribute("aria-current");const i=Ee.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);i&&(i.classList.add(gb),i.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const i=this._getActive(),s=t===Yp,r=e||_R(this._getItems(),i,s,this._config.wrap);if(r===i)return;const a=this._getItemIndex(r),o=S=>J.trigger(this._element,S,{relatedTarget:r,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:a});if(o(hY).defaultPrevented||!i||!r)return;const h=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=r;const d=s?"carousel-item-start":"carousel-item-end",m=s?"carousel-item-next":"carousel-item-prev";r.classList.add(m),i.classList.add(d),r.classList.add(d),this._queueCallback(()=>{r.classList.remove(d,m),r.classList.add(gb),i.classList.remove(gb,m,d),this._isSliding=!1,o(CR)},i,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Ee.findOne(".active.carousel-item",this._element)}_getItems(){return Ee.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return qs()?t===Rh?Mh:Yp:t===Rh?Yp:Mh}_orderToDirection(t){return qs()?t===Mh?Rh:pb:t===Mh?pb:Rh}static jQueryInterface(t){return this.each(function(){const e=Jp.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}else e.to(t)})}}J.on(document,vY,"[data-bs-slide], [data-bs-slide-to]",function(n){const t=Ee.getElementFromSelector(this);if(!t||!t.classList.contains(RV))return;n.preventDefault();const e=Jp.getOrCreateInstance(t),i=this.getAttribute("data-bs-slide-to");return i?(e.to(i),void e._maybeEnableCycle()):"next"===Wa.getDataAttribute(this,"slide")?(e.next(),void e._maybeEnableCycle()):(e.prev(),void e._maybeEnableCycle())}),J.on(window,mY,()=>{const n=Ee.find('[data-bs-ride="carousel"]');for(const t of n)Jp.getOrCreateInstance(t)}),Us(Jp);const Zp=".bs.collapse",IY=`show${Zp}`,OY=`shown${Zp}`,NY=`hide${Zp}`,LY=`hidden${Zp}`,BY=`click${Zp}.data-api`,AR="show",Ih="collapse",mb="collapsing",VY=`:scope .${Ih} .${Ih}`,PR='[data-bs-toggle="collapse"]',GY={parent:null,toggle:!0},jY={parent:"(null|element)",toggle:"boolean"};class Xp extends Er{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const i=Ee.find(PR);for(const s of i){const r=Ee.getSelectorFromElement(s),a=Ee.find(r).filter(o=>o===this._element);null!==r&&a.length&&this._triggerArray.push(s)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return GY}static get DefaultType(){return jY}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(o=>o!==this._element).map(o=>Xp.getOrCreateInstance(o,{toggle:!1}))),t.length&&t[0]._isTransitioning||J.trigger(this._element,IY).defaultPrevented)return;for(const o of t)o.hide();const i=this._getDimension();this._element.classList.remove(Ih),this._element.classList.add(mb),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const a=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(mb),this._element.classList.add(Ih,AR),this._element.style[i]="",J.trigger(this._element,OY)},this._element,!0),this._element.style[i]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||J.trigger(this._element,NY).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,this._element.classList.add(mb),this._element.classList.remove(Ih,AR);for(const s of this._triggerArray){const r=Ee.getElementFromSelector(s);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([s],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(mb),this._element.classList.add(Ih),J.trigger(this._element,LY)},this._element,!0)}_isShown(t=this._element){return t.classList.contains(AR)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=Wo(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(PR);for(const e of t){const i=Ee.getElementFromSelector(e);i&&this._addAriaAndCollapsedClass([e],this._isShown(i))}}_getFirstLevelChildren(t){const e=Ee.find(VY,this._config.parent);return Ee.find(t,this._config.parent).filter(i=>!e.includes(i))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const i of t)i.classList.toggle("collapsed",!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const i=Xp.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t]()}})}}J.on(document,BY,PR,function(n){("A"===n.target.tagName||n.delegateTarget&&"A"===n.delegateTarget.tagName)&&n.preventDefault();for(const t of Ee.getMultipleElementsFromSelector(this))Xp.getOrCreateInstance(t,{toggle:!1}).toggle()}),Us(Xp);const NV="dropdown",vc=".bs.dropdown",DR=".data-api",zY="ArrowUp",BV="ArrowDown",QY=`hide${vc}`,YY=`hidden${vc}`,JY=`show${vc}`,ZY=`shown${vc}`,$V=`click${vc}${DR}`,VV=`keydown${vc}${DR}`,XY=`keyup${vc}${DR}`,Oh="show",yc='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',rJ=`${yc}.show`,vb=".dropdown-menu",cJ=qs()?"top-end":"top-start",uJ=qs()?"top-start":"top-end",hJ=qs()?"bottom-end":"bottom-start",dJ=qs()?"bottom-start":"bottom-end",fJ=qs()?"left-start":"right-start",pJ=qs()?"right-start":"left-start",vJ={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},yJ={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Kr extends Er{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=Ee.next(this._element,vb)[0]||Ee.prev(this._element,vb)[0]||Ee.findOne(vb,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return vJ}static get DefaultType(){return yJ}static get NAME(){return NV}toggle(){return this._isShown()?this.hide():this.show()}show(){if(zo(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!J.trigger(this._element,JY,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const i of[].concat(...document.body.children))J.on(i,"mouseover",cb);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Oh),this._element.classList.add(Oh),J.trigger(this._element,ZY,t)}}hide(){!zo(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!J.trigger(this._element,QY,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))J.off(i,"mouseover",cb);this._popper&&this._popper.destroy(),this._menu.classList.remove(Oh),this._element.classList.remove(Oh),this._element.setAttribute("aria-expanded","false"),Wa.removeDataAttribute(this._menu,"popper"),J.trigger(this._element,YY,t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!ja(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${NV.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(void 0===Zn)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:ja(this._config.reference)?t=Wo(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=gR(t,this._menu,e)}_isShown(){return this._menu.classList.contains(Oh)}_getPlacement(){const t=this._parent;if(t.classList.contains("dropend"))return fJ;if(t.classList.contains("dropstart"))return pJ;if(t.classList.contains("dropup-center"))return"top";if(t.classList.contains("dropdown-center"))return"bottom";const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?uJ:cJ:e?dJ:hJ}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Wa.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),dn(dn({},t),Yn(this._config.popperConfig,[t]))}_selectMenuItem({key:t,target:e}){const i=Ee.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(s=>Th(s));!i.length||_R(i,e,t===BV,!i.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){const e=Kr.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(2===t.button||"keyup"===t.type&&"Tab"!==t.key)return;const e=Ee.find(rJ);for(const i of e){const s=Kr.getInstance(i);if(!s||!1===s._config.autoClose)continue;const r=t.composedPath(),a=r.includes(s._menu);if(r.includes(s._element)||"inside"===s._config.autoClose&&!a||"outside"===s._config.autoClose&&a||s._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const o={relatedTarget:s._element};"click"===t.type&&(o.clickEvent=t),s._completeHide(o)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),i="Escape"===t.key,s=[zY,BV].includes(t.key);if(!s&&!i||e&&!i)return;t.preventDefault();const r=this.matches(yc)?this:Ee.prev(this,yc)[0]||Ee.next(this,yc)[0]||Ee.findOne(yc,t.delegateTarget.parentNode),a=Kr.getOrCreateInstance(r);if(s)return t.stopPropagation(),a.show(),void a._selectMenuItem(t);a._isShown()&&(t.stopPropagation(),a.hide(),r.focus())}}J.on(document,VV,yc,Kr.dataApiKeydownHandler),J.on(document,VV,vb,Kr.dataApiKeydownHandler),J.on(document,$V,Kr.clearMenus),J.on(document,XY,Kr.clearMenus),J.on(document,$V,yc,function(n){n.preventDefault(),Kr.getOrCreateInstance(this).toggle()}),Us(Kr);const FV="backdrop",qV=`mousedown.bs.${FV}`,bJ={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},SJ={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class UV extends Qp{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return bJ}static get DefaultType(){return SJ}static get NAME(){return FV}show(t){if(!this._config.isVisible)return void Yn(t);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{Yn(t)})}hide(t){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),Yn(t)})):Yn(t)}dispose(){!this._isAppended||(J.off(this._element,qV),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=Wo(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),J.on(t,qV,()=>{Yn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){_V(t,this._getElement(),this._config.isAnimated)}}const yb=".bs.focustrap",EJ=`focusin${yb}`,kJ=`keydown.tab${yb}`,GV="backward",PJ={autofocus:!0,trapElement:null},DJ={autofocus:"boolean",trapElement:"element"};class jV extends Qp{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return PJ}static get DefaultType(){return DJ}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),J.off(document,yb),J.on(document,EJ,t=>this._handleFocusin(t)),J.on(document,kJ,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,J.off(document,yb))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const i=Ee.focusableChildren(e);0===i.length?e.focus():this._lastTabNavDirection===GV?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?GV:"forward")}}const WV=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",zV=".sticky-top",_b="padding-right",KV="margin-right";class TR{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,_b,e=>e+t),this._setElementAttributes(WV,_b,e=>e+t),this._setElementAttributes(zV,KV,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,_b),this._resetElementAttributes(WV,_b),this._resetElementAttributes(zV,KV)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){const s=this.getWidth();this._applyManipulationCallback(t,a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+s)return;this._saveInitialAttribute(a,e);const o=window.getComputedStyle(a).getPropertyValue(e);a.style.setProperty(e,`${i(Number.parseFloat(o))}px`)})}_saveInitialAttribute(t,e){const i=t.style.getPropertyValue(e);i&&Wa.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,s=>{const r=Wa.getDataAttribute(s,e);null!==r?(Wa.removeDataAttribute(s,e),s.style.setProperty(e,r)):s.style.removeProperty(e)})}_applyManipulationCallback(t,e){if(ja(t))e(t);else for(const i of Ee.find(t,this._element))e(i)}}const Gs=".bs.modal",RJ=`hide${Gs}`,IJ=`hidePrevented${Gs}`,QV=`hidden${Gs}`,YV=`show${Gs}`,OJ=`shown${Gs}`,NJ=`resize${Gs}`,LJ=`click.dismiss${Gs}`,BJ=`mousedown.dismiss${Gs}`,$J=`keydown.dismiss${Gs}`,VJ=`click${Gs}.data-api`,JV="modal-open",xR="modal-static",jJ={backdrop:!0,focus:!0,keyboard:!0},WJ={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class _c extends Er{constructor(t,e){super(t,e),this._dialog=Ee.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new TR,this._addEventListeners()}static get Default(){return jJ}static get DefaultType(){return WJ}static get NAME(){return"modal"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||J.trigger(this._element,YV,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(JV),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||J.trigger(this._element,RJ).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){J.off(window,Gs),J.off(this._dialog,Gs),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new UV({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new jV({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=Ee.findOne(".modal-body",this._dialog);e&&(e.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,J.trigger(this._element,OJ,{relatedTarget:t})},this._dialog,this._isAnimated())}_addEventListeners(){J.on(this._element,$J,t=>{if("Escape"===t.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),J.on(window,NJ,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),J.on(this._element,BJ,t=>{J.one(this._element,LJ,e=>{if(this._element===t.target&&this._element===e.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(JV),this._resetAdjustments(),this._scrollBar.reset(),J.trigger(this._element,QV)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(J.trigger(this._element,IJ).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;"hidden"===i||this._element.classList.contains(xR)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(xR),this._queueCallback(()=>{this._element.classList.remove(xR),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;if(i&&!t){const s=qs()?"paddingLeft":"paddingRight";this._element.style[s]=`${e}px`}if(!i&&t){const s=qs()?"paddingRight":"paddingLeft";this._element.style[s]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const i=_c.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t](e)}})}}J.on(document,VJ,'[data-bs-toggle="modal"]',function(n){const t=Ee.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),J.one(t,YV,s=>{s.defaultPrevented||J.one(t,QV,()=>{Th(this)&&this.focus()})});const e=Ee.findOne(".modal.show");e&&_c.getInstance(e).hide(),_c.getOrCreateInstance(t).toggle(this)}),ub(_c),Us(_c);const za=".bs.offcanvas",XV=".data-api",KJ=`load${za}${XV}`,tF="showing",nF=".offcanvas.show",JJ=`show${za}`,ZJ=`shown${za}`,XJ=`hide${za}`,sF=`hidePrevented${za}`,rF=`hidden${za}`,eZ=`resize${za}`,tZ=`click${za}${XV}`,iZ=`keydown.dismiss${za}`,sZ={backdrop:!0,keyboard:!0,scroll:!1},rZ={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Qo extends Er{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return sZ}static get DefaultType(){return rZ}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||J.trigger(this._element,JJ,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new TR).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(tF),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(tF),J.trigger(this._element,ZJ,{relatedTarget:t})},this._element,!0))}hide(){this._isShown&&!J.trigger(this._element,XJ).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new TR).reset(),J.trigger(this._element,rF)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new UV({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():J.trigger(this._element,sF)}:null})}_initializeFocusTrap(){return new jV({trapElement:this._element})}_addEventListeners(){J.on(this._element,iZ,t=>{if("Escape"===t.key){if(this._config.keyboard)return void this.hide();J.trigger(this._element,sF)}})}static jQueryInterface(t){return this.each(function(){const e=Qo.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}J.on(document,tZ,'[data-bs-toggle="offcanvas"]',function(n){const t=Ee.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),zo(this))return;J.one(t,rF,()=>{Th(this)&&this.focus()});const e=Ee.findOne(nF);e&&e!==t&&Qo.getInstance(e).hide(),Qo.getOrCreateInstance(t).toggle(this)}),J.on(window,KJ,()=>{for(const n of Ee.find(nF))Qo.getOrCreateInstance(n).show()}),J.on(window,eZ,()=>{for(const n of Ee.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(n).position&&Qo.getOrCreateInstance(n).hide()}),ub(Qo),Us(Qo);const aF={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},aZ=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),oZ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,lZ=(n,t)=>{const e=n.nodeName.toLowerCase();return t.includes(e)?!aZ.has(e)||Boolean(oZ.test(n.nodeValue)):t.filter(i=>i instanceof RegExp).some(i=>i.test(e))},hZ={allowList:aF,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},dZ={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},fZ={entry:"(string|element|function|null)",selector:"(string|element)"};class pZ extends Qp{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return hZ}static get DefaultType(){return dZ}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content=dn(dn({},this._config.content),t),this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[s,r]of Object.entries(this._config.content))this._setContent(t,r,s);const e=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&e.classList.add(...i.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,i]of Object.entries(t))super._typeCheckConfig({selector:e,entry:i},fZ)}_setContent(t,e,i){const s=Ee.findOne(i,t);if(s){if(!(e=this._resolvePossibleFunction(e)))return void s.remove();if(ja(e))return void this._putElementInTemplate(Wo(e),s);if(this._config.html)return void(s.innerHTML=this._maybeSanitize(e));s.textContent=e}}_maybeSanitize(t){return this._config.sanitize?function(n,t,e){if(!n.length)return n;if(e&&"function"==typeof e)return e(n);const s=(new window.DOMParser).parseFromString(n,"text/html"),r=[].concat(...s.body.querySelectorAll("*"));for(const a of r){const o=a.nodeName.toLowerCase();if(!Object.keys(t).includes(o)){a.remove();continue}const l=[].concat(...a.attributes),h=[].concat(t["*"]||[],t[o]||[]);for(const d of l)lZ(d,h)||a.removeAttribute(d.nodeName)}return s.body.innerHTML}(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return Yn(t,[this])}_putElementInTemplate(t,e){if(this._config.html)return e.innerHTML="",void e.append(t);e.textContent=t.textContent}}const mZ=new Set(["sanitize","allowList","sanitizeFn"]),MR="fade",bb="show",lF="hide.bs.modal",eg="hover",RR="focus",MZ={AUTO:"auto",TOP:"top",RIGHT:qs()?"left":"right",BOTTOM:"bottom",LEFT:qs()?"right":"left"},RZ={allowList:aF,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},IZ={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Nh extends Er{constructor(t,e){if(void 0===Zn)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return RZ}static get DefaultType(){return IZ}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),J.off(this._element.closest(".modal"),lF,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const t=J.trigger(this._element,this.constructor.eventName("show")),i=(vV(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!i)return;this._disposePopper();const s=this._getTipElement();this._element.setAttribute("aria-describedby",s.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(s),J.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(s),s.classList.add(bb),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))J.on(o,"mouseover",cb);this._queueCallback(()=>{J.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!J.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(bb),"ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))J.off(s,"mouseover",cb);this._activeTrigger.click=!1,this._activeTrigger[RR]=!1,this._activeTrigger[eg]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),J.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(MR,bb),e.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(n=>{do{n+=Math.floor(1e6*Math.random())}while(document.getElementById(n));return n})(this.constructor.NAME).toString();return e.setAttribute("id",i),this._isAnimated()&&e.classList.add(MR),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new pZ(aS(dn({},this._config),{content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(MR)}_isShown(){return this.tip&&this.tip.classList.contains(bb)}_createPopper(t){const e=Yn(this._config.placement,[this,t,this._element]),i=MZ[e.toUpperCase()];return gR(this._element,t,this._getPopperConfig(i))}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return Yn(t,[this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return dn(dn({},e),Yn(this._config.popperConfig,[e]))}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if("click"===e)J.on(this._element,this.constructor.eventName("click"),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if("manual"!==e){const i=this.constructor.eventName(e===eg?"mouseenter":"focusin"),s=this.constructor.eventName(e===eg?"mouseleave":"focusout");J.on(this._element,i,this._config.selector,r=>{const a=this._initializeOnDelegatedTarget(r);a._activeTrigger["focusin"===r.type?RR:eg]=!0,a._enter()}),J.on(this._element,s,this._config.selector,r=>{const a=this._initializeOnDelegatedTarget(r);a._activeTrigger["focusout"===r.type?RR:eg]=a._element.contains(r.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},J.on(this._element.closest(".modal"),lF,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");!t||(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=Wa.getDataAttributes(this._element);for(const i of Object.keys(e))mZ.has(i)&&delete e[i];return t=dn(dn({},e),"object"==typeof t&&t?t:{}),t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:Wo(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,i]of Object.entries(this._config))this.constructor.Default[e]!==i&&(t[e]=i);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const e=Nh.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}Us(Nh);const BZ=aS(dn({},Nh.Default),{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),$Z=aS(dn({},Nh.DefaultType),{content:"(null|string|element|function)"});class IR extends Nh{static get Default(){return BZ}static get DefaultType(){return $Z}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const e=IR.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}Us(IR);const OR=".bs.scrollspy",HZ=`activate${OR}`,cF=`click${OR}`,qZ=`load${OR}.data-api`,Lh="active",NR="[href]",uF=".nav-link",WZ=`${uF}, .nav-item > ${uF}, .list-group-item`,QZ={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},YZ={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Sb extends Er{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return QZ}static get DefaultType(){return YZ}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=Wo(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map(e=>Number.parseFloat(e))),t}_maybeEnableSmoothScroll(){!this._config.smoothScroll||(J.off(this._config.target,cF),J.on(this._config.target,cF,NR,t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const i=this._rootElement||window,s=e.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:s,behavior:"smooth"});i.scrollTop=s}}))}_getNewObserver(){return new IntersectionObserver(e=>this._observerCallback(e),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(t){const e=a=>this._targetLinks.get(`#${a.target.id}`),i=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(e(a))},s=(this._rootElement||document.documentElement).scrollTop,r=s>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=s;for(const a of t){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(a));continue}const o=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&o){if(i(a),!s)return}else!r&&!o&&i(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=Ee.find(NR,this._config.target);for(const e of t){if(!e.hash||zo(e))continue;const i=Ee.findOne(decodeURI(e.hash),this._element);Th(i)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,i))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Lh),this._activateParents(t),J.trigger(this._element,HZ,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item"))Ee.findOne(".dropdown-toggle",t.closest(".dropdown")).classList.add(Lh);else for(const e of Ee.parents(t,".nav, .list-group"))for(const i of Ee.prev(e,WZ))i.classList.add(Lh)}_clearActiveClass(t){t.classList.remove(Lh);const e=Ee.find(`${NR}.${Lh}`,t);for(const i of e)i.classList.remove(Lh)}static jQueryInterface(t){return this.each(function(){const e=Sb.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}J.on(window,qZ,()=>{for(const n of Ee.find('[data-bs-spy="scroll"]'))Sb.getOrCreateInstance(n)}),Us(Sb);const bc=".bs.tab",ZZ=`hide${bc}`,XZ=`hidden${bc}`,eX=`show${bc}`,tX=`shown${bc}`,iX=`click${bc}`,nX=`keydown${bc}`,sX=`load${bc}`,rX="ArrowLeft",hF="ArrowRight",aX="ArrowUp",dF="ArrowDown",LR="Home",fF="End",Sc="active",BR="show",$R=":not(.dropdown-toggle)",gF='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',VR=`.nav-link${$R}, .list-group-item${$R}, [role="tab"]${$R}, ${gF}`,fX=`.${Sc}[data-bs-toggle="tab"], .${Sc}[data-bs-toggle="pill"], .${Sc}[data-bs-toggle="list"]`;class Bh extends Er{constructor(t){super(t),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),J.on(this._element,nX,e=>this._keydown(e)))}static get NAME(){return"tab"}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),i=e?J.trigger(e,ZZ,{relatedTarget:t}):null;J.trigger(t,eX,{relatedTarget:e}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){t&&(t.classList.add(Sc),this._activate(Ee.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),J.trigger(t,tX,{relatedTarget:e})):t.classList.add(BR)},t,t.classList.contains("fade")))}_deactivate(t,e){t&&(t.classList.remove(Sc),t.blur(),this._deactivate(Ee.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),J.trigger(t,XZ,{relatedTarget:e})):t.classList.remove(BR)},t,t.classList.contains("fade")))}_keydown(t){if(![rX,hF,aX,dF,LR,fF].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=this._getChildren().filter(s=>!zo(s));let i;if([LR,fF].includes(t.key))i=e[t.key===LR?0:e.length-1];else{const s=[hF,dF].includes(t.key);i=_R(e,t.target,s,!0)}i&&(i.focus({preventScroll:!0}),Bh.getOrCreateInstance(i).show())}_getChildren(){return Ee.find(VR,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const i of e)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",e),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=Ee.getElementFromSelector(t);!e||(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){const i=this._getOuterElement(t);if(!i.classList.contains("dropdown"))return;const s=(r,a)=>{const o=Ee.findOne(r,i);o&&o.classList.toggle(a,e)};s(".dropdown-toggle",Sc),s(".dropdown-menu",BR),i.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}_elemIsActive(t){return t.classList.contains(Sc)}_getInnerElement(t){return t.matches(VR)?t:Ee.findOne(VR,t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(t){return this.each(function(){const e=Bh.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}J.on(document,iX,gF,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!zo(this)&&Bh.getOrCreateInstance(this).show()}),J.on(window,sX,()=>{for(const n of Ee.find(fX))Bh.getOrCreateInstance(n)}),Us(Bh);const Yo=".bs.toast",gX=`mouseover${Yo}`,mX=`mouseout${Yo}`,vX=`focusin${Yo}`,yX=`focusout${Yo}`,_X=`hide${Yo}`,bX=`hidden${Yo}`,SX=`show${Yo}`,wX=`shown${Yo}`,wb="show",Eb="showing",kX={animation:"boolean",autohide:"boolean",delay:"number"},CX={animation:!0,autohide:!0,delay:5e3};class kb extends Er{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return CX}static get DefaultType(){return kX}static get NAME(){return"toast"}show(){J.trigger(this._element,SX).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(wb,Eb),this._queueCallback(()=>{this._element.classList.remove(Eb),J.trigger(this._element,wX),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!J.trigger(this._element,_X).defaultPrevented&&(this._element.classList.add(Eb),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Eb,wb),J.trigger(this._element,bX)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(wb),super.dispose()}isShown(){return this._element.classList.contains(wb)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){J.on(this._element,gX,t=>this._onInteraction(t,!0)),J.on(this._element,mX,t=>this._onInteraction(t,!1)),J.on(this._element,vX,t=>this._onInteraction(t,!0)),J.on(this._element,yX,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const e=kb.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}})}}function js(n){return null!=n&&"false"!=`${n}`}function wc(n,t=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Bi(n){return n instanceof Nt?n.nativeElement:n}function Ec(...n){let t=n[n.length-1];return al(t)?(n.pop(),Xa(n,t)):eo(n)}function FR(n,t,e,i){return M(e)&&(i=e,e=void 0),i?FR(n,t,e).pipe(ys(s=>nl(s)?i(...s):i(s))):new Qe(s=>{vF(n,t,function(a){s.next(arguments.length>1?Array.prototype.slice.call(arguments):a)},s,e)})}function vF(n,t,e,i,s){let r;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const a=n;n.addEventListener(t,e,s),r=()=>a.removeEventListener(t,e,s)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const a=n;n.on(t,e),r=()=>a.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const a=n;n.addListener(t,e),r=()=>a.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let a=0,o=n.length;a<o;a++)vF(n[a],t,e,i,s)}i.add(r)}ub(kb),Us(kb);class MX extends et{constructor(t,e){super()}schedule(t,e=0){return this}}class Cb extends MX{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s,i=!1;try{this.work(t)}catch(r){i=!0,s=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),s}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&i.splice(s,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let yF=(()=>{class n{constructor(e,i=n.now){this.SchedulerAction=e,this.now=i}schedule(e,i=0,s){return new this.SchedulerAction(this,e).schedule(s,i)}}return n.now=()=>Date.now(),n})();class kr extends yF{constructor(t,e=yF.now){super(t,()=>kr.delegate&&kr.delegate!==this?kr.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return kr.delegate&&kr.delegate!==this?kr.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const _F=new class extends kr{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,r=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this.active=!1,i){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends Cb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});let OX=1;const NX=Promise.resolve(),Ab={};function bF(n){return n in Ab&&(delete Ab[n],!0)}const SF={setImmediate(n){const t=OX++;return Ab[t]=!0,NX.then(()=>bF(t)&&n()),t},clearImmediate(n){bF(n)}},tg=(new class extends kr{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,r=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this.active=!1,i){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends Cb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=SF.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(SF.clearImmediate(e),t.scheduled=void 0)}}),new kr(Cb));class qX{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new UX(t,this.durationSelector))}}class UX extends Oc{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:s}=this;e=s(t)}catch(s){return this.destination.error(s)}const i=Yi(e,new Ln(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function HR(n){return!nl(n)&&n-parseFloat(n)+1>=0}function jX(n){const{index:t,period:e,subscriber:i}=n;if(i.next(t),!i.closed){if(-1===e)return i.complete();n.index=t+1,this.schedule(n,e)}}function qR(n,t=tg){return function(n){return function(e){return e.lift(new qX(n))}}(()=>function(n=0,t,e){let i=-1;return HR(t)?i=Number(t)<1?1:Number(t):al(t)&&(e=t),al(e)||(e=tg),new Qe(s=>{const r=HR(n)?n:+n-e.now();return e.schedule(jX,r,{index:0,period:i,subscriber:s})})}(n,t))}function kF(n,t){return function(i){return i.lift(new WX(n,t))}}class WX{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new zX(t,this.predicate,this.thisArg))}}class zX extends Mt{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function Jo(n){return t=>t.lift(new KX(n))}class KX{constructor(t){this.notifier=t}call(t,e){const i=new QX(t),s=Yi(this.notifier,new Ln(i));return s&&!i.seenValue?(i.add(s),e.subscribe(i)):i}}class QX extends Oc{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function CF(...n){return Tg(1)(Ec(...n))}function ig(...n){const t=n[n.length-1];return al(t)?(n.pop(),e=>CF(n,e,t)):e=>CF(n,e)}function UR(n,t){return"function"==typeof t?e=>e.pipe(UR((i,s)=>Ic(n(i,s)).pipe(ys((r,a)=>t(i,r,s,a))))):e=>e.lift(new eee(n))}class eee{constructor(t){this.project=t}call(t,e){return e.subscribe(new tee(t,this.project))}}class tee extends Oc{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new Ln(this),s=this.destination;s.add(i),this.innerSubscription=Yi(t,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}new class extends kr{}(class extends Cb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(t,e,i):t.flush(this)}});const ree=new Qe(n=>n.complete());function AF(n){return n?function(n){return new Qe(t=>n.schedule(()=>t.complete()))}(n):ree}class Ws{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}}accept(t,e,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,i)}toObservable(){switch(this.kind){case"N":return Ec(this.value);case"E":return function(n,t){return new Qe(e=>e.error(n))}(this.error);case"C":return AF()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new Ws("N",t):Ws.undefinedValueNotification}static createError(t){return new Ws("E",void 0,t)}static createComplete(){return Ws.completeNotification}}let GR;Ws.completeNotification=new Ws("C"),Ws.undefinedValueNotification=new Ws("N",void 0);try{GR="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){GR=!1}let ng,jR,zs=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return n===l$}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!GR)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(H(hh))},n.\u0275prov=ue({factory:function(){return new n(H(hh))},token:n,providedIn:"root"}),n})();function sg(n){return function(){if(null==ng&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ng=!0}))}finally{ng=ng||!1}return ng}()?n:!!n.capture}function WR(n){if(function(){if(null==jR){const n="undefined"!=typeof document?document.head:null;jR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return jR}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Qr(n){return n.composedPath?n.composedPath()[0]:n.target}const TF=new be("cdk-dir-doc",{providedIn:"root",factory:function(){return iw(Xe)}});let ag=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new pt,e){const s=e.documentElement?e.documentElement.dir:null,r=(e.body?e.body.dir:null)||s;this.value="ltr"===r||"rtl"===r?r:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(H(TF,8))},n.\u0275prov=ue({factory:function(){return new n(H(TF,8))},token:n,providedIn:"root"}),n})(),zR=(()=>{class n{constructor(e,i,s){this._ngZone=e,this._platform=i,this._scrolled=new Ze,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Qe(i=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(qR(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ec()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const s=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(kF(r=>!r||s.indexOf(r)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((s,r)=>{this._scrollableContainsElement(r,e)&&i.push(r)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let s=Bi(i),r=e.getElementRef().nativeElement;do{if(s==r)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>FR(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(H(ze),H(zs),H(Xe,8))},n.\u0275prov=ue({factory:function(){return new n(H(ze),H(zs),H(Xe,8))},token:n,providedIn:"root"}),n})(),KR=(()=>{class n{constructor(e,i,s){this._platform=e,this._change=new Ze,this._changeListener=r=>{this._change.next(r)},this._document=s,i.runOutsideAngular(()=>{if(e.isBrowser){const r=this._getWindow();r.addEventListener("resize",this._changeListener),r.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),s=e.documentElement,r=s.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||i.scrollY||s.scrollTop||0,left:-r.left||e.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(qR(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(H(zs),H(ze),H(Xe,8))},n.\u0275prov=ue({factory:function(){return new n(H(zs),H(ze),H(Xe,8))},token:n,providedIn:"root"}),n})(),QR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({}),n})();const Vee=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function YR(n){return t=>0===n?AF():t.lift(new Fee(n))}class Fee{constructor(t){if(this.total=t,this.total<0)throw new Vee}call(t,e){return e.subscribe(new Hee(t,this.total))}}class Hee extends Mt{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function bte(n){const{subscriber:t,counter:e,period:i}=n;t.next(e),this.schedule({subscriber:t,counter:e+1,period:i},i)}function Zo(){}"undefined"!=typeof Element&&Element;class wte{constructor(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}call(t,e){return e.subscribe(new Ete(t,this.nextOrObserver,this.error,this.complete))}}class Ete extends Mt{constructor(t,e,i,s){super(t),this._tapNext=Zo,this._tapError=Zo,this._tapComplete=Zo,this._tapError=i||Zo,this._tapComplete=s||Zo,M(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Zo,this._tapError=e.error||Zo,this._tapComplete=e.complete||Zo)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function XR(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const s=t[i];s?n.setProperty(i,s,(null==e?void 0:e.has(i))?"important":""):n.removeProperty(i)}return n}function Fh(n,t){const e=t?"":"none";XR(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function JF(n,t,e){XR(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function xb(n,t){return t&&"none"!=t?n+" "+t:n}function ZF(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function eI(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function tI(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function iI(n,t,e){const{top:i,bottom:s,left:r,right:a}=n;return e>=i&&e<=s&&t>=r&&t<=a}function og(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function XF(n,t,e,i){const{top:s,right:r,bottom:a,left:o,width:l,height:h}=n,d=l*t,m=h*t;return i>s-m&&i<a+m&&e>o-d&&e<r+d}class e4{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:tI(e)})})}handleScroll(t){const e=Qr(t),i=this.positions.get(e);if(!i)return null;const s=e===this._document?e.documentElement:e,r=i.scrollPosition;let a,o;if(e===this._document){const d=this._viewportRuler.getViewportScrollPosition();a=d.top,o=d.left}else a=e.scrollTop,o=e.scrollLeft;const l=r.top-a,h=r.left-o;return this.positions.forEach((d,m)=>{d.clientRect&&e!==m&&s.contains(m)&&og(d.clientRect,l,h)}),r.top=a,r.left=o,{top:l,left:h}}}function t4(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let s=0;s<e.length;s++)e[s].removeAttribute("id");return"canvas"===i?s4(n,t):("input"===i||"select"===i||"textarea"===i)&&n4(n,t),i4("canvas",n,t,s4),i4("input, textarea, select",n,t,n4),t}function i4(n,t,e,i){const s=t.querySelectorAll(n);if(s.length){const r=e.querySelectorAll(n);for(let a=0;a<s.length;a++)i(s[a],r[a])}}let Cte=0;function n4(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${Cte++}`)}function s4(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch(i){}}const r4=sg({passive:!0}),a4=sg({passive:!1}),nI=new Set(["position"]);class Pte{constructor(t,e,i,s,r,a){this._config=e,this._document=i,this._ngZone=s,this._viewportRuler=r,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Ze,this._pointerMoveSubscription=et.EMPTY,this._pointerUpSubscription=et.EMPTY,this._scrollSubscription=et.EMPTY,this._resizeSubscription=et.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Ze,this.started=new Ze,this.released=new Ze,this.ended=new Ze,this.entered=new Ze,this.exited=new Ze,this.dropped=new Ze,this.moved=this._moveEvents,this._pointerDown=o=>{if(this.beforeStarted.next(),this._handles.length){const l=this._handles.find(h=>{const d=Qr(o);return!!d&&(d===h||h.contains(d))});l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,o)}else this.disabled||this._initializeDragSequence(this._rootElement,o)},this._pointerMove=o=>{const l=this._getPointerPositionOnPage(o);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const S=Date.now()>=this._dragStartTime+this._getDragStartDelay(o),k=this._dropContainer;if(!S)return void this._endDragSequence(o);(!k||!k.isDragging()&&!k.isReceiving())&&(o.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(o)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),o.preventDefault();const h=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(h),this._dropContainer)this._updateActiveDropContainer(h,l);else{const d=this._activeTransform;d.x=h.x-this._pickupPositionOnPage.x+this._passiveTransform.x,d.y=h.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(d.x,d.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${d.x} ${d.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:h,event:o,distance:this._getDragDistance(h),delta:this._pointerDirectionDelta})})},this._pointerUp=o=>{this._endDragSequence(o)},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new e4(i,r),a.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=js(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>Fh(i,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>Bi(i)),this._handles.forEach(i=>Fh(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Bi(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,a4),e.addEventListener("touchstart",this._pointerDown,r4)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Bi(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&Rb(this._rootElement),Rb(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Fh(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Fh(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&Rb(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&Rb(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){lg(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,s=i.parentNode,r=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment(""),o=this._getShadowRoot();s.insertBefore(a,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),JF(i,!1,nI),this._document.body.appendChild(s.replaceChild(r,i)),this._getPreviewInsertionPoint(s,o).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),s=lg(e),r=!s&&0!==e.button,a=this._rootElement,o=Qr(e),l=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),h=s?function(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(e):function(n){return 0===n.offsetX&&0===n.offsetY}(e);if(o&&o.draggable&&"mousedown"===e.type&&e.preventDefault(),i||r||l||h)return;this._handles.length&&(this._rootElementTapHighlight=a.style.webkitTapHighlightColor||"",a.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(y=>this._updateOnScroll(y)),this._boundaryElement&&(this._boundaryRect=tI(this._boundaryElement));const d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const m=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:m.x,y:m.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){JF(this._rootElement,!0,nI),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),s=this._getPointerPositionOnPage(t),r=this._getDragDistance(s),a=e._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:r,dropPoint:s}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:r,dropPoint:s}),e.drop(this,i,this._initialIndex,this._initialContainer,a,r,s),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:s}){let r=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,t,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,s),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let s;if(i&&t){const r=t.matchSize?this._rootElement.getBoundingClientRect():null,a=t.viewContainer.createEmbeddedView(i,t.context);a.detectChanges(),s=l4(a,this._document),this._previewRef=a,t.matchSize?c4(s,r):s.style.transform=Mb(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const r=this._rootElement;s=t4(r),c4(s,r.getBoundingClientRect()),this._initialTransform&&(s.style.transform=this._initialTransform)}return XR(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},nI),Fh(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(r=>s.classList.add(r)):s.classList.add(e)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function(n){const t=getComputedStyle(n),e=eI(t,"transition-property"),i=e.find(o=>"transform"===o||"all"===o);if(!i)return 0;const s=e.indexOf(i),r=eI(t,"transition-duration"),a=eI(t,"transition-delay");return ZF(r[s])+ZF(a[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const s=a=>{var o;(!a||Qr(a)===this._preview&&"transform"===a.propertyName)&&(null===(o=this._preview)||void 0===o||o.removeEventListener("transitionend",s),i(),clearTimeout(r))},r=setTimeout(s,1.5*e);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=l4(this._placeholderRef,this._document)):i=t4(this._rootElement),i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e){const i=this._rootElement.getBoundingClientRect(),s=t===this._rootElement?null:t,r=s?s.getBoundingClientRect():i,a=lg(e)?e.targetTouches[0]:e,o=this._getViewportScrollPosition();return{x:r.left-i.left+(a.pageX-r.left-o.left),y:r.top-i.top+(a.pageY-r.top-o.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=lg(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,s=i.pageX-e.left,r=i.pageY-e.top;if(this._ownerSVGElement){const a=this._ownerSVGElement.getScreenCTM();if(a){const o=this._ownerSVGElement.createSVGPoint();return o.x=s,o.y=r,o.matrixTransform(a.inverse())}}return{x:s,y:r}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:s}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?s=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:r,y:a}=this._pickupPositionInElement,o=this._boundaryRect,l=this._previewRect,h=o.top+a,d=o.bottom-(l.height-a);i=o4(i,o.left+r,o.right-(l.width-r)),s=o4(s,h,d)}return{x:i,y:s}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,s=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,a=Math.abs(e-r.x),o=Math.abs(i-r.y);return a>this._config.pointerDirectionChangeThreshold&&(s.x=e>r.x?1:-1,r.x=e),o>this._config.pointerDirectionChangeThreshold&&(s.y=i>r.y?1:-1,r.y=i),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Fh(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,a4),t.removeEventListener("touchstart",this._pointerDown,r4)}_applyRootElementTransform(t,e){const i=Mb(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform&&"none"!=this._rootElement.style.transform?this._rootElement.style.transform:""),this._rootElement.style.transform=xb(i,this._initialTransform)}_applyPreviewTransform(t,e){var i;const s=(null===(i=this._previewTemplate)||void 0===i?void 0:i.template)?void 0:this._initialTransform,r=Mb(t,e);this._preview.style.transform=xb(r,s)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),s=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===s.width&&0===s.height)return;const r=i.left-s.left,a=s.right-i.right,o=i.top-s.top,l=s.bottom-i.bottom;i.width>s.width?(r>0&&(t+=r),a>0&&(t-=a)):t=0,i.height>s.height?(o>0&&(e+=o),l>0&&(e-=l)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:lg(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=Qr(t);this._boundaryRect&&(i===this._document||i!==this._boundaryElement&&i.contains(this._boundaryElement))&&og(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=WR(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const s=this._document;return e||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return Bi(i)}}function Mb(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function o4(n,t,e){return Math.max(t,Math.min(e,n))}function Rb(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function lg(n){return"t"===n.type[0]}function l4(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(s=>i.appendChild(s)),i}function c4(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=Mb(t.left,t.top)}function u4(n,t,e){const i=cg(t,n.length-1),s=cg(e,n.length-1);if(i===s)return;const r=n[i],a=s<i?-1:1;for(let o=i;o!==s;o+=a)n[o]=n[o+a];n[s]=r}function cg(n,t){return Math.max(0,Math.min(t,n))}class Dte{constructor(t,e,i,s,r){this._dragDropRegistry=e,this._ngZone=s,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Ze,this.entered=new Ze,this.exited=new Ze,this.dropped=new Ze,this.sorted=new Ze,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=et.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Ze,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(n=0,t=tg){return(!HR(n)||n<0)&&(n=0),(!t||"function"!=typeof t.schedule)&&(t=tg),new Qe(e=>(e.add(t.schedule(bte,n,{subscriber:e,counter:0,period:n})),e))}(0,_F).pipe(Jo(this._stopScrollTimers)).subscribe(()=>{const a=this._scrollNode,o=this.autoScrollStep;1===this._verticalScrollDirection?f4(a,-o):2===this._verticalScrollDirection&&f4(a,o),1===this._horizontalScrollDirection?p4(a,-o):2===this._horizontalScrollDirection&&p4(a,o)})},this.element=Bi(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new e4(i,r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,s){let r;this._draggingStarted(),null==s?(r=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===r&&(r=this._getItemIndexFromPointerPosition(t,e,i))):r=s;const a=this._activeDraggables,o=a.indexOf(t),l=t.getPlaceholderElement();let h=a[r];if(h===t&&(h=a[r+1]),o>-1&&a.splice(o,1),h&&!this._dragDropRegistry.isDragging(h)){const d=h.getRootElement();d.parentElement.insertBefore(l,d),a.splice(r,0,t)}else if(this._shouldEnterAsFirstChild(e,i)){const d=a[0].getRootElement();d.parentNode.insertBefore(l,d),a.unshift(t)}else Bi(this.element).appendChild(l),a.push(t);l.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,s,r,a,o){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:s,isPointerOverContainer:r,distance:a,dropPoint:o})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(s=>s.isDragging()).every(s=>-1===t.indexOf(s))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=Bi(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?sI("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,i=>i.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,s){if(this.sortingDisabled||!this._clientRect||!XF(this._clientRect,.05,e,i))return;const r=this._itemPositions,a=this._getItemIndexFromPointerPosition(t,e,i,s);if(-1===a&&r.length>0)return;const o="horizontal"===this._orientation,l=sI(r,D=>D.drag===t),h=r[a],m=h.clientRect,y=l>a?1:-1,S=this._getItemOffsetPx(r[l].clientRect,m,y),k=this._getSiblingOffsetPx(l,r,y),T=r.slice();u4(r,l,a),this.sorted.next({previousIndex:l,currentIndex:a,container:this,item:t}),r.forEach((D,N)=>{if(T[N]===D)return;const I=D.drag===t,U=I?S:k,O=I?t.getPlaceholderElement():D.drag.getRootElement();D.offset+=U,o?(O.style.transform=xb(`translate3d(${Math.round(D.offset)}px, 0, 0)`,D.initialTransform),og(D.clientRect,0,U)):(O.style.transform=xb(`translate3d(0, ${Math.round(D.offset)}px, 0)`,D.initialTransform),og(D.clientRect,U,0))}),this._previousSwap.overlaps=iI(m,e,i),this._previousSwap.drag=h.drag,this._previousSwap.delta=o?s.x:s.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,s=0,r=0;if(this._parentPositions.positions.forEach((a,o)=>{o===this._document||!a.clientRect||i||XF(a.clientRect,.05,t,e)&&([s,r]=function(n,t,e,i){const s=g4(t,i),r=m4(t,e);let a=0,o=0;if(s){const l=n.scrollTop;1===s?l>0&&(a=1):n.scrollHeight-l>n.clientHeight&&(a=2)}if(r){const l=n.scrollLeft;1===r?l>0&&(o=1):n.scrollWidth-l>n.clientWidth&&(o=2)}return[a,o]}(o,a.clientRect,t,e),(s||r)&&(i=o))}),!s&&!r){const{width:a,height:o}=this._viewportRuler.getViewportSize(),l={width:a,height:o,top:0,right:a,bottom:o,left:0};s=g4(l,e),r=m4(l,t),i=window}i&&(s!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=r,this._scrollNode=i,(s||r)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Bi(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Bi(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:tI(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const t=Bi(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var i;const s=e.getRootElement();if(s){const r=null===(i=this._itemPositions.find(a=>a.drag===e))||void 0===i?void 0:i.initialTransform;s.style.transform=r||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,i){const s="horizontal"===this._orientation,r=e[t].clientRect,a=e[t+-1*i];let o=r[s?"width":"height"]*i;if(a){const l=s?"left":"top",h=s?"right":"bottom";-1===i?o-=a.clientRect[l]-r[h]:o+=r[l]-a.clientRect[h]}return o}_getItemOffsetPx(t,e,i){const s="horizontal"===this._orientation;let r=s?e.left-t.left:e.top-t.top;return-1===i&&(r+=s?e.width-t.width:e.height-t.height),r}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,s="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const a=i[i.length-1].clientRect;return s?t>=a.right:e>=a.bottom}{const a=i[0].clientRect;return s?t<=a.left:e<=a.top}}_getItemIndexFromPointerPosition(t,e,i,s){const r="horizontal"===this._orientation,a=sI(this._itemPositions,({drag:o,clientRect:l},h,d)=>{if(o===t)return d.length<2;if(s){const m=r?s.x:s.y;if(o===this._previousSwap.drag&&this._previousSwap.overlaps&&m===this._previousSwap.delta)return!1}return r?e>=Math.floor(l.left)&&e<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom)});return-1!==a&&this.sortPredicate(a,t,this)?a:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&iI(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(s=>s._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!iI(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const s=this._getShadowRoot().elementFromPoint(e,i);if(!s)return!1;const r=Bi(this.element);return s===r||r.contains(s)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:i})=>{og(i,e.top,e.left)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=WR(Bi(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function sI(n,t){for(let e=0;e<n.length;e++)if(t(n[e],e,n))return e;return-1}function f4(n,t){n===window?n.scrollBy(0,t):n.scrollTop+=t}function p4(n,t){n===window?n.scrollBy(t,0):n.scrollLeft+=t}function g4(n,t){const{top:e,bottom:i,height:s}=n,r=.05*s;return t>=e-r&&t<=e+r?1:t>=i-r&&t<=i+r?2:0}function m4(n,t){const{left:e,right:i,width:s}=n,r=.05*s;return t>=e-r&&t<=e+r?1:t>=i-r&&t<=i+r?2:0}const Ib=sg({passive:!1,capture:!0});let v4=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new Ze,this.pointerUp=new Ze,this.scroll=new Ze,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Ib)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Ib)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const s=i.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:r=>this.pointerUp.next(r),options:!0}).set("scroll",{handler:r=>this.scroll.next(r),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Ib}),s||this._globalListeners.set("mousemove",{handler:r=>this.pointerMove.next(r),options:Ib}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((r,a)=>{this._document.addEventListener(a,r.handler,r.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new Qe(s=>this._ngZone.runOutsideAngular(()=>{const a=o=>{this._activeDragInstances.length&&s.next(o)};return e.addEventListener("scroll",a,!0),()=>{e.removeEventListener("scroll",a,!0)}}))),Ar(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(H(ze),H(Xe))},n.\u0275prov=ue({factory:function(){return new n(H(ze),H(Xe))},token:n,providedIn:"root"}),n})();const xte={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let rI=(()=>{class n{constructor(e,i,s,r){this._document=e,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=r}createDrag(e,i=xte){return new Pte(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new Dte(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(H(Xe),H(ze),H(KR),H(v4))},n.\u0275prov=ue({factory:function(){return new n(H(Xe),H(ze),H(KR),H(v4))},token:n,providedIn:"root"}),n})();const aI=new be("CDK_DRAG_PARENT"),oI=new be("CdkDropListGroup"),y4=new be("CDK_DRAG_CONFIG");let Mte=0;const _4=new be("CdkDropList");let Ite=(()=>{class n{constructor(e,i,s,r,a,o,l){this.element=e,this._changeDetectorRef=s,this._scrollDispatcher=r,this._dir=a,this._group=o,this._destroyed=new Ze,this.connectedTo=[],this.id="cdk-drop-list-"+Mte++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new pt,this.entered=new pt,this.exited=new pt,this.sorted=new pt,this._unsortedItems=new Set,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(h,d)=>this.enterPredicate(h.data,d.data),this._dropListRef.sortPredicate=(h,d,m)=>this.sortPredicate(h,d.data,m.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),o&&o._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=js(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=n._dropLists.indexOf(this);e>-1&&n._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(ig(this._dir.value),Jo(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{const i=function(n){return Array.isArray(n)?n:[n]}(this.connectedTo).map(s=>"string"==typeof s?n._dropLists.find(a=>a.id===s):s);if(this._group&&this._group._items.forEach(s=>{-1===i.indexOf(s)&&i.push(s)}),!this._scrollableParentsResolved){const s=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(r=>r.getElementRef().nativeElement);this._dropListRef.withScrollableParents(s),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=js(this.sortingDisabled),e.autoScrollDisabled=js(this.autoScrollDisabled),e.autoScrollStep=wc(this.autoScrollStep,2),e.connectedTo(i.filter(s=>s&&s!==this).map(s=>s._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:i,draggingDisabled:s,sortingDisabled:r,listAutoScrollDisabled:a,listOrientation:o}=e;this.disabled=null!=s&&s,this.sortingDisabled=null!=r&&r,this.autoScrollDisabled=null!=a&&a,this.orientation=o||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return n.\u0275fac=function(e){return new(e||n)($(Nt),$(rI),$(py),$(zR),$(ag,8),$(oI,12),$(y4,8))},n.\u0275dir=de({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,i){2&e&&(dr("id",i.id),Zl("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[lt([{provide:oI,useValue:void 0},{provide:_4,useExisting:n}])]}),n._dropLists=[],n})();const lI=new be("CdkDragHandle");let Ote=(()=>{class n{constructor(e,i){this.element=e,this._stateChanges=new Ze,this._disabled=!1,this._parentDrag=i}get disabled(){return this._disabled}set disabled(e){this._disabled=js(e),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)($(Nt),$(aI,12))},n.\u0275dir=de({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[lt([{provide:lI,useExisting:n}])]}),n})();const b4=new be("CdkDragPlaceholder"),S4=new be("CdkDragPreview");let Lte=(()=>{class n{constructor(e,i,s,r,a,o,l,h,d,m,y){this.element=e,this.dropContainer=i,this._ngZone=r,this._viewContainerRef=a,this._dir=l,this._changeDetectorRef=d,this._selfHandle=m,this._parentDrag=y,this._destroyed=new Ze,this.started=new pt,this.released=new pt,this.ended=new pt,this.entered=new pt,this.exited=new pt,this.dropped=new pt,this.moved=new Qe(S=>{const k=this._dragRef.moved.pipe(ys(T=>({source:this,pointerPosition:T.pointerPosition,event:T.event,delta:T.delta,distance:T.distance}))).subscribe(S);return()=>{k.unsubscribe()}}),this._dragRef=h.createDrag(e,{dragStartThreshold:o&&null!=o.dragStartThreshold?o.dragStartThreshold:5,pointerDirectionChangeThreshold:o&&null!=o.pointerDirectionChangeThreshold?o.pointerDirectionChangeThreshold:5,zIndex:null==o?void 0:o.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),o&&this._assignDefaults(o),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=js(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(YR(1),Jo(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const i=e.rootElementSelector,s=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),s&&!s.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement,i=this.rootElementSelector?w4(e,this.rootElementSelector):e;this._dragRef.withRootElement(i||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?w4(this.element.nativeElement,e):Bi(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,s=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof s&&s?s:wc(s),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(YR(1)).subscribe(()=>{var i,s;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(null===(i=r.classList)||void 0===i?void 0:i.contains("cdk-drag")){e.withParent((null===(s=n._dragInstances.find(a=>a.element.nativeElement===r))||void 0===s?void 0:s._dragRef)||null);break}r=r.parentElement}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:s,constrainPosition:r,previewClass:a,boundaryElement:o,draggingDisabled:l,rootElementSelector:h,previewContainer:d}=e;this.disabled=null!=l&&l,this.dragStartDelay=s||0,i&&(this.lockAxis=i),r&&(this.constrainPosition=r),a&&(this.previewClass=a),o&&(this.boundaryElement=o),h&&(this.rootElementSelector=h),d&&(this.previewContainer=d)}_setupHandlesListener(){this._handles.changes.pipe(ig(this._handles),function(n,t,e){return function(s){return s.lift(new wte(n,undefined,undefined))}}(e=>{const i=e.filter(s=>s._parentDrag===this).map(s=>s.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),UR(e=>Ar(...e.map(i=>i._stateChanges.pipe(ig(i))))),Jo(this._destroyed)).subscribe(e=>{const i=this._dragRef,s=e.element.nativeElement;e.disabled?i.disableHandle(s):i.enableHandle(s)})}}return n.\u0275fac=function(e){return new(e||n)($(Nt),$(_4,12),$(Xe),$(ze),$(Ls),$(y4,8),$(ag,8),$(rI),$(py),$(lI,10),$(aI,12))},n.\u0275dir=de({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(e,i,s){if(1&e&&(wy(s,S4,5),wy(s,b4,5),wy(s,lI,5)),2&e){let r;rc(r=ac())&&(i._previewTemplate=r.first),rc(r=ac())&&(i._placeholderTemplate=r.first),rc(r=ac())&&(i._handles=r)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,i){2&e&&Zl("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],previewContainer:["cdkDragPreviewContainer","previewContainer"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[lt([{provide:aI,useExisting:n}]),Dt]}),n._dragInstances=[],n})();function w4(n,t){let e=n.parentElement;for(;e;){if(e.matches?e.matches(t):e.msMatchesSelector(t))return e;e=e.parentElement}return null}let Bte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({providers:[rI],imports:[QR]}),n})();class E4{}const Ka="*";function Vte(n,t){return{type:7,name:n,definitions:t,options:{}}}function Fte(n,t=null){return{type:4,styles:t,timings:n}}function k4(n,t=null){return{type:2,steps:n,options:t}}function Ob(n){return{type:6,styles:n,offset:null}}function C4(n,t,e){return{type:0,name:n,styles:t,options:e}}function Hte(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function A4(n){Promise.resolve(null).then(n)}class Hh{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){A4(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class P4{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,s=0;const r=this.players.length;0==r?A4(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==r&&this._onFinish()}),a.onDestroy(()=>{++i==r&&this._onDestroy()}),a.onStart(()=>{++s==r&&this._onStart()})}),this.totalTime=this.players.reduce((a,o)=>Math.max(a,o.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(s)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}let qte=(()=>{class n{constructor(e){this.gameService=e,this.toyPetEvents=[],this.nonToyPetEvents=[]}redoPriorities(e){this.nonToyPetEvents=this.nonToyPetEvents.filter(i=>i.pet!=e);for(let i of this.nonToyPetEvents)i.priority=i.pet.attack;this.executeNonToyPetEvents()}initStartOfBattleEvents(){this.gameApi=this.gameService.gameApi;for(let e of this.gameApi.player.petArray)if(null!=e.startOfBattle){let i=this.toyPetEvents;e.toyPet||(i=this.nonToyPetEvents),i.push({callback:e.startOfBattle.bind(e),priority:e.attack,player:this.gameApi.player,pet:e})}for(let e of this.gameApi.opponet.petArray)if(null!=e.startOfBattle){let i=this.toyPetEvents;e.toyPet||(i=this.nonToyPetEvents),i.push({callback:e.startOfBattle.bind(e),priority:e.attack,player:this.gameApi.opponet,pet:e})}}resetToyPetEvents(){this.toyPetEvents=[]}resetNonToyPetEvents(){this.nonToyPetEvents=[]}resetStartOfBattleFlags(){this.gameApi=this.gameService.gameApi;for(let e of this.gameApi.player.petArray)e.startOfBattleTriggered=!1;for(let e of this.gameApi.opponet.petArray)e.startOfBattleTriggered=!1}executeToyPetEvents(){this.toyPetEvents=(0,vt.shuffle)(this.toyPetEvents),this.toyPetEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.toyPetEvents){if(e.pet&&e.pet.transformed&&e.pet.transformedInto){const i=e.pet.transformedInto;if(!i.startOfBattle)continue;e.callback=i.startOfBattle.bind(i)}e.callback(this.gameApi)}this.resetToyPetEvents()}executeNonToyPetEvents(){this.nonToyPetEvents=(0,vt.shuffle)(this.nonToyPetEvents),this.nonToyPetEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.nonToyPetEvents){if(e.pet.startOfBattleTriggered)continue;let i=e.pet;if(e.pet.transformed&&e.pet.transformedInto){const r=e.pet.transformedInto;if(!r.startOfBattle){e.pet.startOfBattleTriggered=!0;continue}i=r,e.callback=r.startOfBattle.bind(r)}if(i.startOfBattleTriggered=!0,e.callback(this.gameApi))return this.redoPriorities(e.pet)}this.resetNonToyPetEvents()}}return n.\u0275fac=function(e){return new(e||n)(H(Sh))},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uI=(()=>{class n{constructor(){this.key="sapData"}getStorage(){return window.localStorage.getItem(this.key),window.localStorage.getItem(this.key)}setFormStorage(e){let i=(0,vt.cloneDeep)(e.value);const s=[...i.playerPets||[],...i.opponentPets||[]];for(const r of s)r&&(delete r.parent,delete r.logService,delete r.abilityService,delete r.gameService,delete r.petService,null!=r.equipment&&(r.equipment={name:r.equipment.name}));this.setStorage(i)}setStorage(e){"object"==typeof e&&(e=JSON.stringify(e)),window.localStorage.setItem(this.key,e)}clearStorage(){window.localStorage.removeItem(this.key)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ute=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Bn({type:n,selectors:[["app-patch-notes"]],decls:549,vars:0,template:function(e,i){1&e&&(p(0,"h2"),w(1,"v0.7.1"),g(),p(2,"ul"),p(3,"li"),w(4,"Updated all perks, and pets execept Iriomote Cat"),g(),p(5,"li"),w(6,"Fixed bug with Toucan breaking calculator when giving egg. (Thanks Tangl)"),g(),g(),p(7,"h2"),w(8,"v0.7.0"),g(),p(9,"ul"),p(10,"li"),w(11,"Updated Abomination swallow options, note that Abomination and California still doesn't work for lots of abilites, especially those with multiple triggers, trigger limit, or special mechanics. Also can't gain multiple abilities with the same trigger"),g(),p(12,"li"),w(13,"Fixed bug with dazed not working, multiple mandrakes dazing same pet, bigfoot not recognised as a faint pet by mandrake, ghost kitten not reducing damage from crisp, chili, skewer, front thunderbird, salmon of knowledge affects themself, cyclops gives mana to itself on friend level, dazed makes mana snipes not go off, levelling a pet from level 1 to level 3 only triggers team spirit once. (Thanks Xrb) "),g(),p(14,"li"),w(15,"Updated most pets in the recent update"),g(),g(),p(16,"h2"),w(17,"v0.6.19"),g(),p(18,"ul"),p(19,"li"),w(20,"Fixed bug with Bunyip gaining health after it fainted. (Thanks ProfNinja)"),g(),p(21,"li"),w(22,"Implemented Silly logic in static packs, no acitavtion yet"),g(),p(23,"li"),w(24,"Fixed Bug with Pandoras Box (Thanks Tangl)"),g(),p(25,"li"),w(26,"Fixed Bug with not able to drag and drop sometimes (Thanks Tangl)"),g(),g(),p(27,"h2"),w(28,"v0.6.18"),g(),p(29,"ul"),p(30,"li"),w(31,"Fixed bug with 1 attack pet dealing 2 damage to pets with garlic. (Thanks Zoklev)"),g(),p(32,"li"),w(33,"Fixed bug with Octopus sniping same pet twice (Thanks Zoklev)"),g(),g(),p(34,"h2"),w(35,"v0.6.17"),g(),p(36,"ul"),p(37,"li"),w(38,"All pets and perks in star pack are updated."),g(),p(39,"li"),w(40,"Updated some star pack pets.(Thanks Tangl)"),g(),p(41,"li"),w(42,"All pets and perks execept Tree Kangaroo is updated"),g(),p(43,"li"),w(44,"Fixed bug with pets not removed correctly(Thanks Zoklev)"),g(),g(),p(45,"h2"),w(46,"v0.6.16"),g(),p(47,"ul"),p(48,"li"),w(49,"Updated Unicorn Perks."),g(),p(50,"li"),w(51,"Updated some star pack pets.(Thanks Tangl)"),g(),p(52,"li"),w(53,"Fixed bug with Rooster chicks being death linked"),g(),p(54,"li"),w(55,"Fixed Boar triggering twice"),g(),p(56,"li"),w(57,"Fixed Same Attack trigger not being random"),g(),p(58,"li"),w(59,"Fixed Hippo breaking the calculator"),g(),p(60,"li"),w(61,"Fixed Whale summon"),g(),p(62,"li"),w(63,"Fixed Tiger not working with summon"),g(),p(64,"li"),w(65,"Thanks Freetz for finding all the bugs"),g(),g(),p(66,"h2"),w(67,"v0.6.15"),g(),p(68,"ul"),p(69,"li"),w(70,"Updated trigger order"),g(),p(71,"li"),w(72,"Updated Golden pack"),g(),g(),p(73,"h2"),w(74,"v0.6.14"),g(),p(75,"ul"),p(76,"li"),w(77,"Fixed Bug with Dodo causing SOB ability triggering again. (Thanks JOEBOBBOBJOE)"),g(),p(78,"li"),w(79,"Fixed Bug with wrong summon place. (Thanks Freetz)"),g(),p(80,"li"),w(81,"Updated pets & perks in Puppy Pack."),g(),p(82,"li"),w(83,"Updated pets in Unicorn Pack. (Thanks Tangl)"),g(),g(),p(84,"h2"),w(85,"v0.6.13"),g(),p(86,"ul"),p(87,"li"),w(88,"Updated Deer, Turkey, Whale, and Wolverine."),g(),p(89,"li"),w(90,"Added gain perk trigger for rabbit and seal."),g(),g(),p(91,"h2"),w(92,"v0.6.12"),g(),p(93,"ul"),p(94,"li"),w(95,"Fixed bug with Parrot chaining when front Parrot has lower attack. (Thanks jer.re)"),g(),p(96,"li"),w(97,"Fixed bug with level 1 Crab having 0 health when copying health of pet with 1 health. (Thanks Freetz)"),g(),g(),p(98,"h2"),w(99,"v0.6.11"),g(),p(100,"ul"),p(101,"li"),w(102,"Fixed bug with spawn perks having unpredictable spawn locations. (Thanks Tangl and Wombat)"),g(),p(103,"li"),w(104,"Fixed bug with Parrot chaining. (Thanks Tangl)"),g(),p(105,"li"),w(106,"Fixed bug with Fig (and probably other perks) not working with Parrot."),g(),g(),p(107,"h2"),w(108,"v0.6.10"),g(),p(109,"ul"),p(110,"li"),w(111,"Fixed bug on Import Calculator where importing an empty slot would cause pets from previous calculator to persist. (Thanks jer.re and Freetz)"),g(),p(112,"li"),w(113,"Fixed Pandoras Box"),g(),p(114,"ul"),p(115,"li"),w(116,"Removed perks available according to here: https://superautopets.wiki.gg/wiki/Pandoras_Box"),g(),p(117,"li"),w(118,"Pandoras Box has a 50% chance to give an ailment. If this is incorrect direct hate towards Cheese from SAP Dojo."),g(),g(),g(),p(119,"h2"),w(120,"v0.6.9"),g(),p(121,"ul"),p(122,"li"),w(123,"Fixed more tiger interactions breaking calculator. (Thanks tibby)"),g(),g(),p(124,"h2"),w(125,"v0.6.8"),g(),p(126,"ul"),p(127,"li"),w(128,"Added Export Calculator modal."),g(),p(129,"li"),w(130,"Fixed bug with Dodo not changing Start of Battle priorities in battle. (Thanks Plkess and CrocsAreNice)"),g(),p(131,"li"),w(132,"Fixed bug with Armadillo not giving itself health."),g(),p(133,"li"),w(134,"Fixed Salmon of Knowledge giving itself experience. (Thanks Wombat)"),g(),p(135,"li"),w(136,"Added Unicorn Pack to custom pack editor. (Thanks Rake News)"),g(),p(137,"li"),w(138,"Changed priorty order of knock out and pet ahead faints abilities - fixes Rhino/Ox interaction. (Thanks Mazl0w)"),g(),g(),p(139,"h2"),w(140,"v0.6.7"),g(),p(141,"ul"),p(142,"li"),w(143,"Fixed bug with Tiger sometimes using the wrong level. (Thanks hop)"),g(),g(),p(144,"h2"),w(145,"v0.6.6"),g(),p(146,"ul"),p(147,"li"),w(148,"Fixed bug with parrot. (Thanks hop)"),g(),p(149,"li"),w(150,"Fixed bug with Crisp always doing 6 damage. (Thanks Kutarba)"),g(),g(),p(151,"h2"),w(152,"v0.6.5"),g(),p(153,"ul"),p(154,"li"),w(155,"Fixed Anubis feint abilities happening before other start of battle abilities. (Thanks Grounded)"),g(),p(156,"li"),w(157,"Fixed Roc. (Thanks Grounded)"),g(),p(158,"li"),w(159,"Fixed mana snipe going off after Kitsune removes the mana. (Thanks Grounded)"),g(),p(160,"li"),w(161,"Fixed Manticore ability not going off if it feints. (Thanks goose)"),g(),p(162,"li"),w(163,"Fixed issue with Calygreyhound and there being only one pet left. (Thanks MAi.k)"),g(),p(164,"li"),w(165,"Fixed issue with Slepnir not targeting correctly. (Thanks goose)"),g(),p(166,"li"),w(167,"Max mana is now 50. (Thanks goose)"),g(),p(168,"li"),w(169,"Fixed potato."),g(),p(170,"li"),w(171,"Fixed issue with Pteradon not summoning behind itself in some cases."),g(),p(172,"li"),w(173,"Fixed Snake + Tiger bug. (Thanks mumf)"),g(),g(),p(174,"h2"),w(175,"v0.6.4"),g(),p(176,"ul"),p(177,"li"),w(178,"Fixed order of Friend Faints events so that it triggers after friendly units are summoned. (Thanks Grounded)"),g(),p(179,"li"),w(180,"Fixed calculator simulating only once. \u{1f926}\u200d\u2642\ufe0f"),g(),g(),p(181,"h2"),w(182,"v0.6.3"),g(),p(183,"ul"),p(184,"li"),w(185,"Added Yggdrasil Fruit (Thanks Vuenc)"),g(),p(186,"li"),w(187,"Fixed issue with some pets when spawned having mana. (Thanks Grounded)"),g(),g(),p(188,"h2"),w(189,"v0.6.2"),g(),p(190,"ul"),p(191,"li"),w(192,"Fixed Monty's base stats. (Thanks goose)"),g(),p(193,"li"),w(194,"Fixed Visitor's (and Bear's) ability not targeting ahead friendly units. (Thanks goose)"),g(),p(195,"li"),w(196,"Fixed bug where Tiger fainting before Start of Battle abilities did not triger the Tiger's ability. (Thanks goose)"),g(),p(197,"li"),w(198,"Fixed bug with certain pets having Donut breaking the calculator. (Thanks Freetz)"),g(),p(199,"li"),w(200,"Fixed Manticore not working with Crips. (Thanks Freetz)"),g(),p(201,"li"),w(202,"Added 'Ailment Equipment' mode."),g(),g(),p(203,"h2"),w(204,"v0.6.1"),g(),p(205,"ul"),p(206,"li"),w(207,"Fixed Roc not targeting Donut pets. (Thanks mewi3977)"),g(),p(208,"li"),w(209,"Updated to SAP Version 0.33.3-151 BETA"),g(),p(210,"ul"),p(211,"li"),w(212,"Changed Chimera, Nessie, Axehandle Hound, Unicorn, Vampire Bat, Warf, Barghest, Cyclops, Mana Hound, Loveland Frogman, Jersey Devil, Tigerbug, Bigfoot, Calygreyhound, Gargoyle, Ghost Kitten, Jackalope, Minotaur, Worm of Sand, Werewolf, Lucky Cat, Ogopogo. "),g(),p(213,"li"),w(214,"Added Spooked"),g(),p(215,"li"),w(216,"Minotaur stacks."),g(),g(),p(217,"li"),w(218,"Added Weak as an equipment option."),g(),p(219,"li"),w(220,"Import pack works with Unicorn pets."),g(),g(),p(221,"h2"),w(222,"v0.6.0"),g(),p(223,"ul"),p(224,"li"),w(225,"Unicorn Pack \u{1f389}"),g(),p(226,"li"),w(227,"Updated Info/Guide"),g(),g(),p(228,"h2"),w(229,"v0.5.27"),g(),p(230,"ul"),p(231,"li"),w(232,"Fixed bug with Camel's ability logs showing incorrect values."),g(),g(),p(233,"h2"),w(234,"v0.5.26"),g(),p(235,"ul"),p(236,"li"),w(237,"Fixed bugs with drag and drop. (Thanks Agentcore)"),g(),g(),p(238,"h2"),w(239,"v0.5.25"),g(),p(240,"ul"),p(241,"li"),w(242,"Fixed some import bugs."),g(),g(),p(243,"h2"),w(244,"v0.5.24"),g(),p(245,"ul"),p(246,"li"),w(247,"Fixed bug with Custom Pack dialog not opening."),g(),g(),p(248,"h2"),w(249,"v0.5.23"),g(),p(250,"ul"),p(251,"li"),w(252,"Fixed bug with importing empty pet slots."),g(),p(253,"li"),w(254,"Fixed bug with pets that Tapir summon being disjointed from its' parent player. (Thanks goose)"),g(),g(),p(255,"h2"),w(256,"v0.5.22"),g(),p(257,"ul"),p(258,"li"),w(259,"Fixed Pigeon base stats. (Thanks goose)"),g(),p(260,"li"),w(261,"Fixed Crab copying highest health pets stats even after fainting from other start of battle abilities. (Thanks Phoenix)"),g(),g(),p(262,"h2"),w(263,"v0.5.21"),g(),p(264,"ul"),p(265,"li"),w(266,"Fixed a few Panther/equipment interactions."),g(),p(267,"ul"),p(268,"li"),w(269,"Tomato (Thanks jer.re), Salt, Cheese, Durian, Egg."),g(),g(),g(),p(270,"h2"),w(271,"v0.5.20"),g(),p(272,"ul"),p(273,"li"),w(274,"Added Komodo Shuffle option."),g(),g(),p(275,"h2"),w(276,"v0.5.19"),g(),p(277,"ul"),p(278,"li"),w(279,"Removed Beluga Whale from Orca spawn pool."),g(),g(),p(280,"h2"),w(281,"v0.5.18"),g(),p(282,"ul"),p(283,"li"),w(284,"Fixed bug with Friend Ahead Attacks ability pets not triggering when fainting. (Thanks tibby)"),g(),g(),p(285,"h2"),w(286,"v0.5.17"),g(),p(287,"ul"),p(288,"li"),w(289,"Fixed bug that required running simulation on export."),g(),p(290,"li"),w(291,"Fixed bug with ailment overwritting faint food while pet faints breaking simulation."),g(),p(292,"li"),w(293,'Added "Token Pets" option.'),g(),p(294,"li"),w(295,"Added confirmation window to Reset and Randomize buttons."),g(),g(),p(296,"h2"),w(297,"v0.5.16"),g(),p(298,"ul"),p(299,"li"),w(300,"Fixed bug with Beluga Whale pet not spawning. (Thanks goose)"),g(),p(301,"li"),w(302,"Fixed bug with Chocolate Cake not triggering Knocked Out abilities."),g(),p(303,"li"),w(304,"Fixed bug with Cherry/Fig triggering multiple times after running multiple simulations."),g(),g(),p(305,"h2"),w(306,"v0.5.15"),g(),p(307,"ul"),p(308,"li"),w(309,"Updated to SAP Version 0.31.9-145 BETA"),g(),p(310,"ul"),p(311,"li"),w(312,"Added Pigeon, Hare."),g(),p(313,"li"),w(314,"Changed Cricket, Mouse Nest, Robin, Tabby Cat, Dog, Dolphin, Flying Squirrel, Hatching Chick, Owl, Ox, Raccoon, Cockatoo, Mosasaurus, Tyrannosaurus."),g(),p(315,"li"),w(316,"Added Fig."),g(),p(317,"li"),w(318,"Changed Cherry."),g(),g(),g(),p(319,"h2"),w(320,"v0.5.14"),g(),p(321,"ul"),p(322,"li"),w(323,"Bug Report System."),g(),g(),p(324,"h2"),w(325,"v0.5.13"),g(),p(326,"ul"),p(327,"li"),w(328,"Fixed bug with Opponent Empty Front Space events not triggering. (Thanks jer.re)"),g(),g(),p(329,"h2"),w(330,"v0.5.12"),g(),p(331,"ul"),p(332,"li"),w(333,"Pug is tier 3."),g(),p(334,"li"),w(335,"Siberian Husky spelling fix."),g(),p(336,"li"),w(337,"Fixed Kiwi not availble on Star pack. (Thanks Grounded)"),g(),g(),p(338,"h2"),w(339,"v0.5.11"),g(),p(340,"ul"),p(341,"li"),w(342,"Opossum is spelled correctly."),g(),g(),p(343,"h2"),w(344,"v0.5.10"),g(),p(345,"ul"),p(346,"li"),w(347,"Buff pets do not target 50/50 friends."),g(),g(),p(348,"h2"),w(349,"v0.5.9"),g(),p(350,"ul"),p(351,"li"),w(352,"Fixed Rhino base stats."),g(),p(353,"li"),w(354,"Fixed bug with Tiger behind Hurt pet. (Thanks Freetz)."),g(),p(355,"li"),w(356,"Reset button resets Equipment."),g(),p(357,"li"),w(358,"Fixed bugs with export/import."),g(),g(),p(359,"h2"),w(360,"v0.5.8"),g(),p(361,"ul"),p(362,"li"),w(363,"Fixed bug where Zombie Flies sometimes would spawn in the wrong position. (Thanks Grounded)"),g(),g(),p(364,"h2"),w(365,"v0.5.7"),g(),p(366,"ul"),p(367,"li"),w(368,"Added Pineapple."),g(),g(),p(369,"h2"),w(370,"v0.5.6"),g(),p(371,"ul"),p(372,"li"),w(373,"Fixed bug with Turtle always behaving as a level 1."),g(),g(),p(374,"h2"),w(375,"v0.5.5"),g(),p(376,"ul"),p(377,"li"),w(378,"Fixed bug with Pancakes pet getting all of the stats. (Thanks Grounded)"),g(),g(),p(379,"h2"),w(380,"v0.5.4"),g(),p(381,"ul"),p(382,"li"),w(383,"Calculator is (more) usable on mobile devices."),g(),g(),p(384,"h2"),w(385,"v0.5.3"),g(),p(386,"ul"),p(387,"li"),w(388,"Added Reset buttons for the Player and Opponent."),g(),p(389,"li"),w(390,"Export/Import Calculator."),g(),p(391,"li"),w(392,'Added "Old Stork" mode.'),g(),p(393,"li"),w(394,"Fixed spawn bug sometimes duplicating pets when up against Royal Flycatcher. (Thanks Freetz)"),g(),p(395,"li"),w(396,"Fixed bug with pets having Friend Summoned abilities hitting themselves when summoned with a mushroom."),g(),p(397,"li"),w(398,"Fixed bug with Pteradon's ability triggering if it also faints."),g(),g(),p(399,"h2"),w(400,"v0.5.2"),g(),p(401,"ul"),p(402,"li"),w(403,"Import Custom Packs"),g(),p(404,"li"),w(405,"Custom Pack editor improvments."),g(),g(),p(406,"h2"),w(407,"v0.5.1"),g(),p(408,"ul"),p(409,"li"),w(410,"Added remaining custom pack pets."),g(),p(411,"ul"),p(412,"li"),w(413,"Frilled Dragon, Wombat, Aardvark, Bear, Emperor Tamerain, Procupine, Wasp Dragonfly, Lynx, Seagull, Alpaca, Hyena, Moose, Lioness, Tapir, Walrus, White Tiger"),g(),g(),p(414,"li"),w(415,"Added remaining custom pack food."),g(),p(416,"ul"),p(417,"li"),w(418,"Blueberry, Donut"),g(),g(),p(419,"li"),w(420,"Fixed bug with blobfish showing as tier 3. (Thanks Freetz)"),g(),p(421,"li"),w(422,"Fixed bug with eggplant triggering multiple times when running the simulation multiple times. (Thanks Freetz)"),g(),p(423,"li"),w(424,"Fixed bug with mosquito able to target the same pet."),g(),g(),p(425,"h2"),w(426,"v0.5.0"),g(),p(427,"ul"),p(428,"li"),w(429,"Added custom packs!"),g(),p(430,"li"),w(431,"Added Jerboa"),g(),p(432,"li"),w(433,"Added Fortune Cookie"),g(),g(),p(434,"h2"),w(435,"v0.4.16"),g(),p(436,"ul"),p(437,"li"),w(438,"Updated to SAP Version 0.30.6-138 BETA"),g(),p(439,"ul"),p(440,"li"),w(441," Updated stats/abilities of these pets: Whale, Frog, Iguana, Marmoset, Mouse, Koala, Panda, Shrimp, Tabby Cat, Camel, Eel, Giraffe, Musk Ox, Owl, Ox, Starfish, Anteater, Chameleon, Egyptian Vulture, Manta Ray, Platypus, Cockatoo, Crane, Monkey, Shark, Piranha, Sabertooth Tiger. "),g(),p(442,"li"),w(443," Added Durian. "),g(),g(),g(),p(444,"h2"),w(445,"v0.4.15"),g(),p(446,"ul"),p(447,"li"),w(448,"Fixed bug with Eggplant triggering too many times. (Thanks Freetz)"),g(),g(),p(449,"h2"),w(450,"v0.4.14"),g(),p(451,"ul"),p(452,"li"),w(453,"Fixed rounding error with Skunk ability/Stinky Sock."),g(),p(454,"li"),w(455,"Fixed faint pets ability being the level of the whale when swallowed. (Thanks kutarba)"),g(),g(),p(456,"h2"),w(457,"v0.4.13"),g(),p(458,"ul"),p(459,"li"),w(460,"Fixed Pteradon"),g(),g(),p(461,"h2"),w(462,"v0.4.12"),g(),p(463,"ul"),p(464,"li"),w(465,"Updated to SAP Version 0.29.6-135 BETA"),g(),p(466,"ul"),p(467,"li"),w(468,"Updated stats/abilities of these pets: Ladybug, Atlantic Puffin, Guinea Pig, Hedgehog, Jellyfish, Pug, Salamander, Toucan, Blobfish, Clownfish, Flea, Flying Fish, Mole, Chameleon, Eel, Hippo, Poison Dart Frog, Whale, Fire Ant, Fox, Turkey, Lionfish, Pteradon, Tyrannosaurus. "),g(),g(),g(),p(469,"h2"),w(470,"v0.4.11"),g(),p(471,"ul"),p(472,"li"),w(473,"Fixed bug with Tiger not triggering Leopard when there are few enemies. (Thanks /u/MHolmesSC)"),g(),p(474,"li"),w(475,"Fixed bug with Ant over buffing units on faint. (Thanks /u/MHolmesSC)"),g(),p(476,"li"),w(477,"Fixed bug with Spider behaving odd. (Thanks /u/-RARO-)"),g(),w(478,"ng\n"),g(),p(479,"h2"),w(480,"v0.4.10"),g(),p(481,"ul"),p(482,"li"),w(483,"Fixed bug with Fly not spawning Zombie Fly from Start of Battle abilities fainting pets. (Thanks /u/Danielmac757)"),g(),g(),p(484,"h2"),w(485,"v0.4.9"),g(),p(486,"ul"),p(487,"li"),w(488,"Info/Guide modal."),g(),g(),p(489,"h2"),w(490,"v0.4.8"),g(),p(491,"ul"),p(492,"li"),w(493,"Fixed a bug with Fly attempting to spawn Zombie Fly when there is no room."),g(),g(),p(494,"h2"),w(495,"v0.4.7"),g(),p(496,"ul"),p(497,"li"),w(498,"Updated to SAP Version 0.28.20-130 BETA"),g(),p(499,"ul"),p(500,"li"),w(501,"Changed pets so they all move forward after start of battle abilities."),g(),g(),g(),p(502,"h2"),w(503,"v0.4.6"),g(),p(504,"ul"),p(505,"li"),w(506,"Fixed a bug with mushroom breaking the simulation by breaking the cache process. (Thanks BeastiaVenator)"),g(),p(507,"li"),w(508,"Fixed a bug with loading equipment from the browser cache."),g(),g(),p(509,"h2"),w(510,"v0.4.5"),g(),p(511,"ul"),p(512,"li"),w(513,"Drag and Drop!"),g(),g(),p(514,"h2"),w(515,"v0.4.4"),g(),p(516,"ul"),p(517,"li"),w(518,"Fixed a handful of Tiger bugs causing infinite loops."),g(),p(519,"li"),w(520,"Fixed a bug with typing select options."),g(),g(),p(521,"h2"),w(522,"v0.4.3"),g(),p(523,"ul"),p(524,"li"),w(525,"Duplicate pet option hotfix."),g(),g(),p(526,"h2"),w(527,"v0.4.2"),g(),p(528,"ul"),p(529,"li"),w(530,"Calculator state saves on 'Simulate'."),g(),p(531,"ul"),p(532,"li"),w(533,"This is stored in the browser cache. You can clear the cache by clicking on the link on the bottom of this modal."),g(),g(),p(534,"li"),w(535,"Fixed bugs with Angler mode toggling."),g(),p(536,"li"),w(537,"Zoom In/Out feature."),g(),p(538,"li"),w(539,"Fixed bug with Fly triggering twice instead of three times. (Thanks nob)"),g(),p(540,"li"),w(541,"Fixed bug with some snipe pets having no targets breaking simulation."),g(),g(),p(542,"h2"),w(543,"v0.4.1"),g(),p(544,"ul"),p(545,"li"),w(546,"Fixed a bug where Shark would gain attack/health on its own death. (Thanks mumf)"),g(),p(547,"li"),w(548,"Fixed a bug where attack bonus food would affect snipes. (Thanks Tangl)"),g(),g())},styles:[""]}),n})();const Gte=JSON.parse('{"tier1":[{"name":"African Wild Dog","tier":"1","id":"722"},{"name":"Alchemedes","tier":"1","id":"626"},{"name":"Ant","tier":"1","id":"0"},{"name":"Axehandle Hound","tier":"1","id":"377"},{"name":"Baku","tier":"1","id":"628"},{"name":"Barghest","tier":"1","id":"621"},{"name":"Basilisk","tier":"1","id":"332"},{"name":"Beaver","tier":"1","id":"3"},{"name":"Bee","tier":"1","id":"4"},{"name":"Bombus Dahlbomii","tier":"1","id":"674"},{"name":"Ethiopian Wolf","tier":"1","id":"675"},{"name":"Fan Mussel","tier":"1","id":"676"},{"name":"Togian Babirusa","tier":"1","id":"677"},{"name":"Tooth Billed Pigeon","tier":"1","id":"678"},{"name":"Beetle","tier":"1","id":"88"},{"name":"Bluebird","tier":"1","id":"89"},{"name":"Bulldog","tier":"1","id":"189"},{"name":"Bunyip","tier":"1","id":"601"},{"name":"Burbel","tier":"1","id":"659"},{"name":"Bus","tier":"1","id":"85"},{"name":"Butterfly","tier":"1","id":"9"},{"name":"Chick","tier":"1","id":"13"},{"name":"Chimera Goat","tier":"1","id":"648"},{"name":"Chimera Lion","tier":"1","id":"650"},{"name":"Chimera Snake","tier":"1","id":"649"},{"name":"Chinchilla","tier":"1","id":"161"},{"name":"Chipmunk","tier":"1","id":"184"},{"name":"Cockroach","tier":"1","id":"18"},{"name":"Cone Snail","tier":"1","id":"272"},{"name":"Cracked Egg","tier":"1","id":"647"},{"name":"Cricket","tier":"1","id":"17"},{"name":"Cuddle Toad","tier":"1","id":"611"},{"name":"Daycrawler","tier":"1","id":"641"},{"name":"Dirty Rat","tier":"1","id":"58"},{"name":"Duck","tier":"1","id":"26"},{"name":"Duckling","tier":"1","id":"113"},{"name":"Fake Nessie","tier":"1","id":"614"},{"name":"Ferret","tier":"1","id":"172"},{"name":"Fire Pup","tier":"1","id":"343"},{"name":"Fish","tier":"1","id":"32"},{"name":"Frilled Dragon","tier":"1","id":"198"},{"name":"Frog","tier":"1","id":"139"},{"name":"Gecko","tier":"1","id":"229"},{"name":"Giant Eyes Dog","tier":"1","id":"644"},{"name":"Golden Retriever","tier":"1","id":"188"},{"name":"Good Dog","tier":"1","id":"658"},{"name":"Salmon","tier":"1","id":"726"},{"name":"Mimic Octopus","tier":"6","id":"727"},{"name":"Ammonite","tier":"6","id":"730"},{"name":"Velociraptor","tier":"6","id":"732"},{"name":"Baby Urchin","tier":"2","id":"731"},{"name":"Goose","tier":"1","id":"232"},{"name":"Groundhog","tier":"1","id":"233"},{"name":"Guinea Piglet","tier":"1","id":"179"},{"name":"Lemming","tier":"1","id":"665"},{"name":"Chihuahua","tier":"1","id":"666"},{"name":"Firefly","tier":"1","id":"667"},{"name":"Pheasant","tier":"1","id":"668"},{"name":"Horse","tier":"1","id":"39"},{"name":"Hummingbird","tier":"1","id":"138"},{"name":"Hydra Head","tier":"1","id":"643"},{"name":"Iriomote Cat","tier":"1","id":"672"},{"name":"Ili Pika","tier":"1","id":"673"},{"name":"Malay Tapir","tier":"1","id":"704"},{"name":"Kiwi","tier":"1","id":"131"},{"name":"Ladybug","tier":"1","id":"92"},{"name":"Lizard Tail","tier":"1","id":"282"},{"name":"Loyal Chinchilla","tier":"1","id":"183"},{"name":"Magpie","tier":"1","id":"239"},{"name":"Marmoset","tier":"1","id":"204"},{"name":"Moby Dick","tier":"1","id":"-"},{"name":"Monty","tier":"1","id":"384"},{"name":"Mosquito","tier":"1","id":"47"},{"name":"Moth","tier":"1","id":"141"},{"name":"Mouse","tier":"1","id":"48"},{"name":"Murmel","tier":"1","id":"362"},{"name":"Nest","tier":"1","id":"508"},{"name":"Opossum","tier":"1","id":"187"},{"name":"Otter","tier":"1","id":"51"},{"name":"Pied Tamarin","tier":"1","id":"251"},{"name":"Pig","tier":"1","id":"59"},{"name":"Pigeon","tier":"1","id":"559"},{"name":"Pillbug","tier":"1","id":"149"},{"name":"Ram","tier":"1","id":"62"},{"name":"Mantis","tier":"1","id":"664"},{"name":"Rock","tier":"1","id":"638"},{"name":"Seahorse","tier":"1","id":"152"},{"name":"Silkmoth","tier":"1","id":"260"},{"name":"Sloth","tier":"1","id":"71"},{"name":"Smaller Slime","tier":"1","id":"642"},{"name":"Smaller Slug","tier":"1","id":"270"},{"name":"Smallest Slug","tier":"1","id":"477"},{"name":"Sneaky Egg","tier":"1","id":"617"},{"name":"Tsuchinoko","tier":"1","id":"379"},{"name":"Volcano Snail","tier":"1","id":"661"},{"name":"Warf","tier":"1","id":"382"},{"name":"Young Phoenix","tier":"1","id":"646"},{"name":"Zombie Cricket","tier":"1","id":"86"},{"name":"Zombie Fly","tier":"1","id":"31"},{"name":"Pengobble","tier":"1","id":"743"},{"name":"Gibbon","tier":"1","id":"748"},{"name":"Termite","tier":"1","id":"749"},{"name":"Fairy Ball","tier":"1","id":"751"},{"name":"Nessie Q","tier":"1","id":"752"},{"name":"Summoned Cockroach","tier":"1","id":"753"}],"tier2":[{"name":"African Penguin","tier":"2","id":"210"},{"name":"Angry Pygmy Hog","tier":"2","id":"679"},{"name":"Araripe Manakin","tier":"2","id":"705"},{"name":"European Mink","tier":"2","id":"706"},{"name":"Atlantic Puffin","tier":"2","id":"132"},{"name":"Bat","tier":"2","id":"87"},{"name":"Beluga Sturgeon","tier":"2","id":"213"},{"name":"Bigfoot","tier":"2","id":"334"},{"name":"Bilby","tier":"2","id":"663"},{"name":"Black Necked Stilt","tier":"2","id":"215"},{"name":"Chupacabra","tier":"2","id":"339"},{"name":"Crab","tier":"2","id":"16"},{"name":"Darwin\'s Fox","tier":"2","id":"733"},{"name":"Door Head Ant","tier":"2","id":"220"},{"name":"Dove","tier":"2","id":"24"},{"name":"Dromedary","tier":"2","id":"104"},{"name":"Drop Bear","tier":"2","id":"341"},{"name":"Flamingo","tier":"2","id":"29"},{"name":"Frigatebird","tier":"2","id":"137"},{"name":"Frost Wolf","tier":"2","id":"344"},{"name":"Gargoyle","tier":"2","id":"345"},{"name":"Gazelle","tier":"2","id":"185"},{"name":"Ghost Kitten","tier":"2","id":"346"},{"name":"Golden Beetle","tier":"2","id":"634"},{"name":"Guinea Pig","tier":"2","id":"109"},{"name":"Hedgehog","tier":"2","id":"37"},{"name":"Hercules Beetle","tier":"2","id":"234"},{"name":"Iguana","tier":"2","id":"147"},{"name":"Jackalope","tier":"2","id":"353"},{"name":"Jellyfish","tier":"2","id":"122"},{"name":"Kangaroo","tier":"2","id":"40"},{"name":"Koala","tier":"2","id":"112"},{"name":"Lemur","tier":"2","id":"236"},{"name":"Lizard","tier":"2","id":"237"},{"name":"Lucky Cat","tier":"3","id":"623"},{"name":"Mandrill","tier":"2","id":"405"},{"name":"Mothman","tier":"2","id":"604"},{"name":"Nightcrawler","tier":"2","id":"605"},{"name":"Ogopogo","tier":"2","id":"639"},{"name":"Panda","tier":"2","id":"107"},{"name":"Peacock","tier":"2","id":"54"},{"name":"Proboscis Monkey","tier":"2","id":"680"},{"name":"Pygmy Hog","tier":"2","id":"681"},{"name":"Saola","tier":"2","id":"682"},{"name":"Saker Falcon","tier":"2","id":"707"},{"name":"Taita Shrew","tier":"2","id":"683"},{"name":"Takhi","tier":"2","id":"734"},{"name":"White-Bellied Heron","tier":"2","id":"684"},{"name":"Rat","tier":"2","id":"57"},{"name":"Robin","tier":"2","id":"255"},{"name":"Salamander","tier":"2","id":"164"},{"name":"Sea Turtle","tier":"2","id":"191"},{"name":"Sea Urchin","tier":"2","id":"258"},{"name":"Shrimp","tier":"2","id":"67"},{"name":"Snail","tier":"2","id":"72"},{"name":"Sphinx","tier":"2","id":"376"},{"name":"Spider","tier":"2","id":"74"},{"name":"Squid","tier":"2","id":"177"},{"name":"Stoat","tier":"2","id":"263"},{"name":"Stork","tier":"2","id":"136"},{"name":"Swan","tier":"2","id":"76"},{"name":"Tabby Cat","tier":"2","id":"99"},{"name":"Thunderbird","tier":"2","id":"610"},{"name":"Toucan","tier":"2","id":"151"},{"name":"Wombat","tier":"2","id":"207"},{"name":"Worm","tier":"2","id":"82"},{"name":"Yak","tier":"2","id":"163"},{"name":"Dumbo Octupus","tier":"2","id":"661"},{"name":"Bass","tier":"2","id":"669"},{"name":"Shima Enaga","tier":"2","id":"725"}],"tier3":[{"name":"Aardvark","tier":"3","id":"193"},{"name":"Amami Rabbit","tier":"3","id":"735"},{"name":"Anteater","tier":"3","id":"105"},{"name":"Baboon","tier":"3","id":"171"},{"name":"Badger","tier":"3","id":"2"},{"name":"Bear","tier":"3","id":"140"},{"name":"Betta Fish","tier":"3","id":"214"},{"name":"Blue-Throated Macaw","tier":"3","id":"685"},{"name":"Brain Cramp","tier":"3","id":"349"},{"name":"Calygreyhound","tier":"3","id":"336"},{"name":"Camel","tier":"3","id":"10"},{"name":"Capybara","tier":"3","id":"154"},{"name":"Cassowary","tier":"3","id":"133"},{"name":"Deer Lord","tier":"3","id":"651"},{"name":"Dodo","tier":"3","id":"21"},{"name":"Dog","tier":"3","id":"22"},{"name":"Dolphin","tier":"3","id":"23"},{"name":"Eel","tier":"3","id":"120"},{"name":"Elephant","tier":"3","id":"28"},{"name":"Emperor Tamarin","tier":"3","id":"197"},{"name":"Flea","tier":"3","id":"225"},{"name":"Flying Fish","tier":"3","id":"226"},{"name":"Flying Squirrel","tier":"3","id":"227"},{"name":"Foo Dog","tier":"3","id":"625"},{"name":"Fur-Bearing Trout","tier":"3","id":"653"},{"name":"Giraffe","tier":"3","id":"33"},{"name":"Gold Fish","tier":"3","id":"121"},{"name":"Griffin","tier":"3","id":"348"},{"name":"Guineafowl","tier":"3","id":"228"},{"name":"Hare","tier":"3","id":"551"},{"name":"Hatching Chick","tier":"3","id":"91"},{"name":"Hirola","tier":"3","id":"686"},{"name":"Hoopoe Bird","tier":"3","id":"235"},{"name":"Leech","tier":"3","id":"165"},{"name":"Mana Hound","tier":"3","id":"635"},{"name":"Mandrake","tier":"3","id":"357"},{"name":"Meerkat","tier":"3","id":"203"},{"name":"Minotaur","tier":"4","id":"360"},{"name":"Mole","tier":"3","id":"168"},{"name":"Monkey-Faced Bat","tier":"3","id":"708"},{"name":"Takin","tier":"3","id":"709"},{"name":"Tucuxi","tier":"3","id":"710"},{"name":"Musk Ox","tier":"3","id":"245"},{"name":"Okapi","tier":"3","id":"130"},{"name":"Osprey","tier":"3","id":"247"},{"name":"Ouroboros","tier":"3","id":"364"},{"name":"Owl","tier":"3","id":"95"},{"name":"Ox","tier":"3","id":"52"},{"name":"Pangolin","tier":"3","id":"249"},{"name":"Pegasus","tier":"3","id":"365"},{"name":"Porcupine","tier":"3","id":"169"},{"name":"Pug","tier":"3","id":"145"},{"name":"Pygmy Hippo","tier":"3","id":"687"},{"name":"Roloway Monkey","tier":"3","id":"688"},{"name":"Spoon-Billed Sandpiper","tier":"3","id":"689"},{"name":"Tree Kangaroo","tier":"3","id":"742"},{"name":"Angelshark","tier":"4","id":"690"},{"name":"Bonobo","tier":"4","id":"691"},{"name":"Giant Otter","tier":"4","id":"739"},{"name":"Giant Tortoise","tier":"4","id":"692"},{"name":"Golden Tamarin","tier":"4","id":"693"},{"name":"Humphead Wrasse","tier":"4","id":"711"},{"name":"Kakapo","tier":"4","id":"712"},{"name":"Longcomb Sawfish","tier":"4","id":"694"},{"name":"Puppy","tier":"3","id":"97"},{"name":"Rabbit","tier":"3","id":"60"},{"name":"Royal Flycatcher","tier":"3","id":"256"},{"name":"Sheep","tier":"3","id":"68"},{"name":"Skeleton Dog","tier":"3","id":"374"},{"name":"Slime","tier":"3","id":"375"},{"name":"Surgeon Fish","tier":"3","id":"264"},{"name":"Toad","tier":"3","id":"162"},{"name":"Tree","tier":"3","id":"378"},{"name":"Tropical Fish","tier":"3","id":"100"},{"name":"Wasp","tier":"3","id":"160"},{"name":"Weasel","tier":"3","id":"173"},{"name":"Woodpecker","tier":"5","id":"156"},{"name":"Wyvern","tier":"3","id":"385"},{"name":"Tuna","tier":"3","id":"670"}],"tier4":[{"name":"Abomination","tier":"4","id":"373"},{"name":"Anubis","tier":"4","id":"331"},{"name":"Amazon River Dolphin","tier":"4","id":"724"},{"name":"Bison","tier":"4","id":"5"},{"name":"Blobfish","tier":"5","id":"150"},{"name":"Blowfish","tier":"4","id":"7"},{"name":"Buffalo","tier":"4","id":"8"},{"name":"Caterpillar","tier":"4","id":"12"},{"name":"Chameleon","tier":"4","id":"216"},{"name":"Chimera","tier":"4","id":"338"},{"name":"Clownfish","tier":"4","id":"117"},{"name":"Cockatoo","tier":"4","id":"218"},{"name":"Crow","tier":"4","id":"195"},{"name":"Cuttlefish","tier":"4","id":"176"},{"name":"Cyclops","tier":"4","id":"630"},{"name":"Deer","tier":"4","id":"20"},{"name":"Doberman","tier":"4","id":"273"},{"name":"Donkey","tier":"4","id":"111"},{"name":"Dragonfly","tier":"4","id":"196"},{"name":"Fairy","tier":"4","id":"342"},{"name":"Falcon","tier":"4","id":"224"},{"name":"Gharial","tier":"4","id":"231"},{"name":"Hawk","tier":"4","id":"127"},{"name":"Hippo","tier":"4","id":"38"},{"name":"Hippocampus","tier":"4","id":"350"},{"name":"Jerboa","tier":"4","id":"199"},{"name":"Kraken","tier":"4","id":"355"},{"name":"Llama","tier":"4","id":"44"},{"name":"Lobster","tier":"4","id":"93"},{"name":"Lynx","tier":"4","id":"200"},{"name":"Manatee","tier":"4","id":"192"},{"name":"Manta Ray","tier":"4","id":"240"},{"name":"Microbe","tier":"4","id":"94"},{"name":"Old Mouse","tier":"4","id":"612"},{"name":"Orangutan","tier":"3","id":"157"},{"name":"Parrot","tier":"4","id":"53"},{"name":"Pelican","tier":"5","id":"129"},{"name":"Penguin","tier":"4","id":"56"},{"name":"Platypus","tier":"4","id":"159"},{"name":"Poison Dart Frog","tier":"4","id":"252"},{"name":"Praying Mantis","tier":"4","id":"126"},{"name":"Roc","tier":"4","id":"369"},{"name":"Rootling","tier":"4","id":"622"},{"name":"Saiga Antelope","tier":"4","id":"257"},{"name":"Seagull","tier":"4","id":"128"},{"name":"Sealion","tier":"4","id":"175"},{"name":"Secretary Bird","tier":"4","id":"259"},{"name":"Skunk","tier":"4","id":"70"},{"name":"Slug","tier":"4","id":"262"},{"name":"Squirrel","tier":"4","id":"75"},{"name":"Starfish","tier":"5","id":"153"},{"name":"Tahr","tier":"4","id":"393"},{"name":"Tatzelwurm","tier":"4","id":"654"},{"name":"Tiger Bug","tier":"4","id":"330"},{"name":"Turtle","tier":"4","id":"80"},{"name":"Unicorn","tier":"4","id":"380"},{"name":"Vaquita","tier":"4","id":"265"},{"name":"Visitor","tier":"4","id":"386"},{"name":"Whale","tier":"4","id":"81"},{"name":"Whale Shark","tier":"4","id":"267"},{"name":"Worm of Sand","tier":"4","id":"371"},{"name":"Elk","tier":"4","id":"671"},{"name":"Goblin Shark","tier":"4","id":"719"},{"name":"Red Lipped Batfish","tier":"4","id":"720"},{"name":"Platybelodon","tier":"4","id":"721"},{"name":"Tasmanian Devil","tier":"4","id":"736"},{"name":"Fairy Armadillo","tier":"4","id":"745"},{"name":"Siamese","tier":"4","id":"746"},{"name":"Sparrow","tier":"4","id":"747"}],"tier5":[{"name":"Aye-aye","tier":"5","id":"695"},{"name":"Banggai Cardinalfish","tier":"5","id":"696"},{"name":"Alpaca","tier":"5","id":"194"},{"name":"Armadillo","tier":"5","id":"166"},{"name":"Axolotl","tier":"5","id":"212"},{"name":"Bad Dog","tier":"5","id":"613"},{"name":"Beluga Whale","tier":"5","id":"182"},{"name":"Blue Ringed Octopus","tier":"5","id":"271"},{"name":"Boitata","tier":"5","id":"656"},{"name":"Chicken","tier":"5","id":"14"},{"name":"Cow","tier":"5","id":"15"},{"name":"Crane","tier":"5","id":"219"},{"name":"Crocodile","tier":"5","id":"19"},{"name":"Eagle","tier":"5","id":"27"},{"name":"Eagle","tier":"5","id":"662"},{"name":"Egyptian Vulture","tier":"5","id":"221"},{"name":"Emu","tier":"5","id":"223"},{"name":"Fire Ant","tier":"5","id":"274"},{"name":"Fox","tier":"5","id":"106"},{"name":"Goat","tier":"5","id":"34"},{"name":"Geometric Tortoise","tier":"5","id":"742"},{"name":"Giant Pangasius","tier":"5","id":"740"},{"name":"Hamster","tier":"5","id":"110"},{"name":"Hawaiian Monk Seal","tier":"5","id":"723"},{"name":"Marine Iguana","tier":"5","id":"755"},{"name":"Hyena","tier":"5","id":"167"},{"name":"Jersey Devil","tier":"5","id":"652"},{"name":"Kappa","tier":"5","id":"655"},{"name":"Kitsune","tier":"5","id":"354"},{"name":"Lion","tier":"5","id":"42"},{"name":"Loveland Frogman","tier":"5","id":"640"},{"name":"Macaque","tier":"5","id":"238"},{"name":"Mimic","tier":"5","id":"359"},{"name":"Monkey","tier":"5","id":"46"},{"name":"Moose","tier":"5","id":"202"},{"name":"Mosasaurus","tier":"5","id":"242"},{"name":"Nessie","tier":"5","id":"363"},{"name":"Nurikabe","tier":"5","id":"657"},{"name":"Nurse Shark","tier":"5","id":"276"},{"name":"Nyala","tier":"5","id":"246"},{"name":"Panther","tier":"5","id":"250"},{"name":"Pixiu","tier":"5","id":"619"},{"name":"Polar Bear","tier":"5","id":"108"},{"name":"Poodle","tier":"5","id":"96"},{"name":"Red Panda","tier":"5","id":"697"},{"name":"Taita Thrush","tier":"5","id":"713"},{"name":"Painted Terrapin","tier":"5","id":"714"},{"name":"Raccoon","tier":"5","id":"158"},{"name":"Red Dragon","tier":"5","id":"368"},{"name":"Rhino","tier":"5","id":"55"},{"name":"Rooster","tier":"5","id":"63"},{"name":"Salmon of Knowledge","tier":"5","id":"370"},{"name":"Scorpion","tier":"5","id":"65"},{"name":"Sea Cucumber","tier":"5","id":"717"},{"name":"Seal","tier":"5","id":"66"},{"name":"Shark","tier":"5","id":"69"},{"name":"Shoebill","tier":"5","id":"134"},{"name":"Siberian Husky","tier":"5","id":"146"},{"name":"Silver Fox","tier":"5","id":"261"},{"name":"Snapping Turtle","tier":"5","id":"277"},{"name":"Sting Ray","tier":"5","id":"178"},{"name":"Stonefish","tier":"5","id":"278"},{"name":"Sword Fish","tier":"5","id":"119"},{"name":"Tandgnost","tier":"5","id":"607"},{"name":"Tandgrisner","tier":"5","id":"608"},{"name":"Triceratops","tier":"5","id":"142"},{"name":"Turkey","tier":"5","id":"79"},{"name":"Vampire Bat","tier":"5","id":"381"},{"name":"Vulture","tier":"5","id":"135"},{"name":"Ibex","tier":"5","id":"727"},{"name":"Werewolf","tier":"5","id":"383"},{"name":"Wolf","tier":"5","id":"170"},{"name":"Snow Leopard","tier":"5","id":"737"},{"name":"Zebra","tier":"5","id":"155"},{"name":"Amalgamation","tier":"5","id":"750"}],"tier6":[{"name":"Amsterdam Albatross","tier":"6","id":"698"},{"name":"Bay Cat","tier":"6","id":"714"},{"name":"Black Rhino","tier":"6","id":"699"},{"name":"Blue Whale","tier":"6","id":"700"},{"name":"California Condor","tier":"6","id":"701"},{"name":"Green Sea Turtle","tier":"6","id":"702"},{"name":"Helmeted Hornbill","tier":"6","id":"703"},{"name":"Philippine Eagle","tier":"6","id":"715"},{"name":"Silky Sifaka","tier":"6","id":"716"},{"name":"Sumatran Tiger","tier":"6","id":"738"},{"name":"Anglerfish","tier":"6","id":"180"},{"name":"Behemoth","tier":"6","id":"333"},{"name":"Bird of Paradise","tier":"6","id":"181"},{"name":"Boar","tier":"6","id":"103"},{"name":"Cat","tier":"6","id":"11"},{"name":"Catfish","tier":"6","id":"174"},{"name":"Cerberus","tier":"6","id":"337"},{"name":"Cobra","tier":"6","id":"217"},{"name":"Cockatrice","tier":"6","id":"340"},{"name":"Dragon","tier":"6","id":"25"},{"name":"Elephant Seal","tier":"6","id":"222"},{"name":"Fly","tier":"6","id":"30"},{"name":"German Shepherd","tier":"6","id":"230"},{"name":"Gorilla","tier":"6","id":"36"},{"name":"Great One","tier":"6","id":"335"},{"name":"Grizzly Bear","tier":"6","id":"275"},{"name":"Hammerhead Shark","tier":"6","id":"123"},{"name":"Highland Cow","tier":"6","id":"186"},{"name":"Hydra","tier":"6","id":"352"},{"name":"Komodo","tier":"6","id":"124"},{"name":"Leopard","tier":"6","id":"41"},{"name":"Leviathan","tier":"6","id":"356"},{"name":"Lioness","tier":"6","id":"114"},{"name":"Lionfish","tier":"6","id":"201"},{"name":"Mammoth","tier":"6","id":"45"},{"name":"Manticore","tier":"6","id":"358"},{"name":"Mantis Shrimp","tier":"6","id":"190"},{"name":"Mongoose","tier":"6","id":"241"},{"name":"Octopus","tier":"6","id":"50"},{"name":"Orca","tier":"6","id":"116"},{"name":"Ostrich","tier":"6","id":"125"},{"name":"Oyster","tier":"6","id":"248"},{"name":"Phoenix","tier":"6","id":"366"},{"name":"Piranha","tier":"6","id":"118"},{"name":"Pteranodon","tier":"6","id":"253"},{"name":"Puma","tier":"6","id":"254"},{"name":"Questing Beast","tier":"6","id":"616"},{"name":"Quetzalcoatl","tier":"6","id":"367"},{"name":"Reindeer","tier":"6","id":"205"},{"name":"Harpy Eagle","tier":"6","id":"148"},{"name":"Sauropod","tier":"6","id":"98"},{"name":"Sea Serpent","tier":"6","id":"372"},{"name":"Sleipnir","tier":"6","id":"606"},{"name":"Snake","tier":"6","id":"73"},{"name":"Spinosaurus","tier":"6","id":"143"},{"name":"Stegosaurus","tier":"6","id":"144"},{"name":"Tapir","tier":"6","id":"208"},{"name":"Tarantula Hawk","tier":"6","id":"718"},{"name":"Team Spirit","tier":"6","id":"636"},{"name":"Tiger","tier":"6","id":"77"},{"name":"Tyrannosaurus","tier":"6","id":"78"},{"name":"Therizinosaurus","tier":"6","id":"115"},{"name":"Walrus","tier":"6","id":"209"},{"name":"Warthog","tier":"6","id":"266"},{"name":"White Tiger","tier":"6","id":"206"},{"name":"Wildebeest","tier":"6","id":"268"},{"name":"Wolverine","tier":"6","id":"269"},{"name":"Yeti","tier":"6","id":"387"},{"name":"Albatross","tier":6,"id":"660"},{"name":"Real Velociraptor","tier":"6","id":"728"},{"name":"Sabertooth Tiger","tier":"6","id":"729"},{"name":"Farmer Dog","tier":"6","id":"754"}]}');var jte=zt.t(Gte,2);function Wte(n,t){1&n&&(p(0,"div",12),w(1," That name is not allowed. "),g())}function zte(n,t){if(1&n&&(p(0,"div",13),ne(1,"input",14),p(2,"label",15),w(3),g(),g()),2&n){const e=t.$implicit;F(1),z("id",e)("formControlName",e),F(1),z("for",e),F(1),Ei(" ",e," ")}}function Kte(n,t){if(1&n&&(p(0,"div",13),ne(1,"input",14),p(2,"label",15),w(3),g(),g()),2&n){const e=t.$implicit;F(1),z("id",e)("formControlName",e),F(1),z("for",e),F(1),Ei(" ",e," ")}}function Qte(n,t){if(1&n&&(p(0,"div",13),ne(1,"input",14),p(2,"label",15),w(3),g(),g()),2&n){const e=t.$implicit;F(1),z("id",e)("formControlName",e),F(1),z("for",e),F(1),Ei(" ",e," ")}}function Yte(n,t){if(1&n&&(p(0,"div",13),ne(1,"input",14),p(2,"label",15),w(3),g(),g()),2&n){const e=t.$implicit;F(1),z("id",e)("formControlName",e),F(1),z("for",e),F(1),Ei(" ",e," ")}}function Jte(n,t){if(1&n&&(p(0,"div",13),ne(1,"input",14),p(2,"label",15),w(3),g(),g()),2&n){const e=t.$implicit;F(1),z("id",e)("formControlName",e),F(1),z("for",e),F(1),Ei(" ",e," ")}}function Zte(n,t){if(1&n&&(p(0,"div",13),ne(1,"input",14),p(2,"label",15),w(3),g(),g()),2&n){const e=t.$implicit;F(1),z("id",e)("formControlName",e),F(1),z("for",e),F(1),Ei(" ",e," ")}}function Xte(n,t){1&n&&(p(0,"div",12),w(1," Name is required. "),g())}let eie=(()=>{class n{constructor(e){this.equipmentService=e,this.submitEvent=new pt,this.cancelEvent=new pt,this.loaded=!1}ngOnInit(){this.initCheckboxFormGroup(),this.formGroup.updateValueAndValidity()}initCheckboxFormGroup(){let e=new Li({}),i=new Li({}),s=new Li({}),r=new Li({}),a=new Li({}),o=new Li({});for(let l of this.getPets(1)){let h=new te(this.formGroup.get("tier1Pets").value.includes(l));h.valueChanges.subscribe(d=>{this.processCheckboxChange(1,l,d)}),e.addControl(l,h)}for(let l of this.getPets(2)){let h=new te(this.formGroup.get("tier2Pets").value.includes(l));h.valueChanges.subscribe(d=>{this.processCheckboxChange(2,l,d)}),i.addControl(l,h)}for(let l of this.getPets(3)){let h=new te(this.formGroup.get("tier3Pets").value.includes(l));h.valueChanges.subscribe(d=>{this.processCheckboxChange(3,l,d)}),s.addControl(l,h)}for(let l of this.getPets(4)){let h=new te(this.formGroup.get("tier4Pets").value.includes(l));h.valueChanges.subscribe(d=>{this.processCheckboxChange(4,l,d)}),r.addControl(l,h)}for(let l of this.getPets(5)){let h=new te(this.formGroup.get("tier5Pets").value.includes(l));h.valueChanges.subscribe(d=>{this.processCheckboxChange(5,l,d)}),a.addControl(l,h)}for(let l of this.getPets(6)){let h=new te(this.formGroup.get("tier6Pets").value.includes(l));h.valueChanges.subscribe(d=>{this.processCheckboxChange(6,l,d)}),o.addControl(l,h)}this.checkboxFormGroup=new Li({tier1Pets:e,tier2Pets:i,tier3Pets:s,tier4Pets:r,tier5Pets:a,tier6Pets:o})}getCheckboxFormGroup(e){return this.checkboxFormGroup.get(`tier${e}Pets`)}getPets(e){let i=[];for(let[s,r]of this.petPackMap.get(e))i.push(...r);return i=[...new Set(i)],i}getCount(e){return this.formGroup.get(`tier${e}Pets`).value.length}processCheckboxChange(e,i,s){let r=this.formGroup.get(`tier${e}Pets`).value;s?r.push(i):(0,vt.remove)(r,a=>a===i),this.formGroup.get(`tier${e}Pets`).updateValueAndValidity()}submit(){this.submitEvent.emit(this.formGroup)}cancel(){confirm("Are you sure you want to cancel?")&&this.cancelEvent.emit(this.formGroup)}submitDisabled(){return this.formGroup.get("name").invalid}}return n.\u0275fac=function(e){return new(e||n)($(Ci))},n.\u0275cmp=Bn({type:n,selectors:[["app-custom-pack-form"]],inputs:{formGroup:"formGroup",petPackMap:"petPackMap"},outputs:{submitEvent:"submitEvent",cancelEvent:"cancelEvent"},decls:68,vars:34,consts:[[3,"formGroup"],[1,"row","mb-4"],[1,"col-12"],["for","name",1,"form-label"],["id","name","formControlName","name",1,"form-control"],["class","invalid",4,"ngIf"],[1,"row","mb-4",3,"formGroup"],[1,"row"],[1,"col-12","editor-grid"],["class","form-check",4,"ngFor","ngForOf"],[1,"btn","btn-primary","me-2",3,"disabled","click"],[1,"btn","btn-danger",3,"click"],[1,"invalid"],[1,"form-check"],["type","checkbox","value","",1,"form-check-input",3,"id","formControlName"],[1,"form-check-label",3,"for"]],template:function(e,i){1&e&&(p(0,"form",0),p(1,"div",1),p(2,"div",2),p(3,"label",3),w(4,"Pack Name"),g(),ne(5,"input",4),Te(6,Wte,2,0,"div",5),g(),g(),p(7,"div",6),p(8,"div",2),p(9,"h3"),w(10,"Tier 1 Pets "),p(11,"span"),w(12),g(),g(),p(13,"div",7),p(14,"div",8),Te(15,zte,4,4,"div",9),g(),g(),g(),g(),p(16,"div",6),p(17,"div",2),p(18,"h3"),w(19,"Tier 2 Pets "),p(20,"span"),w(21),g(),g(),p(22,"div",7),p(23,"div",8),Te(24,Kte,4,4,"div",9),g(),g(),g(),g(),p(25,"div",6),p(26,"div",2),p(27,"h3"),w(28,"Tier 3 Pets "),p(29,"span"),w(30),g(),g(),p(31,"div",7),p(32,"div",8),Te(33,Qte,4,4,"div",9),g(),g(),g(),g(),p(34,"div",6),p(35,"div",2),p(36,"h3"),w(37,"Tier 4 Pets "),p(38,"span"),w(39),g(),g(),p(40,"div",7),p(41,"div",8),Te(42,Yte,4,4,"div",9),g(),g(),g(),g(),p(43,"div",6),p(44,"div",2),p(45,"h3"),w(46,"Tier 5 Pets "),p(47,"span"),w(48),g(),g(),p(49,"div",7),p(50,"div",8),Te(51,Jte,4,4,"div",9),g(),g(),g(),g(),p(52,"div",6),p(53,"div",2),p(54,"h3"),w(55,"Tier 6 Pets "),p(56,"span"),w(57),g(),g(),p(58,"div",7),p(59,"div",8),Te(60,Zte,4,4,"div",9),g(),g(),g(),g(),p(61,"div",7),p(62,"div",2),p(63,"button",10),Ue("click",function(){return i.submit()}),w(64,"Submit Pack"),g(),p(65,"button",11),Ue("click",function(){return i.cancel()}),w(66,"Cancel"),g(),Te(67,Xte,2,0,"div",5),g(),g(),g()),2&e&&(z("formGroup",i.formGroup),F(6),z("ngIf",null==i.formGroup.get("name").errors?null:i.formGroup.get("name").errors.forbiddenName),F(1),z("formGroup",i.getCheckboxFormGroup(1)),F(4),Os(10==i.getCount(1)?"valid":"invalid"),F(1),Ei("",i.getCount(1),"/10"),F(3),z("ngForOf",i.getPets(1)),F(1),z("formGroup",i.getCheckboxFormGroup(2)),F(4),Os(10==i.getCount(2)?"valid":"invalid"),F(1),Ei("",i.getCount(2),"/10"),F(3),z("ngForOf",i.getPets(2)),F(1),z("formGroup",i.getCheckboxFormGroup(3)),F(4),Os(10==i.getCount(3)?"valid":"invalid"),F(1),Ei("",i.getCount(3),"/10"),F(3),z("ngForOf",i.getPets(3)),F(1),z("formGroup",i.getCheckboxFormGroup(4)),F(4),Os(10==i.getCount(4)?"valid":"invalid"),F(1),Ei("",i.getCount(4),"/10"),F(3),z("ngForOf",i.getPets(4)),F(1),z("formGroup",i.getCheckboxFormGroup(5)),F(4),Os(10==i.getCount(5)?"valid":"invalid"),F(1),Ei("",i.getCount(5),"/10"),F(3),z("ngForOf",i.getPets(5)),F(1),z("formGroup",i.getCheckboxFormGroup(6)),F(4),Os(10==i.getCount(6)?"valid":"invalid"),F(1),Ei("",i.getCount(6),"/10"),F(3),z("ngForOf",i.getPets(6)),F(3),z("disabled",i.submitDisabled()),F(4),z("ngIf",i.submitDisabled()))},directives:[i3,dc,Ha,Fa,hc,Ho,ph,Ap,e_],styles:[".editor-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);grid-gap:1rem}.invalid[_ngcontent-%COMP%]{color:red}.valid[_ngcontent-%COMP%]{color:#0ab40a}"]}),n})();function tie(n,t){if(1&n){const e=qr();p(0,"div",2),p(1,"div",3),p(2,"app-custom-pack-form",4),Ue("submitEvent",function(s){return It(e),Ge().submitEvent(s)})("cancelEvent",function(s){return It(e),Ge().cancelEvent(s)}),g(),g(),g()}if(2&n){const e=Ge();F(2),z("formGroup",e.makeFormGroup(e.focusedGroup))("petPackMap",e.petPackMap)}}function iie(n,t){1&n&&(p(0,"span",15),w(1,"Valid"),g())}function nie(n,t){1&n&&(p(0,"span",16),w(1,"Invalid"),g())}function sie(n,t){if(1&n){const e=qr();p(0,"tr"),p(1,"td",11),w(2),g(),p(3,"td",11),Te(4,iie,2,0,"span",12),Te(5,nie,2,0,"span",13),g(),p(6,"td"),p(7,"button",8),Ue("click",function(){const r=It(e).$implicit;return Ge(2).editPack(r)}),w(8,"Edit"),g(),g(),p(9,"td"),p(10,"button",14),Ue("click",function(){const r=It(e).$implicit;return Ge(2).deletePack(r)}),w(11,"Delete"),g(),g(),g()}if(2&n){const e=t.$implicit;F(2),Ii(e.get("name").value),F(2),z("ngIf",e.valid),F(1),z("ngIf",!e.valid)}}function rie(n,t){if(1&n){const e=qr();p(0,"div"),p(1,"div",5),p(2,"div",3),p(3,"h3"),w(4,"Custom Packs"),g(),p(5,"table"),Te(6,sie,12,3,"tr",6),g(),g(),g(),p(7,"div",7),p(8,"div",3),p(9,"button",8),Ue("click",function(){return It(e),Ge().createNewPack()}),w(10,"Create New Pack"),g(),g(),g(),p(11,"div",5),p(12,"div",3),p(13,"h3"),w(14,"Import Custom Pack"),g(),p(15,"div",9),ne(16,"textarea",10),g(),g(),g(),p(17,"div",2),p(18,"div",3),p(19,"button",8),Ue("click",function(){return It(e),Ge().importCustomPack()}),w(20,"Import"),g(),g(),g(),g()}if(2&n){const e=Ge();F(6),z("ngForOf",e.customPacks.controls),F(9),z("formGroup",e.importFormGroup)}}let aie=(()=>{class n{constructor(e,i){this.petService=e,this.localStorageService=i,this.focusedGroup=null,this.importFormGroup=new Li({code:new te(null)}),this.buildPetPackMap()}ngOnInit(){this.customPacks=this.formGroup.get("customPacks")}buildPetPackMap(){this.petPackMap=new Map;for(let e=1;e<=6;e++){let i=new Map;i.set("Turtle",[]),i.set("Puppy",[]),i.set("Star",[]),i.set("Golden",[]),i.set("Unicorn",[]),i.set("Custom",[]),this.petPackMap.set(e,i)}for(let[e,i]of this.petService.turtlePackPets)this.petPackMap.get(e).get("Turtle").push(...i);for(let[e,i]of this.petService.puppyPackPets)this.petPackMap.get(e).get("Puppy").push(...i);for(let[e,i]of this.petService.starPackPets)this.petPackMap.get(e).get("Star").push(...i);for(let[e,i]of this.petService.goldenPackPets)this.petPackMap.get(e).get("Golden").push(...i);for(let[e,i]of this.petService.unicornPackPets)this.petPackMap.get(e).get("Unicorn").push(...i);for(let[e,i]of this.petService.customPackPets)this.petPackMap.get(e).get("Custom").push(...i)}createNewPack(){let e=this.createPack();this.focusedGroup=e}createPack(){return new Li({name:new te(null,[B0.required,this.forbiddenNameValidator()]),tier1Pets:new te([],this.controlArrayLengthOf10()),tier2Pets:new te([],this.controlArrayLengthOf10()),tier3Pets:new te([],this.controlArrayLengthOf10()),tier4Pets:new te([],this.controlArrayLengthOf10()),tier5Pets:new te([],this.controlArrayLengthOf10()),tier6Pets:new te([],this.controlArrayLengthOf10())})}makeFormGroup(e){return e}controlArrayLengthOf10(){return e=>10!==e.value.length?{length:!0}:null}submitEvent(e){this.customPacks.controls.includes(e)||this.customPacks.push(e),this.petService.buildCustomPackPets(this.customPacks),this.focusedGroup=null,this.localStorageService.setStorage(this.formGroup.value)}cancelEvent(e){this.focusedGroup=null}editPack(e){this.focusedGroup=e}deletePack(e){if(confirm("Are you sure you want to delete this pack?")){let i=this.customPacks.controls.indexOf(e);this.customPacks.removeAt(i),this.localStorageService.setStorage(this.formGroup.value)}}forbiddenNameValidator(){return e=>{var i,s;let r=["custom"];for(let a of this.customPacks.controls)e!=a.get("name")&&r.push(null===(i=a.get("name").value)||void 0===i?void 0:i.toLowerCase());return r.includes(null===(s=e.value)||void 0===s?void 0:s.toLowerCase())?{forbiddenName:!0}:null}}importCustomPack(){let e=this.importFormGroup.get("code").value;try{e=JSON.parse(e);let i={name:e.Title,tier1Pets:this.getMinions(e.Minions,1),tier2Pets:this.getMinions(e.Minions,2),tier3Pets:this.getMinions(e.Minions,3),tier4Pets:this.getMinions(e.Minions,4),tier5Pets:this.getMinions(e.Minions,5),tier6Pets:this.getMinions(e.Minions,6)};this.createNewPack(),this.focusedGroup.patchValue(i)}catch(i){alert("Invalid code"),console.error(i)}}getMinions(e,i){let s=jte[`tier${i}`],r=[];for(let a of e)for(let o of s)o.id==a&&r.push(o.name);return r}}return n.\u0275fac=function(e){return new(e||n)($(ib),$(uI))},n.\u0275cmp=Bn({type:n,selectors:[["app-custom-pack-editor"]],inputs:{formGroup:"formGroup"},decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-12"],[3,"formGroup","petPackMap","submitEvent","cancelEvent"],[1,"row","mb-3"],[4,"ngFor","ngForOf"],[1,"row","mb-4"],[1,"btn","btn-primary",3,"click"],[1,"form-group",3,"formGroup"],["id","code","rows","3","formControlName","code",1,"form-control"],[1,"text"],["class","valid",4,"ngIf"],["class","invalid",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"valid"],[1,"invalid"]],template:function(e,i){1&e&&(Te(0,tie,3,2,"div",0),Te(1,rie,21,2,"div",1)),2&e&&(z("ngIf",null!=i.focusedGroup),F(1),z("ngIf",null==i.focusedGroup))},directives:[ph,eie,dc,Ha,Ap,Fa,hc,Ho],styles:[".valid[_ngcontent-%COMP%]{color:#4caf50}.invalid[_ngcontent-%COMP%]{color:#f44336}.text[_ngcontent-%COMP%]{font-size:1.5em}td[_ngcontent-%COMP%]{padding:.25em .5em}"]}),n})(),oie=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Bn({type:n,selectors:[["app-info"]],decls:101,vars:0,consts:[["src","./assets/info/pack.PNG","alt","pack"],["src","./assets/info/toy.PNG","alt","toy"],["src","./assets/info/angler.PNG","alt","angler"],["src","./assets/info/zoom.PNG","alt","zoom"],["src","./assets/info/advanced.PNG","alt","advanced"],["src","./assets/info/advanced-settings.PNG","alt","advanced settings"],["src","./assets/info/board.PNG","alt","board"],["src","./assets/info/pet.png","alt","pet"],["src","/assets/info/simulate.PNG","alt","simulate"],["src","/assets/info/report-bug.PNG","alt","report bug"],["src","/assets/info/outcome.PNG","alt","outcome"],["src","/assets/info/battles.PNG","alt","battles"],["src","/assets/info/logs.PNG","alt","logs"]],template:function(e,i){1&e&&(p(0,"p"),w(1," The SAP Calculator is an analysis tool that allows you to easily calculate the approximate odds of your team beating another team. The SAP Calculator simulates the defined battle 1000 times and determines the percentage of wins, draws and loses.\n"),g(),p(2,"p"),p(3,"b"),w(4,"Disclaimer: The SAP Calculator is not an official tool of the game and is not affiliated with the game's developers. The SAP Calculator is a fan-made tool, and is not intended to replace the official game."),g(),g(),p(5,"p"),w(6," The SAP Calculator engine is based on the official game engine, but it may not be 100% accurate. It is pretty darn close though, and should be completely accurate for nearly every possible battle.\n"),g(),p(7,"h1"),w(8,"Guide"),g(),ne(9,"img",0),p(10,"p"),w(11," Select the pack that the player and opponent are using. This determines the pets that are available to each player.\n"),g(),ne(12,"img",1),p(13,"p"),w(14," Toy configuration.\n"),g(),ne(15,"img",2),p(16,"ul"),p(17,"li"),w(18,"Angler Mode: The opposite player's pets are available to be selected for each player. (This does not affect pets that summon from your pack pet pool)"),g(),p(19,"li"),w(20,"All Pets: All pets are availble to select. (This does not affect pets that summon from your pack pet pool)"),g(),p(21,"li"),w(22,"Old Stork: Stork summons pets with base stats."),g(),p(23,"li"),w(24,"Token Pets: Token pets are available to select. (This does not affect pets that summon from your pack pet pool)"),g(),p(25,"li"),w(26,"Komodo Shuffle: Shuffle pet order each battle in front of a Komondo."),g(),p(27,"li"),w(28,"Mana: Show/hide mana stat on the pet selector."),g(),g(),ne(29,"img",3),p(30,"p"),w(31,"Adjust the zoom level of the application."),g(),ne(32,"img",4),p(33,"p"),w(34,"Toggle advanced settings."),g(),ne(35,"img",5),p(36,"p"),w(37,"Advanced settings. They allow you to configure the battle to a more specific scenario."),g(),p(38,"ul"),p(39,"li"),w(40,"Turn: The turn the battle takes place. This will affect pets such as the Stork, Eagle, and Stegosaurus."),g(),p(41,"li"),w(42,"Player Gold Spent: Player gold spent the previous round. This will affect the Meerkat."),g(),p(43,"li"),w(44,"Opponent Gold Spent: Same as above but for the Opponent player."),g(),p(45,"li"),w(46,"Player Roll Amount: The amount of times the Player rolled in the shop phase."),g(),p(47,"li"),w(48,"Opponent Roll Amount: Same as above but for the Opponent player."),g(),p(49,"li"),w(50,"Player Lvl 3 Sold: The amount of times the Player sold a Level 3 pet."),g(),p(51,"li"),w(52,"Opponent Lvl 3 Sold: Same as above but for the Opponent player."),g(),p(53,"li"),w(54,"Player Summoned Amt: The amount of times the Player summoned a pet in the shop phase."),g(),p(55,"li"),w(56,"Opponent Summoned Amt: Same as above but for the Opponent player."),g(),p(57,"li"),w(58,"Player Transformation Amt: The amount of times the Player transformed a pet in the shop phase."),g(),p(59,"li"),w(60,"Opponent Transformation Amt: Same as above but for the Opponent player."),g(),g(),ne(61,"img",6),p(62,"p"),w(63," This is the board. The left side is the Player pets and the right side is the Opponent Pets. Each white box contains a pet and its' stats/equipment. The layout of the pets are identical to as they would be in battle. The right most Player pet is clashing with the left most Opponent pet.\n"),g(),ne(64,"img",7),p(65,"p"),w(66," This is a pet.\n"),g(),p(67,"ul"),p(68,"li"),w(69,"A: This select box is where you may choose the pet that will occupy this space."),g(),p(70,"li"),w(71,"B: This select box is where you may choose the pet's equipment."),g(),p(72,"li"),w(73,"C: These fields are where you may input the pet's stats. The gray field is attack, the red field is health, and the indigo field is mana."),g(),p(74,"li"),w(75,"D: This component determines the amount of exp the pet has. A pet may have 0-5 exp denoted by the number of boxes highlighted. The numbers (1, 2, 3) on top of the exp bar signify the level of the pet. 0-1 exp is level 1, 2-4 exp is level 2, and 5 exp is level 3. The x on the left will clear the exp bar leaving the pet at level 1 with 0 exp. "),g(),p(76,"li"),w(77,"E: This is a drag and drop tool. Use this to reorder your pets."),g(),g(),ne(78,"img",8),p(79,"ul"),p(80,"li"),w(81,"Simulate: Run the simulation."),g(),p(82,"li"),w(83,"Randomize: Randomize the Player's and Opponents's pets and equipment."),g(),g(),ne(84,"img",9),p(85,"ul"),p(86,"li"),w(87,"Report A Bug: Report a bug to the SAP Calculator develepor."),g(),p(88,"li"),w(89,"Export Calculator: Saves a code to your devices clipboard that can be used to import the calculator state."),g(),p(90,"li"),w(91,"Import Calculator: Import a calculator state."),g(),g(),ne(92,"img",10),p(93,"p"),w(94," This is the outcome summary. It shows the number of wins, draws, and loses for the last simulation ran.\n"),g(),ne(95,"img",11),p(96,"p"),w(97," This is the Battles table. It is a table of all the battles that were simulated. You may filter the table by the outcome of the battle.\n"),g(),ne(98,"img",12),p(99,"p"),w(100," These are the logs of the last selected simulated battle. Logs that are highlighted green are logs from a pet on the Player's team and logs that are highlighted red are logs from a pet on the Opponent's team. Logs that are highlighted purple are random events. Note: Not everything is logged.\n"),g())},styles:["img[_ngcontent-%COMP%]{margin-bottom:.5em;max-width:100%;border:1px solid #bfbfbf}"]}),n})(),lie=(()=>{class n{constructor(){this.formGroup=new Li({calcCode:new te(null)})}ngOnInit(){}submit(){let e="";e=this.importFunc(this.formGroup.value.calcCode)?"Import successful":"Import failed",alert(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Bn({type:n,selectors:[["app-import-calculator"]],inputs:{importFunc:"importFunc"},decls:6,vars:1,consts:[[1,"form-group",3,"formGroup"],["id","calcCode","rows","5","formControlName","calcCode",1,"form-control","mb-2"],[1,"warning","mb-2"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(p(0,"div",0),ne(1,"textarea",1),p(2,"div",2),w(3," Warning: This will overwrite any existing custom packs. Any custom packs in the import will be added. "),g(),p(4,"button",3),Ue("click",function(){return i.submit()}),w(5,"Import"),g(),g()),2&e&&z("formGroup",i.formGroup)},directives:[dc,Ha,Fa,hc,Ho],styles:[""]}),n})(),cie=(()=>{class n{constructor(e){this.localStorageService=e}ngOnInit(){}formGroupValueString(){if(!this.formGroup)return"";try{const i=(0,vt.cloneDeep)(this.formGroup.value),s=[...i.playerPets||[],...i.opponentPets||[]];for(const r of s)r&&(delete r.parent,delete r.logService,delete r.abilityService,delete r.gameService,delete r.petService,r.equipment&&(r.equipment={name:r.equipment.name}));return JSON.stringify(i,null,2)}catch(e){return console.error("Error creating export string:",e),"Error: Could not generate the export data."}}copyToClipboard(){this.localStorageService.setFormStorage(this.formGroup);let e=JSON.stringify(this.formGroup.value);navigator.clipboard.writeText(e).then(()=>{alert("Copied to clipboard")})}}return n.\u0275fac=function(e){return new(e||n)($(uI))},n.\u0275cmp=Bn({type:n,selectors:[["app-export-calculator"]],inputs:{formGroup:"formGroup"},decls:4,vars:1,consts:[[1,"form-group"],["id","calcCode","rows","5","readonly","",1,"form-control","mb-2",3,"value"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(p(0,"div",0),ne(1,"textarea",1),p(2,"button",2),Ue("click",function(){return i.copyToClipboard()}),w(3,"Copy to Clipboard"),g(),g()),2&e&&(F(1),z("value",i.formGroupValueString()))},styles:[""]}),n})();class D4{}class T4{}class Yr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const s=e.slice(0,i),r=s.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(s,r),this.headers.has(r)?this.headers.get(r).push(a):this.headers.set(r,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const s=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(s,i),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Yr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Yr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Yr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...i),this.headers.set(e,s);break;case"d":const r=t.value;if(r){let a=this.headers.get(e);if(!a)return;a=a.filter(o=>-1===r.indexOf(o)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class hie{encodeKey(t){return x4(t)}encodeValue(t){return x4(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const fie=/%(\d[a-f0-9])/gi,pie={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function x4(n){return encodeURIComponent(n).replace(fie,(t,e)=>{var i;return null!==(i=pie[e])&&void 0!==i?i:t})}function M4(n){return`${n}`}class Xo{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new hie,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const r=s.indexOf("="),[a,o]=-1==r?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,r)),t.decodeValue(s.slice(r+1))],l=e.get(a)||[];l.push(o),e.set(a,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const s=t[i];Array.isArray(s)?s.forEach(r=>{e.push({param:i,value:r,op:"a"})}):e.push({param:i,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Xo({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(M4(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const s=i.indexOf(M4(t.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class gie{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function R4(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function I4(n){return"undefined"!=typeof Blob&&n instanceof Blob}function O4(n){return"undefined"!=typeof FormData&&n instanceof FormData}class ug{constructor(t,e,i,s){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,r=s):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new Yr),this.context||(this.context=new gie),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const o=e.indexOf("?");this.urlWithParams=e+(-1===o?"?":o<e.length-1?"&":"")+a}}else this.params=new Xo,this.urlWithParams=e}serializeBody(){return null===this.body?null:R4(this.body)||I4(this.body)||O4(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||O4(this.body)?null:I4(this.body)?this.body.type||null:R4(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,s=t.url||this.url,r=t.responseType||this.responseType,a=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let h=t.headers||this.headers,d=t.params||this.params;const m=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(h=Object.keys(t.setHeaders).reduce((y,S)=>y.set(S,t.setHeaders[S]),h)),t.setParams&&(d=Object.keys(t.setParams).reduce((y,S)=>y.set(S,t.setParams[S]),d)),new ug(i,s,a,{params:d,headers:h,context:m,reportProgress:l,responseType:r,withCredentials:o})}}var yi=(()=>((yi=yi||{})[yi.Sent=0]="Sent",yi[yi.UploadProgress=1]="UploadProgress",yi[yi.ResponseHeader=2]="ResponseHeader",yi[yi.DownloadProgress=3]="DownloadProgress",yi[yi.Response=4]="Response",yi[yi.User=5]="User",yi))();class hI{constructor(t,e=200,i="OK"){this.headers=t.headers||new Yr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class dI extends hI{constructor(t={}){super(t),this.type=yi.ResponseHeader}clone(t={}){return new dI({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Nb extends hI{constructor(t={}){super(t),this.type=yi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Nb({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class N4 extends hI{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function fI(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let L4=(()=>{class n{constructor(e){this.handler=e}request(e,i,s={}){let r;if(e instanceof ug)r=e;else{let l,h;l=s.headers instanceof Yr?s.headers:new Yr(s.headers),s.params&&(h=s.params instanceof Xo?s.params:new Xo({fromObject:s.params})),r=new ug(e,i,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:h,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const a=Ec(r).pipe(function(n,t){return ra(n,void 0,1)}(l=>this.handler.handle(l)));if(e instanceof ug||"events"===s.observe)return a;const o=a.pipe(kF(l=>l instanceof Nb));switch(s.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(ys(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return o.pipe(ys(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return o.pipe(ys(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return o.pipe(ys(l=>l.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Xo).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,s={}){return this.request("PATCH",e,fI(s,i))}post(e,i,s={}){return this.request("POST",e,fI(s,i))}put(e,i,s={}){return this.request("PUT",e,fI(s,i))}}return n.\u0275fac=function(e){return new(e||n)(H(D4))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();class B4{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const $4=new be("HTTP_INTERCEPTORS");let yie=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const _ie=/^\)\]\}',?\n/;let V4=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Qe(i=>{const s=this.xhrFactory.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((S,k)=>s.setRequestHeader(S,k.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const S=e.detectContentTypeHeader();null!==S&&s.setRequestHeader("Content-Type",S)}if(e.responseType){const S=e.responseType.toLowerCase();s.responseType="json"!==S?S:"text"}const r=e.serializeBody();let a=null;const o=()=>{if(null!==a)return a;const S=1223===s.status?204:s.status,k=s.statusText||"OK",T=new Yr(s.getAllResponseHeaders()),D=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return a=new dI({headers:T,status:S,statusText:k,url:D}),a},l=()=>{let{headers:S,status:k,statusText:T,url:D}=o(),N=null;204!==k&&(N=void 0===s.response?s.responseText:s.response),0===k&&(k=N?200:0);let I=k>=200&&k<300;if("json"===e.responseType&&"string"==typeof N){const U=N;N=N.replace(_ie,"");try{N=""!==N?JSON.parse(N):null}catch(O){N=U,I&&(I=!1,N={error:O,text:N})}}I?(i.next(new Nb({body:N,headers:S,status:k,statusText:T,url:D||void 0})),i.complete()):i.error(new N4({error:N,headers:S,status:k,statusText:T,url:D||void 0}))},h=S=>{const{url:k}=o(),T=new N4({error:S,status:s.status||0,statusText:s.statusText||"Unknown Error",url:k||void 0});i.error(T)};let d=!1;const m=S=>{d||(i.next(o()),d=!0);let k={type:yi.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(k.total=S.total),"text"===e.responseType&&!!s.responseText&&(k.partialText=s.responseText),i.next(k)},y=S=>{let k={type:yi.UploadProgress,loaded:S.loaded};S.lengthComputable&&(k.total=S.total),i.next(k)};return s.addEventListener("load",l),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),e.reportProgress&&(s.addEventListener("progress",m),null!==r&&s.upload&&s.upload.addEventListener("progress",y)),s.send(r),i.next({type:yi.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",l),s.removeEventListener("timeout",h),e.reportProgress&&(s.removeEventListener("progress",m),null!==r&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(H(u$))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const pI=new be("XSRF_COOKIE_NAME"),gI=new be("XSRF_HEADER_NAME");class F4{}let Sie=(()=>{class n{constructor(e,i,s){this.doc=e,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=i$(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(H(Xe),H(hh),H(pI))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),mI=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const s=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||s.startsWith("http://")||s.startsWith("https://"))return i.handle(e);const r=this.tokenService.getToken();return null!==r&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,r)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(H(F4),H(gI))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),wie=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get($4,[]);this.chain=i.reduceRight((s,r)=>new B4(s,r),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(H(T4),H(At))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),Eie=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:mI,useClass:yie}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:pI,useValue:e.cookieName}:[],e.headerName?{provide:gI,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({providers:[mI,{provide:$4,useExisting:mI,multi:!0},{provide:F4,useClass:Sie},{provide:pI,useValue:"XSRF-TOKEN"},{provide:gI,useValue:"X-XSRF-TOKEN"}]}),n})(),kie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({providers:[L4,{provide:D4,useClass:wie},V4,{provide:T4,useExisting:V4}],imports:[[Eie.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const Cie=function(n){return["form-group","mb-3",n]};function Aie(n,t){if(1&n){const e=qr();p(0,"div"),p(1,"p"),w(2," An export code of the current calculator will automatically be sent to the developer. Please make sure the calculator is currently relevant to the bug you are reporting. Provide a description of the bug below. (Player should have won, pet's ability is wrong, etc.) Name is optional. Provide your Discord ID if you want me to follow up with you. "),g(),p(3,"div",1),p(4,"div",2),p(5,"label",3),w(6,"Name/Alias/Discord ID"),g(),ne(7,"input",4),g(),p(8,"div"),p(9,"label",5),w(10,"Description"),g(),ne(11,"textarea",6),g(),g(),p(12,"button",7),Ue("click",function(){return It(e),Ge().submit()}),w(13,"Submit"),g(),g()}if(2&n){const e=Ge();F(3),z("ngClass",function(n,t,e,i){return R2(K(),qi(),n,t,e,i)}(2,Cie,e.submitted?"was-validated":""))("formGroup",e.formGroup)}}function Pie(n,t){if(1&n){const e=qr();p(0,"div"),p(1,"h1"),w(2,"Thank you for the bug report!"),g(),p(3,"button",7),Ue("click",function(){return It(e),Ge().back()}),w(4,"Report another bug :("),g(),g()}}let Die=(()=>{class n{constructor(e){this.http=e,this.formGroup=new Li({name:new te(""),description:new te(null,B0.required)}),this.reported=!1,this.submitted=!1}ngOnInit(){}submit(){if(this.submitted=!0,this.formGroup.invalid)return;let e=Object.assign(Object.assign({},this.formGroup.value),{code:JSON.stringify(this.calcFormGroup.value)});const i=new Yr({"Content-Type":"application/json"});this.http.post("https://formspree.io/f/mgvzngzp",{name:"SAP CALC",replyto:"Ruihan20080129@gmail.com",message:e},{headers:i}).subscribe(s=>{console.log(s)}),this.reported=!0}back(){this.formGroup.reset(),this.submitted=!1,this.reported=!1}}return n.\u0275fac=function(e){return new(e||n)($(L4))},n.\u0275cmp=Bn({type:n,selectors:[["app-report-a-bug"]],inputs:{calcFormGroup:"calcFormGroup"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngClass","formGroup"],[1,"mb-3"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],["for","description"],["rows","3","formControlName","description","required","",1,"form-control"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(Te(0,Aie,14,4,"div",0),Te(1,Pie,5,0,"div",0)),2&e&&(z("ngIf",!i.reported),F(1),z("ngIf",i.reported))},directives:[ph,b0,dc,Ha,Fa,hc,Ho,d_],styles:[""]}),n})();const Tie=["customPackEditor"];function xie(n,t){if(1&n&&(iy(0),p(1,"div",1),w(2),g(),ny()),2&n){const e=Ge();F(2),Ii(e.apiResponse)}}function Mie(n,t){if(1&n&&(p(0,"option",131),w(1),g()),2&n){const e=t.$implicit;z("value",e.get("name").value),F(1),Ii(e.get("name").value)}}function Rie(n,t){if(1&n&&(p(0,"option",131),w(1),g()),2&n){const e=t.$implicit;z("value",e.get("name").value),F(1),Ii(e.get("name").value)}}function Iie(n,t){if(1&n&&(p(0,"option",31),w(1),g()),2&n){const e=t.$implicit;z("ngValue",e),F(1),Ii(e)}}function Oie(n,t){if(1&n&&(p(0,"optgroup",132),Te(1,Iie,2,2,"option",133),g()),2&n){const e=t.$implicit;z("label","Tier "+e.key),F(1),z("ngForOf",e.value)}}function Nie(n,t){if(1&n&&(p(0,"option",31),w(1),g()),2&n){const e=t.$implicit;z("ngValue",e),F(1),Ii(e)}}function Lie(n,t){if(1&n&&(p(0,"optgroup",132),Te(1,Nie,2,2,"option",133),g()),2&n){const e=t.$implicit;z("label","Tier "+e.key),F(1),z("ngForOf",e.value)}}function Bie(n,t){1&n&&(p(0,"div",12),p(1,"div",13),p(2,"div",134),p(3,"div",135),p(4,"label",136),w(5,"Turn"),g(),ne(6,"input",137),g(),p(7,"div",138),p(8,"label",139),w(9,"Player Gold Spent"),g(),ne(10,"input",140),g(),p(11,"div",138),p(12,"label",141),w(13,"Opponent Gold Spent"),g(),ne(14,"input",142),g(),p(15,"div",138),p(16,"label",143),w(17,"Player Roll Amt"),g(),ne(18,"input",144),g(),p(19,"div",138),p(20,"label",145),w(21,"Opponent Roll Amt"),g(),ne(22,"input",146),g(),p(23,"div",138),p(24,"label",147),w(25,"Player Lvl 3 Sold"),g(),ne(26,"input",148),g(),p(27,"div",138),p(28,"label",149),w(29,"Opponent Lvl 3 Sold"),g(),ne(30,"input",150),g(),p(31,"div",138),p(32,"label",151),w(33,"Player Summoned Amt"),g(),ne(34,"input",152),g(),p(35,"div",138),p(36,"label",153),w(37,"Opponent Summoned Amt"),g(),ne(38,"input",154),g(),p(39,"div",138),p(40,"label",155),w(41,"Player Transformation Amt"),g(),ne(42,"input",156),g(),p(43,"div",138),p(44,"label",157),w(45,"Opponent Transformation Amt"),g(),ne(46,"input",158),g(),g(),g(),g())}function $ie(n,t){if(1&n&&(p(0,"div",159),p(1,"div",160),kd(),p(2,"svg",161),ne(3,"path",162),ne(4,"path",163),g(),g(),Cd(),ne(5,"app-pet-selector",164),g()),2&n){const e=t.$implicit,i=t.index,s=Ge(2);F(5),z("pet",s.player["pet"+(4-i)])("player",s.player)("opponent",s.opponent)("index",4-i)("formGroup",s.makeFormGroup(e))("angler",s.formGroup.get("angler").value)("ailments",s.formGroup.get("ailmentEquipment").value)("allPets",s.formGroup.get("allPets").value)("mana",s.formGroup.get("mana").value)("showTokenPets",s.formGroup.get("tokenPets").value)("customPacks",s.formGroup.get("customPacks"))}}function Vie(n,t){if(1&n&&(p(0,"div",165),p(1,"div",160),kd(),p(2,"svg",161),ne(3,"path",162),ne(4,"path",163),g(),g(),Cd(),ne(5,"app-pet-selector",164),g()),2&n){const e=t.$implicit,i=t.index,s=Ge(2);F(5),z("pet",s.opponent["pet"+i])("player",s.opponent)("opponent",s.player)("index",i)("formGroup",s.makeFormGroup(e))("angler",s.formGroup.get("angler").value)("ailments",s.formGroup.get("ailmentEquipment").value)("allPets",s.formGroup.get("allPets").value)("mana",s.formGroup.get("mana").value)("showTokenPets",s.formGroup.get("tokenPets").value)("customPacks",s.formGroup.get("customPacks"))}}function Fie(n,t){if(1&n&&(p(0,"div",90),p(1,"div",166),p(2,"label"),w(3,"Player Wins:"),g(),p(4,"span"),w(5),g(),p(6,"label"),w(7,"Opponent Wins:"),g(),p(8,"span"),w(9),g(),p(10,"label"),w(11,"Draws:"),g(),p(12,"span"),w(13),g(),g(),p(14,"div",167),p(15,"span",168),ne(16,"span",169),ne(17,"span",170),g(),g(),g()),2&n){const e=Ge(2);F(5),tp("",e.playerWinner," - ",e.winPercent,"%"),F(4),tp("",e.opponentWinner," - ",e.losePercent,"%"),F(4),tp("",e.draw," - ",e.drawPercent,"%"),F(3),Xf("width",e.getDrawWidth()),F(1),Xf("width",e.getLoseWidth())}}function Hie(n,t){if(1&n){const e=qr();p(0,"tr",171),Ue("click",function(){const r=It(e).$implicit;return Ge(2).setViewBattle(r)}),p(1,"td"),w(2),g(),p(3,"td"),w(4),g(),p(5,"td",172),w(6),g(),g()}if(2&n){const e=t.$implicit,i=t.index,s=Ge(2);F(2),Ii(i),F(2),Ii(e.winner),F(2),Ii(s.getRandomEvents(e))}}const qie=function(n,t){return[n,t]};function Uie(n,t){if(1&n&&(p(0,"div",69),p(1,"span",173),w(2),g(),g()),2&n){const e=t.$implicit,i=Ge(2);F(1),z("ngClass",M2(2,qie,i.getPlayerClass(e),e.randomEvent?"random-event":"")),F(1),Ii(e.message)}}function Gie(n,t){if(1&n){const e=qr();iy(0),p(1,"div",2,3),p(3,"div",4),p(4,"div",5),p(5,"div",6),p(6,"h1",7),Ue("click",function(){return It(e),Ge().printFormGroup()}),w(7,"SAP Calculator"),g(),p(8,"span",8),w(9,"Info/Guide"),g(),g(),p(10,"div",6),p(11,"div",9),w(12),g(),p(13,"div",10),p(14,"span"),w(15),p(16,"span",11),w(17,"Patch Notes"),g(),g(),p(18,"span"),w(19),g(),g(),g(),g(),g(),p(20,"div",12),p(21,"div",13),p(22,"div",14),p(23,"div",15),p(24,"label",16),w(25,"Player Pack"),g(),p(26,"select",17),p(27,"option",18),w(28,"Turtle"),g(),p(29,"option",19),w(30,"Puppy"),g(),p(31,"option",20),w(32,"Star"),g(),p(33,"option",21),w(34,"Golden"),g(),p(35,"option",22),w(36,"Unicorn"),g(),p(37,"option",23),w(38,"Danger"),g(),p(39,"optgroup",24),Te(40,Mie,2,2,"option",25),p(41,"option",26),w(42,"Add Custom Pack"),g(),g(),g(),g(),p(43,"div",27),p(44,"label",16),w(45,"Opponent Pack"),g(),p(46,"select",28),p(47,"option",18),w(48,"Turtle"),g(),p(49,"option",19),w(50,"Puppy"),g(),p(51,"option",20),w(52,"Star"),g(),p(53,"option",21),w(54,"Golden"),g(),p(55,"option",22),w(56,"Unicorn"),g(),p(57,"option",23),w(58,"Danger"),g(),p(59,"optgroup",24),Te(60,Rie,2,2,"option",25),p(61,"option",26),w(62,"Add Custom Pack"),g(),g(),g(),g(),p(63,"div",29),p(64,"label",16),w(65,"Player Toy"),g(),p(66,"select",30),p(67,"option",31),w(68,"None"),g(),Te(69,Oie,2,2,"optgroup",32),Ro(70,"keyvalue"),g(),g(),p(71,"div",33),p(72,"label",34),w(73,"Toy Level"),g(),p(74,"select",35),p(75,"option"),w(76,"1"),g(),p(77,"option"),w(78,"2"),g(),p(79,"option"),w(80,"3"),g(),g(),g(),p(81,"div",15),p(82,"label",16),w(83,"Opponent Toy"),g(),p(84,"select",36),p(85,"option",31),w(86,"None"),g(),Te(87,Lie,2,2,"optgroup",32),Ro(88,"keyvalue"),g(),g(),p(89,"div",33),p(90,"label",37),w(91,"Toy Level"),g(),p(92,"select",38),p(93,"option"),w(94,"1"),g(),p(95,"option"),w(96,"2"),g(),p(97,"option"),w(98,"3"),g(),g(),g(),p(99,"div",39),p(100,"span",40),Ue("click",function(){return It(e),Ge().toggleAdvanced()}),w(101),g(),g(),p(102,"div",41),p(103,"div",42),ne(104,"input",43),p(105,"label",44),w(106," Angler "),g(),g(),p(107,"div",45),ne(108,"input",46),p(109,"label",47),w(110," All Pets "),g(),g(),g(),p(111,"div",41),p(112,"div",48),ne(113,"input",49),p(114,"label",50),w(115," Old Stork "),g(),g(),p(116,"div",51),ne(117,"input",52),p(118,"label",53),w(119," Token Pets "),g(),g(),g(),p(120,"div",41),p(121,"div",54),ne(122,"input",55),p(123,"label",56),w(124," Komodo Shuffle "),g(),g(),p(125,"div",57),ne(126,"input",58),p(127,"label",59),w(128," Mana "),g(),g(),g(),p(129,"div",41),p(130,"div",60),ne(131,"input",61),p(132,"label",62),w(133," Ailment Equipment "),g(),g(),g(),g(),p(134,"div",63),p(135,"label",64),w(136,"Zoom"),g(),p(137,"div"),p(138,"button",65),Ue("click",function(){return It(e),Ge().zoomIn()}),w(139,"+"),g(),p(140,"button",66),Ue("click",function(){return It(e),Ge().zoomOut()}),w(141,"-"),g(),g(),g(),g(),g(),Te(142,Bie,47,0,"div",67),p(143,"div",68),ne(144,"div",69),g(),p(145,"div",70),p(146,"div",71),p(147,"div",72),p(148,"h2",73),w(149,"Player"),g(),p(150,"button",74),Ue("click",function(){return It(e),Ge().resetPlayer("player")}),w(151,"Reset"),g(),g(),p(152,"div",75),p(153,"div",76),Ue("cdkDropListDropped",function(s){return It(e),Ge().drop(s,"player")}),Te(154,$ie,6,11,"div",77),g(),g(),g(),p(155,"div",78),p(156,"div",72),p(157,"h2",73),w(158,"Opponent"),g(),p(159,"button",74),Ue("click",function(){return It(e),Ge().resetPlayer("opponent")}),w(160,"Reset"),g(),g(),p(161,"div",79),p(162,"div",76),Ue("cdkDropListDropped",function(s){return It(e),Ge().drop(s,"opponent")}),Te(163,Vie,6,11,"div",80),g(),g(),g(),g(),p(164,"div",81),p(165,"div",82),p(166,"div"),p(167,"button",83),Ue("click",function(){return It(e),Ge().simulate()}),w(168,"Simulate"),g(),p(169,"button",83),Ue("click",function(){return It(e),Ge().randomize()}),w(170,"Randomize"),g(),g(),p(171,"div"),p(172,"button",84),w(173,"Report A Bug"),g(),p(174,"button",85),w(175,"Export Calculator"),g(),p(176,"button",86),w(177,"Import Calculator"),g(),p(178,"button",83),Ue("click",function(){return It(e),Ge().generateShareLink()}),w(179,"Generate Link"),g(),g(),g(),g(),Te(180,Fie,18,10,"div",87),p(181,"div",88),p(182,"div",89),p(183,"h3"),w(184,"Battles"),g(),p(185,"div",90),p(186,"div",69),p(187,"label",91),w(188,"Filter Battles By Winner"),g(),g(),p(189,"div",69),p(190,"div",92),ne(191,"input",93),p(192,"label",94),w(193,"None"),g(),g(),p(194,"div",92),ne(195,"input",95),p(196,"label",96),w(197,"Player"),g(),g(),p(198,"div",92),ne(199,"input",97),p(200,"label",98),w(201,"Opponent"),g(),g(),p(202,"div",92),ne(203,"input",99),p(204,"label",100),w(205,"Draw"),g(),g(),g(),g(),p(206,"div",101),p(207,"table",102),p(208,"thead"),p(209,"tr"),p(210,"th",103),w(211,"Battle No."),g(),p(212,"th"),w(213,"Winner"),g(),p(214,"th"),w(215,"Random Events"),g(),g(),g(),p(216,"tbody"),Te(217,Hie,7,3,"tr",104),g(),g(),g(),g(),p(218,"div",105),p(219,"h3"),w(220,"Logs"),g(),p(221,"div",106),Te(222,Uie,3,5,"div",107),g(),g(),g(),g(),p(223,"div",108),p(224,"div",109),p(225,"div",110),p(226,"div",111),p(227,"h1",112),w(228,"Patch Notes"),g(),ne(229,"button",113),g(),p(230,"div",114),ne(231,"app-patch-notes"),g(),p(232,"div",115),p(233,"span",40),Ue("click",function(){return It(e),Ge().clearCache()}),w(234,"Clear Cache"),g(),g(),g(),g(),g(),p(235,"div",116,117),p(237,"div",118),p(238,"div",110),p(239,"div",111),p(240,"h1",119),w(241,"Custom Pack Editor"),g(),ne(242,"button",113),g(),p(243,"div",114),ne(244,"app-custom-pack-editor",120),g(),g(),g(),g(),p(245,"div",121),p(246,"div",118),p(247,"div",110),p(248,"div",111),p(249,"h1",122),w(250,"Info"),g(),ne(251,"button",113),g(),p(252,"div",114),ne(253,"app-info"),g(),g(),g(),g(),p(254,"div",123),p(255,"div",118),p(256,"div",110),p(257,"div",111),p(258,"h1",124),w(259,"Import Calculator"),g(),ne(260,"button",113),g(),p(261,"div",114),ne(262,"app-import-calculator",125),g(),g(),g(),g(),p(263,"div",126),p(264,"div",118),p(265,"div",110),p(266,"div",111),p(267,"h1",127),w(268,"Export Calculator"),g(),ne(269,"button",113),g(),p(270,"div",114),ne(271,"app-export-calculator",120),g(),g(),g(),g(),p(272,"div",128),p(273,"div",118),p(274,"div",110),p(275,"div",111),p(276,"h1",129),w(277,"Report A Bug"),g(),ne(278,"button",113),g(),p(279,"div",114),ne(280,"app-report-a-bug",130),g(),g(),g(),g(),ny()}if(2&n){const e=Ge();F(1),z("formGroup",e.formGroup),F(11),Ei("Last Updated: ",e.lastUpdated,""),F(3),Ei("Version: ",e.version," "),F(4),Ei("SAP Version: ",e.sapVersion,""),F(21),z("ngForOf",e.validCustomPacks),F(20),z("ngForOf",e.validCustomPacks),F(7),z("ngValue",null),F(2),z("ngForOf",Io(70,23,e.toys)),F(16),z("ngValue",null),F(2),z("ngForOf",Io(88,25,e.toys)),F(14),Ei("",e.formGroup.get("showAdvanced").value?"Hide":"Show"," Advanced Settings"),F(41),z("ngIf",e.formGroup.get("showAdvanced").value),F(2),z("@dayNight",e.dayNight?"day":"night"),F(10),z("ngForOf",e.getPlayerPetsFormArray()),F(9),z("ngForOf",e.getOpponentPetsFormArray()),F(17),z("ngIf",e.simulated),F(11),z("value",null),F(26),z("ngForOf",e.filteredBattles),F(5),z("ngForOf",e.getViewBattleLogs()),F(22),z("formGroup",e.formGroup),F(18),z("importFunc",e.import.bind(e)),F(9),z("formGroup",e.formGroup),F(9),z("calcFormGroup",e.formGroup)}}const zie={pP:"playerPack",oP:"opponentPack",pT:"playerToy",pTL:"playerToyLevel",oT:"opponentToy",oTL:"opponentToyLevel",t:"turn",pGS:"playerGoldSpent",oGS:"opponentGoldSpent",pRA:"playerRollAmount",oRA:"opponentRollAmount",pSA:"playerSummonedAmount",oSA:"opponentSummonedAmount",pL3:"playerLevel3Sold",oL3:"opponentLevel3Sold",p:"playerPets",o:"opponentPets",an:"angler",ap:"allPets",lf:"logFilter",fs:"fontSize",cp:"customPacks",os:"oldStork",tp:"tokenPets",ks:"komodoShuffle",m:"mana",sa:"showAdvanced",ae:"ailmentEquipment",pTA:"playerTransformationAmount",oTA:"opponentTransformationAmount",n:"name",a:"attack",h:"health",e:"exp",eq:"equipment",bSP:"belugaSwallowedPet",tH:"timesHurt"};function Lb(n){if(Array.isArray(n))return n.map(t=>Lb(t));if(null!==n&&"object"==typeof n){const t={};for(const e in n)t[zie[e]||e]=Lb(n[e]);return t}return n}let Kie=(()=>{class n{constructor(e,i,s,r,a,o,l,h,d){this.logService=e,this.injector=i,this.abilityService=s,this.gameService=r,this.equipmentService=a,this.petService=o,this.toyService=l,this.startOfBattleService=h,this.localStorageService=d,this.version="0.7.1",this.sapVersion="0.33.3-156 BETA",this.lastUpdated="9/12/2025",this.title="sap-calculator",this.maxTurns=50,this.turns=0,this.battleStarted=!1,this.simulationBattleAmt=1e3,this.playerWinner=0,this.opponentWinner=0,this.draw=0,this.battles=[],this.simulated=!1,this.previousPackPlayer=null,this.previousPackOpponent=null,this.dayNight=!0,this.api=!1,this.apiResponse=null,this.isLoadedFromUrl=!1,qo.setInjector(this.injector),this.player=new E3(e,s,r),this.opponent=new E3(e,s,r),this.gameService.init(this.player,this.opponent),this.petService.init(),this.initFormGroup();const y=new URLSearchParams(window.location.search).get("code");if(y){this.api=!0;try{const S=JSON.parse(decodeURIComponent(y));this.loadCalculatorFromValue(S),this.simulate(),this.buildApiResponse()}catch(S){console.error("Error parsing API data from URL:",S),this.apiResponse=JSON.stringify({error:"Invalid or corrupted data provided in the URL."})}}}buildApiResponse(){this.apiResponse=JSON.stringify({playerWins:this.playerWinner,opponentWins:this.opponentWinner,draws:this.draw},null)}printFormGroup(){console.log(this.formGroup)}ngOnInit(){this.isLoadedFromUrl=this.loadStateFromUrl(!0),this.isLoadedFromUrl||this.loadLocalStorage(),this.initApp(),this.initGameApi(),this.setDayNight(),this.toys=this.toyService.toys}loadStateFromUrl(e=!1){const s=new URLSearchParams(window.location.search).get("c");if(s)try{let r;const a=decodeURIComponent(s);if(a.trim().startsWith("{")){const l=Lb(JSON.parse(a));r=JSON.stringify(l)}else{const o=atob(s),l=decodeURIComponent(o),d=Lb(JSON.parse(l));r=JSON.stringify(d)}return this.import(r),console.log("Calculator state loaded from URL."),!0}catch(r){return console.error("Failed to parse calculator state from URL.",r),alert("Could not load the shared calculator link. The data may be corrupted."),!1}return!1}ngAfterViewInit(){this.isLoadedFromUrl&&this.petSelectors.forEach(e=>{e.fixLoadEquipment()}),this.api||this.initModals()}loadLocalStorage(){if(this.localStorageService.getStorage())try{let i=JSON.parse(this.localStorageService.getStorage());this.loadCalculatorFromValue(i)}catch(i){console.log("error loading local storage",i),this.localStorageService.clearStorage()}}loadCalculatorFromValue(e){const i={playerPack:"Turtle",opponentPack:"Turtle",playerToy:null,playerToyLevel:"1",opponentToy:null,opponentToyLevel:"1",turn:11,playerGoldSpent:10,opponentGoldSpent:10,playerRollAmount:4,opponentRollAmount:4,playerSummonedAmount:0,opponentSummonedAmount:0,playerTransformationAmount:0,opponentTransformationAmount:0,playerLevel3Sold:0,opponentLevel3Sold:0,playerPets:Array(5).fill(null),opponentPets:Array(5).fill(null),angler:!1,allPets:!1,logFilter:null,fontSize:13,customPacks:[],oldStork:!1,tokenPets:!1,komodoShuffle:!1,mana:!1,showAdvanced:!1,ailmentEquipment:!1},s=Object.assign(Object.assign({},i),e);this.formGroup.patchValue(s,{emitEvent:!1});let r=e.customPacks;e.customPacks=[],this.loadCustomPacks(r),this.formGroup.patchValue(e,{emitEvent:!1}),setTimeout(()=>{this.fixCustomPackSelect()}),this.gameService.gameApi.oldStork=this.formGroup.get("oldStork").value,this.gameService.gameApi.komodoShuffle=this.formGroup.get("komodoShuffle").value,this.gameService.gameApi.mana=this.formGroup.get("mana").value,this.gameService.gameApi.playerRollAmount=this.formGroup.get("playerRollAmount").value,this.gameService.gameApi.opponentRollAmount=this.formGroup.get("opponentRollAmount").value,this.gameService.gameApi.playerLevel3Sold=this.formGroup.get("playerLevel3Sold").value,this.gameService.gameApi.opponentLevel3Sold=this.formGroup.get("opponentLevel3Sold").value,this.gameService.gameApi.playerSummonedAmount=this.formGroup.get("playerSummonedAmount").value,this.gameService.gameApi.opponentSummonedAmount=this.formGroup.get("opponentSummonedAmount").value,this.gameService.gameApi.playerTransformationAmount=this.formGroup.get("playerTransformationAmount").value,this.gameService.gameApi.opponentTransformationAmount=this.formGroup.get("opponentTransformationAmount").value,this.gameService.gameApi.day=this.dayNight,this.gameService.gameApi.turnNumber=this.formGroup.get("turn").value}setDayNight(){let i=this.formGroup.get("turn").value%2==1;this.dayNight=i,this.gameService.gameApi.day=i}fixCustomPackSelect(){this.formGroup.get("playerPack").setValue(this.formGroup.get("playerPack").value,{emitEvent:!1}),this.formGroup.get("opponentPack").setValue(this.formGroup.get("opponentPack").value,{emitEvent:!1})}initApp(){this.petService.buildCustomPackPets(this.formGroup.get("customPacks")),this.setFontSize(),this.initPlayerPets(),this.updatePlayerPack(this.player,this.formGroup.get("playerPack").value,!1),this.updatePlayerPack(this.opponent,this.formGroup.get("opponentPack").value,!1),this.updatePlayerToy(this.player,this.formGroup.get("playerToy").value),this.updatePlayerToy(this.opponent,this.formGroup.get("opponentToy").value),this.previousPackOpponent=this.opponent.pack,this.previousPackPlayer=this.player.pack}initGameApi(){this.gameService.gameApi.day=this.dayNight,this.gameService.gameApi.oldStork=this.formGroup.get("oldStork").value,this.gameService.gameApi.komodoShuffle=this.formGroup.get("komodoShuffle").value,this.gameService.gameApi.mana=this.formGroup.get("mana").value,this.gameService.gameApi.playerRollAmount=this.formGroup.get("playerRollAmount").value,this.gameService.gameApi.opponentRollAmount=this.formGroup.get("opponentRollAmount").value,this.gameService.gameApi.playerLevel3Sold=this.formGroup.get("playerLevel3Sold").value,this.gameService.gameApi.opponentLevel3Sold=this.formGroup.get("opponentLevel3Sold").value,this.gameService.gameApi.playerSummonedAmount=this.formGroup.get("playerSummonedAmount").value,this.gameService.gameApi.opponentSummonedAmount=this.formGroup.get("opponentSummonedAmount").value,this.gameService.gameApi.playerTransformationAmount=this.formGroup.get("playerTransformationAmount").value,this.gameService.gameApi.opponentTransformationAmount=this.formGroup.get("opponentTransformationAmount").value}loadCustomPacks(e){let i=this.formGroup.get("customPacks");i.clear();for(let s of e){let r=U9(s);i.push(r)}}initPlayerPets(){for(let e=0;e<5;e++){let i=this.formGroup.get("playerPets").controls[e];if(null==i.get("name").value)continue;let s=this.petService.createPet(i.value,this.player);this.player.setPet(e,s,!0)}for(let e=0;e<5;e++){let i=this.formGroup.get("opponentPets").controls[e];if(null==i.get("name").value)continue;let s=this.petService.createPet(i.value,this.opponent);this.opponent.setPet(e,s,!0)}}randomizePlayerPets(e){for(let i=0;i<5;i++)e.setPet(i,this.petService.getRandomPet(e),!0)}makeFormGroup(e){return e}initFormGroup(){var e,i,s,r,a,o;this.updatePreviousShopTier(11),this.updateGoldSpent(10,10),this.formGroup=new Li({playerPack:new te(this.player.pack),opponentPack:new te(this.opponent.pack),playerToy:new te(null===(e=this.player.toy)||void 0===e?void 0:e.name),playerToyLevel:new te(null!==(s=null===(i=this.player.toy)||void 0===i?void 0:i.level)&&void 0!==s?s:1),opponentToy:new te(null===(r=this.opponent.toy)||void 0===r?void 0:r.name),opponentToyLevel:new te(null!==(o=null===(a=this.opponent.toy)||void 0===a?void 0:a.level)&&void 0!==o?o:1),turn:new te(11),playerGoldSpent:new te(10),opponentGoldSpent:new te(10),angler:new te(!1),allPets:new te(!1),logFilter:new te(null),playerPets:new c_([]),opponentPets:new c_([]),fontSize:new te(13),customPacks:new c_([]),oldStork:new te(!1),tokenPets:new te(!1),komodoShuffle:new te(!1),mana:new te(!1),playerRollAmount:new te(4),opponentRollAmount:new te(4),playerLevel3Sold:new te(0),opponentLevel3Sold:new te(0),playerSummonedAmount:new te(0),opponentSummonedAmount:new te(0),playerTransformationAmount:new te(0),opponentTransformationAmount:new te(0),showAdvanced:new te(!1),ailmentEquipment:new te(!1)}),this.initPetForms(),this.formGroup.get("playerPack").valueChanges.subscribe(m=>{if(null!=m){if("Add Custom Pack"==m)return void this.openCustomPackEditor();this.previousPackPlayer=m,this.updatePlayerPack(this.player,m)}}),this.formGroup.get("opponentPack").valueChanges.subscribe(m=>{if(null!=m){if("Add Custom Pack"==m)return void this.openCustomPackEditor();this.previousPackOpponent=m,this.updatePlayerPack(this.opponent,m)}}),this.formGroup.get("playerToy").valueChanges.subscribe(m=>{this.updatePlayerToy(this.player,m)}),this.formGroup.get("opponentToy").valueChanges.subscribe(m=>{this.updatePlayerToy(this.opponent,m)}),this.formGroup.get("playerToyLevel").valueChanges.subscribe(m=>{this.updateToyLevel(this.player,m)}),this.formGroup.get("opponentToyLevel").valueChanges.subscribe(m=>{this.updateToyLevel(this.opponent,m)}),this.formGroup.get("turn").valueChanges.subscribe(m=>{this.updatePreviousShopTier(m),this.setDayNight()}),this.formGroup.get("playerGoldSpent").valueChanges.subscribe(m=>{this.updateGoldSpent(m,null)}),this.formGroup.get("opponentGoldSpent").valueChanges.subscribe(m=>{this.updateGoldSpent(null,m)}),this.formGroup.get("angler").valueChanges.subscribe(m=>{setTimeout(()=>{this.updateSelectorPets()})}),this.formGroup.get("oldStork").valueChanges.subscribe(m=>{this.gameService.gameApi.oldStork=m}),this.formGroup.get("komodoShuffle").valueChanges.subscribe(m=>{this.gameService.gameApi.komodoShuffle=m}),this.formGroup.get("mana").valueChanges.subscribe(m=>{this.gameService.gameApi.mana=m}),this.formGroup.get("playerRollAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.playerRollAmount=m,console.log("playerRollAmount",m)}),this.formGroup.get("opponentRollAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.opponentRollAmount=m,console.log("opponentRollAmount",m)}),this.formGroup.get("playerLevel3Sold").valueChanges.subscribe(m=>{this.gameService.gameApi.playerLevel3Sold=m}),this.formGroup.get("opponentLevel3Sold").valueChanges.subscribe(m=>{this.gameService.gameApi.opponentLevel3Sold=m}),this.formGroup.get("playerSummonedAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.playerSummonedAmount=m}),this.formGroup.get("opponentSummonedAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.opponentSummonedAmount=m}),this.formGroup.get("playerTransformationAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.playerTransformationAmount=m}),this.formGroup.get("opponentTransformationAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.opponentTransformationAmount=m})}toggleAdvanced(){let e=this.formGroup.get("showAdvanced").value;this.formGroup.get("showAdvanced").setValue(!e)}initPetForms(){let e=[0,1,2,3,4],i=e.map(o=>{var l,h,d,m,y,S,k,T,D,N,I,U,O,G,Y,oe,pe,ve;return new Li({name:new te(null===(l=this.player[`pet${o}`])||void 0===l?void 0:l.name),attack:new te(null!==(d=null===(h=this.player[`pet${o}`])||void 0===h?void 0:h.attack)&&void 0!==d?d:0),health:new te(null!==(y=null===(m=this.player[`pet${o}`])||void 0===m?void 0:m.health)&&void 0!==y?y:0),exp:new te(null!==(k=null===(S=this.player[`pet${o}`])||void 0===S?void 0:S.exp)&&void 0!==k?k:0),equipment:new te(null===(T=this.player[`pet${o}`])||void 0===T?void 0:T.equipment),belugaSwallowedPet:new te(null===(D=this.player[`pet${o}`])||void 0===D?void 0:D.belugaSwallowedPet),mana:new te(null!==(I=null===(N=this.player[`pet${o}`])||void 0===N?void 0:N.mana)&&void 0!==I?I:0),abominationSwallowedPet1:new te(null===(U=this.player[`pet${o}`])||void 0===U?void 0:U.abominationSwallowedPet1),abominationSwallowedPet2:new te(null===(O=this.player[`pet${o}`])||void 0===O?void 0:O.abominationSwallowedPet2),abominationSwallowedPet3:new te(null===(G=this.player[`pet${o}`])||void 0===G?void 0:G.abominationSwallowedPet3),battlesFought:new te(null!==(oe=null===(Y=this.player[`pet${o}`])||void 0===Y?void 0:Y.battlesFought)&&void 0!==oe?oe:0),timesHurt:new te(null!==(ve=null===(pe=this.player[`pet${o}`])||void 0===pe?void 0:pe.timesHurt)&&void 0!==ve?ve:0)})}),s=this.formGroup.get("playerPets");s.clear();for(let o of i)s.push(o);let r=e.map(o=>{var l,h,d,m,y,S,k,T,D,N,I,U,O,G,Y,oe,pe,ve;return new Li({name:new te(null===(l=this.opponent[`pet${o}`])||void 0===l?void 0:l.name),attack:new te(null!==(d=null===(h=this.opponent[`pet${o}`])||void 0===h?void 0:h.attack)&&void 0!==d?d:0),health:new te(null!==(y=null===(m=this.opponent[`pet${o}`])||void 0===m?void 0:m.health)&&void 0!==y?y:0),exp:new te(null!==(k=null===(S=this.opponent[`pet${o}`])||void 0===S?void 0:S.exp)&&void 0!==k?k:0),equipment:new te(null===(T=this.opponent[`pet${o}`])||void 0===T?void 0:T.equipment),belugaSwallowedPet:new te(null===(D=this.opponent[`pet${o}`])||void 0===D?void 0:D.belugaSwallowedPet),mana:new te(null!==(I=null===(N=this.opponent[`pet${o}`])||void 0===N?void 0:N.mana)&&void 0!==I?I:0),abominationSwallowedPet1:new te(null===(U=this.opponent[`pet${o}`])||void 0===U?void 0:U.abominationSwallowedPet1),abominationSwallowedPet2:new te(null===(O=this.opponent[`pet${o}`])||void 0===O?void 0:O.abominationSwallowedPet2),abominationSwallowedPet3:new te(null===(G=this.opponent[`pet${o}`])||void 0===G?void 0:G.abominationSwallowedPet3),battlesFought:new te(null!==(oe=null===(Y=this.opponent[`pet${o}`])||void 0===Y?void 0:Y.battlesFought)&&void 0!==oe?oe:0),timesHurt:new te(null!==(ve=null===(pe=this.opponent[`pet${o}`])||void 0===pe?void 0:pe.timesHurt)&&void 0!==ve?ve:0)})}),a=this.formGroup.get("opponentPets");a.clear();for(let o of r)a.push(o)}getPlayerPetsFormArray(){return Array.from(this.formGroup.get("playerPets").controls).reverse()}getOpponentPetsFormArray(){return Array.from(this.formGroup.get("opponentPets").controls)}updatePlayerPack(e,i,s=!0){let r;switch(e.pack=i,i){case"Turtle":r=this.petService.turtlePackPets;break;case"Puppy":r=this.petService.puppyPackPets;break;case"Star":r=this.petService.starPackPets;break;case"Golden":r=this.petService.goldenPackPets;break;case"Unicorn":r=this.petService.unicornPackPets;break;case"Danger":r=this.petService.dangerPackPets;break;default:r=this.petService.playerCustomPackPets.get(i)}e==this.player?this.gameService.setTierGroupPets(r,null):this.gameService.setTierGroupPets(null,r),this.formGroup.get("allPets")}updateSelectorPets(){this.petSelectors.forEach(e=>{e.initPets()})}updatePlayerToy(e,i){let s;e==this.player&&(s="playerToyLevel"),e==this.opponent&&(s="opponentToyLevel");let r=Number(this.formGroup.get(s).value);e.toy=this.toyService.createToy(i,e,r),e.originalToy=e.toy}updatePreviousShopTier(e){let i=1;e>2&&(i=2),e>4&&(i=3),e>6&&(i=4),e>8&&(i=5),e>10&&(i=6),this.gameService.setPreviousShopTier(i),this.gameService.setTurnNumber(e)}updateGoldSpent(e,i){this.gameService.setGoldSpent(e,i)}updateToyLevel(e,i){e.toy&&(e.toy.level=i)}abilityCycle(){for(;this.abilityService.hasGlobalEvents;){const i=this.abilityService.peekNextHighestPriorityEvent();if(i&&this.abilityService.getPriorityNumber(i.abilityType)>=23&&(this.checkPetsAlive(),this.removeDeadPets())){this.emptyFrontSpaceCheck();continue}const s=this.abilityService.getNextHighestPriorityEvent();if(!s){console.error("AbilityCycle: Expected event from queue but got null. Queue state inconsistent.");break}this.abilityService.executeEventCallback(s),this.checkPetsAlive()}this.removeDeadPets()&&this.emptyFrontSpaceCheck()}checkPetsAlive(){this.player.checkPetsAlive(),this.opponent.checkPetsAlive()}initToys(){var e,i;(null===(e=this.player.toy)||void 0===e?void 0:e.startOfBattle)&&this.toyService.setStartOfBattleEvent({callback:()=>{this.player.toy.startOfBattle(this.gameService.gameApi);let s=this.player.toy.level;for(let r of this.player.petArray)r instanceof wr&&(this.player.toy.level=r.level,this.player.toy.startOfBattle(this.gameService.gameApi,!0),this.player.toy.level=s)},priority:this.player.toy.tier}),(null===(i=this.opponent.toy)||void 0===i?void 0:i.startOfBattle)&&this.toyService.setStartOfBattleEvent({callback:()=>{this.opponent.toy.startOfBattle(this.gameService.gameApi);let s=this.opponent.toy.level;for(let r of this.opponent.petArray)r instanceof wr&&(this.opponent.toy.level=r.level,this.opponent.toy.startOfBattle(this.gameService.gameApi,!0),this.opponent.toy.level=s)},priority:this.opponent.toy.tier})}simulate(){try{this.runSimulation()}catch(e){console.error(e),window.alert("Something went wrong, please send a bug report.")}}runSimulation(){this.localStorageService.setFormStorage(this.formGroup),this.resetSimulation();for(let e=0;e<this.simulationBattleAmt;e++){this.initBattle(),this.startBattle(),this.initToys(),this.abilityService.initEndTurnEvents(this.player),this.abilityService.initEndTurnEvents(this.opponent),this.setAbilityEquipments(this.player),this.setAbilityEquipments(this.opponent),this.initializeEquipmentMultipliers(),this.abilityService.triggerBeforeStartOfBattleEvents(this.player),this.abilityService.triggerBeforeStartOfBattleEvents(this.opponent),this.abilityService.executeBeforeStartOfBattleEvents(),this.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);this.startOfBattleService.resetStartOfBattleFlags(),this.startOfBattleService.initStartOfBattleEvents(),this.startOfBattleService.executeToyPetEvents(),this.gameService.gameApi.isInStartOfBattleFlag=!0,this.toyService.executeStartOfBattleEvents(),this.startOfBattleService.executeNonToyPetEvents(),this.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);for(this.gameService.gameApi.isInStartOfBattleFlag=!1;this.battleStarted;)this.nextTurn();this.reset()}this.simulated=!0}removeDeadPets(){let e=!1;return e=this.player.removeDeadPets(),e=this.opponent.removeDeadPets()||e,e}emptyFrontSpaceCheck(){null==this.player.pet0&&this.abilityService.triggerEmptyFrontSpaceEvents(this.player),null==this.opponent.pet0&&this.abilityService.triggerEmptyFrontSpaceEvents(this.opponent),null==this.player.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.player),null==this.opponent.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.opponent),this.abilityService.executeEmptyFrontSpaceToyEvents()}startBattle(){this.reset(),this.battleStarted=!0,this.turns=0}resetSimulation(){this.playerWinner=0,this.opponentWinner=0,this.viewBattle=null,this.draw=0,this.battles=[],this.currBattle=null}initBattle(){this.logService.reset(),this.currBattle={winner:"draw",logs:this.logs},this.battles.push(this.currBattle),this.gameService.gameApi.opponentSummonedAmount=this.formGroup.get("opponentSummonedAmount").value,this.gameService.gameApi.playerSummonedAmount=this.formGroup.get("playerSummonedAmount").value,this.gameService.gameApi.opponentTransformationAmount=this.formGroup.get("opponentTransformationAmount").value,this.gameService.gameApi.playerTransformationAmount=this.formGroup.get("playerTransformationAmount").value}reset(){this.player.resetPets(),this.opponent.resetPets()}nextTurn(){let e=!1,i=null;if(this.turns++,this.turns>=this.maxTurns&&(e=!0),!this.player.alive()&&this.opponent.alive()&&(i=this.opponent,this.currBattle.winner="opponent",this.opponentWinner++,e=!0),!this.opponent.alive()&&this.player.alive()&&(i=this.player,this.currBattle.winner="player",this.playerWinner++,e=!0),!this.opponent.alive()&&!this.player.alive()&&(this.draw++,e=!0),e)return this.logService.printState(this.player,this.opponent),this.endLog(i),void(this.battleStarted=!1);for(this.pushPetsForwards(),this.logService.printState(this.player,this.opponent);;){let s=this.player.pet0,r=this.opponent.pet0;this.player.pet0.beforeAttack&&this.abilityService.setBeforeAttackEvent({callback:this.player.pet0.beforeAttack.bind(this.player.pet0),priority:this.player.pet0.attack,player:this.player,pet:this.player.pet0}),this.opponent.pet0.beforeAttack&&this.abilityService.setBeforeAttackEvent({callback:this.opponent.pet0.beforeAttack.bind(this.opponent.pet0),priority:this.opponent.pet0.attack,player:this.opponent,pet:this.opponent.pet0}),this.abilityService.executeBeforeAttackEvents(),this.abilityService.triggerBeforeFriendAttacksEvents(this.player,this.player.pet0),this.abilityService.triggerBeforeFriendAttacksEvents(this.opponent,this.opponent.pet0),this.abilityService.executeBeforeFriendAttacksEvents(),this.player.checkPetsAlive(),this.opponent.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);if(!this.player.alive()||!this.opponent.alive())return;if(this.pushPetsForwards(),s.transformed&&(s=s.transformedInto),r.transformed&&(r=r.transformedInto),this.player.pet0==s&&this.opponent.pet0==r)break}this.fight(),this.player.checkPetsAlive(),this.opponent.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);this.player.checkGoldenSpawn(),this.opponent.checkGoldenSpawn();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents)}chocolateCakePresent(){var e,i;let s={player:!1,opponent:!1,cake:!1};return s.player=(null===(e=this.player.pet0)||void 0===e?void 0:e.equipment)instanceof xA,s.opponent=(null===(i=this.opponent.pet0)||void 0===i?void 0:i.equipment)instanceof xA,s.cake=s.player||s.opponent,s}doChocolateCakeEvents(e){let i=[];e.player&&i.push(this.player.pet0),e.opponent&&i.push(this.opponent.pet0),i=(0,vt.shuffle)(i),i.sort((s,r)=>s.attack<r.attack?1:r.attack<s.attack?-1:0);for(let s of i)s.equipment.callback(s)}setAbilityEquipments(e){var i;for(let s of e.petArray)s.equipment instanceof T3?(s.equipment.callback(s),s.eggplantTouched=!0):(null===(i=s.equipment)||void 0===i?void 0:i.callback)&&s.equipment.callback(s)}executeBeforeStartOfBattleEquipment(e){for(let i of e.petArray){let s=i.equipment.multiplier,r=i.equipment.multiplierMessage;for(let a=0;a<s;a++){if(i.equipment instanceof C3&&(i.increaseAttack(4),i.increaseHealth(4),this.logService.createLog({message:`${i.name} gained 4 attack and 4 health (Pie)${r}`,type:"equipment",player:e})),i.equipment instanceof D3&&i.parent.gainTrumpets(2*s,i,!1,s,!0),i.equipment instanceof P3)for(let o of e.petArray)i!=o&&(o.increaseAttack(2),o.increaseHealth(2),this.logService.createLog({message:`${o.name} gained 2 attack and 2 health (Pancake)${r}`,type:"equipment",player:e}));i.equipment instanceof x3&&i.equipment.callback(i),i.equipment instanceof M3&&i.equipment.callback(i),i.equipment instanceof R3&&i.equipment.callback(i)}}}pushPetsForwards(){this.player.pushPetsForward(),this.opponent.pushPetsForward()}fight(){let e=this.player.pet0,i=this.opponent.pet0;e.attackPet(i),i.attackPet(e),e.useAttackDefenseEquipment(),i.useAttackDefenseEquipment(),this.player.checkPetsAlive(),this.opponent.checkPetsAlive(),this.abilityService.executeAfterAttackEvents(),this.abilityService.executeAfterFriendAttackEvents()}endLog(e){let i;i=null==e?"Draw":e==this.player?"Player is the winner":"Opponent is the winner",this.logService.createLog({message:i,type:"board"})}get logs(){return this.logService.getLogs()}setViewBattle(e){this.viewBattle=e}getViewBattleLogs(){var e,i;return null!==(i=null===(e=this.viewBattle)||void 0===e?void 0:e.logs)&&void 0!==i?i:[]}getDrawWidth(){return`${this.losePercent+this.drawPercent}%`}getLoseWidth(){return`${this.losePercent}%`}getPlayerClass(e){return null==e.player?"log":e.player==this.player?"log-player":"log-opponent"}getRandomEvents(e){let i="",s=e.logs.filter(r=>1==r.randomEvent);for(let r of s)i+=r.message,r!=s[s.length-1]&&(i+="\n");return i}randomize(e){null==e&&!confirm("Are you sure you want to randomize?")||(e?this.randomizePlayerPets(e):(this.randomizePlayerPets(this.player),this.randomizePlayerPets(this.opponent)),this.formGroup&&this.initPetForms(),setTimeout(()=>{this.petSelectors.forEach(i=>{i.initSelector()})}))}zoomIn(){this.formGroup.get("fontSize").setValue(Math.min(this.formGroup.get("fontSize").value+1,20)),this.setFontSize()}zoomOut(){this.formGroup.get("fontSize").setValue(Math.max(this.formGroup.get("fontSize").value-1,8)),this.setFontSize()}setFontSize(){document.documentElement.style.fontSize=`${this.formGroup.get("fontSize").value}px`}clearCache(){this.localStorageService.clearStorage(),alert("Cache cleared. Refresh page to see changes.")}initModals(){this.customPackEditorModal=new _c(this.customPackEditor.nativeElement),this.customPackEditor.nativeElement.addEventListener("hidden.bs.modal",e=>{})}openCustomPackEditor(){this.customPackEditorModal.show(),this.formGroup.get("playerPack").setValue(this.previousPackPlayer,{emitEvent:!1}),this.formGroup.get("opponentPack").setValue(this.previousPackOpponent,{emitEvent:!1})}drop(e,i){let s=e.previousIndex,r=e.currentIndex,a=this.opponent;"player"==i&&(s=4-s,r=4-r,a=this.player),u4(this.formGroup.get(`${i}Pets`).controls,s,r);for(let o of this.petSelectors.toArray())o.substitutePet()}resetPlayer(e){if(!confirm(`Are you sure you want to reset ${e}?`))return;let i=this.petSelectors.toArray().slice("player"==e?0:5,"player"==e?5:10);for(let s of i)s.removePet()}export(){this.localStorageService.setFormStorage(this.formGroup);let e=JSON.stringify(this.formGroup.value);navigator.clipboard.writeText(e).then(()=>{alert("Copied to clipboard")})}import(e,i=!1){let s=!1;try{const r=JSON.parse(e);this.loadCalculatorFromValue(r),this.initApp(),i||setTimeout(()=>{this.petSelectors&&this.petSelectors.forEach(a=>{a.fixLoadEquipment()})},0),s=!0}catch(r){console.error(r)}return s}generateShareLink(){this.localStorageService.setFormStorage(this.formGroup);const i=(0,vt.cloneDeep)(this.formGroup.value),s=[...i.playerPets||[],...i.opponentPets||[]];for(const h of s)h&&(delete h.parent,delete h.logService,delete h.abilityService,delete h.gameService,delete h.petService,h.equipment&&(h.equipment={name:h.equipment.name}));const r=JSON.stringify(i),a=encodeURIComponent(r),l=`${window.location.origin+window.location.pathname}?c=${a}`;navigator.clipboard.writeText(l).then(()=>{alert("Shareable link copied to clipboard!")}).catch(h=>{console.error("Failed to copy link: ",h),alert("Failed to copy link. See console for details.")})}get filteredBattles(){return this.battles.filter(e=>{let i=this.formGroup.get("logFilter").value;return null==i||e.winner==i})}get winPercent(){return rC(this.playerWinner/this.simulationBattleAmt*100)}get drawPercent(){return rC(this.draw/this.simulationBattleAmt*100)}get losePercent(){return rC(this.opponentWinner/this.simulationBattleAmt*100)}get validCustomPacks(){let e=this.formGroup.get("customPacks"),i=[];for(let s of e.controls)s.valid&&i.push(s);return i}initializeEquipmentMultipliers(){for(let e of this.player.petArray)e.equipment&&e.setEquipmentMultiplier();for(let e of this.opponent.petArray)e.equipment&&e.setEquipmentMultiplier()}}return n.\u0275fac=function(e){return new(e||n)($(x_),$(At),$(M_),$(Sh),$(Ci),$(ib),$(O3),$(qte),$(uI))},n.\u0275cmp=Bn({type:n,selectors:[["app-root"]],viewQuery:function(e,i){if(1&e&&(Sy(Tie,5),Sy(L3,5)),2&e){let s;rc(s=ac())&&(i.customPackEditor=s.first),rc(s=ac())&&(i.petSelectors=s)}},decls:2,vars:2,consts:[[4,"ngIf"],["id","apiResponse"],[1,"container-fluid","app-wrapper","flex-col",3,"formGroup"],["container",""],[1,"row","mt-2"],[1,"col-12","header"],[1,"d-flex","align-items-end"],[3,"click"],["data-bs-toggle","modal","data-bs-target","#info",1,"btn-link","info-link"],[1,"me-3"],[1,"d-flex","flex-column","align-items-end"],["data-bs-toggle","modal","data-bs-target","#patchNotes",1,"btn-link"],[1,"row","battle-controller","border"],[1,"col-12","d-flex","justify-content-between","py-2"],[1,"d-flex","flex-wrap"],[1,"form-group","min-w-input","me-3"],["for","playerPack"],["id","playerPack","formControlName","playerPack",1,"form-control"],["value","Turtle"],["value","Puppy"],["value","Star"],["value","Golden"],["value","Unicorn"],["value","Danger"],["label","Custom Packs"],[3,"value",4,"ngFor","ngForOf"],["value","Add Custom Pack"],[1,"form-group","min-w-input","pe-3","border-end"],["id","opponentPack","formControlName","opponentPack",1,"form-control"],[1,"form-group","min-w-input","mx-3"],["id","playerToy","formControlName","playerToy",1,"form-control"],[3,"ngValue"],[3,"label",4,"ngFor","ngForOf"],[1,"form-group","me-3"],["for","playerToyLevel"],["id","playerToyLevel","formControlName","playerToyLevel",1,"form-control"],["id","opponentToy","formControlName","opponentToy",1,"form-control"],["for","opponentToyLevel"],["id","opponentToyLevel","formControlName","opponentToyLevel",1,"form-control"],[1,"form-group","pe-3","d-flex","align-items-end","border-end"],[1,"btn-link",3,"click"],[1,"flex-column"],["title","Opponent's pack pets are included in the pet pool.",1,"form-check","ms-3"],["type","checkbox","value","","id","angler","formControlName","angler",1,"form-check-input"],["for","angler",1,"form-check-label"],["title","All pets are included in the pet pool.",1,"form-check","ms-3"],["type","checkbox","value","","id","allPets","formControlName","allPets",1,"form-check-input"],["for","allPets",1,"form-check-label"],["title","Stork spawns with base stats.",1,"form-check","ms-3"],["type","checkbox","value","","id","oldStork","formControlName","oldStork",1,"form-check-input"],["for","oldStork",1,"form-check-label"],["title","Include Token Pets in pet pool.",1,"form-check","ms-3"],["type","checkbox","value","","id","oldStork","formControlName","tokenPets",1,"form-check-input"],["for","tokenPets",1,"form-check-label"],["title","Shuffle pets in front of Komodo if present.",1,"form-check","ms-3"],["type","checkbox","value","","id","komodoShuffle","formControlName","komodoShuffle",1,"form-check-input"],["for","komodoShuffle",1,"form-check-label"],["title","Include Mana.",1,"form-check","ms-3"],["type","checkbox","value","","id","mana","formControlName","mana",1,"form-check-input"],["for","mana",1,"form-check-label"],["title","Include Ailments for Equipment Options.",1,"form-check","ms-3"],["type","checkbox","value","","id","ailmentEquipment","formControlName","ailmentEquipment",1,"form-check-input"],["for","ailmentEquipment",1,"form-check-label"],[1,"flex-col","zoom-container"],["for","zoom"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"btn","btn-secondary",3,"click"],["class","row battle-controller border",4,"ngIf"],[1,"row","day-night-container"],[1,"col-12"],[1,"row","battle-row","pb-5","pt-3"],[1,"col-12","col-xl-6","px-4","mb-2","mb-xl-0"],[1,"d-flex","justify-content-between"],[1,"me-4"],[1,"btn","btn-secondary","mb-1",3,"click"],[1,"card","p-2","player-card"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"row","row-cols-1","row-cols-md-5",3,"cdkDropListDropped"],["class","col drag-container mb-2 mb-md-0","cdkDrag","",4,"ngFor","ngForOf"],[1,"col-12","col-xl-6","px-4"],[1,"card","p-2","player-card","ml-auto"],["class","col drag-container mb-2 mb-sm-0","cdkDrag","",4,"ngFor","ngForOf"],[1,"row","button-bar","pt-3","pb-1","border"],[1,"col-12","d-flex","justify-content-between"],[1,"btn","btn-primary","me-2","mb-2",3,"click"],["data-bs-toggle","modal","data-bs-target","#reportABug",1,"btn","btn-secondary","me-2","mb-2"],["data-bs-toggle","modal","data-bs-target","#export",1,"btn","btn-secondary","me-2","mb-2"],["data-bs-toggle","modal","data-bs-target","#import",1,"btn","btn-secondary","mb-2"],["class","row",4,"ngIf"],[1,"row","flex-1","bottom-container"],[1,"col-12","col-md-6","border","h-100","flex-col","pe-0"],[1,"row"],["for","logFilter",1,"form-label"],[1,"form-check","form-check-inline"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio1",1,"form-check-input",3,"value"],["for","inlineRadio1",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio2","value","player",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio3","value","opponent",1,"form-check-input"],["for","inlineRadio3",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio4","value","draw",1,"form-check-input"],["for","inlineRadio4",1,"form-check-label"],[1,"battle-container","flex-1","scroll"],[1,"table"],[1,"battle-no"],["class","table-battle-row",3,"click",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","border","h-100","flex-col"],[1,"row","log-container","flex-1","scroll"],["class","col-12",4,"ngFor","ngForOf"],["id","patchNotes","tabindex","-1","aria-labelledby","patchNotesLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","patchNotesLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["id","customPackEditor","tabindex","-1","aria-labelledby","customPackEditorLabel","aria-hidden","true",1,"modal","fade"],["customPackEditor",""],[1,"modal-dialog","modal-lg"],["id","customPackEditorLabel",1,"modal-title","fs-5"],[3,"formGroup"],["id","info","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5"],["id","import","tabindex","-1","aria-labelledby","importModalLabel","aria-hidden","true",1,"modal","fade"],["id","importModalLabel",1,"modal-title","fs-5"],[3,"importFunc"],["id","export","tabindex","-1","aria-labelledby","exportModalLabel","aria-hidden","true",1,"modal","fade"],["id","exportModalLabel",1,"modal-title","fs-5"],["id","reportABug","tabindex","-1","aria-labelledby","reportABug","aria-hidden","true",1,"modal","fade"],["id","reportABug",1,"modal-title","fs-5"],[3,"calcFormGroup"],[3,"value"],[3,"label"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"border-end","d-flex","flex-wrap","pe-3"],[1,"form-group","small-w-input","me-s-3"],["for","turn"],["id","turn","type","number","formControlName","turn","max","99",1,"form-control"],[1,"form-group","advanced-input","ms-3"],["for","playerGoldSpent","title","Player Gold Spent"],["id","turn","type","number","formControlName","playerGoldSpent","max","99",1,"form-control"],["for","opponentGoldSpent","title","Opponent Gold Spent"],["id","turn","type","number","formControlName","opponentGoldSpent","max","99",1,"form-control"],["for","playerRollAmount","title","Player Roll Amount"],["id","turn","type","number","formControlName","playerRollAmount","max","99",1,"form-control"],["for","opponentRollAmount","title","Opponent Roll Amount"],["id","turn","type","number","formControlName","opponentRollAmount","max","99",1,"form-control"],["for","playerLevel3Sold","title","Player Level 3 Sold"],["id","turn","type","number","formControlName","playerLevel3Sold","max","99",1,"form-control"],["for","opponentLevel3Sold","title","Opponent Level 3 Sold"],["id","turn","type","number","formControlName","opponentLevel3Sold","max","99",1,"form-control"],["for","playerSummonedAmount","title","Player Summoned Amount"],["id","turn","type","number","formControlName","playerSummonedAmount","max","99",1,"form-control"],["for","opponentSummonedAmount","title","Opponent Summoned Amount"],["id","turn","type","number","formControlName","opponentSummonedAmount","max","99",1,"form-control"],["for","playerTransformationAmount","title","Player Transformation Amount"],["id","turn","type","number","formControlName","playerTransformationAmount","max","99",1,"form-control"],["for","opponentTransformationAmount","title","Opponent Transformation Amount"],["id","turn","type","number","formControlName","opponentTransformationAmount","max","99",1,"form-control"],["cdkDrag","",1,"col","drag-container","mb-2","mb-md-0"],["cdkDragHandle","",1,"drag-handle"],["fill","currentColor","viewBox","0 0 24 24"],["d","M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"],["d","M0 0h24v24H0z","fill","none"],[3,"pet","player","opponent","index","formGroup","angler","ailments","allPets","mana","showTokenPets","customPacks"],["cdkDrag","",1,"col","drag-container","mb-2","mb-sm-0"],[1,"col-12","stats"],[1,"col-12","py-2"],[1,"results-bar"],[1,"draw-bar"],[1,"lose-bar"],[1,"table-battle-row",3,"click"],[1,"pre"],[3,"ngClass"]],template:function(e,i){1&e&&(Te(0,xie,3,1,"ng-container",0),Te(1,Gie,281,27,"ng-container",0)),2&e&&(z("ngIf",i.api),F(1),z("ngIf",!i.api))},directives:[ph,dc,Ha,Op,hc,Ho,tC,nC,Ap,e_,Ite,Fa,J0,Ute,aie,oie,lie,cie,Die,u_,h_,Lte,Ote,L3,b0],pipes:[E0],styles:[".app-wrapper[_ngcontent-%COMP%]{height:100vh}.day-night-container[_ngcontent-%COMP%]{min-height:1em}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:end}.flex-col[_ngcontent-%COMP%]{display:flex;flex-direction:column}.player-card[_ngcontent-%COMP%]{background-color:#e9c137;display:grid;grid-auto-rows:minmax(min-content,max-content);grid-template-columns:auto 1fr auto}.back[_ngcontent-%COMP%], .front[_ngcontent-%COMP%]{transform:rotate(180deg);writing-mode:vertical-lr;text-align:center}.battle-row[_ngcontent-%COMP%]{background-color:#5ebe09}.button-bar[_ngcontent-%COMP%], .battle-controller[_ngcontent-%COMP%]{background-color:#f5f5f5}.battle-controller[_ngcontent-%COMP%]   .min-w-input[_ngcontent-%COMP%]{min-width:100px}.small-w-input[_ngcontent-%COMP%]{width:60px}.stats[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:.25em}.stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:1em}.battle-no[_ngcontent-%COMP%]{width:1%;white-space:nowrap}.table-battle-row[_ngcontent-%COMP%]{cursor:pointer}.results-bar[_ngcontent-%COMP%], .draw-bar[_ngcontent-%COMP%], .lose-bar[_ngcontent-%COMP%]{display:inline-block}.draw-bar[_ngcontent-%COMP%], .lose-bar[_ngcontent-%COMP%]{height:100%;position:absolute;right:0}.results-bar[_ngcontent-%COMP%]{max-width:100%;border:.2em solid black;height:2em;width:30em;background-color:#0f0;position:relative}.draw-bar[_ngcontent-%COMP%]{background-color:#d3d3d3}.lose-bar[_ngcontent-%COMP%]{background-color:red}.log-player[_ngcontent-%COMP%]{background-color:#e4ffe0}.log-opponent[_ngcontent-%COMP%]{background-color:#ffe0e0}.log-container[_ngcontent-%COMP%]{display:flex;align-content:flex-start}.random-event[_ngcontent-%COMP%]{color:purple;font-weight:bold}.flex-1[_ngcontent-%COMP%]{flex:1}.bottom-container[_ngcontent-%COMP%]{min-height:30em}.bottom-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{min-height:15em}.scroll[_ngcontent-%COMP%]{overflow:scroll}.h-100[_ngcontent-%COMP%]{height:100%}.pre[_ngcontent-%COMP%]{white-space:pre}.btn-link[_ngcontent-%COMP%]{color:#0d6efd;cursor:pointer}.zoom-container[_ngcontent-%COMP%]{min-width:max-content}.zoom-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:2.5em}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.drag-container[_ngcontent-%COMP%]{position:relative}.drag-handle[_ngcontent-%COMP%]{width:1.25em;position:absolute;right:1em;z-index:1;opacity:.5;cursor:pointer}.info-link[_ngcontent-%COMP%]{margin-left:1em;margin-bottom:.5em}@media (max-width: 767.98px){.card[_ngcontent-%COMP%]{max-width:18em}.back[_ngcontent-%COMP%], .front[_ngcontent-%COMP%]{transform:initial;writing-mode:initial}.player-card[_ngcontent-%COMP%]{grid-template-columns:none}}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.bug-button[_ngcontent-%COMP%]{margin-right:.5em;margin-bottom:.25em}.advanced-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:60px}"],data:{animation:[Vte("dayNight",[C4("day",Ob({backgroundColor:"#85ddf2"})),C4("night",Ob({backgroundColor:"#33377a"})),Hte("day <=> night",[Fte("0.5s")])])]}}),n})();function H4(){return"undefined"!=typeof window&&void 0!==window.document}function vI(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function el(n){switch(n.length){case 0:return new Hh;case 1:return n[0];default:return new P4(n)}}function q4(n,t,e,i,s={},r={}){const a=[],o=[];let l=-1,h=null;if(i.forEach(d=>{const m=d.offset,y=m==l,S=y&&h||{};Object.keys(d).forEach(k=>{let T=k,D=d[k];if("offset"!==k)switch(T=t.normalizePropertyName(T,a),D){case"!":D=s[k];break;case Ka:D=r[k];break;default:D=t.normalizeStyleValue(k,T,D,a)}S[T]=D}),y||o.push(S),h=S,l=m}),a.length){const d="\n - ";throw new Error(`Unable to animate due to the following errors:${d}${a.join(d)}`)}return o}function yI(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&_I(e,"start",n)));break;case"done":n.onDone(()=>i(e&&_I(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&_I(e,"destroy",n)))}}function _I(n,t,e){const i=e.totalTime,r=bI(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),a=n._data;return null!=a&&(r._data=a),r}function bI(n,t,e,i,s="",r=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:s,totalTime:r,disabled:!!a}}function ps(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function U4(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let SI=(n,t)=>!1,wI=(n,t)=>!1,G4=(n,t,e)=>[];const j4=vI();(j4||"undefined"!=typeof Element)&&(SI=H4()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),wI=(()=>{if(j4||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):wI}})(),G4=(n,t,e)=>{let i=[];if(e){const s=n.querySelectorAll(t);for(let r=0;r<s.length;r++)i.push(s[r])}else{const s=n.querySelector(t);s&&i.push(s)}return i});let Cc=null,W4=!1;function EI(n){Cc||(Cc=("undefined"!=typeof document?document.body:null)||{},W4=!!Cc.style&&"WebkitAppearance"in Cc.style);let t=!0;return Cc.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Cc.style,!t&&W4&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Cc.style)),t}const kI=wI,CI=SI,AI=G4;function z4(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let K4=(()=>{class n{validateStyleProperty(e){return EI(e)}matchesElement(e,i){return kI(e,i)}containsElement(e,i){return CI(e,i)}query(e,i,s){return AI(e,i,s)}computeStyle(e,i,s){return s||""}animate(e,i,s,r,a,o=[],l){return new Hh(s,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),PI=(()=>{class n{}return n.NOOP=new K4,n})();const DI="ng-enter",Bb="ng-leave",$b="ng-trigger",Vb=".ng-trigger",Y4="ng-animating",TI=".ng-animating";function Ac(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:xI(parseFloat(t[1]),t[2])}function xI(n,t){return"s"===t?1e3*n:n}function Fb(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let s,r=0,a="";if("string"==typeof n){const o=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===o)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};s=xI(parseFloat(o[1]),o[2]);const l=o[3];null!=l&&(r=xI(parseFloat(l),o[4]));const h=o[5];h&&(a=h)}else s=n;if(!e){let o=!1,l=t.length;s<0&&(t.push("Duration values below 0 are not allowed for this animation step."),o=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),o=!0),o&&t.splice(l,0,`The provided timing value "${n}" is invalid.`)}return{duration:s,delay:r,easing:a}}(n,t,e)}function qh(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function tl(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else qh(n,e);return e}function Z4(n,t,e){return e?t+":"+e+";":""}function X4(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=Z4(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Z4(0,ine(e),n.style[e]));n.setAttribute("style",t)}function Jr(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const s=RI(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[s]),n.style[s]=t[i]}),vI()&&X4(n))}function Pc(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=RI(e);n.style[i]=""}),vI()&&X4(n))}function hg(n){return Array.isArray(n)?1==n.length?n[0]:k4(n):n}const MI=new RegExp("{{\\s*(.+?)\\s*}}","g");function eH(n){let t=[];if("string"==typeof n){let e;for(;e=MI.exec(n);)t.push(e[1]);MI.lastIndex=0}return t}function Hb(n,t,e){const i=n.toString(),s=i.replace(MI,(r,a)=>{let o=t[a];return t.hasOwnProperty(a)||(e.push(`Please provide a value for the animation param ${a}`),o=""),o.toString()});return s==i?n:s}function qb(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const tne=/-+([a-z0-9])/g;function RI(n){return n.replace(tne,(...t)=>t[1].toUpperCase())}function ine(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function tH(n,t){return 0===n||0===t}function iH(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let r=t[0],a=[];if(i.forEach(o=>{r.hasOwnProperty(o)||a.push(o),r[o]=e[o]}),a.length)for(var s=1;s<t.length;s++){let o=t[s];a.forEach(function(l){o[l]=II(n,l)})}}return t}function gs(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function II(n,t){return window.getComputedStyle(n)[t]}function nne(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,t,e){if(":"==n[0]){const l=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const s=i[1],r=i[2],a=i[3];t.push(nH(s,a));"<"==r[0]&&!("*"==s&&"*"==a)&&t.push(nH(a,s))}(i,e,t)):e.push(n),e}const Gb=new Set(["true","1"]),jb=new Set(["false","0"]);function nH(n,t){const e=Gb.has(n)||jb.has(n),i=Gb.has(t)||jb.has(t);return(s,r)=>{let a="*"==n||n==s,o="*"==t||t==r;return!a&&e&&"boolean"==typeof s&&(a=s?Gb.has(n):jb.has(n)),!o&&i&&"boolean"==typeof r&&(o=r?Gb.has(t):jb.has(t)),a&&o}}const ane=new RegExp("s*:selfs*,?","g");function OI(n,t,e){return new one(n).build(t,e)}class one{constructor(t){this._driver=t}build(t,e){const i=new une(e);return this._resetContextStyleTimingState(i),gs(this,hg(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,s=e.depCount=0;const r=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(o=>{if(this._resetContextStyleTimingState(e),0==o.type){const l=o,h=l.name;h.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,r.push(this.visitState(l,e))}),l.name=h}else if(1==o.type){const l=this.visitTransition(o,e);i+=l.queryCount,s+=l.depCount,a.push(l)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:a,queryCount:i,depCount:s,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(i.containsDynamicStyles){const r=new Set,a=s||{};if(i.styles.forEach(o=>{if(Wb(o)){const l=o;Object.keys(l).forEach(h=>{eH(l[h]).forEach(d=>{a.hasOwnProperty(d)||r.add(d)})})}}),r.size){const o=qb(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${o.join(", ")}`)}}return{type:0,name:t.name,style:i,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=gs(this,hg(t.animation),e);return{type:1,matchers:nne(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Dc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>gs(this,i,e)),options:Dc(t.options)}}visitGroup(t,e){const i=e.currentTime;let s=0;const r=t.steps.map(a=>{e.currentTime=i;const o=gs(this,a,e);return s=Math.max(s,e.currentTime),o});return e.currentTime=s,{type:3,steps:r,options:Dc(t.options)}}visitAnimate(t,e){const i=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return NI(Fb(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(r=>"{"==r.charAt(0)&&"{"==r.charAt(1))){const r=NI(0,0,"");return r.dynamic=!0,r.strValue=i,r}return e=e||Fb(i,t),NI(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let s,r=t.styles?t.styles:Ob({});if(5==r.type)s=this.visitKeyframes(r,e);else{let a=t.styles,o=!1;if(!a){o=!0;const h={};i.easing&&(h.easing=i.easing),a=Ob(h)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(a,e);l.isEmptyStep=o,s=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(a=>{"string"==typeof a?a==Ka?i.push(a):e.errors.push(`The provided style string value ${a} is not allowed.`):i.push(a)}):i.push(t.styles);let s=!1,r=null;return i.forEach(a=>{if(Wb(a)){const o=a,l=o.easing;if(l&&(r=l,delete o.easing),!s)for(let h in o)if(o[h].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:i,easing:r,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let s=e.currentTime,r=e.currentTime;i&&r>0&&(r-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&Object.keys(a).forEach(o=>{if(!this._driver.validateStyleProperty(o))return void e.errors.push(`The provided animation property "${o}" is not a supported CSS property for animations`);const l=e.collectedStyles[e.currentQuerySelector],h=l[o];let d=!0;h&&(r!=s&&r>=h.startTime&&s<=h.endTime&&(e.errors.push(`The CSS property "${o}" that exists between the times of "${h.startTime}ms" and "${h.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${s}ms"`),d=!1),r=h.startTime),d&&(l[o]={startTime:r,endTime:s}),e.options&&function(n,t,e){const i=t.params||{},s=eH(n);s.length&&s.forEach(r=>{i.hasOwnProperty(r)||e.push(`Unable to resolve the local animation param ${r} in the given list of values`)})}(a[o],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let r=0;const a=[];let o=!1,l=!1,h=0;const d=t.steps.map(N=>{const I=this._makeStyleAst(N,e);let U=null!=I.offset?I.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Wb(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(Wb(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(I.styles),O=0;return null!=U&&(r++,O=I.offset=U),l=l||O<0||O>1,o=o||O<h,h=O,a.push(O),I});l&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const m=t.steps.length;let y=0;r>0&&r<m?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(y=1/(m-1));const S=m-1,k=e.currentTime,T=e.currentAnimateTimings,D=T.duration;return d.forEach((N,I)=>{const U=y>0?I==S?1:y*I:a[I],O=U*D;e.currentTime=k+T.delay+O,T.duration=O,this._validateStyleAst(N,e),N.offset=U,i.styles.push(N)}),i}visitReference(t,e){return{type:8,animation:gs(this,hg(t.animation),e),options:Dc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Dc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Dc(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[r,a]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(ane,"")),n=n.replace(/@\*/g,Vb).replace(/@\w+/g,e=>Vb+"-"+e.substr(1)).replace(/:animating/g,TI),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+r:r,ps(e.collectedStyles,e.currentQuerySelector,{});const o=gs(this,hg(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:r,limit:s.limit||0,optional:!!s.optional,includeSelf:a,animation:o,originalSelector:t.selector,options:Dc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Fb(t.timings,e.errors,!0);return{type:12,animation:gs(this,hg(t.animation),e),timings:i,options:null}}}class une{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Wb(n){return!Array.isArray(n)&&"object"==typeof n}function Dc(n){return n?(n=qh(n)).params&&(n.params=function(n){return n?qh(n):null}(n.params)):n={},n}function NI(n,t,e){return{duration:n,delay:t,easing:e}}function LI(n,t,e,i,s,r,a=null,o=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:s,delay:r,totalTime:s+r,easing:a,subTimeline:o}}class zb{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const gne=new RegExp(":enter","g"),vne=new RegExp(":leave","g");function BI(n,t,e,i,s,r={},a={},o,l,h=[]){return(new yne).buildKeyframes(n,t,e,i,s,r,a,o,l,h)}class yne{buildKeyframes(t,e,i,s,r,a,o,l,h,d=[]){h=h||new zb;const m=new $I(t,e,h,s,r,d,[]);m.options=l,m.currentTimeline.setStyles([a],null,m.errors,l),gs(this,i,m);const y=m.timelines.filter(S=>S.containsAnimation());if(y.length&&Object.keys(o).length){const S=y[y.length-1];S.allowOnlyTimelineStyles()||S.setStyles([o],null,m.errors,l)}return y.length?y.map(S=>S.buildKeyframes()):[LI(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.consume(e.element);if(i){const s=e.createSubContext(t.options),r=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,s,s.options);r!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let r=e.currentTimeline.currentTime;const a=null!=i.duration?Ac(i.duration):null,o=null!=i.delay?Ac(i.delay):null;return 0!==a&&t.forEach(l=>{const h=e.appendInstructionToTimeline(l,a,o);r=Math.max(r,h.duration+h.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),gs(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let s=e;const r=t.options;if(r&&(r.params||r.delay)&&(s=e.createSubContext(r),s.transformIntoNewTimeline(),null!=r.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=Kb);const a=Ac(r.delay);s.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>gs(this,a,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let s=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?Ac(t.options.delay):0;t.steps.forEach(a=>{const o=e.createSubContext(t.options);r&&o.delayNextStep(r),gs(this,a,o),s=Math.max(s,o.currentTimeline.currentTime),i.push(o.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Fb(e.params?Hb(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),s.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(i.duration),this.visitStyle(r,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,s=e.currentAnimateTimings;!s&&i.getCurrentStyleProperties().length&&i.forwardFrame();const r=s&&s.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(r):i.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,s=e.currentTimeline.duration,r=i.duration,o=e.createSubContext().currentTimeline;o.easing=i.easing,t.styles.forEach(l=>{o.forwardTime((l.offset||0)*r),o.setStyles(l.styles,l.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(s+r),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,s=t.options||{},r=s.delay?Ac(s.delay):0;r&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Kb);let a=i;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=o.length;let l=null;o.forEach((h,d)=>{e.currentQueryIndex=d;const m=e.createSubContext(t.options,h);r&&m.delayNextStep(r),h===e.element&&(l=m.currentTimeline),gs(this,t.animation,m),m.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,m.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,s=e.currentTimeline,r=t.timings,a=Math.abs(r.duration),o=a*(e.currentQueryTotal-1);let l=a*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":l=o-l;break;case"full":l=i.currentStaggerTime}const d=e.currentTimeline;l&&d.delayNextStep(l);const m=d.currentTime;gs(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=s.currentTime-m+(s.startTime-i.currentTimeline.startTime)}}const Kb={};class $I{constructor(t,e,i,s,r,a,o,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=r,this.errors=a,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Kb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Qb(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let s=this.options;null!=i.duration&&(s.duration=Ac(i.duration)),null!=i.delay&&(s.delay=Ac(i.delay));const r=i.params;if(r){let a=s.params;a||(a=this.options.params={}),Object.keys(r).forEach(o=>{(!e||!a.hasOwnProperty(o))&&(a[o]=Hb(r[o],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(s=>{i[s]=e[s]})}}return t}createSubContext(t=null,e,i){const s=e||this.element,r=new $I(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=Kb,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const s={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},r=new _ne(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(r),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,s,r,a){let o=[];if(s&&o.push(this.element),t.length>0){t=(t=t.replace(gne,"."+this._enterClassName)).replace(vne,"."+this._leaveClassName);let h=this._driver.query(this.element,t,1!=i);0!==i&&(h=i<0?h.slice(h.length+i,h.length):h.slice(0,i)),o.push(...h)}return!r&&0==o.length&&a.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Qb{constructor(t,e,i,s){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Qb(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Ka,this._currentKeyframe[e]=Ka}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,s){e&&(this._previousKeyframe.easing=e);const r=s&&s.params||{},a=function(n,t){const e={};let i;return n.forEach(s=>{"*"===s?(i=i||Object.keys(t),i.forEach(r=>{e[r]=Ka})):tl(s,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(a).forEach(o=>{const l=Hb(a[o],r,i);this._pendingStyles[o]=l,this._localTimelineStyles.hasOwnProperty(o)||(this._backFill[o]=this._globalTimelineStyles.hasOwnProperty(o)?this._globalTimelineStyles[o]:Ka),this._updateStyle(o,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],s=t._styleSummary[e];(!i||s.time>i.time)&&this._updateStyle(e,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((o,l)=>{const h=tl(o,!0);Object.keys(h).forEach(d=>{const m=h[d];"!"==m?t.add(d):m==Ka&&e.add(d)}),i||(h.offset=l/this.duration),s.push(h)});const r=t.size?qb(t.values()):[],a=e.size?qb(e.values()):[];if(i){const o=s[0],l=qh(o);o.offset=0,l.offset=1,s=[o,l]}return LI(this.element,s,r,a,this.duration,this.startTime,this.easing,!1)}}class _ne extends Qb{constructor(t,e,i,s,r,a,o=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],a=i+e,o=e/a,l=tl(t[0],!1);l.offset=0,r.push(l);const h=tl(t[0],!1);h.offset=aH(o),r.push(h);const d=t.length-1;for(let m=1;m<=d;m++){let y=tl(t[m],!1);y.offset=aH((e+y.offset*i)/a),r.push(y)}i=a,e=0,s="",t=r}return LI(this.element,t,this.preStyleProps,this.postStyleProps,i,e,s,!0)}}function aH(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class VI{}class Sne extends VI{normalizePropertyName(t,e){return RI(t)}normalizeStyleValue(t,e,i,s){let r="";const a=i.toString().trim();if(wne[e]&&0!==i&&"0"!==i)if("number"==typeof i)r="px";else{const o=i.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&0==o[1].length&&s.push(`Please provide a CSS unit value for ${t}:${i}`)}return a+r}}const wne=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function oH(n,t,e,i,s,r,a,o,l,h,d,m,y){return{type:0,element:n,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:r,toState:i,toStyles:a,timelines:o,queriedElements:l,preStyleProps:h,postStyleProps:d,totalTime:m,errors:y}}const FI={};class lH{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,s){return function(n,t,e,i,s){return n.some(r=>r(t,e,i,s))}(this.ast.matchers,t,e,i,s)}buildStyles(t,e,i){const s=this._stateStyles["*"],r=this._stateStyles[t],a=s?s.buildStyles(e,i):{};return r?r.buildStyles(e,i):a}build(t,e,i,s,r,a,o,l,h,d){const m=[],y=this.ast.options&&this.ast.options.params||FI,k=this.buildStyles(i,o&&o.params||FI,m),T=l&&l.params||FI,D=this.buildStyles(s,T,m),N=new Set,I=new Map,U=new Map,O="void"===s,G={params:Object.assign(Object.assign({},y),T)},Y=d?[]:BI(t,e,this.ast.animation,r,a,k,D,G,h,m);let oe=0;if(Y.forEach(ve=>{oe=Math.max(ve.duration+ve.delay,oe)}),m.length)return oH(e,this._triggerName,i,s,O,k,D,[],[],I,U,oe,m);Y.forEach(ve=>{const Le=ve.element,ct=ps(I,Le,{});ve.preStyleProps.forEach(st=>ct[st]=!0);const Je=ps(U,Le,{});ve.postStyleProps.forEach(st=>Je[st]=!0),Le!==e&&N.add(Le)});const pe=qb(N.values());return oH(e,this._triggerName,i,s,O,k,D,Y,pe,I,U,oe)}}class Cne{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},s=qh(this.defaultParams);return Object.keys(t).forEach(r=>{const a=t[r];null!=a&&(s[r]=a)}),this.styles.styles.forEach(r=>{if("string"!=typeof r){const a=r;Object.keys(a).forEach(o=>{let l=a[o];l.length>1&&(l=Hb(l,s,e));const h=this.normalizer.normalizePropertyName(o,e);l=this.normalizer.normalizeStyleValue(o,h,l,e),i[h]=l})}}),i}}class Pne{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(s=>{this.states[s.name]=new Cne(s.style,s.options&&s.options.params||{},i)}),cH(this.states,"true","1"),cH(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new lH(t,s,this.states))}),this.fallbackTransition=function(n,t,e){return new lH(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,o)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,s){return this.transitionFactories.find(a=>a.match(t,e,i,s))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function cH(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const Tne=new zb;class xne{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=OI(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=s}_buildPlayer(t,e,i){const s=t.element,r=q4(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(s,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const s=[],r=this._animations[t];let a;const o=new Map;if(r?(a=BI(this._driver,e,r,DI,Bb,{},{},i,Tne,s),a.forEach(d=>{const m=ps(o,d.element,{});d.postStyleProps.forEach(y=>m[y]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),a=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);o.forEach((d,m)=>{Object.keys(d).forEach(y=>{d[y]=this._driver.computeStyle(m,y,Ka)})});const h=el(a.map(d=>{const m=o.get(d.element);return this._buildPlayer(d,{},m)}));return this._playersById[t]=h,h.onDestroy(()=>this.destroy(t)),this.players.push(h),h}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,s){const r=bI(e,"","","");return yI(this._getPlayer(t),i,r,s),()=>{}}command(t,e,i,s){if("register"==i)return void this.register(t,s[0]);if("create"==i)return void this.create(t,e,s[0]||{});const r=this._getPlayer(t);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const uH="ng-animate-queued",hH="ng-animate-disabled",dH=".ng-animate-disabled",One=[],fH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Nne={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ks="__ng_removed";class HI{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(i?t.value:t),i){const r=qh(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(s=>{null==i[s]&&(i[s]=e[s])})}}}const dg="void",qI=new HI(dg);class Lne{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Qs(e,this._hostClassName)}listen(t,e,i,s){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const r=ps(this._elementListeners,t,[]),a={name:e,phase:i,callback:s};r.push(a);const o=ps(this._engine.statesByElement,t,{});return o.hasOwnProperty(e)||(Qs(t,$b),Qs(t,$b+"-"+e),o[e]=qI),()=>{this._engine.afterFlush(()=>{const l=r.indexOf(a);l>=0&&r.splice(l,1),this._triggers[e]||delete o[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,s=!0){const r=this._getTrigger(e),a=new UI(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Qs(t,$b),Qs(t,$b+"-"+e),this._engine.statesByElement.set(t,o={}));let l=o[e];const h=new HI(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&h.absorbOptions(l.options),o[e]=h,l||(l=qI),h.value!==dg&&l.value===h.value){if(!function(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let s=0;s<e.length;s++){const r=e[s];if(!t.hasOwnProperty(r)||n[r]!==t[r])return!1}return!0}(l.params,h.params)){const T=[],D=r.matchStyles(l.value,l.params,T),N=r.matchStyles(h.value,h.params,T);T.length?this._engine.reportError(T):this._engine.afterFlush(()=>{Pc(t,D),Jr(t,N)})}return}const y=ps(this._engine.playersByElement,t,[]);y.forEach(T=>{T.namespaceId==this.id&&T.triggerName==e&&T.queued&&T.destroy()});let S=r.matchTransition(l.value,h.value,t,h.params),k=!1;if(!S){if(!s)return;S=r.fallbackTransition,k=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:S,fromState:l,toState:h,player:a,isFallbackTransition:k}),k||(Qs(t,uH),a.onStart(()=>{Uh(t,uH)})),a.onDone(()=>{let T=this.players.indexOf(a);T>=0&&this.players.splice(T,1);const D=this._engine.playersByElement.get(t);if(D){let N=D.indexOf(a);N>=0&&D.splice(N,1)}}),this.players.push(a),y.push(a),a}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Vb,!0);i.forEach(s=>{if(s[Ks])return;const r=this._engine.fetchNamespacesByElement(s);r.size?r.forEach(a=>a.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,i,s){const r=this._engine.statesByElement.get(t);if(r){const a=[];if(Object.keys(r).forEach(o=>{if(this._triggers[o]){const l=this.trigger(t,o,dg,s);l&&a.push(l)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&el(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const s=new Set;e.forEach(r=>{const a=r.name;if(s.has(a))return;s.add(a);const l=this._triggers[a].fallbackTransition,h=i[a]||qI,d=new HI(dg),m=new UI(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:l,fromState:h,toState:d,player:m,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(i.totalAnimations){const r=i.players.length?i.playersByQueriedElement.get(t):[];if(r&&r.length)s=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)i.markElementAsRemoved(this.id,t,!1,e);else{const r=t[Ks];(!r||r===fH)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Qs(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const r=i.element,a=this._elementListeners.get(r);a&&a.forEach(o=>{if(o.name==i.triggerName){const l=bI(r,i.triggerName,i.fromState.value,i.toState.value);l._data=t,yI(i.player,o.phase,l,o.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(i)}),this._queue=[],e.sort((i,s)=>{const r=i.transition.ast.depCount,a=s.transition.ast.depCount;return 0==r||0==a?r-a:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Bne{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,r)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Lne(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let s=!1;for(let r=i;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),s=!0;break}s||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let s=this._namespaceLookup[t];s&&s.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const s=Object.keys(i);for(let r=0;r<s.length;r++){const a=i[s[r]].namespaceId;if(a){const o=this._fetchNamespace(a);o&&e.add(o)}}}return e}trigger(t,e,i,s){if(Yb(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,i,s),!0}return!1}insertNode(t,e,i,s){if(!Yb(e))return;const r=e[Ks];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Qs(t,hH)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Uh(t,hH))}removeNode(t,e,i,s){if(Yb(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,i,s){this.collectedLeaveElements.push(e),e[Ks]={namespaceId:t,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,s,r){return Yb(e)?this._fetchNamespace(t).listen(e,i,s,r):()=>{}}_buildInstruction(t,e,i,s,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,s,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,Vb,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,TI,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return el(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ks];if(e&&e.setForRemoval){if(t[Ks]=fH,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,dH)&&this.markElementAsDisabled(t,!1),this.driver.query(t,dH,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Qs(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?el(e).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new zb,s=[],r=new Map,a=[],o=new Map,l=new Map,h=new Map,d=new Set;this.disabledNodes.forEach(X=>{d.add(X);const re=this.driver.query(X,".ng-animate-queued",!0);for(let ye=0;ye<re.length;ye++)d.add(re[ye])});const m=this.bodyNode,y=Array.from(this.statesByElement.keys()),S=mH(y,this.collectedEnterElements),k=new Map;let T=0;S.forEach((X,re)=>{const ye=DI+T++;k.set(re,ye),X.forEach(Ie=>Qs(Ie,ye))});const D=[],N=new Set,I=new Set;for(let X=0;X<this.collectedLeaveElements.length;X++){const re=this.collectedLeaveElements[X],ye=re[Ks];ye&&ye.setForRemoval&&(D.push(re),N.add(re),ye.hasAnimation?this.driver.query(re,".ng-star-inserted",!0).forEach(Ie=>N.add(Ie)):I.add(re))}const U=new Map,O=mH(y,Array.from(N));O.forEach((X,re)=>{const ye=Bb+T++;U.set(re,ye),X.forEach(Ie=>Qs(Ie,ye))}),t.push(()=>{S.forEach((X,re)=>{const ye=k.get(re);X.forEach(Ie=>Uh(Ie,ye))}),O.forEach((X,re)=>{const ye=U.get(re);X.forEach(Ie=>Uh(Ie,ye))}),D.forEach(X=>{this.processLeaveNode(X)})});const G=[],Y=[];for(let X=this._namespaceList.length-1;X>=0;X--)this._namespaceList[X].drainQueuedTransitions(e).forEach(ye=>{const Ie=ye.player,$t=ye.element;if(G.push(Ie),this.collectedEnterElements.length){const Ai=$t[Ks];if(Ai&&Ai.setForMove)return void Ie.destroy()}const Ki=!m||!this.driver.containsElement(m,$t),si=U.get($t),hn=k.get($t),gt=this._buildInstruction(ye,i,hn,si,Ki);if(gt.errors&&gt.errors.length)Y.push(gt);else{if(Ki)return Ie.onStart(()=>Pc($t,gt.fromStyles)),Ie.onDestroy(()=>Jr($t,gt.toStyles)),void s.push(Ie);if(ye.isFallbackTransition)return Ie.onStart(()=>Pc($t,gt.fromStyles)),Ie.onDestroy(()=>Jr($t,gt.toStyles)),void s.push(Ie);gt.timelines.forEach(Ai=>Ai.stretchStartingKeyframe=!0),i.append($t,gt.timelines),a.push({instruction:gt,player:Ie,element:$t}),gt.queriedElements.forEach(Ai=>ps(o,Ai,[]).push(Ie)),gt.preStyleProps.forEach((Ai,vs)=>{const Nn=Object.keys(Ai);if(Nn.length){let Jn=l.get(vs);Jn||l.set(vs,Jn=new Set),Nn.forEach(il=>Jn.add(il))}}),gt.postStyleProps.forEach((Ai,vs)=>{const Nn=Object.keys(Ai);let Jn=h.get(vs);Jn||h.set(vs,Jn=new Set),Nn.forEach(il=>Jn.add(il))})}});if(Y.length){const X=[];Y.forEach(re=>{X.push(`@${re.triggerName} has failed due to:\n`),re.errors.forEach(ye=>X.push(`- ${ye}\n`))}),G.forEach(re=>re.destroy()),this.reportError(X)}const oe=new Map,pe=new Map;a.forEach(X=>{const re=X.element;i.has(re)&&(pe.set(re,re),this._beforeAnimationBuild(X.player.namespaceId,X.instruction,oe))}),s.forEach(X=>{const re=X.element;this._getPreviousPlayers(re,!1,X.namespaceId,X.triggerName,null).forEach(Ie=>{ps(oe,re,[]).push(Ie),Ie.destroy()})});const ve=D.filter(X=>yH(X,l,h)),Le=new Map;gH(Le,this.driver,I,h,Ka).forEach(X=>{yH(X,l,h)&&ve.push(X)});const Je=new Map;S.forEach((X,re)=>{gH(Je,this.driver,new Set(X),l,"!")}),ve.forEach(X=>{const re=Le.get(X),ye=Je.get(X);Le.set(X,Object.assign(Object.assign({},re),ye))});const st=[],ui=[],hi={};a.forEach(X=>{const{element:re,player:ye,instruction:Ie}=X;if(i.has(re)){if(d.has(re))return ye.onDestroy(()=>Jr(re,Ie.toStyles)),ye.disabled=!0,ye.overrideTotalTime(Ie.totalTime),void s.push(ye);let $t=hi;if(pe.size>1){let si=re;const hn=[];for(;si=si.parentNode;){const gt=pe.get(si);if(gt){$t=gt;break}hn.push(si)}hn.forEach(gt=>pe.set(gt,$t))}const Ki=this._buildAnimation(ye.namespaceId,Ie,oe,r,Je,Le);if(ye.setRealPlayer(Ki),$t===hi)st.push(ye);else{const si=this.playersByElement.get($t);si&&si.length&&(ye.parentPlayer=el(si)),s.push(ye)}}else Pc(re,Ie.fromStyles),ye.onDestroy(()=>Jr(re,Ie.toStyles)),ui.push(ye),d.has(re)&&s.push(ye)}),ui.forEach(X=>{const re=r.get(X.element);if(re&&re.length){const ye=el(re);X.setRealPlayer(ye)}}),s.forEach(X=>{X.parentPlayer?X.syncPlayerEvents(X.parentPlayer):X.destroy()});for(let X=0;X<D.length;X++){const re=D[X],ye=re[Ks];if(Uh(re,Bb),ye&&ye.hasAnimation)continue;let Ie=[];if(o.size){let Ki=o.get(re);Ki&&Ki.length&&Ie.push(...Ki);let si=this.driver.query(re,TI,!0);for(let hn=0;hn<si.length;hn++){let gt=o.get(si[hn]);gt&&gt.length&&Ie.push(...gt)}}const $t=Ie.filter(Ki=>!Ki.destroyed);$t.length?Hne(this,re,$t):this.processLeaveNode(re)}return D.length=0,st.forEach(X=>{this.players.push(X),X.onDone(()=>{X.destroy();const re=this.players.indexOf(X);this.players.splice(re,1)}),X.play()}),st}elementContainsData(t,e){let i=!1;const s=e[Ks];return s&&s.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,s,r){let a=[];if(e){const o=this.playersByQueriedElement.get(t);o&&(a=o)}else{const o=this.playersByElement.get(t);if(o){const l=!r||r==dg;o.forEach(h=>{h.queued||!l&&h.triggerName!=s||a.push(h)})}}return(i||s)&&(a=a.filter(o=>!(i&&i!=o.namespaceId||s&&s!=o.triggerName))),a}_beforeAnimationBuild(t,e,i){const r=e.element,a=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const h=l.element,d=h!==r,m=ps(i,h,[]);this._getPreviousPlayers(h,d,a,o,e.toState).forEach(S=>{const k=S.getRealPlayer();k.beforeDestroy&&k.beforeDestroy(),S.destroy(),m.push(S)})}Pc(r,e.fromStyles)}_buildAnimation(t,e,i,s,r,a){const o=e.triggerName,l=e.element,h=[],d=new Set,m=new Set,y=e.timelines.map(k=>{const T=k.element;d.add(T);const D=T[Ks];if(D&&D.removedBeforeQueried)return new Hh(k.duration,k.delay);const N=T!==l,I=function(n){const t=[];return vH(n,t),t}((i.get(T)||One).map(oe=>oe.getRealPlayer())).filter(oe=>!!oe.element&&oe.element===T),U=r.get(T),O=a.get(T),G=q4(0,this._normalizer,0,k.keyframes,U,O),Y=this._buildPlayer(k,G,I);if(k.subTimeline&&s&&m.add(T),N){const oe=new UI(t,o,T);oe.setRealPlayer(Y),h.push(oe)}return Y});h.forEach(k=>{ps(this.playersByQueriedElement,k.element,[]).push(k),k.onDone(()=>function(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,k.element,k))}),d.forEach(k=>Qs(k,Y4));const S=el(y);return S.onDestroy(()=>{d.forEach(k=>Uh(k,Y4)),Jr(l,e.toStyles)}),m.forEach(k=>{ps(s,k,[]).push(S)}),S}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Hh(t.duration,t.delay)}}class UI{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Hh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>yI(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ps(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Yb(n){return n&&1===n.nodeType}function pH(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function gH(n,t,e,i,s){const r=[];e.forEach(l=>r.push(pH(l)));const a=[];i.forEach((l,h)=>{const d={};l.forEach(m=>{const y=d[m]=t.computeStyle(h,m,s);(!y||0==y.length)&&(h[Ks]=Nne,a.push(h))}),n.set(h,d)});let o=0;return e.forEach(l=>pH(l,r[o++])),a}function mH(n,t){const e=new Map;if(n.forEach(o=>e.set(o,[])),0==t.length)return e;const s=new Set(t),r=new Map;function a(o){if(!o)return 1;let l=r.get(o);if(l)return l;const h=o.parentNode;return l=e.has(h)?h:s.has(h)?1:a(h),r.set(o,l),l}return t.forEach(o=>{const l=a(o);1!==l&&e.get(l).push(o)}),e}const Jb="$$classes";function Qs(n,t){if(n.classList)n.classList.add(t);else{let e=n[Jb];e||(e=n[Jb]={}),e[t]=!0}}function Uh(n,t){if(n.classList)n.classList.remove(t);else{let e=n[Jb];e&&delete e[t]}}function Hne(n,t,e){el(e).onDone(()=>n.processLeaveNode(t))}function vH(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof P4?vH(i.players,t):t.push(i)}}function yH(n,t,e){const i=e.get(n);if(!i)return!1;let s=t.get(n);return s?i.forEach(r=>s.add(r)):t.set(n,i),e.delete(n),!0}class Zb{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,r)=>{},this._transitionEngine=new Bne(t,e,i),this._timelineEngine=new xne(t,e,i),this._transitionEngine.onRemovalComplete=(s,r)=>this.onRemovalComplete(s,r)}registerTrigger(t,e,i,s,r){const a=t+"-"+s;let o=this._triggerCache[a];if(!o){const l=[],h=OI(this._driver,r,l);if(l.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);o=function(n,t,e){return new Pne(n,t,e)}(s,h,this._normalizer),this._triggerCache[a]=o}this._transitionEngine.registerTrigger(e,s,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,s){this._transitionEngine.insertNode(t,e,i,s)}onRemove(t,e,i,s){this._transitionEngine.removeNode(t,e,s||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,s){if("@"==i.charAt(0)){const[r,a]=U4(i);this._timelineEngine.command(r,e,a,s)}else this._transitionEngine.trigger(t,e,i,s)}listen(t,e,i,s,r){if("@"==i.charAt(0)){const[a,o]=U4(i);return this._timelineEngine.listen(a,e,o,r)}return this._transitionEngine.listen(t,e,i,s,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function _H(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=GI(t[0]),t.length>1&&(i=GI(t[t.length-1]))):t&&(e=GI(t)),e||i?new Gne(n,e,i):null}let Gne=(()=>{class n{constructor(e,i,s){this._element=e,this._startStyles=i,this._endStyles=s,this._state=0;let r=n.initialStylesByElement.get(e);r||n.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Jr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Jr(this._element,this._initialStyles),this._endStyles&&(Jr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Pc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Pc(this._element,this._endStyles),this._endStyles=null),Jr(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function GI(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const s=e[i];jne(s)&&(t=t||{},t[s]=n[s])}return t}function jne(n){return"display"===n||"position"===n}const bH="animation",SH="animationend";class Kne{constructor(t,e,i,s,r,a,o){this._element=t,this._name=e,this._duration=i,this._delay=s,this._easing=r,this._fillMode=a,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function(n,t){const e=WI(n,"").trim();let i=0;e.length&&(function(n,t){let e=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),Xb(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),kH(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){wH(this._element,this._name,"paused")}resume(){wH(this._element,this._name,"running")}setPosition(t){const e=EH(this._element,this._name);this._position=t*this._duration,Xb(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),kH(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const i=WI(n,"").split(","),s=jI(i,t);s>=0&&(i.splice(s,1),Xb(n,"",i.join(",")))}(this._element,this._name))}}function wH(n,t,e){Xb(n,"PlayState",e,EH(n,t))}function EH(n,t){const e=WI(n,"");return e.indexOf(",")>0?jI(e.split(","),t):jI([e],t)}function jI(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function kH(n,t,e){e?n.removeEventListener(SH,t):n.addEventListener(SH,t)}function Xb(n,t,e,i){const s=bH+t;if(null!=i){const r=n.style[s];if(r.length){const a=r.split(",");a[i]=e,e=a.join(",")}}n.style[s]=e}function WI(n,t){return n.style[bH+t]||""}class CH{constructor(t,e,i,s,r,a,o,l){this.element=t,this.keyframes=e,this.animationName=i,this._duration=s,this._delay=r,this._finalStyles=o,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=s+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Kne(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:II(this.element,i))})}this.currentSnapshot=t}}class ese extends Hh{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=z4(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class PH{constructor(){this._count=0}validateStyleProperty(t){return EI(t)}matchesElement(t,e){return kI(t,e)}containsElement(t,e){return CI(t,e)}query(t,e,i){return AI(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(o=>z4(o));let s=`@keyframes ${e} {\n`,r="";i.forEach(o=>{r=" ";const l=parseFloat(o.offset);s+=`${r}${100*l}% {\n`,r+=" ",Object.keys(o).forEach(h=>{const d=o[h];switch(h){case"offset":return;case"easing":return void(d&&(s+=`${r}animation-timing-function: ${d};\n`));default:return void(s+=`${r}${h}: ${d};\n`)}}),s+=`${r}}\n`}),s+="}\n";const a=document.createElement("style");return a.textContent=s,a}animate(t,e,i,s,r,a=[],o){const l=a.filter(D=>D instanceof CH),h={};tH(i,s)&&l.forEach(D=>{let N=D.currentSnapshot;Object.keys(N).forEach(I=>h[I]=N[I])});const d=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(s=>{"offset"==s||"easing"==s||(t[s]=i[s])})}),t}(e=iH(t,e,h));if(0==i)return new ese(t,d);const m="gen_css_kf_"+this._count++,y=this.buildKeyframeElement(t,m,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(y);const k=_H(t,e),T=new CH(t,e,m,i,s,r,d,k);return T.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(y)),T}}class TH{constructor(t,e,i,s){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:II(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class rse{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(xH().toString()),this._cssKeyframesDriver=new PH}validateStyleProperty(t){return EI(t)}matchesElement(t,e){return kI(t,e)}containsElement(t,e){return CI(t,e)}query(t,e,i){return AI(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,s,r,a=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,s,r,a);const d={duration:i,delay:s,fill:0==s?"both":"forwards"};r&&(d.easing=r);const m={},y=a.filter(k=>k instanceof TH);tH(i,s)&&y.forEach(k=>{let T=k.currentSnapshot;Object.keys(T).forEach(D=>m[D]=T[D])});const S=_H(t,e=iH(t,e=e.map(k=>tl(k,!1)),m));return new TH(t,e,d,S)}}function xH(){return H4()&&Element.prototype.animate||{}}let ose=(()=>{class n extends E4{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Kt.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?k4(e):e;return MH(this._renderer,null,i,"register",[s]),new lse(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(H(ec),H(Xe))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();class lse extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new cse(this._id,t,e||{},this._renderer)}}class cse{constructor(t,e,i,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return MH(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function MH(n,t,e,i,s){return n.setProperty(t,`@@${e}:${i}`,s)}const RH="@.disabled";let use=(()=>{class n{constructor(e,i,s){this.delegate=e,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(r,a)=>{a&&a.parentNode(r)&&a.removeChild(r.parentNode,r)}}createRenderer(e,i){const r=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let d=this._rendererCache.get(r);return d||(d=new IH("",r,this.engine),this._rendererCache.set(r,d)),d}const a=i.id,o=i.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);const l=d=>{Array.isArray(d)?d.forEach(l):this.engine.registerTrigger(a,o,e,d.name,d)};return i.data.animation.forEach(l),new hse(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,s){e>=0&&e<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(r=>{const[a,o]=r;a(o)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(H(ec),H(Zb),H(ze))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();class IH{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,s=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,s){this.delegate.setAttribute(t,e,i,s)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,s){this.delegate.setStyle(t,e,i,s)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==RH?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class hse extends IH{constructor(t,e,i,s){super(e,i,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==RH?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const s=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let r=e.substr(1),a="";return"@"!=r.charAt(0)&&([r,a]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(r)),this.engine.listen(this.namespaceId,s,r,a,o=>{this.factory.scheduleListenerCallback(o._data||-1,i,o)})}return this.delegate.listen(t,e,i)}}let pse=(()=>{class n extends Zb{constructor(e,i,s){super(e.body,i,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(H(Xe),H(PI),H(VI))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const OH=new be("AnimationModuleType"),NH=[{provide:E4,useClass:ose},{provide:VI,useFactory:function(){return new Sne}},{provide:Zb,useClass:pse},{provide:ec,useFactory:function(n,t,e){return new use(n,t,e)},deps:[Zy,Zb,ze]}],LH=[{provide:PI,useFactory:function(){return"function"==typeof xH()?new rse:new PH}},{provide:OH,useValue:"BrowserAnimations"},...NH],BH=[{provide:PI,useClass:K4},{provide:OH,useValue:"NoopAnimations"},...NH];let yse=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?BH:LH}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=Gt({providers:LH,imports:[N0]}),n})(),_se=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Xt({type:n,bootstrap:[Kie]}),n.\u0275inj=Gt({providers:[],imports:[[N0,H9,o$,q9,yse,Bte,kie]]}),n})();(function(){if(dB)throw new Error("Cannot enable prod mode after platform setup.");hB=!1})(),GW().bootstrapModule(_se).catch(n=>console.error(n))}},Wt=>{Wt(Wt.s=649)}]);