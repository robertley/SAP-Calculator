var cge=Object.defineProperty,uge=Object.defineProperties,hge=Object.getOwnPropertyDescriptors,uj=Object.getOwnPropertySymbols,dge=Object.prototype.hasOwnProperty,gge=Object.prototype.propertyIsEnumerable,hj=(Ft,Tt,Ut)=>Tt in Ft?cge(Ft,Tt,{enumerable:!0,configurable:!0,writable:!0,value:Ut}):Ft[Tt]=Ut,on=(Ft,Tt)=>{for(var Ut in Tt||(Tt={}))dge.call(Tt,Ut)&&hj(Ft,Ut,Tt[Ut]);if(uj)for(var Ut of uj(Tt))gge.call(Tt,Ut)&&hj(Ft,Ut,Tt[Ut]);return Ft},jS=(Ft,Tt)=>uge(Ft,hge(Tt));(self.webpackChunksap_calculator=self.webpackChunksap_calculator||[]).push([[179],{255:Ft=>{function Tt(Ut){return Promise.resolve().then(()=>{var Wn=new Error("Cannot find module '"+Ut+"'");throw Wn.code="MODULE_NOT_FOUND",Wn})}Tt.keys=()=>[],Tt.resolve=Tt,Tt.id=255,Ft.exports=Tt},815:function(Ft,Tt,Ut){var Wn;Ft=Ut.nmd(Ft),function(){var R,Oi="Expected a function",el="__lodash_hash_undefined__",Jr="__lodash_placeholder__",ia=1/0,_r=9007199254740991,ds=4294967295,WS=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Ka="[object Arguments]",nl="[object Array]",Ya="[object Boolean]",sl="[object Date]",Qa="[object Error]",xc="[object Function]",vp="[object GeneratorFunction]",zn="[object Map]",rl="[object Number]",Dn="[object Object]",KS="[object Promise]",Mc="[object RegExp]",ji="[object Set]",na="[object String]",Rc="[object Symbol]",Ic="[object WeakMap]",Ja="[object ArrayBuffer]",wr="[object DataView]",Oc="[object Float32Array]",jh="[object Float64Array]",Wh="[object Int8Array]",zh="[object Int16Array]",Kh="[object Int32Array]",Yh="[object Uint8Array]",Sp="[object Uint8ClampedArray]",Qh="[object Uint16Array]",Jh="[object Uint32Array]",QS=/\b__p \+= '';/g,JS=/\b(__p \+=) '' \+/g,ZS=/(__e\(.*?\)|\b__t\)) \+\n'';/g,rt=/&(?:amp|lt|gt|quot|#39);/g,Nc=/[&<>"']/g,He=RegExp(rt.source),Zh=RegExp(Nc.source),XS=/<%-([\s\S]+?)%>/g,vt=/<%([\s\S]+?)%>/g,fe=/<%=([\s\S]+?)%>/g,_p=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rV=/^\w*$/,Ar=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wp=/[\\^$.*+?()[\]{}|]/g,Xh=RegExp(wp.source),Re=/^\s+/,Ni=/\s/,e_=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,aV=/\{\n\/\* \[wrapped with (.+)\] \*/,oV=/,? & /,Lc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,un=/[()=,{}\[\]\/\s]/,lV=/\\(\\)?/g,t_=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,i_=/\w*$/,Ws=/^[-+]0x[0-9a-f]+$/i,cV=/^0b[01]+$/i,uV=/^\[object .+?Constructor\]$/,hV=/^0o[0-7]+$/i,dV=/^(?:0|[1-9]\d*)$/,n_=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ed=/($^)/,s_=/['\n\r\u2028\u2029\\]/g,td="\\ud800-\\udfff",r_="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",a_="\\u2700-\\u27bf",ue="a-z\\xdf-\\xf6\\xf8-\\xff",Ep="A-Z\\xc0-\\xd6\\xd8-\\xde",Cp="\\ufe0e\\ufe0f",id="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",nd="["+td+"]",sd="["+id+"]",Bc="["+r_+"]",be="\\d+",rd="["+a_+"]",Pp="["+ue+"]",Ks="[^"+td+id+be+a_+ue+Ep+"]",$c="\\ud83c[\\udffb-\\udfff]",Ys="[^"+td+"]",Wi="(?:\\ud83c[\\udde6-\\uddff]){2}",Tp="[\\ud800-\\udbff][\\udc00-\\udfff]",al="["+Ep+"]",xp="(?:"+Pp+"|"+Ks+")",o_="(?:"+al+"|"+Ks+")",kp="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",l_="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",ot="(?:"+Bc+"|"+$c+")?",c_="["+Cp+"]?",ol=c_+ot+"(?:\\u200d(?:"+[Ys,Wi,Tp].join("|")+")"+c_+ot+")*",ad="(?:"+[rd,Wi,Tp].join("|")+")"+ol,od="(?:"+[Ys+Bc+"?",Bc,Wi,Tp,nd].join("|")+")",Dp=RegExp("['\u2019]","g"),u_=RegExp(Bc,"g"),Kn=RegExp($c+"(?="+$c+")|"+od+ol,"g"),ll=RegExp([al+"?"+Pp+"+"+kp+"(?="+[sd,al,"$"].join("|")+")",o_+"+"+l_+"(?="+[sd,al+xp,"$"].join("|")+")",al+"?"+xp+"+"+kp,al+"+"+l_,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",be,ad].join("|"),"g"),h_=RegExp("[\\u200d"+td+r_+Cp+"]"),Mn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,d_=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Mp=-1,Et={};Et[Oc]=Et[jh]=Et[Wh]=Et[zh]=Et[Kh]=Et[Yh]=Et[Sp]=Et[Qh]=Et[Jh]=!0,Et[Ka]=Et[nl]=Et[Ja]=Et[Ya]=Et[wr]=Et[sl]=Et[Qa]=Et[xc]=Et[zn]=Et[rl]=Et[Dn]=Et[Mc]=Et[ji]=Et[na]=Et[Ic]=!1;var St={};St[Ka]=St[nl]=St[Ja]=St[wr]=St[Ya]=St[sl]=St[Oc]=St[jh]=St[Wh]=St[zh]=St[Kh]=St[zn]=St[rl]=St[Dn]=St[Mc]=St[ji]=St[na]=St[Rc]=St[Yh]=St[Sp]=St[Qh]=St[Jh]=!0,St[Qa]=St[xc]=St[Ic]=!1;var he={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},zi=parseFloat,Si=parseInt,Qs="object"==typeof global&&global&&global.Object===Object&&global,sa="object"==typeof self&&self&&self.Object===Object&&self,ft=Qs||sa||Function("return this")(),Ip=Tt&&!Tt.nodeType&&Tt,_i=Ip&&Ft&&!Ft.nodeType&&Ft,ae=_i&&_i.exports===Ip,Ge=ae&&Qs.process,tt=function(){try{return _i&&_i.require&&_i.require("util").types||Ge&&Ge.binding&&Ge.binding("util")}catch(F){}}(),Ki=tt&&tt.isArrayBuffer,Er=tt&&tt.isDate,ti=tt&&tt.isMap,Cr=tt&&tt.isRegExp,Ot=tt&&tt.isSet,eo=tt&&tt.isTypedArray;function ai(L,F,H){switch(H.length){case 0:return L.call(F);case 1:return L.call(F,H[0]);case 2:return L.call(F,H[0],H[1]);case 3:return L.call(F,H[0],H[1],H[2])}return L.apply(F,H)}function Be(L,F,H,ce){for(var Ie=-1,lt=null==L?0:L.length;++Ie<lt;){var zt=L[Ie];F(ce,zt,H(zt),L)}return ce}function Li(L,F){for(var H=-1,ce=null==L?0:L.length;++H<ce&&!1!==F(L[H],H,L););return L}function to(L,F){for(var H=null==L?0:L.length;H--&&!1!==F(L[H],H,L););return L}function Vc(L,F){for(var H=-1,ce=null==L?0:L.length;++H<ce;)if(!F(L[H],H,L))return!1;return!0}function dn(L,F){for(var H=-1,ce=null==L?0:L.length,Ie=0,lt=[];++H<ce;){var zt=L[H];F(zt,H,L)&&(lt[Ie++]=zt)}return lt}function oi(L,F){return!(null==L||!L.length)&&Wt(L,F,0)>-1}function ra(L,F,H){for(var ce=-1,Ie=null==L?0:L.length;++ce<Ie;)if(H(F,L[ce]))return!0;return!1}function dt(L,F){for(var H=-1,ce=null==L?0:L.length,Ie=Array(ce);++H<ce;)Ie[H]=F(L[H],H,L);return Ie}function li(L,F){for(var H=-1,ce=F.length,Ie=L.length;++H<ce;)L[Ie+H]=F[H];return L}function pt(L,F,H,ce){var Ie=-1,lt=null==L?0:L.length;for(ce&&lt&&(H=L[++Ie]);++Ie<lt;)H=F(H,L[Ie],Ie,L);return H}function f_(L,F,H,ce){var Ie=null==L?0:L.length;for(ce&&Ie&&(H=L[--Ie]);Ie--;)H=F(H,L[Ie],Ie,L);return H}function ld(L,F){for(var H=-1,ce=null==L?0:L.length;++H<ce;)if(F(L[H],H,L))return!0;return!1}var qc=hl("length");function ul(L,F,H){var ce;return H(L,function(Ie,lt,zt){if(F(Ie,lt,zt))return ce=lt,!1}),ce}function gs(L,F,H,ce){for(var Ie=L.length,lt=H+(ce?1:-1);ce?lt--:++lt<Ie;)if(F(L[lt],lt,L))return lt;return-1}function Wt(L,F,H){return F==F?function(L,F,H){for(var ce=H-1,Ie=L.length;++ce<Ie;)if(L[ce]===F)return ce;return-1}(L,F,H):gs(L,Yn,H)}function p_(L,F,H,ce){for(var Ie=H-1,lt=L.length;++Ie<lt;)if(ce(L[Ie],F))return Ie;return-1}function Yn(L){return L!=L}function Rn(L,F){var H=null==L?0:L.length;return H?ud(L,F)/H:NaN}function hl(L){return function(F){return null==F?R:F[L]}}function io(L){return function(F){return null==L?R:L[F]}}function dl(L,F,H,ce,Ie){return Ie(L,function(lt,zt,Pt){H=ce?(ce=!1,lt):F(H,lt,zt,Pt)}),H}function ud(L,F){for(var H,ce=-1,Ie=L.length;++ce<Ie;){var lt=F(L[ce]);lt!==R&&(H=H===R?lt:H+lt)}return H}function Op(L,F){for(var H=-1,ce=Array(L);++H<L;)ce[H]=F(H);return ce}function Np(L){return L&&L.slice(0,gd(L)+1).replace(Re,"")}function In(L){return function(F){return L(F)}}function Lp(L,F){return dt(F,function(H){return L[H]})}function Hc(L,F){return L.has(F)}function y_(L,F){for(var H=-1,ce=L.length;++H<ce&&Wt(F,L[H],0)>-1;);return H}function v_(L,F){for(var H=L.length;H--&&Wt(F,L[H],0)>-1;);return H}function yV(L,F){for(var H=L.length,ce=0;H--;)L[H]===F&&++ce;return ce}var vV=io({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),bV=io({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function SV(L){return"\\"+he[L]}function gl(L){return h_.test(L)}function Bp(L){var F=-1,H=Array(L.size);return L.forEach(function(ce,Ie){H[++F]=[Ie,ce]}),H}function hd(L,F){return function(H){return L(F(H))}}function fs(L,F){for(var H=-1,ce=L.length,Ie=0,lt=[];++H<ce;){var zt=L[H];(zt===F||zt===Jr)&&(L[H]=Jr,lt[Ie++]=H)}return lt}function dd(L){var F=-1,H=Array(L.size);return L.forEach(function(ce){H[++F]=ce}),H}function oa(L){return gl(L)?function(L){for(var F=Kn.lastIndex=0;Kn.test(L);)++F;return F}(L):qc(L)}function Ct(L){return gl(L)?function(L){return L.match(Kn)||[]}(L):function(L){return L.split("")}(L)}function gd(L){for(var F=L.length;F--&&Ni.test(L.charAt(F)););return F}var b_=io({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),no=function L(F){var u,H=(F=null==F?ft:no.defaults(ft.Object(),F,no.pick(ft,d_))).Array,ce=F.Date,Ie=F.Error,lt=F.Function,zt=F.Math,Pt=F.Object,kt=F.RegExp,PV=F.String,gn=F.TypeError,Gc=H.prototype,so=Pt.prototype,fd=F["__core-js_shared__"],la=lt.prototype.toString,$e=so.hasOwnProperty,w_=0,Fc=(u=/[^.]+$/.exec(fd&&fd.keys&&fd.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"",Js=so.toString,fn=la.call(Pt),qp=ft._,pd=kt("^"+la.call($e).replace(wp,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Uc=ae?F.Buffer:R,Bi=F.Symbol,fl=F.Uint8Array,jc=Uc?Uc.allocUnsafe:R,Ce=hd(Pt.getPrototypeOf,Pt),A_=Pt.create,Hp=so.propertyIsEnumerable,Wc=Gc.splice,Gp=Bi?Bi.isConcatSpreadable:R,ro=Bi?Bi.iterator:R,ca=Bi?Bi.toStringTag:R,zc=function(){try{var u=ka(Pt,"defineProperty");return u({},"",{}),u}catch(h){}}(),Q=F.clearTimeout!==ft.clearTimeout&&F.clearTimeout,st=ce&&ce.now!==ft.Date.now&&ce.now,Dt=F.setTimeout!==ft.setTimeout&&F.setTimeout,Ht=zt.ceil,pl=zt.floor,ua=Pt.getOwnPropertySymbols,ps=Uc?Uc.isBuffer:R,Kc=F.isFinite,md=Gc.join,TV=hd(Pt.keys,Pt),ii=zt.max,ni=zt.min,Yc=ce.now,$i=F.parseInt,Jn=zt.random,Fp=Gc.reverse,Pr=ka(F,"DataView"),pn=ka(F,"Map"),yd=ka(F,"Promise"),ha=ka(F,"Set"),ml=ka(F,"WeakMap"),yl=ka(Pt,"create"),ao=ml&&new ml,Tr={},Up=Rr(Pr),vd=Rr(pn),E_=Rr(yd),jp=Rr(ha),Qc=Rr(ml),vl=Bi?Bi.prototype:R,oo=vl?vl.valueOf:R,bd=vl?vl.toString:R;function T(u){if($t(u)&&!me(u)&&!(u instanceof Ae)){if(u instanceof On)return u;if($e.call(u,"__wrapped__"))return tg(u)}return new On(u)}var Zs=function(){function u(){}return function(h){if(!Bt(h))return{};if(A_)return A_(h);u.prototype=h;var g=new u;return u.prototype=R,g}}();function Jc(){}function On(u,h){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!h,this.__index__=0,this.__values__=R}function Ae(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ds,this.__views__=[]}function da(u){var h=-1,g=null==u?0:u.length;for(this.clear();++h<g;){var v=u[h];this.set(v[0],v[1])}}function Nn(u){var h=-1,g=null==u?0:u.length;for(this.clear();++h<g;){var v=u[h];this.set(v[0],v[1])}}function mn(u){var h=-1,g=null==u?0:u.length;for(this.clear();++h<g;){var v=u[h];this.set(v[0],v[1])}}function ga(u){var h=-1,g=null==u?0:u.length;for(this.__data__=new mn;++h<g;)this.add(u[h])}function Yi(u){var h=this.__data__=new Nn(u);this.size=h.size}function fa(u,h){var g=me(u),v=!g&&_s(u),C=!g&&!v&&ws(u),k=!g&&!v&&!C&&Gl(u),M=g||v||C||k,O=M?Op(u.length,PV):[],B=O.length;for(var z in u)(h||$e.call(u,z))&&(!M||!("length"==z||C&&("offset"==z||"parent"==z)||k&&("buffer"==z||"byteLength"==z||"byteOffset"==z)||es(z,B)))&&O.push(z);return O}function Qp(u){var h=u.length;return h?u[Md(0,h-1)]:R}function lo(u,h){return bu(ci(u),Xs(h,0,u.length))}function Cd(u){return bu(ci(u))}function co(u,h,g){(g!==R&&!pe(u[h],g)||g===R&&!(h in u))&&yn(u,h,g)}function tu(u,h,g){var v=u[h];(!$e.call(u,h)||!pe(v,g)||g===R&&!(h in u))&&yn(u,h,g)}function Sl(u,h){for(var g=u.length;g--;)if(pe(u[g][0],h))return g;return-1}function Jp(u,h,g,v){return er(u,function(C,k,M){h(v,C,g(C),M)}),v}function Zp(u,h){return u&&si(h,pi(h),u)}function yn(u,h,g){"__proto__"==h&&zc?zc(u,h,{configurable:!0,enumerable:!0,value:g,writable:!0}):u[h]=g}function _l(u,h){for(var g=-1,v=h.length,C=H(v),k=null==u;++g<v;)C[g]=k?R:jl(u,h[g]);return C}function Xs(u,h,g){return u==u&&(g!==R&&(u=u<=g?u:g),h!==R&&(u=u>=h?u:h)),u}function Vi(u,h,g,v,C,k){var M,O=1&h,B=2&h,z=4&h;if(g&&(M=C?g(u,v,C,k):g(u)),M!==R)return M;if(!Bt(u))return u;var K=me(u);if(K){if(M=function(u){var h=u.length,g=new u.constructor(h);return h&&"string"==typeof u[0]&&$e.call(u,"index")&&(g.index=u.index,g.input=u.input),g}(u),!O)return ci(u,M)}else{var J=fi(u),re=J==xc||J==vp;if(ws(u))return hm(u,O);if(J==Dn||J==Ka||re&&!C){if(M=B||re?{}:mu(u),!O)return B?function(u,h){return si(u,wm(u),h)}(u,function(u,h){return u&&si(h,Gi(h),u)}(M,u)):function(u,h){return si(u,Ml(u),h)}(u,Zp(M,u))}else{if(!St[J])return C?u:{};M=function(u,h,g){var v=u.constructor;switch(h){case Ja:return G(u);case Ya:case sl:return new v(+u);case wr:return function(u,h){var g=h?G(u.buffer):u.buffer;return new u.constructor(g,u.byteOffset,u.byteLength)}(u,g);case Oc:case jh:case Wh:case zh:case Kh:case Yh:case Sp:case Qh:case Jh:return yo(u,g);case zn:return new v;case rl:case na:return new v(u);case Mc:return function(u){var h=new u.constructor(u.source,i_.exec(u));return h.lastIndex=u.lastIndex,h}(u);case ji:return new v;case Rc:return function(u){return oo?Pt(oo.call(u)):{}}(u)}}(u,J,O)}}k||(k=new Yi);var de=k.get(u);if(de)return de;k.set(u,M),zw(u)?u.forEach(function(Pe){M.add(Vi(Pe,h,g,Pe,u,k))}):Fw(u)&&u.forEach(function(Pe,je){M.set(je,Vi(Pe,h,g,je,u,k))});var Ue=K?R:(z?B?Fd:Gd:B?Gi:pi)(u);return Li(Ue||u,function(Pe,je){Ue&&(Pe=u[je=Pe]),tu(M,je,Vi(Pe,h,g,je,u,k))}),M}function Xp(u,h,g){var v=g.length;if(null==u)return!v;for(u=Pt(u);v--;){var C=g[v],M=u[C];if(M===R&&!(C in u)||!(0,h[C])(M))return!1}return!0}function Pd(u,h,g){if("function"!=typeof u)throw new gn(Oi);return So(function(){u.apply(R,g)},h)}function uo(u,h,g,v){var C=-1,k=oi,M=!0,O=u.length,B=[],z=h.length;if(!O)return B;g&&(h=dt(h,In(g))),v?(k=ra,M=!1):h.length>=200&&(k=Hc,M=!1,h=new ga(h));e:for(;++C<O;){var K=u[C],J=null==g?K:g(K);if(K=v||0!==K?K:0,M&&J==J){for(var re=z;re--;)if(h[re]===J)continue e;B.push(K)}else k(h,J,v)||B.push(K)}return B}T.templateSettings={escape:XS,evaluate:vt,interpolate:fe,variable:"",imports:{_:T}},(T.prototype=Jc.prototype).constructor=T,(On.prototype=Zs(Jc.prototype)).constructor=On,(Ae.prototype=Zs(Jc.prototype)).constructor=Ae,da.prototype.clear=function(){this.__data__=yl?yl(null):{},this.size=0},da.prototype.delete=function(u){var h=this.has(u)&&delete this.__data__[u];return this.size-=h?1:0,h},da.prototype.get=function(u){var h=this.__data__;if(yl){var g=h[u];return g===el?R:g}return $e.call(h,u)?h[u]:R},da.prototype.has=function(u){var h=this.__data__;return yl?h[u]!==R:$e.call(h,u)},da.prototype.set=function(u,h){var g=this.__data__;return this.size+=this.has(u)?0:1,g[u]=yl&&h===R?el:h,this},Nn.prototype.clear=function(){this.__data__=[],this.size=0},Nn.prototype.delete=function(u){var h=this.__data__,g=Sl(h,u);return!(g<0||(g==h.length-1?h.pop():Wc.call(h,g,1),--this.size,0))},Nn.prototype.get=function(u){var h=this.__data__,g=Sl(h,u);return g<0?R:h[g][1]},Nn.prototype.has=function(u){return Sl(this.__data__,u)>-1},Nn.prototype.set=function(u,h){var g=this.__data__,v=Sl(g,u);return v<0?(++this.size,g.push([u,h])):g[v][1]=h,this},mn.prototype.clear=function(){this.size=0,this.__data__={hash:new da,map:new(pn||Nn),string:new da}},mn.prototype.delete=function(u){var h=Dl(this,u).delete(u);return this.size-=h?1:0,h},mn.prototype.get=function(u){return Dl(this,u).get(u)},mn.prototype.has=function(u){return Dl(this,u).has(u)},mn.prototype.set=function(u,h){var g=Dl(this,u),v=g.size;return g.set(u,h),this.size+=g.size==v?0:1,this},ga.prototype.add=ga.prototype.push=function(u){return this.__data__.set(u,el),this},ga.prototype.has=function(u){return this.__data__.has(u)},Yi.prototype.clear=function(){this.__data__=new Nn,this.size=0},Yi.prototype.delete=function(u){var h=this.__data__,g=h.delete(u);return this.size=h.size,g},Yi.prototype.get=function(u){return this.__data__.get(u)},Yi.prototype.has=function(u){return this.__data__.has(u)},Yi.prototype.set=function(u,h){var g=this.__data__;if(g instanceof Nn){var v=g.__data__;if(!pn||v.length<199)return v.push([u,h]),this.size=++g.size,this;g=this.__data__=new mn(v)}return g.set(u,h),this.size=g.size,this};var er=hu(qi),Td=hu(Qi,!0);function I_(u,h){var g=!0;return er(u,function(v,C,k){return g=!!h(v,C,k)}),g}function nu(u,h,g){for(var v=-1,C=u.length;++v<C;){var k=u[v],M=h(k);if(null!=M&&(O===R?M==M&&!Hn(M):g(M,O)))var O=M,B=k}return B}function ho(u,h){var g=[];return er(u,function(v,C,k){h(v,C,k)&&g.push(v)}),g}function gi(u,h,g,v,C){var k=-1,M=u.length;for(g||(g=bo),C||(C=[]);++k<M;){var O=u[k];h>0&&g(O)?h>1?gi(O,h-1,g,v,C):li(C,O):v||(C[C.length]=O)}return C}var ru=Pl(),xd=Pl(!0);function qi(u,h){return u&&ru(u,h,pi)}function Qi(u,h){return u&&xd(u,h,pi)}function go(u,h){return dn(h,function(g){return qn(u[g])})}function tr(u,h){for(var g=0,v=(h=Aa(h,u)).length;null!=u&&g<v;)u=u[ts(h[g++])];return g&&g==v?u:R}function pa(u,h,g){var v=h(u);return me(u)?v:li(v,g(u))}function Zt(u){return null==u?u===R?"[object Undefined]":"[object Null]":ca&&ca in Pt(u)?function(u){var h=$e.call(u,ca),g=u[ca];try{u[ca]=R;var v=!0}catch(k){}var C=Js.call(u);return v&&(h?u[ca]=g:delete u[ca]),C}(u):function(u){return Js.call(u)}(u)}function Dr(u,h){return u>h}function wl(u,h){return null!=u&&$e.call(u,h)}function kd(u,h){return null!=u&&h in Pt(u)}function em(u,h,g){for(var v=g?ra:oi,C=u[0].length,k=u.length,M=k,O=H(k),B=1/0,z=[];M--;){var K=u[M];M&&h&&(K=dt(K,In(h))),B=ni(K.length,B),O[M]=!g&&(h||C>=120&&K.length>=120)?new ga(M&&K):R}K=u[0];var J=-1,re=O[0];e:for(;++J<C&&z.length<B;){var de=K[J],Ee=h?h(de):de;if(de=g||0!==de?de:0,!(re?Hc(re,Ee):v(z,Ee,g))){for(M=k;--M;){var Ue=O[M];if(!(Ue?Hc(Ue,Ee):v(u[M],Ee,g)))continue e}re&&re.push(Ee),z.push(de)}}return z}function Al(u,h,g){var v=null==(u=Dm(u,h=Aa(h,u)))?u:u[ts(Sn(h))];return null==v?R:ai(v,u,g)}function O_(u){return $t(u)&&Zt(u)==Ka}function au(u,h,g,v,C){return u===h||(null==u||null==h||!$t(u)&&!$t(h)?u!=u&&h!=h:function(u,h,g,v,C,k){var M=me(u),O=me(h),B=M?nl:fi(u),z=O?nl:fi(h),K=(B=B==Ka?Dn:B)==Dn,J=(z=z==Ka?Dn:z)==Dn,re=B==z;if(re&&ws(u)){if(!ws(h))return!1;M=!0,K=!1}if(re&&!K)return k||(k=new Yi),M||Gl(u)?Hd(u,h,g,v,C,k):function(u,h,g,v,C,k,M){switch(g){case wr:if(u.byteLength!=h.byteLength||u.byteOffset!=h.byteOffset)return!1;u=u.buffer,h=h.buffer;case Ja:return!(u.byteLength!=h.byteLength||!k(new fl(u),new fl(h)));case Ya:case sl:case rl:return pe(+u,+h);case Qa:return u.name==h.name&&u.message==h.message;case Mc:case na:return u==h+"";case zn:var O=Bp;case ji:if(O||(O=dd),u.size!=h.size&&!(1&v))return!1;var z=M.get(u);if(z)return z==h;v|=2,M.set(u,h);var K=Hd(O(u),O(h),v,C,k,M);return M.delete(u),K;case Rc:if(oo)return oo.call(u)==oo.call(h)}return!1}(u,h,B,g,v,C,k);if(!(1&g)){var de=K&&$e.call(u,"__wrapped__"),Ee=J&&$e.call(h,"__wrapped__");if(de||Ee){var Ue=de?u.value():u,Pe=Ee?h.value():h;return k||(k=new Yi),C(Ue,Pe,g,v,k)}}return!!re&&(k||(k=new Yi),function(u,h,g,v,C,k){var M=1&g,O=Gd(u),B=O.length;if(B!=Gd(h).length&&!M)return!1;for(var J=B;J--;){var re=O[J];if(!(M?re in h:$e.call(h,re)))return!1}var de=k.get(u),Ee=k.get(h);if(de&&Ee)return de==h&&Ee==u;var Ue=!0;k.set(u,h),k.set(h,u);for(var Pe=M;++J<B;){var je=u[re=O[J]],it=h[re];if(v)var en=M?v(it,je,re,h,u,k):v(je,it,re,u,h,k);if(!(en===R?je===it||C(je,it,g,v,k):en)){Ue=!1;break}Pe||(Pe="constructor"==re)}if(Ue&&!Pe){var Ci=u.constructor,Gn=h.constructor;Ci!=Gn&&"constructor"in u&&"constructor"in h&&!("function"==typeof Ci&&Ci instanceof Ci&&"function"==typeof Gn&&Gn instanceof Gn)&&(Ue=!1)}return k.delete(u),k.delete(h),Ue}(u,h,g,v,C,k))}(u,h,g,v,au,C))}function im(u,h,g,v){var C=g.length,k=C,M=!v;if(null==u)return!k;for(u=Pt(u);C--;){var O=g[C];if(M&&O[2]?O[1]!==u[O[0]]:!(O[0]in u))return!1}for(;++C<k;){var B=(O=g[C])[0],z=u[B],K=O[1];if(M&&O[2]){if(z===R&&!(B in u))return!1}else{var J=new Yi;if(v)var re=v(z,K,B,u,h,J);if(!(re===R?au(K,z,3,v,J):re))return!1}}return!0}function L_(u){return!(!Bt(u)||function(u){return!!Fc&&Fc in u}(u))&&(qn(u)?pd:uV).test(Rr(u))}function B_(u){return"function"==typeof u?u:null==u?Fi:"object"==typeof u?me(u)?ou(u[0],u[1]):Xt(u):Na(u)}function nm(u){if(!Il(u))return TV(u);var h=[];for(var g in Pt(u))$e.call(u,g)&&"constructor"!=g&&h.push(g);return h}function ya(u,h){return u<h}function $_(u,h){var g=-1,v=Zi(u)?H(u.length):[];return er(u,function(C,k,M){v[++g]=h(C,k,M)}),v}function Xt(u){var h=Ud(u);return 1==h.length&&h[0][2]?Pm(h[0][0],h[0][1]):function(g){return g===u||im(g,u,h)}}function ou(u,h){return Kd(u)&&Cm(h)?Pm(ts(u),h):function(g){var v=jl(g,u);return v===R&&v===h?Mu(g,u):au(h,v,3)}}function va(u,h,g,v,C){u!==h&&ru(h,function(k,M){if(C||(C=new Yi),Bt(k))!function(u,h,g,v,C,k,M){var O=yu(u,g),B=yu(h,g),z=M.get(B);if(z)co(u,g,z);else{var K=k?k(O,B,g+"",u,h,M):R,J=K===R;if(J){var re=me(B),de=!re&&ws(B),Ee=!re&&!de&&Gl(B);K=B,re||de||Ee?me(O)?K=O:Lt(O)?K=ci(O):de?(J=!1,K=hm(B,!0)):Ee?(J=!1,K=yo(B,!0)):K=[]:Du(B)||_s(B)?(K=O,_s(O)?K=my(O):(!Bt(O)||qn(O))&&(K=mu(B))):J=!1}J&&(M.set(B,K),C(K,B,v,k,M),M.delete(B)),co(u,g,K)}}(u,h,M,g,va,v,C);else{var O=v?v(yu(u,M),k,M+"",u,h,C):R;O===R&&(O=k),co(u,M,O)}},Gi)}function sm(u,h){var g=u.length;if(g)return es(h+=h<0?g:0,g)?u[h]:R}function vn(u,h,g){h=h.length?dt(h,function(k){return me(k)?function(M){return tr(M,1===k.length?k[0]:k)}:k}):[Fi];var v=-1;return h=dt(h,In(Se())),function(L,F){var H=L.length;for(L.sort(function(k,M){return function(u,h,g){for(var v=-1,C=u.criteria,k=h.criteria,M=C.length,O=g.length;++v<M;){var B=gm(C[v],k[v]);if(B)return v>=O?B:B*("desc"==g[v]?-1:1)}return u.index-h.index}(k,M,g)});H--;)L[H]=L[H].value;return L}($_(u,function(k,M,O){return{criteria:dt(h,function(z){return z(k)}),index:++v,value:k}}))}function El(u,h,g){for(var v=-1,C=h.length,k={};++v<C;){var M=h[v],O=tr(u,M);g(O,M)&&Sa(k,Aa(M,u),O)}return k}function ys(u,h,g,v){var C=v?p_:Wt,k=-1,M=h.length,O=u;for(u===h&&(h=ci(h)),g&&(O=dt(u,In(g)));++k<M;)for(var B=0,z=h[k],K=g?g(z):z;(B=C(O,K,B,v))>-1;)O!==u&&Wc.call(O,B,1),Wc.call(u,B,1);return u}function Dd(u,h){for(var g=u?h.length:0,v=g-1;g--;){var C=h[g];if(g==v||C!==k){var k=C;es(C)?Wc.call(u,C,1):cm(u,C)}}return u}function Md(u,h){return u+pl(Jn()*(h-u+1))}function rm(u,h){var g="";if(!u||h<1||h>_r)return g;do{h%2&&(g+=u),(h=pl(h/2))&&(u+=u)}while(h);return g}function Qe(u,h){return vu(km(u,h,Fi),u+"")}function am(u){return Qp(Po(u))}function bn(u,h){var g=Po(u);return bu(g,Xs(h,0,g.length))}function Sa(u,h,g,v){if(!Bt(u))return u;for(var C=-1,k=(h=Aa(h,u)).length,M=k-1,O=u;null!=O&&++C<k;){var B=ts(h[C]),z=g;if("__proto__"===B||"constructor"===B||"prototype"===B)return u;if(C!=M){var K=O[B];(z=v?v(K,B,O):R)===R&&(z=Bt(K)?K:es(h[C+1])?[]:{})}tu(O,B,z),O=O[B]}return u}var _a=ao?function(u,h){return ao.set(u,h),u}:Fi,BV=zc?function(u,h){return zc(u,"toString",{configurable:!0,enumerable:!1,value:Lg(h),writable:!0})}:Fi;function om(u){return bu(Po(u))}function Ln(u,h,g){var v=-1,C=u.length;h<0&&(h=-h>C?0:C+h),(g=g>C?C:g)<0&&(g+=C),C=h>g?0:g-h>>>0,h>>>=0;for(var k=H(C);++v<C;)k[v]=u[v+h];return k}function q_(u,h){var g;return er(u,function(v,C,k){return!(g=h(v,C,k))}),!!g}function lu(u,h,g){var v=0,C=null==u?v:u.length;if("number"==typeof h&&h==h&&C<=2147483647){for(;v<C;){var k=v+C>>>1,M=u[k];null!==M&&!Hn(M)&&(g?M<=h:M<h)?v=k+1:C=k}return C}return Rd(u,h,Fi,g)}function Rd(u,h,g,v){var C=0,k=null==u?0:u.length;if(0===k)return 0;for(var M=(h=g(h))!=h,O=null===h,B=Hn(h),z=h===R;C<k;){var K=pl((C+k)/2),J=g(u[K]),re=J!==R,de=null===J,Ee=J==J,Ue=Hn(J);if(M)var Pe=v||Ee;else Pe=z?Ee&&(v||re):O?Ee&&re&&(v||!de):B?Ee&&re&&!de&&(v||!Ue):!de&&!Ue&&(v?J<=h:J<h);Pe?C=K+1:k=K}return ni(k,4294967294)}function lm(u,h){for(var g=-1,v=u.length,C=0,k=[];++g<v;){var M=u[g],O=h?h(M):M;if(!g||!pe(O,B)){var B=O;k[C++]=0===M?0:M}}return k}function fo(u){return"number"==typeof u?u:Hn(u)?NaN:+u}function Hi(u){if("string"==typeof u)return u;if(me(u))return dt(u,Hi)+"";if(Hn(u))return bd?bd.call(u):"";var h=u+"";return"0"==h&&1/u==-ia?"-0":h}function Zn(u,h,g){var v=-1,C=oi,k=u.length,M=!0,O=[],B=O;if(g)M=!1,C=ra;else if(k>=200){var z=h?null:j_(u);if(z)return dd(z);M=!1,C=Hc,B=new ga}else B=h?[]:O;e:for(;++v<k;){var K=u[v],J=h?h(K):K;if(K=g||0!==K?K:0,M&&J==J){for(var re=B.length;re--;)if(B[re]===J)continue e;h&&B.push(J),O.push(K)}else C(B,J,g)||(B!==O&&B.push(J),O.push(K))}return O}function cm(u,h){return null==(u=Dm(u,h=Aa(h,u)))||delete u[ts(Sn(h))]}function po(u,h,g,v){return Sa(u,h,g(tr(u,h)),v)}function mo(u,h,g,v){for(var C=u.length,k=v?C:-1;(v?k--:++k<C)&&h(u[k],k,u););return g?Ln(u,v?0:k,v?k+1:C):Ln(u,v?k+1:0,v?C:k)}function wa(u,h){var g=u;return g instanceof Ae&&(g=g.value()),pt(h,function(v,C){return C.func.apply(C.thisArg,li([v],C.args))},g)}function Id(u,h,g){var v=u.length;if(v<2)return v?Zn(u[0]):[];for(var C=-1,k=H(v);++C<v;)for(var M=u[C],O=-1;++O<v;)O!=C&&(k[C]=uo(k[C]||M,u[O],h,g));return Zn(gi(k,1),h,g)}function um(u,h,g){for(var v=-1,C=u.length,k=h.length,M={};++v<C;)g(M,u[v],v<k?h[v]:R);return M}function Od(u){return Lt(u)?u:[]}function Cl(u){return"function"==typeof u?u:Fi}function Aa(u,h){return me(u)?u:Kd(u,h)?[u]:Xd(ct(u))}var Nd=Qe;function Bn(u,h,g){var v=u.length;return g=g===R?v:g,!h&&g>=v?u:Ln(u,h,g)}var Ea=Q||function(u){return ft.clearTimeout(u)};function hm(u,h){if(h)return u.slice();var g=u.length,v=jc?jc(g):new u.constructor(g);return u.copy(v),v}function G(u){var h=new u.constructor(u.byteLength);return new fl(h).set(new fl(u)),h}function yo(u,h){var g=h?G(u.buffer):u.buffer;return new u.constructor(g,u.byteOffset,u.length)}function gm(u,h){if(u!==h){var g=u!==R,v=null===u,C=u==u,k=Hn(u),M=h!==R,O=null===h,B=h==h,z=Hn(h);if(!O&&!z&&!k&&u>h||k&&M&&B&&!O&&!z||v&&M&&B||!g&&B||!C)return 1;if(!v&&!k&&!z&&u<h||z&&g&&C&&!v&&!k||O&&g&&C||!M&&C||!B)return-1}return 0}function Ld(u,h,g,v){for(var C=-1,k=u.length,M=g.length,O=-1,B=h.length,z=ii(k-M,0),K=H(B+z),J=!v;++O<B;)K[O]=h[O];for(;++C<M;)(J||C<k)&&(K[g[C]]=u[C]);for(;z--;)K[O++]=u[C++];return K}function G_(u,h,g,v){for(var C=-1,k=u.length,M=-1,O=g.length,B=-1,z=h.length,K=ii(k-O,0),J=H(K+z),re=!v;++C<K;)J[C]=u[C];for(var de=C;++B<z;)J[de+B]=h[B];for(;++M<O;)(re||C<k)&&(J[de+g[M]]=u[C++]);return J}function ci(u,h){var g=-1,v=u.length;for(h||(h=H(v));++g<v;)h[g]=u[g];return h}function si(u,h,g,v){var C=!g;g||(g={});for(var k=-1,M=h.length;++k<M;){var O=h[k],B=v?v(g[O],u[O],O,g,u):R;B===R&&(B=u[O]),C?yn(g,O,B):tu(g,O,B)}return g}function uu(u,h){return function(g,v){var C=me(g)?Be:Jp,k=h?h():{};return C(g,u,Se(v,2),k)}}function Ta(u){return Qe(function(h,g){var v=-1,C=g.length,k=C>1?g[C-1]:R,M=C>2?g[2]:R;for(k=u.length>3&&"function"==typeof k?(C--,k):R,M&&Ei(g[0],g[1],M)&&(k=C<3?R:k,C=1),h=Pt(h);++v<C;){var O=g[v];O&&u(h,O,v,k)}return h})}function hu(u,h){return function(g,v){if(null==g)return g;if(!Zi(g))return u(g,v);for(var C=g.length,k=h?C:-1,M=Pt(g);(h?k--:++k<C)&&!1!==v(M[k],k,M););return g}}function Pl(u){return function(h,g,v){for(var C=-1,k=Pt(h),M=v(h),O=M.length;O--;){var B=M[u?O:++C];if(!1===g(k[B],B,k))break}return h}}function mm(u){return function(h){var g=gl(h=ct(h))?Ct(h):R,v=g?g[0]:h.charAt(0),C=g?Bn(g,1).join(""):h.slice(1);return v[u]()+C}}function vo(u){return function(h){return pt(Og(Tg(h).replace(Dp,"")),u,"")}}function vs(u){return function(){var h=arguments;switch(h.length){case 0:return new u;case 1:return new u(h[0]);case 2:return new u(h[0],h[1]);case 3:return new u(h[0],h[1],h[2]);case 4:return new u(h[0],h[1],h[2],h[3]);case 5:return new u(h[0],h[1],h[2],h[3],h[4]);case 6:return new u(h[0],h[1],h[2],h[3],h[4],h[5]);case 7:return new u(h[0],h[1],h[2],h[3],h[4],h[5],h[6])}var g=Zs(u.prototype),v=u.apply(g,h);return Bt(v)?v:g}}function ym(u){return function(h,g,v){var C=Pt(h);if(!Zi(h)){var k=Se(g,3);h=pi(h),g=function(O){return k(C[O],O,C)}}var M=u(h,g,v);return M>-1?C[k?h[M]:M]:R}}function F_(u){return Xn(function(h){var g=h.length,v=g,C=On.prototype.thru;for(u&&h.reverse();v--;){var k=h[v];if("function"!=typeof k)throw new gn(Oi);if(C&&!M&&"wrapper"==pu(k))var M=new On([],!0)}for(v=M?v:g;++v<g;){var O=pu(k=h[v]),B="wrapper"==O?fu(k):R;M=B&&Qd(B[0])&&424==B[1]&&!B[4].length&&1==B[9]?M[pu(B[0])].apply(M,B[3]):1==k.length&&Qd(k)?M[O]():M.thru(k)}return function(){var z=arguments,K=z[0];if(M&&1==z.length&&me(K))return M.plant(K).value();for(var J=0,re=g?h[J].apply(this,z):K;++J<g;)re=h[J].call(this,re);return re}})}function xl(u,h,g,v,C,k,M,O,B,z){var K=128&h,J=1&h,re=2&h,de=24&h,Ee=512&h,Ue=re?R:vs(u);return function Pe(){for(var je=arguments.length,it=H(je),en=je;en--;)it[en]=arguments[en];if(de)var Ci=xa(Pe),Gn=yV(it,Ci);if(v&&(it=Ld(it,v,C,de)),k&&(it=G_(it,k,M,de)),je-=Gn,de&&je<z){var ut=fs(it,Ci);return Ji(u,h,xl,Pe.placeholder,g,it,ut,O,B,z-je)}var Cs=J?g:this,Lr=re?Cs[u]:u;return je=it.length,O?it=Mm(it,O):Ee&&je>1&&it.reverse(),K&&B<je&&(it.length=B),this&&this!==ft&&this instanceof Pe&&(Lr=Ue||vs(Lr)),Lr.apply(Cs,it)}}function vm(u,h){return function(g,v){return function(u,h,g,v){return qi(u,function(C,k,M){h(v,g(C),k,M)}),v}(g,u,h(v),{})}}function Bd(u,h){return function(g,v){var C;if(g===R&&v===R)return h;if(g!==R&&(C=g),v!==R){if(C===R)return v;"string"==typeof g||"string"==typeof v?(g=Hi(g),v=Hi(v)):(g=fo(g),v=fo(v)),C=u(g,v)}return C}}function $d(u){return Xn(function(h){return h=dt(h,In(Se())),Qe(function(g){var v=this;return u(h,function(C){return ai(C,v,g)})})})}function du(u,h){var g=(h=h===R?" ":Hi(h)).length;if(g<2)return g?rm(h,u):h;var v=rm(h,Ht(u/oa(h)));return gl(h)?Bn(Ct(v),0,u).join(""):v.slice(0,u)}function bm(u){return function(h,g,v){return v&&"number"!=typeof v&&Ei(h,g,v)&&(g=v=R),h=As(h),g===R?(g=h,h=0):g=As(g),function(u,h,g,v){for(var C=-1,k=ii(Ht((h-u)/(g||1)),0),M=H(k);k--;)M[v?k:++C]=u,u+=g;return M}(h,g,v=v===R?h<g?1:-1:As(v),u)}}function Vd(u){return function(h,g){return"string"==typeof h&&"string"==typeof g||(h=Xi(h),g=Xi(g)),u(h,g)}}function Ji(u,h,g,v,C,k,M,O,B,z){var K=8&h;h|=K?32:64,4&(h&=~(K?64:32))||(h&=-4);var Ue=[u,h,C,K?k:R,K?M:R,K?R:k,K?R:M,O,B,z],Pe=g.apply(R,Ue);return Qd(u)&&Mr(Pe,Ue),Pe.placeholder=v,Rm(Pe,u,h)}function qd(u){var h=zt[u];return function(g,v){if(g=Xi(g),(v=null==v?0:ni(Ne(v),292))&&Kc(g)){var C=(ct(g)+"e").split("e");return+((C=(ct(h(C[0]+"e"+(+C[1]+v)))+"e").split("e"))[0]+"e"+(+C[1]-v))}return h(g)}}var j_=ha&&1/dd(new ha([,-0]))[1]==ia?function(u){return new ha(u)}:Vg;function Sm(u){return function(h){var g=fi(h);return g==zn?Bp(h):g==ji?function(L){var F=-1,H=Array(L.size);return L.forEach(function(ce){H[++F]=[ce,ce]}),H}(h):function(L,F){return dt(F,function(H){return[H,L[H]]})}(h,u(h))}}function $n(u,h,g,v,C,k,M,O){var B=2&h;if(!B&&"function"!=typeof u)throw new gn(Oi);var z=v?v.length:0;if(z||(h&=-97,v=C=R),M=M===R?M:ii(Ne(M),0),O=O===R?O:Ne(O),z-=C?C.length:0,64&h){var K=v,J=C;v=C=R}var re=B?R:fu(u),de=[u,h,g,v,C,K,J,k,M,O];if(re&&function(u,h){var g=u[1],v=h[1],C=g|v;if(!(C<131||(128==v&&8==g||128==v&&256==g&&u[7].length<=h[8]||384==v&&h[7].length<=h[8]&&8==g)))return u;1&v&&(u[2]=h[2],C|=1&g?0:4);var O=h[3];if(O){var B=u[3];u[3]=B?Ld(B,O,h[4]):O,u[4]=B?fs(u[3],Jr):h[4]}(O=h[5])&&(u[5]=(B=u[5])?G_(B,O,h[6]):O,u[6]=B?fs(u[5],Jr):h[6]),(O=h[7])&&(u[7]=O),128&v&&(u[8]=null==u[8]?h[8]:ni(u[8],h[8])),null==u[9]&&(u[9]=h[9]),u[0]=h[0],u[1]=C}(de,re),u=de[0],h=de[1],g=de[2],v=de[3],C=de[4],!(O=de[9]=de[9]===R?B?0:u.length:ii(de[9]-z,0))&&24&h&&(h&=-25),h&&1!=h)Ee=8==h||16==h?function(u,h,g){var v=vs(u);return function C(){for(var k=arguments.length,M=H(k),O=k,B=xa(C);O--;)M[O]=arguments[O];var z=k<3&&M[0]!==B&&M[k-1]!==B?[]:fs(M,B);return(k-=z.length)<g?Ji(u,h,xl,C.placeholder,R,M,z,R,R,g-k):ai(this&&this!==ft&&this instanceof C?v:u,this,M)}}(u,h,O):32!=h&&33!=h||C.length?xl.apply(R,de):function(u,h,g,v){var C=1&h,k=vs(u);return function M(){for(var O=-1,B=arguments.length,z=-1,K=v.length,J=H(K+B),re=this&&this!==ft&&this instanceof M?k:u;++z<K;)J[z]=v[z];for(;B--;)J[z++]=arguments[++O];return ai(re,C?g:this,J)}}(u,h,g,v);else var Ee=function(u,h,g){var v=1&h,C=vs(u);return function k(){return(this&&this!==ft&&this instanceof k?C:u).apply(v?g:this,arguments)}}(u,h,g);return Rm((re?_a:Mr)(Ee,de),u,h)}function wi(u,h,g,v){return u===R||pe(u,so[g])&&!$e.call(v,g)?h:u}function gu(u,h,g,v,C,k){return Bt(u)&&Bt(h)&&(k.set(h,u),va(u,h,R,gu,k),k.delete(h)),u}function _m(u){return Du(u)?R:u}function Hd(u,h,g,v,C,k){var M=1&g,O=u.length,B=h.length;if(O!=B&&!(M&&B>O))return!1;var z=k.get(u),K=k.get(h);if(z&&K)return z==h&&K==u;var J=-1,re=!0,de=2&g?new ga:R;for(k.set(u,h),k.set(h,u);++J<O;){var Ee=u[J],Ue=h[J];if(v)var Pe=M?v(Ue,Ee,J,h,u,k):v(Ee,Ue,J,u,h,k);if(Pe!==R){if(Pe)continue;re=!1;break}if(de){if(!ld(h,function(je,it){if(!Hc(de,it)&&(Ee===je||C(Ee,je,g,v,k)))return de.push(it)})){re=!1;break}}else if(Ee!==Ue&&!C(Ee,Ue,g,v,k)){re=!1;break}}return k.delete(u),k.delete(h),re}function Xn(u){return vu(km(u,R,Ll),u+"")}function Gd(u){return pa(u,pi,Ml)}function Fd(u){return pa(u,Gi,wm)}var fu=ao?function(u){return ao.get(u)}:Vg;function pu(u){for(var h=u.name+"",g=Tr[h],v=$e.call(Tr,h)?g.length:0;v--;){var C=g[v],k=C.func;if(null==k||k==u)return C.name}return h}function xa(u){return($e.call(T,"placeholder")?T:u).placeholder}function Se(){var u=T.iteratee||Oa;return u=u===Oa?B_:u,arguments.length?u(arguments[0],arguments[1]):u}function Dl(u,h){var g=u.__data__;return function(u){var h=typeof u;return"string"==h||"number"==h||"symbol"==h||"boolean"==h?"__proto__"!==u:null===u}(h)?g["string"==typeof h?"string":"hash"]:g.map}function Ud(u){for(var h=pi(u),g=h.length;g--;){var v=h[g],C=u[v];h[g]=[v,C,Cm(C)]}return h}function ka(u,h){var g=function(L,F){return null==L?R:L[F]}(u,h);return L_(g)?g:R}var Ml=ua?function(u){return null==u?[]:(u=Pt(u),dn(ua(u),function(h){return Hp.call(u,h)}))}:Nr,wm=ua?function(u){for(var h=[];u;)li(h,Ml(u)),u=Ce(u);return h}:Nr,fi=Zt;function Wd(u,h,g){for(var v=-1,C=(h=Aa(h,u)).length,k=!1;++v<C;){var M=ts(h[v]);if(!(k=null!=u&&g(u,M)))break;u=u[M]}return k||++v!=C?k:!!(C=null==u?0:u.length)&&vg(C)&&es(M,C)&&(me(u)||_s(u))}function mu(u){return"function"!=typeof u.constructor||Il(u)?{}:Zs(Ce(u))}function bo(u){return me(u)||_s(u)||!!(Gp&&u&&u[Gp])}function es(u,h){var g=typeof u;return!!(h=null==h?_r:h)&&("number"==g||"symbol"!=g&&dV.test(u))&&u>-1&&u%1==0&&u<h}function Ei(u,h,g){if(!Bt(g))return!1;var v=typeof h;return!!("number"==v?Zi(g)&&es(h,g.length):"string"==v&&h in g)&&pe(g[h],u)}function Kd(u,h){if(me(u))return!1;var g=typeof u;return!("number"!=g&&"symbol"!=g&&"boolean"!=g&&null!=u&&!Hn(u))||rV.test(u)||!_p.test(u)||null!=h&&u in Pt(h)}function Qd(u){var h=pu(u),g=T[h];if("function"!=typeof g||!(h in Ae.prototype))return!1;if(u===g)return!0;var v=fu(g);return!!v&&u===v[0]}(Pr&&fi(new Pr(new ArrayBuffer(1)))!=wr||pn&&fi(new pn)!=zn||yd&&fi(yd.resolve())!=KS||ha&&fi(new ha)!=ji||ml&&fi(new ml)!=Ic)&&(fi=function(u){var h=Zt(u),g=h==Dn?u.constructor:R,v=g?Rr(g):"";if(v)switch(v){case Up:return wr;case vd:return zn;case E_:return KS;case jp:return ji;case Qc:return Ic}return h});var z_=fd?qn:Hg;function Il(u){var h=u&&u.constructor;return u===("function"==typeof h&&h.prototype||so)}function Cm(u){return u==u&&!Bt(u)}function Pm(u,h){return function(g){return null!=g&&g[u]===h&&(h!==R||u in Pt(g))}}function km(u,h,g){return h=ii(h===R?u.length-1:h,0),function(){for(var v=arguments,C=-1,k=ii(v.length-h,0),M=H(k);++C<k;)M[C]=v[h+C];C=-1;for(var O=H(h+1);++C<h;)O[C]=v[C];return O[h]=g(M),ai(u,this,O)}}function Dm(u,h){return h.length<2?u:tr(u,Ln(h,0,-1))}function Mm(u,h){for(var g=u.length,v=ni(h.length,g),C=ci(u);v--;){var k=h[v];u[v]=es(k,g)?C[k]:R}return u}function yu(u,h){if(("constructor"!==h||"function"!=typeof u[h])&&"__proto__"!=h)return u[h]}var Mr=Ol(_a),So=Dt||function(u,h){return ft.setTimeout(u,h)},vu=Ol(BV);function Rm(u,h,g){var v=h+"";return vu(u,function(u,h){var g=h.length;if(!g)return u;var v=g-1;return h[v]=(g>1?"& ":"")+h[v],h=h.join(g>2?", ":" "),u.replace(e_,"{\n/* [wrapped with "+h+"] */\n")}(v,function(u,h){return Li(WS,function(g){var v="_."+g[0];h&g[1]&&!oi(u,v)&&u.push(v)}),u.sort()}(function(u){var h=u.match(aV);return h?h[1].split(oV):[]}(v),g)))}function Ol(u){var h=0,g=0;return function(){var v=Yc(),C=16-(v-g);if(g=v,C>0){if(++h>=800)return arguments[0]}else h=0;return u.apply(R,arguments)}}function bu(u,h){var g=-1,v=u.length,C=v-1;for(h=h===R?v:h;++g<h;){var k=Md(g,C),M=u[k];u[k]=u[g],u[g]=M}return u.length=h,u}var h,g,Xd=(h=Hl(function(u){var h=[];return 46===u.charCodeAt(0)&&h.push(""),u.replace(Ar,function(g,v,C,k){h.push(C?k.replace(lV,"$1"):v||g)}),h},function(v){return 500===g.size&&g.clear(),v}),g=h.cache,h);function ts(u){if("string"==typeof u||Hn(u))return u;var h=u+"";return"0"==h&&1/u==-ia?"-0":h}function Rr(u){if(null!=u){try{return la.call(u)}catch(h){}try{return u+""}catch(h){}}return""}function tg(u){if(u instanceof Ae)return u.clone();var h=new On(u.__wrapped__,u.__chain__);return h.__actions__=ci(u.__actions__),h.__index__=u.__index__,h.__values__=u.__values__,h}var ig=Qe(function(u,h){return Lt(u)?uo(u,gi(h,1,Lt,!0)):[]}),ng=Qe(function(u,h){var g=Sn(h);return Lt(g)&&(g=R),Lt(u)?uo(u,gi(h,1,Lt,!0),Se(g,2)):[]}),sg=Qe(function(u,h){var g=Sn(h);return Lt(g)&&(g=R),Lt(u)?uo(u,gi(h,1,Lt,!0),R,g):[]});function rg(u,h,g){var v=null==u?0:u.length;if(!v)return-1;var C=null==g?0:Ne(g);return C<0&&(C=ii(v+C,0)),gs(u,Se(h,3),C)}function wu(u,h,g){var v=null==u?0:u.length;if(!v)return-1;var C=v-1;return g!==R&&(C=Ne(g),C=g<0?ii(v+C,0):ni(C,v-1)),gs(u,Se(h,3),C,!0)}function Ll(u){return null!=u&&u.length?gi(u,1):[]}function Nm(u){return u&&u.length?u[0]:R}var Au=Qe(function(u){var h=dt(u,Od);return h.length&&h[0]===u[0]?em(h):[]}),og=Qe(function(u){var h=Sn(u),g=dt(u,Od);return h===Sn(g)?h=R:g.pop(),g.length&&g[0]===u[0]?em(g,Se(h,2)):[]}),Lm=Qe(function(u){var h=Sn(u),g=dt(u,Od);return(h="function"==typeof h?h:R)&&g.pop(),g.length&&g[0]===u[0]?em(g,R,h):[]});function Sn(u){var h=null==u?0:u.length;return h?u[h-1]:R}var ew=Qe($m);function $m(u,h){return u&&u.length&&h&&h.length?ys(u,h):u}var _n=Xn(function(u,h){var g=null==u?0:u.length,v=_l(u,h);return Dd(u,dt(h,function(C){return es(C,g)?+C:C}).sort(gm)),v});function Eu(u){return null==u?u:Fp.call(u)}var Ss=Qe(function(u){return Zn(gi(u,1,Lt,!0))}),$l=Qe(function(u){var h=Sn(u);return Lt(h)&&(h=R),Zn(gi(u,1,Lt,!0),Se(h,2))}),Hm=Qe(function(u){var h=Sn(u);return h="function"==typeof h?h:R,Zn(gi(u,1,Lt,!0),R,h)});function Um(u){if(!u||!u.length)return[];var h=0;return u=dn(u,function(g){if(Lt(g))return h=ii(g.length,h),!0}),Op(h,function(g){return dt(u,hl(g))})}function gw(u,h){if(!u||!u.length)return[];var g=Um(u);return null==h?g:dt(g,function(v){return ai(h,R,v)})}var lg=Qe(function(u,h){return Lt(u)?uo(u,h):[]}),cg=Qe(function(u){return Id(dn(u,Lt))}),ug=Qe(function(u){var h=Sn(u);return Lt(h)&&(h=R),Id(dn(u,Lt),Se(h,2))}),GV=Qe(function(u){var h=Sn(u);return h="function"==typeof h?h:R,Id(dn(u,Lt),R,h)}),FV=Qe(Um),pw=Qe(function(u){var h=u.length,g=h>1?u[h-1]:R;return g="function"==typeof g?(u.pop(),g):R,gw(u,g)});function Wm(u){var h=T(u);return h.__chain__=!0,h}function Vl(u,h){return h(u)}var Cu=Xn(function(u){var h=u.length,g=h?u[0]:0,v=this.__wrapped__,C=function(k){return _l(k,u)};return!(h>1||this.__actions__.length)&&v instanceof Ae&&es(g)?((v=v.slice(g,+g+(h?1:0))).__actions__.push({func:Vl,args:[C],thisArg:R}),new On(v,this.__chain__).thru(function(k){return h&&!k.length&&k.push(R),k})):this.thru(C)}),Ym=uu(function(u,h,g){$e.call(u,g)?++u[g]:yn(u,g,1)}),ww=ym(rg),Aw=ym(wu);function _o(u,h){return(me(u)?Li:er)(u,Se(h,3))}function Qm(u,h){return(me(u)?to:Td)(u,Se(h,3))}var Jm=uu(function(u,h,g){$e.call(u,g)?u[g].push(h):yn(u,g,[h])}),Zm=Qe(function(u,h,g){var v=-1,C="function"==typeof h,k=Zi(u)?H(u.length):[];return er(u,function(M){k[++v]=C?ai(h,M,g):Al(M,h,g)}),k}),Cw=uu(function(u,h,g){yn(u,g,h)});function gg(u,h){return(me(u)?dt:$_)(u,Se(h,3))}var Pu=uu(function(u,h,g){u[g?0:1].push(h)},function(){return[[],[]]}),Mw=Qe(function(u,h){if(null==u)return[];var g=h.length;return g>1&&Ei(u,h[0],h[1])?h=[]:g>2&&Ei(h[0],h[1],h[2])&&(h=[h[0]]),vn(u,gi(h,1),[])}),ql=st||function(){return ft.Date.now()};function fg(u,h,g){return h=g?R:h,$n(u,128,R,R,R,R,h=u&&null==h?u.length:h)}function ty(u,h){var g;if("function"!=typeof h)throw new gn(Oi);return u=Ne(u),function(){return--u>0&&(g=h.apply(this,arguments)),u<=1&&(h=R),g}}var pg=Qe(function(u,h,g){var v=1;if(g.length){var C=fs(g,xa(pg));v|=32}return $n(u,v,h,g,C)}),iy=Qe(function(u,h,g){var v=3;if(g.length){var C=fs(g,xa(iy));v|=32}return $n(h,v,u,g,C)});function Rw(u,h,g){var v,C,k,M,O,B,z=0,K=!1,J=!1,re=!0;if("function"!=typeof u)throw new gn(Oi);function de(ut){var Cs=v,Lr=C;return v=C=R,z=ut,M=u.apply(Lr,Cs)}function Ee(ut){return z=ut,O=So(je,h),K?de(ut):M}function Pe(ut){var Cs=ut-B;return B===R||Cs>=h||Cs<0||J&&ut-z>=k}function je(){var ut=ql();if(Pe(ut))return it(ut);O=So(je,function(ut){var LA=h-(ut-B);return J?ni(LA,k-(ut-z)):LA}(ut))}function it(ut){return O=R,re&&v?de(ut):(v=C=R,M)}function Gn(){var ut=ql(),Cs=Pe(ut);if(v=arguments,C=this,B=ut,Cs){if(O===R)return Ee(B);if(J)return Ea(O),O=So(je,h),de(B)}return O===R&&(O=So(je,h)),M}return h=Xi(h)||0,Bt(g)&&(K=!!g.leading,k=(J="maxWait"in g)?ii(Xi(g.maxWait)||0,h):k,re="trailing"in g?!!g.trailing:re),Gn.cancel=function(){O!==R&&Ea(O),z=0,v=B=C=O=R},Gn.flush=function(){return O===R?M:it(ql())},Gn}var zV=Qe(function(u,h){return Pd(u,1,h)}),ny=Qe(function(u,h,g){return Pd(u,Xi(h)||0,g)});function Hl(u,h){if("function"!=typeof u||null!=h&&"function"!=typeof h)throw new gn(Oi);var g=function(){var v=arguments,C=h?h.apply(this,v):v[0],k=g.cache;if(k.has(C))return k.get(C);var M=u.apply(this,v);return g.cache=k.set(C,M)||k,M};return g.cache=new(Hl.Cache||mn),g}function mg(u){if("function"!=typeof u)throw new gn(Oi);return function(){var h=arguments;switch(h.length){case 0:return!u.call(this);case 1:return!u.call(this,h[0]);case 2:return!u.call(this,h[0],h[1]);case 3:return!u.call(this,h[0],h[1],h[2])}return!u.apply(this,h)}}Hl.Cache=mn;var Iw=Nd(function(u,h){var g=(h=1==h.length&&me(h[0])?dt(h[0],In(Se())):dt(gi(h,1),In(Se()))).length;return Qe(function(v){for(var C=-1,k=ni(v.length,g);++C<k;)v[C]=h[C].call(this,v[C]);return ai(u,this,v)})}),Tu=Qe(function(u,h){var g=fs(h,xa(Tu));return $n(u,32,R,h,g)}),ry=Qe(function(u,h){var g=fs(h,xa(ry));return $n(u,64,R,h,g)}),Ow=Xn(function(u,h){return $n(u,256,R,R,R,h)});function pe(u,h){return u===h||u!=u&&h!=h}var V=Vd(Dr),ly=Vd(function(u,h){return u>=h}),_s=O_(function(){return arguments}())?O_:function(u){return $t(u)&&$e.call(u,"callee")&&!Hp.call(u,"callee")},me=H.isArray,cy=Ki?In(Ki):function(u){return $t(u)&&Zt(u)==Ja};function Zi(u){return null!=u&&vg(u.length)&&!qn(u)}function Lt(u){return $t(u)&&Zi(u)}var ws=ps||Hg,uy=Er?In(Er):function(u){return $t(u)&&Zt(u)==sl};function ss(u){if(!$t(u))return!1;var h=Zt(u);return h==Qa||"[object DOMException]"==h||"string"==typeof u.message&&"string"==typeof u.name&&!Du(u)}function qn(u){if(!Bt(u))return!1;var h=Zt(u);return h==xc||h==vp||"[object AsyncFunction]"==h||"[object Proxy]"==h}function ku(u){return"number"==typeof u&&u==Ne(u)}function vg(u){return"number"==typeof u&&u>-1&&u%1==0&&u<=_r}function Bt(u){var h=typeof u;return null!=u&&("object"==h||"function"==h)}function $t(u){return null!=u&&"object"==typeof u}var Fw=ti?In(ti):function(u){return $t(u)&&fi(u)==zn};function Ww(u){return"number"==typeof u||$t(u)&&Zt(u)==rl}function Du(u){if(!$t(u)||Zt(u)!=Dn)return!1;var h=Ce(u);if(null===h)return!0;var g=$e.call(h,"constructor")&&h.constructor;return"function"==typeof g&&g instanceof g&&la.call(g)==fn}var fy=Cr?In(Cr):function(u){return $t(u)&&Zt(u)==Mc},zw=Ot?In(Ot):function(u){return $t(u)&&fi(u)==ji};function Sg(u){return"string"==typeof u||!me(u)&&$t(u)&&Zt(u)==na}function Hn(u){return"symbol"==typeof u||$t(u)&&Zt(u)==Rc}var Gl=eo?In(eo):function(u){return $t(u)&&vg(u.length)&&!!Et[Zt(u)]},Ir=Vd(ya),_g=Vd(function(u,h){return u<=h});function py(u){if(!u)return[];if(Zi(u))return Sg(u)?Ct(u):ci(u);if(ro&&u[ro])return function(L){for(var F,H=[];!(F=L.next()).done;)H.push(F.value);return H}(u[ro]());var h=fi(u);return(h==zn?Bp:h==ji?dd:Po)(u)}function As(u){return u?(u=Xi(u))===ia||u===-ia?17976931348623157e292*(u<0?-1:1):u==u?u:0:0===u?u:0}function Ne(u){var h=As(u),g=h%1;return h==h?g?h-g:h:0}function wg(u){return u?Xs(Ne(u),0,ds):0}function Xi(u){if("number"==typeof u)return u;if(Hn(u))return NaN;if(Bt(u)){var h="function"==typeof u.valueOf?u.valueOf():u;u=Bt(h)?h+"":h}if("string"!=typeof u)return 0===u?u:+u;u=Np(u);var g=cV.test(u);return g||hV.test(u)?Si(u.slice(2),g?2:8):Ws.test(u)?NaN:+u}function my(u){return si(u,Gi(u))}function ct(u){return null==u?"":Hi(u)}var Kw=Ta(function(u,h){if(Il(h)||Zi(h))si(h,pi(h),u);else for(var g in h)$e.call(h,g)&&tu(u,g,h[g])}),Yw=Ta(function(u,h){si(h,Gi(h),u)}),wo=Ta(function(u,h,g,v){si(h,Gi(h),u,v)}),Qw=Ta(function(u,h,g,v){si(h,pi(h),u,v)}),yy=Xn(_l),Zw=Qe(function(u,h){u=Pt(u);var g=-1,v=h.length,C=v>2?h[2]:R;for(C&&Ei(h[0],h[1],C)&&(v=1);++g<v;)for(var k=h[g],M=Gi(k),O=-1,B=M.length;++O<B;){var z=M[O],K=u[z];(K===R||pe(K,so[z])&&!$e.call(u,z))&&(u[z]=k[z])}return u}),Fl=Qe(function(u){return u.push(R,gu),ai(Ay,R,u)});function jl(u,h,g){var v=null==u?R:tr(u,h);return v===R?g:v}function Mu(u,h){return null!=u&&Wd(u,h,kd)}var Ru=vm(function(u,h,g){null!=h&&"function"!=typeof h.toString&&(h=Js.call(h)),u[h]=g},Lg(Fi)),eA=vm(function(u,h,g){null!=h&&"function"!=typeof h.toString&&(h=Js.call(h)),$e.call(u,h)?u[h].push(g):u[h]=[g]},Se),Sy=Qe(Al);function pi(u){return Zi(u)?fa(u):nm(u)}function Gi(u){return Zi(u)?fa(u,!0):function(u){if(!Bt(u))return function(u){var h=[];if(null!=u)for(var g in Pt(u))h.push(g);return h}(u);var h=Il(u),g=[];for(var v in u)"constructor"==v&&(h||!$e.call(u,v))||g.push(v);return g}(u)}var wy=Ta(function(u,h,g){va(u,h,g)}),Ay=Ta(function(u,h,g,v){va(u,h,g,v)}),iA=Xn(function(u,h){var g={};if(null==u)return g;var v=!1;h=dt(h,function(k){return k=Aa(k,u),v||(v=k.length>1),k}),si(u,Fd(u),g),v&&(g=Vi(g,7,_m));for(var C=h.length;C--;)cm(g,h[C]);return g}),nA=Xn(function(u,h){return null==u?{}:function(u,h){return El(u,h,function(g,v){return Mu(u,v)})}(u,h)});function Ey(u,h){if(null==u)return{};var g=dt(Fd(u),function(v){return[v]});return h=Se(h),El(u,g,function(v,C){return h(v,C[0])})}var sA=Sm(pi),Py=Sm(Gi);function Po(u){return null==u?[]:Lp(u,pi(u))}var cA=vo(function(u,h,g){return h=h.toLowerCase(),u+(g?Pg(h):h)});function Pg(u){return Ou(ct(u).toLowerCase())}function Tg(u){return(u=ct(u))&&u.replace(n_,vV).replace(u_,"")}var hA=vo(function(u,h,g){return u+(g?"-":"")+h.toLowerCase()}),dA=vo(function(u,h,g){return u+(g?" ":"")+h.toLowerCase()}),sq=mm("toLowerCase"),yA=vo(function(u,h,g){return u+(g?"_":"")+h.toLowerCase()}),Dg=vo(function(u,h,g){return u+(g?" ":"")+Ou(h)}),Ry=vo(function(u,h,g){return u+(g?" ":"")+h.toUpperCase()}),Ou=mm("toUpperCase");function Og(u,h,g){return u=ct(u),(h=g?R:h)===R?function(L){return Mn.test(L)}(u)?function(L){return L.match(ll)||[]}(u):function(L){return L.match(Lc)||[]}(u):u.match(h)||[]}var Ng=Qe(function(u,h){try{return ai(u,R,h)}catch(g){return ss(g)?g:new Ie(g)}}),Iy=Xn(function(u,h){return Li(h,function(g){g=ts(g),yn(u,g,pg(u[g],u))}),u});function Lg(u){return function(){return u}}var aq=F_(),To=F_(!0);function Fi(u){return u}function Oa(u){return B_("function"==typeof u?u:Vi(u,1))}var Bg=Qe(function(u,h){return function(g){return Al(g,u,h)}}),Oy=Qe(function(u,h){return function(g){return Al(u,g,h)}});function $g(u,h,g){var v=pi(h),C=go(h,v);null==g&&(!Bt(h)||!C.length&&v.length)&&(g=h,h=u,u=this,C=go(h,pi(h)));var k=!(Bt(g)&&"chain"in g&&!g.chain),M=qn(u);return Li(C,function(O){var B=h[O];u[O]=B,M&&(u.prototype[O]=function(){var z=this.__chain__;if(k||z){var K=u(this.__wrapped__),J=K.__actions__=ci(this.__actions__);return J.push({func:B,args:arguments,thisArg:u}),K.__chain__=z,K}return B.apply(u,li([this.value()],arguments))})}),u}function Vg(){}var EA=$d(dt),CA=$d(Vc),Ly=$d(ld);function Na(u){return Kd(u)?hl(ts(u)):function(u){return function(h){return tr(h,u)}}(u)}var PA=bm(),TA=bm(!0);function Nr(){return[]}function Hg(){return!1}var wt=Bd(function(u,h){return u+h},0),Gg=qd("ceil"),lq=Bd(function(u,h){return u/h},1),sr=qd("floor"),qy=Bd(function(u,h){return u*h},1),Hy=qd("round"),Gy=Bd(function(u,h){return u-h},0);return T.after=function(u,h){if("function"!=typeof h)throw new gn(Oi);return u=Ne(u),function(){if(--u<1)return h.apply(this,arguments)}},T.ary=fg,T.assign=Kw,T.assignIn=Yw,T.assignInWith=wo,T.assignWith=Qw,T.at=yy,T.before=ty,T.bind=pg,T.bindAll=Iy,T.bindKey=iy,T.castArray=function(){if(!arguments.length)return[];var u=arguments[0];return me(u)?u:[u]},T.chain=Wm,T.chunk=function(u,h,g){h=(g?Ei(u,h,g):h===R)?1:ii(Ne(h),0);var v=null==u?0:u.length;if(!v||h<1)return[];for(var C=0,k=0,M=H(Ht(v/h));C<v;)M[k++]=Ln(u,C,C+=h);return M},T.compact=function(u){for(var h=-1,g=null==u?0:u.length,v=0,C=[];++h<g;){var k=u[h];k&&(C[v++]=k)}return C},T.concat=function(){var u=arguments.length;if(!u)return[];for(var h=H(u-1),g=arguments[0],v=u;v--;)h[v-1]=arguments[v];return li(me(g)?ci(g):[g],gi(h,1))},T.cond=function(u){var h=null==u?0:u.length,g=Se();return u=h?dt(u,function(v){if("function"!=typeof v[1])throw new gn(Oi);return[g(v[0]),v[1]]}):[],Qe(function(v){for(var C=-1;++C<h;){var k=u[C];if(ai(k[0],this,v))return ai(k[1],this,v)}})},T.conforms=function(u){return function(u){var h=pi(u);return function(g){return Xp(g,u,h)}}(Vi(u,1))},T.constant=Lg,T.countBy=Ym,T.create=function(u,h){var g=Zs(u);return null==h?g:Zp(g,h)},T.curry=function Ia(u,h,g){var v=$n(u,8,R,R,R,R,R,h=g?R:h);return v.placeholder=Ia.placeholder,v},T.curryRight=function is(u,h,g){var v=$n(u,16,R,R,R,R,R,h=g?R:h);return v.placeholder=is.placeholder,v},T.debounce=Rw,T.defaults=Zw,T.defaultsDeep=Fl,T.defer=zV,T.delay=ny,T.difference=ig,T.differenceBy=ng,T.differenceWith=sg,T.drop=function(u,h,g){var v=null==u?0:u.length;return v?Ln(u,(h=g||h===R?1:Ne(h))<0?0:h,v):[]},T.dropRight=function(u,h,g){var v=null==u?0:u.length;return v?Ln(u,0,(h=v-(h=g||h===R?1:Ne(h)))<0?0:h):[]},T.dropRightWhile=function(u,h){return u&&u.length?mo(u,Se(h,3),!0,!0):[]},T.dropWhile=function(u,h){return u&&u.length?mo(u,Se(h,3),!0):[]},T.fill=function(u,h,g,v){var C=null==u?0:u.length;return C?(g&&"number"!=typeof g&&Ei(u,h,g)&&(g=0,v=C),function(u,h,g,v){var C=u.length;for((g=Ne(g))<0&&(g=-g>C?0:C+g),(v=v===R||v>C?C:Ne(v))<0&&(v+=C),v=g>v?0:wg(v);g<v;)u[g++]=h;return u}(u,h,g,v)):[]},T.filter=function(u,h){return(me(u)?dn:ho)(u,Se(h,3))},T.flatMap=function(u,h){return gi(gg(u,h),1)},T.flatMapDeep=function(u,h){return gi(gg(u,h),ia)},T.flatMapDepth=function(u,h,g){return g=g===R?1:Ne(g),gi(gg(u,h),g)},T.flatten=Ll,T.flattenDeep=function(u){return null!=u&&u.length?gi(u,ia):[]},T.flattenDepth=function(u,h){return null!=u&&u.length?gi(u,h=h===R?1:Ne(h)):[]},T.flip=function(u){return $n(u,512)},T.flow=aq,T.flowRight=To,T.fromPairs=function(u){for(var h=-1,g=null==u?0:u.length,v={};++h<g;){var C=u[h];v[C[0]]=C[1]}return v},T.functions=function(u){return null==u?[]:go(u,pi(u))},T.functionsIn=function(u){return null==u?[]:go(u,Gi(u))},T.groupBy=Jm,T.initial=function(u){return null!=u&&u.length?Ln(u,0,-1):[]},T.intersection=Au,T.intersectionBy=og,T.intersectionWith=Lm,T.invert=Ru,T.invertBy=eA,T.invokeMap=Zm,T.iteratee=Oa,T.keyBy=Cw,T.keys=pi,T.keysIn=Gi,T.map=gg,T.mapKeys=function(u,h){var g={};return h=Se(h,3),qi(u,function(v,C,k){yn(g,h(v,C,k),v)}),g},T.mapValues=function(u,h){var g={};return h=Se(h,3),qi(u,function(v,C,k){yn(g,C,h(v,C,k))}),g},T.matches=function(u){return Xt(Vi(u,1))},T.matchesProperty=function(u,h){return ou(u,Vi(h,1))},T.memoize=Hl,T.merge=wy,T.mergeWith=Ay,T.method=Bg,T.methodOf=Oy,T.mixin=$g,T.negate=mg,T.nthArg=function(u){return u=Ne(u),Qe(function(h){return sm(h,u)})},T.omit=iA,T.omitBy=function(u,h){return Ey(u,mg(Se(h)))},T.once=function(u){return ty(2,u)},T.orderBy=function(u,h,g,v){return null==u?[]:(me(h)||(h=null==h?[]:[h]),me(g=v?R:g)||(g=null==g?[]:[g]),vn(u,h,g))},T.over=EA,T.overArgs=Iw,T.overEvery=CA,T.overSome=Ly,T.partial=Tu,T.partialRight=ry,T.partition=Pu,T.pick=nA,T.pickBy=Ey,T.property=Na,T.propertyOf=function(u){return function(h){return null==u?R:tr(u,h)}},T.pull=ew,T.pullAll=$m,T.pullAllBy=function(u,h,g){return u&&u.length&&h&&h.length?ys(u,h,Se(g,2)):u},T.pullAllWith=function(u,h,g){return u&&u.length&&h&&h.length?ys(u,h,R,g):u},T.pullAt=_n,T.range=PA,T.rangeRight=TA,T.rearg=Ow,T.reject=function(u,h){return(me(u)?dn:ho)(u,mg(Se(h,3)))},T.remove=function(u,h){var g=[];if(!u||!u.length)return g;var v=-1,C=[],k=u.length;for(h=Se(h,3);++v<k;){var M=u[v];h(M,v,u)&&(g.push(M),C.push(v))}return Dd(u,C),g},T.rest=function(u,h){if("function"!=typeof u)throw new gn(Oi);return Qe(u,h=h===R?h:Ne(h))},T.reverse=Eu,T.sampleSize=function(u,h,g){return h=(g?Ei(u,h,g):h===R)?1:Ne(h),(me(u)?lo:bn)(u,h)},T.set=function(u,h,g){return null==u?u:Sa(u,h,g)},T.setWith=function(u,h,g,v){return v="function"==typeof v?v:R,null==u?u:Sa(u,h,g,v)},T.shuffle=function(u){return(me(u)?Cd:om)(u)},T.slice=function(u,h,g){var v=null==u?0:u.length;return v?(g&&"number"!=typeof g&&Ei(u,h,g)?(h=0,g=v):(h=null==h?0:Ne(h),g=g===R?v:Ne(g)),Ln(u,h,g)):[]},T.sortBy=Mw,T.sortedUniq=function(u){return u&&u.length?lm(u):[]},T.sortedUniqBy=function(u,h){return u&&u.length?lm(u,Se(h,2)):[]},T.split=function(u,h,g){return g&&"number"!=typeof g&&Ei(u,h,g)&&(h=g=R),(g=g===R?ds:g>>>0)?(u=ct(u))&&("string"==typeof h||null!=h&&!fy(h))&&!(h=Hi(h))&&gl(u)?Bn(Ct(u),0,g):u.split(h,g):[]},T.spread=function(u,h){if("function"!=typeof u)throw new gn(Oi);return h=null==h?0:ii(Ne(h),0),Qe(function(g){var v=g[h],C=Bn(g,0,h);return v&&li(C,v),ai(u,this,C)})},T.tail=function(u){var h=null==u?0:u.length;return h?Ln(u,1,h):[]},T.take=function(u,h,g){return u&&u.length?Ln(u,0,(h=g||h===R?1:Ne(h))<0?0:h):[]},T.takeRight=function(u,h,g){var v=null==u?0:u.length;return v?Ln(u,(h=v-(h=g||h===R?1:Ne(h)))<0?0:h,v):[]},T.takeRightWhile=function(u,h){return u&&u.length?mo(u,Se(h,3),!1,!0):[]},T.takeWhile=function(u,h){return u&&u.length?mo(u,Se(h,3)):[]},T.tap=function(u,h){return h(u),u},T.throttle=function(u,h,g){var v=!0,C=!0;if("function"!=typeof u)throw new gn(Oi);return Bt(g)&&(v="leading"in g?!!g.leading:v,C="trailing"in g?!!g.trailing:C),Rw(u,h,{leading:v,maxWait:h,trailing:C})},T.thru=Vl,T.toArray=py,T.toPairs=sA,T.toPairsIn=Py,T.toPath=function(u){return me(u)?dt(u,ts):Hn(u)?[u]:ci(Xd(ct(u)))},T.toPlainObject=my,T.transform=function(u,h,g){var v=me(u),C=v||ws(u)||Gl(u);if(h=Se(h,4),null==g){var k=u&&u.constructor;g=C?v?new k:[]:Bt(u)&&qn(k)?Zs(Ce(u)):{}}return(C?Li:qi)(u,function(M,O,B){return h(g,M,O,B)}),g},T.unary=function(u){return fg(u,1)},T.union=Ss,T.unionBy=$l,T.unionWith=Hm,T.uniq=function(u){return u&&u.length?Zn(u):[]},T.uniqBy=function(u,h){return u&&u.length?Zn(u,Se(h,2)):[]},T.uniqWith=function(u,h){return h="function"==typeof h?h:R,u&&u.length?Zn(u,R,h):[]},T.unset=function(u,h){return null==u||cm(u,h)},T.unzip=Um,T.unzipWith=gw,T.update=function(u,h,g){return null==u?u:po(u,h,Cl(g))},T.updateWith=function(u,h,g,v){return v="function"==typeof v?v:R,null==u?u:po(u,h,Cl(g),v)},T.values=Po,T.valuesIn=function(u){return null==u?[]:Lp(u,Gi(u))},T.without=lg,T.words=Og,T.wrap=function(u,h){return Tu(Cl(h),u)},T.xor=cg,T.xorBy=ug,T.xorWith=GV,T.zip=FV,T.zipObject=function(u,h){return um(u||[],h||[],tu)},T.zipObjectDeep=function(u,h){return um(u||[],h||[],Sa)},T.zipWith=pw,T.entries=sA,T.entriesIn=Py,T.extend=Yw,T.extendWith=wo,$g(T,T),T.add=wt,T.attempt=Ng,T.camelCase=cA,T.capitalize=Pg,T.ceil=Gg,T.clamp=function(u,h,g){return g===R&&(g=h,h=R),g!==R&&(g=(g=Xi(g))==g?g:0),h!==R&&(h=(h=Xi(h))==h?h:0),Xs(Xi(u),h,g)},T.clone=function(u){return Vi(u,4)},T.cloneDeep=function(u){return Vi(u,5)},T.cloneDeepWith=function(u,h){return Vi(u,5,h="function"==typeof h?h:R)},T.cloneWith=function(u,h){return Vi(u,4,h="function"==typeof h?h:R)},T.conformsTo=function(u,h){return null==h||Xp(u,h,pi(h))},T.deburr=Tg,T.defaultTo=function(u,h){return null==u||u!=u?h:u},T.divide=lq,T.endsWith=function(u,h,g){u=ct(u),h=Hi(h);var v=u.length,C=g=g===R?v:Xs(Ne(g),0,v);return(g-=h.length)>=0&&u.slice(g,C)==h},T.eq=pe,T.escape=function(u){return(u=ct(u))&&Zh.test(u)?u.replace(Nc,bV):u},T.escapeRegExp=function(u){return(u=ct(u))&&Xh.test(u)?u.replace(wp,"\\$&"):u},T.every=function(u,h,g){var v=me(u)?Vc:I_;return g&&Ei(u,h,g)&&(h=R),v(u,Se(h,3))},T.find=ww,T.findIndex=rg,T.findKey=function(u,h){return ul(u,Se(h,3),qi)},T.findLast=Aw,T.findLastIndex=wu,T.findLastKey=function(u,h){return ul(u,Se(h,3),Qi)},T.floor=sr,T.forEach=_o,T.forEachRight=Qm,T.forIn=function(u,h){return null==u?u:ru(u,Se(h,3),Gi)},T.forInRight=function(u,h){return null==u?u:xd(u,Se(h,3),Gi)},T.forOwn=function(u,h){return u&&qi(u,Se(h,3))},T.forOwnRight=function(u,h){return u&&Qi(u,Se(h,3))},T.get=jl,T.gt=V,T.gte=ly,T.has=function(u,h){return null!=u&&Wd(u,h,wl)},T.hasIn=Mu,T.head=Nm,T.identity=Fi,T.includes=function(u,h,g,v){u=Zi(u)?u:Po(u),g=g&&!v?Ne(g):0;var C=u.length;return g<0&&(g=ii(C+g,0)),Sg(u)?g<=C&&u.indexOf(h,g)>-1:!!C&&Wt(u,h,g)>-1},T.indexOf=function(u,h,g){var v=null==u?0:u.length;if(!v)return-1;var C=null==g?0:Ne(g);return C<0&&(C=ii(v+C,0)),Wt(u,h,C)},T.inRange=function(u,h,g){return h=As(h),g===R?(g=h,h=0):g=As(g),function(u,h,g){return u>=ni(h,g)&&u<ii(h,g)}(u=Xi(u),h,g)},T.invoke=Sy,T.isArguments=_s,T.isArray=me,T.isArrayBuffer=cy,T.isArrayLike=Zi,T.isArrayLikeObject=Lt,T.isBoolean=function(u){return!0===u||!1===u||$t(u)&&Zt(u)==Ya},T.isBuffer=ws,T.isDate=uy,T.isElement=function(u){return $t(u)&&1===u.nodeType&&!Du(u)},T.isEmpty=function(u){if(null==u)return!0;if(Zi(u)&&(me(u)||"string"==typeof u||"function"==typeof u.splice||ws(u)||Gl(u)||_s(u)))return!u.length;var h=fi(u);if(h==zn||h==ji)return!u.size;if(Il(u))return!nm(u).length;for(var g in u)if($e.call(u,g))return!1;return!0},T.isEqual=function(u,h){return au(u,h)},T.isEqualWith=function(u,h,g){var v=(g="function"==typeof g?g:R)?g(u,h):R;return v===R?au(u,h,R,g):!!v},T.isError=ss,T.isFinite=function(u){return"number"==typeof u&&Kc(u)},T.isFunction=qn,T.isInteger=ku,T.isLength=vg,T.isMap=Fw,T.isMatch=function(u,h){return u===h||im(u,h,Ud(h))},T.isMatchWith=function(u,h,g){return g="function"==typeof g?g:R,im(u,h,Ud(h),g)},T.isNaN=function(u){return Ww(u)&&u!=+u},T.isNative=function(u){if(z_(u))throw new Ie("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return L_(u)},T.isNil=function(u){return null==u},T.isNull=function(u){return null===u},T.isNumber=Ww,T.isObject=Bt,T.isObjectLike=$t,T.isPlainObject=Du,T.isRegExp=fy,T.isSafeInteger=function(u){return ku(u)&&u>=-_r&&u<=_r},T.isSet=zw,T.isString=Sg,T.isSymbol=Hn,T.isTypedArray=Gl,T.isUndefined=function(u){return u===R},T.isWeakMap=function(u){return $t(u)&&fi(u)==Ic},T.isWeakSet=function(u){return $t(u)&&"[object WeakSet]"==Zt(u)},T.join=function(u,h){return null==u?"":md.call(u,h)},T.kebabCase=hA,T.last=Sn,T.lastIndexOf=function(u,h,g){var v=null==u?0:u.length;if(!v)return-1;var C=v;return g!==R&&(C=(C=Ne(g))<0?ii(v+C,0):ni(C,v-1)),h==h?function(L,F,H){for(var ce=H+1;ce--;)if(L[ce]===F)return ce;return ce}(u,h,C):gs(u,Yn,C,!0)},T.lowerCase=dA,T.lowerFirst=sq,T.lt=Ir,T.lte=_g,T.max=function(u){return u&&u.length?nu(u,Fi,Dr):R},T.maxBy=function(u,h){return u&&u.length?nu(u,Se(h,2),Dr):R},T.mean=function(u){return Rn(u,Fi)},T.meanBy=function(u,h){return Rn(u,Se(h,2))},T.min=function(u){return u&&u.length?nu(u,Fi,ya):R},T.minBy=function(u,h){return u&&u.length?nu(u,Se(h,2),ya):R},T.stubArray=Nr,T.stubFalse=Hg,T.stubObject=function(){return{}},T.stubString=function(){return""},T.stubTrue=function(){return!0},T.multiply=qy,T.nth=function(u,h){return u&&u.length?sm(u,Ne(h)):R},T.noConflict=function(){return ft._===this&&(ft._=qp),this},T.noop=Vg,T.now=ql,T.pad=function(u,h,g){u=ct(u);var v=(h=Ne(h))?oa(u):0;if(!h||v>=h)return u;var C=(h-v)/2;return du(pl(C),g)+u+du(Ht(C),g)},T.padEnd=function(u,h,g){u=ct(u);var v=(h=Ne(h))?oa(u):0;return h&&v<h?u+du(h-v,g):u},T.padStart=function(u,h,g){u=ct(u);var v=(h=Ne(h))?oa(u):0;return h&&v<h?du(h-v,g)+u:u},T.parseInt=function(u,h,g){return g||null==h?h=0:h&&(h=+h),$i(ct(u).replace(Re,""),h||0)},T.random=function(u,h,g){if(g&&"boolean"!=typeof g&&Ei(u,h,g)&&(h=g=R),g===R&&("boolean"==typeof h?(g=h,h=R):"boolean"==typeof u&&(g=u,u=R)),u===R&&h===R?(u=0,h=1):(u=As(u),h===R?(h=u,u=0):h=As(h)),u>h){var v=u;u=h,h=v}if(g||u%1||h%1){var C=Jn();return ni(u+C*(h-u+zi("1e-"+((C+"").length-1))),h)}return Md(u,h)},T.reduce=function(u,h,g){var v=me(u)?pt:dl,C=arguments.length<3;return v(u,Se(h,4),g,C,er)},T.reduceRight=function(u,h,g){var v=me(u)?f_:dl,C=arguments.length<3;return v(u,Se(h,4),g,C,Td)},T.repeat=function(u,h,g){return h=(g?Ei(u,h,g):h===R)?1:Ne(h),rm(ct(u),h)},T.replace=function(){var u=arguments,h=ct(u[0]);return u.length<3?h:h.replace(u[1],u[2])},T.result=function(u,h,g){var v=-1,C=(h=Aa(h,u)).length;for(C||(C=1,u=R);++v<C;){var k=null==u?R:u[ts(h[v])];k===R&&(v=C,k=g),u=qn(k)?k.call(u):k}return u},T.round=Hy,T.runInContext=L,T.sample=function(u){return(me(u)?Qp:am)(u)},T.size=function(u){if(null==u)return 0;if(Zi(u))return Sg(u)?oa(u):u.length;var h=fi(u);return h==zn||h==ji?u.size:nm(u).length},T.snakeCase=yA,T.some=function(u,h,g){var v=me(u)?ld:q_;return g&&Ei(u,h,g)&&(h=R),v(u,Se(h,3))},T.sortedIndex=function(u,h){return lu(u,h)},T.sortedIndexBy=function(u,h,g){return Rd(u,h,Se(g,2))},T.sortedIndexOf=function(u,h){var g=null==u?0:u.length;if(g){var v=lu(u,h);if(v<g&&pe(u[v],h))return v}return-1},T.sortedLastIndex=function(u,h){return lu(u,h,!0)},T.sortedLastIndexBy=function(u,h,g){return Rd(u,h,Se(g,2),!0)},T.sortedLastIndexOf=function(u,h){if(null!=u&&u.length){var v=lu(u,h,!0)-1;if(pe(u[v],h))return v}return-1},T.startCase=Dg,T.startsWith=function(u,h,g){return u=ct(u),g=null==g?0:Xs(Ne(g),0,u.length),h=Hi(h),u.slice(g,g+h.length)==h},T.subtract=Gy,T.sum=function(u){return u&&u.length?ud(u,Fi):0},T.sumBy=function(u,h){return u&&u.length?ud(u,Se(h,2)):0},T.template=function(u,h,g){var v=T.templateSettings;g&&Ei(u,h,g)&&(h=R),u=ct(u),h=wo({},h,v,wi);var O,B,C=wo({},h.imports,v.imports,wi),k=pi(C),M=Lp(C,k),z=0,K=h.interpolate||ed,J="__p += '",re=kt((h.escape||ed).source+"|"+K.source+"|"+(K===fe?t_:ed).source+"|"+(h.evaluate||ed).source+"|$","g"),de="//# sourceURL="+($e.call(h,"sourceURL")?(h.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Mp+"]")+"\n";u.replace(re,function(Pe,je,it,en,Ci,Gn){return it||(it=en),J+=u.slice(z,Gn).replace(s_,SV),je&&(O=!0,J+="' +\n__e("+je+") +\n'"),Ci&&(B=!0,J+="';\n"+Ci+";\n__p += '"),it&&(J+="' +\n((__t = ("+it+")) == null ? '' : __t) +\n'"),z=Gn+Pe.length,Pe}),J+="';\n";var Ee=$e.call(h,"variable")&&h.variable;if(Ee){if(un.test(Ee))throw new Ie("Invalid `variable` option passed into `_.template`")}else J="with (obj) {\n"+J+"\n}\n";J=(B?J.replace(QS,""):J).replace(JS,"$1").replace(ZS,"$1;"),J="function("+(Ee||"obj")+") {\n"+(Ee?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(O?", __e = _.escape":"")+(B?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+J+"return __p\n}";var Ue=Ng(function(){return lt(k,de+"return "+J).apply(R,M)});if(Ue.source=J,ss(Ue))throw Ue;return Ue},T.times=function(u,h){if((u=Ne(u))<1||u>_r)return[];var g=ds,v=ni(u,ds);h=Se(h),u-=ds;for(var C=Op(v,h);++g<u;)h(g);return C},T.toFinite=As,T.toInteger=Ne,T.toLength=wg,T.toLower=function(u){return ct(u).toLowerCase()},T.toNumber=Xi,T.toSafeInteger=function(u){return u?Xs(Ne(u),-_r,_r):0===u?u:0},T.toString=ct,T.toUpper=function(u){return ct(u).toUpperCase()},T.trim=function(u,h,g){if((u=ct(u))&&(g||h===R))return Np(u);if(!u||!(h=Hi(h)))return u;var v=Ct(u),C=Ct(h);return Bn(v,y_(v,C),v_(v,C)+1).join("")},T.trimEnd=function(u,h,g){if((u=ct(u))&&(g||h===R))return u.slice(0,gd(u)+1);if(!u||!(h=Hi(h)))return u;var v=Ct(u);return Bn(v,0,v_(v,Ct(h))+1).join("")},T.trimStart=function(u,h,g){if((u=ct(u))&&(g||h===R))return u.replace(Re,"");if(!u||!(h=Hi(h)))return u;var v=Ct(u);return Bn(v,y_(v,Ct(h))).join("")},T.truncate=function(u,h){var g=30,v="...";if(Bt(h)){var C="separator"in h?h.separator:C;g="length"in h?Ne(h.length):g,v="omission"in h?Hi(h.omission):v}var k=(u=ct(u)).length;if(gl(u)){var M=Ct(u);k=M.length}if(g>=k)return u;var O=g-oa(v);if(O<1)return v;var B=M?Bn(M,0,O).join(""):u.slice(0,O);if(C===R)return B+v;if(M&&(O+=B.length-O),fy(C)){if(u.slice(O).search(C)){var z,K=B;for(C.global||(C=kt(C.source,ct(i_.exec(C))+"g")),C.lastIndex=0;z=C.exec(K);)var J=z.index;B=B.slice(0,J===R?O:J)}}else if(u.indexOf(Hi(C),O)!=O){var re=B.lastIndexOf(C);re>-1&&(B=B.slice(0,re))}return B+v},T.unescape=function(u){return(u=ct(u))&&He.test(u)?u.replace(rt,b_):u},T.uniqueId=function(u){var h=++w_;return ct(u)+h},T.upperCase=Ry,T.upperFirst=Ou,T.each=_o,T.eachRight=Qm,T.first=Nm,$g(T,function(){var u={};return qi(T,function(h,g){$e.call(T.prototype,g)||(u[g]=h)}),u}(),{chain:!1}),T.VERSION="4.17.21",Li(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){T[u].placeholder=T}),Li(["drop","take"],function(u,h){Ae.prototype[u]=function(g){g=g===R?1:ii(Ne(g),0);var v=this.__filtered__&&!h?new Ae(this):this.clone();return v.__filtered__?v.__takeCount__=ni(g,v.__takeCount__):v.__views__.push({size:ni(g,ds),type:u+(v.__dir__<0?"Right":"")}),v},Ae.prototype[u+"Right"]=function(g){return this.reverse()[u](g).reverse()}}),Li(["filter","map","takeWhile"],function(u,h){var g=h+1,v=1==g||3==g;Ae.prototype[u]=function(C){var k=this.clone();return k.__iteratees__.push({iteratee:Se(C,3),type:g}),k.__filtered__=k.__filtered__||v,k}}),Li(["head","last"],function(u,h){var g="take"+(h?"Right":"");Ae.prototype[u]=function(){return this[g](1).value()[0]}}),Li(["initial","tail"],function(u,h){var g="drop"+(h?"":"Right");Ae.prototype[u]=function(){return this.__filtered__?new Ae(this):this[g](1)}}),Ae.prototype.compact=function(){return this.filter(Fi)},Ae.prototype.find=function(u){return this.filter(u).head()},Ae.prototype.findLast=function(u){return this.reverse().find(u)},Ae.prototype.invokeMap=Qe(function(u,h){return"function"==typeof u?new Ae(this):this.map(function(g){return Al(g,u,h)})}),Ae.prototype.reject=function(u){return this.filter(mg(Se(u)))},Ae.prototype.slice=function(u,h){u=Ne(u);var g=this;return g.__filtered__&&(u>0||h<0)?new Ae(g):(u<0?g=g.takeRight(-u):u&&(g=g.drop(u)),h!==R&&(g=(h=Ne(h))<0?g.dropRight(-h):g.take(h-u)),g)},Ae.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Ae.prototype.toArray=function(){return this.take(ds)},qi(Ae.prototype,function(u,h){var g=/^(?:filter|find|map|reject)|While$/.test(h),v=/^(?:head|last)$/.test(h),C=T[v?"take"+("last"==h?"Right":""):h],k=v||/^find/.test(h);!C||(T.prototype[h]=function(){var M=this.__wrapped__,O=v?[1]:arguments,B=M instanceof Ae,z=O[0],K=B||me(M),J=function(je){var it=C.apply(T,li([je],O));return v&&re?it[0]:it};K&&g&&"function"==typeof z&&1!=z.length&&(B=K=!1);var re=this.__chain__,de=!!this.__actions__.length,Ee=k&&!re,Ue=B&&!de;if(!k&&K){M=Ue?M:new Ae(this);var Pe=u.apply(M,O);return Pe.__actions__.push({func:Vl,args:[J],thisArg:R}),new On(Pe,re)}return Ee&&Ue?u.apply(this,O):(Pe=this.thru(J),Ee?v?Pe.value()[0]:Pe.value():Pe)})}),Li(["pop","push","shift","sort","splice","unshift"],function(u){var h=Gc[u],g=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",v=/^(?:pop|shift)$/.test(u);T.prototype[u]=function(){var C=arguments;if(v&&!this.__chain__){var k=this.value();return h.apply(me(k)?k:[],C)}return this[g](function(M){return h.apply(me(M)?M:[],C)})}}),qi(Ae.prototype,function(u,h){var g=T[h];if(g){var v=g.name+"";$e.call(Tr,v)||(Tr[v]=[]),Tr[v].push({name:h,func:g})}}),Tr[xl(R,2).name]=[{name:"wrapper",func:R}],Ae.prototype.clone=function(){var u=new Ae(this.__wrapped__);return u.__actions__=ci(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=ci(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=ci(this.__views__),u},Ae.prototype.reverse=function(){if(this.__filtered__){var u=new Ae(this);u.__dir__=-1,u.__filtered__=!0}else(u=this.clone()).__dir__*=-1;return u},Ae.prototype.value=function(){var u=this.__wrapped__.value(),h=this.__dir__,g=me(u),v=h<0,C=g?u.length:0,k=function(u,h,g){for(var v=-1,C=g.length;++v<C;){var k=g[v],M=k.size;switch(k.type){case"drop":u+=M;break;case"dropRight":h-=M;break;case"take":h=ni(h,u+M);break;case"takeRight":u=ii(u,h-M)}}return{start:u,end:h}}(0,C,this.__views__),M=k.start,O=k.end,B=O-M,z=v?O:M-1,K=this.__iteratees__,J=K.length,re=0,de=ni(B,this.__takeCount__);if(!g||!v&&C==B&&de==B)return wa(u,this.__actions__);var Ee=[];e:for(;B--&&re<de;){for(var Ue=-1,Pe=u[z+=h];++Ue<J;){var je=K[Ue],en=je.type,Ci=(0,je.iteratee)(Pe);if(2==en)Pe=Ci;else if(!Ci){if(1==en)continue e;break e}}Ee[re++]=Pe}return Ee},T.prototype.at=Cu,T.prototype.chain=function(){return Wm(this)},T.prototype.commit=function(){return new On(this.value(),this.__chain__)},T.prototype.next=function(){this.__values__===R&&(this.__values__=py(this.value()));var u=this.__index__>=this.__values__.length;return{done:u,value:u?R:this.__values__[this.__index__++]}},T.prototype.plant=function(u){for(var h,g=this;g instanceof Jc;){var v=tg(g);v.__index__=0,v.__values__=R,h?C.__wrapped__=v:h=v;var C=v;g=g.__wrapped__}return C.__wrapped__=u,h},T.prototype.reverse=function(){var u=this.__wrapped__;if(u instanceof Ae){var h=u;return this.__actions__.length&&(h=new Ae(this)),(h=h.reverse()).__actions__.push({func:Vl,args:[Eu],thisArg:R}),new On(h,this.__chain__)}return this.thru(Eu)},T.prototype.toJSON=T.prototype.valueOf=T.prototype.value=function(){return wa(this.__wrapped__,this.__actions__)},T.prototype.first=T.prototype.head,ro&&(T.prototype[ro]=function(){return this}),T}();ft._=no,(Wn=function(){return no}.call(Tt,Ut,Tt,Ft))!==R&&(Ft.exports=Wn)}.call(this)},328:(Ft,Tt,Ut)=>{"use strict";var Wn={};function R(n){return"function"==typeof n}Ut.r(Wn),Ut.d(Wn,{afterMain:()=>oF,afterRead:()=>sF,afterWrite:()=>uF,applyStyles:()=>d$,arrow:()=>vF,auto:()=>Wb,basePlacements:()=>Sh,beforeMain:()=>rF,beforeRead:()=>iF,beforeWrite:()=>lF,bottom:()=>rs,clippingParents:()=>eF,computeStyles:()=>m$,createPopper:()=>A$,createPopperBase:()=>ase,createPopperLite:()=>cse,detectOverflow:()=>Ph,end:()=>_h,eventListeners:()=>y$,flip:()=>EF,hide:()=>TF,left:()=>kn,main:()=>aF,modifierPhases:()=>hF,offset:()=>xF,placements:()=>u$,popper:()=>wh,popperGenerator:()=>Jb,popperOffsets:()=>w$,preventOverflow:()=>kF,read:()=>nF,reference:()=>tF,right:()=>as,start:()=>uc,top:()=>xn,variationPlacements:()=>c$,viewport:()=>l$,write:()=>cF});let Gh=!1;const ln={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else Gh&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Gh=n},get useDeprecatedSynchronousErrorHandling(){return Gh}};function Wa(n){setTimeout(()=>{throw n},0)}const Oi={closed:!0,next(n){},error(n){if(ln.useDeprecatedSynchronousErrorHandling)throw n;Wa(n)},complete(){}},Xo=Array.isArray||(n=>n&&"number"==typeof n.length);function el(n){return null!==n&&"object"==typeof n}const Jr=(()=>{function n(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,i)=>`${i+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return n.prototype=Object.create(Error.prototype),n})();class et{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:i,_unsubscribe:s,_subscriptions:a}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof et)e.remove(this);else if(null!==e)for(let r=0;r<e.length;++r)e[r].remove(this);if(R(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(r){t=r instanceof Jr?Fh(r.errors):[r]}}if(Xo(a)){let r=-1,o=a.length;for(;++r<o;){const l=a[r];if(el(l))try{l.unsubscribe()}catch(c){t=t||[],c instanceof Jr?t=t.concat(Fh(c.errors)):t.push(c)}}}if(t)throw new Jr(t)}add(t){let e=t;if(!t)return et.EMPTY;switch(typeof t){case"function":e=new et(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof et)){const a=e;e=new et,e._subscriptions=[a]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=e;if(null===i)e._parentOrParents=this;else if(i instanceof et){if(i===this)return e;e._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return e;i.push(this)}const s=this._subscriptions;return null===s?this._subscriptions=[e]:s.push(e),e}remove(t){const e=this._subscriptions;if(e){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}}}var n;function Fh(n){return n.reduce((t,e)=>t.concat(e instanceof Jr?e.errors:e),[])}et.EMPTY=((n=new et).closed=!0,n);const Us="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class xt extends et{constructor(t,e,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Oi;break;case 1:if(!t){this.destination=Oi;break}if("object"==typeof t){t instanceof xt?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new cn(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new cn(this,t,e,i)}}[Us](){return this}static create(t,e,i){const s=new xt(t,e,i);return s.syncErrorThrowable=!1,s}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class cn extends xt{constructor(t,e,i,s){super(),this._parentSubscriber=t;let a,r=this;R(e)?a=e:e&&(a=e.next,i=e.error,s=e.complete,e!==Oi&&(r=Object.create(e),R(r.unsubscribe)&&this.add(r.unsubscribe.bind(r)),r.unsubscribe=this.unsubscribe.bind(this))),this._context=r,this._next=a,this._error=i,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;ln.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:i}=ln;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):Wa(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;Wa(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);ln.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),ln.useDeprecatedSynchronousErrorHandling)throw i;Wa(i)}}__tryOrSetError(t,e,i){if(!ln.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(s){return ln.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=s,t.syncErrorThrown=!0,!0):(Wa(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const Ui="function"==typeof Symbol&&Symbol.observable||"@@observable";function Xr(n){return n}let Ye=(()=>{class n{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,s){const{operator:a}=this,r=function(n,t,e){if(n){if(n instanceof xt)return n;if(n[Us])return n[Us]()}return n||t||e?new xt(n,t,e):new xt(Oi)}(e,i,s);if(r.add(a?a.call(r,this.source):this.source||ln.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),ln.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(e){try{return this._subscribe(e)}catch(i){ln.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=i),function(n){for(;n;){const{closed:t,destination:e,isStopped:i}=n;if(t||i)return!1;n=e&&e instanceof xt?e:null}return!0}(e)?e.error(i):console.warn(i)}}forEach(e,i){return new(i=za(i))((s,a)=>{let r;r=this.subscribe(o=>{try{e(o)}catch(l){a(l),r&&r.unsubscribe()}},a,s)})}_subscribe(e){const{source:i}=this;return i&&i.subscribe(e)}[Ui](){return this}pipe(...e){return 0===e.length?this:function(n){return 0===n.length?Xr:1===n.length?n[0]:function(e){return n.reduce((i,s)=>s(i),e)}}(e)(this)}toPromise(e){return new(e=za(e))((i,s)=>{let a;this.subscribe(r=>a=r,r=>s(r),()=>i(a))})}}return n.create=t=>new n(t),n})();function za(n){if(n||(n=ln.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const ta=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class fp extends et{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}class pp extends xt{constructor(t){super(t),this.destination=t}}let Ze=(()=>{class n extends Ye{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Us](){return new pp(this)}lift(e){const i=new Uh(this,this);return i.operator=e,i}next(e){if(this.closed)throw new ta;if(!this.isStopped){const{observers:i}=this,s=i.length,a=i.slice();for(let r=0;r<s;r++)a[r].next(e)}}error(e){if(this.closed)throw new ta;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:i}=this,s=i.length,a=i.slice();for(let r=0;r<s;r++)a[r].error(e);this.observers.length=0}complete(){if(this.closed)throw new ta;this.isStopped=!0;const{observers:e}=this,i=e.length,s=e.slice();for(let a=0;a<i;a++)s[a].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new ta;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new ta;return this.hasError?(e.error(this.thrownError),et.EMPTY):this.isStopped?(e.complete(),et.EMPTY):(this.observers.push(e),new fp(this,e))}asObservable(){const e=new Ye;return e.source=this,e}}return n.create=(t,e)=>new Uh(t,e),n})();class Uh extends Ze{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):et.EMPTY}}function il(n){return n&&"function"==typeof n.schedule}function hs(n,t){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new ia(n,t))}}class ia{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new _r(t,this.project,this.thisArg))}}class _r extends xt{constructor(t,e,i){super(t),this.project=e,this.count=0,this.thisArg=i||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const mp=n=>t=>{for(let e=0,i=n.length;e<i&&!t.closed;e++)t.next(n[e]);t.complete()},Tc="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",nl=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function yp(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const Ya=n=>{if(n&&"function"==typeof n[Ui])return(n=>t=>{const e=n[Ui]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)})(n);if(nl(n))return mp(n);if(yp(n))return(n=>t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Wa),t))(n);if(n&&"function"==typeof n[Tc])return(n=>t=>{const e=n[Tc]();for(;;){let i;try{i=e.next()}catch(s){return t.error(s),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof e.return&&t.add(()=>{e.return&&e.return()}),t})(n);{const e=`You provided ${el(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function Qa(n,t){return new Ye(e=>{const i=new et;let s=0;return i.add(t.schedule(function(){s!==n.length?(e.next(n[s++]),e.closed||i.add(this.schedule())):e.complete()})),i})}function kc(n,t){return t?function(n,t){if(null!=n){if(function(n){return n&&"function"==typeof n[Ui]}(n))return function(n,t){return new Ye(e=>{const i=new et;return i.add(t.schedule(()=>{const s=n[Ui]();i.add(s.subscribe({next(a){i.add(t.schedule(()=>e.next(a)))},error(a){i.add(t.schedule(()=>e.error(a)))},complete(){i.add(t.schedule(()=>e.complete()))}}))})),i})}(n,t);if(yp(n))return function(n,t){return new Ye(e=>{const i=new et;return i.add(t.schedule(()=>n.then(s=>{i.add(t.schedule(()=>{e.next(s),i.add(t.schedule(()=>e.complete()))}))},s=>{i.add(t.schedule(()=>e.error(s)))}))),i})}(n,t);if(nl(n))return Qa(n,t);if(function(n){return n&&"function"==typeof n[Tc]}(n)||"string"==typeof n)return function(n,t){if(!n)throw new Error("Iterable cannot be null");return new Ye(e=>{const i=new et;let s;return i.add(()=>{s&&"function"==typeof s.return&&s.return()}),i.add(t.schedule(()=>{s=n[Tc](),i.add(t.schedule(function(){if(e.closed)return;let a,r;try{const o=s.next();a=o.value,r=o.done}catch(o){return void e.error(o)}r?e.complete():(e.next(a),this.schedule())}))})),i})}(n,t)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,t):n instanceof Ye?n:new Ye(Ya(n))}class Dn extends xt{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Dc extends xt{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function ji(n,t){if(t.closed)return;if(n instanceof Ye)return n.subscribe(t);let e;try{e=Ya(n)(t)}catch(i){t.error(i)}return e}function na(n,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(na((s,a)=>kc(n(s,a)).pipe(hs((r,o)=>t(s,r,a,o))),e)):("number"==typeof t&&(e=t),i=>i.lift(new Rc(n,e)))}class Rc{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new YS(t,this.project,this.concurrent))}}class YS extends Dc{constructor(t,e,i=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(e)}_innerSub(t){const e=new Dn(this),i=this.destination;i.add(e);const s=ji(t,e);s!==e&&i.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function bp(n=Number.POSITIVE_INFINITY){return na(Xr,n)}function Ja(n,t){return t?Qa(n,t):new Ye(mp(n))}function wr(...n){let t=Number.POSITIVE_INFINITY,e=null,i=n[n.length-1];return il(i)?(e=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(t=n.pop())):"number"==typeof i&&(t=n.pop()),null===e&&1===n.length&&n[0]instanceof Ye?n[0]:bp(t)(Ja(n,e))}function Oc(){return function(t){return t.lift(new jh(t))}}class jh{constructor(t){this.connectable=t}call(t,e){const{connectable:i}=this;i._refCount++;const s=new Wh(t,i),a=e.subscribe(s);return s.closed||(s.connection=i.connect()),a}}class Wh extends xt{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:i}=this,s=t._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()}}class zh extends Ye{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new et,t.add(this.source.subscribe(new Yh(this.getSubject(),this))),t.closed&&(this._connection=null,t=et.EMPTY)),t}refCount(){return Oc()(this)}}const Kh=(()=>{const n=zh.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class Yh extends pp{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function JS(){return new Ze}function rt(n){for(let t in n)if(n[t]===rt)return t;throw Error("Could not find renamed property on target object.")}function Nc(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function He(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(He).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Zh(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const XS=rt({__forward_ref__:rt});function vt(n){return n.__forward_ref__=vt,n.toString=function(){return He(this())},n}function fe(n){return _p(n)?n():n}function _p(n){return"function"==typeof n&&n.hasOwnProperty(XS)&&n.__forward_ref__===vt}class Ar extends Error{constructor(t,e){super(function(n,t){return`${n?`NG0${n}: `:""}${t}`}(t,e)),this.code=t}}function Re(n){return"string"==typeof n?n:null==n?"":String(n)}function Ni(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Re(n)}function Lc(n,t){const e=t?` in ${t}`:"";throw new Ar("201",`No provider for ${Ni(n)} found${e}`)}function hn(n,t){null==n&&function(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function ue(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function qt(n){return{providers:n.providers||[],imports:n.imports||[]}}function zs(n){return Ap(n,Za)||Ap(n,sd)}function Ap(n,t){return n.hasOwnProperty(t)?n[t]:null}function id(n){return n&&(n.hasOwnProperty(nd)||n.hasOwnProperty(Bc))?n[nd]:null}const Za=rt({\u0275prov:rt}),nd=rt({\u0275inj:rt}),sd=rt({ngInjectableDef:rt}),Bc=rt({ngInjectorDef:rt});var be=(()=>((be=be||{})[be.Default=0]="Default",be[be.Host=1]="Host",be[be.Self=2]="Self",be[be.SkipSelf=4]="SkipSelf",be[be.Optional=8]="Optional",be))();let rd;function Ks(n){const t=rd;return rd=n,t}function $c(n,t,e){const i=zs(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&be.Optional?null:void 0!==t?t:void Lc(He(n),"Injector")}function Ys(n){return{toString:n}.toString()}var Wi=(()=>((Wi=Wi||{})[Wi.OnPush=0]="OnPush",Wi[Wi.Default=1]="Default",Wi))(),jt=(()=>((jt=jt||{})[jt.Emulated=0]="Emulated",jt[jt.None=2]="None",jt[jt.ShadowDom=3]="ShadowDom",jt))();const xp="undefined"!=typeof globalThis&&globalThis,o_="undefined"!=typeof window&&window,kp="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ot=xp||"undefined"!=typeof global&&global||o_||kp,Xa={},gt=[],ol=rt({\u0275cmp:rt}),ad=rt({\u0275dir:rt}),od=rt({\u0275pipe:rt}),Dp=rt({\u0275mod:rt}),u_=rt({\u0275loc:rt}),Kn=rt({\u0275fac:rt}),ll=rt({__NG_ELEMENT_ID__:rt});let h_=0;function Mn(n){return Ys(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Wi.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||gt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||jt.Emulated,id:"c",styles:n.styles||gt,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.directives,a=n.features,r=n.pipes;return i.id+=h_++,i.inputs=Rp(n.inputs,e),i.outputs=Rp(n.outputs),a&&a.forEach(o=>o(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(Mp):null,i.pipeDefs=r?()=>("function"==typeof r?r():r).map(Et):null,i})}function Mp(n){return Si(n)||function(n){return n[ad]||null}(n)}function Et(n){return function(n){return n[od]||null}(n)}const St={};function Qt(n){return Ys(()=>{const t={type:n.type,bootstrap:n.bootstrap||gt,declarations:n.declarations||gt,imports:n.imports||gt,exports:n.exports||gt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(St[n.id]=n.type),t})}function Rp(n,t){if(null==n)return Xa;const e={};for(const i in n)if(n.hasOwnProperty(i)){let s=n[i],a=s;Array.isArray(s)&&(a=s[1],s=s[0]),e[s]=i,t&&(t[s]=a)}return e}const he=Mn;function zi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Si(n){return n[ol]||null}function ft(n,t){const e=n[Dp]||null;if(!e&&!0===t)throw new Error(`Type ${He(n)} does not have '\u0275mod' property.`);return e}function Yn(n){return Array.isArray(n)&&"object"==typeof n[1]}function Rn(n){return Array.isArray(n)&&!0===n[1]}function hl(n){return 0!=(8&n.flags)}function io(n){return 2==(2&n.flags)}function dl(n){return 1==(1&n.flags)}function Qn(n){return null!==n.template}function ud(n){return 0!=(512&n[2])}function aa(n,t){return n.hasOwnProperty(Kn)?n[Kn]:null}class oa{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Ct(){return gd}function gd(n){return n.type.prototype.ngOnChanges&&(n.setInput=S_),b_}function b_(){const n=Vp(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===Xa)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function S_(n,t,e,i){const s=Vp(n)||function(n,t){return n[$p]=t}(n,{previous:Xa,current:null}),a=s.current||(s.current={}),r=s.previous,o=this.declaredInputs[e],l=r[o];a[o]=new oa(l&&l.currentValue,t,r===Xa),n[i]=t}Ct.ngInherit=!0;const $p="__ngSimpleChanges__";function Vp(n){return n[$p]||null}const H="http://www.w3.org/2000/svg";let Ie;function kt(n){return!!n.listen}const gn={createRenderer:(n,t)=>void 0!==Ie?Ie:"undefined"!=typeof document?document:void 0};function Jt(n){for(;Array.isArray(n);)n=n[0];return n}function la(n,t){return Jt(t[n])}function $e(n,t){return Jt(t[n.index])}function Fc(n,t){return n.data[t]}function fn(n,t){const e=t[n];return Yn(e)?e:e[0]}function qp(n){return 4==(4&n[2])}function pd(n){return 128==(128&n[2])}function Bi(n,t){return null==t?null:n[t]}function fl(n){n[18]=0}function jc(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const Ce={lFrame:oo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ro(){return Ce.bindingsEnabled}function Q(){return Ce.lFrame.lView}function st(){return Ce.lFrame.tView}function Dt(n){return Ce.lFrame.contextLView=n,n[8]}function Ht(){let n=pl();for(;null!==n&&64===n.type;)n=n.parent;return n}function pl(){return Ce.lFrame.currentTNode}function ps(n,t){const e=Ce.lFrame;e.currentTNode=n,e.isParent=t}function Kc(){return Ce.lFrame.isParent}function md(){Ce.lFrame.isParent=!1}function ni(){return Ce.isInCheckNoChangesMode}function Yc(n){Ce.isInCheckNoChangesMode=n}function $i(){const n=Ce.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Jn(){return Ce.lFrame.bindingIndex}function Pr(){return Ce.lFrame.bindingIndex++}function pn(n){const t=Ce.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function ml(n,t){const e=Ce.lFrame;e.bindingIndex=e.bindingRootIndex=n,ao(t)}function ao(n){Ce.lFrame.currentDirectiveIndex=n}function Up(){return Ce.lFrame.currentQueryIndex}function vd(n){Ce.lFrame.currentQueryIndex=n}function E_(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function jp(n,t,e){if(e&be.SkipSelf){let s=t,a=n;for(;!(s=s.parent,null!==s||e&be.Host||(s=E_(a),null===s||(a=a[15],10&s.type))););if(null===s)return!1;t=s,n=a}const i=Ce.lFrame=vl();return i.currentTNode=t,i.lView=n,!0}function Qc(n){const t=vl(),e=n[1];Ce.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function vl(){const n=Ce.lFrame,t=null===n?null:n.child;return null===t?oo(n):t}function oo(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function bd(){const n=Ce.lFrame;return Ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const T=bd;function Zs(){const n=bd();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ae(){return Ce.lFrame.selectedIndex}function xr(n){Ce.lFrame.selectedIndex=n}function Nt(){const n=Ce.lFrame;return Fc(n.tView,n.selectedIndex)}function Sd(){Ce.lFrame.currentNamespace=H}function _d(){Ce.lFrame.currentNamespace=null}function Zc(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const a=n.data[e].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:o,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=a;r&&(n.contentHooks||(n.contentHooks=[])).push(-e,r),o&&((n.contentHooks||(n.contentHooks=[])).push(e,o),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,o)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),c&&((n.viewHooks||(n.viewHooks=[])).push(e,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,c)),null!=d&&(n.destroyHooks||(n.destroyHooks=[])).push(e,d)}}function Nn(n,t,e){Wp(n,t,3,e)}function Xc(n,t,e,i){(3&n[2])===e&&Wp(n,t,e,i)}function wd(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function Wp(n,t,e,i){const a=null!=i?i:-1,r=t.length-1;let o=0;for(let l=void 0!==i?65535&n[18]:0;l<r;l++)if("number"==typeof t[l+1]){if(o=t[l],null!=i&&o>=i)break}else t[l]<0&&(n[18]+=65536),(o<a||-1==a)&&(x_(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function x_(n,t,e,i){const s=e[i]<0,a=e[i+1],o=n[s?-e[i]:e[i]];if(s){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{a.call(o)}finally{}}}else try{a.call(o)}finally{}}class mn{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Yi(n,t,e){const i=kt(n);let s=0;for(;s<e.length;){const a=e[s];if("number"==typeof a){if(0!==a)break;s++;const r=e[s++],o=e[s++],l=e[s++];i?n.setAttribute(t,o,l,r):t.setAttributeNS(r,o,l)}else{const r=a,o=e[++s];Ed(r)?i&&n.setProperty(t,r,o):i?n.setAttribute(t,r,o):t.setAttribute(r,o),s++}}return s}function zp(n){return 3===n||4===n||6===n}function Ed(n){return 64===n.charCodeAt(0)}function eu(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?e=s:0===e||Kp(n,e,s,null,-1===e||2===e?t[++i]:null)}}return n}function Kp(n,t,e,i,s){let a=0,r=n.length;if(-1===t)r=-1;else for(;a<n.length;){const o=n[a++];if("number"==typeof o){if(o===t){r=-1;break}if(o>t){r=a-1;break}}}for(;a<n.length;){const o=n[a];if("number"==typeof o)break;if(o===e){if(null===i)return void(null!==s&&(n[a+1]=s));if(i===n[a+1])return void(n[a+2]=s)}a++,null!==i&&a++,null!==s&&a++}-1!==r&&(n.splice(r,0,t),a=r+1),n.splice(a++,0,e),null!==i&&n.splice(a++,0,i),null!==s&&n.splice(a++,0,s)}function Yp(n){return-1!==n}function fa(n){return 32767&n}function lo(n,t){let e=function(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let Cd=!0;function co(n){const t=Cd;return Cd=n,t}let Zp=0;function yn(n,t){const e=Xs(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,_l(i.data,n),_l(t,null),_l(i.blueprint,null));const s=Vi(n,t),a=n.injectorIndex;if(Yp(s)){const r=fa(s),o=lo(s,t),l=o[1].data;for(let c=0;c<8;c++)t[a+c]=o[r+c]|l[r+c]}return t[a+8]=s,a}function _l(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Xs(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Vi(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,s=t;for(;null!==s;){const a=s[1],r=a.type;if(i=2===r?a.declTNode:1===r?s[6]:null,null===i)return-1;if(e++,s=s[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function iu(n,t,e){!function(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(ll)&&(i=e[ll]),null==i&&(i=e[ll]=Zp++);const s=255&i;t.data[n+(s>>5)]|=1<<s}(n,t,e)}function Pd(n,t,e){if(e&be.Optional)return n;Lc(t,"NodeInjector")}function uo(n,t,e,i){if(e&be.Optional&&void 0===i&&(i=null),0==(e&(be.Self|be.Host))){const s=n[9],a=Ks(void 0);try{return s?s.get(t,i,e&be.Optional):$c(t,i,e&be.Optional)}finally{Ks(a)}}return Pd(i,t,e)}function er(n,t,e,i=be.Default,s){if(null!==n){const a=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(ll)?n[ll]:void 0;return"number"==typeof t?t>=0?255&t:I_:t}(e);if("function"==typeof a){if(!jp(t,n,i))return i&be.Host?Pd(s,e,i):uo(t,e,i,s);try{const r=a(i);if(null!=r||i&be.Optional)return r;Lc(e)}finally{T()}}else if("number"==typeof a){let r=null,o=Xs(n,t),l=-1,c=i&be.Host?t[16][6]:null;for((-1===o||i&be.SkipSelf)&&(l=-1===o?Vi(n,t):t[o+8],-1!==l&&xd(i,!1)?(r=t[1],o=fa(l),t=lo(l,t)):o=-1);-1!==o;){const d=t[1];if(ru(a,o,d.data)){const f=nu(o,t,e,r,i,c);if(f!==Td)return f}l=t[o+8],-1!==l&&xd(i,t[1].data[o+8]===c)&&ru(a,o,t)?(r=d,o=fa(l),t=lo(l,t)):o=-1}}}return uo(t,e,i,s)}const Td={};function I_(){return new qi(Ht(),Q())}function nu(n,t,e,i,s,a){const r=t[1],o=r.data[n+8],d=su(o,r,e,null==i?io(o)&&Cd:i!=r&&0!=(3&o.type),s&be.Host&&a===o);return null!==d?ho(t,r,d,o):Td}function su(n,t,e,i,s){const a=n.providerIndexes,r=t.data,o=1048575&a,l=n.directiveStart,d=a>>20,y=s?o+d:n.directiveEnd;for(let b=i?o:o+d;b<y;b++){const P=r[b];if(b<l&&e===P||b>=l&&P.type===e)return b}if(s){const b=r[l];if(b&&Qn(b)&&b.type===e)return l}return null}function ho(n,t,e,i){let s=n[e];const a=t.data;if(function(n){return n instanceof mn}(s)){const r=s;r.resolving&&function(n,t){throw new Ar("200",`Circular dependency in DI detected for ${n}`)}(Ni(a[e]));const o=co(r.canSeeViewProviders);r.resolving=!0;const l=r.injectImpl?Ks(r.injectImpl):null;jp(n,i,be.Default);try{s=n[e]=r.factory(void 0,a,n,i),t.firstCreatePass&&e>=i.directiveStart&&function(n,t,e){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:a}=t.type.prototype;if(i){const r=gd(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,r),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,r)}s&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,s),a&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,a),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,a))}(e,a[e],t)}finally{null!==l&&Ks(l),co(o),r.resolving=!1,T()}}return s}function ru(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function xd(n,t){return!(n&be.Self||n&be.Host&&t)}class qi{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return er(this._tNode,this._lView,t,i,e)}}function Qi(n){return Ys(()=>{const t=n.prototype.constructor,e=t[Kn]||go(t),i=Object.prototype;let s=Object.getPrototypeOf(n.prototype).constructor;for(;s&&s!==i;){const a=s[Kn]||go(s);if(a&&a!==e)return a;s=Object.getPrototypeOf(s)}return a=>new a})}function go(n){return _p(n)?()=>{const t=go(fe(n));return t&&t()}:aa(n)}const Zt="__parameters__";function ma(n,t,e){return Ys(()=>{const i=function(n){return function(...e){if(n){const i=n(...e);for(const s in i)this[s]=i[s]}}}(t);function s(...a){if(this instanceof s)return i.apply(this,a),this;const r=new s(...a);return o.annotation=r,o;function o(l,c,d){const f=l.hasOwnProperty(Zt)?l[Zt]:Object.defineProperty(l,Zt,{value:[]})[Zt];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(r),l}}return e&&(s.prototype=Object.create(e.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}class ye{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ue({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}function vn(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),vn(i,t)):t!==n&&t.push(i)}return t}function ms(n,t){n.forEach(e=>Array.isArray(e)?ms(e,t):t(e))}function El(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function ba(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function bn(n,t,e){let i=_a(n,t);return i>=0?n[1|i]=e:(i=~i,function(n,t,e,i){let s=n.length;if(s==t)n.push(e,i);else if(1===s)n.push(i,n[0]),n[0]=e;else{for(s--,n.push(n[s-1],n[s]);s>t;)n[s]=n[s-2],s--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Sa(n,t){const e=_a(n,t);if(e>=0)return n[1|e]}function _a(n,t){return function(n,t,e){let i=0,s=n.length>>e;for(;s!==i;){const a=i+(s-i>>1),r=n[a<<e];if(t===r)return a<<e;r>t?s=a:i=a+1}return~(s<<e)}(n,t,1)}const po={},mo="__NG_DI_FLAG__",wa="ngTempTokenPath",um=/\n/gm,Cl="__source",Nd=rt({provide:String,useValue:rt});let Bn;function Ea(n){const t=Bn;return Bn=n,t}function hm(n,t=be.Default){if(void 0===Bn)throw new Error("inject() must be called from an injection context");return null===Bn?$c(n,void 0,t):Bn.get(n,t&be.Optional?null:void 0,t)}function G(n,t=be.Default){return(rd||hm)(fe(n),t)}const H_=G;function Ca(n){const t=[];for(let e=0;e<n.length;e++){const i=fe(n[e]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let s,a=be.Default;for(let r=0;r<i.length;r++){const o=i[r],l=gm(o);"number"==typeof l?-1===l?s=o.token:a|=l:s=o}t.push(G(s,a))}else t.push(G(i))}return t}function yo(n,t){return n[mo]=t,n.prototype[mo]=t,n}function gm(n){return n[mo]}function fm(n,t,e,i){const s=n[wa];throw t[Cl]&&s.unshift(t[Cl]),n.message=function(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let s=He(t);if(Array.isArray(t))s=t.map(He).join(" -> ");else if("object"==typeof t){let a=[];for(let r in t)if(t.hasOwnProperty(r)){let o=t[r];a.push(r+":"+("string"==typeof o?JSON.stringify(o):He(o)))}s=`{${a.join(", ")}}`}return`${e}${i?"("+i+")":""}[${s}]: ${n.replace(um,"\n  ")}`}("\n"+n.message,s,e,i),n.ngTokenPath=s,n[wa]=null,n}const ci=yo(ma("Inject",n=>({token:n})),-1),si=yo(ma("Optional"),8),Pa=yo(ma("SkipSelf"),4);var Ji=(()=>((Ji=Ji||{})[Ji.Important=1]="Important",Ji[Ji.DashCase=2]="DashCase",Ji))();const Hd="__ngContext__";function Ai(n,t){n[Hd]=t}function Xn(n){const t=function(n){return n[Hd]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function Ml(n,t){return undefined(n,t)}function Rl(n){const t=n[3];return Rn(t)?t[3]:t}function zd(n){return Em(n[13])}function mu(n){return Em(n[4])}function Em(n){for(;null!==n&&!Rn(n);)n=n[4];return n}function bo(n,t,e,i,s){if(null!=i){let a,r=!1;Rn(i)?a=i:Yn(i)&&(r=!0,i=i[0]);const o=Jt(i);0===n&&null!==e?null==s?So(t,e,o):Mr(t,e,o,s||null,!0):1===n&&null!==e?Mr(t,e,o,s||null,!0):2===n?function(n,t,e){const i=Ol(n,t);i&&function(n,t,e,i){kt(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,o,r):3===n&&t.destroyNode(o),null!=a&&function(n,t,e,i,s){const a=e[7];a!==Jt(e)&&bo(t,n,i,a,s);for(let o=10;o<e.length;o++){const l=e[o];Nl(l[1],l,n,t,i,a)}}(t,n,a,e,s)}}function Yd(n,t,e){return kt(n)?n.createElement(t,e):null===e?n.createElement(t):n.createElementNS(e,t)}function Tm(n,t){const e=n[9],i=e.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,jc(s,-1)),e.splice(i,1)}function Jd(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const s=i[17];null!==s&&s!==n&&Tm(s,i),t>0&&(n[e-1][4]=i[4]);const a=ba(n,10+t);!function(n,t){Nl(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const r=a[19];null!==r&&r.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function xm(n,t){if(!(256&t[2])){const e=t[11];kt(e)&&e.destroyNode&&Nl(n,t,e,3,null,null),function(n){let t=n[13];if(!t)return Zd(n[1],n);for(;t;){let e=null;if(Yn(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)Yn(t)&&Zd(t[1],t),t=t[3];null===t&&(t=n),Yn(t)&&Zd(t[1],t),e=t&&t[4]}t=e}}(t)}}function Zd(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const s=t[e[i]];if(!(s instanceof mn)){const a=e[i+1];if(Array.isArray(a))for(let r=0;r<a.length;r+=2){const o=s[a[r]],l=a[r+1];try{l.call(o)}finally{}}else try{a.call(s)}finally{}}}}(n,t),function(n,t){const e=n.cleanup,i=t[7];let s=-1;if(null!==e)for(let a=0;a<e.length-1;a+=2)if("string"==typeof e[a]){const r=e[a+1],o="function"==typeof r?r(t):Jt(t[r]),l=i[s=e[a+2]],c=e[a+3];"boolean"==typeof c?o.removeEventListener(e[a],l,c):c>=0?i[s=c]():i[s=-c].unsubscribe(),a+=2}else{const r=i[s=e[a+1]];e[a].call(r)}if(null!==i){for(let a=s+1;a<i.length;a++)i[a]();t[7]=null}}(n,t),1===t[1].type&&kt(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&Rn(t[3])){e!==t[3]&&Tm(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function Mm(n,t,e){return function(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const s=n.data[i.directiveStart].encapsulation;if(s===jt.None||s===jt.Emulated)return null}return $e(i,e)}(n,t.parent,e)}function Mr(n,t,e,i,s){kt(n)?n.insertBefore(t,e,i,s):t.insertBefore(e,i,s)}function So(n,t,e){kt(n)?n.appendChild(t,e):t.appendChild(e)}function vu(n,t,e,i,s){null!==i?Mr(n,t,e,i,s):So(n,t,e)}function Ol(n,t){return kt(n)?n.parentNode(t):t.parentNode}let Rr=function(n,t,e){return 40&n.type?$e(n,e):null};function Su(n,t,e,i){const s=Mm(n,i,t),a=t[11],o=function(n,t,e){return Rr(n,t,e)}(i.parent||t[6],i,t);if(null!=s)if(Array.isArray(e))for(let l=0;l<e.length;l++)vu(a,s,e[l],o,!1);else vu(a,s,e,o,!1)}function _u(n,t){if(null!==t){const e=t.type;if(3&e)return $e(t,n);if(4&e)return ig(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return _u(n,i);{const s=n[t.index];return Rn(s)?ig(-1,s):Jt(s)}}if(32&e)return Ml(t,n)()||Jt(n[t.index]);{const i=Im(n,t);return null!==i?Array.isArray(i)?i[0]:_u(Rl(n[16]),i):_u(n,t.next)}}return null}function Im(n,t){return null!==t?n[16][6].projection[t.projection]:null}function ig(n,t){const e=10+n+1;if(e<t.length){const i=t[e],s=i[1].firstChild;if(null!==s)return _u(i,s)}return t[7]}function sg(n,t,e,i,s,a,r){for(;null!=e;){const o=i[e.index],l=e.type;if(r&&0===t&&(o&&Ai(Jt(o),i),e.flags|=4),64!=(64&e.flags))if(8&l)sg(n,t,e.child,i,s,a,!1),bo(t,n,s,o,a);else if(32&l){const c=Ml(e,i);let d;for(;d=c();)bo(t,n,s,d,a);bo(t,n,s,o,a)}else 16&l?Om(n,t,i,e,s,a):bo(t,n,s,o,a);e=r?e.projectionNext:e.next}}function Nl(n,t,e,i,s,a){sg(e,i,n.firstChild,t,s,a,!1)}function Om(n,t,e,i,s,a){const r=e[16],l=r[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)bo(t,n,s,l[c],a);else sg(n,t,l,r[3],s,a,!0)}function rg(n,t,e){kt(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function wu(n,t,e){kt(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function _n(n){return n instanceof class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?n.changingThisBreaksApplicationSecurity:n}function Pu(n){return n.ngOriginalError}function Tw(n,...t){n.error(...t)}class Ra{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=this._findContext(t),s=function(n){return n&&n.ngErrorLogger||Tw}(t);s(this._console,"ERROR",t),e&&s(this._console,"ORIGINAL ERROR",e),i&&s(this._console,"ERROR CONTEXT",i)}_findContext(t){return t?function(n){return n.ngDebugContext}(t)||this._findContext(Pu(t)):null}_findOriginalError(t){let e=t&&Pu(t);for(;e&&Pu(e);)e=Pu(e);return e||null}}const fg=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ot))();function is(n){return n instanceof Function?n():n}function Hl(n,t,e){let i=n.length;for(;;){const s=n.indexOf(t,e);if(-1===s)return s;if(0===s||n.charCodeAt(s-1)<=32){const a=t.length;if(s+a===i||n.charCodeAt(s+a)<=32)return s}e=s+1}}const sy="ng-template";function Iw(n,t,e){let i=0;for(;i<n.length;){let s=n[i++];if(e&&"class"===s){if(s=n[i],-1!==Hl(s.toLowerCase(),t,0))return!0}else if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function Tu(n){return 4===n.type&&n.value!==sy}function ry(n,t,e){return t===(4!==n.type||e?n.value:sy)}function Ow(n,t,e){let i=4;const s=n.attrs||[],a=function(n){for(let t=0;t<n.length;t++)if(zp(n[t]))return t;return n.length}(s);let r=!1;for(let o=0;o<t.length;o++){const l=t[o];if("number"!=typeof l){if(!r)if(4&i){if(i=2|1&i,""!==l&&!ry(n,l,e)||""===l&&1===t.length){if(ns(i))return!1;r=!0}}else{const c=8&i?l:t[++o];if(8&i&&null!==n.attrs){if(!Iw(n.attrs,c,e)){if(ns(i))return!1;r=!0}continue}const f=Nw(8&i?"class":l,s,Tu(n),e);if(-1===f){if(ns(i))return!1;r=!0;continue}if(""!==c){let y;y=f>a?"":s[f+1].toLowerCase();const b=8&i?y:null;if(b&&-1!==Hl(b,c,0)||2&i&&c!==y){if(ns(i))return!1;r=!0}}}}else{if(!r&&!ns(i)&&!ns(l))return!1;if(r&&ns(l))continue;r=!1,i=l|1&i}}return ns(i)||r}function ns(n){return 0==(1&n)}function Nw(n,t,e,i){if(null===t)return-1;let s=0;if(i||!e){let a=!1;for(;s<t.length;){const r=t[s];if(r===n)return s;if(3===r||6===r)a=!0;else{if(1===r||2===r){let o=t[++s];for(;"string"==typeof o;)o=t[++s];continue}if(4===r)break;if(0===r){s+=4;continue}}s+=a?1:2}return-1}return function(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function ay(n,t,e=!1){for(let i=0;i<t.length;i++)if(Ow(n,t[i],e))return!0;return!1}function oy(n,t){return n?":not("+t.trim()+")":t}function qw(n){let t=n[0],e=1,i=2,s="",a=!1;for(;e<n.length;){let r=n[e];if("string"==typeof r)if(2&i){const o=n[++e];s+="["+r+(o.length>0?'="'+o+'"':"")+"]"}else 8&i?s+="."+r:4&i&&(s+=" "+r);else""!==s&&!ns(r)&&(t+=oy(a,s),s=""),i=r,a=a||!ns(i);e++}return""!==s&&(t+=oy(a,s)),t}const pe={};function V(n){ly(st(),Q(),Ae()+n,ni())}function ly(n,t,e,i){if(!i)if(3==(3&t[2])){const a=n.preOrderCheckHooks;null!==a&&Nn(t,a,e)}else{const a=n.preOrderHooks;null!==a&&Xc(t,a,0,e)}xr(e)}function _s(n,t){return n<<17|t<<2}function me(n){return n>>17&32767}function Lt(n){return 2|n}function ir(n){return(131068&n)>>2}function ws(n,t){return-131069&n|t<<2}function yg(n){return 1|n}function yy(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i],a=e[i+1];if(-1!==a){const r=n.data[a];vd(s),r.contentQueries(2,t[a],a)}}}function Fl(n,t,e,i,s,a,r,o,l,c){const d=t.blueprint.slice();return d[0]=s,d[2]=140|i,fl(d),d[3]=d[15]=n,d[8]=e,d[10]=r||n&&n[10],d[11]=o||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=a,d[16]=2==t.type?n[16]:d,d}function Ao(n,t,e,i,s){let a=n.data[t];if(null===a)a=function(n,t,e,i,s){const a=pl(),r=Kc(),l=n.data[t]=function(n,t,e,i,s,a){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,r?a:a&&a.parent,e,t,i,s);return null===n.firstChild&&(n.firstChild=l),null!==a&&(r?null==a.child&&null!==l.parent&&(a.child=l):null===a.next&&(a.next=l)),l}(n,t,e,i,s),Ce.lFrame.inI18n&&(a.flags|=64);else if(64&a.type){a.type=e,a.value=i,a.attrs=s;const r=function(){const n=Ce.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();a.injectorIndex=null===r?-1:r.injectorIndex}return ps(a,!0),a}function Eo(n,t,e,i){if(0===e)return-1;const s=t.length;for(let a=0;a<e;a++)t.push(i),n.blueprint.push(i),n.data.push(null);return s}function Ul(n,t,e){Qc(t);try{const i=n.viewQuery;null!==i&&Ig(1,i,e);const s=n.template;null!==s&&vy(n,t,s,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&yy(n,t),n.staticViewQueries&&Ig(2,n.viewQuery,e);const a=n.components;null!==a&&function(n,t){for(let e=0;e<t.length;e++)mA(n,t[e])}(t,a)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,Zs()}}function Co(n,t,e,i){const s=t[2];if(256==(256&s))return;Qc(t);const a=ni();try{fl(t),function(n){Ce.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&vy(n,t,e,2,i);const r=3==(3&s);if(!a)if(r){const c=n.preOrderCheckHooks;null!==c&&Nn(t,c,null)}else{const c=n.preOrderHooks;null!==c&&Xc(t,c,0,null),wd(t,0)}if(function(n){for(let t=zd(n);null!==t;t=mu(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const s=e[i],a=s[3];0==(1024&s[2])&&jc(a,1),s[2]|=1024}}}(t),function(n){for(let t=zd(n);null!==t;t=mu(t))for(let e=10;e<t.length;e++){const i=t[e],s=i[1];pd(i)&&Co(s,i,s.template,i[8])}}(t),null!==n.contentQueries&&yy(n,t),!a)if(r){const c=n.contentCheckHooks;null!==c&&Nn(t,c)}else{const c=n.contentHooks;null!==c&&Xc(t,c,1),wd(t,1)}!function(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const s=e[i];if(s<0)xr(~s);else{const a=s,r=e[++i],o=e[++i];ml(r,a),o(2,t[a])}}}finally{xr(-1)}}(n,t);const o=n.components;null!==o&&function(n,t){for(let e=0;e<t.length;e++)pA(n,t[e])}(t,o);const l=n.viewQuery;if(null!==l&&Ig(2,l,i),!a)if(r){const c=n.viewCheckHooks;null!==c&&Nn(t,c)}else{const c=n.viewHooks;null!==c&&Xc(t,c,2),wd(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),a||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,jc(t[3],-1))}finally{Zs()}}function Xw(n,t,e,i){const s=t[10],a=!ni(),r=qp(t);try{a&&!r&&s.begin&&s.begin(),r&&Ul(n,t,i),Co(n,t,e,i)}finally{a&&!r&&s.end&&s.end()}}function vy(n,t,e,i,s){const a=Ae(),r=2&i;try{xr(-1),r&&t.length>20&&ly(n,t,20,ni()),e(i,s)}finally{xr(a)}}function by(n,t,e){if(hl(t)){const s=t.directiveEnd;for(let a=t.directiveStart;a<s;a++){const r=n.data[a];r.contentQueries&&r.contentQueries(1,e[a],a)}}}function jl(n,t,e){!ro()||(function(n,t,e,i){const s=e.directiveStart,a=e.directiveEnd;n.firstCreatePass||yn(e,t),Ai(i,t);const r=e.initialInputs;for(let o=s;o<a;o++){const l=n.data[o],c=Qn(l);c&&uA(t,e,l);const d=ho(t,n,o,e);Ai(d,t),null!==r&&hA(0,o-s,d,l,0,r),c&&(fn(e.index,t)[8]=d)}}(n,t,e,$e(e,t)),128==(128&e.flags)&&function(n,t,e){const i=e.directiveStart,s=e.directiveEnd,r=e.index,o=Ce.lFrame.currentDirectiveIndex;try{xr(r);for(let l=i;l<s;l++){const c=n.data[l],d=t[l];ao(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&xy(c,d)}}finally{xr(-1),ao(o)}}(n,t,e))}function Eg(n,t,e=$e){const i=t.localNames;if(null!==i){let s=t.index+1;for(let a=0;a<i.length;a+=2){const r=i[a+1],o=-1===r?e(t,n):n[r];n[s++]=o}}}function Mu(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Ru(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Ru(n,t,e,i,s,a,r,o,l,c){const d=20+i,f=d+s,y=function(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:pe);return e}(d,f),b="function"==typeof c?c():c;return y[1]={type:n,blueprint:y,template:e,queries:null,viewQuery:o,declTNode:t,data:y.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof r?r():r,firstChild:null,schemas:l,consts:b,incompleteFirstPass:!1}}function _y(n,t,e,i){const s=Ry(t);null===e?s.push(i):(s.push(e),n.firstCreatePass&&Ou(n).push(i,s.length-1))}function wy(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const s=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,s):e[i]=[t,s]}return e}function wn(n,t,e,i,s,a,r,o){const l=$e(t,e);let d,c=t.inputs;!o&&null!=c&&(d=c[i])?(Iy(n,e,d,i,s),io(t)&&function(n,t){const e=fn(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),s=null!=r?r(s,t.value||"",i):s,kt(a)?a.setProperty(l,i,s):Ed(i)||(l.setProperty?l.setProperty(i,s):l[i]=s))}function Cg(n,t,e,i){let s=!1;if(ro()){const a=function(n,t,e){const i=n.directiveRegistry;let s=null;if(i)for(let a=0;a<i.length;a++){const r=i[a];ay(e,r.selectors,!1)&&(s||(s=[]),iu(yn(e,t),n,r.type),Qn(r)?(ky(n,e),s.unshift(r)):s.push(r))}return s}(n,t,e),r=null===i?null:{"":-1};if(null!==a){s=!0,Pg(e,n.data.length,a.length);for(let d=0;d<a.length;d++){const f=a[d];f.providersResolver&&f.providersResolver(f)}let o=!1,l=!1,c=Eo(n,t,a.length,null);for(let d=0;d<a.length;d++){const f=a[d];e.mergedAttrs=eu(e.mergedAttrs,f.hostAttrs),Tg(n,e,t,c,f),cA(c,f,r),null!==f.contentQueries&&(e.flags|=8),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(e.flags|=128);const y=f.type.prototype;!o&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),o=!0),!l&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),c++}!function(n,t){const i=t.directiveEnd,s=n.data,a=t.attrs,r=[];let o=null,l=null;for(let c=t.directiveStart;c<i;c++){const d=s[c],f=d.inputs,y=null===a||Tu(t)?null:dA(f,a);r.push(y),o=wy(f,c,o),l=wy(d.outputs,c,l)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=r,t.inputs=o,t.outputs=l}(n,e)}r&&function(n,t,e){if(t){const i=n.localNames=[];for(let s=0;s<t.length;s+=2){const a=e[t[s+1]];if(null==a)throw new Ar("301",`Export of name '${t[s+1]}' not found!`);i.push(t[s],a)}}}(e,i,r)}return e.mergedAttrs=eu(e.mergedAttrs,e.attrs),s}function Ty(n,t,e,i,s,a){const r=a.hostBindings;if(r){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const l=~t.index;(function(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=l&&o.push(l),o.push(i,s,r)}}function xy(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function ky(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function cA(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Qn(t)&&(e[""]=n)}}function Pg(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function Tg(n,t,e,i,s){n.data[i]=s;const a=s.factory||(s.factory=aa(s.type)),r=new mn(a,Qn(s),null);n.blueprint[i]=r,e[i]=r,Ty(n,t,0,i,Eo(n,e,s.hostVars,pe),s)}function uA(n,t,e){const i=$e(t,n),s=Mu(e),a=n[10],r=Iu(n,Fl(n,s,null,e.onPush?64:16,i,t,a,a.createRenderer(i,e),null,null));n[t.index]=r}function Es(n,t,e,i,s,a){const r=$e(n,t);!function(n,t,e,i,s,a,r){if(null==a)kt(n)?n.removeAttribute(t,s,e):t.removeAttribute(s);else{const o=null==r?Re(a):r(a,i||"",s);kt(n)?n.setAttribute(t,s,o,e):e?t.setAttributeNS(e,s,o):t.setAttribute(s,o)}}(t[11],r,a,n.value,e,i,s)}function hA(n,t,e,i,s,a){const r=a[t];if(null!==r){const o=i.setInput;for(let l=0;l<r.length;){const c=r[l++],d=r[l++],f=r[l++];null!==o?i.setInput(e,f,c,d):e[d]=f}}}function dA(n,t){let e=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;n.hasOwnProperty(s)&&(null===e&&(e=[]),e.push(s,n[s],t[i+1])),i+=2}else i+=2;else i+=4}return e}function Dy(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function pA(n,t){const e=fn(t,n);if(pd(e)){const i=e[1];80&e[2]?Co(i,e,i.template,e[8]):e[5]>0&&kg(e)}}function kg(n){for(let i=zd(n);null!==i;i=mu(i))for(let s=10;s<i.length;s++){const a=i[s];if(1024&a[2]){const r=a[1];Co(r,a,r.template,a[8])}else a[5]>0&&kg(a)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const s=fn(e[i],n);pd(s)&&s[5]>0&&kg(s)}}function mA(n,t){const e=fn(t,n),i=e[1];(function(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),Ul(i,e,e[8])}function Iu(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Dg(n){for(;n;){n[2]|=64;const t=Rl(n);if(ud(n)&&!t)return n;n=t}return null}function Rg(n,t,e){const i=t[10];i.begin&&i.begin();try{Co(n,t,n.template,e)}catch(s){throw Ng(t,s),s}finally{i.end&&i.end()}}function My(n){!function(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=Xn(e),s=i[1];Xw(s,i,s.template,e)}}(n[8])}function Ig(n,t,e){vd(0),t(n,e)}const _A=(()=>Promise.resolve(null))();function Ry(n){return n[7]||(n[7]=[])}function Ou(n){return n.cleanup||(n.cleanup=[])}function Ng(n,t){const e=n[9],i=e?e.get(Ra,null):null;i&&i.handleError(t)}function Iy(n,t,e,i,s){for(let a=0;a<e.length;){const r=e[a++],o=e[a++],l=t[r],c=n.data[r];null!==c.setInput?c.setInput(l,s,i,o):l[o]=s}}function nr(n,t,e){const i=la(t,n);!function(n,t,e){kt(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function Nu(n,t,e){let i=e?n.styles:null,s=e?n.classes:null,a=0;if(null!==t)for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?a=o:1==a?s=Zh(s,o):2==a&&(i=Zh(i,o+": "+t[++r]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=s:n.classesWithoutHost=s}const To=new ye("INJECTOR",-1);class Fi{get(t,e=po){if(e===po){const i=new Error(`NullInjectorError: No provider for ${He(t)}!`);throw i.name="NullInjectorError",i}return e}}const Oa=new ye("Set Injector scope."),Wl={},AA={};let Bg;function Oy(){return void 0===Bg&&(Bg=new Fi),Bg}function Ny(n,t=null,e=null,i){return new Vg(n,e,t||Oy(),i)}class Vg{constructor(t,e,i,s=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const a=[];e&&ms(e,o=>this.processProvider(o,t,e)),ms([t],o=>this.processInjectorType(o,[],a)),this.records.set(To,Na(void 0,this));const r=this.records.get(Oa);this.scope=null!=r?r.value:null,this.source=s||("object"==typeof t?null:He(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=po,i=be.Default){this.assertNotDestroyed();const s=Ea(this),a=Ks(void 0);try{if(!(i&be.SkipSelf)){let o=this.records.get(t);if(void 0===o){const l=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof ye}(t)&&zs(t);o=l&&this.injectableDefInScope(l)?Na(qg(t),Wl):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(i&be.Self?Oy():this.parent).get(t,e=i&be.Optional&&e===po?null:e)}catch(r){if("NullInjectorError"===r.name){if((r[wa]=r[wa]||[]).unshift(He(t)),s)throw r;return fm(r,t,"R3InjectorError",this.source)}throw r}finally{Ks(a),Ea(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,s)=>t.push(He(s))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,i){if(!(t=fe(t)))return!1;let s=id(t);const a=null==s&&t.ngModule||void 0,r=void 0===a?t:a,o=-1!==i.indexOf(r);if(void 0!==a&&(s=id(a)),null==s)return!1;if(null!=s.imports&&!o){let d;i.push(r);try{ms(s.imports,f=>{this.processInjectorType(f,e,i)&&(void 0===d&&(d=[]),d.push(f))})}finally{}if(void 0!==d)for(let f=0;f<d.length;f++){const{ngModule:y,providers:b}=d[f];ms(b,P=>this.processProvider(P,y,b||gt))}}this.injectorDefTypes.add(r);const l=aa(r)||(()=>new r);this.records.set(r,Na(l,Wl));const c=s.providers;if(null!=c&&!o){const d=t;ms(c,f=>this.processProvider(f,d,c))}return void 0!==a&&void 0!==t.providers}processProvider(t,e,i){let s=Nr(t=fe(t))?t:fe(t&&t.provide);const a=function(n,t,e){return By(n)?Na(void 0,n.useValue):Na(Ly(n),Wl)}(t);if(Nr(t)||!0!==t.multi)this.records.get(s);else{let r=this.records.get(s);r||(r=Na(void 0,Wl,!0),r.factory=()=>Ca(r.multi),this.records.set(s,r)),s=t,r.multi.push(t)}this.records.set(s,a)}hydrate(t,e){return e.value===Wl&&(e.value=AA,e.value=e.factory()),"object"==typeof e.value&&e.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=fe(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function qg(n){const t=zs(n),e=null!==t?t.factory:aa(n);if(null!==e)return e;if(n instanceof ye)throw new Error(`Token ${He(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const t=n.length;if(t>0){const i=function(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}(t,"?");throw new Error(`Can't resolve all parameters for ${He(n)}: (${i.join(", ")}).`)}const e=function(n){const t=n&&(n[Za]||n[sd]);if(t){const e=function(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Error("unreachable")}function Ly(n,t,e){let i;if(Nr(n)){const s=fe(n);return aa(s)||qg(s)}if(By(n))i=()=>fe(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Ca(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))i=()=>G(fe(n.useExisting));else{const s=fe(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return aa(s)||qg(s);i=()=>new s(...Ca(n.deps))}return i}function Na(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function By(n){return null!==n&&"object"==typeof n&&Nd in n}function Nr(n){return"function"==typeof n}const $y=function(n,t,e){return function(n,t=null,e=null,i){const s=Ny(n,t,e,i);return s._resolveInjectorDefTypes(),s}({name:e},t,n,e)};let wt=(()=>{class n{static create(e,i){return Array.isArray(e)?$y(e,i,""):$y(e.providers,e.parent,e.name||"")}}return n.THROW_IF_NOT_FOUND=po,n.NULL=new Fi,n.\u0275prov=ue({token:n,providedIn:"any",factory:()=>G(To)}),n.__NG_ELEMENT_ID__=-1,n})();function dj(n,t){Zc(Xn(n)[1],Ht())}function Mt(n){let t=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let s;if(Qn(n))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");s=t.\u0275dir}if(s){if(e){i.push(s);const r=n;r.inputs=BA(n.inputs),r.declaredInputs=BA(n.declaredInputs),r.outputs=BA(n.outputs);const o=s.hostBindings;o&&mj(n,o);const l=s.viewQuery,c=s.contentQueries;if(l&&fj(n,l),c&&pj(n,c),Nc(n.inputs,s.inputs),Nc(n.declaredInputs,s.declaredInputs),Nc(n.outputs,s.outputs),Qn(s)&&s.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(s.data.animation)}}const a=s.features;if(a)for(let r=0;r<a.length;r++){const o=a[r];o&&o.ngInherit&&o(n),o===Mt&&(e=!1)}}t=Object.getPrototypeOf(t)}!function(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const s=n[i];s.hostVars=t+=s.hostVars,s.hostAttrs=eu(s.hostAttrs,e=eu(e,s.hostAttrs))}}(i)}function BA(n){return n===Xa?{}:n===gt?[]:n}function fj(n,t){const e=n.viewQuery;n.viewQuery=e?(i,s)=>{t(i,s),e(i,s)}:t}function pj(n,t){const e=n.contentQueries;n.contentQueries=e?(i,s,a)=>{t(i,s,a),e(i,s,a)}:t}function mj(n,t){const e=n.hostBindings;n.hostBindings=e?(i,s)=>{t(i,s),e(i,s)}:t}let Fy=null;function Lu(){if(!Fy){const n=ot.Symbol;if(n&&n.iterator)Fy=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Fy=i)}}}return Fy}class rr{constructor(t){this.wrapped=t}static wrap(t){return new rr(t)}static unwrap(t){return rr.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof rr}}function jg(n){return!!$A(n)&&(Array.isArray(n)||!(n instanceof Map)&&Lu()in n)}function $A(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Br(n,t,e){return n[t]=e}function tn(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function zl(n,t,e,i){const s=tn(n,t,e);return tn(n,t+1,i)||s}function ar(n,t,e,i){const s=Q();return tn(s,Pr(),t)&&(st(),Es(Nt(),s,n,t,e,i)),ar}function $u(n,t,e,i){return tn(n,Pr(),e)?t+Re(e)+i:pe}function _e(n,t,e,i,s,a,r,o){const l=Q(),c=st(),d=n+20,f=c.firstCreatePass?function(n,t,e,i,s,a,r,o,l){const c=t.consts,d=Ao(t,n,4,r||null,Bi(c,o));Cg(t,e,d,Bi(c,l)),Zc(t,d);const f=d.tViews=Ru(2,d,i,s,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,d),f.queries=t.queries.embeddedTView(d)),d}(d,c,l,t,e,i,s,a,r):c.data[d];ps(f,!1);const y=l[11].createComment("");Su(c,l,y,f),Ai(y,l),Iu(l,l[d]=Dy(y,l,y,f)),dl(f)&&jl(c,l,f),null!=r&&Eg(l,f,o)}function q(n,t=be.Default){const e=Q();return null===e?G(n,t):er(Ht(),e,fe(n),t)}function Y(n,t,e){const i=Q();return tn(i,Pr(),t)&&wn(st(),Nt(),i,n,t,i[11],e,!1),Y}function FA(n,t,e,i,s){const r=s?"class":"style";Iy(n,e,t.inputs[r],r,i)}function p(n,t,e,i){const s=Q(),a=st(),r=20+n,o=s[11],l=s[r]=Yd(o,t,Ce.lFrame.currentNamespace),c=a.firstCreatePass?function(n,t,e,i,s,a,r){const o=t.consts,c=Ao(t,n,2,s,Bi(o,a));return Cg(t,e,c,Bi(o,r)),null!==c.attrs&&Nu(c,c.attrs,!1),null!==c.mergedAttrs&&Nu(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(r,a,s,0,t,e,i):a.data[r];ps(c,!0);const d=c.mergedAttrs;null!==d&&Yi(o,l,d);const f=c.classes;null!==f&&wu(o,l,f);const y=c.styles;null!==y&&rg(o,l,y),64!=(64&c.flags)&&Su(a,s,l,c),0===Ce.lFrame.elementDepthCount&&Ai(l,s),Ce.lFrame.elementDepthCount++,dl(c)&&(jl(a,s,c),by(a,c,s)),null!==i&&Eg(s,c)}function m(){let n=Ht();Kc()?md():(n=n.parent,ps(n,!1));const t=n;Ce.lFrame.elementDepthCount--;const e=st();e.firstCreatePass&&(Zc(e,n),hl(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(t)&&FA(e,t,Q(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(t)&&FA(e,t,Q(),t.stylesWithoutHost,!1)}function ne(n,t,e,i){p(n,t,e,i),m()}function zu(n,t,e){const i=Q(),s=st(),a=n+20,r=s.firstCreatePass?function(n,t,e,i,s){const a=t.consts,r=Bi(a,i),o=Ao(t,n,8,"ng-container",r);return null!==r&&Nu(o,r,!0),Cg(t,e,o,Bi(a,s)),null!==t.queries&&t.queries.elementStart(t,o),o}(a,s,i,t,e):s.data[a];ps(r,!0);const o=i[a]=i[11].createComment("");Su(s,i,o,r),Ai(o,i),dl(r)&&(jl(s,i,r),by(s,r,i)),null!=e&&Eg(i,r)}function Ku(){let n=Ht();const t=st();Kc()?md():(n=n.parent,ps(n,!1)),t.firstCreatePass&&(Zc(t,n),hl(n)&&t.queries.elementEnd(n))}function $r(){return Q()}function Wy(n){return!!n&&"function"==typeof n.then}const UA=function(n){return!!n&&"function"==typeof n.subscribe};function Fe(n,t,e,i){const s=Q(),a=st(),r=Ht();return function(n,t,e,i,s,a,r,o){const l=dl(i),d=n.firstCreatePass&&Ou(n),f=t[8],y=Ry(t);let b=!0;if(3&i.type||o){const D=$e(i,t),N=o?o(D):D,I=y.length,U=o?$=>o(Jt($[i.index])):i.index;if(kt(e)){let $=null;if(!o&&l&&($=function(n,t,e,i){const s=n.cleanup;if(null!=s)for(let a=0;a<s.length-1;a+=2){const r=s[a];if(r===e&&s[a+1]===i){const o=t[7],l=s[a+2];return o.length>l?o[l]:null}"string"==typeof r&&(a+=2)}return null}(n,t,s,i.index)),null!==$)($.__ngLastListenerFn__||$).__ngNextListenerFn__=a,$.__ngLastListenerFn__=a,b=!1;else{a=jA(i,t,f,a,!1);const j=e.listen(N,s,a);y.push(a,j),d&&d.push(s,U,I,I+1)}}else a=jA(i,t,f,a,!0),N.addEventListener(s,a,r),y.push(a),d&&d.push(s,U,I,r)}else a=jA(i,t,f,a,!1);const P=i.outputs;let x;if(b&&null!==P&&(x=P[s])){const D=x.length;if(D)for(let N=0;N<D;N+=2){const W=t[x[N]][x[N+1]].subscribe(a),le=y.length;y.push(a,W),d&&d.push(s,i.index,le,-(le+1))}}}(a,s,s[11],r,n,t,!!e,i),Fe}function $q(n,t,e,i){try{return!1!==e(i)}catch(s){return Ng(n,s),!1}}function jA(n,t,e,i,s){return function a(r){if(r===Function)return i;const o=2&n.flags?fn(n.index,t):t;0==(32&t[2])&&Dg(o);let l=$q(t,0,i,r),c=a.__ngNextListenerFn__;for(;c;)l=$q(t,0,c,r)&&l,c=c.__ngNextListenerFn__;return s&&!1===l&&(r.preventDefault(),r.returnValue=!1),l}}function Ve(n=1){return function(n){return(Ce.lFrame.contextLView=function(n,t){for(;n>0;)t=t[15],n--;return t}(n,Ce.lFrame.contextLView))[8]}(n)}function zg(n,t,e,i,s){const a=Q(),r=$u(a,t,e,i);return r!==pe&&wn(st(),Nt(),a,n,r,a[11],s,!1),zg}function Qq(n,t,e,i,s){const a=n[e+1],r=null===t;let o=i?me(a):ir(a),l=!1;for(;0!==o&&(!1===l||r);){const d=n[o+1];tW(n[o],t)&&(l=!0,n[o+1]=i?yg(d):Lt(d)),o=i?me(d):ir(d)}l&&(n[e+1]=i?Lt(a):yg(a))}function tW(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&_a(n,t)>=0}const mi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Jq(n){return n.substring(mi.key,mi.keyEnd)}function Zq(n,t){const e=mi.textEnd;return e===t?-1:(t=mi.keyEnd=function(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,mi.key=t,e),Yu(n,t,e))}function Yu(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Kg(n,t,e){return or(n,t,e,!1),Kg}function Kl(n,t){return or(n,t,null,!0),Kl}function Ts(n){!function(n,t,e,i){const s=st(),a=pn(2);s.firstUpdatePass&&s4(s,null,a,i);const r=Q();if(e!==pe&&tn(r,a,e)){const o=s.data[Ae()];if(l4(o,i)&&!n4(s,a)){let l=i?o.classesWithoutHost:o.stylesWithoutHost;null!==l&&(e=Zh(l,e||"")),FA(s,o,r,e,i)}else!function(n,t,e,i,s,a,r,o){s===pe&&(s=gt);let l=0,c=0,d=0<s.length?s[0]:null,f=0<a.length?a[0]:null;for(;null!==d||null!==f;){const y=l<s.length?s[l+1]:void 0,b=c<a.length?a[c+1]:void 0;let x,P=null;d===f?(l+=2,c+=2,y!==b&&(P=f,x=b)):null===f||null!==d&&d<f?(l+=2,P=d):(c+=2,P=f,x=b),null!==P&&a4(n,t,e,i,P,x,r,o),d=l<s.length?s[l]:null,f=c<a.length?a[c]:null}}(s,o,r,r[11],r[a+1],r[a+1]=function(n,t,e){if(null==e||""===e)return gt;const i=[],s=_n(e);if(Array.isArray(s))for(let a=0;a<s.length;a++)n(i,s[a],!0);else if("object"==typeof s)for(const a in s)s.hasOwnProperty(a)&&n(i,a,s[a]);else"string"==typeof s&&t(i,s);return i}(n,t,e),i,a)}}(bn,qr,n,!0)}function qr(n,t){for(let e=function(n){return function(n){mi.key=0,mi.keyEnd=0,mi.value=0,mi.valueEnd=0,mi.textEnd=n.length}(n),Zq(n,Yu(n,0,mi.textEnd))}(t);e>=0;e=Zq(t,e))bn(n,Jq(t),!0)}function or(n,t,e,i){const s=Q(),a=st(),r=pn(2);a.firstUpdatePass&&s4(a,n,r,i),t!==pe&&tn(s,r,t)&&a4(a,a.data[Ae()],s,s[11],n,s[r+1]=function(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=He(_n(n)))),n}(t,e),i,r)}function n4(n,t){return t>=n.expandoStartIndex}function s4(n,t,e,i){const s=n.data;if(null===s[e+1]){const a=s[Ae()],r=n4(n,e);l4(a,i)&&null===t&&!r&&(t=!1),t=function(n,t,e,i){const s=function(n){const t=Ce.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let a=i?t.residualClasses:t.residualStyles;if(null===s)0===(i?t.classBindings:t.styleBindings)&&(e=Yg(e=WA(null,n,t,e,i),t.attrs,i),a=null);else{const r=t.directiveStylingLast;if(-1===r||n[r]!==s)if(e=WA(s,n,t,e,i),null===a){let l=function(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==ir(i))return n[me(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=WA(null,n,t,l[1],i),l=Yg(l,t.attrs,i),function(n,t,e,i){n[me(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else a=function(n,t,e){let i;const s=t.directiveEnd;for(let a=1+t.directiveStylingLast;a<s;a++)i=Yg(i,n[a].hostAttrs,e);return Yg(i,t.attrs,e)}(n,t,i)}return void 0!==a&&(i?t.residualClasses=a:t.residualStyles=a),e}(s,a,t,i),function(n,t,e,i,s,a){let r=a?t.classBindings:t.styleBindings,o=me(r),l=ir(r);n[i]=e;let d,c=!1;if(Array.isArray(e)){const f=e;d=f[1],(null===d||_a(f,d)>0)&&(c=!0)}else d=e;if(s)if(0!==l){const y=me(n[o+1]);n[i+1]=_s(y,o),0!==y&&(n[y+1]=ws(n[y+1],i)),n[o+1]=function(n,t){return 131071&n|t<<17}(n[o+1],i)}else n[i+1]=_s(o,0),0!==o&&(n[o+1]=ws(n[o+1],i)),o=i;else n[i+1]=_s(l,0),0===o?o=i:n[l+1]=ws(n[l+1],i),l=i;c&&(n[i+1]=Lt(n[i+1])),Qq(n,d,i,!0),Qq(n,d,i,!1),function(n,t,e,i,s){const a=s?n.residualClasses:n.residualStyles;null!=a&&"string"==typeof t&&_a(a,t)>=0&&(e[i+1]=yg(e[i+1]))}(t,d,n,i,a),r=_s(o,l),a?t.classBindings=r:t.styleBindings=r}(s,a,t,e,r,i)}}function WA(n,t,e,i,s){let a=null;const r=e.directiveEnd;let o=e.directiveStylingLast;for(-1===o?o=e.directiveStart:o++;o<r&&(a=t[o],i=Yg(i,a.hostAttrs,s),a!==n);)o++;return null!==n&&(e.directiveStylingLast=o),i}function Yg(n,t,e){const i=e?1:2;let s=-1;if(null!==t)for(let a=0;a<t.length;a++){const r=t[a];"number"==typeof r?s=r:s===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),bn(n,r,!!e||t[++a]))}return void 0===n?null:n}function a4(n,t,e,i,s,a,r,o){if(!(3&t.type))return;const l=n.data,c=l[o+1];zy(function(n){return 1==(1&n)}(c)?o4(l,t,e,s,ir(c),r):void 0)||(zy(a)||function(n){return 2==(2&n)}(c)&&(a=o4(l,null,e,s,o,r)),function(n,t,e,i,s){const a=kt(n);if(t)s?a?n.addClass(e,i):e.classList.add(i):a?n.removeClass(e,i):e.classList.remove(i);else{let r=-1===i.indexOf("-")?void 0:Ji.DashCase;if(null==s)a?n.removeStyle(e,i,r):e.style.removeProperty(i);else{const o="string"==typeof s&&s.endsWith("!important");o&&(s=s.slice(0,-10),r|=Ji.Important),a?n.setStyle(e,i,s,r):e.style.setProperty(i,s,o?"important":"")}}}(i,r,la(Ae(),e),s,a))}function o4(n,t,e,i,s,a){const r=null===t;let o;for(;s>0;){const l=n[s],c=Array.isArray(l),d=c?l[1]:l,f=null===d;let y=e[s+1];y===pe&&(y=f?gt:void 0);let b=f?Sa(y,i):d===i?y:void 0;if(c&&!zy(b)&&(b=Sa(l,i)),zy(b)&&(o=b,r))return o;const P=n[s+1];s=r?me(P):ir(P)}if(null!==t){let l=a?t.residualClasses:t.residualStyles;null!=l&&(o=Sa(l,i))}return o}function zy(n){return void 0!==n}function l4(n,t){return 0!=(n.flags&(t?16:32))}function _(n,t=""){const e=Q(),i=st(),s=n+20,a=i.firstCreatePass?Ao(i,s,1,t,null):i.data[s],r=e[s]=function(n,t){return kt(n)?n.createText(t):n.createTextNode(t)}(e[11],t);Su(i,e,r,a),ps(a,!1)}function Pi(n){return yi("",n,""),Pi}function yi(n,t,e){const i=Q(),s=$u(i,n,t,e);return s!==pe&&nr(i,Ae(),s),yi}function Qg(n,t,e,i,s){const a=Q(),r=function(n,t,e,i,s,a){const o=zl(n,Jn(),e,s);return pn(2),o?t+Re(e)+i+Re(s)+a:pe}(a,n,t,e,i,s);return r!==pe&&nr(a,Ae(),r),Qg}const Yl=void 0;var NW=["en",[["a","p"],["AM","PM"],Yl],[["AM","PM"],Yl,Yl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yl,"{1} 'at' {0}",Yl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===e?1:5}];let Qu={};function x4(n){return n in Qu||(Qu[n]=ot.ng&&ot.ng.common&&ot.ng.common.locales&&ot.ng.common.locales[n]),Qu[n]}var oe=(()=>((oe=oe||{})[oe.LocaleId=0]="LocaleId",oe[oe.DayPeriodsFormat=1]="DayPeriodsFormat",oe[oe.DayPeriodsStandalone=2]="DayPeriodsStandalone",oe[oe.DaysFormat=3]="DaysFormat",oe[oe.DaysStandalone=4]="DaysStandalone",oe[oe.MonthsFormat=5]="MonthsFormat",oe[oe.MonthsStandalone=6]="MonthsStandalone",oe[oe.Eras=7]="Eras",oe[oe.FirstDayOfWeek=8]="FirstDayOfWeek",oe[oe.WeekendRange=9]="WeekendRange",oe[oe.DateFormat=10]="DateFormat",oe[oe.TimeFormat=11]="TimeFormat",oe[oe.DateTimeFormat=12]="DateTimeFormat",oe[oe.NumberSymbols=13]="NumberSymbols",oe[oe.NumberFormats=14]="NumberFormats",oe[oe.CurrencyCode=15]="CurrencyCode",oe[oe.CurrencySymbol=16]="CurrencySymbol",oe[oe.CurrencyName=17]="CurrencyName",oe[oe.Currencies=18]="Currencies",oe[oe.Directionality=19]="Directionality",oe[oe.PluralCase=20]="PluralCase",oe[oe.ExtraData=21]="ExtraData",oe))();const Ky="en-US";let k4=Ky;function zA(n){hn(n,"Expected localeId to be defined"),"string"==typeof n&&(k4=n.toLowerCase().replace(/_/g,"-"))}function QA(n,t,e,i,s){if(n=fe(n),Array.isArray(n))for(let a=0;a<n.length;a++)QA(n[a],t,e,i,s);else{const a=st(),r=Q();let o=Nr(n)?n:fe(n.provide),l=Ly(n);const c=Ht(),d=1048575&c.providerIndexes,f=c.directiveStart,y=c.providerIndexes>>20;if(Nr(n)||!n.multi){const b=new mn(l,s,q),P=ZA(o,t,s?d:d+y,f);-1===P?(iu(yn(c,r),a,o),JA(a,n,t.length),t.push(o),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=1048576),e.push(b),r.push(b)):(e[P]=b,r[P]=b)}else{const b=ZA(o,t,d+y,f),P=ZA(o,t,d,d+y),x=b>=0&&e[b],D=P>=0&&e[P];if(s&&!D||!s&&!x){iu(yn(c,r),a,o);const N=function(n,t,e,i,s){const a=new mn(n,e,q);return a.multi=[],a.index=t,a.componentProviders=0,X4(a,s,i&&!e),a}(s?R9:M9,e.length,s,i,l);!s&&D&&(e[P].providerFactory=N),JA(a,n,t.length,0),t.push(o),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=1048576),e.push(N),r.push(N)}else JA(a,n,b>-1?b:P,X4(e[s?P:b],l,!s&&i));!s&&i&&D&&e[P].componentProviders++}}}function JA(n,t,e,i){const s=Nr(t);if(s||function(n){return!!n.useClass}(t)){const r=(t.useClass||t).prototype.ngOnDestroy;if(r){const o=n.destroyHooks||(n.destroyHooks=[]);if(!s&&t.multi){const l=o.indexOf(e);-1===l?o.push(e,[i,r]):o[l+1].push(i,r)}else o.push(e,r)}}}function X4(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function ZA(n,t,e,i){for(let s=e;s<i;s++)if(t[s]===n)return s;return-1}function M9(n,t,e,i){return XA(this.multi,[])}function R9(n,t,e,i){const s=this.multi;let a;if(this.providerFactory){const r=this.providerFactory.componentProviders,o=ho(e,e[1],this.providerFactory.index,i);a=o.slice(0,r),XA(s,a);for(let l=r;l<o.length;l++)a.push(o[l])}else a=[],XA(s,a);return a}function XA(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function at(n,t=[]){return e=>{e.providersResolver=(i,s)=>function(n,t,e){const i=st();if(i.firstCreatePass){const s=Qn(n);QA(e,i.data,i.blueprint,s,!0),QA(t,i.data,i.blueprint,s,!1)}}(i,s?s(n):n,t)}}class eH{}const iH="ngComponent";class N9{resolveComponentFactory(t){throw function(n){const t=Error(`No component factory found for ${He(n)}. Did you add it to @NgModule.entryComponents?`);return t[iH]=n,t}(t)}}let Zu=(()=>{class n{}return n.NULL=new N9,n})();function Xy(...n){}function Xu(n,t){return new Rt($e(n,t))}const $9=function(){return Xu(Ht(),Q())};let Rt=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=$9,n})();function nH(n){return n instanceof Rt?n.nativeElement:n}class Ql{}let Jl=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>q9(),n})();const q9=function(){const n=Q(),e=fn(Ht().index,n);return function(n){return n[11]}(Yn(e)?e:n)};let tE=(()=>{class n{}return n.\u0275prov=ue({token:n,providedIn:"root",factory:()=>null}),n})();class ev{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const sH=new ev("12.2.17");class rH{constructor(){}supports(t){return jg(t)}create(t){return new U9(t)}}const F9=(n,t)=>t;class U9{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||F9}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,s=0,a=null;for(;e||i;){const r=!i||e&&e.currentIndex<oH(i,s,a)?e:i,o=oH(r,s,a),l=r.currentIndex;if(r===i)s--,i=i._nextRemoved;else if(e=e._next,null==r.previousIndex)s++;else{a||(a=[]);const c=o-s,d=l-s;if(c!=d){for(let y=0;y<c;y++){const b=y<a.length?a[y]:a[y]=0,P=b+y;d<=P&&P<c&&(a[y]=b+1)}a[r.previousIndex]=d-c}}o!==l&&t(r,o,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!jg(t))throw new Error(`Error trying to diff '${He(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,a,r,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let o=0;o<this.length;o++)a=t[o],r=this._trackByFn(o,a),null!==e&&Object.is(e.trackById,r)?(i&&(e=this._verifyReinsertion(e,a,r,o)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,r,o),i=!0),e=e._next}else s=0,function(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Lu()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,o=>{r=this._trackByFn(s,o),null!==e&&Object.is(e.trackById,r)?(i&&(e=this._verifyReinsertion(e,o,r,s)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,r,s),i=!0),e=e._next,s++}),this.length=s;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,s){let a;return null===t?a=this._itTail:(a=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,a,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,a,s)):t=this._addAfter(new j9(e,i),a,s),t}_verifyReinsertion(t,e,i,s){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==a?t=this._reinsertAfter(a,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,a=t._nextRemoved;return null===s?this._removalsHead=a:s._nextRemoved=a,null===a?this._removalsTail=s:a._prevRemoved=s,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const s=null===e?this._itHead:e._next;return t._next=s,t._prev=e,null===s?this._itTail=t:s._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new aH),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new aH),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class j9{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class W9{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class aH{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new W9,this.map.set(e,i)),i.add(t)}get(t,e){const s=this.map.get(t);return s?s.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function oH(n,t,e){const i=n.previousIndex;if(null===i)return i;let s=0;return e&&i<e.length&&(s=e[i]),i+t+s}class lH{constructor(){}supports(t){return t instanceof Map||$A(t)}create(){return new z9}}class z9{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||$A(t)))throw new Error(`Error trying to diff '${He(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,s)=>{if(e&&e.key===s)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const a=this._getOrCreateRecordForKey(s,i);e=this._insertBeforeOrAppend(e,a)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,e);const a=s._prev,r=s._next;return a&&(a._next=r),r&&(r._prev=a),s._next=null,s._prev=null,s}const i=new K9(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class K9{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function cH(){return new eh([new rH])}let eh=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||cH()),deps:[[n,new Pa,new si]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'`)}}return n.\u0275prov=ue({token:n,providedIn:"root",factory:cH}),n})();function uH(){return new th([new lH])}let th=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||uH()),deps:[[n,new Pa,new si]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(i)return i;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return n.\u0275prov=ue({token:n,providedIn:"root",factory:uH}),n})();function tv(n,t,e,i,s=!1){for(;null!==e;){const a=t[e.index];if(null!==a&&i.push(Jt(a)),Rn(a))for(let o=10;o<a.length;o++){const l=a[o],c=l[1].firstChild;null!==c&&tv(l[1],l,c,i)}const r=e.type;if(8&r)tv(n,t,e.child,i);else if(32&r){const o=Ml(e,t);let l;for(;l=o();)i.push(l)}else if(16&r){const o=Im(t,e);if(Array.isArray(o))i.push(...o);else{const l=Rl(t[16]);tv(l[1],l,o,i,!0)}}e=s?e.projectionNext:e.next}return i}class tf{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return tv(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Rn(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(Jd(t,i),ba(e,i))}this._attachedToViewContainer=!1}xm(this._lView[1],this._lView)}onDestroy(t){_y(this._lView[1],this._lView,null,t)}markForCheck(){Dg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Rg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,t,e){Yc(!0);try{Rg(n,t,e)}finally{Yc(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,t){Nl(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Q9 extends tf{constructor(t){super(t),this._view=t}detectChanges(){My(this._view)}checkNoChanges(){!function(n){Yc(!0);try{My(n)}finally{Yc(!1)}}(this._view)}get context(){return null}}const Z9=function(n){return function(n,t,e){if(io(n)&&!e){const i=fn(n.index,t);return new tf(i,i)}return 47&n.type?new tf(t[16],t):null}(Ht(),Q(),16==(16&n))};let iv=(()=>{class n{}return n.__NG_ELEMENT_ID__=Z9,n})();const tz=[new lH],nz=new eh([new rH]),sz=new th(tz),az=function(){return nv(Ht(),Q())};let xs=(()=>{class n{}return n.__NG_ELEMENT_ID__=az,n})();const oz=xs,lz=class extends oz{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=Fl(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[19];return null!==a&&(i[19]=a.createEmbeddedView(e)),Ul(e,i,t),new tf(i)}};function nv(n,t){return 4&n.type?new lz(t,n,Xu(n,t)):null}class Zl{}const dz=function(){return gH(Ht(),Q())};let ks=(()=>{class n{}return n.__NG_ELEMENT_ID__=dz,n})();const fz=ks,hH=class extends fz{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Xu(this._hostTNode,this._hostLView)}get injector(){return new qi(this._hostTNode,this._hostLView)}get parentInjector(){const t=Vi(this._hostTNode,this._hostLView);if(Yp(t)){const e=lo(t,this._hostLView),i=fa(t);return new qi(e[1].data[i+8],e)}return new qi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=dH(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const s=t.createEmbeddedView(e||{});return this.insert(s,i),s}createComponent(t,e,i,s,a){const r=i||this.parentInjector;if(!a&&null==t.ngModule&&r){const l=r.get(Zl,null);l&&(a=l)}const o=t.create(r,s,void 0,a);return this.insert(o.hostView,e),o}insert(t,e){const i=t._lView,s=i[1];if(function(n){return Rn(n[3])}(i)){const d=this.indexOf(t);if(-1!==d)this.detach(d);else{const f=i[3],y=new hH(f,f[6],f[3]);y.detach(y.indexOf(t))}}const a=this._adjustIndex(e),r=this._lContainer;!function(n,t,e,i){const s=10+i,a=e.length;i>0&&(e[s-1][4]=t),i<a-10?(t[4]=e[s],El(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const r=t[17];null!==r&&e!==r&&function(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(r,t);const o=t[19];null!==o&&o.insertView(n),t[2]|=128}(s,i,r,a);const o=ig(a,r),l=i[11],c=Ol(l,r[7]);return null!==c&&function(n,t,e,i,s,a){i[0]=s,i[6]=t,Nl(n,i,e,1,s,a)}(s,r[6],l,i,c,o),t.attachToViewContainerRef(),El(iE(r),a,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=dH(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=Jd(this._lContainer,e);i&&(ba(iE(this._lContainer),e),xm(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=Jd(this._lContainer,e);return i&&null!=ba(iE(this._lContainer),e)?new tf(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function dH(n){return n[8]}function iE(n){return n[8]||(n[8]=[])}function gH(n,t){let e;const i=t[n.index];if(Rn(i))e=i;else{let s;if(8&n.type)s=Jt(i);else{const a=t[11];s=a.createComment("");const r=$e(n,t);Mr(a,Ol(a,r),s,function(n,t){return kt(n)?n.nextSibling(t):t.nextSibling}(a,r),!1)}t[n.index]=e=Dy(i,t,s,n),Iu(t,e)}return new hH(e,n,t)}const rh={};class IH extends Zu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Si(t);return new NH(e,this.ngModule)}}function OH(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}const uK=new ye("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>fg});class NH extends eH{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function(n){return n.map(qw).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return OH(this.componentDef.inputs)}get outputs(){return OH(this.componentDef.outputs)}create(t,e,i,s){const a=(s=s||this.ngModule)?function(n,t){return{get:(e,i,s)=>{const a=n.get(e,rh,s);return a!==rh||i===rh?a:t.get(e,i,s)}}}(t,s.injector):t,r=a.get(Ql,gn),o=a.get(tE,null),l=r.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=i?function(n,t,e){if(kt(n))return n.selectRootElement(t,e===jt.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(l,i,this.componentDef.encapsulation):Yd(r.createRenderer(null,this.componentDef),c,function(n){const t=n.toLowerCase();return"svg"===t?H:"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),f=this.componentDef.onPush?576:528,y=function(n,t){return{components:[],scheduler:n||fg,clean:_A,playerHandler:t||null,flags:0}}(),b=Ru(0,null,null,1,0,null,null,null,null,null),P=Fl(null,b,y,f,null,null,r,l,o,a);let x,D;Qc(P);try{const N=function(n,t,e,i,s,a){const r=e[1];e[20]=n;const l=Ao(r,20,2,"#host",null),c=l.mergedAttrs=t.hostAttrs;null!==c&&(Nu(l,c,!0),null!==n&&(Yi(s,n,c),null!==l.classes&&wu(s,n,l.classes),null!==l.styles&&rg(s,n,l.styles)));const d=i.createRenderer(n,t),f=Fl(e,Mu(t),null,t.onPush?64:16,e[20],l,i,d,a||null,null);return r.firstCreatePass&&(iu(yn(l,e),r,t.type),ky(r,l),Pg(l,e.length,1)),Iu(e,f),e[20]=f}(d,this.componentDef,P,r,l);if(d)if(i)Yi(l,d,["ng-version",sH.full]);else{const{attrs:I,classes:U}=function(n){const t=[],e=[];let i=1,s=2;for(;i<n.length;){let a=n[i];if("string"==typeof a)2===s?""!==a&&t.push(a,n[++i]):8===s&&e.push(a);else{if(!ns(s))break;s=a}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);I&&Yi(l,d,I),U&&U.length>0&&wu(l,d,U.join(" "))}if(D=Fc(b,20),void 0!==e){const I=D.projection=[];for(let U=0;U<this.ngContentSelectors.length;U++){const $=e[U];I.push(null!=$?Array.from($):null)}}x=function(n,t,e,i,s){const a=e[1],r=function(n,t,e){const i=Ht();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Tg(n,i,t,Eo(n,t,1,null),e));const s=ho(t,n,i.directiveStart,i);Ai(s,t);const a=$e(i,t);return a&&Ai(a,t),s}(a,e,t);if(i.components.push(r),n[8]=r,s&&s.forEach(l=>l(r,t)),t.contentQueries){const l=Ht();t.contentQueries(1,r,l.directiveStart)}const o=Ht();return!a.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(xr(o.index),Ty(e[1],o,0,o.directiveStart,o.directiveEnd,t),xy(t,r)),r}(N,this.componentDef,P,y,[dj]),Ul(b,P,null)}finally{Zs()}return new gK(this.componentType,x,Xu(D,P),P,D)}}class gK extends class{}{constructor(t,e,i,s,a){super(),this.location=i,this._rootLView=s,this._tNode=a,this.instance=e,this.hostView=this.changeDetectorRef=new Q9(s),this.componentType=t}get injector(){return new qi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const ah=new Map;class mK extends Zl{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new IH(this);const i=ft(t),s=function(n){return n[u_]||null}(t);s&&zA(s),this._bootstrapComponents=is(i.bootstrap),this._r3Injector=Ny(t,e,[{provide:Zl,useValue:this},{provide:Zu,useValue:this.componentFactoryResolver}],He(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=wt.THROW_IF_NOT_FOUND,i=be.Default){return t===wt||t===Zl||t===To?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class pE extends class{}{constructor(t){super(),this.moduleType=t,null!==ft(t)&&function(n){const t=new Set;!function e(i){const s=ft(i,!0),a=s.id;null!==a&&(function(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${He(t)} vs ${He(t.name)}`)}(a,ah.get(a),i),ah.set(a,i));const r=is(s.imports);for(const o of r)t.has(o)||(t.add(o),e(o))}(n)}(t)}create(t){return new mK(this.moduleType,t)}}function qH(n,t,e,i,s){return function(n,t,e,i,s,a,r){const o=t+e;return zl(n,o,s,a)?Br(n,o+2,r?i.call(r,s,a):i(s,a)):uf(n,o+2)}(Q(),$i(),n,t,e,i,s)}function uf(n,t){const e=n[t];return e===pe?void 0:e}function HH(n,t,e,i,s,a){const r=t+e;return tn(n,r,s)?Br(n,r+1,a?i.call(a,s):i(s)):uf(n,r+1)}function ko(n,t){const e=st();let i;const s=n+20;e.firstCreatePass?(i=function(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}throw new Ar("302",`The pipe '${n}' could not be found!`)}(t,e.pipeRegistry),e.data[s]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(s,i.onDestroy)):i=e.data[s];const a=i.factory||(i.factory=aa(i.type)),r=Ks(q);try{const o=co(!1),l=a();return co(o),function(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,Q(),s,l),l}finally{Ks(r)}}function Do(n,t,e){const i=n+20,s=Q(),a=function(n,t){return n[t]}(s,i);return function(n,t){rr.isWrapped(t)&&(t=rr.unwrap(t),n[Jn()]=pe);return t}(s,function(n,t){return n[1].data[t].pure}(s,i)?HH(s,$i(),t,a.transform,e,a):a.transform(e))}function mE(n){return t=>{setTimeout(n,void 0,t)}}const ht=class extends Ze{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var s,a,r;let o=t,l=e||(()=>null),c=i;if(t&&"object"==typeof t){const f=t;o=null===(s=f.next)||void 0===s?void 0:s.bind(f),l=null===(a=f.error)||void 0===a?void 0:a.bind(f),c=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}this.__isAsync&&(l=mE(l),o&&(o=mE(o)),c&&(c=mE(c)));const d=super.subscribe({next:o,error:l,complete:c});return t instanceof et&&t.add(d),d}};function DK(){return this._results[Lu()]()}class lv{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Lu(),i=lv.prototype;i[e]||(i[e]=DK)}get changes(){return this._changes||(this._changes=new ht)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const s=vn(t);(this._changesDetected=!function(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let s=n[i],a=t[i];if(e&&(s=e(s),a=e(a)),a!==s)return!1}return!0}(i._results,s,e))&&(i._results=s,i.length=s.length,i.last=s[this.length-1],i.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class yE{constructor(t){this.queryList=t,this.matches=null}clone(){return new yE(this.queryList)}setDirty(){this.queryList.setDirty()}}class vE{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,s=[];for(let a=0;a<i;a++){const r=e.getByIndex(a);s.push(this.queries[r.indexInDeclarationView].clone())}return new vE(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==QH(t,e).matches&&this.queries[e].setDirty()}}class WH{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class bE{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const s=null!==e?e.length:0,a=this.getByIndex(i).embeddedTView(t,s);a&&(a.indexInDeclarationView=i,null!==e?e.push(a):e=[a])}return null!==e?new bE(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class SE{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new SE(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){const a=i[s];this.matchTNodeWithReadOption(t,e,IK(e,a)),this.matchTNodeWithReadOption(t,e,su(e,t,a,!1,!1))}else i===xs?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,su(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const s=this.metadata.read;if(null!==s)if(s===Rt||s===ks||s===xs&&4&e.type)this.addMatch(e.index,-2);else{const a=su(e,t,s,!1,!1);null!==a&&this.addMatch(e.index,a)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function IK(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function NK(n,t,e,i){return-1===e?function(n,t){return 11&n.type?Xu(n,t):4&n.type?nv(n,t):null}(t,n):-2===e?function(n,t,e){return e===Rt?Xu(t,n):e===xs?nv(t,n):e===ks?gH(t,n):void 0}(n,t,i):ho(n,n[1],e,t)}function zH(n,t,e,i){const s=t[19].queries[i];if(null===s.matches){const a=n.data,r=e.matches,o=[];for(let l=0;l<r.length;l+=2){const c=r[l];o.push(c<0?null:NK(t,a[c],r[l+1],e.metadata.read))}s.matches=o}return s.matches}function _E(n,t,e,i){const s=n.queries.getByIndex(e),a=s.matches;if(null!==a){const r=zH(n,t,s,e);for(let o=0;o<a.length;o+=2){const l=a[o];if(l>0)i.push(r[o/2]);else{const c=a[o+1],d=t[-l];for(let f=10;f<d.length;f++){const y=d[f];y[17]===y[3]&&_E(y[1],y,c,i)}if(null!==d[9]){const f=d[9];for(let y=0;y<f.length;y++){const b=f[y];_E(b[1],b,c,i)}}}}}return i}function tc(n){const t=Q(),e=st(),i=Up();vd(i+1);const s=QH(e,i);if(n.dirty&&qp(t)===(2==(2&s.metadata.flags))){if(null===s.matches)n.reset([]);else{const a=s.crossesNgTemplate?_E(e,t,i,[]):zH(e,t,s,i);n.reset(a,nH),n.notifyOnChanges()}return!0}return!1}function cv(n,t,e){const i=st();i.firstCreatePass&&(YH(i,new WH(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),KH(i,Q(),t)}function uv(n,t,e,i){const s=st();if(s.firstCreatePass){const a=Ht();YH(s,new WH(t,e,i),a.index),function(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(s,n),2==(2&e)&&(s.staticContentQueries=!0)}KH(s,Q(),e)}function ic(){return function(n,t){return n[19].queries[t].queryList}(Q(),Up())}function KH(n,t,e){const i=new lv(4==(4&e));_y(n,t,i,i.destroy),null===t[19]&&(t[19]=new vE),t[19].queries.push(new yE(i))}function YH(n,t,e){null===n.queries&&(n.queries=new bE),n.queries.track(new SE(t,e))}function QH(n,t){return n.queries.getByIndex(t)}const gv=new ye("Application Initializer");let lh=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Xy,this.reject=Xy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const a=this.appInits[s]();if(Wy(a))e.push(a);else if(UA(a)){const r=new Promise((o,l)=>{a.subscribe({complete:o,error:l})});e.push(r)}}Promise.all(e).then(()=>{i()}).catch(s=>{this.reject(s)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(G(gv,8))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const ff=new ye("AppId"),dY={provide:ff,useFactory:function(){return`${TE()}${TE()}${TE()}`},deps:[]};function TE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const f5=new ye("Platform Initializer"),ch=new ye("Platform ID"),gY=new ye("appBootstrapListener");let xE=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const Mo=new ye("LocaleId"),p5=new ye("DefaultCurrencyCode");class pY{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const kE=function(n){return new pE(n)},mY=kE,yY=function(n){return Promise.resolve(kE(n))},m5=function(n){const t=kE(n),i=is(ft(n).declarations).reduce((s,a)=>{const r=Si(a);return r&&s.push(new NH(r)),s},[]);return new pY(t,i)},vY=m5,bY=function(n){return Promise.resolve(m5(n))};let pv=(()=>{class n{constructor(){this.compileModuleSync=mY,this.compileModuleAsync=yY,this.compileModuleAndAllComponentsSync=vY,this.compileModuleAndAllComponentsAsync=bY}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const wY=(()=>Promise.resolve(0))();function DE(n){"undefined"==typeof Zone?wY.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class We{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ht(!1),this.onMicrotaskEmpty=new ht(!1),this.onStable=new ht(!1),this.onError=new ht(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&e,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function(){let n=ot.requestAnimationFrame,t=ot.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(n){const t=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ot,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,RE(n),n.isCheckStableRunning=!0,ME(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),RE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,s,a,r,o)=>{try{return y5(n),e.invokeTask(s,a,r,o)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||n.shouldCoalesceRunChangeDetection)&&t(),v5(n)}},onInvoke:(e,i,s,a,r,o,l)=>{try{return y5(n),e.invoke(s,a,r,o,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),v5(n)}},onHasTask:(e,i,s,a)=>{e.hasTask(s,a),i===s&&("microTask"==a.change?(n._hasPendingMicrotasks=a.microTask,RE(n),ME(n)):"macroTask"==a.change&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:(e,i,s,a)=>(e.handleError(s,a),n.runOutsideAngular(()=>n.onError.emit(a)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!We.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(We.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,s){const a=this._inner,r=a.scheduleEventTask("NgZoneEvent: "+s,t,EY,Xy,Xy);try{return a.runTask(r,e,i)}finally{a.cancelTask(r)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const EY={};function ME(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function RE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function y5(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function v5(n){n._nesting--,ME(n)}class TY{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ht,this.onMicrotaskEmpty=new ht,this.onStable=new ht,this.onError=new ht}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,s){return t.apply(e,i)}}let IE=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{We.assertNotInAngularZone(),DE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())DE(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,s){let a=-1;i&&i>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(r=>r.timeoutId!==a),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:a,updateCb:s})}whenStable(e,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,s){return[]}}return n.\u0275fac=function(e){return new(e||n)(G(We))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),b5=(()=>{class n{constructor(){this._applications=new Map,OE.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return OE.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();class xY{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let OE=new xY,S5=!0,_5=!1;let hr;const A5=new ye("AllowMultipleToken");function E5(n,t,e=[]){const i=`Platform: ${t}`,s=new ye(i);return(a=[])=>{let r=C5();if(!r||r.injector.get(A5,!1))if(n)n(e.concat(a).concat({provide:s,useValue:!0}));else{const o=e.concat(a).concat({provide:s,useValue:!0},{provide:Oa,useValue:"platform"});!function(n){if(hr&&!hr.destroyed&&!hr.injector.get(A5,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");hr=n.get(P5);const t=n.get(f5,null);t&&t.forEach(e=>e())}(wt.create({providers:o,name:i}))}return function(n){const t=C5();if(!t)throw new Error("No platform exists!");if(!t.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(s)}}function C5(){return hr&&!hr.destroyed?hr:null}let P5=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const o=function(n,t){let e;return e="noop"===n?new TY:("zone.js"===n?void 0:n)||new We({enableLongStackTrace:(_5=!0,S5),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:We,useValue:o}];return o.run(()=>{const c=wt.create({providers:l,parent:this.injector,name:e.moduleType.name}),d=e.create(c),f=d.injector.get(Ra,null);if(!f)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(()=>{const y=o.onError.subscribe({next:b=>{f.handleError(b)}});d.onDestroy(()=>{NE(this._modules,d),y.unsubscribe()})}),function(n,t,e){try{const i=e();return Wy(i)?i.catch(s=>{throw t.runOutsideAngular(()=>n.handleError(s)),s}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(f,o,()=>{const y=d.injector.get(lh);return y.runInitializers(),y.donePromise.then(()=>(zA(d.injector.get(Mo,Ky)||Ky),this._moduleDoBootstrap(d),d))})})}bootstrapModule(e,i=[]){const s=T5({},i);return function(n,t,e){const i=new pE(e);return Promise.resolve(i)}(0,0,e).then(a=>this.bootstrapModuleFactory(a,s))}_moduleDoBootstrap(e){const i=e.injector.get(pf);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${He(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(G(wt))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();function T5(n,t){return Array.isArray(t)?t.reduce(T5,n):Object.assign(Object.assign({},n),t)}let pf=(()=>{class n{constructor(e,i,s,a,r){this._zone=e,this._injector=i,this._exceptionHandler=s,this._componentFactoryResolver=a,this._initStatus=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Ye(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new Ye(c=>{let d;this._zone.runOutsideAngular(()=>{d=this._zone.onStable.subscribe(()=>{We.assertNotInAngularZone(),DE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const f=this._zone.onUnstable.subscribe(()=>{We.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),f.unsubscribe()}});this.isStable=wr(o,l.pipe(n=>Oc()(function(n,t){return function(i){let s;s="function"==typeof n?n:function(){return n};const a=Object.create(i,Kh);return a.source=i,a.subjectFactory=s,a}}(JS)(n))))}bootstrap(e,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let s;s=e instanceof eH?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Zl),o=s.create(wt.NULL,[],i||s.selector,a),l=o.location.nativeElement,c=o.injector.get(IE,null),d=c&&o.injector.get(b5);return c&&d&&d.registerApplication(l,c),o.onDestroy(()=>{this.detachView(o.hostView),NE(this.components,o),d&&d.unregisterApplication(l)}),this._loadComponent(o),o}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;NE(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(gY,[]).concat(this._bootstrapListeners).forEach(s=>s(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(G(We),G(wt),G(Ra),G(Zu),G(lh))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();function NE(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const tQ=E5(null,"core",[{provide:ch,useValue:"unknown"},{provide:P5,deps:[wt]},{provide:b5,deps:[]},{provide:xE,deps:[]}]),aQ=[{provide:pf,useClass:pf,deps:[We,wt,Ra,Zu,lh]},{provide:uK,deps:[We],useFactory:function(n){let t=[];return n.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:lh,useClass:lh,deps:[[new si,gv]]},{provide:pv,useClass:pv,deps:[]},dY,{provide:eh,useFactory:function(){return nz},deps:[]},{provide:th,useFactory:function(){return sz},deps:[]},{provide:Mo,useFactory:function(n){return zA(n=n||"undefined"!=typeof $localize&&$localize.locale||Ky),n},deps:[[new ci(Mo),new si,new Pa]]},{provide:p5,useValue:"USD"}];let lQ=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(G(pf))},n.\u0275mod=Qt({type:n}),n.\u0275inj=qt({providers:aQ}),n})(),Cv=null;function rc(){return Cv}const Xe=new ye("DocumentToken");var ui=(()=>((ui=ui||{})[ui.Zero=0]="Zero",ui[ui.One=1]="One",ui[ui.Two=2]="Two",ui[ui.Few=3]="Few",ui[ui.Many=4]="Many",ui[ui.Other=5]="Other",ui))();const mJ=function(n){return function(n){const t=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=x4(t);if(e)return e;const i=t.split("-")[0];if(e=x4(i),e)return e;if("en"===i)return NW;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[oe.PluralCase]};class Nv{}let jJ=(()=>{class n extends Nv{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(mJ(i||this.locale)(e)){case ui.Zero:return"zero";case ui.One:return"one";case ui.Two:return"two";case ui.Few:return"few";case ui.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(G(Mo))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();function h6(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[s,a]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===t)return decodeURIComponent(a)}return null}let sC=(()=>{class n{constructor(e,i,s,a){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=s,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(jg(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${He(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(e){return new(e||n)(q(eh),q(th),q(Rt),q(Jl))},n.\u0275dir=he({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class zJ{constructor(t,e,i,s){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wf=(()=>{class n{constructor(e,i,s){this._viewContainer=e,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=[];e.forEachOperation((s,a,r)=>{if(null==s.previousIndex){const o=this._viewContainer.createEmbeddedView(this._template,new zJ(null,this._ngForOf,-1,-1),null===r?void 0:r),l=new d6(s,o);i.push(l)}else if(null==r)this._viewContainer.remove(null===a?void 0:a);else if(null!==a){const o=this._viewContainer.get(a);this._viewContainer.move(o,r);const l=new d6(s,o);i.push(l)}});for(let s=0;s<i.length;s++)this._perViewChange(i[s].view,i[s].record);for(let s=0,a=this._viewContainer.length;s<a;s++){const r=this._viewContainer.get(s);r.context.index=s,r.context.count=a,r.context.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{this._viewContainer.get(s.currentIndex).context.$implicit=s.item})}_perViewChange(e,i){e.context.$implicit=i.item}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(q(ks),q(xs),q(eh))},n.\u0275dir=he({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class d6{constructor(t,e){this.record=t,this.view=e}}let dh=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new YJ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){g6("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){g6("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(q(ks),q(xs))},n.\u0275dir=he({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class YJ{constructor(){this.$implicit=null,this.ngIf=null}}function g6(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${He(t)}'.`)}let oC=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=p6}transform(e,i=p6){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const s=this.differ.diff(e),a=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(r=>{this.keyValues.push(function(n,t){return{key:n,value:t}}(r.key,r.currentValue))})),(s||a)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)(q(th,16))},n.\u0275pipe=zi({name:"keyvalue",type:n,pure:!1}),n})();function p6(n,t){const e=n.key,i=t.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const s=String(e),a=String(i);return s==a?0:s<a?-1:1}let m6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qt({type:n}),n.\u0275inj=qt({providers:[{provide:Nv,useClass:jJ}]}),n})();const y6="browser";class b6{}class uC extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){Cv||(Cv=n)}(new uC)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(Af=Af||document.querySelector("base"),Af?Af.getAttribute("href"):null);return null==e?null:function(n){Lv=Lv||document.createElement("a"),Lv.setAttribute("href",n);const t=Lv.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Af=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return h6(document.cookie,t)}}let Lv,Af=null;const S6=new ye("TRANSITION_ID"),kZ=[{provide:gv,useFactory:function(n,t,e){return()=>{e.get(lh).donePromise.then(()=>{const i=rc(),s=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<s.length;a++)i.remove(s[a])})}},deps:[S6,Xe,wt],multi:!0}];class hC{static init(){!function(n){OE=n}(new hC)}addToWindow(t){ot.getAngularTestability=(i,s=!0)=>{const a=t.findTestabilityInTree(i,s);if(null==a)throw new Error("Could not find testability for element.");return a},ot.getAllAngularTestabilities=()=>t.getAllTestabilities(),ot.getAllAngularRootElements=()=>t.getAllRootElements(),ot.frameworkStabilizers||(ot.frameworkStabilizers=[]),ot.frameworkStabilizers.push(i=>{const s=ot.getAllAngularTestabilities();let a=s.length,r=!1;const o=function(l){r=r||l,a--,0==a&&i(r)};s.forEach(function(l){l.whenStable(o)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:i?rc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let DZ=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const Ef=new ye("EventManagerPlugins");let $v=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}addGlobalEventListener(e,i,s){return this._findPluginFor(i).addGlobalEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const s=this._plugins;for(let a=0;a<s.length;a++){const r=s[a];if(r.supports(e))return this._eventNameToPlugin.set(e,r),r}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(G(Ef),G(We))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();class dC{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const s=rc().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,i)}}let w6=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),Cf=(()=>{class n extends w6{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,s){e.forEach(a=>{const r=this._doc.createElement("style");r.textContent=a,s.push(i.appendChild(r))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(A6),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(e,s,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(A6))}}return n.\u0275fac=function(e){return new(e||n)(G(Xe))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();function A6(n){rc().remove(n)}const gC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},fC=/%COMP%/g;function Vv(n,t,e){for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?Vv(n,s,e):(s=s.replace(fC,n),e.push(s))}return e}function P6(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let qv=(()=>{class n{constructor(e,i,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new pC(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case jt.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new jZ(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(e),s}case 1:case jt.ShadowDom:return new WZ(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const s=Vv(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(G($v),G(Cf),G(ff))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();class pC{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(gC[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,s){if(s){e=s+":"+e;const a=gC[s];a?t.setAttributeNS(a,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const s=gC[i];s?t.removeAttributeNS(s,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,s){s&(Ji.DashCase|Ji.Important)?t.style.setProperty(e,i,s&Ji.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Ji.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,P6(i)):this.eventManager.addEventListener(t,e,P6(i))}}class jZ extends pC{constructor(t,e,i,s){super(t),this.component=i;const a=Vv(s+"-"+i.id,i.styles,[]);e.addStyles(a),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(fC,n)}(s+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(fC,n)}(s+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class WZ extends pC{constructor(t,e,i,s){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Vv(s.id,s.styles,[]);for(let r=0;r<a.length;r++){const o=document.createElement("style");o.textContent=a[r],this.shadowRoot.appendChild(o)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let zZ=(()=>{class n extends dC{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}}return n.\u0275fac=function(e){return new(e||n)(G(Xe))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const k6=["alt","control","meta","shift"],eX={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},D6={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},tX={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let iX=(()=>{class n extends dC{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,s){const a=n.parseEventName(i),r=n.eventCallback(a.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rc().onAndCancel(e,a.domEventName,r))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const a=n._normalizeKey(i.pop());let r="";if(k6.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),r+=l+".")}),r+=a,0!=i.length||0===a.length)return null;const o={};return o.domEventName=s,o.fullKey=r,o}static getEventFullKey(e){let i="",s=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&D6.hasOwnProperty(t)&&(t=D6[t]))}return eX[t]||t}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),k6.forEach(a=>{a!=s&&tX[a](e)&&(i+=a+".")}),i+=s,i}static eventCallback(e,i,s){return a=>{n.getEventFullKey(a)===e&&s.runGuarded(()=>i(a))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(G(Xe))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const lX=[{provide:ch,useValue:y6},{provide:f5,useValue:function(){uC.makeCurrent(),hC.init()},multi:!0},{provide:Xe,useFactory:function(){return function(n){Ie=n}(document),document},deps:[]}],uX=E5(tQ,"browser",lX),hX=[[],{provide:Oa,useValue:"root"},{provide:Ra,useFactory:function(){return new Ra},deps:[]},{provide:Ef,useClass:zZ,multi:!0,deps:[Xe,We,ch]},{provide:Ef,useClass:iX,multi:!0,deps:[Xe]},[],{provide:qv,useClass:qv,deps:[$v,Cf,ff]},{provide:Ql,useExisting:qv},{provide:w6,useExisting:Cf},{provide:Cf,useClass:Cf,deps:[Xe]},{provide:IE,useClass:IE,deps:[We]},{provide:$v,useClass:$v,deps:[Ef,We]},{provide:b6,useClass:DZ,deps:[]},[]];let bC=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:ff,useValue:e.appId},{provide:S6,useExisting:ff},kZ]}}}return n.\u0275fac=function(e){return new(e||n)(G(n,12))},n.\u0275mod=Qt({type:n}),n.\u0275inj=qt({providers:hX,imports:[m6,lQ]}),n})();function Hv(n,t){return new Ye(e=>{const i=n.length;if(0===i)return void e.complete();const s=new Array(i);let a=0,r=0;for(let o=0;o<i;o++){const l=kc(n[o]);let c=!1;e.add(l.subscribe({next:d=>{c||(c=!0,r++),s[o]=d},error:d=>e.error(d),complete:()=>{a++,(a===i||!c)&&(r===i&&e.next(t?t.reduce((d,f,y)=>(d[f]=s[y],d),{}):s),e.complete())}}))}})}"undefined"!=typeof window&&window;let R6=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(q(Jl),q(Rt))},n.\u0275dir=he({type:n}),n})(),ac=(()=>{class n extends R6{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Qi(n)))(i||n)}}(),n.\u0275dir=he({type:n,features:[Mt]}),n})();const Hr=new ye("NgValueAccessor"),SX={provide:Hr,useExisting:vt(()=>Gv),multi:!0};let Gv=(()=>{class n extends ac{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Qi(n)))(i||n)}}(),n.\u0275dir=he({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,i){1&e&&Fe("change",function(a){return i.onChange(a.target.checked)})("blur",function(){return i.onTouched()})},features:[at([SX]),Mt]}),n})();const _X={provide:Hr,useExisting:vt(()=>$a),multi:!0},AX=new ye("CompositionEventMode");let $a=(()=>{class n extends R6{constructor(e,i,s){super(e,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=rc()?rc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(q(Jl),q(Rt),q(AX,8))},n.\u0275dir=he({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&Fe("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[at([_X]),Mt]}),n})();function Oo(n){return null==n||0===n.length}function I6(n){return null!=n&&"number"==typeof n.length}const rn=new ye("NgValidators"),No=new ye("NgAsyncValidators"),EX=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _C{static min(t){return O6(t)}static max(t){return N6(t)}static required(t){return L6(t)}static requiredTrue(t){return function(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function(n){return Oo(n.value)||EX.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function(n){return t=>Oo(t.value)||!I6(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function(n){return t=>I6(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(n){if(!n)return Lo;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Oo(i.value))return null;const s=i.value;return t.test(s)?null:{pattern:{requiredPattern:e,actualValue:s}}}}(t)}static nullValidator(t){return null}static compose(t){return z6(t)}static composeAsync(t){return K6(t)}}function O6(n){return t=>{if(Oo(t.value)||Oo(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function N6(n){return t=>{if(Oo(t.value)||Oo(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function L6(n){return Oo(n.value)?{required:!0}:null}function Lo(n){return null}function G6(n){return null!=n}function F6(n){const t=Wy(n)?kc(n):n;return UA(t),t}function U6(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function j6(n,t){return t.map(e=>e(n))}function W6(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function z6(n){if(!n)return null;const t=n.filter(G6);return 0==t.length?null:function(e){return U6(j6(e,t))}}function wC(n){return null!=n?z6(W6(n)):null}function K6(n){if(!n)return null;const t=n.filter(G6);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if(Xo(t))return Hv(t,null);if(el(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Hv(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return Hv(n=1===n.length&&Xo(n[0])?n[0]:n,null).pipe(hs(e=>t(...e)))}return Hv(n,null)}(j6(e,t).map(F6)).pipe(hs(U6))}}function AC(n){return null!=n?K6(W6(n)):null}function Y6(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Q6(n){return n._rawValidators}function J6(n){return n._rawAsyncValidators}function EC(n){return n?Array.isArray(n)?n:[n]:[]}function Fv(n,t){return Array.isArray(n)?n.includes(t):n===t}function Z6(n,t){const e=EC(t);return EC(n).forEach(s=>{Fv(e,s)||e.push(s)}),e}function X6(n,t){return EC(t).filter(e=>!Fv(n,e))}let eG=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=wC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=AC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,i){return!!this.control&&this.control.hasError(e,i)}getError(e,i){return this.control?this.control.getError(e,i):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=he({type:n}),n})(),Pn=(()=>{class n extends eG{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Qi(n)))(i||n)}}(),n.\u0275dir=he({type:n,features:[Mt]}),n})();class Bo extends eG{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class tG{constructor(t){this._cd=t}is(t){var e,i,s;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(s=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===s?void 0:s[t])}}let oc=(()=>{class n extends tG{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(q(Bo,2))},n.\u0275dir=he({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&Kl("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[Mt]}),n})(),lc=(()=>{class n extends tG{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(q(Pn,10))},n.\u0275dir=he({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&Kl("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[Mt]}),n})();function Pf(n,t){TC(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&iG(n,t)})}(n,t),function(n,t){const e=(i,s)=>{t.valueAccessor.writeValue(i),s&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&iG(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Wv(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Kv(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function zv(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function TC(n,t){const e=Q6(n);null!==t.validator?n.setValidators(Y6(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=J6(n);null!==t.asyncValidator?n.setAsyncValidators(Y6(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const s=()=>n.updateValueAndValidity();zv(t._rawValidators,s),zv(t._rawAsyncValidators,s)}function Kv(n,t){let e=!1;if(null!==n){if(null!==t.validator){const s=Q6(n);if(Array.isArray(s)&&s.length>0){const a=s.filter(r=>r!==t.validator);a.length!==s.length&&(e=!0,n.setValidators(a))}}if(null!==t.asyncValidator){const s=J6(n);if(Array.isArray(s)&&s.length>0){const a=s.filter(r=>r!==t.asyncValidator);a.length!==s.length&&(e=!0,n.setAsyncValidators(a))}}}const i=()=>{};return zv(t._rawValidators,i),zv(t._rawAsyncValidators,i),e}function iG(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Yv(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Tf="VALID",Qv="INVALID",gh="PENDING",xf="DISABLED";function DC(n){return(RC(n)?n.validators:n)||null}function rG(n){return Array.isArray(n)?wC(n):n||null}function MC(n,t){return(RC(t)?t.asyncValidators:n)||null}function aG(n){return Array.isArray(n)?AC(n):n||null}function RC(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class IC{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=rG(this._rawValidators),this._composedAsyncValidatorFn=aG(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Tf}get invalid(){return this.status===Qv}get pending(){return this.status==gh}get disabled(){return this.status===xf}get enabled(){return this.status!==xf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=rG(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=aG(t)}addValidators(t){this.setValidators(Z6(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Z6(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(X6(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(X6(t,this._rawAsyncValidators))}hasValidator(t){return Fv(this._rawValidators,t)}hasAsyncValidator(t){return Fv(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=gh,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=xf,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Tf,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tf||this.status===gh)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xf:Tf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=gh,this._hasOwnPendingAsyncValidator=!0;const e=F6(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(s=>{i=i instanceof ki?i.controls.hasOwnProperty(s)?i.controls[s]:null:i instanceof Jv&&i.at(s)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new ht,this.statusChanges=new ht}_calculateStatus(){return this._allControlsDisabled()?xf:this.errors?Qv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gh)?gh:this._anyControlsHaveStatus(Qv)?Qv:Tf}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){RC(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class se extends IC{constructor(t=null,e,i){super(DC(e),MC(i,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Yv(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Yv(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class ki extends IC{constructor(t,e,i){super(DC(e),MC(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof se?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((s,a)=>{i=e(i,s,a)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class Jv extends IC{constructor(t,e,i){super(DC(e),MC(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,s)=>{this._throwIfControlMissing(s),this.at(s).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,s)=>{this.at(s)&&this.at(s).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof se?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let hG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=he({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const qX={provide:Hr,useExisting:vt(()=>Zv),multi:!0};let Zv=(()=>{class n extends ac{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Qi(n)))(i||n)}}(),n.\u0275dir=he({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&Fe("input",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},features:[at([qX]),Mt]}),n})();const HX={provide:Hr,useExisting:vt(()=>NC),multi:!0};let dG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qt({type:n}),n.\u0275inj=qt({}),n})(),GX=(()=>{class n{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e)return void this._accessors.splice(i,1)}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return!!e[0].control&&e[0]._parent===i._control._parent&&e[1].name===i.name}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({factory:function(){return new n},token:n,providedIn:dG}),n})(),NC=(()=>{class n extends ac{constructor(e,i,s,a){super(e,i),this._registry=s,this._injector=a,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Bo),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(e){return new(e||n)(q(Jl),q(Rt),q(GX),q(wt))},n.\u0275dir=he({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,i){1&e&&Fe("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[at([HX]),Mt]}),n})();const LC=new ye("NgModelWithFormControlWarning"),jX={provide:Pn,useExisting:vt(()=>Va)};let Va=(()=>{class n extends Pn{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ht,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Kv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Pf(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Wv(e.control||null,e,!1),Yv(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,s=this.form.get(e.path);i!==s&&(Wv(i||null,e),s instanceof se&&(Pf(s,e),e.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function(n,t){TC(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(n,t){return Kv(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){TC(this.form,this),this._oldForm&&Kv(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(q(rn,10),q(No,10))},n.\u0275dir=he({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&Fe("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[at([jX]),Mt,Ct]}),n})();const KX={provide:Bo,useExisting:vt(()=>$o)};let $o=(()=>{class n extends Bo{constructor(e,i,s,a,r){super(),this._ngModelWarningConfig=r,this._added=!1,this.update=new ht,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function(n,t){if(!t)return null;let e,i,s;return Array.isArray(t),t.forEach(a=>{a.constructor===$a?e=a:function(n){return Object.getPrototypeOf(n.constructor)===ac}(a)?i=a:s=a}),s||i||e||null}(0,a)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(e){return new(e||n)(q(Pn,13),q(rn,10),q(No,10),q(Hr,10),q(LC,8))},n.\u0275dir=he({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[at([KX]),Mt,Ct]}),n._ngModelWarningSentOnce=!1,n})();const YX={provide:Hr,useExisting:vt(()=>Df),multi:!0};function mG(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Df=(()=>{class n extends ac{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=this._getOptionId(e);null==i&&this.setProperty("selectedIndex",-1);const s=mG(i,e);this.setProperty("value",s)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Qi(n)))(i||n)}}(),n.\u0275dir=he({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&Fe("change",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[at([YX]),Mt]}),n})(),VC=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(mG(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(q(Rt),q(Jl),q(Df,9))},n.\u0275dir=he({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const JX={provide:Hr,useExisting:vt(()=>qC),multi:!0};function yG(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let qC=(()=>{class n extends ac{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const s=e.map(a=>this._getOptionId(a));i=(a,r)=>{a._setSelected(s.indexOf(r.toString())>-1)}}else i=(s,a)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const s=[];if(void 0!==i.selectedOptions){const a=i.selectedOptions;for(let r=0;r<a.length;r++){const o=a.item(r),l=this._getOptionValue(o.value);s.push(l)}}else{const a=i.options;for(let r=0;r<a.length;r++){const o=a.item(r);if(o.selected){const l=this._getOptionValue(o.value);s.push(l)}}}this.value=s,e(s)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Qi(n)))(i||n)}}(),n.\u0275dir=he({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&Fe("change",function(a){return i.onChange(a.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[at([JX]),Mt]}),n})(),HC=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(yG(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(yG(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(q(Rt),q(Jl),q(qC,9))},n.\u0275dir=he({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),bG=(()=>{class n{constructor(){this._validator=Lo}handleChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._validator=this.createValidator(i),this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=he({type:n}),n})();const XX={provide:rn,useExisting:vt(()=>Xv),multi:!0};let Xv=(()=>{class n extends bG{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>parseFloat(e),this.createValidator=e=>N6(e)}ngOnChanges(e){this.handleChanges(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Qi(n)))(i||n)}}(),n.\u0275dir=he({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,i){if(2&e){let s;ar("max",null!==(s=i.max)&&void 0!==s?s:null)}},inputs:{max:"max"},features:[at([XX]),Mt,Ct]}),n})();const eee={provide:rn,useExisting:vt(()=>GC),multi:!0};let GC=(()=>{class n extends bG{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>parseFloat(e),this.createValidator=e=>O6(e)}ngOnChanges(e){this.handleChanges(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Qi(n)))(i||n)}}(),n.\u0275dir=he({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){if(2&e){let s;ar("min",null!==(s=i.min)&&void 0!==s?s:null)}},inputs:{min:"min"},features:[at([eee]),Mt,Ct]}),n})();const tee={provide:rn,useExisting:vt(()=>eb),multi:!0};let eb=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?L6(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=he({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&ar("required",i.required?"":null)},inputs:{required:"required"},features:[at([tee])]}),n})(),CG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qt({type:n}),n.\u0275inj=qt({imports:[[dG]]}),n})(),oee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qt({type:n}),n.\u0275inj=qt({imports:[CG]}),n})(),lee=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:LC,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qt({type:n}),n.\u0275inj=qt({imports:[CG]}),n})();var Gt=Ut(815);class ee{constructor(){this.multiplier=1,this.multiplierMessage="",this.originalPower=this.power}reset(){this.uses=this.originalUses}}class FC extends ee{constructor(){super(...arguments),this.name="Peanut",this.tier=7,this.equipmentClass="attack",this.power=0}}class UC extends ee{constructor(){super(...arguments),this.name="Salt",this.tier=4,this.equipmentClass="attack",this.uses=1,this.originalUses=1}}class jC extends ee{constructor(){super(...arguments),this.name="Cheese",this.equipmentClass="attack",this.uses=1,this.originalUses=1}}class WC extends ee{constructor(){super(...arguments),this.name="Pepper",this.equipmentClass="shield",this.uses=1,this.originalUses=1,this.power=0,this.originalPower=0}}class zC extends ee{constructor(){super(),this.name="Fortune Cookie",this.equipmentClass="attack"}}class Mf extends ee{constructor(){super(...arguments),this.name="Dazed",this.equipmentClass="ailment-other"}}class fh extends ee{constructor(){super(...arguments),this.name="Icky",this.equipmentClass="ailment-other",this.uses=2,this.originalUses=2}}class Vo extends ee{constructor(){super(...arguments),this.name="Crisp",this.equipmentClass="ailment-other"}}class tb extends ee{constructor(){super(...arguments),this.name="Toasty",this.equipmentClass="ailment-other",this.uses=1,this.originalUses=1}}class Rf extends ee{constructor(){super(...arguments),this.name="Peanut Butter",this.equipmentClass="attack",this.tier=7,this.power=0,this.uses=1,this.originalUses=1}}class PG extends ee{constructor(){super(),this.name="Blackberry",this.tier=3,this.equipmentClass="shop"}}class TG extends ee{constructor(){super(...arguments),this.name="Honeydew Melon",this.tier=5,this.equipmentClass="shield",this.power=10,this.originalPower=10,this.uses=1,this.originalUses=1}}class cee extends ee{constructor(){super(...arguments),this.name="Honeydew Melon (Attack)",this.equipmentClass="attack",this.power=5,this.originalPower=5}}class If extends ee{constructor(){super(...arguments),this.name="Maple Syrup",this.tier=5,this.equipmentClass="shield",this.power=0,this.originalPower=0,this.uses=3,this.originalUses=3}}class KC extends ee{constructor(){super(...arguments),this.name="Maple Syrup (Attack)",this.equipmentClass="attack",this.power=0,this.originalPower=0}}class YC extends ee{constructor(){super(...arguments),this.name="White Okra",this.tier=6,this.equipmentClass="shield",this.power=10,this.originalPower=10,this.uses=2,this.originalUses=2}}class xG extends ee{constructor(){super(...arguments),this.name="Ambrosia",this.tier=4,this.equipmentClass="shield",this.power=8,this.originalPower=8,this.uses=1,this.originalUses=1}}"function"==typeof SuppressedError&&SuppressedError;class E{constructor(t){var e,i,s,a,r;this.name=t.name,this.owner=t.owner,this.triggers=t.triggers,this.abilityType=t.abilityType,this.maxUses=null!==(e=t.maxUses)&&void 0!==e?e:-1,this.initialCurrentUses=t.owner.triggersConsumed,this.currentUses=this.initialCurrentUses,this.abilityLevel=null!==(i=t.abilitylevel)&&void 0!==i?i:1,this.condition=t.condition,this.abilityFunction=t.abilityFunction,this.native=null===(s=t.native)||void 0===s||s,this.ignoreRepeats=null!==(a=t.ignoreRepeats)&&void 0!==a&&a,this.alwaysIgnorePetLevel=null!==(r=t.alwaysIgnorePetLevel)&&void 0!==r&&r}canUse(){return!(this.maxUses>0&&this.currentUses>=this.maxUses)}execute(t,e,i,s,a){if(this.owner.removed&&!this.matchesTrigger("ThisDied")||!this.owner.abilityValidCheck())return!1;try{const r=Object.assign({gameApi:t,triggerPet:e,tiger:i,pteranodon:s},a);return!(this.condition&&!this.condition(r)||(this.currentUses++,this.abilityFunction(r),0))}catch(r){return console.error(`Error executing ability ${this.name||"unnamed"}:`,r),!1}}tigerCheck(t){var e;return!this.ignoreRepeats&&"Pet"==this.abilityType&&!(!this.owner.petBehind(!0,!0)||!(null===(e=this.owner.petBehind(!0,!0))||void 0===e?void 0:e.hasTrigger(null,null,"TigerAbility"))||null!=t&&0!=t)}triggerTigerExecution(t){if(!this.tigerCheck(t.tiger)||!this.canUse())return;let e=this.abilityLevel,i=this.alwaysIgnorePetLevel;this.abilityLevel=this.owner.petBehind(null,!0).level,this.alwaysIgnorePetLevel=!0;const{gameApi:s,triggerPet:a,pteranodon:o}=t,l=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]])}return e}(t,["gameApi","triggerPet","tiger","pteranodon"]);this.execute(s,a,!0,o,l),this.abilityLevel=e,this.alwaysIgnorePetLevel=i}reset(){this.currentUses=0}initUses(){this.currentUses=this.initialCurrentUses}copy(t){return null}matchesTrigger(t){return this.triggers.includes(t)}get level(){return this.alwaysIgnorePetLevel?this.abilityLevel:this.owner.level}get minExpForLevel(){return 1==this.level?0:2==this.level?2:5}}class Iee extends E{constructor(t,e,i){super({name:"WhiteTruffleAbility",owner:t,triggers:["FriendDied"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=e,this.logService=i}executeAbility(t){const{tiger:a}=t,r=this.owner;for(let l=0;l<this.equipment.multiplier;l++){if(r.transformed&&r.transformedInto){let d=r.parent.getThis(r.transformedInto);d.pet&&(r.transformedInto.increaseAttack(4),this.logService.createLog({message:`${r.name} gave ${r.transformedInto.name} 4 attack`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}))}else{let d=r.parent.getThis(r);d.pet&&(d.pet.increaseAttack(4),this.logService.createLog({message:`${r.name} gave ${d.pet.name} 4 attack`,type:"ability",player:r.parent,tiger:a,randomEvent:d.random}))}let c=r.parent.opponent.getHighestAttackPet(void 0,r);c.pet&&(r.jumpAttackPrep(c.pet),r.jumpAttack(c.pet,a,null,c.random))}r.removePerk()}}class MG extends ee{constructor(t){super(),this.logService=t,this.name="White Truffle",this.equipmentClass="faint",this.callback=e=>{e.addAbility(new Iee(e,this,this.logService))}}}class RG extends ee{constructor(){super(...arguments),this.name="Guava",this.tier=3,this.equipmentClass="shield",this.power=3,this.originalPower=3,this.uses=1,this.originalUses=1}}class Oee extends ee{constructor(){super(...arguments),this.name="Guava (Attack)",this.equipmentClass="attack",this.power=3,this.originalPower=3}}class S{constructor(t,e,i){this.logService=t,this.abilityService=e,this.hidden=!1,this.exp=0,this.mana=0,this.triggersConsumed=0,this.swallowedPets=[],this.timesHurt=0,this.timesAttacked=0,this.battlesFought=0,this.transformedInto=null,this.abilityCounter=0,this.targettedFriends=new Set,this.originalExp=0,this.originalTimesHurt=0,this.faintPet=!1,this.toyPet=!1,this.transformed=!1,this.removed=!1,this.startOfBattleTriggered=!1,this.jumped=!1,this.done=!1,this.seenDead=!1,this.eggplantTouched=!1,this.cherryTouched=!1,this.maxAbilityUses=null,this.abilityList=[],this.originalAbilityList=[],this.parent=i}initPet(t,e,i,s,a,r){this.exp=null!=t?t:this.exp,this.health=null!=e?e:this.health*this.level,this.attack=null!=i?i:this.attack*this.level,this.mana=null!=s?s:this.mana,this.triggersConsumed=null!=r?r:this.triggersConsumed,this.originalHealth=this.health,this.originalAttack=this.attack,this.originalMana=this.mana,this.originalTriggersConsumed=this.triggersConsumed,this.equipment=a,this.originalEquipment=a,this.originalExp=this.exp,this.initAbilities(),this.originalAbilityList=[...this.abilityList]}initAbilities(){this.initAbilityUses(),this.setAbilityEquipments()}abilityValidCheck(){return!(null==this.savedPosition||this.equipment instanceof Mf&&(this.logService.createLog({message:`${this.name}'s ability was not activated because of Dazed.`,type:"ability",player:this.parent}),1))}resetAbilityUses(){this.abilityList.forEach(t=>{t.reset()})}initAbilityUses(){this.abilityList.forEach(t=>{t.initUses()})}attackPet(t,e=!1,i,s=!1){var a,r,o,l;this.timesAttacked++;let x,c=this.calculateDamgae(t,this.getManticoreMult(),i),d=c.attackEquipment,f=c.defenseEquipment,y=c.damage,b=null===(a=this.equipment)||void 0===a?void 0:a.multiplier,P=null===(r=t.equipment)||void 0===r?void 0:r.multiplier;if(this.currentTarget=t,e?(x=`${this.name} jump-attacks ${t.name} for ${y}.`,this.equipment instanceof MG&&(x+="(White Truffle)")):x=`${this.name} attacks ${t.name} for ${y}.`,d instanceof FC&&y>0)this.logService.createLog({message:`${x} (Peanut)`,type:"attack",player:this.parent,randomEvent:s}),this.dealDamage(t,y),t.killedBy=this,t.health=0;else if(d instanceof Rf&&y>0&&d.uses>0)this.logService.createLog({message:`${x} (Peanut Butter)`,type:"attack",player:this.parent,randomEvent:s}),t.killedBy=this,this.dealDamage(t,y),t.health=0;else{if(this.dealDamage(t,y),null!=d){let $=Math.abs(d.power),j="-";d.power>0&&(j="+");let W=`${j}${$}`;d instanceof UC&&(W="x2"),d instanceof KC&&(W="x0.5"),d instanceof jC&&(W=y<=15?"=15":"+0"),d instanceof zC&&(s=!0,c.fortuneCookie?(W="x2",d.multiplier>1&&(W+=d.multiplierMessage)):W="x1"),x+=` (${d.name} ${W})`,b>1&&(x+=this.equipment.multiplierMessage)}if(null!=f){let $=Math.abs(f.power),j="-";if(f.power<0&&(j="+"),"Strawberry"===f.name){let W=t.getSparrowLevel();W>0&&($=5*W,x+=` (Strawberry -${$} (Sparrow))`)}else f instanceof WC?(j=1==t.health?"!":"-",$="",x+=` (${f.name} ${j}${$})`):f instanceof If?($="x0.5",x+=` (${f.name} ${$})`):x+=` (${f.name} ${j}${$})`;P>1&&(x+=t.equipment.multiplierMessage)}t.equipment instanceof fh&&(x+="x2 (Icky)",t.equipment.multiplier>1&&(x+=t.equipment.multiplierMessage)),c.nurikabe>0&&(x+=` -${c.nurikabe} (Nurikabe)`),c.fairyBallReduction>0&&(x+=` -${c.fairyBallReduction} (Fairy Ball)`),c.fanMusselReduction>0&&(x+=` -${c.fanMusselReduction} (Fan Mussel)`),c.ghostKittenReduction>0&&(x+=` -${c.ghostKittenReduction} (Ghost Kitten)`),c.mapleSyrupReduction>0&&(x+=` -${c.mapleSyrupReduction} (Maple Syrup)`);let D=this.getManticoreMult(),I=["Weak","Cold","Icky","Spooked"].includes(null===(o=t.equipment)||void 0===o?void 0:o.name);if(D.length>0&&I)for(let $ of D)x+=` x${$+1} (Manticore)`;this.logService.createLog({message:x,type:"attack",player:this.parent,randomEvent:s});let U="skewer"==(null===(l=this.equipment)||void 0===l?void 0:l.equipmentClass)?this.equipment:null;null!=U&&U.attackCallback(this,t)}this.abilityService.triggerAttacksEvents(this),this.applyCrisp()}applyCrisp(){let t=this.parent.opponent.getManticoreMult();for(let e of this.parent.petArray)if(e.equipment instanceof Vo){let i=6,s=e.equipment.multiplier;for(let d of t)s+=d;i*=s;let a=0;if(e.hasTrigger(void 0,"Pet","FairyAbility")&&i>0)for(let d of e.abilityList)"FairyAbility"==d.name&&(a+=2*d.level,i=Math.max(0,i-2*d.level));let r=0;if(e.hasTrigger(void 0,"Pet","NurikabeAbility")&&i>0)for(let d of e.abilityList)"NurikabeAbility"==d.name&&(r+=4*d.level,i=Math.max(0,i-4*d.level),d.currentUses++);let o=0;if(e.hasTrigger(void 0,"Pet","FanMusselAbility")&&i>0)for(let d of e.abilityList)"FanMusselAbility"==d.name&&(o+=1*d.level,i=Math.max(0,i-o),d.currentUses++);let l=0;if(e.hasTrigger(void 0,"Pet","GhostKittenAbility")&&i>0)for(let d of e.abilityList)"GhostKittenAbility"==d.name&&(l+=3*d.level,i=Math.max(0,i-l));let c=`${e.name} took ${i} damage`;if(t.length>0)for(let d of t)c+=` x${d+1} (Manticore)`;e.equipment.multiplier>1&&(c+=e.equipment.multiplierMessage),a>0&&(c+=`-${a} (FairyBall)`),r>0&&(c+=` -${r} (Nurikabe)`),o>0&&(c+=` -${o} (Fan Mussel)`),l>0&&(c+=` -${l} (Ghost Kitten)`),c+=" (Crisp).",this.logService.createLog({message:c,type:"ability",player:e.parent}),this.dealDamage(e,i),e.removePerk()}else if(e.equipment instanceof tb&&e.equipment.uses>0){let i=1,s=e.equipment.multiplier;for(let d of t)s+=d;i*=s;let a=0;if(e.hasTrigger(void 0,"Pet","FairyAbility")&&i>0)for(let d of e.abilityList)"FairyAbility"==d.name&&(a+=2*d.level,i=Math.max(0,i-2*d.level));let r=0;if(e.hasTrigger(void 0,"Pet","NurikabeAbility")&&i>0)for(let d of e.abilityList)"NurikabeAbility"==d.name&&(r+=4*d.level,i=Math.max(0,i-4*d.level),d.currentUses++);let o=0;if(e.hasTrigger(void 0,"Pet","FanMusselAbility")&&i>0)for(let d of e.abilityList)"FanMusselAbility"==d.name&&(o+=1*d.level,i=Math.max(0,i-o),d.currentUses++);let l=0;if(e.hasTrigger(void 0,"Pet","GhostKittenAbility")&&i>0)for(let d of e.abilityList)"GhostKittenAbility"==d.name&&(l+=3*d.level,i=Math.max(0,i-l));let c=`${e.name} took ${i} damage`;if(t.length>0)for(let d of t)c+=` x${d+1} (Manticore)`;e.equipment.multiplier>1&&(c+=e.equipment.multiplierMessage),a>0&&(c+=`-${a} (FairyBall)`),r>0&&(c+=` -${r} (Nurikabe)`),o>0&&(c+=` -${o} (Fan Mussel)`),l>0&&(c+=` -${l} (Ghost Kitten)`),c+=" (Toasty).",this.logService.createLog({message:c,type:"ability",player:e.parent}),this.dealDamage(e,i),e.equipment.uses--,e.equipment.uses<=0&&e.removePerk()}}snipePet(t,e,i,s,a,r,o){var l,c,d,f,y;let b=!1;"Albatross"==(null===(l=this.petAhead)||void 0===l?void 0:l.name)&&t.tier<=4&&(e+=3*this.petAhead.level,b=!0),"Albatross"==(null===(c=this.petBehind())||void 0===c?void 0:c.name)&&t.tier<=4&&(e+=3*this.petBehind().level,b=!0);let P=this.calculateDamgae(t,this.getManticoreMult(),e,!0),x=P.attackEquipment,D=P.defenseEquipment,N=P.damage;this.dealDamage(t,N);let I=`${this.name} sniped ${t.name} for ${N}.`;if(null!=D){t.useDefenseEquipment(!0);let W=Math.abs(D.power),le="-";if(D.power<0&&(le="+"),"Strawberry"===D.name){let xe=t.getSparrowLevel();xe>0&&(W=5*xe,I+=` (Strawberry -${W} (Sparrow))`)}else I+=` (${D.name} ${le}${W})`;I+=D.multiplierMessage}if(null!=x&&"attack-snipe"==x.equipmentClass){let W=Math.abs(x.power),le="-";x.power>0&&(le="+"),I+=` (${x.name} ${le}${W})`}(null===(d=this.equipment)||void 0===d?void 0:d.multiplier)>1&&(I+=this.equipment.multiplierMessage),s&&(I+=" (Tiger)"),b&&(I+=" (Albatross)"),r&&this.equipment&&(I+=` (${this.equipment.name})`),o&&(I+=" (Mana)"),"Icky"==(null===(f=t.equipment)||void 0===f?void 0:f.name)&&(I+="x2 (Icky)",t.equipment.multiplier>1&&(I+=t.equipment.multiplierMessage));let U=this.getManticoreMult(),j=["Weak","Cold","Icky","Spooked"].includes(null===(y=t.equipment)||void 0===y?void 0:y.name);if(U.length>0&&j)for(let W of U)I+=` x${W+1} (Manticore)`;return P.nurikabe>0&&(I+=` -${P.nurikabe} (Nurikabe)`),P.fairyBallReduction>0&&(I+=` -${P.fairyBallReduction} (Fairy Ball)`),P.fanMusselReduction>0&&(I+=` -${P.fanMusselReduction} (Fan Mussel)`),P.ghostKittenReduction>0&&(I+=` -${P.ghostKittenReduction} (Ghost Kitten)`),this.logService.createLog({message:I,type:"attack",randomEvent:i,player:this.parent,pteranodon:a}),N}calculateDamgae(t,e,i,s=!1){var a,r,o,l,c,d,f,y,b,P;let x=null===(a=this.equipment)||void 0===a?void 0:a.multiplier,D=null===(r=t.equipment)||void 0===r?void 0:r.multiplier;const I=["Ink"];let j,W,$="defense"==(null===(o=t.equipment)||void 0===o?void 0:o.equipmentClass)||"shield"==(null===(l=t.equipment)||void 0===l?void 0:l.equipmentClass)||"ailment-defense"==(null===(c=t.equipment)||void 0===c?void 0:c.equipmentClass)||s&&"shield-snipe"==(null===(d=t.equipment)||void 0===d?void 0:d.equipmentClass)?t.equipment:null;if(null!=$){if(["Cold","Weak","Spooked"].includes(null==$?void 0:$.name))for(let te of e)D+=te;$.power=$.originalPower*D}if(s)j="attack-snipe"==(null===(f=this.equipment)||void 0===f?void 0:f.equipmentClass)?this.equipment:null,W=null!=j?i+j.power:i,$ instanceof If&&($=null);else{if(j=this.equipment instanceof TG?new cee:this.equipment instanceof If?new KC:this.equipment instanceof RG?new Oee:"attack"==(null===(y=this.equipment)||void 0===y?void 0:y.equipmentClass)||"ailment-attack"==(null===(b=this.equipment)||void 0===b?void 0:b.equipmentClass)?this.equipment:null,null!=j){if(I.includes(null==j?void 0:j.name))for(let Vt of e)x+=Vt;j.power=j.originalPower*x}let te=this.attack;"Monty"==this.name&&(te*=this.level+1),W=(null!=i?i:te)+((null==j?void 0:j.power)?j.power:0)}let le=(null==$?void 0:$.power)?$.power:0,xe=t.getSparrowLevel();"Strawberry"===(null===(P=t.equipment)||void 0===P?void 0:P.name)&&xe>0&&(le+=5*xe),t.equipment instanceof If&&t.equipment.uses>0&&!s&&(W=Math.floor(W*Math.pow(.5,D))),j instanceof UC&&!s&&(W*=2+x-1),j instanceof KC&&!s&&(W=Math.floor(W*Math.pow(.5,x)));let ke=!1;if(j instanceof zC&&!s&&Math.random()<.5&&(W*=2+x-1,ke=!0),j instanceof jC&&!s&&(W=Math.max(15,W)),t.equipment instanceof fh){let te=2;for(let ve of e)te+=ve;te+=t.equipment.multiplier-1,W*=te}let Ke,ge="shield"==(null==$?void 0:$.equipmentClass)||"shield-snipe"==(null==$?void 0:$.equipmentClass)?0:1;void 0!==(null==$?void 0:$.minimumDamage)&&(ge=$.minimumDamage),Ke=W<=ge&&le>0?Math.max(W,0):Math.max(ge,W-le),$ instanceof WC&&(Ke=Math.min(Ke,t.health-1));let yt=0;if(t.hasTrigger(void 0,"Pet","FairyAbility")&&Ke>0)for(let te of t.abilityList)"FairyAbility"==te.name&&(yt+=2*te.level,Ke=Math.max(0,Ke-2*te.level));let Ri=0;if(t.hasTrigger(void 0,"Pet","NurikabeAbility")&&Ke>0)for(let te of t.abilityList)"NurikabeAbility"==te.name&&(Ri=4*te.level,Ke=Math.max(0,Ke-Ri),te.currentUses++);let Ii=0;if(t.hasTrigger(void 0,"Pet","FanMusselAbility")&&Ke>0)for(let te of t.abilityList)"FanMusselAbility"==te.name&&(Ii+=1*te.level,Ke=Math.max(0,Ke-Ii),te.currentUses++);let ie=0;if(s&&t.hasTrigger(void 0,"Pet","GhostKittenAbility")&&Ke>0)for(let te of t.abilityList)"GhostKittenAbility"==te.name&&(ie+=3*te.level,Ke=Math.max(0,Ke-ie));return{defenseEquipment:$,attackEquipment:j,damage:Ke,fortuneCookie:ke,nurikabe:Ri,fairyBallReduction:yt,fanMusselReduction:Ii,mapleSyrupReduction:0,ghostKittenReduction:ie}}resetPet(){var t;this.health=this.originalHealth,this.attack=this.originalAttack,this.equipment=this.originalEquipment,this.lastLostEquipment=null,this.mana=this.originalMana,this.triggersConsumed=this.originalTriggersConsumed,this.exp=this.originalExp,this.timesHurt=this.originalTimesHurt,this.timesAttacked=0,this.abilityCounter=0,this.transformed=!1,this.transformedInto=null,this.currentTarget=null,this.lastAttacker=null,this.killedBy=null,this.swallowedPets=[],this.targettedFriends.clear(),this.savedPosition=this.originalSavedPosition,this.abilityList=[...this.originalAbilityList],this.initAbilityUses(),this.done=!1,this.seenDead=!1,this.removed=!1,this.jumped=!1;try{null===(t=this.equipment)||void 0===t||t.reset()}catch(e){console.warn("equipment reset failed",this.equipment),console.error(e)}this.equipment&&(this.equipment.multiplier=1,this.equipment.multiplierMessage="")}jumpAttackPrep(t){this.abilityService.triggerBeforeAttackEvent(this),this.abilityService.triggerBeforeAttackEvent(t),this.abilityService.executeBeforeAttackEvents()}jumpAttack(t,e,i,s=!1){let a;t.lastAttacker=this,a=this.transformed?this.transformedInto:this,t.transformed&&(t=t.transformedInto),a.alive&&t.alive&&(a.attackPet(t,!0,i,s),t.attackPet(a),a.useAttackDefenseEquipment(),t.useAttackDefenseEquipment(),a.parent.checkPetsAlive(),t.parent.checkPetsAlive(),a.abilityService.executeAfterAttackEvents(),a.abilityService.triggerJumpEvents(a))}get alive(){return this.health>0}setFaintEventIfPresent(){this.abilityService.triggerFaintEvents(this),this.mana>0&&this.abilityService.setManaEvent({priority:this.attack,callback:(t,e,i,s)=>{if(0==this.mana||this.kitsuneCheck())return;const r=this.parent.opponent.getRandomPet([],!1,!0,!1,this);null!=r.pet&&(this.snipePet(r.pet,this.mana,r.random,!1,!1,!1,!0),this.mana=0)},pet:this,triggerPet:this,tieBreaker:Math.random()})}useDefenseEquipment(t=!1){if(null!=this.equipment){if("ailment-defense"!=this.equipment.equipmentClass&&"Icky"!=this.equipment.name&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&t&&"shield-snipe"!=this.equipment.equipmentClass)return;null!=this.equipment.uses&&(this.equipment.uses-=1,0==this.equipment.uses&&this.removePerk())}}useAttackDefenseEquipment(){null!=this.equipment&&null!=this.equipment.uses&&("attack"!=this.equipment.equipmentClass&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&"snipe"!=this.equipment.equipmentClass&&"ailment-attack"!=this.equipment.equipmentClass&&"ailment-defense"!=this.equipment.equipmentClass&&"Icky"!=this.equipment.name||(isNaN(this.equipment.uses)&&console.warn("uses is NaN",this.equipment),this.equipment.uses-=1,0==this.equipment.uses&&this.removePerk()))}increaseAttack(t){let e=50;"Behemoth"==this.name&&(e=100),this.alive&&(this.attack=Math.min(Math.max(this.attack+t,1),e))}increaseHealth(t){let e=50;("Behemoth"==this.name||"Giant Tortoise"==this.name)&&(e=100),this.alive&&(this.health=Math.min(Math.max(this.health+t,1),e),this.abilityService.triggerFriendGainsHealthEvents(this))}dealDamage(t,e){var i;if(t.alive){if(e>=t.health&&"Bok Choy"==(null===(i=t.equipment)||void 0===i?void 0:i.name)){let a=3*t.equipment.multiplier;this.logService.createLog({message:`${t.name} gained ${a} health (Bok Choy) ${t.equipment.multiplierMessage} `,type:"equipment",player:t.parent}),t.increaseHealth(a),t.removePerk()}t.health-=e,t.health<=0&&(t.killedBy=this),e>0&&t.timesHurt++,t.health<1&&this.abilityService.triggerKillEvents(this,t),e>0&&this.abilityService.triggerHurtEvents(t,e)}}increaseExp(t){let e=this.level;this.increaseAttack(t),this.increaseHealth(t),this.exp=Math.min(this.exp+t,5);let i=this.level-e;for(let s=0;s<i;s++)this.logService.createLog({message:`${this.name} leveled up to level ${this.level}.`,type:"ability",player:this.parent}),this.abilityService.triggerLevelUpEvents(this),this.abilityService.executeFriendlyLevelUpToyEvents(),this.resetAbilityUses();for(let s=0;s<Math.min(t,5);s++)this.abilityService.triggerFriendGainedExperienceEvents(this)}increaseMana(t){this.mana+=t,this.mana=Math.min(this.mana,50),this.abilityService.triggerManaGainedEvents(this)}givePetEquipment(t,e=1){if(null!=t){if(this.alive)if("ailment-attack"==t.equipmentClass||"ailment-defense"==t.equipmentClass||"ailment-other"==t.equipmentClass){if(this.equipment instanceof xG)return this.equipment.uses--,this.logService.createLog({message:`${this.name} blocked ${t.name}. (Ambrosia)`,type:"equipment",player:this.parent}),void(0==this.equipment.uses&&this.removePerk());if(this.equipment instanceof YC)return this.logService.createLog({message:`${this.name} blocked ${t.name}. (White Okra)`,type:"equipment",player:this.parent}),void this.removePerk();null!=this.equipment&&this.removePerk(!0),this.applyEquipment(t,e),this.abilityService.triggerAilmentGainEvents(this,t.name)}else{if(t instanceof PG){this.applyEquipment(t,e);let i=1*t.multiplier,s=2*t.multiplier;this.increaseAttack(i),this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${i} attack and ${s} health (Blackberry)${t.multiplierMessage}`,type:"equipment",player:this.parent})}else this.applyEquipment(t,e);this.abilityService.triggerPerkGainEvents(this,t.name),this.abilityService.triggerFoodEvents(this,t.name)}}else console.warn(`givePetEquipment called with null equipment for pet: ${this.name}`)}applyEquipment(t,e=1){null!=t&&(this.equipment=t,this.setEquipmentMultiplier(e),this.removeAbility(void 0,"Equipment"),this.equipment.callback&&this.equipment.callback(this))}removePerk(t=!1){var e;if(null==this.equipment)return;let i="ailment-attack"==this.equipment.equipmentClass||"ailment-defense"==this.equipment.equipmentClass||"ailment-other"==this.equipment.equipmentClass;t&&i||(this.lastLostEquipment=this.equipment,this.removeAbility(void 0,"Equipment"),this.equipment=null,i||this.abilityService.triggerPerkLossEvents(this,null===(e=this.lastLostEquipment)||void 0===e?void 0:e.name))}setEquipmentMultiplier(t=1){var e;if(!this.equipment)return;let i=(null===(e=this.equipment)||void 0===e?void 0:e.multiplier)||1,s=[];"Panther"===this.name&&"ailment-attack"!==this.equipment.equipmentClass&&"ailment-defense"!==this.equipment.equipmentClass&&"ailment-other"!==this.equipment.equipmentClass&&(i+=this.level,s.push(`x${this.level+1} (Panther)`)),t&&t>1&&(i+=t-1,s.push(`x${t} (Pandora's Box)`)),this.equipment.multiplier=i,this.equipment.multiplierMessage=s.length>0?` ${s.join(" ")}`:""}get level(){return this.exp<2?1:this.exp<5?2:3}get position(){return this==this.parent.pet0?0:this==this.parent.pet1?1:this==this.parent.pet2?2:this==this.parent.pet3?3:this==this.parent.pet4?4:void 0}petBehind(t=!1,e=!1){for(let s=(void 0!==this.position?this.position:this.savedPosition)+1;s<5;s++){let a=this.parent.getPetAtPosition(s);if(e&&null!=a)return a;if(t&&null!=a&&!a.alive&&!a.seenDead)return null;if(null!=a&&a.alive)return a}return null}getManticoreMult(){let t=[];for(let e of this.parent.petArray)"Manticore"==e.name&&t.push(e.level);return t}getSparrowLevel(){let t=0;for(let e of this.parent.petArray)"Sparrow"==e.name&&(t=Math.max(t,e.level));return t}getPetsAhead(t,e=!1,i){var s,a;let r=[],o=this.petAhead;for(;o&&!(r.length>=t);)i&&(null===(s=o.equipment)||void 0===s?void 0:s.name)===i||r.push(o),o=o.petAhead;if(r.length<t&&1==e){let c=this.parent.opponent.furthestUpPet;for(;c&&!(r.length>=t);)i&&(null===(a=c.equipment)||void 0===a?void 0:a.name)===i||r.push(c),c=c.petBehind()}return r}getPetsBehind(t,e){var i;let s=[],a=this.petBehind();for(e&&a&&(null===(i=a.equipment)||void 0===i?void 0:i.name)===e&&(a=a.petBehind());a&&!(s.length>=t);)s.push(a),a=a.petBehind();return s}kitsuneCheck(){let t=this.petBehind(),e=!0;for(;t;){if("Kitsune"==t.name&&e)return!1;if(e=!1,"Kitsune"==t.name)return!0;t=t.petBehind()}return!1}get petAhead(){for(let t=this.position-1;t>-1;t--){let e=this.parent.getPetAtPosition(t);if(null!=e&&e.alive)return e}return null}get minExpForLevel(){return 1==this.level?0:2==this.level?2:5}setAbilityEquipments(){var t,e;"Eggplant"==(null===(t=this.equipment)||void 0===t?void 0:t.name)?(this.equipment.callback(this),this.eggplantTouched=!0):(null===(e=this.equipment)||void 0===e?void 0:e.callback)&&this.equipment.callback(this)}addAbility(t){this.abilityList.push(t)}removeAbility(t,e){const i=this.abilityList.length;return this.abilityList=this.abilityList.filter(s=>!(t&&s.name===t||e&&s.abilityType===e||!t&&!e)),this.abilityList.length<i}getAbilities(t,e){return this.abilityList.filter(i=>!(t&&!i.matchesTrigger(t)||e&&i.abilityType!==e))}getAbilitiesWithTrigger(t,e,i){return this.abilityList.filter(s=>!(t&&!s.matchesTrigger(t)||!s.canUse()||e&&s.abilityType!==e||i&&s.name!==i))}executeAbilities(t,e,i,s,a,r){if(this.transformed&&this.transformedInto)return void this.transformedInto.executeAbilities(t,e,i,s,a,r);const o=this.getAbilitiesWithTrigger(t,"Pet");for(const c of o)if(c.execute(e,i,s,a,r),this.transformed&&this.transformedInto)return void this.transformedInto.executeAbilities(t,e,i,s,a,r);const l=this.getAbilitiesWithTrigger(t,"Equipment");for(const c of l)if(c.execute(e,i,s,a,r),this.transformed&&this.transformedInto)return void this.transformedInto.executeAbilities(t,e,i,s,a,r)}activateAbilities(t,e,i,s,a){const r=this.getAbilities(t,i);for(const o of r)o.execute(e,s,void 0,void 0,a)}copyAbilities(t,e,i){const s=t.getAbilities(void 0,e);this.removeAbility(void 0,e);for(const a of s){const r=a.copy(this);null!=r&&(i&&(r.abilityLevel=i,r.alwaysIgnorePetLevel=!0,r.reset()),a.native=!1,this.addAbility(r))}}gainAbilities(t,e,i){const s=t.getAbilities(void 0,e);for(const a of s){const r=a.copy(this);null!=r&&(i&&(r.abilityLevel=i,r.alwaysIgnorePetLevel=!0,r.reset()),a.native=!1,this.addAbility(r))}}hasAbility(t,e){return this.getAbilities(t,e).length>0}hasTrigger(t,e,i){return this.getAbilitiesWithTrigger(t,e,i).length>0}isSellPet(){return!!(["Beaver","Duck","Pig","Pillbug","Kiwi","Mouse","Frog","Bass","Tooth Billed Pigeon","Marmoset","Capybara","Platypus"].includes(this.name)||this.originalAbilityList.filter(e=>e.matchesTrigger("ThisSold")&&"Pet"==e.abilityType).length>0)}isFaintPet(){return this.originalAbilityList.filter(t=>(t.matchesTrigger("ThisDied")||t.matchesTrigger("BeforeThisDies")||t.matchesTrigger("ThisKilled"))&&"Pet"==t.abilityType).length>0}}function IG(n){let e,t=n.length;for(;0!=t;)e=Math.floor(Math.random()*t),t--,[n[t],n[e]]=[n[e],n[t]];return n}function Tn(n,t){return n=Math.ceil(n),t=Math.floor(t),Math.floor(Math.random()*(t-n+1))+n}function eP(n){return Math.ceil(100*n)/100}function qa(n,t){let e;return e=n.player==t?n.opponet:n.player,e}function Nee(n){var t,e,i,s,a,r,o;return new ki({name:new se(null!==(t=n.name)&&void 0!==t?t:null,_C.required),tier1Pets:new se(null!==(e=n.tier1Pets)&&void 0!==e?e:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier2Pets:new se(null!==(i=n.tier2Pets)&&void 0!==i?i:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier3Pets:new se(null!==(s=n.tier3Pets)&&void 0!==s?s:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier4Pets:new se(null!==(a=n.tier4Pets)&&void 0!==a?a:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier5Pets:new se(null!==(r=n.tier5Pets)&&void 0!==r?r:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier6Pets:new se(null!==(o=n.tier6Pets)&&void 0!==o?o:[],n=>n.value&&10!==n.value.length?{length:!0}:null)})}class mr extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Puma",this.tier=6,this.pack="Puppy",this.attack=6,this.health=5,this.initPet(o,s,a,r,l,c)}}class ib extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Golden Retriever",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,a,r,l,c)}}class Lee extends E{constructor(t,e,i){super({name:"OnionAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=e,this.logService=i}executeAbility(t){const e=this.owner;this.logService.createLog({message:`${e.name} pushed itself to the back. (Onion)`,type:"equipment",player:e.parent}),e.parent.pushPetToBack(e),e.parent.pushPetsForward(),e.removePerk()}}class OG extends ee{constructor(t){super(),this.logService=t,this.name="Onion",this.equipmentClass="beforeAttack",this.callback=e=>{e.addAbility(new Lee(e,this,this.logService))}}}class NG{constructor(t,e,i){this.logService=t,this.abilityService=e,this.gameService=i,this.pack="Turtle",this.trumpets=0,this.spawnedGoldenRetiever=!1,this.summonedBoatThisBattle=!1}alive(){return this.petArray.length>0}resetPets(){var t,e,i,s,a;this.pet0=this.orignalPet0,null===(t=this.pet0)||void 0===t||t.resetPet(),this.pet1=this.orignalPet1,null===(e=this.pet1)||void 0===e||e.resetPet(),this.pet2=this.orignalPet2,null===(i=this.pet2)||void 0===i||i.resetPet(),this.pet3=this.orignalPet3,null===(s=this.pet3)||void 0===s||s.resetPet(),this.pet4=this.orignalPet4,null===(a=this.pet4)||void 0===a||a.resetPet(),this.orignalPet0=this.pet0,this.orignalPet1=this.pet1,this.orignalPet2=this.pet2,this.orignalPet3=this.pet3,this.orignalPet4=this.pet4,this.toy=this.originalToy,this.toy&&(this.toy.used=!1,this.toy.triggers=0),this.brokenToy=null,this.trumpets=0,this.spawnedGoldenRetiever=!1,this.summonedBoatThisBattle=!1}resetJumpedFlags(){for(let t of this.petArray)t&&(t.jumped=!1)}setPet(t,e,i=!1){this.getPet(t),0==t&&(this.pet0=e,null!=e&&(this.pet0.savedPosition=0),i&&(this.orignalPet0=e)),1==t&&(this.pet1=e,null!=e&&(this.pet1.savedPosition=1),i&&(this.orignalPet1=e)),2==t&&(this.pet2=e,null!=e&&(this.pet2.savedPosition=2),i&&(this.orignalPet2=e)),3==t&&(this.pet3=e,null!=e&&(this.pet3.savedPosition=3),i&&(this.orignalPet3=e)),4==t&&(this.pet4=e,null!=e&&(this.pet4.savedPosition=4),i&&(this.orignalPet4=e)),i&&null!=e&&(e.originalSavedPosition=e.savedPosition)}getPet(t){return this[`pet${t}`]}pushPetsForward(){let t=(0,Gt.clone)(this.petArray);try{this.setPet(0,t[0])}catch(e){this.pet0=null}try{this.setPet(1,t[1])}catch(e){this.pet1=null}try{this.setPet(2,t[2])}catch(e){this.pet2=null}try{this.setPet(3,t[3])}catch(e){this.pet3=null}try{this.setPet(4,t[4])}catch(e){this.pet4=null}}onionCheck(){var t;null!=(null===(t=this.pet0)||void 0===t?void 0:t.equipment)&&this.pet0.equipment instanceof OG&&(this.pet0.equipment.callback(this.pet0),this.pushPetsForward())}summonPet(t,e,i=!1,s){if(s&&this.hasSilly(s)){let r=Math.random()<.5?this:this.opponent,o=Tn(0,4);return t.parent=r,{success:r.summonPet(t,o,i,void 0).success,randomEvent:!0}}return 5==this.petArray.length?(i||this.logService.createLog({message:`No room to spawn ${t.name}!`,type:"ability",player:this}),{success:!1,randomEvent:!1}):(this==this.gameService.gameApi.player?this.gameService.gameApi.playerSummonedAmount++:this.gameService.gameApi.opponentSummonedAmount++,0==e&&(null!=this.pet0&&this.makeRoomForSlot(0),this.setPet(0,t)),1==e&&(null!=this.pet1&&this.makeRoomForSlot(1),this.setPet(1,t)),2==e&&(null!=this.pet2&&this.makeRoomForSlot(2),this.setPet(2,t)),3==e&&(null!=this.pet3&&this.makeRoomForSlot(3),this.setPet(3,t)),4==e&&(null!=this.pet4&&this.makeRoomForSlot(4),this.setPet(4,t)),this.abilityService.triggerSummonEvents(t),{success:!0,randomEvent:!1})}transformPet(t,e){var i;const s=null!==(i=null==t?void 0:t.parent)&&void 0!==i?i:this;e.parent!==s&&(e.parent=s),s.setPet(t.position,e),s===this.gameService.gameApi.player?this.gameService.gameApi.playerTransformationAmount++:this.gameService.gameApi.opponentTransformationAmount++,t.transformed=!0,t.transformedInto=e,e.applyEquipment(e.equipment),s.abilityService.triggerTransformEvents(t)}pushForwardFromSlot(t){let e=null,i=!1;if(t>0&&null==this.pet0&&(i=!0,e=0),t>1&&null==this.pet1&&(i=!0,e=1),t>2&&null==this.pet2&&(i=!0,e=2),t>3&&null==this.pet3&&(i=!0,e=3),i){for(let s=e;s<t;s++)this[`pet${s}`]=this[`pet${s+1}`];return!0}return!1}pushBackwardFromSlot(t){let e=null,i=!1;if(t<4&&null==this.pet4&&(i=!0,e=4),t<3&&null==this.pet3&&(i=!0,e=3),t<2&&null==this.pet2&&(i=!0,e=2),t<1&&null==this.pet1&&(i=!0,e=1),i){for(let s=e;s>t;s--)this[`pet${s}`]=this["pet"+(s-1)];return!0}return!1}makeRoomForSlot(t){5!=this.petArray.length?this.pushForwardFromSlot(t)||this.pushBackwardFromSlot(t):console.warn("No room to Make Room")}get petArray(){let t=[];return null!=this.pet0&&t.push(this.pet0),null!=this.pet1&&t.push(this.pet1),null!=this.pet2&&t.push(this.pet2),null!=this.pet3&&t.push(this.pet3),null!=this.pet4&&t.push(this.pet4),t}handleDeath(t){t.seenDead=!0,t.setFaintEventIfPresent(),this.createDeathLog(t)}checkPetsAlive(){this.pet0&&!this.pet0.alive&&!this.pet0.seenDead&&this.handleDeath(this.pet0),this.pet1&&!this.pet1.alive&&!this.pet1.seenDead&&this.handleDeath(this.pet1),this.pet2&&!this.pet2.alive&&!this.pet2.seenDead&&this.handleDeath(this.pet2),this.pet3&&!this.pet3.alive&&!this.pet3.seenDead&&this.handleDeath(this.pet3),this.pet4&&!this.pet4.alive&&!this.pet4.seenDead&&this.handleDeath(this.pet4)}removeDeadPets(){let t=!1;const e=[{pet:this.pet0,index:0},{pet:this.pet1,index:1},{pet:this.pet2,index:2},{pet:this.pet3,index:3},{pet:this.pet4,index:4}];for(const i of e)i.pet&&!i.pet.alive&&(i.pet.removed=!0,this.abilityService.triggerAfterFaintEvents(i.pet),this[`pet${i.index}`]=null,t=!0);return t}createDeathLog(t){this.logService.createLog({message:`${t.name} fainted.`,type:"death",player:t.parent})}getRandomPet(t,e,i,s,a,r){if(a&&this.hasSilly(a)){let c=this.getRandomLivingPet();return{pet:c.pet,random:c.random}}let o=[];if(o=r?[...this.petArray,...this.opponent.petArray]:this.petArray,e&&i){let c=this.getPetsWithEquipment("Donut").filter(f=>{null==t||t.includes(f)}),d=this.getPetsWithEquipment("Blueberry").filter(f=>{null==t||t.includes(f)});(c.length>0||d.length>0)&&(o=[...c,...d])}else if(e){let c=this.getPetsWithEquipment("Donut").filter(d=>{null==t||t.includes(d)});c.length>0&&(o=c),s&&(o=o.filter(d=>50!=d.health||50!=d.attack||d.hasTrigger(void 0,"Pet","BehemothAbility")||d.hasTrigger(void 0,"Pet","GiantTortoiseAbility")),0==o.length&&(o=this.petArray))}else if(i){let c=this.getPetsWithEquipment("Blueberry").filter(d=>{null==t||t.includes(d)});c.length>0&&(o=c)}if(o=o.filter(c=>{let d=!0;return t&&(d=!t.includes(c)),d&&c.health>0}),s){let c=(0,Gt.clone)(o);o=o.filter(d=>50!=d.health||50!=d.attack),0==o.length&&(o=c)}return 0==o.length?{pet:null,random:!1}:{pet:o[Tn(0,o.length-1)],random:o.length>1}}getRandomPets(t,e,i,s,a,r){if(a&&this.hasSilly(a)){let c=this.getRandomLivingPets(t);return{pets:c.pets,random:c.random}}let o=[];e=null!=e?e:[];let l=!0;for(let c=0;c<t;c++){let d=this.getRandomPet(e,i,s,null,a,r);if(l=d.random,null==d.pet)break;e.push(d.pet),o.push(d.pet)}return{pets:o,random:l}}getRandomLivingPets(t){let e=[],i=[];const a=(r=>{let o=[...this.petArray,...this.opponent.petArray],l=this.getPetsWithEquipment("Donut").filter(y=>!(null==r?void 0:r.includes(y))),c=this.getPetsWithEquipment("Blueberry").filter(y=>!(null==r?void 0:r.includes(y))),d=this.opponent.getPetsWithEquipment("Donut").filter(y=>!(null==r?void 0:r.includes(y))),f=this.opponent.getPetsWithEquipment("Blueberry").filter(y=>!(null==r?void 0:r.includes(y)));return(l.length>0||c.length>0||d.length>0||f.length>0)&&(o=[...l,...c,...d,...f]),o.filter(y=>{let b=!0;return r&&(b=!r.includes(y)),b&&y.health>0})})(i).length;for(let r=0;r<t;r++){let o=this.getRandomLivingPet(i);if(null==o.pet)break;i.push(o.pet),e.push(o.pet)}return{pets:e,random:a>e.length}}getAll(t,e,i){if(e&&this.hasSilly(e))return{pets:[...this.petArray,...this.opponent.petArray].filter(r=>r.alive),random:!1};let s=[];return s=t?[...this.petArray,...this.opponent.petArray]:[...this.petArray],i&&(s=s.filter(a=>a!=e)),s=s.filter(a=>a.alive),{pets:s,random:!1}}getPetsWithEquipment(t){var e,i;let s=[];for(let a of this.petArray)!a.alive||("perk"==t?a.equipment&&!(null===(e=a.equipment.equipmentClass)||void 0===e?void 0:e.startsWith("ailment"))&&s.push(a):(null===(i=a.equipment)||void 0===i?void 0:i.name)==t&&s.push(a));return s}getPetsWithoutEquipment(t){let e=[];for(let i of this.petArray)!i.alive||("Perk"==t?(!i.equipment||i.equipment.name.startsWith("ailment"))&&e.push(i):(!i.equipment||i.equipment.name!=t)&&e.push(i));return e}getPetAtPosition(t){for(let e of this.petArray)if(e.position==t)return e;return null}getMiddleFriend(t){if(t&&this.hasSilly(t)){let i=this.getRandomLivingPet();return{pet:i.pet,random:i.random}}return{pet:this.getPet(2),random:!1}}getLastPet(t,e){if(e&&this.hasSilly(e)){let i=this.getRandomLivingPet();return{pet:i.pet,random:i.random}}for(let i of[...this.petArray].reverse())if(i.alive&&(!t||!t.includes(i)))return{pet:i,random:!1};return{pet:null,random:!1}}getLastPets(t,e,i){if(i&&this.hasSilly(i)){let o=this.getRandomLivingPets(t);return{pets:o.pets,random:o.random}}let s=[...this.petArray].filter(o=>o.alive&&(!e||!e.includes(o)));return 0===s.length?{pets:[],random:!1}:{pets:[...s].reverse().slice(0,t),random:!1}}getHighestHealthPet(t,e){if(e&&this.hasSilly(e)){let a=this.getRandomLivingPet();return{pet:a.pet,random:a.random}}if(0==this.petArray.filter(a=>a!=t&&a.alive).length)return{pet:null,random:!1};let s;for(let a in this.petArray){let o=this.petArray[+a];if(o!=t){if(null==s){s=[o];continue}if(o.health==s[0].health){s.push(o);continue}o.health>s[0].health&&(s=[o])}}return{pet:s[Tn(0,s.length-1)],random:s.length>1}}getHighestAttackPet(t,e){if(e&&this.hasSilly(e)){let a=this.getRandomLivingPet();return{pet:a.pet,random:a.random}}let i;for(let a in this.petArray){let o=this.petArray[+a];if(o!=t&&o.alive){if(null==i){i=[o];continue}if(o.attack==i[0].attack){i.push(o);continue}o.attack>i[0].attack&&(i=[o])}}let s=null==i?null:i[Tn(0,i.length-1)];return{pet:s,random:null!=s&&i.length>1}}getHighestAttackPets(t,e,i){if(i&&this.hasSilly(i)){let l=this.getRandomLivingPets(t);return{pets:l.pets,random:l.random}}let s=[...this.petArray].filter(l=>l.alive&&(!e||!e.includes(l)));if(0===s.length)return{pets:[],random:!1};let a=(0,Gt.shuffle)(s);a.sort((l,c)=>c.attack-l.attack);let r=a.slice(0,t),o=!1;return r.length===t&&a.length>t&&r[t-1].attack===a[t].attack&&(o=!0),{pets:r,random:o}}getLowestAttackPets(t,e,i){if(i&&this.hasSilly(i)){let l=this.getRandomLivingPets(t);return{pets:l.pets,random:l.random}}let s=[...this.petArray].filter(l=>l.alive&&(!e||!e.includes(l)));if(0===s.length)return{pets:[],random:!1};let a=(0,Gt.shuffle)(s);a.sort((l,c)=>l.attack-c.attack);let r=a.slice(0,t),o=!1;return r.length===t&&a.length>t&&r[t-1].attack===a[t].attack&&(o=!0),{pets:r,random:o}}getLowestAttackPet(t,e){if(e&&this.hasSilly(e)){let a=this.getRandomLivingPet();return{pet:a.pet,random:a.random}}let i;for(let a in this.petArray){let o=this.petArray[+a];if(o!=t&&o.alive){if(null==i){i=[o];continue}if(o.attack==i[0].attack){i.push(o);continue}o.attack<i[0].attack&&(i=[o])}}let s=null==i?null:i[Tn(0,i.length-1)];return{pet:s,random:null!=s&&i.length>1}}getLowestHealthPet(t,e){if(e&&this.hasSilly(e)){let a=this.getRandomLivingPet();return{pet:a.pet,random:a.random}}let i;for(let a in this.petArray){let o=this.petArray[+a];if(o!=t&&o.alive){if(null==i){i=[o];continue}if(o.health==i[0].health){i.push(o);continue}o.health<i[0].health&&(i=[o])}}let s=null==i?null:i[Tn(0,i.length-1)];return{pet:s,random:null!=s&&i.length>1}}getLowestHealthPets(t,e,i){if(i&&this.hasSilly(i)){let l=this.getRandomLivingPets(t);return{pets:l.pets,random:l.random}}let s=[...this.petArray].filter(l=>l.alive&&(!e||!e.includes(l)));if(0===s.length)return{pets:[],random:!1};let a=(0,Gt.shuffle)(s);a.sort((l,c)=>l.health-c.health);let r=a.slice(0,t),o=!1;return r.length===t&&a.length>t&&r[t-1].health===a[t].health&&(o=!0),{pets:r,random:o}}getHighestHealthPets(t,e,i){if(i&&this.hasSilly(i)){let l=this.getRandomLivingPets(t);return{pets:l.pets,random:l.random}}let s=[...this.petArray].filter(l=>l.alive&&(!e||!e.includes(l)));if(0===s.length)return{pets:[],random:!1};let a=(0,Gt.shuffle)(s);a.sort((l,c)=>c.health-l.health);let r=a.slice(0,t),o=!1;return r.length===t&&a.length>t&&r[t-1].health===a[t].health&&(o=!0),{pets:r,random:o}}getHighestTierPets(t,e,i){if(i&&this.hasSilly(i)){let l=this.getRandomLivingPets(t);return{pets:l.pets,random:l.random}}let s=[...this.petArray].filter(l=>l.alive&&(!e||!e.includes(l)));if(0===s.length)return{pets:[],random:!1};let a=(0,Gt.shuffle)(s);a.sort((l,c)=>c.tier-l.tier);let r=a.slice(0,t),o=!1;return r.length===t&&a.length>t&&r[t-1].tier===a[t].tier&&(o=!0),{pets:r,random:o}}getTierXOrLowerPet(t,e,i){if(i&&this.hasSilly(i)){let r=this.getRandomLivingPet();return{pet:r.pet,random:r.random}}let s=[...this.petArray].filter(r=>r.alive&&r.tier<=t&&(!e||!e.includes(r)));return 0===s.length?{pet:null,random:!1}:{pet:s[Tn(0,s.length-1)],random:s.length>1}}get furthestUpPet(){for(let t of this.petArray)if(t.alive)return t;return null}getFurthestUpPet(t,e){if(t&&this.hasSilly(t)){let i=this.getRandomLivingPet();return{pet:i.pet,random:i.random}}for(let i of this.petArray)if(i.alive){if(e&&e.includes(i))continue;return{pet:i,random:!1}}return{pet:null,random:!1}}getFurthestUpPets(t,e,i){if(i&&this.hasSilly(i)){let r=this.getRandomLivingPets(t);return{pets:r.pets,random:r.random}}let s=[...this.petArray].filter(r=>r.alive&&(!e||!e.includes(r)));return 0===s.length?{pets:[],random:!1}:{pets:s.slice(0,t),random:!1}}nearestPetsBehind(t,e,i){if(e&&this.hasSilly(e)){let o=this.getRandomLivingPets(t);return{pets:o.pets,random:o.random}}return{pets:e.getPetsBehind(2*t).filter(o=>!i||!i.includes(o)).slice(0,t),random:!1}}getThis(t){if(t&&this.hasSilly(t)){let e=this.getRandomLivingPet();return{pet:e.pet,random:e.random}}return{pet:t,random:!1}}getSpecificPet(t,e){if(t&&this.hasSilly(t)){let i=this.getRandomLivingPet();return{pet:i.pet,random:i.random}}return{pet:e,random:!1}}nearestPetsAhead(t,e,i,s){if(e&&this.hasSilly(e)){let l=this.getRandomLivingPets(t);return{pets:l.pets,random:l.random}}return{pets:e.getPetsAhead(2*t,s||!1).filter(l=>!i||!i.includes(l)).slice(0,t),random:!1}}breakToy(t=!1){if(null!=this.toy){if(this.brokenToy=this.toy,this.logService.createLog({message:`${this.toy.name} broke!`,type:"ability",player:this,randomEvent:!1}),null!=this.toy.onBreak){let e=[{callback:this.toy.onBreak.bind(this.toy),priority:99}],i=this.toy.level;for(let s of this.petArray)s instanceof mr&&e.push({callback:()=>{this.toy.level=s.level,this.toy.onBreak(this.gameService.gameApi,!0),this.toy.level=i},priority:s.attack});e.sort((s,a)=>s.priority>a.priority?-1:s.priority<a.priority?1:0);for(let s of e)s.callback(this.gameService.gameApi)}this.toy=null,t&&this.setToy(this.brokenToy)}}setToy(t){this.toy=t}getStrongestPet(t){if(t&&this.hasSilly(t)){let r=this.getRandomLivingPet();return{pet:r.pet,random:r.random}}let e=[],i=-1,s=(0,Gt.shuffle)(this.petArray.filter(r=>r.alive));for(let r of s){let o=r.attack+r.health;o>i?(i=o,e=[r]):o===i&&e.push(r)}return 0===e.length?{pet:null,random:!1}:{pet:e[Tn(0,e.length-1)],random:e.length>1}}pushPetToFront(t,e=!1){this.pushPet(t,4,e)}pushPetToBack(t){this.pushPet(t,-4)}pushPet(t,e=1,i){let r,a=t.position;t.parent[`pet${a}`]=null,e>0&&(r=Math.max(a-e,0),null!=this.getPet(r)&&(this.pushForwardFromSlot(r)||this.pushBackwardFromSlot(r)),this.setPet(r,t)),e<0&&(r=Math.min(a-e,4),null!=this.getPet(r)&&(this.pushBackwardFromSlot(r)||this.pushForwardFromSlot(r)),this.setPet(r,t)),i?(t.jumped=!0,this.abilityService.triggerJumpEvents(t)):this.abilityService.triggerPushedEvents(t)}get opponent(){return qa(this.gameService.gameApi,this)}resolveTrumpetGainTarget(t){return t&&this.hasSilly(t)?{player:Math.random()<.5?this:this.opponent,random:!0}:{player:this,random:!1}}gainTrumpets(t,e,i,s,a,r){this.trumpets=Math.min(50,this.trumpets+=t);let l=e instanceof S&&null!=e.parent&&e.parent!==this?`${e.name} gave opponent ${t} trumpets. (${this.trumpets})`:`${e.name} gained ${t} trumpets. (${this.trumpets})`;a&&(l+=" (Cherry)"),this.logService.createLog({message:l,type:"trumpets",player:this,pteranodon:i,pantherMultiplier:s,randomEvent:r})}spendTrumpets(t,e,i){this.trumpets=Math.max(0,this.trumpets-=t),this.logService.createLog({message:`${e.name} spent ${t} trumpets. (${this.trumpets})`,type:"trumpets",player:this,pteranodon:i})}checkGoldenSpawn(){this.spawnedGoldenRetiever||this.petArray.length>1||0==this.trumpets||(this.abilityService.setgoldenRetrieverSummonsEvent({priority:0,callback:(t,e,i)=>{let s=new ib(this.logService,this.abilityService,this,this.trumpets,this.trumpets);this.logService.createLog({message:`${this==e.player?"Player":"Opponent"} spawned Golden Retriever (${s.attack}/${s.health})`,type:"ability",player:this}),this.summonPet(s,0),this.trumpets=0}}),this.spawnedGoldenRetiever=!0)}getManticoreMult(){let t=[];for(let e of this.petArray)if(e.hasTrigger(void 0,"Pet","ManticoreAbility"))for(let i of e.abilityList)"ManticoreAbility"==i.name&&t.push(i.level);return t}summonPetInFront(t,e){if(5==this.petArray.length)return this.logService.createLog({message:`No room to spawn ${e.name}!`,type:"ability",player:this}),{success:!1,randomEvent:!1};let i=!1;for(let s=0;s<t.position;s++)if(null==this.getPet(s)){i=!0;break}if(i)return this.summonPet(e,t.position-1,!1,t);{let s=t.position,a=Math.min(s+1,4);return t.parent[`pet${s}`]=null,null!=this.getPet(a)&&this.pushBackwardFromSlot(a),this.setPet(a,t),this.summonPet(e,s,!1,t)}}summonPetBehind(t,e){if(5==this.petArray.length)return this.logService.createLog({message:`No room to spawn ${e.name}!`,type:"ability",player:this}),{success:!1,randomEvent:!1};let i=!1;for(let s=0;s<t.position;s++)if(null==this.getPet(s)){i=!0;break}if(i){let a=t.position;t.parent[`pet${a}`]=null;let r=Math.max(a-1,0);return null!=this.getPet(r)&&this.pushForwardFromSlot(r),this.setPet(r,t),this.summonPet(e,t.position+1,!1,t)}return this.summonPet(e,t.position+1,!1,t)}getPetsWithinXSpaces(t,e){if(t&&this.hasSilly(t)){let a=this.getRandomLivingPets(2*e);return{pets:a.pets,random:a.random}}const i=t.savedPosition,s=[];for(const a of this.petArray)if(a.alive&&a!==t){const r=Math.abs(a.position-i);r>0&&r<=e&&s.push(a)}for(const a of this.opponent.petArray)a.alive&&i+a.position+1<=e&&s.push(a);return{pets:s,random:!1}}getOppositeEnemyPet(t){if(t&&this.hasSilly(t)){let s=this.getRandomLivingPet();return{pet:s.pet,random:s.random}}let e=t.position,i=this.opponent.getPetAtPosition(e);if(i&&i.alive)return{pet:i,random:!1};for(let s=1;s<=4;s++){if(i=this.opponent.getPetAtPosition(e+s),i&&i.alive)return{pet:i,random:!1};if(i=this.opponent.getPetAtPosition(e-s),i&&i.alive)return{pet:i,random:!1}}return{pet:null,random:!1}}hasSilly(t){var e;return"Silly"===(null===(e=t.equipment)||void 0===e?void 0:e.name)}getRandomLivingPet(t){let e=[...this.petArray,...this.opponent.petArray],i=this.getPetsWithEquipment("Donut").filter(l=>!(null==t?void 0:t.includes(l))),s=this.getPetsWithEquipment("Blueberry").filter(l=>!(null==t?void 0:t.includes(l))),a=this.opponent.getPetsWithEquipment("Donut").filter(l=>!(null==t?void 0:t.includes(l))),r=this.opponent.getPetsWithEquipment("Blueberry").filter(l=>!(null==t?void 0:t.includes(l)));return(i.length>0||s.length>0||a.length>0||r.length>0)&&(e=[...i,...s,...a,...r]),e=e.filter(l=>{let c=!0;return t&&(c=!t.includes(l)),c&&l.health>0}),0==e.length?{pet:null,random:!1}:{pet:e[Tn(0,e.length-1)],random:e.length>1}}}let cc=(()=>{class n{static setInjector(e){n.injector||(n.injector=e)}static getInjector(){return n.injector}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class tP extends E{constructor(t,e){super({name:"AntAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner,o=this.level,l=r.parent.getRandomPet([r],!0,!1,!0,r);null!=l.pet&&(this.logService.createLog({message:`${r.name} gave ${l.pet.name} ${o} attack and ${o} health.`,type:"ability",randomEvent:l.random,player:r.parent,tiger:s,pteranodon:a}),l.pet.increaseAttack(o),l.pet.increaseHealth(o),this.triggerTigerExecution(t))}copy(t){return new tP(t,this.logService)}}class Nf extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ant",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,a,r,l,c)}initPet(t,e,i,s,a,r){this.addAbility(new tP(this,this.logService)),super.initPet(t,e,i,s,a,r)}}class iP extends E{constructor(t,e,i){super({name:"ZombieCricketAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new iP(t,this.logService,this.abilityService)}}class mh extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zombie Cricket",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new iP(this,this.logService,this.abilityService)),super.initAbilities()}}class nP extends E{constructor(t,e,i){super({name:"CricketAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner,o=this.level;let c=new mh(this.logService,this.abilityService,r.parent,null,null,null,this.minExpForLevel),d=r.parent.summonPet(c,r.savedPosition,!1,r);d.success&&this.logService.createLog({message:`${r.name} spawned Zombie Cricket Level ${o}`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:d.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new nP(t,this.logService,this.abilityService)}}class sP extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cricket",this.tier=1,this.pack="Turtle",this.health=3,this.attack=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new nP(this,this.logService,this.abilityService)),super.initAbilities()}}class nb extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fish",this.tier=1,this.pack="Turtle",this.health=3,this.attack=2,this.initPet(o,s,a,r,l,c)}}class rP extends E{constructor(t,e){super({name:"HorseAbility",owner:t,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;let o=r.parent.getSpecificPet(r,i);null!=o.pet&&(o.pet.increaseAttack(this.level),this.logService.createLog({message:`${r.name} gave ${i.name} ${this.level} attack`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),this.triggerTigerExecution(t))}copy(t){return new rP(t,this.logService)}}class aP extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Horse",this.tier=1,this.pack="Turtle",this.health=1,this.attack=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new rP(this,this.logService)),super.initAbilities()}}class oP extends E{constructor(t,e){super({name:"MosquitoAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let l=r.parent.opponent.getRandomPets(this.level,null,null,!0,r);for(let c of l.pets)null!=c&&r.snipePet(c,1,l.random,s);this.triggerTigerExecution(t)}copy(t){return new oP(t,this.logService)}}class lP extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mosquito",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new oP(this,this.logService)),super.initAbilities()}}class sb extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Duck",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,a,r,l,c)}}class rb extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beaver",this.tier=1,this.pack="Turtle",this.health=2,this.attack=3,this.initPet(o,s,a,r,l,c)}}class cP extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Otter",this.tier=1,this.pack="Turtle",this.health=4,this.attack=1,this.initPet(o,s,a,r,l,c)}}class uP extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pig",this.tier=1,this.pack="Turtle",this.health=1,this.attack=4,this.initPet(o,s,a,r,l,c)}}class hP extends E{constructor(t,e,i){super({name:"MouseAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new hP(t,this.logService,this.abilityService)}}class ab extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mouse",this.tier=1,this.pack="Custom",this.health=2,this.attack=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new hP(this,this.logService,this.abilityService)),super.initAbilities()}}class Bee extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snail",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,a,r,l,c)}}class dP extends E{constructor(t,e){super({name:"CrabAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;if(!r.alive)return;let o=r.parent.getHighestHealthPet(r,r);if(null==o.pet)return;let l=Math.floor(o.pet.health*(.25*this.level)),c=r.parent.getThis(r);c.pet&&(c.pet.increaseHealth(l),this.logService.createLog({message:`${r.name} gave ${c.pet.name} ${.25*this.level*100}% of ${o.pet.name}'s health (${l})`,type:"ability",player:r.parent,tiger:s,randomEvent:c.random})),this.triggerTigerExecution(t)}copy(t){return new dP(t,this.logService)}}class gP extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crab",this.tier=2,this.pack="Turtle",this.health=1,this.attack=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new dP(this,this.logService)),super.initAbilities()}}class fP extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Swan",this.tier=2,this.pack="Turtle",this.health=2,this.attack=1,this.initPet(o,s,a,r,l,c)}}class ob extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dirty Rat",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,a,r,l,c)}}class pP extends E{constructor(t,e,i){super({name:"RatAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.opponent;for(let l=0;l<this.level;l++){let c=new ob(this.logService,this.abilityService,o,null,null,0,0),d=o.summonPet(c,0,!1,r);d.success&&this.logService.createLog({message:`${r.name} Summoned Dirty Rat on Opponent`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:d.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new pP(t,this.logService,this.abilityService)}}class mP extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rat",this.tier=2,this.pack="Turtle",this.health=6,this.attack=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new pP(this,this.logService,this.abilityService)),super.initAbilities()}}class yP extends E{constructor(t,e){super({name:"HedgehogAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.getAll(!0,r),l=o.pets;if(0==l.length)return;let c=2*this.level;for(let d of l)r.snipePet(d,c,o.random,s,a);this.triggerTigerExecution(t)}copy(t){return new yP(t,this.logService)}}class vP extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hedgehog",this.tier=2,this.pack="Turtle",this.attack=4,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new yP(this,this.logService)),super.initAbilities()}}class bP extends E{constructor(t,e){super({name:"PeacockAbility",owner:t,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=3*this.level,l=r.parent.getThis(r);l.pet&&(l.pet.increaseAttack(o),this.logService.createLog({message:`${r.name} gave ${l.pet.name} ${o} attack.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random})),this.triggerTigerExecution(t)}copy(t){return new bP(t,this.logService)}}class SP extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Peacock",this.tier=2,this.pack="Turtle",this.health=5,this.attack=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new bP(this,this.logService)),super.initAbilities()}}class _P extends E{constructor(t,e){super({name:"FlamingoAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let l=r.parent.nearestPetsBehind(2,r).pets;if(0!=l.length){for(let c of l)c.increaseAttack(this.level),c.increaseHealth(this.level),this.logService.createLog({message:`${r.name} gave ${c.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:r.parent,tiger:s,pteranodon:a});this.triggerTigerExecution(t)}}copy(t){return new _P(t,this.logService)}}class wP extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flamingo",this.tier=2,this.pack="Turtle",this.health=2,this.attack=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new _P(this,this.logService)),super.initAbilities()}}class AP extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Worm",this.tier=2,this.pack="Turtle",this.health=4,this.attack=1,this.initPet(o,s,a,r,l,c)}}class EP extends E{constructor(t,e){super({name:"KangarooAbility",owner:t,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.getThis(r);o.pet&&(o.pet.increaseAttack(this.level),o.pet.increaseHealth(this.level),this.logService.createLog({message:`${r.name} gave ${o.pet.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random})),this.triggerTigerExecution(t)}copy(t){return new EP(t,this.logService)}}class CP extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kangaroo",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new EP(this,this.logService)),super.initAbilities()}}class PP extends E{constructor(t,e,i,s){super({name:"SpiderAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=e,this.abilityService=i,this.petService=s}executeAbility(t){const{gameApi:e,tiger:s,pteranodon:a}=t,r=this.owner;let o;o=r.parent==e.player?e.playerPetPool.get(3):e.opponentPetPool.get(3);let l=o.filter(x=>"Spider"!=x),c=l[Tn(0,l.length-1)],d=this.level,y=2*this.level,b=this.petService.createPet({attack:y,exp:this.minExpForLevel,equipment:null,health:y,name:c,mana:0},r.parent);r.parent.summonPet(b,r.savedPosition,!1,r).success&&this.logService.createLog({message:`${r.name} spawned ${b.name} level ${d} (${y}/${y})`,type:"ability",player:r.parent,randomEvent:!0,tiger:s,pteranodon:a}),this.triggerTigerExecution(t)}copy(t){return new PP(t,this.logService,this.abilityService,this.petService)}}class TP extends S{constructor(t,e,i,s,a,r,o,l,c,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Spider",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(l,a,r,o,c,d)}initAbilities(){this.addAbility(new PP(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class xP extends E{constructor(t,e){super({name:"DodoAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.nearestPetsAhead(1,r);if(0===o.pets.length)return;let l=o.pets[0],c=Math.floor(r.attack*(.5*this.level));l.increaseAttack(c),this.logService.createLog({message:`${r.name} gave ${l.name} ${c} attack.`,player:r.parent,type:"ability",tiger:s,randomEvent:o.random}),this.triggerTigerExecution(t)}copy(t){return new xP(t,this.logService)}}class kP extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dodo",this.tier=3,this.pack="Turtle",this.health=2,this.attack=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new xP(this,this.logService)),super.initAbilities()}}class DP extends E{constructor(t,e){super({name:"BadgerAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=Math.floor(r.attack*(.5*this.level)),l=r.parent.nearestPetsBehind(1,r);l.pets.length>0&&r.snipePet(l.pets[0],o,l.random,s,a);let c=r.parent.nearestPetsAhead(1,r,void 0,!0);c.pets.length>0&&r.snipePet(c.pets[0],o,c.random,s,a),this.triggerTigerExecution(t)}copy(t){return new DP(t,this.logService)}}class MP extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Badger",this.tier=3,this.pack="Turtle",this.health=3,this.attack=6,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new DP(this,this.logService)),super.initAbilities()}}class RP extends E{constructor(t,e){super({name:"DolphinAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.opponent;for(let l=0;l<this.level;l++){let c=o.getLowestHealthPet(null,r);if(!c.pet)break;r.snipePet(c.pet,4,c.random,s)}this.triggerTigerExecution(t)}copy(t){return new RP(t,this.logService)}}class lb extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dolphin",this.tier=3,this.pack="Turtle",this.health=3,this.attack=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new RP(this,this.logService)),super.initAbilities()}}class IP extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giraffe",this.tier=3,this.pack="Turtle",this.attack=1,this.health=2,this.initPet(o,s,a,r,l,c)}}class OP extends E{constructor(t,e){super({name:"ElephantAbility",owner:t,triggers:["ThisAttacked"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;for(let o=0;o<this.level;o++){let l=r.parent.nearestPetsBehind(1,r);l.pets.length>0&&r.snipePet(l.pets[0],1,l.random,s)}this.triggerTigerExecution(t)}copy(t){return new OP(t,this.logService)}}class NP extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Elephant",this.tier=3,this.pack="Turtle",this.health=7,this.attack=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new OP(this,this.logService)),super.initAbilities()}}class LP extends E{constructor(t,e){super({name:"CamelAbility",owner:t,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.nearestPetsBehind(1,r);if(0===o.pets.length)return;let l=o.pets[0],c=2*this.level;l.increaseAttack(this.level),l.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${l.name} ${this.level} attack and ${c} health.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),this.triggerTigerExecution(t)}copy(t){return new LP(t,this.logService)}}class BP extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Camel",this.tier=3,this.pack="Turtle",this.health=3,this.attack=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new LP(this,this.logService)),super.initAbilities()}}class $P extends E{constructor(t,e){super({name:"RabbitAbility",owner:t,triggers:["FoodEatenByFriendly"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;let o=this.level,l=r.parent.getSpecificPet(r,i),c=l.pet;null!=c&&(c.increaseHealth(o),this.logService.createLog({message:`${r.name} gave ${c.name} ${o} health.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random}),this.triggerTigerExecution(t))}copy(t){return new $P(t,this.logService)}}class VP extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rabbit",this.tier=3,this.pack="Turtle",this.health=2,this.attack=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new $P(this,this.logService)),super.initAbilities()}}class Gr extends ee{constructor(){super(...arguments),this.name="Melon",this.tier=6,this.equipmentClass="shield",this.power=20,this.originalPower=20,this.uses=1,this.originalUses=1}}class qP extends E{constructor(t,e){super({name:"OxAbility",owner:t,triggers:["FriendAheadDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.getThis(r),l=o.pet;if(null==l)return;l.increaseAttack(1),this.logService.createLog({message:`${r.name} gave ${l.name} +1 attack.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random});let c=r.parent.getThis(r),d=c.pet;null!=d&&(d.givePetEquipment(new Gr),this.logService.createLog({message:`${r.name} gave ${d.name} Melon.`,type:"ability",player:r.parent,tiger:s,randomEvent:c.random}),this.triggerTigerExecution(t))}reset(){this.maxUses=this.level,super.reset()}copy(t){return new qP(t,this.logService)}}class HP extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ox",this.tier=3,this.pack="Turtle",this.health=3,this.attack=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new qP(this,this.logService)),super.initAbilities()}}class GP extends E{constructor(t,e){super({name:"DogAbility",owner:t,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=2*this.level,l=this.level,c=r.parent.getThis(r);c.pet&&(c.pet.increaseAttack(o),c.pet.increaseHealth(l),this.logService.createLog({message:`${r.name} gave ${c.pet.name} ${o} attack and ${l} health.`,type:"ability",player:r.parent,tiger:s,randomEvent:c.random})),this.triggerTigerExecution(t)}copy(t){return new GP(t,this.logService)}}class FP extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dog",this.tier=3,this.pack="Turtle",this.attack=3,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new GP(this,this.logService)),super.initAbilities()}}class UP extends E{constructor(t,e,i){super({name:"RamAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new UP(t,this.logService,this.abilityService)}}class cb extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ram",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=2,this.attack=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new UP(this,this.logService,this.abilityService)),super.initAbilities()}}class jP extends E{constructor(t,e,i){super({name:"SheepAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;for(let o=0;o<2;o++){let l=new cb(this.logService,this.abilityService,r.parent,null,null,0,this.minExpForLevel),c=r.parent.summonPet(l,r.savedPosition,!1,r);c.success&&this.logService.createLog({message:`${r.name} spawned Ram (${l.attack}/${l.health}).`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:c.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new jP(t,this.logService,this.abilityService)}}class WP extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sheep",this.tier=3,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new jP(this,this.logService,this.abilityService)),super.initAbilities()}}class zP extends E{constructor(t,e,i){super({name:"TigerAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){}copy(t){return new zP(t,this.logService,this.abilityService)}}class KP extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tiger",this.tier=6,this.pack="Turtle",this.attack=6,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new zP(this,this.logService,this.abilityService)),super.initAbilities()}}class YP extends E{constructor(t,e){super({name:"ParrotAbility",owner:t,triggers:["EndTurn","SpecialEndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){let r=this.owner,o=r.petAhead;null!=o&&(r.copyAbilities(o,"Pet"),this.logService.createLog({message:`${r.name} copied ${o.name}`,type:"ability",player:r.parent}))}copy(t){return new YP(t,this.logService)}}class QP extends S{constructor(t,e,i,s,a,r,o,l,c,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Parrot",this.tier=4,this.pack="Turtle",this.attack=4,this.health=2,this.initPet(l,a,r,o,c,d)}initAbilities(){this.addAbility(new YP(this,this.logService)),super.initAbilities()}}class JP extends E{constructor(t,e){super({name:"SkunkAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let l=r.parent.opponent.getHighestHealthPet(void 0,r),c=l.pet;if(null==c)return;let d=.33*this.level,f=Math.max(1,Math.floor(c.health*(1-d)));c.health=f,this.logService.createLog({message:`${r.name} reduced ${c.name} health by ${100*d}% (${f})`,type:"ability",player:r.parent,randomEvent:l.random,tiger:s}),this.triggerTigerExecution(t)}copy(t){return new JP(t,this.logService)}}class ZP extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Skunk",this.tier=4,this.pack="Turtle",this.attack=3,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new JP(this,this.logService)),super.initAbilities()}}class XP extends E{constructor(t,e){super({name:"HippoAbility",owner:t,triggers:["ThisKilledEnemy"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=3*this.level,l=r.parent.getThis(r),c=l.pet;null!=c&&(c.increaseAttack(o),c.increaseHealth(o),this.logService.createLog({message:`${r.name} gave ${c.name} ${o} attack and ${o} health.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random}),this.triggerTigerExecution(t))}copy(t){return new XP(t,this.logService)}}class eT extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hippo",this.tier=4,this.pack="Turtle",this.attack=4,this.health=6,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new XP(this,this.logService)),super.initAbilities()}}class tT extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bison",this.tier=4,this.pack="Turtle",this.attack=4,this.health=4,this.initPet(o,s,a,r,l,c)}}class iT extends E{constructor(t,e){super({name:"BlowfishAbility",owner:t,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=3*this.level,l=r.parent.opponent.getRandomPet([],!1,!0,!1,r);l.pet&&r.snipePet(l.pet,o,l.random,s),this.triggerTigerExecution(t)}copy(t){return new iT(t,this.logService)}}class nT extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blowfish",this.tier=4,this.pack="Turtle",this.attack=3,this.health=6,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new iT(this,this.logService)),super.initAbilities()}}class sT extends E{constructor(t,e){super({name:"TurtleAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.getPetsWithEquipment("Melon"),l=r.parent.nearestPetsBehind(this.level,r,o);if(0!=l.pets.length){for(let c of l.pets)this.logService.createLog({message:`${r.name} gave ${c.name} Melon.`,type:"ability",tiger:s,player:r.parent,pteranodon:a,randomEvent:l.random}),c.givePetEquipment(new Gr);this.triggerTigerExecution(t)}}copy(t){return new sT(t,this.logService)}}class rT extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Turtle",this.tier=4,this.pack="Turtle",this.attack=2,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new sT(this,this.logService)),super.initAbilities()}}class aT extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Squirrel",this.tier=4,this.pack="Turtle",this.attack=3,this.health=5,this.initPet(o,s,a,r,l,c)}}class oT extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Penguin",this.tier=4,this.pack="Turtle",this.attack=2,this.health=4,this.initPet(o,s,a,r,l,c)}}class lT extends E{constructor(t,e,i){super({name:"BusAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new lT(t,this.logService,this.abilityService)}}class ub extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bus",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=3,this.attack=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new lT(this,this.logService,this.abilityService)),super.initAbilities()}}class LG extends ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Chili",this.equipmentClass="skewer",this.power=0,this.originalPower=0,this.attackCallback=(i,s)=>{let a=s.parent.getPetAtPosition(1);null!=a&&i.snipePet(a,5,!1,null,null,!0)}}}class cT extends E{constructor(t,e,i){super({name:"DeerAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=new ub(this.logService,this.abilityService,r.parent,null,null,null,this.minExpForLevel,new LG(this.logService,this.abilityService)),l=r.parent.summonPet(o,r.savedPosition,!1,r);l.success&&this.logService.createLog({message:`${r.name} spawned Bus level ${this.level}`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:l.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new cT(t,this.logService,this.abilityService)}}class uT extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Deer",this.tier=4,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new cT(this,this.logService,this.abilityService)),super.initAbilities()}}class hT extends E{constructor(t,e,i){super({name:"WhaleSwallowAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.petService=i}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.nearestPetsAhead(1,r);if(0===o.pets.length)return;let l=o.pets[0],c=this.petService.createPet({name:l.name,attack:l.attack,health:l.health,exp:r.exp,equipment:null,mana:0},r.parent);r.swallowedPets.push(c),l.health=0,this.logService.createLog({message:`${r.name} swallowed ${l.name}`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),this.triggerTigerExecution(t)}copy(t){return new hT(t,this.logService,this.petService)}}class dT extends E{constructor(t,e,i){super({name:"WhaleSummonAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,ignoreRepeats:!0,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;for(;r.swallowedPets.length>0;){let o=r.swallowedPets.shift(),l=r.parent.summonPet(o,r.savedPosition,!1,r);l.success&&this.logService.createLog({message:`${r.name} summoned ${o.name} (level ${o.level}).`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:l.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new dT(t,this.logService,this.abilityService)}}class gT extends S{constructor(t,e,i,s,a,r,o,l,c,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Whale",this.tier=4,this.pack="Turtle",this.attack=3,this.health=7,this.initPet(l,a,r,o,c,d)}initAbilities(){this.addAbility(new hT(this,this.logService,this.petService)),this.addAbility(new dT(this,this.logService,this.abilityService)),super.initAbilities()}}class fT extends E{constructor(t,e,i){super({name:"BeeAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new fT(t,this.logService,this.abilityService)}}class yh extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bee",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new fT(this,this.logService,this.abilityService)),super.initAbilities()}}class hb extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Angry Pygmy Hog",this.tier=2,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,s,a,r,l,c)}}class pT extends E{constructor(t,e){super({name:"ScorpionAbility",owner:t,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=new FC,l=r.parent.getThis(r),c=l.pet;null!=c&&(c.givePetEquipment(o),this.logService.createLog({message:`${r.name} gave ${c.name} the Peanut perk.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random}),this.triggerTigerExecution(t))}copy(t){return new pT(t,this.logService)}}class mT extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Scorpion",this.tier=5,this.pack="Turtle",this.attack=1,this.health=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new pT(this,this.logService)),super.initAbilities()}}class yT extends E{constructor(t,e){super({name:"CrocodileAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;for(let o=0;o<this.level;o++){let l=r.parent.opponent.getLastPet(void 0,r),c=l.pet;c&&r.snipePet(c,8,l.random,s)}this.triggerTigerExecution(t)}copy(t){return new yT(t,this.logService)}}class vT extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crocodile",this.tier=5,this.pack="Turtle",this.attack=8,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new yT(this,this.logService)),super.initAbilities()}}class bT extends E{constructor(t,e){super({name:"RhinoAbility",owner:t,triggers:["ThisKilledEnemy"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.opponent.getFurthestUpPet(r),l=o.pet;if(null==l)return;let c=4*this.level;1==l.tier&&(c*=2),r.snipePet(l,c,o.random,s),this.triggerTigerExecution(t)}copy(t){return new bT(t,this.logService)}}class ST extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rhino",this.tier=5,this.pack="Turtle",this.attack=6,this.health=9,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new bT(this,this.logService)),super.initAbilities()}}class db extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Monkey",this.tier=5,this.pack="Turtle",this.attack=1,this.health=2,this.initPet(o,s,a,r,l,c)}}class _T extends E{constructor(t,e){super({name:"ArmadilloAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.getAll(!0,r),l=o.pets;if(0!=l.length){for(let c of l){if(!c.alive)continue;let d=8*this.level;c.increaseHealth(d),this.logService.createLog({message:`${r.name} increased health of ${c.name} by ${d}.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random})}this.triggerTigerExecution(t)}}copy(t){return new _T(t,this.logService)}}class wT extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Armadillo",this.tier=5,this.pack="Turtle",this.attack=4,this.health=8,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new _T(this,this.logService)),super.initAbilities()}}class AT extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cow",this.tier=5,this.pack="Turtle",this.attack=4,this.health=6,this.initPet(o,s,a,r,l,c)}}class ET extends E{constructor(t,e){super({name:"SealAbility",owner:t,triggers:["FoodEatenByThis"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;if(i!=r)return;let o=this.level,l=r.parent.getRandomPets(3,[r],!0,!1,r);for(let c of l.pets)null!=c&&(c.increaseAttack(o),this.logService.createLog({message:`${r.name} gave ${c.name} ${o} attack.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random}));this.triggerTigerExecution(t)}copy(t){return new ET(t,this.logService)}}class CT extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Seal",this.tier=5,this.pack="Turtle",this.attack=3,this.health=8,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new ET(this,this.logService)),super.initAbilities()}}class PT extends E{constructor(t,e,i){super({name:"ChickAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new PT(t,this.logService,this.abilityService)}}class gb extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chick",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new PT(this,this.logService,this.abilityService)),super.initAbilities()}}class TT extends E{constructor(t,e,i){super({name:"RoosterAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=Math.max(Math.floor(.5*r.attack),1);for(let l=0;l<this.level;l++){let c=new gb(this.logService,this.abilityService,r.parent,1,o,0,this.minExpForLevel),d=r.parent.summonPet(c,r.savedPosition,!1,r);d.success&&this.logService.createLog({message:`${r.name} spawned Chick (${o}).`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:d.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new TT(t,this.logService,this.abilityService)}}class xT extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rooster",this.tier=5,this.pack="Turtle",this.attack=6,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new TT(this,this.logService,this.abilityService)),super.initAbilities()}}class kT extends E{constructor(t,e){super({name:"SharkAbility",owner:t,triggers:["FriendDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;if(i==r)return;let o={attack:2*this.level,health:2*this.level},l=r.parent.getThis(r),c=l.pet;null!=c&&(c.increaseAttack(o.attack),c.increaseHealth(o.health),this.logService.createLog({message:`${r.name} gave ${c.name} ${o.attack} attack and ${o.health} health.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random}),this.triggerTigerExecution(t))}copy(t){return new kT(t,this.logService)}}class DT extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shark",this.tier=5,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new kT(this,this.logService)),super.initAbilities()}}class MT extends E{constructor(t,e){super({name:"TurkeyAbility",owner:t,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;let o={attack:3*this.level,health:1*this.level},l=r.parent.getSpecificPet(r,i),c=l.pet;null!=c&&(c.increaseAttack(o.attack),c.increaseHealth(o.health),this.logService.createLog({message:`${r.name} gave ${c.name} ${o.attack} attack and ${o.health} health.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random}),this.triggerTigerExecution(t))}copy(t){return new MT(t,this.logService)}}class RT extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Turkey",this.tier=5,this.pack="Turtle",this.attack=3,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new MT(this,this.logService)),super.initAbilities()}}class IT extends E{constructor(t,e){super({name:"LeopardAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=Math.floor(.5*r.attack),l=r.parent.opponent.getRandomPets(this.level,null,null,!0,r);for(let c of l.pets)null!=c&&r.snipePet(c,o,l.random,s);this.triggerTigerExecution(t)}copy(t){return new IT(t,this.logService)}}class OT extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leopard",this.tier=6,this.pack="Turtle",this.attack=10,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new IT(this,this.logService)),super.initAbilities()}}class NT extends E{constructor(t,e){super({name:"BoarAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o={attack:4*this.level,health:2*this.level},l=r.parent.getThis(r),c=l.pet;null!=c&&(c.increaseAttack(o.attack),c.increaseHealth(o.health),this.logService.createLog({message:`${r.name} gave ${c.name} ${o.attack} attack and ${o.health} health.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random}),this.triggerTigerExecution(t))}copy(t){return new NT(t,this.logService)}}class LT extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Boar",this.tier=6,this.pack="Turtle",this.attack=10,this.health=6,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new NT(this,this.logService)),super.initAbilities()}}class BT extends E{constructor(t,e,i){super({name:"WolverineAbility",owner:t,triggers:["FriendHurt4"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.opponent.getAll(!1,r),l=o.pets;if(0!=l.length){for(let c of l){let d=-3*this.level;c.increaseHealth(d),this.logService.createLog({message:`${r.name} reduced ${c.name} health by ${Math.abs(d)}`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random})}this.triggerTigerExecution(t)}}copy(t){return new BT(t,this.logService,this.abilityService)}}class $T extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wolverine",this.tier=6,this.pack="Turtle",this.attack=5,this.health=7,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new BT(this,this.logService,this.abilityService)),super.initAbilities()}}class qo extends ee{constructor(){super(...arguments),this.name="Coconut",this.equipmentClass="shield",this.power=999,this.originalPower=999,this.uses=1,this.originalUses=1}}class VT extends E{constructor(t,e){super({name:"GorillaAbility",owner:t,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,condition:i=>this.owner.alive,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let l=r.parent.getThis(r).pet;null!=l&&(l.givePetEquipment(new qo),this.logService.createLog({message:`${r.name} gave ${l.name} a Coconut.`,type:"ability",player:r.parent,tiger:s}),this.triggerTigerExecution(t))}reset(){this.maxUses=this.level,super.reset()}copy(t){const e=new VT(t,this.logService);return e.maxUses=t.level,e}}class qT extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gorilla",this.tier=6,this.pack="Turtle",this.attack=7,this.health=10,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new VT(this,this.logService)),super.initAbilities()}}class HT extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dragon",this.tier=6,this.pack="Turtle",this.attack=3,this.health=8,this.initPet(o,s,a,r,l,c)}}class GT extends E{constructor(t,e){super({name:"MammothAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=2*this.level,l=r.parent.getAll(!1,r),c=l.pets;if(0!=c.length){for(let d of c)d.increaseAttack(o),d.increaseHealth(o),this.logService.createLog({message:`${r.name} gave ${d.name} ${o} attack and ${o} health.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:l.random});this.triggerTigerExecution(t)}}copy(t){return new GT(t,this.logService)}}class FT extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mammoth",this.tier=6,this.pack="Turtle",this.attack=4,this.health=12,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new GT(this,this.logService)),super.initAbilities()}}class UT extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cat",this.tier=6,this.pack="Turtle",this.attack=4,this.health=5,this.initPet(o,s,a,r,l,c)}}class jT extends E{constructor(t,e){super({name:"SnakeAbility",owner:t,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:5,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=5*this.level,l=r.parent.opponent.getRandomPet([],!1,!0,!1,r);!l.pet||(r.snipePet(l.pet,o,l.random,s),this.triggerTigerExecution(t))}copy(t){return new jT(t,this.logService)}}class WT extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snake",this.tier=6,this.pack="Turtle",this.attack=6,this.health=6,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new jT(this,this.logService)),super.initAbilities()}}class zT extends E{constructor(t,e,i){super({name:"ZombieFlyAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new zT(t,this.logService,this.abilityService)}}class Lf extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zombie Fly",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=4,this.attack=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new zT(this,this.logService,this.abilityService)),super.initAbilities()}}class KT extends E{constructor(t,e,i){super({name:"FlyAbility",owner:t,triggers:["FriendDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:3,condition:s=>{const{triggerPet:a}=s;return!(a&&a instanceof Lf||this.owner.parent.petArray.length>=5)},abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;let o=new Lf(this.logService,this.abilityService,r.parent,null,null,null,this.minExpForLevel),l=r.parent.summonPet(o,i.savedPosition,!0,r);l.success&&this.logService.createLog({message:`${r.name} spawned Zombie Fly Level ${this.level}`,type:"ability",player:r.parent,tiger:s,randomEvent:l.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new KT(t,this.logService,this.abilityService)}}class YT extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fly",this.tier=6,this.pack="Turtle",this.attack=5,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new KT(this,this.logService,this.abilityService)),super.initAbilities()}}class QT extends E{constructor(t,e){super({name:"MothAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.getFurthestUpPet(r),l=o.pet;if(null==l)return;let c=2*this.level;l.increaseAttack(c),this.logService.createLog({message:`${r.name} gave ${l.name} ${c} attack.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),this.triggerTigerExecution(t)}copy(t){return new QT(t,this.logService)}}class JT extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Moth",this.tier=1,this.pack="Puppy",this.health=3,this.attack=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new QT(this,this.logService)),super.initAbilities()}}class ZT extends E{constructor(t,e,i){super({name:"BluebirdAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new ZT(t,this.logService,this.abilityService)}}class XT extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bluebird",this.tier=1,this.pack="Puppy",this.attack=2,this.health=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new ZT(this,this.logService,this.abilityService)),super.initAbilities()}}class ex extends E{constructor(t,e,i){super({name:"ChinchillaAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new ex(t,this.logService,this.abilityService)}}class tx extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chinchilla",this.tier=1,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new ex(this,this.logService,this.abilityService)),super.initAbilities()}}class vh extends ee{constructor(){super(...arguments),this.name="Walnut",this.tier=1,this.equipmentClass="shield",this.power=2,this.originalPower=2,this.uses=1,this.originalUses=1}}class ix extends E{constructor(t,e,i){super({name:"BeetleAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s}=t,r=this.owner;let o;switch(this.level){case 1:o=new vh;break;case 2:o=new vh,o.power=4,o.originalPower=4;break;case 3:o=new vh,o.power=6,o.originalPower=6}let l=r.parent.getPetsWithEquipment(o.name),c=r.parent.nearestPetsBehind(1,r,l);if(0===c.pets.length)return;let d=c.pets[0];this.logService.createLog({message:`${r.name} gave ${d.name} ${o.name}.`,type:"ability",player:r.parent,tiger:s,randomEvent:c.random}),d.givePetEquipment(o),this.triggerTigerExecution(t)}copy(t){return new ix(t,this.logService,this.abilityService)}}class nx extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beetle",this.tier=1,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new ix(this,this.logService,this.abilityService)),super.initAbilities()}}class sx extends E{constructor(t,e){super({name:"LadybugAbility",owner:t,triggers:["FriendlyGainsPerk"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=2*this.level,l=r.parent.getThis(r);l.pet&&(l.pet.increaseAttack(o),this.logService.createLog({message:`${r.name} gave ${l.pet.name} ${o} attack.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random})),this.triggerTigerExecution(t)}copy(t){return new sx(t,this.logService)}}class rx extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ladybug",this.tier=1,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new sx(this,this.logService)),super.initAbilities()}}class ax extends E{constructor(t,e,i){super({name:"ChipmunkAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new ax(t,this.logService,this.abilityService)}}class ox extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chipmunk",this.tier=1,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new ax(this,this.logService,this.abilityService)),super.initAbilities()}}class lx extends E{constructor(t,e){super({name:"GeckoAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:i=>null!=this.owner.parent.toy,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=2*this.level,c=r.parent.getThis(r).pet;null!=c&&(c.increaseHealth(o),this.logService.createLog({message:`${r.name} gave ${c.name} ${o} health.`,type:"ability",player:r.parent,tiger:s}),this.triggerTigerExecution(t))}copy(t){return new lx(t,this.logService)}}class cx extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gecko",this.tier=1,this.pack="Puppy",this.attack=3,this.health=1,this.toyPet=!0,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new lx(this,this.logService)),super.initAbilities()}}class ux extends E{constructor(t,e,i){super({name:"FerretAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new ux(t,this.logService,this.abilityService)}}class hx extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ferret",this.tier=1,this.pack="Puppy",this.attack=2,this.health=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new ux(this,this.logService,this.abilityService)),super.initAbilities()}}class yr extends ee{constructor(){super(...arguments),this.name="Weak",this.equipmentClass="ailment-defense",this.power=-3,this.originalPower=-3}}class dx extends E{constructor(t,e){super({name:"BatAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}reset(){this.maxUses=this.level,super.reset()}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.opponent.getPetsWithEquipment("Weak"),l=r.parent.opponent.getRandomPet(o,null,!0,null,r),c=l.pet;null!=c&&(c.givePetEquipment(new yr),this.logService.createLog({message:`${r.name} made ${c.name} weak.`,type:"ability",player:r.parent,randomEvent:l.random,tiger:s})),this.triggerTigerExecution(t)}copy(t){return new dx(t,this.logService)}}class gx extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bat",this.tier=2,this.pack="Puppy",this.attack=2,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new dx(this,this.logService)),super.initAbilities()}}class Bf extends ee{constructor(){super(...arguments),this.equipmentClass="defense",this.name="Garlic",this.tier=3,this.power=2,this.originalPower=2,this.minimumDamage=2}}class fx extends E{constructor(t,e){super({name:"BilbyAbility",owner:t,triggers:["FriendLostPerk"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,condition:i=>{const{triggerPet:s}=i;return s&&s!==this.owner},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}reset(){this.maxUses=this.level,super.reset()}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;let o=r.parent.getSpecificPet(r,i),l=o.pet;null!=l&&(this.logService.createLog({message:`${r.name} gave ${l.name} Garlic.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),l.givePetEquipment(new Bf),this.triggerTigerExecution(t))}copy(t){return new fx(t,this.logService)}}class px extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bilby",this.tier=2,this.pack="Puppy",this.attack=2,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new fx(this,this.logService)),super.initAbilities()}}class $f extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nest",this.tier=1,this.pack="Puppy",this.hidden=!0,this.attack=2,this.health=3,this.initPet(o,s,a,r,l,c)}}class $ee extends E{constructor(t,e){super({name:"EggAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=e}executeAbility(t){const{triggerPet:e}=t,i=this.owner;let s=this.equipment.multiplier;i instanceof $f&&(s+=("Tiger"===(null==e?void 0:e.name)?e.level:i.level)-1);for(let a=0;a<s;a++){let r=i.parent.opponent.petArray,o=null;for(let l of r)if(l.alive){o=l;break}null!=o&&i.snipePet(o,2,!1,!1,!1,!0,!1)}i.removePerk()}}class BG extends ee{constructor(t){super(),this.logService=t,this.name="Egg",this.tier=1,this.equipmentClass="beforeAttack",this.callback=e=>{e.addAbility(new $ee(e,this))}}}class mx extends E{constructor(t,e,i){super({name:"RobinAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=new $f(this.logService,this.abilityService,r.parent,null,null,this.minExpForLevel,null);this.logService.createLog({message:`${r.name} summoned a Nest (level ${this.level}).`,type:"ability",player:r.parent,randomEvent:!1,tiger:s});let l=r.parent.summonPetInFront(r,o);l.success&&(this.logService.createLog({message:`${r.name} gave Nest an Egg.`,type:"ability",player:r.parent,randomEvent:l.randomEvent,tiger:s}),o.givePetEquipment(new BG(this.logService))),this.triggerTigerExecution(t)}copy(t){return new mx(t,this.logService,this.abilityService)}}class yx extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Robin",this.tier=2,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new mx(this,this.logService,this.abilityService)),super.initAbilities()}}class vx extends E{constructor(t,e,i){super({name:"DromedaryAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new vx(t,this.logService,this.abilityService)}}class bx extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dromedary",this.tier=2,this.pack="Puppy",this.attack=2,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new vx(this,this.logService,this.abilityService)),super.initAbilities()}}class Sx extends E{constructor(t,e,i){super({name:"ShrimpAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new Sx(t,this.logService,this.abilityService)}}class _x extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shrimp",this.tier=2,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new Sx(this,this.logService,this.abilityService)),super.initAbilities()}}class Vee extends ee{constructor(){super(...arguments),this.name="Cake",this.equipmentClass="shop",this.tier=3}}class $G extends ee{constructor(){super(...arguments),this.name="Meat Bone",this.equipmentClass="attack",this.power=3,this.originalPower=3}}class qee extends ee{constructor(){super(...arguments),this.name="Steak",this.equipmentClass="attack",this.tier=6,this.power=20,this.originalPower=20,this.uses=1,this.originalUses=1}}class Hee extends E{constructor(t,e,i,s){super({name:"HoneyAbility",owner:t,triggers:["ThisDied"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=e,this.logService=i,this.abilityService=s}executeAbility(t){const e=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let s=new yh(this.logService,this.abilityService,e.parent,null,null,0);e.parent.summonPet(s,e.savedPosition).success&&this.logService.createLog({message:`${e.name} Spawned Bee (Honey)${i>0?this.equipment.multiplierMessage:""}`,type:"ability",player:e.parent})}}}class VG extends ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Honey",this.equipmentClass="afterFaint",this.callback=i=>{i.addAbility(new Hee(i,this,this.logService,this.abilityService))}}}class Gee extends E{constructor(t,e,i,s){super({name:"MushroomAbility",owner:t,triggers:["ThisDied"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=e,this.logService=i,this.petService=s}executeAbility(t){const e=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let s=this.petService.createDefaultVersionOfPet(e,1,1);e.parent.summonPet(s,e.savedPosition).success&&this.logService.createLog({message:`${e.name} Spawned ${s.name} (level ${s.level}) (Mushroom)${i>0?this.equipment.multiplierMessage:""}`,type:"ability",player:e.parent})}}}class Fee extends ee{constructor(t,e){super(),this.logService=t,this.petService=e,this.name="Mushroom",this.tier=6,this.equipmentClass="afterFaint",this.callback=i=>{i.addAbility(new Gee(i,this,this.logService,this.petService))}}}class Uee extends ee{constructor(){super(),this.name="Croissant",this.tier=3,this.equipmentClass="shop"}}class wx extends ee{constructor(){super(...arguments),this.name="Rice",this.tier=2,this.equipmentClass="shop"}}class fb extends ee{constructor(){super(...arguments),this.name="Eucalyptus",this.equipmentClass="shield",this.power=4,this.originalPower=4,this.uses=1,this.originalUses=1}}class jee extends ee{constructor(){super(...arguments),this.equipmentClass="defense",this.name="Lime",this.tier=2,this.power=1,this.originalPower=1}}class Wee extends E{constructor(t,e,i){super({name:"SquashAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=e,this.logService=i}executeAbility(t){const e=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let s=e.parent.opponent.pet0;if(null==s||!s.alive)return void console.warn("squash didn't find target");let a=6,r=Math.max(1,s.health-a);s.health=r,this.logService.createLog({message:`${this.equipment.name} reduced ${s.name} health by ${a} (${r})${i>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:e.parent})}e.removePerk()}}class zee extends ee{constructor(t){super(),this.logService=t,this.name="Squash",this.tier=3,this.equipmentClass="beforeAttack",this.callback=e=>{e.addAbility(new Wee(e,this,this.logService))}}}class Kee extends E{constructor(t,e,i){super({name:"PieAbility",owner:t,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=e,this.logService=i}executeAbility(t){const e=this.owner,i=4*this.equipment.multiplier,s=3*this.equipment.multiplier;e.increaseAttack(i),e.increaseHealth(s),this.logService.createLog({message:`${e.name} gained ${i} attack and ${s} health (Pie)${this.equipment.multiplierMessage}`,type:"equipment",player:e.parent})}}class qG extends ee{constructor(t){super(),this.logService=t,this.name="Pie",this.tier=4,this.equipmentClass="beforeStartOfBattle",this.callback=e=>{e.addAbility(new Kee(e,this,this.logService))}}}class HG extends ee{constructor(t){super(),this.logService=t,this.name="Skewer",this.tier=5,this.equipmentClass="skewer",this.power=0,this.attackCallback=(e,i)=>{this.skewer(e,i,1),this.skewer(e,i,2)}}skewer(t,e,i){var s,a;let r=e.parent.getPetAtPosition(i);if(null==r)return;const o=3*(null!==(a=null===(s=t.equipment)||void 0===s?void 0:s.multiplier)&&void 0!==a?a:1);t.snipePet(r,o,!1,null,null,!0)}}class Yee extends ee{constructor(){super(...arguments),this.equipmentClass="shield",this.name="Lemon",this.tier=5,this.power=7,this.originalPower=7,this.uses=2,this.originalUses=2}}class Qee extends E{constructor(t,e,i){super({name:"PancakesAbility",owner:t,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=e,this.logService=i}executeAbility(t){const e=this.owner;for(let i of e.parent.petArray){if(e==i)continue;let s=2*this.equipment.multiplier,a=2*this.equipment.multiplier;i.increaseAttack(s),i.increaseHealth(a),this.logService.createLog({message:`${i.name} gained ${s} attack and ${a} health (Pancakes)${this.equipment.multiplierMessage}`,type:"equipment",player:e.parent})}}}class GG extends ee{constructor(t){super(),this.logService=t,this.name="Pancakes",this.tier=6,this.equipmentClass="beforeStartOfBattle",this.callback=e=>{e.addAbility(new Qee(e,this,this.logService))}}}class Jee extends E{constructor(t,e,i){super({name:"StrawberryAbility",owner:t,triggers:["ThisDied"],abilityType:"Equipment",native:!0,maxUses:e.originalUses,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=e,this.logService=i}executeAbility(t){const e=this.owner,i=e.parent.getLastPet();if(i.pet){const s=1*this.equipment.multiplier;this.logService.createLog({message:`${e.name} (Strawberry) gave ${i.pet.name} +${s} attack and +${s} health${this.equipment.multiplierMessage}.`,type:"equipment",player:e.parent,randomEvent:i.random}),i.pet.increaseAttack(s),i.pet.increaseHealth(s)}}}class Ax extends ee{constructor(t){super(),this.logService=t,this.name="Strawberry",this.equipmentClass="defense",this.tier=1,this.uses=2,this.originalUses=2,this.callback=e=>{e.addAbility(new Jee(e,this,this.logService))}}}class Zee extends E{constructor(t,e,i){super({name:"BaguetteAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=e,this.logService=i}executeAbility(t){const e=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let s=e.parent.opponent.getPetsWithoutEquipment("Perk"),a=e.parent.opponent.getFurthestUpPet(e,s).pet;if(null==a)return;if(null!=a.equipment){let r=a.equipment.name;a.removePerk(),this.logService.createLog({message:`${e.name} removed ${r} from ${a.name} (Baguette)${i>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:e.parent})}}e.removePerk()}}class Xee extends ee{constructor(t){super(),this.logService=t,this.name="Baguette",this.equipmentClass="beforeAttack",this.callback=e=>{e.addAbility(new Zee(e,this,this.logService))}}}class ete extends ee{constructor(){super(...arguments),this.name="Cucumber",this.equipmentClass="shop"}}class tte extends ee{constructor(){super(...arguments),this.name="Grapes",this.equipmentClass="shop"}}class ite extends ee{constructor(){super(...arguments),this.name="Carrot",this.equipmentClass="shop"}}class nte extends E{constructor(t,e,i,s){super({name:"PopcornAbility",owner:t,triggers:["ThisDied"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=e,this.logService=i,this.petService=s}executeAbility(t){const{gameApi:e}=t,i=this.owner;for(let s=0;s<this.equipment.multiplier;s++){let a;a=i.parent==e.player?e.playerPetPool:e.opponentPetPool;let r=a.get(i.tier),o=r[Math.floor(Math.random()*r.length)],l=this.petService.createPet({attack:null,equipment:null,exp:0,health:null,name:o,mana:0},i.parent);i.parent.summonPet(l,i.savedPosition).success&&this.logService.createLog({message:`${i.name} Spawned ${l.name} (Popcorn)${s>0?this.equipment.multiplierMessage:""}`,type:"ability",player:i.parent,randomEvent:!0})}}}class FG extends ee{constructor(t,e,i){super(),this.logService=t,this.petService=e,this.gameService=i,this.name="Popcorn",this.equipmentClass="afterFaint",this.callback=s=>{s.addAbility(new nte(s,this,this.logService,this.petService))}}}class ste extends E{constructor(t,e){super({name:"CherryAbility",owner:t,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=e}executeAbility(t){const e=this.owner;let i=this.equipment.multiplier;e.parent.gainTrumpets(2*i,e,!1,i,!0)}}class UG extends ee{constructor(){super(...arguments),this.name="Cherry",this.equipmentClass="beforeStartOfBattle",this.callback=t=>{t.addAbility(new ste(t,this))}}}class rte extends ee{constructor(){super(...arguments),this.name="Bok Choy",this.equipmentClass="shop",this.tier=2}}class ate extends E{constructor(t,e,i,s){super({name:"ChocolateCakeAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=e,this.logService=i,this.abilityService=s}executeAbility(t){const e=this.owner;let s=3*this.equipment.multiplier;this.logService.createLog({message:`${e.name} gained ${s} exp. (Chocolate Cake)${this.equipment.multiplierMessage}`,type:"equipment",player:e.parent}),e.increaseExp(s),e.health=0,this.abilityService.triggerKillEvents(e,e)}}class Ex extends ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Chocolate Cake",this.equipmentClass="beforeAttack",this.callback=i=>{i.addAbility(new ate(i,this,this.logService,this.abilityService))}}}class ote extends E{constructor(t,e,i,s){super({name:"CodRoeAbility",owner:t,triggers:["ThisDied"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=e,this.logService=i,this.abilityService=s}executeAbility(t){const e=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let s=new nb(this.logService,this.abilityService,e.parent,3,2,0,0);e.parent.summonPet(s,e.savedPosition).success&&this.logService.createLog({message:`${e.name} spawned ${s.name} (Cod Roe)${i>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:e.parent})}}}class lte extends ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Cod Roe",this.equipmentClass="afterFaint",this.callback=i=>{i.addAbility(new ote(i,this,this.logService,this.abilityService))}}}class cte extends E{constructor(t,e,i){super({name:"EggplantAbility",owner:t,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=e,this.logService=i}executeAbility(t){const e=this.owner;let i=this.equipment.multiplier;for(let s=0;s<i;s++){let a=e.parent.opponent,r=a.getPet(e.position);if(null==r)return;this.logService.createLog({message:`${e.name} pushed ${r.name} 1 space forward. (Eggplant)${s>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:e.parent}),a.pushPet(r,1)}}}class ute extends ee{constructor(t){super(),this.logService=t,this.name="Eggplant",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{e.addAbility(new cte(e,this,this.logService))}}}class hte extends ee{constructor(){super(...arguments),this.name="Potato",this.equipmentClass="shield-snipe",this.power=10,this.uses=2,this.originalUses=2,this.originalPower=10}}class dte extends E{constructor(t,e,i,s){super({name:"BananaAbility",owner:t,triggers:["ThisDied"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=e,this.logService=i,this.abilityService=s}executeAbility(t){const e=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let s=new db(this.logService,this.abilityService,e.parent,4,4,0,0),a=i>0?this.equipment.multiplierMessage:"";e.parent.summonPet(s,e.savedPosition).success&&this.logService.createLog({message:`${e.name} Spawned Monkey (Banana)${a}`,type:"ability",player:e.parent})}}}class gte extends ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Banana",this.equipmentClass="afterFaint",this.callback=i=>{i.addAbility(new dte(i,this,this.logService,this.abilityService))}}}class fte extends E{constructor(t,e,i){super({name:"PitaBreadAbility",owner:t,triggers:["ThisHurt"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=e,this.logService=i}executeAbility(t){const e=this.owner;if(!e.alive)return;let s=15*this.equipment.multiplier;e.increaseHealth(s),this.logService.createLog({message:`${e.name} gained ${s} health. (Pita Bread)${this.equipment.multiplierMessage}`,type:"equipment",player:e.parent}),e.removePerk()}}class pte extends ee{constructor(t){super(),this.logService=t,this.name="Pita Bread",this.tier=6,this.power=0,this.equipmentClass="hurt",this.callback=e=>{e.addAbility(new fte(e,this,this.logService))}}}class mte extends E{constructor(t,e){super({name:"TomatoAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=e}executeAbility(t){const e=this.owner;let i=this.equipment.multiplier;for(let s=0;s<i;s++){let a=e.parent.opponent.getLastPet();if(null==a.pet)break;e.snipePet(a.pet,10,a.random,!1,!1,!0,!1)}e.removePerk()}}class yte extends ee{constructor(t){super(),this.logService=t,this.name="Tomato",this.tier=6,this.equipmentClass="beforeAttack",this.callback=e=>{e.addAbility(new mte(e,this))}}}class vte extends E{constructor(t,e,i){super({name:"SudduthTomatoAbility",owner:t,triggers:["ThisHurt"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,condition:s=>!!this.owner.alive,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=e,this.logService=i}executeAbility(t){const s=this.owner;let r=1*this.equipment.multiplier;s.increaseHealth(r),this.logService.createLog({message:`${s.name} gained ${r} health (Sudduth Tomato)${this.equipment.multiplierMessage}`,type:"equipment",player:s.parent}),s.removePerk()}}class bte extends ee{constructor(t){super(),this.logService=t,this.name="Sudduth Tomato",this.equipmentClass="hurt",this.callback=e=>{e.addAbility(new vte(e,this,this.logService))}}}class Ste extends E{constructor(t,e){super({name:"UnagiAbility",owner:t,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=e}executeAbility(t){const e=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let s=e.parent.opponent.getRandomPet([],!1,!0,!1,e);s.pet&&e.snipePet(s.pet,2,!0,!1,!1,!0,!1)}}}class _te extends ee{constructor(){super(),this.name="Unagi",this.equipmentClass="startOfBattle",this.callback=t=>{t.addAbility(new Ste(t,this))}}}class wte extends E{constructor(t,e,i){super({name:"DurianAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=e,this.logService=i}executeAbility(t){const e=this.owner;let i=this.equipment.multiplier;for(let s=0;s<i;s++){let a=e.parent.opponent.getHighestHealthPet(),r=a.pet;if(null==r)continue;let o=.33,l=Math.max(1,Math.floor(r.health*(1-o)));r.health=l,this.logService.createLog({message:`${this.equipment.name} reduced ${r.name} health by ${100*o}% (${l})${s>0?this.equipment.multiplierMessage:""}`,type:"ability",player:e.parent,randomEvent:a.random})}e.removePerk()}}class Ate extends ee{constructor(t){super(),this.logService=t,this.name="Durian",this.equipmentClass="beforeAttack",this.callback=e=>{e.addAbility(new wte(e,this,this.logService))}}}class Ete extends E{constructor(t,e,i,s){super({name:"GrosMichelBananaAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=e,this.logService=i,this.abilityService=s}executeAbility(t){const i=this.owner;for(let s=0;s<this.equipment.multiplier;s++){let a=new Nf(this.logService,this.abilityService,i.parent,i.health,i.attack,i.mana,i.exp);this.logService.createLog({message:`${i.name} transformed into ${a.name} (Gros Michel Banana)${s>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:i.parent}),i.parent.transformPet(i,a)}}}class Cte extends ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Gros Michel Banana",this.equipmentClass="beforeAttack",this.callback=i=>{i.addAbility(new Ete(i,this,this.logService,this.abilityService))}}}class Pte extends E{constructor(t,e,i,s){super({name:"SeaweedAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=e,this.logService=i,this.petService=s}executeAbility(t){const e=this.owner;let i=this.petService.createPet({name:"Baby Urchin",attack:e.attack,health:e.health,mana:e.mana,exp:e.exp,equipment:null},e.parent);this.logService.createLog({message:`${e.name} transformed into ${i.name} (Seaweed)`,type:"equipment",player:e.parent}),e.parent.transformPet(e,i)}}class Tte extends ee{constructor(t,e,i){super(),this.logService=t,this.abilityService=e,this.petService=i,this.name="Seaweed",this.equipmentClass="beforeAttack",this.callback=s=>{s.addAbility(new Pte(s,this,this.logService,this.petService))}}}class xte extends ee{constructor(){super(),this.name="Blueberry",this.equipmentClass="target"}}class kte extends ee{constructor(){super(),this.name="Donut",this.equipmentClass="target"}}class Dte extends E{constructor(t,e){super({name:"CashewNutAbility",owner:t,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=e}executeAbility(t){const e=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let s=e.parent.nearestPetsAhead(2,e,null,!0),a=s.pets;if(a.length<2)return;let r=a[1];e.snipePet(r,r.parent==e.parent?1:2,s.random,null,null,!0)}}}class Mte extends ee{constructor(t){super(),this.logService=t,this.name="Cashew Nut",this.tier=1,this.equipmentClass="beforeStartOfBattle",this.callback=e=>{e.addAbility(new Dte(e,this))}}}class Rte extends E{constructor(t,e,i){super({name:"NachosAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=e,this.logService=i}executeAbility(t){const e=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let r=Math.min(3,e.health-1);r>0&&(e.increaseHealth(-r),e.increaseAttack(r),this.logService.createLog({message:`${e.name} converted ${r} health into ${r} attack (Nachos)${i>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:e.parent}))}e.removePerk()}}class Ite extends ee{constructor(t){super(),this.logService=t,this.name="Nachos",this.tier=1,this.equipmentClass="beforeAttack",this.callback=e=>{e.addAbility(new Rte(e,this,this.logService))}}}class Ote extends ee{constructor(){super(...arguments),this.name="Pumpkin",this.equipmentClass="shop",this.tier=1}}class Nte extends ee{constructor(){super(...arguments),this.name="Kiwifruit",this.equipmentClass="shop",this.tier=2}}class Lte extends ee{constructor(){super(),this.name="Pineapple",this.equipmentClass="attack-snipe",this.power=2}}class Bte extends E{constructor(t,e){super({name:"FigAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=e}executeAbility(t){const e=this.owner;let i=this.equipment.multiplier;for(let s=0;s<i;s++){let a=e.parent.opponent.getLowestHealthPet().pet;if(null==a)return;e.snipePet(a,4,!0,!1,!1,!0,!1)}e.removePerk()}}class $te extends ee{constructor(t){super(),this.logService=t,this.name="Fig",this.equipmentClass="beforeAttack",this.callback=e=>{e.addAbility(new Bte(e,this))}}}class Vte extends E{constructor(t,e,i){super({name:"CaramelAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=e,this.logService=i}executeAbility(t){const e=this.owner;let i=e.parent.petArray.filter(o=>{var l;return o.alive&&"Caramel"===(null===(l=o.equipment)||void 0===l?void 0:l.name)});if(0===i.length)return;let s=3*i.length,a=e.parent.opponent.getHighestHealthPet(),r=a.pet;if(null!=r){e.snipePet(r,s,a.random,!1,!1,!0,!1);for(let o of i)o.removePerk(),this.logService.createLog({message:`${o.name} lost Caramel equipment`,type:"ability",player:e.parent,tiger:!1})}}}class qte extends ee{constructor(t){super(),this.logService=t,this.name="Caramel",this.equipmentClass="beforeAttack",this.callback=e=>{e.addAbility(new Vte(e,this,this.logService))}}}class Hte extends E{constructor(t,e,i){super({name:"RambutanAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=e,this.logService=i}executeAbility(t){const e=this.owner;let a=3*this.equipment.multiplier;this.logService.createLog({message:`${e.name} gained ${a} mana. (Rambutan)${this.equipment.multiplierMessage}`,type:"equipment",player:e.parent}),e.increaseMana(a)}}class Cx extends ee{constructor(t){super(),this.logService=t,this.name="Rambutan",this.equipmentClass="beforeAttack",this.callback=e=>{e.addAbility(new Hte(e,this,this.logService))}}}class Gte extends E{constructor(t,e,i){super({name:"LovePotionAbility",owner:t,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=e,this.logService=i}executeAbility(t){const e=this.owner;let i=e.petAhead;if(null==i)return;let a=2*this.equipment.multiplier;this.logService.createLog({message:`${e.name} gave ${i.name} ${a} health (Love Potion)${this.equipment.multiplierMessage}.`,type:"equipment",player:e.parent}),i.increaseHealth(a)}}class jG extends ee{constructor(t){super(),this.logService=t,this.name="Love Potion",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{e.addAbility(new Gte(e,this,this.logService))}}}class Fte extends E{constructor(t,e,i){super({name:"FairyDustAbility",owner:t,triggers:["ClearFront"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=e,this.logService=i}executeAbility(t){const e=this.owner;if(null!=e.parent.pet0)return;let s=2*this.equipment.multiplier;this.logService.createLog({message:`${e.name} pushed itself to the front and gained ${s} mana(Fairy Dust)${this.equipment.multiplierMessage}.`,type:"ability",player:e.parent}),e.parent.pushPetToFront(e,!0),e.increaseMana(s),e.removePerk()}}class Ute extends ee{constructor(t){super(),this.logService=t,this.name="Fairy Dust",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{e.addAbility(new Fte(e,this,this.logService))}}}class jte extends E{constructor(t,e,i){super({name:"GingerbreadManAbility",owner:t,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=e,this.logService=i}executeAbility(t){const e=this.owner;let s=1*this.equipment.multiplier;this.logService.createLog({message:`${e.name} gained ${s} experience (Gingerbread Man)${this.equipment.multiplierMessage}.`,type:"equipment",player:e.parent}),e.increaseExp(s)}}class WG extends ee{constructor(t){super(),this.logService=t,this.name="Gingerbread Man",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{e.addAbility(new jte(e,this,this.logService))}}}class pb extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Monty",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=3,this.attack=3,this.initPet(o,s,a,r,l,c)}}class Wte extends E{constructor(t,e,i,s){super({name:"EasterEggAbility",owner:t,triggers:["ThisDied"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=e,this.logService=i,this.abilityService=s}executeAbility(t){const e=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let s=new pb(this.logService,this.abilityService,e.parent,null,null,0,0);e.parent.summonPet(s,e.savedPosition).success&&this.logService.createLog({message:`${e.name} Spawned Monty (Easter Egg)${i>0?this.equipment.multiplierMessage:""}`,type:"ability",player:e.parent})}}}class zte extends ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Easter Egg",this.equipmentClass="afterFaint",this.callback=i=>{i.addAbility(new Wte(i,this,this.logService,this.abilityService))}}}class Kte extends E{constructor(t,e,i){super({name:"HealthPotionAbility",owner:t,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=e,this.logService=i}executeAbility(t){const e=this.owner;let s=2*this.equipment.multiplier,a=e.parent.furthestUpPet;null!=a&&(this.logService.createLog({message:`${e.name} gave ${s} health to ${a.name} (Health Potion)${this.equipment.multiplierMessage}.`,type:"equipment",player:e.parent}),a.increaseHealth(s))}}class zG extends ee{constructor(t){super(),this.logService=t,this.name="Health Potion",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{e.addAbility(new Kte(e,this,this.logService))}}}class Yte extends ee{constructor(){super(),this.name="Magic Beans",this.equipmentClass="shop"}}class Qte extends E{constructor(t,e){super({name:"GoldenEggAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=e}executeAbility(t){const e=this.owner;let i=e.parent.opponent.petArray,s=null;for(let r of i)if(r.alive){s=r;break}if(null==s)return;let a=this.equipment.multiplier;for(let r=0;r<a;r++)e.snipePet(s,6,!1,!1,!1,!0,!1);e.removePerk()}}class Jte extends ee{constructor(t){super(),this.logService=t,this.name="Golden Egg",this.equipmentClass="beforeAttack",this.callback=e=>{e.addAbility(new Qte(e,this))}}}class mb extends ee{constructor(){super(...arguments),this.name="Cold",this.equipmentClass="ailment-defense",this.power=-5,this.originalPower=-5,this.uses=1,this.originalUses=1}}class Px extends ee{constructor(){super(...arguments),this.name="Ink",this.equipmentClass="ailment-attack",this.power=-3,this.originalPower=-3}}class bh extends ee{constructor(){super(...arguments),this.name="Spooked",this.equipmentClass="ailment-defense",this.power=-1,this.originalPower=-1}}class Zte extends E{constructor(t,e,i){super({name:"TastyAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:s=>{this.executeAbility(s)}}),this.equipment=e,this.logService=i}executeAbility(t){const e=this.owner;let i=e.parent.opponent.petArray.filter(a=>a.alive);if(0==i.length)return;let s=i[Math.floor(Math.random()*i.length)];s.increaseAttack(2*this.equipment.multiplier),s.increaseHealth(2*this.equipment.multiplier),this.logService.createLog({message:`${e.name} gave ${s.name} +2 attack and +2 health (Tasty)${this.equipment.multiplierMessage}`,type:"equipment",player:e.parent,randomEvent:i.length>1})}}class KG extends ee{constructor(t){super(),this.logService=t,this.name="Tasty",this.equipmentClass="faint",this.callback=e=>{e.addAbility(new Zte(e,this,this.logService))}}}class YG extends ee{constructor(){super(...arguments),this.name="Silly",this.equipmentClass="ailment-other"}}class Tx extends E{constructor(t,e,i){super({name:"TandgnostAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new Tx(t,this.logService,this.abilityService)}}class yb extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tandgnost",this.tier=4,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new Tx(this,this.logService,this.abilityService)),super.initAbilities()}}class xx extends E{constructor(t,e,i){super({name:"TandgrisnerAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new xx(t,this.logService,this.abilityService)}}class vb extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tandgrisner",this.tier=5,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new xx(this,this.logService,this.abilityService)),super.initAbilities()}}class Xte extends E{constructor(t,e,i,s){super({name:"YggdrasilFruitAbility",owner:t,triggers:["ThisDied"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=e,this.logService=i,this.abilityService=s}executeAbility(t){const e=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let s=new yb(this.logService,this.abilityService,e.parent,3,3,0),a=new vb(this.logService,this.abilityService,e.parent,3,3,0),r=i>0?this.equipment.multiplierMessage:"";e.parent.summonPet(s,e.savedPosition).success&&this.logService.createLog({message:`${e.name} Spawned Tandgnost (Yggdrasil Fruit)${r}`,type:"ability",player:e.parent}),e.parent.summonPet(a,e.savedPosition).success&&this.logService.createLog({message:`${e.name} Spawned Tandgrisner (Yggdrasil Fruit)${r}`,type:"ability",player:e.parent})}}}class eie extends ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Yggdrasil Fruit",this.equipmentClass="afterFaint",this.callback=i=>{i.addAbility(new Xte(i,this,this.logService,this.abilityService))}}}class tie extends E{constructor(t,e,i,s){super({name:"CocoaBeanAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=e,this.logService=i,this.petService=s}executeAbility(t){const e=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let s=e.parent.opponent.petArray.filter(l=>l.alive);if(0==s.length)return void e.removePerk();let a=s[Math.floor(Math.random()*s.length)],r=this.petService.createPet({name:a.name,attack:a.attack,health:a.health,mana:e.mana,exp:e.exp,equipment:null},e.parent);if(a.swallowedPets&&a.swallowedPets.length>0){r.swallowedPets=[];for(let l of a.swallowedPets){let c=this.petService.createPet({name:l.name,attack:l.attack,health:l.health,mana:l.mana,exp:l.exp,equipment:l.equipment},e.parent);r.swallowedPets.push(c)}}r.abilityCounter=a.abilityCounter,r.abilityCounter=0,r.timesHurt=a.timesHurt,r.copyAbilities(a,"Pet"),this.logService.createLog({message:`${e.name} transformed into ${r.name} (Cocoa Bean)${i>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:e.parent,randomEvent:s.length>1}),e.parent.transformPet(e,r)}}}class iie extends ee{constructor(t,e){super(),this.logService=t,this.petService=e,this.name="Cocoa Bean",this.tier=5,this.equipmentClass="beforeAttack",this.power=0,this.originalPower=0,this.uses=1,this.originalUses=1,this.callback=i=>{i.addAbility(new tie(i,this,this.logService,this.petService))}}}class nie extends ee{constructor(){super(...arguments),this.name="Cake Slice",this.equipmentClass="shop",this.tier=1}}class sie extends E{constructor(t,e,i,s){super({name:"FaintBreadAbility",owner:t,triggers:["ThisDied"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=e,this.petService=i,this.logService=s}executeAbility(t){const e=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let s=this.petService.getRandomFaintPet(e.parent,1),a=i>0?this.equipment.multiplierMessage:"";e.parent.summonPet(s,e.savedPosition).success&&this.logService.createLog({message:`${e.name} Spawned ${s.name} (Faint Bread)${a}`,type:"ability",player:e.parent,randomEvent:!0})}}}class rie extends ee{constructor(t,e){super(),this.logService=t,this.petService=e,this.name="Faint Bread",this.equipmentClass="afterFaint",this.callback=i=>{i.addAbility(new sie(i,this,this.petService,this.logService))}}}class QG extends ee{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Mild Chili",this.equipmentClass="skewer",this.power=0,this.originalPower=0,this.attackCallback=(i,s)=>{let a=s.parent.getPetAtPosition(1);null!=a&&i.snipePet(a,4,!1,null,null,!0)}}}let bb=(()=>{class n{constructor(){this.logs=[]}createLog(e){e.tiger&&(e.message+=" (Tiger)"),e.puma&&(e.message+=" (Puma)"),e.pteranodon&&(e.message+=" (Pteranodon)"),null!=e.pantherMultiplier&&e.pantherMultiplier>1&&(e.message+=` x${e.pantherMultiplier} (Panther)`),this.logs.push(e)}getLogs(){return this.logs}reset(){this.logs=[]}printState(e,i,s){s&&this.createLog({message:s,type:"board"});let a="";a+=this.getPetText(e.pet4),a+=this.getPetText(e.pet3),a+=this.getPetText(e.pet2),a+=this.getPetText(e.pet1),a+=this.getPetText(e.pet0);let r="";r+=this.getPetText(i.pet0),r+=this.getPetText(i.pet1),r+=this.getPetText(i.pet2),r+=this.getPetText(i.pet3),r+=this.getPetText(i.pet4),this.createLog({message:`${a}| ${r}`,type:"board"})}getPetText(e){return null==e?"___ (-/-) ":`${e.name.substring(0,3)} (${e.attack}/${e.health}) `}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vf=(()=>{class n{constructor(){}init(e,i){this.gameApi={player:e,opponet:i}}setTierGroupPets(e,i){null!=e&&(this.gameApi.playerPetPool=e),null!=i&&(this.gameApi.opponentPetPool=i)}setPreviousShopTier(e){this.gameApi.previousShopTier=e}setTurnNumber(e){this.gameApi.turnNumber=e}setGoldSpent(e,i){null!=e&&(this.gameApi.playerGoldSpent=e),null!=i&&(this.gameApi.opponentGoldSpent=i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sb=(()=>{class n{constructor(e){this.gameService=e,this.startBattleEvents=[],this.afterAttackEvents=[],this.beforeAttackEvents=[],this.processedBeforeAttackPets=new Set,this.beforeStartOfBattleEvents=[],this.equipmentBeforeAttackEvents=[],this.afterFriendAttackEvents=[],this.beforeFriendAttacksEvents=[],this.emptyFrontSpaceToyEvents=[],this.friendSummonedToyEvents=[],this.friendlyLevelUpToyEvents=[],this.friendFaintsToyEvents=[],this.friendJumpedToyEvents=[],this.globalEventQueue=[],this.ABILITY_PRIORITIES={ThisLeveledUp:1,FriendLeveledUp:2,FriendlyLeveledUp:2,AnyLeveledUp:2,ThisHurt:3,FriendHurt:4,EnemyHurt:4,AnyoneHurt:4,FriendAheadHurt:4,AdjacentFriendsHurt:4,AnyoneBehindHurt:4,ThisGainedMana:5,ThisSummoned:6,FriendSummoned:7,EnemySummoned:7,BeeSummoned:7,EnemyPushed:7,FriendJumped:8,AnyoneJumped:8,BeforeThisDies:9,KitsuneFriendDies:9,FriendAheadDied:10,ThisDied:11,FriendDied:12,AdjacentFriendsDie:12,EnemyDied:12,PetDied:12,FriendlyToyBroke:12,ThisKilled:9,ThisKilledEnemy:13,ThisTransformed:14,FriendTransformed:14.5,BeforeFirstNonJumpAttack:14,FriendGainedExp:15,FriendlyGainedExp:15,FoodEatenByThis:16,FoodEatenByAny:16,FoodEatenByFriend:16,FoodEatenByFriendly:16,AppleEatenByThis:16,CornEatenByThis:16,CornEatenByFriend:16,counter:17,FriendlyLeveledUp2:17,ThisHurt2:17,ThisHurt3:17,ThisHurt4:17,ThisHurt5:17,FriendHurt2:17,FriendHurt3:17,FriendHurt4:17,FriendHurt5:17,FriendHurt6:17,EnemyHurt5:17,EnemyHurt10:17,EnemyHurt20:17,FriendJumped2:17,FriendJumped3:17,TwoFriendsDied:17,FriendDied3:17,FriendDied4:17,FriendDied5:17,EnemyFaint2:17,EnemyFaint3:17,EnemyFaint4:17,EnemyFaint5:17,FriendSummoned2:17,FriendSummoned3:17,FriendSummoned4:17,FriendSummoned5:17,Eat2:17,Eat3:17,Eat4:17,Eat5:17,AppleEatenByThis2:17,FriendlyAttacked2:17,FriendlyAttacked3:17,FriendAttacked4:17,FriendAttacked5:17,EnemyAttacked2:17,EnemyAttacked5:17,EnemyAttacked7:17,EnemyAttacked8:17,EnemyAttacked10:17,FriendTransformed3:17,FriendTransformed5:17,ThisLostPerk:17.5,FriendLostPerk:18,PetLostPerk:18,LostStrawberry:18,FriendLostStrawberry:18,ThisGainedPerk:19,ThisGainedStrawberry:19,FriendGainsPerk:20,FriendlyGainsPerk:20,FriendGainedStrawberry:20,FriendlyGainedStrawberry:20,ThisGainedAilment:19,FriendGainsAilment:20,EnemyGainedAilment:20,AnyoneGainedAilment:20,AnyoneGainedWeak:20,FriendFlung:21,AnyoneFlung:21,manaSnipe:22,ClearFront:23,goldenRetrieverSummons:24}}triggerAbility(e,i,s,a){if(e.hasTrigger(i)){const r={callback:(o,l,c)=>{e.executeAbilities(o,l,c,void 0,void 0,a)},priority:e.attack,pet:e,triggerPet:s,abilityType:i,tieBreaker:Math.random(),customParams:a};this.addEventToQueue(r)}}get hasAbilityCycleEvents(){return this.globalEventQueue.length>0}addEventToQueue(e){const i=this.ABILITY_PRIORITIES[e.abilityType]||999;void 0===e.tieBreaker&&(e.tieBreaker=Math.random());let s=0,a=this.globalEventQueue.length;for(;s<a;){const r=Math.floor((s+a)/2),o=this.globalEventQueue[r],l=this.ABILITY_PRIORITIES[o.abilityType]||999;i<l?a=r:i>l?s=r+1:e.priority>o.priority?a=r:e.priority<o.priority?s=r+1:e.tieBreaker<o.tieBreaker?a=r:s=r+1}this.globalEventQueue.splice(s,0,e)}clearGlobalEventQueue(){this.globalEventQueue=[]}get hasGlobalEvents(){return this.globalEventQueue.length>0}getNextHighestPriorityEvent(){return this.globalEventQueue.shift()||null}peekNextHighestPriorityEvent(){return this.globalEventQueue.length>0?this.globalEventQueue[0]:null}getPriorityNumber(e){return this.ABILITY_PRIORITIES[e]||999}executeEventCallback(e){const i=this.gameService.gameApi,s=e.pet;if(s&&s.transformed&&s.transformedInto&&e.abilityType){const a=s.transformedInto;e.callback=(r,o,l)=>{a.executeAbilities(r,o,l,void 0,void 0,e.customParams)}}e.callback(e.abilityType,i,e.triggerPet)}initSpecialEndTurnAbility(e){for(let i of e.petArray)i.hasTrigger("SpecialEndTurn")&&i.executeAbilities("SpecialEndTurn",this.gameService.gameApi)}triggerBeforeStartOfBattleEvents(){this.gameApi=this.gameService.gameApi;for(let e of this.gameApi.player.petArray)if(e.hasTrigger("BeforeStartBattle")){const i={callback:(s,a)=>{e.executeAbilities(s,a)},priority:e.attack,pet:e,abilityType:"BeforeStartBattle",tieBreaker:Math.random()};this.beforeStartOfBattleEvents.push(i)}for(let e of this.gameApi.opponet.petArray)if(e.hasTrigger("BeforeStartBattle")){const i={callback:(s,a)=>{e.executeAbilities(s,a)},priority:e.attack,pet:e,abilityType:"BeforeStartBattle",tieBreaker:Math.random()};this.beforeStartOfBattleEvents.push(i)}}resetBeforeStartOfBattleEvents(){this.beforeStartOfBattleEvents=[]}executeBeforeStartOfBattleEvents(){this.beforeStartOfBattleEvents=(0,Gt.shuffle)(this.beforeStartOfBattleEvents),this.beforeStartOfBattleEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.beforeStartOfBattleEvents)e.callback(e.abilityType,this.gameService.gameApi);this.resetBeforeStartOfBattleEvents()}setCounterEvent(e){this.addEventToQueue(e)}triggerStartBattleEvents(){this.gameApi=this.gameService.gameApi;for(let e of this.gameApi.player.petArray)if(e.hasTrigger("StartBattle")){const i={callback:(s,a)=>{e.executeAbilities(s,a)},priority:e.attack,pet:e,abilityType:"StartBattle",tieBreaker:Math.random()};this.startBattleEvents.push(i)}for(let e of this.gameApi.opponet.petArray)if(e.hasTrigger("StartBattle")){const i={callback:(s,a)=>{e.executeAbilities(s,a)},priority:e.attack,pet:e,abilityType:"StartBattle",tieBreaker:Math.random()};this.startBattleEvents.push(i)}}executeStartBattleEvents(){for(this.startBattleEvents.sort((e,i)=>i.priority-e.priority||i.tieBreaker-e.tieBreaker);this.startBattleEvents.length>0;){let e=this.startBattleEvents.shift();if(e.pet&&e.pet.transformed&&e.pet.transformedInto){const s=e.pet.transformedInto;e.callback=(a,r)=>{s.executeAbilities(a,r)}}e.callback(e.abilityType,this.gameService.gameApi);let i=!1;for(let s of this.startBattleEvents)s.pet.attack!=s.priority&&(s.priority=s.pet.attack,i=!0);i&&this.startBattleEvents.sort((s,a)=>a.priority-s.priority||a.tieBreaker-s.tieBreaker)}}triggerBeforeAttackEvent(e){for(let i of e.parent.petArray){if(i.hasTrigger("BeforeFriendlyAttack")){const s={callback:(a,r)=>{i.executeAbilities(a,r)},priority:i.attack,pet:i,abilityType:"BeforeFriendlyAttack",tieBreaker:Math.random()};this.beforeFriendAttacksEvents.push(s)}if(i.hasTrigger("BeforeFirstNonJumpAttack")){const s={callback:(a,r)=>{i.executeAbilities(a,r)},priority:i.attack,pet:i,abilityType:"BeforeFirstNonJumpAttack",tieBreaker:Math.random()};this.beforeFriendAttacksEvents.push(s)}if(i==e){if(i.hasTrigger("BeforeThisAttacks")){const s={callback:(a,r)=>{i.executeAbilities(a,r)},priority:i.attack,pet:i,abilityType:"BeforeThisAttacks",tieBreaker:Math.random()};this.beforeAttackEvents.push(s)}if(i.hasTrigger("BeforeFirstAttack")){const s={callback:(a,r)=>{i.executeAbilities(a,r)},priority:i.attack,pet:i,abilityType:"BeforeFirstAttack",tieBreaker:Math.random()};this.beforeAttackEvents.push(s)}}else if(i.hasTrigger("BeforeFriendAttacks")){const s={callback:(a,r)=>{i.executeAbilities(a,r)},priority:i.attack,pet:i,abilityType:"BeforeFriendAttacks",tieBreaker:Math.random()};this.beforeFriendAttacksEvents.push(s)}if((i==e.petAhead||i==e.petBehind())&&i.hasTrigger("BeforeAdjacentFriendAttacked")){const s={callback:(a,r)=>{i.executeAbilities(a,r)},priority:i.attack,pet:i,abilityType:"BeforeAdjacentFriendAttacked",tieBreaker:Math.random()};this.beforeFriendAttacksEvents.push(s)}}}executeBeforeAttackEvents(){for(this.beforeAttackEvents.sort((e,i)=>i.priority-e.priority||i.tieBreaker-e.tieBreaker);this.beforeAttackEvents.length>0;){let e=this.beforeAttackEvents.shift();if(e.pet&&e.pet.transformed&&e.pet.transformedInto){const i=e.pet.transformedInto;e.callback=(s,a)=>{i.executeAbilities(s,a)}}e.callback(e.abilityType,this.gameService.gameApi)}for(this.beforeFriendAttacksEvents.sort((e,i)=>i.priority-e.priority||i.tieBreaker-e.tieBreaker);this.beforeFriendAttacksEvents.length>0;){let e=this.beforeFriendAttacksEvents.shift();if(e.pet&&e.pet.transformed&&e.pet.transformedInto){const i=e.pet.transformedInto;e.callback=(s,a)=>{i.executeAbilities(s,a)}}e.callback(e.abilityType,this.gameService.gameApi)}}triggerAttacksEvents(e){for(let i of e.parent.petArray){if(i.hasTrigger("FriendlyAttacked2")&&(i.abilityCounter++,i.abilityCounter%2==0&&this.triggerAbility(i,"FriendlyAttacked2")),i.hasTrigger("FriendlyAttacked3")&&(i.abilityCounter++,i.abilityCounter%3==0&&this.triggerAbility(i,"FriendlyAttacked3")),i.hasTrigger("FriendlyAttacked")){const s={callback:(a,r)=>{i.executeAbilities(a,r)},priority:i.attack,pet:i,abilityType:"FriendlyAttacked",tieBreaker:Math.random()};this.afterFriendAttackEvents.push(s)}if(i.hasTrigger("AnyoneAttack")){const s={callback:(a,r)=>{i.executeAbilities(a,r)},priority:i.attack,pet:i,abilityType:"AnyoneAttack",tieBreaker:Math.random()};this.afterFriendAttackEvents.push(s)}if(i==e){if(i.hasTrigger("ThisAttacked")){const s={callback:(a,r)=>{i.executeAbilities(a,r)},priority:i.attack,pet:i,abilityType:"ThisAttacked",tieBreaker:Math.random()};this.afterAttackEvents.push(s)}if(i.hasTrigger("ThisFirstAttack")){const s={callback:(a,r)=>{i.executeAbilities(a,r)},priority:i.attack,pet:i,abilityType:"ThisFirstAttack",tieBreaker:Math.random()};this.afterAttackEvents.push(s)}}else{if(i.hasTrigger("FriendAttacked")){const s={callback:(a,r)=>{i.executeAbilities(a,r)},priority:i.attack,pet:i,abilityType:"FriendAttacked",tieBreaker:Math.random()};this.afterFriendAttackEvents.push(s)}i.hasTrigger("FriendAttacked4")&&(i.abilityCounter++,i.abilityCounter%4==0&&this.triggerAbility(i,"FriendAttacked4")),i.hasTrigger("FriendAttacked5")&&(i.abilityCounter++,i.abilityCounter%5==0&&this.triggerAbility(i,"FriendAttacked5"))}if((i==e.petAhead||i==e.petBehind())&&i.hasTrigger("AdjacentFriendAttacked")){const s={callback:(a,r)=>{i.executeAbilities(a,r)},priority:i.attack,pet:i,abilityType:"AdjacentFriendAttacked",tieBreaker:Math.random()};this.afterFriendAttackEvents.push(s)}if(i==e.petBehind(null,!0)&&i.hasTrigger("FriendAheadAttacked")){const s={callback:(a,r)=>{i.executeAbilities(a,r)},priority:i.attack,pet:i,abilityType:"FriendAheadAttacked",tieBreaker:Math.random()};this.afterFriendAttackEvents.push(s)}}for(let i of e.parent.opponent.petArray){if(i.hasTrigger("AnyoneAttack")){const s={callback:(a,r)=>{i.executeAbilities(a,r)},priority:i.attack,pet:i,abilityType:"AnyoneAttack",tieBreaker:Math.random()};this.afterFriendAttackEvents.push(s)}if(i.hasTrigger("EnemyAttacked")){const s={callback:(a,r)=>{i.executeAbilities(a,r)},priority:i.attack,pet:i,abilityType:"EnemyAttacked",tieBreaker:Math.random()};this.afterFriendAttackEvents.push(s)}i.hasTrigger("EnemyAttacked2")&&(i.abilityCounter++,i.abilityCounter%2==0&&this.triggerAbility(i,"EnemyAttacked2")),i.hasTrigger("EnemyAttacked5")&&(i.abilityCounter++,i.abilityCounter%5==0&&this.triggerAbility(i,"EnemyAttacked5")),i.hasTrigger("EnemyAttacked7")&&(i.abilityCounter++,i.abilityCounter%7==0&&this.triggerAbility(i,"EnemyAttacked7")),i.hasTrigger("EnemyAttacked8")&&(i.abilityCounter++,i.abilityCounter%8==0&&this.triggerAbility(i,"EnemyAttacked8")),i.hasTrigger("EnemyAttacked10")&&(i.abilityCounter++,i.abilityCounter%10==0&&this.triggerAbility(i,"EnemyAttacked10"))}}executeAfterAttackEvents(){for(this.afterAttackEvents.sort((e,i)=>i.priority-e.priority||i.tieBreaker-e.tieBreaker);this.afterAttackEvents.length>0;){let e=this.afterAttackEvents.shift();if(e.pet&&e.pet.transformed&&e.pet.transformedInto){const i=e.pet.transformedInto;e.callback=(s,a)=>{i.executeAbilities(s,a)}}e.callback(e.abilityType,this.gameService.gameApi)}for(this.afterFriendAttackEvents.sort((e,i)=>i.priority-e.priority||i.tieBreaker-e.tieBreaker);this.afterFriendAttackEvents.length>0;){let e=this.afterFriendAttackEvents.shift();if(e.pet&&e.pet.transformed&&e.pet.transformedInto){const i=e.pet.transformedInto;e.callback=(s,a)=>{i.executeAbilities(s,a)}}e.callback(e.abilityType,this.gameService.gameApi)}}triggerSummonEvents(e){this.triggerFriendSummonedToyEvents(e.parent,e);for(let i of e.parent.petArray)i==e?this.triggerAbility(i,"ThisSummoned",e):(this.triggerAbility(i,"FriendSummoned",e),i.hasTrigger("FriendSummoned2")&&(i.abilityCounter++,i.abilityCounter%2==0&&this.triggerAbility(i,"FriendSummoned2",e)),i.hasTrigger("FriendSummoned3")&&(i.abilityCounter++,i.abilityCounter%3==0&&this.triggerAbility(i,"FriendSummoned3",e)),i.hasTrigger("FriendSummoned4")&&(i.abilityCounter++,i.abilityCounter%4==0&&this.triggerAbility(i,"FriendSummoned4",e)),i.hasTrigger("FriendSummoned5")&&(i.abilityCounter++,i.abilityCounter%5==0&&this.triggerAbility(i,"FriendSummoned5",e)),"Bee"===e.name&&this.triggerAbility(i,"BeeSummoned",e));for(let i of e.parent.opponent.petArray)this.triggerAbility(i,"EnemySummoned",e)}triggerFaintEvents(e){for(let i of e.parent.petArray)this.triggerAbility(i,i==e?"BeforeThisDies":"KitsuneFriendDies",e),i==e.petBehind(null,!0)&&this.triggerAbility(i,"FriendAheadDied",e),(i==e.petBehind(null,!0)||i.petBehind(null,!0)==e)&&this.triggerAbility(i,"AdjacentFriendsDie",e)}triggerAfterFaintEvents(e){this.triggerFriendFaintsToyEvents(e.parent,e);for(let i of e.parent.petArray)this.triggerAbility(i,"PetDied",e),i==e?this.triggerAbility(i,"ThisDied",e):(this.triggerAbility(i,"FriendDied",e),i.hasTrigger("TwoFriendsDied")&&(i.abilityCounter++,i.abilityCounter%2==0&&this.triggerAbility(i,"TwoFriendsDied",e)),i.hasTrigger("FriendDied3")&&(i.abilityCounter++,i.abilityCounter%3==0&&this.triggerAbility(i,"FriendDied3",e)),i.hasTrigger("FriendDied4")&&(i.abilityCounter++,i.abilityCounter%4==0&&this.triggerAbility(i,"FriendDied4",e)),i.hasTrigger("FriendDied5")&&(i.abilityCounter++,i.abilityCounter%5==0&&this.triggerAbility(i,"FriendDied5",e)));for(let i of e.parent.opponent.petArray.filter(s=>s.alive))this.triggerAbility(i,"EnemyDied",e),this.triggerAbility(i,"PetDied",e),i.hasTrigger("EnemyFaint2")&&(i.abilityCounter++,i.abilityCounter%2==0&&this.triggerAbility(i,"EnemyFaint2",e)),i.hasTrigger("EnemyFaint3")&&(i.abilityCounter++,i.abilityCounter%3==0&&this.triggerAbility(i,"EnemyFaint3",e)),i.hasTrigger("EnemyFaint4")&&(i.abilityCounter++,i.abilityCounter%4==0&&this.triggerAbility(i,"EnemyFaint4",e)),i.hasTrigger("EnemyFaint5")&&(i.abilityCounter++,i.abilityCounter%5==0&&this.triggerAbility(i,"EnemyFaint5",e))}triggerFoodEvents(e,i){for(let s of e.parent.petArray)this.triggerAbility(s,"FoodEatenByAny",e),this.triggerAbility(s,"FoodEatenByFriendly",e),s==e?(this.triggerAbility(s,"FoodEatenByThis",e),"apple"===i?(this.triggerAbility(s,"AppleEatenByThis",e),s.hasTrigger("AppleEatenByThis2")&&(s.abilityCounter++,s.abilityCounter%2==0&&this.triggerAbility(s,"AppleEatenByThis2",e))):"corn"===i&&this.triggerAbility(s,"CornEatenByThis",e),s.hasTrigger("Eat2")&&(s.abilityCounter++,s.abilityCounter%2==0&&this.triggerAbility(s,"Eat2",e)),s.hasTrigger("Eat3")&&(s.abilityCounter++,s.abilityCounter%3==0&&this.triggerAbility(s,"Eat3",e)),s.hasTrigger("Eat4")&&(s.abilityCounter++,s.abilityCounter%4==0&&this.triggerAbility(s,"Eat4",e)),s.hasTrigger("Eat5")&&(s.abilityCounter++,s.abilityCounter%5==0&&this.triggerAbility(s,"Eat5",e))):(this.triggerAbility(s,"FoodEatenByFriend",e),"corn"===i&&this.triggerAbility(s,"CornEatenByFriend",e));for(let s of e.parent.opponent.petArray)this.triggerAbility(s,"FoodEatenByAny",e)}triggerPerkGainEvents(e,i){for(let s of e.parent.petArray)this.triggerAbility(s,"FriendlyGainsPerk",e),"Strawberry"===i&&this.triggerAbility(s,"FriendlyGainedStrawberry",e),s==e?(this.triggerAbility(s,"ThisGainedPerk",e),"Strawberry"===i&&this.triggerAbility(s,"ThisGainedStrawberry",e)):(this.triggerAbility(s,"FriendGainsPerk",e),"Strawberry"===i&&this.triggerAbility(s,"FriendGainedStrawberry",e))}triggerPerkLossEvents(e,i){for(let s of e.parent.petArray)this.triggerAbility(s,"PetLostPerk",e),"strawberry"===i&&this.triggerAbility(s,"LostStrawberry",e),s==e?this.triggerAbility(s,"ThisLostPerk",e):(this.triggerAbility(s,"FriendLostPerk",e),"strawberry"===i&&this.triggerAbility(s,"FriendLostStrawberry",e));for(let s of e.parent.opponent.petArray)this.triggerAbility(s,"PetLostPerk",e)}triggerAilmentGainEvents(e,i){for(let s of e.parent.petArray)this.triggerAbility(s,"AnyoneGainedAilment",e),this.triggerAbility(s,s==e?"ThisGainedAilment":"FriendGainsAilment",e),"weak"===i&&this.triggerAbility(s,"AnyoneGainedWeak",e);for(let s of e.parent.opponent.petArray)this.triggerAbility(s,"EnemyGainedAilment",e),this.triggerAbility(s,"AnyoneGainedAilment",e),"weak"===i&&this.triggerAbility(s,"AnyoneGainedWeak",e)}triggerTransformEvents(e){const i=e.transformedInto;for(let s of i.parent.petArray)s==i?this.triggerAbility(s,"ThisTransformed",i):(this.triggerAbility(s,"FriendTransformed",i),s.hasTrigger("FriendTransformed3")&&(s.abilityCounter++,s.abilityCounter%3==0&&this.triggerAbility(s,"FriendTransformed3",i)),s.hasTrigger("FriendTransformed5")&&(s.abilityCounter++,s.abilityCounter%5==0&&this.triggerAbility(s,"FriendTransformed5",i)))}triggerFlungEvents(e){for(let i of e.parent.petArray)this.triggerAbility(i,"AnyoneFlung",e),i!=e&&this.triggerAbility(i,"FriendFlung",e);for(let i of e.parent.opponent.petArray)this.triggerAbility(i,"AnyoneFlung",e)}triggerPushedEvents(e){for(let i of e.parent.opponent.petArray)this.triggerAbility(i,"EnemyPushed",e)}triggerKillEvents(e,i){this.triggerAbility(i,"ThisKilled",e),i.parent!==e.parent&&this.triggerAbility(e,"ThisKilledEnemy",i)}triggerHurtEvents(e,i){const s=void 0!==i?{damageAmount:i}:void 0;for(let a of e.parent.petArray)this.triggerAbility(a,"AnyoneHurt",e,s),a==e?(this.triggerAbility(a,"ThisHurt",e,s),a.hasTrigger("ThisHurt2")&&(a.abilityCounter++,a.abilityCounter%2==0&&this.triggerAbility(a,"ThisHurt2",e,s)),a.hasTrigger("ThisHurt3")&&(a.abilityCounter++,a.abilityCounter%3==0&&this.triggerAbility(a,"ThisHurt3",e,s)),a.hasTrigger("ThisHurt4")&&(a.abilityCounter++,a.abilityCounter%4==0&&this.triggerAbility(a,"ThisHurt4",e,s)),a.hasTrigger("ThisHurt5")&&(a.abilityCounter++,a.abilityCounter%5==0&&this.triggerAbility(a,"ThisHurt5",e,s))):(this.triggerAbility(a,"FriendHurt",e,s),a.hasTrigger("FriendHurt2")&&(a.abilityCounter++,a.abilityCounter%2==0&&this.triggerAbility(a,"FriendHurt2",e,s)),a.hasTrigger("FriendHurt3")&&(a.abilityCounter++,a.abilityCounter%3==0&&this.triggerAbility(a,"FriendHurt3",e,s)),a.hasTrigger("FriendHurt4")&&(a.abilityCounter++,a.abilityCounter%4==0&&this.triggerAbility(a,"FriendHurt4",e,s)),a.hasTrigger("FriendHurt5")&&(a.abilityCounter++,a.abilityCounter%5==0&&this.triggerAbility(a,"FriendHurt5",e,s)),a.hasTrigger("FriendHurt6")&&(a.abilityCounter++,a.abilityCounter%6==0&&this.triggerAbility(a,"FriendHurt6",e,s))),a==e.petBehind(null,!0)&&this.triggerAbility(a,"FriendAheadHurt",e,s),(a==a.petBehind()||a.petAhead)&&this.triggerAbility(a,"AdjacentFriendsHurt",e,s),a.position<e.position&&this.triggerAbility(a,"AnyoneBehindHurt",e,s);for(let a of e.parent.opponent.petArray)this.triggerAbility(a,"EnemyHurt",e,s),this.triggerAbility(a,"AnyoneHurt",e,s),a.hasTrigger("EnemyHurt5")&&(a.abilityCounter++,a.abilityCounter%5==0&&this.triggerAbility(a,"EnemyHurt5",e,s)),a.hasTrigger("EnemyHurt10")&&(a.abilityCounter++,a.abilityCounter%10==0&&this.triggerAbility(a,"EnemyHurt10",e,s)),a.hasTrigger("EnemyHurt20")&&(a.abilityCounter++,a.abilityCounter%20==0&&this.triggerAbility(a,"EnemyHurt20",e,s))}triggerLevelUpEvents(e){let i=e.parent;this.triggerFriendlyLevelUpToyEvents(i,e);for(let s of i.petArray)this.triggerAbility(s,"AnyLeveledUp",e),this.triggerAbility(s,"FriendlyLeveledUp",e),s==e?this.triggerAbility(s,"ThisLeveledUp",e):(this.triggerAbility(s,"FriendLeveledUp",e),s.hasTrigger("FriendlyLeveledUp2")&&(s.abilityCounter++,s.abilityCounter%2==0&&this.triggerAbility(s,"FriendlyLeveledUp2",e)));for(let s of e.parent.opponent.petArray)this.triggerAbility(s,"AnyLeveledUp",e)}triggerEmptyFrontSpaceEvents(e){for(let i of e.petArray)this.triggerAbility(i,"ClearFront")}triggerToyBrokeEvents(e){for(let i of e.petArray)this.triggerAbility(i,"FriendlyToyBroke")}triggerJumpEvents(e){this.triggerFriendJumpedToyEvents(e.parent,e);for(let i of e.parent.petArray)this.triggerAbility(i,"AnyoneJumped",e),i==e||(this.triggerAbility(i,"FriendJumped",e),i.hasTrigger("FriendJumped2")&&(i.abilityCounter++,i.abilityCounter%2==0&&this.triggerAbility(i,"FriendJumped2",e)),i.hasTrigger("FriendJumped3")&&(i.abilityCounter++,i.abilityCounter%3==0&&this.triggerAbility(i,"FriendJumped3",e)));for(let i of e.parent.opponent.petArray)this.triggerAbility(i,"AnyoneJumped",e)}triggerManaGainedEvents(e){this.triggerAbility(e,"ThisGainedMana",e)}setManaEvent(e){e.abilityType="manaSnipe",this.addEventToQueue(e)}setgoldenRetrieverSummonsEvent(e){e.abilityType="goldenRetrieverSummons",this.addEventToQueue(e)}triggerFriendGainsHealthEvents(e){}triggerFriendGainedExperienceEvents(e){for(let i of e.parent.petArray)this.triggerAbility(i,"FriendlyGainedExp",e),i!==e&&this.triggerAbility(i,"FriendGainedExp",e)}triggerEmptyFrontSpaceToyEvents(e){var i;if(null!=(null===(i=e.toy)||void 0===i?void 0:i.emptyFromSpace)){if(e.toy.used)return;this.setEmptyFrontSpaceToyEvent({callback:e.toy.emptyFromSpace.bind(e.toy),priority:100,level:e.toy.level});let s=e.petArray.filter(a=>a instanceof mr);for(let a of s)this.setEmptyFrontSpaceToyEvent({callback:e.toy.emptyFromSpace.bind(e.toy),priority:+a.attack,level:a.level})}}setEmptyFrontSpaceToyEvent(e){this.emptyFrontSpaceToyEvents.push(e)}resetEmptyFrontSpaceToyEvents(){this.emptyFrontSpaceToyEvents=[]}executeEmptyFrontSpaceToyEvents(){this.emptyFrontSpaceToyEvents=(0,Gt.shuffle)(this.emptyFrontSpaceToyEvents),this.emptyFrontSpaceToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.emptyFrontSpaceToyEvents)e.callback(this.gameService.gameApi,e.priority<100,e.level,e.priority);this.resetEmptyFrontSpaceToyEvents()}triggerFriendSummonedToyEvents(e,i){var s;if(null!=(null===(s=e.toy)||void 0===s?void 0:s.friendSummoned)){this.setFriendSummonedToyEvent({callback:e.toy.friendSummoned.bind(e.toy),priority:100,level:e.toy.level,triggerPet:i});let a=e.petArray.filter(r=>r instanceof mr);for(let r of a)this.setFriendSummonedToyEvent({callback:e.toy.friendSummoned.bind(e.toy),priority:+r.attack,level:r.level,triggerPet:i})}}setFriendSummonedToyEvent(e){this.friendSummonedToyEvents.push(e)}resetFriendSummonedToyEvents(){this.friendSummonedToyEvents=[]}executeFriendSummonedToyEvents(){this.friendSummonedToyEvents=(0,Gt.shuffle)(this.friendSummonedToyEvents),this.friendSummonedToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendSummonedToyEvents)e.callback(this.gameService.gameApi,e.triggerPet,e.priority<100,e.level);this.resetFriendSummonedToyEvents()}triggerFriendlyLevelUpToyEvents(e,i){var s;if(e==i.parent&&null!=(null===(s=e.toy)||void 0===s?void 0:s.friendlyLevelUp)){this.setFriendlyLevelUpToyEvent({callback:e.toy.friendlyLevelUp.bind(e.toy),priority:100,level:e.toy.level,triggerPet:i});let a=e.petArray.filter(r=>r instanceof mr);for(let r of a)this.setFriendlyLevelUpToyEvent({callback:e.toy.friendlyLevelUp.bind(e.toy),priority:+r.attack,level:r.level,triggerPet:i})}}setFriendlyLevelUpToyEvent(e){this.friendlyLevelUpToyEvents.push(e)}resetFriendlyLevelUpToyEvents(){this.friendlyLevelUpToyEvents=[]}executeFriendlyLevelUpToyEvents(){this.friendlyLevelUpToyEvents=(0,Gt.shuffle)(this.friendlyLevelUpToyEvents),this.friendlyLevelUpToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendlyLevelUpToyEvents)e.callback(this.gameService.gameApi,e.triggerPet,e.priority<100,e.level);this.resetFriendlyLevelUpToyEvents()}triggerFriendFaintsToyEvents(e,i){var s;if(e==i.parent&&null!=(null===(s=e.toy)||void 0===s?void 0:s.friendFaints)){this.setFriendFaintsToyEvent({callback:e.toy.friendFaints.bind(e.toy),priority:100,level:e.toy.level,triggerPet:i});let a=e.petArray.filter(r=>r instanceof mr);for(let r of a)this.setFriendFaintsToyEvent({callback:e.toy.friendFaints.bind(e.toy),priority:+r.attack,level:+r.level,triggerPet:i})}}setFriendFaintsToyEvent(e){this.friendFaintsToyEvents.push(e)}resetFriendFaintsToyEvents(){this.friendFaintsToyEvents=[]}executeFriendFaintsToyEvents(){this.friendFaintsToyEvents=(0,Gt.shuffle)(this.friendFaintsToyEvents),this.friendFaintsToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendFaintsToyEvents)e.callback(this.gameService.gameApi,e.triggerPet,e.priority<100,e.level);this.resetFriendFaintsToyEvents()}triggerFriendJumpedToyEvents(e,i){var s;if(e==i.parent&&null!=(null===(s=e.toy)||void 0===s?void 0:s.friendJumped)){this.setFriendJumpedToyEvent({callback:e.toy.friendJumped.bind(e.toy),priority:100,level:e.toy.level,triggerPet:i});let a=e.petArray.filter(r=>r instanceof mr);for(let r of a)this.setFriendJumpedToyEvent({callback:e.toy.friendJumped.bind(e.toy),priority:+r.attack,level:r.level,triggerPet:i})}}setFriendJumpedToyEvent(e){this.friendJumpedToyEvents.push(e)}resetFriendJumpedToyEvents(){this.friendJumpedToyEvents=[]}executeFriendJumpedToyEvents(){this.friendJumpedToyEvents=(0,Gt.shuffle)(this.friendJumpedToyEvents),this.friendJumpedToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendJumpedToyEvents)e.callback(this.gameService.gameApi,e.triggerPet,e.priority<100,e.level);this.resetFriendJumpedToyEvents()}}return n.\u0275fac=function(e){return new(e||n)(G(Vf))},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Di{constructor(t,e,i){this.logService=t,this.abilityService=e,this.gameService=i}getInstanceOfAllEquipment(){const t=cc.getInjector().get(Gf);let e=new Map;return e.set("Garlic",new Bf),e.set("Cake",new Vee),e.set("Meat Bone",new $G),e.set("Steak",new qee),e.set("Melon",new Gr),e.set("Honey",new VG(this.logService,this.abilityService)),e.set("Chili",new LG(this.logService,this.abilityService)),e.set("Mushroom",new Fee(this.logService,t)),e.set("Coconut",new qo),e.set("Peanut",new FC),e.set("Peanut Butter",new Rf),e.set("Cake Slice",new nie),e.set("Blackberry",new PG),e.set("Croissant",new Uee),e.set("Rice",new wx),e.set("Eucalyptus",new fb),e.set("Lime",new jee),e.set("Egg",new BG(this.logService)),e.set("Squash",new zee(this.logService)),e.set("Salt",new UC),e.set("Pie",new qG(this.logService)),e.set("Skewer",new HG(this.logService)),e.set("Lemon",new Yee),e.set("Pancakes",new GG(this.logService)),e.set("Strawberry",new Ax(this.logService)),e.set("Baguette",new Xee(this.logService)),e.set("Cucumber",new ete),e.set("Cheese",new jC),e.set("Grapes",new tte),e.set("Carrot",new ite),e.set("Pepper",new WC),e.set("Popcorn",new FG(this.logService,t,this.gameService)),e.set("Cherry",new UG),e.set("Bok Choy",new rte),e.set("Chocolate Cake",new Ex(this.logService,this.abilityService)),e.set("Cod Roe",new lte(this.logService,this.abilityService)),e.set("Eggplant",new ute(this.logService)),e.set("Potato",new hte),e.set("Banana",new gte(this.logService,this.abilityService)),e.set("Onion",new OG(this.logService)),e.set("Pita Bread",new pte(this.logService)),e.set("Tomato",new yte(this.logService)),e.set("Sudduth Tomato",new bte(this.logService)),e.set("Unagi",new _te),e.set("Durian",new Ate(this.logService)),e.set("Gros Michel Banana",new Cte(this.logService,this.abilityService)),e.set("Seaweed",new Tte(this.logService,this.abilityService,t)),e.set("Fortune Cookie",new zC),e.set("Blueberry",new xte),e.set("Donut",new kte),e.set("Cashew Nut",new Mte(this.logService)),e.set("Nachos",new Ite(this.logService)),e.set("Pumpkin",new Ote),e.set("Kiwifruit",new Nte),e.set("Pineapple",new Lte),e.set("Fig",new $te(this.logService)),e.set("Caramel",new qte(this.logService)),e.set("Guava",new RG),e.set("Mild Chili",new QG(this.logService,this.abilityService)),e.set("Walnut",new vh),e.set("Rambutan",new Cx(this.logService)),e.set("Love Potion",new jG(this.logService)),e.set("Fairy Dust",new Ute(this.logService)),e.set("Gingerbread Man",new WG(this.logService)),e.set("Easter Egg",new zte(this.logService,this.abilityService)),e.set("Health Potion",new zG(this.logService)),e.set("Magic Beans",new Yte),e.set("Golden Egg",new Jte(this.logService)),e.set("Yggdrasil Fruit",new eie(this.logService,this.abilityService)),e.set("Honeydew Melon",new TG),e.set("Maple Syrup",new If),e.set("Cocoa Bean",new iie(this.logService,t)),e.set("White Okra",new YC),e.set("White Truffle",new MG(this.logService)),e.set("Ambrosia",new xG),e.set("Faint Bread",new rie(this.logService,t)),e}getInstanceOfAllAilments(){let t=new Map;return t.set("Cold",new mb),t.set("Crisp",new Vo),t.set("Dazed",new Mf),t.set("Icky",new fh),t.set("Ink",new Px),t.set("Spooked",new bh),t.set("Weak",new yr),t.set("Tasty",new KG(this.logService)),t.set("Silly",new YG),t}isUsefulPerk(t){return Di.USEFUL_PERKS.has(t)}getUsefulPerksByTier(t){const e=this.getInstanceOfAllEquipment(),i=[];for(const[s,a]of Di.USEFUL_PERKS.entries())a===t&&e.has(s)&&i.push(e.get(s));return i}getUsefulPerks(){const t=this.getInstanceOfAllEquipment(),e=[];for(const i of Di.USEFUL_PERKS.keys())t.has(i)&&e.push(t.get(i));return e}}Di.USEFUL_PERKS=new Map([["Honey",1],["Strawberry",1],["Egg",1],["Cake Slice",1],["Cashew Nut",1],["Nachos",1],["Lime",2],["Meat Bone",2],["Cherry",2],["Bok Choy",2],["Kiwifruit",2],["Fairy Dust",2],["Garlic",3],["Gingerbread Man",3],["Fig",3],["Cucumber",3],["Croissant",3],["Squash",3],["Banana",4],["Love Potion",4],["Pie",4],["Grapes",4],["Cheese",4],["Cod Roe",4],["Salt",4],["Fortune Cookie",4],["Easter Egg",5],["Magic Beans",5],["Chili",5],["Lemon",5],["Durian",5],["Honeydew Melon",5],["Maple Syrup",5],["Cocoa Bean",5],["White Okra",5],["Popcorn",6],["Steak",6],["Pancakes",6],["Yggdrasil Fruit",6],["Melon",6],["Tomato",6],["Sudduth Tomato",6],["Pita Bread",6],["Seaweed",5],["Caramel",4],["Baguette",4]]),Di.\u0275fac=function(t){return new(t||Di)(G(bb),G(Sb),G(Vf))},Di.\u0275prov=ue({token:Di,factory:Di.\u0275fac,providedIn:"root"});class kx extends E{constructor(t,e){super({name:"ToucanAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:i=>this.owner.timesAttacked<1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o;o=null==r.equipment||r.equipment.tier>5?"Egg":r.equipment.name;let l=r.parent.getPetsWithEquipment(o),d=r.parent.nearestPetsBehind(this.level,r,l).pets;if(0!=d.length){for(let f of d){const y=cc.getInjector().get(Di).getInstanceOfAllEquipment().get(o);!y||(this.logService.createLog({message:`${r.name} gave ${f.name} ${y.name}`,type:"ability",player:r.parent,randomEvent:!1,tiger:s,pteranodon:a}),f.givePetEquipment(y))}this.triggerTigerExecution(t)}}copy(t){return new kx(t,this.logService)}}class Dx extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Toucan",this.tier=3,this.pack="Puppy",this.attack=4,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new kx(this,this.logService)),super.initAbilities()}}class Mx extends E{constructor(t,e,i){super({name:"BelugaSturgeonAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;for(let o=0;o<this.level;o++){let l=new lb(this.logService,this.abilityService,r.parent,3,2,0,0,null),c=r.parent.summonPet(l,4,!1,r);c.success&&(this.logService.createLog({message:`${r.name} summoned a 2/3 Dolphin in the back.`,type:"ability",player:r.parent,randomEvent:c.randomEvent,tiger:s,pteranodon:a}),l.givePetEquipment(new wx),this.logService.createLog({message:`${r.name} gave ${l.name} Rice.`,type:"ability",player:r.parent,randomEvent:!1,tiger:s,pteranodon:a}))}this.triggerTigerExecution(t)}copy(t){return new Mx(t,this.logService,this.abilityService)}}class Rx extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beluga Sturgeon",this.tier=2,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new Mx(this,this.logService,this.abilityService)),super.initAbilities()}}class Ix extends E{constructor(t,e){super({name:"TabbyCatAbility",owner:t,triggers:["FriendlyGainsPerk"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.getRandomPets(2,[r],!0,!1,r);if(0!=o.pets.length){for(let l of o.pets)null!=l&&(this.logService.createLog({message:`${r.name} increased ${l.name}'s health by ${this.level}.`,type:"ability",player:r.parent,randomEvent:o.random,tiger:s}),l.increaseHealth(this.level));this.triggerTigerExecution(t)}}copy(t){return new Ix(t,this.logService)}}class Ox extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tabby Cat",this.tier=2,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new Ix(this,this.logService)),super.initAbilities()}}class Nx extends E{constructor(t,e,i){super({name:"MandrillAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){var e;const o=this.owner;(null===(e=o.parent.toy)||void 0===e?void 0:e.tier)<=2*this.level&&(o.parent.breakToy(),this.abilityService.triggerToyBrokeEvents(o.parent)),this.triggerTigerExecution(t)}copy(t){return new Nx(t,this.logService,this.abilityService)}}class Lx extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mandrill",this.tier=2,this.pack="Puppy",this.attack=3,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new Nx(this,this.logService,this.abilityService)),super.initAbilities()}}class Bx extends E{constructor(t,e,i){super({name:"LemurAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new Bx(t,this.logService,this.abilityService)}}class _b extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lemur",this.tier=2,this.pack="Puppy",this.attack=3,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new Bx(this,this.logService,this.abilityService)),super.initAbilities()}}class $x extends E{constructor(t,e){super({name:"HoopoeBirdAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.opponent,l=o.getFurthestUpPet(r),c=l.pet,d=o.getLastPet(void 0,r),f=d.pet,y=2*this.level;c&&r.snipePet(c,y,l.random,s,a),f&&r.snipePet(f,y,d.random,s,a),this.triggerTigerExecution(t)}copy(t){return new $x(t,this.logService)}}class Vx extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hoopoe Bird",this.tier=3,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new $x(this,this.logService)),super.initAbilities()}}class qx extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tropical Fish",this.tier=3,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,a,r,l,c)}}class Hx extends E{constructor(t,e,i){super({name:"HatchingChickAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new Hx(t,this.logService,this.abilityService)}}class Gx extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hatching Chick",this.tier=3,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new Hx(this,this.logService,this.abilityService)),super.initAbilities()}}class Fx extends E{constructor(t,e,i){super({name:"GoldfishAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new Fx(t,this.logService,this.abilityService)}}class Ux extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goldfish",this.tier=2,this.pack="Puppy",this.attack=1,this.health=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new Fx(this,this.logService,this.abilityService)),super.initAbilities()}}class jx extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Owl",this.tier=3,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(o,s,a,r,l,c)}}class Wx extends E{constructor(t,e,i){super({name:"MoleAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=6*this.level,l=[];for(let y of r.parent.petArray)y!=r&&y.equipment&&l.push(y);const c=r.position;if(l.sort((y,b)=>{const P=Math.abs(y.position-c),x=Math.abs(b.position-c);return P!==x?P-x:y.position-b.position}),l=l.slice(0,2),l.length<2)return;for(let y of l)this.logService.createLog({message:`${r.name} removed ${y.name}'s equipment.`,type:"ability",player:r.parent,pteranodon:a}),y.removePerk();let d=new wb(this.logService,this.abilityService,r.parent,o,o),f=r.parent.summonPet(d,r.savedPosition,!1,r);f.success&&this.logService.createLog({message:`${r.name} summoned a ${o}/${o} Mole.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:f.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new Wx(t,this.logService,this.abilityService)}}class wb extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mole",this.tier=3,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new Wx(this,this.logService,this.abilityService)),super.initAbilities()}}class zx extends E{constructor(t,e){super({name:"RaccoonAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}reset(){this.maxUses=this.level,super.reset()}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let l=r.parent.opponent.getPetAtPosition(0);null!=l&&null!=l.equipment&&(this.logService.createLog({message:`${r.name} stole ${l.name}'s equipment. (${l.equipment.name})`,type:"ability",player:r.parent,tiger:s,pteranodon:a}),r.givePetEquipment(l.equipment),l.removePerk(),this.triggerTigerExecution(t))}copy(t){return new zx(t,this.logService)}}class Kx extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Raccoon",this.tier=5,this.pack="Custom",this.attack=4,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new zx(this,this.logService)),super.initAbilities()}}class Yx extends E{constructor(t,e,i){super({name:"SeaCucumberAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.opponent.getPetsWithEquipment("Tasty"),l=r.parent.opponent.getRandomPets(this.level,o,!1,!0,r),c=l.pets;if(0!=c.length){for(let d of c){let f=new KG(this.logService);d.givePetEquipment(f),this.logService.createLog({message:`${r.name} made ${d.name} Tasty`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:l.random})}this.triggerTigerExecution(t)}}copy(t){return new Yx(t,this.logService,this.abilityService)}}class Qx extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Cucumber",this.tier=5,this.pack="Custom",this.health=5,this.attack=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new Yx(this,this.logService,this.abilityService)),super.initAbilities()}}class Je{constructor(t,e,i,s){this.logService=t,this.toyService=e,this.used=!1,this.triggers=0,this.parent=i,this.level=s}}class aie extends Je{constructor(){super(...arguments),this.name="Balloon",this.tier=1}onBreak(t,e){let i=this.parent.getFurthestUpPets(this.level,[]);if(0!=i.pets.length)for(let a of i.pets)a.increaseAttack(1),a.increaseHealth(1),this.logService.createLog({message:`${this.name} gave ${a.name} 1 attack and 1 health.`,type:"ability",player:this.parent,puma:e})}}class oie extends Je{constructor(){super(...arguments),this.name="Tennis Ball",this.tier=2}startOfBattle(t,e){let i=this.parent.opponent.getRandomPets(this.level,[],!1,!0),s=i.pets;if(0!=s.length)for(let a of s)this.toyService.snipePet(a,3,this.parent,this.name,i.random,e)}}class lie extends Je{constructor(){super(...arguments),this.name="Radio",this.tier=2}onBreak(t,e){let i=this.parent.petArray;for(let s of i)!s.alive||(s.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${s.name} ${this.level} health.`,type:"ability",player:this.parent,puma:e}))}}class cie extends Je{constructor(){super(...arguments),this.name="Garlic Press",this.tier=2}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof Bf)){this.logService.createLog({message:`${this.name} gave ${s.name} Garlic.`,type:"ability",player:this.parent,puma:e}),s.givePetEquipment(new Bf);break}}}class uie extends Je{constructor(){super(...arguments),this.name="Plastic Saw",this.tier=2}startOfBattle(t,e){let i=this.parent.getPetsWithEquipment("Eucalyptus"),a=this.parent.getFurthestUpPets(this.level,i).pets;if(0!=a.length)for(let r of a)this.logService.createLog({message:`${this.name} gave ${r.name} Eucalyptus.`,type:"ability",player:this.parent,puma:e}),r.givePetEquipment(new fb)}}class hie extends Je{constructor(){super(...arguments),this.name="Toilet Paper",this.tier=3}startOfBattle(t,e){let s=qa(t,this.parent).petArray.filter(a=>{var r;return"Weak"!=(null===(r=a.equipment)||void 0===r?void 0:r.name)}).slice(0,this.level);for(let a of s)a.givePetEquipment(new yr),this.logService.createLog({message:`${this.name} gave ${a.name} Weak.`,type:"ability",player:this.parent,puma:e})}}class die extends Je{constructor(){super(...arguments),this.name="Oven Mitts",this.tier=3}onBreak(t){}}class gie extends Je{constructor(){super(...arguments),this.name="Melon Helmet",this.tier=4}onBreak(t,e){let i=this.parent.petArray.filter(s=>s.alive).slice(0,this.level);for(let s of i)s.givePetEquipment(new Gr),this.logService.createLog({message:`${this.name} gave ${s.name} Melon.`,type:"ability",player:this.parent,puma:e})}}class fie extends Je{constructor(){super(...arguments),this.name="Foam Sword",this.tier=4}startOfBattle(t,e){let i=qa(t,this.parent);for(let s=0;s<this.level;s++){let a=i.getLowestHealthPet();this.toyService.snipePet(a.pet,5,this.parent,this.name,a.random,e)}}}class pie extends Je{constructor(){super(...arguments),this.name="Toy Gun",this.tier=4}startOfBattle(t,e){let i=qa(t,this.parent);for(let s=0;s<this.level;s++){let a=i.getLastPet();if(null==a.pet)return;this.toyService.snipePet(a.pet,5,this.parent,this.name,!1,e)}}}class mie extends Je{constructor(){super(...arguments),this.name="Flashlight",this.tier=5}onBreak(t,e){let i=5*this.level,s=this.parent.furthestUpPet;null!=s&&(s.increaseAttack(i),s.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${s.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:e}))}}class yie extends Je{constructor(){super(...arguments),this.name="Stinky Sock",this.tier=5}startOfBattle(t,e){let i=qa(t,this.parent);for(let s=0;s<this.level;s++){let a=i.getHighestHealthPet(),r=a.pet;if(null==r)return;let o=.4,l=Math.max(1,Math.floor(r.health*(1-o)));r.health=l,this.logService.createLog({message:`${this.name} reduced ${r.name} health by ${100*o}% (${l})`,type:"ability",player:this.parent,puma:e,randomEvent:a.random})}}}class vie extends Je{constructor(){super(...arguments),this.name="Television",this.tier=6}onBreak(t,e){let i=2*this.level;for(let s of this.parent.petArray)!s.alive||(s.increaseAttack(i),s.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${s.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:e}))}}class bie extends Je{constructor(){super(...arguments),this.name="Peanut Jar",this.tier=6}startOfBattle(t,e){let i=this.parent.getLowestAttackPets(this.level,this.parent.getPetsWithEquipment("Peanut Butter")),s=i.pets;if(0!=s.length)for(let a of s)a.givePetEquipment(new Rf),this.logService.createLog({message:`${this.name} gave ${a.name} PeanutButter.`,type:"ability",player:this.parent,puma:e,randomEvent:i.random})}}class Sie extends Je{constructor(){super(...arguments),this.name="Air Palm Tree",this.tier=6}startOfBattle(t,e){let i=this.parent.getHighestAttackPets(this.level,this.parent.getPetsWithEquipment("Coconut")),s=i.pets;if(0!=s.length)for(let a of s)a.givePetEquipment(new qo),this.logService.createLog({message:`${this.name} gave ${a.name} Coconut.`,type:"ability",player:this.parent,puma:e,randomEvent:i.random})}}class _ie extends Je{constructor(t,e,i,s,a){super(t,e,i,s),this.logService=t,this.toyService=e,this.petService=a,this.name="Stick",this.tier=1}startOfBattle(t,e){const i=this.parent.getMiddleFriend();if(i.pet&&i.pet.alive){const s=new vh;s.power=2*this.level,s.originalPower=s.power,i.pet.givePetEquipment(s),this.logService.createLog({message:`${this.name} gave Walnut to ${i.pet.name}`,type:"ability",player:this.parent,randomEvent:i.random})}}}class wie extends Je{constructor(){super(...arguments),this.name="Cash Register",this.tier=4}onBreak(t){}}class Aie extends Je{constructor(){super(...arguments),this.name="Camera",this.tier=5}startOfBattle(t,e){let i=qa(t,this.parent);for(let s=0;s<this.level;s++){let a=i.getHighestAttackPet(),r=a.pet;if(null==r)return;let o=.3,l=Math.max(1,Math.floor(r.attack*(1-o)));r.attack=l,this.logService.createLog({message:`${this.name} reduced ${r.name} attack by ${100*o}% (${l})`,type:"ability",player:this.parent,puma:e,randomEvent:a.random})}}}class Eie extends Je{constructor(t,e,i,s,a){super(t,e,i,s),this.logService=t,this.toyService=e,this.equipmentService=a,this.name="Pandoras Box",this.tier=6}startOfBattle(t,e){let i=this.equipmentService.getInstanceOfAllEquipment(),s=[new mb,new Vo,new Mf,new fh,new bh,new tb,new yr],a=["Cake Slice","Carrot","Cherry","Chocolate Cake","Coconut","Croissant","Cucumber","Eggplant","Fig","Gingerbread Man","Grapes","Golden Egg","Health Potion","Love Potion","Magic Beans","Peanut","Pie","Rambutan","Rice","Skewer"],r=[...t.player.petArray,...t.opponet.petArray],o=Array.from(i.values());o=o.filter(l=>!a.includes(l.name));for(let l of r){let c=s;Math.random()<.5&&(c=o);let d=c[Math.floor(Math.random()*c.length)];this.logService.createLog({message:`${this.name} gave ${l.name} ${d.name}`,type:"ability",player:this.parent,randomEvent:!0}),l.givePetEquipment(d,this.level)}}}class Cie extends Je{constructor(){super(...arguments),this.name="Witch Broom",this.tier=1}startOfBattle(t,e){let i=qa(t,this.parent),s=i.petArray.filter(r=>null!=r.equipment),a=[];for(let r=0;r<this.level;r++){let o=i.getRandomPet(s,!1,!0,!1,null);if(null==o.pet)break;s.push(o.pet),a.push(o.pet)}for(let r of a)this.logService.createLog({message:`${this.name} gave ${r.name} Weak.`,type:"ability",player:this.parent,puma:e,randomEvent:i.petArray.length-s.length>0}),r.givePetEquipment(new yr)}}class Pie extends Je{constructor(){super(...arguments),this.name="Magic Wand",this.tier=1}startOfBattle(t,e){let i=this.parent.petArray.filter(r=>r.level<3),s=null,a=!1;0==i.length?s=this.parent.getRandomPet([],!0):(i=(0,Gt.shuffle)(i),s=i[0],a=i.length>1),null!=s&&(this.logService.createLog({message:`${this.name} gave ${s.name} ${this.level} exp.`,type:"ability",player:this.parent,puma:e,randomEvent:a}),s.increaseExp(this.level))}}class Tie extends Je{constructor(){super(...arguments),this.name="Crystal Ball",this.tier=1}startOfBattle(t,e){let i=this.parent.petArray[0];null!=i&&(this.logService.createLog({message:`${this.name} gave ${i.name} ${this.level} mana.`,type:"ability",player:this.parent,puma:e,randomEvent:!1}),i.increaseMana(this.level))}}class xie extends Je{constructor(){super(...arguments),this.name="Treasure Map",this.tier=3}}class kie extends Je{constructor(){super(...arguments),this.name="Treasure Chest",this.tier=3}}class Jx extends E{constructor(t,e){super({name:"GreatOneAbility",owner:t,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const r=this.owner;let o=[...r.parent.petArray,...r.parent.opponent.petArray];o=o.filter(l=>l!==r);for(let l of o)r.snipePet(l,6*r.level);this.triggerTigerExecution(t)}copy(t){return new Jx(t,this.logService)}}class qf extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Great One",this.tier=6,this.pack="Custom",this.attack=7,this.health=13,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new Jx(this,this.logService)),super.initAbilities()}}class Die extends Je{constructor(t,e,i,s,a){super(t,e,s,a),this.logService=t,this.toyService=e,this.abilityService=i,this.name="Evil Book",this.tier=5}emptyFromSpace(t,e,i,s){let a={attack:6*i,health:6*i},o=new qf(this.logService,this.abilityService,this.parent,a.health,a.attack,0,1==i?0:2==i?2:5),l=`${this.name} spawned Great One (${a.attack}/${a.health}).`;this.parent.summonPet(o,0).success&&this.logService.createLog({message:l,type:"ability",player:this.parent,puma:e}),this.used=!0}}class Mie extends Je{constructor(){super(...arguments),this.name="Magic Carpet",this.tier=2}friendSummoned(t,e,i,s){this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack.`,type:"ability",player:this.parent,puma:i}),e.increaseAttack(s)}}class Rie extends Je{constructor(){super(...arguments),this.name="Magic Lamp",this.tier=2}friendlyLevelUp(t,e,i,s){this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),e.increaseAttack(+s),e.increaseHealth(+s)}}class Iie extends Je{constructor(){super(...arguments),this.name="Candleabra",this.tier=4}}class Oie extends Je{constructor(){super(...arguments),this.name="Glass Shoes",this.tier=4}friendFaints(t,e,i,s){if(i||this.triggers++,this.triggers%3!=0)return;let a=e.parent.petArray.filter(r=>r.alive);for(let r of a)this.logService.createLog({message:`${this.name} gave ${r.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),r.increaseAttack(+s),r.increaseHealth(+s)}}class Nie extends Je{constructor(){super(...arguments),this.name="Golden Harp",this.tier=4}}class Lie extends Je{constructor(){super(...arguments),this.name="Lock of Hair",this.tier=4}}class Bie extends Je{constructor(){super(...arguments),this.name="Magic Mirror",this.tier=4}}class $ie extends Je{constructor(){super(...arguments),this.name="Pickaxe",this.tier=4}}class Vie extends Je{constructor(){super(...arguments),this.name="Red Cape",this.tier=4}friendJumped(t,e,i,s){let a=e.parent.petArray.filter(r=>r.alive);for(let r of a)this.logService.createLog({message:`${this.name} gave ${r.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),r.increaseAttack(+s),r.increaseHealth(+s)}}class qie extends Je{constructor(){super(...arguments),this.name="Rosebud",this.tier=4}friendlyLevelUp(t,e,i,s){if(i||this.triggers++,this.triggers%2!=0)return;let a=e.parent.petArray.filter(r=>r.alive);for(let r of a)this.logService.createLog({message:`${this.name} gave ${r.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),r.increaseAttack(+s),r.increaseHealth(+s)}}class Hie extends Je{constructor(){super(...arguments),this.name="Excalibur",this.tier=6}}class Gie extends Je{constructor(){super(...arguments),this.name="Holy Grail",this.tier=6}}class Zx extends E{constructor(t,e){super({name:"SalmonOfKnowledgeAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=2*this.level,l=[],c=r.parent.getFurthestUpPets(2,[r],r);l.push(...c.pets);let d=r.parent.opponent.getFurthestUpPets(2,void 0,r);l.push(...d.pets);for(let f of l)this.logService.createLog({message:`${r.name} gave ${f.name} ${o} exp.`,type:"ability",player:r.parent,tiger:s,randomEvent:c.random||d.random}),f.increaseExp(o);this.triggerTigerExecution(t)}copy(t){return new Zx(t,this.logService)}}class Ab extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Salmon of Knowledge",this.tier=5,this.pack="Unicorn",this.attack=5,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new Zx(this,this.logService)),super.initAbilities()}}class Fie extends Je{constructor(t,e,i,s,a){super(t,e,s,a),this.logService=t,this.toyService=e,this.abilityService=i,this.name="Nutcracker",this.tier=4}friendFaints(t,e,i,s){if(this.used||e.parent.petArray.filter(l=>l.alive).length>0)return;let r=6*this.level,o=new Ab(this.logService,this.abilityService,this.parent,r,r,null,0);this.parent.summonPet(o,0).success&&this.logService.createLog({message:`${this.name} spawned Salmon of Knowledge (${r}/${r})`,type:"ability",player:this.parent}),this.used=!0}}class Uie extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giant Eyes Dog",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=6,this.attack=6,this.initPet(o,s,a,r,l,c)}}class jie extends Je{constructor(t,e,i,s,a){super(t,e,s,a),this.logService=t,this.toyService=e,this.abilityService=i,this.name="Tinder Box",this.tier=4}emptyFromSpace(t,e,i,s){let a={attack:6*i,health:6*i},o=new Uie(this.logService,this.abilityService,this.parent,a.health,a.attack,0,1==i?0:2==i?2:5),l=`${this.name} spawned Giant Eyes Dog (${a.attack}/${a.health}).`;this.parent.summonPet(o,0).success&&this.logService.createLog({message:l,type:"ability",player:this.parent,puma:e}),this.used=!0}}class Wie extends Je{constructor(t,e,i,s,a,r){super(t,e,i,s),this.logService=t,this.toyService=e,this.petService=a,this.gameService=r,this.name="Microwave Oven",this.tier=2}startOfBattle(t,e){let i=this.parent.getPetsWithEquipment("Popcorn"),a=this.parent.getFurthestUpPets(this.level,i).pets;if(0!=a.length)for(let r of a)this.logService.createLog({message:`${this.name} gave ${r.name} Popcorn.`,type:"ability",player:this.parent,puma:e}),r.givePetEquipment(new FG(this.logService,this.petService,this.gameService))}}let JG=(()=>{class n{constructor(e,i,s,a,r){this.logService=e,this.abilityService=i,this.gameService=s,this.equipmentService=a,this.petService=r,this.toys=new Map,this.startOfBattleEvents=[],this.emptyFrontSpaceEvents=[],this.friendSummonedEvents=[],this.setToys()}setToys(){this.toys.set(1,["Ballon","Stick"]),this.toys.set(2,["Radio","Garlic Press","Plastic Saw","Microwave Oven","Tennis Ball"]),this.toys.set(3,["Foam Sword","Melon Helmet","Toy Gun"]),this.toys.set(4,["Oven Mitts","Toilet Paper","Cash Register"]),this.toys.set(5,["Flashlight","Stinky Sock","Camera"]),this.toys.set(6,["Television","Peanut Jar","Air Palm Tree"]),this.toys.set(7,["Witch Broom","Pandoras Box","Magic Wand","Crystal Ball","Treasure Map","Treasure Chest","Evil Book","Magic Carpet","Magic Lamp","Nutcracker","Tinder Box","Candleabra","Glass Shoes","Golden Harp","Lock of Hair","Magic Mirror","Pickaxe","Red Cape","Rose Bud","Excalibur","Holy Grail"])}createToy(e,i,s=1){switch(e){case"Ballon":return new aie(this.logService,this,i,s);case"Tennis Ball":return new oie(this.logService,this,i,s);case"Radio":return new lie(this.logService,this,i,s);case"Garlic Press":return new cie(this.logService,this,i,s);case"Plastic Saw":return new uie(this.logService,this,i,s);case"Toilet Paper":return new hie(this.logService,this,i,s);case"Oven Mitts":return new die(this.logService,this,i,s);case"Melon Helmet":return new gie(this.logService,this,i,s);case"Foam Sword":return new fie(this.logService,this,i,s);case"Toy Gun":return new pie(this.logService,this,i,s);case"Stick":return new _ie(this.logService,this,i,s,this.petService);case"Cash Register":return new wie(this.logService,this,i,s);case"Camera":return new Aie(this.logService,this,i,s);case"Flashlight":return new mie(this.logService,this,i,s);case"Stinky Sock":return new yie(this.logService,this,i,s);case"Television":return new vie(this.logService,this,i,s);case"Peanut Jar":return new bie(this.logService,this,i,s);case"Air Palm Tree":return new Sie(this.logService,this,i,s);case"Pandoras Box":return new Eie(this.logService,this,i,s,this.equipmentService);case"Witch Broom":return new Cie(this.logService,this,i,s);case"Magic Wand":return new Pie(this.logService,this,i,s);case"Crystal Ball":return new Tie(this.logService,this,i,s);case"Treasure Map":return new xie(this.logService,this,i,s);case"Treasure Chest":return new kie(this.logService,this,i,s);case"Evil Book":return new Die(this.logService,this,this.abilityService,i,s);case"Magic Carpet":return new Mie(this.logService,this,i,s);case"Magic Lamp":return new Rie(this.logService,this,i,s);case"Nutcracker":return new Fie(this.logService,this,this.abilityService,i,s);case"Tinder Box":return new jie(this.logService,this,this.abilityService,i,s);case"Candleabra":return new Iie(this.logService,this,i,s);case"Glass Shoes":return new Oie(this.logService,this,i,s);case"Golden Harp":return new Nie(this.logService,this,i,s);case"Lock of Hair":return new Lie(this.logService,this,i,s);case"Magic Mirror":return new Bie(this.logService,this,i,s);case"Pickaxe":return new $ie(this.logService,this,i,s);case"Red Cape":return new Vie(this.logService,this,i,s);case"Rose Bud":return new qie(this.logService,this,i,s);case"Excalibur":return new Hie(this.logService,this,i,s);case"Holy Grail":return new Gie(this.logService,this,i,s);case"Microwave Oven":return new Wie(this.logService,this,i,s,this.petService,this.gameService)}}snipePet(e,i,s,a,r=!1,o=!1){var l,c;let d=this.calculateDamgae(e,this.getManticoreMult(s),i),f=d.defenseEquipment,y=d.damage;this.dealDamage(e,y,s);let b=`${a} sniped ${e.name} for ${y}.`;if(null!=f){e.useDefenseEquipment(!0);let N=Math.abs(f.power),I="-";if(f.power<0&&(I="+"),"Strawberry"===f.name){let U=e.getSparrowLevel();U>0&&(N=5*U,b+=` (Strawberry -${N} (Sparrow))`)}else b+=` (${f.name} ${I}${N})`;b+=f.multiplierMessage}"Icky"==(null===(l=e.equipment)||void 0===l?void 0:l.name)&&(b+="x2 (Icky)",e.equipment.multiplier>1&&(b+=e.equipment.multiplierMessage));let P=this.getManticoreMult(s),D=["Weak","Cold","Icky","Spooked"].includes(null===(c=e.equipment)||void 0===c?void 0:c.name);if(P.length>0&&D)for(let N of P)b+=` x${N+1} (Manticore)`;return d.nurikabe>0&&(b+=` -${d.nurikabe} (Nurikabe)`),d.fairyBallReduction>0&&(b+=` -${d.fairyBallReduction} (Fairy Ball)`),d.fanMusselReduction>0&&(b+=` -${d.fanMusselReduction} (Fan Mussel)`),d.ghostKittenReduction>0&&(b+=` -${d.ghostKittenReduction} (Ghost Kitten)`),o&&(b+=" (Puma)"),this.logService.createLog({message:b,type:"attack",randomEvent:r,player:s}),y}calculateDamgae(e,i,s){var a,r,o,l,c,d,f,y;let b=null===(a=e.equipment)||void 0===a?void 0:a.multiplier;const N="Guava"===(null===(r=e.equipment)||void 0===r?void 0:r.name);let I="defense"==(null===(o=e.equipment)||void 0===o?void 0:o.equipmentClass)||"shield"==(null===(l=e.equipment)||void 0===l?void 0:l.equipmentClass)||"ailment-defense"==(null===(c=e.equipment)||void 0===c?void 0:c.equipmentClass)||"shield-snipe"==(null===(d=e.equipment)||void 0===d?void 0:d.equipmentClass)?e.equipment:null;if(null==I&&N&&(I=e.equipment),null!=I){if("Maple Syrup"==I.name&&(I=null),["Cold","Weak","Spooked"].includes(null==I?void 0:I.name))for(let ge of i)b+=ge;I.power=I.originalPower*b}let U=(null==I?void 0:I.power)?I.power:0,$=e.getSparrowLevel();if("Strawberry"===(null===(f=e.equipment)||void 0===f?void 0:f.name)&&$>0&&(U+=5*$),"Icky"==(null===(y=e.equipment)||void 0===y?void 0:y.name)){let ge=2;for(let Ke of i)ge+=Ke;ge+=e.equipment.multiplier-1,s*=ge}let W,j="shield"==(null==I?void 0:I.equipmentClass)||"shield-snipe"==(null==I?void 0:I.equipmentClass)?0:1;void 0!==(null==I?void 0:I.minimumDamage)&&(j=I.minimumDamage),W=s<=j&&U>0?Math.max(s,0):Math.max(j,s-U);let le=0;if(e.hasTrigger(void 0,"Pet","FairyAbility")&&W>0)for(let ge of e.abilityList)"FairyAbility"==ge.name&&(le+=2*ge.level,W=Math.max(0,W-2*ge.level));let xe=0;if(e.hasTrigger(void 0,"Pet","NurikabeAbility")&&W>0)for(let ge of e.abilityList)"NurikabeAbility"==ge.name&&(xe+=4*ge.level,W=Math.max(0,W-xe),ge.currentUses++);let Me=0;if(e.hasTrigger(void 0,"Pet","FanMusselAbility")&&W>0)for(let ge of e.abilityList)"FanMusselAbility"==ge.name&&(Me+=1*ge.level,W=Math.max(0,W-Me),ge.currentUses++);let ke=0;if(e.hasTrigger(void 0,"Pet","GhostKittenAbility")&&W>0)for(let ge of e.abilityList)"GhostKittenAbility"==ge.name&&(ke+=3*ge.level,W=Math.max(0,W-ke));return{defenseEquipment:I,damage:W,nurikabe:xe,fairyBallReduction:le,fanMusselReduction:Me,ghostKittenReduction:ke}}dealDamage(e,i,s){e.health-=i,i>0&&this.abilityService.triggerHurtEvents(e)}getManticoreMult(e){let i=[];for(let s of e.petArray)"Manticore"==s.name&&i.push(s.level);return i}getSparrowLevel(e){let i=0;for(let s of e.petArray)"Sparrow"==s.name&&(i=Math.max(i,s.level));return i}setStartOfBattleEvent(e){this.startOfBattleEvents.push(e)}resetStartOfBattleEvents(){this.startOfBattleEvents=[]}executeStartOfBattleEvents(){this.startOfBattleEvents=(0,Gt.shuffle)(this.startOfBattleEvents),this.startOfBattleEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.startOfBattleEvents)e.callback(this.gameService.gameApi);this.resetStartOfBattleEvents()}}return n.\u0275fac=function(e){return new(e||n)(G(bb),G(Sb),G(Vf),G(Di),G(Gf))},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Xx extends E{constructor(t,e){super({name:"FlyingSquirrelAbility",owner:t,triggers:["FriendlyToyBroke"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=2*this.level,l=r.parent.getThis(r),c=l.pet;if(null==c||(c.increaseAttack(o),this.logService.createLog({message:`${r.name} gave ${c.name} +${o} attack`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random}),null==r.parent.brokenToy))return;const d=cc.getInjector().get(JG).createToy(r.parent.brokenToy.name,r.parent);d.level=Math.min(this.level,r.parent.brokenToy.level),r.parent.setToy(d),this.logService.createLog({message:`${d.name} respawned (Level ${d.level})!`,type:"ability",player:r.parent,tiger:s}),this.triggerTigerExecution(t)}copy(t){return new Xx(t,this.logService)}}class e0 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flying Squirrel",this.tier=3,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new Xx(this,this.logService)),super.initAbilities()}}class t0 extends E{constructor(t,e){super({name:"PangolinAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:i=>null!=this.owner.parent.toy,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.nearestPetsBehind(1,r);if(0===o.pets.length)return;let l=o.pets[0],c=4*this.level;l.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${l.name} ${c} health.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:o.random}),this.triggerTigerExecution(t)}copy(t){return new t0(t,this.logService)}}class n0 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pangolin",this.tier=3,this.pack="Puppy",this.attack=2,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new t0(this,this.logService)),super.initAbilities()}}class s0 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Puppy",this.tier=4,this.pack="Puppy",this.attack=3,this.health=6,this.initPet(o,s,a,r,l,c)}}class zie extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Purple Frog",this.tier=3,this.pack="Puppy",this.attack=4,this.health=2,this.initPet(o,s,a,r,l,c)}}class r0 extends E{constructor(t,e){super({name:"MicrobeAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.getPetsWithinXSpaces(r,3*this.level),l=o.pets;if(0!=l.length){for(let c of l)!c.alive||(this.logService.createLog({message:`${r.name} gave ${c.name} Weak.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:o.random}),c.givePetEquipment(new yr));this.triggerTigerExecution(t)}}copy(t){return new r0(t,this.logService)}}class a0 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Microbe",this.tier=4,this.pack="Puppy",this.attack=4,this.health=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new r0(this,this.logService)),super.initAbilities()}}class o0 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lobster",this.tier=4,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,a,r,l,c)}}class l0 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Buffalo",this.tier=4,this.pack="Puppy",this.attack=4,this.health=4,this.initPet(o,s,a,r,l,c)}}class c0 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Llama",this.tier=4,this.pack="Puppy",this.attack=3,this.health=5,this.initPet(o,s,a,r,l,c)}}class u0 extends E{constructor(t,e){super({name:"ButterflyAbility",owner:t,triggers:["ThisTransformed"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;if(!r.alive)return;let l=r.parent.opponent.getStrongestPet(r);!l.pet||(r.health=l.pet.health,r.attack=l.pet.attack,this.logService.createLog({message:`${r.name} copied stats from the strongest enemy (${r.attack}/${r.health}).`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random}),this.triggerTigerExecution(t))}copy(t){return new u0(t,this.logService)}}class Eb extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Butterly",this.tier=1,this.pack="Puppy",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new u0(this,this.logService)),super.initAbilities()}}class h0 extends E{constructor(t,e,i){super({name:"CaterpillarAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:s=>this.owner.level>=3,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.getThis(r),l=o.pet;if(null==l)return;let c=new Eb(this.logService,this.abilityService,l.parent,l.health,l.attack,l.mana,l.exp,l.equipment);r.parent.transformPet(l,c),this.logService.createLog({message:`${r.name} transformed into a Butterfly.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),this.triggerTigerExecution(t)}copy(t){return new h0(t,this.logService,this.abilityService)}}class d0 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Caterpillar",this.tier=4,this.pack="Puppy",this.attack=1,this.health=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new h0(this,this.logService,this.abilityService)),super.initAbilities()}}class g0 extends E{constructor(t,e){super({name:"DobermanAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=8*this.level,l=r.parent.getThis(r),c=l.pet;if(null==c)return;c.increaseAttack(o),this.logService.createLog({message:`${r.name} gave ${c.name} ${o} attack.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random});let d=!0;for(let b of r.parent.petArray)if(b!=r&&b.tier<=r.tier){d=!1;break}if(!d)return void this.triggerTigerExecution(t);let f=r.parent.getThis(r),y=f.pet;null!=y&&(y.givePetEquipment(new qo),this.logService.createLog({message:`${r.name} gave ${y.name} Coconut.`,type:"ability",player:r.parent,tiger:s,randomEvent:f.random}),this.triggerTigerExecution(t))}copy(t){return new g0(t,this.logService)}}class f0 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Doberman",this.tier=4,this.pack="Puppy",this.attack=1,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new g0(this,this.logService)),super.initAbilities()}}class p0 extends E{constructor(t,e,i){super({name:"TahrAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.getPetsWithEquipment("Mild Chili"),l=r.parent.nearestPetsBehind(this.level,r,o);if(0!==l.pets.length){for(let c of l.pets)this.logService.createLog({message:`${r.name} gave ${c.name} Mild Chili.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:l.random}),c.givePetEquipment(new QG(this.logService,this.abilityService));this.triggerTigerExecution(t)}}copy(t){return new p0(t,this.logService,this.abilityService)}}class m0 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tahr",this.tier=4,this.pack="Puppy",this.attack=5,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new p0(this,this.logService,this.abilityService)),super.initAbilities()}}class y0 extends E{constructor(t,e,i){super({name:"WhaleSharkAbility",owner:t,triggers:["ThisGainedPerk","ThisGainedAilment"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const r=this.owner;r.equipment&&(this.logService.createLog({message:`${r.name} removed ${r.equipment.name}`,type:"ability",player:r.parent}),r.removePerk());let o=r.parent.getThis(r),l=o.pet;if(null==l)return;let c=3*this.level;l.increaseAttack(c),l.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${l.name} ${c} attack and ${c} health.`,type:"ability",player:r.parent,randomEvent:o.random}),this.triggerTigerExecution(t)}copy(t){return new y0(t,this.logService,this.abilityService)}}class v0 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Whale Shark",this.tier=4,this.pack="Puppy",this.attack=2,this.health=6,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new y0(this,this.logService,this.abilityService)),super.initAbilities()}}class b0 extends E{constructor(t,e){super({name:"TennisBallAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.opponent.getRandomPets(this.level,[],!1,!0,r),l=o.pets;if(0!=l.length){for(let c of l)r.snipePet(c,3,o.random,s);this.triggerTigerExecution(t)}}copy(t){return new b0(t,this.logService)}}class S0 extends E{constructor(t,e){super({name:"BalloonAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,a=this.owner;let r=a.parent.getFurthestUpPets(this.level,[],a),o=r.pets;if(0!=o.length){for(let c of o)c.increaseAttack(1),c.increaseHealth(1),this.logService.createLog({message:`${a.name} gave ${c.name} 1 attack and 1 health.`,type:"ability",player:a.parent,tiger:s,randomEvent:r.random});this.triggerTigerExecution(t)}}copy(t){return new S0(t,this.logService)}}class _0 extends E{constructor(t,e){super({name:"PlasticSawAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,a=this.owner;let r=a.parent.getPetsWithEquipment("Eucalyptus"),o=a.parent.getFurthestUpPets(this.level,r,a),l=o.pets;if(0!=l.length){for(let c of l)this.logService.createLog({message:`${a.name} gave ${c.name} Eucalyptus.`,type:"ability",player:a.parent,tiger:s,randomEvent:o.random}),c.givePetEquipment(new fb);this.triggerTigerExecution(t)}}copy(t){return new _0(t,this.logService)}}class w0 extends E{constructor(t,e){super({name:"RadioAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.getAll(!1,r,!0),l=o.pets;if(0!=l.length){for(let c of l)c.increaseHealth(this.level),this.logService.createLog({message:`${r.name} gave ${c.name} ${this.level} health.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random});this.triggerTigerExecution(t)}}copy(t){return new w0(t,this.logService)}}class A0 extends E{constructor(t,e){super({name:"OvenMittsAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){}copy(t){return new A0(t,this.logService)}}class E0 extends E{constructor(t,e){super({name:"ToiletPaperAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.opponent,l=o.getPetsWithEquipment("Weak"),c=o.getFurthestUpPets(this.level,l,r),d=c.pets;if(0!=d.length){for(let f of d)f.givePetEquipment(new yr),this.logService.createLog({message:`${r.name} gave ${f.name} Weak.`,type:"ability",player:r.parent,tiger:s,randomEvent:c.random});this.triggerTigerExecution(t)}}copy(t){return new E0(t,this.logService)}}class C0 extends E{constructor(t,e){super({name:"FoamSwordAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.opponent;for(let l=0;l<this.level;l++){let c=o.getLowestHealthPet();r.snipePet(c.pet,5,c.random,s)}this.triggerTigerExecution(t)}copy(t){return new C0(t,this.logService)}}class P0 extends E{constructor(t,e){super({name:"ToyGunAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.opponent;for(let l=0;l<this.level;l++){let c=o.getLastPet();if(null==c.pet)return;r.snipePet(c.pet,5,c.random,s)}this.triggerTigerExecution(t)}copy(t){return new P0(t,this.logService)}}class T0 extends E{constructor(t,e){super({name:"MelonHelmetAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.getPetsWithEquipment("Melon"),l=r.parent.getFurthestUpPets(this.level,o,r),c=l.pets;for(let d of c)d.givePetEquipment(new Gr),this.logService.createLog({message:`${r.name} gave ${d.name} Melon.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random});this.triggerTigerExecution(t)}copy(t){return new T0(t,this.logService)}}class x0 extends E{constructor(t,e){super({name:"StinkySockAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let l=r.parent.opponent.getHighestHealthPets(this.level,[],r),c=l.pets;if(0!=c.length){for(let d of c){let f=.4,y=Math.max(1,Math.floor(d.health*(1-f)));d.health=y,this.logService.createLog({message:`${r.name} reduced ${d.name} health by ${100*f}% (${y})`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:l.random})}this.triggerTigerExecution(t)}}copy(t){return new x0(t,this.logService)}}class k0 extends E{constructor(t,e){super({name:"FlashlightAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=5*this.level,l=r.parent.getFurthestUpPet(r),c=l.pet;null!=c&&(c.increaseAttack(o),c.increaseHealth(o),this.logService.createLog({message:`Flashlight Ability gave ${c.name} ${o} attack and ${o} health.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random}),this.triggerTigerExecution(t))}copy(t){return new k0(t,this.logService)}}class D0 extends E{constructor(t,e){super({name:"PeanutJarAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.getPetsWithEquipment("Peanut Butter"),c=r.parent.getLowestAttackPets(this.level,o,r).pets;if(0!=c.length){for(let d of c)d.givePetEquipment(new Rf),this.logService.createLog({message:`Peanut Jar Ability gave ${d.name} PeanutButter.`,type:"ability",player:r.parent,tiger:s,pteranodon:a});this.triggerTigerExecution(t)}}copy(t){return new D0(t,this.logService)}}class M0 extends E{constructor(t,e){super({name:"AirPalmTreeAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.getPetsWithEquipment("Coconut"),l=r.parent.getHighestAttackPets(this.level,o,r),c=l.pets;if(0!=c.length){for(let d of c)d.givePetEquipment(new qo),this.logService.createLog({message:`${r.name} gave ${d.name} Coconut.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random});this.triggerTigerExecution(t)}}copy(t){return new M0(t,this.logService)}}class R0 extends E{constructor(t,e){super({name:"TelevisionAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=2*this.level,l=r.parent.getAll(!1,r,!0),c=l.pets;if(0!=c.length){for(let d of c)d.increaseAttack(o),d.increaseHealth(o),this.logService.createLog({message:`${r.name} gave ${d.name} ${o} attack and ${o} health.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random});this.triggerTigerExecution(t)}}copy(t){return new R0(t,this.logService)}}class I0 extends E{constructor(t,e){super({name:"CrystalBallAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.getFurthestUpPet(r),l=o.pet;if(null==l)return;let c=2*this.level;l.increaseMana(c),this.logService.createLog({message:`${r.name} gave ${l.name} ${c} mana.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),this.triggerTigerExecution(t)}copy(t){return new I0(t,this.logService)}}class O0 extends E{constructor(t,e,i){super({name:"EvilBookAbility",owner:t,triggers:["ClearFront"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:s=>null==this.owner.parent.pet0,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s}=t,r=this.owner;let o={attack:6*this.level,health:6*this.level},l=new qf(this.logService,this.abilityService,r.parent,o.health,o.attack,0,this.minExpForLevel),c=r.parent.summonPet(l,0);c.success&&this.logService.createLog({message:`Evil Book Ability spawned Great One (${o.attack}/${o.health}).`,type:"ability",player:r.parent,tiger:s,randomEvent:c.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new O0(t,this.logService,this.abilityService)}}class N0 extends E{constructor(t,e){super({name:"TreasureChestAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){}copy(t){return new N0(t,this.logService)}}class L0 extends E{constructor(t,e){super({name:"WitchBroomAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.opponent,l=o.getPetsWithEquipment("any"),c=o.getRandomPets(this.level,l,!1,!0,r),d=c.pets;if(0!=d.length){for(let f of d)f.givePetEquipment(new yr),this.logService.createLog({message:`${r.name} gave ${f.name} Weak.`,type:"ability",player:r.parent,tiger:s,randomEvent:c.random});this.triggerTigerExecution(t)}}copy(t){return new L0(t,this.logService)}}class B0 extends E{constructor(t,e){super({name:"TreasureMapAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){}copy(t){return new B0(t,this.logService)}}class $0 extends E{constructor(t,e,i,s){super({name:"PandorasBoxAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=e,this.abilityService=i,this.equipmentService=s}executeAbility(t){const{gameApi:e,tiger:s,pteranodon:a}=t,r=this.owner;let o=this.equipmentService.getInstanceOfAllEquipment(),l=[new mb,new Vo,new Mf,new fh,new bh,new tb,new yr],c=["Cake Slice","Carrot","Cherry","Chocolate Cake","Coconut","Croissant","Cucumber","Eggplant","Fig","Gingerbread Man","Grapes","Golden Egg","Health Potion","Love Potion","Magic Beans","Peanut","Pie","Rambutan","Rice","Skewer"],d=qa(e,r.parent),f=[...r.parent.petArray,...d.petArray],y=Array.from(o.values());y=y.filter(b=>!c.includes(b.name));for(let b of f){let P=l;Math.random()<.5&&(P=y);let x=P[Math.floor(Math.random()*P.length)];this.logService.createLog({message:`Pandoras Box Ability gave ${b.name} ${x.name}`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:!0}),b.givePetEquipment(x,this.level)}this.triggerTigerExecution(t)}copy(t){return new $0(t,this.logService,this.abilityService,this.equipmentService)}}class Kie extends E{constructor(t,e){super({name:"StickAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",abilityFunction:i=>{const a=t.parent.getMiddleFriend(t);if(a.pet&&a.pet.alive){const r=new vh;r.power=2*this.abilityLevel,r.originalPower=r.power,a.pet.givePetEquipment(r),e.createLog({message:`${t.name} gave Walnut to ${a.pet.name} (Stick)`,type:"ability",player:t.parent,randomEvent:a.random})}}})}}class Yie extends E{constructor(t,e){super({name:"CashRegisterAbility",triggers:[],owner:t,abilityType:"Pet",abilityFunction:i=>{}})}}class Qie extends E{constructor(t,e,i){super({name:"MicrowaveOvenAbility",triggers:["StartBattle"],owner:t,abilityType:"Pet",abilityFunction:s=>{const{puma:a}=s;let r=t.parent.getPetsWithEquipment("Popcorn"),l=t.parent.getFurthestUpPets(this.abilityLevel,r).pets;if(0!=l.length)for(let c of l){e.createLog({message:`${t.name} gave ${c.name} Popcorn (Microwave Oven).`,type:"ability",player:t.parent,puma:a});const d=i.getInstanceOfAllEquipment().get("Popcorn");c.givePetEquipment(d)}}})}}class Jie extends E{constructor(t,e){super({name:"CameraAbility",triggers:["StartBattle"],owner:t,abilityType:"Pet",abilityFunction:i=>{const{gameApi:s,puma:a}=i;let r=qa(s,t.parent);for(let o=0;o<this.abilityLevel;o++){let l=r.getHighestAttackPet(),c=l.pet;if(null==c)return;let d=.3,f=Math.max(1,Math.floor(c.attack*(1-d)));c.attack=f,e.createLog({message:`${t.name} reduced ${c.name} attack by ${100*d}% (${f}) (Camera)`,type:"ability",player:t.parent,puma:a,randomEvent:l.random})}}})}}class V0 extends E{constructor(t,e,i,s){super({name:"ChameleonAbility",owner:t,triggers:["SpecialEndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:a=>null!=this.owner.parent.toy,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=e,this.abilityService=i,this.equipmentService=s}executeAbility(t){const r=this.owner;r.removeAbility(void 0,"Pet"),this.addToyAbility(r.parent.toy.name)}addToyAbility(t){let e=this.owner;const s={"Tennis Ball":()=>new b0(e,this.logService),Balloon:()=>new S0(e,this.logService),"Plastic Saw":()=>new _0(e,this.logService),Radio:()=>new w0(e,this.logService),"Oven Mitts":()=>new A0(e,this.logService),"Toilet Paper":()=>new E0(e,this.logService),"Foam Sword":()=>new C0(e,this.logService),"Toy Gun":()=>new P0(e,this.logService),"Melon Helmet":()=>new T0(e,this.logService),"Stinky Sock":()=>new x0(e,this.logService),Flashlight:()=>new k0(e,this.logService),"Peanut Jar":()=>new D0(e,this.logService),"Air Palm Tree":()=>new M0(e,this.logService),Television:()=>new R0(e,this.logService),"Crystal Ball":()=>new I0(e,this.logService),"Evil Book":()=>new O0(e,this.logService,this.abilityService),"Treasure Chest":()=>new N0(e,this.logService),"Witch Broom":()=>new L0(e,this.logService),"Treasure Map":()=>new B0(e,this.logService),"Pandoras Box":()=>new $0(e,this.logService,this.abilityService,this.equipmentService),Stick:()=>new Kie(e,this.logService),"Cash Register":()=>new Yie(e,this.logService),"Microwave Oven":()=>new Qie(e,this.logService,this.equipmentService),Camera:()=>new Jie(e,this.logService)}[t];if(s)try{const a=s();a.abilityLevel=Math.min(e.parent.toy.level,this.level),a.alwaysIgnorePetLevel=!0,e.addAbility(a),this.logService.createLog({message:`${this.name} gained ${t} ability!`,type:"ability",player:e.parent})}catch(a){console.warn(`Failed to add ${t} ability to ${this.name}:`,a)}else this.logService.createLog({message:"Custom toy ability is currently not supported for Chameleon ability",type:"ability",player:e.parent})}copy(t){return new V0(t,this.logService,this.abilityService,this.equipmentService)}}class q0 extends S{constructor(t,e,i,s,a,r,o,l,c,d,f){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chameleon",this.tier=4,this.pack="Puppy",this.attack=3,this.health=5,this.toyService=d,this.equipmentService=f,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new V0(this,this.logService,this.abilityService,this.equipmentService)),super.initAbilities()}}class H0 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gharial",this.tier=3,this.pack="Puppy",this.attack=5,this.health=2,this.initPet(o,s,a,r,l,c)}}class G0 extends E{constructor(t,e){super({name:"StonefishAbility",owner:t,triggers:["ThisKilled"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i,tiger:s,pteranodon:a}=t,r=this.owner;let l=r.parent.getSpecificPet(r,i).pet;null==l||!l.alive||(r.snipePet(l,r.attack*this.level,!1,s,a),this.triggerTigerExecution(t))}copy(t){return new G0(t,this.logService)}}class F0 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stonefish",this.tier=5,this.pack="Puppy",this.attack=7,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new G0(this,this.logService)),super.initAbilities()}}class U0 extends E{constructor(t,e,i){super({name:"PoodleAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new U0(t,this.logService,this.abilityService)}}class j0 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Poodle",this.tier=5,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new U0(this,this.logService,this.abilityService)),super.initAbilities()}}class W0 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chicken",this.tier=5,this.pack="Puppy",this.attack=3,this.health=4,this.initPet(o,s,a,r,l,c)}}class z0 extends E{constructor(t,e,i,s){super({name:"EagleAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=e,this.abilityService=i,this.petService=s}executeAbility(t){const{gameApi:e,tiger:s,pteranodon:a}=t,r=this.owner;let l,o=Math.min(6,e.previousShopTier+1);l=r.parent==e.player?e.playerPetPool.get(o):e.opponentPetPool.get(o);let c=l[Math.floor(Math.random()*l.length)],d=5*this.level,f=this.petService.createPet({name:c,attack:d,health:d,exp:r.minExpForLevel,equipment:null,mana:0},r.parent);r.parent.summonPet(f,r.savedPosition,!1,r).success&&this.logService.createLog({message:`${r.name} spawned ${f.name} Level ${f.level}`,type:"ability",player:r.parent,tiger:s,randomEvent:!0,pteranodon:a}),this.triggerTigerExecution(t)}copy(t){return new z0(t,this.logService,this.abilityService,this.petService)}}class K0 extends S{constructor(t,e,i,s,a,r,o,l,c,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Eagle",this.tier=5,this.pack="Puppy",this.attack=6,this.health=5,this.initPet(l,a,r,o,c,d)}initAbilities(){this.addAbility(new z0(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class Cb extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Praying Mantis",this.tier=4,this.pack="Star",this.attack=7,this.health=2,this.initPet(o,s,a,r,l,c)}}class Y0 extends E{constructor(t,e,i){super({name:"OrchidMantisAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=Math.min(Math.floor(r.attack*(.4*this.level)),50),l=Math.min(Math.floor(r.health*(.4*this.level)),50),c=new Cb(this.logService,this.abilityService,r.parent,l,o,0,this.minExpForLevel,null),d=r.parent.summonPetInFront(r,c);d.success&&this.logService.createLog({message:`${r.name} spawned Mantis ${c.attack}/${c.health}.`,type:"ability",player:r.parent,tiger:s,randomEvent:d.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new Y0(t,this.logService,this.abilityService)}}class Q0 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Orchid Mantis",this.tier=5,this.pack="Puppy",this.attack=8,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new Y0(this,this.logService,this.abilityService)),super.initAbilities()}}class J0 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Panther",this.tier=5,this.pack="Puppy",this.attack=3,this.health=5,this.initPet(o,s,a,r,l,c)}}class Z0 extends E{constructor(t,e){super({name:"AxolotlAbility",owner:t,triggers:["FriendlyGainsPerk"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;let o=r.parent.getSpecificPet(r,i),l=o.pet;if(null==l)return;let c=this.level;l.increaseAttack(c),l.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${l.name} ${c} attack and ${c} health.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),this.triggerTigerExecution(t)}copy(t){return new Z0(t,this.logService)}}class X0 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Axolotl",this.tier=5,this.pack="Puppy",this.attack=2,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new Z0(this,this.logService)),super.initAbilities()}}class ek extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goat",this.tier=5,this.pack="Puppy",this.attack=4,this.health=6,this.initPet(o,s,a,r,l,c)}}class tk extends E{constructor(t,e){super({name:"SnappingTurtleAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.getPetsWithEquipment("Skewer"),l=r.parent.nearestPetsBehind(r.level,r,o);if(0!==l.pets.length){for(let c of l.pets)this.logService.createLog({message:`${r.name} gave ${c.name} Skewer.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:l.random}),c.givePetEquipment(new HG(this.logService));this.triggerTigerExecution(t)}}copy(t){return new tk(t,this.logService)}}class ik extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snapping Turtle",this.tier=5,this.pack="Puppy",this.attack=4,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new tk(this,this.logService)),super.initAbilities()}}class nk extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mosasaurus",this.tier=5,this.pack="Puppy",this.attack=5,this.health=6,this.initPet(o,s,a,r,l,c)}friendlyToyBroke(t,e){let i=[],s=!1,a=this.parent.nearestPetsAhead(1,this);a.pets.length>0&&(i.push(a.pets[0]),s=a.random);let r=this.parent.nearestPetsBehind(1,this);if(r.pets.length>0&&(i.push(r.pets[0]),s=s||r.random),0==i.length)return;for(let l of i)this.logService.createLog({message:`${this.name} gave ${l.name} 2 attach and 3 health.`,type:"ability",player:this.parent,randomEvent:s,tiger:e}),l.increaseHealth(3),l.increaseAttack(2)}}class sk extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sting Ray",this.tier=5,this.pack="Puppy",this.attack=5,this.health=7,this.initPet(o,s,a,r,l,c)}}class rk extends E{constructor(t,e){super({name:"MantisShrimpAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.opponent;for(let l=0;l<this.level;l++){let c=o.getFurthestUpPet(r),d=c.pet;if(null==d)return;r.snipePet(d,10,c.random,s)}this.triggerTigerExecution(t)}copy(t){return new rk(t,this.logService)}}class ak extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mantis Shrimp",this.tier=6,this.pack="Puppy",this.attack=9,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new rk(this,this.logService)),super.initAbilities()}}class ok extends E{constructor(t,e){super({name:"LionfishAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.opponent,l=1+Math.floor(r.attack/10);for(let c=0;c<l;c++){let d=o.getRandomPet([],!1,!0,!1,r);if(null==d.pet)return;r.snipePet(d.pet,3*this.level,d.random,s,a)}this.triggerTigerExecution(t)}copy(t){return new ok(t,this.logService)}}class lk extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lionfish",this.tier=6,this.pack="Puppy",this.attack=10,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new ok(this,this.logService)),super.initAbilities()}}class ck extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tyrannosaurus",this.tier=6,this.pack="Puppy",this.attack=7,this.health=7,this.initPet(o,s,a,r,l,c)}}class uk extends E{constructor(t,e){super({name:"OctopusAbility",owner:t,triggers:["ThisAttacked"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let l=r.parent.opponent.getRandomPets(this.level,null,null,!0,r),c=l.pets;for(let f of c){if(null==f)return;r.snipePet(f,6,l.random,s)}this.triggerTigerExecution(t)}copy(t){return new uk(t,this.logService)}}class hk extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Octopus",this.tier=6,this.pack="Puppy",this.attack=8,this.health=8,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new uk(this,this.logService)),super.initAbilities()}}class dk extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anglerfish",this.tier=6,this.pack="Puppy",this.attack=7,this.health=4,this.initPet(o,s,a,r,l,c)}}class gk extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sauropod",this.tier=6,this.pack="Puppy",this.attack=4,this.health=12,this.initPet(o,s,a,r,l,c)}}class fk extends E{constructor(t,e){super({name:"ElephantSealAbility",owner:t,triggers:["ThisGainedPerk"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=4*this.level,l=r.parent.getRandomPets(3,[r],!0,!1,r);for(let c of l.pets)null!=c&&(c.increaseAttack(o),c.increaseHealth(o),this.logService.createLog({message:`${r.name} gave ${c.name} ${o} attack and ${o} health.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random}));this.triggerTigerExecution(t)}copy(t){return new fk(t,this.logService)}}class pk extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Elephant Seal",this.tier=6,this.pack="Puppy",this.attack=4,this.health=8,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new fk(this,this.logService)),super.initAbilities()}}class mk extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mongoose",this.tier=6,this.pack="Puppy",this.attack=7,this.health=6,this.initPet(o,s,a,r,l,c)}}class yk extends E{constructor(t,e,i){super({name:"PillbugAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new yk(t,this.logService,this.abilityService)}}class vk extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pillbug",this.tier=1,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new yk(this,this.logService,this.abilityService)),super.initAbilities()}}class bk extends E{constructor(t,e,i){super({name:"DucklingAbility",owner:t,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){}copy(t){return new bk(t,this.logService,this.abilityService)}}class Sk extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Duckling",this.tier=1,this.pack="Custom",this.attack=1,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new bk(this,this.logService,this.abilityService)),super.initAbilities()}}class Zie extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Summoned Cockroach",this.tier=1,this.pack="Star",this.attack=1,this.health=1,this.hidden=!0,this.initPet(o,s,a,r,l,c)}}class _k extends E{constructor(t,e,i){super({name:"CockroachAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner,o=this.level,l=new Zie(this.logService,this.abilityService,r.parent,1,1,0,0);let c=r.parent.summonPet(l,r.savedPosition,!1,r);if(c.success){this.logService.createLog({message:`${r.name} summoned a 1/1 Cockroach.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:c.randomEvent});let d=r.parent.getThis(l);d.pet.increaseExp(o),this.logService.createLog({message:`${r.name} gave ${d.pet.name} +${o} exp.`,type:"ability",player:r.parent,tiger:s,randomEvent:d.random})}this.triggerTigerExecution(t)}copy(t){return new _k(t,this.logService,this.abilityService)}}class wk extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockroach",this.tier=1,this.pack="Star",this.attack=1,this.health=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new _k(this,this.logService,this.abilityService)),super.initAbilities()}}class Ak extends E{constructor(t,e){super({name:"FrogAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:i=>1===this.owner.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.nearestPetsAhead(1,r),l=r.parent.nearestPetsBehind(1,r);if(0===o.pets.length||0===l.pets.length)return;let c=o.pets[0],d=l.pets[0],f=c.attack,y=c.health,P=d.health;c.attack=d.attack,c.health=P,d.attack=f,d.health=y,this.logService.createLog({message:`${r.name} swapped the attack and health of ${c.name} and ${d.name}.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random||l.random}),this.triggerTigerExecution(t)}copy(t){return new Ak(t,this.logService)}}class Ek extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frog",this.tier=1,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new Ak(this,this.logService)),super.initAbilities()}}class Ck extends E{constructor(t,e){super({name:"ChihuahuaAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner,o=r.parent.opponent,l=o.getHighestHealthPet(void 0,r),c=l.pet;if(c){const d=this.level;this.logService.createLog({message:`${r.name} pushed ${c.name} forward ${d} space(s).`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random}),o.pushPet(c,d)}this.triggerTigerExecution(t)}copy(t){return new Ck(t,this.logService)}}class Pk extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chihuahua",this.tier=1,this.pack="Star",this.attack=4,this.health=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new Ck(this,this.logService)),super.initAbilities()}}class Tk extends E{constructor(t,e){super({name:"SeahorseAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let l=r.parent.opponent.getLastPet();null!=l.pet&&(r.parent.pushPet(l.pet,this.level),this.logService.createLog({message:`${r.name} pushes ${l.pet.name} forward ${this.level} space(s).`,type:"ability",player:r.parent,tiger:s,pteranodon:a}),this.triggerTigerExecution(t))}copy(t){return new Tk(t,this.logService)}}class xk extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Seahorse",this.tier=1,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new Tk(this,this.logService)),super.initAbilities()}}class kk extends E{constructor(t,e){super({name:"IguanaAbility",owner:t,triggers:["EnemyPushed","EnemySummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;let o=r.parent.getSpecificPet(r,i),l=o.pet;null!=l&&l.alive&&(r.snipePet(l,2*this.level,o.random,s),this.triggerTigerExecution(t))}copy(t){return new kk(t,this.logService)}}class Dk extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Iguana",this.tier=2,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new kk(this,this.logService)),super.initAbilities()}}class Mk extends E{constructor(t,e,i){super({name:"HummingbirdAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.getPetsWithEquipment("Strawberry"),l=r.parent.nearestPetsBehind(this.level,r,o);if(0!==l.pets.length){for(let c of l.pets)c.givePetEquipment(new Ax(this.logService)),this.logService.createLog({message:`${r.name} gave ${c.name} strawberry.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random});this.triggerTigerExecution(t)}}copy(t){return new Mk(t,this.logService,this.abilityService)}}class Rk extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hummingbird",this.tier=1,this.pack="Star",this.attack=2,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new Mk(this,this.logService,this.abilityService)),super.initAbilities()}}class Ik extends E{constructor(t,e){super({name:"KoalaAbility",owner:t,triggers:["FriendHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;let o=r.parent.getSpecificPet(r,i),l=o.pet;!l||(this.logService.createLog({message:`${r.name} gave ${l.name} Eucalyptus perk.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),l.givePetEquipment(new fb),this.triggerTigerExecution(t))}copy(t){return new Ik(t,this.logService)}}class Ok extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Koala",this.tier=2,this.pack="Star",this.attack=4,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new Ik(this,this.logService)),super.initAbilities()}}class Nk extends E{constructor(t,e,i){super({name:"YakAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new Nk(t,this.logService,this.abilityService)}}class Lk extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Yak",this.tier=2,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new Nk(this,this.logService,this.abilityService)),super.initAbilities()}}class Bk extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dumbo Octopus",this.tier=2,this.pack="Star",this.health=5,this.attack=2,this.initPet(o,s,a,r,l,c)}}class $k extends E{constructor(t,e){super({name:"SalamanderAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.getThis(r),l=o.pet;if(null==l)return;let c=0;for(let d of r.parent.petArray)d.isSellPet()&&(c+=d.level*this.level);c>0&&(this.logService.createLog({message:`${r.name} gave ${l.name} ${c} attack and ${c} health from sell pets.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:o.random}),l.increaseAttack(c),l.increaseHealth(c)),this.triggerTigerExecution(t)}copy(t){return new $k(t,this.logService)}}class Vk extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Salamander",this.tier=2,this.pack="Star",this.attack=1,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new $k(this,this.logService)),super.initAbilities()}}class qk extends E{constructor(t,e){super({name:"PandaAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=.5*this.level,l={attack:Math.floor(r.attack*o),health:Math.floor(r.health*o)},c=r.parent.nearestPetsAhead(1,r);if(0===c.pets.length)return;let d=c.pets[0];d.increaseAttack(l.attack),d.increaseHealth(l.health),this.logService.createLog({message:`${r.name} gave ${d.name} ${l.attack} attack and ${l.health} health.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:c.random}),r.health=0,this.triggerTigerExecution(t)}copy(t){return new qk(t,this.logService)}}class Hk extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Panda",this.tier=2,this.pack="Custom",this.attack=2,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new qk(this,this.logService)),super.initAbilities()}}class Gk extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Guinea Pig",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,a,r,l,c)}}class Fk extends E{constructor(t,e){super({name:"PugAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.nearestPetsAhead(1,r);if(0===o.pets.length)return;let l=o.pets[0],c=this.level;this.logService.createLog({message:`${r.name} gave ${l.name} ${c} exp.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),l.increaseExp(c),this.triggerTigerExecution(t)}copy(t){return new Fk(t,this.logService)}}class Uk extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pug",this.tier=3,this.pack="Star",this.attack=5,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new Fk(this,this.logService)),super.initAbilities()}}class jk extends E{constructor(t,e){super({name:"JellyfishAbility",owner:t,triggers:["FriendLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.getThis(r),l=o.pet;if(null==l)return;let c=this.level;l.increaseAttack(c),l.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${l.name} attack by ${c} and health by ${c}`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),this.triggerTigerExecution(t)}copy(t){return new jk(t,this.logService)}}class Wk extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jellyfish",this.tier=2,this.pack="Star",this.attack=3,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new jk(this,this.logService)),super.initAbilities()}}class zk extends E{constructor(t,e){super({name:"AtlanticPuffinAbility",owner:t,triggers:["FriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:i=>{var s;const{triggerPet:a}=i;return!(!a||"Strawberry"!=(null===(s=a.equipment)||void 0===s?void 0:s.name))},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;this.logService.createLog({message:`${r.name} removed ${i.name}'s ${i.equipment.name}.`,type:"ability",player:r.parent,tiger:s}),i.removePerk();let o=2*r.level,l=r.parent.opponent.getLastPet(),c=l.pet;null!=c&&(r.snipePet(c,o,l.random,s),this.triggerTigerExecution(t))}copy(t){return new zk(t,this.logService)}}class Kk extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Atlantic Puffin",this.tier=2,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new zk(this,this.logService)),super.initAbilities()}}class Yk extends E{constructor(t,e){super({name:"DoveAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.petArray.filter(d=>{var f;return d==r||"Strawberry"!=(null===(f=d.equipment)||void 0===f?void 0:f.name)}),l=r.parent.getRandomPets(3,o,null,null,r),c=l.pets;if(0!=c.length){for(let d of c){if("Strawberry"!=d.equipment.name)continue;this.logService.createLog({message:`${r.name} activated ${d.name}'s Strawberry.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random,pteranodon:a});let y=d.parent.getLastPet(null,d).pet,b=this.level+y.equipment.multiplier-1;y.increaseAttack(b),y.increaseHealth(b),this.logService.createLog({message:`${d.name} gave ${y.name} ${b} attack ${b} health (Strawberry) (x${this.level} ${r.name}).`,type:"equipment",player:r.parent,tiger:s,pteranodon:a})}this.triggerTigerExecution(t)}}copy(t){return new Yk(t,this.logService)}}class Qk extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dove",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new Yk(this,this.logService)),super.initAbilities()}}class Jk extends E{constructor(t,e,i,s){super({name:"StorkAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=e,this.abilityService=i,this.petService=s}executeAbility(t){const{gameApi:e,tiger:s,pteranodon:a}=t,r=this.owner;let o=Math.max(1,e.previousShopTier-1),l=this.petService.allPets.get(o),c=l[Math.floor(Math.random()*l.length)],d=e.oldStork,f=this.petService.createPet({name:c,attack:d?null:2*this.level,equipment:null,exp:r.minExpForLevel,health:d?null:2*this.level,mana:0},r.parent);r.parent.summonPet(f,r.savedPosition,!1,r).success&&this.logService.createLog({message:`${r.name} spawned ${f.name} Level ${this.level}`,type:"ability",player:r.parent,tiger:s,randomEvent:!0,pteranodon:a}),this.triggerTigerExecution(t)}copy(t){return new Jk(t,this.logService,this.abilityService,this.petService)}}class Zk extends S{constructor(t,e,i,s,a,r,o,l,c,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Stork",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(l,a,r,o,c,d)}initAbilities(){this.addAbility(new Jk(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class Xk extends E{constructor(t,e,i,s){super({name:"ShimaEnagaAbility",owner:t,triggers:["FriendDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2,condition:a=>{var r;const{triggerPet:o}=a;return o&&"Strawberry"==(null===(r=o.equipment)||void 0===r?void 0:r.name)},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=e,this.abilityService=i,this.petService=s}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;let o=2*this.level,l=r.parent.petArray.filter(y=>y.alive);if(0===l.length)return;let c=l[Math.floor(Math.random()*l.length)],d=this.petService.createPet({name:c.name,attack:o,health:o,equipment:null,exp:c.exp,mana:0},r.parent);r.parent.summonPet(d,i.position,!1,r).success&&this.logService.createLog({message:`${r.name} summoned a (${o}/${o}) ${d.name}`,type:"ability",player:r.parent,tiger:s,randomEvent:!0}),this.triggerTigerExecution(t)}copy(t){return new Xk(t,this.logService,this.abilityService,this.petService)}}class eD extends S{constructor(t,e,i,s,a,r,o,l,c,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Shima Enaga",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(l,a,r,o,c,d)}initAbilities(){this.addAbility(new Xk(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class tD extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leech",this.tier=3,this.pack="Star",this.attack=4,this.health=2,this.initPet(o,s,a,r,l,c)}}class iD extends E{constructor(t,e){super({name:"WoodpeckerAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=2*this.level;for(let l=0;l<o;l++){let c=r.parent.nearestPetsAhead(2,r,null,!0),d=c.pets;for(let f of d){let y=1;f.parent!=this.owner.parent&&(y*=2),r.snipePet(f,y,c.random,s)}}this.triggerTigerExecution(t)}copy(t){return new iD(t,this.logService)}}class nD extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Woodpecker",this.tier=5,this.pack="Star",this.attack=6,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new iD(this,this.logService)),super.initAbilities()}}class sD extends E{constructor(t,e){super({name:"TunaAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.timesHurt;for(let l=0;l<o;l++){const c=r.parent.getRandomPet([r],!0,!1,!0,r);if(null==c.pet)continue;const d=this.level;this.logService.createLog({message:`${r.name} gave ${c.pet.name} +${d} attack and +${d} health.`,type:"ability",player:r.parent,tiger:s,randomEvent:c.random}),c.pet.increaseAttack(d),c.pet.increaseHealth(d)}this.triggerTigerExecution(t)}copy(t){return new sD(t,this.logService)}}class rD extends S{constructor(t,e,i,s,a,r,o,l,c,d){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tuna",this.tier=3,this.pack="Star",this.attack=3,this.health=5,this.initPet(o,s,a,r,l,c),this.timesHurt=null!=d?d:0,this.originalTimesHurt=this.timesHurt}initAbilities(){this.addAbility(new sD(this,this.logService)),super.initAbilities()}}class aD extends E{constructor(t,e){super({name:"ToadAbility",owner:t,triggers:["EnemyHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2*t.level,condition:i=>{var s;const{triggerPet:a}=i;return a&&a.alive&&"Weak"!==(null===(s=a.equipment)||void 0===s?void 0:s.name)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}reset(){this.maxUses=2*this.owner.level,super.reset()}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;let o=r.parent.getSpecificPet(r,i),l=o.pet;null!=l&&(l.givePetEquipment(new yr),this.logService.createLog({message:`${r.name} gave ${l.name} Weak.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),this.triggerTigerExecution(t))}copy(t){return new aD(t,this.logService)}}class oD extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Toad",this.tier=3,this.pack="Star",this.attack=3,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new aD(this,this.logService)),super.initAbilities()}}class lD extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Starfish",this.tier=5,this.pack="Star",this.attack=3,this.health=7,this.initPet(o,s,a,r,l,c)}}class cD extends E{constructor(t,e){super({name:"ClownfishAbility",owner:t,triggers:["FriendlyLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;let o=r.parent.getSpecificPet(r,i),l=o.pet;if(null==l)return;let c=2*this.level;l.increaseAttack(c),l.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${l.name} ${c} attack and ${c} health.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),this.triggerTigerExecution(t)}copy(t){return new cD(t,this.logService)}}class uD extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Clownfish",this.tier=4,this.pack="Star",this.attack=3,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new cD(this,this.logService)),super.initAbilities()}}class hD extends E{constructor(t,e){super({name:"BlobfishAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.nearestPetsBehind(2,r),l=o.pets;for(let c of l){let d=this.level;this.logService.createLog({message:`${r.name} gave ${c.name} ${d} exp.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),c.increaseExp(d)}this.triggerTigerExecution(t)}copy(t){return new hD(t,this.logService)}}class dD extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blobfish",this.tier=5,this.pack="Star",this.attack=2,this.health=10,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new hD(this,this.logService)),super.initAbilities()}}class gD extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cabybara",this.tier=3,this.pack="Star",this.attack=2,this.health=5,this.initPet(o,s,a,r,l,c)}}class fD extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Okapi",this.tier=3,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,a,r,l,c)}}class pD extends E{constructor(t,e){super({name:"CassowaryAbility",owner:t,triggers:["FriendGainsPerk"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:i=>{var s;const{triggerPet:a}=i;return a&&"Strawberry"===(null===(s=a.equipment)||void 0===s?void 0:s.name)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner,o=this.level;let c=r.parent.getThis(r).pet;null!=c&&(this.logService.createLog({message:`${r.name} gave ${c.name} +${o} permanent health and +${o} attack for this battle.`,type:"ability",player:r.parent,tiger:s}),c.increaseHealth(o),c.increaseAttack(o),this.triggerTigerExecution(t))}copy(t){return new pD(t,this.logService)}}class mD extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cassowary",this.tier=3,this.pack="Star",this.attack=5,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new pD(this,this.logService)),super.initAbilities()}}class Pb extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Orangutang",this.tier=3,this.pack="Star",this.attack=1,this.health=4,this.initPet(o,s,a,r,l,c)}}class yD extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Siamese",this.tier=4,this.pack="Star",this.health=4,this.attack=1,this.initPet(o,s,a,r,l,c)}}class vD extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Elk",this.tier=4,this.pack="Star",this.attack=2,this.health=6,this.initPet(o,s,a,r,l,c)}}class Tb extends E{constructor(t){super({name:"FairyAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:e=>{this.executeAbility(e)}})}executeAbility(t){}copy(t){return new Tb(t)}}class xb extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fairy Ball",this.tier=1,this.pack="Star",this.attack=2,this.health=6,this.hidden=!0,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new Tb(this)),super.initAbilities()}}class bD extends E{constructor(t,e,i){super({name:"FairyArmadilloAbility",owner:t,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s}=t,r=this.owner,o=2*this.level,l=r.parent.getThis(r),c=l.pet;if(null==c)return;c.increaseHealth(o),this.logService.createLog({message:`${r.name} gave ${c.name} ${o} permanent health and transforms into a protected ball!`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random});const d=r.parent.getThis(r),f=d.pet;if(null==f)return;const y=new xb(this.logService,this.abilityService,f.parent,f.health,f.attack,f.mana,f.exp,f.equipment);this.logService.createLog({message:`${r.name} transformed ${f.name} into a protected ball!`,type:"ability",player:r.parent,tiger:s,randomEvent:d.random}),f.parent.transformPet(f,y),this.triggerTigerExecution(t)}copy(t){return new bD(t,this.logService,this.abilityService)}}class SD extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fairy Armadillo",this.tier=4,this.pack="Star",this.attack=2,this.health=6,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new bD(this,this.logService,this.abilityService)),super.initAbilities()}}class _D extends E{constructor(t,e){super({name:"FossaAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{gameApi:e,tiger:s}=t,r=this.owner,l=r.parent===e.player?e.playerRollAmount:e.opponentRollAmount;if(l<=0)return;const c=this.level*l;let f=r.parent.opponent.getFurthestUpPets(2,void 0,r).pets;if(0!=f.length){for(let y of f)this.logService.createLog({message:`${r.name} removed ${c} health from ${y.name}.`,type:"ability",player:r.parent,tiger:s}),y.increaseHealth(-c);this.triggerTigerExecution(t)}}copy(t){return new _D(t,this.logService)}}class wD extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fossa",this.tier=4,this.pack="Star",this.attack=6,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new _D(this,this.logService)),super.initAbilities()}}class AD extends E{constructor(t,e){super({name:"EelAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;if(!r.alive)return;let o=.5*this.level;r.health=Math.min(50,Math.floor(r.health*(1+o))),this.logService.createLog({message:`${r.name} has gained ${100*o}% health. (${r.health})`,type:"ability",player:r.parent,tiger:s,pteranodon:a}),this.triggerTigerExecution(t)}copy(t){return new AD(t,this.logService)}}class ED extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Eel",this.tier=4,this.pack="Custom",this.attack=4,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new AD(this,this.logService)),super.initAbilities()}}class CD extends E{constructor(t,e){super({name:"HawkAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.getOppositeEnemyPet(r),l=o.pet;l&&r.snipePet(l,7*this.level,o.random,s),this.triggerTigerExecution(t)}copy(t){return new CD(t,this.logService)}}class PD extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hawk",this.tier=4,this.pack="Star",this.attack=4,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new CD(this,this.logService)),super.initAbilities()}}class TD extends E{constructor(t,e,i){super({name:"PlatypusAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=3*this.level,l=2*this.level,c=new sb(this.logService,this.abilityService,r.parent,l,o,0,this.minExpForLevel),d=new rb(this.logService,this.abilityService,r.parent,l,o,0,this.minExpForLevel),f=r.parent.summonPet(c,r.savedPosition,!1,r);f.success&&this.logService.createLog({message:`${r.name} spawned ${o}/${l} Duck level ${this.level}`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:f.randomEvent});let y=r.parent.summonPet(d,r.savedPosition,!1,r);y.success&&this.logService.createLog({message:`${r.name} spawned ${o}/${l} Beaver level ${this.level}`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:y.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new TD(t,this.logService,this.abilityService)}}class xD extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Platypus",this.tier=4,this.pack="Star",this.attack=2,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new TD(this,this.logService,this.abilityService)),super.initAbilities()}}class kD extends E{constructor(t,e,i){super({name:"CrowAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new kD(t,this.logService,this.abilityService)}}class DD extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crow",this.tier=4,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new kD(this,this.logService,this.abilityService)),super.initAbilities()}}class MD extends E{constructor(t,e){super({name:"DonkeyAbility",owner:t,triggers:["FriendDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}reset(){this.maxUses=this.level,super.reset()}executeAbility(t){const{tiger:s}=t,r=this.owner;let l=r.parent.opponent.getLastPet();null!=l.pet&&(r.parent.pushPet(l.pet,l.pet.position),this.logService.createLog({message:`${r.name} pushed ${l.pet.name} to the front.`,type:"ability",player:r.parent,tiger:s}),this.triggerTigerExecution(t))}copy(t){return new MD(t,this.logService)}}class RD extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Donkey",this.tier=4,this.pack="Star",this.attack=4,this.health=6,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new MD(this,this.logService)),super.initAbilities()}}class ID extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sparrow",this.tier=4,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,a,r,l,c)}}class OD extends E{constructor(t,e,i){super({name:"PelicanStartAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.petService=i}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.getPetsWithoutEquipment("Strawberry"),l=r.parent.nearestPetsAhead(this.level,r,o),c=l.pets;if(0!=c.length){for(let d of c){let f=this.petService.createPet({name:"Salmon",attack:d.attack,health:d.health,exp:this.minExpForLevel,equipment:null,mana:0},r.parent);r.swallowedPets.push(f),d.health=0,this.logService.createLog({message:`${r.name} swallowed ${d.name}`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random})}this.triggerTigerExecution(t)}}copy(t){return new OD(t,this.logService,this.petService)}}class ND extends E{constructor(t,e,i){super({name:"PelicanFaintAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)},ignoreRepeats:!0}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;for(;r.swallowedPets.length>0;){let o=r.swallowedPets.shift(),l=r.parent.summonPet(o,r.savedPosition,!1,r);l.success&&this.logService.createLog({message:`${r.name} summoned ${o.name} (level ${o.level}).`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:l.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new ND(t,this.logService,this.abilityService)}}class LD extends S{constructor(t,e,i,s,a,r,o,l,c,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Pelican",this.tier=5,this.pack="Star",this.attack=5,this.health=5,this.initPet(l,a,r,o,c,d)}initAbilities(){this.addAbility(new OD(this,this.logService,this.petService)),this.addAbility(new ND(this,this.logService,this.abilityService)),super.initAbilities()}}class BD extends E{constructor(t,e,i){super({name:"AnteaterAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;for(let o=0;o<this.level;o++){let l=new Nf(this.logService,this.abilityService,r.parent,1,1,0,5),c=r.parent.summonPet(l,r.savedPosition,!1,r);c.success&&this.logService.createLog({message:`${r.name} spawned 1/1 Ant level 3`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:c.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new BD(t,this.logService,this.abilityService)}}class $D extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anteater",this.tier=3,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new BD(this,this.logService,this.abilityService)),super.initAbilities()}}class VD extends E{constructor(t,e){super({name:"SwordFishAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let l=r.parent.opponent.getHighestHealthPet(void 0,r),c=l.pet,d=r.attack*this.level;null!=c&&r.snipePet(c,d,l.random,s),r.snipePet(r,d,!1,s),this.triggerTigerExecution(t)}copy(t){return new VD(t,this.logService)}}class qD extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sword Fish",this.tier=5,this.pack="Star",this.attack=5,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new VD(this,this.logService)),super.initAbilities()}}class HD extends E{constructor(t,e,i){super({name:"PolarBearAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new HD(t,this.logService,this.abilityService)}}class GD extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Polar Bear",this.tier=5,this.pack="Custom",this.attack=4,this.health=8,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new HD(this,this.logService,this.abilityService)),super.initAbilities()}}class FD extends E{constructor(t,e,i){super({name:"SiberianHuskyAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new FD(t,this.logService,this.abilityService)}}class UD extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Siberian Husky",this.tier=5,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new FD(this,this.logService,this.abilityService)),super.initAbilities()}}class jD extends E{constructor(t,e){super({name:"LionAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}conditionFunction(){const t=this.owner;let e=t.parent.petArray.filter(s=>s!==t),i=0;for(let s of e)s.tier>i&&(i=s.tier);return t.tier>i}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;if(!this.conditionFunction())return;let o=.5*this.level;r.increaseAttack(Math.floor(r.attack*o)),r.increaseHealth(Math.floor(r.health*o)),this.logService.createLog({message:`${r.name} increased its attack and health by ${100*o}% (${r.attack}/${r.health})`,type:"ability",player:r.parent,tiger:s,pteranodon:a}),this.triggerTigerExecution(t)}copy(t){return new jD(t,this.logService)}}class WD extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lion",this.tier=5,this.pack="Custom",this.attack=6,this.health=6,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new jD(this,this.logService)),super.initAbilities()}}class zD extends E{constructor(t,e){super({name:"TriceratopsAbility",owner:t,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.getRandomPet([r],!0,!1,!0,r),l=3*this.level;null!=o.pet&&(o.pet.increaseAttack(l),o.pet.increaseHealth(l),this.logService.createLog({message:`${r.name} gave ${o.pet.name} ${l} attack and ${l} health.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),this.triggerTigerExecution(t))}copy(t){return new zD(t,this.logService)}}class KD extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Triceratops",this.tier=5,this.pack="Star",this.attack=5,this.health=6,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new zD(this,this.logService)),super.initAbilities()}}class YD extends E{constructor(t,e,i){super({name:"ZebraAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new YD(t,this.logService,this.abilityService)}}class QD extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zebra",this.tier=5,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new YD(this,this.logService,this.abilityService)),super.initAbilities()}}class JD extends E{constructor(t,e,i){super({name:"FoxAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new JD(t,this.logService,this.abilityService)}}class ZD extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fox",this.tier=5,this.pack="Custom",this.attack=6,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new JD(this,this.logService,this.abilityService)),super.initAbilities()}}class XD extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hamster",this.tier=5,this.pack="Star",this.attack=4,this.health=4,this.initPet(o,s,a,r,l,c)}}class e1 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shoebill",this.tier=5,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,a,r,l,c)}}class t1 extends E{constructor(t,e,i){super({name:"VultureAbility",owner:t,triggers:["TwoFriendsDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s}=t,r=this.owner;let l=r.parent.opponent.getRandomPet([],!1,!0,!1,r);null!=l.pet&&(r.snipePet(l.pet,4*this.level,l.random,s),this.triggerTigerExecution(t))}copy(t){return new t1(t,this.logService,this.abilityService)}}class i1 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vulture",this.tier=5,this.pack="Star",this.attack=4,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new t1(this,this.logService,this.abilityService)),super.initAbilities()}}class n1 extends E{constructor(t,e){super({name:"IbexAbility",owner:t,triggers:["EnemyHurt","EnemyPushed"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,condition:i=>{const{triggerPet:s}=i;return s&&s.alive&&!this.affectedEnemies.has(s)},abilityFunction:i=>{this.executeAbility(i)}}),this.affectedEnemies=new Set,this.logService=e}reset(){this.maxUses=this.level,this.affectedEnemies=new Set,super.reset()}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;let o=r.parent.getSpecificPet(r,i),l=o.pet;if(null==l)return;let c=Math.floor(.7*i.health);l.increaseHealth(-c),this.affectedEnemies.add(l),this.logService.createLog({message:`${r.name} removed ${c} health from ${i.name} (70%)`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),this.triggerTigerExecution(t)}copy(t){return new n1(t,this.logService)}}class s1 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ibex",this.tier=5,this.pack="Star",this.attack=6,this.health=7,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new n1(this,this.logService)),super.initAbilities()}}class r1 extends E{constructor(t,e,i){super({name:"KomodoAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new r1(t,this.logService,this.abilityService)}}class a1 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Komodo",this.tier=6,this.pack="Custom",this.attack=6,this.health=6,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new r1(this,this.logService,this.abilityService)),super.initAbilities()}endTurn(t){if(!t.komodoShuffle)return;let i=this.position;if(0==i)return;let a=this.shufflePets(0,i).map(r=>r.name).join(", ");this.logService.createLog({message:`${this.name} shuffled positions of pets (${a}).`,type:"ability",player:this.parent,randomEvent:!0})}shufflePets(t,e){let i=this.parent.petArray.slice(t,e);IG(i);for(let s=0;s<i.length;s++)this.parent[`pet${s}`]=i[s];return i}}class o1 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ostrich",this.tier=6,this.pack="Star",this.attack=6,this.health=7,this.initPet(o,s,a,r,l,c)}}class l1 extends E{constructor(t,e){super({name:"ReindeerAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}reset(){this.maxUses=this.level,super.reset()}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.getThis(r),l=o.pet;null!=l&&(l.givePetEquipment(new Gr),this.logService.createLog({message:`${r.name} gave ${l.name} Melon.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),this.triggerTigerExecution(t))}copy(t){return new l1(t,this.logService)}}class c1 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Reindeer",this.tier=6,this.pack="Star",this.attack=9,this.health=6,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new l1(this,this.logService)),super.initAbilities()}}class u1 extends E{constructor(t,e){super({name:"StegosaurusAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{gameApi:e,tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.petArray.filter(d=>null!=d.equipment),l=r.parent.getRandomPet([...o,r],!0,!1,!0,r);if(null==l.pet)return;let c=this.level*e.turnNumber;l.pet.increaseAttack(c),l.pet.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${l.pet.name} ${c} attack and ${c} health.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:l.random}),this.triggerTigerExecution(t)}copy(t){return new u1(t,this.logService)}}class h1 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stegosaurus",this.tier=6,this.pack="Custom",this.attack=3,this.health=8,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new u1(this,this.logService)),super.initAbilities()}}class d1 extends E{constructor(t,e){super({name:"PiranhaAbility",owner:t,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.getAll(!1,r,!0),l=o.pets,c=3*this.level;for(let d of l)d.increaseAttack(c),this.logService.createLog({message:`${r.name} gave ${d.name} ${c} attack.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random});this.triggerTigerExecution(t)}copy(t){return new d1(t,this.logService)}}class g1 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Piranha",this.tier=6,this.pack="Star",this.attack=10,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new d1(this,this.logService)),super.initAbilities()}}class f1 extends E{constructor(t,e,i){super({name:"HammerheadSharkAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new f1(t,this.logService,this.abilityService)}}class p1 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hammerhead Shark",this.tier=6,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new f1(this,this.logService,this.abilityService)),super.initAbilities()}}class m1 extends E{constructor(t,e){super({name:"TherizinosaurusAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.getPetsWithoutEquipment("Strawberry"),l=r.parent.getFurthestUpPets(this.level,o,r),c=l.pets;for(let d of c)d.givePetEquipment(new qo),this.logService.createLog({message:`${r.name} gave ${d.name} Coconut.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:l.random});this.triggerTigerExecution(t)}copy(t){return new m1(t,this.logService)}}class y1 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Therizinosaurus",this.tier=6,this.pack="Custom",this.attack=3,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new m1(this,this.logService)),super.initAbilities()}}class v1 extends E{constructor(t,e,i,s){super({name:"HarpyEagleAbility",owner:t,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=e,this.petService=i,this.abilityService=s}executeAbility(t){const{gameApi:e,tiger:s}=t,r=this.owner;let l,o=5*this.level;l=r.parent===e.player?e.playerPetPool.get(1):e.opponentPetPool.get(1);let c=l[Math.floor(Math.random()*l.length)],d=this.petService.createPet({name:c,attack:o,health:o,equipment:null,mana:0,exp:0},r.parent);r.parent.summonPet(d,r.savedPosition,!1,r).success&&this.logService.createLog({message:`${r.name} spawned ${d.name} (${o}/${o}).`,type:"ability",player:r.parent,tiger:s,randomEvent:!0}),this.triggerTigerExecution(t)}copy(t){return new v1(t,this.logService,this.petService,this.abilityService)}}class b1 extends S{constructor(t,e,i,s,a,r,o,l,c,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Harpy Eagle",this.tier=6,this.pack="Custom",this.attack=6,this.health=6,this.initPet(l,a,r,o,c,d)}initAbilities(){this.addAbility(new v1(this,this.logService,this.petService,this.abilityService)),super.initAbilities()}}class S1 extends E{constructor(t,e){super({name:"RealVelociraptorAbility",owner:t,triggers:["FriendLostPerk"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,condition:i=>{const{triggerPet:s}=i;return s&&s!==this.owner&&s.lastLostEquipment&&!this.friendAppliedThisTurn.has(s)},abilityFunction:i=>{this.executeAbility(i)}}),this.friendAppliedThisTurn=new Set,this.logService=e}reset(){this.maxUses=this.level,this.friendAppliedThisTurn=new Set,super.reset()}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;let o=this.createEquipmentInstance(i.lastLostEquipment);if(o){let l=r.parent.getSpecificPet(r,i),c=l.pet;if(null==c)return;c.givePetEquipment(o),this.logService.createLog({message:`${r.name} returned ${o.name} to ${c.name}.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random}),this.friendAppliedThisTurn.add(c)}this.triggerTigerExecution(t)}createEquipmentInstance(t){try{return new(0,t.constructor)}catch(e){return console.warn("Failed to create equipment instance:",t.name,e),null}}copy(t){return new S1(t,this.logService)}}class _1 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Real Velociraptor",this.tier=6,this.pack="Star",this.attack=6,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new S1(this,this.logService)),super.initAbilities()}}class w1 extends E{constructor(t,e,i,s){super({name:"SabertoothTigerAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=e,this.abilityService=i,this.petService=s}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.timesHurt;if(o>0)for(let l=0;l<this.level;l++){let c=Math.min(2*o,50),d=Math.min(3*o,50),f=this.petService.createPet({name:"Mammoth",attack:c,health:d,equipment:null,mana:0,exp:0},r.parent),y=r.parent.summonPet(f,r.savedPosition,!1,r);y.success&&this.logService.createLog({message:`${r.name} summoned ${f.name} (${c}/${d}).`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:y.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new w1(t,this.logService,this.abilityService,this.petService)}}class A1 extends S{constructor(t,e,i,s,a,r,o,l,c,d,f){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Sabertooth Tiger",this.tier=6,this.pack="Star",this.attack=4,this.health=5,this.initPet(l,a,r,o,c,d),this.timesHurt=null!=f?f:0,this.originalTimesHurt=this.timesHurt}initAbilities(){this.addAbility(new w1(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}resetPet(){super.resetPet()}}class E1 extends E{constructor(t,e,i,s){super({name:"OrcaAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=e,this.abilityService=i,this.petService=s}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;for(let o=0;o<this.level;o++){let l=this.petService.getRandomFaintPet(r.parent);l.attack=6,l.health=6,r.parent.summonPet(l,r.savedPosition,!1,r).success&&this.logService.createLog({message:`${r.name} spawned a 6/6 ${l.name}.`,type:"ability",player:r.parent,tiger:s,randomEvent:!0,pteranodon:a})}this.triggerTigerExecution(t)}copy(t){return new E1(t,this.logService,this.abilityService,this.petService)}}class C1 extends S{constructor(t,e,i,s,a,r,o,l,c,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Orca",this.tier=6,this.pack="Star",this.attack=5,this.health=7,this.initPet(l,a,r,o,c,d)}initAbilities(){this.addAbility(new E1(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class P1 extends E{constructor(t,e){super({name:"SpinosaurusAbility",owner:t,triggers:["FriendDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o={attack:2*this.level,health:3*this.level},l=r.parent.getRandomPet([r],!0,!1,!0,r);null!=l.pet&&(l.pet.increaseAttack(o.attack),l.pet.increaseHealth(o.health),this.logService.createLog({message:`${r.name} gave ${l.pet.name} ${o.attack} attack and ${o.health} health.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random}),this.triggerTigerExecution(t))}copy(t){return new P1(t,this.logService)}}class T1 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Spinosaurus",this.tier=6,this.pack="Star",this.attack=4,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new P1(this,this.logService)),super.initAbilities()}}class x1 extends E{constructor(t,e){super({name:"BulldogAbility",owner:t,triggers:["ThisFirstAttack"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:i=>this.owner.timesAttacked<=1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=2*this.level,l=r.parent.getThis(r),c=l.pet;null!=c&&(c.increaseAttack(o),this.logService.createLog({message:`${r.name} gained +${o} attack.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random}),this.triggerTigerExecution(t))}copy(t){return new x1(t,this.logService)}}class k1 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bulldog",this.tier=1,this.pack="Golden",this.attack=1,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new x1(this,this.logService)),super.initAbilities()}}class D1 extends E{constructor(t,e){super({name:"GroundhogAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{pteranodon:a}=t,r=this.owner,o=r.parent.resolveTrumpetGainTarget(r);o.player.gainTrumpets(this.level,r,a,void 0,void 0,o.random),this.triggerTigerExecution(t)}copy(t){return new D1(t,this.logService)}}class kb extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Groundhog",this.tier=1,this.pack="Golden",this.attack=2,this.health=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new D1(this,this.logService)),super.initAbilities()}}class M1 extends E{constructor(t,e){super({name:"ConeSnailAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.nearestPetsBehind(1,r);if(0===o.pets.length)return;let l=o.pets[0],c=2*this.level;l.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${l.name} ${c} health.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),this.triggerTigerExecution(t)}copy(t){return new M1(t,this.logService)}}class R1 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cone Snail",this.tier=1,this.pack="Golden",this.attack=1,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new M1(this,this.logService)),super.initAbilities()}}class I1 extends E{constructor(t,e){super({name:"GooseAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.opponent.getFurthestUpPet(r),l=o.pet;if(null==l)return;let c=this.level;l.increaseAttack(-this.level),this.logService.createLog({message:`${r.name} removed ${c} attack from ${l.name}.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),this.triggerTigerExecution(t)}copy(t){return new I1(t,this.logService)}}class O1 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goose",this.tier=1,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new I1(this,this.logService)),super.initAbilities()}}class N1 extends E{constructor(t,e){super({name:"PiedTamarinAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:i=>this.owner.parent.trumpets>=1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.opponent.getRandomPets(this.level,null,null,!0,r);for(let l of o.pets)null!=l&&r.snipePet(l,3,o.random,s,a);o.pets.length>0&&r.parent.spendTrumpets(1,r,a),this.triggerTigerExecution(t)}copy(t){return new N1(t,this.logService)}}class L1 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pied Tamarin",this.tier=1,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new N1(this,this.logService)),super.initAbilities()}}class B1 extends E{constructor(t,e){super({name:"SilkmothAbility",owner:t,triggers:["FriendAheadHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;let o=r.parent.getSpecificPet(r,i),l=o.pet;if(null==l)return;let c=this.level;l.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${l.name} ${c} health.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),this.triggerTigerExecution(t)}copy(t){return new B1(t,this.logService)}}class $1 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Silkmoth",this.tier=1,this.pack="Golden",this.attack=3,this.health=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new B1(this,this.logService)),super.initAbilities()}}class V1 extends E{constructor(t,e,i){super({name:"LemmingAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new V1(t,this.logService,this.abilityService)}}class q1 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lemming",this.tier=1,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new V1(this,this.logService,this.abilityService)),super.initAbilities()}}class H1 extends E{constructor(t,e,i){super({name:"MagpieAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new H1(t,this.logService,this.abilityService)}}class G1 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Magpie",this.tier=1,this.pack="Golden",this.attack=1,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new H1(this,this.logService,this.abilityService)),super.initAbilities()}}class F1 extends E{constructor(t,e,i){super({name:"HerculesBeetleAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new F1(t,this.logService,this.abilityService)}}class U1 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hercules Beetle",this.tier=2,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new F1(this,this.logService,this.abilityService)),super.initAbilities()}}class j1 extends E{constructor(t,e,i){super({name:"StoatAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new j1(t,this.logService,this.abilityService)}}class W1 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stoat",this.tier=2,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new j1(this,this.logService,this.abilityService)),super.initAbilities()}}class z1 extends E{constructor(t,e){super({name:"BlackNeckedStiltAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{pteranodon:a}=t,r=this.owner;let o=2*this.level;const l=r.parent.resolveTrumpetGainTarget(r);l.player.gainTrumpets(o,r,a,void 0,void 0,l.random),this.triggerTigerExecution(t)}copy(t){return new z1(t,this.logService)}}class K1 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Black Necked Stilt",this.tier=2,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new z1(this,this.logService)),super.initAbilities()}}class Y1 extends E{constructor(t,e){super({name:"SquidAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:i=>{if(this.owner.parent.trumpets<1)return!1},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=!1,l=r.parent.opponent.getPetsWithEquipment("Ink"),c=r.parent.opponent.getFurthestUpPets(this.level,l,r),d=c.pets;for(let f of d){if(null==f)break;o=!0,f.givePetEquipment(new Px),this.logService.createLog({message:`${r.name} gave ${f.name} Ink.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:c.random})}o&&r.parent.spendTrumpets(1,r,a),this.triggerTigerExecution(t)}copy(t){return new Y1(t,this.logService)}}class Q1 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Squid",this.tier=2,this.pack="Golden",this.attack=5,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new Y1(this,this.logService)),super.initAbilities()}}class J1 extends E{constructor(t,e){super({name:"SeaUrchinAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.opponent.getFurthestUpPet(r),l=[o.pet],c=o.random;if(null!=l[0]){for(let d=0;d<this.level-1;d++){let f;if(f=c?r.parent.opponent.getFurthestUpPet(r).pet:l[d].petBehind(),null==f)break;l.push(f)}for(let d of l)null!=d&&(d.increaseHealth(-5),this.logService.createLog({message:`${r.name} removed 5 health from ${d.name}.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:c}));this.triggerTigerExecution(t)}}copy(t){return new J1(t,this.logService)}}class Z1 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Urchin",this.tier=2,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new J1(this,this.logService)),super.initAbilities()}}class X1 extends E{constructor(t,e){super({name:"DoorHeadAntAbility",owner:t,triggers:["ClearFront"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.getThis(r),l=o.pet;if(null==l)return;r.parent.pushPetToFront(l,!0),this.logService.createLog({message:`${r.name} pushed ${l.name} to the front.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:o.random});let c=4*this.level,d=r.parent.getThis(r),f=d.pet;null!=f&&(f.increaseHealth(c),this.logService.createLog({message:`${r.name} gained ${c} health.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:d.random}),this.triggerTigerExecution(t))}copy(t){return new X1(t,this.logService)}}class eM extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Door Head Ant",this.tier=2,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new X1(this,this.logService)),super.initAbilities()}}class Db extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lizard Tail",this.tier=1,this.pack="Golden",this.hidden=!0,this.attack=3,this.health=1,this.initPet(o,s,a,r,l,c)}}class tM extends E{constructor(t,e,i){super({name:"LizardAbility",owner:t,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=new Db(this.logService,this.abilityService,r.parent,null,null,0,r.minExpForLevel),l=r.parent.summonPetInFront(r,o);l.success&&this.logService.createLog({message:`${r.name} spawned Lizard Tail Level ${r.level}`,type:"ability",player:r.parent,tiger:s,randomEvent:l.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new tM(t,this.logService,this.abilityService)}}class iM extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lizard",this.tier=2,this.pack="Golden",this.attack=1,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new tM(this,this.logService,this.abilityService)),super.initAbilities()}}class nM extends E{constructor(t,e){super({name:"SeaTurtleAbility",owner:t,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;let o=2*this.level,l=r.parent.getSpecificPet(r,i),c=l.pet;!c||(c.increaseHealth(o),this.logService.createLog({message:`${r.name} gave ${c.name} ${o} health.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random}),this.triggerTigerExecution(t))}copy(t){return new nM(t,this.logService)}}class sM extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Turtle",this.tier=2,this.pack="Golden",this.attack=1,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new nM(this,this.logService)),super.initAbilities()}}class rM extends E{constructor(t,e,i){super({name:"AfricanPenguinAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new rM(t,this.logService,this.abilityService)}}class aM extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="African Penguin",this.tier=2,this.pack="Golden",this.attack=1,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new rM(this,this.logService,this.abilityService)),super.initAbilities()}}class oM extends E{constructor(t,e){super({name:"MuskOxAbility",owner:t,triggers:["FriendAheadDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o={attack:r.level,health:2*r.level},l=r.parent.getThis(r),c=l.pet;null!=c&&(c.increaseAttack(o.attack),c.increaseHealth(o.health),this.logService.createLog({message:`${r.name} gave ${c.name} ${o.attack} attack and ${o.health} health.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random}),this.triggerTigerExecution(t))}copy(t){return new oM(t,this.logService)}}class lM extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Musk Ox",this.tier=3,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new oM(this,this.logService)),super.initAbilities()}}class cM extends E{constructor(t,e){super({name:"FleaAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.opponent.getPetsWithEquipment("Weak"),l=r.parent.opponent.getHighestHealthPets(this.level,o,r);for(let c of l.pets)this.logService.createLog({message:`${r.name} gave ${c.name} Weak.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:l.random}),c.givePetEquipment(new yr);this.triggerTigerExecution(t)}copy(t){return new cM(t,this.logService)}}class uM extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flea",this.tier=3,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new cM(this,this.logService)),super.initAbilities()}}class hM extends E{constructor(t,e){super({name:"SurgeonFishAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:i=>!(this.owner.parent.trumpets<2),abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.nearestPetsBehind(2,r),l=o.pets;if(0==l.length)return;r.parent.spendTrumpets(2,r);let c=4*this.level;for(let d of l)d.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${d.name} ${c} health.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:o.random});this.triggerTigerExecution(t)}copy(t){return new hM(t,this.logService)}}class dM extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Surgeon Fish",this.tier=3,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new hM(this,this.logService)),super.initAbilities()}}class gM extends E{constructor(t,e){super({name:"WeaselAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;this.logService.createLog({message:`${r.name} gained ${this.level} Gold.`,type:"ability",player:r.parent,tiger:s,pteranodon:a}),this.triggerTigerExecution(t)}copy(t){return new gM(t,this.logService)}}class Mb extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Weasel",this.tier=3,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new gM(this,this.logService)),super.initAbilities()}}class fM extends E{constructor(t,e){super({name:"GuineafowlAbility",owner:t,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{pteranodon:a}=t,r=this.owner;let o=2*this.level;const l=r.parent.resolveTrumpetGainTarget(r);l.player.gainTrumpets(o,r,a,void 0,void 0,l.random),this.triggerTigerExecution(t)}copy(t){return new fM(t,this.logService)}}class pM extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Guineafowl",this.tier=3,this.pack="Golden",this.attack=2,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new fM(this,this.logService)),super.initAbilities()}}class mM extends E{constructor(t,e){super({name:"BettaFishAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.nearestPetsBehind(1,r);if(0===o.pets.length)return;let l=o.pets[0],c={health:2*this.level,attack:4*this.level};l.increaseAttack(c.attack),l.increaseHealth(c.health),this.logService.createLog({message:`${r.name} gave ${l.name} ${c.attack} attack and ${c.health} health.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:o.random}),this.triggerTigerExecution(t)}copy(t){return new mM(t,this.logService)}}class yM extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Betta Fish",this.tier=3,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new mM(this,this.logService)),super.initAbilities()}}class vM extends E{constructor(t,e){super({name:"MeerkatAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{gameApi:e,tiger:s,pteranodon:a}=t,r=this.owner;let o;o=r.parent==e.player?e.playerGoldSpent:e.opponentGoldSpent;let l=Math.floor(o/4)*this.level,c=r.parent.nearestPetsBehind(1,r),d=r.parent.nearestPetsAhead(1,r);if(d.pets.length>0){let f=d.pets[0];f.increaseAttack(l),this.logService.createLog({message:`${r.name} gave ${f.name} ${l} attack.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:d.random})}if(c.pets.length>0){let f=c.pets[0];f.increaseAttack(l),this.logService.createLog({message:`${r.name} gave ${f.name} ${l} attack.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:c.random})}this.triggerTigerExecution(t)}copy(t){return new vM(t,this.logService)}}class bM extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Meerkat",this.tier=2,this.pack="Golden",this.attack=1,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new vM(this,this.logService)),super.initAbilities()}}class SM extends E{constructor(t,e){super({name:"FlyingFishAbility",owner:t,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;let o=2*this.level,l=r.parent.getSpecificPet(r,i),c=l.pet;!c||(this.logService.createLog({message:`${r.name} gave ${c.name} ${o} exp.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random}),c.increaseExp(o),this.triggerTigerExecution(t))}copy(t){return new SM(t,this.logService)}}class _M extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flying Fish",this.tier=3,this.pack="Golden",this.attack=5,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new SM(this,this.logService)),super.initAbilities()}}class wM extends E{constructor(t,e,i){super({name:"BaboonAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new wM(t,this.logService,this.abilityService)}}class AM extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Baboon",this.tier=3,this.pack="Golden",this.attack=1,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new wM(this,this.logService,this.abilityService)),super.initAbilities()}}class EM extends E{constructor(t,e,i){super({name:"OspreyAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;for(let o=0;o<r.level;o++){let l=new kb(this.logService,this.abilityService,r.parent,null,null,0,0),c=r.parent.summonPet(l,r.savedPosition,!1,r);c.success&&this.logService.createLog({message:`${r.name} summoned a 2/1 Groundhog`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:c.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new EM(t,this.logService,this.abilityService)}}class CM extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Osprey",this.tier=3,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new EM(this,this.logService,this.abilityService)),super.initAbilities()}}class PM extends E{constructor(t,e,i){super({name:"ManateeAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new PM(t,this.logService,this.abilityService)}}class TM extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manatee",this.tier=4,this.pack="Golden",this.attack=2,this.health=11,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new PM(this,this.logService,this.abilityService)),super.initAbilities()}}class xM extends E{constructor(t,e){super({name:"CuttlefishAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.opponent.getLastPets(this.level,void 0,r),l=o.pets;if(0==l.length)return;for(let y of l)y.increaseHealth(-3),this.logService.createLog({message:`${r.name} reduced ${y.name} health by 3`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:o.random});let d=r.parent.opponent.getLastPets(this.level,void 0,r),f=d.pets;if(0!=f.length){for(let y of f)y.givePetEquipment(new Px),this.logService.createLog({message:`${r.name} gave ${y.name} Ink.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:d.random});this.triggerTigerExecution(t)}}copy(t){return new xM(t,this.logService)}}class kM extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cuttlefish",this.tier=4,this.pack="Golden",this.attack=8,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new xM(this,this.logService)),super.initAbilities()}}class DM extends E{constructor(t,e){super({name:"EgyptianVultureAbility",owner:t,triggers:["ThisKilledEnemy"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{gameApi:e,tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.petArray.filter(d=>!d.isFaintPet()),l=r.parent.nearestPetsBehind(1,r,o),c=l.pets[0];this.logService.createLog({message:`${r.name} activated ${c.name}'s ability.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:l.random}),c.activateAbilities(void 0,e,"Pet"),this.triggerTigerExecution(t)}reset(){super.reset(),this.maxUses=this.level}copy(t){return new DM(t,this.logService)}}class MM extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Egyptian Vulture",this.tier=5,this.pack="Golden",this.attack=7,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new DM(this,this.logService)),super.initAbilities()}}class RM extends E{constructor(t,e,i){super({name:"SaigaAntelopeAbility",owner:t,triggers:["TwoFriendsDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{pteranodon:a}=t,r=this.owner,o=r.parent.resolveTrumpetGainTarget(r);o.player.gainTrumpets(3*this.level,r,a,void 0,void 0,o.random),this.triggerTigerExecution(t)}copy(t){return new RM(t,this.logService,this.abilityService)}}class IM extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Saiga Antelope",this.tier=4,this.pack="Golden",this.attack=4,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new RM(this,this.logService,this.abilityService)),super.initAbilities()}}class OM extends E{constructor(t,e,i){super({name:"SealionAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new OM(t,this.logService,this.abilityService)}}class NM extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sealion",this.tier=4,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new OM(this,this.logService,this.abilityService)),super.initAbilities()}}class LM extends E{constructor(t,e){super({name:"VaquitaAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{pteranodon:a}=t,r=this.owner;let o=Math.max(Math.floor(.5*this.level*r.parent.trumpets),4*this.level);const l=r.parent.resolveTrumpetGainTarget(r);l.player.gainTrumpets(o,r,a,void 0,void 0,l.random),this.triggerTigerExecution(t)}copy(t){return new LM(t,this.logService)}}class BM extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vaquita",this.tier=4,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new LM(this,this.logService)),super.initAbilities()}}class Rb extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smallest Slug",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,a,r,l,c)}}class $M extends E{constructor(t,e,i){super({name:"SmallerSlugAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=new Rb(this.logService,this.abilityService,r.parent,null,null,0,r.minExpForLevel),l=r.parent.summonPet(o,r.savedPosition,!1,r);l.success&&this.logService.createLog({message:`${r.name} spawned Smallest Slug Level ${r.level}`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:l.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new $M(t,this.logService,this.abilityService)}}class Ib extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smaller Slug",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=2,this.attack=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new $M(this,this.logService,this.abilityService)),super.initAbilities()}}class VM extends E{constructor(t,e,i){super({name:"SlugAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=new Ib(this.logService,this.abilityService,r.parent,null,null,0,r.minExpForLevel),l=r.parent.summonPet(o,r.savedPosition,!1,r);l.success&&this.logService.createLog({message:`${r.name} spawned Smaller Slug Level ${r.level}`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:l.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new VM(t,this.logService,this.abilityService)}}class qM extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Slug",this.tier=4,this.pack="Golden",this.attack=4,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new VM(this,this.logService,this.abilityService)),super.initAbilities()}}class HM extends E{constructor(t,e){super({name:"PoisonDartFrogAbility",owner:t,triggers:["FriendAheadDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.opponent.getHighestHealthPet(void 0,r),l=o.pet;null!=l&&(r.snipePet(l,4*r.level,o.random,s),this.triggerTigerExecution(t))}copy(t){return new HM(t,this.logService)}}class GM extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Poison Dart Frog",this.tier=4,this.pack="Golden",this.attack=5,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new HM(this,this.logService)),super.initAbilities()}}class FM extends E{constructor(t,e){super({name:"SecretaryBirdAbility",owner:t,triggers:["TwoFriendsDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.abilityUses=0,this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.nearestPetsAhead(1,r);if(0===o.pets.length)return;let l=o.pets[0],c=3*this.level,d=4*this.level;l.increaseAttack(c),l.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${l.name} ${c} attack and ${d} health.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:o.random}),this.triggerTigerExecution(t)}copy(t){return new FM(t,this.logService)}}class UM extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Secretary Bird",this.tier=4,this.pack="Golden",this.attack=3,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new FM(this,this.logService)),super.initAbilities()}}class jM extends E{constructor(t,e){super({name:"RoyalFlycatcherAbility",owner:t,triggers:["EnemyFaint3"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=3*this.level,l=r.parent.opponent.getRandomPet([],null,!0,null,r),c=l.pet;null!=c&&(r.snipePet(c,o,l.random,s),this.triggerTigerExecution(t))}copy(t){return new jM(t,this.logService)}}class WM extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Royal Flycatcher",this.tier=3,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new jM(this,this.logService)),super.initAbilities()}}class zM extends E{constructor(t,e,i,s){super({name:"FalconAbility",owner:t,triggers:["ThisKilledEnemy"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:3,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=e,this.petService=i,this.abilityService=s}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;let o=3*this.level,l=this.petService.createPet({attack:o,health:o,name:i.name,exp:r.minExpForLevel,equipment:null,mana:0},r.parent),c=r.parent.summonPet(l,r.savedPosition,!1,r);c.success&&this.logService.createLog({message:`${r.name} spawned ${l.name} ${o}/${o} Level ${this.level}`,type:"ability",player:r.parent,tiger:s,randomEvent:c.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new zM(t,this.logService,this.petService,this.abilityService)}}class KM extends S{constructor(t,e,i,s,a,r,o,l,c,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Falcon",this.tier=4,this.pack="Golden",this.attack=5,this.health=5,this.initPet(l,a,r,o,c,d)}initAbilities(){this.addAbility(new zM(this,this.logService,this.petService,this.abilityService)),super.initAbilities()}}class YM extends E{constructor(t,e,i){super({name:"MantaRayAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new YM(t,this.logService,this.abilityService)}}class QM extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manta Ray",this.tier=4,this.pack="Golden",this.attack=5,this.health=7,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new YM(this,this.logService,this.abilityService)),super.initAbilities()}}class JM extends E{constructor(t,e,i){super({name:"MacaqueAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=12*this.level,l=new Pb(this.logService,this.abilityService,r.parent,o,o,0,r.minExpForLevel,r.equipment),c=r.parent.summonPetInFront(r,l);if(c.success){let d=`${r.name} spawned Orangutang ${l.attack}/${l.health}`;null!=r.equipment&&(d+=` with ${r.equipment.name}`),d+=".",this.logService.createLog({message:d,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:c.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new JM(t,this.logService,this.abilityService)}}class ZM extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Macaque",this.tier=5,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new JM(this,this.logService,this.abilityService)),super.initAbilities()}}class XM extends E{constructor(t,e){super({name:"NyalaAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{pteranodon:a}=t,r=this.owner,o=r.parent.resolveTrumpetGainTarget(r);o.player.gainTrumpets(8*this.level,r,a,void 0,void 0,o.random),this.triggerTigerExecution(t)}copy(t){return new XM(t,this.logService)}}class eR extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nyala",this.tier=5,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new XM(this,this.logService)),super.initAbilities()}}class tR extends E{constructor(t,e){super({name:"NurseSharkAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:i=>0!=this.owner.parent.trumpets,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=3*Math.min(r.parent.trumpets,6),l=r.parent.opponent.getRandomPets(2,[],!1,!0,r),c=l.pets;if(0!=c.length){r.parent.spendTrumpets(Math.min(r.parent.trumpets,6),r,a);for(let d of c)r.snipePet(d,o,l.random,s,a);this.triggerTigerExecution(t)}}copy(t){return new tR(t,this.logService)}}class iR extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nurse Shark",this.tier=5,this.pack="Golden",this.attack=5,this.health=7,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new tR(this,this.logService)),super.initAbilities()}}class nR extends E{constructor(t,e,i,s){super({name:"BelugaWhaleAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)},ignoreRepeats:!0}),this.logService=e,this.abilityService=i,this.petService=s}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;if(null==r.belugaSwallowedPet||r.alive)return;let o=this.petService.createPet({attack:null,equipment:null,exp:r.minExpForLevel,health:null,name:r.belugaSwallowedPet,mana:0},r.parent),l=r.parent.summonPet(o,r.savedPosition,!1,r);l.success&&this.logService.createLog({message:`${r.name} spawned ${o.name} Level ${r.level}`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:l.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new nR(t,this.logService,this.abilityService,this.petService)}}class sR extends S{constructor(t,e,i,s,a,r,o,l,c,d,f){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Beluga Whale",this.tier=5,this.pack="Golden",this.attack=3,this.health=8,this.initPet(l,a,r,o,c,d),this.belugaSwallowedPet=f}initAbilities(){this.addAbility(new nR(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class rR extends E{constructor(t,e,i,s){super({name:"WolfAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=e,this.abilityService=i,this.petService=s}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o={attack:3*this.level,health:2*this.level};for(let l=0;l<3;l++){let c=this.petService.createPet({attack:o.attack,equipment:null,exp:r.minExpForLevel,health:o.health,name:"Pig",mana:0},r.parent),d=r.parent.summonPet(c,r.savedPosition,!1,r);d.success&&this.logService.createLog({message:`${r.name} spawned ${c.name} ${o.attack}/${o.health}`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:d.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new rR(t,this.logService,this.abilityService,this.petService)}}class aR extends S{constructor(t,e,i,s,a,r,o,l,c,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Wolf",this.tier=5,this.pack="Golden",this.attack=4,this.health=4,this.initPet(l,a,r,o,c,d)}initAbilities(){this.addAbility(new rR(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class oR extends E{constructor(t,e){super({name:"SilverFoxAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;this.logService.createLog({message:`${r.name} gained ${this.level} Gold.`,type:"ability",player:r.parent,tiger:s,pteranodon:a}),this.triggerTigerExecution(t)}copy(t){return new oR(t,this.logService)}}class lR extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Silver Fox",this.tier=5,this.pack="Custom",this.attack=3,this.health=6,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new oR(this,this.logService)),super.initAbilities()}}class cR extends E{constructor(t,e){super({name:"FireAntAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.getHighestTierPets(this.level,null,r),l=o.pets;if(0!=l.length){for(let c of l)c.increaseAttack(r.attack),this.logService.createLog({message:`${r.name} gave ${c.name} ${r.attack} attack.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random,pteranodon:a});this.triggerTigerExecution(t)}}copy(t){return new cR(t,this.logService)}}class uR extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fire Ant",this.tier=5,this.pack="Golden",this.attack=8,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new cR(this,this.logService)),super.initAbilities()}}class hR extends E{constructor(t,e,i){super({name:"CockatooAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new hR(t,this.logService,this.abilityService)}}class dR extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockatoo",this.tier=4,this.pack="Golden",this.attack=4,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new hR(this,this.logService,this.abilityService)),super.initAbilities()}}class gR extends E{constructor(t,e,i){super({name:"BlueRingedOctopusAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new gR(t,this.logService,this.abilityService)}}class fR extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blue Ringed Octopus",this.tier=5,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new gR(this,this.logService,this.abilityService)),super.initAbilities()}}class pR extends E{constructor(t,e){super({name:"CraneAbility",owner:t,triggers:["FriendAheadHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.nearestPetsAhead(1,r);if(0==o.pets.length)return;let l=o.pets[0];l.increaseAttack(5),this.logService.createLog({message:`${r.name} gave ${l.name} 5 attack.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:o.random});let c=r.parent.nearestPetsAhead(1,r);if(0==c.pets.length)return;let d=c.pets[0];d.givePetEquipment(new Gr),this.logService.createLog({message:`${r.name} gave ${d.name} Melon.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:c.random}),this.triggerTigerExecution(t)}reset(){super.reset(),this.maxUses=this.level}copy(t){return new pR(t,this.logService)}}class mR extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crane",this.tier=5,this.pack="Golden",this.attack=6,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new pR(this,this.logService)),super.initAbilities()}}class yR extends E{constructor(t,e){super({name:"EmuAbility",owner:t,triggers:["ClearFront"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.nearestPetsAhead(1,r);if(0==o.pets.length)return;let l=o.pets[0],c=4*this.level;l.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${l.name} ${c} health.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:o.random});let d=r.parent.nearestPetsAhead(1,r);if(0===d.pets.length)return;let f=d.pets[0];r.parent.pushPetToFront(f),this.logService.createLog({message:`${r.name} pushed ${f.name} to the front.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:d.random}),this.triggerTigerExecution(t)}copy(t){return new yR(t,this.logService)}}class vR extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Emu",this.tier=5,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new yR(this,this.logService)),super.initAbilities()}}class bR extends E{constructor(t,e){super({name:"WildebeestAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,condition:i=>this.owner.parent.trumpets>=2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.getThis(r),l=o.pet;null!=l&&(l.givePetEquipment(new qo),this.logService.createLog({message:`${r.name} gave itself a Coconut.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:o.random}),r.parent.spendTrumpets(2,r),this.triggerTigerExecution(t))}reset(){super.reset(),this.maxUses=this.level}copy(t){return new bR(t,this.logService)}}class SR extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wildebeest",this.tier=6,this.pack="Golden",this.attack=8,this.health=6,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new bR(this,this.logService)),super.initAbilities()}}class _R extends E{constructor(t,e){super({name:"HighlandCowAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{pteranodon:a}=t,r=this.owner;let o=Math.floor(r.health/3*this.level);const l=r.parent.resolveTrumpetGainTarget(r);l.player.gainTrumpets(o,r,a,void 0,void 0,l.random),this.triggerTigerExecution(t)}copy(t){return new _R(t,this.logService)}}class wR extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Highland Cow",this.tier=6,this.pack="Golden",this.attack=4,this.health=12,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new _R(this,this.logService)),super.initAbilities()}}class AR extends E{constructor(t,e,i){super({name:"CatfishAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new AR(t,this.logService,this.abilityService)}}class ER extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Catfish",this.tier=6,this.pack="Golden",this.attack=4,this.health=6,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new AR(this,this.logService,this.abilityService)),super.initAbilities()}}class CR extends E{constructor(t,e,i,s){super({name:"PteranodonAbility",owner:t,triggers:["FriendDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,condition:a=>{const{triggerPet:r}=a;return null!=r},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=e,this.abilityService=i,this.petService=s}executeAbility(t){const{triggerPet:i,tiger:s,pteranodon:a}=t,r=this.owner;let o=this.petService.createPet({attack:1,health:1,equipment:null,exp:i.exp,name:i.name,mana:0},r.parent),l=r.parent.summonPetBehind(r,o);l.success&&this.logService.createLog({message:`${r.name} summoned a 1/1 ${i.name} behind it.`,type:"ability",player:r.parent,randomEvent:l.randomEvent,tiger:s,pteranodon:a}),this.triggerTigerExecution(t)}reset(){super.reset(),this.maxUses=this.level}copy(t){return new CR(t,this.logService,this.abilityService,this.petService)}}class PR extends S{constructor(t,e,i,s,a,r,o,l,c,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Pteranodon",this.tier=6,this.pack="Golden",this.attack=3,this.health=5,this.initPet(l,a,r,o,c,d)}initAbilities(){this.addAbility(new CR(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class TR extends E{constructor(t,e){super({name:"WarthogAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=this.level,l=Math.floor(r.attack/3);for(let c=0;c<l;c++){let d=r.parent.getRandomPet([],!0,!1,!0,r);if(null==d.pet)break;d.pet.increaseAttack(o),d.pet.increaseHealth(o),this.logService.createLog({message:`${r.name} gave ${d.pet.name} ${o} attack and ${o} health.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:d.random})}this.triggerTigerExecution(t)}copy(t){return new TR(t,this.logService)}}class xR extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Warthog",this.tier=6,this.pack="Golden",this.attack=9,this.health=6,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new TR(this,this.logService)),super.initAbilities()}}class kR extends E{constructor(t,e){super({name:"CobraAbility",owner:t,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.opponent.getRandomPet([],!1,!0,!1,r);if(null==o.pet)return;let l=Math.floor(.2*r.attack*r.level);r.snipePet(o.pet,l,o.random,s),this.triggerTigerExecution(t)}copy(t){return new kR(t,this.logService)}}class DR extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cobra",this.tier=6,this.pack="Golden",this.attack=12,this.health=6,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new kR(this,this.logService)),super.initAbilities()}}class MR extends E{constructor(t,e){super({name:"GrizzlyBearAbility",owner:t,triggers:["FriendAttacked5"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.opponent.getRandomPets(2,[],!0,!1,r),l=o.pets,c=6*this.level;for(let d of l)r.snipePet(d,c,o.random,s);this.triggerTigerExecution(t)}copy(t){return new MR(t,this.logService)}}class RR extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Grizzly Bear",this.tier=6,this.pack="Golden",this.attack=6,this.health=8,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new MR(this,this.logService)),super.initAbilities()}}class IR extends E{constructor(t,e){super({name:"GermanShepherdAbility",owner:t,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;let o=Math.floor(r.attack*r.level*.25),l=r.parent.getSpecificPet(r,i),c=l.pet;!c||(c.increaseAttack(o),this.logService.createLog({message:`${r.name} gave ${c.name} ${o} attack.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random}),this.triggerTigerExecution(t))}copy(t){return new IR(t,this.logService)}}class OR extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="German Shepherd",this.tier=6,this.pack="Golden",this.attack=10,this.health=6,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new IR(this,this.logService)),super.initAbilities()}}class NR extends E{constructor(t,e,i){super({name:"BirdOfParadiseAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new NR(t,this.logService,this.abilityService)}}class LR extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bird of Paradise",this.tier=6,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new NR(this,this.logService,this.abilityService)),super.initAbilities()}}class BR extends E{constructor(t,e,i){super({name:"OysterAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new BR(t,this.logService,this.abilityService)}}class $R extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Oyster",this.tier=6,this.pack="Golden",this.attack=2,this.health=10,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new BR(this,this.logService,this.abilityService)),super.initAbilities()}}class VR extends E{constructor(t,e){super({name:"RockhopperPenguinAbility",owner:t,triggers:["ClearFront"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:1,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.getThis(r),l=o.pet;if(null==l)return;this.logService.createLog({message:`${r.name} jumps to the front!`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:o.random}),r.parent.pushPetToFront(l,!0);const c=12*this.level,d=r.parent.resolveTrumpetGainTarget(r);d.player.gainTrumpets(c,r,a,void 0,void 0,d.random),this.triggerTigerExecution(t)}copy(t){return new VR(t,this.logService)}}class qR extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rockhopper Penguin",this.tier=6,this.pack="Golden",this.attack=2,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new VR(this,this.logService)),super.initAbilities()}}class HR extends E{constructor(t,e,i){super({name:"LoyalChinchillaAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new HR(t,this.logService,this.abilityService)}}class GR extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Loyal Chinchilla",this.tier=1,this.pack="Puppy",this.hidden=!0,this.health=2,this.attack=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new HR(this,this.logService,this.abilityService)),super.initAbilities()}}class FR extends E{constructor(t,e,i){super({name:"MarmosetAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new FR(t,this.logService,this.abilityService)}}class UR extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Marmoset",this.tier=1,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new FR(this,this.logService,this.abilityService)),super.initAbilities()}}class jR extends E{constructor(t,e,i){super({name:"JerboaAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new jR(t,this.logService,this.abilityService)}}class WR extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jerboa",this.tier=4,this.pack="Custom",this.attack=1,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new jR(this,this.logService,this.abilityService)),super.initAbilities()}}class zR extends E{constructor(t,e){super({name:"FrilledDragonAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=0;for(let l of r.parent.petArray)l.isSellPet()&&o++;o*=this.level,r.increaseAttack(o),r.increaseHealth(o),this.logService.createLog({message:`${r.name} gained ${o} attack and ${o} health.`,type:"ability",player:r.parent,tiger:s,pteranodon:a}),this.triggerTigerExecution(t)}copy(t){return new zR(t,this.logService)}}class KR extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frilled Dragon",this.tier=1,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new zR(this,this.logService)),super.initAbilities()}}class YR extends E{constructor(t,e){super({name:"WombatAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.opponent,l=o.petArray.filter(f=>!f.isFaintPet()),c=o.getFurthestUpPet(r,l),d=c.pet;null!=d&&(this.logService.createLog({message:`${r.name} has copied ${d.name}'s faint ability as level ${this.level}.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:c.random}),r.copyAbilities(d,"Pet"),this.triggerTigerExecution(t))}copy(t){return new YR(t,this.logService)}}class QR extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wombat",this.tier=2,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new YR(this,this.logService)),super.initAbilities()}}class JR extends E{constructor(t,e){super({name:"FrigatebirdAbility",owner:t,triggers:["FriendGainsAilment"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i}=t,r=this.owner;let o=i.equipment;i.givePetEquipment(new wx),this.logService.createLog({message:`${r.name} removed ${o.name} from ${i.name} and gave ${i.name} Rice.`,type:"ability",player:r.parent}),this.triggerTigerExecution(t)}reset(){this.maxUses=this.level,super.reset()}copy(t){return new JR(t,this.logService)}}class ZR extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frigatebird",this.tier=2,this.pack="Custom",this.attack=2,this.health=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new JR(this,this.logService)),super.initAbilities()}resetPet(){super.resetPet()}}class XR extends E{constructor(t,e){super({name:"AardvarkAbility",owner:t,triggers:["EnemySummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=2*this.level,c=r.parent.getThis(r).pet;null!=c&&(c.increaseAttack(o),c.increaseHealth(o),this.logService.createLog({message:`${r.name} gave ${c.name} ${o} attack and ${o} health.`,type:"ability",player:r.parent,tiger:s}),this.triggerTigerExecution(t))}copy(t){return new XR(t,this.logService)}}class eI extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Aardvark",this.tier=3,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new XR(this,this.logService)),super.initAbilities()}}class tI extends E{constructor(t,e,i){super({name:"BearAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner,o=this.level,l=r.savedPosition,c=[];for(const d of r.parent.petArray)if(d.alive){const f=Math.abs(d.position-l);f>0&&f<=o&&c.push(d)}for(const d of r.parent.opponent.petArray)d.alive&&l+d.position+1<=o&&c.push(d);for(let d of c)d.givePetEquipment(new VG(this.logService,this.abilityService)),this.logService.createLog({message:`${r.name} gave ${d.name} Honey.`,type:"ability",player:r.parent,tiger:s,pteranodon:a});this.triggerTigerExecution(t)}copy(t){return new tI(t,this.logService,this.abilityService)}}class iI extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bear",this.tier=3,this.pack="Golden",this.attack=3,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new tI(this,this.logService,this.abilityService)),super.initAbilities()}}class nI extends E{constructor(t,e,i){super({name:"EmperorTamarinAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new nI(t,this.logService,this.abilityService)}}class sI extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Emperor Tamarin",this.tier=3,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new nI(this,this.logService,this.abilityService)),super.initAbilities()}}class rI extends E{constructor(t,e){super({name:"PorcupineAbility",owner:t,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i}=t,r=this.owner;!i||!i.alive||(r.snipePet(i,3*r.level),this.triggerTigerExecution(t))}copy(t){return new rI(t,this.logService)}}class aI extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Porcupine",this.tier=3,this.pack="Custom",this.attack=2,this.health=6,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new rI(this,this.logService)),super.initAbilities()}}class oI extends E{constructor(t,e,i){super({name:"WaspAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new oI(t,this.logService,this.abilityService)}}class lI extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wasp",this.tier=3,this.pack="Custom",this.attack=2,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new oI(this,this.logService,this.abilityService)),super.initAbilities()}}class cI extends E{constructor(t,e,i){super({name:"DragonflyAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new cI(t,this.logService,this.abilityService)}}class uI extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dragonfly",this.tier=4,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new cI(this,this.logService,this.abilityService)),super.initAbilities()}}class hI extends E{constructor(t,e){super({name:"LynxAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{gameApi:e,tiger:s}=t,r=this.owner;let o=e.player==r.parent?e.opponet:e.player,l=0;for(let d of r.parent.petArray)l+=d.level;let c=o.getRandomPets(this.level,null,null,!0,r);for(let d of c.pets)null!=d&&r.snipePet(d,l,c.random,s);this.triggerTigerExecution(t)}copy(t){return new hI(t,this.logService)}}class dI extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lynx",this.tier=4,this.pack="Custom",this.attack=5,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new hI(this,this.logService)),super.initAbilities()}}class gI extends E{constructor(t,e){super({name:"SeagullAbility",owner:t,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;!i||!r.equipment||(i.givePetEquipment(cc.getInjector().get(Di).getInstanceOfAllEquipment().get(r.equipment.name)),this.logService.createLog({message:`${r.name} gave ${i.name} a ${r.equipment.name}`,type:"ability",player:r.parent,tiger:s}),this.triggerTigerExecution(t))}copy(t){return new gI(t,this.logService)}}class fI extends S{constructor(t,e,i,s,a,r,o,l,c,d,f){super(t,e,a),this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s,this.name="Seagull",this.tier=4,this.pack="Custom",this.attack=4,this.health=3,this.initPet(c,r,o,l,d,f)}initAbilities(){this.addAbility(new gI(this,this.logService)),super.initAbilities()}}class pI extends E{constructor(t,e){super({name:"AlpacaAbility",owner:t,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,condition:i=>{const{triggerPet:s}=i;return s&&!(s instanceof Ob)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}reset(){this.maxUses=this.level,super.reset()}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;let o=r.parent.getSpecificPet(r,i),l=o.pet;null!=l&&(l.increaseExp(3),this.logService.createLog({message:`${r.name} gave ${l.name} 3 exp.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),this.triggerTigerExecution(t))}copy(t){return new pI(t,this.logService)}}class Ob extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Alpaca",this.tier=6,this.pack="Star",this.attack=3,this.health=7,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new pI(this,this.logService)),super.initAbilities()}}class mI extends E{constructor(t,e){super({name:"HyenaAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{gameApi:e,tiger:s,pteranodon:a}=t;switch(this.level){case 1:this.level1Ability(e,s,a);break;case 2:this.level2Ability(e,s,a);break;case 3:this.level3Ability(e,s,a)}this.triggerTigerExecution(t)}level1Ability(t,e,i){const s=this.owner;let a=s.parent.getAll(!0,s);for(let r of a.pets){let o=r.health;r.health=r.attack,r.attack=o}this.logService.createLog({message:`${s.name} swapped all pets attack and health.`,type:"ability",player:s.parent,tiger:e,pteranodon:i})}level2Ability(t,e,i){const s=this.owner;this.shufflePets(t.player),this.shufflePets(t.opponet),this.logService.createLog({message:`${s.name} shuffled positions of all pets.`,type:"ability",player:s.parent,tiger:e,pteranodon:i,randomEvent:!0})}level3Ability(t,e,i){this.level1Ability(t,e,i),this.level2Ability(t,e,i)}shufflePets(t){let e=t.petArray;IG(e);for(let i=0;i<e.length;i++)t[`pet${i}`]=e[i]}copy(t){return new mI(t,this.logService)}}class yI extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hyena",this.tier=5,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new mI(this,this.logService)),super.initAbilities()}}class vI extends E{constructor(t,e,i){super({name:"MooseAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new vI(t,this.logService,this.abilityService)}}class bI extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Moose",this.tier=5,this.pack="Custom",this.attack=5,this.health=6,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new vI(this,this.logService,this.abilityService)),super.initAbilities()}}class SI extends E{constructor(t,e,i){super({name:"LionessAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new SI(t,this.logService,this.abilityService)}}class _I extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lioness",this.tier=6,this.pack="Custom",this.attack=4,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new SI(this,this.logService,this.abilityService)),super.initAbilities()}}class wI extends E{constructor(t,e,i,s){super({name:"TapirAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=e,this.abilityService=i,this.petService=s}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.petArray.filter(y=>"Tapir"==y.name),l=r.parent.getRandomPet(o,!0,!1,!1,r);if(null==l.pet)return;let c=(0,Gt.clone)(l.pet);c.exp=r.minExpForLevel;let d=this.petService.createDefaultVersionOfPet(c);r.parent.summonPet(d,r.savedPosition,!1,r).success&&this.logService.createLog({message:`${r.name} spawned a ${d.name} level ${d.level}.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:!0}),this.triggerTigerExecution(t)}copy(t){return new wI(t,this.logService,this.abilityService,this.petService)}}class AI extends S{constructor(t,e,i,s,a,r,o,l,c,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Tapir",this.tier=6,this.pack="Custom",this.attack=4,this.health=3,this.initPet(l,a,r,o,c,d)}initAbilities(){this.addAbility(new wI(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class EI extends E{constructor(t,e){super({name:"WalrusAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.getRandomPets(this.level,null,!0,!1,r);for(let l of o.pets)null!=l&&(l.givePetEquipment(new Rf),this.logService.createLog({message:`${r.name} gave ${l.name} a Peanut Butter.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:o.random}));this.triggerTigerExecution(t)}copy(t){return new EI(t,this.logService)}}class CI extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Walrus",this.tier=6,this.pack="Custom",this.attack=7,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new EI(this,this.logService)),super.initAbilities()}}class PI extends E{constructor(t,e){super({name:"WhiteTigerAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.nearestPetsBehind(this.level,r);for(let l of o.pets)this.logService.createLog({message:`${r.name} gave ${l.name} +3 experience.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:o.random}),l.increaseExp(3);this.triggerTigerExecution(t)}copy(t){return new PI(t,this.logService)}}class TI extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="White Tiger",this.tier=6,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new PI(this,this.logService)),super.initAbilities()}}class xI extends E{constructor(t,e){super({name:"AmargasaurusAbility",owner:t,triggers:["FriendHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.healthRestoredThisTurn=0,this.logService=e}reset(){this.healthRestoredThisTurn=0,super.reset()}executeAbility(t){const{triggerPet:i,tiger:s,pteranodon:a}=t,r=this.owner;let o;if(!i||(i.transformed?(o=i.transformedInto,o.originalHealth=i.originalHealth):o=i,!o||!o.alive)||o===r)return;const l=15*this.level,c=o.originalHealth-o.health;if(c<=0||this.healthRestoredThisTurn>=l)return;const f=Math.min(c,l-this.healthRestoredThisTurn);if(f>0){let b=r.parent.getSpecificPet(r,o).pet;if(null==b)return;this.logService.createLog({message:`${r.name} restored ${f} health to ${b.name}.`,type:"ability",player:r.parent,tiger:s,pteranodon:a}),b.increaseHealth(f),this.healthRestoredThisTurn+=f}this.triggerTigerExecution(t)}copy(t){return new xI(t,this.logService)}}class kI extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Amargasaurus",this.tier=5,this.pack="Star",this.attack=5,this.health=7,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new xI(this,this.logService)),super.initAbilities()}}class DI extends E{constructor(t,e,i){super({name:"OpossumAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new DI(t,this.logService,this.abilityService)}}class MI extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Opossum",this.tier=1,this.pack="Golden",this.attack=2,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new DI(this,this.logService,this.abilityService)),super.initAbilities()}}class RI extends E{constructor(t,e){super({name:"KiwiAbility",owner:t,triggers:["ThisHurt","ThisSold"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.petArray.filter(f=>{var y;return"Strawberry"!=(null===(y=f.equipment)||void 0===y?void 0:y.name)||f==r}),l=r.parent.getLastPet(o,r),c=l.pet;if(null==c)return;let d=this.level;c.increaseAttack(d),this.logService.createLog({message:`${r.name} gave ${c.name} +${d} attack`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random}),this.triggerTigerExecution(t)}copy(t){return new RI(t,this.logService)}}class II extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kiwi",this.tier=1,this.pack="Star",this.attack=2,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new RI(this,this.logService)),super.initAbilities()}}class OI extends E{constructor(t,e,i){super({name:"PheasantAbility",owner:t,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}reset(){this.maxUses=this.level,super.reset()}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;let l=r.parent.getSpecificPet(r,i).pet;null!=l&&(this.logService.createLog({message:`${r.name} gave ${l.name} a Strawberry.`,type:"ability",player:r.parent,tiger:s}),l.givePetEquipment(new Ax(this.logService)),this.triggerTigerExecution(t))}copy(t){return new OI(t,this.logService,this.abilityService)}}class Xie extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pheasant",this.tier=1,this.pack="Star",this.attack=2,this.health=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new OI(this,this.logService,this.abilityService)),super.initAbilities()}}class NI extends E{constructor(t,e){super({name:"FireflyAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.getPetsWithinXSpaces(r,this.level),l=o.pets;if(0!=l.length){for(const c of l)r.snipePet(c,1,o.random,s,a);this.triggerTigerExecution(t)}}copy(t){return new NI(t,this.logService)}}class LI extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Firefly",this.tier=1,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new NI(this,this.logService)),super.initAbilities()}}class BI extends E{constructor(t,e){super({name:"BassAbility",owner:t,triggers:["BeforeThisDies","ThisSold"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner,o=r.parent.petArray.filter(f=>f==r&&!f.isSellPet()&&f.level<2);let l=r.parent.getRandomPet(o,!0,null,null,r);const c=l.pet;if(null==c)return;const d=this.level;this.logService.createLog({message:`${r.name} gave ${c.name} +${d} experience.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:l.random}),c.increaseExp(d),this.triggerTigerExecution(t)}copy(t){return new BI(t,this.logService)}}class $I extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bass",this.tier=2,this.pack="Star",this.attack=3,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new BI(this,this.logService)),super.initAbilities()}}class VI extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pigeon",this.tier=1,this.pack="Turtle",this.attack=3,this.health=1,this.initPet(o,s,a,r,l,c)}}class qI extends E{constructor(t,e){super({name:"HareAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}reset(){this.maxUses=this.level,super.reset()}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.opponent.petArray,l=[];for(let b of o)b.equipment&&cc.getInjector().get(Di).isUsefulPerk(b.equipment.name)&&l.push(b);if(0==l.length)return;let c=l[Math.floor(Math.random()*l.length)],d=c.equipment,y=r.parent.getThis(r).pet;null!=y&&(r.givePetEquipment(d),this.logService.createLog({message:`${r.name} copied ${d.name} to ${y.name} from ${c.name}.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.length>0}),this.triggerTigerExecution(t))}copy(t){return new qI(t,this.logService)}}class HI extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hare",this.tier=3,this.pack="Puppy",this.health=4,this.attack=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new qI(this,this.logService)),super.initAbilities()}}class GI extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Baku",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(o,s,a,r,l,c)}}class FI extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="???",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=2,this.initPet(o,s,a,r,l,c)}}class UI extends E{constructor(t,e){super({name:"AxehandleHoundAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:1,condition:i=>{let l=this.owner.parent.opponent.petArray,c=new Set,d=!1;for(let f of l){if(c.has(f.name)){d=!0;break}c.add(f.name)}return 0!=d},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let l=r.parent.opponent.getAll(!1,r).pets;if(0!=l.length){for(let c of l)r.snipePet(c,2*this.level,!0,s);this.triggerTigerExecution(t)}}copy(t){return new UI(t,this.logService)}}class jI extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Axehandle Hound",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new UI(this,this.logService)),super.initAbilities()}}class WI extends E{constructor(t,e){super({name:"BarghestAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let c=[...r.parent.opponent.getPetsWithEquipment("perk"),...r.parent.opponent.getPetsWithEquipment("Spooked")],f=r.parent.opponent.getLastPets(this.level,c,r).pets;if(0!=f.length){for(let y of f)this.logService.createLog({message:`${r.name} gave ${y.name} Spooked`,type:"ability",player:r.parent,tiger:s}),y.givePetEquipment(new bh);this.triggerTigerExecution(t)}}copy(t){return new WI(t,this.logService)}}class zI extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Barghest",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new WI(this,this.logService)),super.initAbilities()}}class KI extends E{constructor(t,e){super({name:"TsuchinokoAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let l=r.parent.getThis(r).pet;if(null==l)return;r.parent.pushPetToFront(l,!0),this.logService.createLog({message:`${r.name} pushed ${l.name} to the front and gained ${this.level} experience.`,type:"ability",player:r.parent,tiger:s});let d=r.parent.getThis(r).pet;null!=d&&(d.increaseExp(this.level),this.logService.createLog({message:`${r.name} gave ${d.name} +${this.level} experience.`,type:"ability",player:r.parent,tiger:s}),this.triggerTigerExecution(t))}copy(t){return new KI(t,this.logService)}}class YI extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tsuchinoko",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new KI(this,this.logService)),super.initAbilities()}}class QI extends E{constructor(t,e){super({name:"MurmelAbility",owner:t,triggers:["FriendGainedExp"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=this.level,c=r.parent.getThis(r).pet;null!=c&&(this.logService.createLog({message:`${r.name} gave ${c.name} ${o} attack.`,type:"ability",player:r.parent,tiger:s}),c.increaseAttack(o),this.triggerTigerExecution(t))}copy(t){return new QI(t,this.logService)}}class JI extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Murmel",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new QI(this,this.logService)),super.initAbilities()}}class ZI extends E{constructor(t,e){super({name:"AlchemedesAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.nearestPetsAhead(1,r);if(0===o.pets.length)return;let l=o.pets[0];this.logService.createLog({message:`${r.name} gave ${l.name} ${this.level} mana.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),l.increaseMana(this.level),this.triggerTigerExecution(t)}copy(t){return new ZI(t,this.logService)}}class XI extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Alchemedes",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new ZI(this,this.logService)),super.initAbilities()}}class eO extends E{constructor(t,e){super({name:"PengobbleAbility",owner:t,triggers:["ThisGainedMana"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner,o=2*this.level;let l=r.parent.getThis(r),c=l.pet;null!=c&&(this.logService.createLog({message:`${r.name} gave ${c.name} an extra ${o} bonus mana.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random}),r.mana+=o,this.triggerTigerExecution(t))}copy(t){return new eO(t,this.logService)}}class tO extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pengobble",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new eO(this,this.logService)),super.initAbilities()}}class iO extends E{constructor(t,e){super({name:"WarfAbility",owner:t,triggers:["ThisGainedMana"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.opponent.getRandomPet([],!1,!0,!1,r);null!=o.pet&&(r.snipePet(o.pet,this.level,o.random,s),this.triggerTigerExecution(t))}copy(t){return new iO(t,this.logService)}}class nO extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Warf",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new iO(this,this.logService)),super.initAbilities()}}class sO extends E{constructor(t,e){super({name:"BunyipAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{gameApi:e,tiger:s}=t,r=this.owner;let l;l=r.parent==e.player?e.playerRollAmount:e.opponentRollAmount,l=Math.min(2,l)*this.level;let d=r.parent.getThis(r).pet;null!=d&&(d.increaseHealth(l),this.logService.createLog({message:`${r.name} gave ${d.name} ${l} health.`,type:"ability",player:r.parent,tiger:s}),this.triggerTigerExecution(t))}copy(t){return new sO(t,this.logService)}}class rO extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bunyip",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new sO(this,this.logService)),super.initAbilities()}}class Nb extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="CrackedEgg",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=4,this.health=2,this.initPet(o,s,a,r,l,c)}}class aO extends E{constructor(t,e,i){super({name:"SneakyEggAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s}=t,r=this.owner;let o={attack:4*this.level,health:2*this.level};r.health=0;let l=new Nb(this.logService,this.abilityService,r.parent,o.health,o.attack,0),c=r.parent.summonPet(l,r.savedPosition,!1,r);c.success&&this.logService.createLog({message:`${r.name} spawned a ${o.attack}/${o.health} Cracked Egg`,type:"ability",player:r.parent,tiger:s,randomEvent:c.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new aO(t,this.logService,this.abilityService)}}class oO extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sneaky Egg",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new aO(this,this.logService,this.abilityService)),super.initAbilities()}}class lO extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cuddle Toad",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,s,a,r,l,c)}}class cO extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ghost Kitten",this.tier=2,this.pack="Unicorn",this.attack=4,this.health=3,this.initPet(o,s,a,r,l,c)}}class uO extends E{constructor(t,e){super({name:"FrostWolfAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.opponent.getPetsWithEquipment("Cold"),l=r.parent.opponent.getFurthestUpPet(r,o),c=l.pet;if(null==c)return;const d=new mb;d.multiplier+=this.level-1;let f=".";2===this.level?f=" twice for double effect.":3===this.level&&(f=" thrice for triple effect."),this.logService.createLog({message:`${r.name} made ${c.name} Cold ${f}`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:l.random}),c.givePetEquipment(d),this.triggerTigerExecution(t)}copy(t){return new uO(t,this.logService)}}class hO extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frost Wolf",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new uO(this,this.logService)),super.initAbilities()}}class dO extends E{constructor(t,e){super({name:"MothmanAbility",owner:t,triggers:["AnyoneGainedAilment"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:5,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner,o=this.level;let c=r.parent.getThis(r).pet;null!=c&&(this.logService.createLog({message:`${r.name} gave ${c.name} +${o} attack and +${o} health.`,type:"ability",player:r.parent,tiger:s}),c.increaseAttack(o),c.increaseHealth(o),this.triggerTigerExecution(t))}copy(t){return new dO(t,this.logService)}}class gO extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mothman",this.tier=2,this.pack="Unicorn",this.attack=3,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new dO(this,this.logService)),super.initAbilities()}}class fO extends E{constructor(t,e){super({name:"DropBearAbility",owner:t,triggers:["ClearFront"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;this.logService.createLog({message:`${r.name} pushed itself to the front.`,type:"ability",player:r.parent,tiger:s,pteranodon:a}),r.parent.pushPetToFront(r,!0);let o=3*this.level,l=r.parent.opponent.getLastPet();null!=l.pet&&(r.snipePet(l.pet,o,l.random,s),this.triggerTigerExecution(t))}copy(t){return new fO(t,this.logService)}}class pO extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Drop Bear",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new fO(this,this.logService)),super.initAbilities()}}class mO extends E{constructor(t,e){super({name:"JackalopeAbility",owner:t,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i}=t,r=this.owner;let l=r.parent.getSpecificPet(r,i).pet;if(null==l)return;let c=this.level;r.jumped&&(c*=2),l.increaseAttack(c),this.logService.createLog({message:`${r.name} gave ${l.name} +${c} attack.`,type:"ability",player:this.owner.parent}),this.triggerTigerExecution(t)}copy(t){return new mO(t,this.logService)}}class yO extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jackalope",this.tier=2,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new mO(this,this.logService)),super.initAbilities()}}class vO extends E{constructor(t,e){super({name:"LuckyCatAbility",owner:t,triggers:["ThisLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=2;3==r.level&&(o=4);let c=r.parent.getThis(r).pet;null!=c&&(this.logService.createLog({message:`${r.name} gave ${c.name} ${o} attack and ${o} health.`,type:"ability",player:r.parent,tiger:s}),c.increaseAttack(o),c.increaseHealth(o),this.triggerTigerExecution(t))}copy(t){return new vO(t,this.logService)}}class bO extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lucky Cat",this.tier=3,this.pack="Unicorn",this.attack=1,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new vO(this,this.logService)),super.initAbilities()}}class SO extends E{constructor(t,e){super({name:"OgopogoAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner,o=r.parent.getFurthestUpPets(this.level,[r],r),l=o.pets;if(0!==l.length){for(const c of l)this.logService.createLog({message:`${r.name} gave ${c.name} +1 experience.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),c.increaseExp(1);this.triggerTigerExecution(t)}}copy(t){return new SO(t,this.logService)}}class _O extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ogopogo",this.tier=2,this.pack="Unicorn",this.attack=3,this.health=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new SO(this,this.logService)),super.initAbilities()}}class wO extends E{constructor(t,e){super({name:"ThunderbirdAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.nearestPetsAhead(2,r);if(o.pets.length<2)return;let c=o.pets[1];if(null==c)return;let d=3*this.level;this.logService.createLog({message:`${r.name} gave ${c.name} ${d} mana.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),c.increaseMana(d),this.triggerTigerExecution(t)}copy(t){return new wO(t,this.logService)}}class AO extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Thunderbird",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new wO(this,this.logService)),super.initAbilities()}}class EO extends E{constructor(t,e){super({name:"GargoyleAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.mana*this.level;o+=2*this.level;let l=r.parent.nearestPetsBehind(1,r);if(0===l.pets.length)return;let c=l.pets[0];this.logService.createLog({message:`${r.name} spent ${r.mana} mana and gave ${o} health to ${c.name}.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:l.random}),c.increaseHealth(o),r.mana=0,this.triggerTigerExecution(t)}copy(t){return new EO(t,this.logService)}}class CO extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gargoyle",this.tier=2,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new EO(this,this.logService)),super.initAbilities()}}class PO extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bigfoot",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,s,a,r,l,c)}}class TO extends E{constructor(t,e){super({name:"SkeletonDogAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.getRandomPets(this.level,[r],!0,!1,r);for(let l of o.pets)null!=l&&(this.logService.createLog({message:`${r.name} gave 1 attack and 1 health to ${l.name}.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),l.increaseAttack(1),l.increaseHealth(1));this.triggerTigerExecution(t)}copy(t){return new TO(t,this.logService)}}class xO extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Skeleton Dog",this.tier=3,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new TO(this,this.logService)),super.initAbilities()}}class kO extends E{constructor(t,e){super({name:"MandrakeAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.opponent.getPetsWithEquipment("Dazed"),c=r.parent.opponent.getTierXOrLowerPet(2*this.level,o,r).pet;null!=c&&(this.logService.createLog({message:`${r.name} made ${c.name} Dazed.`,type:"ability",player:r.parent,tiger:s,randomEvent:!0}),c.givePetEquipment(new Mf),this.triggerTigerExecution(t))}copy(t){return new kO(t,this.logService)}}class DO extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mandrake",this.tier=3,this.pack="Unicorn",this.attack=4,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new kO(this,this.logService)),super.initAbilities()}}class MO extends E{constructor(t,e){super({name:"FurBearingTroutAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=[],l=r;for(;o.length<this.level;){let c=l.petBehind();if(null==c)break;c.equipment instanceof Cx||o.push(c),l=c}if(0!==o.length){for(let c of o)this.logService.createLog({message:`${r.name} gave ${c.name} a Rambutan.`,type:"ability",player:r.parent,tiger:s}),c.givePetEquipment(new Cx(this.logService));this.triggerTigerExecution(t)}}copy(t){return new MO(t,this.logService)}}class RO extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fur-Bearing Trout",this.tier=3,this.pack="Unicorn",this.attack=3,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new MO(this,this.logService)),super.initAbilities()}}class IO extends E{constructor(t,e){super({name:"ManaHoundAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{gameApi:e,tiger:s}=t,r=this.owner;let l;l=r.parent==e.player?e.playerRollAmount:e.opponentRollAmount,l=Math.min(l,3);let c=r.parent.nearestPetsAhead(1,r);if(0===c.pets.length)return;let d=c.pets[0],f=l*this.level*2;this.logService.createLog({message:`${r.name} gave ${d.name} ${f} mana.`,type:"ability",player:r.parent,tiger:s,randomEvent:c.random}),d.increaseMana(f),this.triggerTigerExecution(t)}copy(t){return new IO(t,this.logService)}}class OO extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mana Hound",this.tier=3,this.pack="Unicorn",this.attack=4,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new IO(this,this.logService)),super.initAbilities()}}class NO extends E{constructor(t,e){super({name:"CalygreyhoundAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;if(0==r.mana)return;let o=r.parent.opponent.getHighestHealthPets(2,void 0,r),l=this.level*r.mana;for(let c of o.pets)c.health=Math.max(1,c.health-l),this.logService.createLog({message:`${r.name} reduced ${c.name}'s health by ${l} (${c.health}).`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random});r.mana=0,this.triggerTigerExecution(t)}copy(t){return new NO(t,this.logService)}}class LO extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Calygreyhound",this.tier=3,this.pack="Unicorn",this.attack=4,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new NO(this,this.logService)),super.initAbilities()}}class BO extends E{constructor(t,e){super({name:"BrainCrampAbility",owner:t,triggers:["ClearFront"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=2*this.level,c=r.parent.getThis(r).pet;if(null==c)return;this.logService.createLog({message:`${r.name} pushed ${c.name} to the front.`,type:"ability",player:r.parent,tiger:s,pteranodon:a}),r.parent.pushPetToFront(c,!0);let f=r.parent.getThis(r).pet;if(null==f)return;this.logService.createLog({message:`${r.name} gave ${f.name} Melon.`,type:"ability",player:r.parent,tiger:s,pteranodon:a}),f.givePetEquipment(new Gr);let b=r.parent.getThis(r).pet;null!=b&&(this.logService.createLog({message:`${r.name} gave ${b.name} ${o} attack.`,type:"ability",player:r.parent,tiger:s,pteranodon:a}),b.increaseAttack(o),this.triggerTigerExecution(t))}copy(t){return new BO(t,this.logService)}}class $O extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Brain Cramp",this.tier=3,this.pack="Unicorn",this.attack=1,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new BO(this,this.logService)),super.initAbilities()}}class VO extends E{constructor(t,e){super({name:"MinotaurAbility",owner:t,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;if(!i)return;let o=this.level*i.level,l=r.parent.getThis(r),c=l.pet;null!=c&&(this.logService.createLog({message:`${r.name} gave ${c.name} ${o} attack and ${o} health.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random}),c.increaseAttack(o),c.increaseHealth(o),this.triggerTigerExecution(t))}copy(t){return new VO(t,this.logService)}}class qO extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Minotaur",this.tier=4,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new VO(this,this.logService)),super.initAbilities()}}class HO extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wyvern",this.tier=3,this.pack="Unicorn",this.attack=3,this.health=4,this.initPet(o,s,a,r,l,c)}}class GO extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ouroboros",this.tier=3,this.pack="Unicorn",this.attack=2,this.health=4,this.initPet(o,s,a,r,l,c)}}class FO extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Griffin",this.tier=3,this.pack="Unicorn",this.attack=5,this.health=4,this.initPet(o,s,a,r,l,c)}}class UO extends E{constructor(t,e){super({name:"KrakenAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.getAll(!0,r,!0),l=o.pets;if(0!=l.length){for(let c of l){let d=1==this.level?.15:2==this.level?.3:.45,f=Math.max(1,Math.floor(c.health*(1-d)));c.health=f,this.logService.createLog({message:`${r.name} reduced ${c.name} health by ${(100*d).toFixed(0)}% (${f})`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random})}this.triggerTigerExecution(t)}}copy(t){return new UO(t,this.logService)}}class jO extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kraken",this.tier=4,this.pack="Unicorn",this.attack=5,this.health=7,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new UO(this,this.logService)),super.initAbilities()}}class WO extends E{constructor(t,e){super({name:"VisitorAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let l=r.parent.getPetsWithinXSpaces(r,this.level).pets;if(0!=l.length){for(let c of l)c.givePetEquipment(new fh),this.logService.createLog({message:`${r.name} made ${c.name} Icky.`,type:"ability",player:r.parent,tiger:s,pteranodon:a});this.triggerTigerExecution(t)}}copy(t){return new WO(t,this.logService)}}class zO extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Visitor",this.tier=4,this.pack="Unicorn",this.attack=7,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new WO(this,this.logService)),super.initAbilities()}}class KO extends E{constructor(t,e){super({name:"VampireBatAbility",owner:t,triggers:["EnemyGainedAilment"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;let o=4*this.level,c=r.parent.getSpecificPet(r,i).pet;if(null==c)return;let d=c.health,f=r.snipePet(c,o,!1,s),y=Math.min(f,d),b=r.parent.getThis(r),P=b.pet;null!=P&&(this.logService.createLog({message:`${r.name} gave ${P.name} ${y} health.`,type:"ability",player:r.parent,tiger:s,randomEvent:b.random}),P.increaseHealth(y),this.triggerTigerExecution(t))}copy(t){return new KO(t,this.logService)}}class YO extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vampire Bat",this.tier=5,this.pack="Unicorn",this.attack=2,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new KO(this,this.logService)),super.initAbilities()}}class QO extends E{constructor(t,e){super({name:"TigerBugAbility",owner:t,triggers:["ClearFront"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let l=r.parent.getThis(r).pet;if(null==l)return;this.logService.createLog({message:`${r.name} pushed ${l.name} to the front.`,type:"ability",player:r.parent,tiger:s,pteranodon:a}),r.parent.pushPetToFront(l,!0);let c=r.parent.opponent.getFurthestUpPets(2,[],r),d=c.pets;if(0==d.length)return;let f=3*this.level;for(let y of d)null!=y&&r.snipePet(y,f,c.random,s);this.triggerTigerExecution(t)}copy(t){return new QO(t,this.logService)}}class JO extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tiger Bug",this.tier=4,this.pack="Unicorn",this.attack=4,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new QO(this,this.logService)),super.initAbilities()}}class ZO extends E{constructor(t,e){super({name:"TatzelwurmAbility",owner:t,triggers:["FriendAheadDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;let o=2*this.level;i&&3==i.level&&(o*=2);let l=r.parent.opponent.getFurthestUpPet(r);null!=l.pet&&(r.snipePet(l.pet,o,l.random,s),this.triggerTigerExecution(t))}copy(t){return new ZO(t,this.logService)}}class XO extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tatzelwurm",this.tier=4,this.pack="Unicorn",this.attack=1,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new ZO(this,this.logService)),super.initAbilities()}}class eN extends E{constructor(t,e){super({name:"CyclopsAbility",owner:t,triggers:["FriendLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;let o=2*this.level,l=r.parent.getSpecificPet(r,i),c=l.pet;if(null!=c){if(this.logService.createLog({message:`${r.name} gave ${c.name} ${o} mana.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random}),c.increaseMana(o),this.currentUses<this.level){let d=r.parent.getSpecificPet(r,i),f=d.pet;this.logService.createLog({message:`${r.name} gave ${f.name} 1 exp.`,type:"ability",player:r.parent,tiger:s,randomEvent:d.random}),f.increaseExp(1)}this.triggerTigerExecution(t)}}copy(t){return new eN(t,this.logService)}}class tN extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cyclops",this.tier=4,this.pack="Unicorn",this.attack=2,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new eN(this,this.logService)),super.initAbilities()}}class Lb extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chim-Lion",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=1,this.health=2,this.initPet(o,s,a,r,l,c)}}class Bb extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chim-Goat",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=1,this.health=2,this.initPet(o,s,a,r,l,c)}}class $b extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chim-Snake",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=1,this.health=2,this.initPet(o,s,a,r,l,c)}}class iN extends E{constructor(t,e,i){super({name:"ChimeraAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;if(r.mana<=0)return;const o=Math.floor(r.mana/2),d=3+1*o,f=3+2*o;this.logService.createLog({message:`${r.name} spent ${r.mana} mana.`,type:"ability",player:r.parent,tiger:s,pteranodon:a});let y=new Lb(this.logService,this.abilityService,r.parent,f,d),b=r.parent.summonPet(y,r.savedPosition,!1,r);if(b.success&&this.logService.createLog({message:`${r.name} spawned a ${y.name} ${d}/${f}.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:b.randomEvent}),this.level>=2){let P=new Bb(this.logService,this.abilityService,r.parent,f,d),x=r.parent.summonPet(P,r.savedPosition,!1,r);x.success&&this.logService.createLog({message:`${r.name} spawned a ${P.name} ${d}/${f}.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:x.randomEvent})}if(this.level>=3){let P=new $b(this.logService,this.abilityService,r.parent,f,d),x=r.parent.summonPet(P,r.savedPosition,!1,r);x.success&&this.logService.createLog({message:`${r.name} spawned a ${P.name} ${d}/${f}.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:x.randomEvent})}r.mana=0,this.triggerTigerExecution(t)}copy(t){return new iN(t,this.logService,this.abilityService)}}class nN extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chimera",this.tier=4,this.pack="Unicorn",this.attack=2,this.health=6,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new iN(this,this.logService,this.abilityService)),super.initAbilities()}}class sN extends E{constructor(t,e){super({name:"RocAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.getPetsAhead(5);if(0==o.length)return;let l=r.parent.petArray.filter(c=>c==r||!o.includes(c));for(let c=0;c<3*this.level;c++){let d=r.parent.getRandomPet(l,!0,!1,!1,r);if(null==d.pet)break;this.logService.createLog({message:`${r.name} gave ${d.pet.name} 2 mana.`,type:"ability",player:r.parent,tiger:s,randomEvent:d.random}),d.pet.increaseMana(2)}this.triggerTigerExecution(t)}copy(t){return new sN(t,this.logService)}}class rN extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Roc",this.tier=4,this.pack="Unicorn",this.attack=4,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new sN(this,this.logService)),super.initAbilities()}}class aN extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Worm of Sand",this.tier=4,this.pack="Unicorn",this.attack=4,this.health=1,this.initPet(o,s,a,r,l,c)}}class oN extends E{constructor(t,e,i){super({name:"AbominationAbility",owner:t,triggers:["EndTurn","SpecialEndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.petService=i}executeAbility(t){const r=this.owner;let o=[],l=!1,c=!1,d=!1;const f=this.level;for(let y=0;y<f;y++)null==r.abominationSwallowedPet1||l?null==r.abominationSwallowedPet2||c?null!=r.abominationSwallowedPet3&&!d&&(o.push(r.abominationSwallowedPet3),d=!0):(o.push(r.abominationSwallowedPet2),c=!0):(o.push(r.abominationSwallowedPet1),l=!0);for(let y of o){let b=this.petService.createPet({attack:null,health:null,mana:null,equipment:null,name:y,exp:0},r.parent);if(!b)return;this.logService.createLog({message:`${r.name} gained ${y}'s Ability.`,type:"ability",player:r.parent}),r.removeAbility("AbominationAbility"),r.gainAbilities(b,"Pet",1)}this.triggerTigerExecution(t)}copy(t){return new oN(t,this.logService,this.petService)}}class lN extends S{constructor(t,e,i,s,a,r,o,l,c,d,f,y,b){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Abomination",this.tier=4,this.pack="Unicorn",this.attack=6,this.health=5,this.initPet(l,a,r,o,c,d),this.abominationSwallowedPet1=f,this.abominationSwallowedPet2=y,this.abominationSwallowedPet3=b}initAbilities(){this.addAbility(new oN(this,this.logService,this.petService)),super.initAbilities()}}class cN extends E{constructor(t,e){super({name:"RedDragonAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.opponent.getPetsWithEquipment("Crisp"),l=r.parent.opponent.getLastPets(this.level,o,r),c=l.pets;if(0!=c.length){for(let d of c)this.logService.createLog({message:`${r.name} gave ${d.name} Crisp.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random}),d.givePetEquipment(new Vo);this.triggerTigerExecution(t)}}copy(t){return new cN(t,this.logService)}}class uN extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Red Dragon",this.tier=5,this.pack="Unicorn",this.attack=4,this.health=8,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new cN(this,this.logService)),super.initAbilities()}}class hN extends E{constructor(t,e){super({name:"UnicornAbility",owner:t,triggers:["FriendGainsAilment"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i}=t,r=this.owner;let o=2*this.level;if(!i)return;this.logService.createLog({message:`${r.name} removed ailment from ${i.name}.`,type:"ability",player:r.parent}),i.removePerk();let l=r.parent.getSpecificPet(r,i),c=l.pet;null!=c&&(this.logService.createLog({message:`${r.name} gave ${c.name} ${o} attack and ${o} health.`,type:"ability",player:r.parent,randomEvent:l.random}),c.increaseAttack(o),c.increaseHealth(o),this.triggerTigerExecution(t))}copy(t){return new hN(t,this.logService)}}class dN extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Unicorn",this.tier=4,this.pack="Unicorn",this.attack=2,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new hN(this,this.logService)),super.initAbilities()}}class gN extends E{constructor(t,e){super({name:"LovelandFrogmanAbility",owner:t,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i}=t,r=this.owner;let o={attack:1*r.level,health:2*r.level},l=r.parent.getSpecificPet(r,i),c=l.pet;null!=c&&(this.logService.createLog({message:`${r.name} gave ${c.name} ${o.attack} attack and ${o.health} health.`,type:"ability",player:r.parent,randomEvent:l.random}),c.increaseAttack(o.attack),c.increaseHealth(o.health),this.triggerTigerExecution(t))}copy(t){return new gN(t,this.logService)}}class fN extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Loveland Frogman",this.tier=5,this.pack="Unicorn",this.attack=1,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new gN(this,this.logService)),super.initAbilities()}}class pN extends E{constructor(t,e){super({name:"AmalgamationAbility",owner:t,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;if(!i)return;let o=r.parent.getThis(i),l=o.pet;if(!l)return;let c=3*this.level,d=4*this.level;this.logService.createLog({message:`${r.name} gave ${l.name} +${c} attack, +${d} mana, and Spooked.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),l.increaseAttack(c),l.increaseMana(d),l.givePetEquipment(new bh),this.triggerTigerExecution(t)}copy(t){return new pN(t,this.logService)}}class mN extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Amalgamation",this.tier=5,this.pack="Unicorn",this.attack=4,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new pN(this,this.logService)),super.initAbilities()}}class yN extends E{constructor(t,e){super({name:"JerseyDevilAbility",owner:t,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{gameApi:e,triggerPet:i,tiger:s}=t,r=this.owner;if(!i)return;let l=r.parent===e.player?e.playerLevel3Sold:e.opponentLevel3Sold;l=Math.min(l,5);let c=this.level*l,d=r.parent.getThis(i),f=d.pet;!f||(this.logService.createLog({message:`${r.name} gave ${f.name} ${c} attack and ${c} health`,type:"ability",player:r.parent,tiger:s,randomEvent:d.random}),f.increaseAttack(c),f.increaseHealth(c),this.triggerTigerExecution(t))}copy(t){return new yN(t,this.logService)}}class vN extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jersey Devil",this.tier=5,this.pack="Unicorn",this.attack=5,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new yN(this,this.logService)),super.initAbilities()}}class bN extends E{constructor(t,e){super({name:"PixiuAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;r.mana<4||(this.logService.createLog({message:`${r.name} spent 4 mana and gained ${3*this.level} gold for next turn.`,type:"ability",player:r.parent,tiger:s}),r.mana-=4,this.triggerTigerExecution(t))}copy(t){return new bN(t,this.logService)}}class SN extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pixiu",this.tier=5,this.pack="Unicorn",this.attack=4,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new bN(this,this.logService)),super.initAbilities()}}class _N extends E{constructor(t,e){super({name:"KitsuneAbility",owner:t,triggers:["KitsuneFriendDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;if(null==r.petAhead)return;let o=0;for(let d of r.parent.petArray)d.mana>0&&(o+=d.mana,d.mana=0,this.logService.createLog({message:`${r.name} took ${o} mana from ${d.name}.`,type:"ability",player:r.parent,tiger:s}));let l=r.parent.nearestPetsAhead(1,r);if(null==l.pets.length)return;let c=l.pets[0];this.logService.createLog({message:`${r.name} gave ${c.name} +${o+2*r.level} mana.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random}),c.increaseMana(o+2*r.level),this.triggerTigerExecution(t)}copy(t){return new _N(t,this.logService)}}class wN extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kitsune",this.tier=5,this.pack="Unicorn",this.attack=2,this.health=7,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new _N(this,this.logService)),super.initAbilities()}}class Vb extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nessie?",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,a,r,l,c)}}class AN extends E{constructor(t,e,i){super({name:"NessieAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{gameApi:e,tiger:s,pteranodon:a}=t,r=this.owner;let c=3*this.level,d=3*this.level,f="";if(!r.parent.summonedBoatThisBattle){const x=(r.parent===e.player?e.playerRollAmount:e.opponentRollAmount)*this.level;c+=x,d+=x,r.parent.summonedBoatThisBattle=!0,f=` It's the first Boat, so it gains +${x}/+${x}!`}c=Math.min(50,c),d=Math.min(50,d);let y=new Vb(this.logService,this.abilityService,r.parent,d,c,0),b=r.parent.summonPet(y,r.savedPosition,!1,r);b.success&&this.logService.createLog({message:`${r.name} spawned a Nessie? ${c}/${d}${f}`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:b.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new AN(t,this.logService,this.abilityService)}}class EN extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nessie",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new AN(this,this.logService,this.abilityService)),super.initAbilities()}}class CN extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bad Dog",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(o,s,a,r,l,c)}}class PN extends E{constructor(t,e){super({name:"WerewolfAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{gameApi:e,tiger:s}=t,r=this.owner;if(e.day){const o=6*this.level;let c=r.parent.getThis(r).pet;if(null==c)return;c.increaseMana(o),this.logService.createLog({message:`${r.name} gave ${c.name} ${o} mana.`,type:"ability",player:r.parent,tiger:s})}else{let l=r.parent.getThis(r).pet;if(null==l)return;let c=.5*this.level;const d=Math.floor(r.attack*c),f=Math.floor(r.health*c);let y=Math.min(50,r.attack+d),b=Math.min(50,r.health+f);this.logService.createLog({message:`${r.name} increased ${l.name}'s stats by ${100*c}% (${y}/${b}).`,type:"ability",player:r.parent,tiger:s}),l.increaseAttack(r.attack*c),l.increaseHealth(r.health*c)}this.triggerTigerExecution(t)}copy(t){return new PN(t,this.logService)}}class TN extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Werewolf",this.tier=5,this.pack="Unicorn",this.attack=7,this.health=7,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new PN(this,this.logService)),super.initAbilities()}}class xN extends E{constructor(t,e,i){super({name:"ManticoreAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){}copy(t){return new xN(t,this.logService,this.abilityService)}}class kN extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manticore",this.tier=6,this.pack="Unicorn",this.attack=7,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new xN(this,this.logService,this.abilityService)),super.initAbilities()}}class DN extends E{constructor(t,e){super({name:"PhoenixFaintAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=3*this.level,c=[...r.parent.petArray,...r.parent.opponent.petArray].filter(y=>y.equipment instanceof Vo),d=r.parent.getRandomPets(o,c,!0,!0,r,!0),f=d.pets;if(f.length>0)for(let y of f)this.logService.createLog({message:`${r.name} gave ${y.name} Crisp.`,type:"ability",randomEvent:d.random,tiger:s,player:r.parent}),y.givePetEquipment(new Vo);this.triggerTigerExecution(t)}copy(t){return new DN(t,this.logService)}}class qb extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Young Phoenix",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=6,this.attack=6,this.initPet(o,s,a,r,l,c)}}class MN extends E{constructor(t,e,i){super({name:"PhoenixAfterFaintAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=4*this.level,l=new qb(this.logService,this.abilityService,r.parent,o,o,0),c=r.parent.summonPet(l,r.savedPosition,!1,r);c.success&&this.logService.createLog({message:`${r.name} spawned a Young Phoenix (${o}/${o}).`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:c.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new MN(t,this.logService,this.abilityService)}}class RN extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Phoenix",this.tier=6,this.pack="Unicorn",this.attack=8,this.health=8,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new DN(this,this.logService)),this.addAbility(new MN(this,this.logService,this.abilityService)),super.initAbilities()}}class IN extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Quetzalcoatl",this.tier=6,this.pack="Unicorn",this.attack=2,this.health=8,this.initPet(o,s,a,r,l,c)}}class ON extends E{constructor(t,e){super({name:"TeamSpiritAbility",owner:t,triggers:["FriendLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.getAll(!1,r,!0),l=o.pets,c={attack:r.level,health:r.level};for(let d of l)this.logService.createLog({message:`${r.name} gave ${d.name} ${c.attack} attack and ${c.health} health.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),d.increaseAttack(c.attack),d.increaseHealth(c.health);this.triggerTigerExecution(t)}copy(t){return new ON(t,this.logService)}}class NN extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Team Spirit",this.tier=6,this.pack="Unicorn",this.attack=4,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new ON(this,this.logService)),super.initAbilities()}}class LN extends E{constructor(t,e){super({name:"SleipnirAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=Math.floor(r.attack/2),l=r.parent.getFurthestUpPets(this.level,[r],r),c=l.pets;if(0!=c.length){for(let d of c)null!=d&&(this.logService.createLog({message:`${r.name} gave ${d.name} ${o} mana.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random}),d.increaseMana(o));this.triggerTigerExecution(t)}}copy(t){return new LN(t,this.logService)}}class BN extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sleipnir",this.tier=6,this.pack="Unicorn",this.attack=8,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new LN(this,this.logService)),super.initAbilities()}}class $N extends E{constructor(t,e){super({name:"SeaSerpentAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;if(0==r.mana)return;let o=r.mana;this.logService.createLog({message:`${r.name} spent ${r.mana} mana.`,type:"ability",player:r.parent,tiger:s,pteranodon:a}),r.mana=0;let c=r.parent.opponent.getHighestHealthPet(void 0,r);null!=c.pet&&r.snipePet(c.pet,o,c.random,s,a);let d=r.parent.opponent.getRandomPets(this.level,[c.pet],null,!0,r);for(let f of d.pets)null!=f&&r.snipePet(f,o,d.random,s,a);this.triggerTigerExecution(t)}copy(t){return new $N(t,this.logService)}}class VN extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Serpent",this.tier=6,this.pack="Unicorn",this.attack=6,this.health=6,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new $N(this,this.logService)),super.initAbilities()}}class qN extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Yeti",this.tier=6,this.pack="Unicorn",this.attack=5,this.health=9,this.initPet(o,s,a,r,l,c)}}class Hb extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fire Pup",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=8,this.attack=8,this.initPet(o,s,a,r,l,c)}}class HN extends E{constructor(t,e,i){super({name:"CerberusAbility",owner:t,triggers:["ClearFront"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,condition:s=>null==this.owner.parent.pet0,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s}=t,r=this.owner;let l=new Hb(this.logService,this.abilityService,r.parent,8,8,null,5),c=r.parent.summonPet(l,0,!1,r);c.success&&this.logService.createLog({message:`${r.name} spawned Fire Pup (8/8).`,type:"ability",player:r.parent,tiger:s,randomEvent:c.randomEvent}),this.triggerTigerExecution(t)}reset(){this.maxUses=this.level,super.reset()}copy(t){return new HN(t,this.logService,this.abilityService)}}class GN extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cerberus",this.tier=6,this.pack="Unicorn",this.attack=9,this.health=9,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new HN(this,this.logService,this.abilityService)),super.initAbilities()}}class Gb extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Head",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=5,this.attack=5,this.initPet(o,s,a,r,l,c)}}class FN extends E{constructor(t,e,i){super({name:"HydraAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=Math.floor(r.attack/10);for(let l=0;l<o;l++){let c=5*this.level,d=new Gb(this.logService,this.abilityService,r.parent,c,c),f=r.parent.summonPet(d,r.savedPosition,!1,r);f.success&&this.logService.createLog({message:`${r.name} spawned Head (${d.attack}/${d.health}).`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:f.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new FN(t,this.logService,this.abilityService)}}class UN extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hydra",this.tier=6,this.pack="Unicorn",this.attack=10,this.health=6,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new FN(this,this.logService,this.abilityService)),super.initAbilities()}}class jN extends E{constructor(t,e,i){super({name:"BehemothAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){}copy(t){return new jN(t,this.logService,this.abilityService)}}class WN extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Behemoth",this.tier=6,this.pack="Unicorn",this.attack=12,this.health=12,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new jN(this,this.logService,this.abilityService)),super.initAbilities()}}class zN extends E{constructor(t,e,i){super({name:"IriomoteCatAbility",owner:t,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.petService=i}executeAbility(t){const r=this.owner;let o=this.petService.allPets.get(this.level),c=o[Tn(0,o.length-1)],d=this.petService.createPet({name:c,attack:r.attack,health:r.health,exp:0,equipment:r.equipment,mana:r.mana},r.parent);this.logService.createLog({message:`${r.name} transformed into a ${c} (Level ${d.level}).`,type:"ability",player:r.parent,randomEvent:!0}),r.parent.transformPet(r,d),this.triggerTigerExecution(t)}copy(t){return new zN(t,this.logService,this.petService)}}class KN extends S{constructor(t,e,i,s,a,r,o,l,c,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Iriomote Cat",this.tier=1,this.pack="Danger",this.attack=2,this.health=2,this.initPet(l,a,r,o,c,d)}initAbilities(){this.addAbility(new zN(this,this.logService,this.petService)),super.initAbilities()}}class YN extends E{constructor(t,e){super({name:"IliPikaAbility",owner:t,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;let o=r.parent.getSpecificPet(r,i),l=o.pet;if(!l)return;let c=1*this.level;l.attack>l.health?(l.increaseAttack(c),this.logService.createLog({message:`${r.name} give ${c} attack to ${l.name}.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random})):(l.increaseHealth(c),this.logService.createLog({message:`${r.name} give ${c} health to ${l.name}.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random})),this.triggerTigerExecution(t)}copy(t){return new YN(t,this.logService)}}class QN extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ili Pika",this.tier=1,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new YN(this,this.logService)),super.initAbilities()}}class JN extends E{constructor(t,e){super({name:"MalayTapirAbility",owner:t,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.getThis(r),l=o.pet;if(!l)return;let c=1*this.level;l.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${l.name} ${c} health`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),this.triggerTigerExecution(t)}copy(t){return new JN(t,this.logService)}}class ZN extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Malay Tapir",this.tier=1,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new JN(this,this.logService)),super.initAbilities()}}class XN extends E{constructor(t,e,i){super({name:"BombusDahlbomiiAbility",owner:t,triggers:["EnemyAttacked2"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s}=t,r=this.owner;this.abilityService.setCounterEvent({callback:()=>{let o=r.parent.opponent.getFurthestUpPet(r),l=o.pet;l&&r.snipePet(l,1*this.level,o.random,s)},priority:r.attack,pet:r}),this.triggerTigerExecution(t)}copy(t){return new XN(t,this.logService,this.abilityService)}}class eL extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bombus Dahlbomii",this.tier=1,this.pack="Danger",this.attack=1,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new XN(this,this.logService,this.abilityService)),super.initAbilities()}}class tL extends E{constructor(t,e){super({name:"EthiopianWolfAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.opponent.getFurthestUpPets(this.level,void 0,r);for(const l of o.pets)(null==l?void 0:l.alive)&&(l.increaseAttack(-1),this.logService.createLog({message:`${r.name} removed 1 attack from ${l.name}.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:o.random}));this.triggerTigerExecution(t)}copy(t){return new tL(t,this.logService)}}class Fb extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ethiopian Wolf",this.tier=1,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new tL(this,this.logService)),super.initAbilities()}}class iL extends E{constructor(t){super({name:"FanMusselAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2,abilityFunction:e=>{this.executeAbility(e)}})}executeAbility(t){}copy(t){return new iL(t)}}class nL extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fan Mussel",this.tier=1,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new iL(this)),super.initAbilities()}}class sL extends E{constructor(t,e){super({name:"TogianBabirusaAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.opponent.getRandomPet([],!1,!1,!1,r);o.pet&&(o.pet.increaseAttack(1),o.pet.increaseHealth(1),this.logService.createLog({message:`${r.name} gave ${o.pet.name} +1 attack and +1 health.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:o.random})),this.triggerTigerExecution(t)}copy(t){return new sL(t,this.logService)}}class rL extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Togian Babirusa",this.tier=1,this.pack="Danger",this.attack=4,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new sL(this,this.logService)),super.initAbilities()}}class aL extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tooth Billed Pigeon",this.tier=1,this.pack="Danger",this.attack=3,this.health=1,this.initPet(o,s,a,r,l,c)}}class oL extends E{constructor(t,e){super({name:"VolcanoSnailAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let c=[...r.parent.opponent.getPetsWithEquipment("perk"),...r.parent.opponent.getPetsWithEquipment("Toast")],d=r.parent.opponent.getRandomPets(3,c,null,null,r);if(0!==d.pets.length){for(let f of d.pets){let y=new tb;f.givePetEquipment(y),this.logService.createLog({message:`${r.name} made ${f.name} Toasty`,type:"ability",player:r.parent,tiger:s,randomEvent:d.random})}this.triggerTigerExecution(t)}}copy(t){return new oL(t,this.logService)}}class lL extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Volcano Snail",this.tier=1,this.pack="Danger",this.attack=1,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new oL(this,this.logService)),super.initAbilities()}}class cL extends E{constructor(t,e){super({name:"AfricanWildDogAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){var e;const{tiger:a}=t,o=this.owner;let c,l=o.parent.opponent.getFurthestUpPet(o);if(null!=l.pet){if(c=l.random?l.pet:null===(e=l.pet)||void 0===e?void 0:e.petBehind(),c){let d=3*this.level;o.jumpAttackPrep(c),o.jumpAttack(c,a,d,l.random)}this.triggerTigerExecution(t)}}copy(t){return new cL(t,this.logService)}}class uL extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="African Wild Dog",this.tier=1,this.pack="Danger",this.attack=2,this.health=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new cL(this,this.logService)),super.initAbilities()}}class hL extends E{constructor(t,e){super({name:"AraripeManakinAbility",owner:t,triggers:["FriendTransformed","FriendJumped"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.getThis(r),l=o.pet;if(!l)return;let c=3*this.level;l.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${l.name} ${c} health`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),this.triggerTigerExecution(t)}copy(t){return new hL(t,this.logService)}}class dL extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Araripe Manakin",this.tier=2,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new hL(this,this.logService)),super.initAbilities()}}class gL extends E{constructor(t,e){super({name:"EuropeanMinkAbility",owner:t,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:5,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=this.level,l=r.parent.nearestPetsAhead(1,r);if(l.pets.length>0){let d=l.pets[0];d.increaseAttack(o),this.logService.createLog({message:`${r.name} gave ${d.name} ${o} attack.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random})}let c=r.parent.nearestPetsBehind(1,r);if(c.pets.length>0){let d=c.pets[0];d.increaseAttack(o),this.logService.createLog({message:`${r.name} gave ${d.name} ${o} attack.`,type:"ability",player:r.parent,tiger:s,randomEvent:c.random})}this.triggerTigerExecution(t)}copy(t){return new gL(t,this.logService)}}class fL extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="European Mink",this.tier=2,this.pack="Danger",this.attack=4,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new gL(this,this.logService)),super.initAbilities()}}class pL extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Proboscis Monkey",this.tier=2,this.pack="Danger",this.attack=4,this.health=4,this.initPet(o,s,a,r,l,c)}}class mL extends E{constructor(t,e,i){super({name:"PygmyHogAbility",owner:t,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s}=t,r=this.owner;let o={health:Math.max(5*this.level,r.health),attack:Math.max(5*this.level,r.attack)},l=new hb(this.logService,this.abilityService,r.parent,o.health,o.attack,r.mana,r.exp,new Bf);this.logService.createLog({message:`${r.name} transformed into ${l.name} (${o.attack}/${o.health}) with Garlic!`,type:"ability",player:r.parent,tiger:s}),r.parent.transformPet(r,l),this.triggerTigerExecution(t)}copy(t){return new mL(t,this.logService,this.abilityService)}}class yL extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pygmy Hog",this.tier=2,this.pack="Danger",this.attack=1,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new mL(this,this.logService,this.abilityService)),super.initAbilities()}}class vL extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Saola",this.tier=2,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,a,r,l,c)}}class bL extends E{constructor(t,e){super({name:"SakerFalconAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;if(r.parent.petArray.length<r.parent.opponent.petArray.length){let c=r.parent.getThis(r),d=c.pet;if(!d)return;let f=2*this.level;d.increaseAttack(f),d.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${d.name} ${f} attack and ${f} health (outnumbered)`,type:"ability",player:r.parent,tiger:s,randomEvent:c.random})}this.triggerTigerExecution(t)}copy(t){return new bL(t,this.logService)}}class SL extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Saker Falcon",this.tier=2,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new bL(this,this.logService)),super.initAbilities()}}class _L extends E{constructor(t,e,i){super({name:"TaitaShrewAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.getThis(r),l=o.pet;if(!l)return;let c=new Mb(this.logService,this.abilityService,r.parent,l.health,l.attack,l.mana,l.exp,l.equipment);this.logService.createLog({message:`${r.name} transformed ${l.name} into ${c.name} (level ${this.level}).`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),r.parent.transformPet(l,c),this.triggerTigerExecution(t)}copy(t){return new _L(t,this.logService,this.abilityService)}}class wL extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Taita Shrew",this.tier=2,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new _L(this,this.logService,this.abilityService)),super.initAbilities()}}class AL extends E{constructor(t,e){super({name:"WhiteBelliedHeronAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.nearestPetsAhead(1,r);if(0==o.pets.length)return;let l=o.pets[0],c=new $G;c.multiplier+=this.level-1,l.givePetEquipment(c);let d=".";2===this.level?d=" twice for double effect.":3===this.level&&(d=" thrice for triple effect."),this.logService.createLog({message:`${r.name} made ${l.name} Meat Bone${d}`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),this.triggerTigerExecution(t)}copy(t){return new AL(t,this.logService)}}class EL extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="White-Bellied Heron",this.tier=2,this.pack="Danger",this.attack=4,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new AL(this,this.logService)),super.initAbilities()}}class CL extends E{constructor(t,e){super({name:"DarwinsFoxAbility",owner:t,triggers:["EnemyHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;if(i&&i.alive){let o=r.parent.getSpecificPet(r,i),l=o.pet;if(!l)return;r.jumpAttackPrep(l),r.jumpAttack(l,s,void 0,o.random)}else{let o=r.parent.opponent.getFurthestUpPet(r),l=o.pet;if(!l)return;r.jumpAttackPrep(l),r.jumpAttack(l,s,void 0,o.random)}this.triggerTigerExecution(t)}reset(){this.maxUses=this.level,super.reset()}copy(t){return new CL(t,this.logService)}}class PL extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Darwin's Fox",this.tier=2,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new CL(this,this.logService)),super.initAbilities()}}class TL extends E{constructor(t,e,i,s){super({name:"TakhiAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=e,this.abilityService=i,this.petService=s}executeAbility(t){const{gameApi:e,tiger:s,pteranodon:a}=t,r=this.owner;let c=this.petService.createPet({name:"African Wild Dog",attack:3*this.level,health:2*this.level,exp:0,mana:0,equipment:null},r.parent);if(c){let d=r.parent.summonPet(c,r.savedPosition,!1,r);d.success&&(this.logService.createLog({message:`${r.name} summoned a ${c.attack}/${c.health} ${c.name}`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:d.randomEvent}),c.activateAbilities("StartBattle",e,"Pet"))}this.triggerTigerExecution(t)}copy(t){return new TL(t,this.logService,this.abilityService,this.petService)}}class xL extends S{constructor(t,e,i,s,a,r,o,l,c,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Takhi",this.tier=2,this.pack="Danger",this.attack=2,this.health=2,this.initPet(l,a,r,o,c,d)}initAbilities(){this.addAbility(new TL(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class kL extends E{constructor(t,e){super({name:"BlueThroatedMacawAbility",owner:t,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;if(i){if(i.position<r.position){let o=r.parent.getSpecificPet(r,i),l=o.pet;if(!l)return;let c=3*this.level;l.increaseAttack(c),this.logService.createLog({message:`${r.name} gave ${l.name} +${c} attack.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random})}else{let o=r.parent.getSpecificPet(r,i),l=o.pet;if(!l)return;let c=3*this.level;l.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${l.name} +${c} health.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random})}this.triggerTigerExecution(t)}}copy(t){return new kL(t,this.logService)}}class DL extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blue-Throated Macaw",this.tier=3,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new kL(this,this.logService)),super.initAbilities()}}class ML extends E{constructor(t,e,i){super({name:"HirolaAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;for(let o=0;o<this.level;o++){let l=new Fb(this.logService,this.abilityService,r.parent,3,4,r.mana,r.exp),c=r.parent.summonPet(l,r.savedPosition,!1,r);c.success&&this.logService.createLog({message:`${r.name} summoned a 4/3 ${l.name}.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:c.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new ML(t,this.logService,this.abilityService)}}class RL extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hirola",this.tier=3,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new ML(this,this.logService,this.abilityService)),super.initAbilities()}}class IL extends E{constructor(t,e){super({name:"MonkeyFacedBatAbility",owner:t,triggers:["AnyoneBehindHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.getRandomPets(2,[r],!0,!1,r);for(let l of o.pets)if(null!=l){let c={attack:this.level,health:2*this.level};l.increaseAttack(c.attack),l.increaseHealth(c.health),this.logService.createLog({message:`${r.name} gave ${l.name} ${c.attack} attack and ${c.health} health`,type:"ability",player:r.parent,randomEvent:o.random,tiger:s})}this.triggerTigerExecution(t)}copy(t){return new IL(t,this.logService)}}class OL extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Monkey-Faced Bat",this.tier=3,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new IL(this,this.logService)),super.initAbilities()}}class NL extends E{constructor(t,e,i){super({name:"PygmyHippoAbility",owner:t,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=Math.floor(.33*r.health),l=r.parent.opponent.getLowestHealthPets(this.level,void 0,r);for(let c of l.pets)r.snipePet(c,o,l.random,s);this.triggerTigerExecution(t)}copy(t){return new NL(t,this.logService,this.abilityService)}}class LL extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pygmy Hippo",this.tier=3,this.pack="Danger",this.attack=2,this.health=7,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new NL(this,this.logService,this.abilityService)),super.initAbilities()}}class BL extends E{constructor(t,e){super({name:"TakinAbility",owner:t,triggers:["FriendAheadHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=this.level,l=2*this.level,c=r.parent.getThis(r),d=c.pet;d.increaseAttack(o),d.increaseHealth(l),this.logService.createLog({message:`${r.name} gave ${d.name} ${o} attack and ${l} health.`,type:"ability",player:r.parent,tiger:s,randomEvent:c.random}),this.triggerTigerExecution(t)}copy(t){return new BL(t,this.logService)}}class $L extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Takin",this.tier=3,this.pack="Danger",this.attack=1,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new BL(this,this.logService)),super.initAbilities()}}class VL extends E{constructor(t,e){super({name:"TucuxiAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.getLastPet([r],r),l=o.pet;if(!l)return;r.parent.pushPetToFront(l,!1),this.logService.createLog({message:`${r.name} pushed ${l.name} to the front`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:o.random});let c=r.parent.getLastPet([r],r),d=c.pet;if(!d)return;let f=3*this.level;d.increaseAttack(f),d.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${d.name} +${f} attack and +${f} health`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:c.random}),this.triggerTigerExecution(t)}copy(t){return new VL(t,this.logService)}}class qL extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tucuxi",this.tier=3,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new VL(this,this.logService)),super.initAbilities()}}class HL extends E{constructor(t,e,i){super({name:"RolowayMonkeyAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.petService=i}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.nearestPetsAhead(2,r);if(0===o.pets.length)return;const l=["Camel","Peacock","Porcupine","Lizard","Guineafowl"];for(let c of o.pets){let d=Math.floor(Math.random()*l.length),y=this.petService.createPet({name:l[d],health:c.health,attack:c.attack,mana:c.mana,exp:r.exp,equipment:c.equipment},r.parent);r.parent.transformPet(c,y),this.logService.createLog({message:`${r.name} transformed ${c.name} into a ${y.attack}/${y.health} ${y.name}.`,type:"ability",player:r.parent,tiger:s,randomEvent:!0})}this.triggerTigerExecution(t)}copy(t){return new HL(t,this.logService,this.petService)}}class GL extends S{constructor(t,e,i,s,a,r,o,l,c,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Roloway Monkey",this.tier=3,this.pack="Danger",this.attack=2,this.health=5,this.initPet(l,a,r,o,c,d)}initAbilities(){this.addAbility(new HL(this,this.logService,this.petService)),super.initAbilities()}}class FL extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Spoon-Billed Sandpiper",this.tier=3,this.pack="Danger",this.attack=3,this.health=2,this.initPet(o,s,a,r,l,c)}}class UL extends E{constructor(t,e){super({name:"AmamiRabbitAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=1*this.level,l=r.parent.opponent.getHighestAttackPet(void 0,r);if(l.pet&&l.pet.alive)if(r.jumpAttackPrep(l.pet),r.transformed&&r.transformedInto){let c=r.parent.getThis(r.transformedInto);c.pet&&(r.transformedInto.increaseAttack(o),this.logService.createLog({message:`${r.name} gave ${r.transformedInto.name} ${o} attack`,type:"ability",player:r.parent,tiger:s,randomEvent:c.random}))}else{let c=r.parent.getThis(r);c.pet&&(c.pet.increaseAttack(o),this.logService.createLog({message:`${r.name} gave ${c.pet.name} ${o} attack`,type:"ability",player:r.parent,tiger:s,randomEvent:c.random}))}r.jumpAttack(l.pet,s,void 0,l.random),this.triggerTigerExecution(t)}copy(t){return new UL(t,this.logService)}}class jL extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Amami Rabbit",this.tier=3,this.pack="Danger",this.attack=1,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new UL(this,this.logService)),super.initAbilities()}}class WL extends E{constructor(t,e){super({name:"TreeKangarooAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{gameApi:e,tiger:s}=t,r=this.owner;let f=[...r.parent.opponent.getPetsWithEquipment("perk"),...r.parent.opponent.getPetsWithEquipment("Silly"),...r.parent.opponent.petArray.filter(P=>"Tree Kangaroo"==P.name),...r.parent.petArray.filter(P=>"Tree Kangaroo"==P.name)],y=r.parent.opponent.getLastPet(f,r),b=y.pet;b&&(b.givePetEquipment(new YG),this.logService.createLog({message:`${r.name} gave ${b.name} Silly`,type:"ability",tiger:s,player:r.parent,randomEvent:y.random}));for(let P=0;P<this.level;P++){let D=r.parent.getSpecificPet(r,b).pet;D&&(this.logService.createLog({message:`${r.name} activated ${b.name}'s ability.`,type:"ability",tiger:s,player:r.parent,randomEvent:y.random}),D.activateAbilities(void 0,e,"Pet"))}this.triggerTigerExecution(t)}copy(t){return new WL(t,this.logService)}}class zL extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tree Kangaroo",this.tier=3,this.pack="Danger",this.attack=3,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new WL(this,this.logService)),super.initAbilities()}}class KL extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Angelshark",this.tier=4,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,s,a,r,l,c)}}class YL extends S{constructor(t,e,i,s,a,r,o,l,c,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Bonobo",this.tier=4,this.pack="Danger",this.attack=3,this.health=3,this.initPet(l,a,r,o,c,d)}}class QL extends E{constructor(t,e,i){super({name:"GiantTortoiseAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new QL(t,this.logService,this.abilityService)}}class JL extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giant Tortoise",this.tier=4,this.pack="Danger",this.attack=4,this.health=8,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new QL(this,this.logService,this.abilityService)),super.initAbilities()}}class ZL extends E{constructor(t,e){super({name:"HumphreadWrasseAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=.3*this.level,l=r.parent.opponent.getHighestAttackPet(void 0,r);if(!l.pet)return;let c=l.pet,d=Math.floor(c.attack*o),f=Math.max(1,c.attack-d);c.attack=f,this.logService.createLog({message:`${r.name} reduced ${c.name}'s attack by ${100*o}% to (${c.attack})`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random}),this.triggerTigerExecution(t)}copy(t){return new ZL(t,this.logService)}}class XL extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Humphead Wrasse",this.tier=4,this.pack="Danger",this.attack=6,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new ZL(this,this.logService)),super.initAbilities()}}class e2 extends E{constructor(t,e,i){super({name:"GoldenTamarinAbility",owner:t,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.petService=i}executeAbility(t){const{tiger:s}=t,r=this.owner;let l=r.parent.getThis(r).pet;if(!l)return;const c=["Crocodile","Red Dragon","Salmon of Knowledge","Sea Cucumber","Werewolf","Tarantula Hawk","Snow Leopard"];let d=Math.floor(Math.random()*c.length),y=this.petService.createPet({name:c[d],health:l.health,attack:l.attack,mana:l.mana,exp:l.exp,equipment:l.equipment},r.parent);r.parent.transformPet(l,y),this.logService.createLog({message:`${r.name} transformed ${l.name} into a ${y.attack}/${y.health} ${y.name}.`,type:"ability",player:r.parent,tiger:s,randomEvent:!0}),this.triggerTigerExecution(t)}copy(t){return new e2(t,this.logService,this.petService)}}class t2 extends S{constructor(t,e,i,s,a,r,o,l,c,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Golden Tamarin",this.tier=4,this.pack="Danger",this.attack=4,this.health=4,this.initPet(l,a,r,o,c,d)}initAbilities(){this.addAbility(new e2(this,this.logService,this.petService)),super.initAbilities()}}class n2 extends E{constructor(t,e){super({name:"KakapoAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.opponent.getHighestAttackPets(this.level,void 0,r),l=o.pets;if(0!=l.length){for(let c of l)c.parent.pushPetToBack(c),c.removePerk(!0),this.logService.createLog({message:`${r.name} pushed ${c.name} to the back, and removed its Perk.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random});this.triggerTigerExecution(t)}}copy(t){return new n2(t,this.logService)}}class s2 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kakapo",this.tier=4,this.pack="Danger",this.attack=3,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new n2(this,this.logService)),super.initAbilities()}}class r2 extends E{constructor(t,e){super({name:"LongcombSawfishAbility",owner:t,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=4*this.level,l=-4*this.level,c=r.parent.getThis(r),d=c.pet;d&&(d.increaseHealth(o),this.logService.createLog({message:`${r.name} gave ${d.name} ${o} health`,type:"ability",player:r.parent,tiger:s,randomEvent:c.random}));let y=r.parent.opponent.getAll(!1,r).pets;for(let b of y)b.increaseHealth(l),this.logService.createLog({message:`${r.name} reduced ${b.name} health by ${Math.abs(l)}`,type:"ability",player:r.parent,tiger:s});this.triggerTigerExecution(t)}copy(t){return new r2(t,this.logService)}}class a2 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Longcomb Sawfish",this.tier=4,this.pack="Danger",this.attack=3,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new r2(this,this.logService)),super.initAbilities()}}class o2 extends E{constructor(t,e){super({name:"AmazonRiverDolphinAbility",owner:t,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;let o=r.parent.getSpecificPet(r,i.currentTarget),l=o.pet;if(l&&l.alive)r.snipePet(l,3*this.level,o.random,s);else{let c=r.parent.getThis(r),d=c.pet;if(!d)return;let f=3*this.level;d.increaseAttack(f),this.logService.createLog({message:`${r.name} gave ${d.name} ${f} attack`,type:"ability",player:r.parent,tiger:s,randomEvent:c.random})}this.triggerTigerExecution(t)}copy(t){return new o2(t,this.logService)}}class l2 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Amazon River Dolphin",this.tier=4,this.pack="Danger",this.attack=4,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new o2(this,this.logService)),super.initAbilities()}}class c2 extends E{constructor(t,e){super({name:"TasmanianDevilAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.opponent.getLowestAttackPet(void 0,r);if(o.pet&&o.pet.alive){let l=new bh;l.multiplier+=5*this.level-1,this.logService.createLog({message:`${r.name} gave ${o.pet.name} ${l.multiplier}x Spooked.`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),o.pet.givePetEquipment(l),r.jumpAttackPrep(o.pet),r.jumpAttack(o.pet,s,null,o.random)}this.triggerTigerExecution(t)}copy(t){return new c2(t,this.logService)}}class u2 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tasmanian Devil",this.tier=4,this.pack="Danger",this.attack=1,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new c2(this,this.logService)),super.initAbilities()}}class h2 extends E{constructor(t,e){super({name:"GiantOtterAbility",owner:t,triggers:["BeforeStartBattle","BeforeFirstNonJumpAttack"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.buffedFriends=new Map,this.logService=e}reset(){this.buffedFriends.clear(),super.reset()}removeConditionalBuffs(){for(let[t,e]of this.buffedFriends)0==e.attack&&0==e.health||t&&t.alive&&(t.increaseAttack(-e.attack),t.increaseHealth(-e.health),this.logService.createLog({message:`${t.name} lost ${e.attack} attack and ${e.health} health (Giant Otter Buffs removed)`,type:"ability",player:this.owner.parent}),this.buffedFriends.delete(t))}executeAbility(t){const{gameApi:e,tiger:s}=t,r=this.owner;if(e.FirstNonJumpAttackHappened)return void this.removeConditionalBuffs();let o={attack:2*this.level,health:6*this.level},l=r.parent.getAll(!1,r,!0),c=l.pets;for(let d of c){d.increaseAttack(o.attack),d.increaseHealth(o.health);let f=this.buffedFriends.get(d);this.buffedFriends.set(d,f?{attack:f.attack+o.attack,health:f.health+o.health}:{attack:o.attack,health:o.health}),this.logService.createLog({message:`${r.name} gave ${d.name} +${o.attack} attack and +${o.health} health`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random})}this.triggerTigerExecution(t)}copy(t){return new h2(t,this.logService)}}class d2 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giant Otter",this.tier=4,this.pack="Danger",this.attack=4,this.health=3,this.buffedFriends=new Map,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new h2(this,this.logService)),super.initAbilities()}}class g2 extends E{constructor(t,e,i){super({name:"AyeAyeAbility",owner:t,triggers:["EnemyAttacked8"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s}=t,r=this.owner;for(let c=0;c<2;c++){let d=3,f=3,y=new _b(this.logService,this.abilityService,r.parent,f,d,0,0),b=r.parent.summonPet(y,r.savedPosition,!1,r);b.success&&this.logService.createLog({message:`${r.name} summoned a ${d}/${f} ${y.name}.`,type:"ability",player:r.parent,tiger:s,randomEvent:b.randomEvent})}let o=3*this.level,l=r.parent.getAll(!1,r,!0);for(let c of l.pets)c.increaseAttack(o),c.increaseHealth(o),this.logService.createLog({message:`${r.name} gave ${c.name} +${o} attack and +${o} health.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random});this.triggerTigerExecution(t)}copy(t){return new g2(t,this.logService,this.abilityService)}}class f2 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Aye-aye",this.tier=5,this.pack="Danger",this.attack=3,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new g2(this,this.logService,this.abilityService)),super.initAbilities()}}class p2 extends E{constructor(t,e){super({name:"BanggaiCardinalfishAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=6*this.level,c=r.parent.getAll(!0,r,!0);for(let d of c.pets){let f=Math.max(d.attack-o,4);d.attack=f,this.logService.createLog({message:`${r.name} reduced ${d.name} attack by ${o} to (${f}).`,type:"ability",player:r.parent,tiger:s,randomEvent:c.random})}this.triggerTigerExecution(t)}copy(t){return new p2(t,this.logService)}}class m2 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Banggai Cardinalfish",this.tier=5,this.pack="Danger",this.attack=4,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new p2(this,this.logService)),super.initAbilities()}}class y2 extends E{constructor(t,e){super({name:"GeometricTortoiseAbility",owner:t,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,damageAmount:r}=t,o=this.owner;if(void 0===r||r<=0)return;let l=.33*this.level;3===o.level&&(l=1);let c=Math.floor(r*l);if(c>0){let d=o.parent.opponent.getRandomPet([],!1,!0,!1,o);d.pet&&o.snipePet(d.pet,c,d.random,s)}this.triggerTigerExecution(t)}copy(t){return new y2(t,this.logService)}}class v2 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Geometric Tortoise",this.tier=5,this.pack="Danger",this.attack=3,this.health=10,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new y2(this,this.logService)),super.initAbilities()}}class b2 extends E{constructor(t,e){super({name:"GiantPangasiusAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{gameApi:e,tiger:s}=t,r=this.owner;if(!e)return;let o;o=r.parent===e.player?e.playerTransformationAmount:e.opponentTransformationAmount;let l=4*this.level;if(o>0)for(let c=0;c<o;c++){let d=r.parent.opponent.getRandomPet([],!1,!0,!1,r);d.pet&&r.snipePet(d.pet,l,d.random,s)}this.triggerTigerExecution(t)}copy(t){return new b2(t,this.logService)}}class S2 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giant Pangasius",this.tier=5,this.pack="Danger",this.attack=4,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new b2(this,this.logService)),super.initAbilities()}}class _2 extends E{constructor(t,e){super({name:"HawaiianMonkSealAbility",owner:t,triggers:["FriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;let o=r.parent.getSpecificPet(r,i),l=o.pet;if(l&&!r.targettedFriends.has(l)){if(r.targettedFriends.size<3&&l.alive){let c=2*r.level;l.increaseHealth(c),r.targettedFriends.add(l),this.logService.createLog({message:`${r.name} gave ${l.name} ${c} health`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random})}this.triggerTigerExecution(t)}}copy(t){return new _2(t,this.logService)}}class w2 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hawaiian Monk Seal",this.tier=5,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new _2(this,this.logService)),super.initAbilities()}}class A2 extends E{constructor(t,e){super({name:"MarineIguanaAbility",owner:t,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,condition:i=>{const{triggerPet:s}=i;return!this.targettedFriends.has(s)},abilityFunction:i=>{this.executeAbility(i)}}),this.targettedFriends=new Set,this.logService=e}reset(){this.targettedFriends=new Set,super.reset()}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;let o=r.parent.getSpecificPet(r,i),l=o.pet;!l||(l.givePetEquipment(new Gr),this.targettedFriends.add(l),this.logService.createLog({message:`${r.name} gave ${l.name} Melon`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),this.triggerTigerExecution(t))}copy(t){return new A2(t,this.logService)}}class E2 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Marine Iguana",this.tier=5,this.pack="Danger",this.attack=4,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new A2(this,this.logService)),super.initAbilities()}}class C2 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Red Panda",this.tier=5,this.pack="Danger",this.health=4,this.attack=4,this.initPet(o,s,a,r,l,c)}}class P2 extends E{constructor(t,e){super({name:"TaitaThrushAbility",owner:t,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=this.level,l=r.parent.getAll(!1,r,!0);for(let c of l.pets)c.increaseAttack(o),c.increaseHealth(o),this.logService.createLog({message:`${r.name} gave ${c.name} +${o} attack and +${o} health`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random});this.triggerTigerExecution(t)}copy(t){return new P2(t,this.logService)}}class T2 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Taita Thrush",this.tier=5,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new P2(this,this.logService)),super.initAbilities()}}class x2 extends E{constructor(t,e){super({name:"PaintedTerrapinAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.getPetsWithEquipment("White Okra"),l=r.parent.nearestPetsBehind(r.level,r,o),c=l.pets;for(let d of c)this.logService.createLog({message:`${r.name} gave ${d.name} White Okra perk`,type:"ability",tiger:s,player:r.parent,pteranodon:a,randomEvent:l.random}),d.givePetEquipment(new YC);this.triggerTigerExecution(t)}copy(t){return new x2(t,this.logService)}}class k2 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Painted Terrapin",this.tier=5,this.pack="Danger",this.health=6,this.attack=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new x2(this,this.logService)),super.initAbilities()}}class D2 extends E{constructor(t,e){super({name:"SnowLeopardAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=5*this.level,l=r.parent.opponent.getRandomPet([],!1,!0,!1,r);if(l.pet&&l.pet.alive){if(r.jumpAttackPrep(l.pet),r.transformed&&r.transformedInto){let c=r.parent.getThis(r.transformedInto);c.pet&&(r.transformedInto.increaseAttack(o),r.transformedInto.increaseHealth(o),this.logService.createLog({message:`${r.name} gave ${r.transformedInto.name} ${o} attack and ${o} health`,type:"ability",player:r.parent,tiger:s,randomEvent:c.random}))}else{let c=r.parent.getThis(r);c.pet&&(c.pet.increaseAttack(o),c.pet.increaseHealth(o),this.logService.createLog({message:`${r.name} gave ${c.pet.name} ${o} attack and ${o} health`,type:"ability",player:r.parent,tiger:s,randomEvent:c.random}))}r.jumpAttack(l.pet,s,null,l.random)}this.triggerTigerExecution(t)}copy(t){return new D2(t,this.logService)}}class M2 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snow Leopard",this.tier=5,this.pack="Danger",this.attack=3,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new D2(this,this.logService)),super.initAbilities()}}class R2 extends E{constructor(t,e){super({name:"AmsterdamAlbatrossAbility",owner:t,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;let o=2*r.level,l=2*r.level,d=r.parent.getSpecificPet(r,i).pet;null!=d&&(d.increaseAttack(o),d.increaseHealth(l),this.logService.createLog({message:`${r.name} gave ${d.name} +${o} attack and +${l} health.`,type:"ability",player:r.parent,tiger:s}),this.triggerTigerExecution(t))}copy(t){return new R2(t,this.logService)}}class I2 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Amsterdam Albatross",this.tier=6,this.pack="Danger",this.attack=3,this.health=6,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new R2(this,this.logService)),super.initAbilities()}}class O2 extends E{constructor(t,e,i,s){super({name:"BayCatAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=e,this.petService=i,this.abilityService=s}executeAbility(t){const{gameApi:e,tiger:s,pteranodon:a}=t,r=this.owner;let o=["Skunk","Fossa","Kraken","Lynx","Humphead Wrasse","Goblin Shark","Red Lipped Batfish","Platybelodon","Tasmanian Devil"];for(let l=0;l<r.level;l++){let c=o[Math.floor(Math.random()*o.length)],d=this.petService.createPet({name:c,attack:null,health:null,equipment:null,mana:0,exp:0},r.parent);r.parent.summonPet(d,r.savedPosition,!1,r).success&&(this.logService.createLog({message:`${r.name} summoned ${d.name}`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:!0}),d.hasAbility("StartBattle")&&(this.logService.createLog({message:`${d.name} activated its start of battle ability`,type:"ability",player:r.parent,tiger:s,pteranodon:a}),d.activateAbilities("StartBattle",e,"Pet")))}this.triggerTigerExecution(t)}copy(t){return new O2(t,this.logService,this.petService,this.abilityService)}}class N2 extends S{constructor(t,e,i,s,a,r,o,l,c,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Bay Cat",this.tier=6,this.pack="Danger",this.attack=7,this.health=5,this.initPet(l,a,r,o,c,d)}initAbilities(){this.addAbility(new O2(this,this.logService,this.petService,this.abilityService)),super.initAbilities()}}class L2 extends E{constructor(t,e){super({name:"BlackRhinoAbility",owner:t,triggers:["EnemyAttacked7"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let l=r.parent.opponent.getHighestHealthPets(r.level,[],r),c=l.pets;for(let d of c)r.snipePet(d,30,l.random,s);this.triggerTigerExecution(t)}copy(t){return new L2(t,this.logService)}}class B2 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Black Rhino",this.tier=6,this.pack="Danger",this.attack=5,this.health=9,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new L2(this,this.logService)),super.initAbilities()}}class $2 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blue Whale",this.tier=6,this.pack="Danger",this.health=12,this.attack=12,this.initPet(o,s,a,r,l,c)}}class V2 extends E{constructor(t,e){super({name:"CaliforniaCondorAbility",owner:t,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{triggerPet:i,tiger:s}=t,r=this.owner;let o=i;!o||(this.logService.createLog({message:`California Condor copied ${o.name}'s level ${r.level} ability`,type:"ability",player:r.parent,tiger:s}),r.gainAbilities(o,"Pet"),this.triggerTigerExecution(t))}copy(t){return new V2(t,this.logService)}}class q2 extends S{constructor(t,e,i,s,a,r,o,l,c,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="California Condor",this.tier=6,this.pack="Danger",this.attack=10,this.health=6,this.initPet(l,a,r,o,c,d)}initAbilities(){this.addAbility(new V2(this,this.logService)),super.initAbilities()}}class H2 extends E{constructor(t,e){super({name:"GreenSeaTurtleAbility",owner:t,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let l=r.parent.getAll(!1,r).pets;for(let c of l)c.givePetEquipment(new Gr,r.level),this.logService.createLog({message:`${r.name} gave ${c.name} Melon.`,type:"ability",player:r.parent,tiger:s});this.triggerTigerExecution(t)}copy(t){return new H2(t,this.logService)}}class G2 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Green Sea Turtle",this.tier=6,this.pack="Danger",this.attack=5,this.health=6,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new H2(this,this.logService)),super.initAbilities()}}class F2 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Helmeted Hornbill",this.tier=6,this.pack="Danger",this.health=4,this.attack=5,this.initPet(o,s,a,r,l,c)}}class U2 extends E{constructor(t,e){super({name:"PhilippineEagleAbility",owner:t,triggers:["AnyoneJumped"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.getRandomPet([],!1,!1,!1,r),l=o.pet;if(!l)return;let c=4*this.level;l.increaseAttack(c),this.logService.createLog({message:`${r.name} gave ${l.name} +${c} attack`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),l.increaseHealth(c),this.logService.createLog({message:`${r.name} gave ${l.name} +${c} health`,type:"ability",player:r.parent,tiger:s,randomEvent:o.random}),this.triggerTigerExecution(t)}copy(t){return new U2(t,this.logService)}}class j2 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Philippine Eagle",this.tier=6,this.pack="Danger",this.attack=7,this.health=6,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new U2(this,this.logService)),super.initAbilities()}}class W2 extends E{constructor(t,e,i){super({name:"SilkySifakaAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.petService=i}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=["Mammoth","Lionfish","Orca","Sabertooth Tiger","Warthog","Hydra","Phoenix","Bay Cat","Walrus","Ammonite"],c=r.parent.nearestPetsBehind(2,r).pets;for(let d of c){let f=o[Math.floor(Math.random()*o.length)],y=this.petService.createPet({name:f,attack:d.attack,health:d.health,mana:d.mana,exp:r.minExpForLevel,equipment:d.equipment},r.parent);r.parent.transformPet(d,y),this.logService.createLog({message:`${r.name} transformed ${d.name} into level ${r.level} ${y.name}`,type:"ability",player:r.parent,tiger:s,randomEvent:!0})}this.triggerTigerExecution(t)}copy(t){return new W2(t,this.logService,this.petService)}}class z2 extends S{constructor(t,e,i,s,a,r,o,l,c,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Silky Sifaka",this.tier=6,this.pack="Danger",this.attack=4,this.health=6,this.initPet(l,a,r,o,c,d)}initAbilities(){this.addAbility(new W2(this,this.logService,this.petService)),super.initAbilities()}}class K2 extends E{constructor(t,e){super({name:"SumatranTigerAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.getOppositeEnemyPet(r),l=o.pet;if(l&&(r.jumpAttackPrep(l),r.jumpAttack(l,s,null,o.random),r.level>=2)){let c=2===this.level?6:12,d=[];if(o.random)d=r.parent.getRandomLivingPets(2).pets;else{let f=l.petBehind();f&&f.alive&&d.push(f);let y=l.petAhead;y&&y.alive&&d.push(y)}for(let f of d)r.snipePet(f,c,o.random,s)}this.triggerTigerExecution(t)}copy(t){return new K2(t,this.logService)}}class Y2 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sumatran Tiger",this.tier=6,this.pack="Danger",this.attack=9,this.health=9,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new K2(this,this.logService)),super.initAbilities()}}class Q2 extends E{constructor(t,e,i){super({name:"RockAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new Q2(t,this.logService,this.abilityService)}}class Hf extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rock",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new Q2(this,this.logService,this.abilityService)),super.initAbilities()}}class J2 extends E{constructor(t,e,i){super({name:"BasiliskAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.nearestPetsAhead(1,r,void 0,!0);if(0===o.pets.length)return;let l=o.pets[0];if(null==l||!l.alive)return;let c=2*this.level,d=l.health+c;d=Math.min(d,50);let f=new Hf(this.logService,this.abilityService,l.parent,d,l.attack,l.mana,l.exp,l.equipment);this.logService.createLog({message:`${r.name} turned ${l.name} into a Rock with + ${c} health.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:o.random}),l.parent.transformPet(l,f),this.triggerTigerExecution(t)}copy(t){return new J2(t,this.logService,this.abilityService)}}class Z2 extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Basilisk",this.tier=1,this.pack="Custom",this.health=2,this.attack=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new J2(this,this.logService,this.abilityService)),super.initAbilities()}}class Ub extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Daycrawler",this.tier=1,this.pack="Custom",this.hidden=!0,this.health=1,this.attack=3,this.initPet(o,s,a,r,l,c)}}class X2 extends E{constructor(t,e,i){super({name:"NightcrawlerAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{gameApi:e,tiger:s,pteranodon:a}=t,r=this.owner;let l=r.parent==e.player?e.playerSummonedAmount:e.opponentSummonedAmount;if(0==l)return;let c=Math.min(50,this.level*l),f=new Ub(this.logService,this.abilityService,r.parent,c,6,0,0),y=r.parent.summonPet(f,r.savedPosition,!1,r);y.success&&this.logService.createLog({message:`${r.name} spawned Daycrawler (6/${c})`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:y.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new X2(t,this.logService,this.abilityService)}}class eB extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nightcrawler",this.tier=2,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new X2(this,this.logService,this.abilityService)),super.initAbilities()}}class tB extends E{constructor(t,e,i){super({name:"SphinxAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new tB(t,this.logService,this.abilityService)}}class iB extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sphinx",this.tier=2,this.pack="Custom",this.attack=2,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new tB(this,this.logService,this.abilityService)),super.initAbilities()}}class nB extends E{constructor(t,e){super({name:"ChupacabraAbility",owner:t,triggers:["ThisKilledEnemy"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;for(let o=0;o<3*this.level;o++){let l=r.parent.getRandomPet([r],!0,!1,!0,r);if(null==l.pet)return;l.pet.increaseHealth(1),this.logService.createLog({message:`${r.name} gave ${l.pet.name} 1 health.`,type:"ability",player:r.parent,tiger:s,randomEvent:l.random})}this.triggerTigerExecution(t)}copy(t){return new nB(t,this.logService)}}class sB extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chupacabra",this.tier=2,this.pack="Custom",this.attack=4,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new nB(this,this.logService)),super.initAbilities()}}class rB extends E{constructor(t,e,i){super({name:"GoldenBeetleAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new rB(t,this.logService,this.abilityService)}}class aB extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Golden Beetle",this.tier=2,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new rB(this,this.logService,this.abilityService)),super.initAbilities()}}class oB extends E{constructor(t,e,i){super({name:"FooDogAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new oB(t,this.logService,this.abilityService)}}class lB extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Foo Dog",this.tier=3,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new oB(this,this.logService,this.abilityService)),super.initAbilities()}}class cB extends E{constructor(t,e){super({name:"TreeAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:i=>this.owner.attack<=6*this.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;this.logService.createLog({message:`${r.name} gained Coconut.`,type:"ability",player:r.parent,tiger:s,pteranodon:a}),r.givePetEquipment(new qo),this.triggerTigerExecution(t)}copy(t){return new cB(t,this.logService)}}class uB extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tree",this.tier=3,this.pack="Custom",this.attack=2,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new cB(this,this.logService)),super.initAbilities()}}class jb extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smaller Slime",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=2,this.attack=2,this.initPet(o,s,a,r,l,c)}}class hB extends E{constructor(t,e,i){super({name:"SlimeAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=Math.floor(r.battlesFought/2),l=2*r.level;for(let c=0;c<o;c++){let d=new jb(this.logService,this.abilityService,r.parent,null,null,0),f=r.parent.summonPet(d,r.savedPosition,!1,r);f.success&&this.logService.createLog({message:`${r.name} spawned Smaller Slime (${l}/${l}).`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:f.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new hB(t,this.logService,this.abilityService)}}class dB extends S{constructor(t,e,i,s,a,r,o,l,c,d){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Slime",this.tier=3,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,s,a,r,l,c),this.battlesFought=d}initAbilities(){this.addAbility(new hB(this,this.logService,this.abilityService)),super.initAbilities()}}class gB extends E{constructor(t,e){super({name:"PegasusAbility",owner:t,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.getRandomPets(3,[r],!0,!1,r);for(let l of o.pets)l&&(l.increaseAttack(r.level),this.logService.createLog({message:`${r.name} gave ${l.name} ${r.level} attack.`,type:"ability",player:r.parent,randomEvent:o.random,tiger:s}));this.triggerTigerExecution(t)}copy(t){return new gB(t,this.logService)}}class fB extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pegasus",this.tier=3,this.pack="Custom",this.attack=1,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new gB(this,this.logService)),super.initAbilities()}}class pB extends E{constructor(t,e,i){super({name:"DeerLordAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new pB(t,this.logService,this.abilityService)}}class mB extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Deer Lord",this.tier=3,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new pB(this,this.logService,this.abilityService)),super.initAbilities()}}class yB extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fairy",this.tier=4,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new Tb(this)),super.initAbilities()}}class vB extends E{constructor(t,e,i){super({name:"RootlingAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new vB(t,this.logService,this.abilityService)}}class bB extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rootling",this.tier=4,this.pack="Custom",this.attack=1,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new vB(this,this.logService,this.abilityService)),super.initAbilities()}}class SB extends E{constructor(t,e){super({name:"AnubisAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{gameApi:e,tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.petArray.filter(l=>l.faintPet);for(let l of o)!l.alive||l.tier<=2*this.level&&(this.logService.createLog({message:`${r.name} activated ${l.name}'s faint ability.`,type:"ability",player:r.parent,tiger:s,pteranodon:a}),l.activateAbilities(void 0,e,"Pet"));this.triggerTigerExecution(t)}copy(t){return new SB(t,this.logService)}}class _B extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anubis",this.tier=4,this.pack="Custom",this.attack=3,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new SB(this,this.logService)),super.initAbilities()}}class wB extends E{constructor(t,e,i){super({name:"OldMouseAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new wB(t,this.logService,this.abilityService)}}class AB extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Old Mouse",this.tier=4,this.pack="Custom",this.attack=1,this.health=2,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new wB(this,this.logService,this.abilityService)),super.initAbilities()}}class EB extends E{constructor(t,e,i){super({name:"HippocampusAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new EB(t,this.logService,this.abilityService)}}class CB extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hippocampus",this.tier=4,this.pack="Custom",this.attack=2,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new EB(this,this.logService,this.abilityService)),super.initAbilities()}}class PB extends E{constructor(t,e,i){super({name:"GoblinSharkStartAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.petService=i}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=6*this.level;for(let l of r.parent.opponent.petArray)if(l.alive&&l.health<=o){let c=this.petService.createPet({name:l.name,attack:l.attack,health:l.health,exp:l.exp,equipment:null,mana:0},r.parent);r.swallowedPets.push(c),l.health=0,this.logService.createLog({message:`${r.name} swallowed ${l.name}`,type:"ability",player:r.parent,tiger:s,pteranodon:a});break}this.triggerTigerExecution(t)}copy(t){return new PB(t,this.logService,this.petService)}}class TB extends E{constructor(t,e,i){super({name:"GoblinSharkFaintAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:s=>this.owner.alive,abilityFunction:s=>{this.executeAbility(s)},ignoreRepeats:!0}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;for(;r.swallowedPets.length>0;){let o=r.swallowedPets.shift();o.health=1;let l=r.parent.summonPet(o,r.savedPosition,!1,r);l.success&&this.logService.createLog({message:`${r.name} summoned ${o.name} (level ${o.level}).`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:l.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new TB(t,this.logService,this.abilityService)}}class xB extends S{constructor(t,e,i,s,a,r,o,l,c,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Goblin Shark",this.tier=4,this.pack="Custom",this.attack=6,this.health=3,this.initPet(l,a,r,o,c,d)}initAbilities(){this.addAbility(new PB(this,this.logService,this.petService)),this.addAbility(new TB(this,this.logService,this.abilityService)),super.initAbilities()}}class kB extends E{constructor(t,e,i,s){super({name:"RedLippedBatfishAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=e,this.abilityService=i,this.petService=s}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.opponent.getPetAtPosition(r.position);if(!o||!o.alive)return;let l=Math.max(1,o.tier-this.level),c=this.petService.getRandomFaintPet(o.parent,l),d=this.petService.createPet({name:c.name,attack:o.attack,health:o.health,exp:o.exp,equipment:o.equipment,mana:o.mana},o.parent);this.logService.createLog({message:`${r.name} transformed ${o.name} into ${c.name}.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:!0}),o.parent.transformPet(o,d),this.triggerTigerExecution(t)}copy(t){return new kB(t,this.logService,this.abilityService,this.petService)}}class DB extends S{constructor(t,e,i,s,a,r,o,l,c,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Red Lipped Batfish",this.tier=4,this.pack="Custom",this.attack=5,this.health=3,this.initPet(l,a,r,o,c,d)}initAbilities(){this.addAbility(new kB(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class MB extends E{constructor(t,e){super({name:"PlatybelodonAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{gameApi:e,tiger:s}=t,r=this.owner;let o=0;r.parent===e.player?o=e.playerRollAmount||0:r.parent===e.opponet&&(o=e.opponentRollAmount||0);let l=this.level*Math.min(o,8);if(l>0){const c=r.parent.resolveTrumpetGainTarget(r);c.player.gainTrumpets(l,r,s,void 0,void 0,c.random)}this.triggerTigerExecution(t)}copy(t){return new MB(t,this.logService)}}class RB extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Platybelodon",this.tier=4,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new MB(this,this.logService)),super.initAbilities()}}class IB extends E{constructor(t,e,i){super({name:"BoitataAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}reset(){this.maxUses=this.level,super.reset()}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.opponent.getFurthestUpPet(r),l=o.pet;null!=l&&(this.logService.createLog({message:`${r.name} gave ${l.name} Crisp.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:o.random}),l.givePetEquipment(new Vo),this.triggerTigerExecution(t))}copy(t){return new IB(t,this.logService,this.abilityService)}}class OB extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Boitata",this.tier=5,this.pack="Custom",this.attack=2,this.health=9,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new IB(this,this.logService,this.abilityService)),super.initAbilities()}}class NB extends E{constructor(t,e,i,s){super({name:"KappaAbility",owner:t,triggers:["ThisDied"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=e,this.abilityService=i,this.petService=s}executeAbility(t){const{gameApi:e,tiger:s,pteranodon:a}=t,r=this.owner;let l=(r.parent==e.player?e.playerPetPool:e.opponentPetPool).get(3);for(let c=0;c<r.level;c++){let d=l[Math.floor(Math.random()*l.length)],f=l[Math.floor(Math.random()*l.length)],y=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:d},r.parent);r.parent.summonPet(y,r.savedPosition,!1,r).success&&this.logService.createLog({message:`${r.name} spawned a ${y.name} (14/16).`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:!0});let P=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:f},r.parent.opponent);r.parent.opponent.summonPet(P,r.savedPosition,!1,r).success&&this.logService.createLog({message:`${r.name} spawned a ${P.name} (14/16) for the opponent.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:!0})}this.triggerTigerExecution(t)}copy(t){return new NB(t,this.logService,this.abilityService,this.petService)}}class LB extends S{constructor(t,e,i,s,a,r,o,l,c,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Kappa",this.tier=5,this.pack="Custom",this.attack=4,this.health=5,this.initPet(l,a,r,o,c,d)}initAbilities(){this.addAbility(new NB(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class BB extends E{constructor(t,e,i){super({name:"MimicAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new BB(t,this.logService,this.abilityService)}}class $B extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mimic",this.tier=5,this.pack="Custom",this.attack=3,this.health=6,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new BB(this,this.logService,this.abilityService)),super.initAbilities()}}class VB extends E{constructor(t){super({name:"NurikabeAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,abilityFunction:e=>{this.executeAbility(e)}})}executeAbility(t){}reset(){this.maxUses=this.level,super.reset()}copy(t){return new VB(t)}}class qB extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nurikabe",this.tier=5,this.pack="Custom",this.attack=5,this.health=6,this.maxAbilityUses=3,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new VB(this)),super.initAbilities()}}class HB extends E{constructor(t,e,i){super({name:"LeviathanAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new HB(t,this.logService,this.abilityService)}}class GB extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leviathan",this.tier=6,this.pack="Custom",this.attack=6,this.health=10,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new HB(this,this.logService,this.abilityService)),super.initAbilities()}}class FB extends E{constructor(t,e,i){super({name:"QuestingBeastAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new FB(t,this.logService,this.abilityService)}}class UB extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Questing Beast",this.tier=6,this.pack="Custom",this.attack=7,this.health=9,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new FB(this,this.logService,this.abilityService)),super.initAbilities()}}class jB extends E{constructor(t,e,i){super({name:"CockatriceAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.opponent.petArray.reverse(),l=null;for(let f of o)if(f.level<=this.level){l=f;break}if(null==l)return;this.logService.createLog({message:`${r.name} transformed ${l.name} into a Rock.`,type:"ability",player:r.parent,tiger:s,pteranodon:a});let c=new Hf(this.logService,this.abilityService,l.parent,l.health,l.attack,l.mana,l.exp,l.equipment);r.parent.opponent.setPet(l.position,c,!1),this.triggerTigerExecution(t)}copy(t){return new jB(t,this.logService,this.abilityService)}}class WB extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockatrice",this.tier=6,this.pack="Custom",this.attack=5,this.health=7,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new jB(this,this.logService,this.abilityService)),super.initAbilities()}}class zB extends E{constructor(t,e,i){super({name:"AlbatrossAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.abilityService=i}executeAbility(t){this.triggerTigerExecution(t)}copy(t){return new zB(t,this.logService,this.abilityService)}}class ZG extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Albatross",this.tier=6,this.pack="Custom",this.attack=5,this.health=4,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new zB(this,this.logService,this.abilityService)),super.initAbilities()}}class KB extends E{constructor(t,e){super({name:"TarantulaHawkAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=Math.floor(r.attack/10)*this.level;if(o<=0)return;let c=r.parent.opponent.getAll(!1,r).pets;if(0!=c.length){for(let d of c)d.increaseHealth(-o),this.logService.createLog({message:`${r.name} removed ${o} health from ${d.name}`,type:"ability",player:r.parent,tiger:s,pteranodon:a});this.triggerTigerExecution(t)}}copy(t){return new KB(t,this.logService)}}class YB extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tarantula Hawk",this.tier=6,this.pack="Custom",this.health=2,this.attack=10,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new KB(this,this.logService)),super.initAbilities()}}class QB extends E{constructor(t,e){super({name:"GoodDogAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.getAll(!0,r),l=o.pets;if(0===l.length)return;let c=cc.getInjector().get(Di).getInstanceOfAllEquipment(),d=Array.from(c.values());for(let f of l){if(!f.alive)continue;let y=d[Math.floor(Math.random()*d.length)];this.logService.createLog({message:`${r.name} gave ${f.name} ${y.name}`,type:"ability",player:r.parent,randomEvent:o.random,tiger:s}),f.givePetEquipment(y)}this.triggerTigerExecution(t)}copy(t){return new QB(t,this.logService)}}class JB extends S{constructor(t,e,i,s,a,r,o,l,c,d,f){super(t,e,a),this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s,this.name="Good Dog",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=3,this.hidden=!0,this.initPet(c,r,o,l,d,f)}initAbilities(){this.addAbility(new QB(this,this.logService)),super.initAbilities()}}class ZB extends E{constructor(t,e){super({name:"SalmonAbility",owner:t,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=1+Math.floor(r.health/25),l=5*this.level;for(let c=0;c<o;c++){let d=r.parent.opponent.getRandomPet([],!1,!0,!1,r);d.pet&&r.snipePet(d.pet,l,d.random,s)}this.triggerTigerExecution(t)}copy(t){return new ZB(t,this.logService)}}class XB extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Salmon",this.tier=1,this.pack="Star",this.attack=1,this.health=1,this.hidden=!0,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new ZB(this,this.logService)),super.initAbilities()}}class e$ extends E{constructor(t,e){super({name:"MimicOctopusAbility",owner:t,triggers:["ThisAttacked"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o=r.parent.opponent.getLowestHealthPets(r.level,void 0,r);for(let l of o.pets)r.snipePet(l,4,o.random,s);this.triggerTigerExecution(t)}copy(t){return new e$(t,this.logService)}}class t$ extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mimic Octopus",this.tier=6,this.pack="Star",this.attack=3,this.health=6,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new e$(this,this.logService)),super.initAbilities()}}class i$ extends E{constructor(t,e,i){super({name:"AmmoniteAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:s=>{this.executeAbility(s)}}),this.logService=e,this.petService=i}executeAbility(t){const{gameApi:e,tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.nearestPetsBehind(1,r);if(0===o.pets.length)return;let l=o.pets[0],d=Math.floor((r.parent===e.player?e.playerRollAmount:e.opponentRollAmount)/2)*this.level,f=this.petService.createPet({name:"Mimic Octopus",attack:l.attack,health:l.health,equipment:l.equipment,mana:l.mana,exp:l.exp},r.parent);this.logService.createLog({message:`${r.name} transformed ${l.name} into ${f.name}`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:o.random}),r.parent.transformPet(l,f);let y=r.parent.getThis(f),b=y.pet;null!=b&&(this.logService.createLog({message:`${r.name} gave ${b.name} +${d} experience.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:y.random}),b.increaseExp(d),this.triggerTigerExecution(t))}copy(t){return new i$(t,this.logService,this.petService)}}class n$ extends S{constructor(t,e,i,s,a,r,o,l,c,d){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Ammonite",this.tier=6,this.pack="Star",this.attack=5,this.health=3,this.initPet(l,a,r,o,c,d)}initAbilities(){this.addAbility(new i$(this,this.logService,this.petService)),super.initAbilities()}}class s$ extends E{constructor(t,e){super({name:"VelociraptorAbility",owner:t,triggers:["FriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s}=t,r=this.owner;let o;for(let c=r.parent.petArray.indexOf(r)-1;c>=0;c--){let d=r.parent.petArray[c];if(d.alive&&d.equipment&&"Strawberry"===d.equipment.name){o=d;break}}if(o){if(o&&o.equipment&&"Strawberry"===o.equipment.name){o.removePerk(),this.logService.createLog({message:`${r.name} removed Strawberry from ${o.name}`,type:"ability",player:r.parent,tiger:s});let c=2*this.level,d=3*this.level,f=r.parent.getAll(!1,r,!0),y=f.pets;for(let b of y)b.increaseAttack(c),b.increaseHealth(d),this.logService.createLog({message:`${r.name} gave ${b.name} +${c} attack and +${d} health`,type:"ability",player:r.parent,tiger:s,randomEvent:f.random})}this.triggerTigerExecution(t)}}copy(t){return new s$(t,this.logService)}}class r$ extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Velociraptor",this.tier=6,this.pack="Star",this.attack=3,this.health=6,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new s$(this,this.logService)),super.initAbilities()}}class a$ extends E{constructor(t,e){super({name:"BabyUrchinAbility",owner:t,triggers:["BeforeThisDies"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=e}executeAbility(t){const{tiger:s,pteranodon:a}=t,r=this.owner;let o=r.parent.opponent.getFurthestUpPet(r),l=[o.pet],c=o.random;if(l[0]){for(let d=0;d<r.level-1;d++){let f;if(f=c?r.parent.opponent.getFurthestUpPet(r).pet:l[d].petBehind(),!f)break;l.push(f)}for(let d of l)d&&(d.increaseHealth(-4),this.logService.createLog({message:`${r.name} removed 4 health from ${d.name}.`,type:"ability",player:r.parent,tiger:s,pteranodon:a,randomEvent:c}));this.triggerTigerExecution(t)}}copy(t){return new a$(t,this.logService)}}class o$ extends S{constructor(t,e,i,s,a,r,o,l,c){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Baby Urchin",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(o,s,a,r,l,c)}initAbilities(){this.addAbility(new a$(this,this.logService)),super.initAbilities()}}let Gf=(()=>{class n{constructor(e,i,s){this.logService=e,this.abilityService=i,this.gameService=s,this.turtlePackPets=new Map,this.puppyPackPets=new Map,this.starPackPets=new Map,this.goldenPackPets=new Map,this.unicornPackPets=new Map,this.customPackPets=new Map,this.dangerPackPets=new Map,this.playerCustomPackPets=new Map,this.allPets=new Map,this.startOfBattlePets=["Beetle","Cone Snail","Frilled Dragon","Frog","Gecko","Goose","Hummigbird","Mosquito","Moth","Seahorse","Atlantic Puffin","Bat","Crab","Panda","Robin","Salamander","Wombat","Dodo","Dolphin","Eel","Meerkat","Pug","Woodpecker","Doberman","Hawk","Lynx","Pelican","Skunk","Whale","Armadillo","Crocodile","Hyena","Macaque","Sword Fish","Highland Cow","Leopard","Mantis Shrimp","Stegosaurus","Therizinosaurus","White Tiger","Alchemedes","Axehandle Hound","Barghest","Bunyip","Sneaky Egg","Tsuchinoko","Ogopogo","Thunderbird","Mana Hound","Mandrake","Kraken","Roc","Red Dragon","Salmon of Knowledge","Werewolf","Sleipnir","Basilisk","Tree","Anubis","Cockatrice"]}buildCustomPackPets(e){for(let i of e.controls){let s=new Map;for(let a=1;a<=6;a++)s.set(a,i.get(`tier${a}Pets`).value);this.playerCustomPackPets.set(i.get("name").value,s)}}init(){this.turtlePackPets.set(1,["Ant","Cricket","Duck","Fish","Horse","Mosquito","Beaver","Otter","Pig","Pigeon"]),this.turtlePackPets.set(2,["Snail","Crab","Swan","Rat","Hedgehog","Peacock","Flamingo","Worm","Kangaroo","Spider"]),this.turtlePackPets.set(3,["Dodo","Badger","Dolphin","Giraffe","Elephant","Camel","Rabbit","Ox","Dog","Sheep"]),this.turtlePackPets.set(4,["Skunk","Hippo","Bison","Blowfish","Turtle","Squirrel","Penguin","Deer","Whale","Parrot"]),this.turtlePackPets.set(5,["Scorpion","Crocodile","Rhino","Monkey","Armadillo","Cow","Seal","Rooster","Shark","Turkey"]),this.turtlePackPets.set(6,["Leopard","Tiger","Boar","Wolverine","Gorilla","Dragon","Mammoth","Cat","Snake","Fly"]),this.puppyPackPets.set(1,["Duck","Beaver","Moth","Bluebird","Chinchilla","Beetle","Ladybug","Chipmunk","Gecko","Ferret"]),this.puppyPackPets.set(2,["Robin","Bat","Bilby","Dromedary","Shrimp","Beluga Sturgeon","Tabby Cat","Mandrill","Lemur","Goldfish"]),this.puppyPackPets.set(3,["Hoopoe Bird","Tropical Fish","Toucan","Hatching Chick","Owl","Mole","Pangolin","Gharial","Hare","Purple Frog"]),this.puppyPackPets.set(4,["Microbe","Lobster","Buffalo","Llama","Caterpillar","Doberman","Tahr","Whale Shark","Chameleon","Puppy"]),this.puppyPackPets.set(5,["Stonefish","Goat","Chicken","Eagle","Orchid Mantis","Panther","Axolotl","Snapping Turtle","Mosasaurus","Sting Ray"]),this.puppyPackPets.set(6,["Dragon","Mantis Shrimp","Lionfish","Tyrannosaurus","Octopus","Anglerfish","Sauropod","Elephant Seal","Puma","Mongoose"]),this.starPackPets.set(1,["Mouse","Pillbug","Cockroach","Frog","Hummingbird","Marmoset","Pheasant","Kiwi","Chihuahua","Firefly"]),this.starPackPets.set(2,["Koala","Salamander","Guinea Pig","Jellyfish","Dove","Stork","Iguana","DumboOctopus","Bass","Shima Enaga"]),this.starPackPets.set(3,["Leech","Toad","Cabybara","Okapi","Cassowary","Anteater","Pug","Orangutang","Tuna"]),this.starPackPets.set(4,["Hawk","Clownfish","Platypus","Praying Mantis","Donkey","Fairy Armadillo","Fossa","Elk","Sparrow","Siamese"]),this.starPackPets.set(5,["Sword Fish","Triceratops","Hamster","Shoebill","Woodpecker","Starfish","Blobfish","Pelican","Vulture","Ibex"]),this.starPackPets.set(6,["Ostrich","Reindeer","Piranha","Orca","Spinosaurus","Real Velociraptor","Sabertooth Tiger","Ammonite","Velociraptor","Alpaca"]),this.goldenPackPets.set(1,["Chipmunk","Bulldog","Groundhog","Cone Snail","Goose","Lemming","Pied Tamarin","Opossum","Silkmoth","Magpie"]),this.goldenPackPets.set(2,["Hercules Beetle","Stoat","Black Necked Stilt","Squid","Sea Urchin","Door Head Ant","Lizard","Sea Turtle","Meerkat","African Penguin"]),this.goldenPackPets.set(3,["Musk Ox","Flea","Bear","Royal Flycatcher","Surgeon Fish","Weasel","Guineafowl","Flying Fish","Baboon","Osprey"]),this.goldenPackPets.set(4,["Manatee","Cuttlefish","Saiga Antelope","Sealion","Vaquita","Slug","Poison Dart Frog","Falcon","Manta Ray","Cockatoo"]),this.goldenPackPets.set(5,["Macaque","Nyala","Nurse Shark","Beluga Whale","Wolf","Secretary Bird","Fire Ant","Blue Ringed Octopus","Crane","Emu","Egyptian Vulture"]),this.goldenPackPets.set(6,["Wildebeest","Highland Cow","Catfish","Pteranodon","Warthog","Cobra","Grizzly Bear","German Shepherd","Bird of Paradise","Oyster","Rockhopper Penguin"]),this.unicornPackPets.set(1,["Baku","Axehandle Hound","Barghest","Tsuchinoko","Murmel","Alchemedes","Pengobble","Warf","Bunyip","Sneaky Egg","Cuddle Toad","???"]),this.unicornPackPets.set(2,["Ghost Kitten","Frost Wolf","Mothman","Drop Bear","Jackalope","Ogopogo","Thunderbird","Gargoyle","Wyvern","Bigfoot"]),this.unicornPackPets.set(3,["Skeleton Dog","Mandrake","Fur-Bearing Trout","Mana Hound","Calygreyhound","Brain Cramp","Lucky Cat","Tatzelwurm","Ouroboros","Griffin"]),this.unicornPackPets.set(4,["Kraken","Visitor","Unicorn","Tiger Bug","Minotaur","Cyclops","Chimera","Roc","Worm of Sand","Abomination"]),this.unicornPackPets.set(5,["Red Dragon","Vampire Bat","Loveland Frogman","Salmon of Knowledge","Jersey Devil","Pixiu","Kitsune","Nessie","Bad Dog","Werewolf","Amalgamation"]),this.unicornPackPets.set(6,["Manticore","Phoenix","Quetzalcoatl","Team Spirit","Sleipnir","Sea Serpent","Yeti","Cerberus","Hydra","Behemoth"]),this.dangerPackPets.set(1,["African Wild Dog","Iriomote Cat","Ili Pika","Malay Tapir","Bombus Dahlbomii","Ethiopian Wolf","Fan Mussel","Togian Babirusa","Tooth Billed Pigeon","Volcano Snail"]),this.dangerPackPets.set(2,["Araripe Manakin","Darwin's Fox","European Mink","Proboscis Monkey","Pygmy Hog","Saola","Saker Falcon","Taita Shrew","Takhi","White-Bellied Heron"]),this.dangerPackPets.set(3,["Amami Rabbit","Blue-Throated Macaw","Hirola","Monkey-Faced Bat","Takin","Tree Kangaroo","Tucuxi","Pygmy Hippo","Roloway Monkey","Spoon-Billed Sandpiper"]),this.dangerPackPets.set(4,["Amazon River Dolphin","Angelshark","Bonobo","Giant Otter","Giant Tortoise","Golden Tamarin","Humphead Wrasse","Kakapo","Longcomb Sawfish","Tasmanian Devil"]),this.dangerPackPets.set(5,["Aye-aye","Banggai Cardinalfish","Geometric Tortoise","Giant Pangasius","Hawaiian Monk Seal","Marine Iguana","Red Panda","Snow Leopard","Taita Thrush","Painted Terrapin"]),this.dangerPackPets.set(6,["Amsterdam Albatross","Bay Cat","Black Rhino","Blue Whale","California Condor","Green Sea Turtle","Helmeted Hornbill","Philippine Eagle","Silky Sifaka","Sumatran Tiger"]),this.customPackPets.set(1,["Frilled Dragon","Mouse","Basilisk","Duckling","Seahorse"]),this.customPackPets.set(2,["Frigatebird","Wombat","Frigatebird","Nightcrawler","Sphinx","Chupacabra","Golden Beetle","Yak","Panda","Atlantic Puffin"]),this.customPackPets.set(3,["Aardvark","Emperor Tamarin","Porcupine","Wasp","Foo Dog","Tree","Slime","Pegasus","Deer Lord","Betta Fish","Flying Squirrel"]),this.customPackPets.set(4,["Jerboa","Dragonfly","Lynx","Seagull","Fairy","Rootling","Anubis","Old Mouse","Hippocampus","Goblin Shark","Red Lipped Batfish","Platybelodon","Eel","Crow","Tandgnost"]),this.customPackPets.set(5,["Poodle","Hyena","Moose","Raccoon","Sea Cucumber","Silver Fox","Boitata","Kappa","Mimic","Nurikabe","Tandgrisner","Fox","Lion","Polar Bear","Siberian Husky","Zebra"]),this.customPackPets.set(6,["Lioness","Tapir","Walrus","White Tiger","Great One","Leviathan","Questing Beast","Cockatrice","Albatross","Amargasaurus","Tarantula Hawk","Hammerhead Shark","Komodo","Stegosaurus","Harpy Eagle","Therizinosaurus"]),this.setAllPets()}setAllPets(){this.allPets=new Map;for(let e=1;e<=6;e++)this.allPets.set(e,[]);for(let[e,i]of this.turtlePackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.puppyPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.starPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.goldenPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.unicornPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.dangerPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.allPets)this.allPets.set(e,[...new Set(i)])}createPet(e,i){switch(e.name){case"Ant":return new Nf(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Cricket":return new sP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Fish":return new nb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Horse":return new aP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Mosquito":return new lP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Duck":return new sb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Beaver":return new rb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Otter":return new cP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Pig":return new uP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Mouse":default:return new ab(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Pigeon":return new VI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Snail":return new Bee(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Crab":return new gP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Swan":return new fP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Rat":return new mP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Hedgehog":return new vP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Peacock":return new SP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Flamingo":return new wP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Worm":return new AP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Kangaroo":return new CP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Spider":return new TP(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Dodo":return new kP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Badger":return new MP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Dolphin":return new lb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Giraffe":return new IP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Elephant":return new NP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Camel":return new BP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Rabbit":return new VP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Ox":return new HP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Dog":return new FP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Sheep":return new WP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Skunk":return new ZP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Hippo":return new eT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Bison":return new tT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Blowfish":return new nT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Turtle":return new rT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Squirrel":return new aT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Penguin":return new oT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Deer":return new uT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Whale":return new gT(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Parrot":return new QP(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Scorpion":return new mT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Crocodile":return new vT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Rhino":return new ST(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Monkey":return new db(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Armadillo":return new wT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Cow":return new AT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Seal":return new CT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Rooster":return new xT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Shark":return new DT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Turkey":return new RT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Leopard":return new OT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Boar":return new LT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Tiger":return new KP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Wolverine":return new $T(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Gorilla":return new qT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Dragon":return new HT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Mammoth":return new FT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Cat":return new UT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Snake":return new WT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Fly":return new YT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Moth":return new JT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Bluebird":return new XT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Chinchilla":return new tx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Beetle":return new nx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Ladybug":return new rx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Chipmunk":return new ox(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Gecko":return new cx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Ferret":return new hx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Robin":return new yx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Bat":return new gx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Bilby":return new px(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Dromedary":return new bx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Shrimp":return new _x(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Toucan":return new Dx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Beluga Sturgeon":return new Rx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Tabby Cat":return new Ox(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Mandrill":return new Lx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Lemur":return new _b(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Hoopoe Bird":return new Vx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Tropical Fish":return new qx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Hatching Chick":return new Gx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Goldfish":return new Ux(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Owl":return new jx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Mole":return new wb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Raccoon":return new Kx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Flying Squirrel":return new e0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Pangolin":return new n0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Puppy":return new s0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Purple Frog":return new zie(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Hare":return new HI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Microbe":return new a0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Lobster":return new o0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Buffalo":return new l0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Llama":return new c0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Caterpillar":return new d0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Doberman":return new f0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Tahr":return new m0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Whale Shark":return new v0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Chameleon":return new q0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Gharial":return new H0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Stonefish":return new F0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Poodle":return new j0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Goat":return new ek(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Chicken":return new W0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Eagle":return new K0(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Orchid Mantis":return new Q0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Panther":return new J0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Axolotl":return new X0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Snapping Turtle":return new ik(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mosasaurus":return new nk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sting Ray":return new sk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mantis Shrimp":return new ak(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lionfish":return new lk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tyrannosaurus":return new ck(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Octopus":return new hk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Anglerfish":return new dk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sauropod":return new gk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Elephant Seal":return new pk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Puma":return new mr(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mongoose":return new mk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pillbug":return new vk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Duckling":return new Sk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cockroach":return new wk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Frog":return new Ek(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Seahorse":return new xk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Iguana":return new Dk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hummingbird":return new Rk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Marmoset":return new UR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pheasant":return new Xie(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kiwi":return new II(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chihuahua":return new Pk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Firefly":return new LI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Koala":return new Ok(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Yak":return new Lk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Salamander":return new Vk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Panda":return new Hk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Guinea Pig":return new Gk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Jellyfish":return new Wk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pug":return new Uk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Atlantic Puffin":return new Kk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dove":return new Qk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Stork":return new Zk(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"DumboOctopus":return new Bk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Bass":return new $I(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Shima Enaga":return new eD(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Leech":return new tD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Woodpecker":return new nD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Toad":return new oD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Starfish":return new lD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Clownfish":return new uD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Blobfish":return new dD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Cabybara":return new gD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Okapi":return new fD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Cassowary":return new mD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Anteater":return new $D(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Tuna":return new rD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed,e.timesHurt);case"Orangutang":return new Pb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Eel":return new ED(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Hawk":return new PD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Platypus":return new xD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Praying Mantis":return new Cb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Crow":return new DD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Donkey":return new RD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Pelican":return new LD(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Fairy Armadillo":return new SD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Fossa":return new wD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Siamese":return new yD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Elk":return new vD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Sparrow":return new ID(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Sword Fish":return new qD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Polar Bear":return new GD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Siberian Husky":return new UD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Lion":return new WD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Triceratops":return new KD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Zebra":return new QD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Fox":return new ZD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Hamster":return new XD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Shoebill":return new e1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Vulture":return new i1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Ibex":return new s1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Komodo":return new a1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Ostrich":return new o1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Reindeer":return new c1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Stegosaurus":return new h1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Piranha":return new g1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Hammerhead Shark":return new p1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Therizinosaurus":return new y1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Harpy Eagle":return new b1(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Real Velociraptor":return new _1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Sabertooth Tiger":return new A1(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed,e.timesHurt);case"Orca":return new C1(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Spinosaurus":return new T1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Bulldog":return new k1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Groundhog":return new kb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Cone Snail":return new R1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Goose":return new O1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Lemming":return new q1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Pied Tamarin":return new L1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Opossum":return new MI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Silkmoth":return new $1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Magpie":return new G1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Hercules Beetle":return new U1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Stoat":return new W1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Black Necked Stilt":return new K1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Squid":return new Q1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Sea Urchin":return new Z1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Door Head Ant":return new eM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Lizard":return new iM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Sea Turtle":return new sM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"African Penguin":return new aM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Musk Ox":return new lM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Flea":return new uM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Royal Flycatcher":return new WM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Surgeon Fish":return new dM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Weasel":return new Mb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Guineafowl":return new pM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Betta Fish":return new yM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Meerkat":return new bM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Flying Fish":return new _M(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Baboon":return new AM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Osprey":return new CM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Manatee":return new TM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Cuttlefish":return new kM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Egyptian Vulture":return new MM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Saiga Antelope":return new IM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Sealion":return new NM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Vaquita":return new BM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Slug":return new qM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Poison Dart Frog":return new GM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Secretary Bird":return new UM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Falcon":return new KM(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Manta Ray":return new QM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Macaque":return new ZM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Nyala":return new eR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Nurse Shark":return new iR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Beluga Whale":return new sR(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed,e.belugaSwallowedPet);case"Wolf":return new aR(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Silver Fox":return new lR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Fire Ant":return new uR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Cockatoo":return new dR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Blue Ringed Octopus":return new fR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Crane":return new mR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Emu":return new vR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Wildebeest":return new SR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Highland Cow":return new wR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Catfish":return new ER(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Pteranodon":return new PR(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Warthog":return new xR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Cobra":return new DR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Grizzly Bear":return new RR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"German Shepherd":return new OR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Bird of Paradise":return new LR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Oyster":return new $R(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Rockhopper Penguin":return new qR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Jerboa":return new WR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Frilled Dragon":return new KR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Wombat":return new QR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Frigatebird":return new ZR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Aardvark":return new eI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Bear":return new iI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Emperor Tamarin":return new sI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Porcupine":return new aI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Wasp":return new lI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Dragonfly":return new uI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Lynx":return new dI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Seagull":return new fI(this.logService,this.abilityService,this,this.gameService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Alpaca":return new Ob(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Hyena":return new yI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Moose":return new bI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Sea Cucumber":return new Qx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Lioness":return new _I(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Tapir":return new AI(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Walrus":return new CI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"White Tiger":return new TI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Basilisk":return new Z2(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Nightcrawler":return new eB(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Sphinx":return new iB(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Chupacabra":return new sB(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Golden Beetle":return new aB(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Foo Dog":return new lB(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Tree":return new uB(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Slime":return new dB(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed,e.battlesFought);case"Pegasus":return new fB(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Deer Lord":return new mB(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Fairy":return new yB(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Rootling":return new bB(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Anubis":return new _B(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Old Mouse":return new AB(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Hippocampus":return new CB(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Goblin Shark":return new xB(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Red Lipped Batfish":return new DB(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Platybelodon":return new RB(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Boitata":return new OB(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Kappa":return new LB(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Mimic":return new $B(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Nurikabe":return new qB(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Tandgnost":return new yb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Tandgrisner":return new vb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Great One":return new qf(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Leviathan":return new GB(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Questing Beast":return new UB(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Cockatrice":return new WB(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Amargasaurus":return new kI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Tarantula Hawk":return new YB(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Angry Pygmy Hog":return new hb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Bee":return new yh(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Bus":return new ub(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Butterfly":return new Eb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Chick":return new gb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Dirty Rat":return new ob(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Golden Retriever":return new ib(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Lizard Tail":return new Db(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Nest":return new $f(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Ram":return new cb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Smaller Slug":return new Ib(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Loyal Chinchilla":return new GR(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Smallest Slug":return new Rb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Zombie Cricket":return new mh(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Zombie Fly":return new Lf(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Cracked Egg":return new Nb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Nessie?":return new Vb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Young Phoenix":return new qb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Fire Pup":return new Hb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Monty":return new pb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Rock":return new Hf(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Daycrawler":return new Ub(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Smaller Slime":return new jb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Chim-Goat":return new Bb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Chim-Lion":return new Lb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Chim-Snake":return new $b(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Head":return new Gb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Good Dog":return new JB(this.logService,this.abilityService,this,this.gameService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Salmon":return new XB(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Mimic Octopus":return new t$(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Ammonite":return new n$(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Velociraptor":return new r$(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Baby Urchin":return new o$(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Fairy Ball":return new xb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Baku":return new GI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Axehandle Hound":return new jI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Barghest":return new zI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Tsuchinoko":return new YI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Murmel":return new JI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Alchemedes":return new XI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Pengobble":return new tO(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Warf":return new nO(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Bunyip":return new rO(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Sneaky Egg":return new oO(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Cuddle Toad":return new lO(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"???":return new FI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Ghost Kitten":return new cO(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Frost Wolf":return new hO(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Mothman":return new gO(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Drop Bear":return new pO(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Jackalope":return new yO(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Ogopogo":return new _O(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Thunderbird":return new AO(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Gargoyle":return new CO(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Bigfoot":return new PO(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Lucky Cat":return new bO(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Skeleton Dog":return new xO(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Mandrake":return new DO(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Fur-Bearing Trout":return new RO(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Mana Hound":return new OO(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Calygreyhound":return new LO(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Brain Cramp":return new $O(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Minotaur":return new qO(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Wyvern":return new HO(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Ouroboros":return new GO(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Griffin":return new FO(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Kraken":return new jO(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Visitor":return new zO(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Vampire Bat":return new YO(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Tiger Bug":return new JO(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Tatzelwurm":return new XO(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Cyclops":return new tN(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Chimera":return new nN(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Roc":return new rN(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Worm of Sand":return new aN(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Abomination":return new lN(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed,e.abominationSwallowedPet1,e.abominationSwallowedPet2,e.abominationSwallowedPet3);case"Red Dragon":return new uN(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Unicorn":return new dN(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Loveland Frogman":return new fN(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Salmon of Knowledge":return new Ab(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Jersey Devil":return new vN(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Pixiu":return new SN(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Kitsune":return new wN(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Nessie":return new EN(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Bad Dog":return new CN(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Werewolf":return new TN(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Amalgamation":return new mN(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Manticore":return new kN(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Phoenix":return new RN(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Quetzalcoatl":return new IN(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Team Spirit":return new NN(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Sleipnir":return new BN(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Sea Serpent":return new VN(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Yeti":return new qN(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Cerberus":return new GN(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Hydra":return new UN(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Behemoth":return new WN(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Iriomote Cat":return new KN(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Ili Pika":return new QN(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Malay Tapir":return new ZN(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Bombus Dahlbomii":return new eL(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"African Wild Dog":return new uL(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Ethiopian Wolf":return new Fb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Fan Mussel":return new nL(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Togian Babirusa":return new rL(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Tooth Billed Pigeon":return new aL(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Volcano Snail":return new lL(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Araripe Manakin":return new dL(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"European Mink":return new fL(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Proboscis Monkey":return new pL(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Pygmy Hog":return new yL(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Saola":return new vL(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Saker Falcon":return new SL(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Taita Shrew":return new wL(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Darwin's Fox":return new PL(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Takhi":return new xL(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"White-Bellied Heron":return new EL(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Amami Rabbit":return new jL(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Tree Kangaroo":return new zL(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Blue-Throated Macaw":return new DL(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Hirola":return new RL(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Monkey-Faced Bat":return new OL(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Takin":return new $L(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Tucuxi":return new qL(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Pygmy Hippo":return new LL(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Roloway Monkey":return new GL(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Spoon-Billed Sandpiper":return new FL(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Angelshark":return new KL(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Bonobo":return new YL(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Giant Otter":return new d2(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Giant Tortoise":return new JL(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Golden Tamarin":return new t2(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Humphead Wrasse":return new XL(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Kakapo":return new s2(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Longcomb Sawfish":return new a2(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Tasmanian Devil":return new u2(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Amazon River Dolphin":return new l2(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Aye-aye":return new f2(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Banggai Cardinalfish":return new m2(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Geometric Tortoise":return new v2(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Giant Pangasius":return new S2(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Hawaiian Monk Seal":return new w2(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Marine Iguana":return new E2(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Red Panda":return new C2(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Taita Thrush":return new T2(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Snow Leopard":return new M2(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Painted Terrapin":return new k2(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Amsterdam Albatross":return new I2(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Bay Cat":return new N2(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Black Rhino":return new B2(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Blue Whale":return new $2(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"California Condor":return new q2(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Green Sea Turtle":return new G2(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Helmeted Hornbill":return new F2(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Philippine Eagle":return new j2(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Silky Sifaka":return new z2(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed);case"Sumatran Tiger":return new Y2(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed)}}createDefaultVersionOfPet(e,i=null,s=null){let a;return e instanceof Nf&&(a=new Nf(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof yh&&(a=new yh(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof sP&&(a=new sP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof nb&&(a=new nb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof aP&&(a=new aP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof lP&&(a=new lP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof mh&&(a=new mh(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof sb&&(a=new sb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof rb&&(a=new rb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof cP&&(a=new cP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof uP&&(a=new uP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ab&&(a=new ab(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof VI&&(a=new VI(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof gP&&(a=new gP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof fP&&(a=new fP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof mP&&(a=new mP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof vP&&(a=new vP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof SP&&(a=new SP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof wP&&(a=new wP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof AP&&(a=new AP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof CP&&(a=new CP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof TP&&(a=new TP(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof kP&&(a=new kP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof MP&&(a=new MP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof lb&&(a=new lb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof IP&&(a=new IP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof NP&&(a=new NP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof BP&&(a=new BP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof VP&&(a=new VP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof HP&&(a=new HP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof FP&&(a=new FP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof WP&&(a=new WP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ZP&&(a=new ZP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof eT&&(a=new eT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof tT&&(a=new tT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof nT&&(a=new nT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof rT&&(a=new rT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof aT&&(a=new aT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof oT&&(a=new oT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof uT&&(a=new uT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof gT&&(a=new gT(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof QP&&(a=new QP(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof mT&&(a=new mT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof vT&&(a=new vT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ST&&(a=new ST(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof db&&(a=new db(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof wT&&(a=new wT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof AT&&(a=new AT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof CT&&(a=new CT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof xT&&(a=new xT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof DT&&(a=new DT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof RT&&(a=new RT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof OT&&(a=new OT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof LT&&(a=new LT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof KP&&(a=new KP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof $T&&(a=new $T(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof qT&&(a=new qT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof HT&&(a=new HT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof FT&&(a=new FT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof UT&&(a=new UT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof WT&&(a=new WT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof YT&&(a=new YT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof JT&&(a=new JT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof XT&&(a=new XT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof tx&&(a=new tx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof nx&&(a=new nx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof rx&&(a=new rx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ox&&(a=new ox(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof cx&&(a=new cx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof hx&&(a=new hx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof yx&&(a=new yx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof gx&&(a=new gx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof px&&(a=new px(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof bx&&(a=new bx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof _x&&(a=new _x(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Dx&&(a=new Dx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Rx&&(a=new Rx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Ox&&(a=new Ox(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Lx&&(a=new Lx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof _b&&(a=new _b(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Vx&&(a=new Vx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof qx&&(a=new qx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Gx&&(a=new Gx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Ux&&(a=new Ux(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof jx&&(a=new jx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof wb&&(a=new wb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Kx&&(a=new Kx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof e0&&(a=new e0(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof n0&&(a=new n0(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof s0&&(a=new s0(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof HI&&(a=new HI(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof a0&&(a=new a0(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof o0&&(a=new o0(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof l0&&(a=new l0(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof c0&&(a=new c0(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof d0&&(a=new d0(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof f0&&(a=new f0(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof m0&&(a=new m0(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof v0&&(a=new v0(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof q0&&(a=new q0(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof H0&&(a=new H0(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof F0&&(a=new F0(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof j0&&(a=new j0(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ek&&(a=new ek(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof W0&&(a=new W0(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof K0&&(a=new K0(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof Q0&&(a=new Q0(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof J0&&(a=new J0(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof X0&&(a=new X0(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ik&&(a=new ik(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof nk&&(a=new nk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof sk&&(a=new sk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ak&&(a=new ak(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof lk&&(a=new lk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ck&&(a=new ck(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof hk&&(a=new hk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof dk&&(a=new dk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof gk&&(a=new gk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof pk&&(a=new pk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof mr&&(a=new mr(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof mk&&(a=new mk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof vk&&(a=new vk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Sk&&(a=new Sk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof wk&&(a=new wk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof II&&(a=new II(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Ek&&(a=new Ek(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof xk&&(a=new xk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Dk&&(a=new Dk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Rk&&(a=new Rk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof UR&&(a=new UR(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Pk&&(a=new Pk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof LI&&(a=new LI(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Ok&&(a=new Ok(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Lk&&(a=new Lk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Vk&&(a=new Vk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Hk&&(a=new Hk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Gk&&(a=new Gk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Wk&&(a=new Wk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Uk&&(a=new Uk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Kk&&(a=new Kk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Qk&&(a=new Qk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Zk&&(a=new Zk(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof Bk&&(a=new Bk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof eD&&(a=new eD(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof $I&&(a=new $I(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof tD&&(a=new tD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof nD&&(a=new nD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof oD&&(a=new oD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof lD&&(a=new lD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof uD&&(a=new uD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof dD&&(a=new dD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof gD&&(a=new gD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof fD&&(a=new fD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof mD&&(a=new mD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof rD&&(a=new rD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Pb&&(a=new Pb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ED&&(a=new ED(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof PD&&(a=new PD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof xD&&(a=new xD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Cb&&(a=new Cb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof DD&&(a=new DD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof RD&&(a=new RD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof LD&&(a=new LD(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof $D&&(a=new $D(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof SD&&(a=new SD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof wD&&(a=new wD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof yD&&(a=new yD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof vD&&(a=new vD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ID&&(a=new ID(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof qD&&(a=new qD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof GD&&(a=new GD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof UD&&(a=new UD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof WD&&(a=new WD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof KD&&(a=new KD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof QD&&(a=new QD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ZD&&(a=new ZD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof XD&&(a=new XD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof e1&&(a=new e1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof i1&&(a=new i1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof s1&&(a=new s1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof a1&&(a=new a1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof o1&&(a=new o1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof c1&&(a=new c1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof h1&&(a=new h1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof g1&&(a=new g1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof p1&&(a=new p1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof y1&&(a=new y1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof b1&&(a=new b1(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof _1&&(a=new _1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof A1&&(a=new A1(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof C1&&(a=new C1(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof T1&&(a=new T1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof k1&&(a=new k1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof kb&&(a=new kb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof R1&&(a=new R1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof O1&&(a=new O1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof q1&&(a=new q1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof L1&&(a=new L1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof MI&&(a=new MI(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof $1&&(a=new $1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof G1&&(a=new G1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof U1&&(a=new U1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof W1&&(a=new W1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof K1&&(a=new K1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Q1&&(a=new Q1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Z1&&(a=new Z1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof eM&&(a=new eM(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof iM&&(a=new iM(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof sM&&(a=new sM(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof aM&&(a=new aM(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof lM&&(a=new lM(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof uM&&(a=new uM(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof WM&&(a=new WM(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof dM&&(a=new dM(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Mb&&(a=new Mb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof pM&&(a=new pM(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof yM&&(a=new yM(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof bM&&(a=new bM(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof _M&&(a=new _M(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof AM&&(a=new AM(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof CM&&(a=new CM(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof TM&&(a=new TM(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof kM&&(a=new kM(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof MM&&(a=new MM(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof IM&&(a=new IM(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof NM&&(a=new NM(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof BM&&(a=new BM(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof qM&&(a=new qM(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof GM&&(a=new GM(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof UM&&(a=new UM(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof KM&&(a=new KM(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof QM&&(a=new QM(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ZM&&(a=new ZM(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof eR&&(a=new eR(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof iR&&(a=new iR(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof sR&&(a=new sR(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof aR&&(a=new aR(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof lR&&(a=new lR(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof uR&&(a=new uR(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof dR&&(a=new dR(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof fR&&(a=new fR(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof mR&&(a=new mR(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof vR&&(a=new vR(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof SR&&(a=new SR(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof wR&&(a=new wR(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ER&&(a=new ER(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof PR&&(a=new PR(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof xR&&(a=new xR(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof DR&&(a=new DR(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof RR&&(a=new RR(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof OR&&(a=new OR(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof LR&&(a=new LR(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof $R&&(a=new $R(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof qR&&(a=new qR(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof hb&&(a=new hb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof yh&&(a=new yh(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ub&&(a=new ub(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Eb&&(a=new Eb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof gb&&(a=new gb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ob&&(a=new ob(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ib&&(a=new ib(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Db&&(a=new Db(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof $f&&(a=new $f(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof cb&&(a=new cb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Ib&&(a=new Ib(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof GR&&(a=new GR(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Rb&&(a=new Rb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof mh&&(a=new mh(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Lf&&(a=new Lf(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Nb&&(a=new Nb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Vb&&(a=new Vb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof qb&&(a=new qb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Hb&&(a=new Hb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof pb&&(a=new pb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Hf&&(a=new Hf(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Ub&&(a=new Ub(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof jb&&(a=new jb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Bb&&(a=new Bb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Lb&&(a=new Lb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof $b&&(a=new $b(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Gb&&(a=new Gb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof JB&&(a=new JB(this.logService,this.abilityService,this,this.gameService,e.parent,i,s,0,w(e.level))),e instanceof XB&&(a=new XB(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof t$&&(a=new t$(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof n$&&(a=new n$(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof r$&&(a=new r$(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof o$&&(a=new o$(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof xb&&(a=new xb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof WR&&(a=new WR(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof KR&&(a=new KR(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof QR&&(a=new QR(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ZR&&(a=new ZR(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof eI&&(a=new eI(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof iI&&(a=new iI(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof sI&&(a=new sI(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof aI&&(a=new aI(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof lI&&(a=new lI(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof uI&&(a=new uI(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof dI&&(a=new dI(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof fI&&(a=new fI(this.logService,this.abilityService,this,this.gameService,e.parent,i,s,0,w(e.level))),e instanceof Ob&&(a=new Ob(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof yI&&(a=new yI(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof bI&&(a=new bI(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Qx&&(a=new Qx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof _I&&(a=new _I(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof AI&&(a=new AI(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof CI&&(a=new CI(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof TI&&(a=new TI(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Z2&&(a=new Z2(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof eB&&(a=new eB(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof iB&&(a=new iB(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof sB&&(a=new sB(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof aB&&(a=new aB(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof lB&&(a=new lB(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof uB&&(a=new uB(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof dB&&(a=new dB(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof fB&&(a=new fB(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof mB&&(a=new mB(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof yB&&(a=new yB(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof bB&&(a=new bB(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof _B&&(a=new _B(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof AB&&(a=new AB(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof CB&&(a=new CB(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof xB&&(a=new xB(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof DB&&(a=new DB(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof RB&&(a=new RB(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof OB&&(a=new OB(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof LB&&(a=new LB(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof $B&&(a=new $B(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof qB&&(a=new qB(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof yb&&(a=new yb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof vb&&(a=new vb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof qf&&(a=new qf(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof GB&&(a=new GB(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof UB&&(a=new UB(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof WB&&(a=new WB(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ZG&&(a=new ZG(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof kI&&(a=new kI(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof YB&&(a=new YB(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof GI&&(a=new GI(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof jI&&(a=new jI(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof zI&&(a=new zI(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof YI&&(a=new YI(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof JI&&(a=new JI(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof XI&&(a=new XI(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof tO&&(a=new tO(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof nO&&(a=new nO(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof rO&&(a=new rO(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof oO&&(a=new oO(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof lO&&(a=new lO(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof FI&&(a=new FI(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof cO&&(a=new cO(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof hO&&(a=new hO(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof gO&&(a=new gO(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof pO&&(a=new pO(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof yO&&(a=new yO(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof _O&&(a=new _O(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof AO&&(a=new AO(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof CO&&(a=new CO(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof PO&&(a=new PO(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof bO&&(a=new bO(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof xO&&(a=new xO(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof DO&&(a=new DO(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof RO&&(a=new RO(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof OO&&(a=new OO(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof LO&&(a=new LO(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof $O&&(a=new $O(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof qO&&(a=new qO(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof HO&&(a=new HO(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof GO&&(a=new GO(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof FO&&(a=new FO(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof jO&&(a=new jO(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof zO&&(a=new zO(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof YO&&(a=new YO(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof JO&&(a=new JO(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof XO&&(a=new XO(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof tN&&(a=new tN(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof nN&&(a=new nN(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof rN&&(a=new rN(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof aN&&(a=new aN(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof lN&&(a=new lN(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof uN&&(a=new uN(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof dN&&(a=new dN(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof fN&&(a=new fN(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Ab&&(a=new Ab(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof vN&&(a=new vN(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof SN&&(a=new SN(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof wN&&(a=new wN(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof EN&&(a=new EN(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof CN&&(a=new CN(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof TN&&(a=new TN(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof mN&&(a=new mN(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof kN&&(a=new kN(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof RN&&(a=new RN(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof IN&&(a=new IN(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof NN&&(a=new NN(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof BN&&(a=new BN(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof VN&&(a=new VN(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof qN&&(a=new qN(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof GN&&(a=new GN(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof UN&&(a=new UN(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof WN&&(a=new WN(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof KN&&(a=new KN(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof QN&&(a=new QN(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ZN&&(a=new ZN(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof eL&&(a=new eL(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof uL&&(a=new uL(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Fb&&(a=new Fb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof nL&&(a=new nL(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof rL&&(a=new rL(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof aL&&(a=new aL(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof lL&&(a=new lL(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof dL&&(a=new dL(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof fL&&(a=new fL(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof pL&&(a=new pL(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof yL&&(a=new yL(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof vL&&(a=new vL(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof SL&&(a=new SL(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof wL&&(a=new wL(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof PL&&(a=new PL(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof xL&&(a=new xL(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof EL&&(a=new EL(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof jL&&(a=new jL(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof zL&&(a=new zL(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof DL&&(a=new DL(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof RL&&(a=new RL(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof OL&&(a=new OL(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof $L&&(a=new $L(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof qL&&(a=new qL(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof LL&&(a=new LL(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof GL&&(a=new GL(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof FL&&(a=new FL(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof KL&&(a=new KL(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof YL&&(a=new YL(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof d2&&(a=new d2(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof JL&&(a=new JL(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof t2&&(a=new t2(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof XL&&(a=new XL(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof s2&&(a=new s2(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof a2&&(a=new a2(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof u2&&(a=new u2(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof l2&&(a=new l2(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof f2&&(a=new f2(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof m2&&(a=new m2(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof v2&&(a=new v2(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof S2&&(a=new S2(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof w2&&(a=new w2(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof E2&&(a=new E2(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof C2&&(a=new C2(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof T2&&(a=new T2(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof M2&&(a=new M2(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof k2&&(a=new k2(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof I2&&(a=new I2(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof N2&&(a=new N2(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof B2&&(a=new B2(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof $2&&(a=new $2(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof q2&&(a=new q2(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof G2&&(a=new G2(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof F2&&(a=new F2(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof j2&&(a=new j2(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof z2&&(a=new z2(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof Y2&&(a=new Y2(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),a}getRandomPet(e){let s,i=Tn(1,6);s="Turtle"==e.pack?this.turtlePackPets.get(i):"Puppy"==e.pack?this.puppyPackPets.get(i):"Star"==e.pack?this.starPackPets.get(i):"Golden"==e.pack?this.goldenPackPets.get(i):"Unicorn"==e.pack?this.unicornPackPets.get(i):"Danger"==e.pack?this.dangerPackPets.get(i):this.playerCustomPackPets.get(e.pack).get(i);let r=s[Tn(0,s.length-1)];return this.createPet({attack:null,equipment:null,exp:Tn(0,5),health:null,name:r,mana:null},e)}getRandomFaintPet(e,i){let s={1:["Ant","Cricket","Groundhog","Pied Tamarin"],2:["Rat","Hedgehog","Flamingo","Spider","Stork","Beluga Sturgeon","Squid","Black Necked Stilt","Frost Wolf","Mothman","Gargoyle","Bigfoot","Nightcrawler"],3:["Badger","Sheep","Anteater","Hoopoe Bird","Mole","Pangolin","Blobfish","Flea","Weasel","Osprey","Bear","Betta Fish","Skeleton Dog","Fur-Bearing Trout","Calygreyhound","Slime"],4:["Turtle","Deer","Microbe","Tahr","Chameleon","Cuttlefish","Vaquita","Slug","Chimera","Visitor"],5:["Rooster","Eagle","Fire Ant","Stonefish","Nyala","Nurse Shark","Wolf","Nessie","Pixiu","Kappa"],6:["Mammoth","Snapping Turtle","Lionfish","Warthog","Walrus","Phoenix","Sea Serpent","Hydra"]},a=[];a=i&&s[i]?s[i]:[].concat(...Object.values(s));let r=a[Tn(0,a.length-1)];return this.createPet({name:r,attack:null,equipment:null,exp:0,health:null,mana:null},e)}}return n.\u0275fac=function(e){return new(e||n)(G(bb),G(Sb),G(Vf))},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function w(n){return 1==n?0:2==n?2:5}function ene(n,t){if(1&n){const e=$r();p(0,"span",22),Fe("click",function(){return Dt(e),Ve().setExp(0)}),_(1,"x"),m()}}function tne(n,t){if(1&n&&(p(0,"option",9),_(1),m()),2&n){const e=t.$implicit;Y("ngValue",e),V(1),Pi(e)}}function ine(n,t){if(1&n&&(p(0,"option",25),_(1),m()),2&n){const e=t.$implicit,i=Ve(2);Y("ngValue",e)("hidden",i.optionHidden(e))("disabled",i.optionHidden(e)),V(1),Pi(e)}}function nne(n,t){if(1&n&&(p(0,"optgroup",23),_e(1,ine,2,4,"option",24),m()),2&n){const e=t.$implicit;Y("label","Tier "+e.key),V(1),Y("ngForOf",e.value)}}function sne(n,t){if(1&n){const e=$r();p(0,"button",26),Fe("click",function(){return Dt(e),Ve().toggleFlyOut()}),_(1,">"),m()}}function rne(n,t){if(1&n&&(p(0,"option",25),_(1),m()),2&n){const e=t.$implicit,i=Ve(4);Y("ngValue",e)("hidden",i.optionHidden(e))("disabled",i.optionHidden(e)),V(1),Pi(e)}}function ane(n,t){if(1&n&&(p(0,"optgroup",23),_e(1,rne,2,4,"option",24),m()),2&n){const e=t.$implicit;Y("label","Tier "+e.key),V(1),Y("ngForOf",e.value)}}function one(n,t){if(1&n&&(p(0,"div"),p(1,"label",28),_(2,"Swallowed Pet"),m(),p(3,"select",29),p(4,"option",9),_(5,"None"),m(),_e(6,ane,2,2,"optgroup",12),ko(7,"keyvalue"),m(),m()),2&n){const e=Ve(2);V(4),Y("ngValue",null),V(2),Y("ngForOf",Do(7,2,e.pets))}}function lne(n,t){if(1&n&&(p(0,"option",25),_(1),m()),2&n){const e=t.$implicit,i=Ve(5);Y("ngValue",e)("hidden",i.optionHidden(e))("disabled",i.optionHidden(e)),V(1),Pi(e)}}function cne(n,t){if(1&n&&(p(0,"optgroup",23),_e(1,lne,2,4,"option",24),m()),2&n){const e=t.$implicit;Y("label","Tier "+e.key),V(1),Y("ngForOf",e.value)}}function une(n,t){if(1&n&&(p(0,"div"),p(1,"label",31),_(2,"Swallowed Pet"),m(),p(3,"select",32),p(4,"option",9),_(5,"None"),m(),_e(6,cne,2,2,"optgroup",12),ko(7,"keyvalue"),m(),m()),2&n){const e=t.index,i=Ve(3);V(1),zg("for","abominationSwallowedPet",e+1,""),V(2),zg("formControlName","abominationSwallowedPet",e+1,""),V(1),Y("ngValue",null),V(2),Y("ngForOf",Do(7,4,i.pets))}}const hne=function(){return[]};function dne(n,t){if(1&n&&(p(0,"div"),_e(1,une,8,6,"div",30),m()),2&n){const e=Ve(2);V(1),Y("ngForOf",function(n,t,e){const i=$i()+n,s=Q();return s[i]===pe?Br(s,i,e?t.call(e):t()):function(n,t){return n[t]}(s,i)}(1,hne).constructor(e.pet.level))}}function gne(n,t){1&n&&(p(0,"div"),p(1,"label",33),_(2,"Battles Fought"),m(),ne(3,"input",34),m())}function fne(n,t){1&n&&(p(0,"div"),p(1,"label",35),_(2,"Times Hurt"),m(),ne(3,"input",36),m())}function pne(n,t){1&n&&(p(0,"div"),p(1,"label",35),_(2,"Times Hurt"),m(),ne(3,"input",36),m())}function mne(n,t){if(1&n&&(p(0,"div",27),_e(1,one,8,4,"div",18),_e(2,dne,2,2,"div",18),_e(3,gne,4,0,"div",18),_e(4,fne,4,0,"div",18),_e(5,pne,4,0,"div",18),m()),2&n){const e=Ve();V(1),Y("ngIf","Beluga Whale"==e.pet.name),V(1),Y("ngIf","Abomination"==e.pet.name),V(1),Y("ngIf","Slime"==e.pet.name),V(1),Y("ngIf","Sabertooth Tiger"==e.pet.name),V(1),Y("ngIf","Tuna"==e.pet.name)}}function yne(n,t){if(1&n&&(p(0,"option",9),_(1),m()),2&n){const e=t.$implicit;Y("ngValue",e.value),V(1),Pi(e.key)}}function vne(n,t){if(1&n&&(p(0,"option",9),_(1),m()),2&n){const e=t.$implicit;Y("ngValue",e.value),V(1),Pi(e.key)}}function bne(n,t){if(1&n&&(p(0,"optgroup",37),_e(1,vne,2,2,"option",11),ko(2,"keyvalue"),m()),2&n){const e=Ve();V(1),Y("ngForOf",Do(2,1,e.ailmentEquipment))}}function Sne(n,t){1&n&&(p(0,"div",39),ne(1,"input",40),m())}function _ne(n,t){1&n&&(p(0,"div",39),ne(1,"input",41),m())}function wne(n,t){1&n&&(zu(0),p(1,"div",19),ne(2,"input",42),m(),p(3,"div",19),ne(4,"input",43),m(),Ku())}function Ane(n,t){if(1&n&&(zu(0),_e(1,Sne,2,0,"div",38),_e(2,_ne,2,0,"div",38),_e(3,wne,5,0,"ng-container",18),Ku()),2&n){const e=Ve();V(1),Y("ngIf",e.mana&&!e.triggersConsumed),V(1),Y("ngIf",!e.mana&&e.triggersConsumed),V(1),Y("ngIf",e.mana&&e.triggersConsumed)}}let XG=(()=>{class n{constructor(e,i){this.petService=e,this.equipmentService=i,this.showFlyOut=!1,this.attackHealthMax=50,this.showTokenPets=!1,this.tokenPets=["Bee","Bus","Chick","Dirty Rat","Lizard Tail","Ram","Smaller Slug","Smallest Slug","Zombie Cricket","Zombie Fly","Chim-Goat","Chim-Lion","Chim-Snake","Daycrawler","Head","Monty","Nessie?","Smaller Slime","Young Phoenix","Good Dog"]}ngOnInit(){var e;this.initSelector(),this.fixLoadEquipment(),"Behemoth"==(null===(e=this.pet)||void 0===e?void 0:e.name)&&(this.attackHealthMax=100)}initSelector(){this.initPets(),this.initEquipment(),this.initForm()}initPets(){this.pets=new Map;for(let e=1;e<=6;e++)this.pets.set(e,[]);for(let[e,i]of this.petService.turtlePackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.puppyPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.starPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.goldenPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.unicornPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.dangerPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.customPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.pets)this.pets.set(e,[...new Set(i)]);this.initStartOfBattlePets(),console.log("pets",this.pets)}initStartOfBattlePets(){this.startOfBattlePets=new Map;for(let e=1;e<=6;e++){let i=[];for(let s of this.pets.get(e))this.petService.startOfBattlePets.includes(s)&&i.push(s);this.startOfBattlePets.set(e,i)}}getPack(e){let i;if("Turtle"==e.pack)i=this.petService.turtlePackPets;else if("Puppy"==e.pack)i=this.petService.puppyPackPets;else if("Star"==e.pack)i=this.petService.starPackPets;else if("Golden"==e.pack)i=this.petService.goldenPackPets;else if("Unicorn"==e.pack)i=this.petService.unicornPackPets;else if("Danger"==e.pack)i=this.petService.dangerPackPets;else try{i=this.buildCustomPack(e.pack)}catch(s){i=this.petService.turtlePackPets}return(0,Gt.cloneDeep)(i)}buildCustomPack(e){let i;for(let a of this.customPacks.controls)if(a.get("name").value==e){i=a;break}let s=new Map;for(let a=1;a<=6;a++)s.set(a,i.get(`tier${a}Pets`).value);return s}initEquipment(){this.equipment=this.equipmentService.getInstanceOfAllEquipment(),this.ailmentEquipment=this.equipmentService.getInstanceOfAllAilments()}initForm(){this.formGroup.get("name").valueChanges.subscribe(e=>{null!=e?this.substitutePet(!0):this.removePet()}),this.formGroup.get("attack").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("health").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("exp").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("equipment").valueChanges.subscribe(e=>{if(null!=e&&null==e.reset){let i=this.equipment.get(e.name);null==i&&(i=this.ailmentEquipment.get(e.name)),this.formGroup.get("equipment").setValue(i,{emitEvent:!1})}this.substitutePet(!1)}),this.formGroup.get("belugaSwallowedPet").valueChanges.subscribe(e=>{this.setBelugaSwallow(e)}),this.formGroup.get("abominationSwallowedPet1").valueChanges.subscribe(e=>{this.setSwallowedPets(e)}),this.formGroup.get("abominationSwallowedPet2").valueChanges.subscribe(e=>{this.setSwallowedPets(e)}),this.formGroup.get("abominationSwallowedPet3").valueChanges.subscribe(e=>{this.setSwallowedPets(e)}),this.formGroup.get("mana").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("triggersConsumed").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("battlesFought").valueChanges.subscribe(e=>{this.setBattlesFought(e)}),this.formGroup.get("timesHurt").valueChanges.subscribe(e=>{this.setTimesHurt(e)})}setExp(e){this.formGroup.get("exp").setValue(e)}getIsSelected(e){return this.formGroup.get("exp").value>=e}showRemoveExp(){return this.formGroup.get("exp").value>0}substitutePet(e=!1){setTimeout(()=>{var i;let s=this.formGroup.value;e&&(s.attack=null,s.health=null,s.mana=null,s.triggersConsumed=null);let a=s.equipment;null!=a&&(s.equipment=null!==(i=this.equipment.get(a.name))&&void 0!==i?i:this.ailmentEquipment.get(a.name));let r=this.petService.createPet(s,this.player);this.player.setPet(this.index,r,!0),e&&(this.formGroup.get("attack").setValue(r.attack,{emitEvent:!1}),this.formGroup.get("health").setValue(r.health,{emitEvent:!1}),this.formGroup.get("mana").setValue(r.mana,{emitEvent:!1}),this.formGroup.get("triggersConsumed").setValue(r.triggersConsumed,{emitEvent:!1})),this.attackHealthMax="Behemoth"==this.formGroup.get("name").value?100:50})}setBelugaSwallow(e){let i=this.player.getPet(this.index);null!=i&&(i.belugaSwallowedPet=e)}setSwallowedPets(e){let i=this.player.getPet(this.index);if(null==i)return;let s=[];null!=this.formGroup.get("abominationSwallowedPet1").value&&s.push(this.formGroup.get("abominationSwallowedPet1").value),null!=this.formGroup.get("abominationSwallowedPet2").value&&s.push(this.formGroup.get("abominationSwallowedPet2").value),null!=this.formGroup.get("abominationSwallowedPet3").value&&s.push(this.formGroup.get("abominationSwallowedPet3").value),console.log(s),i.abominationSwallowedPet1=s[0],i.abominationSwallowedPet2=s[1],i.abominationSwallowedPet3=s[2]}setBattlesFought(e){let i=this.player.getPet(this.index);null!=i&&(i.battlesFought=e)}setTimesHurt(e){let i=this.player.getPet(this.index);null!=i&&(i.timesHurt=e,this.substitutePet(!1))}showFlyOutButton(){return["Beluga Whale","Abomination","Slime","Sabertooth Tiger","Tuna"].includes(this.formGroup.get("name").value)}toggleFlyOut(){this.showFlyOut=!this.showFlyOut}removePet(){this.player.setPet(this.index,null,!0),this.formGroup.get("name").setValue(null,{emitEvent:!1}),this.formGroup.get("attack").setValue(0,{emitEvent:!1}),this.formGroup.get("health").setValue(0,{emitEvent:!1}),this.formGroup.get("exp").setValue(0,{emitEvent:!1}),this.formGroup.get("equipment").setValue(null,{emitEvent:!1}),this.formGroup.get("mana").setValue(0,{emitEvent:!1}),this.formGroup.get("triggersConsumed").setValue(0,{emitEvent:!1})}optionHidden(e){var i;if(this.allPets)return!1;let s=this.getPack(this.player);for(let[a,r]of s)if(r.includes(e))return!1;if(this.angler){let a=this.getPack(this.opponent);for(let[r,o]of a)if(o.includes(e))return!1}return(null===(i=this.player.getPet(this.index))||void 0===i?void 0:i.name)!=e}fixLoadEquipment(){let e=this.formGroup.get("equipment").value;if(null==e)return;let i=this.equipment.get(e.name);null==i&&(i=this.ailmentEquipment.get(e.name)),this.formGroup.get("equipment").setValue(i)}}return n.\u0275fac=function(e){return new(e||n)(q(Gf),q(Di))},n.\u0275cmp=Mn({type:n,selectors:[["app-pet-selector"]],inputs:{pet:"pet",player:"player",opponent:"opponent",index:"index",angler:"angler",ailments:"ailments",allPets:"allPets",mana:"mana",triggersConsumed:"triggersConsumed",formGroup:"formGroup",customPacks:"customPacks",showTokenPets:"showTokenPets"},decls:40,vars:28,consts:[[1,"card","p-3"],[1,"row","form-group",3,"formGroup"],[1,"col-12","d-flex","level-bar-numbers","mb-1"],[1,"level-3"],[1,"col-12","d-flex","level-bar","mb-2"],["class","remove-exp",3,"click",4,"ngIf"],[3,"click"],[1,"col-12","mb-2","d-flex"],["formControlName","name",1,"form-control"],[3,"ngValue"],["label","Token Pets",3,"hidden"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"label",4,"ngFor","ngForOf"],["class","btn btn-secondary",3,"click",4,"ngIf"],["class","fly-out border p-3",4,"ngIf"],[1,"col-12","mb-2"],["formControlName","equipment",1,"form-control"],["label","Ailments",4,"ngIf"],[4,"ngIf"],[1,"col-6"],["formControlName","attack","type","number","min","1",1,"form-control","select-attack",3,"max"],["formControlName","health","type","number","min","1",1,"form-control","select-health",3,"max"],[1,"remove-exp",3,"click"],[3,"label"],[3,"ngValue","hidden","disabled",4,"ngFor","ngForOf"],[3,"ngValue","hidden","disabled"],[1,"btn","btn-secondary",3,"click"],[1,"fly-out","border","p-3"],["for","belugaSwallowedPet"],["formControlName","belugaSwallowedPet",1,"form-control"],[4,"ngFor","ngForOf"],[3,"for"],[1,"form-control",3,"formControlName"],["for","battlesFought"],["formControlName","battlesFought","type","number","max","99",1,"form-control"],["for","timesHurt"],["formControlName","timesHurt","type","number","min","0","max","99",1,"form-control"],["label","Ailments"],["class","col-12",4,"ngIf"],[1,"col-12"],["formControlName","mana","type","number","min","0","max","100","placeholder","Mana",1,"form-control","select-mana","single-stat-input"],["formControlName","triggersConsumed","type","number","min","0","max","100","placeholder","Triggers Consumed",1,"form-control","select-triggers-consumed","single-stat-input"],["formControlName","mana","type","number","min","0","max","100","placeholder","Mana",1,"form-control","select-mana"],["formControlName","triggersConsumed","type","number","min","0","max","100","placeholder","Triggers Consumed",1,"form-control","select-triggers-consumed"]],template:function(e,i){1&e&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"span"),_(4,"1"),m(),ne(5,"span"),p(6,"span"),_(7,"2"),m(),ne(8,"span"),p(9,"span",3),_(10,"3"),m(),m(),p(11,"div",4),_e(12,ene,2,0,"span",5),p(13,"span",6),Fe("click",function(){return i.setExp(1)}),m(),p(14,"span",6),Fe("click",function(){return i.setExp(2)}),m(),p(15,"span",6),Fe("click",function(){return i.setExp(3)}),m(),p(16,"span",6),Fe("click",function(){return i.setExp(4)}),m(),p(17,"span",6),Fe("click",function(){return i.setExp(5)}),m(),m(),p(18,"div",7),p(19,"select",8),p(20,"option",9),_(21,"None"),m(),p(22,"optgroup",10),_e(23,tne,2,2,"option",11),m(),_e(24,nne,2,2,"optgroup",12),ko(25,"keyvalue"),m(),_e(26,sne,2,0,"button",13),_e(27,mne,6,5,"div",14),m(),p(28,"div",15),p(29,"select",16),p(30,"option",9),_(31,"None"),m(),_e(32,yne,2,2,"option",11),ko(33,"keyvalue"),_e(34,bne,3,3,"optgroup",17),m(),m(),_e(35,Ane,4,3,"ng-container",18),p(36,"div",19),ne(37,"input",20),m(),p(38,"div",19),ne(39,"input",21),m(),m(),m()),2&e&&(V(1),Y("formGroup",i.formGroup),V(11),Y("ngIf",i.showRemoveExp()),V(1),Ts(i.getIsSelected(1)?"selected":""),V(1),Ts(i.getIsSelected(2)?"selected":""),V(1),Ts(i.getIsSelected(3)?"selected":""),V(1),Ts(i.getIsSelected(4)?"selected":""),V(1),Ts(i.getIsSelected(5)?"selected":""),V(3),Y("ngValue",null),V(2),Y("hidden",!i.showTokenPets),V(1),Y("ngForOf",i.tokenPets),V(1),Y("ngForOf",Do(25,24,i.pets)),V(2),Y("ngIf",i.showFlyOutButton()),V(1),Y("ngIf",i.showFlyOut),V(3),Y("ngValue",null),V(2),Y("ngForOf",Do(33,26,i.equipment)),V(2),Y("ngIf",i.ailments),V(1),Y("ngIf",i.mana||i.triggersConsumed),V(2),Y("max",i.attackHealthMax),V(2),Y("max",i.attackHealthMax))},directives:[lc,Va,dh,Df,oc,$o,VC,HC,wf,$a,Zv,GC,Xv],pipes:[oC],styles:[".select-attack[_ngcontent-%COMP%]{background-color:gray;color:#fff}.select-health[_ngcontent-%COMP%]{background-color:#ca0202;color:#fff}.select-mana[_ngcontent-%COMP%]{background-color:#7388f8;color:#fff}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.select-attack[_ngcontent-%COMP%], .select-health[_ngcontent-%COMP%], .select-mana[_ngcontent-%COMP%], .select-triggers-consumed[_ngcontent-%COMP%]{font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% / 5);height:100%}.level-bar[_ngcontent-%COMP%]{position:relative}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:initial;border-radius:initial;width:initial;position:absolute;left:0;bottom:.33em}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.level-3[_ngcontent-%COMP%]{text-align:right}.fly-out[_ngcontent-%COMP%]{position:absolute;left:100%;background-color:#fff;width:100%;z-index:1;box-shadow:12px 4px 9px 7px #0000001a}"]}),n})();var xn="top",rs="bottom",as="right",kn="left",Wb="auto",Sh=[xn,rs,as,kn],uc="start",_h="end",eF="clippingParents",l$="viewport",wh="popper",tF="reference",c$=Sh.reduce(function(n,t){return n.concat([t+"-"+uc,t+"-"+_h])},[]),u$=[].concat(Sh,[Wb]).reduce(function(n,t){return n.concat([t,t+"-"+uc,t+"-"+_h])},[]),iF="beforeRead",nF="read",sF="afterRead",rF="beforeMain",aF="main",oF="afterMain",lF="beforeWrite",cF="write",uF="afterWrite",hF=[iF,nF,sF,rF,aF,oF,lF,cF,uF];function Fr(n){return n?(n.nodeName||"").toLowerCase():null}function os(n){if(null==n)return window;if("[object Window]"!==n.toString()){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function hc(n){return n instanceof os(n).Element||n instanceof Element}function Os(n){return n instanceof os(n).HTMLElement||n instanceof HTMLElement}function h$(n){return"undefined"!=typeof ShadowRoot&&(n instanceof os(n).ShadowRoot||n instanceof ShadowRoot)}const d$={name:"applyStyles",enabled:!0,phase:"write",fn:function(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},s=t.attributes[e]||{},a=t.elements[e];!Os(a)||!Fr(a)||(Object.assign(a.style,i),Object.keys(s).forEach(function(r){var o=s[r];!1===o?a.removeAttribute(r):a.setAttribute(r,!0===o?"":o)}))})},effect:function(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var s=t.elements[i],a=t.attributes[i]||{},o=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]).reduce(function(l,c){return l[c]="",l},{});!Os(s)||!Fr(s)||(Object.assign(s.style,o),Object.keys(a).forEach(function(l){s.removeAttribute(l)}))})}},requires:["computeStyles"]};function Ur(n){return n.split("-")[0]}var dc=Math.max,zb=Math.min,Ah=Math.round;function g$(){var n=navigator.userAgentData;return null!=n&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function dF(){return!/^((?!chrome|android).)*safari/i.test(g$())}function Eh(n,t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);var i=n.getBoundingClientRect(),s=1,a=1;t&&Os(n)&&(s=n.offsetWidth>0&&Ah(i.width)/n.offsetWidth||1,a=n.offsetHeight>0&&Ah(i.height)/n.offsetHeight||1);var o=(hc(n)?os(n):window).visualViewport,l=!dF()&&e,c=(i.left+(l&&o?o.offsetLeft:0))/s,d=(i.top+(l&&o?o.offsetTop:0))/a,f=i.width/s,y=i.height/a;return{width:f,height:y,top:d,right:c+f,bottom:d+y,left:c,x:c,y:d}}function f$(n){var t=Eh(n),e=n.offsetWidth,i=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:i}}function gF(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&h$(e)){var i=t;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Ha(n){return os(n).getComputedStyle(n)}function Pne(n){return["table","td","th"].indexOf(Fr(n))>=0}function Ho(n){return((hc(n)?n.ownerDocument:n.document)||window.document).documentElement}function Kb(n){return"html"===Fr(n)?n:n.assignedSlot||n.parentNode||(h$(n)?n.host:null)||Ho(n)}function fF(n){return Os(n)&&"fixed"!==Ha(n).position?n.offsetParent:null}function Ff(n){for(var t=os(n),e=fF(n);e&&Pne(e)&&"static"===Ha(e).position;)e=fF(e);return e&&("html"===Fr(e)||"body"===Fr(e)&&"static"===Ha(e).position)?t:e||function(n){var t=/firefox/i.test(g$());if(/Trident/i.test(g$())&&Os(n)&&"fixed"===Ha(n).position)return null;var s=Kb(n);for(h$(s)&&(s=s.host);Os(s)&&["html","body"].indexOf(Fr(s))<0;){var a=Ha(s);if("none"!==a.transform||"none"!==a.perspective||"paint"===a.contain||-1!==["transform","perspective"].indexOf(a.willChange)||t&&"filter"===a.willChange||t&&a.filter&&"none"!==a.filter)return s;s=s.parentNode}return null}(n)||t}function p$(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Uf(n,t,e){return dc(n,zb(t,e))}function mF(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function yF(n,t){return t.reduce(function(e,i){return e[i]=n,e},{})}const vF={name:"arrow",enabled:!0,phase:"main",fn:function(n){var t,e=n.state,i=n.name,s=n.options,a=e.elements.arrow,r=e.modifiersData.popperOffsets,o=Ur(e.placement),l=p$(o),d=[kn,as].indexOf(o)>=0?"height":"width";if(a&&r){var f=function(t,e){return mF("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:yF(t,Sh))}(s.padding,e),y=f$(a),b="y"===l?xn:kn,P="y"===l?rs:as,x=e.rects.reference[d]+e.rects.reference[l]-r[l]-e.rects.popper[d],D=r[l]-e.rects.reference[l],N=Ff(a),I=N?"y"===l?N.clientHeight||0:N.clientWidth||0:0,W=I/2-y[d]/2+(x/2-D/2),le=Uf(f[b],W,I-y[d]-f[P]);e.modifiersData[i]=((t={})[l]=le,t.centerOffset=le-W,t)}},effect:function(n){var t=n.state,i=n.options.element,s=void 0===i?"[data-popper-arrow]":i;null!=s&&("string"==typeof s&&!(s=t.elements.popper.querySelector(s))||!gF(t.elements.popper,s)||(t.elements.arrow=s))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ch(n){return n.split("-")[1]}var Rne={top:"auto",right:"auto",bottom:"auto",left:"auto"};function bF(n){var t,e=n.popper,i=n.popperRect,s=n.placement,a=n.variation,r=n.offsets,o=n.position,l=n.gpuAcceleration,c=n.adaptive,d=n.roundOffsets,f=n.isFixed,y=r.x,b=void 0===y?0:y,P=r.y,x=void 0===P?0:P,D="function"==typeof d?d({x:b,y:x}):{x:b,y:x};b=D.x,x=D.y;var N=r.hasOwnProperty("x"),I=r.hasOwnProperty("y"),U=kn,$=xn,j=window;if(c){var W=Ff(e),le="clientHeight",xe="clientWidth";W===os(e)&&"static"!==Ha(W=Ho(e)).position&&"absolute"===o&&(le="scrollHeight",xe="scrollWidth"),(s===xn||(s===kn||s===as)&&a===_h)&&($=rs,x-=(f&&W===j&&j.visualViewport?j.visualViewport.height:W[le])-i.height,x*=l?1:-1),s!==kn&&(s!==xn&&s!==rs||a!==_h)||(U=as,b-=(f&&W===j&&j.visualViewport?j.visualViewport.width:W[xe])-i.width,b*=l?1:-1)}var yt,ge=Object.assign({position:o},c&&Rne),Ke=!0===d?function(n,t){var i=n.y,s=t.devicePixelRatio||1;return{x:Ah(n.x*s)/s||0,y:Ah(i*s)/s||0}}({x:b,y:x},os(e)):{x:b,y:x};return b=Ke.x,x=Ke.y,Object.assign({},ge,l?((yt={})[$]=I?"0":"",yt[U]=N?"0":"",yt.transform=(j.devicePixelRatio||1)<=1?"translate("+b+"px, "+x+"px)":"translate3d("+b+"px, "+x+"px, 0)",yt):((t={})[$]=I?x+"px":"",t[U]=N?b+"px":"",t.transform="",t))}const m$={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(n){var t=n.state,e=n.options,i=e.gpuAcceleration,s=void 0===i||i,a=e.adaptive,r=void 0===a||a,o=e.roundOffsets,l=void 0===o||o,c={placement:Ur(t.placement),variation:Ch(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,bF(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:r,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,bF(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Yb={passive:!0};const y$={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(n){var t=n.state,e=n.instance,i=n.options,s=i.scroll,a=void 0===s||s,r=i.resize,o=void 0===r||r,l=os(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach(function(d){d.addEventListener("scroll",e.update,Yb)}),o&&l.addEventListener("resize",e.update,Yb),function(){a&&c.forEach(function(d){d.removeEventListener("scroll",e.update,Yb)}),o&&l.removeEventListener("resize",e.update,Yb)}},data:{}};var Lne={left:"right",right:"left",bottom:"top",top:"bottom"};function Qb(n){return n.replace(/left|right|bottom|top/g,function(t){return Lne[t]})}var Bne={start:"end",end:"start"};function SF(n){return n.replace(/start|end/g,function(t){return Bne[t]})}function v$(n){var t=os(n);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function b$(n){return Eh(Ho(n)).left+v$(n).scrollLeft}function S$(n){var t=Ha(n);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function _F(n){return["html","body","#document"].indexOf(Fr(n))>=0?n.ownerDocument.body:Os(n)&&S$(n)?n:_F(Kb(n))}function jf(n,t){var e;void 0===t&&(t=[]);var i=_F(n),s=i===(null==(e=n.ownerDocument)?void 0:e.body),a=os(i),r=s?[a].concat(a.visualViewport||[],S$(i)?i:[]):i,o=t.concat(r);return s?o:o.concat(jf(Kb(r)))}function _$(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function wF(n,t,e){return t===l$?_$(function(n,t){var e=os(n),i=Ho(n),s=e.visualViewport,a=i.clientWidth,r=i.clientHeight,o=0,l=0;if(s){a=s.width,r=s.height;var c=dF();(c||!c&&"fixed"===t)&&(o=s.offsetLeft,l=s.offsetTop)}return{width:a,height:r,x:o+b$(n),y:l}}(n,e)):hc(t)?function(n,t){var e=Eh(n,!1,"fixed"===t);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}(t,e):_$(function(n){var t,e=Ho(n),i=v$(n),s=null==(t=n.ownerDocument)?void 0:t.body,a=dc(e.scrollWidth,e.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),r=dc(e.scrollHeight,e.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),o=-i.scrollLeft+b$(n),l=-i.scrollTop;return"rtl"===Ha(s||e).direction&&(o+=dc(e.clientWidth,s?s.clientWidth:0)-a),{width:a,height:r,x:o,y:l}}(Ho(n)))}function AF(n){var l,t=n.reference,e=n.element,i=n.placement,s=i?Ur(i):null,a=i?Ch(i):null,r=t.x+t.width/2-e.width/2,o=t.y+t.height/2-e.height/2;switch(s){case xn:l={x:r,y:t.y-e.height};break;case rs:l={x:r,y:t.y+t.height};break;case as:l={x:t.x+t.width,y:o};break;case kn:l={x:t.x-e.width,y:o};break;default:l={x:t.x,y:t.y}}var c=s?p$(s):null;if(null!=c){var d="y"===c?"height":"width";switch(a){case uc:l[c]=l[c]-(t[d]/2-e[d]/2);break;case _h:l[c]=l[c]+(t[d]/2-e[d]/2)}}return l}function Ph(n,t){void 0===t&&(t={});var i=t.placement,s=void 0===i?n.placement:i,a=t.strategy,r=void 0===a?n.strategy:a,o=t.boundary,l=void 0===o?eF:o,c=t.rootBoundary,d=void 0===c?l$:c,f=t.elementContext,y=void 0===f?wh:f,b=t.altBoundary,P=void 0!==b&&b,x=t.padding,D=void 0===x?0:x,N=mF("number"!=typeof D?D:yF(D,Sh)),U=n.rects.popper,$=n.elements[P?y===wh?tF:wh:y],j=function(n,t,e,i){var s="clippingParents"===t?function(n){var t=jf(Kb(n)),i=["absolute","fixed"].indexOf(Ha(n).position)>=0&&Os(n)?Ff(n):n;return hc(i)?t.filter(function(s){return hc(s)&&gF(s,i)&&"body"!==Fr(s)}):[]}(n):[].concat(t),a=[].concat(s,[e]),o=a.reduce(function(l,c){var d=wF(n,c,i);return l.top=dc(d.top,l.top),l.right=zb(d.right,l.right),l.bottom=zb(d.bottom,l.bottom),l.left=dc(d.left,l.left),l},wF(n,a[0],i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}(hc($)?$:$.contextElement||Ho(n.elements.popper),l,d,r),W=Eh(n.elements.reference),le=AF({reference:W,element:U,strategy:"absolute",placement:s}),xe=_$(Object.assign({},U,le)),Me=y===wh?xe:W,ke={top:j.top-Me.top+N.top,bottom:Me.bottom-j.bottom+N.bottom,left:j.left-Me.left+N.left,right:Me.right-j.right+N.right},ge=n.modifiersData.offset;if(y===wh&&ge){var Ke=ge[s];Object.keys(ke).forEach(function(yt){var Ri=[as,rs].indexOf(yt)>=0?1:-1,Ii=[xn,rs].indexOf(yt)>=0?"y":"x";ke[yt]+=Ke[Ii]*Ri})}return ke}const EF={name:"flip",enabled:!0,phase:"main",fn:function(n){var t=n.state,e=n.options,i=n.name;if(!t.modifiersData[i]._skip){for(var s=e.mainAxis,a=void 0===s||s,r=e.altAxis,o=void 0===r||r,l=e.fallbackPlacements,c=e.padding,d=e.boundary,f=e.rootBoundary,y=e.altBoundary,b=e.flipVariations,P=void 0===b||b,x=e.allowedAutoPlacements,D=t.options.placement,N=Ur(D),U=l||(N!==D&&P?function(n){if(Ur(n)===Wb)return[];var t=Qb(n);return[SF(n),t,SF(t)]}(D):[Qb(D)]),$=[D].concat(U).reduce(function(At,Yr){return At.concat(Ur(Yr)===Wb?function(n,t){void 0===t&&(t={});var s=t.boundary,a=t.rootBoundary,r=t.padding,o=t.flipVariations,l=t.allowedAutoPlacements,c=void 0===l?u$:l,d=Ch(t.placement),f=d?o?c$:c$.filter(function(P){return Ch(P)===d}):Sh,y=f.filter(function(P){return c.indexOf(P)>=0});0===y.length&&(y=f);var b=y.reduce(function(P,x){return P[x]=Ph(n,{placement:x,boundary:s,rootBoundary:a,padding:r})[Ur(x)],P},{});return Object.keys(b).sort(function(P,x){return b[P]-b[x]})}(t,{placement:Yr,boundary:d,rootBoundary:f,padding:c,flipVariations:P,allowedAutoPlacements:x}):Yr)},[]),j=t.rects.reference,W=t.rects.popper,le=new Map,xe=!0,Me=$[0],ke=0;ke<$.length;ke++){var ge=$[ke],Ke=Ur(ge),yt=Ch(ge)===uc,Ri=[xn,rs].indexOf(Ke)>=0,Ii=Ri?"width":"height",ie=Ph(t,{placement:ge,boundary:d,rootBoundary:f,altBoundary:y,padding:c}),te=Ri?yt?as:kn:yt?rs:xn;j[Ii]>W[Ii]&&(te=Qb(te));var ve=Qb(te),qe=[];if(a&&qe.push(ie[Ke]<=0),o&&qe.push(ie[te]<=0,ie[ve]<=0),qe.every(function(At){return At})){Me=ge,xe=!1;break}le.set(ge,qe)}if(xe)for(var jn=function(Yr){var an=$.find(function(Qr){var Fs=le.get(Qr);if(Fs)return Fs.slice(0,Yr).every(function(Sr){return Sr})});if(an)return Me=an,"break"},bi=P?3:1;bi>0&&"break"!==jn(bi);bi--);t.placement!==Me&&(t.modifiersData[i]._skip=!0,t.placement=Me,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function CF(n,t,e){return void 0===e&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function PF(n){return[xn,as,rs,kn].some(function(t){return n[t]>=0})}const TF={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(n){var t=n.state,e=n.name,i=t.rects.reference,s=t.rects.popper,a=t.modifiersData.preventOverflow,r=Ph(t,{elementContext:"reference"}),o=Ph(t,{altBoundary:!0}),l=CF(r,i),c=CF(o,s,a),d=PF(l),f=PF(c);t.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}},xF={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(n){var t=n.state,i=n.name,s=n.options.offset,a=void 0===s?[0,0]:s,r=u$.reduce(function(d,f){return d[f]=function(n,t,e){var i=Ur(n),s=[kn,xn].indexOf(i)>=0?-1:1,a="function"==typeof e?e(Object.assign({},t,{placement:n})):e,r=a[0],o=a[1];return r=r||0,o=(o||0)*s,[kn,as].indexOf(i)>=0?{x:o,y:r}:{x:r,y:o}}(f,t.rects,a),d},{}),o=r[t.placement],c=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=o.x,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=r}},w$={name:"popperOffsets",enabled:!0,phase:"read",fn:function(n){var t=n.state;t.modifiersData[n.name]=AF({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},kF={name:"preventOverflow",enabled:!0,phase:"main",fn:function(n){var t=n.state,e=n.options,i=n.name,s=e.mainAxis,a=void 0===s||s,r=e.altAxis,o=void 0!==r&&r,y=e.tether,b=void 0===y||y,P=e.tetherOffset,x=void 0===P?0:P,D=Ph(t,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),N=Ur(t.placement),I=Ch(t.placement),U=!I,$=p$(N),j=function(n){return"x"===n?"y":"x"}($),W=t.modifiersData.popperOffsets,le=t.rects.reference,xe=t.rects.popper,Me="function"==typeof x?x(Object.assign({},t.rects,{placement:t.placement})):x,ke="number"==typeof Me?{mainAxis:Me,altAxis:Me}:Object.assign({mainAxis:0,altAxis:0},Me),ge=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Ke={x:0,y:0};if(W){if(a){var yt,Ri="y"===$?xn:kn,Ii="y"===$?rs:as,ie="y"===$?"height":"width",te=W[$],ve=te+D[Ri],qe=te-D[Ii],Vt=b?-xe[ie]/2:0,jn=I===uc?le[ie]:xe[ie],bi=I===uc?-xe[ie]:-le[ie],us=t.elements.arrow,At=b&&us?f$(us):{width:0,height:0},Yr=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},an=Yr[Ri],Qr=Yr[Ii],Fs=Uf(0,le[ie],At[ie]),Sr=U?le[ie]/2-Vt-Fs-an-ke.mainAxis:jn-Fs-an-ke.mainAxis,hp=U?-le[ie]/2+Vt+Fs+Qr+ke.mainAxis:bi+Fs+Qr+ke.mainAxis,tV=t.elements.arrow&&Ff(t.elements.arrow),tj=null!=(yt=null==ge?void 0:ge[$])?yt:0,age=te+hp-tj,ij=Uf(b?zb(ve,te+Sr-tj-(tV?"y"===$?tV.clientTop||0:tV.clientLeft||0:0)):ve,te,b?dc(qe,age):qe);W[$]=ij,Ke[$]=ij-te}if(o){var nj,Cc=W[j],US="y"===j?"height":"width",sj=Cc+D["x"===$?xn:kn],rj=Cc-D["x"===$?rs:as],iV=-1!==[xn,kn].indexOf(N),aj=null!=(nj=null==ge?void 0:ge[j])?nj:0,oj=iV?sj:Cc-le[US]-xe[US]-aj+ke.altAxis,lj=iV?Cc+le[US]+xe[US]-aj-ke.altAxis:rj,cj=b&&iV?function(n,t,e){var i=Uf(n,t,e);return i>e?e:i}(oj,Cc,lj):Uf(b?oj:sj,Cc,b?lj:rj);W[j]=cj,Ke[j]=cj-Cc}t.modifiersData[i]=Ke}},requiresIfExists:["offset"]};function tse(n,t,e){void 0===e&&(e=!1);var i=Os(t),s=Os(t)&&function(n){var t=n.getBoundingClientRect(),e=Ah(t.width)/n.offsetWidth||1,i=Ah(t.height)/n.offsetHeight||1;return 1!==e||1!==i}(t),a=Ho(t),r=Eh(n,s,e),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!e)&&(("body"!==Fr(t)||S$(a))&&(o=function(n){return n!==os(n)&&Os(n)?function(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):v$(n)}(t)),Os(t)?((l=Eh(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):a&&(l.x=b$(a))),{x:r.left+o.scrollLeft-l.x,y:r.top+o.scrollTop-l.y,width:r.width,height:r.height}}function ise(n){var t=new Map,e=new Set,i=[];function s(a){e.add(a.name),[].concat(a.requires||[],a.requiresIfExists||[]).forEach(function(o){if(!e.has(o)){var l=t.get(o);l&&s(l)}}),i.push(a)}return n.forEach(function(a){t.set(a.name,a)}),n.forEach(function(a){e.has(a.name)||s(a)}),i}function sse(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}var DF={placement:"bottom",modifiers:[],strategy:"absolute"};function MF(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function Jb(n){void 0===n&&(n={});var e=n.defaultModifiers,i=void 0===e?[]:e,s=n.defaultOptions,a=void 0===s?DF:s;return function(o,l,c){void 0===c&&(c=a);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},DF,a),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},f=[],y=!1,b={state:d,setOptions:function(N){var I="function"==typeof N?N(d.options):N;x(),d.options=Object.assign({},a,d.options,I),d.scrollParents={reference:hc(o)?jf(o):o.contextElement?jf(o.contextElement):[],popper:jf(l)};var U=function(n){var t=ise(n);return hF.reduce(function(e,i){return e.concat(t.filter(function(s){return s.phase===i}))},[])}(function(n){var t=n.reduce(function(e,i){var s=e[i.name];return e[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(i,d.options.modifiers)));return d.orderedModifiers=U.filter(function($){return $.enabled}),d.orderedModifiers.forEach(function(D){var I=D.options,$=D.effect;if("function"==typeof $){var j=$({state:d,name:D.name,instance:b,options:void 0===I?{}:I});f.push(j||function(){})}}),b.update()},forceUpdate:function(){if(!y){var N=d.elements,I=N.reference,U=N.popper;if(MF(I,U)){d.rects={reference:tse(I,Ff(U),"fixed"===d.options.strategy),popper:f$(U)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(ke){return d.modifiersData[ke.name]=Object.assign({},ke.data)});for(var $=0;$<d.orderedModifiers.length;$++)if(!0!==d.reset){var j=d.orderedModifiers[$],W=j.fn,le=j.options;"function"==typeof W&&(d=W({state:d,options:void 0===le?{}:le,name:j.name,instance:b})||d)}else d.reset=!1,$=-1}}},update:sse(function(){return new Promise(function(D){b.forceUpdate(),D(d)})}),destroy:function(){x(),y=!0}};if(!MF(o,l))return b;function x(){f.forEach(function(D){return D()}),f=[]}return b.setOptions(c).then(function(D){!y&&c.onFirstUpdate&&c.onFirstUpdate(D)}),b}}var ase=Jb(),A$=Jb({defaultModifiers:[y$,w$,m$,d$,xF,EF,kF,vF,TF]}),cse=Jb({defaultModifiers:[y$,w$,m$,d$]});const Go=new Map,E$={set(n,t,e){Go.has(n)||Go.set(n,new Map);const i=Go.get(n);i.has(t)||0===i.size?i.set(t,e):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(n,t)=>Go.has(n)&&Go.get(n).get(t)||null,remove(n,t){if(!Go.has(n))return;const e=Go.get(n);e.delete(t),0===e.size&&Go.delete(n)}},C$="transitionend",RF=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),n),dse=n=>null==n?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),IF=n=>{n.dispatchEvent(new Event(C$))},Ga=n=>!(!n||"object"!=typeof n)&&(void 0!==n.jquery&&(n=n[0]),void 0!==n.nodeType),Fo=n=>Ga(n)?n.jquery?n[0]:n:"string"==typeof n&&n.length>0?document.querySelector(RF(n)):null,Th=n=>{if(!Ga(n)||0===n.getClientRects().length)return!1;const t="visible"===getComputedStyle(n).getPropertyValue("visibility"),e=n.closest("details:not([open])");if(!e)return t;if(e!==n){const i=n.closest("summary");if(i&&i.parentNode!==e||null===i)return!1}return t},Uo=n=>!(n&&n.nodeType===Node.ELEMENT_NODE&&!n.classList.contains("disabled"))||(void 0!==n.disabled?n.disabled:n.hasAttribute("disabled")&&"false"!==n.getAttribute("disabled")),OF=n=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof n.getRootNode){const t=n.getRootNode();return t instanceof ShadowRoot?t:null}return n instanceof ShadowRoot?n:n.parentNode?OF(n.parentNode):null},Zb=()=>{},NF=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,P$=[],Ns=()=>"rtl"===document.documentElement.dir,Ls=n=>{(n=>{"loading"===document.readyState?(P$.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of P$)t()}),P$.push(n)):n()})(()=>{const t=NF();if(t){const e=n.NAME,i=t.fn[e];t.fn[e]=n.jQueryInterface,t.fn[e].Constructor=n,t.fn[e].noConflict=()=>(t.fn[e]=i,n.jQueryInterface)}})},Un=(n,t=[],e=n)=>"function"==typeof n?n(...t):e,LF=(n,t,e=!0)=>{if(!e)return void Un(n);const s=(n=>{if(!n)return 0;let{transitionDuration:t,transitionDelay:e}=window.getComputedStyle(n);const i=Number.parseFloat(t),s=Number.parseFloat(e);return i||s?(t=t.split(",")[0],e=e.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(e))):0})(t)+5;let a=!1;const r=({target:o})=>{o===t&&(a=!0,t.removeEventListener(C$,r),Un(n))};t.addEventListener(C$,r),setTimeout(()=>{a||IF(t)},s)},T$=(n,t,e,i)=>{const s=n.length;let a=n.indexOf(t);return-1===a?!e&&i?n[s-1]:n[0]:(a+=e?1:-1,i&&(a=(a+s)%s),n[Math.max(0,Math.min(a,s-1))])},mse=/[^.]*(?=\..*)\.|.*/,yse=/\..*/,vse=/::\d+$/,x$={};let BF=1;const $F={mouseenter:"mouseover",mouseleave:"mouseout"},bse=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function VF(n,t){return t&&`${t}::${BF++}`||n.uidEvent||BF++}function qF(n){const t=VF(n);return n.uidEvent=t,x$[t]=x$[t]||{},x$[t]}function HF(n,t,e=null){return Object.values(n).find(i=>i.callable===t&&i.delegationSelector===e)}function GF(n,t,e){const i="string"==typeof t,s=i?e:t||e;let a=UF(n);return bse.has(a)||(a=n),[i,s,a]}function FF(n,t,e,i,s){if("string"!=typeof t||!n)return;let[a,r,o]=GF(t,e,i);var P;t in $F&&(P=r,r=function(x){if(!x.relatedTarget||x.relatedTarget!==x.delegateTarget&&!x.delegateTarget.contains(x.relatedTarget))return P.call(this,x)});const l=qF(n),c=l[o]||(l[o]={}),d=HF(c,r,a?e:null);if(d)return void(d.oneOff=d.oneOff&&s);const f=VF(r,t.replace(mse,"")),y=a?function(n,t,e){return function i(s){const a=n.querySelectorAll(t);for(let{target:r}=s;r&&r!==this;r=r.parentNode)for(const o of a)if(o===r)return D$(s,{delegateTarget:r}),i.oneOff&&X.off(n,s.type,t,e),e.apply(r,[s])}}(n,e,r):function(n,t){return function e(i){return D$(i,{delegateTarget:n}),e.oneOff&&X.off(n,i.type,t),t.apply(n,[i])}}(n,r);y.delegationSelector=a?e:null,y.callable=r,y.oneOff=s,y.uidEvent=f,c[f]=y,n.addEventListener(o,y,a)}function k$(n,t,e,i,s){const a=HF(t[e],i,s);!a||(n.removeEventListener(e,a,Boolean(s)),delete t[e][a.uidEvent])}function wse(n,t,e,i){const s=t[e]||{};for(const[a,r]of Object.entries(s))a.includes(i)&&k$(n,t,e,r.callable,r.delegationSelector)}function UF(n){return n=n.replace(yse,""),$F[n]||n}const X={on(n,t,e,i){FF(n,t,e,i,!1)},one(n,t,e,i){FF(n,t,e,i,!0)},off(n,t,e,i){if("string"!=typeof t||!n)return;const[s,a,r]=GF(t,e,i),o=r!==t,l=qF(n),c=l[r]||{},d=t.startsWith(".");if(void 0===a){if(d)for(const f of Object.keys(l))wse(n,l,f,t.slice(1));for(const[f,y]of Object.entries(c)){const b=f.replace(vse,"");(!o||t.includes(b))&&k$(n,l,r,y.callable,y.delegationSelector)}}else{if(!Object.keys(c).length)return;k$(n,l,r,a,s?e:null)}},trigger(n,t,e){if("string"!=typeof t||!n)return null;const i=NF();let r=null,o=!0,l=!0,c=!1;t!==UF(t)&&i&&(r=i.Event(t,e),i(n).trigger(r),o=!r.isPropagationStopped(),l=!r.isImmediatePropagationStopped(),c=r.isDefaultPrevented());const d=D$(new Event(t,{bubbles:o,cancelable:!0}),e);return c&&d.preventDefault(),l&&n.dispatchEvent(d),d.defaultPrevented&&r&&r.preventDefault(),d}};function D$(n,t={}){for(const[e,i]of Object.entries(t))try{n[e]=i}catch(s){Object.defineProperty(n,e,{configurable:!0,get:()=>i})}return n}function jF(n){if("true"===n)return!0;if("false"===n)return!1;if(n===Number(n).toString())return Number(n);if(""===n||"null"===n)return null;if("string"!=typeof n)return n;try{return JSON.parse(decodeURIComponent(n))}catch(t){return n}}function M$(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const Fa={setDataAttribute(n,t,e){n.setAttribute(`data-bs-${M$(t)}`,e)},removeDataAttribute(n,t){n.removeAttribute(`data-bs-${M$(t)}`)},getDataAttributes(n){if(!n)return{};const t={},e=Object.keys(n.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of e){let s=i.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1,s.length),t[s]=jF(n.dataset[i])}return t},getDataAttribute:(n,t)=>jF(n.getAttribute(`data-bs-${M$(t)}`))};class zf{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const i=Ga(e)?Fa.getDataAttribute(e,"config"):{};return on(on(on(on({},this.constructor.Default),"object"==typeof i?i:{}),Ga(e)?Fa.getDataAttributes(e):{}),"object"==typeof t?t:{})}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[i,s]of Object.entries(e)){const a=t[i],r=Ga(a)?"element":dse(a);if(!new RegExp(s).test(r))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${r}" but expected type "${s}".`)}}}class vr extends zf{constructor(t,e){super(),(t=Fo(t))&&(this._element=t,this._config=this._getConfig(e),E$.set(this._element,this.constructor.DATA_KEY,this))}dispose(){E$.remove(this._element,this.constructor.DATA_KEY),X.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){LF(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return E$.get(Fo(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.3.1"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const R$=n=>{let t=n.getAttribute("data-bs-target");if(!t||"#"===t){let e=n.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),t=e&&"#"!==e?e.trim():null}return RF(t)},we={find:(n,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,n)),findOne:(n,t=document.documentElement)=>Element.prototype.querySelector.call(t,n),children:(n,t)=>[].concat(...n.children).filter(e=>e.matches(t)),parents(n,t){const e=[];let i=n.parentNode.closest(t);for(;i;)e.push(i),i=i.parentNode.closest(t);return e},prev(n,t){let e=n.previousElementSibling;for(;e;){if(e.matches(t))return[e];e=e.previousElementSibling}return[]},next(n,t){let e=n.nextElementSibling;for(;e;){if(e.matches(t))return[e];e=e.nextElementSibling}return[]},focusableChildren(n){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,n).filter(e=>!Uo(e)&&Th(e))},getSelectorFromElement(n){const t=R$(n);return t&&we.findOne(t)?t:null},getElementFromSelector(n){const t=R$(n);return t?we.findOne(t):null},getMultipleElementsFromSelector(n){const t=R$(n);return t?we.find(t):[]}},Xb=(n,t="hide")=>{const i=n.NAME;X.on(document,`click.dismiss${n.EVENT_KEY}`,`[data-bs-dismiss="${i}"]`,function(s){if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),Uo(this))return;const a=we.getElementFromSelector(this)||this.closest(`.${i}`);n.getOrCreateInstance(a)[t]()})},WF=".bs.alert",Cse=`close${WF}`,Pse=`closed${WF}`;class eS extends vr{static get NAME(){return"alert"}close(){if(X.trigger(this._element,Cse).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),X.trigger(this._element,Pse),this.dispose()}static jQueryInterface(t){return this.each(function(){const e=eS.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}Xb(eS,"close"),Ls(eS);const zF='[data-bs-toggle="button"]';class tS extends vr{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){const e=tS.getOrCreateInstance(this);"toggle"===t&&e[t]()})}}X.on(document,"click.bs.button.data-api",zF,n=>{n.preventDefault();const t=n.target.closest(zF);tS.getOrCreateInstance(t).toggle()}),Ls(tS);const xh=".bs.swipe",Nse=`touchstart${xh}`,Lse=`touchmove${xh}`,Bse=`touchend${xh}`,$se=`pointerdown${xh}`,Vse=`pointerup${xh}`,Use={endCallback:null,leftCallback:null,rightCallback:null},jse={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class iS extends zf{constructor(t,e){super(),this._element=t,t&&iS.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Use}static get DefaultType(){return jse}static get NAME(){return"swipe"}dispose(){X.off(this._element,xh)}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),Un(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=40)return;const e=t/this._deltaX;this._deltaX=0,e&&Un(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(X.on(this._element,$se,t=>this._start(t)),X.on(this._element,Vse,t=>this._end(t)),this._element.classList.add("pointer-event")):(X.on(this._element,Nse,t=>this._start(t)),X.on(this._element,Lse,t=>this._move(t)),X.on(this._element,Bse,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const jo=".bs.carousel",KF=".data-api",Kf="next",kh="prev",Dh="left",nS="right",Qse=`slide${jo}`,I$=`slid${jo}`,Jse=`keydown${jo}`,Zse=`mouseenter${jo}`,Xse=`mouseleave${jo}`,ere=`dragstart${jo}`,tre=`load${jo}${KF}`,ire=`click${jo}${KF}`,YF="carousel",sS="active",gre={ArrowLeft:nS,ArrowRight:Dh},fre={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},pre={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Yf extends vr{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=we.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===YF&&this.cycle()}static get Default(){return fre}static get DefaultType(){return pre}static get NAME(){return"carousel"}next(){this._slide(Kf)}nextWhenVisible(){!document.hidden&&Th(this._element)&&this.next()}prev(){this._slide(kh)}pause(){this._isSliding&&IF(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void X.one(this._element,I$,()=>this.cycle());this.cycle()}}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding)return void X.one(this._element,I$,()=>this.to(t));const i=this._getItemIndex(this._getActive());i!==t&&this._slide(t>i?Kf:kh,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&X.on(this._element,Jse,t=>this._keydown(t)),"hover"===this._config.pause&&(X.on(this._element,Zse,()=>this.pause()),X.on(this._element,Xse,()=>this._maybeEnableCycle())),this._config.touch&&iS.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of we.find(".carousel-item img",this._element))X.on(i,ere,s=>s.preventDefault());this._swipeHelper=new iS(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Dh)),rightCallback:()=>this._slide(this._directionToOrder(nS)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=gre[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=we.findOne(".active",this._indicatorsElement);e.classList.remove(sS),e.removeAttribute("aria-current");const i=we.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);i&&(i.classList.add(sS),i.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const i=this._getActive(),s=t===Kf,a=e||T$(this._getItems(),i,s,this._config.wrap);if(a===i)return;const r=this._getItemIndex(a),o=b=>X.trigger(this._element,b,{relatedTarget:a,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:r});if(o(Qse).defaultPrevented||!i||!a)return;const c=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(r),this._activeElement=a;const d=s?"carousel-item-start":"carousel-item-end",f=s?"carousel-item-next":"carousel-item-prev";a.classList.add(f),i.classList.add(d),a.classList.add(d),this._queueCallback(()=>{a.classList.remove(d,f),a.classList.add(sS),i.classList.remove(sS,f,d),this._isSliding=!1,o(I$)},i,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return we.findOne(".active.carousel-item",this._element)}_getItems(){return we.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return Ns()?t===Dh?kh:Kf:t===Dh?Kf:kh}_orderToDirection(t){return Ns()?t===kh?Dh:nS:t===kh?nS:Dh}static jQueryInterface(t){return this.each(function(){const e=Yf.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}else e.to(t)})}}X.on(document,ire,"[data-bs-slide], [data-bs-slide-to]",function(n){const t=we.getElementFromSelector(this);if(!t||!t.classList.contains(YF))return;n.preventDefault();const e=Yf.getOrCreateInstance(t),i=this.getAttribute("data-bs-slide-to");return i?(e.to(i),void e._maybeEnableCycle()):"next"===Fa.getDataAttribute(this,"slide")?(e.next(),void e._maybeEnableCycle()):(e.prev(),void e._maybeEnableCycle())}),X.on(window,tre,()=>{const n=we.find('[data-bs-ride="carousel"]');for(const t of n)Yf.getOrCreateInstance(t)}),Ls(Yf);const Qf=".bs.collapse",vre=`show${Qf}`,bre=`shown${Qf}`,Sre=`hide${Qf}`,_re=`hidden${Qf}`,wre=`click${Qf}.data-api`,O$="show",Mh="collapse",rS="collapsing",Ere=`:scope .${Mh} .${Mh}`,N$='[data-bs-toggle="collapse"]',kre={parent:null,toggle:!0},Dre={parent:"(null|element)",toggle:"boolean"};class Jf extends vr{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const i=we.find(N$);for(const s of i){const a=we.getSelectorFromElement(s),r=we.find(a).filter(o=>o===this._element);null!==a&&r.length&&this._triggerArray.push(s)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return kre}static get DefaultType(){return Dre}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(o=>o!==this._element).map(o=>Jf.getOrCreateInstance(o,{toggle:!1}))),t.length&&t[0]._isTransitioning||X.trigger(this._element,vre).defaultPrevented)return;for(const o of t)o.hide();const i=this._getDimension();this._element.classList.remove(Mh),this._element.classList.add(rS),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(rS),this._element.classList.add(Mh,O$),this._element.style[i]="",X.trigger(this._element,bre)},this._element,!0),this._element.style[i]=`${this._element[r]}px`}hide(){if(this._isTransitioning||!this._isShown()||X.trigger(this._element,Sre).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,this._element.classList.add(rS),this._element.classList.remove(Mh,O$);for(const s of this._triggerArray){const a=we.getElementFromSelector(s);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([s],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(rS),this._element.classList.add(Mh),X.trigger(this._element,_re)},this._element,!0)}_isShown(t=this._element){return t.classList.contains(O$)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=Fo(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(N$);for(const e of t){const i=we.getElementFromSelector(e);i&&this._addAriaAndCollapsedClass([e],this._isShown(i))}}_getFirstLevelChildren(t){const e=we.find(Ere,this._config.parent);return we.find(t,this._config.parent).filter(i=>!e.includes(i))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const i of t)i.classList.toggle("collapsed",!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const i=Jf.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t]()}})}}X.on(document,wre,N$,function(n){("A"===n.target.tagName||n.delegateTarget&&"A"===n.delegateTarget.tagName)&&n.preventDefault();for(const t of we.getMultipleElementsFromSelector(this))Jf.getOrCreateInstance(t,{toggle:!1}).toggle()}),Ls(Jf);const ZF="dropdown",gc=".bs.dropdown",L$=".data-api",Rre="ArrowUp",eU="ArrowDown",Ore=`hide${gc}`,Nre=`hidden${gc}`,Lre=`show${gc}`,Bre=`shown${gc}`,tU=`click${gc}${L$}`,iU=`keydown${gc}${L$}`,$re=`keyup${gc}${L$}`,Rh="show",fc='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Ure=`${fc}.show`,aS=".dropdown-menu",Kre=Ns()?"top-end":"top-start",Yre=Ns()?"top-start":"top-end",Qre=Ns()?"bottom-end":"bottom-start",Jre=Ns()?"bottom-start":"bottom-end",Zre=Ns()?"left-start":"right-start",Xre=Ns()?"right-start":"left-start",iae={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},nae={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class jr extends vr{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=we.next(this._element,aS)[0]||we.prev(this._element,aS)[0]||we.findOne(aS,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return iae}static get DefaultType(){return nae}static get NAME(){return ZF}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Uo(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!X.trigger(this._element,Lre,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const i of[].concat(...document.body.children))X.on(i,"mouseover",Zb);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Rh),this._element.classList.add(Rh),X.trigger(this._element,Bre,t)}}hide(){!Uo(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!X.trigger(this._element,Ore,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))X.off(i,"mouseover",Zb);this._popper&&this._popper.destroy(),this._menu.classList.remove(Rh),this._element.classList.remove(Rh),this._element.setAttribute("aria-expanded","false"),Fa.removeDataAttribute(this._menu,"popper"),X.trigger(this._element,Nre,t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!Ga(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${ZF.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(void 0===Wn)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:Ga(this._config.reference)?t=Fo(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=A$(t,this._menu,e)}_isShown(){return this._menu.classList.contains(Rh)}_getPlacement(){const t=this._parent;if(t.classList.contains("dropend"))return Zre;if(t.classList.contains("dropstart"))return Xre;if(t.classList.contains("dropup-center"))return"top";if(t.classList.contains("dropdown-center"))return"bottom";const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?Yre:Kre:e?Jre:Qre}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Fa.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),on(on({},t),Un(this._config.popperConfig,[t]))}_selectMenuItem({key:t,target:e}){const i=we.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(s=>Th(s));!i.length||T$(i,e,t===eU,!i.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){const e=jr.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(2===t.button||"keyup"===t.type&&"Tab"!==t.key)return;const e=we.find(Ure);for(const i of e){const s=jr.getInstance(i);if(!s||!1===s._config.autoClose)continue;const a=t.composedPath(),r=a.includes(s._menu);if(a.includes(s._element)||"inside"===s._config.autoClose&&!r||"outside"===s._config.autoClose&&r||s._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const o={relatedTarget:s._element};"click"===t.type&&(o.clickEvent=t),s._completeHide(o)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),i="Escape"===t.key,s=[Rre,eU].includes(t.key);if(!s&&!i||e&&!i)return;t.preventDefault();const a=this.matches(fc)?this:we.prev(this,fc)[0]||we.next(this,fc)[0]||we.findOne(fc,t.delegateTarget.parentNode),r=jr.getOrCreateInstance(a);if(s)return t.stopPropagation(),r.show(),void r._selectMenuItem(t);r._isShown()&&(t.stopPropagation(),r.hide(),a.focus())}}X.on(document,iU,fc,jr.dataApiKeydownHandler),X.on(document,iU,aS,jr.dataApiKeydownHandler),X.on(document,tU,jr.clearMenus),X.on(document,$re,jr.clearMenus),X.on(document,tU,fc,function(n){n.preventDefault(),jr.getOrCreateInstance(this).toggle()}),Ls(jr);const nU="backdrop",rU=`mousedown.bs.${nU}`,rae={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},aae={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class aU extends zf{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return rae}static get DefaultType(){return aae}static get NAME(){return nU}show(t){if(!this._config.isVisible)return void Un(t);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{Un(t)})}hide(t){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),Un(t)})):Un(t)}dispose(){!this._isAppended||(X.off(this._element,rU),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=Fo(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),X.on(t,rU,()=>{Un(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){LF(t,this._getElement(),this._config.isAnimated)}}const oS=".bs.focustrap",lae=`focusin${oS}`,cae=`keydown.tab${oS}`,oU="backward",dae={autofocus:!0,trapElement:null},gae={autofocus:"boolean",trapElement:"element"};class lU extends zf{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return dae}static get DefaultType(){return gae}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),X.off(document,oS),X.on(document,lae,t=>this._handleFocusin(t)),X.on(document,cae,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,X.off(document,oS))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const i=we.focusableChildren(e);0===i.length?e.focus():this._lastTabNavDirection===oU?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?oU:"forward")}}const cU=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",uU=".sticky-top",lS="padding-right",hU="margin-right";class B${constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,lS,e=>e+t),this._setElementAttributes(cU,lS,e=>e+t),this._setElementAttributes(uU,hU,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,lS),this._resetElementAttributes(cU,lS),this._resetElementAttributes(uU,hU)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){const s=this.getWidth();this._applyManipulationCallback(t,r=>{if(r!==this._element&&window.innerWidth>r.clientWidth+s)return;this._saveInitialAttribute(r,e);const o=window.getComputedStyle(r).getPropertyValue(e);r.style.setProperty(e,`${i(Number.parseFloat(o))}px`)})}_saveInitialAttribute(t,e){const i=t.style.getPropertyValue(e);i&&Fa.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,s=>{const a=Fa.getDataAttribute(s,e);null!==a?(Fa.removeDataAttribute(s,e),s.style.setProperty(e,a)):s.style.removeProperty(e)})}_applyManipulationCallback(t,e){if(Ga(t))e(t);else for(const i of we.find(t,this._element))e(i)}}const Bs=".bs.modal",yae=`hide${Bs}`,vae=`hidePrevented${Bs}`,dU=`hidden${Bs}`,gU=`show${Bs}`,bae=`shown${Bs}`,Sae=`resize${Bs}`,_ae=`click.dismiss${Bs}`,wae=`mousedown.dismiss${Bs}`,Aae=`keydown.dismiss${Bs}`,Eae=`click${Bs}.data-api`,fU="modal-open",$$="modal-static",Dae={backdrop:!0,focus:!0,keyboard:!0},Mae={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class pc extends vr{constructor(t,e){super(t,e),this._dialog=we.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new B$,this._addEventListeners()}static get Default(){return Dae}static get DefaultType(){return Mae}static get NAME(){return"modal"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||X.trigger(this._element,gU,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(fU),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||X.trigger(this._element,yae).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){X.off(window,Bs),X.off(this._dialog,Bs),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new aU({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new lU({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=we.findOne(".modal-body",this._dialog);e&&(e.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,X.trigger(this._element,bae,{relatedTarget:t})},this._dialog,this._isAnimated())}_addEventListeners(){X.on(this._element,Aae,t=>{if("Escape"===t.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),X.on(window,Sae,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),X.on(this._element,wae,t=>{X.one(this._element,_ae,e=>{if(this._element===t.target&&this._element===e.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(fU),this._resetAdjustments(),this._scrollBar.reset(),X.trigger(this._element,dU)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(X.trigger(this._element,vae).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;"hidden"===i||this._element.classList.contains($$)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add($$),this._queueCallback(()=>{this._element.classList.remove($$),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;if(i&&!t){const s=Ns()?"paddingLeft":"paddingRight";this._element.style[s]=`${e}px`}if(!i&&t){const s=Ns()?"paddingRight":"paddingLeft";this._element.style[s]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const i=pc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t](e)}})}}X.on(document,Eae,'[data-bs-toggle="modal"]',function(n){const t=we.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),X.one(t,gU,s=>{s.defaultPrevented||X.one(t,dU,()=>{Th(this)&&this.focus()})});const e=we.findOne(".modal.show");e&&pc.getInstance(e).hide(),pc.getOrCreateInstance(t).toggle(this)}),Xb(pc),Ls(pc);const Ua=".bs.offcanvas",mU=".data-api",Iae=`load${Ua}${mU}`,vU="showing",SU=".offcanvas.show",Lae=`show${Ua}`,Bae=`shown${Ua}`,$ae=`hide${Ua}`,_U=`hidePrevented${Ua}`,wU=`hidden${Ua}`,Vae=`resize${Ua}`,qae=`click${Ua}${mU}`,Hae=`keydown.dismiss${Ua}`,Fae={backdrop:!0,keyboard:!0,scroll:!1},Uae={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Wo extends vr{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Fae}static get DefaultType(){return Uae}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||X.trigger(this._element,Lae,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new B$).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(vU),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(vU),X.trigger(this._element,Bae,{relatedTarget:t})},this._element,!0))}hide(){this._isShown&&!X.trigger(this._element,$ae).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new B$).reset(),X.trigger(this._element,wU)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new aU({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():X.trigger(this._element,_U)}:null})}_initializeFocusTrap(){return new lU({trapElement:this._element})}_addEventListeners(){X.on(this._element,Hae,t=>{if("Escape"===t.key){if(this._config.keyboard)return void this.hide();X.trigger(this._element,_U)}})}static jQueryInterface(t){return this.each(function(){const e=Wo.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}X.on(document,qae,'[data-bs-toggle="offcanvas"]',function(n){const t=we.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Uo(this))return;X.one(t,wU,()=>{Th(this)&&this.focus()});const e=we.findOne(SU);e&&e!==t&&Wo.getInstance(e).hide(),Wo.getOrCreateInstance(t).toggle(this)}),X.on(window,Iae,()=>{for(const n of we.find(SU))Wo.getOrCreateInstance(n).show()}),X.on(window,Vae,()=>{for(const n of we.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(n).position&&Wo.getOrCreateInstance(n).hide()}),Xb(Wo),Ls(Wo);const AU={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},jae=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Wae=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,zae=(n,t)=>{const e=n.nodeName.toLowerCase();return t.includes(e)?!jae.has(e)||Boolean(Wae.test(n.nodeValue)):t.filter(i=>i instanceof RegExp).some(i=>i.test(e))},Qae={allowList:AU,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Jae={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Zae={entry:"(string|element|function|null)",selector:"(string|element)"};class Xae extends zf{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Qae}static get DefaultType(){return Jae}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content=on(on({},this._config.content),t),this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[s,a]of Object.entries(this._config.content))this._setContent(t,a,s);const e=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&e.classList.add(...i.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,i]of Object.entries(t))super._typeCheckConfig({selector:e,entry:i},Zae)}_setContent(t,e,i){const s=we.findOne(i,t);if(s){if(!(e=this._resolvePossibleFunction(e)))return void s.remove();if(Ga(e))return void this._putElementInTemplate(Fo(e),s);if(this._config.html)return void(s.innerHTML=this._maybeSanitize(e));s.textContent=e}}_maybeSanitize(t){return this._config.sanitize?function(n,t,e){if(!n.length)return n;if(e&&"function"==typeof e)return e(n);const s=(new window.DOMParser).parseFromString(n,"text/html"),a=[].concat(...s.body.querySelectorAll("*"));for(const r of a){const o=r.nodeName.toLowerCase();if(!Object.keys(t).includes(o)){r.remove();continue}const l=[].concat(...r.attributes),c=[].concat(t["*"]||[],t[o]||[]);for(const d of l)zae(d,c)||r.removeAttribute(d.nodeName)}return s.body.innerHTML}(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return Un(t,[this])}_putElementInTemplate(t,e){if(this._config.html)return e.innerHTML="",void e.append(t);e.textContent=t.textContent}}const toe=new Set(["sanitize","allowList","sanitizeFn"]),V$="fade",cS="show",CU="hide.bs.modal",Zf="hover",q$="focus",moe={AUTO:"auto",TOP:"top",RIGHT:Ns()?"left":"right",BOTTOM:"bottom",LEFT:Ns()?"right":"left"},yoe={allowList:AU,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},voe={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ih extends vr{constructor(t,e){if(void 0===Wn)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return yoe}static get DefaultType(){return voe}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),X.off(this._element.closest(".modal"),CU,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const t=X.trigger(this._element,this.constructor.eventName("show")),i=(OF(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!i)return;this._disposePopper();const s=this._getTipElement();this._element.setAttribute("aria-describedby",s.getAttribute("id"));const{container:a}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(a.append(s),X.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(s),s.classList.add(cS),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))X.on(o,"mouseover",Zb);this._queueCallback(()=>{X.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!X.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(cS),"ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))X.off(s,"mouseover",Zb);this._activeTrigger.click=!1,this._activeTrigger[q$]=!1,this._activeTrigger[Zf]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),X.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(V$,cS),e.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(n=>{do{n+=Math.floor(1e6*Math.random())}while(document.getElementById(n));return n})(this.constructor.NAME).toString();return e.setAttribute("id",i),this._isAnimated()&&e.classList.add(V$),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new Xae(jS(on({},this._config),{content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(V$)}_isShown(){return this.tip&&this.tip.classList.contains(cS)}_createPopper(t){const e=Un(this._config.placement,[this,t,this._element]),i=moe[e.toUpperCase()];return A$(this._element,t,this._getPopperConfig(i))}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return Un(t,[this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return on(on({},e),Un(this._config.popperConfig,[e]))}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if("click"===e)X.on(this._element,this.constructor.eventName("click"),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if("manual"!==e){const i=this.constructor.eventName(e===Zf?"mouseenter":"focusin"),s=this.constructor.eventName(e===Zf?"mouseleave":"focusout");X.on(this._element,i,this._config.selector,a=>{const r=this._initializeOnDelegatedTarget(a);r._activeTrigger["focusin"===a.type?q$:Zf]=!0,r._enter()}),X.on(this._element,s,this._config.selector,a=>{const r=this._initializeOnDelegatedTarget(a);r._activeTrigger["focusout"===a.type?q$:Zf]=r._element.contains(a.relatedTarget),r._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},X.on(this._element.closest(".modal"),CU,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");!t||(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=Fa.getDataAttributes(this._element);for(const i of Object.keys(e))toe.has(i)&&delete e[i];return t=on(on({},e),"object"==typeof t&&t?t:{}),t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:Fo(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,i]of Object.entries(this._config))this.constructor.Default[e]!==i&&(t[e]=i);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const e=Ih.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}Ls(Ih);const woe=jS(on({},Ih.Default),{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),Aoe=jS(on({},Ih.DefaultType),{content:"(null|string|element|function)"});class H$ extends Ih{static get Default(){return woe}static get DefaultType(){return Aoe}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const e=H$.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}Ls(H$);const G$=".bs.scrollspy",Poe=`activate${G$}`,PU=`click${G$}`,Toe=`load${G$}.data-api`,Oh="active",F$="[href]",TU=".nav-link",Moe=`${TU}, .nav-item > ${TU}, .list-group-item`,Ooe={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Noe={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class uS extends vr{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Ooe}static get DefaultType(){return Noe}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=Fo(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map(e=>Number.parseFloat(e))),t}_maybeEnableSmoothScroll(){!this._config.smoothScroll||(X.off(this._config.target,PU),X.on(this._config.target,PU,F$,t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const i=this._rootElement||window,s=e.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:s,behavior:"smooth"});i.scrollTop=s}}))}_getNewObserver(){return new IntersectionObserver(e=>this._observerCallback(e),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(t){const e=r=>this._targetLinks.get(`#${r.target.id}`),i=r=>{this._previousScrollData.visibleEntryTop=r.target.offsetTop,this._process(e(r))},s=(this._rootElement||document.documentElement).scrollTop,a=s>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=s;for(const r of t){if(!r.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(r));continue}const o=r.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(a&&o){if(i(r),!s)return}else!a&&!o&&i(r)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=we.find(F$,this._config.target);for(const e of t){if(!e.hash||Uo(e))continue;const i=we.findOne(decodeURI(e.hash),this._element);Th(i)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,i))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Oh),this._activateParents(t),X.trigger(this._element,Poe,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item"))we.findOne(".dropdown-toggle",t.closest(".dropdown")).classList.add(Oh);else for(const e of we.parents(t,".nav, .list-group"))for(const i of we.prev(e,Moe))i.classList.add(Oh)}_clearActiveClass(t){t.classList.remove(Oh);const e=we.find(`${F$}.${Oh}`,t);for(const i of e)i.classList.remove(Oh)}static jQueryInterface(t){return this.each(function(){const e=uS.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}X.on(window,Toe,()=>{for(const n of we.find('[data-bs-spy="scroll"]'))uS.getOrCreateInstance(n)}),Ls(uS);const mc=".bs.tab",Boe=`hide${mc}`,$oe=`hidden${mc}`,Voe=`show${mc}`,qoe=`shown${mc}`,Hoe=`click${mc}`,Goe=`keydown${mc}`,Foe=`load${mc}`,Uoe="ArrowLeft",xU="ArrowRight",joe="ArrowUp",kU="ArrowDown",U$="Home",DU="End",yc="active",j$="show",W$=":not(.dropdown-toggle)",RU='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',z$=`.nav-link${W$}, .list-group-item${W$}, [role="tab"]${W$}, ${RU}`,Zoe=`.${yc}[data-bs-toggle="tab"], .${yc}[data-bs-toggle="pill"], .${yc}[data-bs-toggle="list"]`;class Nh extends vr{constructor(t){super(t),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),X.on(this._element,Goe,e=>this._keydown(e)))}static get NAME(){return"tab"}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),i=e?X.trigger(e,Boe,{relatedTarget:t}):null;X.trigger(t,Voe,{relatedTarget:e}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){t&&(t.classList.add(yc),this._activate(we.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),X.trigger(t,qoe,{relatedTarget:e})):t.classList.add(j$)},t,t.classList.contains("fade")))}_deactivate(t,e){t&&(t.classList.remove(yc),t.blur(),this._deactivate(we.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),X.trigger(t,$oe,{relatedTarget:e})):t.classList.remove(j$)},t,t.classList.contains("fade")))}_keydown(t){if(![Uoe,xU,joe,kU,U$,DU].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=this._getChildren().filter(s=>!Uo(s));let i;if([U$,DU].includes(t.key))i=e[t.key===U$?0:e.length-1];else{const s=[xU,kU].includes(t.key);i=T$(e,t.target,s,!0)}i&&(i.focus({preventScroll:!0}),Nh.getOrCreateInstance(i).show())}_getChildren(){return we.find(z$,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const i of e)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",e),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=we.getElementFromSelector(t);!e||(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){const i=this._getOuterElement(t);if(!i.classList.contains("dropdown"))return;const s=(a,r)=>{const o=we.findOne(a,i);o&&o.classList.toggle(r,e)};s(".dropdown-toggle",yc),s(".dropdown-menu",j$),i.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}_elemIsActive(t){return t.classList.contains(yc)}_getInnerElement(t){return t.matches(z$)?t:we.findOne(z$,t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(t){return this.each(function(){const e=Nh.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}X.on(document,Hoe,RU,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Uo(this)&&Nh.getOrCreateInstance(this).show()}),X.on(window,Foe,()=>{for(const n of we.find(Zoe))Nh.getOrCreateInstance(n)}),Ls(Nh);const zo=".bs.toast",ele=`mouseover${zo}`,tle=`mouseout${zo}`,ile=`focusin${zo}`,nle=`focusout${zo}`,sle=`hide${zo}`,rle=`hidden${zo}`,ale=`show${zo}`,ole=`shown${zo}`,hS="show",dS="showing",cle={animation:"boolean",autohide:"boolean",delay:"number"},ule={animation:!0,autohide:!0,delay:5e3};class gS extends vr{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return ule}static get DefaultType(){return cle}static get NAME(){return"toast"}show(){X.trigger(this._element,ale).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(hS,dS),this._queueCallback(()=>{this._element.classList.remove(dS),X.trigger(this._element,ole),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!X.trigger(this._element,sle).defaultPrevented&&(this._element.classList.add(dS),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(dS,hS),X.trigger(this._element,rle)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(hS),super.dispose()}isShown(){return this._element.classList.contains(hS)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){X.on(this._element,ele,t=>this._onInteraction(t,!0)),X.on(this._element,tle,t=>this._onInteraction(t,!1)),X.on(this._element,ile,t=>this._onInteraction(t,!0)),X.on(this._element,nle,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const e=gS.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}})}}function $s(n){return null!=n&&"false"!=`${n}`}function vc(n,t=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Mi(n){return n instanceof Rt?n.nativeElement:n}function bc(...n){let t=n[n.length-1];return il(t)?(n.pop(),Qa(n,t)):Ja(n)}function K$(n,t,e,i){return R(e)&&(i=e,e=void 0),i?K$(n,t,e).pipe(hs(s=>Xo(s)?i(...s):i(s))):new Ye(s=>{OU(n,t,function(r){s.next(arguments.length>1?Array.prototype.slice.call(arguments):r)},s,e)})}function OU(n,t,e,i,s){let a;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const r=n;n.addEventListener(t,e,s),a=()=>r.removeEventListener(t,e,s)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const r=n;n.on(t,e),a=()=>r.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const r=n;n.addListener(t,e),a=()=>r.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let r=0,o=n.length;r<o;r++)OU(n[r],t,e,i,s)}i.add(a)}Xb(gS),Ls(gS);class mle extends et{constructor(t,e){super()}schedule(t,e=0){return this}}class fS extends mle{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s,i=!1;try{this.work(t)}catch(a){i=!0,s=!!a&&a||new Error(a)}if(i)return this.unsubscribe(),s}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&i.splice(s,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let NU=(()=>{class n{constructor(e,i=n.now){this.SchedulerAction=e,this.now=i}schedule(e,i=0,s){return new this.SchedulerAction(this,e).schedule(s,i)}}return n.now=()=>Date.now(),n})();class br extends NU{constructor(t,e=NU.now){super(t,()=>br.delegate&&br.delegate!==this?br.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return br.delegate&&br.delegate!==this?br.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const LU=new class extends br{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,a=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<a&&(t=e.shift()));if(this.active=!1,i){for(;++s<a&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends fS{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});let ble=1;const Sle=Promise.resolve(),pS={};function BU(n){return n in pS&&(delete pS[n],!0)}const $U={setImmediate(n){const t=ble++;return pS[t]=!0,Sle.then(()=>BU(t)&&n()),t},clearImmediate(n){BU(n)}},Xf=(new class extends br{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,a=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<a&&(t=e.shift()));if(this.active=!1,i){for(;++s<a&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends fS{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=$U.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&($U.clearImmediate(e),t.scheduled=void 0)}}),new br(fS));class Tle{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new xle(t,this.durationSelector))}}class xle extends Dc{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:s}=this;e=s(t)}catch(s){return this.destination.error(s)}const i=ji(e,new Dn(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Y$(n){return!Xo(n)&&n-parseFloat(n)+1>=0}function Dle(n){const{index:t,period:e,subscriber:i}=n;if(i.next(t),!i.closed){if(-1===e)return i.complete();n.index=t+1,this.schedule(n,e)}}function Q$(n,t=Xf){return function(n){return function(e){return e.lift(new Tle(n))}}(()=>function(n=0,t,e){let i=-1;return Y$(t)?i=Number(t)<1?1:Number(t):il(t)&&(e=t),il(e)||(e=Xf),new Ye(s=>{const a=Y$(n)?n:+n-e.now();return e.schedule(Dle,a,{index:0,period:i,subscriber:s})})}(n,t))}function HU(n,t){return function(i){return i.lift(new Mle(n,t))}}class Mle{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Rle(t,this.predicate,this.thisArg))}}class Rle extends xt{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function Ko(n){return t=>t.lift(new Ile(n))}class Ile{constructor(t){this.notifier=t}call(t,e){const i=new Ole(t),s=ji(this.notifier,new Dn(i));return s&&!i.seenValue?(i.add(s),e.subscribe(i)):i}}class Ole extends Dc{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function GU(...n){return bp(1)(bc(...n))}function ep(...n){const t=n[n.length-1];return il(t)?(n.pop(),e=>GU(n,e,t)):e=>GU(n,e)}function J$(n,t){return"function"==typeof t?e=>e.pipe(J$((i,s)=>kc(n(i,s)).pipe(hs((a,r)=>t(i,a,s,r))))):e=>e.lift(new Vle(n))}class Vle{constructor(t){this.project=t}call(t,e){return e.subscribe(new qle(t,this.project))}}class qle extends Dc{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new Dn(this),s=this.destination;s.add(i),this.innerSubscription=ji(t,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}new class extends br{}(class extends fS{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(t,e,i):t.flush(this)}});const Ule=new Ye(n=>n.complete());function FU(n){return n?function(n){return new Ye(t=>n.schedule(()=>t.complete()))}(n):Ule}class Vs{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}}accept(t,e,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,i)}toObservable(){switch(this.kind){case"N":return bc(this.value);case"E":return function(n,t){return new Ye(e=>e.error(n))}(this.error);case"C":return FU()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new Vs("N",t):Vs.undefinedValueNotification}static createError(t){return new Vs("E",void 0,t)}static createComplete(){return Vs.completeNotification}}let Z$;Vs.completeNotification=new Vs("C"),Vs.undefinedValueNotification=new Vs("N",void 0);try{Z$="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Z$=!1}let tp,X$,qs=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return n===y6}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Z$)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(G(ch))},n.\u0275prov=ue({factory:function(){return new n(G(ch))},token:n,providedIn:"root"}),n})();function ip(n){return function(){if(null==tp&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>tp=!0}))}finally{tp=tp||!1}return tp}()?n:!!n.capture}function e3(n){if(function(){if(null==X$){const n="undefined"!=typeof document?document.head:null;X$=!(!n||!n.createShadowRoot&&!n.attachShadow)}return X$}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Wr(n){return n.composedPath?n.composedPath()[0]:n.target}const WU=new ye("cdk-dir-doc",{providedIn:"root",factory:function(){return H_(Xe)}});let sp=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new ht,e){const s=e.documentElement?e.documentElement.dir:null,a=(e.body?e.body.dir:null)||s;this.value="ltr"===a||"rtl"===a?a:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(G(WU,8))},n.\u0275prov=ue({factory:function(){return new n(G(WU,8))},token:n,providedIn:"root"}),n})(),t3=(()=>{class n{constructor(e,i,s){this._ngZone=e,this._platform=i,this._scrolled=new Ze,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Ye(i=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(Q$(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):bc()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const s=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(HU(a=>!a||s.indexOf(a)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((s,a)=>{this._scrollableContainsElement(a,e)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let s=Mi(i),a=e.getElementRef().nativeElement;do{if(s==a)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>K$(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(G(We),G(qs),G(Xe,8))},n.\u0275prov=ue({factory:function(){return new n(G(We),G(qs),G(Xe,8))},token:n,providedIn:"root"}),n})(),i3=(()=>{class n{constructor(e,i,s){this._platform=e,this._change=new Ze,this._changeListener=a=>{this._change.next(a)},this._document=s,i.runOutsideAngular(()=>{if(e.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),s=e.documentElement,a=s.getBoundingClientRect();return{top:-a.top||e.body.scrollTop||i.scrollY||s.scrollTop||0,left:-a.left||e.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Q$(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(G(qs),G(We),G(Xe,8))},n.\u0275prov=ue({factory:function(){return new n(G(qs),G(We),G(Xe,8))},token:n,providedIn:"root"}),n})(),n3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qt({type:n}),n.\u0275inj=qt({}),n})();const Ece=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function s3(n){return t=>0===n?FU():t.lift(new Cce(n))}class Cce{constructor(t){if(this.total=t,this.total<0)throw new Ece}call(t,e){return e.subscribe(new Pce(t,this.total))}}class Pce extends xt{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function rue(n){const{subscriber:t,counter:e,period:i}=n;t.next(e),this.schedule({subscriber:t,counter:e+1,period:i},i)}function Yo(){}"undefined"!=typeof Element&&Element;class oue{constructor(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}call(t,e){return e.subscribe(new lue(t,this.nextOrObserver,this.error,this.complete))}}class lue extends xt{constructor(t,e,i,s){super(t),this._tapNext=Yo,this._tapError=Yo,this._tapComplete=Yo,this._tapError=i||Yo,this._tapComplete=s||Yo,R(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Yo,this._tapError=e.error||Yo,this._tapComplete=e.complete||Yo)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function o3(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const s=t[i];s?n.setProperty(i,s,(null==e?void 0:e.has(i))?"important":""):n.removeProperty(i)}return n}function $h(n,t){const e=t?"":"none";o3(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function f8(n,t,e){o3(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function bS(n,t){return t&&"none"!=t?n+" "+t:n}function p8(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function l3(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function c3(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function u3(n,t,e){const{top:i,bottom:s,left:a,right:r}=n;return e>=i&&e<=s&&t>=a&&t<=r}function rp(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function m8(n,t,e,i){const{top:s,right:a,bottom:r,left:o,width:l,height:c}=n,d=l*t,f=c*t;return i>s-f&&i<r+f&&e>o-d&&e<a+d}class y8{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:c3(e)})})}handleScroll(t){const e=Wr(t),i=this.positions.get(e);if(!i)return null;const s=e===this._document?e.documentElement:e,a=i.scrollPosition;let r,o;if(e===this._document){const d=this._viewportRuler.getViewportScrollPosition();r=d.top,o=d.left}else r=e.scrollTop,o=e.scrollLeft;const l=a.top-r,c=a.left-o;return this.positions.forEach((d,f)=>{d.clientRect&&e!==f&&s.contains(f)&&rp(d.clientRect,l,c)}),a.top=r,a.left=o,{top:l,left:c}}}function v8(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let s=0;s<e.length;s++)e[s].removeAttribute("id");return"canvas"===i?_8(n,t):("input"===i||"select"===i||"textarea"===i)&&S8(n,t),b8("canvas",n,t,_8),b8("input, textarea, select",n,t,S8),t}function b8(n,t,e,i){const s=t.querySelectorAll(n);if(s.length){const a=e.querySelectorAll(n);for(let r=0;r<s.length;r++)i(s[r],a[r])}}let uue=0;function S8(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${uue++}`)}function _8(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch(i){}}const w8=ip({passive:!0}),A8=ip({passive:!1}),h3=new Set(["position"]);class due{constructor(t,e,i,s,a,r){this._config=e,this._document=i,this._ngZone=s,this._viewportRuler=a,this._dragDropRegistry=r,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Ze,this._pointerMoveSubscription=et.EMPTY,this._pointerUpSubscription=et.EMPTY,this._scrollSubscription=et.EMPTY,this._resizeSubscription=et.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Ze,this.started=new Ze,this.released=new Ze,this.ended=new Ze,this.entered=new Ze,this.exited=new Ze,this.dropped=new Ze,this.moved=this._moveEvents,this._pointerDown=o=>{if(this.beforeStarted.next(),this._handles.length){const l=this._handles.find(c=>{const d=Wr(o);return!!d&&(d===c||c.contains(d))});l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,o)}else this.disabled||this._initializeDragSequence(this._rootElement,o)},this._pointerMove=o=>{const l=this._getPointerPositionOnPage(o);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const b=Date.now()>=this._dragStartTime+this._getDragStartDelay(o),P=this._dropContainer;if(!b)return void this._endDragSequence(o);(!P||!P.isDragging()&&!P.isReceiving())&&(o.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(o)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),o.preventDefault();const c=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(c),this._dropContainer)this._updateActiveDropContainer(c,l);else{const d=this._activeTransform;d.x=c.x-this._pickupPositionOnPage.x+this._passiveTransform.x,d.y=c.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(d.x,d.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${d.x} ${d.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:c,event:o,distance:this._getDragDistance(c),delta:this._pointerDirectionDelta})})},this._pointerUp=o=>{this._endDragSequence(o)},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new y8(i,a),r.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=$s(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>$h(i,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>Mi(i)),this._handles.forEach(i=>$h(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Mi(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,A8),e.addEventListener("touchstart",this._pointerDown,w8)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Mi(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&_S(this._rootElement),_S(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),$h(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),$h(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&_S(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&_S(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){ap(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,s=i.parentNode,a=this._placeholder=this._createPlaceholderElement(),r=this._anchor=this._anchor||this._document.createComment(""),o=this._getShadowRoot();s.insertBefore(r,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),f8(i,!1,h3),this._document.body.appendChild(s.replaceChild(a,i)),this._getPreviewInsertionPoint(s,o).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),s=ap(e),a=!s&&0!==e.button,r=this._rootElement,o=Wr(e),l=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),c=s?function(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(e):function(n){return 0===n.offsetX&&0===n.offsetY}(e);if(o&&o.draggable&&"mousedown"===e.type&&e.preventDefault(),i||a||l||c)return;this._handles.length&&(this._rootElementTapHighlight=r.style.webkitTapHighlightColor||"",r.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(y=>this._updateOnScroll(y)),this._boundaryElement&&(this._boundaryRect=c3(this._boundaryElement));const d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const f=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:f.x,y:f.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){f8(this._rootElement,!0,h3),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),s=this._getPointerPositionOnPage(t),a=this._getDragDistance(s),r=e._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:a,dropPoint:s}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:r,distance:a,dropPoint:s}),e.drop(this,i,this._initialIndex,this._initialContainer,r,a,s),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:s}){let a=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!a&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(a=this._initialContainer),a&&a!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=a,this._dropContainer.enter(this,t,e,a===this._initialContainer&&a.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:a,currentIndex:a.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,s),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let s;if(i&&t){const a=t.matchSize?this._rootElement.getBoundingClientRect():null,r=t.viewContainer.createEmbeddedView(i,t.context);r.detectChanges(),s=C8(r,this._document),this._previewRef=r,t.matchSize?P8(s,a):s.style.transform=SS(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const a=this._rootElement;s=v8(a),P8(s,a.getBoundingClientRect()),this._initialTransform&&(s.style.transform=this._initialTransform)}return o3(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},h3),$h(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(a=>s.classList.add(a)):s.classList.add(e)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function(n){const t=getComputedStyle(n),e=l3(t,"transition-property"),i=e.find(o=>"transform"===o||"all"===o);if(!i)return 0;const s=e.indexOf(i),a=l3(t,"transition-duration"),r=l3(t,"transition-delay");return p8(a[s])+p8(r[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const s=r=>{var o;(!r||Wr(r)===this._preview&&"transform"===r.propertyName)&&(null===(o=this._preview)||void 0===o||o.removeEventListener("transitionend",s),i(),clearTimeout(a))},a=setTimeout(s,1.5*e);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=C8(this._placeholderRef,this._document)):i=v8(this._rootElement),i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e){const i=this._rootElement.getBoundingClientRect(),s=t===this._rootElement?null:t,a=s?s.getBoundingClientRect():i,r=ap(e)?e.targetTouches[0]:e,o=this._getViewportScrollPosition();return{x:a.left-i.left+(r.pageX-a.left-o.left),y:a.top-i.top+(r.pageY-a.top-o.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=ap(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,s=i.pageX-e.left,a=i.pageY-e.top;if(this._ownerSVGElement){const r=this._ownerSVGElement.getScreenCTM();if(r){const o=this._ownerSVGElement.createSVGPoint();return o.x=s,o.y=a,o.matrixTransform(r.inverse())}}return{x:s,y:a}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:s}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?s=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:a,y:r}=this._pickupPositionInElement,o=this._boundaryRect,l=this._previewRect,c=o.top+r,d=o.bottom-(l.height-r);i=E8(i,o.left+a,o.right-(l.width-a)),s=E8(s,c,d)}return{x:i,y:s}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,s=this._pointerDirectionDelta,a=this._pointerPositionAtLastDirectionChange,r=Math.abs(e-a.x),o=Math.abs(i-a.y);return r>this._config.pointerDirectionChangeThreshold&&(s.x=e>a.x?1:-1,a.x=e),o>this._config.pointerDirectionChangeThreshold&&(s.y=i>a.y?1:-1,a.y=i),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,$h(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,A8),t.removeEventListener("touchstart",this._pointerDown,w8)}_applyRootElementTransform(t,e){const i=SS(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform&&"none"!=this._rootElement.style.transform?this._rootElement.style.transform:""),this._rootElement.style.transform=bS(i,this._initialTransform)}_applyPreviewTransform(t,e){var i;const s=(null===(i=this._previewTemplate)||void 0===i?void 0:i.template)?void 0:this._initialTransform,a=SS(t,e);this._preview.style.transform=bS(a,s)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),s=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===s.width&&0===s.height)return;const a=i.left-s.left,r=s.right-i.right,o=i.top-s.top,l=s.bottom-i.bottom;i.width>s.width?(a>0&&(t+=a),r>0&&(t-=r)):t=0,i.height>s.height?(o>0&&(e+=o),l>0&&(e-=l)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:ap(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=Wr(t);this._boundaryRect&&(i===this._document||i!==this._boundaryElement&&i.contains(this._boundaryElement))&&rp(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=e3(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const s=this._document;return e||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return Mi(i)}}function SS(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function E8(n,t,e){return Math.max(t,Math.min(e,n))}function _S(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function ap(n){return"t"===n.type[0]}function C8(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(s=>i.appendChild(s)),i}function P8(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=SS(t.left,t.top)}function T8(n,t,e){const i=op(t,n.length-1),s=op(e,n.length-1);if(i===s)return;const a=n[i],r=s<i?-1:1;for(let o=i;o!==s;o+=r)n[o]=n[o+r];n[s]=a}function op(n,t){return Math.max(0,Math.min(t,n))}class gue{constructor(t,e,i,s,a){this._dragDropRegistry=e,this._ngZone=s,this._viewportRuler=a,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Ze,this.entered=new Ze,this.exited=new Ze,this.dropped=new Ze,this.sorted=new Ze,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=et.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Ze,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(n=0,t=Xf){return(!Y$(n)||n<0)&&(n=0),(!t||"function"!=typeof t.schedule)&&(t=Xf),new Ye(e=>(e.add(t.schedule(rue,n,{subscriber:e,counter:0,period:n})),e))}(0,LU).pipe(Ko(this._stopScrollTimers)).subscribe(()=>{const r=this._scrollNode,o=this.autoScrollStep;1===this._verticalScrollDirection?D8(r,-o):2===this._verticalScrollDirection&&D8(r,o),1===this._horizontalScrollDirection?M8(r,-o):2===this._horizontalScrollDirection&&M8(r,o)})},this.element=Mi(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new y8(i,a)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,s){let a;this._draggingStarted(),null==s?(a=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===a&&(a=this._getItemIndexFromPointerPosition(t,e,i))):a=s;const r=this._activeDraggables,o=r.indexOf(t),l=t.getPlaceholderElement();let c=r[a];if(c===t&&(c=r[a+1]),o>-1&&r.splice(o,1),c&&!this._dragDropRegistry.isDragging(c)){const d=c.getRootElement();d.parentElement.insertBefore(l,d),r.splice(a,0,t)}else if(this._shouldEnterAsFirstChild(e,i)){const d=r[0].getRootElement();d.parentNode.insertBefore(l,d),r.unshift(t)}else Mi(this.element).appendChild(l),r.push(t);l.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,s,a,r,o){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:s,isPointerOverContainer:a,distance:r,dropPoint:o})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(s=>s.isDragging()).every(s=>-1===t.indexOf(s))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=Mi(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?d3("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,i=>i.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,s){if(this.sortingDisabled||!this._clientRect||!m8(this._clientRect,.05,e,i))return;const a=this._itemPositions,r=this._getItemIndexFromPointerPosition(t,e,i,s);if(-1===r&&a.length>0)return;const o="horizontal"===this._orientation,l=d3(a,D=>D.drag===t),c=a[r],f=c.clientRect,y=l>r?1:-1,b=this._getItemOffsetPx(a[l].clientRect,f,y),P=this._getSiblingOffsetPx(l,a,y),x=a.slice();T8(a,l,r),this.sorted.next({previousIndex:l,currentIndex:r,container:this,item:t}),a.forEach((D,N)=>{if(x[N]===D)return;const I=D.drag===t,U=I?b:P,$=I?t.getPlaceholderElement():D.drag.getRootElement();D.offset+=U,o?($.style.transform=bS(`translate3d(${Math.round(D.offset)}px, 0, 0)`,D.initialTransform),rp(D.clientRect,0,U)):($.style.transform=bS(`translate3d(0, ${Math.round(D.offset)}px, 0)`,D.initialTransform),rp(D.clientRect,U,0))}),this._previousSwap.overlaps=u3(f,e,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=o?s.x:s.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,s=0,a=0;if(this._parentPositions.positions.forEach((r,o)=>{o===this._document||!r.clientRect||i||m8(r.clientRect,.05,t,e)&&([s,a]=function(n,t,e,i){const s=R8(t,i),a=I8(t,e);let r=0,o=0;if(s){const l=n.scrollTop;1===s?l>0&&(r=1):n.scrollHeight-l>n.clientHeight&&(r=2)}if(a){const l=n.scrollLeft;1===a?l>0&&(o=1):n.scrollWidth-l>n.clientWidth&&(o=2)}return[r,o]}(o,r.clientRect,t,e),(s||a)&&(i=o))}),!s&&!a){const{width:r,height:o}=this._viewportRuler.getViewportSize(),l={width:r,height:o,top:0,right:r,bottom:o,left:0};s=R8(l,e),a=I8(l,t),i=window}i&&(s!==this._verticalScrollDirection||a!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=a,this._scrollNode=i,(s||a)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Mi(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Mi(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:c3(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const t=Mi(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var i;const s=e.getRootElement();if(s){const a=null===(i=this._itemPositions.find(r=>r.drag===e))||void 0===i?void 0:i.initialTransform;s.style.transform=a||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,i){const s="horizontal"===this._orientation,a=e[t].clientRect,r=e[t+-1*i];let o=a[s?"width":"height"]*i;if(r){const l=s?"left":"top",c=s?"right":"bottom";-1===i?o-=r.clientRect[l]-a[c]:o+=a[l]-r.clientRect[c]}return o}_getItemOffsetPx(t,e,i){const s="horizontal"===this._orientation;let a=s?e.left-t.left:e.top-t.top;return-1===i&&(a+=s?e.width-t.width:e.height-t.height),a}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,s="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const r=i[i.length-1].clientRect;return s?t>=r.right:e>=r.bottom}{const r=i[0].clientRect;return s?t<=r.left:e<=r.top}}_getItemIndexFromPointerPosition(t,e,i,s){const a="horizontal"===this._orientation,r=d3(this._itemPositions,({drag:o,clientRect:l},c,d)=>{if(o===t)return d.length<2;if(s){const f=a?s.x:s.y;if(o===this._previousSwap.drag&&this._previousSwap.overlaps&&f===this._previousSwap.delta)return!1}return a?e>=Math.floor(l.left)&&e<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom)});return-1!==r&&this.sortPredicate(r,t,this)?r:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&u3(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(s=>s._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!u3(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const s=this._getShadowRoot().elementFromPoint(e,i);if(!s)return!1;const a=Mi(this.element);return s===a||a.contains(s)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:i})=>{rp(i,e.top,e.left)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=e3(Mi(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function d3(n,t){for(let e=0;e<n.length;e++)if(t(n[e],e,n))return e;return-1}function D8(n,t){n===window?n.scrollBy(0,t):n.scrollTop+=t}function M8(n,t){n===window?n.scrollBy(t,0):n.scrollLeft+=t}function R8(n,t){const{top:e,bottom:i,height:s}=n,a=.05*s;return t>=e-a&&t<=e+a?1:t>=i-a&&t<=i+a?2:0}function I8(n,t){const{left:e,right:i,width:s}=n,a=.05*s;return t>=e-a&&t<=e+a?1:t>=i-a&&t<=i+a?2:0}const wS=ip({passive:!1,capture:!0});let O8=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new Ze,this.pointerUp=new Ze,this.scroll=new Ze,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,wS)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,wS)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const s=i.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:a=>this.pointerUp.next(a),options:!0}).set("scroll",{handler:a=>this.scroll.next(a),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:wS}),s||this._globalListeners.set("mousemove",{handler:a=>this.pointerMove.next(a),options:wS}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((a,r)=>{this._document.addEventListener(r,a.handler,a.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new Ye(s=>this._ngZone.runOutsideAngular(()=>{const r=o=>{this._activeDragInstances.length&&s.next(o)};return e.addEventListener("scroll",r,!0),()=>{e.removeEventListener("scroll",r,!0)}}))),wr(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(G(We),G(Xe))},n.\u0275prov=ue({factory:function(){return new n(G(We),G(Xe))},token:n,providedIn:"root"}),n})();const pue={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let g3=(()=>{class n{constructor(e,i,s,a){this._document=e,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=a}createDrag(e,i=pue){return new due(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new gue(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(G(Xe),G(We),G(i3),G(O8))},n.\u0275prov=ue({factory:function(){return new n(G(Xe),G(We),G(i3),G(O8))},token:n,providedIn:"root"}),n})();const f3=new ye("CDK_DRAG_PARENT"),p3=new ye("CdkDropListGroup"),N8=new ye("CDK_DRAG_CONFIG");let mue=0;const L8=new ye("CdkDropList");let vue=(()=>{class n{constructor(e,i,s,a,r,o,l){this.element=e,this._changeDetectorRef=s,this._scrollDispatcher=a,this._dir=r,this._group=o,this._destroyed=new Ze,this.connectedTo=[],this.id="cdk-drop-list-"+mue++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new ht,this.entered=new ht,this.exited=new ht,this.sorted=new ht,this._unsortedItems=new Set,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(c,d)=>this.enterPredicate(c.data,d.data),this._dropListRef.sortPredicate=(c,d,f)=>this.sortPredicate(c,d.data,f.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),o&&o._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=$s(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=n._dropLists.indexOf(this);e>-1&&n._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(ep(this._dir.value),Ko(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{const i=function(n){return Array.isArray(n)?n:[n]}(this.connectedTo).map(s=>"string"==typeof s?n._dropLists.find(r=>r.id===s):s);if(this._group&&this._group._items.forEach(s=>{-1===i.indexOf(s)&&i.push(s)}),!this._scrollableParentsResolved){const s=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(a=>a.getElementRef().nativeElement);this._dropListRef.withScrollableParents(s),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=$s(this.sortingDisabled),e.autoScrollDisabled=$s(this.autoScrollDisabled),e.autoScrollStep=vc(this.autoScrollStep,2),e.connectedTo(i.filter(s=>s&&s!==this).map(s=>s._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:i,draggingDisabled:s,sortingDisabled:a,listAutoScrollDisabled:r,listOrientation:o}=e;this.disabled=null!=s&&s,this.sortingDisabled=null!=a&&a,this.autoScrollDisabled=null!=r&&r,this.orientation=o||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return n.\u0275fac=function(e){return new(e||n)(q(Rt),q(g3),q(iv),q(t3),q(sp,8),q(p3,12),q(N8,8))},n.\u0275dir=he({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,i){2&e&&(ar("id",i.id),Kl("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[at([{provide:p3,useValue:void 0},{provide:L8,useExisting:n}])]}),n._dropLists=[],n})();const m3=new ye("CdkDragHandle");let bue=(()=>{class n{constructor(e,i){this.element=e,this._stateChanges=new Ze,this._disabled=!1,this._parentDrag=i}get disabled(){return this._disabled}set disabled(e){this._disabled=$s(e),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(q(Rt),q(f3,12))},n.\u0275dir=he({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[at([{provide:m3,useExisting:n}])]}),n})();const B8=new ye("CdkDragPlaceholder"),$8=new ye("CdkDragPreview");let _ue=(()=>{class n{constructor(e,i,s,a,r,o,l,c,d,f,y){this.element=e,this.dropContainer=i,this._ngZone=a,this._viewContainerRef=r,this._dir=l,this._changeDetectorRef=d,this._selfHandle=f,this._parentDrag=y,this._destroyed=new Ze,this.started=new ht,this.released=new ht,this.ended=new ht,this.entered=new ht,this.exited=new ht,this.dropped=new ht,this.moved=new Ye(b=>{const P=this._dragRef.moved.pipe(hs(x=>({source:this,pointerPosition:x.pointerPosition,event:x.event,delta:x.delta,distance:x.distance}))).subscribe(b);return()=>{P.unsubscribe()}}),this._dragRef=c.createDrag(e,{dragStartThreshold:o&&null!=o.dragStartThreshold?o.dragStartThreshold:5,pointerDirectionChangeThreshold:o&&null!=o.pointerDirectionChangeThreshold?o.pointerDirectionChangeThreshold:5,zIndex:null==o?void 0:o.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),o&&this._assignDefaults(o),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=$s(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(s3(1),Ko(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const i=e.rootElementSelector,s=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),s&&!s.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement,i=this.rootElementSelector?V8(e,this.rootElementSelector):e;this._dragRef.withRootElement(i||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?V8(this.element.nativeElement,e):Mi(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,s=this.dragStartDelay,a=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,r=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof s&&s?s:vc(s),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(a).withPreviewTemplate(r).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(s3(1)).subscribe(()=>{var i,s;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let a=this.element.nativeElement.parentElement;for(;a;){if(null===(i=a.classList)||void 0===i?void 0:i.contains("cdk-drag")){e.withParent((null===(s=n._dragInstances.find(r=>r.element.nativeElement===a))||void 0===s?void 0:s._dragRef)||null);break}a=a.parentElement}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:s,constrainPosition:a,previewClass:r,boundaryElement:o,draggingDisabled:l,rootElementSelector:c,previewContainer:d}=e;this.disabled=null!=l&&l,this.dragStartDelay=s||0,i&&(this.lockAxis=i),a&&(this.constrainPosition=a),r&&(this.previewClass=r),o&&(this.boundaryElement=o),c&&(this.rootElementSelector=c),d&&(this.previewContainer=d)}_setupHandlesListener(){this._handles.changes.pipe(ep(this._handles),function(n,t,e){return function(s){return s.lift(new oue(n,undefined,undefined))}}(e=>{const i=e.filter(s=>s._parentDrag===this).map(s=>s.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),J$(e=>wr(...e.map(i=>i._stateChanges.pipe(ep(i))))),Ko(this._destroyed)).subscribe(e=>{const i=this._dragRef,s=e.element.nativeElement;e.disabled?i.disableHandle(s):i.enableHandle(s)})}}return n.\u0275fac=function(e){return new(e||n)(q(Rt),q(L8,12),q(Xe),q(We),q(ks),q(N8,8),q(sp,8),q(g3),q(iv),q(m3,10),q(f3,12))},n.\u0275dir=he({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(e,i,s){if(1&e&&(uv(s,$8,5),uv(s,B8,5),uv(s,m3,5)),2&e){let a;tc(a=ic())&&(i._previewTemplate=a.first),tc(a=ic())&&(i._placeholderTemplate=a.first),tc(a=ic())&&(i._handles=a)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,i){2&e&&Kl("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],previewContainer:["cdkDragPreviewContainer","previewContainer"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[at([{provide:f3,useExisting:n}]),Ct]}),n._dragInstances=[],n})();function V8(n,t){let e=n.parentElement;for(;e;){if(e.matches?e.matches(t):e.msMatchesSelector(t))return e;e=e.parentElement}return null}let wue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qt({type:n}),n.\u0275inj=qt({providers:[g3],imports:[n3]}),n})();class q8{}const ja="*";function Eue(n,t){return{type:7,name:n,definitions:t,options:{}}}function Cue(n,t=null){return{type:4,styles:t,timings:n}}function H8(n,t=null){return{type:2,steps:n,options:t}}function AS(n){return{type:6,styles:n,offset:null}}function G8(n,t,e){return{type:0,name:n,styles:t,options:e}}function Pue(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function F8(n){Promise.resolve(null).then(n)}class Vh{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){F8(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class U8{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,s=0;const a=this.players.length;0==a?F8(()=>this._onFinish()):this.players.forEach(r=>{r.onDone(()=>{++e==a&&this._onFinish()}),r.onDestroy(()=>{++i==a&&this._onDestroy()}),r.onStart(()=>{++s==a&&this._onStart()})}),this.totalTime=this.players.reduce((r,o)=>Math.max(r,o.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(s)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}let v3=(()=>{class n{constructor(){this.key="sapData"}getStorage(){return window.localStorage.getItem(this.key),window.localStorage.getItem(this.key)}setFormStorage(e){let i=(0,Gt.cloneDeep)(e.value);const s=[...i.playerPets||[],...i.opponentPets||[]];for(const a of s)a&&(delete a.parent,delete a.logService,delete a.abilityService,delete a.gameService,delete a.petService,null!=a.equipment&&(a.equipment={name:a.equipment.name}));this.setStorage(i)}setStorage(e){"object"==typeof e&&(e=JSON.stringify(e)),window.localStorage.setItem(this.key,e)}clearStorage(){window.localStorage.removeItem(this.key)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tue=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Mn({type:n,selectors:[["app-patch-notes"]],decls:606,vars:0,template:function(e,i){1&e&&(p(0,"h2"),_(1,"v0.9.0"),m(),p(2,"ul"),p(3,"li"),_(4,"Added the changes to p1 and p2 in the recent patch"),m(),m(),p(5,"h2"),_(6,"v0.8.2"),m(),p(7,"ul"),p(8,"li"),_(9,"Fixed Bug with Silly Ammonite breaking the calculator (Thanks LG)"),m(),p(10,"li"),_(11,"Fixed Bug with result not being displayed correctly when battle ends in automatic draw after too many attacks and correctly maximum number of attacks. (Thanks Freetz)"),m(),p(12,"li"),_(13,"Fixed Bug Lost Perk abilities not triggering correctly. (Thanks Slop)"),m(),m(),p(14,"h2"),_(15,"v0.8.1"),m(),p(16,"ul"),p(17,"li"),_(18,"Fixed Bug with Silly not working on pets that gain trumpets (Thanks gyomber)"),m(),p(19,"li"),_(20,"Fixed Bug with Friend Ahead Faints ability not working (Thanks Freetz)"),m(),p(21,"li"),_(22,"Fixed Bug with Pie effect not applying when a pet transformed before battle. (Thanks Tweej)"),m(),m(),p(23,"h2"),_(24,"v0.8.0"),m(),p(25,"ul"),p(26,"li"),_(27,"Updated all pets"),m(),p(28,"li"),_(29,"Fixed bug with Great One triggering twice (Thanks nick_reznee)"),m(),p(30,"li"),_(31,"Fixed bug with Geometric Tortoise's reflection damage capped by health (Thanks gwen)"),m(),p(32,"li"),_(33,"Fixed bug with Iriomote Cat transforming into lvl 2 or 3 pets"),m(),p(34,"li"),_(35,"Fixed bug with Tree Kangaroo giving Silly to pets with perk"),m(),p(36,"li"),_(37,"Fixed bug with Fossa targetting the wrong team (Thanks Freetz)"),m(),p(38,"li"),_(39,"Moved Tandgnost to tier 4 (Thanks gwen)"),m(),m(),p(40,"h2"),_(41,"v0.7.4"),m(),p(42,"ul"),p(43,"li"),_(44,"Fixed bug with Chihuahua removing pets when pushing. (Thanks gwen)"),m(),m(),p(45,"h2"),_(46,"v0.7.3"),m(),p(47,"ul"),p(48,"li"),_(49,"Updated ability copying, gaining, and acitavtion. Abomination and California Condor work now. Tree Kangaroo is able to activate pets with in-battle abilities."),m(),p(50,"li"),_(51,"Added an option to input triggers consumed for pets."),m(),m(),p(52,"h2"),_(53,"v0.7.2"),m(),p(54,"ul"),p(55,"li"),_(56,"Fixed bug with equipment multiplier not resetting"),m(),m(),p(57,"h2"),_(58,"v0.7.1"),m(),p(59,"ul"),p(60,"li"),_(61,"Updated all perks, and pets execept Iriomote Cat"),m(),p(62,"li"),_(63,"Fixed bug with Toucan breaking calculator when giving egg. (Thanks Tangl)"),m(),m(),p(64,"h2"),_(65,"v0.7.0"),m(),p(66,"ul"),p(67,"li"),_(68,"Updated Abomination swallow options, note that Abomination and California still doesn't work for lots of abilites, especially those with multiple triggers, trigger limit, or special mechanics. Also can't gain multiple abilities with the same trigger"),m(),p(69,"li"),_(70,"Fixed bug with dazed not working, multiple mandrakes dazing same pet, bigfoot not recognised as a faint pet by mandrake, ghost kitten not reducing damage from crisp, chili, skewer, front thunderbird, salmon of knowledge affects themself, cyclops gives mana to itself on friend level, dazed makes mana snipes not go off, levelling a pet from level 1 to level 3 only triggers team spirit once. (Thanks Xrb) "),m(),p(71,"li"),_(72,"Updated most pets in the recent update"),m(),m(),p(73,"h2"),_(74,"v0.6.19"),m(),p(75,"ul"),p(76,"li"),_(77,"Fixed bug with Bunyip gaining health after it fainted. (Thanks ProfNinja)"),m(),p(78,"li"),_(79,"Implemented Silly logic in static packs, no acitavtion yet"),m(),p(80,"li"),_(81,"Fixed Bug with Pandoras Box (Thanks Tangl)"),m(),p(82,"li"),_(83,"Fixed Bug with not able to drag and drop sometimes (Thanks Tangl)"),m(),m(),p(84,"h2"),_(85,"v0.6.18"),m(),p(86,"ul"),p(87,"li"),_(88,"Fixed bug with 1 attack pet dealing 2 damage to pets with garlic. (Thanks Zoklev)"),m(),p(89,"li"),_(90,"Fixed bug with Octopus sniping same pet twice (Thanks Zoklev)"),m(),m(),p(91,"h2"),_(92,"v0.6.17"),m(),p(93,"ul"),p(94,"li"),_(95,"All pets and perks in star pack are updated."),m(),p(96,"li"),_(97,"Updated some star pack pets.(Thanks Tangl)"),m(),p(98,"li"),_(99,"All pets and perks execept Tree Kangaroo is updated"),m(),p(100,"li"),_(101,"Fixed bug with pets not removed correctly(Thanks Zoklev)"),m(),m(),p(102,"h2"),_(103,"v0.6.16"),m(),p(104,"ul"),p(105,"li"),_(106,"Updated Unicorn Perks."),m(),p(107,"li"),_(108,"Updated some star pack pets.(Thanks Tangl)"),m(),p(109,"li"),_(110,"Fixed bug with Rooster chicks being death linked"),m(),p(111,"li"),_(112,"Fixed Boar triggering twice"),m(),p(113,"li"),_(114,"Fixed Same Attack trigger not being random"),m(),p(115,"li"),_(116,"Fixed Hippo breaking the calculator"),m(),p(117,"li"),_(118,"Fixed Whale summon"),m(),p(119,"li"),_(120,"Fixed Tiger not working with summon"),m(),p(121,"li"),_(122,"Thanks Freetz for finding all the bugs"),m(),m(),p(123,"h2"),_(124,"v0.6.15"),m(),p(125,"ul"),p(126,"li"),_(127,"Updated trigger order"),m(),p(128,"li"),_(129,"Updated Golden pack"),m(),m(),p(130,"h2"),_(131,"v0.6.14"),m(),p(132,"ul"),p(133,"li"),_(134,"Fixed Bug with Dodo causing SOB ability triggering again. (Thanks JOEBOBBOBJOE)"),m(),p(135,"li"),_(136,"Fixed Bug with wrong summon place. (Thanks Freetz)"),m(),p(137,"li"),_(138,"Updated pets & perks in Puppy Pack."),m(),p(139,"li"),_(140,"Updated pets in Unicorn Pack. (Thanks Tangl)"),m(),m(),p(141,"h2"),_(142,"v0.6.13"),m(),p(143,"ul"),p(144,"li"),_(145,"Updated Deer, Turkey, Whale, and Wolverine."),m(),p(146,"li"),_(147,"Added gain perk trigger for rabbit and seal."),m(),m(),p(148,"h2"),_(149,"v0.6.12"),m(),p(150,"ul"),p(151,"li"),_(152,"Fixed bug with Parrot chaining when front Parrot has lower attack. (Thanks jer.re)"),m(),p(153,"li"),_(154,"Fixed bug with level 1 Crab having 0 health when copying health of pet with 1 health. (Thanks Freetz)"),m(),m(),p(155,"h2"),_(156,"v0.6.11"),m(),p(157,"ul"),p(158,"li"),_(159,"Fixed bug with spawn perks having unpredictable spawn locations. (Thanks Tangl and Wombat)"),m(),p(160,"li"),_(161,"Fixed bug with Parrot chaining. (Thanks Tangl)"),m(),p(162,"li"),_(163,"Fixed bug with Fig (and probably other perks) not working with Parrot."),m(),m(),p(164,"h2"),_(165,"v0.6.10"),m(),p(166,"ul"),p(167,"li"),_(168,"Fixed bug on Import Calculator where importing an empty slot would cause pets from previous calculator to persist. (Thanks jer.re and Freetz)"),m(),p(169,"li"),_(170,"Fixed Pandoras Box"),m(),p(171,"ul"),p(172,"li"),_(173,"Removed perks available according to here: https://superautopets.wiki.gg/wiki/Pandoras_Box"),m(),p(174,"li"),_(175,"Pandoras Box has a 50% chance to give an ailment. If this is incorrect direct hate towards Cheese from SAP Dojo."),m(),m(),m(),p(176,"h2"),_(177,"v0.6.9"),m(),p(178,"ul"),p(179,"li"),_(180,"Fixed more tiger interactions breaking calculator. (Thanks tibby)"),m(),m(),p(181,"h2"),_(182,"v0.6.8"),m(),p(183,"ul"),p(184,"li"),_(185,"Added Export Calculator modal."),m(),p(186,"li"),_(187,"Fixed bug with Dodo not changing Start of Battle priorities in battle. (Thanks Plkess and CrocsAreNice)"),m(),p(188,"li"),_(189,"Fixed bug with Armadillo not giving itself health."),m(),p(190,"li"),_(191,"Fixed Salmon of Knowledge giving itself experience. (Thanks Wombat)"),m(),p(192,"li"),_(193,"Added Unicorn Pack to custom pack editor. (Thanks Rake News)"),m(),p(194,"li"),_(195,"Changed priorty order of knock out and pet ahead faints abilities - fixes Rhino/Ox interaction. (Thanks Mazl0w) "),m(),m(),p(196,"h2"),_(197,"v0.6.7"),m(),p(198,"ul"),p(199,"li"),_(200,"Fixed bug with Tiger sometimes using the wrong level. (Thanks hop)"),m(),m(),p(201,"h2"),_(202,"v0.6.6"),m(),p(203,"ul"),p(204,"li"),_(205,"Fixed bug with parrot. (Thanks hop)"),m(),p(206,"li"),_(207,"Fixed bug with Crisp always doing 6 damage. (Thanks Kutarba)"),m(),m(),p(208,"h2"),_(209,"v0.6.5"),m(),p(210,"ul"),p(211,"li"),_(212,"Fixed Anubis feint abilities happening before other start of battle abilities. (Thanks Grounded)"),m(),p(213,"li"),_(214,"Fixed Roc. (Thanks Grounded)"),m(),p(215,"li"),_(216,"Fixed mana snipe going off after Kitsune removes the mana. (Thanks Grounded)"),m(),p(217,"li"),_(218,"Fixed Manticore ability not going off if it feints. (Thanks goose)"),m(),p(219,"li"),_(220,"Fixed issue with Calygreyhound and there being only one pet left. (Thanks MAi.k)"),m(),p(221,"li"),_(222,"Fixed issue with Slepnir not targeting correctly. (Thanks goose)"),m(),p(223,"li"),_(224,"Max mana is now 50. (Thanks goose)"),m(),p(225,"li"),_(226,"Fixed potato."),m(),p(227,"li"),_(228,"Fixed issue with Pteradon not summoning behind itself in some cases."),m(),p(229,"li"),_(230,"Fixed Snake + Tiger bug. (Thanks mumf)"),m(),m(),p(231,"h2"),_(232,"v0.6.4"),m(),p(233,"ul"),p(234,"li"),_(235,"Fixed order of Friend Faints events so that it triggers after friendly units are summoned. (Thanks Grounded) "),m(),p(236,"li"),_(237,"Fixed calculator simulating only once. \u{1f926}\u200d\u2642\ufe0f"),m(),m(),p(238,"h2"),_(239,"v0.6.3"),m(),p(240,"ul"),p(241,"li"),_(242,"Added Yggdrasil Fruit (Thanks Vuenc)"),m(),p(243,"li"),_(244,"Fixed issue with some pets when spawned having mana. (Thanks Grounded)"),m(),m(),p(245,"h2"),_(246,"v0.6.2"),m(),p(247,"ul"),p(248,"li"),_(249,"Fixed Monty's base stats. (Thanks goose)"),m(),p(250,"li"),_(251,"Fixed Visitor's (and Bear's) ability not targeting ahead friendly units. (Thanks goose)"),m(),p(252,"li"),_(253,"Fixed bug where Tiger fainting before Start of Battle abilities did not triger the Tiger's ability. (Thanks goose)"),m(),p(254,"li"),_(255,"Fixed bug with certain pets having Donut breaking the calculator. (Thanks Freetz)"),m(),p(256,"li"),_(257,"Fixed Manticore not working with Crips. (Thanks Freetz)"),m(),p(258,"li"),_(259,"Added 'Ailment Equipment' mode."),m(),m(),p(260,"h2"),_(261,"v0.6.1"),m(),p(262,"ul"),p(263,"li"),_(264,"Fixed Roc not targeting Donut pets. (Thanks mewi3977)"),m(),p(265,"li"),_(266,"Updated to SAP Version 0.33.3-151 BETA"),m(),p(267,"ul"),p(268,"li"),_(269,"Changed Chimera, Nessie, Axehandle Hound, Unicorn, Vampire Bat, Warf, Barghest, Cyclops, Mana Hound, Loveland Frogman, Jersey Devil, Tigerbug, Bigfoot, Calygreyhound, Gargoyle, Ghost Kitten, Jackalope, Minotaur, Worm of Sand, Werewolf, Lucky Cat, Ogopogo. "),m(),p(270,"li"),_(271,"Added Spooked"),m(),p(272,"li"),_(273,"Minotaur stacks."),m(),m(),p(274,"li"),_(275,"Added Weak as an equipment option."),m(),p(276,"li"),_(277,"Import pack works with Unicorn pets."),m(),m(),p(278,"h2"),_(279,"v0.6.0"),m(),p(280,"ul"),p(281,"li"),_(282,"Unicorn Pack \u{1f389}"),m(),p(283,"li"),_(284,"Updated Info/Guide"),m(),m(),p(285,"h2"),_(286,"v0.5.27"),m(),p(287,"ul"),p(288,"li"),_(289,"Fixed bug with Camel's ability logs showing incorrect values."),m(),m(),p(290,"h2"),_(291,"v0.5.26"),m(),p(292,"ul"),p(293,"li"),_(294,"Fixed bugs with drag and drop. (Thanks Agentcore)"),m(),m(),p(295,"h2"),_(296,"v0.5.25"),m(),p(297,"ul"),p(298,"li"),_(299,"Fixed some import bugs."),m(),m(),p(300,"h2"),_(301,"v0.5.24"),m(),p(302,"ul"),p(303,"li"),_(304,"Fixed bug with Custom Pack dialog not opening."),m(),m(),p(305,"h2"),_(306,"v0.5.23"),m(),p(307,"ul"),p(308,"li"),_(309,"Fixed bug with importing empty pet slots."),m(),p(310,"li"),_(311,"Fixed bug with pets that Tapir summon being disjointed from its' parent player. (Thanks goose)"),m(),m(),p(312,"h2"),_(313,"v0.5.22"),m(),p(314,"ul"),p(315,"li"),_(316,"Fixed Pigeon base stats. (Thanks goose)"),m(),p(317,"li"),_(318,"Fixed Crab copying highest health pets stats even after fainting from other start of battle abilities. (Thanks Phoenix)"),m(),m(),p(319,"h2"),_(320,"v0.5.21"),m(),p(321,"ul"),p(322,"li"),_(323,"Fixed a few Panther/equipment interactions."),m(),p(324,"ul"),p(325,"li"),_(326,"Tomato (Thanks jer.re), Salt, Cheese, Durian, Egg."),m(),m(),m(),p(327,"h2"),_(328,"v0.5.20"),m(),p(329,"ul"),p(330,"li"),_(331,"Added Komodo Shuffle option."),m(),m(),p(332,"h2"),_(333,"v0.5.19"),m(),p(334,"ul"),p(335,"li"),_(336,"Removed Beluga Whale from Orca spawn pool."),m(),m(),p(337,"h2"),_(338,"v0.5.18"),m(),p(339,"ul"),p(340,"li"),_(341,"Fixed bug with Friend Ahead Attacks ability pets not triggering when fainting. (Thanks tibby)"),m(),m(),p(342,"h2"),_(343,"v0.5.17"),m(),p(344,"ul"),p(345,"li"),_(346,"Fixed bug that required running simulation on export."),m(),p(347,"li"),_(348,"Fixed bug with ailment overwritting faint food while pet faints breaking simulation."),m(),p(349,"li"),_(350,'Added "Token Pets" option.'),m(),p(351,"li"),_(352,"Added confirmation window to Reset and Randomize buttons."),m(),m(),p(353,"h2"),_(354,"v0.5.16"),m(),p(355,"ul"),p(356,"li"),_(357,"Fixed bug with Beluga Whale pet not spawning. (Thanks goose)"),m(),p(358,"li"),_(359,"Fixed bug with Chocolate Cake not triggering Knocked Out abilities."),m(),p(360,"li"),_(361,"Fixed bug with Cherry/Fig triggering multiple times after running multiple simulations."),m(),m(),p(362,"h2"),_(363,"v0.5.15"),m(),p(364,"ul"),p(365,"li"),_(366,"Updated to SAP Version 0.31.9-145 BETA"),m(),p(367,"ul"),p(368,"li"),_(369,"Added Pigeon, Hare."),m(),p(370,"li"),_(371,"Changed Cricket, Mouse Nest, Robin, Tabby Cat, Dog, Dolphin, Flying Squirrel, Hatching Chick, Owl, Ox, Raccoon, Cockatoo, Mosasaurus, Tyrannosaurus."),m(),p(372,"li"),_(373,"Added Fig."),m(),p(374,"li"),_(375,"Changed Cherry."),m(),m(),m(),p(376,"h2"),_(377,"v0.5.14"),m(),p(378,"ul"),p(379,"li"),_(380,"Bug Report System."),m(),m(),p(381,"h2"),_(382,"v0.5.13"),m(),p(383,"ul"),p(384,"li"),_(385,"Fixed bug with Opponent Empty Front Space events not triggering. (Thanks jer.re)"),m(),m(),p(386,"h2"),_(387,"v0.5.12"),m(),p(388,"ul"),p(389,"li"),_(390,"Pug is tier 3."),m(),p(391,"li"),_(392,"Siberian Husky spelling fix."),m(),p(393,"li"),_(394,"Fixed Kiwi not availble on Star pack. (Thanks Grounded)"),m(),m(),p(395,"h2"),_(396,"v0.5.11"),m(),p(397,"ul"),p(398,"li"),_(399,"Opossum is spelled correctly."),m(),m(),p(400,"h2"),_(401,"v0.5.10"),m(),p(402,"ul"),p(403,"li"),_(404,"Buff pets do not target 50/50 friends."),m(),m(),p(405,"h2"),_(406,"v0.5.9"),m(),p(407,"ul"),p(408,"li"),_(409,"Fixed Rhino base stats."),m(),p(410,"li"),_(411,"Fixed bug with Tiger behind Hurt pet. (Thanks Freetz)."),m(),p(412,"li"),_(413,"Reset button resets Equipment."),m(),p(414,"li"),_(415,"Fixed bugs with export/import."),m(),m(),p(416,"h2"),_(417,"v0.5.8"),m(),p(418,"ul"),p(419,"li"),_(420,"Fixed bug where Zombie Flies sometimes would spawn in the wrong position. (Thanks Grounded)"),m(),m(),p(421,"h2"),_(422,"v0.5.7"),m(),p(423,"ul"),p(424,"li"),_(425,"Added Pineapple."),m(),m(),p(426,"h2"),_(427,"v0.5.6"),m(),p(428,"ul"),p(429,"li"),_(430,"Fixed bug with Turtle always behaving as a level 1."),m(),m(),p(431,"h2"),_(432,"v0.5.5"),m(),p(433,"ul"),p(434,"li"),_(435,"Fixed bug with Pancakes pet getting all of the stats. (Thanks Grounded)"),m(),m(),p(436,"h2"),_(437,"v0.5.4"),m(),p(438,"ul"),p(439,"li"),_(440,"Calculator is (more) usable on mobile devices."),m(),m(),p(441,"h2"),_(442,"v0.5.3"),m(),p(443,"ul"),p(444,"li"),_(445,"Added Reset buttons for the Player and Opponent."),m(),p(446,"li"),_(447,"Export/Import Calculator."),m(),p(448,"li"),_(449,'Added "Old Stork" mode.'),m(),p(450,"li"),_(451,"Fixed spawn bug sometimes duplicating pets when up against Royal Flycatcher. (Thanks Freetz)"),m(),p(452,"li"),_(453,"Fixed bug with pets having Friend Summoned abilities hitting themselves when summoned with a mushroom."),m(),p(454,"li"),_(455,"Fixed bug with Pteradon's ability triggering if it also faints."),m(),m(),p(456,"h2"),_(457,"v0.5.2"),m(),p(458,"ul"),p(459,"li"),_(460,"Import Custom Packs"),m(),p(461,"li"),_(462,"Custom Pack editor improvments."),m(),m(),p(463,"h2"),_(464,"v0.5.1"),m(),p(465,"ul"),p(466,"li"),_(467,"Added remaining custom pack pets."),m(),p(468,"ul"),p(469,"li"),_(470,"Frilled Dragon, Wombat, Aardvark, Bear, Emperor Tamerain, Procupine, Wasp Dragonfly, Lynx, Seagull, Alpaca, Hyena, Moose, Lioness, Tapir, Walrus, White Tiger"),m(),m(),p(471,"li"),_(472,"Added remaining custom pack food."),m(),p(473,"ul"),p(474,"li"),_(475,"Blueberry, Donut"),m(),m(),p(476,"li"),_(477,"Fixed bug with blobfish showing as tier 3. (Thanks Freetz)"),m(),p(478,"li"),_(479,"Fixed bug with eggplant triggering multiple times when running the simulation multiple times. (Thanks Freetz) "),m(),p(480,"li"),_(481,"Fixed bug with mosquito able to target the same pet."),m(),m(),p(482,"h2"),_(483,"v0.5.0"),m(),p(484,"ul"),p(485,"li"),_(486,"Added custom packs!"),m(),p(487,"li"),_(488,"Added Jerboa"),m(),p(489,"li"),_(490,"Added Fortune Cookie"),m(),m(),p(491,"h2"),_(492,"v0.4.16"),m(),p(493,"ul"),p(494,"li"),_(495,"Updated to SAP Version 0.30.6-138 BETA"),m(),p(496,"ul"),p(497,"li"),_(498," Updated stats/abilities of these pets: Whale, Frog, Iguana, Marmoset, Mouse, Koala, Panda, Shrimp, Tabby Cat, Camel, Eel, Giraffe, Musk Ox, Owl, Ox, Starfish, Anteater, Chameleon, Egyptian Vulture, Manta Ray, Platypus, Cockatoo, Crane, Monkey, Shark, Piranha, Sabertooth Tiger. "),m(),p(499,"li"),_(500," Added Durian. "),m(),m(),m(),p(501,"h2"),_(502,"v0.4.15"),m(),p(503,"ul"),p(504,"li"),_(505,"Fixed bug with Eggplant triggering too many times. (Thanks Freetz)"),m(),m(),p(506,"h2"),_(507,"v0.4.14"),m(),p(508,"ul"),p(509,"li"),_(510,"Fixed rounding error with Skunk ability/Stinky Sock."),m(),p(511,"li"),_(512,"Fixed faint pets ability being the level of the whale when swallowed. (Thanks kutarba)"),m(),m(),p(513,"h2"),_(514,"v0.4.13"),m(),p(515,"ul"),p(516,"li"),_(517,"Fixed Pteradon"),m(),m(),p(518,"h2"),_(519,"v0.4.12"),m(),p(520,"ul"),p(521,"li"),_(522,"Updated to SAP Version 0.29.6-135 BETA"),m(),p(523,"ul"),p(524,"li"),_(525,"Updated stats/abilities of these pets: Ladybug, Atlantic Puffin, Guinea Pig, Hedgehog, Jellyfish, Pug, Salamander, Toucan, Blobfish, Clownfish, Flea, Flying Fish, Mole, Chameleon, Eel, Hippo, Poison Dart Frog, Whale, Fire Ant, Fox, Turkey, Lionfish, Pteradon, Tyrannosaurus. "),m(),m(),m(),p(526,"h2"),_(527,"v0.4.11"),m(),p(528,"ul"),p(529,"li"),_(530,"Fixed bug with Tiger not triggering Leopard when there are few enemies. (Thanks /u/MHolmesSC)"),m(),p(531,"li"),_(532,"Fixed bug with Ant over buffing units on faint. (Thanks /u/MHolmesSC)"),m(),p(533,"li"),_(534,"Fixed bug with Spider behaving odd. (Thanks /u/-RARO-)"),m(),_(535,"ng\n"),m(),p(536,"h2"),_(537,"v0.4.10"),m(),p(538,"ul"),p(539,"li"),_(540,"Fixed bug with Fly not spawning Zombie Fly from Start of Battle abilities fainting pets. (Thanks /u/Danielmac757)"),m(),m(),p(541,"h2"),_(542,"v0.4.9"),m(),p(543,"ul"),p(544,"li"),_(545,"Info/Guide modal."),m(),m(),p(546,"h2"),_(547,"v0.4.8"),m(),p(548,"ul"),p(549,"li"),_(550,"Fixed a bug with Fly attempting to spawn Zombie Fly when there is no room."),m(),m(),p(551,"h2"),_(552,"v0.4.7"),m(),p(553,"ul"),p(554,"li"),_(555,"Updated to SAP Version 0.28.20-130 BETA"),m(),p(556,"ul"),p(557,"li"),_(558,"Changed pets so they all move forward after start of battle abilities."),m(),m(),m(),p(559,"h2"),_(560,"v0.4.6"),m(),p(561,"ul"),p(562,"li"),_(563,"Fixed a bug with mushroom breaking the simulation by breaking the cache process. (Thanks BeastiaVenator)"),m(),p(564,"li"),_(565,"Fixed a bug with loading equipment from the browser cache."),m(),m(),p(566,"h2"),_(567,"v0.4.5"),m(),p(568,"ul"),p(569,"li"),_(570,"Drag and Drop!"),m(),m(),p(571,"h2"),_(572,"v0.4.4"),m(),p(573,"ul"),p(574,"li"),_(575,"Fixed a handful of Tiger bugs causing infinite loops."),m(),p(576,"li"),_(577,"Fixed a bug with typing select options."),m(),m(),p(578,"h2"),_(579,"v0.4.3"),m(),p(580,"ul"),p(581,"li"),_(582,"Duplicate pet option hotfix."),m(),m(),p(583,"h2"),_(584,"v0.4.2"),m(),p(585,"ul"),p(586,"li"),_(587,"Calculator state saves on 'Simulate'."),m(),p(588,"ul"),p(589,"li"),_(590,"This is stored in the browser cache. You can clear the cache by clicking on the link on the bottom of this modal."),m(),m(),p(591,"li"),_(592,"Fixed bugs with Angler mode toggling."),m(),p(593,"li"),_(594,"Zoom In/Out feature."),m(),p(595,"li"),_(596,"Fixed bug with Fly triggering twice instead of three times. (Thanks nob)"),m(),p(597,"li"),_(598,"Fixed bug with some snipe pets having no targets breaking simulation."),m(),m(),p(599,"h2"),_(600,"v0.4.1"),m(),p(601,"ul"),p(602,"li"),_(603,"Fixed a bug where Shark would gain attack/health on its own death. (Thanks mumf)"),m(),p(604,"li"),_(605,"Fixed a bug where attack bonus food would affect snipes. (Thanks Tangl)"),m(),m())},styles:[""]}),n})();const xue=JSON.parse('{"tier1":[{"name":"African Wild Dog","tier":"1","id":"722"},{"name":"Alchemedes","tier":"1","id":"626"},{"name":"Ant","tier":"1","id":"0"},{"name":"Axehandle Hound","tier":"1","id":"377"},{"name":"Baku","tier":"1","id":"628"},{"name":"Barghest","tier":"1","id":"621"},{"name":"Basilisk","tier":"1","id":"332"},{"name":"Beaver","tier":"1","id":"3"},{"name":"Bee","tier":"1","id":"4"},{"name":"Bombus Dahlbomii","tier":"1","id":"674"},{"name":"Ethiopian Wolf","tier":"1","id":"675"},{"name":"Fan Mussel","tier":"1","id":"676"},{"name":"Togian Babirusa","tier":"1","id":"677"},{"name":"Tooth Billed Pigeon","tier":"1","id":"678"},{"name":"Beetle","tier":"1","id":"88"},{"name":"Bluebird","tier":"1","id":"89"},{"name":"Bulldog","tier":"1","id":"189"},{"name":"Bunyip","tier":"1","id":"601"},{"name":"Burbel","tier":"1","id":"659"},{"name":"Bus","tier":"1","id":"85"},{"name":"Butterfly","tier":"1","id":"9"},{"name":"Chick","tier":"1","id":"13"},{"name":"Chimera Goat","tier":"1","id":"648"},{"name":"Chimera Lion","tier":"1","id":"650"},{"name":"Chimera Snake","tier":"1","id":"649"},{"name":"Chinchilla","tier":"1","id":"161"},{"name":"Chipmunk","tier":"1","id":"184"},{"name":"Cockroach","tier":"1","id":"18"},{"name":"Cone Snail","tier":"1","id":"272"},{"name":"Cracked Egg","tier":"1","id":"647"},{"name":"Cricket","tier":"1","id":"17"},{"name":"Cuddle Toad","tier":"1","id":"611"},{"name":"Daycrawler","tier":"1","id":"641"},{"name":"Dirty Rat","tier":"1","id":"58"},{"name":"Duck","tier":"1","id":"26"},{"name":"Duckling","tier":"1","id":"113"},{"name":"Fake Nessie","tier":"1","id":"614"},{"name":"Ferret","tier":"1","id":"172"},{"name":"Fire Pup","tier":"1","id":"343"},{"name":"Fish","tier":"1","id":"32"},{"name":"Frilled Dragon","tier":"1","id":"198"},{"name":"Frog","tier":"1","id":"139"},{"name":"Gecko","tier":"1","id":"229"},{"name":"Giant Eyes Dog","tier":"1","id":"644"},{"name":"Golden Retriever","tier":"1","id":"188"},{"name":"Good Dog","tier":"1","id":"658"},{"name":"Salmon","tier":"1","id":"726"},{"name":"Mimic Octopus","tier":"6","id":"727"},{"name":"Ammonite","tier":"6","id":"730"},{"name":"Velociraptor","tier":"6","id":"732"},{"name":"Baby Urchin","tier":"2","id":"731"},{"name":"Goose","tier":"1","id":"232"},{"name":"Groundhog","tier":"1","id":"233"},{"name":"Guinea Piglet","tier":"1","id":"179"},{"name":"Lemming","tier":"1","id":"665"},{"name":"Chihuahua","tier":"1","id":"666"},{"name":"Firefly","tier":"1","id":"667"},{"name":"Pheasant","tier":"1","id":"668"},{"name":"Horse","tier":"1","id":"39"},{"name":"Hummingbird","tier":"1","id":"138"},{"name":"Hydra Head","tier":"1","id":"643"},{"name":"Iriomote Cat","tier":"1","id":"672"},{"name":"Ili Pika","tier":"1","id":"673"},{"name":"Malay Tapir","tier":"1","id":"704"},{"name":"Kiwi","tier":"1","id":"131"},{"name":"Ladybug","tier":"1","id":"92"},{"name":"Lizard Tail","tier":"1","id":"282"},{"name":"Loyal Chinchilla","tier":"1","id":"183"},{"name":"Magpie","tier":"1","id":"239"},{"name":"Marmoset","tier":"1","id":"204"},{"name":"Moby Dick","tier":"1","id":"-"},{"name":"Monty","tier":"1","id":"384"},{"name":"Mosquito","tier":"1","id":"47"},{"name":"Moth","tier":"1","id":"141"},{"name":"Mouse","tier":"1","id":"48"},{"name":"Murmel","tier":"1","id":"362"},{"name":"Nest","tier":"1","id":"508"},{"name":"Opossum","tier":"1","id":"187"},{"name":"Otter","tier":"1","id":"51"},{"name":"Pied Tamarin","tier":"1","id":"251"},{"name":"Pig","tier":"1","id":"59"},{"name":"Pigeon","tier":"1","id":"559"},{"name":"Pillbug","tier":"1","id":"149"},{"name":"Ram","tier":"1","id":"62"},{"name":"Mantis","tier":"1","id":"664"},{"name":"Rock","tier":"1","id":"638"},{"name":"Seahorse","tier":"1","id":"152"},{"name":"Silkmoth","tier":"1","id":"260"},{"name":"Sloth","tier":"1","id":"71"},{"name":"Smaller Slime","tier":"1","id":"642"},{"name":"Smaller Slug","tier":"1","id":"270"},{"name":"Smallest Slug","tier":"1","id":"477"},{"name":"Sneaky Egg","tier":"1","id":"617"},{"name":"Tsuchinoko","tier":"1","id":"379"},{"name":"Volcano Snail","tier":"1","id":"661"},{"name":"Warf","tier":"1","id":"382"},{"name":"Young Phoenix","tier":"1","id":"646"},{"name":"Zombie Cricket","tier":"1","id":"86"},{"name":"Zombie Fly","tier":"1","id":"31"},{"name":"Pengobble","tier":"1","id":"743"},{"name":"Gibbon","tier":"1","id":"748"},{"name":"Termite","tier":"1","id":"749"},{"name":"Fairy Ball","tier":"1","id":"751"},{"name":"Nessie Q","tier":"1","id":"752"},{"name":"Summoned Cockroach","tier":"1","id":"753"}],"tier2":[{"name":"African Penguin","tier":"2","id":"210"},{"name":"Angry Pygmy Hog","tier":"2","id":"679"},{"name":"Araripe Manakin","tier":"2","id":"705"},{"name":"European Mink","tier":"2","id":"706"},{"name":"Atlantic Puffin","tier":"2","id":"132"},{"name":"Bat","tier":"2","id":"87"},{"name":"Beluga Sturgeon","tier":"2","id":"213"},{"name":"Bigfoot","tier":"2","id":"334"},{"name":"Bilby","tier":"2","id":"663"},{"name":"Black Necked Stilt","tier":"2","id":"215"},{"name":"Chupacabra","tier":"2","id":"339"},{"name":"Crab","tier":"2","id":"16"},{"name":"Darwin\'s Fox","tier":"2","id":"733"},{"name":"Door Head Ant","tier":"2","id":"220"},{"name":"Dove","tier":"2","id":"24"},{"name":"Dromedary","tier":"2","id":"104"},{"name":"Drop Bear","tier":"2","id":"341"},{"name":"Flamingo","tier":"2","id":"29"},{"name":"Frigatebird","tier":"2","id":"137"},{"name":"Frost Wolf","tier":"2","id":"344"},{"name":"Gargoyle","tier":"2","id":"345"},{"name":"Gazelle","tier":"2","id":"185"},{"name":"Ghost Kitten","tier":"2","id":"346"},{"name":"Golden Beetle","tier":"2","id":"634"},{"name":"Guinea Pig","tier":"2","id":"109"},{"name":"Hedgehog","tier":"2","id":"37"},{"name":"Hercules Beetle","tier":"2","id":"234"},{"name":"Iguana","tier":"2","id":"147"},{"name":"Jackalope","tier":"2","id":"353"},{"name":"Jellyfish","tier":"2","id":"122"},{"name":"Kangaroo","tier":"2","id":"40"},{"name":"Koala","tier":"2","id":"112"},{"name":"Lemur","tier":"2","id":"236"},{"name":"Lizard","tier":"2","id":"237"},{"name":"Lucky Cat","tier":"3","id":"623"},{"name":"Mandrill","tier":"2","id":"405"},{"name":"Mothman","tier":"2","id":"604"},{"name":"Nightcrawler","tier":"2","id":"605"},{"name":"Ogopogo","tier":"2","id":"639"},{"name":"Panda","tier":"2","id":"107"},{"name":"Peacock","tier":"2","id":"54"},{"name":"Proboscis Monkey","tier":"2","id":"680"},{"name":"Pygmy Hog","tier":"2","id":"681"},{"name":"Saola","tier":"2","id":"682"},{"name":"Saker Falcon","tier":"2","id":"707"},{"name":"Taita Shrew","tier":"2","id":"683"},{"name":"Takhi","tier":"2","id":"734"},{"name":"White-Bellied Heron","tier":"2","id":"684"},{"name":"Rat","tier":"2","id":"57"},{"name":"Robin","tier":"2","id":"255"},{"name":"Salamander","tier":"2","id":"164"},{"name":"Sea Turtle","tier":"2","id":"191"},{"name":"Sea Urchin","tier":"2","id":"258"},{"name":"Shrimp","tier":"2","id":"67"},{"name":"Snail","tier":"2","id":"72"},{"name":"Sphinx","tier":"2","id":"376"},{"name":"Spider","tier":"2","id":"74"},{"name":"Squid","tier":"2","id":"177"},{"name":"Stoat","tier":"2","id":"263"},{"name":"Stork","tier":"2","id":"136"},{"name":"Swan","tier":"2","id":"76"},{"name":"Tabby Cat","tier":"2","id":"99"},{"name":"Thunderbird","tier":"2","id":"610"},{"name":"Toucan","tier":"2","id":"151"},{"name":"Wombat","tier":"2","id":"207"},{"name":"Worm","tier":"2","id":"82"},{"name":"Yak","tier":"2","id":"163"},{"name":"Dumbo Octupus","tier":"2","id":"661"},{"name":"Bass","tier":"2","id":"669"},{"name":"Shima Enaga","tier":"2","id":"725"}],"tier3":[{"name":"Aardvark","tier":"3","id":"193"},{"name":"Amami Rabbit","tier":"3","id":"735"},{"name":"Anteater","tier":"3","id":"105"},{"name":"Baboon","tier":"3","id":"171"},{"name":"Badger","tier":"3","id":"2"},{"name":"Bear","tier":"3","id":"140"},{"name":"Betta Fish","tier":"3","id":"214"},{"name":"Blue-Throated Macaw","tier":"3","id":"685"},{"name":"Brain Cramp","tier":"3","id":"349"},{"name":"Calygreyhound","tier":"3","id":"336"},{"name":"Camel","tier":"3","id":"10"},{"name":"Capybara","tier":"3","id":"154"},{"name":"Cassowary","tier":"3","id":"133"},{"name":"Deer Lord","tier":"3","id":"651"},{"name":"Dodo","tier":"3","id":"21"},{"name":"Dog","tier":"3","id":"22"},{"name":"Dolphin","tier":"3","id":"23"},{"name":"Eel","tier":"3","id":"120"},{"name":"Elephant","tier":"3","id":"28"},{"name":"Emperor Tamarin","tier":"3","id":"197"},{"name":"Flea","tier":"3","id":"225"},{"name":"Flying Fish","tier":"3","id":"226"},{"name":"Flying Squirrel","tier":"3","id":"227"},{"name":"Foo Dog","tier":"3","id":"625"},{"name":"Fur-Bearing Trout","tier":"3","id":"653"},{"name":"Giraffe","tier":"3","id":"33"},{"name":"Gold Fish","tier":"3","id":"121"},{"name":"Griffin","tier":"3","id":"348"},{"name":"Guineafowl","tier":"3","id":"228"},{"name":"Hare","tier":"3","id":"551"},{"name":"Hatching Chick","tier":"3","id":"91"},{"name":"Hirola","tier":"3","id":"686"},{"name":"Hoopoe Bird","tier":"3","id":"235"},{"name":"Leech","tier":"3","id":"165"},{"name":"Mana Hound","tier":"3","id":"635"},{"name":"Mandrake","tier":"3","id":"357"},{"name":"Meerkat","tier":"3","id":"203"},{"name":"Minotaur","tier":"4","id":"360"},{"name":"Mole","tier":"3","id":"168"},{"name":"Monkey-Faced Bat","tier":"3","id":"708"},{"name":"Takin","tier":"3","id":"709"},{"name":"Tucuxi","tier":"3","id":"710"},{"name":"Musk Ox","tier":"3","id":"245"},{"name":"Okapi","tier":"3","id":"130"},{"name":"Osprey","tier":"3","id":"247"},{"name":"Ouroboros","tier":"3","id":"364"},{"name":"Owl","tier":"3","id":"95"},{"name":"Ox","tier":"3","id":"52"},{"name":"Pangolin","tier":"3","id":"249"},{"name":"Pegasus","tier":"3","id":"365"},{"name":"Porcupine","tier":"3","id":"169"},{"name":"Pug","tier":"3","id":"145"},{"name":"Pygmy Hippo","tier":"3","id":"687"},{"name":"Roloway Monkey","tier":"3","id":"688"},{"name":"Spoon-Billed Sandpiper","tier":"3","id":"689"},{"name":"Tree Kangaroo","tier":"3","id":"742"},{"name":"Angelshark","tier":"4","id":"690"},{"name":"Bonobo","tier":"4","id":"691"},{"name":"Giant Otter","tier":"4","id":"739"},{"name":"Giant Tortoise","tier":"4","id":"692"},{"name":"Golden Tamarin","tier":"4","id":"693"},{"name":"Humphead Wrasse","tier":"4","id":"711"},{"name":"Kakapo","tier":"4","id":"712"},{"name":"Longcomb Sawfish","tier":"4","id":"694"},{"name":"Puppy","tier":"3","id":"97"},{"name":"Rabbit","tier":"3","id":"60"},{"name":"Royal Flycatcher","tier":"3","id":"256"},{"name":"Sheep","tier":"3","id":"68"},{"name":"Skeleton Dog","tier":"3","id":"374"},{"name":"Slime","tier":"3","id":"375"},{"name":"Surgeon Fish","tier":"3","id":"264"},{"name":"Toad","tier":"3","id":"162"},{"name":"Tree","tier":"3","id":"378"},{"name":"Tropical Fish","tier":"3","id":"100"},{"name":"Wasp","tier":"3","id":"160"},{"name":"Weasel","tier":"3","id":"173"},{"name":"Woodpecker","tier":"5","id":"156"},{"name":"Wyvern","tier":"3","id":"385"},{"name":"Tuna","tier":"3","id":"670"}],"tier4":[{"name":"Abomination","tier":"4","id":"373"},{"name":"Anubis","tier":"4","id":"331"},{"name":"Amazon River Dolphin","tier":"4","id":"724"},{"name":"Bison","tier":"4","id":"5"},{"name":"Blobfish","tier":"5","id":"150"},{"name":"Blowfish","tier":"4","id":"7"},{"name":"Buffalo","tier":"4","id":"8"},{"name":"Caterpillar","tier":"4","id":"12"},{"name":"Chameleon","tier":"4","id":"216"},{"name":"Chimera","tier":"4","id":"338"},{"name":"Clownfish","tier":"4","id":"117"},{"name":"Cockatoo","tier":"4","id":"218"},{"name":"Crow","tier":"4","id":"195"},{"name":"Cuttlefish","tier":"4","id":"176"},{"name":"Cyclops","tier":"4","id":"630"},{"name":"Deer","tier":"4","id":"20"},{"name":"Doberman","tier":"4","id":"273"},{"name":"Donkey","tier":"4","id":"111"},{"name":"Dragonfly","tier":"4","id":"196"},{"name":"Fairy","tier":"4","id":"342"},{"name":"Falcon","tier":"4","id":"224"},{"name":"Gharial","tier":"4","id":"231"},{"name":"Hawk","tier":"4","id":"127"},{"name":"Hippo","tier":"4","id":"38"},{"name":"Hippocampus","tier":"4","id":"350"},{"name":"Jerboa","tier":"4","id":"199"},{"name":"Kraken","tier":"4","id":"355"},{"name":"Llama","tier":"4","id":"44"},{"name":"Lobster","tier":"4","id":"93"},{"name":"Lynx","tier":"4","id":"200"},{"name":"Manatee","tier":"4","id":"192"},{"name":"Manta Ray","tier":"4","id":"240"},{"name":"Microbe","tier":"4","id":"94"},{"name":"Old Mouse","tier":"4","id":"612"},{"name":"Orangutan","tier":"3","id":"157"},{"name":"Parrot","tier":"4","id":"53"},{"name":"Pelican","tier":"5","id":"129"},{"name":"Penguin","tier":"4","id":"56"},{"name":"Platypus","tier":"4","id":"159"},{"name":"Poison Dart Frog","tier":"4","id":"252"},{"name":"Praying Mantis","tier":"4","id":"126"},{"name":"Roc","tier":"4","id":"369"},{"name":"Rootling","tier":"4","id":"622"},{"name":"Saiga Antelope","tier":"4","id":"257"},{"name":"Seagull","tier":"4","id":"128"},{"name":"Sealion","tier":"4","id":"175"},{"name":"Secretary Bird","tier":"4","id":"259"},{"name":"Skunk","tier":"4","id":"70"},{"name":"Slug","tier":"4","id":"262"},{"name":"Squirrel","tier":"4","id":"75"},{"name":"Starfish","tier":"5","id":"153"},{"name":"Tahr","tier":"4","id":"393"},{"name":"Tatzelwurm","tier":"4","id":"654"},{"name":"Tiger Bug","tier":"4","id":"330"},{"name":"Turtle","tier":"4","id":"80"},{"name":"Unicorn","tier":"4","id":"380"},{"name":"Vaquita","tier":"4","id":"265"},{"name":"Visitor","tier":"4","id":"386"},{"name":"Whale","tier":"4","id":"81"},{"name":"Whale Shark","tier":"4","id":"267"},{"name":"Worm of Sand","tier":"4","id":"371"},{"name":"Elk","tier":"4","id":"671"},{"name":"Goblin Shark","tier":"4","id":"719"},{"name":"Red Lipped Batfish","tier":"4","id":"720"},{"name":"Platybelodon","tier":"4","id":"721"},{"name":"Tasmanian Devil","tier":"4","id":"736"},{"name":"Fairy Armadillo","tier":"4","id":"745"},{"name":"Siamese","tier":"4","id":"746"},{"name":"Sparrow","tier":"4","id":"747"}],"tier5":[{"name":"Aye-aye","tier":"5","id":"695"},{"name":"Banggai Cardinalfish","tier":"5","id":"696"},{"name":"Alpaca","tier":"5","id":"194"},{"name":"Armadillo","tier":"5","id":"166"},{"name":"Axolotl","tier":"5","id":"212"},{"name":"Bad Dog","tier":"5","id":"613"},{"name":"Beluga Whale","tier":"5","id":"182"},{"name":"Blue Ringed Octopus","tier":"5","id":"271"},{"name":"Boitata","tier":"5","id":"656"},{"name":"Chicken","tier":"5","id":"14"},{"name":"Cow","tier":"5","id":"15"},{"name":"Crane","tier":"5","id":"219"},{"name":"Crocodile","tier":"5","id":"19"},{"name":"Eagle","tier":"5","id":"27"},{"name":"Eagle","tier":"5","id":"662"},{"name":"Egyptian Vulture","tier":"5","id":"221"},{"name":"Emu","tier":"5","id":"223"},{"name":"Fire Ant","tier":"5","id":"274"},{"name":"Fox","tier":"5","id":"106"},{"name":"Goat","tier":"5","id":"34"},{"name":"Geometric Tortoise","tier":"5","id":"742"},{"name":"Giant Pangasius","tier":"5","id":"740"},{"name":"Hamster","tier":"5","id":"110"},{"name":"Hawaiian Monk Seal","tier":"5","id":"723"},{"name":"Marine Iguana","tier":"5","id":"755"},{"name":"Hyena","tier":"5","id":"167"},{"name":"Jersey Devil","tier":"5","id":"652"},{"name":"Kappa","tier":"5","id":"655"},{"name":"Kitsune","tier":"5","id":"354"},{"name":"Lion","tier":"5","id":"42"},{"name":"Loveland Frogman","tier":"5","id":"640"},{"name":"Macaque","tier":"5","id":"238"},{"name":"Mimic","tier":"5","id":"359"},{"name":"Monkey","tier":"5","id":"46"},{"name":"Moose","tier":"5","id":"202"},{"name":"Mosasaurus","tier":"5","id":"242"},{"name":"Nessie","tier":"5","id":"363"},{"name":"Nurikabe","tier":"5","id":"657"},{"name":"Nurse Shark","tier":"5","id":"276"},{"name":"Nyala","tier":"5","id":"246"},{"name":"Panther","tier":"5","id":"250"},{"name":"Pixiu","tier":"5","id":"619"},{"name":"Polar Bear","tier":"5","id":"108"},{"name":"Poodle","tier":"5","id":"96"},{"name":"Red Panda","tier":"5","id":"697"},{"name":"Taita Thrush","tier":"5","id":"713"},{"name":"Painted Terrapin","tier":"5","id":"714"},{"name":"Raccoon","tier":"5","id":"158"},{"name":"Red Dragon","tier":"5","id":"368"},{"name":"Rhino","tier":"5","id":"55"},{"name":"Rooster","tier":"5","id":"63"},{"name":"Salmon of Knowledge","tier":"5","id":"370"},{"name":"Scorpion","tier":"5","id":"65"},{"name":"Sea Cucumber","tier":"5","id":"717"},{"name":"Seal","tier":"5","id":"66"},{"name":"Shark","tier":"5","id":"69"},{"name":"Shoebill","tier":"5","id":"134"},{"name":"Siberian Husky","tier":"5","id":"146"},{"name":"Silver Fox","tier":"5","id":"261"},{"name":"Snapping Turtle","tier":"5","id":"277"},{"name":"Sting Ray","tier":"5","id":"178"},{"name":"Stonefish","tier":"5","id":"278"},{"name":"Sword Fish","tier":"5","id":"119"},{"name":"Tandgnost","tier":"5","id":"607"},{"name":"Tandgrisner","tier":"5","id":"608"},{"name":"Triceratops","tier":"5","id":"142"},{"name":"Turkey","tier":"5","id":"79"},{"name":"Vampire Bat","tier":"5","id":"381"},{"name":"Vulture","tier":"5","id":"135"},{"name":"Ibex","tier":"5","id":"727"},{"name":"Werewolf","tier":"5","id":"383"},{"name":"Wolf","tier":"5","id":"170"},{"name":"Snow Leopard","tier":"5","id":"737"},{"name":"Zebra","tier":"5","id":"155"},{"name":"Amalgamation","tier":"5","id":"750"}],"tier6":[{"name":"Amsterdam Albatross","tier":"6","id":"698"},{"name":"Bay Cat","tier":"6","id":"714"},{"name":"Black Rhino","tier":"6","id":"699"},{"name":"Blue Whale","tier":"6","id":"700"},{"name":"California Condor","tier":"6","id":"701"},{"name":"Green Sea Turtle","tier":"6","id":"702"},{"name":"Helmeted Hornbill","tier":"6","id":"703"},{"name":"Philippine Eagle","tier":"6","id":"715"},{"name":"Silky Sifaka","tier":"6","id":"716"},{"name":"Sumatran Tiger","tier":"6","id":"738"},{"name":"Anglerfish","tier":"6","id":"180"},{"name":"Behemoth","tier":"6","id":"333"},{"name":"Bird of Paradise","tier":"6","id":"181"},{"name":"Boar","tier":"6","id":"103"},{"name":"Cat","tier":"6","id":"11"},{"name":"Catfish","tier":"6","id":"174"},{"name":"Cerberus","tier":"6","id":"337"},{"name":"Cobra","tier":"6","id":"217"},{"name":"Cockatrice","tier":"6","id":"340"},{"name":"Dragon","tier":"6","id":"25"},{"name":"Elephant Seal","tier":"6","id":"222"},{"name":"Fly","tier":"6","id":"30"},{"name":"German Shepherd","tier":"6","id":"230"},{"name":"Gorilla","tier":"6","id":"36"},{"name":"Great One","tier":"6","id":"335"},{"name":"Grizzly Bear","tier":"6","id":"275"},{"name":"Hammerhead Shark","tier":"6","id":"123"},{"name":"Highland Cow","tier":"6","id":"186"},{"name":"Hydra","tier":"6","id":"352"},{"name":"Komodo","tier":"6","id":"124"},{"name":"Leopard","tier":"6","id":"41"},{"name":"Leviathan","tier":"6","id":"356"},{"name":"Lioness","tier":"6","id":"114"},{"name":"Lionfish","tier":"6","id":"201"},{"name":"Mammoth","tier":"6","id":"45"},{"name":"Manticore","tier":"6","id":"358"},{"name":"Mantis Shrimp","tier":"6","id":"190"},{"name":"Mongoose","tier":"6","id":"241"},{"name":"Octopus","tier":"6","id":"50"},{"name":"Orca","tier":"6","id":"116"},{"name":"Ostrich","tier":"6","id":"125"},{"name":"Oyster","tier":"6","id":"248"},{"name":"Phoenix","tier":"6","id":"366"},{"name":"Piranha","tier":"6","id":"118"},{"name":"Pteranodon","tier":"6","id":"253"},{"name":"Puma","tier":"6","id":"254"},{"name":"Questing Beast","tier":"6","id":"616"},{"name":"Quetzalcoatl","tier":"6","id":"367"},{"name":"Reindeer","tier":"6","id":"205"},{"name":"Harpy Eagle","tier":"6","id":"148"},{"name":"Sauropod","tier":"6","id":"98"},{"name":"Sea Serpent","tier":"6","id":"372"},{"name":"Sleipnir","tier":"6","id":"606"},{"name":"Snake","tier":"6","id":"73"},{"name":"Spinosaurus","tier":"6","id":"143"},{"name":"Stegosaurus","tier":"6","id":"144"},{"name":"Tapir","tier":"6","id":"208"},{"name":"Tarantula Hawk","tier":"6","id":"718"},{"name":"Team Spirit","tier":"6","id":"636"},{"name":"Tiger","tier":"6","id":"77"},{"name":"Tyrannosaurus","tier":"6","id":"78"},{"name":"Therizinosaurus","tier":"6","id":"115"},{"name":"Walrus","tier":"6","id":"209"},{"name":"Warthog","tier":"6","id":"266"},{"name":"White Tiger","tier":"6","id":"206"},{"name":"Wildebeest","tier":"6","id":"268"},{"name":"Wolverine","tier":"6","id":"269"},{"name":"Yeti","tier":"6","id":"387"},{"name":"Albatross","tier":6,"id":"660"},{"name":"Real Velociraptor","tier":"6","id":"728"},{"name":"Sabertooth Tiger","tier":"6","id":"729"},{"name":"Farmer Dog","tier":"6","id":"754"}]}');var kue=Ut.t(xue,2);function Due(n,t){1&n&&(p(0,"div",12),_(1," That name is not allowed. "),m())}function Mue(n,t){if(1&n&&(p(0,"div",13),ne(1,"input",14),p(2,"label",15),_(3),m(),m()),2&n){const e=t.$implicit;V(1),Y("id",e)("formControlName",e),V(1),Y("for",e),V(1),yi(" ",e," ")}}function Rue(n,t){if(1&n&&(p(0,"div",13),ne(1,"input",14),p(2,"label",15),_(3),m(),m()),2&n){const e=t.$implicit;V(1),Y("id",e)("formControlName",e),V(1),Y("for",e),V(1),yi(" ",e," ")}}function Iue(n,t){if(1&n&&(p(0,"div",13),ne(1,"input",14),p(2,"label",15),_(3),m(),m()),2&n){const e=t.$implicit;V(1),Y("id",e)("formControlName",e),V(1),Y("for",e),V(1),yi(" ",e," ")}}function Oue(n,t){if(1&n&&(p(0,"div",13),ne(1,"input",14),p(2,"label",15),_(3),m(),m()),2&n){const e=t.$implicit;V(1),Y("id",e)("formControlName",e),V(1),Y("for",e),V(1),yi(" ",e," ")}}function Nue(n,t){if(1&n&&(p(0,"div",13),ne(1,"input",14),p(2,"label",15),_(3),m(),m()),2&n){const e=t.$implicit;V(1),Y("id",e)("formControlName",e),V(1),Y("for",e),V(1),yi(" ",e," ")}}function Lue(n,t){if(1&n&&(p(0,"div",13),ne(1,"input",14),p(2,"label",15),_(3),m(),m()),2&n){const e=t.$implicit;V(1),Y("id",e)("formControlName",e),V(1),Y("for",e),V(1),yi(" ",e," ")}}function Bue(n,t){1&n&&(p(0,"div",12),_(1," Name is required. "),m())}let $ue=(()=>{class n{constructor(e){this.equipmentService=e,this.submitEvent=new ht,this.cancelEvent=new ht,this.loaded=!1}ngOnInit(){this.initCheckboxFormGroup(),this.formGroup.updateValueAndValidity()}initCheckboxFormGroup(){let e=new ki({}),i=new ki({}),s=new ki({}),a=new ki({}),r=new ki({}),o=new ki({});for(let l of this.getPets(1)){let c=new se(this.formGroup.get("tier1Pets").value.includes(l));c.valueChanges.subscribe(d=>{this.processCheckboxChange(1,l,d)}),e.addControl(l,c)}for(let l of this.getPets(2)){let c=new se(this.formGroup.get("tier2Pets").value.includes(l));c.valueChanges.subscribe(d=>{this.processCheckboxChange(2,l,d)}),i.addControl(l,c)}for(let l of this.getPets(3)){let c=new se(this.formGroup.get("tier3Pets").value.includes(l));c.valueChanges.subscribe(d=>{this.processCheckboxChange(3,l,d)}),s.addControl(l,c)}for(let l of this.getPets(4)){let c=new se(this.formGroup.get("tier4Pets").value.includes(l));c.valueChanges.subscribe(d=>{this.processCheckboxChange(4,l,d)}),a.addControl(l,c)}for(let l of this.getPets(5)){let c=new se(this.formGroup.get("tier5Pets").value.includes(l));c.valueChanges.subscribe(d=>{this.processCheckboxChange(5,l,d)}),r.addControl(l,c)}for(let l of this.getPets(6)){let c=new se(this.formGroup.get("tier6Pets").value.includes(l));c.valueChanges.subscribe(d=>{this.processCheckboxChange(6,l,d)}),o.addControl(l,c)}this.checkboxFormGroup=new ki({tier1Pets:e,tier2Pets:i,tier3Pets:s,tier4Pets:a,tier5Pets:r,tier6Pets:o})}getCheckboxFormGroup(e){return this.checkboxFormGroup.get(`tier${e}Pets`)}getPets(e){let i=[];for(let[s,a]of this.petPackMap.get(e))i.push(...a);return i=[...new Set(i)],i}getCount(e){return this.formGroup.get(`tier${e}Pets`).value.length}processCheckboxChange(e,i,s){let a=this.formGroup.get(`tier${e}Pets`).value;s?a.push(i):(0,Gt.remove)(a,r=>r===i),this.formGroup.get(`tier${e}Pets`).updateValueAndValidity()}submit(){this.submitEvent.emit(this.formGroup)}cancel(){confirm("Are you sure you want to cancel?")&&this.cancelEvent.emit(this.formGroup)}submitDisabled(){return this.formGroup.get("name").invalid}}return n.\u0275fac=function(e){return new(e||n)(q(Di))},n.\u0275cmp=Mn({type:n,selectors:[["app-custom-pack-form"]],inputs:{formGroup:"formGroup",petPackMap:"petPackMap"},outputs:{submitEvent:"submitEvent",cancelEvent:"cancelEvent"},decls:68,vars:34,consts:[[3,"formGroup"],[1,"row","mb-4"],[1,"col-12"],["for","name",1,"form-label"],["id","name","formControlName","name",1,"form-control"],["class","invalid",4,"ngIf"],[1,"row","mb-4",3,"formGroup"],[1,"row"],[1,"col-12","editor-grid"],["class","form-check",4,"ngFor","ngForOf"],[1,"btn","btn-primary","me-2",3,"disabled","click"],[1,"btn","btn-danger",3,"click"],[1,"invalid"],[1,"form-check"],["type","checkbox","value","",1,"form-check-input",3,"id","formControlName"],[1,"form-check-label",3,"for"]],template:function(e,i){1&e&&(p(0,"form",0),p(1,"div",1),p(2,"div",2),p(3,"label",3),_(4,"Pack Name"),m(),ne(5,"input",4),_e(6,Due,2,0,"div",5),m(),m(),p(7,"div",6),p(8,"div",2),p(9,"h3"),_(10,"Tier 1 Pets "),p(11,"span"),_(12),m(),m(),p(13,"div",7),p(14,"div",8),_e(15,Mue,4,4,"div",9),m(),m(),m(),m(),p(16,"div",6),p(17,"div",2),p(18,"h3"),_(19,"Tier 2 Pets "),p(20,"span"),_(21),m(),m(),p(22,"div",7),p(23,"div",8),_e(24,Rue,4,4,"div",9),m(),m(),m(),m(),p(25,"div",6),p(26,"div",2),p(27,"h3"),_(28,"Tier 3 Pets "),p(29,"span"),_(30),m(),m(),p(31,"div",7),p(32,"div",8),_e(33,Iue,4,4,"div",9),m(),m(),m(),m(),p(34,"div",6),p(35,"div",2),p(36,"h3"),_(37,"Tier 4 Pets "),p(38,"span"),_(39),m(),m(),p(40,"div",7),p(41,"div",8),_e(42,Oue,4,4,"div",9),m(),m(),m(),m(),p(43,"div",6),p(44,"div",2),p(45,"h3"),_(46,"Tier 5 Pets "),p(47,"span"),_(48),m(),m(),p(49,"div",7),p(50,"div",8),_e(51,Nue,4,4,"div",9),m(),m(),m(),m(),p(52,"div",6),p(53,"div",2),p(54,"h3"),_(55,"Tier 6 Pets "),p(56,"span"),_(57),m(),m(),p(58,"div",7),p(59,"div",8),_e(60,Lue,4,4,"div",9),m(),m(),m(),m(),p(61,"div",7),p(62,"div",2),p(63,"button",10),Fe("click",function(){return i.submit()}),_(64,"Submit Pack"),m(),p(65,"button",11),Fe("click",function(){return i.cancel()}),_(66,"Cancel"),m(),_e(67,Bue,2,0,"div",5),m(),m(),m()),2&e&&(Y("formGroup",i.formGroup),V(6),Y("ngIf",null==i.formGroup.get("name").errors?null:i.formGroup.get("name").errors.forbiddenName),V(1),Y("formGroup",i.getCheckboxFormGroup(1)),V(4),Ts(10==i.getCount(1)?"valid":"invalid"),V(1),yi("",i.getCount(1),"/10"),V(3),Y("ngForOf",i.getPets(1)),V(1),Y("formGroup",i.getCheckboxFormGroup(2)),V(4),Ts(10==i.getCount(2)?"valid":"invalid"),V(1),yi("",i.getCount(2),"/10"),V(3),Y("ngForOf",i.getPets(2)),V(1),Y("formGroup",i.getCheckboxFormGroup(3)),V(4),Ts(10==i.getCount(3)?"valid":"invalid"),V(1),yi("",i.getCount(3),"/10"),V(3),Y("ngForOf",i.getPets(3)),V(1),Y("formGroup",i.getCheckboxFormGroup(4)),V(4),Ts(10==i.getCount(4)?"valid":"invalid"),V(1),yi("",i.getCount(4),"/10"),V(3),Y("ngForOf",i.getPets(4)),V(1),Y("formGroup",i.getCheckboxFormGroup(5)),V(4),Ts(10==i.getCount(5)?"valid":"invalid"),V(1),yi("",i.getCount(5),"/10"),V(3),Y("ngForOf",i.getPets(5)),V(1),Y("formGroup",i.getCheckboxFormGroup(6)),V(4),Ts(10==i.getCount(6)?"valid":"invalid"),V(1),yi("",i.getCount(6),"/10"),V(3),Y("ngForOf",i.getPets(6)),V(3),Y("disabled",i.submitDisabled()),V(4),Y("ngIf",i.submitDisabled()))},directives:[hG,lc,Va,$a,oc,$o,dh,wf,Gv],styles:[".editor-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);grid-gap:1rem}.invalid[_ngcontent-%COMP%]{color:red}.valid[_ngcontent-%COMP%]{color:#0ab40a}"]}),n})();function Vue(n,t){if(1&n){const e=$r();p(0,"div",2),p(1,"div",3),p(2,"app-custom-pack-form",4),Fe("submitEvent",function(s){return Dt(e),Ve().submitEvent(s)})("cancelEvent",function(s){return Dt(e),Ve().cancelEvent(s)}),m(),m(),m()}if(2&n){const e=Ve();V(2),Y("formGroup",e.makeFormGroup(e.focusedGroup))("petPackMap",e.petPackMap)}}function que(n,t){1&n&&(p(0,"span",15),_(1,"Valid"),m())}function Hue(n,t){1&n&&(p(0,"span",16),_(1,"Invalid"),m())}function Gue(n,t){if(1&n){const e=$r();p(0,"tr"),p(1,"td",11),_(2),m(),p(3,"td",11),_e(4,que,2,0,"span",12),_e(5,Hue,2,0,"span",13),m(),p(6,"td"),p(7,"button",8),Fe("click",function(){const a=Dt(e).$implicit;return Ve(2).editPack(a)}),_(8,"Edit"),m(),m(),p(9,"td"),p(10,"button",14),Fe("click",function(){const a=Dt(e).$implicit;return Ve(2).deletePack(a)}),_(11,"Delete"),m(),m(),m()}if(2&n){const e=t.$implicit;V(2),Pi(e.get("name").value),V(2),Y("ngIf",e.valid),V(1),Y("ngIf",!e.valid)}}function Fue(n,t){if(1&n){const e=$r();p(0,"div"),p(1,"div",5),p(2,"div",3),p(3,"h3"),_(4,"Custom Packs"),m(),p(5,"table"),_e(6,Gue,12,3,"tr",6),m(),m(),m(),p(7,"div",7),p(8,"div",3),p(9,"button",8),Fe("click",function(){return Dt(e),Ve().createNewPack()}),_(10,"Create New Pack"),m(),m(),m(),p(11,"div",5),p(12,"div",3),p(13,"h3"),_(14,"Import Custom Pack"),m(),p(15,"div",9),ne(16,"textarea",10),m(),m(),m(),p(17,"div",2),p(18,"div",3),p(19,"button",8),Fe("click",function(){return Dt(e),Ve().importCustomPack()}),_(20,"Import"),m(),m(),m(),m()}if(2&n){const e=Ve();V(6),Y("ngForOf",e.customPacks.controls),V(9),Y("formGroup",e.importFormGroup)}}let Uue=(()=>{class n{constructor(e,i){this.petService=e,this.localStorageService=i,this.focusedGroup=null,this.importFormGroup=new ki({code:new se(null)}),this.buildPetPackMap()}ngOnInit(){this.customPacks=this.formGroup.get("customPacks")}buildPetPackMap(){this.petPackMap=new Map;for(let e=1;e<=6;e++){let i=new Map;i.set("Turtle",[]),i.set("Puppy",[]),i.set("Star",[]),i.set("Golden",[]),i.set("Unicorn",[]),i.set("Custom",[]),this.petPackMap.set(e,i)}for(let[e,i]of this.petService.turtlePackPets)this.petPackMap.get(e).get("Turtle").push(...i);for(let[e,i]of this.petService.puppyPackPets)this.petPackMap.get(e).get("Puppy").push(...i);for(let[e,i]of this.petService.starPackPets)this.petPackMap.get(e).get("Star").push(...i);for(let[e,i]of this.petService.goldenPackPets)this.petPackMap.get(e).get("Golden").push(...i);for(let[e,i]of this.petService.unicornPackPets)this.petPackMap.get(e).get("Unicorn").push(...i);for(let[e,i]of this.petService.customPackPets)this.petPackMap.get(e).get("Custom").push(...i)}createNewPack(){let e=this.createPack();this.focusedGroup=e}createPack(){return new ki({name:new se(null,[_C.required,this.forbiddenNameValidator()]),tier1Pets:new se([],this.controlArrayLengthOf10()),tier2Pets:new se([],this.controlArrayLengthOf10()),tier3Pets:new se([],this.controlArrayLengthOf10()),tier4Pets:new se([],this.controlArrayLengthOf10()),tier5Pets:new se([],this.controlArrayLengthOf10()),tier6Pets:new se([],this.controlArrayLengthOf10())})}makeFormGroup(e){return e}controlArrayLengthOf10(){return e=>10!==e.value.length?{length:!0}:null}submitEvent(e){this.customPacks.controls.includes(e)||this.customPacks.push(e),this.petService.buildCustomPackPets(this.customPacks),this.focusedGroup=null,this.localStorageService.setStorage(this.formGroup.value)}cancelEvent(e){this.focusedGroup=null}editPack(e){this.focusedGroup=e}deletePack(e){if(confirm("Are you sure you want to delete this pack?")){let i=this.customPacks.controls.indexOf(e);this.customPacks.removeAt(i),this.localStorageService.setStorage(this.formGroup.value)}}forbiddenNameValidator(){return e=>{var i,s;let a=["custom"];for(let r of this.customPacks.controls)e!=r.get("name")&&a.push(null===(i=r.get("name").value)||void 0===i?void 0:i.toLowerCase());return a.includes(null===(s=e.value)||void 0===s?void 0:s.toLowerCase())?{forbiddenName:!0}:null}}importCustomPack(){let e=this.importFormGroup.get("code").value;try{e=JSON.parse(e);let i={name:e.Title,tier1Pets:this.getMinions(e.Minions,1),tier2Pets:this.getMinions(e.Minions,2),tier3Pets:this.getMinions(e.Minions,3),tier4Pets:this.getMinions(e.Minions,4),tier5Pets:this.getMinions(e.Minions,5),tier6Pets:this.getMinions(e.Minions,6)};this.createNewPack(),this.focusedGroup.patchValue(i)}catch(i){alert("Invalid code"),console.error(i)}}getMinions(e,i){let s=kue[`tier${i}`],a=[];for(let r of e)for(let o of s)o.id==r&&a.push(o.name);return a}}return n.\u0275fac=function(e){return new(e||n)(q(Gf),q(v3))},n.\u0275cmp=Mn({type:n,selectors:[["app-custom-pack-editor"]],inputs:{formGroup:"formGroup"},decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-12"],[3,"formGroup","petPackMap","submitEvent","cancelEvent"],[1,"row","mb-3"],[4,"ngFor","ngForOf"],[1,"row","mb-4"],[1,"btn","btn-primary",3,"click"],[1,"form-group",3,"formGroup"],["id","code","rows","3","formControlName","code",1,"form-control"],[1,"text"],["class","valid",4,"ngIf"],["class","invalid",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"valid"],[1,"invalid"]],template:function(e,i){1&e&&(_e(0,Vue,3,2,"div",0),_e(1,Fue,21,2,"div",1)),2&e&&(Y("ngIf",null!=i.focusedGroup),V(1),Y("ngIf",null==i.focusedGroup))},directives:[dh,$ue,lc,Va,wf,$a,oc,$o],styles:[".valid[_ngcontent-%COMP%]{color:#4caf50}.invalid[_ngcontent-%COMP%]{color:#f44336}.text[_ngcontent-%COMP%]{font-size:1.5em}td[_ngcontent-%COMP%]{padding:.25em .5em}"]}),n})(),jue=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Mn({type:n,selectors:[["app-info"]],decls:101,vars:0,consts:[["src","./assets/info/pack.PNG","alt","pack"],["src","./assets/info/toy.PNG","alt","toy"],["src","./assets/info/angler.PNG","alt","angler"],["src","./assets/info/zoom.PNG","alt","zoom"],["src","./assets/info/advanced.PNG","alt","advanced"],["src","./assets/info/advanced-settings.PNG","alt","advanced settings"],["src","./assets/info/board.PNG","alt","board"],["src","./assets/info/pet.png","alt","pet"],["src","/assets/info/simulate.PNG","alt","simulate"],["src","/assets/info/report-bug.PNG","alt","report bug"],["src","/assets/info/outcome.PNG","alt","outcome"],["src","/assets/info/battles.PNG","alt","battles"],["src","/assets/info/logs.PNG","alt","logs"]],template:function(e,i){1&e&&(p(0,"p"),_(1," The SAP Calculator is an analysis tool that allows you to easily calculate the approximate odds of your team beating another team. The SAP Calculator simulates the defined battle 1000 times and determines the percentage of wins, draws and loses.\n"),m(),p(2,"p"),p(3,"b"),_(4,"Disclaimer: The SAP Calculator is not an official tool of the game and is not affiliated with the game's developers. The SAP Calculator is a fan-made tool, and is not intended to replace the official game."),m(),m(),p(5,"p"),_(6," The SAP Calculator engine is based on the official game engine, but it may not be 100% accurate. It is pretty darn close though, and should be completely accurate for nearly every possible battle.\n"),m(),p(7,"h1"),_(8,"Guide"),m(),ne(9,"img",0),p(10,"p"),_(11," Select the pack that the player and opponent are using. This determines the pets that are available to each player.\n"),m(),ne(12,"img",1),p(13,"p"),_(14," Toy configuration.\n"),m(),ne(15,"img",2),p(16,"ul"),p(17,"li"),_(18,"Angler Mode: The opposite player's pets are available to be selected for each player. (This does not affect pets that summon from your pack pet pool)"),m(),p(19,"li"),_(20,"All Pets: All pets are availble to select. (This does not affect pets that summon from your pack pet pool)"),m(),p(21,"li"),_(22,"Old Stork: Stork summons pets with base stats."),m(),p(23,"li"),_(24,"Token Pets: Token pets are available to select. (This does not affect pets that summon from your pack pet pool)"),m(),p(25,"li"),_(26,"Komodo Shuffle: Shuffle pet order each battle in front of a Komondo."),m(),p(27,"li"),_(28,"Mana: Show/hide mana stat on the pet selector."),m(),m(),ne(29,"img",3),p(30,"p"),_(31,"Adjust the zoom level of the application."),m(),ne(32,"img",4),p(33,"p"),_(34,"Toggle advanced settings."),m(),ne(35,"img",5),p(36,"p"),_(37,"Advanced settings. They allow you to configure the battle to a more specific scenario."),m(),p(38,"ul"),p(39,"li"),_(40,"Turn: The turn the battle takes place. This will affect pets such as the Stork, Eagle, and Stegosaurus."),m(),p(41,"li"),_(42,"Player Gold Spent: Player gold spent the previous round. This will affect the Meerkat."),m(),p(43,"li"),_(44,"Opponent Gold Spent: Same as above but for the Opponent player."),m(),p(45,"li"),_(46,"Player Roll Amount: The amount of times the Player rolled in the shop phase."),m(),p(47,"li"),_(48,"Opponent Roll Amount: Same as above but for the Opponent player."),m(),p(49,"li"),_(50,"Player Lvl 3 Sold: The amount of times the Player sold a Level 3 pet."),m(),p(51,"li"),_(52,"Opponent Lvl 3 Sold: Same as above but for the Opponent player."),m(),p(53,"li"),_(54,"Player Summoned Amt: The amount of times the Player summoned a pet in the shop phase."),m(),p(55,"li"),_(56,"Opponent Summoned Amt: Same as above but for the Opponent player."),m(),p(57,"li"),_(58,"Player Transformation Amt: The amount of times the Player transformed a pet in the shop phase."),m(),p(59,"li"),_(60,"Opponent Transformation Amt: Same as above but for the Opponent player."),m(),m(),ne(61,"img",6),p(62,"p"),_(63," This is the board. The left side is the Player pets and the right side is the Opponent Pets. Each white box contains a pet and its' stats/equipment. The layout of the pets are identical to as they would be in battle. The right most Player pet is clashing with the left most Opponent pet.\n"),m(),ne(64,"img",7),p(65,"p"),_(66," This is a pet.\n"),m(),p(67,"ul"),p(68,"li"),_(69,"A: This select box is where you may choose the pet that will occupy this space."),m(),p(70,"li"),_(71,"B: This select box is where you may choose the pet's equipment."),m(),p(72,"li"),_(73,"C: These fields are where you may input the pet's stats. The gray field is attack, the red field is health, and the indigo field is mana."),m(),p(74,"li"),_(75,"D: This component determines the amount of exp the pet has. A pet may have 0-5 exp denoted by the number of boxes highlighted. The numbers (1, 2, 3) on top of the exp bar signify the level of the pet. 0-1 exp is level 1, 2-4 exp is level 2, and 5 exp is level 3. The x on the left will clear the exp bar leaving the pet at level 1 with 0 exp. "),m(),p(76,"li"),_(77,"E: This is a drag and drop tool. Use this to reorder your pets."),m(),m(),ne(78,"img",8),p(79,"ul"),p(80,"li"),_(81,"Simulate: Run the simulation."),m(),p(82,"li"),_(83,"Randomize: Randomize the Player's and Opponents's pets and equipment."),m(),m(),ne(84,"img",9),p(85,"ul"),p(86,"li"),_(87,"Report A Bug: Report a bug to the SAP Calculator develepor."),m(),p(88,"li"),_(89,"Export Calculator: Saves a code to your devices clipboard that can be used to import the calculator state."),m(),p(90,"li"),_(91,"Import Calculator: Import a calculator state."),m(),m(),ne(92,"img",10),p(93,"p"),_(94," This is the outcome summary. It shows the number of wins, draws, and loses for the last simulation ran.\n"),m(),ne(95,"img",11),p(96,"p"),_(97," This is the Battles table. It is a table of all the battles that were simulated. You may filter the table by the outcome of the battle.\n"),m(),ne(98,"img",12),p(99,"p"),_(100," These are the logs of the last selected simulated battle. Logs that are highlighted green are logs from a pet on the Player's team and logs that are highlighted red are logs from a pet on the Opponent's team. Logs that are highlighted purple are random events. Note: Not everything is logged.\n"),m())},styles:["img[_ngcontent-%COMP%]{margin-bottom:.5em;max-width:100%;border:1px solid #bfbfbf}"]}),n})(),Wue=(()=>{class n{constructor(){this.formGroup=new ki({calcCode:new se(null)})}ngOnInit(){}submit(){let e="";e=this.importFunc(this.formGroup.value.calcCode)?"Import successful":"Import failed",alert(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Mn({type:n,selectors:[["app-import-calculator"]],inputs:{importFunc:"importFunc"},decls:6,vars:1,consts:[[1,"form-group",3,"formGroup"],["id","calcCode","rows","5","formControlName","calcCode",1,"form-control","mb-2"],[1,"warning","mb-2"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(p(0,"div",0),ne(1,"textarea",1),p(2,"div",2),_(3," Warning: This will overwrite any existing custom packs. Any custom packs in the import will be added. "),m(),p(4,"button",3),Fe("click",function(){return i.submit()}),_(5,"Import"),m(),m()),2&e&&Y("formGroup",i.formGroup)},directives:[lc,Va,$a,oc,$o],styles:[""]}),n})(),zue=(()=>{class n{constructor(e){this.localStorageService=e}ngOnInit(){}formGroupValueString(){if(!this.formGroup)return"";try{const i=(0,Gt.cloneDeep)(this.formGroup.value),s=[...i.playerPets||[],...i.opponentPets||[]];for(const a of s)a&&(delete a.parent,delete a.logService,delete a.abilityService,delete a.gameService,delete a.petService,a.equipment&&(a.equipment={name:a.equipment.name}));return JSON.stringify(i,null,2)}catch(e){return console.error("Error creating export string:",e),"Error: Could not generate the export data."}}copyToClipboard(){this.localStorageService.setFormStorage(this.formGroup);const e=this.formGroupValueString();e.startsWith("Error:")?alert("Failed to export"):navigator.clipboard.writeText(e).then(()=>{alert("Copied to clipboard")}).catch(i=>{console.error("Clipboard error:",i),alert("Failed to copy to clipboard.")})}}return n.\u0275fac=function(e){return new(e||n)(q(v3))},n.\u0275cmp=Mn({type:n,selectors:[["app-export-calculator"]],inputs:{formGroup:"formGroup"},decls:4,vars:1,consts:[[1,"form-group"],["id","calcCode","rows","5","readonly","",1,"form-control","mb-2",3,"value"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(p(0,"div",0),ne(1,"textarea",1),p(2,"button",2),Fe("click",function(){return i.copyToClipboard()}),_(3,"Copy to Clipboard"),m(),m()),2&e&&(V(1),Y("value",i.formGroupValueString()))},styles:[""]}),n})();class j8{}class W8{}class zr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const s=e.slice(0,i),a=s.toLowerCase(),r=e.slice(i+1).trim();this.maybeSetNormalizedName(s,a),this.headers.has(a)?this.headers.get(a).push(r):this.headers.set(a,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const s=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(s,i),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof zr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new zr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof zr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...i),this.headers.set(e,s);break;case"d":const a=t.value;if(a){let r=this.headers.get(e);if(!r)return;r=r.filter(o=>-1===a.indexOf(o)),0===r.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,r)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Yue{encodeKey(t){return z8(t)}encodeValue(t){return z8(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Jue=/%(\d[a-f0-9])/gi,Zue={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function z8(n){return encodeURIComponent(n).replace(Jue,(t,e)=>{var i;return null!==(i=Zue[e])&&void 0!==i?i:t})}function K8(n){return`${n}`}class Qo{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Yue,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const a=s.indexOf("="),[r,o]=-1==a?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,a)),t.decodeValue(s.slice(a+1))],l=e.get(r)||[];l.push(o),e.set(r,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const s=t[i];Array.isArray(s)?s.forEach(a=>{e.push({param:i,value:a,op:"a"})}):e.push({param:i,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Qo({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(K8(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const s=i.indexOf(K8(t.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Xue{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function Y8(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Q8(n){return"undefined"!=typeof Blob&&n instanceof Blob}function J8(n){return"undefined"!=typeof FormData&&n instanceof FormData}class lp{constructor(t,e,i,s){let a;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,a=s):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new zr),this.context||(this.context=new Xue),this.params){const r=this.params.toString();if(0===r.length)this.urlWithParams=e;else{const o=e.indexOf("?");this.urlWithParams=e+(-1===o?"?":o<e.length-1?"&":"")+r}}else this.params=new Qo,this.urlWithParams=e}serializeBody(){return null===this.body?null:Y8(this.body)||Q8(this.body)||J8(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Qo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||J8(this.body)?null:Q8(this.body)?this.body.type||null:Y8(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,s=t.url||this.url,a=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,d=t.params||this.params;const f=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((y,b)=>y.set(b,t.setHeaders[b]),c)),t.setParams&&(d=Object.keys(t.setParams).reduce((y,b)=>y.set(b,t.setParams[b]),d)),new lp(i,s,r,{params:d,headers:c,context:f,reportProgress:l,responseType:a,withCredentials:o})}}var di=(()=>((di=di||{})[di.Sent=0]="Sent",di[di.UploadProgress=1]="UploadProgress",di[di.ResponseHeader=2]="ResponseHeader",di[di.DownloadProgress=3]="DownloadProgress",di[di.Response=4]="Response",di[di.User=5]="User",di))();class b3{constructor(t,e=200,i="OK"){this.headers=t.headers||new zr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class S3 extends b3{constructor(t={}){super(t),this.type=di.ResponseHeader}clone(t={}){return new S3({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ES extends b3{constructor(t={}){super(t),this.type=di.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new ES({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Z8 extends b3{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function _3(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let X8=(()=>{class n{constructor(e){this.handler=e}request(e,i,s={}){let a;if(e instanceof lp)a=e;else{let l,c;l=s.headers instanceof zr?s.headers:new zr(s.headers),s.params&&(c=s.params instanceof Qo?s.params:new Qo({fromObject:s.params})),a=new lp(e,i,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:c,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const r=bc(a).pipe(function(n,t){return na(n,void 0,1)}(l=>this.handler.handle(l)));if(e instanceof lp||"events"===s.observe)return r;const o=r.pipe(HU(l=>l instanceof ES));switch(s.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return o.pipe(hs(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return o.pipe(hs(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return o.pipe(hs(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return o.pipe(hs(l=>l.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Qo).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,s={}){return this.request("PATCH",e,_3(s,i))}post(e,i,s={}){return this.request("POST",e,_3(s,i))}put(e,i,s={}){return this.request("PUT",e,_3(s,i))}}return n.\u0275fac=function(e){return new(e||n)(G(j8))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();class e7{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const t7=new ye("HTTP_INTERCEPTORS");let ihe=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const nhe=/^\)\]\}',?\n/;let i7=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ye(i=>{const s=this.xhrFactory.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((b,P)=>s.setRequestHeader(b,P.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const b=e.detectContentTypeHeader();null!==b&&s.setRequestHeader("Content-Type",b)}if(e.responseType){const b=e.responseType.toLowerCase();s.responseType="json"!==b?b:"text"}const a=e.serializeBody();let r=null;const o=()=>{if(null!==r)return r;const b=1223===s.status?204:s.status,P=s.statusText||"OK",x=new zr(s.getAllResponseHeaders()),D=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return r=new S3({headers:x,status:b,statusText:P,url:D}),r},l=()=>{let{headers:b,status:P,statusText:x,url:D}=o(),N=null;204!==P&&(N=void 0===s.response?s.responseText:s.response),0===P&&(P=N?200:0);let I=P>=200&&P<300;if("json"===e.responseType&&"string"==typeof N){const U=N;N=N.replace(nhe,"");try{N=""!==N?JSON.parse(N):null}catch($){N=U,I&&(I=!1,N={error:$,text:N})}}I?(i.next(new ES({body:N,headers:b,status:P,statusText:x,url:D||void 0})),i.complete()):i.error(new Z8({error:N,headers:b,status:P,statusText:x,url:D||void 0}))},c=b=>{const{url:P}=o(),x=new Z8({error:b,status:s.status||0,statusText:s.statusText||"Unknown Error",url:P||void 0});i.error(x)};let d=!1;const f=b=>{d||(i.next(o()),d=!0);let P={type:di.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(P.total=b.total),"text"===e.responseType&&!!s.responseText&&(P.partialText=s.responseText),i.next(P)},y=b=>{let P={type:di.UploadProgress,loaded:b.loaded};b.lengthComputable&&(P.total=b.total),i.next(P)};return s.addEventListener("load",l),s.addEventListener("error",c),s.addEventListener("timeout",c),s.addEventListener("abort",c),e.reportProgress&&(s.addEventListener("progress",f),null!==a&&s.upload&&s.upload.addEventListener("progress",y)),s.send(a),i.next({type:di.Sent}),()=>{s.removeEventListener("error",c),s.removeEventListener("abort",c),s.removeEventListener("load",l),s.removeEventListener("timeout",c),e.reportProgress&&(s.removeEventListener("progress",f),null!==a&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(G(b6))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const w3=new ye("XSRF_COOKIE_NAME"),A3=new ye("XSRF_HEADER_NAME");class n7{}let rhe=(()=>{class n{constructor(e,i,s){this.doc=e,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=h6(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(G(Xe),G(ch),G(w3))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),E3=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const s=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||s.startsWith("http://")||s.startsWith("https://"))return i.handle(e);const a=this.tokenService.getToken();return null!==a&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,a)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(G(n7),G(A3))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),ahe=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(t7,[]);this.chain=i.reduceRight((s,a)=>new e7(s,a),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(G(W8),G(wt))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),ohe=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:E3,useClass:ihe}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:w3,useValue:e.cookieName}:[],e.headerName?{provide:A3,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qt({type:n}),n.\u0275inj=qt({providers:[E3,{provide:t7,useExisting:E3,multi:!0},{provide:n7,useClass:rhe},{provide:w3,useValue:"XSRF-TOKEN"},{provide:A3,useValue:"X-XSRF-TOKEN"}]}),n})(),lhe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qt({type:n}),n.\u0275inj=qt({providers:[X8,{provide:j8,useClass:ahe},i7,{provide:W8,useExisting:i7}],imports:[[ohe.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const che=function(n){return["form-group","mb-3",n]};function uhe(n,t){if(1&n){const e=$r();p(0,"div"),p(1,"p"),_(2," A shareable link of the current calculator will automatically be sent to the developer. Please make sure the calculator is currently relevant to the bug you are reporting. Provide a description of the bug below. (Player should have won, pet's ability is wrong, etc.) Name is optional. Provide your Discord ID if you want me to follow up with you. "),m(),p(3,"div",1),p(4,"div",2),p(5,"label",3),_(6,"Name/Alias/Discord ID"),m(),ne(7,"input",4),m(),p(8,"div"),p(9,"label",5),_(10,"Description"),m(),ne(11,"textarea",6),m(),m(),p(12,"button",7),Fe("click",function(){return Dt(e),Ve().submit()}),_(13,"Submit"),m(),m()}if(2&n){const e=Ve();V(3),Y("ngClass",function(n,t,e,i){return HH(Q(),$i(),n,t,e,i)}(2,che,e.submitted?"was-validated":""))("formGroup",e.formGroup)}}function hhe(n,t){if(1&n){const e=$r();p(0,"div"),p(1,"h1"),_(2,"Thank you for the bug report!"),m(),p(3,"button",7),Fe("click",function(){return Dt(e),Ve().back()}),_(4,"Report another bug :("),m(),m()}}let dhe=(()=>{class n{constructor(e){this.http=e,this.formGroup=new ki({name:new se(""),description:new se(null,_C.required)}),this.reported=!1,this.submitted=!1}ngOnInit(){}submit(){if(this.submitted=!0,this.formGroup.invalid)return;let e;try{const r=(0,Gt.cloneDeep)(this.calcFormGroup.value),o=[...r.playerPets||[],...r.opponentPets||[]];for(const f of o)f&&(delete f.parent,delete f.logService,delete f.abilityService,delete f.gameService,delete f.petService,f.equipment&&(f.equipment={name:f.equipment.name}));const l=JSON.stringify(r);e=`http://localhost:4200/?c=${encodeURIComponent(l)}`}catch(a){console.error("Error creating bug report data:",a),e="Error: Could not generate shareable link"}let i=Object.assign(Object.assign({},this.formGroup.value),{link:e});const s=new zr({"Content-Type":"application/json"});this.http.post("https://formspree.io/f/mgvzngzp",{name:"SAP CALC",replyto:"Ruihan20080129@gmail.com",message:i},{headers:s}).subscribe(a=>{console.log("Bug report submitted successfully:",a),this.reported=!0},a=>{console.error("Error submitting bug report:",a),alert("Failed to submit bug report. Please try again or contact the developer directly.")})}back(){this.formGroup.reset(),this.submitted=!1,this.reported=!1}}return n.\u0275fac=function(e){return new(e||n)(q(X8))},n.\u0275cmp=Mn({type:n,selectors:[["app-report-a-bug"]],inputs:{calcFormGroup:"calcFormGroup"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngClass","formGroup"],[1,"mb-3"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],["for","description"],["rows","3","formControlName","description","required","",1,"form-control"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(_e(0,uhe,14,4,"div",0),_e(1,hhe,5,0,"div",0)),2&e&&(Y("ngIf",!i.reported),V(1),Y("ngIf",i.reported))},directives:[dh,sC,lc,Va,$a,oc,$o,eb],styles:[""]}),n})();const ghe=["customPackEditor"];function fhe(n,t){if(1&n&&(zu(0),p(1,"div",1),_(2),m(),Ku()),2&n){const e=Ve();V(2),Pi(e.apiResponse)}}function phe(n,t){if(1&n&&(p(0,"option",135),_(1),m()),2&n){const e=t.$implicit;Y("value",e.get("name").value),V(1),Pi(e.get("name").value)}}function mhe(n,t){if(1&n&&(p(0,"option",135),_(1),m()),2&n){const e=t.$implicit;Y("value",e.get("name").value),V(1),Pi(e.get("name").value)}}function yhe(n,t){if(1&n&&(p(0,"option",31),_(1),m()),2&n){const e=t.$implicit;Y("ngValue",e),V(1),Pi(e)}}function vhe(n,t){if(1&n&&(p(0,"optgroup",136),_e(1,yhe,2,2,"option",137),m()),2&n){const e=t.$implicit;Y("label","Tier "+e.key),V(1),Y("ngForOf",e.value)}}function bhe(n,t){if(1&n&&(p(0,"option",31),_(1),m()),2&n){const e=t.$implicit;Y("ngValue",e),V(1),Pi(e)}}function She(n,t){if(1&n&&(p(0,"optgroup",136),_e(1,bhe,2,2,"option",137),m()),2&n){const e=t.$implicit;Y("label","Tier "+e.key),V(1),Y("ngForOf",e.value)}}function _he(n,t){1&n&&(p(0,"div",12),p(1,"div",13),p(2,"div",138),p(3,"div",139),p(4,"label",140),_(5,"Turn"),m(),ne(6,"input",141),m(),p(7,"div",142),p(8,"label",143),_(9,"Player Gold Spent"),m(),ne(10,"input",144),m(),p(11,"div",142),p(12,"label",145),_(13,"Opponent Gold Spent"),m(),ne(14,"input",146),m(),p(15,"div",142),p(16,"label",147),_(17,"Player Roll Amt"),m(),ne(18,"input",148),m(),p(19,"div",142),p(20,"label",149),_(21,"Opponent Roll Amt"),m(),ne(22,"input",150),m(),p(23,"div",142),p(24,"label",151),_(25,"Player Lvl 3 Sold"),m(),ne(26,"input",152),m(),p(27,"div",142),p(28,"label",153),_(29,"Opponent Lvl 3 Sold"),m(),ne(30,"input",154),m(),p(31,"div",142),p(32,"label",155),_(33,"Player Summoned Amt"),m(),ne(34,"input",156),m(),p(35,"div",142),p(36,"label",157),_(37,"Opponent Summoned Amt"),m(),ne(38,"input",158),m(),p(39,"div",142),p(40,"label",159),_(41,"Player Transformation Amt"),m(),ne(42,"input",160),m(),p(43,"div",142),p(44,"label",161),_(45,"Opponent Transformation Amt"),m(),ne(46,"input",162),m(),m(),m(),m())}function whe(n,t){if(1&n&&(p(0,"div",163),p(1,"div",164),Sd(),p(2,"svg",165),ne(3,"path",166),ne(4,"path",167),m(),m(),_d(),ne(5,"app-pet-selector",168),m()),2&n){const e=t.$implicit,i=t.index,s=Ve(2);V(5),Y("pet",s.player["pet"+(4-i)])("player",s.player)("opponent",s.opponent)("index",4-i)("formGroup",s.makeFormGroup(e))("angler",s.formGroup.get("angler").value)("ailments",s.formGroup.get("ailmentEquipment").value)("allPets",s.formGroup.get("allPets").value)("mana",s.formGroup.get("mana").value)("triggersConsumed",s.formGroup.get("triggersConsumed").value)("showTokenPets",s.formGroup.get("tokenPets").value)("customPacks",s.formGroup.get("customPacks"))}}function Ahe(n,t){if(1&n&&(p(0,"div",169),p(1,"div",164),Sd(),p(2,"svg",165),ne(3,"path",166),ne(4,"path",167),m(),m(),_d(),ne(5,"app-pet-selector",168),m()),2&n){const e=t.$implicit,i=t.index,s=Ve(2);V(5),Y("pet",s.opponent["pet"+i])("player",s.opponent)("opponent",s.player)("index",i)("formGroup",s.makeFormGroup(e))("angler",s.formGroup.get("angler").value)("ailments",s.formGroup.get("ailmentEquipment").value)("allPets",s.formGroup.get("allPets").value)("mana",s.formGroup.get("mana").value)("triggersConsumed",s.formGroup.get("triggersConsumed").value)("showTokenPets",s.formGroup.get("tokenPets").value)("customPacks",s.formGroup.get("customPacks"))}}function Ehe(n,t){if(1&n&&(p(0,"div",94),p(1,"div",170),p(2,"label"),_(3,"Player Wins:"),m(),p(4,"span"),_(5),m(),p(6,"label"),_(7,"Opponent Wins:"),m(),p(8,"span"),_(9),m(),p(10,"label"),_(11,"Draws:"),m(),p(12,"span"),_(13),m(),m(),p(14,"div",171),p(15,"span",172),ne(16,"span",173),ne(17,"span",174),m(),m(),m()),2&n){const e=Ve(2);V(5),Qg("",e.playerWinner," - ",e.winPercent,"%"),V(4),Qg("",e.opponentWinner," - ",e.losePercent,"%"),V(4),Qg("",e.draw," - ",e.drawPercent,"%"),V(3),Kg("width",e.getDrawWidth()),V(1),Kg("width",e.getLoseWidth())}}function Che(n,t){if(1&n){const e=$r();p(0,"tr",175),Fe("click",function(){const a=Dt(e).$implicit;return Ve(2).setViewBattle(a)}),p(1,"td"),_(2),m(),p(3,"td"),_(4),m(),p(5,"td",176),_(6),m(),m()}if(2&n){const e=t.$implicit,i=t.index,s=Ve(2);V(2),Pi(i),V(2),Pi(e.winner),V(2),Pi(s.getRandomEvents(e))}}const Phe=function(n,t){return[n,t]};function The(n,t){if(1&n&&(p(0,"div",73),p(1,"span",177),_(2),m(),m()),2&n){const e=t.$implicit,i=Ve(2);V(1),Y("ngClass",qH(2,Phe,i.getPlayerClass(e),e.randomEvent?"random-event":"")),V(1),Pi(e.message)}}function xhe(n,t){if(1&n){const e=$r();zu(0),p(1,"div",2,3),p(3,"div",4),p(4,"div",5),p(5,"div",6),p(6,"h1",7),Fe("click",function(){return Dt(e),Ve().printFormGroup()}),_(7,"SAP Calculator"),m(),p(8,"span",8),_(9,"Info/Guide"),m(),m(),p(10,"div",6),p(11,"div",9),_(12),m(),p(13,"div",10),p(14,"span"),_(15),p(16,"span",11),_(17,"Patch Notes"),m(),m(),p(18,"span"),_(19),m(),m(),m(),m(),m(),p(20,"div",12),p(21,"div",13),p(22,"div",14),p(23,"div",15),p(24,"label",16),_(25,"Player Pack"),m(),p(26,"select",17),p(27,"option",18),_(28,"Turtle"),m(),p(29,"option",19),_(30,"Puppy"),m(),p(31,"option",20),_(32,"Star"),m(),p(33,"option",21),_(34,"Golden"),m(),p(35,"option",22),_(36,"Unicorn"),m(),p(37,"option",23),_(38,"Danger"),m(),p(39,"optgroup",24),_e(40,phe,2,2,"option",25),p(41,"option",26),_(42,"Add Custom Pack"),m(),m(),m(),m(),p(43,"div",27),p(44,"label",16),_(45,"Opponent Pack"),m(),p(46,"select",28),p(47,"option",18),_(48,"Turtle"),m(),p(49,"option",19),_(50,"Puppy"),m(),p(51,"option",20),_(52,"Star"),m(),p(53,"option",21),_(54,"Golden"),m(),p(55,"option",22),_(56,"Unicorn"),m(),p(57,"option",23),_(58,"Danger"),m(),p(59,"optgroup",24),_e(60,mhe,2,2,"option",25),p(61,"option",26),_(62,"Add Custom Pack"),m(),m(),m(),m(),p(63,"div",29),p(64,"label",16),_(65,"Player Toy"),m(),p(66,"select",30),p(67,"option",31),_(68,"None"),m(),_e(69,vhe,2,2,"optgroup",32),ko(70,"keyvalue"),m(),m(),p(71,"div",33),p(72,"label",34),_(73,"Toy Level"),m(),p(74,"select",35),p(75,"option"),_(76,"1"),m(),p(77,"option"),_(78,"2"),m(),p(79,"option"),_(80,"3"),m(),m(),m(),p(81,"div",15),p(82,"label",16),_(83,"Opponent Toy"),m(),p(84,"select",36),p(85,"option",31),_(86,"None"),m(),_e(87,She,2,2,"optgroup",32),ko(88,"keyvalue"),m(),m(),p(89,"div",33),p(90,"label",37),_(91,"Toy Level"),m(),p(92,"select",38),p(93,"option"),_(94,"1"),m(),p(95,"option"),_(96,"2"),m(),p(97,"option"),_(98,"3"),m(),m(),m(),p(99,"div",39),p(100,"span",40),Fe("click",function(){return Dt(e),Ve().toggleAdvanced()}),_(101),m(),m(),p(102,"div",41),p(103,"div",42),ne(104,"input",43),p(105,"label",44),_(106," Angler "),m(),m(),p(107,"div",45),ne(108,"input",46),p(109,"label",47),_(110," All Pets "),m(),m(),m(),p(111,"div",41),p(112,"div",48),ne(113,"input",49),p(114,"label",50),_(115," Old Stork "),m(),m(),p(116,"div",51),ne(117,"input",52),p(118,"label",53),_(119," Token Pets "),m(),m(),m(),p(120,"div",41),p(121,"div",54),ne(122,"input",55),p(123,"label",56),_(124," Komodo Shuffle "),m(),m(),p(125,"div",57),p(126,"div",58),ne(127,"input",59),p(128,"label",60),_(129," Mana "),m(),m(),p(130,"div",61),ne(131,"input",62),p(132,"label",63),_(133," Triggers Consumed "),m(),m(),m(),m(),p(134,"div",41),p(135,"div",64),ne(136,"input",65),p(137,"label",66),_(138," Ailment Equipment "),m(),m(),m(),m(),p(139,"div",67),p(140,"label",68),_(141,"Zoom"),m(),p(142,"div"),p(143,"button",69),Fe("click",function(){return Dt(e),Ve().zoomIn()}),_(144,"+"),m(),p(145,"button",70),Fe("click",function(){return Dt(e),Ve().zoomOut()}),_(146,"-"),m(),m(),m(),m(),m(),_e(147,_he,47,0,"div",71),p(148,"div",72),ne(149,"div",73),m(),p(150,"div",74),p(151,"div",75),p(152,"div",76),p(153,"h2",77),_(154,"Player"),m(),p(155,"button",78),Fe("click",function(){return Dt(e),Ve().resetPlayer("player")}),_(156,"Reset"),m(),m(),p(157,"div",79),p(158,"div",80),Fe("cdkDropListDropped",function(s){return Dt(e),Ve().drop(s,"player")}),_e(159,whe,6,12,"div",81),m(),m(),m(),p(160,"div",82),p(161,"div",76),p(162,"h2",77),_(163,"Opponent"),m(),p(164,"button",78),Fe("click",function(){return Dt(e),Ve().resetPlayer("opponent")}),_(165,"Reset"),m(),m(),p(166,"div",83),p(167,"div",80),Fe("cdkDropListDropped",function(s){return Dt(e),Ve().drop(s,"opponent")}),_e(168,Ahe,6,12,"div",84),m(),m(),m(),m(),p(169,"div",85),p(170,"div",86),p(171,"div"),p(172,"button",87),Fe("click",function(){return Dt(e),Ve().simulate()}),_(173,"Simulate"),m(),p(174,"button",87),Fe("click",function(){return Dt(e),Ve().randomize()}),_(175,"Randomize"),m(),m(),p(176,"div"),p(177,"button",88),_(178,"Report A Bug"),m(),p(179,"button",89),_(180,"Export Calculator"),m(),p(181,"button",90),_(182,"Import Calculator"),m(),p(183,"button",87),Fe("click",function(){return Dt(e),Ve().generateShareLink()}),_(184,"Generate Link"),m(),m(),m(),m(),_e(185,Ehe,18,10,"div",91),p(186,"div",92),p(187,"div",93),p(188,"h3"),_(189,"Battles"),m(),p(190,"div",94),p(191,"div",73),p(192,"label",95),_(193,"Filter Battles By Winner"),m(),m(),p(194,"div",73),p(195,"div",96),ne(196,"input",97),p(197,"label",98),_(198,"None"),m(),m(),p(199,"div",96),ne(200,"input",99),p(201,"label",100),_(202,"Player"),m(),m(),p(203,"div",96),ne(204,"input",101),p(205,"label",102),_(206,"Opponent"),m(),m(),p(207,"div",96),ne(208,"input",103),p(209,"label",104),_(210,"Draw"),m(),m(),m(),m(),p(211,"div",105),p(212,"table",106),p(213,"thead"),p(214,"tr"),p(215,"th",107),_(216,"Battle No."),m(),p(217,"th"),_(218,"Winner"),m(),p(219,"th"),_(220,"Random Events"),m(),m(),m(),p(221,"tbody"),_e(222,Che,7,3,"tr",108),m(),m(),m(),m(),p(223,"div",109),p(224,"h3"),_(225,"Logs"),m(),p(226,"div",110),_e(227,The,3,5,"div",111),m(),m(),m(),m(),p(228,"div",112),p(229,"div",113),p(230,"div",114),p(231,"div",115),p(232,"h1",116),_(233,"Patch Notes"),m(),ne(234,"button",117),m(),p(235,"div",118),ne(236,"app-patch-notes"),m(),p(237,"div",119),p(238,"span",40),Fe("click",function(){return Dt(e),Ve().clearCache()}),_(239,"Clear Cache"),m(),m(),m(),m(),m(),p(240,"div",120,121),p(242,"div",122),p(243,"div",114),p(244,"div",115),p(245,"h1",123),_(246,"Custom Pack Editor"),m(),ne(247,"button",117),m(),p(248,"div",118),ne(249,"app-custom-pack-editor",124),m(),m(),m(),m(),p(250,"div",125),p(251,"div",122),p(252,"div",114),p(253,"div",115),p(254,"h1",126),_(255,"Info"),m(),ne(256,"button",117),m(),p(257,"div",118),ne(258,"app-info"),m(),m(),m(),m(),p(259,"div",127),p(260,"div",122),p(261,"div",114),p(262,"div",115),p(263,"h1",128),_(264,"Import Calculator"),m(),ne(265,"button",117),m(),p(266,"div",118),ne(267,"app-import-calculator",129),m(),m(),m(),m(),p(268,"div",130),p(269,"div",122),p(270,"div",114),p(271,"div",115),p(272,"h1",131),_(273,"Export Calculator"),m(),ne(274,"button",117),m(),p(275,"div",118),ne(276,"app-export-calculator",124),m(),m(),m(),m(),p(277,"div",132),p(278,"div",122),p(279,"div",114),p(280,"div",115),p(281,"h1",133),_(282,"Report A Bug"),m(),ne(283,"button",117),m(),p(284,"div",118),ne(285,"app-report-a-bug",134),m(),m(),m(),m(),Ku()}if(2&n){const e=Ve();V(1),Y("formGroup",e.formGroup),V(11),yi("Last Updated: ",e.lastUpdated,""),V(3),yi("Version: ",e.version," "),V(4),yi("SAP Version: ",e.sapVersion,""),V(21),Y("ngForOf",e.validCustomPacks),V(20),Y("ngForOf",e.validCustomPacks),V(7),Y("ngValue",null),V(2),Y("ngForOf",Do(70,23,e.toys)),V(16),Y("ngValue",null),V(2),Y("ngForOf",Do(88,25,e.toys)),V(14),yi("",e.formGroup.get("showAdvanced").value?"Hide":"Show"," Advanced Settings"),V(46),Y("ngIf",e.formGroup.get("showAdvanced").value),V(2),Y("@dayNight",e.dayNight?"day":"night"),V(10),Y("ngForOf",e.getPlayerPetsFormArray()),V(9),Y("ngForOf",e.getOpponentPetsFormArray()),V(17),Y("ngIf",e.simulated),V(11),Y("value",null),V(26),Y("ngForOf",e.filteredBattles),V(5),Y("ngForOf",e.getViewBattleLogs()),V(22),Y("formGroup",e.formGroup),V(18),Y("importFunc",e.import.bind(e)),V(9),Y("formGroup",e.formGroup),V(9),Y("calcFormGroup",e.formGroup)}}const Mhe={pP:"playerPack",oP:"opponentPack",pT:"playerToy",pTL:"playerToyLevel",oT:"opponentToy",oTL:"opponentToyLevel",t:"turn",pGS:"playerGoldSpent",oGS:"opponentGoldSpent",pRA:"playerRollAmount",oRA:"opponentRollAmount",pSA:"playerSummonedAmount",oSA:"opponentSummonedAmount",pL3:"playerLevel3Sold",oL3:"opponentLevel3Sold",p:"playerPets",o:"opponentPets",an:"angler",ap:"allPets",lf:"logFilter",fs:"fontSize",cp:"customPacks",os:"oldStork",tp:"tokenPets",ks:"komodoShuffle",m:"mana",sa:"showAdvanced",ae:"ailmentEquipment",pTA:"playerTransformationAmount",oTA:"opponentTransformationAmount",n:"name",a:"attack",h:"health",e:"exp",eq:"equipment",bSP:"belugaSwallowedPet",tH:"timesHurt"};function CS(n){if(Array.isArray(n))return n.map(t=>CS(t));if(null!==n&&"object"==typeof n){const t={};for(const e in n)t[Mhe[e]||e]=CS(n[e]);return t}return n}let Rhe=(()=>{class n{constructor(e,i,s,a,r,o,l,c){this.logService=e,this.injector=i,this.abilityService=s,this.gameService=a,this.equipmentService=r,this.petService=o,this.toyService=l,this.localStorageService=c,this.version="0.9.0",this.sapVersion="0.33.3-156 BETA",this.lastUpdated="1/7/2026",this.title="sap-calculator",this.maxTurns=71,this.turns=0,this.attackCount=0,this.battleStarted=!1,this.simulationBattleAmt=1e3,this.playerWinner=0,this.opponentWinner=0,this.draw=0,this.battles=[],this.simulated=!1,this.previousPackPlayer=null,this.previousPackOpponent=null,this.dayNight=!0,this.api=!1,this.apiResponse=null,this.isLoadedFromUrl=!1,cc.setInjector(this.injector),this.player=new NG(e,s,a),this.opponent=new NG(e,s,a),this.gameService.init(this.player,this.opponent),this.petService.init(),this.initFormGroup();const f=new URLSearchParams(window.location.search).get("code");if(f){this.api=!0;try{const y=JSON.parse(decodeURIComponent(f));this.loadCalculatorFromValue(y),this.simulate(),this.buildApiResponse()}catch(y){console.error("Error parsing API data from URL:",y),this.apiResponse=JSON.stringify({error:"Invalid or corrupted data provided in the URL."})}}}buildApiResponse(){this.apiResponse=JSON.stringify({playerWins:this.playerWinner,opponentWins:this.opponentWinner,draws:this.draw},null)}printFormGroup(){console.log(this.formGroup)}ngOnInit(){this.isLoadedFromUrl=this.loadStateFromUrl(!0),this.isLoadedFromUrl||this.loadLocalStorage(),this.initApp(),this.initGameApi(),this.setDayNight(),this.toys=this.toyService.toys}loadStateFromUrl(e=!1){const s=new URLSearchParams(window.location.search).get("c");if(s)try{let a;const r=decodeURIComponent(s);if(r.trim().startsWith("{")){const l=CS(JSON.parse(r));a=JSON.stringify(l)}else{const o=atob(s),l=decodeURIComponent(o),d=CS(JSON.parse(l));a=JSON.stringify(d)}return this.import(a),console.log("Calculator state loaded from URL."),!0}catch(a){return console.error("Failed to parse calculator state from URL.",a),alert("Could not load the shared calculator link. The data may be corrupted."),!1}return!1}ngAfterViewInit(){this.isLoadedFromUrl&&this.petSelectors.forEach(e=>{e.fixLoadEquipment()}),this.api||this.initModals()}loadLocalStorage(){if(this.localStorageService.getStorage())try{let i=JSON.parse(this.localStorageService.getStorage());this.loadCalculatorFromValue(i)}catch(i){console.log("error loading local storage",i),this.localStorageService.clearStorage()}}loadCalculatorFromValue(e){const i={playerPack:"Turtle",opponentPack:"Turtle",playerToy:null,playerToyLevel:"1",opponentToy:null,opponentToyLevel:"1",turn:11,playerGoldSpent:10,opponentGoldSpent:10,playerRollAmount:4,opponentRollAmount:4,playerSummonedAmount:0,opponentSummonedAmount:0,playerTransformationAmount:0,opponentTransformationAmount:0,playerLevel3Sold:0,opponentLevel3Sold:0,playerPets:Array(5).fill(null),opponentPets:Array(5).fill(null),angler:!1,allPets:!1,logFilter:null,fontSize:13,customPacks:[],oldStork:!1,tokenPets:!1,komodoShuffle:!1,mana:!1,showAdvanced:!1,ailmentEquipment:!1},s=Object.assign(Object.assign({},i),e);this.formGroup.patchValue(s,{emitEvent:!1});let a=e.customPacks;e.customPacks=[],this.loadCustomPacks(a),this.formGroup.patchValue(e,{emitEvent:!1}),setTimeout(()=>{this.fixCustomPackSelect()}),this.gameService.gameApi.oldStork=this.formGroup.get("oldStork").value,this.gameService.gameApi.komodoShuffle=this.formGroup.get("komodoShuffle").value,this.gameService.gameApi.mana=this.formGroup.get("mana").value,this.gameService.gameApi.playerRollAmount=this.formGroup.get("playerRollAmount").value,this.gameService.gameApi.opponentRollAmount=this.formGroup.get("opponentRollAmount").value,this.gameService.gameApi.playerLevel3Sold=this.formGroup.get("playerLevel3Sold").value,this.gameService.gameApi.opponentLevel3Sold=this.formGroup.get("opponentLevel3Sold").value,this.gameService.gameApi.playerSummonedAmount=this.formGroup.get("playerSummonedAmount").value,this.gameService.gameApi.opponentSummonedAmount=this.formGroup.get("opponentSummonedAmount").value,this.gameService.gameApi.playerTransformationAmount=this.formGroup.get("playerTransformationAmount").value,this.gameService.gameApi.opponentTransformationAmount=this.formGroup.get("opponentTransformationAmount").value,this.gameService.gameApi.day=this.dayNight,this.gameService.gameApi.turnNumber=this.formGroup.get("turn").value}setDayNight(){let i=this.formGroup.get("turn").value%2==1;this.dayNight=i,this.gameService.gameApi.day=i}fixCustomPackSelect(){this.formGroup.get("playerPack").setValue(this.formGroup.get("playerPack").value,{emitEvent:!1}),this.formGroup.get("opponentPack").setValue(this.formGroup.get("opponentPack").value,{emitEvent:!1})}initApp(){this.petService.buildCustomPackPets(this.formGroup.get("customPacks")),this.setFontSize(),this.initPlayerPets(),this.updatePlayerPack(this.player,this.formGroup.get("playerPack").value,!1),this.updatePlayerPack(this.opponent,this.formGroup.get("opponentPack").value,!1),this.updatePlayerToy(this.player,this.formGroup.get("playerToy").value),this.updatePlayerToy(this.opponent,this.formGroup.get("opponentToy").value),this.previousPackOpponent=this.opponent.pack,this.previousPackPlayer=this.player.pack}initGameApi(){this.gameService.gameApi.day=this.dayNight,this.gameService.gameApi.oldStork=this.formGroup.get("oldStork").value,this.gameService.gameApi.komodoShuffle=this.formGroup.get("komodoShuffle").value,this.gameService.gameApi.mana=this.formGroup.get("mana").value,this.gameService.gameApi.playerRollAmount=this.formGroup.get("playerRollAmount").value,this.gameService.gameApi.opponentRollAmount=this.formGroup.get("opponentRollAmount").value,this.gameService.gameApi.playerLevel3Sold=this.formGroup.get("playerLevel3Sold").value,this.gameService.gameApi.opponentLevel3Sold=this.formGroup.get("opponentLevel3Sold").value,this.gameService.gameApi.playerSummonedAmount=this.formGroup.get("playerSummonedAmount").value,this.gameService.gameApi.opponentSummonedAmount=this.formGroup.get("opponentSummonedAmount").value,this.gameService.gameApi.playerTransformationAmount=this.formGroup.get("playerTransformationAmount").value,this.gameService.gameApi.opponentTransformationAmount=this.formGroup.get("opponentTransformationAmount").value}loadCustomPacks(e){let i=this.formGroup.get("customPacks");i.clear();for(let s of e){let a=Nee(s);i.push(a)}}initPlayerPets(){for(let e=0;e<5;e++){let i=this.formGroup.get("playerPets").controls[e];if(null==i.get("name").value)continue;let s=this.petService.createPet(i.value,this.player);this.player.setPet(e,s,!0)}for(let e=0;e<5;e++){let i=this.formGroup.get("opponentPets").controls[e];if(null==i.get("name").value)continue;let s=this.petService.createPet(i.value,this.opponent);this.opponent.setPet(e,s,!0)}}randomizePlayerPets(e){for(let i=0;i<5;i++)e.setPet(i,this.petService.getRandomPet(e),!0)}makeFormGroup(e){return e}initFormGroup(){var e,i,s,a,r,o;this.updatePreviousShopTier(11),this.updateGoldSpent(10,10),this.formGroup=new ki({playerPack:new se(this.player.pack),opponentPack:new se(this.opponent.pack),playerToy:new se(null===(e=this.player.toy)||void 0===e?void 0:e.name),playerToyLevel:new se(null!==(s=null===(i=this.player.toy)||void 0===i?void 0:i.level)&&void 0!==s?s:1),opponentToy:new se(null===(a=this.opponent.toy)||void 0===a?void 0:a.name),opponentToyLevel:new se(null!==(o=null===(r=this.opponent.toy)||void 0===r?void 0:r.level)&&void 0!==o?o:1),turn:new se(11),playerGoldSpent:new se(10),opponentGoldSpent:new se(10),angler:new se(!1),allPets:new se(!1),logFilter:new se(null),playerPets:new Jv([]),opponentPets:new Jv([]),fontSize:new se(13),customPacks:new Jv([]),oldStork:new se(!1),tokenPets:new se(!1),komodoShuffle:new se(!1),mana:new se(!1),triggersConsumed:new se(!1),playerRollAmount:new se(4),opponentRollAmount:new se(4),playerLevel3Sold:new se(0),opponentLevel3Sold:new se(0),playerSummonedAmount:new se(0),opponentSummonedAmount:new se(0),playerTransformationAmount:new se(0),opponentTransformationAmount:new se(0),showAdvanced:new se(!1),ailmentEquipment:new se(!1)}),this.initPetForms(),this.formGroup.get("playerPack").valueChanges.subscribe(f=>{if(null!=f){if("Add Custom Pack"==f)return void this.openCustomPackEditor();this.previousPackPlayer=f,this.updatePlayerPack(this.player,f)}}),this.formGroup.get("opponentPack").valueChanges.subscribe(f=>{if(null!=f){if("Add Custom Pack"==f)return void this.openCustomPackEditor();this.previousPackOpponent=f,this.updatePlayerPack(this.opponent,f)}}),this.formGroup.get("playerToy").valueChanges.subscribe(f=>{this.updatePlayerToy(this.player,f)}),this.formGroup.get("opponentToy").valueChanges.subscribe(f=>{this.updatePlayerToy(this.opponent,f)}),this.formGroup.get("playerToyLevel").valueChanges.subscribe(f=>{this.updateToyLevel(this.player,f)}),this.formGroup.get("opponentToyLevel").valueChanges.subscribe(f=>{this.updateToyLevel(this.opponent,f)}),this.formGroup.get("turn").valueChanges.subscribe(f=>{this.updatePreviousShopTier(f),this.setDayNight()}),this.formGroup.get("playerGoldSpent").valueChanges.subscribe(f=>{this.updateGoldSpent(f,null)}),this.formGroup.get("opponentGoldSpent").valueChanges.subscribe(f=>{this.updateGoldSpent(null,f)}),this.formGroup.get("angler").valueChanges.subscribe(f=>{setTimeout(()=>{this.updateSelectorPets()})}),this.formGroup.get("oldStork").valueChanges.subscribe(f=>{this.gameService.gameApi.oldStork=f}),this.formGroup.get("komodoShuffle").valueChanges.subscribe(f=>{this.gameService.gameApi.komodoShuffle=f}),this.formGroup.get("mana").valueChanges.subscribe(f=>{this.gameService.gameApi.mana=f}),this.formGroup.get("playerRollAmount").valueChanges.subscribe(f=>{this.gameService.gameApi.playerRollAmount=f,console.log("playerRollAmount",f)}),this.formGroup.get("opponentRollAmount").valueChanges.subscribe(f=>{this.gameService.gameApi.opponentRollAmount=f,console.log("opponentRollAmount",f)}),this.formGroup.get("playerLevel3Sold").valueChanges.subscribe(f=>{this.gameService.gameApi.playerLevel3Sold=f}),this.formGroup.get("opponentLevel3Sold").valueChanges.subscribe(f=>{this.gameService.gameApi.opponentLevel3Sold=f}),this.formGroup.get("playerSummonedAmount").valueChanges.subscribe(f=>{this.gameService.gameApi.playerSummonedAmount=f}),this.formGroup.get("opponentSummonedAmount").valueChanges.subscribe(f=>{this.gameService.gameApi.opponentSummonedAmount=f}),this.formGroup.get("playerTransformationAmount").valueChanges.subscribe(f=>{this.gameService.gameApi.playerTransformationAmount=f}),this.formGroup.get("opponentTransformationAmount").valueChanges.subscribe(f=>{this.gameService.gameApi.opponentTransformationAmount=f})}toggleAdvanced(){let e=this.formGroup.get("showAdvanced").value;this.formGroup.get("showAdvanced").setValue(!e)}initPetForms(){let e=[0,1,2,3,4],i=e.map(o=>{var l,c,d,f,y,b,P,x,D,N,I,U,$,j,W,le,xe,Me,ke,ge;return new ki({name:new se(null===(l=this.player[`pet${o}`])||void 0===l?void 0:l.name),attack:new se(null!==(d=null===(c=this.player[`pet${o}`])||void 0===c?void 0:c.attack)&&void 0!==d?d:0),health:new se(null!==(y=null===(f=this.player[`pet${o}`])||void 0===f?void 0:f.health)&&void 0!==y?y:0),exp:new se(null!==(P=null===(b=this.player[`pet${o}`])||void 0===b?void 0:b.exp)&&void 0!==P?P:0),equipment:new se(null===(x=this.player[`pet${o}`])||void 0===x?void 0:x.equipment),belugaSwallowedPet:new se(null===(D=this.player[`pet${o}`])||void 0===D?void 0:D.belugaSwallowedPet),mana:new se(null!==(I=null===(N=this.player[`pet${o}`])||void 0===N?void 0:N.mana)&&void 0!==I?I:0),triggersConsumed:new se(null!==($=null===(U=this.player[`pet${o}`])||void 0===U?void 0:U.triggersConsumed)&&void 0!==$?$:0),abominationSwallowedPet1:new se(null===(j=this.player[`pet${o}`])||void 0===j?void 0:j.abominationSwallowedPet1),abominationSwallowedPet2:new se(null===(W=this.player[`pet${o}`])||void 0===W?void 0:W.abominationSwallowedPet2),abominationSwallowedPet3:new se(null===(le=this.player[`pet${o}`])||void 0===le?void 0:le.abominationSwallowedPet3),battlesFought:new se(null!==(Me=null===(xe=this.player[`pet${o}`])||void 0===xe?void 0:xe.battlesFought)&&void 0!==Me?Me:0),timesHurt:new se(null!==(ge=null===(ke=this.player[`pet${o}`])||void 0===ke?void 0:ke.timesHurt)&&void 0!==ge?ge:0)})}),s=this.formGroup.get("playerPets");s.clear();for(let o of i)s.push(o);let a=e.map(o=>{var l,c,d,f,y,b,P,x,D,N,I,U,$,j,W,le,xe,Me,ke,ge;return new ki({name:new se(null===(l=this.opponent[`pet${o}`])||void 0===l?void 0:l.name),attack:new se(null!==(d=null===(c=this.opponent[`pet${o}`])||void 0===c?void 0:c.attack)&&void 0!==d?d:0),health:new se(null!==(y=null===(f=this.opponent[`pet${o}`])||void 0===f?void 0:f.health)&&void 0!==y?y:0),exp:new se(null!==(P=null===(b=this.opponent[`pet${o}`])||void 0===b?void 0:b.exp)&&void 0!==P?P:0),equipment:new se(null===(x=this.opponent[`pet${o}`])||void 0===x?void 0:x.equipment),belugaSwallowedPet:new se(null===(D=this.opponent[`pet${o}`])||void 0===D?void 0:D.belugaSwallowedPet),mana:new se(null!==(I=null===(N=this.opponent[`pet${o}`])||void 0===N?void 0:N.mana)&&void 0!==I?I:0),triggersConsumed:new se(null!==($=null===(U=this.opponent[`pet${o}`])||void 0===U?void 0:U.triggersConsumed)&&void 0!==$?$:0),abominationSwallowedPet1:new se(null===(j=this.opponent[`pet${o}`])||void 0===j?void 0:j.abominationSwallowedPet1),abominationSwallowedPet2:new se(null===(W=this.opponent[`pet${o}`])||void 0===W?void 0:W.abominationSwallowedPet2),abominationSwallowedPet3:new se(null===(le=this.opponent[`pet${o}`])||void 0===le?void 0:le.abominationSwallowedPet3),battlesFought:new se(null!==(Me=null===(xe=this.opponent[`pet${o}`])||void 0===xe?void 0:xe.battlesFought)&&void 0!==Me?Me:0),timesHurt:new se(null!==(ge=null===(ke=this.opponent[`pet${o}`])||void 0===ke?void 0:ke.timesHurt)&&void 0!==ge?ge:0)})}),r=this.formGroup.get("opponentPets");r.clear();for(let o of a)r.push(o)}getPlayerPetsFormArray(){return Array.from(this.formGroup.get("playerPets").controls).reverse()}getOpponentPetsFormArray(){return Array.from(this.formGroup.get("opponentPets").controls)}updatePlayerPack(e,i,s=!0){let a;switch(e.pack=i,i){case"Turtle":a=this.petService.turtlePackPets;break;case"Puppy":a=this.petService.puppyPackPets;break;case"Star":a=this.petService.starPackPets;break;case"Golden":a=this.petService.goldenPackPets;break;case"Unicorn":a=this.petService.unicornPackPets;break;case"Danger":a=this.petService.dangerPackPets;break;default:a=this.petService.playerCustomPackPets.get(i)}e==this.player?this.gameService.setTierGroupPets(a,null):this.gameService.setTierGroupPets(null,a),this.formGroup.get("allPets")}updateSelectorPets(){this.petSelectors.forEach(e=>{e.initPets()})}updatePlayerToy(e,i){let s;e==this.player&&(s="playerToyLevel"),e==this.opponent&&(s="opponentToyLevel");let a=Number(this.formGroup.get(s).value);e.toy=this.toyService.createToy(i,e,a),e.originalToy=e.toy}updatePreviousShopTier(e){let i=1;e>2&&(i=2),e>4&&(i=3),e>6&&(i=4),e>8&&(i=5),e>10&&(i=6),this.gameService.setPreviousShopTier(i),this.gameService.setTurnNumber(e)}updateGoldSpent(e,i){this.gameService.setGoldSpent(e,i)}updateToyLevel(e,i){e.toy&&(e.toy.level=i)}abilityCycle(){for(this.emptyFrontSpaceCheck();this.abilityService.hasGlobalEvents;){const i=this.abilityService.peekNextHighestPriorityEvent();if(i&&this.abilityService.getPriorityNumber(i.abilityType)>=23&&(this.checkPetsAlive(),this.removeDeadPets())){this.emptyFrontSpaceCheck();continue}const s=this.abilityService.getNextHighestPriorityEvent();if(!s){console.error("AbilityCycle: Expected event from queue but got null. Queue state inconsistent.");break}this.abilityService.executeEventCallback(s),this.checkPetsAlive()}this.removeDeadPets()&&this.emptyFrontSpaceCheck(),this.player.checkGoldenSpawn(),this.opponent.checkGoldenSpawn()}checkPetsAlive(){this.player.checkPetsAlive(),this.opponent.checkPetsAlive()}initToys(){var e,i;(null===(e=this.player.toy)||void 0===e?void 0:e.startOfBattle)&&this.toyService.setStartOfBattleEvent({callback:()=>{this.player.toy.startOfBattle(this.gameService.gameApi);let s=this.player.toy.level;for(let a of this.player.petArray)a instanceof mr&&(this.player.toy.level=a.level,this.player.toy.startOfBattle(this.gameService.gameApi,!0),this.player.toy.level=s)},priority:this.player.toy.tier}),(null===(i=this.opponent.toy)||void 0===i?void 0:i.startOfBattle)&&this.toyService.setStartOfBattleEvent({callback:()=>{this.opponent.toy.startOfBattle(this.gameService.gameApi);let s=this.opponent.toy.level;for(let a of this.opponent.petArray)a instanceof mr&&(this.opponent.toy.level=a.level,this.opponent.toy.startOfBattle(this.gameService.gameApi,!0),this.opponent.toy.level=s)},priority:this.opponent.toy.tier})}simulate(){try{this.runSimulation()}catch(e){console.error(e),window.alert("Something went wrong, please send a bug report.")}}runSimulation(){this.localStorageService.setFormStorage(this.formGroup),this.resetSimulation();for(let e=0;e<this.simulationBattleAmt;e++){this.initBattle(),this.startBattle(),this.initToys(),this.gameService.gameApi.FirstNonJumpAttackHappened=!1,this.abilityService.initSpecialEndTurnAbility(this.player),this.abilityService.initSpecialEndTurnAbility(this.opponent),this.initializeEquipmentMultipliers(),this.abilityService.triggerBeforeStartOfBattleEvents(),this.abilityService.executeBeforeStartOfBattleEvents(),this.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);this.toyService.executeStartOfBattleEvents(),this.abilityService.triggerStartBattleEvents(),this.abilityService.executeStartBattleEvents(),this.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);for(;this.battleStarted;)this.nextTurn();this.reset()}this.simulated=!0}removeDeadPets(){let e=!1;return e=this.player.removeDeadPets(),e=this.opponent.removeDeadPets()||e,e}emptyFrontSpaceCheck(){null==this.player.pet0&&this.abilityService.triggerEmptyFrontSpaceEvents(this.player),null==this.opponent.pet0&&this.abilityService.triggerEmptyFrontSpaceEvents(this.opponent),null==this.player.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.player),null==this.opponent.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.opponent),this.abilityService.executeEmptyFrontSpaceToyEvents()}startBattle(){this.reset(),this.battleStarted=!0,this.turns=0}resetSimulation(){this.playerWinner=0,this.opponentWinner=0,this.viewBattle=null,this.draw=0,this.battles=[],this.currBattle=null}initBattle(){this.logService.reset(),this.currBattle={winner:"draw",logs:this.logs},this.battles.push(this.currBattle),this.gameService.gameApi.opponentSummonedAmount=this.formGroup.get("opponentSummonedAmount").value,this.gameService.gameApi.playerSummonedAmount=this.formGroup.get("playerSummonedAmount").value,this.gameService.gameApi.opponentTransformationAmount=this.formGroup.get("opponentTransformationAmount").value,this.gameService.gameApi.playerTransformationAmount=this.formGroup.get("playerTransformationAmount").value}reset(){this.player.resetPets(),this.opponent.resetPets()}nextTurn(){let e=!1,i=null;if(this.turns++,!this.player.alive()&&this.opponent.alive()&&(i=this.opponent,this.currBattle.winner="opponent",this.opponentWinner++,e=!0),!this.opponent.alive()&&this.player.alive()&&(i=this.player,this.currBattle.winner="player",this.playerWinner++,e=!0),this.opponent.alive()||this.player.alive()?this.turns>=this.maxTurns&&(this.draw++,e=!0):(this.draw++,e=!0),e)return this.logService.printState(this.player,this.opponent),this.endLog(i),void(this.battleStarted=!1);for(this.pushPetsForwards(),this.logService.printState(this.player,this.opponent),this.gameService.gameApi.FirstNonJumpAttackHappened=!0;;){let s=this.player.pet0,a=this.opponent.pet0;this.abilityService.triggerBeforeAttackEvent(this.player.pet0),this.abilityService.triggerBeforeAttackEvent(this.opponent.pet0),this.abilityService.executeBeforeAttackEvents(),this.player.checkPetsAlive(),this.opponent.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);if(!this.player.alive()||!this.opponent.alive())return;if(this.pushPetsForwards(),s.transformed&&(s=s.transformedInto),a.transformed&&(a=a.transformedInto),this.player.pet0==s&&this.opponent.pet0==a)break}this.player.resetJumpedFlags(),this.opponent.resetJumpedFlags(),this.fight(),this.player.checkPetsAlive(),this.opponent.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents)}chocolateCakePresent(){var e,i;let s={player:!1,opponent:!1,cake:!1};return s.player=(null===(e=this.player.pet0)||void 0===e?void 0:e.equipment)instanceof Ex,s.opponent=(null===(i=this.opponent.pet0)||void 0===i?void 0:i.equipment)instanceof Ex,s.cake=s.player||s.opponent,s}doChocolateCakeEvents(e){let i=[];e.player&&i.push(this.player.pet0),e.opponent&&i.push(this.opponent.pet0),i=(0,Gt.shuffle)(i),i.sort((s,a)=>s.attack<a.attack?1:a.attack<s.attack?-1:0);for(let s of i)s.equipment.callback(s)}executeBeforeStartOfBattleEquipment(e){for(let i of e.petArray){let s=i.equipment.multiplier,a=i.equipment.multiplierMessage;for(let r=0;r<s;r++){if(i.equipment instanceof qG&&(i.increaseAttack(4),i.increaseHealth(4),this.logService.createLog({message:`${i.name} gained 4 attack and 4 health (Pie)${a}`,type:"equipment",player:e})),i.equipment instanceof UG&&i.parent.gainTrumpets(2*s,i,!1,s,!0),i.equipment instanceof GG)for(let o of e.petArray)i!=o&&(o.increaseAttack(2),o.increaseHealth(2),this.logService.createLog({message:`${o.name} gained 2 attack and 2 health (Pancake)${a}`,type:"equipment",player:e}));i.equipment instanceof jG&&i.equipment.callback(i),i.equipment instanceof WG&&i.equipment.callback(i),i.equipment instanceof zG&&i.equipment.callback(i)}}}pushPetsForwards(){this.player.pushPetsForward(),this.opponent.pushPetsForward()}fight(){let e=this.player.pet0,i=this.opponent.pet0;e.attackPet(i),i.attackPet(e),e.useAttackDefenseEquipment(),i.useAttackDefenseEquipment(),this.player.checkPetsAlive(),this.opponent.checkPetsAlive(),this.abilityService.executeAfterAttackEvents()}endLog(e){let i;i=null==e?"Draw":e==this.player?"Player is the winner":"Opponent is the winner",this.logService.createLog({message:i,type:"board"})}get logs(){return this.logService.getLogs()}setViewBattle(e){this.viewBattle=e}getViewBattleLogs(){var e,i;return null!==(i=null===(e=this.viewBattle)||void 0===e?void 0:e.logs)&&void 0!==i?i:[]}getDrawWidth(){return`${this.losePercent+this.drawPercent}%`}getLoseWidth(){return`${this.losePercent}%`}getPlayerClass(e){return null==e.player?"log":e.player==this.player?"log-player":"log-opponent"}getRandomEvents(e){let i="",s=e.logs.filter(a=>1==a.randomEvent);for(let a of s)i+=a.message,a!=s[s.length-1]&&(i+="\n");return i}randomize(e){null==e&&!confirm("Are you sure you want to randomize?")||(e?this.randomizePlayerPets(e):(this.randomizePlayerPets(this.player),this.randomizePlayerPets(this.opponent)),this.formGroup&&this.initPetForms(),setTimeout(()=>{this.petSelectors.forEach(i=>{i.initSelector()})}))}zoomIn(){this.formGroup.get("fontSize").setValue(Math.min(this.formGroup.get("fontSize").value+1,20)),this.setFontSize()}zoomOut(){this.formGroup.get("fontSize").setValue(Math.max(this.formGroup.get("fontSize").value-1,8)),this.setFontSize()}setFontSize(){document.documentElement.style.fontSize=`${this.formGroup.get("fontSize").value}px`}clearCache(){this.localStorageService.clearStorage(),alert("Cache cleared. Refresh page to see changes.")}initModals(){this.customPackEditorModal=new pc(this.customPackEditor.nativeElement),this.customPackEditor.nativeElement.addEventListener("hidden.bs.modal",e=>{})}openCustomPackEditor(){this.customPackEditorModal.show(),this.formGroup.get("playerPack").setValue(this.previousPackPlayer,{emitEvent:!1}),this.formGroup.get("opponentPack").setValue(this.previousPackOpponent,{emitEvent:!1})}drop(e,i){let s=e.previousIndex,a=e.currentIndex,r=this.opponent;"player"==i&&(s=4-s,a=4-a,r=this.player),T8(this.formGroup.get(`${i}Pets`).controls,s,a);for(let o of this.petSelectors.toArray())o.substitutePet()}resetPlayer(e){if(!confirm(`Are you sure you want to reset ${e}?`))return;let i=this.petSelectors.toArray().slice("player"==e?0:5,"player"==e?5:10);for(let s of i)s.removePet()}export(){this.localStorageService.setFormStorage(this.formGroup);let e=JSON.stringify(this.formGroup.value);navigator.clipboard.writeText(e).then(()=>{alert("Copied to clipboard")})}import(e,i=!1){let s=!1;try{const a=JSON.parse(e);this.loadCalculatorFromValue(a),this.initApp(),i||setTimeout(()=>{this.petSelectors&&this.petSelectors.forEach(r=>{r.fixLoadEquipment()})},0),s=!0}catch(a){console.error(a)}return s}generateShareLink(){this.localStorageService.setFormStorage(this.formGroup);const i=(0,Gt.cloneDeep)(this.formGroup.value),s=[...i.playerPets||[],...i.opponentPets||[]];for(const c of s)c&&(delete c.parent,delete c.logService,delete c.abilityService,delete c.gameService,delete c.petService,c.equipment&&(c.equipment={name:c.equipment.name}));const a=JSON.stringify(i),r=encodeURIComponent(a),l=`${window.location.origin+window.location.pathname}?c=${r}`;navigator.clipboard.writeText(l).then(()=>{alert("Shareable link copied to clipboard!")}).catch(c=>{console.error("Failed to copy link: ",c),alert("Failed to copy link. See console for details.")})}get filteredBattles(){return this.battles.filter(e=>{let i=this.formGroup.get("logFilter").value;return null==i||e.winner==i})}get winPercent(){return eP(this.playerWinner/this.simulationBattleAmt*100)}get drawPercent(){return eP(this.draw/this.simulationBattleAmt*100)}get losePercent(){return eP(this.opponentWinner/this.simulationBattleAmt*100)}get validCustomPacks(){let e=this.formGroup.get("customPacks"),i=[];for(let s of e.controls)s.valid&&i.push(s);return i}initializeEquipmentMultipliers(){for(let e of this.player.petArray)e.equipment&&e.setEquipmentMultiplier();for(let e of this.opponent.petArray)e.equipment&&e.setEquipmentMultiplier()}}return n.\u0275fac=function(e){return new(e||n)(q(bb),q(wt),q(Sb),q(Vf),q(Di),q(Gf),q(JG),q(v3))},n.\u0275cmp=Mn({type:n,selectors:[["app-root"]],viewQuery:function(e,i){if(1&e&&(cv(ghe,5),cv(XG,5)),2&e){let s;tc(s=ic())&&(i.customPackEditor=s.first),tc(s=ic())&&(i.petSelectors=s)}},decls:2,vars:2,consts:[[4,"ngIf"],["id","apiResponse"],[1,"container-fluid","app-wrapper","flex-col",3,"formGroup"],["container",""],[1,"row","mt-2"],[1,"col-12","header"],[1,"d-flex","align-items-end"],[3,"click"],["data-bs-toggle","modal","data-bs-target","#info",1,"btn-link","info-link"],[1,"me-3"],[1,"d-flex","flex-column","align-items-end"],["data-bs-toggle","modal","data-bs-target","#patchNotes",1,"btn-link"],[1,"row","battle-controller","border"],[1,"col-12","d-flex","justify-content-between","py-2"],[1,"d-flex","flex-wrap"],[1,"form-group","min-w-input","me-3"],["for","playerPack"],["id","playerPack","formControlName","playerPack",1,"form-control"],["value","Turtle"],["value","Puppy"],["value","Star"],["value","Golden"],["value","Unicorn"],["value","Danger"],["label","Custom Packs"],[3,"value",4,"ngFor","ngForOf"],["value","Add Custom Pack"],[1,"form-group","min-w-input","pe-3","border-end"],["id","opponentPack","formControlName","opponentPack",1,"form-control"],[1,"form-group","min-w-input","mx-3"],["id","playerToy","formControlName","playerToy",1,"form-control"],[3,"ngValue"],[3,"label",4,"ngFor","ngForOf"],[1,"form-group","me-3"],["for","playerToyLevel"],["id","playerToyLevel","formControlName","playerToyLevel",1,"form-control"],["id","opponentToy","formControlName","opponentToy",1,"form-control"],["for","opponentToyLevel"],["id","opponentToyLevel","formControlName","opponentToyLevel",1,"form-control"],[1,"form-group","pe-3","d-flex","align-items-end","border-end"],[1,"btn-link",3,"click"],[1,"flex-column"],["title","Opponent's pack pets are included in the pet pool.",1,"form-check","ms-3"],["type","checkbox","value","","id","angler","formControlName","angler",1,"form-check-input"],["for","angler",1,"form-check-label"],["title","All pets are included in the pet pool.",1,"form-check","ms-3"],["type","checkbox","value","","id","allPets","formControlName","allPets",1,"form-check-input"],["for","allPets",1,"form-check-label"],["title","Stork spawns with base stats.",1,"form-check","ms-3"],["type","checkbox","value","","id","oldStork","formControlName","oldStork",1,"form-check-input"],["for","oldStork",1,"form-check-label"],["title","Include Token Pets in pet pool.",1,"form-check","ms-3"],["type","checkbox","value","","id","oldStork","formControlName","tokenPets",1,"form-check-input"],["for","tokenPets",1,"form-check-label"],["title","Shuffle pets in front of Komodo if present.",1,"form-check","ms-3"],["type","checkbox","value","","id","komodoShuffle","formControlName","komodoShuffle",1,"form-check-input"],["for","komodoShuffle",1,"form-check-label"],[1,"d-flex"],["title","Include Mana.",1,"form-check","ms-3"],["type","checkbox","value","","id","mana","formControlName","mana",1,"form-check-input"],["for","mana",1,"form-check-label"],["title","Include Triggers Consumed.",1,"form-check","ms-3"],["type","checkbox","value","","id","triggersConsumed","formControlName","triggersConsumed",1,"form-check-input"],["for","triggersConsumed",1,"form-check-label"],["title","Include Ailments for Equipment Options.",1,"form-check","ms-3"],["type","checkbox","value","","id","ailmentEquipment","formControlName","ailmentEquipment",1,"form-check-input"],["for","ailmentEquipment",1,"form-check-label"],[1,"flex-col","zoom-container"],["for","zoom"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"btn","btn-secondary",3,"click"],["class","row battle-controller border",4,"ngIf"],[1,"row","day-night-container"],[1,"col-12"],[1,"row","battle-row","pb-5","pt-3"],[1,"col-12","col-xl-6","px-4","mb-2","mb-xl-0"],[1,"d-flex","justify-content-between"],[1,"me-4"],[1,"btn","btn-secondary","mb-1",3,"click"],[1,"card","p-2","player-card"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"row","row-cols-1","row-cols-md-5",3,"cdkDropListDropped"],["class","col drag-container mb-2 mb-md-0","cdkDrag","",4,"ngFor","ngForOf"],[1,"col-12","col-xl-6","px-4"],[1,"card","p-2","player-card","ml-auto"],["class","col drag-container mb-2 mb-sm-0","cdkDrag","",4,"ngFor","ngForOf"],[1,"row","button-bar","pt-3","pb-1","border"],[1,"col-12","d-flex","justify-content-between"],[1,"btn","btn-primary","me-2","mb-2",3,"click"],["data-bs-toggle","modal","data-bs-target","#reportABug",1,"btn","btn-secondary","me-2","mb-2"],["data-bs-toggle","modal","data-bs-target","#export",1,"btn","btn-secondary","me-2","mb-2"],["data-bs-toggle","modal","data-bs-target","#import",1,"btn","btn-secondary","mb-2"],["class","row",4,"ngIf"],[1,"row","flex-1","bottom-container"],[1,"col-12","col-md-6","border","h-100","flex-col","pe-0"],[1,"row"],["for","logFilter",1,"form-label"],[1,"form-check","form-check-inline"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio1",1,"form-check-input",3,"value"],["for","inlineRadio1",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio2","value","player",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio3","value","opponent",1,"form-check-input"],["for","inlineRadio3",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio4","value","draw",1,"form-check-input"],["for","inlineRadio4",1,"form-check-label"],[1,"battle-container","flex-1","scroll"],[1,"table"],[1,"battle-no"],["class","table-battle-row",3,"click",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","border","h-100","flex-col"],[1,"row","log-container","flex-1","scroll"],["class","col-12",4,"ngFor","ngForOf"],["id","patchNotes","tabindex","-1","aria-labelledby","patchNotesLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","patchNotesLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["id","customPackEditor","tabindex","-1","aria-labelledby","customPackEditorLabel","aria-hidden","true",1,"modal","fade"],["customPackEditor",""],[1,"modal-dialog","modal-lg"],["id","customPackEditorLabel",1,"modal-title","fs-5"],[3,"formGroup"],["id","info","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5"],["id","import","tabindex","-1","aria-labelledby","importModalLabel","aria-hidden","true",1,"modal","fade"],["id","importModalLabel",1,"modal-title","fs-5"],[3,"importFunc"],["id","export","tabindex","-1","aria-labelledby","exportModalLabel","aria-hidden","true",1,"modal","fade"],["id","exportModalLabel",1,"modal-title","fs-5"],["id","reportABug","tabindex","-1","aria-labelledby","reportABug","aria-hidden","true",1,"modal","fade"],["id","reportABug",1,"modal-title","fs-5"],[3,"calcFormGroup"],[3,"value"],[3,"label"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"border-end","d-flex","flex-wrap","pe-3"],[1,"form-group","small-w-input","me-s-3"],["for","turn"],["id","turn","type","number","formControlName","turn","max","99",1,"form-control"],[1,"form-group","advanced-input","ms-3"],["for","playerGoldSpent","title","Player Gold Spent"],["id","turn","type","number","formControlName","playerGoldSpent","max","99",1,"form-control"],["for","opponentGoldSpent","title","Opponent Gold Spent"],["id","turn","type","number","formControlName","opponentGoldSpent","max","99",1,"form-control"],["for","playerRollAmount","title","Player Roll Amount"],["id","turn","type","number","formControlName","playerRollAmount","max","99",1,"form-control"],["for","opponentRollAmount","title","Opponent Roll Amount"],["id","turn","type","number","formControlName","opponentRollAmount","max","99",1,"form-control"],["for","playerLevel3Sold","title","Player Level 3 Sold"],["id","turn","type","number","formControlName","playerLevel3Sold","max","99",1,"form-control"],["for","opponentLevel3Sold","title","Opponent Level 3 Sold"],["id","turn","type","number","formControlName","opponentLevel3Sold","max","99",1,"form-control"],["for","playerSummonedAmount","title","Player Summoned Amount"],["id","turn","type","number","formControlName","playerSummonedAmount","max","99",1,"form-control"],["for","opponentSummonedAmount","title","Opponent Summoned Amount"],["id","turn","type","number","formControlName","opponentSummonedAmount","max","99",1,"form-control"],["for","playerTransformationAmount","title","Player Transformation Amount"],["id","turn","type","number","formControlName","playerTransformationAmount","max","99",1,"form-control"],["for","opponentTransformationAmount","title","Opponent Transformation Amount"],["id","turn","type","number","formControlName","opponentTransformationAmount","max","99",1,"form-control"],["cdkDrag","",1,"col","drag-container","mb-2","mb-md-0"],["cdkDragHandle","",1,"drag-handle"],["fill","currentColor","viewBox","0 0 24 24"],["d","M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"],["d","M0 0h24v24H0z","fill","none"],[3,"pet","player","opponent","index","formGroup","angler","ailments","allPets","mana","triggersConsumed","showTokenPets","customPacks"],["cdkDrag","",1,"col","drag-container","mb-2","mb-sm-0"],[1,"col-12","stats"],[1,"col-12","py-2"],[1,"results-bar"],[1,"draw-bar"],[1,"lose-bar"],[1,"table-battle-row",3,"click"],[1,"pre"],[3,"ngClass"]],template:function(e,i){1&e&&(_e(0,fhe,3,1,"ng-container",0),_e(1,xhe,286,27,"ng-container",0)),2&e&&(Y("ngIf",i.api),V(1),Y("ngIf",!i.api))},directives:[dh,lc,Va,Df,oc,$o,VC,HC,wf,Gv,vue,$a,NC,Tue,Uue,jue,Wue,zue,dhe,Zv,Xv,_ue,bue,XG,sC],pipes:[oC],styles:[".app-wrapper[_ngcontent-%COMP%]{height:100vh}.day-night-container[_ngcontent-%COMP%]{min-height:1em}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:end}.flex-col[_ngcontent-%COMP%]{display:flex;flex-direction:column}.player-card[_ngcontent-%COMP%]{background-color:#e9c137;display:grid;grid-auto-rows:minmax(min-content,max-content);grid-template-columns:auto 1fr auto}.back[_ngcontent-%COMP%], .front[_ngcontent-%COMP%]{transform:rotate(180deg);writing-mode:vertical-lr;text-align:center}.battle-row[_ngcontent-%COMP%]{background-color:#5ebe09}.button-bar[_ngcontent-%COMP%], .battle-controller[_ngcontent-%COMP%]{background-color:#f5f5f5}.battle-controller[_ngcontent-%COMP%]   .min-w-input[_ngcontent-%COMP%]{min-width:100px}.small-w-input[_ngcontent-%COMP%]{width:60px}.stats[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:.25em}.stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:1em}.battle-no[_ngcontent-%COMP%]{width:1%;white-space:nowrap}.table-battle-row[_ngcontent-%COMP%]{cursor:pointer}.results-bar[_ngcontent-%COMP%], .draw-bar[_ngcontent-%COMP%], .lose-bar[_ngcontent-%COMP%]{display:inline-block}.draw-bar[_ngcontent-%COMP%], .lose-bar[_ngcontent-%COMP%]{height:100%;position:absolute;right:0}.results-bar[_ngcontent-%COMP%]{max-width:100%;border:.2em solid black;height:2em;width:30em;background-color:#0f0;position:relative}.draw-bar[_ngcontent-%COMP%]{background-color:#d3d3d3}.lose-bar[_ngcontent-%COMP%]{background-color:red}.log-player[_ngcontent-%COMP%]{background-color:#e4ffe0}.log-opponent[_ngcontent-%COMP%]{background-color:#ffe0e0}.log-container[_ngcontent-%COMP%]{display:flex;align-content:flex-start}.random-event[_ngcontent-%COMP%]{color:purple;font-weight:bold}.flex-1[_ngcontent-%COMP%]{flex:1}.bottom-container[_ngcontent-%COMP%]{min-height:30em}.bottom-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{min-height:15em}.scroll[_ngcontent-%COMP%]{overflow:scroll}.h-100[_ngcontent-%COMP%]{height:100%}.pre[_ngcontent-%COMP%]{white-space:pre}.btn-link[_ngcontent-%COMP%]{color:#0d6efd;cursor:pointer}.zoom-container[_ngcontent-%COMP%]{min-width:max-content}.zoom-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:2.5em}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.drag-container[_ngcontent-%COMP%]{position:relative}.drag-handle[_ngcontent-%COMP%]{width:1.25em;position:absolute;right:1em;z-index:1;opacity:.5;cursor:pointer}.info-link[_ngcontent-%COMP%]{margin-left:1em;margin-bottom:.5em}@media (max-width: 767.98px){.card[_ngcontent-%COMP%]{max-width:18em}.back[_ngcontent-%COMP%], .front[_ngcontent-%COMP%]{transform:initial;writing-mode:initial}.player-card[_ngcontent-%COMP%]{grid-template-columns:none}}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.bug-button[_ngcontent-%COMP%]{margin-right:.5em;margin-bottom:.25em}.advanced-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:60px}"],data:{animation:[Eue("dayNight",[G8("day",AS({backgroundColor:"#85ddf2"})),G8("night",AS({backgroundColor:"#33377a"})),Pue("day <=> night",[Cue("0.5s")])])]}}),n})();function s7(){return"undefined"!=typeof window&&void 0!==window.document}function C3(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Jo(n){switch(n.length){case 0:return new Vh;case 1:return n[0];default:return new U8(n)}}function r7(n,t,e,i,s={},a={}){const r=[],o=[];let l=-1,c=null;if(i.forEach(d=>{const f=d.offset,y=f==l,b=y&&c||{};Object.keys(d).forEach(P=>{let x=P,D=d[P];if("offset"!==P)switch(x=t.normalizePropertyName(x,r),D){case"!":D=s[P];break;case ja:D=a[P];break;default:D=t.normalizeStyleValue(P,x,D,r)}b[x]=D}),y||o.push(b),c=b,l=f}),r.length){const d="\n - ";throw new Error(`Unable to animate due to the following errors:${d}${r.join(d)}`)}return o}function P3(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&T3(e,"start",n)));break;case"done":n.onDone(()=>i(e&&T3(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&T3(e,"destroy",n)))}}function T3(n,t,e){const i=e.totalTime,a=x3(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),r=n._data;return null!=r&&(a._data=r),a}function x3(n,t,e,i,s="",a=0,r){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:s,totalTime:a,disabled:!!r}}function ls(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function a7(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let k3=(n,t)=>!1,D3=(n,t)=>!1,o7=(n,t,e)=>[];const l7=C3();(l7||"undefined"!=typeof Element)&&(k3=s7()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),D3=(()=>{if(l7||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):D3}})(),o7=(n,t,e)=>{let i=[];if(e){const s=n.querySelectorAll(t);for(let a=0;a<s.length;a++)i.push(s[a])}else{const s=n.querySelector(t);s&&i.push(s)}return i});let _c=null,c7=!1;function M3(n){_c||(_c=("undefined"!=typeof document?document.body:null)||{},c7=!!_c.style&&"WebkitAppearance"in _c.style);let t=!0;return _c.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in _c.style,!t&&c7&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in _c.style)),t}const R3=D3,I3=k3,O3=o7;function u7(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let h7=(()=>{class n{validateStyleProperty(e){return M3(e)}matchesElement(e,i){return R3(e,i)}containsElement(e,i){return I3(e,i)}query(e,i,s){return O3(e,i,s)}computeStyle(e,i,s){return s||""}animate(e,i,s,a,r,o=[],l){return new Vh(s,a)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})(),N3=(()=>{class n{}return n.NOOP=new h7,n})();const L3="ng-enter",PS="ng-leave",TS="ng-trigger",xS=".ng-trigger",g7="ng-animating",B3=".ng-animating";function wc(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:$3(parseFloat(t[1]),t[2])}function $3(n,t){return"s"===t?1e3*n:n}function kS(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let s,a=0,r="";if("string"==typeof n){const o=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===o)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};s=$3(parseFloat(o[1]),o[2]);const l=o[3];null!=l&&(a=$3(parseFloat(l),o[4]));const c=o[5];c&&(r=c)}else s=n;if(!e){let o=!1,l=t.length;s<0&&(t.push("Duration values below 0 are not allowed for this animation step."),o=!0),a<0&&(t.push("Delay values below 0 are not allowed for this animation step."),o=!0),o&&t.splice(l,0,`The provided timing value "${n}" is invalid.`)}return{duration:s,delay:a,easing:r}}(n,t,e)}function qh(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Zo(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else qh(n,e);return e}function p7(n,t,e){return e?t+":"+e+";":""}function m7(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=p7(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=p7(0,qhe(e),n.style[e]));n.setAttribute("style",t)}function Kr(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const s=q3(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[s]),n.style[s]=t[i]}),C3()&&m7(n))}function Ac(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=q3(e);n.style[i]=""}),C3()&&m7(n))}function cp(n){return Array.isArray(n)?1==n.length?n[0]:H8(n):n}const V3=new RegExp("{{\\s*(.+?)\\s*}}","g");function y7(n){let t=[];if("string"==typeof n){let e;for(;e=V3.exec(n);)t.push(e[1]);V3.lastIndex=0}return t}function DS(n,t,e){const i=n.toString(),s=i.replace(V3,(a,r)=>{let o=t[r];return t.hasOwnProperty(r)||(e.push(`Please provide a value for the animation param ${r}`),o=""),o.toString()});return s==i?n:s}function MS(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Vhe=/-+([a-z0-9])/g;function q3(n){return n.replace(Vhe,(...t)=>t[1].toUpperCase())}function qhe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function v7(n,t){return 0===n||0===t}function b7(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let a=t[0],r=[];if(i.forEach(o=>{a.hasOwnProperty(o)||r.push(o),a[o]=e[o]}),r.length)for(var s=1;s<t.length;s++){let o=t[s];r.forEach(function(l){o[l]=H3(n,l)})}}return t}function cs(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function H3(n,t){return window.getComputedStyle(n)[t]}function Hhe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,t,e){if(":"==n[0]){const l=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const s=i[1],a=i[2],r=i[3];t.push(S7(s,r));"<"==a[0]&&!("*"==s&&"*"==r)&&t.push(S7(r,s))}(i,e,t)):e.push(n),e}const IS=new Set(["true","1"]),OS=new Set(["false","0"]);function S7(n,t){const e=IS.has(n)||OS.has(n),i=IS.has(t)||OS.has(t);return(s,a)=>{let r="*"==n||n==s,o="*"==t||t==a;return!r&&e&&"boolean"==typeof s&&(r=s?IS.has(n):OS.has(n)),!o&&i&&"boolean"==typeof a&&(o=a?IS.has(t):OS.has(t)),r&&o}}const Uhe=new RegExp("s*:selfs*,?","g");function G3(n,t,e){return new jhe(n).build(t,e)}class jhe{constructor(t){this._driver=t}build(t,e){const i=new Khe(e);return this._resetContextStyleTimingState(i),cs(this,cp(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,s=e.depCount=0;const a=[],r=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(o=>{if(this._resetContextStyleTimingState(e),0==o.type){const l=o,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,a.push(this.visitState(l,e))}),l.name=c}else if(1==o.type){const l=this.visitTransition(o,e);i+=l.queryCount,s+=l.depCount,r.push(l)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:a,transitions:r,queryCount:i,depCount:s,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(i.containsDynamicStyles){const a=new Set,r=s||{};if(i.styles.forEach(o=>{if(NS(o)){const l=o;Object.keys(l).forEach(c=>{y7(l[c]).forEach(d=>{r.hasOwnProperty(d)||a.add(d)})})}}),a.size){const o=MS(a.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${o.join(", ")}`)}}return{type:0,name:t.name,style:i,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=cs(this,cp(t.animation),e);return{type:1,matchers:Hhe(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Ec(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>cs(this,i,e)),options:Ec(t.options)}}visitGroup(t,e){const i=e.currentTime;let s=0;const a=t.steps.map(r=>{e.currentTime=i;const o=cs(this,r,e);return s=Math.max(s,e.currentTime),o});return e.currentTime=s,{type:3,steps:a,options:Ec(t.options)}}visitAnimate(t,e){const i=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return F3(kS(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=F3(0,0,"");return a.dynamic=!0,a.strValue=i,a}return e=e||kS(i,t),F3(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let s,a=t.styles?t.styles:AS({});if(5==a.type)s=this.visitKeyframes(a,e);else{let r=t.styles,o=!1;if(!r){o=!0;const c={};i.easing&&(c.easing=i.easing),r=AS(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(r,e);l.isEmptyStep=o,s=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(r=>{"string"==typeof r?r==ja?i.push(r):e.errors.push(`The provided style string value ${r} is not allowed.`):i.push(r)}):i.push(t.styles);let s=!1,a=null;return i.forEach(r=>{if(NS(r)){const o=r,l=o.easing;if(l&&(a=l,delete o.easing),!s)for(let c in o)if(o[c].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:i,easing:a,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let s=e.currentTime,a=e.currentTime;i&&a>0&&(a-=i.duration+i.delay),t.styles.forEach(r=>{"string"!=typeof r&&Object.keys(r).forEach(o=>{if(!this._driver.validateStyleProperty(o))return void e.errors.push(`The provided animation property "${o}" is not a supported CSS property for animations`);const l=e.collectedStyles[e.currentQuerySelector],c=l[o];let d=!0;c&&(a!=s&&a>=c.startTime&&s<=c.endTime&&(e.errors.push(`The CSS property "${o}" that exists between the times of "${c.startTime}ms" and "${c.endTime}ms" is also being animated in a parallel animation between the times of "${a}ms" and "${s}ms"`),d=!1),a=c.startTime),d&&(l[o]={startTime:a,endTime:s}),e.options&&function(n,t,e){const i=t.params||{},s=y7(n);s.length&&s.forEach(a=>{i.hasOwnProperty(a)||e.push(`Unable to resolve the local animation param ${a} in the given list of values`)})}(r[o],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let a=0;const r=[];let o=!1,l=!1,c=0;const d=t.steps.map(N=>{const I=this._makeStyleAst(N,e);let U=null!=I.offset?I.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(NS(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(NS(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(I.styles),$=0;return null!=U&&(a++,$=I.offset=U),l=l||$<0||$>1,o=o||$<c,c=$,r.push($),I});l&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const f=t.steps.length;let y=0;a>0&&a<f?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==a&&(y=1/(f-1));const b=f-1,P=e.currentTime,x=e.currentAnimateTimings,D=x.duration;return d.forEach((N,I)=>{const U=y>0?I==b?1:y*I:r[I],$=U*D;e.currentTime=P+x.delay+$,x.duration=$,this._validateStyleAst(N,e),N.offset=U,i.styles.push(N)}),i}visitReference(t,e){return{type:8,animation:cs(this,cp(t.animation),e),options:Ec(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ec(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ec(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[a,r]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Uhe,"")),n=n.replace(/@\*/g,xS).replace(/@\w+/g,e=>xS+"-"+e.substr(1)).replace(/:animating/g,B3),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+a:a,ls(e.collectedStyles,e.currentQuerySelector,{});const o=cs(this,cp(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:a,limit:s.limit||0,optional:!!s.optional,includeSelf:r,animation:o,originalSelector:t.selector,options:Ec(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:kS(t.timings,e.errors,!0);return{type:12,animation:cs(this,cp(t.animation),e),timings:i,options:null}}}class Khe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function NS(n){return!Array.isArray(n)&&"object"==typeof n}function Ec(n){return n?(n=qh(n)).params&&(n.params=function(n){return n?qh(n):null}(n.params)):n={},n}function F3(n,t,e){return{duration:n,delay:t,easing:e}}function U3(n,t,e,i,s,a,r=null,o=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:s,delay:a,totalTime:s+a,easing:r,subTimeline:o}}class LS{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Xhe=new RegExp(":enter","g"),tde=new RegExp(":leave","g");function j3(n,t,e,i,s,a={},r={},o,l,c=[]){return(new ide).buildKeyframes(n,t,e,i,s,a,r,o,l,c)}class ide{buildKeyframes(t,e,i,s,a,r,o,l,c,d=[]){c=c||new LS;const f=new W3(t,e,c,s,a,d,[]);f.options=l,f.currentTimeline.setStyles([r],null,f.errors,l),cs(this,i,f);const y=f.timelines.filter(b=>b.containsAnimation());if(y.length&&Object.keys(o).length){const b=y[y.length-1];b.allowOnlyTimelineStyles()||b.setStyles([o],null,f.errors,l)}return y.length?y.map(b=>b.buildKeyframes()):[U3(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.consume(e.element);if(i){const s=e.createSubContext(t.options),a=e.currentTimeline.currentTime,r=this._visitSubInstructions(i,s,s.options);a!=r&&e.transformIntoNewTimeline(r)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let a=e.currentTimeline.currentTime;const r=null!=i.duration?wc(i.duration):null,o=null!=i.delay?wc(i.delay):null;return 0!==r&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,r,o);a=Math.max(a,c.duration+c.delay)}),a}visitReference(t,e){e.updateOptions(t.options,!0),cs(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let s=e;const a=t.options;if(a&&(a.params||a.delay)&&(s=e.createSubContext(a),s.transformIntoNewTimeline(),null!=a.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=BS);const r=wc(a.delay);s.delayNextStep(r)}t.steps.length&&(t.steps.forEach(r=>cs(this,r,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let s=e.currentTimeline.currentTime;const a=t.options&&t.options.delay?wc(t.options.delay):0;t.steps.forEach(r=>{const o=e.createSubContext(t.options);a&&o.delayNextStep(a),cs(this,r,o),s=Math.max(s,o.currentTimeline.currentTime),i.push(o.currentTimeline)}),i.forEach(r=>e.currentTimeline.mergeTimelineCollectedStyles(r)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return kS(e.params?DS(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),s.snapshotCurrentStyles());const a=t.style;5==a.type?this.visitKeyframes(a,e):(e.incrementTime(i.duration),this.visitStyle(a,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,s=e.currentAnimateTimings;!s&&i.getCurrentStyleProperties().length&&i.forwardFrame();const a=s&&s.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(a):i.setStyles(t.styles,a,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,s=e.currentTimeline.duration,a=i.duration,o=e.createSubContext().currentTimeline;o.easing=i.easing,t.styles.forEach(l=>{o.forwardTime((l.offset||0)*a),o.setStyles(l.styles,l.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(s+a),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,s=t.options||{},a=s.delay?wc(s.delay):0;a&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=BS);let r=i;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=o.length;let l=null;o.forEach((c,d)=>{e.currentQueryIndex=d;const f=e.createSubContext(t.options,c);a&&f.delayNextStep(a),c===e.element&&(l=f.currentTimeline),cs(this,t.animation,f),f.currentTimeline.applyStylesToKeyframe(),r=Math.max(r,f.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(r),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,s=e.currentTimeline,a=t.timings,r=Math.abs(a.duration),o=r*(e.currentQueryTotal-1);let l=r*e.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":l=o-l;break;case"full":l=i.currentStaggerTime}const d=e.currentTimeline;l&&d.delayNextStep(l);const f=d.currentTime;cs(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=s.currentTime-f+(s.startTime-i.currentTimeline.startTime)}}const BS={};class W3{constructor(t,e,i,s,a,r,o,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=a,this.errors=r,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=BS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new $S(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let s=this.options;null!=i.duration&&(s.duration=wc(i.duration)),null!=i.delay&&(s.delay=wc(i.delay));const a=i.params;if(a){let r=s.params;r||(r=this.options.params={}),Object.keys(a).forEach(o=>{(!e||!r.hasOwnProperty(o))&&(r[o]=DS(a[o],r,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(s=>{i[s]=e[s]})}}return t}createSubContext(t=null,e,i){const s=e||this.element,a=new W3(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(t),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(t){return this.previousNode=BS,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const s={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},a=new nde(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(a),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,s,a,r){let o=[];if(s&&o.push(this.element),t.length>0){t=(t=t.replace(Xhe,"."+this._enterClassName)).replace(tde,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),o.push(...c)}return!a&&0==o.length&&r.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class $S{constructor(t,e,i,s){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new $S(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||ja,this._currentKeyframe[e]=ja}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,s){e&&(this._previousKeyframe.easing=e);const a=s&&s.params||{},r=function(n,t){const e={};let i;return n.forEach(s=>{"*"===s?(i=i||Object.keys(t),i.forEach(a=>{e[a]=ja})):Zo(s,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(r).forEach(o=>{const l=DS(r[o],a,i);this._pendingStyles[o]=l,this._localTimelineStyles.hasOwnProperty(o)||(this._backFill[o]=this._globalTimelineStyles.hasOwnProperty(o)?this._globalTimelineStyles[o]:ja),this._updateStyle(o,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],s=t._styleSummary[e];(!i||s.time>i.time)&&this._updateStyle(e,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((o,l)=>{const c=Zo(o,!0);Object.keys(c).forEach(d=>{const f=c[d];"!"==f?t.add(d):f==ja&&e.add(d)}),i||(c.offset=l/this.duration),s.push(c)});const a=t.size?MS(t.values()):[],r=e.size?MS(e.values()):[];if(i){const o=s[0],l=qh(o);o.offset=0,l.offset=1,s=[o,l]}return U3(this.element,s,a,r,this.duration,this.startTime,this.easing,!1)}}class nde extends $S{constructor(t,e,i,s,a,r,o=!1){super(t,e,r.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=a,this._stretchStartingKeyframe=o,this.timings={duration:r.duration,delay:r.delay,easing:r.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const a=[],r=i+e,o=e/r,l=Zo(t[0],!1);l.offset=0,a.push(l);const c=Zo(t[0],!1);c.offset=A7(o),a.push(c);const d=t.length-1;for(let f=1;f<=d;f++){let y=Zo(t[f],!1);y.offset=A7((e+y.offset*i)/r),a.push(y)}i=r,e=0,s="",t=a}return U3(this.element,t,this.preStyleProps,this.postStyleProps,i,e,s,!0)}}function A7(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class z3{}class rde extends z3{normalizePropertyName(t,e){return q3(t)}normalizeStyleValue(t,e,i,s){let a="";const r=i.toString().trim();if(ade[e]&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const o=i.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&0==o[1].length&&s.push(`Please provide a CSS unit value for ${t}:${i}`)}return r+a}}const ade=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function E7(n,t,e,i,s,a,r,o,l,c,d,f,y){return{type:0,element:n,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:a,toState:i,toStyles:r,timelines:o,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:f,errors:y}}const K3={};class C7{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,s){return function(n,t,e,i,s){return n.some(a=>a(t,e,i,s))}(this.ast.matchers,t,e,i,s)}buildStyles(t,e,i){const s=this._stateStyles["*"],a=this._stateStyles[t],r=s?s.buildStyles(e,i):{};return a?a.buildStyles(e,i):r}build(t,e,i,s,a,r,o,l,c,d){const f=[],y=this.ast.options&&this.ast.options.params||K3,P=this.buildStyles(i,o&&o.params||K3,f),x=l&&l.params||K3,D=this.buildStyles(s,x,f),N=new Set,I=new Map,U=new Map,$="void"===s,j={params:Object.assign(Object.assign({},y),x)},W=d?[]:j3(t,e,this.ast.animation,a,r,P,D,j,c,f);let le=0;if(W.forEach(Me=>{le=Math.max(Me.duration+Me.delay,le)}),f.length)return E7(e,this._triggerName,i,s,$,P,D,[],[],I,U,le,f);W.forEach(Me=>{const ke=Me.element,ge=ls(I,ke,{});Me.preStyleProps.forEach(yt=>ge[yt]=!0);const Ke=ls(U,ke,{});Me.postStyleProps.forEach(yt=>Ke[yt]=!0),ke!==e&&N.add(ke)});const xe=MS(N.values());return E7(e,this._triggerName,i,s,$,P,D,W,xe,I,U,le)}}class cde{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},s=qh(this.defaultParams);return Object.keys(t).forEach(a=>{const r=t[a];null!=r&&(s[a]=r)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const r=a;Object.keys(r).forEach(o=>{let l=r[o];l.length>1&&(l=DS(l,s,e));const c=this.normalizer.normalizePropertyName(o,e);l=this.normalizer.normalizeStyleValue(o,c,l,e),i[c]=l})}}),i}}class hde{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(s=>{this.states[s.name]=new cde(s.style,s.options&&s.options.params||{},i)}),P7(this.states,"true","1"),P7(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new C7(t,s,this.states))}),this.fallbackTransition=function(n,t,e){return new C7(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(r,o)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,s){return this.transitionFactories.find(r=>r.match(t,e,i,s))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function P7(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const gde=new LS;class fde{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=G3(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=s}_buildPlayer(t,e,i){const s=t.element,a=r7(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(s,a,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const s=[],a=this._animations[t];let r;const o=new Map;if(a?(r=j3(this._driver,e,a,L3,PS,{},{},i,gde,s),r.forEach(d=>{const f=ls(o,d.element,{});d.postStyleProps.forEach(y=>f[y]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),r=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);o.forEach((d,f)=>{Object.keys(d).forEach(y=>{d[y]=this._driver.computeStyle(f,y,ja)})});const c=Jo(r.map(d=>{const f=o.get(d.element);return this._buildPlayer(d,{},f)}));return this._playersById[t]=c,c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,s){const a=x3(e,"","","");return P3(this._getPlayer(t),i,a,s),()=>{}}command(t,e,i,s){if("register"==i)return void this.register(t,s[0]);if("create"==i)return void this.create(t,e,s[0]||{});const a=this._getPlayer(t);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const T7="ng-animate-queued",x7="ng-animate-disabled",k7=".ng-animate-disabled",vde=[],D7={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bde={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hs="__ng_removed";class Y3{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(i?t.value:t),i){const a=qh(t);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(s=>{null==i[s]&&(i[s]=e[s])})}}}const up="void",Q3=new Y3(up);class Sde{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Gs(e,this._hostClassName)}listen(t,e,i,s){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const a=ls(this._elementListeners,t,[]),r={name:e,phase:i,callback:s};a.push(r);const o=ls(this._engine.statesByElement,t,{});return o.hasOwnProperty(e)||(Gs(t,TS),Gs(t,TS+"-"+e),o[e]=Q3),()=>{this._engine.afterFlush(()=>{const l=a.indexOf(r);l>=0&&a.splice(l,1),this._triggers[e]||delete o[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,s=!0){const a=this._getTrigger(e),r=new J3(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Gs(t,TS),Gs(t,TS+"-"+e),this._engine.statesByElement.set(t,o={}));let l=o[e];const c=new Y3(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),o[e]=c,l||(l=Q3),c.value!==up&&l.value===c.value){if(!function(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let s=0;s<e.length;s++){const a=e[s];if(!t.hasOwnProperty(a)||n[a]!==t[a])return!1}return!0}(l.params,c.params)){const x=[],D=a.matchStyles(l.value,l.params,x),N=a.matchStyles(c.value,c.params,x);x.length?this._engine.reportError(x):this._engine.afterFlush(()=>{Ac(t,D),Kr(t,N)})}return}const y=ls(this._engine.playersByElement,t,[]);y.forEach(x=>{x.namespaceId==this.id&&x.triggerName==e&&x.queued&&x.destroy()});let b=a.matchTransition(l.value,c.value,t,c.params),P=!1;if(!b){if(!s)return;b=a.fallbackTransition,P=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:b,fromState:l,toState:c,player:r,isFallbackTransition:P}),P||(Gs(t,T7),r.onStart(()=>{Hh(t,T7)})),r.onDone(()=>{let x=this.players.indexOf(r);x>=0&&this.players.splice(x,1);const D=this._engine.playersByElement.get(t);if(D){let N=D.indexOf(r);N>=0&&D.splice(N,1)}}),this.players.push(r),y.push(r),r}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,xS,!0);i.forEach(s=>{if(s[Hs])return;const a=this._engine.fetchNamespacesByElement(s);a.size?a.forEach(r=>r.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,i,s){const a=this._engine.statesByElement.get(t);if(a){const r=[];if(Object.keys(a).forEach(o=>{if(this._triggers[o]){const l=this.trigger(t,o,up,s);l&&r.push(l)}}),r.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&Jo(r).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const s=new Set;e.forEach(a=>{const r=a.name;if(s.has(r))return;s.add(r);const l=this._triggers[r].fallbackTransition,c=i[r]||Q3,d=new Y3(up),f=new J3(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:l,fromState:c,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(t):[];if(a&&a.length)s=!0;else{let r=t;for(;r=r.parentNode;)if(i.statesByElement.get(r)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)i.markElementAsRemoved(this.id,t,!1,e);else{const a=t[Hs];(!a||a===D7)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Gs(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const a=i.element,r=this._elementListeners.get(a);r&&r.forEach(o=>{if(o.name==i.triggerName){const l=x3(a,i.triggerName,i.fromState.value,i.toState.value);l._data=t,P3(i.player,o.phase,l,o.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(i)}),this._queue=[],e.sort((i,s)=>{const a=i.transition.ast.depCount,r=s.transition.ast.depCount;return 0==a||0==r?a-r:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class _de{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,a)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Sde(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let s=!1;for(let a=i;a>=0;a--)if(this.driver.containsElement(this._namespaceList[a].hostElement,e)){this._namespaceList.splice(a+1,0,t),s=!0;break}s||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let s=this._namespaceLookup[t];s&&s.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const s=Object.keys(i);for(let a=0;a<s.length;a++){const r=i[s[a]].namespaceId;if(r){const o=this._fetchNamespace(r);o&&e.add(o)}}}return e}trigger(t,e,i,s){if(VS(e)){const a=this._fetchNamespace(t);if(a)return a.trigger(e,i,s),!0}return!1}insertNode(t,e,i,s){if(!VS(e))return;const a=e[Hs];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const r=this.collectedLeaveElements.indexOf(e);r>=0&&this.collectedLeaveElements.splice(r,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,i)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Gs(t,x7)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Hh(t,x7))}removeNode(t,e,i,s){if(VS(e)){const a=t?this._fetchNamespace(t):null;if(a?a.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),i){const r=this.namespacesByHostElement.get(e);r&&r.id!==t&&r.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,i,s){this.collectedLeaveElements.push(e),e[Hs]={namespaceId:t,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,s,a){return VS(e)?this._fetchNamespace(t).listen(e,i,s,a):()=>{}}_buildInstruction(t,e,i,s,a){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,s,t.fromState.options,t.toState.options,e,a)}destroyInnerAnimations(t){let e=this.driver.query(t,xS,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,B3,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Jo(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Hs];if(e&&e.setForRemoval){if(t[Hs]=D7,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,k7)&&this.markElementAsDisabled(t,!1),this.driver.query(t,k7,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Gs(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Jo(e).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new LS,s=[],a=new Map,r=[],o=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(ie=>{d.add(ie);const te=this.driver.query(ie,".ng-animate-queued",!0);for(let ve=0;ve<te.length;ve++)d.add(te[ve])});const f=this.bodyNode,y=Array.from(this.statesByElement.keys()),b=I7(y,this.collectedEnterElements),P=new Map;let x=0;b.forEach((ie,te)=>{const ve=L3+x++;P.set(te,ve),ie.forEach(qe=>Gs(qe,ve))});const D=[],N=new Set,I=new Set;for(let ie=0;ie<this.collectedLeaveElements.length;ie++){const te=this.collectedLeaveElements[ie],ve=te[Hs];ve&&ve.setForRemoval&&(D.push(te),N.add(te),ve.hasAnimation?this.driver.query(te,".ng-star-inserted",!0).forEach(qe=>N.add(qe)):I.add(te))}const U=new Map,$=I7(y,Array.from(N));$.forEach((ie,te)=>{const ve=PS+x++;U.set(te,ve),ie.forEach(qe=>Gs(qe,ve))}),t.push(()=>{b.forEach((ie,te)=>{const ve=P.get(te);ie.forEach(qe=>Hh(qe,ve))}),$.forEach((ie,te)=>{const ve=U.get(te);ie.forEach(qe=>Hh(qe,ve))}),D.forEach(ie=>{this.processLeaveNode(ie)})});const j=[],W=[];for(let ie=this._namespaceList.length-1;ie>=0;ie--)this._namespaceList[ie].drainQueuedTransitions(e).forEach(ve=>{const qe=ve.player,Vt=ve.element;if(j.push(qe),this.collectedEnterElements.length){const an=Vt[Hs];if(an&&an.setForMove)return void qe.destroy()}const jn=!f||!this.driver.containsElement(f,Vt),bi=U.get(Vt),us=P.get(Vt),At=this._buildInstruction(ve,i,us,bi,jn);if(At.errors&&At.errors.length)W.push(At);else{if(jn)return qe.onStart(()=>Ac(Vt,At.fromStyles)),qe.onDestroy(()=>Kr(Vt,At.toStyles)),void s.push(qe);if(ve.isFallbackTransition)return qe.onStart(()=>Ac(Vt,At.fromStyles)),qe.onDestroy(()=>Kr(Vt,At.toStyles)),void s.push(qe);At.timelines.forEach(an=>an.stretchStartingKeyframe=!0),i.append(Vt,At.timelines),r.push({instruction:At,player:qe,element:Vt}),At.queriedElements.forEach(an=>ls(o,an,[]).push(qe)),At.preStyleProps.forEach((an,Qr)=>{const Fs=Object.keys(an);if(Fs.length){let Sr=l.get(Qr);Sr||l.set(Qr,Sr=new Set),Fs.forEach(hp=>Sr.add(hp))}}),At.postStyleProps.forEach((an,Qr)=>{const Fs=Object.keys(an);let Sr=c.get(Qr);Sr||c.set(Qr,Sr=new Set),Fs.forEach(hp=>Sr.add(hp))})}});if(W.length){const ie=[];W.forEach(te=>{ie.push(`@${te.triggerName} has failed due to:\n`),te.errors.forEach(ve=>ie.push(`- ${ve}\n`))}),j.forEach(te=>te.destroy()),this.reportError(ie)}const le=new Map,xe=new Map;r.forEach(ie=>{const te=ie.element;i.has(te)&&(xe.set(te,te),this._beforeAnimationBuild(ie.player.namespaceId,ie.instruction,le))}),s.forEach(ie=>{const te=ie.element;this._getPreviousPlayers(te,!1,ie.namespaceId,ie.triggerName,null).forEach(qe=>{ls(le,te,[]).push(qe),qe.destroy()})});const Me=D.filter(ie=>N7(ie,l,c)),ke=new Map;R7(ke,this.driver,I,c,ja).forEach(ie=>{N7(ie,l,c)&&Me.push(ie)});const Ke=new Map;b.forEach((ie,te)=>{R7(Ke,this.driver,new Set(ie),l,"!")}),Me.forEach(ie=>{const te=ke.get(ie),ve=Ke.get(ie);ke.set(ie,Object.assign(Object.assign({},te),ve))});const yt=[],Ri=[],Ii={};r.forEach(ie=>{const{element:te,player:ve,instruction:qe}=ie;if(i.has(te)){if(d.has(te))return ve.onDestroy(()=>Kr(te,qe.toStyles)),ve.disabled=!0,ve.overrideTotalTime(qe.totalTime),void s.push(ve);let Vt=Ii;if(xe.size>1){let bi=te;const us=[];for(;bi=bi.parentNode;){const At=xe.get(bi);if(At){Vt=At;break}us.push(bi)}us.forEach(At=>xe.set(At,Vt))}const jn=this._buildAnimation(ve.namespaceId,qe,le,a,Ke,ke);if(ve.setRealPlayer(jn),Vt===Ii)yt.push(ve);else{const bi=this.playersByElement.get(Vt);bi&&bi.length&&(ve.parentPlayer=Jo(bi)),s.push(ve)}}else Ac(te,qe.fromStyles),ve.onDestroy(()=>Kr(te,qe.toStyles)),Ri.push(ve),d.has(te)&&s.push(ve)}),Ri.forEach(ie=>{const te=a.get(ie.element);if(te&&te.length){const ve=Jo(te);ie.setRealPlayer(ve)}}),s.forEach(ie=>{ie.parentPlayer?ie.syncPlayerEvents(ie.parentPlayer):ie.destroy()});for(let ie=0;ie<D.length;ie++){const te=D[ie],ve=te[Hs];if(Hh(te,PS),ve&&ve.hasAnimation)continue;let qe=[];if(o.size){let jn=o.get(te);jn&&jn.length&&qe.push(...jn);let bi=this.driver.query(te,B3,!0);for(let us=0;us<bi.length;us++){let At=o.get(bi[us]);At&&At.length&&qe.push(...At)}}const Vt=qe.filter(jn=>!jn.destroyed);Vt.length?Cde(this,te,Vt):this.processLeaveNode(te)}return D.length=0,yt.forEach(ie=>{this.players.push(ie),ie.onDone(()=>{ie.destroy();const te=this.players.indexOf(ie);this.players.splice(te,1)}),ie.play()}),yt}elementContainsData(t,e){let i=!1;const s=e[Hs];return s&&s.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,s,a){let r=[];if(e){const o=this.playersByQueriedElement.get(t);o&&(r=o)}else{const o=this.playersByElement.get(t);if(o){const l=!a||a==up;o.forEach(c=>{c.queued||!l&&c.triggerName!=s||r.push(c)})}}return(i||s)&&(r=r.filter(o=>!(i&&i!=o.namespaceId||s&&s!=o.triggerName))),r}_beforeAnimationBuild(t,e,i){const a=e.element,r=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,d=c!==a,f=ls(i,c,[]);this._getPreviousPlayers(c,d,r,o,e.toState).forEach(b=>{const P=b.getRealPlayer();P.beforeDestroy&&P.beforeDestroy(),b.destroy(),f.push(b)})}Ac(a,e.fromStyles)}_buildAnimation(t,e,i,s,a,r){const o=e.triggerName,l=e.element,c=[],d=new Set,f=new Set,y=e.timelines.map(P=>{const x=P.element;d.add(x);const D=x[Hs];if(D&&D.removedBeforeQueried)return new Vh(P.duration,P.delay);const N=x!==l,I=function(n){const t=[];return O7(n,t),t}((i.get(x)||vde).map(le=>le.getRealPlayer())).filter(le=>!!le.element&&le.element===x),U=a.get(x),$=r.get(x),j=r7(0,this._normalizer,0,P.keyframes,U,$),W=this._buildPlayer(P,j,I);if(P.subTimeline&&s&&f.add(x),N){const le=new J3(t,o,x);le.setRealPlayer(W),c.push(le)}return W});c.forEach(P=>{ls(this.playersByQueriedElement,P.element,[]).push(P),P.onDone(()=>function(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,P.element,P))}),d.forEach(P=>Gs(P,g7));const b=Jo(y);return b.onDestroy(()=>{d.forEach(P=>Hh(P,g7)),Kr(l,e.toStyles)}),f.forEach(P=>{ls(s,P,[]).push(b)}),b}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Vh(t.duration,t.delay)}}class J3{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Vh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>P3(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ls(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function VS(n){return n&&1===n.nodeType}function M7(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function R7(n,t,e,i,s){const a=[];e.forEach(l=>a.push(M7(l)));const r=[];i.forEach((l,c)=>{const d={};l.forEach(f=>{const y=d[f]=t.computeStyle(c,f,s);(!y||0==y.length)&&(c[Hs]=bde,r.push(c))}),n.set(c,d)});let o=0;return e.forEach(l=>M7(l,a[o++])),r}function I7(n,t){const e=new Map;if(n.forEach(o=>e.set(o,[])),0==t.length)return e;const s=new Set(t),a=new Map;function r(o){if(!o)return 1;let l=a.get(o);if(l)return l;const c=o.parentNode;return l=e.has(c)?c:s.has(c)?1:r(c),a.set(o,l),l}return t.forEach(o=>{const l=r(o);1!==l&&e.get(l).push(o)}),e}const qS="$$classes";function Gs(n,t){if(n.classList)n.classList.add(t);else{let e=n[qS];e||(e=n[qS]={}),e[t]=!0}}function Hh(n,t){if(n.classList)n.classList.remove(t);else{let e=n[qS];e&&delete e[t]}}function Cde(n,t,e){Jo(e).onDone(()=>n.processLeaveNode(t))}function O7(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof U8?O7(i.players,t):t.push(i)}}function N7(n,t,e){const i=e.get(n);if(!i)return!1;let s=t.get(n);return s?i.forEach(a=>s.add(a)):t.set(n,i),e.delete(n),!0}class HS{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,a)=>{},this._transitionEngine=new _de(t,e,i),this._timelineEngine=new fde(t,e,i),this._transitionEngine.onRemovalComplete=(s,a)=>this.onRemovalComplete(s,a)}registerTrigger(t,e,i,s,a){const r=t+"-"+s;let o=this._triggerCache[r];if(!o){const l=[],c=G3(this._driver,a,l);if(l.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);o=function(n,t,e){return new hde(n,t,e)}(s,c,this._normalizer),this._triggerCache[r]=o}this._transitionEngine.registerTrigger(e,s,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,s){this._transitionEngine.insertNode(t,e,i,s)}onRemove(t,e,i,s){this._transitionEngine.removeNode(t,e,s||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,s){if("@"==i.charAt(0)){const[a,r]=a7(i);this._timelineEngine.command(a,e,r,s)}else this._transitionEngine.trigger(t,e,i,s)}listen(t,e,i,s,a){if("@"==i.charAt(0)){const[r,o]=a7(i);return this._timelineEngine.listen(r,e,o,a)}return this._transitionEngine.listen(t,e,i,s,a)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function L7(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Z3(t[0]),t.length>1&&(i=Z3(t[t.length-1]))):t&&(e=Z3(t)),e||i?new xde(n,e,i):null}let xde=(()=>{class n{constructor(e,i,s){this._element=e,this._startStyles=i,this._endStyles=s,this._state=0;let a=n.initialStylesByElement.get(e);a||n.initialStylesByElement.set(e,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Kr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Kr(this._element,this._initialStyles),this._endStyles&&(Kr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ac(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ac(this._element,this._endStyles),this._endStyles=null),Kr(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Z3(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const s=e[i];kde(s)&&(t=t||{},t[s]=n[s])}return t}function kde(n){return"display"===n||"position"===n}const B7="animation",$7="animationend";class Rde{constructor(t,e,i,s,a,r,o){this._element=t,this._name=e,this._duration=i,this._delay=s,this._easing=a,this._fillMode=r,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function(n,t){const e=eV(n,"").trim();let i=0;e.length&&(function(n,t){let e=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),GS(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),H7(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){V7(this._element,this._name,"paused")}resume(){V7(this._element,this._name,"running")}setPosition(t){const e=q7(this._element,this._name);this._position=t*this._duration,GS(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),H7(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const i=eV(n,"").split(","),s=X3(i,t);s>=0&&(i.splice(s,1),GS(n,"",i.join(",")))}(this._element,this._name))}}function V7(n,t,e){GS(n,"PlayState",e,q7(n,t))}function q7(n,t){const e=eV(n,"");return e.indexOf(",")>0?X3(e.split(","),t):X3([e],t)}function X3(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function H7(n,t,e){e?n.removeEventListener($7,t):n.addEventListener($7,t)}function GS(n,t,e,i){const s=B7+t;if(null!=i){const a=n.style[s];if(a.length){const r=a.split(",");r[i]=e,e=r.join(",")}}n.style[s]=e}function eV(n,t){return n.style[B7+t]||""}class G7{constructor(t,e,i,s,a,r,o,l){this.element=t,this.keyframes=e,this.animationName=i,this._duration=s,this._delay=a,this._finalStyles=o,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=r||"linear",this.totalTime=s+a,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Rde(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:H3(this.element,i))})}this.currentSnapshot=t}}class $de extends Vh{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=u7(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class U7{constructor(){this._count=0}validateStyleProperty(t){return M3(t)}matchesElement(t,e){return R3(t,e)}containsElement(t,e){return I3(t,e)}query(t,e,i){return O3(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(o=>u7(o));let s=`@keyframes ${e} {\n`,a="";i.forEach(o=>{a=" ";const l=parseFloat(o.offset);s+=`${a}${100*l}% {\n`,a+=" ",Object.keys(o).forEach(c=>{const d=o[c];switch(c){case"offset":return;case"easing":return void(d&&(s+=`${a}animation-timing-function: ${d};\n`));default:return void(s+=`${a}${c}: ${d};\n`)}}),s+=`${a}}\n`}),s+="}\n";const r=document.createElement("style");return r.textContent=s,r}animate(t,e,i,s,a,r=[],o){const l=r.filter(D=>D instanceof G7),c={};v7(i,s)&&l.forEach(D=>{let N=D.currentSnapshot;Object.keys(N).forEach(I=>c[I]=N[I])});const d=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(s=>{"offset"==s||"easing"==s||(t[s]=i[s])})}),t}(e=b7(t,e,c));if(0==i)return new $de(t,d);const f="gen_css_kf_"+this._count++,y=this.buildKeyframeElement(t,f,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(y);const P=L7(t,e),x=new G7(t,e,f,i,s,a,d,P);return x.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(y)),x}}class W7{constructor(t,e,i,s){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:H3(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Fde{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(z7().toString()),this._cssKeyframesDriver=new U7}validateStyleProperty(t){return M3(t)}matchesElement(t,e){return R3(t,e)}containsElement(t,e){return I3(t,e)}query(t,e,i){return O3(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,s,a,r=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,s,a,r);const d={duration:i,delay:s,fill:0==s?"both":"forwards"};a&&(d.easing=a);const f={},y=r.filter(P=>P instanceof W7);v7(i,s)&&y.forEach(P=>{let x=P.currentSnapshot;Object.keys(x).forEach(D=>f[D]=x[D])});const b=L7(t,e=b7(t,e=e.map(P=>Zo(P,!1)),f));return new W7(t,e,d,b)}}function z7(){return s7()&&Element.prototype.animate||{}}let jde=(()=>{class n extends q8{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:jt.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?H8(e):e;return K7(this._renderer,null,i,"register",[s]),new Wde(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(G(Ql),G(Xe))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();class Wde extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new zde(this._id,t,e||{},this._renderer)}}class zde{constructor(t,e,i,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return K7(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function K7(n,t,e,i,s){return n.setProperty(t,`@@${e}:${i}`,s)}const Y7="@.disabled";let Kde=(()=>{class n{constructor(e,i,s){this.delegate=e,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,r)=>{r&&r.parentNode(a)&&r.removeChild(a.parentNode,a)}}createRenderer(e,i){const a=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let d=this._rendererCache.get(a);return d||(d=new Q7("",a,this.engine),this._rendererCache.set(a,d)),d}const r=i.id,o=i.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);const l=d=>{Array.isArray(d)?d.forEach(l):this.engine.registerTrigger(r,o,e,d.name,d)};return i.data.animation.forEach(l),new Yde(this,o,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,s){e>=0&&e<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[r,o]=a;r(o)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(G(Ql),G(HS),G(We))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();class Q7{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,s=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,s){this.delegate.setAttribute(t,e,i,s)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,s){this.delegate.setStyle(t,e,i,s)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==Y7?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Yde extends Q7{constructor(t,e,i,s){super(e,i,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Y7?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const s=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let a=e.substr(1),r="";return"@"!=a.charAt(0)&&([a,r]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(a)),this.engine.listen(this.namespaceId,s,a,r,o=>{this.factory.scheduleListenerCallback(o._data||-1,i,o)})}return this.delegate.listen(t,e,i)}}let Zde=(()=>{class n extends HS{constructor(e,i,s){super(e.body,i,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(G(Xe),G(N3),G(z3))},n.\u0275prov=ue({token:n,factory:n.\u0275fac}),n})();const J7=new ye("AnimationModuleType"),Z7=[{provide:q8,useClass:jde},{provide:z3,useFactory:function(){return new rde}},{provide:HS,useClass:Zde},{provide:Ql,useFactory:function(n,t,e){return new Kde(n,t,e)},deps:[qv,HS,We]}],X7=[{provide:N3,useFactory:function(){return"function"==typeof z7()?new Fde:new U7}},{provide:J7,useValue:"BrowserAnimations"},...Z7],ej=[{provide:N3,useClass:h7},{provide:J7,useValue:"NoopAnimations"},...Z7];let ige=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?ej:X7}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qt({type:n}),n.\u0275inj=qt({providers:X7,imports:[bC]}),n})(),nge=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qt({type:n,bootstrap:[Rhe]}),n.\u0275inj=qt({providers:[],imports:[[bC,oee,m6,lee,ige,wue,lhe]]}),n})();(function(){if(_5)throw new Error("Cannot enable prod mode after platform setup.");S5=!1})(),uX().bootstrapModule(nge).catch(n=>console.error(n))}},Ft=>{Ft(Ft.s=328)}]);