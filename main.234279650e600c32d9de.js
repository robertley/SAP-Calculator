var qte=Object.defineProperty,Gte=Object.defineProperties,Ute=Object.getOwnPropertyDescriptors,sH=Object.getOwnPropertySymbols,jte=Object.prototype.hasOwnProperty,Wte=Object.prototype.propertyIsEnumerable,rH=(zt,Tt,Kt)=>Tt in zt?qte(zt,Tt,{enumerable:!0,configurable:!0,writable:!0,value:Kt}):zt[Tt]=Kt,dn=(zt,Tt)=>{for(var Kt in Tt||(Tt={}))jte.call(Tt,Kt)&&rH(zt,Kt,Tt[Kt]);if(sH)for(var Kt of sH(Tt))Wte.call(Tt,Kt)&&rH(zt,Kt,Tt[Kt]);return zt},lS=(zt,Tt)=>Gte(zt,Ute(Tt));(self.webpackChunksap_calculator=self.webpackChunksap_calculator||[]).push([[179],{255:zt=>{function Tt(Kt){return Promise.resolve().then(()=>{var Jn=new Error("Cannot find module '"+Kt+"'");throw Jn.code="MODULE_NOT_FOUND",Jn})}Tt.keys=()=>[],Tt.resolve=Tt,Tt.id=255,zt.exports=Tt},815:function(zt,Tt,Kt){var Jn;zt=Kt.nmd(zt),function(){var M,Bi="Expected a function",nl="__lodash_hash_undefined__",Xr="__lodash_placeholder__",so=1/0,Cr=9007199254740991,ys=4294967295,cS=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Zo="[object Arguments]",ol="[object Array]",Xo="[object Boolean]",al="[object Date]",ea="[object Error]",Mc="[object Function]",Tg="[object GeneratorFunction]",Zn="[object Map]",ll="[object Number]",Rn="[object Object]",hS="[object Promise]",Nc="[object RegExp]",Qi="[object Set]",ro="[object String]",Rc="[object Symbol]",Lc="[object WeakMap]",ta="[object ArrayBuffer]",kr="[object DataView]",Bc="[object Float32Array]",Yh="[object Float64Array]",Qh="[object Int8Array]",Jh="[object Int16Array]",Zh="[object Int32Array]",Xh="[object Uint8Array]",Mg="[object Uint8ClampedArray]",ed="[object Uint16Array]",td="[object Uint32Array]",fS=/\b__p \+= '';/g,pS=/\b(__p \+=) '' \+/g,gS=/(__e\(.*?\)|\b__t\)) \+\n'';/g,rt=/&(?:amp|lt|gt|quot|#39);/g,Vc=/[&<>"']/g,He=RegExp(rt.source),id=RegExp(Vc.source),mS=/<%-([\s\S]+?)%>/g,St=/<%([\s\S]+?)%>/g,de=/<%=([\s\S]+?)%>/g,Ig=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,DI=/^\w*$/,Dr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Og=/[\\^$.*+?()[\]{}|]/g,nd=RegExp(Og.source),Me=/^\s+/,Vi=/\s/,vS=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,PI=/\{\n\/\* \[wrapped with (.+)\] \*/,AI=/,? & /,$c=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,gn=/[()=,{}\[\]\/\s]/,TI=/\\(\\)?/g,yS=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_S=/\w*$/,Js=/^[-+]0x[0-9a-f]+$/i,xI=/^0b[01]+$/i,MI=/^\[object .+?Constructor\]$/,II=/^0o[0-7]+$/i,OI=/^(?:0|[1-9]\d*)$/,bS=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,sd=/($^)/,SS=/['\n\r\u2028\u2029\\]/g,rd="\\ud800-\\udfff",ES="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",wS="\\u2700-\\u27bf",ce="a-z\\xdf-\\xf6\\xf8-\\xff",Rg="A-Z\\xc0-\\xd6\\xd8-\\xde",Lg="\\ufe0e\\ufe0f",od="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ad="["+rd+"]",ld="["+od+"]",Fc="["+ES+"]",ye="\\d+",cd="["+wS+"]",Bg="["+ce+"]",Xs="[^"+rd+od+ye+wS+ce+Rg+"]",Hc="\\ud83c[\\udffb-\\udfff]",er="[^"+rd+"]",Ji="(?:\\ud83c[\\udde6-\\uddff]){2}",Vg="[\\ud800-\\udbff][\\udc00-\\udfff]",cl="["+Rg+"]",$g="(?:"+Bg+"|"+Xs+")",CS="(?:"+cl+"|"+Xs+")",Fg="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",kS="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",at="(?:"+Fc+"|"+Hc+")?",DS="["+Lg+"]?",ul=DS+at+"(?:\\u200d(?:"+[er,Ji,Vg].join("|")+")"+DS+at+")*",ud="(?:"+[cd,Ji,Vg].join("|")+")"+ul,hd="(?:"+[er+Fc+"?",Fc,Ji,Vg,ad].join("|")+")",Hg=RegExp("['\u2019]","g"),PS=RegExp(Fc,"g"),Xn=RegExp(Hc+"(?="+Hc+")|"+hd+ul,"g"),hl=RegExp([cl+"?"+Bg+"+"+Fg+"(?="+[ld,cl,"$"].join("|")+")",CS+"+"+kS+"(?="+[ld,cl+$g,"$"].join("|")+")",cl+"?"+$g+"+"+Fg,cl+"+"+kS,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ye,ud].join("|"),"g"),AS=RegExp("[\\u200d"+rd+ES+Lg+"]"),Ln=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,TS=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qg=-1,kt={};kt[Bc]=kt[Yh]=kt[Qh]=kt[Jh]=kt[Zh]=kt[Xh]=kt[Mg]=kt[ed]=kt[td]=!0,kt[Zo]=kt[ol]=kt[ta]=kt[Xo]=kt[kr]=kt[al]=kt[ea]=kt[Mc]=kt[Zn]=kt[ll]=kt[Rn]=kt[Nc]=kt[Qi]=kt[ro]=kt[Lc]=!1;var wt={};wt[Zo]=wt[ol]=wt[ta]=wt[kr]=wt[Xo]=wt[al]=wt[Bc]=wt[Yh]=wt[Qh]=wt[Jh]=wt[Zh]=wt[Zn]=wt[ll]=wt[Rn]=wt[Nc]=wt[Qi]=wt[ro]=wt[Rc]=wt[Xh]=wt[Mg]=wt[ed]=wt[td]=!0,wt[ea]=wt[Mc]=wt[Lc]=!1;var ue={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Zi=parseFloat,ki=parseInt,tr="object"==typeof global&&global&&global.Object===Object&&global,oo="object"==typeof self&&self&&self.Object===Object&&self,yt=tr||oo||Function("return this")(),Ug=Tt&&!Tt.nodeType&&Tt,Di=Ug&&zt&&!zt.nodeType&&zt,ie=Di&&Di.exports===Ug,qe=ie&&tr.process,et=function(){try{return Di&&Di.require&&Di.require("util").types||qe&&qe.binding&&qe.binding("util")}catch(q){}}(),Xi=et&&et.isArrayBuffer,Pr=et&&et.isDate,oi=et&&et.isMap,Ar=et&&et.isRegExp,Bt=et&&et.isSet,sa=et&&et.isTypedArray;function hi(R,q,$){switch($.length){case 0:return R.call(q);case 1:return R.call(q,$[0]);case 2:return R.call(q,$[0],$[1]);case 3:return R.call(q,$[0],$[1],$[2])}return R.apply(q,$)}function Ve(R,q,$,ae){for(var Ie=-1,lt=null==R?0:R.length;++Ie<lt;){var Jt=R[Ie];q(ae,Jt,$(Jt),R)}return ae}function $i(R,q){for(var $=-1,ae=null==R?0:R.length;++$<ae&&!1!==q(R[$],$,R););return R}function ra(R,q){for(var $=null==R?0:R.length;$--&&!1!==q(R[$],$,R););return R}function qc(R,q){for(var $=-1,ae=null==R?0:R.length;++$<ae;)if(!q(R[$],$,R))return!1;return!0}function vn(R,q){for(var $=-1,ae=null==R?0:R.length,Ie=0,lt=[];++$<ae;){var Jt=R[$];q(Jt,$,R)&&(lt[Ie++]=Jt)}return lt}function di(R,q){return!(null==R||!R.length)&&Qt(R,q,0)>-1}function ao(R,q,$){for(var ae=-1,Ie=null==R?0:R.length;++ae<Ie;)if($(q,R[ae]))return!0;return!1}function gt(R,q){for(var $=-1,ae=null==R?0:R.length,Ie=Array(ae);++$<ae;)Ie[$]=q(R[$],$,R);return Ie}function fi(R,q){for(var $=-1,ae=q.length,Ie=R.length;++$<ae;)R[Ie+$]=q[$];return R}function _t(R,q,$,ae){var Ie=-1,lt=null==R?0:R.length;for(ae&&lt&&($=R[++Ie]);++Ie<lt;)$=q($,R[Ie],Ie,R);return $}function MS(R,q,$,ae){var Ie=null==R?0:R.length;for(ae&&Ie&&($=R[--Ie]);Ie--;)$=q($,R[Ie],Ie,R);return $}function dd(R,q){for(var $=-1,ae=null==R?0:R.length;++$<ae;)if(q(R[$],$,R))return!0;return!1}var Gc=pl("length");function fl(R,q,$){var ae;return $(R,function(Ie,lt,Jt){if(q(Ie,lt,Jt))return ae=lt,!1}),ae}function _s(R,q,$,ae){for(var Ie=R.length,lt=$+(ae?1:-1);ae?lt--:++lt<Ie;)if(q(R[lt],lt,R))return lt;return-1}function Qt(R,q,$){return q==q?function(R,q,$){for(var ae=$-1,Ie=R.length;++ae<Ie;)if(R[ae]===q)return ae;return-1}(R,q,$):_s(R,es,$)}function IS(R,q,$,ae){for(var Ie=$-1,lt=R.length;++Ie<lt;)if(ae(R[Ie],q))return Ie;return-1}function es(R){return R!=R}function Bn(R,q){var $=null==R?0:R.length;return $?pd(R,q)/$:NaN}function pl(R){return function(q){return null==q?M:q[R]}}function oa(R){return function(q){return null==R?M:R[q]}}function gl(R,q,$,ae,Ie){return Ie(R,function(lt,Jt,Pt){$=ae?(ae=!1,lt):q($,lt,Jt,Pt)}),$}function pd(R,q){for(var $,ae=-1,Ie=R.length;++ae<Ie;){var lt=q(R[ae]);lt!==M&&($=$===M?lt:$+lt)}return $}function jg(R,q){for(var $=-1,ae=Array(R);++$<R;)ae[$]=q($);return ae}function Wg(R){return R&&R.slice(0,vd(R)+1).replace(Me,"")}function Vn(R){return function(q){return R(q)}}function zg(R,q){return gt(q,function($){return R[$]})}function Uc(R,q){return R.has(q)}function NS(R,q){for(var $=-1,ae=R.length;++$<ae&&Qt(q,R[$],0)>-1;);return $}function RS(R,q){for(var $=R.length;$--&&Qt(q,R[$],0)>-1;);return $}function VI(R,q){for(var $=R.length,ae=0;$--;)R[$]===q&&++ae;return ae}var $I=oa({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),FI=oa({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function HI(R){return"\\"+ue[R]}function ml(R){return AS.test(R)}function Kg(R){var q=-1,$=Array(R.size);return R.forEach(function(ae,Ie){$[++q]=[Ie,ae]}),$}function gd(R,q){return function($){return R(q($))}}function bs(R,q){for(var $=-1,ae=R.length,Ie=0,lt=[];++$<ae;){var Jt=R[$];(Jt===q||Jt===Xr)&&(R[$]=Xr,lt[Ie++]=$)}return lt}function md(R){var q=-1,$=Array(R.size);return R.forEach(function(ae){$[++q]=ae}),$}function co(R){return ml(R)?function(R){for(var q=Xn.lastIndex=0;Xn.test(R);)++q;return q}(R):Gc(R)}function Dt(R){return ml(R)?function(R){return R.match(Xn)||[]}(R):function(R){return R.split("")}(R)}function vd(R){for(var q=R.length;q--&&Vi.test(R.charAt(q)););return q}var LS=oa({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),aa=function R(q){var c,$=(q=null==q?yt:aa.defaults(yt.Object(),q,aa.pick(yt,TS))).Array,ae=q.Date,Ie=q.Error,lt=q.Function,Jt=q.Math,Pt=q.Object,It=q.RegExp,zI=q.String,yn=q.TypeError,jc=$.prototype,la=Pt.prototype,yd=q["__core-js_shared__"],uo=lt.prototype.toString,Fe=la.hasOwnProperty,$S=0,Wc=(c=/[^.]+$/.exec(yd&&yd.keys&&yd.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"",ir=la.toString,_n=uo.call(Pt),Jg=yt._,_d=It("^"+uo.call(Fe).replace(Og,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zc=ie?q.Buffer:M,Fi=q.Symbol,vl=q.Uint8Array,Kc=zc?zc.allocUnsafe:M,Ce=gd(Pt.getPrototypeOf,Pt),FS=Pt.create,Zg=la.propertyIsEnumerable,Yc=jc.splice,Xg=Fi?Fi.isConcatSpreadable:M,ca=Fi?Fi.iterator:M,ho=Fi?Fi.toStringTag:M,Qc=function(){try{var c=Io(Pt,"defineProperty");return c({},"",{}),c}catch(u){}}(),z=q.clearTimeout!==yt.clearTimeout&&q.clearTimeout,nt=ae&&ae.now!==yt.Date.now&&ae.now,Vt=q.setTimeout!==yt.setTimeout&&q.setTimeout,jt=Jt.ceil,yl=Jt.floor,fo=Pt.getOwnPropertySymbols,Ss=zc?zc.isBuffer:M,Jc=q.isFinite,bd=jc.join,KI=gd(Pt.keys,Pt),ai=Jt.max,li=Jt.min,Zc=ae.now,Hi=q.parseInt,is=Jt.random,em=jc.reverse,Tr=Io(q,"DataView"),bn=Io(q,"Map"),Sd=Io(q,"Promise"),po=Io(q,"Set"),_l=Io(q,"WeakMap"),bl=Io(Pt,"create"),ua=_l&&new _l,xr={},tm=Rr(Tr),Ed=Rr(bn),HS=Rr(Sd),im=Rr(po),Xc=Rr(_l),Sl=Fi?Fi.prototype:M,ha=Sl?Sl.valueOf:M,wd=Sl?Sl.toString:M;function k(c){if(qt(c)&&!pe(c)&&!(c instanceof Ee)){if(c instanceof $n)return c;if(Fe.call(c,"__wrapped__"))return of(c)}return new $n(c)}var nr=function(){function c(){}return function(u){if(!Ht(u))return{};if(FS)return FS(u);c.prototype=u;var d=new c;return c.prototype=M,d}}();function eu(){}function $n(c,u){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=M}function Ee(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ys,this.__views__=[]}function go(c){var u=-1,d=null==c?0:c.length;for(this.clear();++u<d;){var v=c[u];this.set(v[0],v[1])}}function Fn(c){var u=-1,d=null==c?0:c.length;for(this.clear();++u<d;){var v=c[u];this.set(v[0],v[1])}}function Sn(c){var u=-1,d=null==c?0:c.length;for(this.clear();++u<d;){var v=c[u];this.set(v[0],v[1])}}function mo(c){var u=-1,d=null==c?0:c.length;for(this.__data__=new Sn;++u<d;)this.add(c[u])}function en(c){var u=this.__data__=new Fn(c);this.size=u.size}function vo(c,u){var d=pe(c),v=!d&&Ps(c),_=!d&&!v&&As(c),D=!d&&!v&&!_&&jl(c),x=d||v||_||D,N=x?jg(c.length,zI):[],L=N.length;for(var U in c)(u||Fe.call(c,U))&&(!x||!("length"==U||_&&("offset"==U||"parent"==U)||D&&("buffer"==U||"byteLength"==U||"byteOffset"==U)||rs(U,L)))&&N.push(U);return N}function am(c){var u=c.length;return u?c[Rd(0,u-1)]:M}function da(c,u){return Eu(pi(c),sr(u,0,c.length))}function Td(c){return Eu(pi(c))}function fa(c,u,d){(d!==M&&!fe(c[u],d)||d===M&&!(u in c))&&En(c,u,d)}function su(c,u,d){var v=c[u];(!Fe.call(c,u)||!fe(v,d)||d===M&&!(u in c))&&En(c,u,d)}function wl(c,u){for(var d=c.length;d--;)if(fe(c[d][0],u))return d;return-1}function lm(c,u,d,v){return rr(c,function(_,D,x){u(v,_,d(_),x)}),v}function cm(c,u){return c&&ci(u,bi(u),c)}function En(c,u,d){"__proto__"==u&&Qc?Qc(c,u,{configurable:!0,enumerable:!0,value:d,writable:!0}):c[u]=d}function Cl(c,u){for(var d=-1,v=u.length,_=$(v),D=null==c;++d<v;)_[d]=D?M:Kl(c,u[d]);return _}function sr(c,u,d){return c==c&&(d!==M&&(c=c<=d?c:d),u!==M&&(c=c>=u?c:u)),c}function qi(c,u,d,v,_,D){var x,N=1&u,L=2&u,U=4&u;if(d&&(x=_?d(c,v,_,D):d(c)),x!==M)return x;if(!Ht(c))return c;var j=pe(c);if(j){if(x=function(c){var u=c.length,d=new c.constructor(u);return u&&"string"==typeof c[0]&&Fe.call(c,"index")&&(d.index=c.index,d.input=c.input),d}(c),!N)return pi(c,x)}else{var K=_i(c),ee=K==Mc||K==Tg;if(As(c))return Em(c,N);if(K==Rn||K==Zo||ee&&!_){if(x=L||ee?{}:_u(c),!N)return L?function(c,u){return ci(c,Om(c),u)}(c,function(c,u){return c&&ci(u,ji(u),c)}(x,c)):function(c,u){return ci(c,Nl(c),u)}(c,cm(x,c))}else{if(!wt[K])return _?c:{};x=function(c,u,d){var v=c.constructor;switch(u){case ta:return H(c);case Xo:case al:return new v(+c);case kr:return function(c,u){var d=u?H(c.buffer):c.buffer;return new c.constructor(d,c.byteOffset,c.byteLength)}(c,d);case Bc:case Yh:case Qh:case Jh:case Zh:case Xh:case Mg:case ed:case td:return ba(c,d);case Zn:return new v;case ll:case ro:return new v(c);case Nc:return function(c){var u=new c.constructor(c.source,_S.exec(c));return u.lastIndex=c.lastIndex,u}(c);case Qi:return new v;case Rc:return function(c){return ha?Pt(ha.call(c)):{}}(c)}}(c,K,N)}}D||(D=new en);var he=D.get(c);if(he)return he;D.set(c,x),uw(c)?c.forEach(function(ke){x.add(qi(ke,u,d,ke,c,D))}):ow(c)&&c.forEach(function(ke,Ue){x.set(Ue,qi(ke,u,d,Ue,c,D))});var Ge=j?M:(U?L?zd:Wd:L?ji:bi)(c);return $i(Ge||c,function(ke,Ue){Ge&&(ke=c[Ue=ke]),su(x,Ue,qi(ke,u,d,Ue,c,D))}),x}function um(c,u,d){var v=d.length;if(null==c)return!v;for(c=Pt(c);v--;){var _=d[v],x=c[_];if(x===M&&!(_ in c)||!(0,u[_])(x))return!1}return!0}function xd(c,u,d){if("function"!=typeof c)throw new yn(Bi);return wa(function(){c.apply(M,d)},u)}function pa(c,u,d,v){var _=-1,D=di,x=!0,N=c.length,L=[],U=u.length;if(!N)return L;d&&(u=gt(u,Vn(d))),v?(D=ao,x=!1):u.length>=200&&(D=Uc,x=!1,u=new mo(u));e:for(;++_<N;){var j=c[_],K=null==d?j:d(j);if(j=v||0!==j?j:0,x&&K==K){for(var ee=U;ee--;)if(u[ee]===K)continue e;L.push(j)}else D(u,K,v)||L.push(j)}return L}k.templateSettings={escape:mS,evaluate:St,interpolate:de,variable:"",imports:{_:k}},(k.prototype=eu.prototype).constructor=k,($n.prototype=nr(eu.prototype)).constructor=$n,(Ee.prototype=nr(eu.prototype)).constructor=Ee,go.prototype.clear=function(){this.__data__=bl?bl(null):{},this.size=0},go.prototype.delete=function(c){var u=this.has(c)&&delete this.__data__[c];return this.size-=u?1:0,u},go.prototype.get=function(c){var u=this.__data__;if(bl){var d=u[c];return d===nl?M:d}return Fe.call(u,c)?u[c]:M},go.prototype.has=function(c){var u=this.__data__;return bl?u[c]!==M:Fe.call(u,c)},go.prototype.set=function(c,u){var d=this.__data__;return this.size+=this.has(c)?0:1,d[c]=bl&&u===M?nl:u,this},Fn.prototype.clear=function(){this.__data__=[],this.size=0},Fn.prototype.delete=function(c){var u=this.__data__,d=wl(u,c);return!(d<0||(d==u.length-1?u.pop():Yc.call(u,d,1),--this.size,0))},Fn.prototype.get=function(c){var u=this.__data__,d=wl(u,c);return d<0?M:u[d][1]},Fn.prototype.has=function(c){return wl(this.__data__,c)>-1},Fn.prototype.set=function(c,u){var d=this.__data__,v=wl(d,c);return v<0?(++this.size,d.push([c,u])):d[v][1]=u,this},Sn.prototype.clear=function(){this.size=0,this.__data__={hash:new go,map:new(bn||Fn),string:new go}},Sn.prototype.delete=function(c){var u=Ol(this,c).delete(c);return this.size-=u?1:0,u},Sn.prototype.get=function(c){return Ol(this,c).get(c)},Sn.prototype.has=function(c){return Ol(this,c).has(c)},Sn.prototype.set=function(c,u){var d=Ol(this,c),v=d.size;return d.set(c,u),this.size+=d.size==v?0:1,this},mo.prototype.add=mo.prototype.push=function(c){return this.__data__.set(c,nl),this},mo.prototype.has=function(c){return this.__data__.has(c)},en.prototype.clear=function(){this.__data__=new Fn,this.size=0},en.prototype.delete=function(c){var u=this.__data__,d=u.delete(c);return this.size=u.size,d},en.prototype.get=function(c){return this.__data__.get(c)},en.prototype.has=function(c){return this.__data__.has(c)},en.prototype.set=function(c,u){var d=this.__data__;if(d instanceof Fn){var v=d.__data__;if(!bn||v.length<199)return v.push([c,u]),this.size=++d.size,this;d=this.__data__=new Sn(v)}return d.set(c,u),this.size=d.size,this};var rr=pu(Gi),Md=pu(tn,!0);function QS(c,u){var d=!0;return rr(c,function(v,_,D){return d=!!u(v,_,D)}),d}function ou(c,u,d){for(var v=-1,_=c.length;++v<_;){var D=c[v],x=u(D);if(null!=x&&(N===M?x==x&&!Wn(x):d(x,N)))var N=x,L=D}return L}function ga(c,u){var d=[];return rr(c,function(v,_,D){u(v,_,D)&&d.push(v)}),d}function yi(c,u,d,v,_){var D=-1,x=c.length;for(d||(d=Ea),_||(_=[]);++D<x;){var N=c[D];u>0&&d(N)?u>1?yi(N,u-1,d,v,_):fi(_,N):v||(_[_.length]=N)}return _}var lu=Tl(),Id=Tl(!0);function Gi(c,u){return c&&lu(c,u,bi)}function tn(c,u){return c&&Id(c,u,bi)}function ma(c,u){return vn(u,function(d){return jn(c[d])})}function or(c,u){for(var d=0,v=(u=Do(u,c)).length;null!=c&&d<v;)c=c[os(u[d++])];return d&&d==v?c:M}function yo(c,u,d){var v=u(c);return pe(c)?v:fi(v,d(c))}function ii(c){return null==c?c===M?"[object Undefined]":"[object Null]":ho&&ho in Pt(c)?function(c){var u=Fe.call(c,ho),d=c[ho];try{c[ho]=M;var v=!0}catch(D){}var _=ir.call(c);return v&&(u?c[ho]=d:delete c[ho]),_}(c):function(c){return ir.call(c)}(c)}function Or(c,u){return c>u}function kl(c,u){return null!=c&&Fe.call(c,u)}function Od(c,u){return null!=c&&u in Pt(c)}function hm(c,u,d){for(var v=d?ao:di,_=c[0].length,D=c.length,x=D,N=$(D),L=1/0,U=[];x--;){var j=c[x];x&&u&&(j=gt(j,Vn(u))),L=li(j.length,L),N[x]=!d&&(u||_>=120&&j.length>=120)?new mo(x&&j):M}j=c[0];var K=-1,ee=N[0];e:for(;++K<_&&U.length<L;){var he=j[K],we=u?u(he):he;if(he=d||0!==he?he:0,!(ee?Uc(ee,we):v(U,we,d))){for(x=D;--x;){var Ge=N[x];if(!(Ge?Uc(Ge,we):v(c[x],we,d)))continue e}ee&&ee.push(we),U.push(he)}}return U}function Dl(c,u,d){var v=null==(c=Hm(c,u=Do(u,c)))?c:c[os(kn(u))];return null==v?M:hi(v,c,d)}function JS(c){return qt(c)&&ii(c)==Zo}function cu(c,u,d,v,_){return c===u||(null==c||null==u||!qt(c)&&!qt(u)?c!=c&&u!=u:function(c,u,d,v,_,D){var x=pe(c),N=pe(u),L=x?ol:_i(c),U=N?ol:_i(u),j=(L=L==Zo?Rn:L)==Rn,K=(U=U==Zo?Rn:U)==Rn,ee=L==U;if(ee&&As(c)){if(!As(u))return!1;x=!0,j=!1}if(ee&&!j)return D||(D=new en),x||jl(c)?jd(c,u,d,v,_,D):function(c,u,d,v,_,D,x){switch(d){case kr:if(c.byteLength!=u.byteLength||c.byteOffset!=u.byteOffset)return!1;c=c.buffer,u=u.buffer;case ta:return!(c.byteLength!=u.byteLength||!D(new vl(c),new vl(u)));case Xo:case al:case ll:return fe(+c,+u);case ea:return c.name==u.name&&c.message==u.message;case Nc:case ro:return c==u+"";case Zn:var N=Kg;case Qi:if(N||(N=md),c.size!=u.size&&!(1&v))return!1;var U=x.get(c);if(U)return U==u;v|=2,x.set(c,u);var j=jd(N(c),N(u),v,_,D,x);return x.delete(c),j;case Rc:if(ha)return ha.call(c)==ha.call(u)}return!1}(c,u,L,d,v,_,D);if(!(1&d)){var he=j&&Fe.call(c,"__wrapped__"),we=K&&Fe.call(u,"__wrapped__");if(he||we){var Ge=he?c.value():c,ke=we?u.value():u;return D||(D=new en),_(Ge,ke,d,v,D)}}return!!ee&&(D||(D=new en),function(c,u,d,v,_,D){var x=1&d,N=Wd(c),L=N.length;if(L!=Wd(u).length&&!x)return!1;for(var K=L;K--;){var ee=N[K];if(!(x?ee in u:Fe.call(u,ee)))return!1}var he=D.get(c),we=D.get(u);if(he&&we)return he==u&&we==c;var Ge=!0;D.set(c,u),D.set(u,c);for(var ke=x;++K<L;){var Ue=c[ee=N[K]],tt=u[ee];if(v)var on=x?v(tt,Ue,ee,u,c,D):v(Ue,tt,ee,c,u,D);if(!(on===M?Ue===tt||_(Ue,tt,d,v,D):on)){Ge=!1;break}ke||(ke="constructor"==ee)}if(Ge&&!ke){var xi=c.constructor,zn=u.constructor;xi!=zn&&"constructor"in c&&"constructor"in u&&!("function"==typeof xi&&xi instanceof xi&&"function"==typeof zn&&zn instanceof zn)&&(Ge=!1)}return D.delete(c),D.delete(u),Ge}(c,u,d,v,_,D))}(c,u,d,v,cu,_))}function fm(c,u,d,v){var _=d.length,D=_,x=!v;if(null==c)return!D;for(c=Pt(c);_--;){var N=d[_];if(x&&N[2]?N[1]!==c[N[0]]:!(N[0]in c))return!1}for(;++_<D;){var L=(N=d[_])[0],U=c[L],j=N[1];if(x&&N[2]){if(U===M&&!(L in c))return!1}else{var K=new en;if(v)var ee=v(U,j,L,c,u,K);if(!(ee===M?cu(j,U,3,v,K):ee))return!1}}return!0}function XS(c){return!(!Ht(c)||function(c){return!!Wc&&Wc in c}(c))&&(jn(c)?_d:MI).test(Rr(c))}function eE(c){return"function"==typeof c?c:null==c?Wi:"object"==typeof c?pe(c)?uu(c[0],c[1]):ni(c):Vo(c)}function pm(c){if(!Ll(c))return KI(c);var u=[];for(var d in Pt(c))Fe.call(c,d)&&"constructor"!=d&&u.push(d);return u}function bo(c,u){return c<u}function tE(c,u){var d=-1,v=sn(c)?$(c.length):[];return rr(c,function(_,D,x){v[++d]=u(_,D,x)}),v}function ni(c){var u=Kd(c);return 1==u.length&&u[0][2]?Bm(u[0][0],u[0][1]):function(d){return d===c||fm(d,c,u)}}function uu(c,u){return Zd(c)&&Lm(u)?Bm(os(c),u):function(d){var v=Kl(d,c);return v===M&&v===u?Nu(d,c):cu(u,v,3)}}function So(c,u,d,v,_){c!==u&&lu(u,function(D,x){if(_||(_=new en),Ht(D))!function(c,u,d,v,_,D,x){var N=bu(c,d),L=bu(u,d),U=x.get(L);if(U)fa(c,d,U);else{var j=D?D(N,L,d+"",c,u,x):M,K=j===M;if(K){var ee=pe(L),he=!ee&&As(L),we=!ee&&!he&&jl(L);j=L,ee||he||we?pe(N)?j=N:Ft(N)?j=pi(N):he?(K=!1,j=Em(L,!0)):we?(K=!1,j=ba(L,!0)):j=[]:Ou(L)||Ps(L)?(j=N,Ps(N)?j=Pv(N):(!Ht(N)||jn(N))&&(j=_u(L))):K=!1}K&&(x.set(L,j),_(j,L,v,D,x),x.delete(L)),fa(c,d,j)}}(c,u,x,d,So,v,_);else{var N=v?v(bu(c,x),D,x+"",c,u,_):M;N===M&&(N=D),fa(c,x,N)}},ji)}function gm(c,u){var d=c.length;if(d)return rs(u+=u<0?d:0,d)?c[u]:M}function wn(c,u,d){u=u.length?gt(u,function(D){return pe(D)?function(x){return or(x,1===D.length?D[0]:D)}:D}):[Wi];var v=-1;return u=gt(u,Vn(_e())),function(R,q){var $=R.length;for(R.sort(function(D,x){return function(c,u,d){for(var v=-1,_=c.criteria,D=u.criteria,x=_.length,N=d.length;++v<x;){var L=Cm(_[v],D[v]);if(L)return v>=N?L:L*("desc"==d[v]?-1:1)}return c.index-u.index}(D,x,d)});$--;)R[$]=R[$].value;return R}(tE(c,function(D,x,N){return{criteria:gt(u,function(U){return U(D)}),index:++v,value:D}}))}function Pl(c,u,d){for(var v=-1,_=u.length,D={};++v<_;){var x=u[v],N=or(c,x);d(N,x)&&wo(D,Do(x,c),N)}return D}function ws(c,u,d,v){var _=v?IS:Qt,D=-1,x=u.length,N=c;for(c===u&&(u=pi(u)),d&&(N=gt(c,Vn(d)));++D<x;)for(var L=0,U=u[D],j=d?d(U):U;(L=_(N,j,L,v))>-1;)N!==c&&Yc.call(N,L,1),Yc.call(c,L,1);return c}function Nd(c,u){for(var d=c?u.length:0,v=d-1;d--;){var _=u[d];if(d==v||_!==D){var D=_;rs(_)?Yc.call(c,_,1):bm(c,_)}}return c}function Rd(c,u){return c+yl(is()*(u-c+1))}function mm(c,u){var d="";if(!c||u<1||u>Cr)return d;do{u%2&&(d+=c),(u=yl(u/2))&&(c+=c)}while(u);return d}function Qe(c,u){return Su(Fm(c,u,Wi),c+"")}function vm(c){return am(Ta(c))}function Cn(c,u){var d=Ta(c);return Eu(d,sr(u,0,d.length))}function wo(c,u,d,v){if(!Ht(c))return c;for(var _=-1,D=(u=Do(u,c)).length,x=D-1,N=c;null!=N&&++_<D;){var L=os(u[_]),U=d;if("__proto__"===L||"constructor"===L||"prototype"===L)return c;if(_!=x){var j=N[L];(U=v?v(j,L,N):M)===M&&(U=Ht(j)?j:rs(u[_+1])?[]:{})}su(N,L,U),N=N[L]}return c}var Co=ua?function(c,u){return ua.set(c,u),c}:Wi,sO=Qc?function(c,u){return Qc(c,"toString",{configurable:!0,enumerable:!1,value:Hf(u),writable:!0})}:Wi;function ym(c){return Eu(Ta(c))}function Hn(c,u,d){var v=-1,_=c.length;u<0&&(u=-u>_?0:_+u),(d=d>_?_:d)<0&&(d+=_),_=u>d?0:d-u>>>0,u>>>=0;for(var D=$(_);++v<_;)D[v]=c[v+u];return D}function nE(c,u){var d;return rr(c,function(v,_,D){return!(d=u(v,_,D))}),!!d}function hu(c,u,d){var v=0,_=null==c?v:c.length;if("number"==typeof u&&u==u&&_<=2147483647){for(;v<_;){var D=v+_>>>1,x=c[D];null!==x&&!Wn(x)&&(d?x<=u:x<u)?v=D+1:_=D}return _}return Ld(c,u,Wi,d)}function Ld(c,u,d,v){var _=0,D=null==c?0:c.length;if(0===D)return 0;for(var x=(u=d(u))!=u,N=null===u,L=Wn(u),U=u===M;_<D;){var j=yl((_+D)/2),K=d(c[j]),ee=K!==M,he=null===K,we=K==K,Ge=Wn(K);if(x)var ke=v||we;else ke=U?we&&(v||ee):N?we&&ee&&(v||!he):L?we&&ee&&!he&&(v||!Ge):!he&&!Ge&&(v?K<=u:K<u);ke?_=j+1:D=j}return li(D,4294967294)}function _m(c,u){for(var d=-1,v=c.length,_=0,D=[];++d<v;){var x=c[d],N=u?u(x):x;if(!d||!fe(N,L)){var L=N;D[_++]=0===x?0:x}}return D}function va(c){return"number"==typeof c?c:Wn(c)?NaN:+c}function Ui(c){if("string"==typeof c)return c;if(pe(c))return gt(c,Ui)+"";if(Wn(c))return wd?wd.call(c):"";var u=c+"";return"0"==u&&1/c==-so?"-0":u}function ns(c,u,d){var v=-1,_=di,D=c.length,x=!0,N=[],L=N;if(d)x=!1,_=ao;else if(D>=200){var U=u?null:lE(c);if(U)return md(U);x=!1,_=Uc,L=new mo}else L=u?[]:N;e:for(;++v<D;){var j=c[v],K=u?u(j):j;if(j=d||0!==j?j:0,x&&K==K){for(var ee=L.length;ee--;)if(L[ee]===K)continue e;u&&L.push(K),N.push(j)}else _(L,K,d)||(L!==N&&L.push(K),N.push(j))}return N}function bm(c,u){return null==(c=Hm(c,u=Do(u,c)))||delete c[os(kn(u))]}function ya(c,u,d,v){return wo(c,u,d(or(c,u)),v)}function _a(c,u,d,v){for(var _=c.length,D=v?_:-1;(v?D--:++D<_)&&u(c[D],D,c););return d?Hn(c,v?0:D,v?D+1:_):Hn(c,v?D+1:0,v?_:D)}function ko(c,u){var d=c;return d instanceof Ee&&(d=d.value()),_t(u,function(v,_){return _.func.apply(_.thisArg,fi([v],_.args))},d)}function Bd(c,u,d){var v=c.length;if(v<2)return v?ns(c[0]):[];for(var _=-1,D=$(v);++_<v;)for(var x=c[_],N=-1;++N<v;)N!=_&&(D[_]=pa(D[_]||x,c[N],u,d));return ns(yi(D,1),u,d)}function Sm(c,u,d){for(var v=-1,_=c.length,D=u.length,x={};++v<_;)d(x,c[v],v<D?u[v]:M);return x}function Vd(c){return Ft(c)?c:[]}function Al(c){return"function"==typeof c?c:Wi}function Do(c,u){return pe(c)?c:Zd(c,u)?[c]:sf(ct(c))}var $d=Qe;function qn(c,u,d){var v=c.length;return d=d===M?v:d,!u&&d>=v?c:Hn(c,u,d)}var Po=z||function(c){return yt.clearTimeout(c)};function Em(c,u){if(u)return c.slice();var d=c.length,v=Kc?Kc(d):new c.constructor(d);return c.copy(v),v}function H(c){var u=new c.constructor(c.byteLength);return new vl(u).set(new vl(c)),u}function ba(c,u){var d=u?H(c.buffer):c.buffer;return new c.constructor(d,c.byteOffset,c.length)}function Cm(c,u){if(c!==u){var d=c!==M,v=null===c,_=c==c,D=Wn(c),x=u!==M,N=null===u,L=u==u,U=Wn(u);if(!N&&!U&&!D&&c>u||D&&x&&L&&!N&&!U||v&&x&&L||!d&&L||!_)return 1;if(!v&&!D&&!U&&c<u||U&&d&&_&&!v&&!D||N&&d&&_||!x&&_||!L)return-1}return 0}function Fd(c,u,d,v){for(var _=-1,D=c.length,x=d.length,N=-1,L=u.length,U=ai(D-x,0),j=$(L+U),K=!v;++N<L;)j[N]=u[N];for(;++_<x;)(K||_<D)&&(j[d[_]]=c[_]);for(;U--;)j[N++]=c[_++];return j}function rE(c,u,d,v){for(var _=-1,D=c.length,x=-1,N=d.length,L=-1,U=u.length,j=ai(D-N,0),K=$(j+U),ee=!v;++_<j;)K[_]=c[_];for(var he=_;++L<U;)K[he+L]=u[L];for(;++x<N;)(ee||_<D)&&(K[he+d[x]]=c[_++]);return K}function pi(c,u){var d=-1,v=c.length;for(u||(u=$(v));++d<v;)u[d]=c[d];return u}function ci(c,u,d,v){var _=!d;d||(d={});for(var D=-1,x=u.length;++D<x;){var N=u[D],L=v?v(d[N],c[N],N,d,c):M;L===M&&(L=c[N]),_?En(d,N,L):su(d,N,L)}return d}function fu(c,u){return function(d,v){var _=pe(d)?Ve:lm,D=u?u():{};return _(d,c,_e(v,2),D)}}function xo(c){return Qe(function(u,d){var v=-1,_=d.length,D=_>1?d[_-1]:M,x=_>2?d[2]:M;for(D=c.length>3&&"function"==typeof D?(_--,D):M,x&&Ti(d[0],d[1],x)&&(D=_<3?M:D,_=1),u=Pt(u);++v<_;){var N=d[v];N&&c(u,N,v,D)}return u})}function pu(c,u){return function(d,v){if(null==d)return d;if(!sn(d))return c(d,v);for(var _=d.length,D=u?_:-1,x=Pt(d);(u?D--:++D<_)&&!1!==v(x[D],D,x););return d}}function Tl(c){return function(u,d,v){for(var _=-1,D=Pt(u),x=v(u),N=x.length;N--;){var L=x[c?N:++_];if(!1===d(D[L],L,D))break}return u}}function Pm(c){return function(u){var d=ml(u=ct(u))?Dt(u):M,v=d?d[0]:u.charAt(0),_=d?qn(d,1).join(""):u.slice(1);return v[c]()+_}}function Sa(c){return function(u){return _t($f(If(u).replace(Hg,"")),c,"")}}function Cs(c){return function(){var u=arguments;switch(u.length){case 0:return new c;case 1:return new c(u[0]);case 2:return new c(u[0],u[1]);case 3:return new c(u[0],u[1],u[2]);case 4:return new c(u[0],u[1],u[2],u[3]);case 5:return new c(u[0],u[1],u[2],u[3],u[4]);case 6:return new c(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new c(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var d=nr(c.prototype),v=c.apply(d,u);return Ht(v)?v:d}}function Am(c){return function(u,d,v){var _=Pt(u);if(!sn(u)){var D=_e(d,3);u=bi(u),d=function(N){return D(_[N],N,_)}}var x=c(u,d,v);return x>-1?_[D?u[x]:x]:M}}function oE(c){return ss(function(u){var d=u.length,v=d,_=$n.prototype.thru;for(c&&u.reverse();v--;){var D=u[v];if("function"!=typeof D)throw new yn(Bi);if(_&&!x&&"wrapper"==yu(D))var x=new $n([],!0)}for(v=x?v:d;++v<d;){var N=yu(D=u[v]),L="wrapper"==N?vu(D):M;x=L&&ef(L[0])&&424==L[1]&&!L[4].length&&1==L[9]?x[yu(L[0])].apply(x,L[3]):1==D.length&&ef(D)?x[N]():x.thru(D)}return function(){var U=arguments,j=U[0];if(x&&1==U.length&&pe(j))return x.plant(j).value();for(var K=0,ee=d?u[K].apply(this,U):j;++K<d;)ee=u[K].call(this,ee);return ee}})}function Ml(c,u,d,v,_,D,x,N,L,U){var j=128&u,K=1&u,ee=2&u,he=24&u,we=512&u,Ge=ee?M:Cs(c);return function ke(){for(var Ue=arguments.length,tt=$(Ue),on=Ue;on--;)tt[on]=arguments[on];if(he)var xi=Mo(ke),zn=VI(tt,xi);if(v&&(tt=Fd(tt,v,_,he)),D&&(tt=rE(tt,D,x,he)),Ue-=zn,he&&Ue<U){var ut=bs(tt,xi);return nn(c,u,Ml,ke.placeholder,d,tt,ut,N,L,U-Ue)}var Ms=K?d:this,$r=ee?Ms[c]:c;return Ue=tt.length,N?tt=qm(tt,N):we&&Ue>1&&tt.reverse(),j&&L<Ue&&(tt.length=L),this&&this!==yt&&this instanceof ke&&($r=Ge||Cs($r)),$r.apply(Ms,tt)}}function Tm(c,u){return function(d,v){return function(c,u,d,v){return Gi(c,function(_,D,x){u(v,d(_),D,x)}),v}(d,c,u(v),{})}}function Hd(c,u){return function(d,v){var _;if(d===M&&v===M)return u;if(d!==M&&(_=d),v!==M){if(_===M)return v;"string"==typeof d||"string"==typeof v?(d=Ui(d),v=Ui(v)):(d=va(d),v=va(v)),_=c(d,v)}return _}}function qd(c){return ss(function(u){return u=gt(u,Vn(_e())),Qe(function(d){var v=this;return c(u,function(_){return hi(_,v,d)})})})}function gu(c,u){var d=(u=u===M?" ":Ui(u)).length;if(d<2)return d?mm(u,c):u;var v=mm(u,jt(c/co(u)));return ml(u)?qn(Dt(v),0,c).join(""):v.slice(0,c)}function xm(c){return function(u,d,v){return v&&"number"!=typeof v&&Ti(u,d,v)&&(d=v=M),u=Ts(u),d===M?(d=u,u=0):d=Ts(d),function(c,u,d,v){for(var _=-1,D=ai(jt((u-c)/(d||1)),0),x=$(D);D--;)x[v?D:++_]=c,c+=d;return x}(u,d,v=v===M?u<d?1:-1:Ts(v),c)}}function Gd(c){return function(u,d){return"string"==typeof u&&"string"==typeof d||(u=rn(u),d=rn(d)),c(u,d)}}function nn(c,u,d,v,_,D,x,N,L,U){var j=8&u;u|=j?32:64,4&(u&=~(j?64:32))||(u&=-4);var Ge=[c,u,_,j?D:M,j?x:M,j?M:D,j?M:x,N,L,U],ke=d.apply(M,Ge);return ef(c)&&Nr(ke,Ge),ke.placeholder=v,Gm(ke,c,u)}function Ud(c){var u=Jt[c];return function(d,v){if(d=rn(d),(v=null==v?0:li(Le(v),292))&&Jc(d)){var _=(ct(d)+"e").split("e");return+((_=(ct(u(_[0]+"e"+(+_[1]+v)))+"e").split("e"))[0]+"e"+(+_[1]-v))}return u(d)}}var lE=po&&1/md(new po([,-0]))[1]==so?function(c){return new po(c)}:Uf;function Mm(c){return function(u){var d=_i(u);return d==Zn?Kg(u):d==Qi?function(R){var q=-1,$=Array(R.size);return R.forEach(function(ae){$[++q]=[ae,ae]}),$}(u):function(R,q){return gt(q,function($){return[$,R[$]]})}(u,c(u))}}function Gn(c,u,d,v,_,D,x,N){var L=2&u;if(!L&&"function"!=typeof c)throw new yn(Bi);var U=v?v.length:0;if(U||(u&=-97,v=_=M),x=x===M?x:ai(Le(x),0),N=N===M?N:Le(N),U-=_?_.length:0,64&u){var j=v,K=_;v=_=M}var ee=L?M:vu(c),he=[c,u,d,v,_,j,K,D,x,N];if(ee&&function(c,u){var d=c[1],v=u[1],_=d|v;if(!(_<131||(128==v&&8==d||128==v&&256==d&&c[7].length<=u[8]||384==v&&u[7].length<=u[8]&&8==d)))return c;1&v&&(c[2]=u[2],_|=1&d?0:4);var N=u[3];if(N){var L=c[3];c[3]=L?Fd(L,N,u[4]):N,c[4]=L?bs(c[3],Xr):u[4]}(N=u[5])&&(c[5]=(L=c[5])?rE(L,N,u[6]):N,c[6]=L?bs(c[5],Xr):u[6]),(N=u[7])&&(c[7]=N),128&v&&(c[8]=null==c[8]?u[8]:li(c[8],u[8])),null==c[9]&&(c[9]=u[9]),c[0]=u[0],c[1]=_}(he,ee),c=he[0],u=he[1],d=he[2],v=he[3],_=he[4],!(N=he[9]=he[9]===M?L?0:c.length:ai(he[9]-U,0))&&24&u&&(u&=-25),u&&1!=u)we=8==u||16==u?function(c,u,d){var v=Cs(c);return function _(){for(var D=arguments.length,x=$(D),N=D,L=Mo(_);N--;)x[N]=arguments[N];var U=D<3&&x[0]!==L&&x[D-1]!==L?[]:bs(x,L);return(D-=U.length)<d?nn(c,u,Ml,_.placeholder,M,x,U,M,M,d-D):hi(this&&this!==yt&&this instanceof _?v:c,this,x)}}(c,u,N):32!=u&&33!=u||_.length?Ml.apply(M,he):function(c,u,d,v){var _=1&u,D=Cs(c);return function x(){for(var N=-1,L=arguments.length,U=-1,j=v.length,K=$(j+L),ee=this&&this!==yt&&this instanceof x?D:c;++U<j;)K[U]=v[U];for(;L--;)K[U++]=arguments[++N];return hi(ee,_?d:this,K)}}(c,u,d,v);else var we=function(c,u,d){var v=1&u,_=Cs(c);return function D(){return(this&&this!==yt&&this instanceof D?_:c).apply(v?d:this,arguments)}}(c,u,d);return Gm((ee?Co:Nr)(we,he),c,u)}function Pi(c,u,d,v){return c===M||fe(c,la[d])&&!Fe.call(v,d)?u:c}function mu(c,u,d,v,_,D){return Ht(c)&&Ht(u)&&(D.set(u,c),So(c,u,M,mu,D),D.delete(u)),c}function Im(c){return Ou(c)?M:c}function jd(c,u,d,v,_,D){var x=1&d,N=c.length,L=u.length;if(N!=L&&!(x&&L>N))return!1;var U=D.get(c),j=D.get(u);if(U&&j)return U==u&&j==c;var K=-1,ee=!0,he=2&d?new mo:M;for(D.set(c,u),D.set(u,c);++K<N;){var we=c[K],Ge=u[K];if(v)var ke=x?v(Ge,we,K,u,c,D):v(we,Ge,K,c,u,D);if(ke!==M){if(ke)continue;ee=!1;break}if(he){if(!dd(u,function(Ue,tt){if(!Uc(he,tt)&&(we===Ue||_(we,Ue,d,v,D)))return he.push(tt)})){ee=!1;break}}else if(we!==Ge&&!_(we,Ge,d,v,D)){ee=!1;break}}return D.delete(c),D.delete(u),ee}function ss(c){return Su(Fm(c,M,$l),c+"")}function Wd(c){return yo(c,bi,Nl)}function zd(c){return yo(c,ji,Om)}var vu=ua?function(c){return ua.get(c)}:Uf;function yu(c){for(var u=c.name+"",d=xr[u],v=Fe.call(xr,u)?d.length:0;v--;){var _=d[v],D=_.func;if(null==D||D==c)return _.name}return u}function Mo(c){return(Fe.call(k,"placeholder")?k:c).placeholder}function _e(){var c=k.iteratee||Bo;return c=c===Bo?eE:c,arguments.length?c(arguments[0],arguments[1]):c}function Ol(c,u){var d=c.__data__;return function(c){var u=typeof c;return"string"==u||"number"==u||"symbol"==u||"boolean"==u?"__proto__"!==c:null===c}(u)?d["string"==typeof u?"string":"hash"]:d.map}function Kd(c){for(var u=bi(c),d=u.length;d--;){var v=u[d],_=c[v];u[d]=[v,_,Lm(_)]}return u}function Io(c,u){var d=function(R,q){return null==R?M:R[q]}(c,u);return XS(d)?d:M}var Nl=fo?function(c){return null==c?[]:(c=Pt(c),vn(fo(c),function(u){return Zg.call(c,u)}))}:Vr,Om=fo?function(c){for(var u=[];c;)fi(u,Nl(c)),c=Ce(c);return u}:Vr,_i=ii;function Qd(c,u,d){for(var v=-1,_=(u=Do(u,c)).length,D=!1;++v<_;){var x=os(u[v]);if(!(D=null!=c&&d(c,x)))break;c=c[x]}return D||++v!=_?D:!!(_=null==c?0:c.length)&&wf(_)&&rs(x,_)&&(pe(c)||Ps(c))}function _u(c){return"function"!=typeof c.constructor||Ll(c)?{}:nr(Ce(c))}function Ea(c){return pe(c)||Ps(c)||!!(Xg&&c&&c[Xg])}function rs(c,u){var d=typeof c;return!!(u=null==u?Cr:u)&&("number"==d||"symbol"!=d&&OI.test(c))&&c>-1&&c%1==0&&c<u}function Ti(c,u,d){if(!Ht(d))return!1;var v=typeof u;return!!("number"==v?sn(d)&&rs(u,d.length):"string"==v&&u in d)&&fe(d[u],c)}function Zd(c,u){if(pe(c))return!1;var d=typeof c;return!("number"!=d&&"symbol"!=d&&"boolean"!=d&&null!=c&&!Wn(c))||DI.test(c)||!Ig.test(c)||null!=u&&c in Pt(u)}function ef(c){var u=yu(c),d=k[u];if("function"!=typeof d||!(u in Ee.prototype))return!1;if(c===d)return!0;var v=vu(d);return!!v&&c===v[0]}(Tr&&_i(new Tr(new ArrayBuffer(1)))!=kr||bn&&_i(new bn)!=Zn||Sd&&_i(Sd.resolve())!=hS||po&&_i(new po)!=Qi||_l&&_i(new _l)!=Lc)&&(_i=function(c){var u=ii(c),d=u==Rn?c.constructor:M,v=d?Rr(d):"";if(v)switch(v){case tm:return kr;case Ed:return Zn;case HS:return hS;case im:return Qi;case Xc:return Lc}return u});var uE=yd?jn:Wf;function Ll(c){var u=c&&c.constructor;return c===("function"==typeof u&&u.prototype||la)}function Lm(c){return c==c&&!Ht(c)}function Bm(c,u){return function(d){return null!=d&&d[c]===u&&(u!==M||c in Pt(d))}}function Fm(c,u,d){return u=ai(u===M?c.length-1:u,0),function(){for(var v=arguments,_=-1,D=ai(v.length-u,0),x=$(D);++_<D;)x[_]=v[u+_];_=-1;for(var N=$(u+1);++_<u;)N[_]=v[_];return N[u]=d(x),hi(c,this,N)}}function Hm(c,u){return u.length<2?c:or(c,Hn(u,0,-1))}function qm(c,u){for(var d=c.length,v=li(u.length,d),_=pi(c);v--;){var D=u[v];c[v]=rs(D,d)?_[D]:M}return c}function bu(c,u){if(("constructor"!==u||"function"!=typeof c[u])&&"__proto__"!=u)return c[u]}var Nr=Bl(Co),wa=Vt||function(c,u){return yt.setTimeout(c,u)},Su=Bl(sO);function Gm(c,u,d){var v=u+"";return Su(c,function(c,u){var d=u.length;if(!d)return c;var v=d-1;return u[v]=(d>1?"& ":"")+u[v],u=u.join(d>2?", ":" "),c.replace(vS,"{\n/* [wrapped with "+u+"] */\n")}(v,function(c,u){return $i(cS,function(d){var v="_."+d[0];u&d[1]&&!di(c,v)&&c.push(v)}),c.sort()}(function(c){var u=c.match(PI);return u?u[1].split(AI):[]}(v),d)))}function Bl(c){var u=0,d=0;return function(){var v=Zc(),_=16-(v-d);if(d=v,_>0){if(++u>=800)return arguments[0]}else u=0;return c.apply(M,arguments)}}function Eu(c,u){var d=-1,v=c.length,_=v-1;for(u=u===M?v:u;++d<u;){var D=Rd(d,_),x=c[D];c[D]=c[d],c[d]=x}return c.length=u,c}var u,d,sf=(u=Ul(function(c){var u=[];return 46===c.charCodeAt(0)&&u.push(""),c.replace(Dr,function(d,v,_,D){u.push(_?D.replace(TI,"$1"):v||d)}),u},function(v){return 500===d.size&&d.clear(),v}),d=u.cache,u);function os(c){if("string"==typeof c||Wn(c))return c;var u=c+"";return"0"==u&&1/c==-so?"-0":u}function Rr(c){if(null!=c){try{return uo.call(c)}catch(u){}try{return c+""}catch(u){}}return""}function of(c){if(c instanceof Ee)return c.clone();var u=new $n(c.__wrapped__,c.__chain__);return u.__actions__=pi(c.__actions__),u.__index__=c.__index__,u.__values__=c.__values__,u}var af=Qe(function(c,u){return Ft(c)?pa(c,yi(u,1,Ft,!0)):[]}),lf=Qe(function(c,u){var d=kn(u);return Ft(d)&&(d=M),Ft(c)?pa(c,yi(u,1,Ft,!0),_e(d,2)):[]}),cf=Qe(function(c,u){var d=kn(u);return Ft(d)&&(d=M),Ft(c)?pa(c,yi(u,1,Ft,!0),M,d):[]});function uf(c,u,d){var v=null==c?0:c.length;if(!v)return-1;var _=null==d?0:Le(d);return _<0&&(_=ai(v+_,0)),_s(c,_e(u,3),_)}function ku(c,u,d){var v=null==c?0:c.length;if(!v)return-1;var _=v-1;return d!==M&&(_=Le(d),_=d<0?ai(v+_,0):li(_,v-1)),_s(c,_e(u,3),_,!0)}function $l(c){return null!=c&&c.length?yi(c,1):[]}function Wm(c){return c&&c.length?c[0]:M}var Du=Qe(function(c){var u=gt(c,Vd);return u.length&&u[0]===c[0]?hm(u):[]}),df=Qe(function(c){var u=kn(c),d=gt(c,Vd);return u===kn(d)?u=M:d.pop(),d.length&&d[0]===c[0]?hm(d,_e(u,2)):[]}),zm=Qe(function(c){var u=kn(c),d=gt(c,Vd);return(u="function"==typeof u?u:M)&&d.pop(),d.length&&d[0]===c[0]?hm(d,M,u):[]});function kn(c){var u=null==c?0:c.length;return u?c[u-1]:M}var vE=Qe(Ym);function Ym(c,u){return c&&c.length&&u&&u.length?ws(c,u):c}var Dn=ss(function(c,u){var d=null==c?0:c.length,v=Cl(c,u);return Nd(c,gt(u,function(_){return rs(_,d)?+_:_}).sort(Cm)),v});function Pu(c){return null==c?c:em.call(c)}var Ds=Qe(function(c){return ns(yi(c,1,Ft,!0))}),Hl=Qe(function(c){var u=kn(c);return Ft(u)&&(u=M),ns(yi(c,1,Ft,!0),_e(u,2))}),Zm=Qe(function(c){var u=kn(c);return u="function"==typeof u?u:M,ns(yi(c,1,Ft,!0),M,u)});function tv(c){if(!c||!c.length)return[];var u=0;return c=vn(c,function(d){if(Ft(d))return u=ai(d.length,u),!0}),jg(u,function(d){return gt(c,pl(d))})}function xE(c,u){if(!c||!c.length)return[];var d=tv(c);return null==u?d:gt(d,function(v){return hi(u,M,v)})}var ff=Qe(function(c,u){return Ft(c)?pa(c,u):[]}),pf=Qe(function(c){return Bd(vn(c,Ft))}),gf=Qe(function(c){var u=kn(c);return Ft(u)&&(u=M),Bd(vn(c,Ft),_e(u,2))}),cO=Qe(function(c){var u=kn(c);return u="function"==typeof u?u:M,Bd(vn(c,Ft),M,u)}),uO=Qe(tv),IE=Qe(function(c){var u=c.length,d=u>1?c[u-1]:M;return d="function"==typeof d?(c.pop(),d):M,xE(c,d)});function nv(c){var u=k(c);return u.__chain__=!0,u}function ql(c,u){return u(c)}var Au=ss(function(c){var u=c.length,d=u?c[0]:0,v=this.__wrapped__,_=function(D){return Cl(D,c)};return!(u>1||this.__actions__.length)&&v instanceof Ee&&rs(d)?((v=v.slice(d,+d+(u?1:0))).__actions__.push({func:ql,args:[_],thisArg:M}),new $n(v,this.__chain__).thru(function(D){return u&&!D.length&&D.push(M),D})):this.thru(_)}),ov=fu(function(c,u,d){Fe.call(c,d)?++c[d]:En(c,d,1)}),$E=Am(uf),FE=Am(ku);function Ca(c,u){return(pe(c)?$i:rr)(c,_e(u,3))}function av(c,u){return(pe(c)?ra:Md)(c,_e(u,3))}var lv=fu(function(c,u,d){Fe.call(c,d)?c[d].push(u):En(c,d,[u])}),cv=Qe(function(c,u,d){var v=-1,_="function"==typeof u,D=sn(c)?$(c.length):[];return rr(c,function(x){D[++v]=_?hi(u,x,d):Dl(x,u,d)}),D}),qE=fu(function(c,u,d){En(c,d,u)});function yf(c,u){return(pe(c)?gt:tE)(c,_e(u,3))}var Tu=fu(function(c,u,d){c[d?0:1].push(u)},function(){return[[],[]]}),KE=Qe(function(c,u){if(null==c)return[];var d=u.length;return d>1&&Ti(c,u[0],u[1])?u=[]:d>2&&Ti(u[0],u[1],u[2])&&(u=[u[0]]),wn(c,yi(u,1),[])}),Gl=nt||function(){return yt.Date.now()};function _f(c,u,d){return u=d?M:u,Gn(c,128,M,M,M,M,u=c&&null==u?c.length:u)}function dv(c,u){var d;if("function"!=typeof u)throw new yn(Bi);return c=Le(c),function(){return--c>0&&(d=u.apply(this,arguments)),c<=1&&(u=M),d}}var bf=Qe(function(c,u,d){var v=1;if(d.length){var _=bs(d,Mo(bf));v|=32}return Gn(c,v,u,d,_)}),fv=Qe(function(c,u,d){var v=3;if(d.length){var _=bs(d,Mo(fv));v|=32}return Gn(u,v,c,d,_)});function YE(c,u,d){var v,_,D,x,N,L,U=0,j=!1,K=!1,ee=!0;if("function"!=typeof c)throw new yn(Bi);function he(ut){var Ms=v,$r=_;return v=_=M,U=ut,x=c.apply($r,Ms)}function we(ut){return U=ut,N=wa(Ue,u),j?he(ut):x}function ke(ut){var Ms=ut-L;return L===M||Ms>=u||Ms<0||K&&ut-U>=D}function Ue(){var ut=Gl();if(ke(ut))return tt(ut);N=wa(Ue,function(ut){var Xw=u-(ut-L);return K?li(Xw,D-(ut-U)):Xw}(ut))}function tt(ut){return N=M,ee&&v?he(ut):(v=_=M,x)}function zn(){var ut=Gl(),Ms=ke(ut);if(v=arguments,_=this,L=ut,Ms){if(N===M)return we(L);if(K)return Po(N),N=wa(Ue,u),he(L)}return N===M&&(N=wa(Ue,u)),x}return u=rn(u)||0,Ht(d)&&(j=!!d.leading,D=(K="maxWait"in d)?ai(rn(d.maxWait)||0,u):D,ee="trailing"in d?!!d.trailing:ee),zn.cancel=function(){N!==M&&Po(N),U=0,v=L=_=N=M},zn.flush=function(){return N===M?x:tt(Gl())},zn}var pO=Qe(function(c,u){return xd(c,1,u)}),pv=Qe(function(c,u,d){return xd(c,rn(u)||0,d)});function Ul(c,u){if("function"!=typeof c||null!=u&&"function"!=typeof u)throw new yn(Bi);var d=function(){var v=arguments,_=u?u.apply(this,v):v[0],D=d.cache;if(D.has(_))return D.get(_);var x=c.apply(this,v);return d.cache=D.set(_,x)||D,x};return d.cache=new(Ul.Cache||Sn),d}function Sf(c){if("function"!=typeof c)throw new yn(Bi);return function(){var u=arguments;switch(u.length){case 0:return!c.call(this);case 1:return!c.call(this,u[0]);case 2:return!c.call(this,u[0],u[1]);case 3:return!c.call(this,u[0],u[1],u[2])}return!c.apply(this,u)}}Ul.Cache=Sn;var QE=$d(function(c,u){var d=(u=1==u.length&&pe(u[0])?gt(u[0],Vn(_e())):gt(yi(u,1),Vn(_e()))).length;return Qe(function(v){for(var _=-1,D=li(v.length,d);++_<D;)v[_]=u[_].call(this,v[_]);return hi(c,this,v)})}),xu=Qe(function(c,u){var d=bs(u,Mo(xu));return Gn(c,32,M,u,d)}),mv=Qe(function(c,u){var d=bs(u,Mo(mv));return Gn(c,64,M,u,d)}),JE=ss(function(c,u){return Gn(c,256,M,M,M,u)});function fe(c,u){return c===u||c!=c&&u!=u}var F=Gd(Or),_v=Gd(function(c,u){return c>=u}),Ps=JS(function(){return arguments}())?JS:function(c){return qt(c)&&Fe.call(c,"callee")&&!Zg.call(c,"callee")},pe=$.isArray,bv=Xi?Vn(Xi):function(c){return qt(c)&&ii(c)==ta};function sn(c){return null!=c&&wf(c.length)&&!jn(c)}function Ft(c){return qt(c)&&sn(c)}var As=Ss||Wf,Sv=Pr?Vn(Pr):function(c){return qt(c)&&ii(c)==al};function cs(c){if(!qt(c))return!1;var u=ii(c);return u==ea||"[object DOMException]"==u||"string"==typeof c.message&&"string"==typeof c.name&&!Ou(c)}function jn(c){if(!Ht(c))return!1;var u=ii(c);return u==Mc||u==Tg||"[object AsyncFunction]"==u||"[object Proxy]"==u}function Iu(c){return"number"==typeof c&&c==Le(c)}function wf(c){return"number"==typeof c&&c>-1&&c%1==0&&c<=Cr}function Ht(c){var u=typeof c;return null!=c&&("object"==u||"function"==u)}function qt(c){return null!=c&&"object"==typeof c}var ow=oi?Vn(oi):function(c){return qt(c)&&_i(c)==Zn};function cw(c){return"number"==typeof c||qt(c)&&ii(c)==ll}function Ou(c){if(!qt(c)||ii(c)!=Rn)return!1;var u=Ce(c);if(null===u)return!0;var d=Fe.call(u,"constructor")&&u.constructor;return"function"==typeof d&&d instanceof d&&uo.call(d)==_n}var kv=Ar?Vn(Ar):function(c){return qt(c)&&ii(c)==Nc},uw=Bt?Vn(Bt):function(c){return qt(c)&&_i(c)==Qi};function kf(c){return"string"==typeof c||!pe(c)&&qt(c)&&ii(c)==ro}function Wn(c){return"symbol"==typeof c||qt(c)&&ii(c)==Rc}var jl=sa?Vn(sa):function(c){return qt(c)&&wf(c.length)&&!!kt[ii(c)]},Lr=Gd(bo),Df=Gd(function(c,u){return c<=u});function Dv(c){if(!c)return[];if(sn(c))return kf(c)?Dt(c):pi(c);if(ca&&c[ca])return function(R){for(var q,$=[];!(q=R.next()).done;)$.push(q.value);return $}(c[ca]());var u=_i(c);return(u==Zn?Kg:u==Qi?md:Ta)(c)}function Ts(c){return c?(c=rn(c))===so||c===-so?17976931348623157e292*(c<0?-1:1):c==c?c:0:0===c?c:0}function Le(c){var u=Ts(c),d=u%1;return u==u?d?u-d:u:0}function Pf(c){return c?sr(Le(c),0,ys):0}function rn(c){if("number"==typeof c)return c;if(Wn(c))return NaN;if(Ht(c)){var u="function"==typeof c.valueOf?c.valueOf():c;c=Ht(u)?u+"":u}if("string"!=typeof c)return 0===c?c:+c;c=Wg(c);var d=xI.test(c);return d||II.test(c)?ki(c.slice(2),d?2:8):Js.test(c)?NaN:+c}function Pv(c){return ci(c,ji(c))}function ct(c){return null==c?"":Ui(c)}var hw=xo(function(c,u){if(Ll(u)||sn(u))ci(u,bi(u),c);else for(var d in u)Fe.call(u,d)&&su(c,d,u[d])}),dw=xo(function(c,u){ci(u,ji(u),c)}),ka=xo(function(c,u,d,v){ci(u,ji(u),c,v)}),fw=xo(function(c,u,d,v){ci(u,bi(u),c,v)}),Av=ss(Cl),gw=Qe(function(c,u){c=Pt(c);var d=-1,v=u.length,_=v>2?u[2]:M;for(_&&Ti(u[0],u[1],_)&&(v=1);++d<v;)for(var D=u[d],x=ji(D),N=-1,L=x.length;++N<L;){var U=x[N],j=c[U];(j===M||fe(j,la[U])&&!Fe.call(c,U))&&(c[U]=D[U])}return c}),Wl=Qe(function(c){return c.push(M,mu),hi(Nv,M,c)});function Kl(c,u,d){var v=null==c?M:or(c,u);return v===M?d:v}function Nu(c,u){return null!=c&&Qd(c,u,Od)}var Ru=Tm(function(c,u,d){null!=u&&"function"!=typeof u.toString&&(u=ir.call(u)),c[u]=d},Hf(Wi)),vw=Tm(function(c,u,d){null!=u&&"function"!=typeof u.toString&&(u=ir.call(u)),Fe.call(c,u)?c[u].push(d):c[u]=[d]},_e),Mv=Qe(Dl);function bi(c){return sn(c)?vo(c):pm(c)}function ji(c){return sn(c)?vo(c,!0):function(c){if(!Ht(c))return function(c){var u=[];if(null!=c)for(var d in Pt(c))u.push(d);return u}(c);var u=Ll(c),d=[];for(var v in c)"constructor"==v&&(u||!Fe.call(c,v))||d.push(v);return d}(c)}var Ov=xo(function(c,u,d){So(c,u,d)}),Nv=xo(function(c,u,d,v){So(c,u,d,v)}),_w=ss(function(c,u){var d={};if(null==c)return d;var v=!1;u=gt(u,function(D){return D=Do(D,c),v||(v=D.length>1),D}),ci(c,zd(c),d),v&&(d=qi(d,7,Im));for(var _=u.length;_--;)bm(d,u[_]);return d}),bw=ss(function(c,u){return null==c?{}:function(c,u){return Pl(c,u,function(d,v){return Nu(c,v)})}(c,u)});function Rv(c,u){if(null==c)return{};var d=gt(zd(c),function(v){return[v]});return u=_e(u),Pl(c,d,function(v,_){return u(v,_[0])})}var Sw=Mm(bi),Bv=Mm(ji);function Ta(c){return null==c?[]:zg(c,bi(c))}var Dw=Sa(function(c,u,d){return u=u.toLowerCase(),c+(d?Mf(u):u)});function Mf(c){return Bu(ct(c).toLowerCase())}function If(c){return(c=ct(c))&&c.replace(bS,$I).replace(PS,"")}var Aw=Sa(function(c,u,d){return c+(d?"-":"")+u.toLowerCase()}),Tw=Sa(function(c,u,d){return c+(d?" ":"")+u.toLowerCase()}),kO=Pm("toLowerCase"),Nw=Sa(function(c,u,d){return c+(d?"_":"")+u.toLowerCase()}),Rf=Sa(function(c,u,d){return c+(d?" ":"")+Bu(u)}),Gv=Sa(function(c,u,d){return c+(d?" ":"")+u.toUpperCase()}),Bu=Pm("toUpperCase");function $f(c,u,d){return c=ct(c),(u=d?M:u)===M?function(R){return Ln.test(R)}(c)?function(R){return R.match(hl)||[]}(c):function(R){return R.match($c)||[]}(c):c.match(u)||[]}var Ff=Qe(function(c,u){try{return hi(c,M,u)}catch(d){return cs(d)?d:new Ie(d)}}),Uv=ss(function(c,u){return $i(u,function(d){d=os(d),En(c,d,bf(c[d],c))}),c});function Hf(c){return function(){return c}}var PO=oE(),xa=oE(!0);function Wi(c){return c}function Bo(c){return eE("function"==typeof c?c:qi(c,1))}var qf=Qe(function(c,u){return function(d){return Dl(d,c,u)}}),jv=Qe(function(c,u){return function(d){return Dl(c,d,u)}});function Gf(c,u,d){var v=bi(u),_=ma(u,v);null==d&&(!Ht(u)||!_.length&&v.length)&&(d=u,u=c,c=this,_=ma(u,bi(u)));var D=!(Ht(d)&&"chain"in d&&!d.chain),x=jn(c);return $i(_,function(N){var L=u[N];c[N]=L,x&&(c.prototype[N]=function(){var U=this.__chain__;if(D||U){var j=c(this.__wrapped__),K=j.__actions__=pi(this.__actions__);return K.push({func:L,args:arguments,thisArg:c}),j.__chain__=U,j}return L.apply(c,fi([this.value()],arguments))})}),c}function Uf(){}var Hw=qd(gt),qw=qd(qc),zv=qd(dd);function Vo(c){return Zd(c)?pl(os(c)):function(c){return function(u){return or(u,c)}}(c)}var Gw=xm(),Uw=xm(!0);function Vr(){return[]}function Wf(){return!1}var At=Hd(function(c,u){return c+u},0),zf=Ud("ceil"),TO=Hd(function(c,u){return c/u},1),cr=Ud("floor"),Jv=Hd(function(c,u){return c*u},1),Zv=Ud("round"),Xv=Hd(function(c,u){return c-u},0);return k.after=function(c,u){if("function"!=typeof u)throw new yn(Bi);return c=Le(c),function(){if(--c<1)return u.apply(this,arguments)}},k.ary=_f,k.assign=hw,k.assignIn=dw,k.assignInWith=ka,k.assignWith=fw,k.at=Av,k.before=dv,k.bind=bf,k.bindAll=Uv,k.bindKey=fv,k.castArray=function(){if(!arguments.length)return[];var c=arguments[0];return pe(c)?c:[c]},k.chain=nv,k.chunk=function(c,u,d){u=(d?Ti(c,u,d):u===M)?1:ai(Le(u),0);var v=null==c?0:c.length;if(!v||u<1)return[];for(var _=0,D=0,x=$(jt(v/u));_<v;)x[D++]=Hn(c,_,_+=u);return x},k.compact=function(c){for(var u=-1,d=null==c?0:c.length,v=0,_=[];++u<d;){var D=c[u];D&&(_[v++]=D)}return _},k.concat=function(){var c=arguments.length;if(!c)return[];for(var u=$(c-1),d=arguments[0],v=c;v--;)u[v-1]=arguments[v];return fi(pe(d)?pi(d):[d],yi(u,1))},k.cond=function(c){var u=null==c?0:c.length,d=_e();return c=u?gt(c,function(v){if("function"!=typeof v[1])throw new yn(Bi);return[d(v[0]),v[1]]}):[],Qe(function(v){for(var _=-1;++_<u;){var D=c[_];if(hi(D[0],this,v))return hi(D[1],this,v)}})},k.conforms=function(c){return function(c){var u=bi(c);return function(d){return um(d,c,u)}}(qi(c,1))},k.constant=Hf,k.countBy=ov,k.create=function(c,u){var d=nr(c);return null==u?d:cm(d,u)},k.curry=function Lo(c,u,d){var v=Gn(c,8,M,M,M,M,M,u=d?M:u);return v.placeholder=Lo.placeholder,v},k.curryRight=function as(c,u,d){var v=Gn(c,16,M,M,M,M,M,u=d?M:u);return v.placeholder=as.placeholder,v},k.debounce=YE,k.defaults=gw,k.defaultsDeep=Wl,k.defer=pO,k.delay=pv,k.difference=af,k.differenceBy=lf,k.differenceWith=cf,k.drop=function(c,u,d){var v=null==c?0:c.length;return v?Hn(c,(u=d||u===M?1:Le(u))<0?0:u,v):[]},k.dropRight=function(c,u,d){var v=null==c?0:c.length;return v?Hn(c,0,(u=v-(u=d||u===M?1:Le(u)))<0?0:u):[]},k.dropRightWhile=function(c,u){return c&&c.length?_a(c,_e(u,3),!0,!0):[]},k.dropWhile=function(c,u){return c&&c.length?_a(c,_e(u,3),!0):[]},k.fill=function(c,u,d,v){var _=null==c?0:c.length;return _?(d&&"number"!=typeof d&&Ti(c,u,d)&&(d=0,v=_),function(c,u,d,v){var _=c.length;for((d=Le(d))<0&&(d=-d>_?0:_+d),(v=v===M||v>_?_:Le(v))<0&&(v+=_),v=d>v?0:Pf(v);d<v;)c[d++]=u;return c}(c,u,d,v)):[]},k.filter=function(c,u){return(pe(c)?vn:ga)(c,_e(u,3))},k.flatMap=function(c,u){return yi(yf(c,u),1)},k.flatMapDeep=function(c,u){return yi(yf(c,u),so)},k.flatMapDepth=function(c,u,d){return d=d===M?1:Le(d),yi(yf(c,u),d)},k.flatten=$l,k.flattenDeep=function(c){return null!=c&&c.length?yi(c,so):[]},k.flattenDepth=function(c,u){return null!=c&&c.length?yi(c,u=u===M?1:Le(u)):[]},k.flip=function(c){return Gn(c,512)},k.flow=PO,k.flowRight=xa,k.fromPairs=function(c){for(var u=-1,d=null==c?0:c.length,v={};++u<d;){var _=c[u];v[_[0]]=_[1]}return v},k.functions=function(c){return null==c?[]:ma(c,bi(c))},k.functionsIn=function(c){return null==c?[]:ma(c,ji(c))},k.groupBy=lv,k.initial=function(c){return null!=c&&c.length?Hn(c,0,-1):[]},k.intersection=Du,k.intersectionBy=df,k.intersectionWith=zm,k.invert=Ru,k.invertBy=vw,k.invokeMap=cv,k.iteratee=Bo,k.keyBy=qE,k.keys=bi,k.keysIn=ji,k.map=yf,k.mapKeys=function(c,u){var d={};return u=_e(u,3),Gi(c,function(v,_,D){En(d,u(v,_,D),v)}),d},k.mapValues=function(c,u){var d={};return u=_e(u,3),Gi(c,function(v,_,D){En(d,_,u(v,_,D))}),d},k.matches=function(c){return ni(qi(c,1))},k.matchesProperty=function(c,u){return uu(c,qi(u,1))},k.memoize=Ul,k.merge=Ov,k.mergeWith=Nv,k.method=qf,k.methodOf=jv,k.mixin=Gf,k.negate=Sf,k.nthArg=function(c){return c=Le(c),Qe(function(u){return gm(u,c)})},k.omit=_w,k.omitBy=function(c,u){return Rv(c,Sf(_e(u)))},k.once=function(c){return dv(2,c)},k.orderBy=function(c,u,d,v){return null==c?[]:(pe(u)||(u=null==u?[]:[u]),pe(d=v?M:d)||(d=null==d?[]:[d]),wn(c,u,d))},k.over=Hw,k.overArgs=QE,k.overEvery=qw,k.overSome=zv,k.partial=xu,k.partialRight=mv,k.partition=Tu,k.pick=bw,k.pickBy=Rv,k.property=Vo,k.propertyOf=function(c){return function(u){return null==c?M:or(c,u)}},k.pull=vE,k.pullAll=Ym,k.pullAllBy=function(c,u,d){return c&&c.length&&u&&u.length?ws(c,u,_e(d,2)):c},k.pullAllWith=function(c,u,d){return c&&c.length&&u&&u.length?ws(c,u,M,d):c},k.pullAt=Dn,k.range=Gw,k.rangeRight=Uw,k.rearg=JE,k.reject=function(c,u){return(pe(c)?vn:ga)(c,Sf(_e(u,3)))},k.remove=function(c,u){var d=[];if(!c||!c.length)return d;var v=-1,_=[],D=c.length;for(u=_e(u,3);++v<D;){var x=c[v];u(x,v,c)&&(d.push(x),_.push(v))}return Nd(c,_),d},k.rest=function(c,u){if("function"!=typeof c)throw new yn(Bi);return Qe(c,u=u===M?u:Le(u))},k.reverse=Pu,k.sampleSize=function(c,u,d){return u=(d?Ti(c,u,d):u===M)?1:Le(u),(pe(c)?da:Cn)(c,u)},k.set=function(c,u,d){return null==c?c:wo(c,u,d)},k.setWith=function(c,u,d,v){return v="function"==typeof v?v:M,null==c?c:wo(c,u,d,v)},k.shuffle=function(c){return(pe(c)?Td:ym)(c)},k.slice=function(c,u,d){var v=null==c?0:c.length;return v?(d&&"number"!=typeof d&&Ti(c,u,d)?(u=0,d=v):(u=null==u?0:Le(u),d=d===M?v:Le(d)),Hn(c,u,d)):[]},k.sortBy=KE,k.sortedUniq=function(c){return c&&c.length?_m(c):[]},k.sortedUniqBy=function(c,u){return c&&c.length?_m(c,_e(u,2)):[]},k.split=function(c,u,d){return d&&"number"!=typeof d&&Ti(c,u,d)&&(u=d=M),(d=d===M?ys:d>>>0)?(c=ct(c))&&("string"==typeof u||null!=u&&!kv(u))&&!(u=Ui(u))&&ml(c)?qn(Dt(c),0,d):c.split(u,d):[]},k.spread=function(c,u){if("function"!=typeof c)throw new yn(Bi);return u=null==u?0:ai(Le(u),0),Qe(function(d){var v=d[u],_=qn(d,0,u);return v&&fi(_,v),hi(c,this,_)})},k.tail=function(c){var u=null==c?0:c.length;return u?Hn(c,1,u):[]},k.take=function(c,u,d){return c&&c.length?Hn(c,0,(u=d||u===M?1:Le(u))<0?0:u):[]},k.takeRight=function(c,u,d){var v=null==c?0:c.length;return v?Hn(c,(u=v-(u=d||u===M?1:Le(u)))<0?0:u,v):[]},k.takeRightWhile=function(c,u){return c&&c.length?_a(c,_e(u,3),!1,!0):[]},k.takeWhile=function(c,u){return c&&c.length?_a(c,_e(u,3)):[]},k.tap=function(c,u){return u(c),c},k.throttle=function(c,u,d){var v=!0,_=!0;if("function"!=typeof c)throw new yn(Bi);return Ht(d)&&(v="leading"in d?!!d.leading:v,_="trailing"in d?!!d.trailing:_),YE(c,u,{leading:v,maxWait:u,trailing:_})},k.thru=ql,k.toArray=Dv,k.toPairs=Sw,k.toPairsIn=Bv,k.toPath=function(c){return pe(c)?gt(c,os):Wn(c)?[c]:pi(sf(ct(c)))},k.toPlainObject=Pv,k.transform=function(c,u,d){var v=pe(c),_=v||As(c)||jl(c);if(u=_e(u,4),null==d){var D=c&&c.constructor;d=_?v?new D:[]:Ht(c)&&jn(D)?nr(Ce(c)):{}}return(_?$i:Gi)(c,function(x,N,L){return u(d,x,N,L)}),d},k.unary=function(c){return _f(c,1)},k.union=Ds,k.unionBy=Hl,k.unionWith=Zm,k.uniq=function(c){return c&&c.length?ns(c):[]},k.uniqBy=function(c,u){return c&&c.length?ns(c,_e(u,2)):[]},k.uniqWith=function(c,u){return u="function"==typeof u?u:M,c&&c.length?ns(c,M,u):[]},k.unset=function(c,u){return null==c||bm(c,u)},k.unzip=tv,k.unzipWith=xE,k.update=function(c,u,d){return null==c?c:ya(c,u,Al(d))},k.updateWith=function(c,u,d,v){return v="function"==typeof v?v:M,null==c?c:ya(c,u,Al(d),v)},k.values=Ta,k.valuesIn=function(c){return null==c?[]:zg(c,ji(c))},k.without=ff,k.words=$f,k.wrap=function(c,u){return xu(Al(u),c)},k.xor=pf,k.xorBy=gf,k.xorWith=cO,k.zip=uO,k.zipObject=function(c,u){return Sm(c||[],u||[],su)},k.zipObjectDeep=function(c,u){return Sm(c||[],u||[],wo)},k.zipWith=IE,k.entries=Sw,k.entriesIn=Bv,k.extend=dw,k.extendWith=ka,Gf(k,k),k.add=At,k.attempt=Ff,k.camelCase=Dw,k.capitalize=Mf,k.ceil=zf,k.clamp=function(c,u,d){return d===M&&(d=u,u=M),d!==M&&(d=(d=rn(d))==d?d:0),u!==M&&(u=(u=rn(u))==u?u:0),sr(rn(c),u,d)},k.clone=function(c){return qi(c,4)},k.cloneDeep=function(c){return qi(c,5)},k.cloneDeepWith=function(c,u){return qi(c,5,u="function"==typeof u?u:M)},k.cloneWith=function(c,u){return qi(c,4,u="function"==typeof u?u:M)},k.conformsTo=function(c,u){return null==u||um(c,u,bi(u))},k.deburr=If,k.defaultTo=function(c,u){return null==c||c!=c?u:c},k.divide=TO,k.endsWith=function(c,u,d){c=ct(c),u=Ui(u);var v=c.length,_=d=d===M?v:sr(Le(d),0,v);return(d-=u.length)>=0&&c.slice(d,_)==u},k.eq=fe,k.escape=function(c){return(c=ct(c))&&id.test(c)?c.replace(Vc,FI):c},k.escapeRegExp=function(c){return(c=ct(c))&&nd.test(c)?c.replace(Og,"\\$&"):c},k.every=function(c,u,d){var v=pe(c)?qc:QS;return d&&Ti(c,u,d)&&(u=M),v(c,_e(u,3))},k.find=$E,k.findIndex=uf,k.findKey=function(c,u){return fl(c,_e(u,3),Gi)},k.findLast=FE,k.findLastIndex=ku,k.findLastKey=function(c,u){return fl(c,_e(u,3),tn)},k.floor=cr,k.forEach=Ca,k.forEachRight=av,k.forIn=function(c,u){return null==c?c:lu(c,_e(u,3),ji)},k.forInRight=function(c,u){return null==c?c:Id(c,_e(u,3),ji)},k.forOwn=function(c,u){return c&&Gi(c,_e(u,3))},k.forOwnRight=function(c,u){return c&&tn(c,_e(u,3))},k.get=Kl,k.gt=F,k.gte=_v,k.has=function(c,u){return null!=c&&Qd(c,u,kl)},k.hasIn=Nu,k.head=Wm,k.identity=Wi,k.includes=function(c,u,d,v){c=sn(c)?c:Ta(c),d=d&&!v?Le(d):0;var _=c.length;return d<0&&(d=ai(_+d,0)),kf(c)?d<=_&&c.indexOf(u,d)>-1:!!_&&Qt(c,u,d)>-1},k.indexOf=function(c,u,d){var v=null==c?0:c.length;if(!v)return-1;var _=null==d?0:Le(d);return _<0&&(_=ai(v+_,0)),Qt(c,u,_)},k.inRange=function(c,u,d){return u=Ts(u),d===M?(d=u,u=0):d=Ts(d),function(c,u,d){return c>=li(u,d)&&c<ai(u,d)}(c=rn(c),u,d)},k.invoke=Mv,k.isArguments=Ps,k.isArray=pe,k.isArrayBuffer=bv,k.isArrayLike=sn,k.isArrayLikeObject=Ft,k.isBoolean=function(c){return!0===c||!1===c||qt(c)&&ii(c)==Xo},k.isBuffer=As,k.isDate=Sv,k.isElement=function(c){return qt(c)&&1===c.nodeType&&!Ou(c)},k.isEmpty=function(c){if(null==c)return!0;if(sn(c)&&(pe(c)||"string"==typeof c||"function"==typeof c.splice||As(c)||jl(c)||Ps(c)))return!c.length;var u=_i(c);if(u==Zn||u==Qi)return!c.size;if(Ll(c))return!pm(c).length;for(var d in c)if(Fe.call(c,d))return!1;return!0},k.isEqual=function(c,u){return cu(c,u)},k.isEqualWith=function(c,u,d){var v=(d="function"==typeof d?d:M)?d(c,u):M;return v===M?cu(c,u,M,d):!!v},k.isError=cs,k.isFinite=function(c){return"number"==typeof c&&Jc(c)},k.isFunction=jn,k.isInteger=Iu,k.isLength=wf,k.isMap=ow,k.isMatch=function(c,u){return c===u||fm(c,u,Kd(u))},k.isMatchWith=function(c,u,d){return d="function"==typeof d?d:M,fm(c,u,Kd(u),d)},k.isNaN=function(c){return cw(c)&&c!=+c},k.isNative=function(c){if(uE(c))throw new Ie("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return XS(c)},k.isNil=function(c){return null==c},k.isNull=function(c){return null===c},k.isNumber=cw,k.isObject=Ht,k.isObjectLike=qt,k.isPlainObject=Ou,k.isRegExp=kv,k.isSafeInteger=function(c){return Iu(c)&&c>=-Cr&&c<=Cr},k.isSet=uw,k.isString=kf,k.isSymbol=Wn,k.isTypedArray=jl,k.isUndefined=function(c){return c===M},k.isWeakMap=function(c){return qt(c)&&_i(c)==Lc},k.isWeakSet=function(c){return qt(c)&&"[object WeakSet]"==ii(c)},k.join=function(c,u){return null==c?"":bd.call(c,u)},k.kebabCase=Aw,k.last=kn,k.lastIndexOf=function(c,u,d){var v=null==c?0:c.length;if(!v)return-1;var _=v;return d!==M&&(_=(_=Le(d))<0?ai(v+_,0):li(_,v-1)),u==u?function(R,q,$){for(var ae=$+1;ae--;)if(R[ae]===q)return ae;return ae}(c,u,_):_s(c,es,_,!0)},k.lowerCase=Tw,k.lowerFirst=kO,k.lt=Lr,k.lte=Df,k.max=function(c){return c&&c.length?ou(c,Wi,Or):M},k.maxBy=function(c,u){return c&&c.length?ou(c,_e(u,2),Or):M},k.mean=function(c){return Bn(c,Wi)},k.meanBy=function(c,u){return Bn(c,_e(u,2))},k.min=function(c){return c&&c.length?ou(c,Wi,bo):M},k.minBy=function(c,u){return c&&c.length?ou(c,_e(u,2),bo):M},k.stubArray=Vr,k.stubFalse=Wf,k.stubObject=function(){return{}},k.stubString=function(){return""},k.stubTrue=function(){return!0},k.multiply=Jv,k.nth=function(c,u){return c&&c.length?gm(c,Le(u)):M},k.noConflict=function(){return yt._===this&&(yt._=Jg),this},k.noop=Uf,k.now=Gl,k.pad=function(c,u,d){c=ct(c);var v=(u=Le(u))?co(c):0;if(!u||v>=u)return c;var _=(u-v)/2;return gu(yl(_),d)+c+gu(jt(_),d)},k.padEnd=function(c,u,d){c=ct(c);var v=(u=Le(u))?co(c):0;return u&&v<u?c+gu(u-v,d):c},k.padStart=function(c,u,d){c=ct(c);var v=(u=Le(u))?co(c):0;return u&&v<u?gu(u-v,d)+c:c},k.parseInt=function(c,u,d){return d||null==u?u=0:u&&(u=+u),Hi(ct(c).replace(Me,""),u||0)},k.random=function(c,u,d){if(d&&"boolean"!=typeof d&&Ti(c,u,d)&&(u=d=M),d===M&&("boolean"==typeof u?(d=u,u=M):"boolean"==typeof c&&(d=c,c=M)),c===M&&u===M?(c=0,u=1):(c=Ts(c),u===M?(u=c,c=0):u=Ts(u)),c>u){var v=c;c=u,u=v}if(d||c%1||u%1){var _=is();return li(c+_*(u-c+Zi("1e-"+((_+"").length-1))),u)}return Rd(c,u)},k.reduce=function(c,u,d){var v=pe(c)?_t:gl,_=arguments.length<3;return v(c,_e(u,4),d,_,rr)},k.reduceRight=function(c,u,d){var v=pe(c)?MS:gl,_=arguments.length<3;return v(c,_e(u,4),d,_,Md)},k.repeat=function(c,u,d){return u=(d?Ti(c,u,d):u===M)?1:Le(u),mm(ct(c),u)},k.replace=function(){var c=arguments,u=ct(c[0]);return c.length<3?u:u.replace(c[1],c[2])},k.result=function(c,u,d){var v=-1,_=(u=Do(u,c)).length;for(_||(_=1,c=M);++v<_;){var D=null==c?M:c[os(u[v])];D===M&&(v=_,D=d),c=jn(D)?D.call(c):D}return c},k.round=Zv,k.runInContext=R,k.sample=function(c){return(pe(c)?am:vm)(c)},k.size=function(c){if(null==c)return 0;if(sn(c))return kf(c)?co(c):c.length;var u=_i(c);return u==Zn||u==Qi?c.size:pm(c).length},k.snakeCase=Nw,k.some=function(c,u,d){var v=pe(c)?dd:nE;return d&&Ti(c,u,d)&&(u=M),v(c,_e(u,3))},k.sortedIndex=function(c,u){return hu(c,u)},k.sortedIndexBy=function(c,u,d){return Ld(c,u,_e(d,2))},k.sortedIndexOf=function(c,u){var d=null==c?0:c.length;if(d){var v=hu(c,u);if(v<d&&fe(c[v],u))return v}return-1},k.sortedLastIndex=function(c,u){return hu(c,u,!0)},k.sortedLastIndexBy=function(c,u,d){return Ld(c,u,_e(d,2),!0)},k.sortedLastIndexOf=function(c,u){if(null!=c&&c.length){var v=hu(c,u,!0)-1;if(fe(c[v],u))return v}return-1},k.startCase=Rf,k.startsWith=function(c,u,d){return c=ct(c),d=null==d?0:sr(Le(d),0,c.length),u=Ui(u),c.slice(d,d+u.length)==u},k.subtract=Xv,k.sum=function(c){return c&&c.length?pd(c,Wi):0},k.sumBy=function(c,u){return c&&c.length?pd(c,_e(u,2)):0},k.template=function(c,u,d){var v=k.templateSettings;d&&Ti(c,u,d)&&(u=M),c=ct(c),u=ka({},u,v,Pi);var N,L,_=ka({},u.imports,v.imports,Pi),D=bi(_),x=zg(_,D),U=0,j=u.interpolate||sd,K="__p += '",ee=It((u.escape||sd).source+"|"+j.source+"|"+(j===de?yS:sd).source+"|"+(u.evaluate||sd).source+"|$","g"),he="//# sourceURL="+(Fe.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++qg+"]")+"\n";c.replace(ee,function(ke,Ue,tt,on,xi,zn){return tt||(tt=on),K+=c.slice(U,zn).replace(SS,HI),Ue&&(N=!0,K+="' +\n__e("+Ue+") +\n'"),xi&&(L=!0,K+="';\n"+xi+";\n__p += '"),tt&&(K+="' +\n((__t = ("+tt+")) == null ? '' : __t) +\n'"),U=zn+ke.length,ke}),K+="';\n";var we=Fe.call(u,"variable")&&u.variable;if(we){if(gn.test(we))throw new Ie("Invalid `variable` option passed into `_.template`")}else K="with (obj) {\n"+K+"\n}\n";K=(L?K.replace(fS,""):K).replace(pS,"$1").replace(gS,"$1;"),K="function("+(we||"obj")+") {\n"+(we?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(N?", __e = _.escape":"")+(L?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+K+"return __p\n}";var Ge=Ff(function(){return lt(D,he+"return "+K).apply(M,x)});if(Ge.source=K,cs(Ge))throw Ge;return Ge},k.times=function(c,u){if((c=Le(c))<1||c>Cr)return[];var d=ys,v=li(c,ys);u=_e(u),c-=ys;for(var _=jg(v,u);++d<c;)u(d);return _},k.toFinite=Ts,k.toInteger=Le,k.toLength=Pf,k.toLower=function(c){return ct(c).toLowerCase()},k.toNumber=rn,k.toSafeInteger=function(c){return c?sr(Le(c),-Cr,Cr):0===c?c:0},k.toString=ct,k.toUpper=function(c){return ct(c).toUpperCase()},k.trim=function(c,u,d){if((c=ct(c))&&(d||u===M))return Wg(c);if(!c||!(u=Ui(u)))return c;var v=Dt(c),_=Dt(u);return qn(v,NS(v,_),RS(v,_)+1).join("")},k.trimEnd=function(c,u,d){if((c=ct(c))&&(d||u===M))return c.slice(0,vd(c)+1);if(!c||!(u=Ui(u)))return c;var v=Dt(c);return qn(v,0,RS(v,Dt(u))+1).join("")},k.trimStart=function(c,u,d){if((c=ct(c))&&(d||u===M))return c.replace(Me,"");if(!c||!(u=Ui(u)))return c;var v=Dt(c);return qn(v,NS(v,Dt(u))).join("")},k.truncate=function(c,u){var d=30,v="...";if(Ht(u)){var _="separator"in u?u.separator:_;d="length"in u?Le(u.length):d,v="omission"in u?Ui(u.omission):v}var D=(c=ct(c)).length;if(ml(c)){var x=Dt(c);D=x.length}if(d>=D)return c;var N=d-co(v);if(N<1)return v;var L=x?qn(x,0,N).join(""):c.slice(0,N);if(_===M)return L+v;if(x&&(N+=L.length-N),kv(_)){if(c.slice(N).search(_)){var U,j=L;for(_.global||(_=It(_.source,ct(_S.exec(_))+"g")),_.lastIndex=0;U=_.exec(j);)var K=U.index;L=L.slice(0,K===M?N:K)}}else if(c.indexOf(Ui(_),N)!=N){var ee=L.lastIndexOf(_);ee>-1&&(L=L.slice(0,ee))}return L+v},k.unescape=function(c){return(c=ct(c))&&He.test(c)?c.replace(rt,LS):c},k.uniqueId=function(c){var u=++$S;return ct(c)+u},k.upperCase=Gv,k.upperFirst=Bu,k.each=Ca,k.eachRight=av,k.first=Wm,Gf(k,function(){var c={};return Gi(k,function(u,d){Fe.call(k.prototype,d)||(c[d]=u)}),c}(),{chain:!1}),k.VERSION="4.17.21",$i(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){k[c].placeholder=k}),$i(["drop","take"],function(c,u){Ee.prototype[c]=function(d){d=d===M?1:ai(Le(d),0);var v=this.__filtered__&&!u?new Ee(this):this.clone();return v.__filtered__?v.__takeCount__=li(d,v.__takeCount__):v.__views__.push({size:li(d,ys),type:c+(v.__dir__<0?"Right":"")}),v},Ee.prototype[c+"Right"]=function(d){return this.reverse()[c](d).reverse()}}),$i(["filter","map","takeWhile"],function(c,u){var d=u+1,v=1==d||3==d;Ee.prototype[c]=function(_){var D=this.clone();return D.__iteratees__.push({iteratee:_e(_,3),type:d}),D.__filtered__=D.__filtered__||v,D}}),$i(["head","last"],function(c,u){var d="take"+(u?"Right":"");Ee.prototype[c]=function(){return this[d](1).value()[0]}}),$i(["initial","tail"],function(c,u){var d="drop"+(u?"":"Right");Ee.prototype[c]=function(){return this.__filtered__?new Ee(this):this[d](1)}}),Ee.prototype.compact=function(){return this.filter(Wi)},Ee.prototype.find=function(c){return this.filter(c).head()},Ee.prototype.findLast=function(c){return this.reverse().find(c)},Ee.prototype.invokeMap=Qe(function(c,u){return"function"==typeof c?new Ee(this):this.map(function(d){return Dl(d,c,u)})}),Ee.prototype.reject=function(c){return this.filter(Sf(_e(c)))},Ee.prototype.slice=function(c,u){c=Le(c);var d=this;return d.__filtered__&&(c>0||u<0)?new Ee(d):(c<0?d=d.takeRight(-c):c&&(d=d.drop(c)),u!==M&&(d=(u=Le(u))<0?d.dropRight(-u):d.take(u-c)),d)},Ee.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},Ee.prototype.toArray=function(){return this.take(ys)},Gi(Ee.prototype,function(c,u){var d=/^(?:filter|find|map|reject)|While$/.test(u),v=/^(?:head|last)$/.test(u),_=k[v?"take"+("last"==u?"Right":""):u],D=v||/^find/.test(u);!_||(k.prototype[u]=function(){var x=this.__wrapped__,N=v?[1]:arguments,L=x instanceof Ee,U=N[0],j=L||pe(x),K=function(Ue){var tt=_.apply(k,fi([Ue],N));return v&&ee?tt[0]:tt};j&&d&&"function"==typeof U&&1!=U.length&&(L=j=!1);var ee=this.__chain__,he=!!this.__actions__.length,we=D&&!ee,Ge=L&&!he;if(!D&&j){x=Ge?x:new Ee(this);var ke=c.apply(x,N);return ke.__actions__.push({func:ql,args:[K],thisArg:M}),new $n(ke,ee)}return we&&Ge?c.apply(this,N):(ke=this.thru(K),we?v?ke.value()[0]:ke.value():ke)})}),$i(["pop","push","shift","sort","splice","unshift"],function(c){var u=jc[c],d=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",v=/^(?:pop|shift)$/.test(c);k.prototype[c]=function(){var _=arguments;if(v&&!this.__chain__){var D=this.value();return u.apply(pe(D)?D:[],_)}return this[d](function(x){return u.apply(pe(x)?x:[],_)})}}),Gi(Ee.prototype,function(c,u){var d=k[u];if(d){var v=d.name+"";Fe.call(xr,v)||(xr[v]=[]),xr[v].push({name:u,func:d})}}),xr[Ml(M,2).name]=[{name:"wrapper",func:M}],Ee.prototype.clone=function(){var c=new Ee(this.__wrapped__);return c.__actions__=pi(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=pi(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=pi(this.__views__),c},Ee.prototype.reverse=function(){if(this.__filtered__){var c=new Ee(this);c.__dir__=-1,c.__filtered__=!0}else(c=this.clone()).__dir__*=-1;return c},Ee.prototype.value=function(){var c=this.__wrapped__.value(),u=this.__dir__,d=pe(c),v=u<0,_=d?c.length:0,D=function(c,u,d){for(var v=-1,_=d.length;++v<_;){var D=d[v],x=D.size;switch(D.type){case"drop":c+=x;break;case"dropRight":u-=x;break;case"take":u=li(u,c+x);break;case"takeRight":c=ai(c,u-x)}}return{start:c,end:u}}(0,_,this.__views__),x=D.start,N=D.end,L=N-x,U=v?N:x-1,j=this.__iteratees__,K=j.length,ee=0,he=li(L,this.__takeCount__);if(!d||!v&&_==L&&he==L)return ko(c,this.__actions__);var we=[];e:for(;L--&&ee<he;){for(var Ge=-1,ke=c[U+=u];++Ge<K;){var Ue=j[Ge],on=Ue.type,xi=(0,Ue.iteratee)(ke);if(2==on)ke=xi;else if(!xi){if(1==on)continue e;break e}}we[ee++]=ke}return we},k.prototype.at=Au,k.prototype.chain=function(){return nv(this)},k.prototype.commit=function(){return new $n(this.value(),this.__chain__)},k.prototype.next=function(){this.__values__===M&&(this.__values__=Dv(this.value()));var c=this.__index__>=this.__values__.length;return{done:c,value:c?M:this.__values__[this.__index__++]}},k.prototype.plant=function(c){for(var u,d=this;d instanceof eu;){var v=of(d);v.__index__=0,v.__values__=M,u?_.__wrapped__=v:u=v;var _=v;d=d.__wrapped__}return _.__wrapped__=c,u},k.prototype.reverse=function(){var c=this.__wrapped__;if(c instanceof Ee){var u=c;return this.__actions__.length&&(u=new Ee(this)),(u=u.reverse()).__actions__.push({func:ql,args:[Pu],thisArg:M}),new $n(u,this.__chain__)}return this.thru(Pu)},k.prototype.toJSON=k.prototype.valueOf=k.prototype.value=function(){return ko(this.__wrapped__,this.__actions__)},k.prototype.first=k.prototype.head,ca&&(k.prototype[ca]=function(){return this}),k}();yt._=aa,(Jn=function(){return aa}.call(Tt,Kt,Tt,zt))!==M&&(zt.exports=Jn)}.call(this)},114:(zt,Tt,Kt)=>{"use strict";var Jn={};function M(n){return"function"==typeof n}Kt.r(Jn),Kt.d(Jn,{afterMain:()=>rB,afterRead:()=>iB,afterWrite:()=>lB,applyStyles:()=>Nx,arrow:()=>mB,auto:()=>lb,basePlacements:()=>wh,beforeMain:()=>nB,beforeRead:()=>eB,beforeWrite:()=>oB,bottom:()=>us,clippingParents:()=>Z3,computeStyles:()=>Vx,createPopper:()=>jx,createPopperBase:()=>a9,createPopperLite:()=>u9,detectOverflow:()=>Th,end:()=>Ch,eventListeners:()=>$x,flip:()=>EB,hide:()=>kB,left:()=>On,main:()=>sB,modifierPhases:()=>cB,offset:()=>DB,placements:()=>Ix,popper:()=>kh,popperGenerator:()=>fb,popperOffsets:()=>Ux,preventOverflow:()=>PB,read:()=>tB,reference:()=>X3,right:()=>hs,start:()=>fc,top:()=>In,variationPlacements:()=>Mx,viewport:()=>xx,write:()=>aB});let Wh=!1;const fn={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else Wh&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Wh=n},get useDeprecatedSynchronousErrorHandling(){return Wh}};function Qo(n){setTimeout(()=>{throw n},0)}const Bi={closed:!0,next(n){},error(n){if(fn.useDeprecatedSynchronousErrorHandling)throw n;Qo(n)},complete(){}},il=Array.isArray||(n=>n&&"number"==typeof n.length);function nl(n){return null!==n&&"object"==typeof n}const Xr=(()=>{function n(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,i)=>`${i+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return n.prototype=Object.create(Error.prototype),n})();class Xe{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:i,_unsubscribe:s,_subscriptions:r}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof Xe)e.remove(this);else if(null!==e)for(let o=0;o<e.length;++o)e[o].remove(this);if(M(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(o){t=o instanceof Xr?zh(o.errors):[o]}}if(il(r)){let o=-1,a=r.length;for(;++o<a;){const l=r[o];if(nl(l))try{l.unsubscribe()}catch(h){t=t||[],h instanceof Xr?t=t.concat(zh(h.errors)):t.push(h)}}}if(t)throw new Xr(t)}add(t){let e=t;if(!t)return Xe.EMPTY;switch(typeof t){case"function":e=new Xe(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof Xe)){const r=e;e=new Xe,e._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=e;if(null===i)e._parentOrParents=this;else if(i instanceof Xe){if(i===this)return e;e._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return e;i.push(this)}const s=this._subscriptions;return null===s?this._subscriptions=[e]:s.push(e),e}remove(t){const e=this._subscriptions;if(e){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}}}var n;function zh(n){return n.reduce((t,e)=>t.concat(e instanceof Xr?e.errors:e),[])}Xe.EMPTY=((n=new Xe).closed=!0,n);const Ys="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Mt extends Xe{constructor(t,e,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Bi;break;case 1:if(!t){this.destination=Bi;break}if("object"==typeof t){t instanceof Mt?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new pn(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new pn(this,t,e,i)}}[Ys](){return this}static create(t,e,i){const s=new Mt(t,e,i);return s.syncErrorThrowable=!1,s}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class pn extends Mt{constructor(t,e,i,s){super(),this._parentSubscriber=t;let r,o=this;M(e)?r=e:e&&(r=e.next,i=e.error,s=e.complete,e!==Bi&&(o=Object.create(e),M(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=r,this._error=i,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;fn.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:i}=fn;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):Qo(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;Qo(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);fn.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),fn.useDeprecatedSynchronousErrorHandling)throw i;Qo(i)}}__tryOrSetError(t,e,i){if(!fn.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(s){return fn.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=s,t.syncErrorThrown=!0,!0):(Qo(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const Yi="function"==typeof Symbol&&Symbol.observable||"@@observable";function to(n){return n}let Ye=(()=>{class n{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,s){const{operator:r}=this,o=function(n,t,e){if(n){if(n instanceof Mt)return n;if(n[Ys])return n[Ys]()}return n||t||e?new Mt(n,t,e):new Mt(Bi)}(e,i,s);if(o.add(r?r.call(o,this.source):this.source||fn.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),fn.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){fn.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=i),function(n){for(;n;){const{closed:t,destination:e,isStopped:i}=n;if(t||i)return!1;n=e&&e instanceof Mt?e:null}return!0}(e)?e.error(i):console.warn(i)}}forEach(e,i){return new(i=Jo(i))((s,r)=>{let o;o=this.subscribe(a=>{try{e(a)}catch(l){r(l),o&&o.unsubscribe()}},r,s)})}_subscribe(e){const{source:i}=this;return i&&i.subscribe(e)}[Yi](){return this}pipe(...e){return 0===e.length?this:function(n){return 0===n.length?to:1===n.length?n[0]:function(e){return n.reduce((i,s)=>s(i),e)}}(e)(this)}toPromise(e){return new(e=Jo(e))((i,s)=>{let r;this.subscribe(o=>r=o,o=>s(o),()=>i(r))})}}return n.create=t=>new n(t),n})();function Jo(n){if(n||(n=fn.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const no=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class kg extends Xe{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}class Dg extends Mt{constructor(t){super(t),this.destination=t}}let Je=(()=>{class n extends Ye{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Ys](){return new Dg(this)}lift(e){const i=new Kh(this,this);return i.operator=e,i}next(e){if(this.closed)throw new no;if(!this.isStopped){const{observers:i}=this,s=i.length,r=i.slice();for(let o=0;o<s;o++)r[o].next(e)}}error(e){if(this.closed)throw new no;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:i}=this,s=i.length,r=i.slice();for(let o=0;o<s;o++)r[o].error(e);this.observers.length=0}complete(){if(this.closed)throw new no;this.isStopped=!0;const{observers:e}=this,i=e.length,s=e.slice();for(let r=0;r<i;r++)s[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new no;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new no;return this.hasError?(e.error(this.thrownError),Xe.EMPTY):this.isStopped?(e.complete(),Xe.EMPTY):(this.observers.push(e),new kg(this,e))}asObservable(){const e=new Ye;return e.source=this,e}}return n.create=(t,e)=>new Kh(t,e),n})();class Kh extends Je{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):Xe.EMPTY}}function rl(n){return n&&"function"==typeof n.schedule}function vs(n,t){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new so(n,t))}}class so{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new Cr(t,this.project,this.thisArg))}}class Cr extends Mt{constructor(t,e,i){super(t),this.project=e,this.count=0,this.thisArg=i||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const Pg=n=>t=>{for(let e=0,i=n.length;e<i&&!t.closed;e++)t.next(n[e]);t.complete()},xc="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",ol=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Ag(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const Xo=n=>{if(n&&"function"==typeof n[Yi])return(n=>t=>{const e=n[Yi]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)})(n);if(ol(n))return Pg(n);if(Ag(n))return(n=>t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Qo),t))(n);if(n&&"function"==typeof n[xc])return(n=>t=>{const e=n[xc]();for(;;){let i;try{i=e.next()}catch(s){return t.error(s),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof e.return&&t.add(()=>{e.return&&e.return()}),t})(n);{const e=`You provided ${nl(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function ea(n,t){return new Ye(e=>{const i=new Xe;let s=0;return i.add(t.schedule(function(){s!==n.length?(e.next(n[s++]),e.closed||i.add(this.schedule())):e.complete()})),i})}function Ic(n,t){return t?function(n,t){if(null!=n){if(function(n){return n&&"function"==typeof n[Yi]}(n))return function(n,t){return new Ye(e=>{const i=new Xe;return i.add(t.schedule(()=>{const s=n[Yi]();i.add(s.subscribe({next(r){i.add(t.schedule(()=>e.next(r)))},error(r){i.add(t.schedule(()=>e.error(r)))},complete(){i.add(t.schedule(()=>e.complete()))}}))})),i})}(n,t);if(Ag(n))return function(n,t){return new Ye(e=>{const i=new Xe;return i.add(t.schedule(()=>n.then(s=>{i.add(t.schedule(()=>{e.next(s),i.add(t.schedule(()=>e.complete()))}))},s=>{i.add(t.schedule(()=>e.error(s)))}))),i})}(n,t);if(ol(n))return ea(n,t);if(function(n){return n&&"function"==typeof n[xc]}(n)||"string"==typeof n)return function(n,t){if(!n)throw new Error("Iterable cannot be null");return new Ye(e=>{const i=new Xe;let s;return i.add(()=>{s&&"function"==typeof s.return&&s.return()}),i.add(t.schedule(()=>{s=n[xc](),i.add(t.schedule(function(){if(e.closed)return;let r,o;try{const a=s.next();r=a.value,o=a.done}catch(a){return void e.error(a)}o?e.complete():(e.next(r),this.schedule())}))})),i})}(n,t)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,t):n instanceof Ye?n:new Ye(Xo(n))}class Rn extends Mt{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Oc extends Mt{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function Qi(n,t){if(t.closed)return;if(n instanceof Ye)return n.subscribe(t);let e;try{e=Xo(n)(t)}catch(i){t.error(i)}return e}function ro(n,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(ro((s,r)=>Ic(n(s,r)).pipe(vs((o,a)=>t(s,o,r,a))),e)):("number"==typeof t&&(e=t),i=>i.lift(new Rc(n,e)))}class Rc{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new dS(t,this.project,this.concurrent))}}class dS extends Oc{constructor(t,e,i=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(e)}_innerSub(t){const e=new Rn(this),i=this.destination;i.add(e);const s=Qi(t,e);s!==e&&i.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function xg(n=Number.POSITIVE_INFINITY){return ro(to,n)}function ta(n,t){return t?ea(n,t):new Ye(Pg(n))}function kr(...n){let t=Number.POSITIVE_INFINITY,e=null,i=n[n.length-1];return rl(i)?(e=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(t=n.pop())):"number"==typeof i&&(t=n.pop()),null===e&&1===n.length&&n[0]instanceof Ye?n[0]:xg(t)(ta(n,e))}function Bc(){return function(t){return t.lift(new Yh(t))}}class Yh{constructor(t){this.connectable=t}call(t,e){const{connectable:i}=this;i._refCount++;const s=new Qh(t,i),r=e.subscribe(s);return s.closed||(s.connection=i.connect()),r}}class Qh extends Mt{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:i}=this,s=t._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()}}class Jh extends Ye{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new Xe,t.add(this.source.subscribe(new Xh(this.getSubject(),this))),t.closed&&(this._connection=null,t=Xe.EMPTY)),t}refCount(){return Bc()(this)}}const Zh=(()=>{const n=Jh.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class Xh extends Dg{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function pS(){return new Je}function rt(n){for(let t in n)if(n[t]===rt)return t;throw Error("Could not find renamed property on target object.")}function Vc(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function He(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(He).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function id(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const mS=rt({__forward_ref__:rt});function St(n){return n.__forward_ref__=St,n.toString=function(){return He(this())},n}function de(n){return Ig(n)?n():n}function Ig(n){return"function"==typeof n&&n.hasOwnProperty(mS)&&n.__forward_ref__===St}class Dr extends Error{constructor(t,e){super(function(n,t){return`${n?`NG0${n}: `:""}${t}`}(t,e)),this.code=t}}function Me(n){return"string"==typeof n?n:null==n?"":String(n)}function Vi(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Me(n)}function $c(n,t){const e=t?` in ${t}`:"";throw new Dr("201",`No provider for ${Vi(n)} found${e}`)}function mn(n,t){null==n&&function(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function ce(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ut(n){return{providers:n.providers||[],imports:n.imports||[]}}function Zs(n){return Ng(n,ia)||Ng(n,ld)}function Ng(n,t){return n.hasOwnProperty(t)?n[t]:null}function od(n){return n&&(n.hasOwnProperty(ad)||n.hasOwnProperty(Fc))?n[ad]:null}const ia=rt({\u0275prov:rt}),ad=rt({\u0275inj:rt}),ld=rt({ngInjectableDef:rt}),Fc=rt({ngInjectorDef:rt});var ye=(()=>((ye=ye||{})[ye.Default=0]="Default",ye[ye.Host=1]="Host",ye[ye.Self=2]="Self",ye[ye.SkipSelf=4]="SkipSelf",ye[ye.Optional=8]="Optional",ye))();let cd;function Xs(n){const t=cd;return cd=n,t}function Hc(n,t,e){const i=Zs(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&ye.Optional?null:void 0!==t?t:void $c(He(n),"Injector")}function er(n){return{toString:n}.toString()}var Ji=(()=>((Ji=Ji||{})[Ji.OnPush=0]="OnPush",Ji[Ji.Default=1]="Default",Ji))(),Yt=(()=>((Yt=Yt||{})[Yt.Emulated=0]="Emulated",Yt[Yt.None=2]="None",Yt[Yt.ShadowDom=3]="ShadowDom",Yt))();const $g="undefined"!=typeof globalThis&&globalThis,CS="undefined"!=typeof window&&window,Fg="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,at=$g||"undefined"!=typeof global&&global||CS||Fg,na={},vt=[],ul=rt({\u0275cmp:rt}),ud=rt({\u0275dir:rt}),hd=rt({\u0275pipe:rt}),Hg=rt({\u0275mod:rt}),PS=rt({\u0275loc:rt}),Xn=rt({\u0275fac:rt}),hl=rt({__NG_ELEMENT_ID__:rt});let AS=0;function Ln(n){return er(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ji.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||vt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Yt.Emulated,id:"c",styles:n.styles||vt,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.directives,r=n.features,o=n.pipes;return i.id+=AS++,i.inputs=Gg(n.inputs,e),i.outputs=Gg(n.outputs),r&&r.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(qg):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(kt):null,i})}function qg(n){return ki(n)||function(n){return n[ud]||null}(n)}function kt(n){return function(n){return n[hd]||null}(n)}const wt={};function ei(n){return er(()=>{const t={type:n.type,bootstrap:n.bootstrap||vt,declarations:n.declarations||vt,imports:n.imports||vt,exports:n.exports||vt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(wt[n.id]=n.type),t})}function Gg(n,t){if(null==n)return na;const e={};for(const i in n)if(n.hasOwnProperty(i)){let s=n[i],r=s;Array.isArray(s)&&(r=s[1],s=s[0]),e[s]=i,t&&(t[s]=r)}return e}const ue=Ln;function Zi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function ki(n){return n[ul]||null}function yt(n,t){const e=n[Hg]||null;if(!e&&!0===t)throw new Error(`Type ${He(n)} does not have '\u0275mod' property.`);return e}function es(n){return Array.isArray(n)&&"object"==typeof n[1]}function Bn(n){return Array.isArray(n)&&!0===n[1]}function pl(n){return 0!=(8&n.flags)}function oa(n){return 2==(2&n.flags)}function gl(n){return 1==(1&n.flags)}function ts(n){return null!==n.template}function pd(n){return 0!=(512&n[2])}function lo(n,t){return n.hasOwnProperty(Xn)?n[Xn]:null}class co{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Dt(){return vd}function vd(n){return n.type.prototype.ngOnChanges&&(n.setInput=BS),LS}function LS(){const n=Qg(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===na)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function BS(n,t,e,i){const s=Qg(n)||function(n,t){return n[Yg]=t}(n,{previous:na,current:null}),r=s.current||(s.current={}),o=s.previous,a=this.declaredInputs[e],l=o[a];r[a]=new co(l&&l.currentValue,t,o===na),n[i]=t}Dt.ngInherit=!0;const Yg="__ngSimpleChanges__";function Qg(n){return n[Yg]||null}const $="http://www.w3.org/2000/svg";let Ie;function It(n){return!!n.listen}const yn={createRenderer:(n,t)=>void 0!==Ie?Ie:"undefined"!=typeof document?document:void 0};function ti(n){for(;Array.isArray(n);)n=n[0];return n}function uo(n,t){return ti(t[n])}function Fe(n,t){return ti(t[n.index])}function Wc(n,t){return n.data[t]}function _n(n,t){const e=t[n];return es(e)?e:e[0]}function Jg(n){return 4==(4&n[2])}function _d(n){return 128==(128&n[2])}function Fi(n,t){return null==t?null:n[t]}function vl(n){n[18]=0}function Kc(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const Ce={lFrame:ha(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ca(){return Ce.bindingsEnabled}function z(){return Ce.lFrame.lView}function nt(){return Ce.lFrame.tView}function Vt(n){return Ce.lFrame.contextLView=n,n[8]}function jt(){let n=yl();for(;null!==n&&64===n.type;)n=n.parent;return n}function yl(){return Ce.lFrame.currentTNode}function Ss(n,t){const e=Ce.lFrame;e.currentTNode=n,e.isParent=t}function Jc(){return Ce.lFrame.isParent}function bd(){Ce.lFrame.isParent=!1}function li(){return Ce.isInCheckNoChangesMode}function Zc(n){Ce.isInCheckNoChangesMode=n}function Hi(){const n=Ce.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function is(){return Ce.lFrame.bindingIndex}function Tr(){return Ce.lFrame.bindingIndex++}function bn(n){const t=Ce.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function _l(n,t){const e=Ce.lFrame;e.bindingIndex=e.bindingRootIndex=n,ua(t)}function ua(n){Ce.lFrame.currentDirectiveIndex=n}function tm(){return Ce.lFrame.currentQueryIndex}function Ed(n){Ce.lFrame.currentQueryIndex=n}function HS(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function im(n,t,e){if(e&ye.SkipSelf){let s=t,r=n;for(;!(s=s.parent,null!==s||e&ye.Host||(s=HS(r),null===s||(r=r[15],10&s.type))););if(null===s)return!1;t=s,n=r}const i=Ce.lFrame=Sl();return i.currentTNode=t,i.lView=n,!0}function Xc(n){const t=Sl(),e=n[1];Ce.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Sl(){const n=Ce.lFrame,t=null===n?null:n.child;return null===t?ha(n):t}function ha(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function wd(){const n=Ce.lFrame;return Ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const k=wd;function nr(){const n=wd();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ee(){return Ce.lFrame.selectedIndex}function Mr(n){Ce.lFrame.selectedIndex=n}function $t(){const n=Ce.lFrame;return Wc(n.tView,n.selectedIndex)}function Cd(){Ce.lFrame.currentNamespace=$}function kd(){Ce.lFrame.currentNamespace=null}function tu(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const r=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:h,ngOnDestroy:f}=r;o&&(n.contentHooks||(n.contentHooks=[])).push(-e,o),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),h&&((n.viewHooks||(n.viewHooks=[])).push(e,h),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,h)),null!=f&&(n.destroyHooks||(n.destroyHooks=[])).push(e,f)}}function Fn(n,t,e){nm(n,t,3,e)}function iu(n,t,e,i){(3&n[2])===e&&nm(n,t,e,i)}function Dd(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function nm(n,t,e,i){const r=null!=i?i:-1,o=t.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[18]+=65536),(a<r||-1==r)&&(jS(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function jS(n,t,e,i){const s=e[i]<0,r=e[i+1],a=n[s?-e[i]:e[i]];if(s){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{r.call(a)}finally{}}}else try{r.call(a)}finally{}}class Sn{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function en(n,t,e){const i=It(n);let s=0;for(;s<e.length;){const r=e[s];if("number"==typeof r){if(0!==r)break;s++;const o=e[s++],a=e[s++],l=e[s++];i?n.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=r,a=e[++s];Ad(o)?i&&n.setProperty(t,o,a):i?n.setAttribute(t,o,a):t.setAttribute(o,a),s++}}return s}function sm(n){return 3===n||4===n||6===n}function Ad(n){return 64===n.charCodeAt(0)}function nu(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?e=s:0===e||rm(n,e,s,null,-1===e||2===e?t[++i]:null)}}return n}function rm(n,t,e,i,s){let r=0,o=n.length;if(-1===t)o=-1;else for(;r<n.length;){const a=n[r++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=r-1;break}}}for(;r<n.length;){const a=n[r];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==s&&(n[r+1]=s));if(i===n[r+1])return void(n[r+2]=s)}r++,null!==i&&r++,null!==s&&r++}-1!==o&&(n.splice(o,0,t),r=o+1),n.splice(r++,0,e),null!==i&&n.splice(r++,0,i),null!==s&&n.splice(r++,0,s)}function om(n){return-1!==n}function vo(n){return 32767&n}function da(n,t){let e=function(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let Td=!0;function fa(n){const t=Td;return Td=n,t}let cm=0;function En(n,t){const e=sr(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,Cl(i.data,n),Cl(t,null),Cl(i.blueprint,null));const s=qi(n,t),r=n.injectorIndex;if(om(s)){const o=vo(s),a=da(s,t),l=a[1].data;for(let h=0;h<8;h++)t[r+h]=a[o+h]|l[o+h]}return t[r+8]=s,r}function Cl(n,t){n.push(0,0,0,0,0,0,0,0,t)}function sr(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function qi(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,s=t;for(;null!==s;){const r=s[1],o=r.type;if(i=2===o?r.declTNode:1===o?s[6]:null,null===i)return-1;if(e++,s=s[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function ru(n,t,e){!function(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(hl)&&(i=e[hl]),null==i&&(i=e[hl]=cm++);const s=255&i;t.data[n+(s>>5)]|=1<<s}(n,t,e)}function xd(n,t,e){if(e&ye.Optional)return n;$c(t,"NodeInjector")}function pa(n,t,e,i){if(e&ye.Optional&&void 0===i&&(i=null),0==(e&(ye.Self|ye.Host))){const s=n[9],r=Xs(void 0);try{return s?s.get(t,i,e&ye.Optional):Hc(t,i,e&ye.Optional)}finally{Xs(r)}}return xd(i,t,e)}function rr(n,t,e,i=ye.Default,s){if(null!==n){const r=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(hl)?n[hl]:void 0;return"number"==typeof t?t>=0?255&t:QS:t}(e);if("function"==typeof r){if(!im(t,n,i))return i&ye.Host?xd(s,e,i):pa(t,e,i,s);try{const o=r(i);if(null!=o||i&ye.Optional)return o;$c(e)}finally{k()}}else if("number"==typeof r){let o=null,a=sr(n,t),l=-1,h=i&ye.Host?t[16][6]:null;for((-1===a||i&ye.SkipSelf)&&(l=-1===a?qi(n,t):t[a+8],-1!==l&&Id(i,!1)?(o=t[1],a=vo(l),t=da(l,t)):a=-1);-1!==a;){const f=t[1];if(lu(r,a,f.data)){const m=ou(a,t,e,o,i,h);if(m!==Md)return m}l=t[a+8],-1!==l&&Id(i,t[1].data[a+8]===h)&&lu(r,a,t)?(o=f,a=vo(l),t=da(l,t)):a=-1}}}return pa(t,e,i,s)}const Md={};function QS(){return new Gi(jt(),z())}function ou(n,t,e,i,s,r){const o=t[1],a=o.data[n+8],f=au(a,o,e,null==i?oa(a)&&Td:i!=o&&0!=(3&a.type),s&ye.Host&&r===a);return null!==f?ga(t,o,f,a):Md}function au(n,t,e,i,s){const r=n.providerIndexes,o=t.data,a=1048575&r,l=n.directiveStart,f=r>>20,y=s?a+f:n.directiveEnd;for(let b=i?a:a+f;b<y;b++){const C=o[b];if(b<l&&e===C||b>=l&&C.type===e)return b}if(s){const b=o[l];if(b&&ts(b)&&b.type===e)return l}return null}function ga(n,t,e,i){let s=n[e];const r=t.data;if(function(n){return n instanceof Sn}(s)){const o=s;o.resolving&&function(n,t){throw new Dr("200",`Circular dependency in DI detected for ${n}`)}(Vi(r[e]));const a=fa(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Xs(o.injectImpl):null;im(n,i,ye.Default);try{s=n[e]=o.factory(void 0,r,n,i),t.firstCreatePass&&e>=i.directiveStart&&function(n,t,e){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:r}=t.type.prototype;if(i){const o=vd(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o)}s&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,s),r&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,r),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,r))}(e,r[e],t)}finally{null!==l&&Xs(l),fa(a),o.resolving=!1,k()}}return s}function lu(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function Id(n,t){return!(n&ye.Self||n&ye.Host&&t)}class Gi{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return rr(this._tNode,this._lView,t,i,e)}}function tn(n){return er(()=>{const t=n.prototype.constructor,e=t[Xn]||ma(t),i=Object.prototype;let s=Object.getPrototypeOf(n.prototype).constructor;for(;s&&s!==i;){const r=s[Xn]||ma(s);if(r&&r!==e)return r;s=Object.getPrototypeOf(s)}return r=>new r})}function ma(n){return Ig(n)?()=>{const t=ma(de(n));return t&&t()}:lo(n)}const ii="__parameters__";function _o(n,t,e){return er(()=>{const i=function(n){return function(...e){if(n){const i=n(...e);for(const s in i)this[s]=i[s]}}}(t);function s(...r){if(this instanceof s)return i.apply(this,r),this;const o=new s(...r);return a.annotation=o,a;function a(l,h,f){const m=l.hasOwnProperty(ii)?l[ii]:Object.defineProperty(l,ii,{value:[]})[ii];for(;m.length<=f;)m.push(null);return(m[f]=m[f]||[]).push(o),l}}return e&&(s.prototype=Object.create(e.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}class me{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ce({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}function wn(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),wn(i,t)):t!==n&&t.push(i)}return t}function Es(n,t){n.forEach(e=>Array.isArray(e)?Es(e,t):t(e))}function Pl(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Eo(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Cn(n,t,e){let i=Co(n,t);return i>=0?n[1|i]=e:(i=~i,function(n,t,e,i){let s=n.length;if(s==t)n.push(e,i);else if(1===s)n.push(i,n[0]),n[0]=e;else{for(s--,n.push(n[s-1],n[s]);s>t;)n[s]=n[s-2],s--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function wo(n,t){const e=Co(n,t);if(e>=0)return n[1|e]}function Co(n,t){return function(n,t,e){let i=0,s=n.length>>e;for(;s!==i;){const r=i+(s-i>>1),o=n[r<<e];if(t===o)return r<<e;o>t?s=r:i=r+1}return~(s<<e)}(n,t,1)}const ya={},_a="__NG_DI_FLAG__",ko="ngTempTokenPath",Sm=/\n/gm,Al="__source",$d=rt({provide:String,useValue:rt});let qn;function Po(n){const t=qn;return qn=n,t}function Em(n,t=ye.Default){if(void 0===qn)throw new Error("inject() must be called from an injection context");return null===qn?Hc(n,void 0,t):qn.get(n,t&ye.Optional?null:void 0,t)}function H(n,t=ye.Default){return(cd||Em)(de(n),t)}const sE=H;function Ao(n){const t=[];for(let e=0;e<n.length;e++){const i=de(n[e]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let s,r=ye.Default;for(let o=0;o<i.length;o++){const a=i[o],l=Cm(a);"number"==typeof l?-1===l?s=a.token:r|=l:s=a}t.push(H(s,r))}else t.push(H(i))}return t}function ba(n,t){return n[_a]=t,n.prototype[_a]=t,n}function Cm(n){return n[_a]}function km(n,t,e,i){const s=n[ko];throw t[Al]&&s.unshift(t[Al]),n.message=function(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let s=He(t);if(Array.isArray(t))s=t.map(He).join(" -> ");else if("object"==typeof t){let r=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];r.push(o+":"+("string"==typeof a?JSON.stringify(a):He(a)))}s=`{${r.join(", ")}}`}return`${e}${i?"("+i+")":""}[${s}]: ${n.replace(Sm,"\n  ")}`}("\n"+n.message,s,e,i),n.ngTokenPath=s,n[ko]=null,n}const pi=ba(_o("Inject",n=>({token:n})),-1),ci=ba(_o("Optional"),8),To=ba(_o("SkipSelf"),4);var nn=(()=>((nn=nn||{})[nn.Important=1]="Important",nn[nn.DashCase=2]="DashCase",nn))();const jd="__ngContext__";function Ai(n,t){n[jd]=t}function ss(n){const t=function(n){return n[jd]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function Nl(n,t){return undefined(n,t)}function Rl(n){const t=n[3];return Bn(t)?t[3]:t}function Jd(n){return Rm(n[13])}function _u(n){return Rm(n[4])}function Rm(n){for(;null!==n&&!Bn(n);)n=n[4];return n}function Ea(n,t,e,i,s){if(null!=i){let r,o=!1;Bn(i)?r=i:es(i)&&(o=!0,i=i[0]);const a=ti(i);0===n&&null!==e?null==s?wa(t,e,a):Nr(t,e,a,s||null,!0):1===n&&null!==e?Nr(t,e,a,s||null,!0):2===n?function(n,t,e){const i=Bl(n,t);i&&function(n,t,e,i){It(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=r&&function(n,t,e,i,s){const r=e[7];r!==ti(e)&&Ea(t,n,i,r,s);for(let a=10;a<e.length;a++){const l=e[a];Vl(l[1],l,n,t,i,r)}}(t,n,r,e,s)}}function Xd(n,t,e){return It(n)?n.createElement(t,e):null===e?n.createElement(t):n.createElementNS(e,t)}function Vm(n,t){const e=n[9],i=e.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,Kc(s,-1)),e.splice(i,1)}function tf(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const s=i[17];null!==s&&s!==n&&Vm(s,i),t>0&&(n[e-1][4]=i[4]);const r=Eo(n,10+t);!function(n,t){Vl(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const o=r[19];null!==o&&o.detachView(r[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function $m(n,t){if(!(256&t[2])){const e=t[11];It(e)&&e.destroyNode&&Vl(n,t,e,3,null,null),function(n){let t=n[13];if(!t)return nf(n[1],n);for(;t;){let e=null;if(es(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)es(t)&&nf(t[1],t),t=t[3];null===t&&(t=n),es(t)&&nf(t[1],t),e=t&&t[4]}t=e}}(t)}}function nf(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const s=t[e[i]];if(!(s instanceof Sn)){const r=e[i+1];if(Array.isArray(r))for(let o=0;o<r.length;o+=2){const a=s[r[o]],l=r[o+1];try{l.call(a)}finally{}}else try{r.call(s)}finally{}}}}(n,t),function(n,t){const e=n.cleanup,i=t[7];let s=-1;if(null!==e)for(let r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){const o=e[r+1],a="function"==typeof o?o(t):ti(t[o]),l=i[s=e[r+2]],h=e[r+3];"boolean"==typeof h?a.removeEventListener(e[r],l,h):h>=0?i[s=h]():i[s=-h].unsubscribe(),r+=2}else{const o=i[s=e[r+1]];e[r].call(o)}if(null!==i){for(let r=s+1;r<i.length;r++)i[r]();t[7]=null}}(n,t),1===t[1].type&&It(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&Bn(t[3])){e!==t[3]&&Vm(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function qm(n,t,e){return function(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const s=n.data[i.directiveStart].encapsulation;if(s===Yt.None||s===Yt.Emulated)return null}return Fe(i,e)}(n,t.parent,e)}function Nr(n,t,e,i,s){It(n)?n.insertBefore(t,e,i,s):t.insertBefore(e,i,s)}function wa(n,t,e){It(n)?n.appendChild(t,e):t.appendChild(e)}function Su(n,t,e,i,s){null!==i?Nr(n,t,e,i,s):wa(n,t,e)}function Bl(n,t){return It(n)?n.parentNode(t):t.parentNode}let Rr=function(n,t,e){return 40&n.type?Fe(n,e):null};function wu(n,t,e,i){const s=qm(n,i,t),r=t[11],a=function(n,t,e){return Rr(n,t,e)}(i.parent||t[6],i,t);if(null!=s)if(Array.isArray(e))for(let l=0;l<e.length;l++)Su(r,s,e[l],a,!1);else Su(r,s,e,a,!1)}function Cu(n,t){if(null!==t){const e=t.type;if(3&e)return Fe(t,n);if(4&e)return af(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Cu(n,i);{const s=n[t.index];return Bn(s)?af(-1,s):ti(s)}}if(32&e)return Nl(t,n)()||ti(n[t.index]);{const i=Um(n,t);return null!==i?Array.isArray(i)?i[0]:Cu(Rl(n[16]),i):Cu(n,t.next)}}return null}function Um(n,t){return null!==t?n[16][6].projection[t.projection]:null}function af(n,t){const e=10+n+1;if(e<t.length){const i=t[e],s=i[1].firstChild;if(null!==s)return Cu(i,s)}return t[7]}function cf(n,t,e,i,s,r,o){for(;null!=e;){const a=i[e.index],l=e.type;if(o&&0===t&&(a&&Ai(ti(a),i),e.flags|=4),64!=(64&e.flags))if(8&l)cf(n,t,e.child,i,s,r,!1),Ea(t,n,s,a,r);else if(32&l){const h=Nl(e,i);let f;for(;f=h();)Ea(t,n,s,f,r);Ea(t,n,s,a,r)}else 16&l?jm(n,t,i,e,s,r):Ea(t,n,s,a,r);e=o?e.projectionNext:e.next}}function Vl(n,t,e,i,s,r){cf(e,i,n.firstChild,t,s,r,!1)}function jm(n,t,e,i,s,r){const o=e[16],l=o[6].projection[i.projection];if(Array.isArray(l))for(let h=0;h<l.length;h++)Ea(t,n,s,l[h],r);else cf(n,t,l,o[3],s,r,!0)}function uf(n,t,e){It(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function ku(n,t,e){It(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function Dn(n){return n instanceof class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?n.changingThisBreaksApplicationSecurity:n}function Tu(n){return n.ngOriginalError}function UE(n,...t){n.error(...t)}class Ro{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=this._findContext(t),s=function(n){return n&&n.ngErrorLogger||UE}(t);s(this._console,"ERROR",t),e&&s(this._console,"ORIGINAL ERROR",e),i&&s(this._console,"ERROR CONTEXT",i)}_findContext(t){return t?function(n){return n.ngDebugContext}(t)||this._findContext(Tu(t)):null}_findOriginalError(t){let e=t&&Tu(t);for(;e&&Tu(e);)e=Tu(e);return e||null}}const _f=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(at))();function as(n){return n instanceof Function?n():n}function Ul(n,t,e){let i=n.length;for(;;){const s=n.indexOf(t,e);if(-1===s)return s;if(0===s||n.charCodeAt(s-1)<=32){const r=t.length;if(s+r===i||n.charCodeAt(s+r)<=32)return s}e=s+1}}const gv="ng-template";function QE(n,t,e){let i=0;for(;i<n.length;){let s=n[i++];if(e&&"class"===s){if(s=n[i],-1!==Ul(s.toLowerCase(),t,0))return!0}else if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function xu(n){return 4===n.type&&n.value!==gv}function mv(n,t,e){return t===(4!==n.type||e?n.value:gv)}function JE(n,t,e){let i=4;const s=n.attrs||[],r=function(n){for(let t=0;t<n.length;t++)if(sm(n[t]))return t;return n.length}(s);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!mv(n,l,e)||""===l&&1===t.length){if(ls(i))return!1;o=!0}}else{const h=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!QE(n.attrs,h,e)){if(ls(i))return!1;o=!0}continue}const m=ZE(8&i?"class":l,s,xu(n),e);if(-1===m){if(ls(i))return!1;o=!0;continue}if(""!==h){let y;y=m>r?"":s[m+1].toLowerCase();const b=8&i?y:null;if(b&&-1!==Ul(b,h,0)||2&i&&h!==y){if(ls(i))return!1;o=!0}}}}else{if(!o&&!ls(i)&&!ls(l))return!1;if(o&&ls(l))continue;o=!1,i=l|1&i}}return ls(i)||o}function ls(n){return 0==(1&n)}function ZE(n,t,e,i){if(null===t)return-1;let s=0;if(i||!e){let r=!1;for(;s<t.length;){const o=t[s];if(o===n)return s;if(3===o||6===o)r=!0;else{if(1===o||2===o){let a=t[++s];for(;"string"==typeof a;)a=t[++s];continue}if(4===o)break;if(0===o){s+=4;continue}}s+=r?1:2}return-1}return function(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function vv(n,t,e=!1){for(let i=0;i<t.length;i++)if(JE(n,t[i],e))return!0;return!1}function yv(n,t){return n?":not("+t.trim()+")":t}function nw(n){let t=n[0],e=1,i=2,s="",r=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const a=n[++e];s+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?s+="."+o:4&i&&(s+=" "+o);else""!==s&&!ls(o)&&(t+=yv(r,s),s=""),i=o,r=r||!ls(i);e++}return""!==s&&(t+=yv(r,s)),t}const fe={};function F(n){_v(nt(),z(),Ee()+n,li())}function _v(n,t,e,i){if(!i)if(3==(3&t[2])){const r=n.preOrderCheckHooks;null!==r&&Fn(t,r,e)}else{const r=n.preOrderHooks;null!==r&&iu(t,r,0,e)}Mr(e)}function Ps(n,t){return n<<17|t<<2}function pe(n){return n>>17&32767}function Ft(n){return 2|n}function ar(n){return(131068&n)>>2}function As(n,t){return-131069&n|t<<2}function Ef(n){return 1|n}function Av(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i],r=e[i+1];if(-1!==r){const o=n.data[r];Ed(s),o.contentQueries(2,t[r],r)}}}function Wl(n,t,e,i,s,r,o,a,l,h){const f=t.blueprint.slice();return f[0]=s,f[2]=140|i,vl(f),f[3]=f[15]=n,f[8]=e,f[10]=o||n&&n[10],f[11]=a||n&&n[11],f[12]=l||n&&n[12]||null,f[9]=h||n&&n[9]||null,f[6]=r,f[16]=2==t.type?n[16]:f,f}function Da(n,t,e,i,s){let r=n.data[t];if(null===r)r=function(n,t,e,i,s){const r=yl(),o=Jc(),l=n.data[t]=function(n,t,e,i,s,r){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?r:r&&r.parent,e,t,i,s);return null===n.firstChild&&(n.firstChild=l),null!==r&&(o?null==r.child&&null!==l.parent&&(r.child=l):null===r.next&&(r.next=l)),l}(n,t,e,i,s),Ce.lFrame.inI18n&&(r.flags|=64);else if(64&r.type){r.type=e,r.value=i,r.attrs=s;const o=function(){const n=Ce.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();r.injectorIndex=null===o?-1:o.injectorIndex}return Ss(r,!0),r}function Pa(n,t,e,i){if(0===e)return-1;const s=t.length;for(let r=0;r<e;r++)t.push(i),n.blueprint.push(i),n.data.push(null);return s}function zl(n,t,e){Xc(t);try{const i=n.viewQuery;null!==i&&Vf(1,i,e);const s=n.template;null!==s&&Tv(n,t,s,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Av(n,t),n.staticViewQueries&&Vf(2,n.viewQuery,e);const r=n.components;null!==r&&function(n,t){for(let e=0;e<t.length;e++)Ow(n,t[e])}(t,r)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,nr()}}function Aa(n,t,e,i){const s=t[2];if(256==(256&s))return;Xc(t);const r=li();try{vl(t),function(n){Ce.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Tv(n,t,e,2,i);const o=3==(3&s);if(!r)if(o){const h=n.preOrderCheckHooks;null!==h&&Fn(t,h,null)}else{const h=n.preOrderHooks;null!==h&&iu(t,h,0,null),Dd(t,0)}if(function(n){for(let t=Jd(n);null!==t;t=_u(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const s=e[i],r=s[3];0==(1024&s[2])&&Kc(r,1),s[2]|=1024}}}(t),function(n){for(let t=Jd(n);null!==t;t=_u(t))for(let e=10;e<t.length;e++){const i=t[e],s=i[1];_d(i)&&Aa(s,i,s.template,i[8])}}(t),null!==n.contentQueries&&Av(n,t),!r)if(o){const h=n.contentCheckHooks;null!==h&&Fn(t,h)}else{const h=n.contentHooks;null!==h&&iu(t,h,1),Dd(t,1)}!function(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const s=e[i];if(s<0)Mr(~s);else{const r=s,o=e[++i],a=e[++i];_l(o,r),a(2,t[r])}}}finally{Mr(-1)}}(n,t);const a=n.components;null!==a&&function(n,t){for(let e=0;e<t.length;e++)Iw(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&Vf(2,l,i),!r)if(o){const h=n.viewCheckHooks;null!==h&&Fn(t,h)}else{const h=n.viewHooks;null!==h&&iu(t,h,2),Dd(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Kc(t[3],-1))}finally{nr()}}function mw(n,t,e,i){const s=t[10],r=!li(),o=Jg(t);try{r&&!o&&s.begin&&s.begin(),o&&zl(n,t,i),Aa(n,t,e,i)}finally{r&&!o&&s.end&&s.end()}}function Tv(n,t,e,i,s){const r=Ee(),o=2&i;try{Mr(-1),o&&t.length>20&&_v(n,t,20,li()),e(i,s)}finally{Mr(r)}}function xv(n,t,e){if(pl(t)){const s=t.directiveEnd;for(let r=t.directiveStart;r<s;r++){const o=n.data[r];o.contentQueries&&o.contentQueries(1,e[r],r)}}}function Kl(n,t,e){!ca()||(function(n,t,e,i){const s=e.directiveStart,r=e.directiveEnd;n.firstCreatePass||En(e,t),Ai(i,t);const o=e.initialInputs;for(let a=s;a<r;a++){const l=n.data[a],h=ts(l);h&&Pw(t,e,l);const f=ga(t,n,a,e);Ai(f,t),null!==o&&Aw(0,a-s,f,l,0,o),h&&(_n(e.index,t)[8]=f)}}(n,t,e,Fe(e,t)),128==(128&e.flags)&&function(n,t,e){const i=e.directiveStart,s=e.directiveEnd,o=e.index,a=Ce.lFrame.currentDirectiveIndex;try{Mr(o);for(let l=i;l<s;l++){const h=n.data[l],f=t[l];ua(l),(null!==h.hostBindings||0!==h.hostVars||null!==h.hostAttrs)&&$v(h,f)}}finally{Mr(-1),ua(a)}}(n,t,e))}function Tf(n,t,e=Fe){const i=t.localNames;if(null!==i){let s=t.index+1;for(let r=0;r<i.length;r+=2){const o=i[r+1],a=-1===o?e(t,n):n[o];n[s++]=a}}}function Nu(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Ru(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Ru(n,t,e,i,s,r,o,a,l,h){const f=20+i,m=f+s,y=function(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:fe);return e}(f,m),b="function"==typeof h?h():h;return y[1]={type:n,blueprint:y,template:e,queries:null,viewQuery:a,declTNode:t,data:y.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:b,incompleteFirstPass:!1}}function Iv(n,t,e,i){const s=Gv(t);null===e?s.push(i):(s.push(e),n.firstCreatePass&&Bu(n).push(i,s.length-1))}function Ov(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const s=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,s):e[i]=[t,s]}return e}function Pn(n,t,e,i,s,r,o,a){const l=Fe(t,e);let f,h=t.inputs;!a&&null!=h&&(f=h[i])?(Uv(n,e,f,i,s),oa(t)&&function(n,t){const e=_n(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),s=null!=o?o(s,t.value||"",i):s,It(r)?r.setProperty(l,i,s):Ad(i)||(l.setProperty?l.setProperty(i,s):l[i]=s))}function xf(n,t,e,i){let s=!1;if(ca()){const r=function(n,t,e){const i=n.directiveRegistry;let s=null;if(i)for(let r=0;r<i.length;r++){const o=i[r];vv(e,o.selectors,!1)&&(s||(s=[]),ru(En(e,t),n,o.type),ts(o)?(Fv(n,e),s.unshift(o)):s.push(o))}return s}(n,t,e),o=null===i?null:{"":-1};if(null!==r){s=!0,Mf(e,n.data.length,r.length);for(let f=0;f<r.length;f++){const m=r[f];m.providersResolver&&m.providersResolver(m)}let a=!1,l=!1,h=Pa(n,t,r.length,null);for(let f=0;f<r.length;f++){const m=r[f];e.mergedAttrs=nu(e.mergedAttrs,m.hostAttrs),If(n,e,t,h,m),Dw(h,m,o),null!==m.contentQueries&&(e.flags|=8),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(e.flags|=128);const y=m.type.prototype;!a&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),h++}!function(n,t){const i=t.directiveEnd,s=n.data,r=t.attrs,o=[];let a=null,l=null;for(let h=t.directiveStart;h<i;h++){const f=s[h],m=f.inputs,y=null===r||xu(t)?null:Tw(m,r);o.push(y),a=Ov(m,h,a),l=Ov(f.outputs,h,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=l}(n,e)}o&&function(n,t,e){if(t){const i=n.localNames=[];for(let s=0;s<t.length;s+=2){const r=e[t[s+1]];if(null==r)throw new Dr("301",`Export of name '${t[s+1]}' not found!`);i.push(t[s],r)}}}(e,i,o)}return e.mergedAttrs=nu(e.mergedAttrs,e.attrs),s}function Vv(n,t,e,i,s,r){const o=r.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(i,s,o)}}function $v(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Fv(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function Dw(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;ts(t)&&(e[""]=n)}}function Mf(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function If(n,t,e,i,s){n.data[i]=s;const r=s.factory||(s.factory=lo(s.type)),o=new Sn(r,ts(s),null);n.blueprint[i]=o,e[i]=o,Vv(n,t,0,i,Pa(n,e,s.hostVars,fe),s)}function Pw(n,t,e){const i=Fe(t,n),s=Nu(e),r=n[10],o=Lu(n,Wl(n,s,null,e.onPush?64:16,i,t,r,r.createRenderer(i,e),null,null));n[t.index]=o}function xs(n,t,e,i,s,r){const o=Fe(n,t);!function(n,t,e,i,s,r,o){if(null==r)It(n)?n.removeAttribute(t,s,e):t.removeAttribute(s);else{const a=null==o?Me(r):o(r,i||"",s);It(n)?n.setAttribute(t,s,a,e):e?t.setAttributeNS(e,s,a):t.setAttribute(s,a)}}(t[11],o,r,n.value,e,i,s)}function Aw(n,t,e,i,s,r){const o=r[t];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const h=o[l++],f=o[l++],m=o[l++];null!==a?i.setInput(e,m,h,f):e[f]=m}}}function Tw(n,t){let e=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;n.hasOwnProperty(s)&&(null===e&&(e=[]),e.push(s,n[s],t[i+1])),i+=2}else i+=2;else i+=4}return e}function Hv(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function Iw(n,t){const e=_n(t,n);if(_d(e)){const i=e[1];80&e[2]?Aa(i,e,i.template,e[8]):e[5]>0&&Nf(e)}}function Nf(n){for(let i=Jd(n);null!==i;i=_u(i))for(let s=10;s<i.length;s++){const r=i[s];if(1024&r[2]){const o=r[1];Aa(o,r,o.template,r[8])}else r[5]>0&&Nf(r)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const s=_n(e[i],n);_d(s)&&s[5]>0&&Nf(s)}}function Ow(n,t){const e=_n(t,n),i=e[1];(function(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),zl(i,e,e[8])}function Lu(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Rf(n){for(;n;){n[2]|=64;const t=Rl(n);if(pd(n)&&!t)return n;n=t}return null}function Bf(n,t,e){const i=t[10];i.begin&&i.begin();try{Aa(n,t,n.template,e)}catch(s){throw Ff(t,s),s}finally{i.end&&i.end()}}function qv(n){!function(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=ss(e),s=i[1];mw(s,i,s.template,e)}}(n[8])}function Vf(n,t,e){Ed(0),t(n,e)}const Vw=(()=>Promise.resolve(null))();function Gv(n){return n[7]||(n[7]=[])}function Bu(n){return n.cleanup||(n.cleanup=[])}function Ff(n,t){const e=n[9],i=e?e.get(Ro,null):null;i&&i.handleError(t)}function Uv(n,t,e,i,s){for(let r=0;r<e.length;){const o=e[r++],a=e[r++],l=t[o],h=n.data[o];null!==h.setInput?h.setInput(l,s,i,a):l[a]=s}}function lr(n,t,e){const i=uo(t,n);!function(n,t,e){It(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function Vu(n,t,e){let i=e?n.styles:null,s=e?n.classes:null,r=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:1==r?s=id(s,a):2==r&&(i=id(i,a+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=s:n.classesWithoutHost=s}const xa=new me("INJECTOR",-1);class Wi{get(t,e=ya){if(e===ya){const i=new Error(`NullInjectorError: No provider for ${He(t)}!`);throw i.name="NullInjectorError",i}return e}}const Bo=new me("Set Injector scope."),Yl={},Fw={};let qf;function jv(){return void 0===qf&&(qf=new Wi),qf}function Wv(n,t=null,e=null,i){return new Uf(n,e,t||jv(),i)}class Uf{constructor(t,e,i,s=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&Es(e,a=>this.processProvider(a,t,e)),Es([t],a=>this.processInjectorType(a,[],r)),this.records.set(xa,Vo(void 0,this));const o=this.records.get(Bo);this.scope=null!=o?o.value:null,this.source=s||("object"==typeof t?null:He(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=ya,i=ye.Default){this.assertNotDestroyed();const s=Po(this),r=Xs(void 0);try{if(!(i&ye.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof me}(t)&&Zs(t);a=l&&this.injectableDefInScope(l)?Vo(jf(t),Yl):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&ye.Self?jv():this.parent).get(t,e=i&ye.Optional&&e===ya?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[ko]=o[ko]||[]).unshift(He(t)),s)throw o;return km(o,t,"R3InjectorError",this.source)}throw o}finally{Xs(r),Po(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,s)=>t.push(He(s))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,i){if(!(t=de(t)))return!1;let s=od(t);const r=null==s&&t.ngModule||void 0,o=void 0===r?t:r,a=-1!==i.indexOf(o);if(void 0!==r&&(s=od(r)),null==s)return!1;if(null!=s.imports&&!a){let f;i.push(o);try{Es(s.imports,m=>{this.processInjectorType(m,e,i)&&(void 0===f&&(f=[]),f.push(m))})}finally{}if(void 0!==f)for(let m=0;m<f.length;m++){const{ngModule:y,providers:b}=f[m];Es(b,C=>this.processProvider(C,y,b||vt))}}this.injectorDefTypes.add(o);const l=lo(o)||(()=>new o);this.records.set(o,Vo(l,Yl));const h=s.providers;if(null!=h&&!a){const f=t;Es(h,m=>this.processProvider(m,f,h))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,i){let s=Vr(t=de(t))?t:de(t&&t.provide);const r=function(n,t,e){return Kv(n)?Vo(void 0,n.useValue):Vo(zv(n),Yl)}(t);if(Vr(t)||!0!==t.multi)this.records.get(s);else{let o=this.records.get(s);o||(o=Vo(void 0,Yl,!0),o.factory=()=>Ao(o.multi),this.records.set(s,o)),s=t,o.multi.push(t)}this.records.set(s,r)}hydrate(t,e){return e.value===Yl&&(e.value=Fw,e.value=e.factory()),"object"==typeof e.value&&e.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=de(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function jf(n){const t=Zs(n),e=null!==t?t.factory:lo(n);if(null!==e)return e;if(n instanceof me)throw new Error(`Token ${He(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const t=n.length;if(t>0){const i=function(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}(t,"?");throw new Error(`Can't resolve all parameters for ${He(n)}: (${i.join(", ")}).`)}const e=function(n){const t=n&&(n[ia]||n[ld]);if(t){const e=function(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Error("unreachable")}function zv(n,t,e){let i;if(Vr(n)){const s=de(n);return lo(s)||jf(s)}if(Kv(n))i=()=>de(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Ao(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))i=()=>H(de(n.useExisting));else{const s=de(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return lo(s)||jf(s);i=()=>new s(...Ao(n.deps))}return i}function Vo(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function Kv(n){return null!==n&&"object"==typeof n&&$d in n}function Vr(n){return"function"==typeof n}const Yv=function(n,t,e){return function(n,t=null,e=null,i){const s=Wv(n,t,e,i);return s._resolveInjectorDefTypes(),s}({name:e},t,n,e)};let At=(()=>{class n{static create(e,i){return Array.isArray(e)?Yv(e,i,""):Yv(e.providers,e.parent,e.name||"")}}return n.THROW_IF_NOT_FOUND=ya,n.NULL=new Wi,n.\u0275prov=ce({token:n,providedIn:"any",factory:()=>H(xa)}),n.__NG_ELEMENT_ID__=-1,n})();function oH(n,t){tu(ss(n)[1],jt())}function Ot(n){let t=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let s;if(ts(n))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");s=t.\u0275dir}if(s){if(e){i.push(s);const o=n;o.inputs=eC(n.inputs),o.declaredInputs=eC(n.declaredInputs),o.outputs=eC(n.outputs);const a=s.hostBindings;a&&uH(n,a);const l=s.viewQuery,h=s.contentQueries;if(l&&lH(n,l),h&&cH(n,h),Vc(n.inputs,s.inputs),Vc(n.declaredInputs,s.declaredInputs),Vc(n.outputs,s.outputs),ts(s)&&s.data.animation){const f=n.data;f.animation=(f.animation||[]).concat(s.data.animation)}}const r=s.features;if(r)for(let o=0;o<r.length;o++){const a=r[o];a&&a.ngInherit&&a(n),a===Ot&&(e=!1)}}t=Object.getPrototypeOf(t)}!function(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const s=n[i];s.hostVars=t+=s.hostVars,s.hostAttrs=nu(s.hostAttrs,e=nu(e,s.hostAttrs))}}(i)}function eC(n){return n===na?{}:n===vt?[]:n}function lH(n,t){const e=n.viewQuery;n.viewQuery=e?(i,s)=>{t(i,s),e(i,s)}:t}function cH(n,t){const e=n.contentQueries;n.contentQueries=e?(i,s,r)=>{t(i,s,r),e(i,s,r)}:t}function uH(n,t){const e=n.hostBindings;n.hostBindings=e?(i,s)=>{t(i,s),e(i,s)}:t}let ey=null;function $u(){if(!ey){const n=at.Symbol;if(n&&n.iterator)ey=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(ey=i)}}}return ey}class ur{constructor(t){this.wrapped=t}static wrap(t){return new ur(t)}static unwrap(t){return ur.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof ur}}function Qf(n){return!!tC(n)&&(Array.isArray(n)||!(n instanceof Map)&&$u()in n)}function tC(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Fr(n,t,e){return n[t]=e}function an(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Ql(n,t,e,i){const s=an(n,t,e);return an(n,t+1,i)||s}function hr(n,t,e,i){const s=z();return an(s,Tr(),t)&&(nt(),xs($t(),s,n,t,e,i)),hr}function Hu(n,t,e,i){return an(n,Tr(),e)?t+Me(e)+i:fe}function Oe(n,t,e,i,s,r,o,a){const l=z(),h=nt(),f=n+20,m=h.firstCreatePass?function(n,t,e,i,s,r,o,a,l){const h=t.consts,f=Da(t,n,4,o||null,Fi(h,a));xf(t,e,f,Fi(h,l)),tu(t,f);const m=f.tViews=Ru(2,f,i,s,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,h);return null!==t.queries&&(t.queries.template(t,f),m.queries=t.queries.embeddedTView(f)),f}(f,h,l,t,e,i,s,r,o):h.data[f];Ss(m,!1);const y=l[11].createComment("");wu(h,l,y,m),Ai(y,l),Lu(l,l[f]=Hv(y,l,y,m)),gl(m)&&Kl(h,l,m),null!=o&&Tf(l,m,a)}function V(n,t=ye.Default){const e=z();return null===e?H(n,t):rr(jt(),e,de(n),t)}function W(n,t,e){const i=z();return an(i,Tr(),t)&&Pn(nt(),$t(),i,n,t,i[11],e,!1),W}function oC(n,t,e,i,s){const o=s?"class":"style";Uv(n,e,t.inputs[o],o,i)}function p(n,t,e,i){const s=z(),r=nt(),o=20+n,a=s[11],l=s[o]=Xd(a,t,Ce.lFrame.currentNamespace),h=r.firstCreatePass?function(n,t,e,i,s,r,o){const a=t.consts,h=Da(t,n,2,s,Fi(a,r));return xf(t,e,h,Fi(a,o)),null!==h.attrs&&Vu(h,h.attrs,!1),null!==h.mergedAttrs&&Vu(h,h.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,h),h}(o,r,s,0,t,e,i):r.data[o];Ss(h,!0);const f=h.mergedAttrs;null!==f&&en(a,l,f);const m=h.classes;null!==m&&ku(a,l,m);const y=h.styles;null!==y&&uf(a,l,y),64!=(64&h.flags)&&wu(r,s,l,h),0===Ce.lFrame.elementDepthCount&&Ai(l,s),Ce.lFrame.elementDepthCount++,gl(h)&&(Kl(r,s,h),xv(r,h,s)),null!==i&&Tf(s,h)}function g(){let n=jt();Jc()?bd():(n=n.parent,Ss(n,!1));const t=n;Ce.lFrame.elementDepthCount--;const e=nt();e.firstCreatePass&&(tu(e,n),pl(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(t)&&oC(e,t,z(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(t)&&oC(e,t,z(),t.stylesWithoutHost,!1)}function re(n,t,e,i){p(n,t,e,i),g()}function ny(n,t,e){const i=z(),s=nt(),r=n+20,o=s.firstCreatePass?function(n,t,e,i,s){const r=t.consts,o=Fi(r,i),a=Da(t,n,8,"ng-container",o);return null!==o&&Vu(a,o,!0),xf(t,e,a,Fi(r,s)),null!==t.queries&&t.queries.elementStart(t,a),a}(r,s,i,t,e):s.data[r];Ss(o,!0);const a=i[r]=i[11].createComment("");wu(s,i,a,o),Ai(a,i),gl(o)&&(Kl(s,i,o),xv(s,o,i)),null!=e&&Tf(i,o)}function sy(){let n=jt();const t=nt();Jc()?bd():(n=n.parent,Ss(n,!1)),t.firstCreatePass&&(tu(t,n),pl(n)&&t.queries.elementEnd(n))}function Hr(){return z()}function ry(n){return!!n&&"function"==typeof n.then}const aC=function(n){return!!n&&"function"==typeof n.subscribe};function je(n,t,e,i){const s=z(),r=nt(),o=jt();return function(n,t,e,i,s,r,o,a){const l=gl(i),f=n.firstCreatePass&&Bu(n),m=t[8],y=Gv(t);let b=!0;if(3&i.type||a){const P=Fe(i,t),O=a?a(P):P,I=y.length,B=a?G=>a(ti(G[i.index])):i.index;if(It(e)){let G=null;if(!a&&l&&(G=function(n,t,e,i){const s=n.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const o=s[r];if(o===e&&s[r+1]===i){const a=t[7],l=s[r+2];return a.length>l?a[l]:null}"string"==typeof o&&(r+=2)}return null}(n,t,s,i.index)),null!==G)(G.__ngLastListenerFn__||G).__ngNextListenerFn__=r,G.__ngLastListenerFn__=r,b=!1;else{r=lC(i,t,m,r,!1);const Q=e.listen(O,s,r);y.push(r,Q),f&&f.push(s,B,I,I+1)}}else r=lC(i,t,m,r,!0),O.addEventListener(s,r,o),y.push(r),f&&f.push(s,B,I,o)}else r=lC(i,t,m,r,!1);const C=i.outputs;let T;if(b&&null!==C&&(T=C[s])){const P=T.length;if(P)for(let O=0;O<P;O+=2){const X=t[T[O]][T[O+1]].subscribe(r),ne=y.length;y.push(r,X),f&&f.push(s,i.index,ne,-(ne+1))}}}(r,s,s[11],o,n,t,!!e,i),je}function rN(n,t,e,i){try{return!1!==e(i)}catch(s){return Ff(n,s),!1}}function lC(n,t,e,i,s){return function r(o){if(o===Function)return i;const a=2&n.flags?_n(n.index,t):t;0==(32&t[2])&&Rf(a);let l=rN(t,0,i,o),h=r.__ngNextListenerFn__;for(;h;)l=rN(t,0,h,o)&&l,h=h.__ngNextListenerFn__;return s&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function We(n=1){return function(n){return(Ce.lFrame.contextLView=function(n,t){for(;n>0;)t=t[15],n--;return t}(n,Ce.lFrame.contextLView))[8]}(n)}function Zf(n,t,e,i,s){const r=z(),o=Hu(r,t,e,i);return o!==fe&&Pn(nt(),$t(),r,n,o,r[11],s,!1),Zf}function vN(n,t,e,i,s){const r=n[e+1],o=null===t;let a=i?pe(r):ar(r),l=!1;for(;0!==a&&(!1===l||o);){const f=n[a+1];YH(n[a],t)&&(l=!0,n[a+1]=i?Ef(f):Ft(f)),a=i?pe(f):ar(f)}l&&(n[e+1]=i?Ft(r):Ef(r))}function YH(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Co(n,t)>=0}const Si={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function yN(n){return n.substring(Si.key,Si.keyEnd)}function _N(n,t){const e=Si.textEnd;return e===t?-1:(t=Si.keyEnd=function(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Si.key=t,e),Qu(n,t,e))}function Qu(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Xf(n,t,e){return dr(n,t,e,!1),Xf}function Jl(n,t){return dr(n,t,null,!0),Jl}function Os(n){!function(n,t,e,i){const s=nt(),r=bn(2);s.firstUpdatePass&&kN(s,null,r,i);const o=z();if(e!==fe&&an(o,r,e)){const a=s.data[Ee()];if(TN(a,i)&&!CN(s,r)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=id(l,e||"")),oC(s,a,o,e,i)}else!function(n,t,e,i,s,r,o,a){s===fe&&(s=vt);let l=0,h=0,f=0<s.length?s[0]:null,m=0<r.length?r[0]:null;for(;null!==f||null!==m;){const y=l<s.length?s[l+1]:void 0,b=h<r.length?r[h+1]:void 0;let T,C=null;f===m?(l+=2,h+=2,y!==b&&(C=m,T=b)):null===m||null!==f&&f<m?(l+=2,C=f):(h+=2,C=m,T=b),null!==C&&PN(n,t,e,i,C,T,o,a),f=l<s.length?s[l]:null,m=h<r.length?r[h]:null}}(s,a,o,o[11],o[r+1],o[r+1]=function(n,t,e){if(null==e||""===e)return vt;const i=[],s=Dn(e);if(Array.isArray(s))for(let r=0;r<s.length;r++)n(i,s[r],!0);else if("object"==typeof s)for(const r in s)s.hasOwnProperty(r)&&n(i,r,s[r]);else"string"==typeof s&&t(i,s);return i}(n,t,e),i,r)}}(Cn,Gr,n,!0)}function Gr(n,t){for(let e=function(n){return function(n){Si.key=0,Si.keyEnd=0,Si.value=0,Si.valueEnd=0,Si.textEnd=n.length}(n),_N(n,Qu(n,0,Si.textEnd))}(t);e>=0;e=_N(t,e))Cn(n,yN(t),!0)}function dr(n,t,e,i){const s=z(),r=nt(),o=bn(2);r.firstUpdatePass&&kN(r,n,o,i),t!==fe&&an(s,o,t)&&PN(r,r.data[Ee()],s,s[11],n,s[o+1]=function(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=He(Dn(n)))),n}(t,e),i,o)}function CN(n,t){return t>=n.expandoStartIndex}function kN(n,t,e,i){const s=n.data;if(null===s[e+1]){const r=s[Ee()],o=CN(n,e);TN(r,i)&&null===t&&!o&&(t=!1),t=function(n,t,e,i){const s=function(n){const t=Ce.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let r=i?t.residualClasses:t.residualStyles;if(null===s)0===(i?t.classBindings:t.styleBindings)&&(e=ep(e=cC(null,n,t,e,i),t.attrs,i),r=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==s)if(e=cC(s,n,t,e,i),null===r){let l=function(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==ar(i))return n[pe(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=cC(null,n,t,l[1],i),l=ep(l,t.attrs,i),function(n,t,e,i){n[pe(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else r=function(n,t,e){let i;const s=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<s;r++)i=ep(i,n[r].hostAttrs,e);return ep(i,t.attrs,e)}(n,t,i)}return void 0!==r&&(i?t.residualClasses=r:t.residualStyles=r),e}(s,r,t,i),function(n,t,e,i,s,r){let o=r?t.classBindings:t.styleBindings,a=pe(o),l=ar(o);n[i]=e;let f,h=!1;if(Array.isArray(e)){const m=e;f=m[1],(null===f||Co(m,f)>0)&&(h=!0)}else f=e;if(s)if(0!==l){const y=pe(n[a+1]);n[i+1]=Ps(y,a),0!==y&&(n[y+1]=As(n[y+1],i)),n[a+1]=function(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=Ps(a,0),0!==a&&(n[a+1]=As(n[a+1],i)),a=i;else n[i+1]=Ps(l,0),0===a?a=i:n[l+1]=As(n[l+1],i),l=i;h&&(n[i+1]=Ft(n[i+1])),vN(n,f,i,!0),vN(n,f,i,!1),function(n,t,e,i,s){const r=s?n.residualClasses:n.residualStyles;null!=r&&"string"==typeof t&&Co(r,t)>=0&&(e[i+1]=Ef(e[i+1]))}(t,f,n,i,r),o=Ps(a,l),r?t.classBindings=o:t.styleBindings=o}(s,r,t,e,o,i)}}function cC(n,t,e,i,s){let r=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(r=t[a],i=ep(i,r.hostAttrs,s),r!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function ep(n,t,e){const i=e?1:2;let s=-1;if(null!==t)for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?s=o:s===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Cn(n,o,!!e||t[++r]))}return void 0===n?null:n}function PN(n,t,e,i,s,r,o,a){if(!(3&t.type))return;const l=n.data,h=l[a+1];oy(function(n){return 1==(1&n)}(h)?AN(l,t,e,s,ar(h),o):void 0)||(oy(r)||function(n){return 2==(2&n)}(h)&&(r=AN(l,null,e,s,a,o)),function(n,t,e,i,s){const r=It(n);if(t)s?r?n.addClass(e,i):e.classList.add(i):r?n.removeClass(e,i):e.classList.remove(i);else{let o=-1===i.indexOf("-")?void 0:nn.DashCase;if(null==s)r?n.removeStyle(e,i,o):e.style.removeProperty(i);else{const a="string"==typeof s&&s.endsWith("!important");a&&(s=s.slice(0,-10),o|=nn.Important),r?n.setStyle(e,i,s,o):e.style.setProperty(i,s,a?"important":"")}}}(i,o,uo(Ee(),e),s,r))}function AN(n,t,e,i,s,r){const o=null===t;let a;for(;s>0;){const l=n[s],h=Array.isArray(l),f=h?l[1]:l,m=null===f;let y=e[s+1];y===fe&&(y=m?vt:void 0);let b=m?wo(y,i):f===i?y:void 0;if(h&&!oy(b)&&(b=wo(l,i)),oy(b)&&(a=b,o))return a;const C=n[s+1];s=o?pe(C):ar(C)}if(null!==t){let l=r?t.residualClasses:t.residualStyles;null!=l&&(a=wo(l,i))}return a}function oy(n){return void 0!==n}function TN(n,t){return 0!=(n.flags&(t?16:32))}function S(n,t=""){const e=z(),i=nt(),s=n+20,r=i.firstCreatePass?Da(i,s,1,t,null):i.data[s],o=e[s]=function(n,t){return It(n)?n.createText(t):n.createTextNode(t)}(e[11],t);wu(i,e,o,r),Ss(r,!1)}function Mi(n){return Ei("",n,""),Mi}function Ei(n,t,e){const i=z(),s=Hu(i,n,t,e);return s!==fe&&lr(i,Ee(),s),Ei}function tp(n,t,e,i,s){const r=z(),o=function(n,t,e,i,s,r){const a=Ql(n,is(),e,s);return bn(2),a?t+Me(e)+i+Me(s)+r:fe}(r,n,t,e,i,s);return o!==fe&&lr(r,Ee(),o),tp}const Zl=void 0;var T4=["en",[["a","p"],["AM","PM"],Zl],[["AM","PM"],Zl,Zl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zl,"{1} 'at' {0}",Zl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===e?1:5}];let Ju={};function YN(n){return n in Ju||(Ju[n]=at.ng&&at.ng.common&&at.ng.common.locales&&at.ng.common.locales[n]),Ju[n]}var oe=(()=>((oe=oe||{})[oe.LocaleId=0]="LocaleId",oe[oe.DayPeriodsFormat=1]="DayPeriodsFormat",oe[oe.DayPeriodsStandalone=2]="DayPeriodsStandalone",oe[oe.DaysFormat=3]="DaysFormat",oe[oe.DaysStandalone=4]="DaysStandalone",oe[oe.MonthsFormat=5]="MonthsFormat",oe[oe.MonthsStandalone=6]="MonthsStandalone",oe[oe.Eras=7]="Eras",oe[oe.FirstDayOfWeek=8]="FirstDayOfWeek",oe[oe.WeekendRange=9]="WeekendRange",oe[oe.DateFormat=10]="DateFormat",oe[oe.TimeFormat=11]="TimeFormat",oe[oe.DateTimeFormat=12]="DateTimeFormat",oe[oe.NumberSymbols=13]="NumberSymbols",oe[oe.NumberFormats=14]="NumberFormats",oe[oe.CurrencyCode=15]="CurrencyCode",oe[oe.CurrencySymbol=16]="CurrencySymbol",oe[oe.CurrencyName=17]="CurrencyName",oe[oe.Currencies=18]="Currencies",oe[oe.Directionality=19]="Directionality",oe[oe.PluralCase=20]="PluralCase",oe[oe.ExtraData=21]="ExtraData",oe))();const ay="en-US";let QN=ay;function uC(n){mn(n,"Expected localeId to be defined"),"string"==typeof n&&(QN=n.toLowerCase().replace(/_/g,"-"))}function fC(n,t,e,i,s){if(n=de(n),Array.isArray(n))for(let r=0;r<n.length;r++)fC(n[r],t,e,i,s);else{const r=nt(),o=z();let a=Vr(n)?n:de(n.provide),l=zv(n);const h=jt(),f=1048575&h.providerIndexes,m=h.directiveStart,y=h.providerIndexes>>20;if(Vr(n)||!n.multi){const b=new Sn(l,s,V),C=gC(a,t,s?f:f+y,m);-1===C?(ru(En(h,o),r,a),pC(r,n,t.length),t.push(a),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),e.push(b),o.push(b)):(e[C]=b,o[C]=b)}else{const b=gC(a,t,f+y,m),C=gC(a,t,f,f+y),T=b>=0&&e[b],P=C>=0&&e[C];if(s&&!P||!s&&!T){ru(En(h,o),r,a);const O=function(n,t,e,i,s){const r=new Sn(n,e,V);return r.multi=[],r.index=t,r.componentProviders=0,bR(r,s,i&&!e),r}(s?Dq:kq,e.length,s,i,l);!s&&P&&(e[C].providerFactory=O),pC(r,n,t.length,0),t.push(a),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),e.push(O),o.push(O)}else pC(r,n,b>-1?b:C,bR(e[s?C:b],l,!s&&i));!s&&i&&P&&e[C].componentProviders++}}}function pC(n,t,e,i){const s=Vr(t);if(s||function(n){return!!n.useClass}(t)){const o=(t.useClass||t).prototype.ngOnDestroy;if(o){const a=n.destroyHooks||(n.destroyHooks=[]);if(!s&&t.multi){const l=a.indexOf(e);-1===l?a.push(e,[i,o]):a[l+1].push(i,o)}else a.push(e,o)}}}function bR(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function gC(n,t,e,i){for(let s=e;s<i;s++)if(t[s]===n)return s;return-1}function kq(n,t,e,i){return mC(this.multi,[])}function Dq(n,t,e,i){const s=this.multi;let r;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=ga(e,e[1],this.providerFactory.index,i);r=a.slice(0,o),mC(s,r);for(let l=o;l<a.length;l++)r.push(a[l])}else r=[],mC(s,r);return r}function mC(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function ot(n,t=[]){return e=>{e.providersResolver=(i,s)=>function(n,t,e){const i=nt();if(i.firstCreatePass){const s=ts(n);fC(e,i.data,i.blueprint,s,!0),fC(t,i.data,i.blueprint,s,!1)}}(i,s?s(n):n,t)}}class SR{}const wR="ngComponent";class Tq{resolveComponentFactory(t){throw function(n){const t=Error(`No component factory found for ${He(n)}. Did you add it to @NgModule.entryComponents?`);return t[wR]=n,t}(t)}}let Xu=(()=>{class n{}return n.NULL=new Tq,n})();function dy(...n){}function eh(n,t){return new Nt(Fe(n,t))}const Iq=function(){return eh(jt(),z())};let Nt=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=Iq,n})();function CR(n){return n instanceof Nt?n.nativeElement:n}class Xl{}let ec=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>Nq(),n})();const Nq=function(){const n=z(),e=_n(jt().index,n);return function(n){return n[11]}(es(e)?e:n)};let yC=(()=>{class n{}return n.\u0275prov=ce({token:n,providedIn:"root",factory:()=>null}),n})();class fy{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const kR=new fy("12.2.17");class DR{constructor(){}supports(t){return Qf(t)}create(t){return new Vq(t)}}const Bq=(n,t)=>t;class Vq{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Bq}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,s=0,r=null;for(;e||i;){const o=!i||e&&e.currentIndex<AR(i,s,r)?e:i,a=AR(o,s,r),l=o.currentIndex;if(o===i)s--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)s++;else{r||(r=[]);const h=a-s,f=l-s;if(h!=f){for(let y=0;y<h;y++){const b=y<r.length?r[y]:r[y]=0,C=b+y;f<=C&&C<h&&(r[y]=b+1)}r[o.previousIndex]=f-h}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Qf(t))throw new Error(`Error trying to diff '${He(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,r,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)r=t[a],o=this._trackByFn(a,r),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,r,o,a)),Object.is(e.item,r)||this._addIdentityChange(e,r)):(e=this._mismatch(e,r,o,a),i=!0),e=e._next}else s=0,function(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[$u()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(s,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,s)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,s),i=!0),e=e._next,s++}),this.length=s;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,s){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,s)):t=this._addAfter(new $q(e,i),r,s),t}_verifyReinsertion(t,e,i,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?t=this._reinsertAfter(r,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,r=t._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const s=null===e?this._itHead:e._next;return t._next=s,t._prev=e,null===s?this._itTail=t:s._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new PR),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new PR),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class $q{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Fq{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class PR{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new Fq,this.map.set(e,i)),i.add(t)}get(t,e){const s=this.map.get(t);return s?s.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function AR(n,t,e){const i=n.previousIndex;if(null===i)return i;let s=0;return e&&i<e.length&&(s=e[i]),i+t+s}class TR{constructor(){}supports(t){return t instanceof Map||tC(t)}create(){return new Hq}}class Hq{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||tC(t)))throw new Error(`Error trying to diff '${He(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,s)=>{if(e&&e.key===s)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(s,i);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,e);const r=s._prev,o=s._next;return r&&(r._next=o),o&&(o._prev=r),s._next=null,s._prev=null,s}const i=new qq(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class qq{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xR(){return new th([new DR])}let th=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||xR()),deps:[[n,new To,new ci]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'`)}}return n.\u0275prov=ce({token:n,providedIn:"root",factory:xR}),n})();function MR(){return new ih([new TR])}let ih=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||MR()),deps:[[n,new To,new ci]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(i)return i;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return n.\u0275prov=ce({token:n,providedIn:"root",factory:MR}),n})();function py(n,t,e,i,s=!1){for(;null!==e;){const r=t[e.index];if(null!==r&&i.push(ti(r)),Bn(r))for(let a=10;a<r.length;a++){const l=r[a],h=l[1].firstChild;null!==h&&py(l[1],l,h,i)}const o=e.type;if(8&o)py(n,t,e.child,i);else if(32&o){const a=Nl(e,t);let l;for(;l=a();)i.push(l)}else if(16&o){const a=Um(t,e);if(Array.isArray(a))i.push(...a);else{const l=Rl(t[16]);py(l[1],l,a,i,!0)}}e=s?e.projectionNext:e.next}return i}class op{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return py(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Bn(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(tf(t,i),Eo(e,i))}this._attachedToViewContainer=!1}$m(this._lView[1],this._lView)}onDestroy(t){Iv(this._lView[1],this._lView,null,t)}markForCheck(){Rf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Bf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,t,e){Zc(!0);try{Bf(n,t,e)}finally{Zc(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,t){Vl(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Uq extends op{constructor(t){super(t),this._view=t}detectChanges(){qv(this._view)}checkNoChanges(){!function(n){Zc(!0);try{qv(n)}finally{Zc(!1)}}(this._view)}get context(){return null}}const Wq=function(n){return function(n,t,e){if(oa(n)&&!e){const i=_n(n.index,t);return new op(i,i)}return 47&n.type?new op(t[16],t):null}(jt(),z(),16==(16&n))};let gy=(()=>{class n{}return n.__NG_ELEMENT_ID__=Wq,n})();const Yq=[new TR],Jq=new th([new DR]),Zq=new ih(Yq),eG=function(){return my(jt(),z())};let Ns=(()=>{class n{}return n.__NG_ELEMENT_ID__=eG,n})();const tG=Ns,iG=class extends tG{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=Wl(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(i[19]=r.createEmbeddedView(e)),zl(e,i,t),new op(i)}};function my(n,t){return 4&n.type?new iG(t,n,eh(n,t)):null}class tc{}const oG=function(){return NR(jt(),z())};let Rs=(()=>{class n{}return n.__NG_ELEMENT_ID__=oG,n})();const lG=Rs,IR=class extends lG{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return eh(this._hostTNode,this._hostLView)}get injector(){return new Gi(this._hostTNode,this._hostLView)}get parentInjector(){const t=qi(this._hostTNode,this._hostLView);if(om(t)){const e=da(t,this._hostLView),i=vo(t);return new Gi(e[1].data[i+8],e)}return new Gi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=OR(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const s=t.createEmbeddedView(e||{});return this.insert(s,i),s}createComponent(t,e,i,s,r){const o=i||this.parentInjector;if(!r&&null==t.ngModule&&o){const l=o.get(tc,null);l&&(r=l)}const a=t.create(o,s,void 0,r);return this.insert(a.hostView,e),a}insert(t,e){const i=t._lView,s=i[1];if(function(n){return Bn(n[3])}(i)){const f=this.indexOf(t);if(-1!==f)this.detach(f);else{const m=i[3],y=new IR(m,m[6],m[3]);y.detach(y.indexOf(t))}}const r=this._adjustIndex(e),o=this._lContainer;!function(n,t,e,i){const s=10+i,r=e.length;i>0&&(e[s-1][4]=t),i<r-10?(t[4]=e[s],Pl(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const o=t[17];null!==o&&e!==o&&function(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=128}(s,i,o,r);const a=af(r,o),l=i[11],h=Bl(l,o[7]);return null!==h&&function(n,t,e,i,s,r){i[0]=s,i[6]=t,Vl(n,i,e,1,s,r)}(s,o[6],l,i,h,a),t.attachToViewContainerRef(),Pl(_C(o),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=OR(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=tf(this._lContainer,e);i&&(Eo(_C(this._lContainer),e),$m(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=tf(this._lContainer,e);return i&&null!=Eo(_C(this._lContainer),e)?new op(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function OR(n){return n[8]}function _C(n){return n[8]||(n[8]=[])}function NR(n,t){let e;const i=t[n.index];if(Bn(i))e=i;else{let s;if(8&n.type)s=ti(i);else{const r=t[11];s=r.createComment("");const o=Fe(n,t);Nr(r,Bl(r,o),s,function(n,t){return It(n)?n.nextSibling(t):t.nextSibling}(r,o),!1)}t[n.index]=e=Hv(i,t,s,n),Lu(t,e)}return new IR(e,n,t)}const oh={};class eL extends Xu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ki(t);return new iL(e,this.ngModule)}}function tL(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}const s5=new me("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>_f});class iL extends SR{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function(n){return n.map(nw).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return tL(this.componentDef.inputs)}get outputs(){return tL(this.componentDef.outputs)}create(t,e,i,s){const r=(s=s||this.ngModule)?function(n,t){return{get:(e,i,s)=>{const r=n.get(e,oh,s);return r!==oh||i===oh?r:t.get(e,i,s)}}}(t,s.injector):t,o=r.get(Xl,yn),a=r.get(yC,null),l=o.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=i?function(n,t,e){if(It(n))return n.selectRootElement(t,e===Yt.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(l,i,this.componentDef.encapsulation):Xd(o.createRenderer(null,this.componentDef),h,function(n){const t=n.toLowerCase();return"svg"===t?$:"math"===t?"http://www.w3.org/1998/MathML/":null}(h)),m=this.componentDef.onPush?576:528,y=function(n,t){return{components:[],scheduler:n||_f,clean:Vw,playerHandler:t||null,flags:0}}(),b=Ru(0,null,null,1,0,null,null,null,null,null),C=Wl(null,b,y,m,null,null,o,l,a,r);let T,P;Xc(C);try{const O=function(n,t,e,i,s,r){const o=e[1];e[20]=n;const l=Da(o,20,2,"#host",null),h=l.mergedAttrs=t.hostAttrs;null!==h&&(Vu(l,h,!0),null!==n&&(en(s,n,h),null!==l.classes&&ku(s,n,l.classes),null!==l.styles&&uf(s,n,l.styles)));const f=i.createRenderer(n,t),m=Wl(e,Nu(t),null,t.onPush?64:16,e[20],l,i,f,r||null,null);return o.firstCreatePass&&(ru(En(l,e),o,t.type),Fv(o,l),Mf(l,e.length,1)),Lu(e,m),e[20]=m}(f,this.componentDef,C,o,l);if(f)if(i)en(l,f,["ng-version",kR.full]);else{const{attrs:I,classes:B}=function(n){const t=[],e=[];let i=1,s=2;for(;i<n.length;){let r=n[i];if("string"==typeof r)2===s?""!==r&&t.push(r,n[++i]):8===s&&e.push(r);else{if(!ls(s))break;s=r}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);I&&en(l,f,I),B&&B.length>0&&ku(l,f,B.join(" "))}if(P=Wc(b,20),void 0!==e){const I=P.projection=[];for(let B=0;B<this.ngContentSelectors.length;B++){const G=e[B];I.push(null!=G?Array.from(G):null)}}T=function(n,t,e,i,s){const r=e[1],o=function(n,t,e){const i=jt();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),If(n,i,t,Pa(n,t,1,null),e));const s=ga(t,n,i.directiveStart,i);Ai(s,t);const r=Fe(i,t);return r&&Ai(r,t),s}(r,e,t);if(i.components.push(o),n[8]=o,s&&s.forEach(l=>l(o,t)),t.contentQueries){const l=jt();t.contentQueries(1,o,l.directiveStart)}const a=jt();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Mr(a.index),Vv(e[1],a,0,a.directiveStart,a.directiveEnd,t),$v(t,o)),o}(O,this.componentDef,C,y,[oH]),zl(b,C,null)}finally{nr()}return new a5(this.componentType,T,eh(P,C),C,P)}}class a5 extends class{}{constructor(t,e,i,s,r){super(),this.location=i,this._rootLView=s,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new Uq(s),this.componentType=t}get injector(){return new Gi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const ah=new Map;class u5 extends tc{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new eL(this);const i=yt(t),s=function(n){return n[PS]||null}(t);s&&uC(s),this._bootstrapComponents=as(i.bootstrap),this._r3Injector=Wv(t,e,[{provide:tc,useValue:this},{provide:Xu,useValue:this.componentFactoryResolver}],He(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=At.THROW_IF_NOT_FOUND,i=ye.Default){return t===At||t===tc||t===xa?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class IC extends class{}{constructor(t){super(),this.moduleType=t,null!==yt(t)&&function(n){const t=new Set;!function e(i){const s=yt(i,!0),r=s.id;null!==r&&(function(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${He(t)} vs ${He(t.name)}`)}(r,ah.get(r),i),ah.set(r,i));const o=as(s.imports);for(const a of o)t.has(a)||(t.add(a),e(a))}(n)}(t)}create(t){return new u5(this.moduleType,t)}}function aL(n,t,e,i,s){return function(n,t,e,i,s,r,o){const a=t+e;return Ql(n,a,s,r)?Fr(n,a+2,o?i.call(o,s,r):i(s,r)):pp(n,a+2)}(z(),Hi(),n,t,e,i,s)}function pp(n,t){const e=n[t];return e===fe?void 0:e}function lL(n,t,e,i,s,r){const o=t+e;return an(n,o,s)?Fr(n,o+1,r?i.call(r,s):i(s)):pp(n,o+1)}function Ia(n,t){const e=nt();let i;const s=n+20;e.firstCreatePass?(i=function(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}throw new Dr("302",`The pipe '${n}' could not be found!`)}(t,e.pipeRegistry),e.data[s]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(s,i.onDestroy)):i=e.data[s];const r=i.factory||(i.factory=lo(i.type)),o=Xs(V);try{const a=fa(!1),l=r();return fa(a),function(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,z(),s,l),l}finally{Xs(o)}}function Oa(n,t,e){const i=n+20,s=z(),r=function(n,t){return n[t]}(s,i);return function(n,t){ur.isWrapped(t)&&(t=ur.unwrap(t),n[is()]=fe);return t}(s,function(n,t){return n[1].data[t].pure}(s,i)?lL(s,Hi(),t,r.transform,e,r):r.transform(e))}function OC(n){return t=>{setTimeout(n,void 0,t)}}const dt=class extends Je{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var s,r,o;let a=t,l=e||(()=>null),h=i;if(t&&"object"==typeof t){const m=t;a=null===(s=m.next)||void 0===s?void 0:s.bind(m),l=null===(r=m.error)||void 0===r?void 0:r.bind(m),h=null===(o=m.complete)||void 0===o?void 0:o.bind(m)}this.__isAsync&&(l=OC(l),a&&(a=OC(a)),h&&(h=OC(h)));const f=super.subscribe({next:a,error:l,complete:h});return t instanceof Xe&&t.add(f),f}};function C5(){return this._results[$u()]()}class Sy{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=$u(),i=Sy.prototype;i[e]||(i[e]=C5)}get changes(){return this._changes||(this._changes=new dt)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const s=wn(t);(this._changesDetected=!function(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let s=n[i],r=t[i];if(e&&(s=e(s),r=e(r)),r!==s)return!1}return!0}(i._results,s,e))&&(i._results=s,i.length=s.length,i.last=s[this.length-1],i.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class NC{constructor(t){this.queryList=t,this.matches=null}clone(){return new NC(this.queryList)}setDirty(){this.queryList.setDirty()}}class RC{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,s=[];for(let r=0;r<i;r++){const o=e.getByIndex(r);s.push(this.queries[o.indexInDeclarationView].clone())}return new RC(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==vL(t,e).matches&&this.queries[e].setDirty()}}class fL{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class LC{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const s=null!==e?e.length:0,r=this.getByIndex(i).embeddedTView(t,s);r&&(r.indexInDeclarationView=i,null!==e?e.push(r):e=[r])}return null!==e?new LC(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class BC{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new BC(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){const r=i[s];this.matchTNodeWithReadOption(t,e,P5(e,r)),this.matchTNodeWithReadOption(t,e,au(e,t,r,!1,!1))}else i===Ns?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,au(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const s=this.metadata.read;if(null!==s)if(s===Nt||s===Rs||s===Ns&&4&e.type)this.addMatch(e.index,-2);else{const r=au(e,t,s,!1,!1);null!==r&&this.addMatch(e.index,r)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function P5(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function T5(n,t,e,i){return-1===e?function(n,t){return 11&n.type?eh(n,t):4&n.type?my(n,t):null}(t,n):-2===e?function(n,t,e){return e===Nt?eh(t,n):e===Ns?my(t,n):e===Rs?NR(t,n):void 0}(n,t,i):ga(n,n[1],e,t)}function pL(n,t,e,i){const s=t[19].queries[i];if(null===s.matches){const r=n.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const h=o[l];a.push(h<0?null:T5(t,r[h],o[l+1],e.metadata.read))}s.matches=a}return s.matches}function VC(n,t,e,i){const s=n.queries.getByIndex(e),r=s.matches;if(null!==r){const o=pL(n,t,s,e);for(let a=0;a<r.length;a+=2){const l=r[a];if(l>0)i.push(o[a/2]);else{const h=r[a+1],f=t[-l];for(let m=10;m<f.length;m++){const y=f[m];y[17]===y[3]&&VC(y[1],y,h,i)}if(null!==f[9]){const m=f[9];for(let y=0;y<m.length;y++){const b=m[y];VC(b[1],b,h,i)}}}}}return i}function sc(n){const t=z(),e=nt(),i=tm();Ed(i+1);const s=vL(e,i);if(n.dirty&&Jg(t)===(2==(2&s.metadata.flags))){if(null===s.matches)n.reset([]);else{const r=s.crossesNgTemplate?VC(e,t,i,[]):pL(e,t,s,i);n.reset(r,CR),n.notifyOnChanges()}return!0}return!1}function Ey(n,t,e){const i=nt();i.firstCreatePass&&(mL(i,new fL(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),gL(i,z(),t)}function wy(n,t,e,i){const s=nt();if(s.firstCreatePass){const r=jt();mL(s,new fL(t,e,i),r.index),function(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(s,n),2==(2&e)&&(s.staticContentQueries=!0)}gL(s,z(),e)}function rc(){return function(n,t){return n[19].queries[t].queryList}(z(),tm())}function gL(n,t,e){const i=new Sy(4==(4&e));Iv(n,t,i,i.destroy),null===t[19]&&(t[19]=new RC),t[19].queries.push(new NC(i))}function mL(n,t,e){null===n.queries&&(n.queries=new LC),n.queries.track(new BC(t,e))}function vL(n,t){return n.queries.getByIndex(t)}const Dy=new me("Application Initializer");let ch=(()=>{class n{constructor(e){this.appInits=e,this.resolve=dy,this.reject=dy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const r=this.appInits[s]();if(ry(r))e.push(r);else if(aC(r)){const o=new Promise((a,l)=>{r.subscribe({complete:a,error:l})});e.push(o)}}Promise.all(e).then(()=>{i()}).catch(s=>{this.reject(s)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(H(Dy,8))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();const yp=new me("AppId"),o6={provide:yp,useFactory:function(){return`${UC()}${UC()}${UC()}`},deps:[]};function UC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const RL=new me("Platform Initializer"),uh=new me("Platform ID"),a6=new me("appBootstrapListener");let jC=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();const Na=new me("LocaleId"),LL=new me("DefaultCurrencyCode");class c6{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const WC=function(n){return new IC(n)},u6=WC,h6=function(n){return Promise.resolve(WC(n))},BL=function(n){const t=WC(n),i=as(yt(n).declarations).reduce((s,r)=>{const o=ki(r);return o&&s.push(new iL(o)),s},[]);return new c6(t,i)},d6=BL,f6=function(n){return Promise.resolve(BL(n))};let Ay=(()=>{class n{constructor(){this.compileModuleSync=u6,this.compileModuleAsync=h6,this.compileModuleAndAllComponentsSync=d6,this.compileModuleAndAllComponentsAsync=f6}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();const m6=(()=>Promise.resolve(0))();function zC(n){"undefined"==typeof Zone?m6.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ze{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new dt(!1),this.onMicrotaskEmpty=new dt(!1),this.onStable=new dt(!1),this.onError=new dt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&e,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function(){let n=at.requestAnimationFrame,t=at.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(n){const t=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(at,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,YC(n),n.isCheckStableRunning=!0,KC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),YC(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,s,r,o,a)=>{try{return VL(n),e.invokeTask(s,r,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||n.shouldCoalesceRunChangeDetection)&&t(),$L(n)}},onInvoke:(e,i,s,r,o,a,l)=>{try{return VL(n),e.invoke(s,r,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),$L(n)}},onHasTask:(e,i,s,r)=>{e.hasTask(s,r),i===s&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,YC(n),KC(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,i,s,r)=>(e.handleError(s,r),n.runOutsideAngular(()=>n.onError.emit(r)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ze.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ze.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,s){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+s,t,y6,dy,dy);try{return r.runTask(o,e,i)}finally{r.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const y6={};function KC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function YC(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function VL(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function $L(n){n._nesting--,KC(n)}class S6{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new dt,this.onMicrotaskEmpty=new dt,this.onStable=new dt,this.onError=new dt}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,s){return t.apply(e,i)}}let QC=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ze.assertNotInAngularZone(),zC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zC(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,s){let r=-1;i&&i>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==r),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:s})}whenStable(e,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,s){return[]}}return n.\u0275fac=function(e){return new(e||n)(H(ze))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})(),FL=(()=>{class n{constructor(){this._applications=new Map,JC.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return JC.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();class E6{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let JC=new E6,HL=!0,qL=!1;let mr;const UL=new me("AllowMultipleToken");function jL(n,t,e=[]){const i=`Platform: ${t}`,s=new me(i);return(r=[])=>{let o=WL();if(!o||o.injector.get(UL,!1))if(n)n(e.concat(r).concat({provide:s,useValue:!0}));else{const a=e.concat(r).concat({provide:s,useValue:!0},{provide:Bo,useValue:"platform"});!function(n){if(mr&&!mr.destroyed&&!mr.injector.get(UL,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");mr=n.get(zL);const t=n.get(RL,null);t&&t.forEach(e=>e())}(At.create({providers:a,name:i}))}return function(n){const t=WL();if(!t)throw new Error("No platform exists!");if(!t.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(s)}}function WL(){return mr&&!mr.destroyed?mr:null}let zL=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const a=function(n,t){let e;return e="noop"===n?new S6:("zone.js"===n?void 0:n)||new ze({enableLongStackTrace:(qL=!0,HL),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:ze,useValue:a}];return a.run(()=>{const h=At.create({providers:l,parent:this.injector,name:e.moduleType.name}),f=e.create(h),m=f.injector.get(Ro,null);if(!m)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const y=a.onError.subscribe({next:b=>{m.handleError(b)}});f.onDestroy(()=>{ZC(this._modules,f),y.unsubscribe()})}),function(n,t,e){try{const i=e();return ry(i)?i.catch(s=>{throw t.runOutsideAngular(()=>n.handleError(s)),s}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(m,a,()=>{const y=f.injector.get(ch);return y.runInitializers(),y.donePromise.then(()=>(uC(f.injector.get(Na,ay)||ay),this._moduleDoBootstrap(f),f))})})}bootstrapModule(e,i=[]){const s=KL({},i);return function(n,t,e){const i=new IC(e);return Promise.resolve(i)}(0,0,e).then(r=>this.bootstrapModuleFactory(r,s))}_moduleDoBootstrap(e){const i=e.injector.get(_p);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${He(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(H(At))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();function KL(n,t){return Array.isArray(t)?t.reduce(KL,n):Object.assign(Object.assign({},n),t)}let _p=(()=>{class n{constructor(e,i,s,r,o){this._zone=e,this._injector=i,this._exceptionHandler=s,this._componentFactoryResolver=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Ye(h=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{h.next(this._stable),h.complete()})}),l=new Ye(h=>{let f;this._zone.runOutsideAngular(()=>{f=this._zone.onStable.subscribe(()=>{ze.assertNotInAngularZone(),zC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,h.next(!0))})})});const m=this._zone.onUnstable.subscribe(()=>{ze.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{h.next(!1)}))});return()=>{f.unsubscribe(),m.unsubscribe()}});this.isStable=kr(a,l.pipe(n=>Bc()(function(n,t){return function(i){let s;s="function"==typeof n?n:function(){return n};const r=Object.create(i,Zh);return r.source=i,r.subjectFactory=s,r}}(pS)(n))))}bootstrap(e,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let s;s=e instanceof SR?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(s.componentType);const r=function(n){return n.isBoundToModule}(s)?void 0:this._injector.get(tc),a=s.create(At.NULL,[],i||s.selector,r),l=a.location.nativeElement,h=a.injector.get(QC,null),f=h&&a.injector.get(FL);return h&&f&&f.registerApplication(l,h),a.onDestroy(()=>{this.detachView(a.hostView),ZC(this.components,a),f&&f.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;ZC(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(a6,[]).concat(this._bootstrapListeners).forEach(s=>s(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(H(ze),H(At),H(Ro),H(Xu),H(ch))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();function ZC(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Y6=jL(null,"core",[{provide:uh,useValue:"unknown"},{provide:zL,deps:[At]},{provide:FL,deps:[]},{provide:jC,deps:[]}]),eU=[{provide:_p,useClass:_p,deps:[ze,At,Ro,Xu,ch]},{provide:s5,deps:[ze],useFactory:function(n){let t=[];return n.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:ch,useClass:ch,deps:[[new ci,Dy]]},{provide:Ay,useClass:Ay,deps:[]},o6,{provide:th,useFactory:function(){return Jq},deps:[]},{provide:ih,useFactory:function(){return Zq},deps:[]},{provide:Na,useFactory:function(n){return uC(n=n||"undefined"!=typeof $localize&&$localize.locale||ay),n},deps:[[new pi(Na),new ci,new To]]},{provide:LL,useValue:"USD"}];let iU=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(H(_p))},n.\u0275mod=ei({type:n}),n.\u0275inj=Ut({providers:eU}),n})(),Vy=null;function lc(){return Vy}const Ze=new me("DocumentToken");var gi=(()=>((gi=gi||{})[gi.Zero=0]="Zero",gi[gi.One=1]="One",gi[gi.Two=2]="Two",gi[gi.Few=3]="Few",gi[gi.Many=4]="Many",gi[gi.Other=5]="Other",gi))();const u8=function(n){return function(n){const t=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=YN(t);if(e)return e;const i=t.split("-")[0];if(e=YN(i),e)return e;if("en"===i)return T4;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[oe.PluralCase]};class Ky{}let $8=(()=>{class n extends Ky{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(u8(i||this.locale)(e)){case gi.Zero:return"zero";case gi.One:return"one";case gi.Two:return"two";case gi.Few:return"few";case gi.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(H(Na))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();function O2(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[s,r]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===t)return decodeURIComponent(r)}return null}let E0=(()=>{class n{constructor(e,i,s,r){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=s,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Qf(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${He(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(e){return new(e||n)(V(th),V(ih),V(Nt),V(ec))},n.\u0275dir=ue({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class H8{constructor(t,e,i,s){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Dp=(()=>{class n{constructor(e,i,s){this._viewContainer=e,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=[];e.forEachOperation((s,r,o)=>{if(null==s.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new H8(null,this._ngForOf,-1,-1),null===o?void 0:o),l=new N2(s,a);i.push(l)}else if(null==o)this._viewContainer.remove(null===r?void 0:r);else if(null!==r){const a=this._viewContainer.get(r);this._viewContainer.move(a,o);const l=new N2(s,a);i.push(l)}});for(let s=0;s<i.length;s++)this._perViewChange(i[s].view,i[s].record);for(let s=0,r=this._viewContainer.length;s<r;s++){const o=this._viewContainer.get(s);o.context.index=s,o.context.count=r,o.context.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{this._viewContainer.get(s.currentIndex).context.$implicit=s.item})}_perViewChange(e,i){e.context.$implicit=i.item}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(V(Rs),V(Ns),V(th))},n.\u0275dir=ue({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class N2{constructor(t,e){this.record=t,this.view=e}}let fh=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new G8,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){R2("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){R2("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(V(Rs),V(Ns))},n.\u0275dir=ue({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class G8{constructor(){this.$implicit=null,this.ngIf=null}}function R2(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${He(t)}'.`)}let k0=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=B2}transform(e,i=B2){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const s=this.differ.diff(e),r=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(o=>{this.keyValues.push(function(n,t){return{key:n,value:t}}(o.key,o.currentValue))})),(s||r)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)(V(ih,16))},n.\u0275pipe=Zi({name:"keyvalue",type:n,pure:!1}),n})();function B2(n,t){const e=n.key,i=t.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const s=String(e),r=String(i);return s==r?0:s<r?-1:1}let V2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ei({type:n}),n.\u0275inj=Ut({providers:[{provide:Ky,useClass:$8}]}),n})();const $2="browser";class H2{}class A0 extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){Vy||(Vy=n)}(new A0)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(Pp=Pp||document.querySelector("base"),Pp?Pp.getAttribute("href"):null);return null==e?null:function(n){Yy=Yy||document.createElement("a"),Yy.setAttribute("href",n);const t=Yy.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Pp=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return O2(document.cookie,t)}}let Yy,Pp=null;const q2=new me("TRANSITION_ID"),wj=[{provide:Dy,useFactory:function(n,t,e){return()=>{e.get(ch).donePromise.then(()=>{const i=lc(),s=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let r=0;r<s.length;r++)i.remove(s[r])})}},deps:[q2,Ze,At],multi:!0}];class T0{static init(){!function(n){JC=n}(new T0)}addToWindow(t){at.getAngularTestability=(i,s=!0)=>{const r=t.findTestabilityInTree(i,s);if(null==r)throw new Error("Could not find testability for element.");return r},at.getAllAngularTestabilities=()=>t.getAllTestabilities(),at.getAllAngularRootElements=()=>t.getAllRootElements(),at.frameworkStabilizers||(at.frameworkStabilizers=[]),at.frameworkStabilizers.push(i=>{const s=at.getAllAngularTestabilities();let r=s.length,o=!1;const a=function(l){o=o||l,r--,0==r&&i(o)};s.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:i?lc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Cj=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();const Ap=new me("EventManagerPlugins");let Jy=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}addGlobalEventListener(e,i,s){return this._findPluginFor(i).addGlobalEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const s=this._plugins;for(let r=0;r<s.length;r++){const o=s[r];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(H(Ap),H(ze))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();class x0{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const s=lc().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,i)}}let U2=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})(),Tp=(()=>{class n extends U2{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,s){e.forEach(r=>{const o=this._doc.createElement("style");o.textContent=r,s.push(i.appendChild(o))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(j2),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(e,s,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(j2))}}return n.\u0275fac=function(e){return new(e||n)(H(Ze))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();function j2(n){lc().remove(n)}const M0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},I0=/%COMP%/g;function Zy(n,t,e){for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?Zy(n,s,e):(s=s.replace(I0,n),e.push(s))}return e}function K2(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Xy=(()=>{class n{constructor(e,i,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new O0(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Yt.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new $j(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(e),s}case 1:case Yt.ShadowDom:return new Fj(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const s=Zy(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(H(Jy),H(Tp),H(yp))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();class O0{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(M0[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,s){if(s){e=s+":"+e;const r=M0[s];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const s=M0[i];s?t.removeAttributeNS(s,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,s){s&(nn.DashCase|nn.Important)?t.style.setProperty(e,i,s&nn.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&nn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,K2(i)):this.eventManager.addEventListener(t,e,K2(i))}}class $j extends O0{constructor(t,e,i,s){super(t),this.component=i;const r=Zy(s+"-"+i.id,i.styles,[]);e.addStyles(r),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(I0,n)}(s+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(I0,n)}(s+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Fj extends O0{constructor(t,e,i,s){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=Zy(s.id,s.styles,[]);for(let o=0;o<r.length;o++){const a=document.createElement("style");a.textContent=r[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Hj=(()=>{class n extends x0{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}}return n.\u0275fac=function(e){return new(e||n)(H(Ze))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();const J2=["alt","control","meta","shift"],Kj={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Z2={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Yj={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Qj=(()=>{class n extends x0{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,s){const r=n.parseEventName(i),o=n.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>lc().onAndCancel(e,r.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const r=n._normalizeKey(i.pop());let o="";if(J2.forEach(l=>{const h=i.indexOf(l);h>-1&&(i.splice(h,1),o+=l+".")}),o+=r,0!=i.length||0===r.length)return null;const a={};return a.domEventName=s,a.fullKey=o,a}static getEventFullKey(e){let i="",s=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Z2.hasOwnProperty(t)&&(t=Z2[t]))}return Kj[t]||t}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),J2.forEach(r=>{r!=s&&Yj[r](e)&&(i+=r+".")}),i+=s,i}static eventCallback(e,i,s){return r=>{n.getEventFullKey(r)===e&&s.runGuarded(()=>i(r))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(H(Ze))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();const iW=[{provide:uh,useValue:$2},{provide:RL,useValue:function(){A0.makeCurrent(),T0.init()},multi:!0},{provide:Ze,useFactory:function(){return function(n){Ie=n}(document),document},deps:[]}],sW=jL(Y6,"browser",iW),rW=[[],{provide:Bo,useValue:"root"},{provide:Ro,useFactory:function(){return new Ro},deps:[]},{provide:Ap,useClass:Hj,multi:!0,deps:[Ze,ze,uh]},{provide:Ap,useClass:Qj,multi:!0,deps:[Ze]},[],{provide:Xy,useClass:Xy,deps:[Jy,Tp,yp]},{provide:Xl,useExisting:Xy},{provide:U2,useExisting:Tp},{provide:Tp,useClass:Tp,deps:[Ze]},{provide:QC,useClass:QC,deps:[ze]},{provide:Jy,useClass:Jy,deps:[Ap,ze]},{provide:H2,useClass:Cj,deps:[]},[]];let B0=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:yp,useValue:e.appId},{provide:q2,useExisting:yp},wj]}}}return n.\u0275fac=function(e){return new(e||n)(H(n,12))},n.\u0275mod=ei({type:n}),n.\u0275inj=Ut({providers:rW,imports:[V2,iU]}),n})();function e_(n,t){return new Ye(e=>{const i=n.length;if(0===i)return void e.complete();const s=new Array(i);let r=0,o=0;for(let a=0;a<i;a++){const l=Ic(n[a]);let h=!1;e.add(l.subscribe({next:f=>{h||(h=!0,o++),s[a]=f},error:f=>e.error(f),complete:()=>{r++,(r===i||!h)&&(o===i&&e.next(t?t.reduce((f,m,y)=>(f[m]=s[y],f),{}):s),e.complete())}}))}})}"undefined"!=typeof window&&window;let e3=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(V(ec),V(Nt))},n.\u0275dir=ue({type:n}),n})(),cc=(()=>{class n extends e3{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=ue({type:n,features:[Ot]}),n})();const Ur=new me("NgValueAccessor"),pW={provide:Ur,useExisting:St(()=>t_),multi:!0};let t_=(()=>{class n extends cc{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=ue({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,i){1&e&&je("change",function(r){return i.onChange(r.target.checked)})("blur",function(){return i.onTouched()})},features:[ot([pW]),Ot]}),n})();const gW={provide:Ur,useExisting:St(()=>Ho),multi:!0},vW=new me("CompositionEventMode");let Ho=(()=>{class n extends e3{constructor(e,i,s){super(e,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=lc()?lc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(V(ec),V(Nt),V(vW,8))},n.\u0275dir=ue({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&je("input",function(r){return i._handleInput(r.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(r){return i._compositionEnd(r.target.value)})},features:[ot([gW]),Ot]}),n})();function Ba(n){return null==n||0===n.length}function t3(n){return null!=n&&"number"==typeof n.length}const un=new me("NgValidators"),Va=new me("NgAsyncValidators"),yW=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class $0{static min(t){return i3(t)}static max(t){return n3(t)}static required(t){return s3(t)}static requiredTrue(t){return function(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function(n){return Ba(n.value)||yW.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function(n){return t=>Ba(t.value)||!t3(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function(n){return t=>t3(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(n){if(!n)return $a;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Ba(i.value))return null;const s=i.value;return t.test(s)?null:{pattern:{requiredPattern:e,actualValue:s}}}}(t)}static nullValidator(t){return null}static compose(t){return g3(t)}static composeAsync(t){return m3(t)}}function i3(n){return t=>{if(Ba(t.value)||Ba(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function n3(n){return t=>{if(Ba(t.value)||Ba(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function s3(n){return Ba(n.value)?{required:!0}:null}function $a(n){return null}function u3(n){return null!=n}function h3(n){const t=ry(n)?Ic(n):n;return aC(t),t}function d3(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function f3(n,t){return t.map(e=>e(n))}function p3(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function g3(n){if(!n)return null;const t=n.filter(u3);return 0==t.length?null:function(e){return d3(f3(e,t))}}function F0(n){return null!=n?g3(p3(n)):null}function m3(n){if(!n)return null;const t=n.filter(u3);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if(il(t))return e_(t,null);if(nl(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return e_(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return e_(n=1===n.length&&il(n[0])?n[0]:n,null).pipe(vs(e=>t(...e)))}return e_(n,null)}(f3(e,t).map(h3)).pipe(vs(d3))}}function H0(n){return null!=n?m3(p3(n)):null}function v3(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function y3(n){return n._rawValidators}function _3(n){return n._rawAsyncValidators}function q0(n){return n?Array.isArray(n)?n:[n]:[]}function i_(n,t){return Array.isArray(n)?n.includes(t):n===t}function b3(n,t){const e=q0(t);return q0(n).forEach(s=>{i_(e,s)||e.push(s)}),e}function S3(n,t){return q0(t).filter(e=>!i_(n,e))}let E3=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=F0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=H0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,i){return!!this.control&&this.control.hasError(e,i)}getError(e,i){return this.control?this.control.getError(e,i):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ue({type:n}),n})(),Mn=(()=>{class n extends E3{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=ue({type:n,features:[Ot]}),n})();class Fa extends E3{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class w3{constructor(t){this._cd=t}is(t){var e,i,s;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(s=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===s?void 0:s[t])}}let uc=(()=>{class n extends w3{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(V(Fa,2))},n.\u0275dir=ue({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&Jl("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[Ot]}),n})(),hc=(()=>{class n extends w3{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(V(Mn,10))},n.\u0275dir=ue({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&Jl("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[Ot]}),n})();function xp(n,t){j0(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&C3(n,t)})}(n,t),function(n,t){const e=(i,s)=>{t.valueAccessor.writeValue(i),s&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&C3(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function r_(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),a_(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function o_(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function j0(n,t){const e=y3(n);null!==t.validator?n.setValidators(v3(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=_3(n);null!==t.asyncValidator?n.setAsyncValidators(v3(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const s=()=>n.updateValueAndValidity();o_(t._rawValidators,s),o_(t._rawAsyncValidators,s)}function a_(n,t){let e=!1;if(null!==n){if(null!==t.validator){const s=y3(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(o=>o!==t.validator);r.length!==s.length&&(e=!0,n.setValidators(r))}}if(null!==t.asyncValidator){const s=_3(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(o=>o!==t.asyncValidator);r.length!==s.length&&(e=!0,n.setAsyncValidators(r))}}}const i=()=>{};return o_(t._rawValidators,i),o_(t._rawAsyncValidators,i),e}function C3(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function l_(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Mp="VALID",c_="INVALID",ph="PENDING",Ip="DISABLED";function K0(n){return(Q0(n)?n.validators:n)||null}function P3(n){return Array.isArray(n)?F0(n):n||null}function Y0(n,t){return(Q0(t)?t.asyncValidators:n)||null}function A3(n){return Array.isArray(n)?H0(n):n||null}function Q0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class J0{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=P3(this._rawValidators),this._composedAsyncValidatorFn=A3(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Mp}get invalid(){return this.status===c_}get pending(){return this.status==ph}get disabled(){return this.status===Ip}get enabled(){return this.status!==Ip}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=P3(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=A3(t)}addValidators(t){this.setValidators(b3(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(b3(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(S3(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(S3(t,this._rawAsyncValidators))}hasValidator(t){return i_(this._rawValidators,t)}hasAsyncValidator(t){return i_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ph,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ip,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Mp,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mp||this.status===ph)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ip:Mp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ph,this._hasOwnPendingAsyncValidator=!0;const e=h3(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(s=>{i=i instanceof Ni?i.controls.hasOwnProperty(s)?i.controls[s]:null:i instanceof u_&&i.at(s)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new dt,this.statusChanges=new dt}_calculateStatus(){return this._allControlsDisabled()?Ip:this.errors?c_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ph)?ph:this._anyControlsHaveStatus(c_)?c_:Mp}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Q0(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class se extends J0{constructor(t=null,e,i){super(K0(e),Y0(i,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){l_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){l_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ni extends J0{constructor(t,e,i){super(K0(e),Y0(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof se?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((s,r)=>{i=e(i,s,r)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class u_ extends J0{constructor(t,e,i){super(K0(e),Y0(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,s)=>{this._throwIfControlMissing(s),this.at(s).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,s)=>{this.at(s)&&this.at(s).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof se?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let O3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ue({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const NW={provide:Ur,useExisting:St(()=>h_),multi:!0};let h_=(()=>{class n extends cc{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=ue({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&je("input",function(r){return i.onChange(r.target.value)})("blur",function(){return i.onTouched()})},features:[ot([NW]),Ot]}),n})();const RW={provide:Ur,useExisting:St(()=>X0),multi:!0};let N3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ei({type:n}),n.\u0275inj=Ut({}),n})(),LW=(()=>{class n{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e)return void this._accessors.splice(i,1)}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return!!e[0].control&&e[0]._parent===i._control._parent&&e[1].name===i.name}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ce({factory:function(){return new n},token:n,providedIn:N3}),n})(),X0=(()=>{class n extends cc{constructor(e,i,s,r){super(e,i),this._registry=s,this._injector=r,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Fa),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(e){return new(e||n)(V(ec),V(Nt),V(LW),V(At))},n.\u0275dir=ue({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,i){1&e&&je("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ot([RW]),Ot]}),n})();const ek=new me("NgModelWithFormControlWarning"),$W={provide:Mn,useExisting:St(()=>qo)};let qo=(()=>{class n extends Mn{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new dt,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(a_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return xp(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){r_(e.control||null,e,!1),l_(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,s=this.form.get(e.path);i!==s&&(r_(i||null,e),s instanceof se&&(xp(s,e),e.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function(n,t){j0(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(n,t){return a_(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){j0(this.form,this),this._oldForm&&a_(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(V(un,10),V(Va,10))},n.\u0275dir=ue({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&je("submit",function(r){return i.onSubmit(r)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ot([$W]),Ot,Dt]}),n})();const qW={provide:Fa,useExisting:St(()=>Ha)};let Ha=(()=>{class n extends Fa{constructor(e,i,s,r,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new dt,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function(n,t){if(!t)return null;let e,i,s;return Array.isArray(t),t.forEach(r=>{r.constructor===Ho?e=r:function(n){return Object.getPrototypeOf(n.constructor)===cc}(r)?i=r:s=r}),s||i||e||null}(0,r)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(e){return new(e||n)(V(Mn,13),V(un,10),V(Va,10),V(Ur,10),V(ek,8))},n.\u0275dir=ue({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ot([qW]),Ot,Dt]}),n._ngModelWarningSentOnce=!1,n})();const GW={provide:Ur,useExisting:St(()=>Np),multi:!0};function V3(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Np=(()=>{class n extends cc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=this._getOptionId(e);null==i&&this.setProperty("selectedIndex",-1);const s=V3(i,e);this.setProperty("value",s)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=ue({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&je("change",function(r){return i.onChange(r.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ot([GW]),Ot]}),n})(),nk=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(V3(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(V(Nt),V(ec),V(Np,9))},n.\u0275dir=ue({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const jW={provide:Ur,useExisting:St(()=>sk),multi:!0};function $3(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let sk=(()=>{class n extends cc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const s=e.map(r=>this._getOptionId(r));i=(r,o)=>{r._setSelected(s.indexOf(o.toString())>-1)}}else i=(s,r)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const s=[];if(void 0!==i.selectedOptions){const r=i.selectedOptions;for(let o=0;o<r.length;o++){const a=r.item(o),l=this._getOptionValue(a.value);s.push(l)}}else{const r=i.options;for(let o=0;o<r.length;o++){const a=r.item(o);if(a.selected){const l=this._getOptionValue(a.value);s.push(l)}}}this.value=s,e(s)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=ue({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&je("change",function(r){return i.onChange(r.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ot([jW]),Ot]}),n})(),rk=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue($3(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue($3(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(V(Nt),V(ec),V(sk,9))},n.\u0275dir=ue({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),H3=(()=>{class n{constructor(){this._validator=$a}handleChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._validator=this.createValidator(i),this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ue({type:n}),n})();const zW={provide:un,useExisting:St(()=>d_),multi:!0};let d_=(()=>{class n extends H3{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>parseFloat(e),this.createValidator=e=>n3(e)}ngOnChanges(e){this.handleChanges(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=ue({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,i){if(2&e){let s;hr("max",null!==(s=i.max)&&void 0!==s?s:null)}},inputs:{max:"max"},features:[ot([zW]),Ot,Dt]}),n})();const KW={provide:un,useExisting:St(()=>ok),multi:!0};let ok=(()=>{class n extends H3{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>parseFloat(e),this.createValidator=e=>i3(e)}ngOnChanges(e){this.handleChanges(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=ue({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){if(2&e){let s;hr("min",null!==(s=i.min)&&void 0!==s?s:null)}},inputs:{min:"min"},features:[ot([KW]),Ot,Dt]}),n})();const YW={provide:un,useExisting:St(()=>f_),multi:!0};let f_=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?s3(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ue({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&hr("required",i.required?"":null)},inputs:{required:"required"},features:[ot([YW])]}),n})(),z3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ei({type:n}),n.\u0275inj=Ut({imports:[[N3]]}),n})(),t7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ei({type:n}),n.\u0275inj=Ut({imports:[z3]}),n})(),i7=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:ek,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ei({type:n}),n.\u0275inj=Ut({imports:[z3]}),n})();var ve=Kt(815);function Rp(n){let e,t=n.length;for(;0!=t;)e=Math.floor(Math.random()*t),t--,[n[t],n[e]]=[n[e],n[t]];return n}function Go(n,t){return n=Math.ceil(n),t=Math.floor(t),Math.floor(Math.random()*(t-n+1))+n}function ak(n){return Math.ceil(100*n)/100}function xt(n,t){let e;return e=n.player==t?n.opponet:n.player,e}function n7(n){var t,e,i,s,r,o,a;return new Ni({name:new se(null!==(t=n.name)&&void 0!==t?t:null,$0.required),tier1Pets:new se(null!==(e=n.tier1Pets)&&void 0!==e?e:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier2Pets:new se(null!==(i=n.tier2Pets)&&void 0!==i?i:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier3Pets:new se(null!==(s=n.tier3Pets)&&void 0!==s?s:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier4Pets:new se(null!==(r=n.tier4Pets)&&void 0!==r?r:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier5Pets:new se(null!==(o=n.tier5Pets)&&void 0!==o?o:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier6Pets:new se(null!==(a=n.tier6Pets)&&void 0!==a?a:[],n=>n.value&&10!==n.value.length?{length:!0}:null)})}class ge{constructor(){this.originalPower=this.power}reset(){this.uses=this.originalUses}}class qa extends ge{constructor(){super(...arguments),this.name="Peanut",this.equipmentClass="attack",this.power=0}}class Lp extends ge{constructor(){super(...arguments),this.name="Salt",this.equipmentClass="attack",this.uses=1,this.originalUses=1}}class Bp extends ge{constructor(){super(...arguments),this.name="Cheese",this.equipmentClass="attack",this.uses=1,this.originalUses=1}}class Vp extends ge{constructor(){super(...arguments),this.name="Pepper",this.equipmentClass="shield",this.uses=1,this.originalUses=1,this.power=0,this.originalPower=0}}class $p extends ge{constructor(){super(),this.name="Fortune Cookie",this.equipmentClass="attack"}}class p_ extends ge{constructor(){super(...arguments),this.name="Dazed",this.equipmentClass="ailment-other"}}class Fp extends ge{constructor(){super(...arguments),this.name="Exposed",this.equipmentClass="ailment-other",this.uses=2,this.originalUses=2}}class dc extends ge{constructor(){super(...arguments),this.name="Crisp",this.equipmentClass="ailment-other"}}class K3 extends ge{constructor(){super(...arguments),this.name="Peanut Butter",this.equipmentClass="attack",this.power=0,this.uses=1,this.originalUses=1}}class E{constructor(t,e,i){this.logService=t,this.abilityService=e,this.hidden=!1,this.mana=0,this.maxAbilityUses=null,this.abilityUses=0,this.exp=0,this.originalExp=0,this.faintPet=!1,this.done=!1,this.seenDead=!1,this.swallowedPets=[],this.toyPet=!1,this.battlesFought=0,this.eggplantTouched=!1,this.cherryTouched=!1,this.parent=i}initPet(t,e,i,s,r){var o,a,l,h,f,m,y,b,C,T,P,O,I,B,G,Q,X,ne,Pe,Ae,te,ft,Gt,mt;this.exp=null!=t?t:this.exp,this.health=null!=e?e:this.health*this.level,this.attack=null!=i?i:this.attack*this.level,this.mana=null!=s?s:this.mana,this.originalHealth=this.health,this.originalAttack=this.attack,this.originalMana=this.mana,this.equipment=r,this.originalEquipment=r,this.originalExp=this.exp,this.originalStartOfBattle=this.startOfBattle,this.originalTransform=this.transform,this.originalHurt=this.hurt,this.originalFaint=this.faint,this.originalFriendSummoned=this.friendSummoned,this.originalFriendAheadAttacks=this.friendAheadAttacks,this.originalFriendAheadFaints=this.friendAheadFaints,this.originalFriendFaints=this.friendFaints,this.originalGainedPerk=this.GainedPerk,this.originalFriendGainedPerk=this.friendGainedPerk,this.originalFriendGainedAilment=this.friendGainedAilment,this.originalFriendHurt=this.friendHurt,this.originalFriendAttacks=this.friendAttacks,this.originalAfterAttack=this.afterAttack,this.originalBeforeAttack=this.beforeAttack,this.originalAnyoneLevelUp=this.anyoneLevelUp,this.originalEndTurn=this.endTurn,this.originalKnockOut=this.knockOut,this.originalSummoned=this.summoned,this.originalFriendlyToyBroke=this.friendlyToyBroke,this.originalEnemySummoned=this.enemySummoned,this.originalEnemyPushed=this.enemyPushed,this.originalEnemyHurt=this.enemyHurt,this.originalEmptyFrontSpace=this.emptyFrontSpace,this.originalGainedMana=this.gainedMana,this.originalFriendJumped=this.friendJumped,this.originalEnemyGainedAilment=this.enemyGainedAilment,this.originalFriendGainsHealth=this.friendGainsHealth;let Li=null===(o=this.faint)||void 0===o?void 0:o.bind(this);null!=Li&&(this.faintPet=!0),this.faint=(Te,Ne,ht)=>{if(null!=Li){if(!this.abilityValidCheck())return;Li(Te,Ne,ht)}if(this.abilityValidCheck()&&!this.kitsuneCheck()&&this.mana>0){let Ac;Ac={priority:this.attack,player:this.parent,callback:()=>{let Eg=xt(Te,this.parent).getRandomPet([],!1,!0);null!=Eg&&0!=this.mana&&this.snipePet(Eg,this.mana,!0,!1,!1,!1,!0)}},this.abilityService.setManaEvent(Ac)}};let zi=null===(a=this.startOfBattle)||void 0===a?void 0:a.bind(this);this.startOfBattle=null==zi?null:(Te,Ne)=>{if(this.abilityValidCheck())return zi(Te,Ne)};let J=null===(l=this.transform)||void 0===l?void 0:l.bind(this);this.transform=null==J?null:(Te,Ne)=>{!this.abilityValidCheck()||J(Te,Ne)};let le=null===(h=this.endTurn)||void 0===h?void 0:h.bind(this);this.endTurn=null==le?null:Te=>{!this.abilityValidCheck()||le(Te)};let Se=null===(f=this.beforeAttack)||void 0===f?void 0:f.bind(this);this.beforeAttack=null==Se?null:(Te,Ne)=>{!this.abilityValidCheck()||Se(Te,Ne)};let $e=null===(m=this.afterAttack)||void 0===m?void 0:m.bind(this);this.afterAttack=null==$e?null:(Te,Ne)=>{!this.abilityValidCheck()||$e(Te,Ne)};let Lt=null===(y=this.friendAttacks)||void 0===y?void 0:y.bind(this);this.friendAttacks=null==Lt?null:(Te,Ne)=>{!this.abilityValidCheck()||Lt(Te,Ne)};let Ki=null===(b=this.friendFaints)||void 0===b?void 0:b.bind(this);this.friendFaints=null==Ki?null:(Te,Ne,ht)=>{!this.abilityValidCheck()||Ki(Te,Ne,ht)};let ri=null===(C=this.GainedPerk)||void 0===C?void 0:C.bind(this);this.GainedPerk=null==ri?null:(Te,Ne,ht)=>{!this.abilityValidCheck()||ri(Te,Ne,ht)};let hn=null===(T=this.friendGainedPerk)||void 0===T?void 0:T.bind(this);this.friendGainedPerk=null==hn?null:(Te,Ne,ht)=>{!this.abilityValidCheck()||hn(Te,Ne,ht)};let pt=null===(P=this.friendHurt)||void 0===P?void 0:P.bind(this);this.friendHurt=null==pt?null:(Te,Ne,ht)=>{!this.abilityValidCheck()||pt(Te,Ne,ht)};let gs=null===(O=this.friendSummoned)||void 0===O?void 0:O.bind(this);this.friendSummoned=null==gs?null:(Te,Ne,ht)=>{!this.abilityValidCheck()||gs(Te,Ne,ht)};let Ci=null===(I=this.anyoneLevelUp)||void 0===I?void 0:I.bind(this);this.anyoneLevelUp=null==Ci?null:(Te,Ne,ht)=>{!this.abilityValidCheck()||Ci(Te,Ne,ht)};let ms=null===(B=this.enemyHurt)||void 0===B?void 0:B.bind(this);this.enemyHurt=null==ms?null:(Te,Ne,ht)=>{!this.abilityValidCheck()||ms(Te,Ne,ht)};let Nn=null===(G=this.enemySummoned)||void 0===G?void 0:G.bind(this);this.enemySummoned=null==Nn?null:(Te,Ne,ht)=>{!this.abilityValidCheck()||Nn(Te,Ne,ht)};let Qn=null===(Q=this.emptyFrontSpace)||void 0===Q?void 0:Q.bind(this);this.emptyFrontSpace=null==Qn?null:(Te,Ne)=>{!this.abilityValidCheck()||Qn(Te,Ne)};let tl=null===(X=this.gainedMana)||void 0===X?void 0:X.bind(this);this.gainedMana=null==tl?null:(Te,Ne)=>{!this.abilityValidCheck()||tl(Te,Ne)};let jh=null===(ne=this.friendJumped)||void 0===ne?void 0:ne.bind(this);this.friendJumped=null==jh?null:(Te,Ne,ht)=>{!this.abilityValidCheck()||jh(Te,Ne,ht)};let rS=null===(Pe=this.friendlyToyBroke)||void 0===Pe?void 0:Pe.bind(this);this.friendlyToyBroke=null==rS?null:(Te,Ne)=>{!this.abilityValidCheck()||rS(Te,Ne)};let _g=null===(Ae=this.enemyPushed)||void 0===Ae?void 0:Ae.bind(this);this.enemyPushed=null==_g?null:(Te,Ne)=>{!this.abilityValidCheck()||_g(Te,Ne)};let oS=null===(te=this.summoned)||void 0===te?void 0:te.bind(this);this.summoned=null==oS?null:(Te,Ne)=>{oS(Te,Ne)};let aS=null===(ft=this.knockOut)||void 0===ft?void 0:ft.bind(this);this.knockOut=null==aS?null:(Te,Ne,ht)=>{!this.abilityValidCheck()||aS(Te,Ne,ht)};let bg=null===(Gt=this.enemyGainedAilment)||void 0===Gt?void 0:Gt.bind(this);this.enemyGainedAilment=null==bg?null:(Te,Ne,ht)=>{!this.abilityValidCheck()||bg(Te,Ne,ht)};let Sg=null===(mt=this.friendGainsHealth)||void 0===mt?void 0:mt.bind(this);this.friendGainsHealth=null==Sg?null:(Te,Ne,ht)=>{!this.abilityValidCheck()||Sg(Te,Ne,ht)},this.setAbilityUses()}abilityValidCheck(){return!(null==this.savedPosition||this.equipment instanceof p_&&(this.logService.createLog({message:`${this.name}'s ability was not activated because of Dazed.`,type:"ability",player:this.parent}),1))}setAbilityUses(){this.abilityUses=0}tigerCheck(t){var e;return"Tiger"==(null===(e=this.petBehind(!0,!0))||void 0===e?void 0:e.name)&&(null==t||0==t)}superStartOfBattle(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(!0,!0).minExpForLevel,this.startOfBattle(t,!0),this.exp=i}superHurt(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.hurt(t,e,!0),this.exp=s}superFaint(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.faint(t,!0),this.exp=i}superFriendSummoned(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendSummoned(t,e,!0),this.exp=s}superFriendAheadAttacks(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendAheadAttacks(t,e,!0),this.exp=s}superFriendAheadFaints(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendAheadFaints(t,e,!0),this.exp=s}superAfterAttack(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.afterAttack(t,!0),this.exp=i}superSummoned(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.summoned(t,!0),this.exp=i}superKnockOut(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.knockOut(t,e,!0),this.exp=s}superFriendFaints(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendFaints(t,e,!0),this.exp=s}superBeforeAttack(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.beforeAttack(t,!0),this.exp=i}superGainedPerk(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.GainedPerk(t,e,!0),this.exp=s}superFriendGainedPerk(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendGainedPerk(t,e,!0),this.exp=s}superFriendlyToyBroke(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendlyToyBroke(t,!0),this.exp=i}superTransform(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.transform(t,!0),this.exp=i}superEnemySummoned(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.enemySummoned(t,e,!0),this.exp=s}superFriendHurt(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendHurt(t,e,!0),this.exp=s}superAnyoneLevelUp(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.anyoneLevelUp(t,e,!0),this.exp=s}superEnemyHurt(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.enemyHurt(t,e,!0),this.exp=s}superFriendAttacks(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendAttacks(t,!0),this.exp=i}superGainedMana(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.gainedMana(t,!0),this.exp=i}superFriendJumped(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendJumped(t,e,!0),this.exp=s}superEnemyGainedAilment(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.enemyGainedAilment(t,e,!0),this.exp=s}superFriendGainsHealth(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.friendGainsHealth(t,e,!0),this.exp=s}attackPet(t){var e,i,s;let r=this.calculateDamgae(t,this.getManticoreMult()),o=r.attackEquipment,a=r.defenseEquipment,l=r.damage,h=!1,f=1,m=1;if("Panther"==this.name&&(f=this.level+1),"Panther"==t.name&&(m=t.level+1),o instanceof qa&&l>0)this.logService.createLog({message:`${this.name} attacks ${t.name} for ${t.health} (Peanut)`,type:"attack",player:this.parent}),t.health=0;else if(o instanceof K3&&l>0&&o.uses>0)this.logService.createLog({message:`${this.name} attacks ${t.name} for ${t.health} (Peanut Butter)`,type:"attack",player:this.parent}),t.health=0;else{t.health-=l;let y=`${this.name} attacks ${t.name} for ${l}.`;if(null!=o){let O=Math.abs(o.power),I="-";o.power>0&&(I="+");let B=`${I}${O}`;o instanceof Lp&&(B="x2"),o instanceof Bp&&(B=l<=15?"=15":"+0"),o instanceof $p&&(h=!0,B=r.fortuneCookie?"x2":"x1"),y+=` (${o.name} ${B})`,f>1&&(y+=` x${f} (Panther)`)}if(null!=a){let O=Math.abs(a.power),I="-";a.power<0&&(I="+"),a instanceof Vp&&(I=1==t.health?"!":"-",O=""),y+=` (${a.name} ${I}${O})`,m>1&&(y+=` x${m} (Panther)`),t.useDefenseEquipment()}t.equipment instanceof Fp&&(y+="x2 (Exposed)"),r.nurikabe>0&&(y+=` -${r.nurikabe} (Nurikabe)`);let b=this.getManticoreMult(),T=["Weak","Cold","Exposed","Spooked"].includes(null===(e=t.equipment)||void 0===e?void 0:e.name);if(b.length>0&&T)for(let O of b)y+=` x${O} (Manticore)`;this.logService.createLog({message:y,type:"attack",player:this.parent,randomEvent:h});let P="skewer"==(null===(i=this.equipment)||void 0===i?void 0:i.equipmentClass)?this.equipment:null;null!=P&&P.attackCallback(this,t)}this.abilityService.triggerFriendAttacksEvents(this.parent,this),null!=t.hurt&&l>0&&this.abilityService.setHurtEvent({callback:t.hurt.bind(t),priority:t.attack,player:t.parent,callbackPet:this}),null!=this.afterAttack&&this.abilityService.setAfterAttackEvent({callback:this.afterAttack.bind(this),priority:this.attack}),t.health<1&&null!=this.knockOut&&this.abilityService.setKnockOutEvent({callback:this.knockOut.bind(this),priority:this.attack,callbackPet:t}),null!=(null===(s=this.petBehind(null,!0))||void 0===s?void 0:s.friendAheadAttacks)&&this.abilityService.setFriendAheadAttacksEvents({callback:this.petBehind(null,!0).friendAheadAttacks.bind(this.petBehind(null,!0)),priority:this.petBehind(null,!0).attack,callbackPet:this}),t.alive&&l>0&&this.abilityService.triggerFriendHurtEvents(t.parent,t),t.alive&&l>0&&this.abilityService.triggerEnemyHurtEvents(this.parent,t),this.applyCrisp()}applyCrisp(){let t=this.parent.opponent.getManticoreMult();for(let e of this.parent.petArray)if(e.equipment instanceof dc){let i=6;for(let o of t)i*=o;let s=0;"Nurikabe"==e.name&&e.abilityUses<3&&(s=4*e.level,i=Math.max(0,i-s));let r=`${e.name} took ${i} damage`;if(t.length>0)for(let o of t)r+=` x${o} (Manticore)`;s>0&&(r+=` -${s} (Nurikabe)`),r+=" (Crisp).",this.logService.createLog({message:r,type:"ability",player:e.parent}),e.health-=i,e.givePetEquipment(null)}}snipePet(t,e,i,s,r,o,a){var l,h,f,m;let y=!1;"Albatross"==(null===(l=this.petAhead)||void 0===l?void 0:l.name)&&t.tier<=4&&(e+=3*this.petAhead.level,y=!0),"Albatross"==(null===(h=this.petBehind())||void 0===h?void 0:h.name)&&t.tier<=4&&(e+=3*this.petBehind().level,y=!0);let b=this.calculateDamgae(t,this.getManticoreMult(),e,!0),C=b.attackEquipment,T=b.defenseEquipment,P=b.damage,O="Ghost Kitten"==t.name,I=0;O&&(I=3*t.level,P=Math.max(0,P-I)),t.health-=P;let B=`${this.name} sniped ${t.name} for ${P}.`;if(null!=T){t.useDefenseEquipment(!0);let ne=Math.abs(T.power),Pe="-";T.power<0&&(Pe="+"),B+=` (${T.name} ${Pe}${ne})`}if(null!=C&&"attack-snipe"==C.equipmentClass){let ne=Math.abs(C.power),Pe="-";C.power>0&&(Pe="+"),B+=` (${C.name} ${Pe}${ne})`}s&&(B+=" (Tiger)"),y&&(B+=" (Albatross)"),o&&(B+=" (Fig)"),a&&(B+=" (Mana)"),O&&(B+=` -${I} (Ghost Kitten)`),"Exposed"==(null===(f=t.equipment)||void 0===f?void 0:f.name)&&(B+="x2 (Exposed)");let G=this.getManticoreMult(),X=["Weak","Cold","Exposed","Spooked"].includes(null===(m=t.equipment)||void 0===m?void 0:m.name);if(G.length>0&&X)for(let ne of G)B+=` x${ne} (Manticore)`;return b.nurikabe>0&&(B+=` -${b.nurikabe} (Nurikabe)`),this.logService.createLog({message:B,type:"attack",randomEvent:i,player:this.parent,pteranodon:r}),null!=t.hurt&&P>0&&this.abilityService.setHurtEvent({callback:t.hurt.bind(t),priority:t.attack,player:t.parent,callbackPet:this}),t.health<1&&null!=this.knockOut&&this.abilityService.setKnockOutEvent({callback:this.knockOut.bind(this),priority:this.attack,callbackPet:t}),t.alive&&P>0&&this.abilityService.triggerFriendHurtEvents(t.parent,t),t.alive&&P>0&&this.abilityService.triggerEnemyHurtEvents(this.parent,t),P}calculateDamgae(t,e,i,s=!1){var r,o,a,l,h,f,m;let y=1,b=1;"Panther"==this.name&&(y=this.level+1),"Panther"==t.name&&(b=t.level+1);const T=["Ink"];let I,B,O="defense"==(null===(r=t.equipment)||void 0===r?void 0:r.equipmentClass)||"shield"==(null===(o=t.equipment)||void 0===o?void 0:o.equipmentClass)||"ailment-defense"==(null===(a=t.equipment)||void 0===a?void 0:a.equipmentClass)||s&&"shield-snipe"==(null===(l=t.equipment)||void 0===l?void 0:l.equipmentClass)?t.equipment:null;if(null!=O)if(["Cold","Weak"].includes(null==O?void 0:O.name)){let Ae=O.originalPower;for(let te of e)Ae*=te;O.power=Ae}else O.power=O.originalPower;if(s)I="attack-snipe"==(null===(h=this.equipment)||void 0===h?void 0:h.equipmentClass)?this.equipment:null,B=null!=I?i+I.power:i;else{if(I="attack"==(null===(f=this.equipment)||void 0===f?void 0:f.equipmentClass)||"ailment-attack"==(null===(m=this.equipment)||void 0===m?void 0:m.equipmentClass)?this.equipment:null,null!=I)if(T.includes(null==I?void 0:I.name)){let te=I.originalPower;for(let ft of e)te*=ft;I.power=te}else I.power=I.originalPower;let Ae=this.attack;"Monty"==this.name&&(Ae*=this.level+1),B=null!=i?i+((null==I?void 0:I.power)?I.power*y:0):Ae+((null==I?void 0:I.power)?I.power*y:0)}let G=(null==O?void 0:O.power)?O.power*b:0,Q="shield"==(null==O?void 0:O.equipmentClass)||"shield-snipe"==(null==O?void 0:O.equipmentClass)?0:1,X=0;"Nurikabe"==t.name&&t.abilityUses<3&&(X=4*t.level,G+=X,t.abilityUses++),I instanceof Lp&&!s&&(B*=2+y-1);let ne=!1;if(I instanceof $p&&!s&&Math.random()<.5&&(B*=2,ne=!0),I instanceof Bp&&!s&&(B=Math.max(15,B)),t.equipment instanceof Fp){B*=2;for(let Ae of e)B*=Ae}let Pe=Math.max(Q,B-G);return O instanceof Vp&&(Pe=Math.min(Pe,t.health-1)),{defenseEquipment:O,attackEquipment:I,damage:Pe,fortuneCookie:ne,nurikabe:X}}resetPet(){var t;this.health=this.originalHealth,this.attack=this.originalAttack,this.equipment=this.originalEquipment,this.mana=this.originalMana,this.exp=this.originalExp,this.done=!1,this.seenDead=!1;try{null===(t=this.equipment)||void 0===t||t.reset()}catch(e){console.warn("equipment reset failed",this.equipment),console.error(e)}this.swallowedPets=[],this.savedPosition=this.originalSavedPosition,this.setAbilityUses()}get alive(){return this.health>0}setFaintEventIfPresent(){var t;null!=this.faint&&this.abilityService.setFaintEvent({priority:this.attack,callback:this.faint.bind(this)}),"faint"==(null===(t=this.equipment)||void 0===t?void 0:t.equipmentClass)&&this.abilityService.setFaintEvent({priority:-1,callback:()=>{try{this.equipment.callback(this)}catch(e){console.warn("equipment callback failed",this.equipment)}}})}useDefenseEquipment(t=!1){if(null!=this.equipment){if("Exposed"!=this.equipment.name&&"Cold"!=this.equipment.name&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&t&&"shield-snipe"!=this.equipment.equipmentClass)return;null!=this.equipment.uses&&(this.equipment.uses-=1,0==this.equipment.uses&&(this.equipment=null))}}useAttackDefenseEquipment(){null!=this.equipment&&null!=this.equipment.uses&&("attack"!=this.equipment.equipmentClass&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&"snipe"!=this.equipment.equipmentClass||(isNaN(this.equipment.uses)&&console.warn("uses is NaN",this.equipment),this.equipment.uses-=1,0==this.equipment.uses&&(this.equipment=null)))}increaseAttack(t){let e=50;"Behemoth"==this.name&&(e=100),this.attack=Math.min(Math.max(this.attack+t,1),e)}increaseHealth(t){let e=50;"Behemoth"==this.name&&(e=100),this.health=Math.min(Math.max(this.health+t,1),e),this.abilityService.triggerFriendGainsHealthEvents(this.parent,this),this.abilityService.executeFriendGainsHealthEvents()}increaseExp(t){let e=this.level;this.increaseAttack(t),this.increaseHealth(t),this.exp=Math.min(this.exp+t,5),this.level>e&&(this.logService.createLog({message:`${this.name} leveled up to level ${this.level}.`,type:"ability",player:this.parent}),this.abilityService.triggerLevelUpEvents(this.parent,this),this.abilityService.triggerLevelUpEvents(this.parent.opponent,this),this.abilityService.executeLevelUpEvents(),this.abilityService.executeFriendlyLevelUpToyEvents(),this.setAbilityUses())}increaseMana(t){this.mana+=t,this.mana=Math.min(this.mana,50),this.gainedMana&&this.gainedMana(null,!1)}givePetEquipment(t){this.equipment=t,null!=t&&("ailment-attack"==t.equipmentClass||"ailment-defense"==t.equipmentClass||"ailment-other"==t.equipmentClass?(this.abilityService.triggerFriendGainedAilmentEvents(this),this.abilityService.executeFriendGainedAilmentEvents(),this.abilityService.triggerEnemyGainedAilmentEvents(this.parent.opponent.petArray,this),this.abilityService.executeEnemyGainedAilmentEvents()):(this.abilityService.triggerGainedPerkEvents(this),this.abilityService.executeGainedPerkEvents(),this.abilityService.triggerFriendGainedPerkEvents(this),this.abilityService.executeFriendGainedPerkEvents()))}get level(){return this.exp<2?1:this.exp<5?2:3}get position(){return this==this.parent.pet0?0:this==this.parent.pet1?1:this==this.parent.pet2?2:this==this.parent.pet3?3:this==this.parent.pet4?4:void 0}petBehind(t=!1,e=!1){for(let i=this.position+1;i<5;i++){let s=this.parent.getPetAtPosition(i);if(e&&null!=s)return s;if(t&&null!=s&&!s.alive&&!s.seenDead)return null;if(null!=s&&s.alive)return s}return null}getManticoreMult(){let t=[];for(let e of this.parent.petArray)"Manticore"==e.name&&t.push(e.level+1);return t}getPetsAhead(t,e=!1){let i=[],s=this.petAhead;for(;s&&!(i.length>=this.level);)i.push(s),s=s.petAhead;if(i.length<t){let o=this.parent.opponent.furthestUpPet;for(;o&&!(i.length>=t);)i.push(o),o=o.petBehind()}return i}getPetsBehind(t){let e=[],i=this.petBehind();for(;i&&!(e.length>=t);)e.push(i),i=i.petBehind();return e}kitsuneCheck(){let t=this.petBehind(),e=!0;for(;t;){if("Kitsune"==t.name&&e)return!1;if(e=!1,"Kitsune"==t.name)return!0;t=t.petBehind()}return!1}get petAhead(){for(let t=this.position-1;t>-1;t--){let e=this.parent.getPetAtPosition(t);if(null!=e&&e.alive)return e}return null}get minExpForLevel(){return 1==this.level?0:2==this.level?2:5}}class Sr extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Puma",this.tier=6,this.pack="Puppy",this.attack=6,this.health=5,this.initPet(a,s,r,o,l)}}class g_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Golden Retriever",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=1,this.attack=1,this.initPet(a,s,r,o,l)}}class m_ extends ge{constructor(t){super(),this.logService=t,this.name="Onion",this.equipmentClass="shop",this.callback=e=>{this.logService.createLog({message:`${e.name} pushed itself to the back. (Onion)`,type:"equipment",player:e.parent}),e.givePetEquipment(null),e.parent.pushPetToBack(e)}}}class Y3{constructor(t,e,i){this.logService=t,this.abilityService=e,this.gameService=i,this.pack="Turtle",this.trumpets=0,this.spawnedGoldenRetiever=!1}alive(){return this.petArray.length>0}resetPets(){var t,e,i,s,r;this.pet0=this.orignalPet0,null===(t=this.pet0)||void 0===t||t.resetPet(),this.pet1=this.orignalPet1,null===(e=this.pet1)||void 0===e||e.resetPet(),this.pet2=this.orignalPet2,null===(i=this.pet2)||void 0===i||i.resetPet(),this.pet3=this.orignalPet3,null===(s=this.pet3)||void 0===s||s.resetPet(),this.pet4=this.orignalPet4,null===(r=this.pet4)||void 0===r||r.resetPet(),this.orignalPet0=this.pet0,this.orignalPet1=this.pet1,this.orignalPet2=this.pet2,this.orignalPet3=this.pet3,this.orignalPet4=this.pet4,this.originalToy=this.toy,this.toy=this.originalToy,this.toy&&(this.toy.used=!1,this.toy.triggers=0),this.trumpets=0,this.spawnedGoldenRetiever=!1}setPet(t,e,i=!1){this.getPet(t),0==t&&(this.pet0=e,null!=e&&(this.pet0.savedPosition=0),i&&(this.orignalPet0=e)),1==t&&(this.pet1=e,null!=e&&(this.pet1.savedPosition=1),i&&(this.orignalPet1=e)),2==t&&(this.pet2=e,null!=e&&(this.pet2.savedPosition=2),i&&(this.orignalPet2=e)),3==t&&(this.pet3=e,null!=e&&(this.pet3.savedPosition=3),i&&(this.orignalPet3=e)),4==t&&(this.pet4=e,null!=e&&(this.pet4.savedPosition=4),i&&(this.orignalPet4=e)),i&&null!=e&&(e.originalSavedPosition=e.savedPosition)}getPet(t){return this[`pet${t}`]}pushPetsForward(){let t=(0,ve.clone)(this.petArray);try{this.setPet(0,t[0])}catch(e){this.pet0=null}try{this.setPet(1,t[1])}catch(e){this.pet1=null}try{this.setPet(2,t[2])}catch(e){this.pet2=null}try{this.setPet(3,t[3])}catch(e){this.pet3=null}try{this.setPet(4,t[4])}catch(e){this.pet4=null}this.onionCheck()}onionCheck(){var t;null!=(null===(t=this.pet0)||void 0===t?void 0:t.equipment)&&this.pet0.equipment instanceof m_&&(this.pet0.equipment.callback(this.pet0),this.pushPetsForward())}summonPet(t,e,i=!1){if(5==this.petArray.length)return i||this.logService.createLog({message:`No room to spawn ${t.name}!`,type:"ability",player:this}),!1;this==this.gameService.gameApi.player?this.gameService.gameApi.playerSummonedAmount++:this.gameService.gameApi.opponentSummonedAmount++,0==e&&(null!=this.pet0&&this.makeRoomForSlot(0),this.setPet(0,t)),1==e&&(null!=this.pet1&&this.makeRoomForSlot(1),this.setPet(1,t)),2==e&&(null!=this.pet2&&this.makeRoomForSlot(2),this.setPet(2,t)),3==e&&(null!=this.pet3&&this.makeRoomForSlot(3),this.setPet(3,t)),4==e&&(null!=this.pet4&&this.makeRoomForSlot(4),this.setPet(4,t)),t.summoned&&t.summoned(null);let r=xt(this.gameService.gameApi,this);return this.abilityService.triggerEnemySummonedEvents(r,t),!0}makeRoomForSlot(t){if(5==this.petArray.length)return void console.warn("No room to Make Room");let e=!1,i=null;if(t<4&&null==this.pet4&&(e=!0,i=4),t<3&&null==this.pet3&&(e=!0,i=3),t<2&&null==this.pet2&&(e=!0,i=2),t<1&&null==this.pet1&&(e=!0,i=1),e){for(let r=i;r>t;r--)this[`pet${r}`]=this["pet"+(r-1)];return}let s=!1;if(t>0&&null==this.pet0&&(s=!0,i=0),t>1&&null==this.pet1&&(s=!0,i=1),t>2&&null==this.pet2&&(s=!0,i=2),t>3&&null==this.pet3&&(s=!0,i=3),s)for(let r=i;r<t;r++)this[`pet${r}`]=this[`pet${r+1}`]}get petArray(){let t=[];return null!=this.pet0&&t.push(this.pet0),null!=this.pet1&&t.push(this.pet1),null!=this.pet2&&t.push(this.pet2),null!=this.pet3&&t.push(this.pet3),null!=this.pet4&&t.push(this.pet4),t}handleDeath(t){var e;t.seenDead=!0,t.setFaintEventIfPresent(),null!=(null===(e=t.petBehind(!0))||void 0===e?void 0:e.friendAheadFaints)&&this.abilityService.setFriendAheadFaintsEvent({callback:t.petBehind().friendAheadFaints.bind(t.petBehind()),priority:t.petBehind().attack,player:this,callbackPet:t}),this.abilityService.triggerFriendFaintsEvents(t),this.createDeathLog(t)}checkPetsAlive(){this.pet0&&!this.pet0.alive&&!this.pet0.seenDead&&this.handleDeath(this.pet0),this.pet1&&!this.pet1.alive&&!this.pet1.seenDead&&this.handleDeath(this.pet1),this.pet2&&!this.pet2.alive&&!this.pet2.seenDead&&this.handleDeath(this.pet2),this.pet3&&!this.pet3.alive&&!this.pet3.seenDead&&this.handleDeath(this.pet3),this.pet4&&!this.pet4.alive&&!this.pet4.seenDead&&this.handleDeath(this.pet4)}removeDeadPets(){var t,e,i,s,r;let o=!1;return!(null===(t=this.pet0)||void 0===t?void 0:t.alive)&&void 0!==this.pet0&&(this.pet0=null,o=!0),(null===(e=this.pet1)||void 0===e?void 0:e.alive)||(this.pet1=null,o=!0),(null===(i=this.pet2)||void 0===i?void 0:i.alive)||(this.pet2=null,o=!0),(null===(s=this.pet3)||void 0===s?void 0:s.alive)||(this.pet3=null,o=!0),(null===(r=this.pet4)||void 0===r?void 0:r.alive)||(this.pet4=null,o=!0),o}createDeathLog(t){this.logService.createLog({message:`${t.name} fainted.`,type:"death",player:t.parent})}getRandomPet(t,e,i,s){let r=this.petArray;if(e){let a=this.getPetsWithEquipment("Donut").filter(l=>{null==t||t.includes(l)});a.length>0&&(r=a),s&&(r=r.filter(l=>50!=l.health||50!=l.attack||"Behemoth"==l.name),0==r.length&&(r=this.petArray))}if(i){let a=this.getPetsWithEquipment("Blueberry").filter(l=>{null==t||t.includes(l)});a.length>0&&(r=a)}if(r=r.filter(a=>{let l=!0;return t&&(l=!t.includes(a)),l&&a.health>0}),s){let a=(0,ve.clone)(r);r=r.filter(l=>50!=l.health||50!=l.attack),0==r.length&&(r=a)}return 0==r.length?null:r[Go(0,r.length-1)]}getRandomPets(t,e,i,s){let r=[];e=null!=e?e:[];for(let o=0;o<t;o++){let a=this.getRandomPet(e,i,s);if(null==a)break;e.push(a),r.push(a)}if(r.length<t)for(let o=r.length;o<t;o++){let a=this.getRandomPet(e);if(null==a)break;e.push(a),r.push(a)}return r}getPetsWithEquipment(t){var e;let i=[];for(let s of this.petArray)!s.alive||(null===(e=s.equipment)||void 0===e?void 0:e.name)==t&&i.push(s);return i}getPetAtPosition(t){for(let e of this.petArray)if(e.position==t)return e;return null}getLastPet(){for(let t of this.petArray.reverse())if(t.alive)return t}getHighestHealthPet(t){if(0==this.petArray.filter(s=>s!=t&&s.alive).length)return{pet:null,random:!1};let i;for(let s in this.petArray){let o=this.petArray[+s];if(o!=t){if(null==i){i=[o];continue}if(o.health==i[0].health){i.push(o);continue}o.health>i[0].health&&(i=[o])}}return{pet:i[Go(0,i.length-1)],random:i.length>1}}getLowestHealthPet(t){let e;for(let s in this.petArray){let o=this.petArray[+s];if(o!=t&&o.alive){if(null==e){e=[o];continue}if(o.health==e[0].health){e.push(o);continue}o.health<e[0].health&&(e=[o])}}let i=null==e?null:e[Go(0,e.length-1)];return{pet:i,random:null!=i&&e.length>1}}get furthestUpPet(){for(let t of this.petArray)if(t.alive)return t;return null}breakToy(t=!1){if(null==this.toy||null==this.toy.onBreak)return;this.logService.createLog({message:`${this.toy.name} broke!`,type:"ability",player:this,randomEvent:!1});let e=[{callback:this.toy.onBreak.bind(this.toy),priority:99}],i=this.toy.level;for(let r of this.petArray)r instanceof Sr&&e.push({callback:()=>{this.toy.level=r.level,this.toy.onBreak(this.gameService.gameApi,!0),this.toy.level=i},priority:r.attack});e.sort((r,o)=>r.priority>o.priority?-1:r.priority<o.priority?1:0);for(let r of e)r.callback(this.gameService.gameApi);let s=(0,ve.cloneDeep)(this.toy);this.toy=null,t&&this.setToy(s)}setToy(t){this.toy=t}getStrongestPet(){let t,e=(0,ve.shuffle)(this.petArray);for(let i of e)null!=t?i.attack+i.health>t.attack+t.health&&(t=i):t=i;return t}pushPetToFront(t,e=!1){this.pushPet(t,4),e&&(this.abilityService.triggerFriendJumpedEvents(this,t),this.abilityService.triggerFriendJumpedToyEvents(this,t),this.abilityService.executeFriendJumpedEvents(),this.abilityService.executeFriendJumpedToyEvents())}pushPetToBack(t){this.pushPet(t,-4)}pushPet(t,e=1){let r,i=t.parent,s=t.position;i[`pet${s}`]=null,e>0&&(r=Math.max(s-e,0)),e<0&&(r=Math.max(s-e,4)),i.summonPet(t,r),this.onionCheck()}getRandomStrawberryPet(t){let e=this.getPetsWithEquipment("Strawberry"),i=e.filter(s=>s!=t);return 0==i.length?null:e[Go(0,i.length-1)]}get opponent(){return xt(this.gameService.gameApi,this)}gainTrumpets(t,e,i,s,r){this.trumpets=Math.min(50,this.trumpets+=t);let o=`${e.name} gained ${t} trumpets. (${this.trumpets})`;r&&(o+=" (Cherry)"),this.logService.createLog({message:o,type:"trumpets",player:this,pteranodon:i,pantherMultiplier:s})}spendTrumpets(t,e,i){this.trumpets=Math.max(0,this.trumpets-=t),this.logService.createLog({message:`${e.name} spent ${t} trumpets. (${this.trumpets})`,type:"trumpets",player:this,pteranodon:i})}checkGoldenSpawn(){if(this.spawnedGoldenRetiever||this.petArray.length>1||0==this.trumpets)return;let t=new g_(this.logService,this.abilityService,this,this.trumpets,this.trumpets);this.logService.createLog({message:`${this==this.gameService.gameApi.player?"Player":"Opponent"} spawned Golden Retriever (${t.attack}/${t.health})`,type:"ability",player:this}),this.summonPet(t,0)&&this.abilityService.triggerSummonedEvents(t),this.trumpets=0,this.spawnedGoldenRetiever=!0}getManticoreMult(){let t=[];for(let e of this.petArray)"Manticore"==e.name&&t.push(e.level+1);return t}}class v_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ant",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=1==this.level?{health:1,attack:1}:2==this.level?{health:2,attack:2}:{health:3,attack:3},r=this.parent.getRandomPet([this],!0,!1,!0);null!=r&&(this.logService.createLog({message:`${this.name} gave ${r.name} ${s.attack} attack and ${s.health} health.`,type:"ability",randomEvent:!0,player:this.parent,tiger:e,pteranodon:i}),r.increaseAttack(s.attack),r.increaseHealth(s.health),this.superFaint(t,e),this.done=!0)}}class mh extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zombie Cricket",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(a,s,r,o,l)}}class lk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cricket",this.tier=1,this.pack="Turtle",this.health=3,this.attack=1,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=1,r=0;2==this.level?(r=2,s=2):3==this.level&&(r=5,s=3),this.abilityService.setSpawnEvent({callback:()=>{let o=new mh(this.logService,this.abilityService,this.parent,null,null,null,r);this.logService.createLog({message:`${this.name} spawned Zombie Cricket Level ${s}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(o)},priority:this.attack}),super.superFaint(t,e)}}class ck extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fish",this.tier=1,this.pack="Turtle",this.health=3,this.attack=2,this.initPet(a,s,r,o,l)}}class uk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Horse",this.tier=1,this.pack="Turtle",this.health=1,this.attack=2,this.initPet(a,s,r,o,l)}friendSummoned(t,e,i){e.increaseAttack(this.level),this.logService.createLog({message:`${this.name} gave ${e.name} ${this.level} attack`,type:"ability",player:this.parent,tiger:i}),super.superFriendSummoned(t,e,i)}}class hk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mosquito",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i;i=t.player==this.parent?t.opponet:t.player;let s=i.getRandomPets(this.level,null,null,!0);for(let r of s)this.snipePet(r,1,!0,e);super.superStartOfBattle(t,e)}}class y_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Duck",this.tier=1,this.pack="Turtle",this.health=3,this.attack=2,this.initPet(a,s,r,o,l)}}class __ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beaver",this.tier=1,this.pack="Turtle",this.health=2,this.attack=3,this.initPet(a,s,r,o,l)}}class dk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Otter",this.tier=1,this.pack="Turtle",this.health=3,this.attack=1,this.initPet(a,s,r,o,l)}}class fk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pig",this.tier=1,this.pack="Turtle",this.health=1,this.attack=4,this.initPet(a,s,r,o,l)}}class pk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mouse",this.tier=1,this.pack="Custom",this.health=2,this.attack=1,this.initPet(a,s,r,o,l)}}class s7 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snail",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(a,s,r,o,l)}}class gk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crab",this.tier=2,this.pack="Turtle",this.health=1,this.attack=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){if(!this.alive)return;let i=this.parent.getHighestHealthPet(this).pet,s=.5*this.level,r=Math.floor(i.health*s);0==r&&(r=1),this.health=r,this.logService.createLog({message:`${this.name} copied ${100*s}% of ${i.name}'s health (${r})`,type:"ability",player:this.parent,tiger:e}),super.superStartOfBattle(t,e)}}class mk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Swan",this.tier=2,this.pack="Turtle",this.health=2,this.attack=1,this.initPet(a,s,r,o,l)}}class b_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dirty Rat",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(a,s,r,o,l)}}class vk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rat",this.tier=2,this.pack="Turtle",this.health=6,this.attack=3,this.initPet(a,s,r,o,l)}faint(t,e,i){let s;s=t.player==this.parent?t.opponet:t.player;for(let r=0;r<this.level;r++)this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} Summoned Dirty Rat on Opponent`,type:"ability",player:this.parent,tiger:e,pteranodon:i});let o=new b_(this.logService,this.abilityService,s,null,null,0,0);s.summonPet(o,0)&&this.abilityService.triggerSummonedEvents(o)},priority:this.attack});super.superFaint(t,e)}}class yk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hedgehog",this.tier=2,this.pack="Turtle",this.attack=4,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=t.player.petArray.filter(o=>o!=this&&o.alive);s.reverse(),s=[...s,...t.opponet.petArray.filter(o=>o.alive)];let r=2*this.level;for(let o of s)this.snipePet(o,r,!1,e,i);super.superFaint(t,e),this.done=!0}}class _k extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Peacock",this.tier=2,this.pack="Turtle",this.health=5,this.attack=2,this.initPet(a,s,r,o,l)}hurt(t,e,i){if(this.health<1)return;let s=4*this.level;this.increaseAttack(s),this.logService.createLog({message:`${this.name} increased attack by ${s} (${this.attack})`,type:"ability",player:this.parent,tiger:i}),super.superHurt(t,e,i)}}class bk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flamingo",this.tier=2,this.pack="Turtle",this.health=2,this.attack=3,this.initPet(a,s,r,o,l)}faint(t,e,i){let o,a,l,r=this.parent.petArray;for(let h in r)r[+h]==this&&(o=+h);for(let h=o;h<5;h++){let f=r[h];if(null!=f&&f.health>0){if(null==a){a=f;continue}l=f;break}}if(a){let h=a;h.increaseAttack(this.level),h.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${h.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}if(l){let h=l;h.increaseAttack(this.level),h.increaseHealth(this.level),this.logService.createLog({message:`Flamingo gave ${h.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}super.superFaint(t,e)}}class Sk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Worm",this.tier=2,this.pack="Turtle",this.health=1,this.attack=3,this.initPet(a,s,r,o,l)}}class Ek extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kangaroo",this.tier=2,this.pack="Turtle",this.health=3,this.attack=2,this.initPet(a,s,r,o,l)}friendAheadAttacks(t,e,i){!this.alive||(this.increaseAttack(this.level),this.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gained ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:i}),super.superFriendAheadAttacks(t,e,i))}}class wk extends E{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Spider",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(l,r,o,a,h)}faint(t,e,i){let s;s=this.parent==t.player?t.playerPetPool.get(3):t.opponentPetPool.get(3);let r=s.filter(f=>"Spider"!=f),o=r[Go(0,r.length-1)],a=this.level,l=2*this.level,h=this.petService.createPet({attack:l,exp:this.minExpForLevel,equipment:null,health:l,name:o,mana:0},this.parent);this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} spawned ${h.name} level ${a} (${l}/${l})`,type:"ability",player:this.parent,randomEvent:!0,tiger:e,pteranodon:i}),this.parent.summonPet(h,this.savedPosition)&&this.abilityService.triggerSummonedEvents(h)},priority:this.attack}),super.superFaint(t,e)}}class Ck extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dodo",this.tier=3,this.pack="Turtle",this.health=2,this.attack=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.petAhead;if(null==i)return;let s=Math.floor(this.attack*(.5*this.level));return i.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} attack.`,player:this.parent,type:"ability",tiger:e}),super.superStartOfBattle(t,e),!0}}class kk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Badger",this.tier=3,this.pack="Turtle",this.health=3,this.attack=6,this.initPet(a,s,r,o,l)}faint(t,e,i){let s;s=t.player==this.parent?t.opponet:t.player;let o,r=this.attack*(.5*this.level);this.petBehind()&&this.snipePet(this.petBehind(),r,!1,e,i),o=this.petAhead?this.petAhead:s.furthestUpPet,null!=o&&this.snipePet(o,r,!1,e,i),super.superFaint(t,e),this.done=!0}}class S_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dolphin",this.tier=3,this.pack="Turtle",this.health=3,this.attack=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i;i=t.player==this.parent?t.opponet:t.player;for(let s=0;s<this.level;s++){let r=i.getLowestHealthPet();if(!r.pet)break;this.snipePet(r.pet,4,r.random,e)}super.superStartOfBattle(t,e)}}class Dk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giraffe",this.tier=3,this.pack="Turtle",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}}class Pk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Elephant",this.tier=3,this.pack="Turtle",this.health=7,this.attack=3,this.initPet(a,s,r,o,l)}afterAttack(t,e){for(let i=0;i<this.level;i++)this.petBehind()&&this.snipePet(this.petBehind(),1,!1,e);super.superAfterAttack(t,e)}}class Ak extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Camel",this.tier=3,this.pack="Turtle",this.health=4,this.attack=3,this.initPet(a,s,r,o,l)}hurt(t,e,i){let s=this.petBehind();if(null==s)return;let r=2*this.level;s&&(s.increaseAttack(this.level),s.increaseHealth(r)),this.logService.createLog({message:`${this.name} gave ${s.name} ${this.level} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i}),super.superHurt(t,e,i)}}class Tk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rabbit",this.tier=3,this.pack="Turtle",this.health=2,this.attack=1,this.initPet(a,s,r,o,l)}friendGainedPerk(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.level;e.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendGainedPerk(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class jr extends ge{constructor(){super(...arguments),this.name="Melon",this.equipmentClass="shield",this.power=20,this.originalPower=20,this.uses=1,this.originalUses=1}}class xk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ox",this.tier=3,this.pack="Turtle",this.health=3,this.attack=1,this.initPet(a,s,r,o,l)}friendAheadFaints(t,e,i){this.abilityUses>=this.maxAbilityUses||(this.increaseAttack(1),this.logService.createLog({message:`${this.name} gained Melon and 1 attack.`,type:"ability",player:this.parent,tiger:i}),this.givePetEquipment(new jr),this.abilityUses++,super.superFriendAheadFaints(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class Mk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dog",this.tier=3,this.pack="Turtle",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}friendSummoned(t,e,i){if(e==this)return;let s=2*this.level,r=this.level;this.increaseAttack(s),this.increaseHealth(r),this.logService.createLog({message:`${this.name} gained ${s} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i}),super.superFriendSummoned(t,e,i)}}class E_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ram",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=2,this.attack=2,this.initPet(a,s,r,o,l)}}class Ik extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sheep",this.tier=3,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){for(let s=0;s<2;s++)this.abilityService.setSpawnEvent({callback:()=>{let r=new E_(this.logService,this.abilityService,this.parent,null,null,0,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Ram (${r.attack}/${r.health}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack});super.superFaint(t,e)}}class Ok extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tiger",this.tier=6,this.pack="Turtle",this.attack=6,this.health=4,this.initPet(a,s,r,o,l)}}class vh extends E{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Parrot",this.tier=4,this.pack="Turtle",this.attack=4,this.health=2,this.initPet(l,r,o,a,h)}endTurn(t){var e,i,s,r,o,a,l,h,f,m,y,b,C,T,P,O,I,B,G,Q,X,ne,Pe,Ae;let te=this.petAhead;this.copyPet=te,te instanceof vh&&(te=te.copyPet,this.logService.createLog({message:`Parrot copied ${this.petAhead.name}`,type:"ability",player:this.parent})),null!=te&&(this.startOfBattle=null===(e=te.originalStartOfBattle)||void 0===e?void 0:e.bind(this),this.hurt=null===(i=te.originalHurt)||void 0===i?void 0:i.bind(this),this.faint=null===(s=te.originalFaint)||void 0===s?void 0:s.bind(this),this.friendSummoned=null===(r=te.originalFriendSummoned)||void 0===r?void 0:r.bind(this),this.friendAheadAttacks=null===(o=te.originalFriendAheadAttacks)||void 0===o?void 0:o.bind(this),this.friendAheadFaints=null===(a=te.originalFriendAheadFaints)||void 0===a?void 0:a.bind(this),this.friendFaints=null===(l=te.originalFriendFaints)||void 0===l?void 0:l.bind(this),this.afterAttack=null===(h=te.originalAfterAttack)||void 0===h?void 0:h.bind(this),this.beforeAttack=null===(f=te.originalBeforeAttack)||void 0===f?void 0:f.bind(this),this.knockOut=null===(m=te.originalKnockOut)||void 0===m?void 0:m.bind(this),this.summoned=null===(y=te.originalSummoned)||void 0===y?void 0:y.bind(this),this.friendlyToyBroke=null===(b=te.originalFriendlyToyBroke)||void 0===b?void 0:b.bind(this),this.friendGainedAilment=null===(C=te.originalFriendGainedAilment)||void 0===C?void 0:C.bind(this),this.GainedPerk=null===(T=te.originalGainedPerk)||void 0===T?void 0:T.bind(this),this.friendGainedPerk=null===(P=te.originalFriendGainedPerk)||void 0===P?void 0:P.bind(this),this.anyoneLevelUp=null===(O=te.originalAnyoneLevelUp)||void 0===O?void 0:O.bind(this),this.enemySummoned=null===(I=te.originalEnemySummoned)||void 0===I?void 0:I.bind(this),this.enemyPushed=null===(B=te.originalEnemyPushed)||void 0===B?void 0:B.bind(this),this.gainedMana=null===(G=te.originalGainedMana)||void 0===G?void 0:G.bind(this),this.friendJumped=null===(Q=te.originalFriendJumped)||void 0===Q?void 0:Q.bind(this),this.enemyGainedAilment=null===(X=te.originalEnemyGainedAilment)||void 0===X?void 0:X.bind(this),this.friendGainsHealth=null===(ne=te.originalFriendGainsHealth)||void 0===ne?void 0:ne.bind(this),this.emptyFrontSpace=null===(Pe=te.originalEmptyFrontSpace)||void 0===Pe?void 0:Pe.bind(this),this.enemyHurt=null===(Ae=te.originalEnemyHurt)||void 0===Ae?void 0:Ae.bind(this),te instanceof vh||this.logService.createLog({message:`Parrot copied ${te.name}`,type:"ability",player:this.parent}))}}class Nk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Skunk",this.tier=4,this.pack="Turtle",this.attack=3,this.health=5,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let s=xt(t,this.parent).getHighestHealthPet(),r=s.pet,o=.33*this.level,a=Math.max(1,Math.floor(r.health*(1-o)));r.health=a,this.logService.createLog({message:`${this.name} reduced ${r.name} health by ${100*o}% (${a})`,type:"ability",player:this.parent,randomEvent:s.random,tiger:e}),this.superStartOfBattle(t,e)}}class Rk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hippo",this.tier=4,this.pack="Turtle",this.attack=4,this.health=7,this.initPet(a,s,r,o,l)}knockOut(t,e,i){if(this.health<1)return;let s=2*this.level;e.tier>3&&(s*=2),this.increaseAttack(s),this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.superKnockOut(t,e,i)}}class Lk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bison",this.tier=4,this.pack="Turtle",this.attack=4,this.health=4,this.initPet(a,s,r,o,l)}}class Bk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blowfish",this.tier=4,this.pack="Turtle",this.attack=3,this.health=6,this.initPet(a,s,r,o,l)}hurt(t,e,i){let s=3*this.level,r=xt(t,this.parent).getRandomPet(null,null,!0);r&&this.snipePet(r,s,!0,i),this.superHurt(t,e,i)}}class Vk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Turtle",this.tier=4,this.pack="Turtle",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}faint(t,e,i){for(let s=0;s<this.level;s++){let r=this.petBehind();for(;r&&r.equipment instanceof jr;)r=r.petBehind();if(null==r)return;this.logService.createLog({message:`${this.name} gave ${r.name} Melon.`,type:"ability",tiger:e,player:this.parent,pteranodon:i}),r.givePetEquipment(new jr)}this.superFaint(t,e)}}class $k extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Squirrel",this.tier=4,this.pack="Turtle",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}}class Fk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Penguin",this.tier=4,this.pack="Turtle",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}}class Wt extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Panther",this.tier=5,this.pack="Puppy",this.attack=3,this.health=5,this.initPet(a,s,r,o,l)}}class yh extends ge{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Chili",this.equipmentClass="skewer",this.power=0,this.originalPower=0,this.attackCallback=(i,s)=>{let r=s.parent.getPetAtPosition(1);if(null==r)return;let o=1;i instanceof Wt&&(o=1+i.level);let a=i.calculateDamgae(r,i.getManticoreMult(),5),l=a.defenseEquipment,h=a.damage*o;r.health-=h;let f=`${i.name} attacks ${r.name} for ${h}`;if(i instanceof Wt&&(f+=` x${o} (Panther)`),null!=l){r.useDefenseEquipment();let m=Math.abs(l.power),y="-";l.power<0&&(y="+"),f+=` (${l.name} ${y}${m})`,s instanceof Wt&&(f+=` x${1+i.level} (Panther)`)}this.logService.createLog({message:f+=" (Chili).",type:"attack",player:i.parent}),null!=r.hurt&&h>0&&this.abilityService.setHurtEvent({callback:r.hurt.bind(r),priority:r.attack,player:r.parent,callbackPet:s}),r.health<1&&null!=i.knockOut&&this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack,callbackPet:r}),r.alive&&h>0&&this.abilityService.triggerFriendHurtEvents(s.parent,s),i.alive&&h>0&&this.abilityService.triggerEnemyHurtEvents(i.parent,r)}}}class w_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bus",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=3,this.attack=5,this.initPet(a,s,r,o,l)}}class Hk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Deer",this.tier=4,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=new w_(this.logService,this.abilityService,this.parent,null,null,null,this.minExpForLevel,new yh(this.logService,this.abilityService));this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} spawned Bus level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),super.superFaint(t,e)}}class qk extends E{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Whale",this.tier=4,this.pack="Turtle",this.attack=3,this.health=7,this.initPet(l,r,o,a,h)}startOfBattle(t,e){let i=this.petAhead;if(!i)return;let s=(0,ve.clone)(i);s.exp=this.exp,s.equipment=null,this.swallowedPets.push(s),i.health=0,this.logService.createLog({message:`${this.name} swallowed ${i.name}`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}faint(t,e,i){for(let s of this.swallowedPets)this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} summoned ${s.name} (level ${s.level}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition),this.abilityService.triggerSummonedEvents(s)},priority:this.attack,player:this.parent})}}class _h extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bee",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(a,s,r,o,l)}}class Gk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Scorpion",this.tier=5,this.pack="Turtle",this.attack=1,this.health=1,this.initPet(a,s,r,o,l)}summoned(t,e){this.equipment=new qa,this.logService.createLog({message:`${this.name} gained the Peanut perk.`,type:"ability",player:this.parent,tiger:e}),this.superSummoned(t,e)}}class Uk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crocodile",this.tier=5,this.pack="Turtle",this.attack=8,this.health=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){for(let i=0;i<this.level;i++){let s=xt(t,this.parent).getLastPet();s&&this.snipePet(s,8,!1,e)}super.superStartOfBattle(t,e)}}class jk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rhino",this.tier=5,this.pack="Turtle",this.attack=6,this.health=9,this.initPet(a,s,r,o,l)}knockOut(t,e,i){let s=xt(t,this.parent).furthestUpPet;if(null==s)return;let r=4*this.level;1==s.tier&&(r*=2),this.snipePet(s,r,!1,i),this.superKnockOut(t,e,i)}}class C_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Monkey",this.tier=5,this.pack="Turtle",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}}class Wk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Armadillo",this.tier=5,this.pack="Turtle",this.attack=2,this.health=6,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=[...this.parent.petArray,...xt(t,this.parent).petArray];for(let s of i){if(!s.alive)continue;let r=8*this.level;s.increaseHealth(r),this.logService.createLog({message:`${this.name} increased health of ${s.name} by ${r}.`,type:"ability",player:this.parent,tiger:e})}this.superStartOfBattle(t,e)}}class zk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cow",this.tier=5,this.pack="Turtle",this.attack=4,this.health=6,this.initPet(a,s,r,o,l)}}class Kk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Seal",this.tier=5,this.pack="Turtle",this.attack=3,this.health=8,this.initPet(a,s,r,o,l)}GainedPerk(t,e,i){if(e!=this)return;let s=this.level,r=this.parent.getRandomPets(3,[this],!0,!1);for(let o of r)o.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i});this.superGainedPerk(t,e,i)}}class k_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chick",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(a,s,r,o,l)}}class Yk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rooster",this.tier=5,this.pack="Turtle",this.attack=6,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=Math.floor(.5*this.attack);for(let r=0;r<this.level;r++)this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} summoned Chick (${s}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(new k_(this.logService,this.abilityService,this.parent,1,s,0,this.minExpForLevel),this.savedPosition)},priority:this.attack,player:this.parent});this.superFaint(t,e)}}class Qk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shark",this.tier=5,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}friendFaints(t,e,i){if(this.health<=0||e==this)return;let s={attack:2*this.level,health:2*this.level};this.increaseAttack(s.attack),this.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gained ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i}),super.superFriendFaints(t,e,i)}}class Jk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Turkey",this.tier=5,this.pack="Turtle",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}friendSummoned(t,e,i){let s={attack:3*this.level,health:1*this.level};try{e.increaseAttack(s.attack),e.increaseHealth(s.health)}catch(r){throw console.error(r),console.log(e),r}this.logService.createLog({message:`${this.name} gave ${e.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i}),super.superFriendSummoned(t,e,i)}}class Zk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leopard",this.tier=6,this.pack="Turtle",this.attack=10,this.health=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=Math.floor(.5*this.attack),s=this.parent.opponent.getRandomPets(this.level,null,null,!0);for(let r of s)this.snipePet(r,i,!0,e);this.superStartOfBattle(t,e)}}class Xk extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Boar",this.tier=6,this.pack="Turtle",this.attack=10,this.health=6,this.initPet(a,s,r,o,l)}beforeAttack(t,e){let i={attack:4*this.level,health:2*this.level};this.increaseAttack(i.attack),this.increaseHealth(i.health),this.logService.createLog({message:`${this.name} gained ${i.attack} attack and ${i.health} health.`,type:"ability",player:this.parent,tiger:e}),this.superBeforeAttack(t,e)}}class eD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wolverine",this.tier=6,this.pack="Turtle",this.attack=5,this.health=7,this.initPet(a,s,r,o,l)}friendHurt(t,e,i){if(i||this.abilityUses++,this.abilityUses%4!=0)return;let s=[...this.parent.opponent.petArray];s=s.filter(r=>r.alive);for(let r of s){let o=3*this.level,a=Math.max(1,Math.floor(r.health-o));r.health=a,this.logService.createLog({message:`${this.name} reduced ${r.name} health by ${o} (${a})`,type:"ability",player:this.parent,tiger:i})}this.superFriendHurt(t,e,i)}}class Wr extends ge{constructor(){super(...arguments),this.name="Coconut",this.equipmentClass="shield",this.power=999,this.originalPower=999,this.uses=1,this.originalUses=1}}class tD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gorilla",this.tier=6,this.pack="Turtle",this.attack=7,this.health=10,this.initPet(a,s,r,o,l)}hurt(t,e,i){!this.alive||(this.abilityUses<this.maxAbilityUses&&(this.abilityUses++,this.equipment=new Wr,this.logService.createLog({message:`${this.name} gained a Coconut.`,type:"ability",player:this.parent,tiger:i})),super.superHurt(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class iD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dragon",this.tier=6,this.pack="Turtle",this.attack=6,this.health=8,this.initPet(a,s,r,o,l)}}class nD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mammoth",this.tier=6,this.pack="Turtle",this.attack=4,this.health=12,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=2*this.level;for(let r of this.parent.petArray.filter(o=>o!=this&&o.alive))r.increaseAttack(s),r.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${r.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});super.superFaint(t,e)}}class sD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cat",this.tier=6,this.pack="Turtle",this.attack=4,this.health=5,this.initPet(a,s,r,o,l)}}class rD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snake",this.tier=6,this.pack="Turtle",this.attack=6,this.health=6,this.initPet(a,s,r,o,l)}friendAheadAttacks(t,e,i){let s=5*this.level,r=xt(t,this.parent).getRandomPet(null,null,!0);!r||(this.snipePet(r,s,!0,i),this.superFriendAheadAttacks(t,e,i))}}class Hp extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zombie Fly",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=4,this.attack=4,this.initPet(a,s,r,o,l)}}class oD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fly",this.tier=6,this.pack="Turtle",this.attack=5,this.health=5,this.maxAbilityUses=3,this.initPet(a,s,r,o,l)}friendFaints(t,e,i){e instanceof Hp||this.abilityUses>=this.maxAbilityUses||!this.alive||this.abilityService.setSpawnEvent({callback:()=>{let s=new Hp(this.logService,this.abilityService,this.parent,null,null,null,this.minExpForLevel);this.parent.summonPet(s,e.savedPosition,!0)&&(this.abilityService.triggerSummonedEvents(s),this.abilityUses++,this.logService.createLog({message:`${this.name} spawned Zombie Fly Level ${this.level}`,type:"ability",player:this.parent,tiger:i}))},priority:-1})}}class aD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Moth",this.tier=1,this.pack="Puppy",this.health=1,this.attack=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.furthestUpPet,s=2*this.level;i.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class lD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bluebird",this.tier=1,this.pack="Puppy",this.attack=2,this.health=1,this.initPet(a,s,r,o,l)}}class cD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chinchilla",this.tier=1,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}}class bh extends ge{constructor(){super(...arguments),this.equipmentClass="defense",this.name="Garlic",this.power=2,this.originalPower=2}}class qp extends ge{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Honey",this.equipmentClass="faint",this.callback=i=>{let s=1;i instanceof Wt&&(s=1+i.level);for(let r=0;r<s;r++)this.abilityService.setSpawnEvent({callback:()=>{let o=new _h(this.logService,this.abilityService,i.parent,null,null,0);i.parent.summonPet(o,i.savedPosition);let a="";r>0&&(a=" (Panther)"),this.logService.createLog({message:`${i.name} Spawned Bee (Honey)${a}`,type:"ability",player:i.parent}),this.abilityService.triggerSummonedEvents(o)},priority:-1})}}}class D_ extends ge{constructor(){super(...arguments),this.name="Meat Bone",this.equipmentClass="attack",this.power=3,this.originalPower=3}}class uD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beetle",this.tier=1,this.pack="Puppy",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i;switch(this.level){case 1:i=new qp(this.logService,this.abilityService);break;case 2:i=new D_;break;case 3:i=new bh}this.logService.createLog({message:`${this.name} gained ${i.name} perk.`,type:"ability",player:this.parent,tiger:e}),this.givePetEquipment(i),super.superStartOfBattle(t,e)}}class hD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ladybug",this.tier=1,this.pack="Puppy",this.attack=1,this.health=3,this.initPet(a,s,r,o,l)}friendGainedPerk(t,e,i){let s=2*this.level;this.increaseAttack(s),this.logService.createLog({message:`${this.name} gained ${s} attack.`,type:"ability",player:this.parent,tiger:i}),this.superFriendGainedPerk(t,e,i)}}class dD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chipmunk",this.tier=1,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}}class fD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gecko",this.tier=1,this.pack="Puppy",this.attack=3,this.health=1,this.toyPet=!0,this.initPet(a,s,r,o,l)}startOfBattle(t,e){if(null==this.parent.toy)return;let i=2*this.level;this.increaseHealth(i),this.logService.createLog({message:`${this.name} gained ${i} health.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class pD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ferret",this.tier=1,this.pack="Puppy",this.attack=2,this.health=1,this.initPet(a,s,r,o,l)}}class Uo extends ge{constructor(){super(...arguments),this.name="Weak",this.equipmentClass="ailment-defense",this.power=-3,this.originalPower=-3}}class gD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bat",this.tier=2,this.pack="Puppy",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=xt(t,this.parent),s=i.getPetsWithEquipment("Weak"),r=i.getRandomPets(this.level,s,null,!0);for(let o of r)o.givePetEquipment(new Uo),this.logService.createLog({message:`${this.name} made ${o.name} weak.`,type:"ability",player:this.parent,randomEvent:!0,tiger:e});this.superStartOfBattle(t,e)}}class Gp extends ge{constructor(){super(...arguments),this.name="Rice",this.equipmentClass="shop"}}class mD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frigatebird",this.tier=2,this.pack="Puppy",this.attack=2,this.health=1,this.initPet(a,s,r,o,l)}friendGainedAilment(t,e){if(this.abilityUses>=this.level||e==this)return;let i=e.equipment;e.givePetEquipment(new Gp),this.abilityUses++,this.logService.createLog({message:`${this.name} removed ${i.name} from ${e.name} and gave ${e.name} Rice.`,type:"ability",player:this.parent})}resetPet(){super.resetPet()}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class Up extends ge{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Egg",this.equipmentClass="snipe",this.uses=1,this.originalUses=1,this.attackCallback=(i,s)=>{let r=s.parent.petArray,o=null;for(let m of r)if(m.alive){o=m;break}if(null==o)return void console.warn("egg didn't find target");let a=i.calculateDamgae(o,i.getManticoreMult(),2,!0),l=a.defenseEquipment,h=a.damage;o.health-=h;let f=`${i.name} sniped ${o.name} for ${h}`;if(i instanceof Wt&&(f+=" (Panther)"),null!=l){o.useDefenseEquipment();let m=Math.abs(l.power),y="-";l.power<0&&(y="+"),f+=` (${l.name} ${y}${m})`}this.logService.createLog({message:f+=" (Egg).",type:"attack",player:i.parent}),null!=o.hurt&&this.abilityService.setHurtEvent({callback:o.hurt.bind(o),priority:o.attack,player:o.parent,callbackPet:s}),o.health<1&&null!=i.knockOut&&this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack,callbackPet:o}),o.alive&&this.abilityService.triggerFriendHurtEvents(s.parent,s),o.alive&&h>0&&this.abilityService.triggerEnemyHurtEvents(i.parent,o)}}}class jp extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nest",this.tier=1,this.pack="Puppy",this.hidden=!0,this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}}class vD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Robin",this.tier=2,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=new jp(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel,null);this.logService.createLog({message:`${this.name} summoned a Nest (level ${this.level}).`,type:"ability",player:this.parent,randomEvent:!1,tiger:e}),this.parent.summonPet(i,Math.max(0,this.position))&&(this.abilityService.triggerSummonedEvents(i),this.logService.createLog({message:`${this.name} gave Nest an Egg.`,type:"ability",player:this.parent,randomEvent:!1,tiger:e}),i.givePetEquipment(new Up(this.logService,this.abilityService))),this.superStartOfBattle(t,e)}}class yD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dromedary",this.tier=2,this.pack="Puppy",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}}class _D extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shrimp",this.tier=2,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}}class bD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Toucan",this.tier=2,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}faint(t,e,i){var s;if(null==this.equipment)return;let r=this.parent.petArray,o=[],a=!1;for(let l of r)l==this&&(a=!0),a&&(null===(s=l.equipment)||void 0===s?void 0:s.name)!=this.equipment.name&&o.push(l);for(let l=0;l<this.level;l++){let h=o[l];if(null==h)break;this.logService.createLog({message:`${this.name} gave ${h.name} ${this.equipment.name}`,type:"ability",player:this.parent,randomEvent:!1,tiger:e,pteranodon:i}),h.givePetEquipment((0,ve.cloneDeep)(this.equipment))}this.superFaint(t,e)}}class SD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beluga Sturgeon",this.tier=2,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}faint(t,e,i){for(let s=0;s<this.level;s++)this.abilityService.setSpawnEvent({callback:()=>{let r=new S_(this.logService,this.abilityService,this.parent,3,2,0,0,new Gp);this.logService.createLog({message:`${this.name} summoned a 2/3 Dolphin with Rice in the back.`,type:"ability",player:this.parent,randomEvent:!1,tiger:e,pteranodon:i}),this.parent.summonPet(r,4)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack});this.superFaint(t,e)}}class ED extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tabby Cat",this.tier=2,this.pack="Puppy",this.attack=4,this.health=3,this.initPet(a,s,r,o,l)}friendGainedPerk(t,e,i){let s=this.parent.getRandomPets(2,[this],!0,!1);if(0!=s.length){for(let r of s)this.logService.createLog({message:`${this.name} increased ${r.name}'s health by ${this.level}.`,type:"ability",player:this.parent,randomEvent:!0,tiger:i}),r.increaseHealth(this.level);this.superFriendGainedPerk(t,e,i)}}}class P_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flying Squirrel",this.tier=3,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}friendlyToyBroke(t,e){this.logService.createLog({message:`${this.parent.toy.name} respawned!`,type:"ability",player:this.parent,tiger:e}),this.superFriendlyToyBroke(t,e)}}class wD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mandrill",this.tier=2,this.pack="Puppy",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){var s;if((null===(s=this.parent.toy)||void 0===s?void 0:s.tier)<=2*this.level){let o=!1;for(let a of this.parent.petArray)if(a instanceof P_){o=!0;break}this.parent.breakToy(o),this.abilityService.triggerFriendlyToyBrokeEvents(this.parent)}}}class CD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lemur",this.tier=2,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}}class kD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hoopoe Bird",this.tier=3,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=xt(t,this.parent),r=s.furthestUpPet,o=s.getLastPet(),a=2*this.level;!r||(this.snipePet(r,a,!1,e,i),this.snipePet(o,a,!1,e,i),this.superFaint(t,e))}}class DD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tropical Fish",this.tier=3,this.pack="Puppy",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}}class PD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hatching Chick",this.tier=3,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}}class AD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goldfish",this.tier=3,this.pack="Puppy",this.attack=1,this.health=5,this.initPet(a,s,r,o,l)}}class TD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Owl",this.tier=3,this.pack="Puppy",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}}class Wp extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mole",this.tier=3,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=6*this.level,r=[];for(let o of this.parent.petArray)o!=this&&o.equipment&&r.push(o);if(r=r.slice(0,2),!(r.length<2)){for(let o of r)o.equipment=null,this.logService.createLog({message:`${this.name} removed ${o.name}'s equipment.`,type:"ability",player:this.parent,pteranodon:i});this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} summoned a ${s}/${s} Mole.`,type:"ability",player:this.parent,pteranodon:i});let o=new Wp(this.logService,this.abilityService,this.parent,s,s);this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(o)},priority:this.attack})}}}class xD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Raccoon",this.tier=5,this.pack="Custom",this.attack=4,this.health=5,this.initPet(a,s,r,o,l)}beforeAttack(t,e){let s=xt(t,this.parent).getPetAtPosition(0);null!=s&&null!=s.equipment&&(this.abilityUses>=this.maxAbilityUses||(this.logService.createLog({message:`${this.name} stole ${s.name}'s equipment. (${s.equipment.name})`,type:"ability",player:this.parent}),this.givePetEquipment(s.equipment),s.equipment=null,this.abilityUses++))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class MD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pangolin",this.tier=3,this.pack="Puppy",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}faint(t,e,i){if(null==this.parent.toy||null==this.petBehind())return;let s=5*this.level;this.petBehind().increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${this.petBehind().name} ${s} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.superFaint(t,e)}}class ID extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Puppy",this.tier=3,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}}class OD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Microbe",this.tier=4,this.pack="Puppy",this.attack=1,this.health=1,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.parent.petArray.filter(r=>r!=this);s=[...s,...xt(t,this.parent).petArray];for(let r of s)!r.alive||(this.logService.createLog({message:`${this.name} gave ${r.name} Weak.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),r.givePetEquipment(new Uo));this.superFaint(t,e)}}class ND extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lobster",this.tier=4,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}}class RD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Buffalo",this.tier=4,this.pack="Puppy",this.attack=4,this.health=4,this.initPet(a,s,r,o,l)}}class LD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Llama",this.tier=4,this.pack="Puppy",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}}class A_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Butterly",this.tier=1,this.pack="Puppy",this.hidden=!0,this.health=1,this.attack=1,this.initPet(a,s,r,o,l)}transform(t,e){let s=xt(t,this.parent).getStrongestPet();this.health=s.health,this.attack=s.attack,this.logService.createLog({message:`${this.name} copied stats from the strongest enemy (${this.attack}/${this.health}).`,type:"ability",player:this.parent,tiger:e}),this.superTransform(t,e)}}class BD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Caterpillar",this.tier=4,this.pack="Puppy",this.attack=1,this.health=1,this.initPet(a,s,r,o,l)}startOfBattle(t,e){if(this.level<3)return;let i=new A_(this.logService,this.abilityService,this.parent,1,1,this.exp);this.parent.setPet(this.position,i),this.logService.createLog({message:`${this.name} transformed into a Butterfly.`,type:"ability",player:this.parent})}}class VD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Doberman",this.tier=4,this.pack="Puppy",this.attack=4,this.health=5,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=!0;for(let r of this.parent.petArray)if(r!=this&&r.tier<=this.tier){i=!1;break}if(!i)return;let s=8*this.level;this.increaseAttack(s),this.givePetEquipment(new Wr),this.logService.createLog({message:`${this.name} gained ${s} attack and gained a Coconut.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class $D extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tahr",this.tier=4,this.pack="Puppy",this.attack=5,this.health=3,this.initPet(a,s,r,o,l)}faint(t,e,i){if(null==this.petBehind())return;let s=this.petBehind(),r=[s];for(;null!=s.petBehind();)s=s.petBehind(),r.push(s);let o=1;for(let a of r){if(o>this.level)break;a.equipment instanceof yh||(this.logService.createLog({message:`${this.name} gave ${a.name} Chili.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),a.givePetEquipment(new yh(this.logService,this.abilityService)),o++)}this.superFaint(t,e)}}class FD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Whale Shark",this.tier=4,this.pack="Puppy",this.attack=1,this.health=4,this.initPet(a,s,r,o,l)}givePetEquipment(t){super.givePetEquipment(t),this.equipment=null;let e=2*this.level;this.increaseAttack(e),this.increaseHealth(e),this.logService.createLog({message:`${this.name} removed ${t.name} and gained ${e} attack and ${e} health.`,type:"ability",player:this.parent})}}class HD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chameleon",this.tier=4,this.pack="Puppy",this.attack=3,this.health=5,this.initPet(a,s,r,o,l)}faint(t,e,i){if(null==this.parent.toy)return;let s=this.parent.toy,r=s.level;s.level=this.level,this.logService.createLog({message:`${this.name} activated ${s.name}.`,type:"ability",player:this.parent,pteranodon:i}),s.onBreak&&this.parent.breakToy(!0),s.startOfBattle&&s.startOfBattle(t),s.level=r}}class qD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gharial",this.tier=4,this.pack="Puppy",this.attack=5,this.health=3,this.initPet(a,s,r,o,l)}}class GD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stonefish",this.tier=5,this.pack="Puppy",this.attack=7,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=xt(t,this.parent);null==s.pet0||!s.pet0.alive||(this.snipePet(s.pet0,this.attack*this.level,!1,e,i),this.superFaint(t,e))}}class UD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Poodle",this.tier=5,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}}class jD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chicken",this.tier=5,this.pack="Puppy",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}}class WD extends E{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Eagle",this.tier=5,this.pack="Puppy",this.attack=6,this.health=5,this.initPet(l,r,o,a,h)}faint(t,e,i){let r,s=Math.min(6,t.previousShopTier+1);r=this.parent==t.player?t.playerPetPool.get(s):t.opponentPetPool.get(s);let o=r[Math.floor(Math.random()*r.length)],a=5*this.level;this.abilityService.setSpawnEvent({callback:()=>{let l=this.petService.createPet({name:o,attack:a,health:a,exp:this.minExpForLevel,equipment:null,mana:0},this.parent);this.logService.createLog({message:`${this.name} spawned ${l.name} Level ${l.level}`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.parent.summonPet(l,this.savedPosition)&&this.abilityService.triggerSummonedEvents(l)},priority:this.attack}),this.superFaint(t,e)}}class zD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Axolotl",this.tier=5,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}friendGainedPerk(t,e,i){if(e==this)return;let s=this.level;e.increaseAttack(s),e.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.superFriendGainedPerk(t,e,i)}}class KD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goat",this.tier=5,this.pack="Puppy",this.attack=4,this.health=6,this.initPet(a,s,r,o,l)}}class zp extends ge{constructor(t){super(),this.logService=t,this.name="Skewer",this.equipmentClass="skewer",this.power=0,this.attackCallback=(e,i)=>{this.skewer(e,i,1),this.skewer(e,i,2)}}skewer(t,e,i){let s=e.parent.getPetAtPosition(i);if(null==s)return;let r=1;t instanceof Wt&&(r=1+t.level);let o=t.calculateDamgae(s,t.getManticoreMult(),3),a=o.defenseEquipment,l=o.damage*r;s.health-=l;let h=`${t.name} attacks ${s.name} for ${l}`;if(t instanceof Wt&&(h+=` x${r} (Panther)`),null!=a){s.useDefenseEquipment();let f=Math.abs(a.power),m="-";a.power<0&&(m="+"),h+=` (${a.name} ${m}${f})`,e instanceof Wt&&(h+=` x${1+t.level} (Panther)`)}this.logService.createLog({message:h+=" (Skewer).",type:"attack",player:t.parent})}}class YD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snapping Turtle",this.tier=5,this.pack="Puppy",this.attack=4,this.health=5,this.initPet(a,s,r,o,l)}faint(t,e,i){if(null==this.petBehind())return;let s=this.petBehind(),r=[s];for(;null!=s.petBehind();)s=s.petBehind(),r.push(s);let o=1;for(let a of r){if(o>this.level)break;a.equipment instanceof zp||(this.logService.createLog({message:`${this.name} gave ${a.name} Skewer.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),a.givePetEquipment(new zp(this.logService)),o++)}this.superFaint(t,e)}}class QD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mosasaurus",this.tier=5,this.pack="Puppy",this.attack=5,this.health=6,this.initPet(a,s,r,o,l)}friendlyToyBroke(t,e){let i=[];if(this.petAhead&&i.push(this.petAhead),this.petBehind()&&i.push(this.petBehind()),0==i.length)return;for(let r of i)this.logService.createLog({message:`${this.name} gave ${r.name} 2 attach and 3 health.`,type:"ability",player:this.parent,randomEvent:!1,tiger:e}),r.increaseHealth(3),r.increaseAttack(2)}}class JD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="String Ray",this.tier=5,this.pack="Puppy",this.attack=4,this.health=6,this.initPet(a,s,r,o,l)}}class ZD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mantis Shrimp",this.tier=6,this.pack="Puppy",this.attack=9,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=xt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.furthestUpPet;if(null==r)return;this.snipePet(r,10,!1,e)}this.superStartOfBattle(t,e)}}class XD extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lionfish",this.tier=6,this.pack="Puppy",this.attack=8,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=xt(t,this.parent),r=1+Math.floor(this.attack/10);for(let o=0;o<r;o++){let a=s.getRandomPet(null,null,!0);if(null==a)return;this.snipePet(a,3*this.level,!0,e,i)}this.superFaint(t,e)}}class eP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tyrannosaurus",this.tier=6,this.pack="Puppy",this.attack=6,this.health=4,this.initPet(a,s,r,o,l)}}class tP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Octopus",this.tier=6,this.pack="Puppy",this.attack=8,this.health=8,this.initPet(a,s,r,o,l)}afterAttack(t,e){let i=xt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getRandomPet(null,null,!0);if(null==r)return;this.snipePet(r,6,!0,e)}this.superAfterAttack(t,e)}}class iP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anglerfish",this.tier=6,this.pack="Puppy",this.attack=7,this.health=4,this.initPet(a,s,r,o,l)}}class nP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sauropod",this.tier=6,this.pack="Puppy",this.attack=4,this.health=12,this.initPet(a,s,r,o,l)}}class sP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Elephant Seal",this.tier=6,this.pack="Puppy",this.attack=3,this.health=9,this.initPet(a,s,r,o,l)}givePetEquipment(t){super.givePetEquipment(t);let e=this.level;for(let i of this.parent.petArray)i!=this&&(!i.alive||(i.increaseAttack(e),i.increaseHealth(e),this.logService.createLog({message:`${this.name} gave ${i.name} ${e} attack and ${e} health.`,type:"ability",player:this.parent})))}}class rP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mongoose",this.tier=6,this.pack="Puppy",this.attack=4,this.health=3,this.initPet(a,s,r,o,l)}}class oP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pillbug",this.tier=1,this.pack="Star",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}}class aP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Duckling",this.tier=1,this.pack="Star",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}}class lP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockroach",this.tier=1,this.pack="Star",this.attack=1,this.health=1,this.initPet(a,s,r,o,l)}}class cP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frog",this.tier=1,this.pack="Star",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){if(this.level>1)return;let i=this.petAhead,s=this.petBehind();if(null==i||null==s)return;let r=i.attack,o=i.health,l=s.health;i.attack=s.attack,i.health=l,s.attack=r,s.health=o,this.logService.createLog({message:`${this.name} swapped the attack and health of ${i.name} and ${s.name}.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class uP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Seahorse",this.tier=1,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let s=xt(t,this.parent).getLastPet();this.parent.pushPet(s,this.level),this.logService.createLog({message:`${this.name} pushes ${s.name} forward ${this.level} space${this.level>1?"s":""}.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class hP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Iguana",this.tier=2,this.pack="Star",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}enemySummoned(t,e,i){null!=e&&e.alive&&(this.snipePet(e,2*this.level,!1,i),this.superEnemySummoned(t,e,i))}}class dP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hummingbird",this.tier=1,this.pack="Star",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.getRandomStrawberryPet(this);if(null==i)return;let s={attack:2*this.level,health:this.level};i.increaseHealth(s.health),i.increaseAttack(s.attack),this.logService.createLog({message:`${this.name} increased ${i.name}'s attack by ${s.attack} and health by ${s.health}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),this.superStartOfBattle(t,e)}}class fP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Koala",this.tier=2,this.pack="Star",this.attack=3,this.health=2,this.maxAbilityUses=1,this.initPet(a,s,r,o,l)}friendHurt(t,e,i){this.abilityUses>=this.maxAbilityUses&&!i||(e.increaseAttack(this.level),e.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${e.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses+=1,this.superFriendHurt(t,e,i))}}class pP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Yak",this.tier=2,this.pack="Star",this.attack=3,this.health=5,this.initPet(a,s,r,o,l)}}class gP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dumbo Octopus",this.tier=2,this.pack="Star",this.health=5,this.attack=2,this.initPet(a,s,r,o,l)}}class mP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Salamander",this.tier=2,this.pack="Star",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}}class vP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Panda",this.tier=2,this.pack="Star",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=.5*this.level,s={attack:Math.floor(this.attack*i),health:Math.floor(this.health*i)},r=this.petAhead;null!=r&&(r.increaseAttack(s.attack),r.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${r.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:e}),this.health=0,this.superStartOfBattle(t,e))}}class yP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Guinea Pig",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}}class _P extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pug",this.tier=3,this.pack="Star",this.attack=5,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){if(null==this.petAhead)return;let i=this.level;this.logService.createLog({message:`${this.name} gave ${this.petAhead.name} ${i} exp.`,type:"ability",player:this.parent,tiger:e}),this.petAhead.increaseExp(i),this.superStartOfBattle(t,e)}}class bP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jellyfish",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}anyoneLevelUp(t,e,i){if(e.parent!=this.parent)return;let s=this.level;this.increaseAttack(s),this.increaseHealth(s),this.logService.createLog({message:`${this.name} increased attack by ${s} and health by ${s}`,type:"ability",player:this.parent,tiger:i}),this.superAnyoneLevelUp(t,e,i)}}class SP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Atlantic Puffin",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.getPetsWithEquipment("Strawberry").filter(r=>r!==this),s=xt(t,this.parent);for(let r=0;r<this.level;r++)for(let o=0;o<i.length;o++){let a=s.getRandomPet(null,null,!0);if(null==a)break;this.snipePet(a,2,!0,e)}this.superStartOfBattle(t,e)}}class EP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dove",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.parent.getPetsWithEquipment("Strawberry").filter(a=>a!==this&&a.alive);s=(0,ve.shuffle)(s);let r=2*this.level,o=!1;if(s.length>2&&(o=!0),s.length>0){let a=s[0];a.increaseAttack(r),a.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${a.name} ${r} attack ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:o,pteranodon:i})}if(s.length>1){let a=s[1];a.increaseAttack(r),a.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${a.name} ${r} attack ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:o})}this.superFaint(t,e)}}class wP extends E{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Stork",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(l,r,o,a,h)}faint(t,e,i){let s,r=Math.max(1,t.previousShopTier-1);s=this.parent==t.player?t.playerPetPool.get(r):t.opponentPetPool.get(r);let o=s[Math.floor(Math.random()*s.length)];this.abilityService.setSpawnEvent({callback:()=>{let a=t.oldStork,l=this.petService.createPet({name:o,attack:a?null:3*this.level,equipment:null,exp:this.minExpForLevel,health:a?null:2*this.level,mana:0},this.parent);this.logService.createLog({message:`${this.name} spawned ${l.name} Level ${this.level}`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.parent.summonPet(l,this.savedPosition)&&this.abilityService.triggerSummonedEvents(l)},priority:this.attack}),this.superFaint(t,e)}}class CP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leech",this.tier=3,this.pack="Star",this.attack=4,this.health=2,this.initPet(a,s,r,o,l)}}class kP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Woodpecker",this.tier=3,this.pack="Star",this.attack=4,this.health=3,this.uses=0,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.opponent;for(let s=0;s<this.level;s++){let o,r=this.petAhead;null==r?(r=i.furthestUpPet,o=null==r?void 0:r.petBehind()):(o=r.petAhead,null==o&&(o=i.furthestUpPet)),null!=r&&this.snipePet(r,2,!1,e),null!=o&&this.snipePet(o,2,!1,e)}this.superStartOfBattle(t,e)}}class DP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Toad",this.tier=3,this.pack="Star",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}enemyHurt(t,e,i){!e.alive||this.abilityUses>=this.maxAbilityUses||e.equipment instanceof Uo||(e.givePetEquipment(new Uo),this.abilityUses++,this.logService.createLog({message:`${this.name} gave ${e.name} Weak.`,type:"ability",player:this.parent,tiger:i}),this.enemyHurt(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2*this.level}}class PP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Starfish",this.tier=4,this.pack="Star",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}}class AP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Clownfish",this.tier=4,this.pack="Star",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}anyoneLevelUp(t,e,i){if(e.parent!==this.parent)return;let s=2*this.level;e.increaseAttack(s),e.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.superAnyoneLevelUp(t,e,i)}}class TP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blobfish",this.tier=4,this.pack="Star",this.attack=2,this.health=6,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.petBehind();if(null==s)return;let r=2*this.level;this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),s.increaseAttack(r),s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} exp.`,type:"ability",player:this.parent,tiger:e}),s.increaseExp(r),this.superFaint(t,e)}}class xP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cabybara",this.tier=3,this.pack="Star",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}}class MP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Okapi",this.tier=3,this.pack="Star",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}}class IP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cassowary",this.tier=3,this.pack="Star",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}}class T_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Orangutang",this.tier=4,this.pack="Star",this.attack=3,this.health=6,this.initPet(a,s,r,o,l)}}class OP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Eel",this.tier=3,this.pack="Star",this.attack=4,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=.5*this.level;this.health=Math.min(50,Math.floor(this.health*(1+i))),this.logService.createLog({message:`${this.name} has gained ${100*i}% health. (${this.health})`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class NP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hawk",this.tier=4,this.pack="Star",this.attack=4,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.opponent,s=this.position,r=i.getPetAtPosition(this.position),o=1;for(;null==r&&o<5;)r=i.getPetAtPosition(s+o),null==r&&(r=i.getPetAtPosition(s-o)),o++;null!=r&&this.snipePet(r,7*this.level,!1,e)}}class RP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Platypus",this.tier=4,this.pack="Star",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=3*this.level,r=new y_(this.logService,this.abilityService,this.parent,s,s,0,this.minExpForLevel),o=new __(this.logService,this.abilityService,this.parent,s,s,0,this.minExpForLevel);this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} spawned ${s}/${s} Duck level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack}),this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} spawned ${s}/${s} Beaver level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(o)},priority:this.attack})}}class LP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Praying Mantis",this.tier=4,this.pack="Star",this.attack=7,this.health=2,this.initPet(a,s,r,o,l)}}class BP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crow",this.tier=4,this.pack="Star",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}}class VP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Donkey",this.tier=4,this.pack="Star",this.attack=4,this.health=6,this.initPet(a,s,r,o,l)}friendFaints(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let r=this.parent.opponent.getLastPet();null!=r&&(this.parent.pushPet(r,r.position),this.logService.createLog({message:`${this.name} pushed ${r.name} to the front.`,type:"ability",player:this.parent,tiger:i}),this.superFriendFaints(t,e,i),this.abilityUses++)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class $P extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pelican",this.tier=4,this.pack="Star",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.getRandomStrawberryPet(this),s={attack:2*this.level,health:this.level};if(null==i)return;let r=this.parent.getPetsWithEquipment("Strawberry").filter(o=>o!=this).length>1;i.increaseAttack(s.attack),i.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${i.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:r}),this.superStartOfBattle(t,e)}}class FP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anteater",this.tier=3,this.pack="Star",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){for(let s=0;s<this.level;s++)this.abilityService.setSpawnEvent({callback:()=>{let r=new v_(this.logService,this.abilityService,this.parent,1,1,0,5);this.logService.createLog({message:`${this.name} spawned 1/1 Ant level 3`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack});super.superFaint(t,e)}}class HP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sword Fish",this.tier=5,this.pack="Star",this.attack=5,this.health=5,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let s=this.parent.opponent.getHighestHealthPet(),r=s.pet,o=this.attack*this.level;null!=r&&this.snipePet(r,o,s.random,e),this.snipePet(this,o,!1,e),this.superStartOfBattle(t,e)}}class qP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Polar Bear",this.tier=5,this.pack="Star",this.attack=4,this.health=8,this.initPet(a,s,r,o,l)}}class GP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Siberian Husky",this.tier=5,this.pack="Star",this.attack=4,this.health=3,this.initPet(a,s,r,o,l)}}class UP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lion",this.tier=5,this.pack="Star",this.attack=6,this.health=6,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.petArray.filter(o=>o!==this),s=0;for(let o of i)o.tier>s&&(s=o.tier);let r=.5*this.level;this.tier<=s||(this.increaseAttack(Math.floor(this.attack*r)),this.increaseHealth(Math.floor(this.health*r)),this.logService.createLog({message:`${this.name} increased its attack and health by ${100*r}% (${this.attack}/${this.health})`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e))}}class jP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Triceratops",this.tier=5,this.pack="Star",this.attack=5,this.health=6,this.initPet(a,s,r,o,l)}hurt(t,e,i){let s=this.parent.getRandomPet([this],!0,null,!0),r=3*this.level;null!=s&&(s.increaseAttack(r),s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}),this.superHurt(t,e,i))}}class WP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zebra",this.tier=5,this.pack="Star",this.attack=3,this.health=5,this.initPet(a,s,r,o,l)}}class zP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fox",this.tier=5,this.pack="Star",this.attack=6,this.health=4,this.initPet(a,s,r,o,l)}}class KP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hamster",this.tier=5,this.pack="Star",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}}class YP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shoebill",this.tier=5,this.pack="Star",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}}class QP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vulture",this.tier=5,this.pack="Star",this.attack=4,this.health=3,this.initPet(a,s,r,o,l)}friendFaints(t,e,i){if(i||this.abilityUses++,this.abilityUses%2==1)return;let r=this.parent.opponent.getRandomPet(null,null,!0);null!=r&&(this.snipePet(r,4*this.level,!0,i),this.superFriendFaints(t,e,i))}}class JP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Komodo",this.tier=6,this.pack="Star",this.attack=6,this.health=6,this.initPet(a,s,r,o,l)}endTurn(t){if(!t.komodoShuffle)return;let i=this.position;if(0==i)return;let r=this.shufflePets(0,i).map(o=>o.name).join(", ");this.logService.createLog({message:`${this.name} shuffled positions of pets (${r}).`,type:"ability",player:this.parent,randomEvent:!0})}shufflePets(t,e){let i=this.parent.petArray.slice(t,e);Rp(i);for(let s=0;s<i.length;s++)this.parent[`pet${s}`]=i[s];return i}}class ZP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ostrich",this.tier=6,this.pack="Star",this.attack=2,this.health=8,this.initPet(a,s,r,o,l)}}class XP extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Reindeer",this.tier=6,this.pack="Star",this.attack=6,this.health=4,this.initPet(a,s,r,o,l)}beforeAttack(t,e){this.abilityUses>=this.maxAbilityUses||(this.givePetEquipment(new jr),this.abilityUses++,this.logService.createLog({message:`${this.name} gained Melon.`,type:"ability",player:this.parent,tiger:e}),this.superAfterAttack(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class eA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stegosaurus",this.tier=6,this.pack="Star",this.attack=3,this.health=8,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.petArray.filter(o=>null!=o.equipment),s=this.parent.getRandomPet([...i,this],!0,!1,!0);if(null==s)return;let r=this.level*t.turnNumber;s.increaseAttack(r),s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),this.superStartOfBattle(t,e)}}class tA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Piranha",this.tier=6,this.pack="Star",this.attack=10,this.health=4,this.initPet(a,s,r,o,l)}hurt(t,e,i){let s=this.parent.petArray.filter(o=>o!==this&&o.alive),r=3*this.level;for(let o of s)o.increaseAttack(r),this.logService.createLog({message:`${this.name} gave ${o.name} ${r} attack.`,type:"ability",player:this.parent,tiger:i});this.superHurt(t,e,i)}}class iA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hammerhead Shark",this.tier=6,this.pack="Star",this.attack=5,this.health=5,this.initPet(a,s,r,o,l)}}class nA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Velociraptor",this.tier=6,this.pack="Star",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.getPetsWithEquipment("Strawberry").filter(r=>r!==this&&r.alive);i=(0,ve.shuffle)(i);let s=[];for(let r=0;r<this.level&&null!=i[r];r++)s.push(i[r]);for(let r of s)r.givePetEquipment(new Wr),this.logService.createLog({message:`${this.name} gave ${r.name} Coconut.`,type:"ability",player:this.parent,tiger:e,randomEvent:this.level<i.length})}}class sA extends E{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Sabertooth Tiger",this.tier=6,this.pack="Star",this.attack=6,this.health=6,this.initPet(l,r,o,a,h)}hurt(t,e,i){let r,s=5*this.level;r=this.parent==t.player?t.playerPetPool.get(1):t.opponentPetPool.get(1);let o=r[Math.floor(Math.random()*r.length)];this.abilityService.setSpawnEvent({callback:()=>{let a=this.petService.createPet({name:o,attack:s,health:s,equipment:null,mana:0,exp:0},this.parent);this.logService.createLog({message:`${this.name} spawned ${a.name} (${s}/${s}).`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}),this.parent.summonPet(a,this.savedPosition)&&this.abilityService.triggerSummonedEvents(a)},priority:this.attack}),super.superHurt(t,e,i)}}class rA extends E{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Orca",this.tier=6,this.pack="Star",this.attack=4,this.health=8,this.initPet(l,r,o,a,h)}faint(t,e,i){for(let s=0;s<this.level;s++){let r=this.petService.getRandomFaintPet(this.parent);this.abilityService.setSpawnEvent({callback:()=>{this.logService.createLog({message:`${this.name} spawned ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack}),super.superFaint(t,e)}}}class oA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Spinosaurus",this.tier=6,this.pack="Star",this.attack=4,this.health=8,this.initPet(a,s,r,o,l)}friendFaints(t,e,i){let s={attack:3*this.level,health:2*this.level},r=this.parent.getRandomPet([this],!0,!1,!0);null!=r&&(r.increaseAttack(s.attack),r.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${r.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}))}}class aA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bulldog",this.tier=1,this.pack="Golden",this.attack=1,this.health=3,this.initPet(a,s,r,o,l)}afterAttack(t,e){!this.alive||(this.attack=Math.min(50,this.health+this.level),this.logService.createLog({message:`${this.name} attack is set to ${this.attack}.`,type:"ability",player:this.parent,tiger:e}),this.superAfterAttack(t,e))}}class x_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Groundhog",this.tier=1,this.pack="Golden",this.attack=2,this.health=1,this.initPet(a,s,r,o,l)}faint(t,e,i){this.parent.gainTrumpets(this.level,this,i),this.superFaint(t,e)}}class lA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cone Snail",this.tier=1,this.pack="Golden",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.petBehind();if(null==i)return;let s=2*this.level;i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} health.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class cA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goose",this.tier=1,this.pack="Golden",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.opponent.furthestUpPet;if(null==i)return;let s=this.level;i.increaseAttack(-this.level),this.logService.createLog({message:`${this.name} removed ${s} attack from ${i.name}.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class uA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pied Tamarin",this.tier=1,this.pack="Golden",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){if(this.parent.trumpets<1)return;let s=this.parent.opponent.getRandomPets(this.level,null,null,!0);for(let r of s)this.snipePet(r,3,!0,e,i);s.length>0&&this.parent.spendTrumpets(1,this,i)}}class hA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Silkmoth",this.tier=1,this.pack="Golden",this.attack=3,this.health=1,this.maxAbilityUses=2,this.initPet(a,s,r,o,l)}friendHurt(t,e,i){if(this.abilityUses>=this.maxAbilityUses||e!=this.petAhead||!e.alive)return;let s=this.level;e.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendHurt(t,e,i)}}class dA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Magpie",this.tier=1,this.pack="Golden",this.attack=1,this.health=4,this.initPet(a,s,r,o,l)}}class fA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hercules Beetle",this.tier=2,this.pack="Golden",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}}class pA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stoat",this.tier=2,this.pack="Golden",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}}class gA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Black Necked Stilt",this.tier=2,this.pack="Golden",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){this.parent.gainTrumpets(2*this.level,this,i),this.superFaint(t,e)}}class mA extends ge{constructor(){super(...arguments),this.name="Ink",this.equipmentClass="ailment-attack",this.power=-3,this.originalPower=-3}}class vA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Squid",this.tier=2,this.pack="Golden",this.attack=5,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){if(this.parent.trumpets<1)return;let s=!1,r=this.parent.opponent.petArray.filter(o=>{var a;return o.health>0&&"Ink"!=(null===(a=o.equipment)||void 0===a?void 0:a.name)});for(let o=0;o<this.level;o++){let a=r[o];if(null==a)break;s=!0,a.givePetEquipment(new mA),this.logService.createLog({message:`${this.name} gave ${a.name} Ink.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}s&&this.parent.spendTrumpets(1,this,i),this.superFaint(t,e)}}class yA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Urchin",this.tier=2,this.pack="Golden",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=[this.parent.opponent.furthestUpPet];if(null!=s[0]){for(let r=0;r<this.level-1;r++){let a=s[r].petBehind();if(null==a)break;s.push(a)}for(let r of s)r.increaseHealth(-5),this.logService.createLog({message:`${this.name} removed 5 health from ${r.name}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});this.superFaint(t,e)}}}class _A extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Door Head Ant",this.tier=2,this.pack="Golden",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;this.parent.pushPetToFront(this,!0),this.logService.createLog({message:`${this.name} pushed itself to the front.`,type:"ability",player:this.parent,tiger:e});let i=4*this.level;this.increaseHealth(i),this.logService.createLog({message:`${this.name} gained ${i} health.`,type:"ability",player:this.parent,tiger:e})}}class M_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lizard Tail",this.tier=1,this.pack="Golden",this.hidden=!0,this.attack=3,this.health=1,this.initPet(a,s,r,o,l)}}class bA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lizard",this.tier=2,this.pack="Golden",this.attack=1,this.health=3,this.maxAbilityUses=2,this.initPet(a,s,r,o,l)}hurt(t,e,i){this.abilityUses>=this.maxAbilityUses||(this.abilityService.setSpawnEvent({callback:()=>{let s=new M_(this.logService,this.abilityService,this.parent,null,null,0,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Liazrd Tail Level ${this.level}`,type:"ability",player:this.parent,tiger:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),this.abilityUses++,super.superFaint(t,i))}}class SA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Turtle",this.tier=2,this.pack="Golden",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}friendSummoned(t,e,i){let s=3*this.level;e.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.superFriendSummoned(t,e,i)}}class EA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="African Penguin",this.tier=2,this.pack="Golden",this.attack=1,this.health=3,this.initPet(a,s,r,o,l)}}class wA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Musk Ox",this.tier=3,this.pack="Golden",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}friendAheadFaints(t,e,i){let s={attack:this.level,health:2*this.level};this.increaseAttack(s.attack),this.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gained ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i}),this.superFriendAheadFaints(t,e,i)}}class CA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flea",this.tier=3,this.pack="Golden",this.attack=4,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=(0,ve.clone)(this.parent.opponent.petArray);(0,ve.shuffle)(s),s=s.sort((r,o)=>r.health>o.health?-1:o.health>r.health?1:0).filter(r=>{var o;return"Weak"!=(null===(o=r.equipment)||void 0===o?void 0:o.name)});for(let r=0;r<this.level;r++){let o=s[r];if(null==o)break;o.givePetEquipment(new Uo),this.logService.createLog({message:`${this.name} gave ${o.name} Weak.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}this.superFaint(t,e)}}class kA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Surgeon Fish",this.tier=3,this.pack="Golden",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}beforeAttack(t,e){let i=this.petBehind();if(null==i||this.parent.trumpets<2)return;this.parent.spendTrumpets(2,this);let s=6*this.level;i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} health.`,type:"ability",player:this.parent,tiger:e}),this.superBeforeAttack(t,e)}}class DA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Weasel",this.tier=3,this.pack="Golden",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){this.logService.createLog({message:`${this.name} gained ${this.level} Gold.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.superFaint(t,e)}}class PA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Guineafowl",this.tier=3,this.pack="Golden",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}hurt(t,e,i){this.parent.gainTrumpets(2*this.level,this),this.superHurt(t,e,i)}}class AA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Betta Fish",this.tier=3,this.pack="Golden",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.petBehind();if(null==s)return;let r={health:2*this.level,attack:4*this.level};s.increaseAttack(r.attack),s.increaseHealth(r.health),this.logService.createLog({message:`${this.name} gave ${s.name} ${r.attack} attack and ${r.health} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.superFaint(t,e)}}class TA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Meerkat",this.tier=3,this.pack="Golden",this.attack=1,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i;i=this.parent==t.player?t.playerGoldSpent:t.opponentGoldSpent;let s=Math.floor(i/3)*this.level,r=this.petAhead,o=this.petBehind();null!=r&&(r.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${r.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e})),null!=o&&(o.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e})),this.superFaint(t,e)}}class xA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flying Fish",this.tier=3,this.pack="Golden",this.attack=3,this.health=2,this.maxAbilityUses=2,this.initPet(a,s,r,o,l)}friendSummoned(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=2*this.level;this.logService.createLog({message:`${this.name} gave ${e.name} ${s} exp.`,type:"ability",player:this.parent,tiger:i}),e.increaseExp(s),this.abilityUses++,this.superFriendSummoned(t,e,i)}}class MA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Baboon",this.tier=3,this.pack="Golden",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}}class IA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Osprey",this.tier=3,this.pack="Golden",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}faint(t,e,i){for(let s=0;s<this.level;s++)this.abilityService.setSpawnEvent({callback:()=>{let r=new x_(this.logService,this.abilityService,this.parent,null,null,0,0);this.logService.createLog({message:`${this.name} summoned a 2/1 Groundhog`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack});super.superFaint(t,e)}}class OA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manatee",this.tier=4,this.pack="Golden",this.attack=2,this.health=11,this.initPet(a,s,r,o,l)}}class NA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cuttlefish",this.tier=4,this.pack="Golden",this.attack=8,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.parent.opponent.petArray,r=[];for(let o=0;o<this.level;o++){let a=s[s.length-(o+1)];if(null==a)break;r.push(a)}for(let o of r)o.givePetEquipment(new mA),this.logService.createLog({message:`${this.name} gave ${o.name} Ink.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});this.superFaint(t,e)}}class RA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Egyptian Vulture",this.tier=5,this.pack="Golden",this.attack=7,this.health=4,this.initPet(a,s,r,o,l)}knockOut(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.petBehind();for(;null!=s&&null==s.faint;)s=s.petBehind();null!=s&&null!=s.faint&&(this.logService.createLog({message:`${this.name} activated ${s.name}'s ability.`,type:"ability",player:this.parent,tiger:i}),s.faint(t,!1))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class LA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Saiga Antelope",this.tier=4,this.pack="Golden",this.attack=4,this.health=3,this.initPet(a,s,r,o,l)}friendFaints(t,e,i){!this.alive||this.parent.gainTrumpets(this.level,this)}}class BA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sealion",this.tier=4,this.pack="Golden",this.attack=3,this.health=6,this.initPet(a,s,r,o,l)}}class VA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vaquita",this.tier=4,this.pack="Golden",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=Math.floor(.5*this.level*this.parent.trumpets);this.parent.gainTrumpets(s,this,i)}}class I_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smallest Slug",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=1,this.attack=1,this.initPet(a,s,r,o,l)}}class O_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smaller Slug",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=2,this.attack=2,this.initPet(a,s,r,o,l)}faint(t,e,i){this.abilityService.setSpawnEvent({callback:()=>{let s=new I_(this.logService,this.abilityService,this.parent,null,null,0,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Smallest Slug Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),super.superFaint(t,e)}}class $A extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Slug",this.tier=4,this.pack="Golden",this.attack=4,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){this.abilityService.setSpawnEvent({callback:()=>{let s=new O_(this.logService,this.abilityService,this.parent,null,null,0,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Smaller Slug Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),super.superFaint(t,e)}}class FA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Poison Dart Frog",this.tier=4,this.pack="Golden",this.attack=5,this.health=2,this.initPet(a,s,r,o,l)}friendAheadFaints(t,e,i){let s=this.parent.opponent.getHighestHealthPet(),r=s.pet;null!=r&&this.snipePet(r,4*this.level,s.random,i)}}class HA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Secretary Bird",this.tier=4,this.pack="Golden",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}friendFaints(t,e,i){if(i||this.abilityUses++,this.abilityUses%2==1)return;let s=this.petAhead;if(null==s)return;let r=3*this.level;s.increaseAttack(r),s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i}),this.superFriendFaints(t,e,i)}}class qA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Royal Flycatcher",this.tier=3,this.pack="Golden",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}enemySummoned(t,e,i){let s=this.parent.opponent.getRandomPet(null,null,!0);null!=s&&(this.snipePet(s,3*this.level,!0,i),this.superEnemySummoned(t,e,i))}}class GA extends E{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Falcon",this.tier=4,this.pack="Golden",this.attack=5,this.health=5,this.maxAbilityUses=3,this.initPet(l,r,o,a,h)}knockOut(t,e,i){this.abilityUses>=this.maxAbilityUses||(this.abilityService.setSpawnEvent({callback:()=>{let s=3*this.level,r=this.petService.createPet({attack:s,health:s,name:e.name,exp:this.minExpForLevel,equipment:null,mana:0},this.parent);this.logService.createLog({message:`${this.name} spawned ${r.name} ${s}/${s} Level ${this.level}`,type:"ability",player:this.parent,tiger:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack}),this.abilityUses++,super.superKnockOut(t,e,i))}}class UA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manta Ray",this.tier=4,this.pack="Golden",this.attack=5,this.health=6,this.initPet(a,s,r,o,l)}}class jA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Macaque",this.tier=5,this.pack="Golden",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=12*this.level,s=new T_(this.logService,this.abilityService,this.parent,i,i,0,this.minExpForLevel,(0,ve.cloneDeep)(this.equipment)),r=`${this.name} spawned Orangutang ${s.attack}/${s.health}`;null!=this.equipment&&(r+=` with ${this.equipment.name}`),r+=".",this.logService.createLog({message:r,type:"ability",player:this.parent,tiger:e}),this.parent.summonPet(s,this.position)&&this.abilityService.triggerSummonedEvents(s),this.superStartOfBattle(t,e)}}class WA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nyala",this.tier=5,this.pack="Golden",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){this.parent.gainTrumpets(8*this.level,this,i),this.superFaint(t,e)}}class zA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nurse Shark",this.tier=5,this.pack="Golden",this.attack=4,this.health=6,this.initPet(a,s,r,o,l)}faint(t,e,i){if(0==this.parent.trumpets)return;let s=3*Math.min(this.parent.trumpets,6),r=!1,o=(0,ve.shuffle)((0,ve.clone)(this.parent.opponent.petArray));for(let a=0;a<this.level;a++){let l=o[a];if(null==l)break;r=!0,this.snipePet(l,s,!0,e,i)}r&&this.parent.spendTrumpets(Math.min(this.parent.trumpets,6),this,i),this.superFaint(t,e)}}class KA extends E{constructor(t,e,i,s,r,o,a,l,h,f){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Beluga Whale",this.tier=5,this.pack="Golden",this.attack=3,this.health=8,this.initPet(l,r,o,a,h),this.belugaSwallowedPet=f}faint(t,e,i){null!=this.belugaSwallowedPet&&(this.abilityService.setSpawnEvent({callback:()=>{let s=this.petService.createPet({attack:null,equipment:null,exp:this.minExpForLevel,health:null,name:this.belugaSwallowedPet,mana:0},this.parent);this.logService.createLog({message:`${this.name} spawned ${s.name} Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),super.superFaint(t,e))}}class YA extends E{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Wolf",this.tier=5,this.pack="Golden",this.attack=4,this.health=4,this.initPet(l,r,o,a,h)}faint(t,e,i){let s={attack:3*this.level,health:2*this.level};for(let r=0;r<3;r++)this.abilityService.setSpawnEvent({callback:()=>{let o=this.petService.createPet({attack:s.attack,equipment:null,exp:this.minExpForLevel,health:s.health,name:"Pig",mana:0},this.parent);this.logService.createLog({message:`${this.name} spawned ${o.name} ${s.attack}/${s.health}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(o)},priority:this.attack});this.superFaint(t,e)}}class QA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Silver Fox",this.tier=5,this.pack="Golden",this.attack=3,this.health=6,this.initPet(a,s,r,o,l)}beforeAttack(t,e){this.logService.createLog({message:`${this.name} gained ${this.level} Gold.`,type:"ability",player:this.parent,tiger:e}),this.superBeforeAttack(t,e)}}class JA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fire Ant",this.tier=5,this.pack="Golden",this.attack=6,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=(0,ve.shuffle)(this.parent.petArray.filter(r=>r!=this));s.sort((r,o)=>o.tier-r.tier);for(let r=0;r<this.level;r++){let o=s[r];if(null==o)break;o.increaseAttack(this.attack),this.logService.createLog({message:`${this.name} gave ${o.name} ${this.attack} attack.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i})}super.superFaint(t,e)}}class ZA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockatoo",this.tier=4,this.pack="Golden",this.attack=4,this.health=2,this.initPet(a,s,r,o,l)}}class XA extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blue Ringed Octopus",this.tier=5,this.pack="Golden",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}}class e1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crane",this.tier=5,this.pack="Golden",this.attack=6,this.health=5,this.initPet(a,s,r,o,l)}friendHurt(t,e,i){e==this.petAhead&&(this.abilityUses>=this.maxAbilityUses||(this.petAhead.increaseAttack(5),this.logService.createLog({message:`${this.name} gave ${this.petAhead.name} 5 attack.`,type:"ability",player:this.parent,tiger:i}),this.petAhead.givePetEquipment(new jr),this.logService.createLog({message:`${this.name} gave ${this.petAhead.name} a Melon.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendHurt(t,e,i)))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class t1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Emu",this.tier=5,this.pack="Golden",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}emptyFrontSpace(t,e){let i=this.petAhead;if(!i||null!=this.parent.pet0)return;this.parent.pushPet(i,4),this.logService.createLog({message:`${this.name} pushed ${i.name} to the front.`,type:"ability",player:this.parent,tiger:e});let s=4*this.level;i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} health.`,type:"ability",player:this.parent,tiger:e})}}class i1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wildebeast",this.tier=6,this.pack="Golden",this.attack=8,this.health=6,this.initPet(a,s,r,o,l)}beforeAttack(t,e){this.parent.trumpets<4||this.abilityUses>=this.maxAbilityUses||(this.givePetEquipment(new Wr),this.logService.createLog({message:`${this.name} gave itself a Coconut.`,type:"ability",player:this.parent,tiger:e}),this.parent.spendTrumpets(4,this),this.abilityUses++)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class n1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Highland Cow",this.tier=6,this.pack="Golden",this.attack=4,this.health=12,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=Math.floor(this.health/3*this.level);this.parent.gainTrumpets(i,this)}}class s1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Catfish",this.tier=6,this.pack="Golden",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}}class r1 extends E{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Pteranodon",this.tier=6,this.pack="Golden",this.attack=5,this.health=3,this.initPet(l,r,o,a,h)}friendFaints(t,e,i){this.abilityUses>=this.maxAbilityUses||e.name!=this.name&&(!this.alive||(this.abilityService.setSpawnEvent({callback:()=>{let s=this.petService.createPet({attack:1,health:1,equipment:null,exp:e.exp,name:e.name,mana:0},this.parent);this.logService.createLog({message:`${this.name} summoned a 1/1 ${e.name} behind it.`,type:"ability",player:this.parent,randomEvent:!1,tiger:i}),this.parent.pushPet(this,1),this.parent.summonPet(s,this.position+1)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),this.abilityUses++))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class o1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Warthog",this.tier=6,this.pack="Golden",this.attack=9,this.health=6,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.level,r=Math.floor(this.attack/3);for(let o=0;o<r;o++){let a=this.parent.getRandomPet(null,!0,null,!0);if(null==a)break;a.increaseAttack(s),a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0})}}}class a1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cobra",this.tier=6,this.pack="Golden",this.attack=12,this.health=6,this.initPet(a,s,r,o,l)}friendAheadAttacks(t,e,i){let s=this.parent.opponent.getRandomPet(null,null,!0);if(null==s)return;let r=Math.floor(.2*this.attack*this.level);this.snipePet(s,r,!0,i)}}class l1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Grizzly Bear",this.tier=6,this.pack="Golden",this.attack=6,this.health=6,this.initPet(a,s,r,o,l)}friendAttacks(t,e){if(e||this.abilityUses++,this.abilityUses%5!=0)return;let i=(0,ve.shuffle)(this.parent.opponent.petArray),s=6*this.level;for(let r=0;r<2;r++){let o=i[r];if(null==o)break;this.snipePet(o,s,!0,e)}this.superFriendAttacks(t,e)}}class c1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="German Shephard",this.tier=6,this.pack="Golden",this.attack=10,this.health=4,this.initPet(a,s,r,o,l)}friendSummoned(t,e,i){let s=Math.floor(this.attack*this.level*.25);e.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i})}}class u1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bird of Paradise",this.tier=6,this.pack="Golden",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}}class h1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Oyster",this.tier=6,this.pack="Golden",this.attack=2,this.health=10,this.initPet(a,s,r,o,l)}}class d1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Marmoset",this.tier=1,this.pack="Star",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}}class f1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jerboa",this.tier=4,this.pack="Custom",this.attack=1,this.health=3,this.initPet(a,s,r,o,l)}}class p1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frilled Dragon",this.tier=1,this.pack="Custom",this.attack=1,this.health=1,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=0;for(let s of this.parent.petArray)s!==this&&null!=s.faint&&i++;i*=this.level,this.increaseAttack(i),this.increaseHealth(i),this.logService.createLog({message:`${this.name} gained ${i} attack and ${i} health.`,type:"ability",player:this.parent,tiger:e})}}class g1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wombat",this.tier=2,this.pack="Custom",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=xt(t,this.parent),s=[],r=0;for(let a of i.petArray)null!=a.faint&&(a.tier>r?(s=[a],r=a.tier):a.tier==r&&s.push(a));if(0==s.length)return;let o=s[Math.floor(Math.random()*s.length)];this.faint=o.faint.bind(this),this.logService.createLog({message:`${this.name} has copied ${o.name}'s faint ability as level ${this.level}.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.length>1}),this.superStartOfBattle(t,e)}}class m1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Aardvark",this.tier=3,this.pack="Custom",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}enemySummoned(t,e,i){let s=2*this.level;this.increaseAttack(s),this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i})}}class v1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bear",this.tier=3,this.pack="Custom",this.attack=3,this.health=5,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=[...this.getPetsAhead(this.level,!0),...this.getPetsBehind(this.level)];for(let r of s)r.givePetEquipment(new qp(this.logService,this.abilityService)),this.logService.createLog({message:`${this.name} gave ${r.name} Honey.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}}class y1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Emperor Tamarin",this.tier=3,this.pack="Custom",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}}class _1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Porcupine",this.tier=3,this.pack="Custom",this.attack=2,this.health=6,this.initPet(a,s,r,o,l)}hurt(t,e,i){this.snipePet(e,3*this.level)}}class b1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wasp",this.tier=3,this.pack="Custom",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}}class S1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dragonfly",this.tier=4,this.pack="Custom",this.attack=1,this.health=1,this.initPet(a,s,r,o,l)}}class E1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lynx",this.tier=4,this.pack="Custom",this.attack=5,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i;i=t.player==this.parent?t.opponet:t.player;let s=0;for(let o of this.parent.petArray)s+=o.level;let r=i.getRandomPets(this.level,null,null,!0);for(let o of r)this.snipePet(o,s,!0,e);super.superStartOfBattle(t,e)}}class w1 extends ge{constructor(){super(...arguments),this.name="Steak",this.equipmentClass="attack",this.power=20,this.originalPower=20,this.uses=1,this.originalUses=1}}class C1 extends ge{constructor(t,e,i){super(),this.logService=t,this.abilityService=e,this.petService=i,this.name="Mushroom",this.equipmentClass="faint",this.callback=s=>{let r=1;s instanceof Wt&&(r=1+s.level);for(let o=0;o<r;o++){let a=this.petService.createDefaultVersionOfPet(s,1,1);this.abilityService.setSpawnEvent({callback:()=>{let l="";o>0&&(l=" (Panther)"),this.logService.createLog({message:`${s.name} Spawned ${a.name} (level ${a.level}) (Mushroom)${l}`,type:"ability",player:s.parent}),s.parent.summonPet(a,s.savedPosition)&&this.abilityService.triggerSummonedEvents(a)},priority:-1})}}}}class k1 extends ge{constructor(){super(),this.name="Croissant",this.equipmentClass="shop"}}class N_ extends ge{constructor(){super(...arguments),this.name="Pie",this.equipmentClass="beforeStartOfBattle"}}class D1 extends ge{constructor(){super(...arguments),this.equipmentClass="defense",this.name="Lemon",this.power=7,this.originalPower=7,this.uses=2,this.originalUses=2}}class R_ extends ge{constructor(){super(...arguments),this.name="Pancakes",this.equipmentClass="beforeStartOfBattle"}}class P1 extends ge{constructor(){super(...arguments),this.name="Strawberry",this.equipmentClass="shop"}}class A1 extends ge{constructor(){super(...arguments),this.name="Cucumber",this.equipmentClass="shop"}}class T1 extends ge{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Banana",this.equipmentClass="faint",this.callback=i=>{let s=1;i instanceof Wt&&(s=1+i.level);for(let r=0;r<s;r++)this.abilityService.setSpawnEvent({callback:()=>{let o=new C_(this.logService,this.abilityService,i.parent,4,4,0,0);i.parent.summonPet(o,i.savedPosition);let a="";r>0&&(a=" (Panther)"),this.logService.createLog({message:`${i.name} Spawned Monkey (Banana)${a}`,type:"ability",player:i.parent}),this.abilityService.triggerSummonedEvents(o)},priority:-1})}}}class L_ extends ge{constructor(){super(...arguments),this.name="Cherry",this.equipmentClass="beforeStartOfBattle"}}class Kp extends ge{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Chocolate Cake",this.equipmentClass="beforeAttack",this.callback=i=>{this.logService.createLog({message:`${i.name} gained 3 exp. (Chocolate Cake)`,type:"equipment",player:i.parent}),i.increaseExp(3),i.health=0,this.logService.createLog({message:`${i.name} fainted. (Chocolate Cake)`,type:"equipment",player:i.parent}),null!=i.knockOut&&this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack})}}}class x1 extends ge{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Durian",this.equipmentClass="snipe",this.uses=1,this.originalUses=1,this.attackCallback=(i,s)=>{let r=s.parent.getHighestHealthPet(),o=r.pet;if(null==o)return void console.warn("durian didn't find target");let l=Math.max(1,Math.floor(o.health*(1-.33)));o.health=l,this.logService.createLog({message:`${this.name} reduced ${o.name} health by 33% (${l})`,type:"ability",player:i.parent,randomEvent:r.random})}}}class B_ extends ge{constructor(t){super(),this.logService=t,this.name="Eggplant",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.originalStartOfBattle)||void 0===i?void 0:i.bind(e);e.startOfBattle=r=>{null!=s&&s(r);let o=1;e instanceof Wt&&(o=1+e.level);for(let a=0;a<o;a++){let l=e.parent.opponent,h=l.getPet(e.position);if(null==h)return;this.logService.createLog({message:`${e.name} pushed ${h.name} 1 space forward. (Eggplant)`,type:"equipment",player:e.parent}),l.pushPet(h,1)}}}}}class V_ extends ge{constructor(t){super(),this.logService=t,this.name="Pita Bread",this.power=0,this.equipmentClass="hurt",this.callback=e=>{var i;let s=null===(i=e.hurt)||void 0===i?void 0:i.bind(e);e.hurt=r=>{var o;if(null!=s&&s(r),"Pita Bread"!=(null===(o=e.equipment)||void 0===o?void 0:o.name)||!e.alive)return;let a=1;e instanceof Wt&&(a=1+e.level);let l=15*a;e.increaseHealth(l);let h=`${e.name} gained ${l} health. (Pita Bread)`;h+=".",this.logService.createLog({message:h,type:"equipment",player:e.parent,pantherMultiplier:a}),e.givePetEquipment(null)}}}}class M1 extends ge{constructor(){super(...arguments),this.name="Potato",this.equipmentClass="shield-snipe",this.power=10,this.uses=2,this.originalUses=2,this.originalPower=10}}class I1 extends ge{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Tomato",this.equipmentClass="snipe",this.uses=1,this.originalUses=1,this.attackCallback=(i,s)=>{let r=s.parent.getLastPet();if(null==r)return void console.warn("tomato didn't find target");let o=i.calculateDamgae(r,i.getManticoreMult(),8,!0),a=o.defenseEquipment,l=o.damage;r.health-=l;let h=`${i.name} sniped ${r.name} for ${l}`;if(i instanceof Wt&&(h+=" (Panther)"),null!=a){r.useDefenseEquipment();let f=Math.abs(a.power),m="-";a.power<0&&(m="+"),h+=` (${a.name} ${m}${f})`}this.logService.createLog({message:h+=" (Tomato).",type:"attack",player:i.parent}),null!=r.hurt&&this.abilityService.setHurtEvent({callback:r.hurt.bind(r),priority:r.attack,player:r.parent,callbackPet:s}),r.health<1&&null!=i.knockOut&&this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack,callbackPet:r}),r.alive&&this.abilityService.triggerFriendHurtEvents(s.parent,s),r.alive&&l>0&&this.abilityService.triggerEnemyHurtEvents(i.parent,r)}}}class O1 extends ge{constructor(){super(...arguments),this.name="Carrot",this.equipmentClass="shop"}}class N1 extends ge{constructor(){super(...arguments),this.name="Grapes",this.equipmentClass="shop"}}class R1 extends ge{constructor(t,e,i,s){super(),this.logService=t,this.abilityService=e,this.petSerivce=i,this.gameService=s,this.name="Popcorn",this.equipmentClass="faint",this.callback=r=>{let o=1;r instanceof Wt&&(o=1+r.level);for(let a=0;a<o;a++)this.abilityService.setSpawnEvent({callback:()=>{let l;l=r.parent==this.gameService.gameApi.player?this.gameService.gameApi.playerPetPool:this.gameService.gameApi.opponentPetPool;let h=l.get(r.tier),f=h[Math.floor(Math.random()*h.length)],m=this.petSerivce.createPet({attack:null,equipment:null,exp:0,health:null,name:f,mana:0},r.parent),y="";a>0&&(y=" (Panther)"),this.logService.createLog({message:`${r.name} Spawned ${m.name} (Popcorn)${y}`,type:"ability",player:r.parent,randomEvent:!0}),r.parent.summonPet(m,r.savedPosition),this.abilityService.triggerSummonedEvents(m)},priority:-1})}}}class L1 extends ge{constructor(){super(),this.name="Blueberry",this.equipmentClass="target"}}class B1 extends ge{constructor(){super(),this.name="Donut",this.equipmentClass="target"}}class V1 extends ge{constructor(){super(),this.name="Pineapple",this.equipmentClass="attack-snipe",this.power=2}}class $1 extends ge{constructor(){super(...arguments),this.name="Fig",this.equipmentClass="startOfBattle",this.callback=t=>{var e;let i=null===(e=t.originalStartOfBattle)||void 0===e?void 0:e.bind(t);t.startOfBattle=s=>{null!=i&&i(s);let r=1;t instanceof Wt&&(r=t.level+1);for(let o=0;o<r;o++){let a=t.parent.opponent.getLowestHealthPet();if(!a.pet)return;t.snipePet(a.pet,4,a.random,!1,!1,!0)}}}}}class $_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Monty",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=1,this.attack=2,this.initPet(a,s,r,o,l)}}class F1 extends ge{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Easter Egg",this.equipmentClass="faint",this.callback=i=>{let s=1;i instanceof Wt&&(s=1+i.level);for(let r=0;r<s;r++)this.abilityService.setSpawnEvent({callback:()=>{let o=new $_(this.logService,this.abilityService,i.parent,null,null,0,0);i.parent.summonPet(o,i.savedPosition);let a="";r>0&&(a=" (Panther)"),this.logService.createLog({message:`${i.name} Spawned Monty (Easter Egg)${a}`,type:"ability",player:i.parent}),this.abilityService.triggerSummonedEvents(o)},priority:-1})}}}class F_ extends ge{constructor(t){super(),this.logService=t,this.name="Fairy Dust",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{let i=r=>{null==r.parent.pet0&&(this.logService.createLog({message:`${r.name} pushed itself to the front (Fairy Dust).`,type:"ability",player:r.parent}),r.parent.pushPetToFront(r,!0))},s=e.emptyFrontSpace;e.emptyFrontSpace=(r,o)=>{null!=s&&s(r,o),i(e)}}}}class H_ extends ge{constructor(t){super(),this.logService=t,this.name="Gingerbread Man",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{this.logService.createLog({message:`${e.name} increased gained 1 experience (Gingerbread Man).`,type:"equipment",player:e.parent}),e.increaseExp(1)}}}class H1 extends ge{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Golden Egg",this.equipmentClass="snipe",this.uses=1,this.originalUses=1,this.attackCallback=(i,s)=>{let r=s.parent.petArray,o=null;for(let m of r)if(m.alive){o=m;break}if(null==o)return void console.warn("egg didn't find target");let a=i.calculateDamgae(o,i.getManticoreMult(),5,!0),l=a.defenseEquipment,h=a.damage;o.health-=h;let f=`${i.name} sniped ${o.name} for ${h}`;if(i instanceof Wt&&(f+=" (Panther)"),null!=l){o.useDefenseEquipment();let m=Math.abs(l.power),y="-";l.power<0&&(y="+"),f+=` (${l.name} ${y}${m})`}this.logService.createLog({message:f+=" (Golden Egg).",type:"attack",player:i.parent}),null!=o.hurt&&this.abilityService.setHurtEvent({callback:o.hurt.bind(o),priority:o.attack,player:o.parent,callbackPet:s}),o.health<1&&null!=i.knockOut&&this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack,callbackPet:o}),o.alive&&this.abilityService.triggerFriendHurtEvents(s.parent,s),o.alive&&h>0&&this.abilityService.triggerEnemyHurtEvents(i.parent,o)}}}class q_ extends ge{constructor(t){super(),this.logService=t,this.name="Health Potion",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{let i=3*e.level;this.logService.createLog({message:`${e.name} gained ${i} health (Love Potion).`,type:"equipment",player:e.parent}),e.increaseHealth(i)}}}class G_ extends ge{constructor(t){super(),this.logService=t,this.name="Love Potion",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{let i=e.petAhead;null!=i&&(this.logService.createLog({message:`${e.name} gave ${i.name} 2 health (Love Potion).`,type:"equipment",player:e.parent}),i.increaseHealth(2))}}}class q1 extends ge{constructor(){super(),this.name="Magic Beans",this.equipmentClass="shop"}}class Sh extends ge{constructor(t){super(),this.logService=t,this.name="Rambutan",this.equipmentClass="beforeAttack",this.callback=e=>{this.logService.createLog({message:`${e.name} gained 3 mana. (Rambutan)`,type:"equipment",player:e.parent}),e.increaseMana(3)}}}class G1 extends E{constructor(t,e,i,s,r,o,a,l,h,f){super(t,e,r),this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s,this.name="Seagull",this.tier=4,this.pack="Custom",this.attack=4,this.health=3,this.initPet(h,o,a,l,f)}friendSummoned(t,e,i){this.abilityUses>=this.maxAbilityUses||null!=this.equipment&&(e.givePetEquipment(this.getInstanceOfAllEquipment().get(this.equipment.name)),this.logService.createLog({message:`${this.name} gave ${e.name} a ${this.equipment.name}`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendSummoned(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}getInstanceOfAllEquipment(){let t=new Map;return t.set("Garlic",new bh),t.set("Meat Bone",new D_),t.set("Steak",new w1),t.set("Melon",new jr),t.set("Honey",new qp(this.logService,this.abilityService)),t.set("Chili",new yh(this.logService,this.abilityService)),t.set("Mushroom",new C1(this.logService,this.abilityService,this.petService)),t.set("Coconut",new Wr),t.set("Peanut",new qa),t.set("Croissant",new k1),t.set("Rice",new Gp),t.set("Egg",new Up(this.logService,this.abilityService)),t.set("Salt",new Lp),t.set("Pie",new N_),t.set("Skewer",new zp(this.logService)),t.set("Lemon",new D1),t.set("Pancakes",new R_),t.set("Strawberry",new P1),t.set("Cucumber",new A1),t.set("Cheese",new Bp),t.set("Grapes",new N1),t.set("Carrot",new O1),t.set("Pepper",new Vp),t.set("Popcorn",new R1(this.logService,this.abilityService,this.petService,this.gameService)),t.set("Cherry",new L_),t.set("Chocolate Cake",new Kp(this.logService,this.abilityService)),t.set("Eggplant",new B_(this.logService)),t.set("Potato",new M1),t.set("Banana",new T1(this.logService,this.abilityService)),t.set("Onion",new m_(this.logService)),t.set("Pita Bread",new V_(this.logService)),t.set("Tomato",new I1(this.logService,this.abilityService)),t.set("Durian",new x1(this.logService,this.abilityService)),t.set("Fortune Cookie",new $p),t.set("Blueberry",new L1),t.set("Donut",new B1),t.set("Pineapple",new V1),t.set("Fig",new $1),t.set("Rambutan",new Sh(this.logService)),t.set("Love Potion",new G_(this.logService)),t.set("Fairy Dust",new F_(this.logService)),t.set("Gingerbread Man",new H_(this.logService)),t.set("Easter Egg",new F1(this.logService,this.abilityService)),t.set("Health Potion",new q_(this.logService)),t.set("Magic Beans",new q1),t.set("Golden Egg",new H1(this.logService,this.abilityService)),t}}class Yp extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Alpaca",this.tier=5,this.pack="Custom",this.attack=3,this.health=7,this.initPet(a,s,r,o,l)}friendSummoned(t,e,i){e instanceof Yp||this.abilityUses>=this.maxAbilityUses||(e.increaseExp(1),this.logService.createLog({message:`${this.name} gave ${e.name} 1 exp.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendSummoned(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class U1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hyena",this.tier=5,this.pack="Custom",this.attack=5,this.health=5,this.initPet(a,s,r,o,l)}startOfBattle(t,e){switch(this.level){case 1:this.level1Ability(t,e);break;case 2:this.level2Ability(t,e);break;case 3:this.level3Ability(t,e)}}level1Ability(t,e){let i=[...t.player.petArray,...t.opponet.petArray];for(let s of i){let r=s.health;s.health=s.attack,s.attack=r}this.logService.createLog({message:`${this.name} swapped all pets attack and health.`,type:"ability",player:this.parent,tiger:e})}level2Ability(t,e){this.shufflePets(t.player),this.shufflePets(t.opponet),this.logService.createLog({message:`${this.name} shuffled positions of all pets.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0})}level3Ability(t,e){this.level1Ability(t,e),this.level2Ability(t,e)}shufflePets(t){let e=t.petArray;Rp(e);for(let i=0;i<e.length;i++)t[`pet${i}`]=e[i]}}class j1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Moose",this.tier=5,this.pack="Custom",this.attack=5,this.health=6,this.initPet(a,s,r,o,l)}}class W1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lioness",this.tier=6,this.pack="Custom",this.attack=4,this.health=5,this.initPet(a,s,r,o,l)}}class z1 extends E{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Tapir",this.tier=6,this.pack="Custom",this.attack=4,this.health=3,this.initPet(l,r,o,a,h)}faint(t,e,i){let s=this.parent.petArray.filter(o=>"Tapir"==o.name),r=this.parent.getRandomPet(s,!0);null!=r&&(r=(0,ve.clone)(r),this.abilityService.setSpawnEvent({callback:()=>{r.exp=this.minExpForLevel;let o=this.petService.createDefaultVersionOfPet(r);this.logService.createLog({message:`${this.name} spawned a ${o.name} level ${o.level}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0}),this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack}))}}class K1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Walrus",this.tier=6,this.pack="Custom",this.attack=7,this.health=5,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.parent.getRandomPets(this.level,null,!0,null);for(let r of s)r.givePetEquipment(new qa),this.logService.createLog({message:`${this.name} gave ${r.name} a Peanut.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0})}}class Y1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="White Tiger",this.tier=6,this.pack="Custom",this.attack=4,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=[],s=this.petBehind();for(;s&&i.length<this.level;)i.push(s),s=s.petBehind();for(let r of i)this.logService.createLog({message:`${this.name} gave ${r.name} +3 experience.`,type:"ability",player:this.parent,tiger:e}),r.increaseExp(3)}}class Q1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Opossum",this.tier=1,this.pack="Golden",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}}class J1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kiwi",this.tier=1,this.pack="Star",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}}class Z1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pigeon",this.tier=1,this.pack="Turtle",this.attack=3,this.health=1,this.initPet(a,s,r,o,l)}}class X1 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hare",this.tier=3,this.pack="Puppy",this.health=3,this.attack=4,this.initPet(a,s,r,o,l)}beforeAttack(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=this.parent.opponent.petArray,s=[];for(let a of i)a.equipment&&s.push(a);if(0==s.length)return;let r=s[Math.floor(Math.random()*s.length)],o=(0,ve.cloneDeep)(r.equipment);o.reset(),this.logService.createLog({message:`${this.name} copied ${o.name} from ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.length>0}),this.givePetEquipment(o),this.abilityUses++,this.superBeforeAttack(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class eT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Baku",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}}class tT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Axehandle Hound",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=1,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.opponent.petArray,s=new Map;for(let a of i)s.has(a.name)?s.get(a.name).push(a):s.set(a.name,[a]);let r=[];for(let[a,l]of s)l.length>1&&r.push(...l);if(0==r.length)return;let o=r[Math.floor(Math.random()*r.length)];this.logService.createLog({message:`${this.name} sniped ${o.name} for ${10*this.level} damage`,type:"ability",player:this.parent,tiger:e}),this.snipePet(o,10*this.level,!0,e),this.superStartOfBattle(t,e)}}class iT extends ge{constructor(){super(...arguments),this.name="Spooked",this.equipmentClass="ailment-defense",this.power=-1,this.originalPower=-1}}class nT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Barghest",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.opponent.petArray;i.reverse();let s=[],r=this.level;for(let o of i){if(s.length>=r)break;null==o.equipment&&s.push(o)}for(let o of s)this.logService.createLog({message:`${this.name} gave ${o.name} Spooked`,type:"ability",player:this.parent,tiger:e}),o.givePetEquipment(new iT);this.superStartOfBattle(t,e)}}class sT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tsuchinoko",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){this.parent.pushPetToFront(this,!0),this.logService.createLog({message:`${this.name} pushed itself to the front and gained ${this.level} experience.`,type:"ability",player:this.parent,tiger:e}),this.increaseExp(this.level),this.superStartOfBattle(t,e)}}class rT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Murmel",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}anyoneLevelUp(t,e,i){if(e.parent!=this.parent)return;let s={attack:this.level,health:2*this.level};this.logService.createLog({message:`${this.name} gained ${s.attack} attack ${s.health} health.`,type:"ability",player:this.parent,tiger:i}),this.increaseAttack(s.attack),this.increaseHealth(s.health),this.superAnyoneLevelUp(t,e,i)}}class oT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Alchemedes",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.petAhead;null!=i&&(this.logService.createLog({message:`${this.name} gave ${i.name} ${this.level} mana.`,type:"ability",player:this.parent,randomEvent:!1}),i.increaseMana(this.level),this.superStartOfBattle(t,e))}}class aT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Warf",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}gainedMana(t,e){let i=this.parent.opponent.getRandomPet([],null,!0);null!=i&&(this.snipePet(i,this.level,!0,e),this.superGainedMana(t,e))}}class lT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bunyip",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=1,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let s;s=this.parent==t.player?t.playerRollAmount:t.opponentRollAmount;let r=Math.min(3,s);this.logService.createLog({message:`${this.name} gained ${this.level*r} health.`,type:"ability",player:this.parent,tiger:e}),this.increaseHealth(this.level*r),this.superStartOfBattle(t,e)}}class U_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="CrackedEgg",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=4,this.health=2,this.initPet(a,s,r,o,l)}}class cT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sneaky Egg",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i={attack:4*this.level,health:2*this.level};this.health=0,this.abilityService.setSpawnEvent({callback:()=>{let s=new U_(this.logService,this.abilityService,this.parent,i.health,i.attack,0);this.logService.createLog({message:`${this.name} spawned a ${i.attack}/${i.health} Cracked Egg`,type:"ability",player:this.parent,tiger:e}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),this.superStartOfBattle(t,e)}}class uT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cuddle Toad",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}}class hT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ghost Kitten",this.tier=2,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}}class dT extends ge{constructor(){super(...arguments),this.name="Cold",this.equipmentClass="ailment-defense",this.power=-5,this.originalPower=-5,this.uses=1,this.originalUses=1}}class fT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frost Wolf",this.tier=2,this.pack="Unicorn",this.attack=1,this.health=3,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.parent.opponent.petArray,r=[];for(let o=0;o<this.level;o++)s[o]&&r.push(s[o]);for(let o of r)this.logService.createLog({message:`${this.name} gave ${o.name} Cold`,type:"ability",player:this.parent,tiger:e}),o.givePetEquipment(new dT);this.superFaint(t,e)}}class pT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mothman",this.tier=2,this.pack="Unicorn",this.attack=3,this.health=2,this.initPet(a,s,r,o,l)}faint(t,e,i){let r=this.parent.opponent.petArray.filter(o=>null!=o.equipment&&("ailment-attack"==o.equipment.equipmentClass||"ailment-defense"==o.equipment.equipmentClass||"ailment-other"==o.equipment.equipmentClass));Rp(r);for(let o=0;o<this.level;o++)r[o]&&this.snipePet(r[o],2,!0,e);this.superFaint(t,e)}}class gT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Drop Bear",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=2,this.initPet(a,s,r,o,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;this.logService.createLog({message:`${this.name} pushed itself to the front.`,type:"ability",player:this.parent,tiger:e}),this.parent.pushPetToFront(this,!0);let i=3*this.level,s=this.parent.opponent.getLastPet();this.snipePet(s,i,!1,e)}}class mT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jackalope",this.tier=2,this.pack="Unicorn",this.attack=1,this.health=3,this.initPet(a,s,r,o,l)}friendJumped(t,e,i){let s=this.parent.opponent.getRandomPet();null!=s&&(this.snipePet(s,2*this.level,!0,i),this.superFriendJumped(t,e,i))}}class vT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lucky Cat",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}anyoneLevelUp(t,e,i){if(e!=this)return;let s=2;3==this.level&&(s=4),this.logService.createLog({message:`${this.name} gained ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.increaseAttack(s),this.increaseHealth(s),this.superAnyoneLevelUp(t,e,i)}}class yT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ogopogo",this.tier=2,this.pack="Unicorn",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.furthestUpPet;this.logService.createLog({message:`${this.name} gave ${i.name} ${this.level} exp.`,type:"ability",player:this.parent,tiger:e}),i.increaseExp(this.level),this.superStartOfBattle(t,e)}}class _T extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Thunderbird",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.furthestUpPet,s=3*this.level;this.logService.createLog({message:`${this.name} gave ${i.name} ${s} mana.`,type:"ability",player:this.parent,tiger:e}),i.increaseMana(s),this.superStartOfBattle(t,e)}}class bT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gargoyle",this.tier=2,this.pack="Unicorn",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.mana*this.level,r=this.petBehind();null!=r&&(this.logService.createLog({message:`${this.name} spent ${this.mana} mana and gave ${s} health to ${r.name}.`,type:"ability",player:this.parent,tiger:e}),r.increaseHealth(s),this.mana=0,this.superFaint(t,e))}}class ST extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bigfoot",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}}class ET extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Skeleton Dog",this.tier=3,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=this.parent.getRandomPets(this.level,[this]);for(let r of s)this.logService.createLog({message:`${this.name} gave 1 attack and 1 health to ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),r.increaseAttack(1),r.increaseHealth(1);this.superFaint(t,e)}}class wT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mandrake",this.tier=3,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let s=this.parent.opponent.petArray.filter(o=>o.tier<=2*this.level&&o.faintPet);Rp(s),s.sort((o,a)=>a.tier-o.tier);let r=s[0];this.logService.createLog({message:`${this.name} made ${r.name} Dazed.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),r.givePetEquipment(new p_),this.superFaint(t,e)}}class CT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fur-Bearing Trout",this.tier=3,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=[],r=this;for(;s.length<this.level;){let o=r.petBehind();if(null==o)break;o.equipment instanceof Sh||s.push(o),r=o}if(0!==s.length){for(let o of s)this.logService.createLog({message:`${this.name} gave ${o.name} a Rambutan.`,type:"ability",player:this.parent,tiger:e}),o.givePetEquipment(new Sh(this.logService));this.superFaint(t,e)}}}class kT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mana Hound",this.tier=3,this.pack="Unicorn",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let s;s=this.parent==t.player?t.playerRollAmount:t.opponentRollAmount,s=Math.min(s,5);let r=this.petAhead;if(null==r)return;let o=s*this.level;this.logService.createLog({message:`${this.name} gave ${r.name} ${o} mana.`,type:"ability",player:this.parent,tiger:e}),r.increaseMana(o),this.superStartOfBattle(t,e)}}class DT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Calygreyhound",this.tier=3,this.pack="Unicorn",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){if(0==this.mana)return;let s=this.parent.opponent.getHighestHealthPet(),r=this.parent.opponent.getHighestHealthPet(s.pet),o=[];null!=s.pet&&o.push(s.pet),null!=r.pet&&o.push(r.pet);let a=this.level*this.mana;for(let l of o)l.health=Math.max(1,l.health-a),this.logService.createLog({message:`${this.name} reduced ${l.name}'s health by ${a} (${l.health}).`,type:"ability",player:this.parent,tiger:e});this.mana=0,this.superFaint(t,e)}}class PT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Brain Cramp",this.tier=3,this.pack="Unicorn",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}emptyFrontSpace(t,e){let i=2*this.level;this.logService.createLog({message:`${this.name} pushed itself to the front, gained ${i} attack and gained Melon.`,type:"ability",player:this.parent,tiger:e}),this.parent.pushPetToFront(this,!0),this.increaseAttack(i),this.givePetEquipment(new jr)}}class AT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Minotaur",this.tier=3,this.pack="Unicorn",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}friendAheadAttacks(t,e,i){let s=this.level*e.level;this.logService.createLog({message:`${this.name} gained ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.increaseAttack(s),this.increaseHealth(s),this.superFriendAheadAttacks(t,e,i)}}class TT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wyvern",this.tier=3,this.pack="Unicorn",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}}class xT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ouroboros",this.tier=3,this.pack="Unicorn",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}}class MT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Griffin",this.tier=3,this.pack="Unicorn",this.attack=4,this.health=3,this.initPet(a,s,r,o,l)}}class IT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kraken",this.tier=4,this.pack="Unicorn",this.attack=3,this.health=6,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=[...this.parent.petArray,...this.parent.opponent.petArray];i=i.filter(s=>s.alive&&s!==this);for(let s of i){let r=1==this.level?.2:2==this.level?.4:.6,o=Math.max(1,Math.floor(s.health*(1-r)));s.health=o,this.logService.createLog({message:`${this.name} reduced ${s.name} health by ${(100*r).toFixed(0)}% (${o})`,type:"ability",player:this.parent,tiger:e})}this.superStartOfBattle(t,e)}}class OT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Visitor",this.tier=4,this.pack="Unicorn",this.attack=5,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=[...this.getPetsAhead(this.level,!0),...this.getPetsBehind(this.level)];for(let r of s)r.givePetEquipment(new Fp),this.logService.createLog({message:`${this.name} made ${r.name} Exposed.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});this.superFaint(t,e)}}class NT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vampire Bat",this.tier=5,this.pack="Unicorn",this.attack=2,this.health=5,this.maxAbilityUses=2,this.abilityUses=0,this.initPet(a,s,r,o,l)}enemyGainedAilment(t,e,i){if(console.log("enemyGainedAilment"),this.abilityUses>=this.maxAbilityUses)return;let r=e.health,o=this.snipePet(e,3*this.level,!1,i),a=Math.min(o,r);this.logService.createLog({message:`${this.name} gained ${a} health.`,type:"ability",player:this.parent,tiger:i}),this.increaseHealth(a),this.abilityUses++,this.superEnemyGainedAilment(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class RT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tiger Bug",this.tier=4,this.pack="Unicorn",this.attack=4,this.health=4,this.initPet(a,s,r,o,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;this.logService.createLog({message:`${this.name} pushed itself to the front.`,type:"ability",player:this.parent,tiger:e}),this.parent.pushPetToFront(this,!0);let i=this.parent.opponent.furthestUpPet,s=null==i?void 0:i.petBehind(),r=[];i&&r.push(i),s&&r.push(s);let o=3*this.level;for(let a of r)this.snipePet(a,o,!1,e)}}class LT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tatzelwurm",this.tier=4,this.pack="Unicorn",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}friendAheadFaints(t,e,i){let s=e.level*this.level*2,r=this.parent.opponent.getRandomPet();this.snipePet(r,s,!0,i),this.superFriendAheadFaints(t,e,i)}}class BT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cyclops",this.tier=4,this.pack="Unicorn",this.attack=4,this.health=5,this.initPet(a,s,r,o,l)}anyoneLevelUp(t,e,i){this.abilityUses>=this.maxAbilityUses||e.parent==this.parent&&(this.logService.createLog({message:`${this.name} gave ${e.name} 1 exp and 2 mana.`,type:"ability",player:this.parent,tiger:i}),e.increaseExp(1),e.increaseMana(2),this.abilityUses++,this.superAnyoneLevelUp(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class j_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chim-Goat",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}}class W_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chim-Lion",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}}class z_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chim-Snake",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}}class VT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chimera",this.tier=4,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}faint(t,e,i){if(0==this.mana)return;let s={attack:this.mana,health:this.mana};this.logService.createLog({message:`${this.name} spent ${this.mana} mana.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.abilityService.setSpawnEvent({callback:()=>{let r=new W_(this.logService,this.abilityService,this.parent,s.health,s.attack);this.logService.createLog({message:`${this.name} spawned a ${r.name} ${s.attack}/${s.health}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack}),1!=this.level?(this.abilityService.setSpawnEvent({callback:()=>{let r=new j_(this.logService,this.abilityService,this.parent,s.health,s.attack);this.logService.createLog({message:`${this.name} spawned a ${r.name} ${s.attack}/${s.health}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack-1}),2!=this.level?(this.abilityService.setSpawnEvent({callback:()=>{let r=new z_(this.logService,this.abilityService,this.parent,s.health,s.attack);this.logService.createLog({message:`${this.name} spawned a ${r.name} ${s.attack}/${s.health}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerSummonedEvents(r)},priority:this.attack-2}),this.mana=0):this.mana=0):this.mana=0}}class $T extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Roc",this.tier=4,this.pack="Unicorn",this.attack=4,this.health=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=[],s=this.petAhead;for(;s;)i.push(s),s=s.petAhead;if(0==i.length)return;let r=this.parent.petArray.filter(o=>o==this||!i.includes(o));for(let o=0;o<3*this.level;o++){let a=this.parent.getRandomPet(r,!0);this.logService.createLog({message:`${this.name} gave ${a.name} 2 mana.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),a.increaseMana(2)}this.superStartOfBattle(t,e)}}class FT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Worm of Sand",this.tier=4,this.pack="Unicorn",this.attack=3,this.health=5,this.initPet(a,s,r,o,l)}}class HT extends E{constructor(t,e,i,s,r,o,a,l,h,f,m,y){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Abomination",this.tier=4,this.pack="Unicorn",this.attack=6,this.health=3,this.initPet(l,r,o,a,h),this.abominationSwallowedPet1=f,this.abominationSwallowedPet2=m,this.abominationSwallowedPet3=y}startOfBattle(t,e){let i=[],s=!1,r=!1,o=!1;for(let a=0;a<this.level;a++)null==this.abominationSwallowedPet1||s?null==this.abominationSwallowedPet2||r?null!=this.abominationSwallowedPet3&&!o&&(i.push(this.abominationSwallowedPet3),o=!0):(i.push(this.abominationSwallowedPet2),r=!0):(i.push(this.abominationSwallowedPet1),s=!0);for(let a of i)this.logService.createLog({message:`${this.name} used swallowed ${a}'s Ability.`,type:"ability",player:this.parent,tiger:e}),this.petService.createPet({attack:null,health:null,mana:null,equipment:null,name:a,exp:0},this.parent).originalStartOfBattle.bind(this)(t,e)}}class qT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Red Dragon",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=7,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.opponent.petArray;i.reverse();let s=[];for(let r of i)if(!(r.equipment instanceof dc)){if(s.length>=this.level)break;s.push(r)}for(let r of s)this.logService.createLog({message:`${this.name} gave ${r.name} Crisp.`,type:"ability",player:this.parent,tiger:e}),r.givePetEquipment(new dc);this.superStartOfBattle(t,e)}}class GT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Unicorn",this.tier=4,this.pack="Unicorn",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}friendGainedAilment(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=2*this.level;this.logService.createLog({message:`${this.name} removed ailment from ${e.name}.`,type:"ability",player:this.parent}),this.logService.createLog({message:`${this.name} gave ${e.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent}),e.givePetEquipment(null),e.increaseAttack(i),e.increaseHealth(i),this.abilityUses++}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class UT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Loveland Frogman",this.tier=5,this.pack="Unicorn",this.attack=1,this.health=5,this.initPet(a,s,r,o,l)}friendJumped(t,e,i){let s={attack:2*this.level,health:2*this.level};this.logService.createLog({message:`${this.name} gave ${e.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent}),e.increaseAttack(s.attack),e.increaseHealth(s.health),this.superFriendJumped(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class K_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Salmon of Knowledge",this.tier=5,this.pack="Unicorn",this.attack=1,this.health=5,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=2*this.level,s=this.parent.petArray,r=this.parent.opponent.petArray,o=[];null!=s[0]&&o.push(s[0]),null!=s[1]&&o.push(s[1]),null!=r[0]&&o.push(r[0]),null!=r[1]&&o.push(r[1]);for(let a of o)a!=this&&(this.logService.createLog({message:`${this.name} gave ${a.name} ${i} exp.`,type:"ability",player:this.parent}),a.increaseExp(i));this.superStartOfBattle(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class jT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jersey Devil",this.tier=5,this.pack="Unicorn",this.attack=5,this.health=4,this.initPet(a,s,r,o,l)}friendSummoned(t,e,i){let r=this.parent===t.player?t.playerLevel3Sold:t.opponentLevel3Sold;r=Math.min(r,5);let o=this.level*r;this.logService.createLog({message:`${this.name} gave ${e.name} ${o} attack and ${o} health`,type:"ability",player:this.parent,tiger:i}),e.increaseAttack(o),e.increaseHealth(o),this.superFriendSummoned(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class WT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pixiu",this.tier=5,this.pack="Unicorn",this.attack=4,this.health=5,this.initPet(a,s,r,o,l)}faint(t,e,i){this.mana<6||(this.logService.createLog({message:`${this.name} spent 6 mana and gained ${3*this.level} gold for next turn.`,type:"ability",player:this.parent,tiger:e}),this.mana-=6,this.superFaint(t,e))}}class zT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kitsune",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=7,this.initPet(a,s,r,o,l)}friendFaints(t,e,i){if(null==this.petAhead)return;let s=e.mana;if(0==s)return;e.mana=0;let r=this.petAhead;this.logService.createLog({message:`${this.name} took ${s} mana from ${e.name} and gave it to ${r.name} +${2*this.level}.`,type:"ability",player:this.parent,tiger:i}),r.increaseMana(s+2*this.level)}}class Y_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nessie?",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=1,this.attack=1,this.initPet(a,s,r,o,l)}}class KT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nessie",this.tier=5,this.pack="Unicorn",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}faint(t,e,i){let r=this.parent===t.player?t.playerRollAmount:t.opponentRollAmount;r=Math.min(r,7);let o=Math.min(50,r*this.level),a=Math.min(50,r*this.level*2);this.abilityService.setSpawnEvent({callback:()=>{let l=new Y_(this.logService,this.abilityService,this.parent,a,o,0);this.logService.createLog({message:`${this.name} spawned a Nessie? ${o}/${a}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(l,this.savedPosition)&&this.abilityService.triggerSummonedEvents(l)},priority:this.attack}),super.superFaint(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class YT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bad Dog",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(a,s,r,o,l)}}class QT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Werewolf",this.tier=5,this.pack="Unicorn",this.attack=7,this.health=7,this.initPet(a,s,r,o,l)}startOfBattle(t,e){if(t.day)return;let i=this.level,s=Math.min(50,this.attack+this.attack*i),r=Math.min(50,this.health+this.health*i);this.logService.createLog({message:`${this.name} increased its stats by ${100*i}% (${s}/${r}).`,type:"ability",player:this.parent,tiger:e}),this.increaseAttack(this.attack*i),this.increaseHealth(this.health*i)}}class JT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manticore",this.tier=6,this.pack="Unicorn",this.attack=7,this.health=4,this.initPet(a,s,r,o,l)}}class Q_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Young Phoenix",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=6,this.attack=6,this.initPet(a,s,r,o,l)}}class ZT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Phoenix",this.tier=6,this.pack="Unicorn",this.attack=8,this.health=8,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=[...this.parent.petArray,...this.parent.opponent.petArray];s=s.filter(a=>a!=this&&a.alive),Rp(s);let r=3*this.level,o=0;if(s.length>0)for(let a of s){if(o>=r)break;this.logService.createLog({message:`${this.name} gave ${a.name} Crisp.`,type:"ability",randomEvent:s.length>r,tiger:e,player:this.parent}),a.givePetEquipment(new dc),o++}this.abilityService.setSpawnEvent({callback:()=>{let a=6*this.level,l=new Q_(this.logService,this.abilityService,this.parent,a,a,0);this.logService.createLog({message:`${this.name} spawned a Young Phoenix (${a}/${a}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(l,this.savedPosition)&&this.abilityService.triggerSummonedEvents(l)},priority:this.attack}),super.superFaint(t,e)}}class XT extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Quetzalcoatl",this.tier=6,this.pack="Unicorn",this.attack=2,this.health=8,this.initPet(a,s,r,o,l)}}class ex extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Team Spirit",this.tier=6,this.pack="Unicorn",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}anyoneLevelUp(t,e,i){if(e.parent!=this.parent||e==this)return;let s=this.parent.petArray;s=s.filter(o=>o!=this);let r={attack:this.level,health:2*this.level};for(let o of s)this.logService.createLog({message:`${this.name} gave ${o.name} ${r.attack} attack and ${r.health} health.`,type:"ability",player:this.parent,tiger:i}),o.increaseAttack(r.attack),o.increaseHealth(r.health)}}class tx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sleipnir",this.tier=6,this.pack="Unicorn",this.attack=8,this.health=5,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=Math.floor(this.attack/2),s=this.parent.furthestUpPet,r=[];for(;s&&(r.push(s),!(r.length>=this.level));)s=s.petBehind();for(let o of r)this.logService.createLog({message:`${this.name} gave ${o.name} ${i} mana.`,type:"ability",player:this.parent,tiger:e}),o.increaseMana(i);this.superStartOfBattle(t,e)}}class ix extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Serpent",this.tier=6,this.pack="Unicorn",this.attack=6,this.health=6,this.initPet(a,s,r,o,l)}faint(t,e,i){if(0==this.mana)return;let s=this.parent.opponent.petArray;s=s.filter(a=>a.alive),s.sort((a,l)=>l.health-a.health);let r=2*this.mana;this.logService.createLog({message:`${this.name} spent ${this.mana} mana.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.mana=0;for(let a=0;a<this.level;a++){let l=s[a];if(null==l)break;this.snipePet(l,r,!1,e,i)}this.superFaint(t,e)}}class nx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Yeti",this.tier=6,this.pack="Unicorn",this.attack=5,this.health=7,this.initPet(a,s,r,o,l)}}class J_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fire Pup",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=8,this.attack=8,this.initPet(a,s,r,o,l)}}class sx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cerberus",this.tier=6,this.pack="Unicorn",this.attack=9,this.health=9,this.initPet(a,s,r,o,l)}emptyFrontSpace(t,e){null==this.parent.pet0&&(this.abilityUses>=this.maxAbilityUses||(this.abilityService.setSpawnEvent({callback:()=>{let s=new J_(this.logService,this.abilityService,this.parent,null,null,5);this.logService.createLog({message:`${this.name} spawned Fire Pup (8/8).`,type:"ability",player:this.parent,tiger:e}),this.parent.summonPet(s,0)&&this.abilityService.triggerSummonedEvents(s)},priority:this.attack}),this.abilityUses++,super.superFaint(t,e)))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class Z_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Head",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=5,this.attack=5,this.initPet(a,s,r,o,l)}}class rx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hydra",this.tier=6,this.pack="Unicorn",this.attack=10,this.health=6,this.initPet(a,s,r,o,l)}faint(t,e,i){let s=Math.floor(this.attack/10);for(let r=0;r<s;r++)this.abilityService.setSpawnEvent({callback:()=>{let o=5*this.level,a=new Z_(this.logService,this.abilityService,this.parent,o,o);this.logService.createLog({message:`${this.name} spawned Head (${a.attack}/${a.health}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(a,this.savedPosition)&&this.abilityService.triggerSummonedEvents(a)},priority:this.attack}),super.superFaint(t,e)}}class ox extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Behemoth",this.tier=6,this.pack="Unicorn",this.attack=12,this.health=12,this.initPet(a,s,r,o,l)}}class Qp extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rock",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=1,this.attack=1,this.initPet(a,s,r,o,l)}}class ax extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Basilisk",this.tier=1,this.pack="Custom",this.health=2,this.attack=1,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.petAhead;if(null==i&&(i=this.parent.opponent.petArray[0]),null==i)return;let s=2*this.level;this.logService.createLog({message:`${this.name} turned ${i.name} into a Rock with + ${s} health.`,type:"ability",player:this.parent,tiger:e});let r=i.health+s;r=Math.min(r,50),i.parent.setPet(i.position,new Qp(this.logService,this.abilityService,i.parent,r,i.attack,i.mana,i.exp,i.equipment),!1),this.superStartOfBattle(t,e)}}class X_ extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Daycrawler",this.tier=1,this.pack="Custom",this.hidden=!0,this.health=1,this.attack=3,this.initPet(a,s,r,o,l)}}class lx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nightcrawler",this.tier=2,this.pack="Custom",this.attack=1,this.health=1,this.initPet(a,s,r,o,l)}faint(t,e,i){let r=this.parent==t.player?t.playerSummonedAmount:t.opponentSummonedAmount;if(0==r)return;let o=Math.min(50,this.level*r);this.abilityService.setSpawnEvent({callback:()=>{let l=new X_(this.logService,this.abilityService,this.parent,o,6,0,0);this.logService.createLog({message:`${this.name} spawned Daycrawler (6/${o})`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(l,this.savedPosition)&&this.abilityService.triggerSummonedEvents(l)},priority:this.attack}),super.superFaint(t,e)}}class cx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sphinx",this.tier=2,this.pack="Custom",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}}class ux extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chupacabra",this.tier=2,this.pack="Custom",this.attack=4,this.health=2,this.initPet(a,s,r,o,l)}knockOut(t,e,i){for(let s=0;s<3*this.level;s++){let r=this.parent.getRandomPet([this],!0,!1,!0);this.logService.createLog({message:`${this.name} gave ${r.name} 1 health.`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}),r.increaseHealth(1)}this.superKnockOut(t,e,i)}}class hx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Golden Beetle",this.tier=2,this.pack="Custom",this.attack=2,this.health=3,this.initPet(a,s,r,o,l)}}class dx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Foo Dog",this.tier=3,this.pack="Custom",this.attack=3,this.health=5,this.initPet(a,s,r,o,l)}}class fx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tree",this.tier=3,this.pack="Custom",this.attack=2,this.health=5,this.initPet(a,s,r,o,l)}startOfBattle(t,e){this.attack>6*this.level||(this.logService.createLog({message:`${this.name} gained Coconut.`,type:"ability",player:this.parent,tiger:e}),this.givePetEquipment(new Wr),this.superStartOfBattle(t,e))}}class eb extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smaller Slime",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=2,this.attack=2,this.initPet(a,s,r,o,l)}}class px extends E{constructor(t,e,i,s,r,o,a,l,h){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Slime",this.tier=3,this.pack="Custom",this.attack=3,this.health=3,this.initPet(a,s,r,o,l),this.battlesFought=h}faint(t,e,i){let s=Math.floor(this.battlesFought/2),r=2*this.level;for(let o=0;o<s;o++)this.abilityService.setSpawnEvent({callback:()=>{let a=new eb(this.logService,this.abilityService,this.parent,null,null,0);this.logService.createLog({message:`${this.name} spawned Smaller Slime (${r}/${r}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(a,this.savedPosition)&&this.abilityService.triggerSummonedEvents(a)},priority:this.attack}),super.superFaint(t,e)}}class gx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pegasus",this.tier=3,this.pack="Custom",this.attack=1,this.health=3,this.initPet(a,s,r,o,l)}friendSummoned(t,e,i){let s=this.parent.getRandomPets(3,[this],!0);for(let r of s)r.increaseAttack(this.level),this.logService.createLog({message:`${this.name} gave ${r.name} ${this.level} attack.`,type:"ability",player:this.parent,tiger:i})}}class mx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Deer Lord",this.tier=3,this.pack="Custom",this.attack=4,this.health=3,this.initPet(a,s,r,o,l)}}class vx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fairy",this.tier=4,this.pack="Custom",this.attack=1,this.health=1,this.initPet(a,s,r,o,l)}}class yx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rootling",this.tier=4,this.pack="Custom",this.attack=1,this.health=5,this.initPet(a,s,r,o,l)}}class _x extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anubis",this.tier=4,this.pack="Custom",this.attack=3,this.health=4,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.petArray.filter(s=>s.faintPet);for(let s of i)!s.alive||s.tier<=2*this.level&&(this.logService.createLog({message:`${this.name} activated ${s.name}'s faint ability.`,type:"ability",player:this.parent,tiger:e}),this.abilityService.setFaintEvent({callback:()=>{s.faint(t,!1,!1)},priority:100-s.position}))}}class bx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Old Mouse",this.tier=4,this.pack="Custom",this.attack=1,this.health=2,this.initPet(a,s,r,o,l)}}class Sx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hippocampus",this.tier=4,this.pack="Custom",this.attack=2,this.health=4,this.initPet(a,s,r,o,l)}friendGainsHealth(t,e,i){let s=2*this.level;this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i}),e.increaseAttack(s),this.superFriendGainsHealth(t,e,i)}}class Ex extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Boitata",this.tier=5,this.pack="Custom",this.attack=2,this.health=9,this.initPet(a,s,r,o,l)}beforeAttack(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=this.parent.opponent.furthestUpPet;this.logService.createLog({message:`${this.name} gave ${i.name} Crisp.`,type:"ability",player:this.parent,tiger:e}),i.givePetEquipment(new dc),this.abilityUses++,this.superBeforeAttack(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class wx extends E{constructor(t,e,i,s,r,o,a,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Kappa",this.tier=5,this.pack="Custom",this.attack=4,this.health=5,this.initPet(l,r,o,a,h)}faint(t,e,i){let r=(this.parent==t.player?t.playerPetPool:t.opponentPetPool).get(3);for(let o=0;o<this.level;o++){let a=r[Math.floor(Math.random()*r.length)],l=r[Math.floor(Math.random()*r.length)];this.abilityService.setSpawnEvent({callback:()=>{let h=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:a},this.parent);this.logService.createLog({message:`${this.name} spawned a ${h.name} (14/16).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0}),this.parent.summonPet(h,this.savedPosition)&&this.abilityService.triggerSummonedEvents(h)},priority:this.attack}),this.abilityService.setSpawnEvent({callback:()=>{let h=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:l},this.parent.opponent);this.logService.createLog({message:`${this.name} spawned a ${h.name} (14/16) for the opponent.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0}),this.parent.opponent.summonPet(h,this.savedPosition)&&this.abilityService.triggerSummonedEvents(h)},priority:this.attack}),super.superFaint(t,e)}}}class Cx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mimic",this.tier=5,this.pack="Custom",this.attack=3,this.health=6,this.initPet(a,s,r,o,l)}}class kx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nurikabe",this.tier=5,this.pack="Custom",this.attack=5,this.health=6,this.maxAbilityUses=3,this.initPet(a,s,r,o,l)}}class tb extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tandgnost",this.tier=5,this.pack="Custom",this.attack=5,this.health=5,this.initPet(a,s,r,o,l)}}class ib extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tandgrisner",this.tier=5,this.pack="Custom",this.attack=5,this.health=5,this.initPet(a,s,r,o,l)}}class nb extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Great One",this.tier=6,this.pack="Custom",this.attack=7,this.health=13,this.initPet(a,s,r,o,l)}summoned(t,e){let i=[...this.parent.petArray,...this.parent.opponent.petArray];i=i.filter(s=>s!==this);for(let s of i)this.snipePet(s,6*this.level);this.superSummoned(t,e)}}class Dx extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leviathan",this.tier=6,this.pack="Custom",this.attack=6,this.health=10,this.initPet(a,s,r,o,l)}}class Px extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Questing Beast",this.tier=6,this.pack="Custom",this.attack=7,this.health=9,this.initPet(a,s,r,o,l)}}class Ax extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockatrice",this.tier=6,this.pack="Custom",this.attack=5,this.health=7,this.initPet(a,s,r,o,l)}startOfBattle(t,e){let i=this.parent.opponent.petArray.reverse(),s=null;for(let a of i)if(a.level<=this.level){s=a;break}if(null==s)return;this.logService.createLog({message:`${this.name} transformed ${s.name} into a Rock.`,type:"ability",player:this.parent,tiger:e});let r=new Qp(this.logService,this.abilityService,s.parent,s.health,s.attack,s.mana,s.exp,s.equipment);this.parent.opponent.setPet(s.position,r,!1)}}class Q3 extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Albatross",this.tier=6,this.pack="Custom",this.attack=5,this.health=4,this.initPet(a,s,r,o,l)}}class Tx extends E{constructor(t,e,i,s,r,o,a,l,h,f){super(t,e,r),this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s,this.name="Good Dog",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=3,this.hidden=!0,this.initPet(h,o,a,l,f)}startOfBattle(t,e){let i=this.parent.petArray,s=this.getInstanceOfAllEquipment(),r=Array.from(s.values());for(let o of i){let a=r[Math.floor(Math.random()*r.length)];this.logService.createLog({message:`${this.name} gave ${o.name} ${a.name}`,type:"ability",player:this.parent,randomEvent:!0}),o.givePetEquipment(a)}}getInstanceOfAllEquipment(){let t=new Map;return t.set("Garlic",new bh),t.set("Meat Bone",new D_),t.set("Steak",new w1),t.set("Melon",new jr),t.set("Honey",new qp(this.logService,this.abilityService)),t.set("Chili",new yh(this.logService,this.abilityService)),t.set("Mushroom",new C1(this.logService,this.abilityService,this.petService)),t.set("Coconut",new Wr),t.set("Peanut",new qa),t.set("Croissant",new k1),t.set("Rice",new Gp),t.set("Egg",new Up(this.logService,this.abilityService)),t.set("Salt",new Lp),t.set("Pie",new N_),t.set("Skewer",new zp(this.logService)),t.set("Lemon",new D1),t.set("Pancakes",new R_),t.set("Strawberry",new P1),t.set("Cucumber",new A1),t.set("Cheese",new Bp),t.set("Grapes",new N1),t.set("Carrot",new O1),t.set("Pepper",new Vp),t.set("Popcorn",new R1(this.logService,this.abilityService,this.petService,this.gameService)),t.set("Cherry",new L_),t.set("Chocolate Cake",new Kp(this.logService,this.abilityService)),t.set("Eggplant",new B_(this.logService)),t.set("Potato",new M1),t.set("Banana",new T1(this.logService,this.abilityService)),t.set("Onion",new m_(this.logService)),t.set("Pita Bread",new V_(this.logService)),t.set("Tomato",new I1(this.logService,this.abilityService)),t.set("Durian",new x1(this.logService,this.abilityService)),t.set("Fortune Cookie",new $p),t.set("Blueberry",new L1),t.set("Donut",new B1),t.set("Pineapple",new V1),t.set("Fig",new $1),t.set("Rambutan",new Sh(this.logService)),t.set("Love Potion",new G_(this.logService)),t.set("Fairy Dust",new F_(this.logService)),t.set("Gingerbread Man",new H_(this.logService)),t.set("Easter Egg",new F1(this.logService,this.abilityService)),t.set("Health Potion",new q_(this.logService)),t.set("Magic Beans",new q1),t.set("Golden Egg",new H1(this.logService,this.abilityService)),t}}let sb=(()=>{class n{constructor(){this.logs=[]}createLog(e){e.tiger&&(e.message+=" (Tiger)"),e.puma&&(e.message+=" (Puma)"),e.pteranodon&&(e.message+=" (Pteranodon)"),null!=e.pantherMultiplier&&e.pantherMultiplier>1&&(e.message+=` x${e.pantherMultiplier} (Panther)`),this.logs.push(e)}getLogs(){return this.logs}reset(){this.logs=[]}printState(e,i,s){s&&this.createLog({message:s,type:"board"});let r="";r+=this.getPetText(e.pet4),r+=this.getPetText(e.pet3),r+=this.getPetText(e.pet2),r+=this.getPetText(e.pet1),r+=this.getPetText(e.pet0);let o="";o+=this.getPetText(i.pet0),o+=this.getPetText(i.pet1),o+=this.getPetText(i.pet2),o+=this.getPetText(i.pet3),o+=this.getPetText(i.pet4),this.createLog({message:`${r}| ${o}`,type:"board"})}getPetText(e){return null==e?"___ (-/-) ":`${e.name.substring(0,3)} (${e.attack}/${e.health}) `}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Eh=(()=>{class n{constructor(){}init(e,i){this.gameApi={player:e,opponet:i}}setTierGroupPets(e,i){null!=e&&(this.gameApi.playerPetPool=e),null!=i&&(this.gameApi.opponentPetPool=i)}setPreviousShopTier(e){this.gameApi.previousShopTier=e}setTurnNumber(e){this.gameApi.turnNumber=e}setGoldSpent(e,i){null!=e&&(this.gameApi.playerGoldSpent=e),null!=i&&(this.gameApi.opponentGoldSpent=i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rb=(()=>{class n{constructor(e){this.gameService=e,this.hurtEvents=[],this.faintEvents=[],this.summonedEvents=[],this.friendFaintsEvents=[],this.spawnEvents=[],this.friendAheadAttacksEvents=[],this.afterAttackEvents=[],this.friendAheadFaintsEvents=[],this.knockOutEvents=[],this.beforeAttackEvents=[],this.equipmentBeforeAttackEvents=[],this.GainedPerkEvents=[],this.friendGainedPerkEvents=[],this.friendGainedAilmentEvents=[],this.enemyGainedAilmentEvents=[],this.friendlyToyBrokeEvents=[],this.transformEvents=[],this.enemySummonedEvents=[],this.friendHurtEvents=[],this.levelUpEvents=[],this.enemyHurtEvents=[],this.emptyFrontSpaceEvents=[],this.friendAttacksEvents=[],this.friendJumpedEvents=[],this.manaEvents=[],this.friendGainsHealthEvents=[],this.emptyFrontSpaceToyEvents=[],this.friendSummonedToyEvents=[],this.friendlyLevelUpToyEvents=[],this.friendFaintsToyEvents=[],this.friendJumpedToyEvents=[]}get hasAbilityCycleEvents(){return this.hasFaintEvents||this.hasSummonedEvents||this.hasHurtEvents||this.hasEquipmentBeforeAttackEvents||this.hasFriendHurtEvents||this.hasEnemyHurtEvents||this.hasKnockOutEvents||this.hasEmptyFrontSpaceEvents||this.hasFriendFaintsEvents||this.hasSpawnEvents||this.hasFriendAheadFaintsEvents||this.hasEnemySummonedEvents}initEndTurnEvents(e){let i=[];for(let s of e.petArray)s.endTurn&&i.push({callback:s.endTurn.bind(s),priority:s.attack,player:e});i=(0,ve.shuffle)(i),i.sort((s,r)=>s.priority>r.priority?-1:s.priority<r.priority?1:0);for(let s of i)s.callback(this.gameService.gameApi)}setHurtEvent(e){this.hurtEvents.push(e)}resetHurtEvents(){this.hurtEvents=[]}executeHurtEvents(){this.hurtEvents=(0,ve.shuffle)(this.hurtEvents),this.hurtEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.hurtEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetHurtEvents()}get hasHurtEvents(){return this.hurtEvents.length>0}setFaintEvent(e){this.faintEvents.push(e)}resetFaintEvents(){this.faintEvents=[]}executeFaintEvents(){this.faintEvents=(0,ve.shuffle)(this.faintEvents),this.faintEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.faintEvents)e.callback(this.gameService.gameApi);this.resetFaintEvents()}get hasFaintEvents(){return this.faintEvents.length>0}triggerSummonedEvents(e){this.triggerFriendSummonedToyEvents(e.parent,e);for(let i of e.parent.petArray)i!=e&&null!=i.friendSummoned&&this.setSummonedEvent({callback:i.friendSummoned.bind(i),priority:i.attack,callbackPet:e})}setSummonedEvent(e){this.summonedEvents.push(e)}resetSummonedEvents(){this.summonedEvents=[]}executeSummonedEvents(){this.summonedEvents=(0,ve.shuffle)(this.summonedEvents),this.summonedEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.summonedEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetSummonedEvents()}get hasSummonedEvents(){return this.summonedEvents.length>0}setSpawnEvent(e){this.spawnEvents.push(e)}resetSpawnEvents(){this.spawnEvents=[]}executeSpawnEvents(){this.spawnEvents=(0,ve.shuffle)(this.spawnEvents),this.spawnEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.spawnEvents)e.callback();this.resetSpawnEvents()}get hasSpawnEvents(){return this.spawnEvents.length>0}setFriendAheadAttacksEvents(e){this.friendAheadAttacksEvents.push(e)}resetFriendAheadAttacksEvents(){this.friendAheadAttacksEvents=[]}executeFriendAheadAttacksEvents(){this.friendAheadAttacksEvents=(0,ve.shuffle)(this.friendAheadAttacksEvents),this.friendAheadAttacksEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendAheadAttacksEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetFriendAheadAttacksEvents()}setAfterAttackEvent(e){this.afterAttackEvents.push(e)}resetAfterAttackEvents(){this.afterAttackEvents=[]}executeAfterAttackEvents(){this.afterAttackEvents=(0,ve.shuffle)(this.afterAttackEvents),this.afterAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.afterAttackEvents)e.callback(this.gameService.gameApi);this.resetAfterAttackEvents()}setFriendAheadFaintsEvent(e){this.friendAheadFaintsEvents.push(e)}resetFriendAheadFaintsEvents(){this.friendAheadFaintsEvents=[]}executeFriendAheadFaintsEvents(){this.friendAheadFaintsEvents=(0,ve.shuffle)(this.friendAheadFaintsEvents),this.friendAheadFaintsEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendAheadFaintsEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetFriendAheadFaintsEvents()}get hasFriendAheadFaintsEvents(){return this.friendAheadFaintsEvents.length>0}setKnockOutEvent(e){this.knockOutEvents.push(e)}resetKnockOutEvents(){this.knockOutEvents=[]}executeKnockOutEvents(){this.knockOutEvents=(0,ve.shuffle)(this.knockOutEvents),this.knockOutEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.knockOutEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetKnockOutEvents()}get hasKnockOutEvents(){return this.knockOutEvents.length>0}triggerFriendFaintsEvents(e){this.triggerFriendFaintsToyEvents(e.parent,e);for(let i of e.parent.petArray)null!=i.friendFaints&&this.setFriendFaintsEvent({callback:i.friendFaints.bind(i),priority:i.attack,callbackPet:e})}setFriendFaintsEvent(e){this.friendFaintsEvents.push(e)}resetFriendFaintsEvents(){this.friendFaintsEvents=[]}executeFriendFaintsEvents(){this.friendFaintsEvents=(0,ve.shuffle)(this.friendFaintsEvents),this.friendFaintsEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendFaintsEvents)e.callback(this.gameService.gameApi,e.callbackPet,null);this.resetFriendFaintsEvents()}get hasFriendFaintsEvents(){return this.friendFaintsEvents.length>0}setBeforeAttackEvent(e){this.beforeAttackEvents.push(e)}resetBeforeAttackEvents(){this.beforeAttackEvents=[]}executeBeforeAttackEvents(){this.beforeAttackEvents=(0,ve.shuffle)(this.beforeAttackEvents),this.beforeAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.beforeAttackEvents)e.callback(this.gameService.gameApi);this.resetBeforeAttackEvents()}setEqiupmentBeforeAttackEvent(e){this.equipmentBeforeAttackEvents.push(e)}resetEqiupmentBeforeAttackEvents(){this.equipmentBeforeAttackEvents=[]}executeEqiupmentBeforeAttackEvents(){this.equipmentBeforeAttackEvents=(0,ve.shuffle)(this.equipmentBeforeAttackEvents),this.equipmentBeforeAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.equipmentBeforeAttackEvents)e.callback(this.gameService.gameApi);this.resetEqiupmentBeforeAttackEvents()}get hasEquipmentBeforeAttackEvents(){return this.hurtEvents.length>0}triggerGainedPerkEvents(e){for(let i of e.parent.petArray)i==e&&null!=i.GainedPerk&&this.setGainedPerkEvent({callback:i.GainedPerk.bind(i),priority:i.attack,callbackPet:e})}setGainedPerkEvent(e){this.GainedPerkEvents.push(e)}resetGainedPerkEvents(){this.GainedPerkEvents=[]}executeGainedPerkEvents(){this.GainedPerkEvents=(0,ve.shuffle)(this.GainedPerkEvents),this.GainedPerkEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.GainedPerkEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetGainedPerkEvents()}triggerFriendGainedPerkEvents(e){for(let i of e.parent.petArray)null!=i.friendGainedPerk&&this.setFriendGainedPerkEvent({callback:i.friendGainedPerk.bind(i),priority:i.attack,callbackPet:e})}setFriendGainedPerkEvent(e){this.friendGainedPerkEvents.push(e)}resetFriendGainedPerkEvents(){this.friendGainedPerkEvents=[]}executeFriendGainedPerkEvents(){this.friendGainedPerkEvents=(0,ve.shuffle)(this.friendGainedPerkEvents),this.friendGainedPerkEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendGainedPerkEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetFriendGainedPerkEvents()}triggerFriendGainedAilmentEvents(e){for(let i of e.parent.petArray)null!=i.friendGainedAilment&&this.setFriendGainedAilmentEvent({callback:i.friendGainedAilment.bind(i),priority:i.attack,callbackPet:e})}setFriendGainedAilmentEvent(e){this.friendGainedAilmentEvents.push(e)}resetFriendGainedAilmentEvents(){this.friendGainedAilmentEvents=[]}executeFriendGainedAilmentEvents(){this.friendGainedAilmentEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendGainedAilmentEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetFriendGainedAilmentEvents()}triggerEnemyGainedAilmentEvents(e,i){for(let s of e)null!=s.enemyGainedAilment&&this.setEnemyGainedAilmentEvent({callback:s.enemyGainedAilment.bind(s),priority:s.attack,callbackPet:i})}setEnemyGainedAilmentEvent(e){this.enemyGainedAilmentEvents.push(e)}resetEnemyGainedAilmentEvents(){this.enemyGainedAilmentEvents=[]}executeEnemyGainedAilmentEvents(){this.enemyGainedAilmentEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.enemyGainedAilmentEvents)e.callback(this.gameService.gameApi,e.callbackPet);this.resetEnemyGainedAilmentEvents()}triggerFriendlyToyBrokeEvents(e){for(let i of e.petArray)null!=i.friendlyToyBroke&&this.setFriendlyToyBrokeEvent({callback:i.friendlyToyBroke.bind(i),priority:i.attack})}setFriendlyToyBrokeEvent(e){this.friendlyToyBrokeEvents.push(e)}resetFriendlyToyBrokeEvents(){this.friendlyToyBrokeEvents=[]}executeFriendlyToyBrokeEvents(){this.friendlyToyBrokeEvents=(0,ve.shuffle)(this.friendlyToyBrokeEvents),this.friendlyToyBrokeEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendlyToyBrokeEvents)e.callback(this.gameService.gameApi,!1);this.resetFriendlyToyBrokeEvents()}triggerTransformEvents(e){for(let i of e.petArray)null!=i.transform&&this.setTransformEvent({callback:i.transform.bind(i),priority:i.attack})}setTransformEvent(e){this.transformEvents.push(e)}resetTransformEvents(){this.transformEvents=[]}executeTransformEvents(){this.transformEvents=(0,ve.shuffle)(this.transformEvents),this.transformEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.transformEvents)e.callback(this.gameService.gameApi,!1);this.resetTransformEvents()}triggerEnemySummonedEvents(e,i){for(let s of e.petArray)null!=s.enemySummoned&&this.setEnemySummonedEvent({callback:s.enemySummoned.bind(s),priority:s.attack,callbackPet:i})}setEnemySummonedEvent(e){this.enemySummonedEvents.push(e)}resetEnemySummonedEvents(){this.enemySummonedEvents=[]}executeEnemySummonedEvents(){this.enemySummonedEvents=(0,ve.shuffle)(this.enemySummonedEvents),this.enemySummonedEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.enemySummonedEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetEnemySummonedEvents()}get hasEnemySummonedEvents(){return this.enemySummonedEvents.length>0}triggerFriendHurtEvents(e,i){for(let s of e.petArray)null!=s.friendHurt&&this.setFriendHurtEvent({callback:s.friendHurt.bind(s),priority:s.attack,callbackPet:i})}setFriendHurtEvent(e){this.friendHurtEvents.push(e)}resetFriendHurtEvents(){this.friendHurtEvents=[]}executeFriendHurtEvents(){this.friendHurtEvents=(0,ve.shuffle)(this.friendHurtEvents),this.friendHurtEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendHurtEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetFriendHurtEvents()}get hasFriendHurtEvents(){return this.friendHurtEvents.length>0}triggerLevelUpEvents(e,i){this.triggerFriendlyLevelUpToyEvents(e,i);for(let s of e.petArray)null!=s.anyoneLevelUp&&this.setLevelUpEvent({callback:s.anyoneLevelUp.bind(s),priority:s.attack,callbackPet:i})}setLevelUpEvent(e){this.levelUpEvents.push(e)}resetLevelUpEvents(){this.levelUpEvents=[]}executeLevelUpEvents(){this.levelUpEvents=(0,ve.shuffle)(this.levelUpEvents),this.levelUpEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.levelUpEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetLevelUpEvents()}triggerEmptyFrontSpaceEvents(e){for(let i of e.petArray)null!=i.emptyFrontSpace&&this.setEmptyFrontSpaceEvent({callback:i.emptyFrontSpace.bind(i),priority:i.attack})}setEmptyFrontSpaceEvent(e){this.emptyFrontSpaceEvents.push(e)}resetEmptyFrontSpaceEvents(){this.emptyFrontSpaceEvents=[]}executeEmptyFrontSpaceEvents(){this.emptyFrontSpaceEvents=(0,ve.shuffle)(this.emptyFrontSpaceEvents),this.emptyFrontSpaceEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.emptyFrontSpaceEvents)e.callback(this.gameService.gameApi,!1);this.resetEmptyFrontSpaceEvents()}get hasEmptyFrontSpaceEvents(){return this.emptyFrontSpaceEvents.length>0}triggerEnemyHurtEvents(e,i){for(let s of e.petArray)null!=s.enemyHurt&&this.setEnemyHurtEvent({callback:s.enemyHurt.bind(s),priority:s.attack,callbackPet:i})}setEnemyHurtEvent(e){this.enemyHurtEvents.push(e)}resetEnemyHurtEvents(){this.enemyHurtEvents=[]}executeEnemyHurtEvents(){this.enemyHurtEvents=(0,ve.shuffle)(this.enemyHurtEvents),this.enemyHurtEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.enemyHurtEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetEnemyHurtEvents()}get hasEnemyHurtEvents(){return this.enemyHurtEvents.length>0}triggerFriendAttacksEvents(e,i){for(let s of e.petArray)s!=i&&null!=s.friendAttacks&&this.setFriendAttacksEvent({callback:s.friendAttacks.bind(s),priority:s.attack})}setFriendAttacksEvent(e){this.friendAttacksEvents.push(e)}resetFriendAttacksEvents(){this.friendAttacksEvents=[]}executeFriendAttacksEvents(){this.friendAttacksEvents=(0,ve.shuffle)(this.friendAttacksEvents),this.friendAttacksEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendAttacksEvents)e.callback(this.gameService.gameApi,!1);this.resetFriendAttacksEvents()}triggerFriendJumpedEvents(e,i){for(let s of e.petArray)s!=i&&null!=s.friendJumped&&this.setFriendJumpedEvent({callback:s.friendJumped.bind(s),priority:s.attack,callbackPet:i})}setFriendJumpedEvent(e){this.friendJumpedEvents.push(e)}resetFriendJumpedEvents(){this.friendJumpedEvents=[]}executeFriendJumpedEvents(){this.friendJumpedEvents=(0,ve.shuffle)(this.friendJumpedEvents),this.friendJumpedEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendJumpedEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetFriendJumpedEvents()}setManaEvent(e){this.manaEvents.push(e)}resetManaEvents(){this.manaEvents=[]}executeManaEvents(){this.manaEvents=(0,ve.shuffle)(this.manaEvents),this.manaEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.manaEvents)e.callback();this.resetManaEvents()}triggerFriendGainsHealthEvents(e,i){for(let s of e.petArray)s!=i&&null!=s.friendGainsHealth&&this.setFriendGainsHealthEvent({callback:s.friendGainsHealth.bind(s),priority:s.attack,callbackPet:i})}setFriendGainsHealthEvent(e){this.friendGainsHealthEvents.push(e)}resetFriendGainsHealthEvents(){this.friendGainsHealthEvents=[]}executeFriendGainsHealthEvents(){this.friendGainsHealthEvents=(0,ve.shuffle)(this.friendGainsHealthEvents),this.friendGainsHealthEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendGainsHealthEvents)e.callback(this.gameApi,e.callbackPet);this.resetFriendGainsHealthEvents()}triggerEmptyFrontSpaceToyEvents(e){var i;if(null!=(null===(i=e.toy)||void 0===i?void 0:i.emptyFromSpace)){if(e.toy.used)return;this.setEmptyFrontSpaceToyEvent({callback:e.toy.emptyFromSpace.bind(e.toy),priority:100,level:e.toy.level});let s=e.petArray.filter(r=>r instanceof Sr);for(let r of s)this.setEmptyFrontSpaceToyEvent({callback:e.toy.emptyFromSpace.bind(e.toy),priority:+r.attack,level:r.level})}}setEmptyFrontSpaceToyEvent(e){this.emptyFrontSpaceToyEvents.push(e)}resetEmptyFrontSpaceToyEvents(){this.emptyFrontSpaceToyEvents=[]}executeEmptyFrontSpaceToyEvents(){this.emptyFrontSpaceToyEvents=(0,ve.shuffle)(this.emptyFrontSpaceToyEvents),this.emptyFrontSpaceToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.emptyFrontSpaceToyEvents)e.callback(this.gameService.gameApi,e.priority<100,e.level,e.priority);this.resetEmptyFrontSpaceToyEvents()}triggerFriendSummonedToyEvents(e,i){var s;if(null!=(null===(s=e.toy)||void 0===s?void 0:s.friendSummoned)){this.setFriendSummonedToyEvent({callback:e.toy.friendSummoned.bind(e.toy),priority:100,level:e.toy.level,callbackPet:i});let r=e.petArray.filter(o=>o instanceof Sr);for(let o of r)this.setFriendSummonedToyEvent({callback:e.toy.friendSummoned.bind(e.toy),priority:+o.attack,level:o.level,callbackPet:i})}}setFriendSummonedToyEvent(e){this.friendSummonedToyEvents.push(e)}resetFriendSummonedToyEvents(){this.friendSummonedToyEvents=[]}executeFriendSummonedToyEvents(){this.friendSummonedToyEvents=(0,ve.shuffle)(this.friendSummonedToyEvents),this.friendSummonedToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendSummonedToyEvents)e.callback(this.gameService.gameApi,e.callbackPet,e.priority<100,e.level);this.resetFriendSummonedToyEvents()}triggerFriendlyLevelUpToyEvents(e,i){var s;if(e==i.parent&&null!=(null===(s=e.toy)||void 0===s?void 0:s.friendlyLevelUp)){this.setFriendlyLevelUpToyEvent({callback:e.toy.friendlyLevelUp.bind(e.toy),priority:100,level:e.toy.level,callbackPet:i});let r=e.petArray.filter(o=>o instanceof Sr);for(let o of r)this.setFriendlyLevelUpToyEvent({callback:e.toy.friendlyLevelUp.bind(e.toy),priority:+o.attack,level:o.level,callbackPet:i})}}setFriendlyLevelUpToyEvent(e){this.friendlyLevelUpToyEvents.push(e)}resetFriendlyLevelUpToyEvents(){this.friendlyLevelUpToyEvents=[]}executeFriendlyLevelUpToyEvents(){this.friendlyLevelUpToyEvents=(0,ve.shuffle)(this.friendlyLevelUpToyEvents),this.friendlyLevelUpToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendlyLevelUpToyEvents)e.callback(this.gameService.gameApi,e.callbackPet,e.priority<100,e.level);this.resetFriendlyLevelUpToyEvents()}triggerFriendFaintsToyEvents(e,i){var s;if(e==i.parent&&null!=(null===(s=e.toy)||void 0===s?void 0:s.friendFaints)){this.setFriendFaintsToyEvent({callback:e.toy.friendFaints.bind(e.toy),priority:100,level:e.toy.level,callbackPet:i});let r=e.petArray.filter(o=>o instanceof Sr);for(let o of r)this.setFriendFaintsToyEvent({callback:e.toy.friendFaints.bind(e.toy),priority:+o.attack,level:+o.level,callbackPet:i})}}setFriendFaintsToyEvent(e){this.friendFaintsToyEvents.push(e)}resetFriendFaintsToyEvents(){this.friendFaintsToyEvents=[]}executeFriendFaintsToyEvents(){this.friendFaintsToyEvents=(0,ve.shuffle)(this.friendFaintsToyEvents),this.friendFaintsToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendFaintsToyEvents)e.callback(this.gameService.gameApi,e.callbackPet,e.priority<100,e.level);this.resetFriendFaintsToyEvents()}triggerFriendJumpedToyEvents(e,i){var s;if(e==i.parent&&null!=(null===(s=e.toy)||void 0===s?void 0:s.friendJumped)){this.setFriendJumpedToyEvent({callback:e.toy.friendJumped.bind(e.toy),priority:100,level:e.toy.level,callbackPet:i});let r=e.petArray.filter(o=>o instanceof Sr);for(let o of r)this.setFriendJumpedToyEvent({callback:e.toy.friendJumped.bind(e.toy),priority:+o.attack,level:o.level,callbackPet:i})}}setFriendJumpedToyEvent(e){this.friendJumpedToyEvents.push(e)}resetFriendJumpedToyEvents(){this.friendJumpedToyEvents=[]}executeFriendJumpedToyEvents(){this.friendJumpedToyEvents=(0,ve.shuffle)(this.friendJumpedToyEvents),this.friendJumpedToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendJumpedToyEvents)e.callback(this.gameService.gameApi,e.callbackPet,e.priority<100,e.level);this.resetFriendJumpedToyEvents()}}return n.\u0275fac=function(e){return new(e||n)(H(Eh))},n.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ob=(()=>{class n{constructor(e,i,s){this.logService=e,this.abilityService=i,this.gameService=s,this.turtlePackPets=new Map,this.puppyPackPets=new Map,this.starPackPets=new Map,this.goldenPackPets=new Map,this.unicornPackPets=new Map,this.customPackPets=new Map,this.playerCustomPackPets=new Map,this.allPets=new Map,this.startOfBattlePets=["Beetle","Cone Snail","Frilled Dragon","Frog","Gecko","Goose","Hummigbird","Mosquito","Moth","Seahorse","Atlantic Puffin","Bat","Crab","Panda","Robin","Salamander","Wombat","Dodo","Dolphin","Eel","Meerkat","Pug","Woodpecker","Doberman","Hawk","Lynx","Pelican","Skunk","Whale","Armadillo","Crocodile","Hyena","Macaque","Sword Fish","Highland Cow","Leopard","Mantis Shrimp","Stegosaurus","Velociraptor","White Tiger","Alchemedes","Axehandle Hound","Barghest","Bunyip","Sneaky Egg","Tsuchinoko","Ogopogo","Thunderbird","Mana Hound","Mandrake","Kraken","Roc","Red Dragon","Salmon of Knowledge","Werewolf","Sleipnir","Basilisk","Tree","Anubis","Cockatrice"]}buildCustomPackPets(e){for(let i of e.controls){let s=new Map;for(let r=1;r<=6;r++)s.set(r,i.get(`tier${r}Pets`).value);this.playerCustomPackPets.set(i.get("name").value,s)}}init(){this.turtlePackPets.set(1,["Ant","Cricket","Duck","Fish","Horse","Mosquito","Beaver","Otter","Pig","Pigeon"]),this.turtlePackPets.set(2,["Snail","Crab","Swan","Rat","Hedgehog","Peacock","Flamingo","Worm","Kangaroo","Spider"]),this.turtlePackPets.set(3,["Dodo","Badger","Dolphin","Giraffe","Elephant","Camel","Rabbit","Ox","Dog","Sheep"]),this.turtlePackPets.set(4,["Skunk","Hippo","Bison","Blowfish","Turtle","Squirrel","Penguin","Deer","Whale","Parrot"]),this.turtlePackPets.set(5,["Scorpion","Crocodile","Rhino","Monkey","Armadillo","Cow","Seal","Rooster","Shark","Turkey"]),this.turtlePackPets.set(6,["Leopard","Tiger","Boar","Wolverine","Gorilla","Dragon","Mammoth","Cat","Snake","Fly"]),this.puppyPackPets.set(1,["Duck","Beaver","Moth","Bluebird","Chinchilla","Beetle","Ladybug","Chipmunk","Gecko","Ferret"]),this.puppyPackPets.set(2,["Frigatebird","Robin","Bat","Dromedary","Shrimp","Toucan","Beluga Sturgeon","Tabby Cat","Mandrill","Lemur"]),this.puppyPackPets.set(3,["Hoopoe Bird","Tropical Fish","Hatching Chick","Goldfish","Owl","Mole","Flying Squirrel","Pangolin","Puppy","Hare"]),this.puppyPackPets.set(4,["Microbe","Lobster","Buffalo","Llama","Caterpillar","Doberman","Tahr","Whale Shark","Chameleon","Gharial"]),this.puppyPackPets.set(5,["Stonefish","Poodle","Goat","Chicken","Eagle","Panther","Axolotl","Snapping Turtle","Mosasaurus","String Ray"]),this.puppyPackPets.set(6,["Dragon","Mantis Shrimp","Lionfish","Tyrannosaurus","Octopus","Anglerfish","Sauropod","Elephant Seal","Puma","Mongoose"]),this.starPackPets.set(1,["Mouse","Pillbug","Duckling","Cockroach","Frog","Seahorse","Hummingbird","Marmoset","Kiwi"]),this.starPackPets.set(2,["Koala","Yak","Salamander","Panda","Guinea Pig","Jellyfish","Atlantic Puffin","Dove","Stork","Iguana","DumboOctopus"]),this.starPackPets.set(3,["Leech","Woodpecker","Toad","Cabybara","Okapi","Cassowary","Anteater","Pug","Eel"]),this.starPackPets.set(4,["Orangutang","Hawk","Clownfish","Platypus","Praying Mantis","Crow","Donkey","Pelican","Starfish","Blobfish"]),this.starPackPets.set(5,["Sword Fish","Polar Bear","Siberian Husky","Lion","Triceratops","Zebra","Fox","Hamster","Shoebill","Vulture"]),this.starPackPets.set(6,["Komodo","Ostrich","Reindeer","Stegosaurus","Piranha","Hammerhead Shark","Velociraptor","Sabertooth Tiger","Orca","Spinosaurus"]),this.goldenPackPets.set(1,["Chipmunk","Bulldog","Groundhog","Cone Snail","Goose","Pied Tamarin","Opossum","Silkmoth","Magpie"]),this.goldenPackPets.set(2,["Hercules Beetle","Stoat","Black Necked Stilt","Squid","Sea Urchin","Door Head Ant","Lizard","Sea Turtle","African Penguin"]),this.goldenPackPets.set(3,["Musk Ox","Flea","Royal Flycatcher","Surgeon Fish","Weasel","Guineafowl","Betta Fish","Meerkat","Flying Fish","Baboon","Osprey"]),this.goldenPackPets.set(4,["Manatee","Cuttlefish","Saiga Antelope","Sealion","Vaquita","Slug","Poison Dart Frog","Secretary Bird","Falcon","Manta Ray","Cockatoo"]),this.goldenPackPets.set(5,["Macaque","Nyala","Nurse Shark","Beluga Whale","Wolf","Silver Fox","Fire Ant","Blue Ringed Octopus","Crane","Emu","Egyptian Vulture"]),this.goldenPackPets.set(6,["Wildebeast","Highland Cow","Catfish","Pteranodon","Warthog","Cobra","Grizzly Bear","German Shephard","Bird of Paradise","Oyster"]),this.unicornPackPets.set(1,["Baku","Axehandle Hound","Barghest","Tsuchinoko","Murmel","Alchemedes","Warf","Bunyip","Sneaky Egg","Cuddle Toad"]),this.unicornPackPets.set(2,["Ghost Kitten","Frost Wolf","Mothman","Drop Bear","Jackalope","Lucky Cat","Ogopogo","Thunderbird","Gargoyle","Bigfoot"]),this.unicornPackPets.set(3,["Skeleton Dog","Mandrake","Fur-Bearing Trout","Mana Hound","Calygreyhound","Brain Cramp","Minotaur","Wyvern","Ouroboros","Griffin"]),this.unicornPackPets.set(4,["Kraken","Visitor","Unicorn","Tiger Bug","Tatzelwurm","Cyclops","Chimera","Roc","Worm of Sand","Abomination"]),this.unicornPackPets.set(5,["Red Dragon","Vampire Bat","Loveland Frogman","Salmon of Knowledge","Jersey Devil","Pixiu","Kitsune","Nessie","Bad Dog","Werewolf"]),this.unicornPackPets.set(6,["Manticore","Phoenix","Quetzalcoatl","Team Spirit","Sleipnir","Sea Serpent","Yeti","Cerberus","Hydra","Behemoth"]),this.customPackPets.set(1,["Frilled Dragon","Mouse","Basilisk"]),this.customPackPets.set(2,["Wombat","Nightcrawler","Sphinx","Chupacabra","Golden Beetle"]),this.customPackPets.set(3,["Aardvark","Bear","Emperor Tamarin","Porcupine","Wasp","Foo Dog","Tree","Slime","Pegasus","Deer Lord"]),this.customPackPets.set(4,["Jerboa","Dragonfly","Lynx","Seagull","Fairy","Rootling","Anubis","Old Mouse","Hippocampus"]),this.customPackPets.set(5,["Alpaca","Hyena","Moose","Raccoon","Boitata","Kappa","Mimic","Nurikabe","Tandgnost","Tandgrisner"]),this.customPackPets.set(6,["Lioness","Tapir","Walrus","White Tiger","Great One","Leviathan","Questing Beast","Cockatrice","Albatross"]),this.setAllPets()}setAllPets(){this.allPets=new Map;for(let e=1;e<=6;e++)this.allPets.set(e,[]);for(let[e,i]of this.turtlePackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.puppyPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.starPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.goldenPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.unicornPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.allPets)this.allPets.set(e,[...new Set(i)])}createPet(e,i){switch(e.name){case"Ant":return new v_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cricket":return new lk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fish":return new ck(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Horse":return new uk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mosquito":return new hk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Duck":return new y_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Beaver":return new __(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Otter":return new dk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pig":return new fk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mouse":return new pk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pigeon":return new Z1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Snail":return new s7(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Crab":return new gk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Swan":return new mk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rat":return new vk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hedgehog":return new yk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Peacock":return new _k(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Flamingo":return new bk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Worm":return new Sk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kangaroo":return new Ek(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Spider":return new wk(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dodo":return new Ck(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Badger":return new kk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dolphin":return new S_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Giraffe":return new Dk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Elephant":return new Pk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Camel":return new Ak(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rabbit":return new Tk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ox":return new xk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dog":return new Mk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sheep":return new Ik(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Skunk":return new Nk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hippo":return new Rk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bison":return new Lk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Blowfish":return new Bk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Turtle":return new Vk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Squirrel":return new $k(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Penguin":return new Fk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Deer":return new Hk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Whale":return new qk(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Parrot":return new vh(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Scorpion":return new Gk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Crocodile":return new Uk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rhino":return new jk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Monkey":return new C_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Armadillo":return new Wk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cow":return new zk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Seal":return new Kk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rooster":return new Yk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Shark":return new Qk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Turkey":return new Jk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Leopard":return new Zk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Boar":return new Xk(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tiger":return new Ok(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wolverine":return new eD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Gorilla":return new tD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dragon":return new iD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mammoth":return new nD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cat":return new sD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Snake":return new rD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fly":return new oD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Moth":return new aD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bluebird":return new lD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chinchilla":return new cD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Beetle":return new uD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ladybug":return new hD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chipmunk":return new dD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Gecko":return new fD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ferret":return new pD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Frigatebird":return new mD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Robin":return new vD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bat":return new gD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dromedary":return new yD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Shrimp":return new _D(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Toucan":return new bD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Beluga Sturgeon":return new SD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tabby Cat":return new ED(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mandrill":return new wD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lemur":return new CD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hoopoe Bird":return new kD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tropical Fish":return new DD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hatching Chick":return new PD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Goldfish":return new AD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Owl":return new TD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mole":return new Wp(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Raccoon":return new xD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Flying Squirrel":return new P_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pangolin":return new MD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Puppy":return new ID(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hare":return new X1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Microbe":return new OD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lobster":return new ND(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Buffalo":return new RD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Llama":return new LD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Caterpillar":return new BD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Doberman":return new VD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tahr":return new $D(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Whale Shark":return new FD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chameleon":return new HD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Gharial":return new qD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Stonefish":return new GD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Poodle":return new UD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Goat":return new KD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chicken":return new jD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Eagle":return new WD(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Panther":return new Wt(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Axolotl":return new zD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Snapping Turtle":return new YD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mosasaurus":return new QD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"String Ray":return new JD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mantis Shrimp":return new ZD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lionfish":return new XD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tyrannosaurus":return new eP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Octopus":return new tP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Anglerfish":return new iP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sauropod":return new nP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Elephant Seal":return new sP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Puma":return new Sr(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mongoose":return new rP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pillbug":return new oP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Duckling":return new aP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cockroach":return new lP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Frog":return new cP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Seahorse":return new uP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Iguana":return new hP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hummingbird":return new dP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Marmoset":return new d1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kiwi":return new J1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Koala":return new fP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Yak":return new pP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Salamander":return new mP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Panda":return new vP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Guinea Pig":return new yP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Jellyfish":return new bP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pug":return new _P(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Atlantic Puffin":return new SP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dove":return new EP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Stork":return new wP(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"DumboOctopus":return new gP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Leech":return new CP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Woodpecker":return new kP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Toad":return new DP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Starfish":return new PP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Clownfish":return new AP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Blobfish":return new TP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cabybara":return new xP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Okapi":return new MP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cassowary":return new IP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Orangutang":return new T_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Eel":return new OP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hawk":return new NP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Platypus":return new RP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Praying Mantis":return new LP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Crow":return new BP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Donkey":return new VP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pelican":return new $P(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Anteater":return new FP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sword Fish":return new HP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Polar Bear":return new qP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Siberian Husky":return new GP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lion":return new UP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Triceratops":return new jP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Zebra":return new WP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fox":return new zP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hamster":return new KP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Shoebill":return new YP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Vulture":return new QP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Komodo":return new JP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ostrich":return new ZP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Reindeer":return new XP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Stegosaurus":return new eA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Piranha":return new tA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hammerhead Shark":return new iA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Velociraptor":return new nA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sabertooth Tiger":return new sA(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Orca":return new rA(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Spinosaurus":return new oA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bulldog":return new aA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Groundhog":return new x_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cone Snail":return new lA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Goose":return new cA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pied Tamarin":return new uA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Opossum":return new Q1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Silkmoth":return new hA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Magpie":return new dA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hercules Beetle":return new fA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Stoat":return new pA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Black Necked Stilt":return new gA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Squid":return new vA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sea Urchin":return new yA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Door Head Ant":return new _A(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lizard":return new bA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sea Turtle":return new SA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"African Penguin":return new EA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Musk Ox":return new wA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Flea":return new CA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Royal Flycatcher":return new qA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Surgeon Fish":return new kA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Weasel":return new DA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Guineafowl":return new PA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Betta Fish":return new AA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Meerkat":return new TA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Flying Fish":return new xA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Baboon":return new MA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Osprey":return new IA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Manatee":return new OA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cuttlefish":return new NA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Egyptian Vulture":return new RA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Saiga Antelope":return new LA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sealion":return new BA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Vaquita":return new VA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Slug":return new $A(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Poison Dart Frog":return new FA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Secretary Bird":return new HA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Falcon":return new GA(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Manta Ray":return new UA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Macaque":return new jA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nyala":return new WA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nurse Shark":return new zA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Beluga Whale":return new KA(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.belugaSwallowedPet);case"Wolf":return new YA(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Silver Fox":return new QA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fire Ant":return new JA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cockatoo":return new ZA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Blue Ringed Octopus":return new XA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Crane":return new e1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Emu":return new t1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wildebeast":return new i1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Highland Cow":return new n1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Catfish":return new s1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pteranodon":return new r1(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Warthog":return new o1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cobra":return new a1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Grizzly Bear":return new l1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"German Shephard":return new c1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bird of Paradise":return new u1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Oyster":return new h1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Jerboa":return new f1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Frilled Dragon":return new p1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wombat":return new g1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Aardvark":return new m1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bear":return new v1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Emperor Tamarin":return new y1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Porcupine":return new _1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wasp":return new b1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dragonfly":return new S1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lynx":return new E1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Seagull":return new G1(this.logService,this.abilityService,this,this.gameService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Alpaca":return new Yp(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hyena":return new U1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Moose":return new j1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lioness":return new W1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tapir":return new z1(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Walrus":return new K1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"White Tiger":return new Y1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Basilisk":return new ax(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nightcrawler":return new lx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sphinx":return new cx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chupacabra":return new ux(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Golden Beetle":return new hx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Foo Dog":return new dx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tree":return new fx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Slime":return new px(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.battlesFought);case"Pegasus":return new gx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Deer Lord":return new mx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fairy":return new vx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rootling":return new yx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Anubis":return new _x(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Old Mouse":return new bx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hippocampus":return new Sx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Boitata":return new Ex(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kappa":return new wx(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mimic":return new Cx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nurikabe":return new kx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tandgnost":return new tb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tandgrisner":return new ib(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Great One":return new nb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Leviathan":return new Dx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Questing Beast":return new Px(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cockatrice":return new Ax(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bee":return new _h(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bus":return new w_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Butterfly":return new A_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chick":return new k_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dirty Ray":return new b_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Golden Retriever":return new g_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lizard Tail":return new M_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nest":return new jp(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ram":return new E_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Smaller Slug":return new O_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Smallest Slug":return new I_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Zombie Cricket":return new mh(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Zombie Fly":return new Hp(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cracked Egg":return new U_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nessie?":return new Y_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Young Phoenix":return new Q_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fire Pup":return new J_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Monty":return new $_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rock":return new Qp(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Daycrawler":return new X_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Smaller Slime":return new eb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chim-Goat":return new j_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chim-Lion":return new W_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chim-Snake":return new z_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Head":return new Z_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Good Dog":return new Tx(this.logService,this.abilityService,this,this.gameService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Baku":return new eT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Axehandle Hound":return new tT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Barghest":return new nT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tsuchinoko":return new sT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Murmel":return new rT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Alchemedes":return new oT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Warf":return new aT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bunyip":return new lT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sneaky Egg":return new cT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cuddle Toad":return new uT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ghost Kitten":return new hT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Frost Wolf":return new fT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mothman":return new pT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Drop Bear":return new gT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Jackalope":return new mT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lucky Cat":return new vT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ogopogo":return new yT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Thunderbird":return new _T(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Gargoyle":return new bT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bigfoot":return new ST(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Skeleton Dog":return new ET(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mandrake":return new wT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fur-Bearing Trout":return new CT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mana Hound":return new kT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Calygreyhound":return new DT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Brain Cramp":return new PT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Minotaur":return new AT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wyvern":return new TT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ouroboros":return new xT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Griffin":return new MT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kraken":return new IT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Visitor":return new OT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Vampire Bat":return new NT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tiger Bug":return new RT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tatzelwurm":return new LT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cyclops":return new BT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chimera":return new VT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Roc":return new $T(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Worm of Sand":return new FT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Abomination":return new HT(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.abominationSwallowedPet1,e.abominationSwallowedPet2,e.abominationSwallowedPet3);case"Red Dragon":return new qT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Unicorn":return new GT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Loveland Frogman":return new UT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Salmon of Knowledge":return new K_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Jersey Devil":return new jT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pixiu":return new WT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kitsune":return new zT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nessie":return new KT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bad Dog":return new YT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Werewolf":return new QT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Manticore":return new JT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Phoenix":return new ZT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Quetzalcoatl":return new XT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Team Spirit":return new ex(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sleipnir":return new tx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sea Serpent":return new ix(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Yeti":return new nx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cerberus":return new sx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hydra":return new rx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Behemoth":return new ox(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment)}}createDefaultVersionOfPet(e,i=null,s=null){let r;return e instanceof v_&&(r=new v_(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof _h&&(r=new _h(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof lk&&(r=new lk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ck&&(r=new ck(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof uk&&(r=new uk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof hk&&(r=new hk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof mh&&(r=new mh(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof y_&&(r=new y_(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof __&&(r=new __(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof dk&&(r=new dk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof fk&&(r=new fk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof pk&&(r=new pk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Z1&&(r=new Z1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof gk&&(r=new gk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof mk&&(r=new mk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof vk&&(r=new vk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof yk&&(r=new yk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof _k&&(r=new _k(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof bk&&(r=new bk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Sk&&(r=new Sk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Ek&&(r=new Ek(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof wk&&(r=new wk(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof Ck&&(r=new Ck(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof kk&&(r=new kk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof S_&&(r=new S_(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Dk&&(r=new Dk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Pk&&(r=new Pk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Ak&&(r=new Ak(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Tk&&(r=new Tk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof xk&&(r=new xk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Mk&&(r=new Mk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Ik&&(r=new Ik(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Nk&&(r=new Nk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Rk&&(r=new Rk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Lk&&(r=new Lk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Bk&&(r=new Bk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Vk&&(r=new Vk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof $k&&(r=new $k(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Fk&&(r=new Fk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Hk&&(r=new Hk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof qk&&(r=new qk(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof vh&&(r=new vh(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof Gk&&(r=new Gk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Uk&&(r=new Uk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof jk&&(r=new jk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof C_&&(r=new C_(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Wk&&(r=new Wk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof zk&&(r=new zk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Kk&&(r=new Kk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Yk&&(r=new Yk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Qk&&(r=new Qk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Jk&&(r=new Jk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Zk&&(r=new Zk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Xk&&(r=new Xk(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Ok&&(r=new Ok(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof eD&&(r=new eD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof tD&&(r=new tD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof iD&&(r=new iD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof nD&&(r=new nD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof sD&&(r=new sD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof rD&&(r=new rD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof oD&&(r=new oD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof aD&&(r=new aD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof lD&&(r=new lD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof cD&&(r=new cD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof uD&&(r=new uD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof hD&&(r=new hD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof dD&&(r=new dD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof fD&&(r=new fD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof pD&&(r=new pD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof mD&&(r=new mD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof vD&&(r=new vD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof gD&&(r=new gD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof yD&&(r=new yD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof _D&&(r=new _D(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof bD&&(r=new bD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof SD&&(r=new SD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ED&&(r=new ED(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof wD&&(r=new wD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof CD&&(r=new CD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof kD&&(r=new kD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof DD&&(r=new DD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof PD&&(r=new PD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof AD&&(r=new AD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof TD&&(r=new TD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Wp&&(r=new Wp(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof xD&&(r=new xD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof P_&&(r=new P_(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof MD&&(r=new MD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ID&&(r=new ID(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof X1&&(r=new X1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof OD&&(r=new OD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ND&&(r=new ND(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof RD&&(r=new RD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof LD&&(r=new LD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof BD&&(r=new BD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof VD&&(r=new VD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof $D&&(r=new $D(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof FD&&(r=new FD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof HD&&(r=new HD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof qD&&(r=new qD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof GD&&(r=new GD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof UD&&(r=new UD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof KD&&(r=new KD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof jD&&(r=new jD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof WD&&(r=new WD(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof Wt&&(r=new Wt(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof zD&&(r=new zD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof YD&&(r=new YD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof QD&&(r=new QD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof JD&&(r=new JD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ZD&&(r=new ZD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof XD&&(r=new XD(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof eP&&(r=new eP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof tP&&(r=new tP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof iP&&(r=new iP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof nP&&(r=new nP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof sP&&(r=new sP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Sr&&(r=new Sr(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof rP&&(r=new rP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof oP&&(r=new oP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof aP&&(r=new aP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof lP&&(r=new lP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof J1&&(r=new J1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof cP&&(r=new cP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof uP&&(r=new uP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof hP&&(r=new hP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof dP&&(r=new dP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof d1&&(r=new d1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof fP&&(r=new fP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof pP&&(r=new pP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof mP&&(r=new mP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof vP&&(r=new vP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof yP&&(r=new yP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof bP&&(r=new bP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof _P&&(r=new _P(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof SP&&(r=new SP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof EP&&(r=new EP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof wP&&(r=new wP(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof gP&&(r=new gP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof CP&&(r=new CP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof kP&&(r=new kP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof DP&&(r=new DP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof PP&&(r=new PP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof AP&&(r=new AP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof TP&&(r=new TP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof xP&&(r=new xP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof MP&&(r=new MP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof IP&&(r=new IP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof T_&&(r=new T_(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof OP&&(r=new OP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof NP&&(r=new NP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof RP&&(r=new RP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof LP&&(r=new LP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof BP&&(r=new BP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof VP&&(r=new VP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof $P&&(r=new $P(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof FP&&(r=new FP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof HP&&(r=new HP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof qP&&(r=new qP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof GP&&(r=new GP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof UP&&(r=new UP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof jP&&(r=new jP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof WP&&(r=new WP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof zP&&(r=new zP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof KP&&(r=new KP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof YP&&(r=new YP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof QP&&(r=new QP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof JP&&(r=new JP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ZP&&(r=new ZP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof XP&&(r=new XP(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof eA&&(r=new eA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof tA&&(r=new tA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof iA&&(r=new iA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof nA&&(r=new nA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof sA&&(r=new sA(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof rA&&(r=new rA(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof oA&&(r=new oA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof aA&&(r=new aA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof x_&&(r=new x_(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof lA&&(r=new lA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof cA&&(r=new cA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof uA&&(r=new uA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Q1&&(r=new Q1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof hA&&(r=new hA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof dA&&(r=new dA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof fA&&(r=new fA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof pA&&(r=new pA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof gA&&(r=new gA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof vA&&(r=new vA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof yA&&(r=new yA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof _A&&(r=new _A(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof bA&&(r=new bA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof SA&&(r=new SA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof EA&&(r=new EA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof wA&&(r=new wA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof CA&&(r=new CA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof qA&&(r=new qA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof kA&&(r=new kA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof DA&&(r=new DA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof PA&&(r=new PA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof AA&&(r=new AA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof TA&&(r=new TA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof xA&&(r=new xA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof MA&&(r=new MA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof IA&&(r=new IA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof OA&&(r=new OA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof NA&&(r=new NA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof RA&&(r=new RA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof LA&&(r=new LA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof BA&&(r=new BA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof VA&&(r=new VA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof $A&&(r=new $A(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof FA&&(r=new FA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof HA&&(r=new HA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof GA&&(r=new GA(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof UA&&(r=new UA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof jA&&(r=new jA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof WA&&(r=new WA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof zA&&(r=new zA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof KA&&(r=new KA(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof YA&&(r=new YA(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof QA&&(r=new QA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof JA&&(r=new JA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ZA&&(r=new ZA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof XA&&(r=new XA(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof e1&&(r=new e1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof t1&&(r=new t1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof i1&&(r=new i1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof n1&&(r=new n1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof s1&&(r=new s1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof r1&&(r=new r1(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof o1&&(r=new o1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof a1&&(r=new a1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof l1&&(r=new l1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof c1&&(r=new c1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof u1&&(r=new u1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof h1&&(r=new h1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof _h&&(r=new _h(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof w_&&(r=new w_(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof A_&&(r=new A_(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof k_&&(r=new k_(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof b_&&(r=new b_(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof g_&&(r=new g_(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof M_&&(r=new M_(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof jp&&(r=new jp(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof E_&&(r=new E_(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof O_&&(r=new O_(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof I_&&(r=new I_(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof mh&&(r=new mh(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Hp&&(r=new Hp(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof U_&&(r=new U_(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Y_&&(r=new Y_(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Q_&&(r=new Q_(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof J_&&(r=new J_(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof $_&&(r=new $_(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Qp&&(r=new Qp(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof X_&&(r=new X_(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof eb&&(r=new eb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof j_&&(r=new j_(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof W_&&(r=new W_(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof z_&&(r=new z_(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Z_&&(r=new Z_(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Tx&&(r=new Tx(this.logService,this.abilityService,this,this.gameService,e.parent,i,s,0,w(e.level))),e instanceof f1&&(r=new f1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof p1&&(r=new p1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof g1&&(r=new g1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof m1&&(r=new m1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof v1&&(r=new v1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof y1&&(r=new y1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof _1&&(r=new _1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof b1&&(r=new b1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof S1&&(r=new S1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof E1&&(r=new E1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof G1&&(r=new G1(this.logService,this.abilityService,this,this.gameService,e.parent,i,s,0,w(e.level))),e instanceof Yp&&(r=new Yp(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof U1&&(r=new U1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof j1&&(r=new j1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof W1&&(r=new W1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof z1&&(r=new z1(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof K1&&(r=new K1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Y1&&(r=new Y1(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ax&&(r=new ax(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof lx&&(r=new lx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof cx&&(r=new cx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ux&&(r=new ux(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof hx&&(r=new hx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof dx&&(r=new dx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof fx&&(r=new fx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof px&&(r=new px(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof gx&&(r=new gx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof mx&&(r=new mx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof vx&&(r=new vx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof yx&&(r=new yx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof _x&&(r=new _x(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof bx&&(r=new bx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Sx&&(r=new Sx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Ex&&(r=new Ex(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof wx&&(r=new wx(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof Cx&&(r=new Cx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof kx&&(r=new kx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof tb&&(r=new tb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ib&&(r=new ib(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof nb&&(r=new nb(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Dx&&(r=new Dx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Px&&(r=new Px(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Ax&&(r=new Ax(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof Q3&&(r=new Q3(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof eT&&(r=new eT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof tT&&(r=new tT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof nT&&(r=new nT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof sT&&(r=new sT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof rT&&(r=new rT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof oT&&(r=new oT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof aT&&(r=new aT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof lT&&(r=new lT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof cT&&(r=new cT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof uT&&(r=new uT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof hT&&(r=new hT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof fT&&(r=new fT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof pT&&(r=new pT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof gT&&(r=new gT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof mT&&(r=new mT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof vT&&(r=new vT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof yT&&(r=new yT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof _T&&(r=new _T(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof bT&&(r=new bT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ST&&(r=new ST(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ET&&(r=new ET(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof wT&&(r=new wT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof CT&&(r=new CT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof kT&&(r=new kT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof DT&&(r=new DT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof PT&&(r=new PT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof AT&&(r=new AT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof TT&&(r=new TT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof xT&&(r=new xT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof MT&&(r=new MT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof IT&&(r=new IT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof OT&&(r=new OT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof NT&&(r=new NT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof RT&&(r=new RT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof LT&&(r=new LT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof BT&&(r=new BT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof VT&&(r=new VT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof $T&&(r=new $T(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof FT&&(r=new FT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof HT&&(r=new HT(this.logService,this.abilityService,this,e.parent,i,s,0,w(e.level))),e instanceof qT&&(r=new qT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof GT&&(r=new GT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof UT&&(r=new UT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof K_&&(r=new K_(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof jT&&(r=new jT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof WT&&(r=new WT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof zT&&(r=new zT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof KT&&(r=new KT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof YT&&(r=new YT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof QT&&(r=new QT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof JT&&(r=new JT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ZT&&(r=new ZT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof XT&&(r=new XT(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ex&&(r=new ex(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof tx&&(r=new tx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ix&&(r=new ix(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof nx&&(r=new nx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof sx&&(r=new sx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof rx&&(r=new rx(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),e instanceof ox&&(r=new ox(this.logService,this.abilityService,e.parent,i,s,0,w(e.level))),r}getRandomPet(e){let s,i=Go(1,6);s="Turtle"==e.pack?this.turtlePackPets.get(i):"Puppy"==e.pack?this.puppyPackPets.get(i):"Star"==e.pack?this.starPackPets.get(i):"Golden"==e.pack?this.goldenPackPets.get(i):"Unicorn"==e.pack?this.unicornPackPets.get(i):this.playerCustomPackPets.get(e.pack).get(i);let o=s[Go(0,s.length-1)];return this.createPet({attack:null,equipment:null,exp:Go(0,5),health:null,name:o,mana:null},e)}getRandomFaintPet(e){let i=["Ant","Cricket","Rat","Hedgehog","Flamingo","Spider","Badger","Sheep","Turtle","Deer","Rooster","Mammoth","Beluga Sturgeon","Hoopoe Bird","Mole","Pangolin","Microbe","Tahr","Chameleon","Stonefish","Chicken","Eagle","Snapping Turtle","Lionfish","Stork","Blobfish","Anteater","Groundhog","Pied Tamarin","Black Necked Stilt","Squid","Flea","Weasel","Betta Fish","Osprey","Cuttlefish","Vaquita","Slug","Nyala","Nurse Shark","Wolf","Fire Ant","Warthog","Bear","Tapir","Walrus","Frost Wolf","Mothman","Gargoyle","Bigfoot","Skeleton Dog","Fur-Bearing Trout","Calygreyhound","Visitor","Chimera","Pixiu","Nessie","Phoenix","Sea Serpent","Hydra","Nightcrawler","Slime","Kappa"],s=i[Go(0,i.length-1)];return this.createPet({name:s,attack:null,equipment:null,exp:0,health:null,mana:null},e)}}return n.\u0275fac=function(e){return new(e||n)(H(sb),H(rb),H(Eh))},n.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function w(n){return 1==n?0:2==n?2:5}class r7 extends ge{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Yggdrasil Fruit",this.equipmentClass="faint",this.callback=i=>{let s=1;i instanceof Wt&&(s=1+i.level);for(let r=0;r<s;r++)this.abilityService.setSpawnEvent({callback:()=>{let o=new tb(this.logService,this.abilityService,i.parent,3,3,0);i.parent.summonPet(o,i.savedPosition);let a="";r>0&&(a=" (Panther)"),this.logService.createLog({message:`${i.name} Spawned Tandgnost (Yggdrasil Fruit)${a}`,type:"ability",player:i.parent}),this.abilityService.triggerSummonedEvents(o)},priority:-1}),this.abilityService.setSpawnEvent({callback:()=>{let o=new ib(this.logService,this.abilityService,i.parent,3,3,0);i.parent.summonPet(o,i.savedPosition);let a="";r>0&&(a=" (Panther)"),this.logService.createLog({message:`${i.name} Spawned Tandgrisner (Yggdrasil Fruit)${a}`,type:"ability",player:i.parent}),this.abilityService.triggerSummonedEvents(o)},priority:-1})}}}let ab=(()=>{class n{constructor(e,i,s,r){this.logService=e,this.abilityService=i,this.petService=s,this.gameService=r}getInstanceOfAllEquipment(){let e=new Map;return e.set("Garlic",new bh),e.set("Meat Bone",new D_),e.set("Steak",new w1),e.set("Melon",new jr),e.set("Honey",new qp(this.logService,this.abilityService)),e.set("Chili",new yh(this.logService,this.abilityService)),e.set("Mushroom",new C1(this.logService,this.abilityService,this.petService)),e.set("Coconut",new Wr),e.set("Peanut",new qa),e.set("Peanut Butter",new K3),e.set("Croissant",new k1),e.set("Rice",new Gp),e.set("Egg",new Up(this.logService,this.abilityService)),e.set("Salt",new Lp),e.set("Pie",new N_),e.set("Skewer",new zp(this.logService)),e.set("Lemon",new D1),e.set("Pancakes",new R_),e.set("Strawberry",new P1),e.set("Cucumber",new A1),e.set("Cheese",new Bp),e.set("Grapes",new N1),e.set("Carrot",new O1),e.set("Pepper",new Vp),e.set("Popcorn",new R1(this.logService,this.abilityService,this.petService,this.gameService)),e.set("Cherry",new L_),e.set("Chocolate Cake",new Kp(this.logService,this.abilityService)),e.set("Eggplant",new B_(this.logService)),e.set("Potato",new M1),e.set("Banana",new T1(this.logService,this.abilityService)),e.set("Onion",new m_(this.logService)),e.set("Pita Bread",new V_(this.logService)),e.set("Tomato",new I1(this.logService,this.abilityService)),e.set("Durian",new x1(this.logService,this.abilityService)),e.set("Fortune Cookie",new $p),e.set("Blueberry",new L1),e.set("Donut",new B1),e.set("Pineapple",new V1),e.set("Fig",new $1),e.set("Rambutan",new Sh(this.logService)),e.set("Love Potion",new G_(this.logService)),e.set("Fairy Dust",new F_(this.logService)),e.set("Gingerbread Man",new H_(this.logService)),e.set("Easter Egg",new F1(this.logService,this.abilityService)),e.set("Health Potion",new q_(this.logService)),e.set("Magic Beans",new q1),e.set("Golden Egg",new H1(this.logService,this.abilityService)),e.set("Yggdrasil Fruit",new r7(this.logService,this.abilityService)),e}getInstanceOfAllAilments(){let e=new Map;return e.set("Cold",new dT),e.set("Crisp",new dc),e.set("Dazed",new p_),e.set("Exposed",new Fp),e.set("Ink",new mA),e.set("Spooked",new iT),e.set("Weak",new Uo),e}}return n.\u0275fac=function(e){return new(e||n)(H(sb),H(rb),H(ob),H(Eh))},n.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function o7(n,t){if(1&n){const e=Hr();p(0,"span",22),je("click",function(){return Vt(e),We().setExp(0)}),S(1,"x"),g()}}function a7(n,t){if(1&n&&(p(0,"option",9),S(1),g()),2&n){const e=t.$implicit;W("ngValue",e),F(1),Mi(e)}}function l7(n,t){if(1&n&&(p(0,"option",25),S(1),g()),2&n){const e=t.$implicit,i=We(2);W("ngValue",e)("hidden",i.optionHidden(e))("disabled",i.optionHidden(e)),F(1),Mi(e)}}function c7(n,t){if(1&n&&(p(0,"optgroup",23),Oe(1,l7,2,4,"option",24),g()),2&n){const e=t.$implicit;W("label","Tier "+e.key),F(1),W("ngForOf",e.value)}}function u7(n,t){if(1&n){const e=Hr();p(0,"button",26),je("click",function(){return Vt(e),We().toggleFlyOut()}),S(1,">"),g()}}function h7(n,t){if(1&n&&(p(0,"option",25),S(1),g()),2&n){const e=t.$implicit,i=We(4);W("ngValue",e)("hidden",i.optionHidden(e))("disabled",i.optionHidden(e)),F(1),Mi(e)}}function d7(n,t){if(1&n&&(p(0,"optgroup",23),Oe(1,h7,2,4,"option",24),g()),2&n){const e=t.$implicit;W("label","Tier "+e.key),F(1),W("ngForOf",e.value)}}function f7(n,t){if(1&n&&(p(0,"div"),p(1,"label",29),S(2,"Swallowed Pet"),g(),p(3,"select",30),p(4,"option",9),S(5,"None"),g(),Oe(6,d7,2,2,"optgroup",12),Ia(7,"keyvalue"),g(),g()),2&n){const e=We(2);F(4),W("ngValue",null),F(2),W("ngForOf",Oa(7,2,e.pets))}}function p7(n,t){if(1&n&&(p(0,"option",25),S(1),g()),2&n){const e=t.$implicit,i=We(5);W("ngValue",e)("hidden",i.optionHidden(e))("disabled",i.optionHidden(e)),F(1),Mi(e)}}function g7(n,t){if(1&n&&(p(0,"optgroup",23),Oe(1,p7,2,4,"option",24),g()),2&n){const e=t.$implicit;W("label","Tier "+e.key),F(1),W("ngForOf",e.value)}}function m7(n,t){if(1&n&&(p(0,"div"),p(1,"label",32),S(2,"Swallowed Pet"),g(),p(3,"select",33),p(4,"option",9),S(5,"None"),g(),Oe(6,g7,2,2,"optgroup",12),Ia(7,"keyvalue"),g(),g()),2&n){const e=t.index,i=We(3);F(1),Zf("for","abominationSwallowedPet",e+1,""),F(2),Zf("formControlName","abominationSwallowedPet",e+1,""),F(1),W("ngValue",null),F(2),W("ngForOf",Oa(7,4,i.startOfBattlePets))}}const v7=function(){return[]};function y7(n,t){if(1&n&&(p(0,"div"),Oe(1,m7,8,6,"div",31),g()),2&n){const e=We(2);F(1),W("ngForOf",function(n,t,e){const i=Hi()+n,s=z();return s[i]===fe?Fr(s,i,e?t.call(e):t()):function(n,t){return n[t]}(s,i)}(1,v7).constructor(e.pet.level))}}function _7(n,t){1&n&&(p(0,"div"),p(1,"label",34),S(2,"Battles Fought"),g(),re(3,"input",35),g())}function b7(n,t){if(1&n&&(p(0,"div",27),Oe(1,f7,8,4,"div",28),Oe(2,y7,2,2,"div",28),Oe(3,_7,4,0,"div",28),g()),2&n){const e=We();F(1),W("ngIf","Beluga Whale"==e.pet.name),F(1),W("ngIf","Abomination"==e.pet.name),F(1),W("ngIf","Slime"==e.pet.name)}}function S7(n,t){if(1&n&&(p(0,"option",9),S(1),g()),2&n){const e=t.$implicit;W("ngValue",e.value),F(1),Mi(e.key)}}function E7(n,t){if(1&n&&(p(0,"option",9),S(1),g()),2&n){const e=t.$implicit;W("ngValue",e.value),F(1),Mi(e.key)}}function w7(n,t){if(1&n&&(p(0,"optgroup",36),Oe(1,E7,2,2,"option",11),Ia(2,"keyvalue"),g()),2&n){const e=We();F(1),W("ngForOf",Oa(2,1,e.ailmentEquipment))}}function C7(n,t){1&n&&(p(0,"div",37),re(1,"input",38),g())}let J3=(()=>{class n{constructor(e,i){this.petService=e,this.equipmentService=i,this.showFlyOut=!1,this.attackHealthMax=50,this.showTokenPets=!1,this.tokenPets=["Bee","Bus","Chick","Dirty Rat","Lizard Tail","Ram","Smaller Slug","Smallest Slug","Zombie Cricket","Zombie Fly","Chim-Goat","Chim-Lion","Chim-Snake","Daycrawler","Head","Monty","Nessie?","Smaller Slime","Young Phoenix","Good Dog"]}ngOnInit(){var e;this.initSelector(),this.fixLoadEquipment(),"Behemoth"==(null===(e=this.pet)||void 0===e?void 0:e.name)&&(this.attackHealthMax=100)}initSelector(){this.initPets(),this.initEquipment(),this.initForm()}initPets(){this.pets=new Map;for(let e=1;e<=6;e++)this.pets.set(e,[]);for(let[e,i]of this.petService.turtlePackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.puppyPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.starPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.goldenPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.unicornPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.customPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.pets)this.pets.set(e,[...new Set(i)]);this.initStartOfBattlePets(),console.log("pets",this.pets)}initStartOfBattlePets(){this.startOfBattlePets=new Map;for(let e=1;e<=6;e++){let i=[];for(let s of this.pets.get(e))this.petService.startOfBattlePets.includes(s)&&i.push(s);this.startOfBattlePets.set(e,i)}}getPack(e){let i;if("Turtle"==e.pack)i=this.petService.turtlePackPets;else if("Puppy"==e.pack)i=this.petService.puppyPackPets;else if("Star"==e.pack)i=this.petService.starPackPets;else if("Golden"==e.pack)i=this.petService.goldenPackPets;else if("Unicorn"==e.pack)i=this.petService.unicornPackPets;else try{i=this.buildCustomPack(e.pack)}catch(s){i=this.petService.turtlePackPets}return(0,ve.cloneDeep)(i)}buildCustomPack(e){let i;for(let r of this.customPacks.controls)if(r.get("name").value==e){i=r;break}let s=new Map;for(let r=1;r<=6;r++)s.set(r,i.get(`tier${r}Pets`).value);return s}initEquipment(){this.equipment=this.equipmentService.getInstanceOfAllEquipment(),this.ailmentEquipment=this.equipmentService.getInstanceOfAllAilments()}initForm(){this.formGroup.get("name").valueChanges.subscribe(e=>{null!=e?this.substitutePet(!0):this.removePet()}),this.formGroup.get("attack").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("health").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("exp").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("equipment").valueChanges.subscribe(e=>{if(null!=e&&null==e.reset){let i=this.equipment.get(e.name);null==i&&(i=this.ailmentEquipment.get(e.name)),this.formGroup.get("equipment").setValue(i,{emitEvent:!1})}this.substitutePet(!1)}),this.formGroup.get("belugaSwallowedPet").valueChanges.subscribe(e=>{this.setBelugaSwallow(e)}),this.formGroup.get("abominationSwallowedPet1").valueChanges.subscribe(e=>{this.setSwallowedPets(e)}),this.formGroup.get("abominationSwallowedPet2").valueChanges.subscribe(e=>{this.setSwallowedPets(e)}),this.formGroup.get("abominationSwallowedPet3").valueChanges.subscribe(e=>{this.setSwallowedPets(e)}),this.formGroup.get("mana").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("battlesFought").valueChanges.subscribe(e=>{this.setBattlesFought(e)})}setExp(e){this.formGroup.get("exp").setValue(e)}getIsSelected(e){return this.formGroup.get("exp").value>=e}showRemoveExp(){return this.formGroup.get("exp").value>0}substitutePet(e=!1){setTimeout(()=>{var i;let s=this.formGroup.value;e&&(s.attack=null,s.health=null,s.mana=null);let r=s.equipment;null!=r&&(s.equipment=null!==(i=this.equipment.get(r.name))&&void 0!==i?i:this.ailmentEquipment.get(r.name));let o=this.petService.createPet(s,this.player);this.player.setPet(this.index,o,!0),e&&(this.formGroup.get("attack").setValue(o.attack,{emitEvent:!1}),this.formGroup.get("health").setValue(o.health,{emitEvent:!1}),this.formGroup.get("mana").setValue(o.mana,{emitEvent:!1})),this.attackHealthMax="Behemoth"==this.formGroup.get("name").value?100:50})}setBelugaSwallow(e){let i=this.player.getPet(this.index);null!=i&&(i.belugaSwallowedPet=e)}setSwallowedPets(e){let i=this.player.getPet(this.index);if(null==i)return;let s=[];null!=this.formGroup.get("abominationSwallowedPet1").value&&s.push(this.formGroup.get("abominationSwallowedPet1").value),null!=this.formGroup.get("abominationSwallowedPet2").value&&s.push(this.formGroup.get("abominationSwallowedPet2").value),null!=this.formGroup.get("abominationSwallowedPet3").value&&s.push(this.formGroup.get("abominationSwallowedPet3").value),console.log(s),i.abominationSwallowedPet1=s[0],i.abominationSwallowedPet2=s[1],i.abominationSwallowedPet3=s[2]}setBattlesFought(e){let i=this.player.getPet(this.index);null!=i&&(i.battlesFought=e)}showFlyOutButton(){return["Beluga Whale","Abomination","Slime"].includes(this.formGroup.get("name").value)}toggleFlyOut(){this.showFlyOut=!this.showFlyOut}removePet(){this.player.setPet(this.index,null,!0),this.formGroup.get("name").setValue(null,{emitEvent:!1}),this.formGroup.get("attack").setValue(0,{emitEvent:!1}),this.formGroup.get("health").setValue(0,{emitEvent:!1}),this.formGroup.get("exp").setValue(0,{emitEvent:!1}),this.formGroup.get("equipment").setValue(null,{emitEvent:!1}),this.formGroup.get("mana").setValue(0,{emitEvent:!1})}optionHidden(e){var i;if(this.allPets)return!1;let s=this.getPack(this.player);for(let[r,o]of s)if(o.includes(e))return!1;if(this.angler){let r=this.getPack(this.opponent);for(let[o,a]of r)if(a.includes(e))return!1}return(null===(i=this.player.getPet(this.index))||void 0===i?void 0:i.name)!=e}fixLoadEquipment(){let e=this.formGroup.get("equipment").value;if(null==e)return;let i=this.equipment.get(e.name);null==i&&(i=this.ailmentEquipment.get(e.name)),this.formGroup.get("equipment").setValue(i)}}return n.\u0275fac=function(e){return new(e||n)(V(ob),V(ab))},n.\u0275cmp=Ln({type:n,selectors:[["app-pet-selector"]],inputs:{pet:"pet",player:"player",opponent:"opponent",index:"index",angler:"angler",ailments:"ailments",allPets:"allPets",mana:"mana",formGroup:"formGroup",customPacks:"customPacks",showTokenPets:"showTokenPets"},decls:40,vars:28,consts:[[1,"card","p-3"],[1,"row","form-group",3,"formGroup"],[1,"col-12","d-flex","level-bar-numbers","mb-1"],[1,"level-3"],[1,"col-12","d-flex","level-bar","mb-2"],["class","remove-exp",3,"click",4,"ngIf"],[3,"click"],[1,"col-12","mb-2","d-flex"],["formControlName","name",1,"form-control"],[3,"ngValue"],["label","Token Pets",3,"hidden"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"label",4,"ngFor","ngForOf"],["class","btn btn-secondary",3,"click",4,"ngIf"],["class","fly-out border p-3",4,"ngIf"],[1,"col-12","mb-2"],["formControlName","equipment",1,"form-control"],["label","Ailments",4,"ngIf"],["class","col-12 d-flex justify-content-center",4,"ngIf"],[1,"col-6"],["formControlName","attack","type","number","min","1",1,"form-control","select-attack",3,"max"],["formControlName","health","type","number","min","1",1,"form-control","select-health",3,"max"],[1,"remove-exp",3,"click"],[3,"label"],[3,"ngValue","hidden","disabled",4,"ngFor","ngForOf"],[3,"ngValue","hidden","disabled"],[1,"btn","btn-secondary",3,"click"],[1,"fly-out","border","p-3"],[4,"ngIf"],["for","belugaSwallowedPet"],["formControlName","belugaSwallowedPet",1,"form-control"],[4,"ngFor","ngForOf"],[3,"for"],[1,"form-control",3,"formControlName"],["for","battlesFought"],["formControlName","battlesFought","type","number","max","99",1,"form-control"],["label","Ailments"],[1,"col-12","d-flex","justify-content-center"],["formControlName","mana","type","number","min","0","max","100",1,"form-control","select-mana"]],template:function(e,i){1&e&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"span"),S(4,"1"),g(),re(5,"span"),p(6,"span"),S(7,"2"),g(),re(8,"span"),p(9,"span",3),S(10,"3"),g(),g(),p(11,"div",4),Oe(12,o7,2,0,"span",5),p(13,"span",6),je("click",function(){return i.setExp(1)}),g(),p(14,"span",6),je("click",function(){return i.setExp(2)}),g(),p(15,"span",6),je("click",function(){return i.setExp(3)}),g(),p(16,"span",6),je("click",function(){return i.setExp(4)}),g(),p(17,"span",6),je("click",function(){return i.setExp(5)}),g(),g(),p(18,"div",7),p(19,"select",8),p(20,"option",9),S(21,"None"),g(),p(22,"optgroup",10),Oe(23,a7,2,2,"option",11),g(),Oe(24,c7,2,2,"optgroup",12),Ia(25,"keyvalue"),g(),Oe(26,u7,2,0,"button",13),Oe(27,b7,4,3,"div",14),g(),p(28,"div",15),p(29,"select",16),p(30,"option",9),S(31,"None"),g(),Oe(32,S7,2,2,"option",11),Ia(33,"keyvalue"),Oe(34,w7,3,3,"optgroup",17),g(),g(),Oe(35,C7,2,0,"div",18),p(36,"div",19),re(37,"input",20),g(),p(38,"div",19),re(39,"input",21),g(),g(),g()),2&e&&(F(1),W("formGroup",i.formGroup),F(11),W("ngIf",i.showRemoveExp()),F(1),Os(i.getIsSelected(1)?"selected":""),F(1),Os(i.getIsSelected(2)?"selected":""),F(1),Os(i.getIsSelected(3)?"selected":""),F(1),Os(i.getIsSelected(4)?"selected":""),F(1),Os(i.getIsSelected(5)?"selected":""),F(3),W("ngValue",null),F(2),W("hidden",!i.showTokenPets),F(1),W("ngForOf",i.tokenPets),F(1),W("ngForOf",Oa(25,24,i.pets)),F(2),W("ngIf",i.showFlyOutButton()),F(1),W("ngIf",i.showFlyOut),F(3),W("ngValue",null),F(2),W("ngForOf",Oa(33,26,i.equipment)),F(2),W("ngIf",i.ailments),F(1),W("ngIf",i.mana),F(2),W("max",i.attackHealthMax),F(2),W("max",i.attackHealthMax))},directives:[hc,qo,fh,Np,uc,Ha,nk,rk,Dp,Ho,h_,ok,d_],pipes:[k0],styles:[".select-attack[_ngcontent-%COMP%]{background-color:gray;color:#fff}.select-health[_ngcontent-%COMP%]{background-color:#ca0202;color:#fff}.select-mana[_ngcontent-%COMP%]{background-color:#7388f8;color:#fff;width:45%}.select-attack[_ngcontent-%COMP%], .select-health[_ngcontent-%COMP%], .select-mana[_ngcontent-%COMP%]{font-size:1.5em;padding-right:0}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% / 5);height:100%}.level-bar[_ngcontent-%COMP%]{position:relative}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:initial;border-radius:initial;width:initial;position:absolute;left:0;bottom:.33em}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.level-3[_ngcontent-%COMP%]{text-align:right}.fly-out[_ngcontent-%COMP%]{position:absolute;left:100%;background-color:#fff;width:100%;z-index:1;box-shadow:12px 4px 9px 7px #0000001a}"]}),n})();var In="top",us="bottom",hs="right",On="left",lb="auto",wh=[In,us,hs,On],fc="start",Ch="end",Z3="clippingParents",xx="viewport",kh="popper",X3="reference",Mx=wh.reduce(function(n,t){return n.concat([t+"-"+fc,t+"-"+Ch])},[]),Ix=[].concat(wh,[lb]).reduce(function(n,t){return n.concat([t,t+"-"+fc,t+"-"+Ch])},[]),eB="beforeRead",tB="read",iB="afterRead",nB="beforeMain",sB="main",rB="afterMain",oB="beforeWrite",aB="write",lB="afterWrite",cB=[eB,tB,iB,nB,sB,rB,oB,aB,lB];function zr(n){return n?(n.nodeName||"").toLowerCase():null}function ds(n){if(null==n)return window;if("[object Window]"!==n.toString()){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function pc(n){return n instanceof ds(n).Element||n instanceof Element}function Fs(n){return n instanceof ds(n).HTMLElement||n instanceof HTMLElement}function Ox(n){return"undefined"!=typeof ShadowRoot&&(n instanceof ds(n).ShadowRoot||n instanceof ShadowRoot)}const Nx={name:"applyStyles",enabled:!0,phase:"write",fn:function(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},s=t.attributes[e]||{},r=t.elements[e];!Fs(r)||!zr(r)||(Object.assign(r.style,i),Object.keys(s).forEach(function(o){var a=s[o];!1===a?r.removeAttribute(o):r.setAttribute(o,!0===a?"":a)}))})},effect:function(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var s=t.elements[i],r=t.attributes[i]||{},a=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]).reduce(function(l,h){return l[h]="",l},{});!Fs(s)||!zr(s)||(Object.assign(s.style,a),Object.keys(r).forEach(function(l){s.removeAttribute(l)}))})}},requires:["computeStyles"]};function Kr(n){return n.split("-")[0]}var gc=Math.max,cb=Math.min,Dh=Math.round;function Rx(){var n=navigator.userAgentData;return null!=n&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function uB(){return!/^((?!chrome|android).)*safari/i.test(Rx())}function Ph(n,t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);var i=n.getBoundingClientRect(),s=1,r=1;t&&Fs(n)&&(s=n.offsetWidth>0&&Dh(i.width)/n.offsetWidth||1,r=n.offsetHeight>0&&Dh(i.height)/n.offsetHeight||1);var a=(pc(n)?ds(n):window).visualViewport,l=!uB()&&e,h=(i.left+(l&&a?a.offsetLeft:0))/s,f=(i.top+(l&&a?a.offsetTop:0))/r,m=i.width/s,y=i.height/r;return{width:m,height:y,top:f,right:h+m,bottom:f+y,left:h,x:h,y:f}}function Lx(n){var t=Ph(n),e=n.offsetWidth,i=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:i}}function hB(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&Ox(e)){var i=t;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function jo(n){return ds(n).getComputedStyle(n)}function P7(n){return["table","td","th"].indexOf(zr(n))>=0}function Ga(n){return((pc(n)?n.ownerDocument:n.document)||window.document).documentElement}function ub(n){return"html"===zr(n)?n:n.assignedSlot||n.parentNode||(Ox(n)?n.host:null)||Ga(n)}function dB(n){return Fs(n)&&"fixed"!==jo(n).position?n.offsetParent:null}function Jp(n){for(var t=ds(n),e=dB(n);e&&P7(e)&&"static"===jo(e).position;)e=dB(e);return e&&("html"===zr(e)||"body"===zr(e)&&"static"===jo(e).position)?t:e||function(n){var t=/firefox/i.test(Rx());if(/Trident/i.test(Rx())&&Fs(n)&&"fixed"===jo(n).position)return null;var s=ub(n);for(Ox(s)&&(s=s.host);Fs(s)&&["html","body"].indexOf(zr(s))<0;){var r=jo(s);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return s;s=s.parentNode}return null}(n)||t}function Bx(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Zp(n,t,e){return gc(n,cb(t,e))}function pB(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function gB(n,t){return t.reduce(function(e,i){return e[i]=n,e},{})}const mB={name:"arrow",enabled:!0,phase:"main",fn:function(n){var t,e=n.state,i=n.name,s=n.options,r=e.elements.arrow,o=e.modifiersData.popperOffsets,a=Kr(e.placement),l=Bx(a),f=[On,hs].indexOf(a)>=0?"height":"width";if(r&&o){var m=function(t,e){return pB("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:gB(t,wh))}(s.padding,e),y=Lx(r),b="y"===l?In:On,C="y"===l?us:hs,T=e.rects.reference[f]+e.rects.reference[l]-o[l]-e.rects.popper[f],P=o[l]-e.rects.reference[l],O=Jp(r),I=O?"y"===l?O.clientHeight||0:O.clientWidth||0:0,X=I/2-y[f]/2+(T/2-P/2),ne=Zp(m[b],X,I-y[f]-m[C]);e.modifiersData[i]=((t={})[l]=ne,t.centerOffset=ne-X,t)}},effect:function(n){var t=n.state,i=n.options.element,s=void 0===i?"[data-popper-arrow]":i;null!=s&&("string"==typeof s&&!(s=t.elements.popper.querySelector(s))||!hB(t.elements.popper,s)||(t.elements.arrow=s))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ah(n){return n.split("-")[1]}var O7={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vB(n){var t,e=n.popper,i=n.popperRect,s=n.placement,r=n.variation,o=n.offsets,a=n.position,l=n.gpuAcceleration,h=n.adaptive,f=n.roundOffsets,m=n.isFixed,y=o.x,b=void 0===y?0:y,C=o.y,T=void 0===C?0:C,P="function"==typeof f?f({x:b,y:T}):{x:b,y:T};b=P.x,T=P.y;var O=o.hasOwnProperty("x"),I=o.hasOwnProperty("y"),B=On,G=In,Q=window;if(h){var X=Jp(e),ne="clientHeight",Pe="clientWidth";X===ds(e)&&"static"!==jo(X=Ga(e)).position&&"absolute"===a&&(ne="scrollHeight",Pe="scrollWidth"),(s===In||(s===On||s===hs)&&r===Ch)&&(G=us,T-=(m&&X===Q&&Q.visualViewport?Q.visualViewport.height:X[ne])-i.height,T*=l?1:-1),s!==On&&(s!==In&&s!==us||r!==Ch)||(B=hs,b-=(m&&X===Q&&Q.visualViewport?Q.visualViewport.width:X[Pe])-i.width,b*=l?1:-1)}var mt,ft=Object.assign({position:a},h&&O7),Gt=!0===f?function(n,t){var i=n.y,s=t.devicePixelRatio||1;return{x:Dh(n.x*s)/s||0,y:Dh(i*s)/s||0}}({x:b,y:T},ds(e)):{x:b,y:T};return b=Gt.x,T=Gt.y,Object.assign({},ft,l?((mt={})[G]=I?"0":"",mt[B]=O?"0":"",mt.transform=(Q.devicePixelRatio||1)<=1?"translate("+b+"px, "+T+"px)":"translate3d("+b+"px, "+T+"px, 0)",mt):((t={})[G]=I?T+"px":"",t[B]=O?b+"px":"",t.transform="",t))}const Vx={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(n){var t=n.state,e=n.options,i=e.gpuAcceleration,s=void 0===i||i,r=e.adaptive,o=void 0===r||r,a=e.roundOffsets,l=void 0===a||a,h={placement:Kr(t.placement),variation:Ah(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,vB(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,vB(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var hb={passive:!0};const $x={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(n){var t=n.state,e=n.instance,i=n.options,s=i.scroll,r=void 0===s||s,o=i.resize,a=void 0===o||o,l=ds(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&h.forEach(function(f){f.addEventListener("scroll",e.update,hb)}),a&&l.addEventListener("resize",e.update,hb),function(){r&&h.forEach(function(f){f.removeEventListener("scroll",e.update,hb)}),a&&l.removeEventListener("resize",e.update,hb)}},data:{}};var B7={left:"right",right:"left",bottom:"top",top:"bottom"};function db(n){return n.replace(/left|right|bottom|top/g,function(t){return B7[t]})}var V7={start:"end",end:"start"};function yB(n){return n.replace(/start|end/g,function(t){return V7[t]})}function Fx(n){var t=ds(n);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Hx(n){return Ph(Ga(n)).left+Fx(n).scrollLeft}function qx(n){var t=jo(n);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function _B(n){return["html","body","#document"].indexOf(zr(n))>=0?n.ownerDocument.body:Fs(n)&&qx(n)?n:_B(ub(n))}function Xp(n,t){var e;void 0===t&&(t=[]);var i=_B(n),s=i===(null==(e=n.ownerDocument)?void 0:e.body),r=ds(i),o=s?[r].concat(r.visualViewport||[],qx(i)?i:[]):i,a=t.concat(o);return s?a:a.concat(Xp(ub(o)))}function Gx(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function bB(n,t,e){return t===xx?Gx(function(n,t){var e=ds(n),i=Ga(n),s=e.visualViewport,r=i.clientWidth,o=i.clientHeight,a=0,l=0;if(s){r=s.width,o=s.height;var h=uB();(h||!h&&"fixed"===t)&&(a=s.offsetLeft,l=s.offsetTop)}return{width:r,height:o,x:a+Hx(n),y:l}}(n,e)):pc(t)?function(n,t){var e=Ph(n,!1,"fixed"===t);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}(t,e):Gx(function(n){var t,e=Ga(n),i=Fx(n),s=null==(t=n.ownerDocument)?void 0:t.body,r=gc(e.scrollWidth,e.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=gc(e.scrollHeight,e.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-i.scrollLeft+Hx(n),l=-i.scrollTop;return"rtl"===jo(s||e).direction&&(a+=gc(e.clientWidth,s?s.clientWidth:0)-r),{width:r,height:o,x:a,y:l}}(Ga(n)))}function SB(n){var l,t=n.reference,e=n.element,i=n.placement,s=i?Kr(i):null,r=i?Ah(i):null,o=t.x+t.width/2-e.width/2,a=t.y+t.height/2-e.height/2;switch(s){case In:l={x:o,y:t.y-e.height};break;case us:l={x:o,y:t.y+t.height};break;case hs:l={x:t.x+t.width,y:a};break;case On:l={x:t.x-e.width,y:a};break;default:l={x:t.x,y:t.y}}var h=s?Bx(s):null;if(null!=h){var f="y"===h?"height":"width";switch(r){case fc:l[h]=l[h]-(t[f]/2-e[f]/2);break;case Ch:l[h]=l[h]+(t[f]/2-e[f]/2)}}return l}function Th(n,t){void 0===t&&(t={});var i=t.placement,s=void 0===i?n.placement:i,r=t.strategy,o=void 0===r?n.strategy:r,a=t.boundary,l=void 0===a?Z3:a,h=t.rootBoundary,f=void 0===h?xx:h,m=t.elementContext,y=void 0===m?kh:m,b=t.altBoundary,C=void 0!==b&&b,T=t.padding,P=void 0===T?0:T,O=pB("number"!=typeof P?P:gB(P,wh)),B=n.rects.popper,G=n.elements[C?y===kh?X3:kh:y],Q=function(n,t,e,i){var s="clippingParents"===t?function(n){var t=Xp(ub(n)),i=["absolute","fixed"].indexOf(jo(n).position)>=0&&Fs(n)?Jp(n):n;return pc(i)?t.filter(function(s){return pc(s)&&hB(s,i)&&"body"!==zr(s)}):[]}(n):[].concat(t),r=[].concat(s,[e]),a=r.reduce(function(l,h){var f=bB(n,h,i);return l.top=gc(f.top,l.top),l.right=cb(f.right,l.right),l.bottom=cb(f.bottom,l.bottom),l.left=gc(f.left,l.left),l},bB(n,r[0],i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(pc(G)?G:G.contextElement||Ga(n.elements.popper),l,f,o),X=Ph(n.elements.reference),ne=SB({reference:X,element:B,strategy:"absolute",placement:s}),Pe=Gx(Object.assign({},B,ne)),Ae=y===kh?Pe:X,te={top:Q.top-Ae.top+O.top,bottom:Ae.bottom-Q.bottom+O.bottom,left:Q.left-Ae.left+O.left,right:Ae.right-Q.right+O.right},ft=n.modifiersData.offset;if(y===kh&&ft){var Gt=ft[s];Object.keys(te).forEach(function(mt){var Li=[hs,us].indexOf(mt)>=0?1:-1,zi=[In,us].indexOf(mt)>=0?"y":"x";te[mt]+=Gt[zi]*Li})}return te}const EB={name:"flip",enabled:!0,phase:"main",fn:function(n){var t=n.state,e=n.options,i=n.name;if(!t.modifiersData[i]._skip){for(var s=e.mainAxis,r=void 0===s||s,o=e.altAxis,a=void 0===o||o,l=e.fallbackPlacements,h=e.padding,f=e.boundary,m=e.rootBoundary,y=e.altBoundary,b=e.flipVariations,C=void 0===b||b,T=e.allowedAutoPlacements,P=t.options.placement,O=Kr(P),B=l||(O!==P&&C?function(n){if(Kr(n)===lb)return[];var t=db(n);return[yB(n),t,yB(t)]}(P):[db(P)]),G=[P].concat(B).reduce(function(pt,gs){return pt.concat(Kr(gs)===lb?function(n,t){void 0===t&&(t={});var s=t.boundary,r=t.rootBoundary,o=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,h=void 0===l?Ix:l,f=Ah(t.placement),m=f?a?Mx:Mx.filter(function(C){return Ah(C)===f}):wh,y=m.filter(function(C){return h.indexOf(C)>=0});0===y.length&&(y=m);var b=y.reduce(function(C,T){return C[T]=Th(n,{placement:T,boundary:s,rootBoundary:r,padding:o})[Kr(T)],C},{});return Object.keys(b).sort(function(C,T){return b[C]-b[T]})}(t,{placement:gs,boundary:f,rootBoundary:m,padding:h,flipVariations:C,allowedAutoPlacements:T}):gs)},[]),Q=t.rects.reference,X=t.rects.popper,ne=new Map,Pe=!0,Ae=G[0],te=0;te<G.length;te++){var ft=G[te],Gt=Kr(ft),mt=Ah(ft)===fc,Li=[In,us].indexOf(Gt)>=0,zi=Li?"width":"height",J=Th(t,{placement:ft,boundary:f,rootBoundary:m,altBoundary:y,padding:h}),le=Li?mt?hs:On:mt?us:In;Q[zi]>X[zi]&&(le=db(le));var Se=db(le),$e=[];if(r&&$e.push(J[Gt]<=0),a&&$e.push(J[le]<=0,J[Se]<=0),$e.every(function(pt){return pt})){Ae=ft,Pe=!1;break}ne.set(ft,$e)}if(Pe)for(var Ki=function(gs){var Ci=G.find(function(ms){var Nn=ne.get(ms);if(Nn)return Nn.slice(0,gs).every(function(Qn){return Qn})});if(Ci)return Ae=Ci,"break"},ri=C?3:1;ri>0&&"break"!==Ki(ri);ri--);t.placement!==Ae&&(t.modifiersData[i]._skip=!0,t.placement=Ae,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function wB(n,t,e){return void 0===e&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function CB(n){return[In,hs,us,On].some(function(t){return n[t]>=0})}const kB={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(n){var t=n.state,e=n.name,i=t.rects.reference,s=t.rects.popper,r=t.modifiersData.preventOverflow,o=Th(t,{elementContext:"reference"}),a=Th(t,{altBoundary:!0}),l=wB(o,i),h=wB(a,s,r),f=CB(l),m=CB(h);t.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":m})}},DB={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(n){var t=n.state,i=n.name,s=n.options.offset,r=void 0===s?[0,0]:s,o=Ix.reduce(function(f,m){return f[m]=function(n,t,e){var i=Kr(n),s=[On,In].indexOf(i)>=0?-1:1,r="function"==typeof e?e(Object.assign({},t,{placement:n})):e,o=r[0],a=r[1];return o=o||0,a=(a||0)*s,[On,hs].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}(m,t.rects,r),f},{}),a=o[t.placement],h=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=a.x,t.modifiersData.popperOffsets.y+=h),t.modifiersData[i]=o}},Ux={name:"popperOffsets",enabled:!0,phase:"read",fn:function(n){var t=n.state;t.modifiersData[n.name]=SB({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},PB={name:"preventOverflow",enabled:!0,phase:"main",fn:function(n){var t=n.state,e=n.options,i=n.name,s=e.mainAxis,r=void 0===s||s,o=e.altAxis,a=void 0!==o&&o,y=e.tether,b=void 0===y||y,C=e.tetherOffset,T=void 0===C?0:C,P=Th(t,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),O=Kr(t.placement),I=Ah(t.placement),B=!I,G=Bx(O),Q=function(n){return"x"===n?"y":"x"}(G),X=t.modifiersData.popperOffsets,ne=t.rects.reference,Pe=t.rects.popper,Ae="function"==typeof T?T(Object.assign({},t.rects,{placement:t.placement})):T,te="number"==typeof Ae?{mainAxis:Ae,altAxis:Ae}:Object.assign({mainAxis:0,altAxis:0},Ae),ft=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Gt={x:0,y:0};if(X){if(r){var mt,Li="y"===G?In:On,zi="y"===G?us:hs,J="y"===G?"height":"width",le=X[G],Se=le+P[Li],$e=le-P[zi],Lt=b?-Pe[J]/2:0,Ki=I===fc?ne[J]:Pe[J],ri=I===fc?-Pe[J]:-ne[J],hn=t.elements.arrow,pt=b&&hn?Lx(hn):{width:0,height:0},gs=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Ci=gs[Li],ms=gs[zi],Nn=Zp(0,ne[J],pt[J]),Qn=B?ne[J]/2-Lt-Nn-Ci-te.mainAxis:Ki-Nn-Ci-te.mainAxis,tl=B?-ne[J]/2+Lt+Nn+ms+te.mainAxis:ri+Nn+ms+te.mainAxis,jh=t.elements.arrow&&Jp(t.elements.arrow),_g=null!=(mt=null==ft?void 0:ft[G])?mt:0,aS=le+tl-_g,bg=Zp(b?cb(Se,le+Qn-_g-(jh?"y"===G?jh.clientTop||0:jh.clientLeft||0:0)):Se,le,b?gc($e,aS):$e);X[G]=bg,Gt[G]=bg-le}if(a){var Sg,ht=X[Q],Ac="y"===Q?"height":"width",Eg=ht+P["x"===G?In:On],XF=ht-P["x"===G?us:hs],wI=-1!==[In,On].indexOf(O),eH=null!=(Sg=null==ft?void 0:ft[Q])?Sg:0,tH=wI?Eg:ht-ne[Ac]-Pe[Ac]-eH+te.altAxis,iH=wI?ht+ne[Ac]+Pe[Ac]-eH-te.altAxis:XF,nH=b&&wI?function(n,t,e){var i=Zp(n,t,e);return i>e?e:i}(tH,ht,iH):Zp(b?tH:Eg,ht,b?iH:XF);X[Q]=nH,Gt[Q]=nH-ht}t.modifiersData[i]=Gt}},requiresIfExists:["offset"]};function i9(n,t,e){void 0===e&&(e=!1);var i=Fs(t),s=Fs(t)&&function(n){var t=n.getBoundingClientRect(),e=Dh(t.width)/n.offsetWidth||1,i=Dh(t.height)/n.offsetHeight||1;return 1!==e||1!==i}(t),r=Ga(t),o=Ph(n,s,e),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!e)&&(("body"!==zr(t)||qx(r))&&(a=function(n){return n!==ds(n)&&Fs(n)?function(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):Fx(n)}(t)),Fs(t)?((l=Ph(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):r&&(l.x=Hx(r))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function n9(n){var t=new Map,e=new Set,i=[];function s(r){e.add(r.name),[].concat(r.requires||[],r.requiresIfExists||[]).forEach(function(a){if(!e.has(a)){var l=t.get(a);l&&s(l)}}),i.push(r)}return n.forEach(function(r){t.set(r.name,r)}),n.forEach(function(r){e.has(r.name)||s(r)}),i}function r9(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}var AB={placement:"bottom",modifiers:[],strategy:"absolute"};function TB(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function fb(n){void 0===n&&(n={});var e=n.defaultModifiers,i=void 0===e?[]:e,s=n.defaultOptions,r=void 0===s?AB:s;return function(a,l,h){void 0===h&&(h=r);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},AB,r),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},m=[],y=!1,b={state:f,setOptions:function(O){var I="function"==typeof O?O(f.options):O;T(),f.options=Object.assign({},r,f.options,I),f.scrollParents={reference:pc(a)?Xp(a):a.contextElement?Xp(a.contextElement):[],popper:Xp(l)};var B=function(n){var t=n9(n);return cB.reduce(function(e,i){return e.concat(t.filter(function(s){return s.phase===i}))},[])}(function(n){var t=n.reduce(function(e,i){var s=e[i.name];return e[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(i,f.options.modifiers)));return f.orderedModifiers=B.filter(function(G){return G.enabled}),f.orderedModifiers.forEach(function(P){var I=P.options,G=P.effect;if("function"==typeof G){var Q=G({state:f,name:P.name,instance:b,options:void 0===I?{}:I});m.push(Q||function(){})}}),b.update()},forceUpdate:function(){if(!y){var O=f.elements,I=O.reference,B=O.popper;if(TB(I,B)){f.rects={reference:i9(I,Jp(B),"fixed"===f.options.strategy),popper:Lx(B)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(te){return f.modifiersData[te.name]=Object.assign({},te.data)});for(var G=0;G<f.orderedModifiers.length;G++)if(!0!==f.reset){var Q=f.orderedModifiers[G],X=Q.fn,ne=Q.options;"function"==typeof X&&(f=X({state:f,options:void 0===ne?{}:ne,name:Q.name,instance:b})||f)}else f.reset=!1,G=-1}}},update:r9(function(){return new Promise(function(P){b.forceUpdate(),P(f)})}),destroy:function(){T(),y=!0}};if(!TB(a,l))return b;function T(){m.forEach(function(P){return P()}),m=[]}return b.setOptions(h).then(function(P){!y&&h.onFirstUpdate&&h.onFirstUpdate(P)}),b}}var a9=fb(),jx=fb({defaultModifiers:[$x,Ux,Vx,Nx,DB,EB,PB,mB,kB]}),u9=fb({defaultModifiers:[$x,Ux,Vx,Nx]});const Ua=new Map,Wx={set(n,t,e){Ua.has(n)||Ua.set(n,new Map);const i=Ua.get(n);i.has(t)||0===i.size?i.set(t,e):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(n,t)=>Ua.has(n)&&Ua.get(n).get(t)||null,remove(n,t){if(!Ua.has(n))return;const e=Ua.get(n);e.delete(t),0===e.size&&Ua.delete(n)}},zx="transitionend",xB=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),n),f9=n=>null==n?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),MB=n=>{n.dispatchEvent(new Event(zx))},Wo=n=>!(!n||"object"!=typeof n)&&(void 0!==n.jquery&&(n=n[0]),void 0!==n.nodeType),ja=n=>Wo(n)?n.jquery?n[0]:n:"string"==typeof n&&n.length>0?document.querySelector(xB(n)):null,xh=n=>{if(!Wo(n)||0===n.getClientRects().length)return!1;const t="visible"===getComputedStyle(n).getPropertyValue("visibility"),e=n.closest("details:not([open])");if(!e)return t;if(e!==n){const i=n.closest("summary");if(i&&i.parentNode!==e||null===i)return!1}return t},Wa=n=>!(n&&n.nodeType===Node.ELEMENT_NODE&&!n.classList.contains("disabled"))||(void 0!==n.disabled?n.disabled:n.hasAttribute("disabled")&&"false"!==n.getAttribute("disabled")),IB=n=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof n.getRootNode){const t=n.getRootNode();return t instanceof ShadowRoot?t:null}return n instanceof ShadowRoot?n:n.parentNode?IB(n.parentNode):null},pb=()=>{},OB=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Kx=[],Hs=()=>"rtl"===document.documentElement.dir,qs=n=>{(n=>{"loading"===document.readyState?(Kx.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of Kx)t()}),Kx.push(n)):n()})(()=>{const t=OB();if(t){const e=n.NAME,i=t.fn[e];t.fn[e]=n.jQueryInterface,t.fn[e].Constructor=n,t.fn[e].noConflict=()=>(t.fn[e]=i,n.jQueryInterface)}})},Yn=(n,t=[],e=n)=>"function"==typeof n?n(...t):e,NB=(n,t,e=!0)=>{if(!e)return void Yn(n);const s=(n=>{if(!n)return 0;let{transitionDuration:t,transitionDelay:e}=window.getComputedStyle(n);const i=Number.parseFloat(t),s=Number.parseFloat(e);return i||s?(t=t.split(",")[0],e=e.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(e))):0})(t)+5;let r=!1;const o=({target:a})=>{a===t&&(r=!0,t.removeEventListener(zx,o),Yn(n))};t.addEventListener(zx,o),setTimeout(()=>{r||MB(t)},s)},Yx=(n,t,e,i)=>{const s=n.length;let r=n.indexOf(t);return-1===r?!e&&i?n[s-1]:n[0]:(r+=e?1:-1,i&&(r=(r+s)%s),n[Math.max(0,Math.min(r,s-1))])},v9=/[^.]*(?=\..*)\.|.*/,y9=/\..*/,_9=/::\d+$/,Qx={};let RB=1;const LB={mouseenter:"mouseover",mouseleave:"mouseout"},b9=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function BB(n,t){return t&&`${t}::${RB++}`||n.uidEvent||RB++}function VB(n){const t=BB(n);return n.uidEvent=t,Qx[t]=Qx[t]||{},Qx[t]}function $B(n,t,e=null){return Object.values(n).find(i=>i.callable===t&&i.delegationSelector===e)}function FB(n,t,e){const i="string"==typeof t,s=i?e:t||e;let r=qB(n);return b9.has(r)||(r=n),[i,s,r]}function HB(n,t,e,i,s){if("string"!=typeof t||!n)return;let[r,o,a]=FB(t,e,i);var C;t in LB&&(C=o,o=function(T){if(!T.relatedTarget||T.relatedTarget!==T.delegateTarget&&!T.delegateTarget.contains(T.relatedTarget))return C.call(this,T)});const l=VB(n),h=l[a]||(l[a]={}),f=$B(h,o,r?e:null);if(f)return void(f.oneOff=f.oneOff&&s);const m=BB(o,t.replace(v9,"")),y=r?function(n,t,e){return function i(s){const r=n.querySelectorAll(t);for(let{target:o}=s;o&&o!==this;o=o.parentNode)for(const a of r)if(a===o)return Zx(s,{delegateTarget:o}),i.oneOff&&Y.off(n,s.type,t,e),e.apply(o,[s])}}(n,e,o):function(n,t){return function e(i){return Zx(i,{delegateTarget:n}),e.oneOff&&Y.off(n,i.type,t),t.apply(n,[i])}}(n,o);y.delegationSelector=r?e:null,y.callable=o,y.oneOff=s,y.uidEvent=m,h[m]=y,n.addEventListener(a,y,r)}function Jx(n,t,e,i,s){const r=$B(t[e],i,s);!r||(n.removeEventListener(e,r,Boolean(s)),delete t[e][r.uidEvent])}function w9(n,t,e,i){const s=t[e]||{};for(const[r,o]of Object.entries(s))r.includes(i)&&Jx(n,t,e,o.callable,o.delegationSelector)}function qB(n){return n=n.replace(y9,""),LB[n]||n}const Y={on(n,t,e,i){HB(n,t,e,i,!1)},one(n,t,e,i){HB(n,t,e,i,!0)},off(n,t,e,i){if("string"!=typeof t||!n)return;const[s,r,o]=FB(t,e,i),a=o!==t,l=VB(n),h=l[o]||{},f=t.startsWith(".");if(void 0===r){if(f)for(const m of Object.keys(l))w9(n,l,m,t.slice(1));for(const[m,y]of Object.entries(h)){const b=m.replace(_9,"");(!a||t.includes(b))&&Jx(n,l,o,y.callable,y.delegationSelector)}}else{if(!Object.keys(h).length)return;Jx(n,l,o,r,s?e:null)}},trigger(n,t,e){if("string"!=typeof t||!n)return null;const i=OB();let o=null,a=!0,l=!0,h=!1;t!==qB(t)&&i&&(o=i.Event(t,e),i(n).trigger(o),a=!o.isPropagationStopped(),l=!o.isImmediatePropagationStopped(),h=o.isDefaultPrevented());const f=Zx(new Event(t,{bubbles:a,cancelable:!0}),e);return h&&f.preventDefault(),l&&n.dispatchEvent(f),f.defaultPrevented&&o&&o.preventDefault(),f}};function Zx(n,t={}){for(const[e,i]of Object.entries(t))try{n[e]=i}catch(s){Object.defineProperty(n,e,{configurable:!0,get:()=>i})}return n}function GB(n){if("true"===n)return!0;if("false"===n)return!1;if(n===Number(n).toString())return Number(n);if(""===n||"null"===n)return null;if("string"!=typeof n)return n;try{return JSON.parse(decodeURIComponent(n))}catch(t){return n}}function Xx(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const zo={setDataAttribute(n,t,e){n.setAttribute(`data-bs-${Xx(t)}`,e)},removeDataAttribute(n,t){n.removeAttribute(`data-bs-${Xx(t)}`)},getDataAttributes(n){if(!n)return{};const t={},e=Object.keys(n.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of e){let s=i.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1,s.length),t[s]=GB(n.dataset[i])}return t},getDataAttribute:(n,t)=>GB(n.getAttribute(`data-bs-${Xx(t)}`))};class tg{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const i=Wo(e)?zo.getDataAttribute(e,"config"):{};return dn(dn(dn(dn({},this.constructor.Default),"object"==typeof i?i:{}),Wo(e)?zo.getDataAttributes(e):{}),"object"==typeof t?t:{})}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[i,s]of Object.entries(e)){const r=t[i],o=Wo(r)?"element":f9(r);if(!new RegExp(s).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${o}" but expected type "${s}".`)}}}class Er extends tg{constructor(t,e){super(),(t=ja(t))&&(this._element=t,this._config=this._getConfig(e),Wx.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Wx.remove(this._element,this.constructor.DATA_KEY),Y.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){NB(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Wx.get(ja(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.3.1"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const eM=n=>{let t=n.getAttribute("data-bs-target");if(!t||"#"===t){let e=n.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),t=e&&"#"!==e?e.trim():null}return xB(t)},be={find:(n,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,n)),findOne:(n,t=document.documentElement)=>Element.prototype.querySelector.call(t,n),children:(n,t)=>[].concat(...n.children).filter(e=>e.matches(t)),parents(n,t){const e=[];let i=n.parentNode.closest(t);for(;i;)e.push(i),i=i.parentNode.closest(t);return e},prev(n,t){let e=n.previousElementSibling;for(;e;){if(e.matches(t))return[e];e=e.previousElementSibling}return[]},next(n,t){let e=n.nextElementSibling;for(;e;){if(e.matches(t))return[e];e=e.nextElementSibling}return[]},focusableChildren(n){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,n).filter(e=>!Wa(e)&&xh(e))},getSelectorFromElement(n){const t=eM(n);return t&&be.findOne(t)?t:null},getElementFromSelector(n){const t=eM(n);return t?be.findOne(t):null},getMultipleElementsFromSelector(n){const t=eM(n);return t?be.find(t):[]}},gb=(n,t="hide")=>{const i=n.NAME;Y.on(document,`click.dismiss${n.EVENT_KEY}`,`[data-bs-dismiss="${i}"]`,function(s){if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),Wa(this))return;const r=be.getElementFromSelector(this)||this.closest(`.${i}`);n.getOrCreateInstance(r)[t]()})},UB=".bs.alert",D9=`close${UB}`,P9=`closed${UB}`;class mb extends Er{static get NAME(){return"alert"}close(){if(Y.trigger(this._element,D9).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),Y.trigger(this._element,P9),this.dispose()}static jQueryInterface(t){return this.each(function(){const e=mb.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}gb(mb,"close"),qs(mb);const jB='[data-bs-toggle="button"]';class vb extends Er{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){const e=vb.getOrCreateInstance(this);"toggle"===t&&e[t]()})}}Y.on(document,"click.bs.button.data-api",jB,n=>{n.preventDefault();const t=n.target.closest(jB);vb.getOrCreateInstance(t).toggle()}),qs(vb);const Mh=".bs.swipe",L9=`touchstart${Mh}`,B9=`touchmove${Mh}`,V9=`touchend${Mh}`,$9=`pointerdown${Mh}`,F9=`pointerup${Mh}`,j9={endCallback:null,leftCallback:null,rightCallback:null},W9={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class yb extends tg{constructor(t,e){super(),this._element=t,t&&yb.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return j9}static get DefaultType(){return W9}static get NAME(){return"swipe"}dispose(){Y.off(this._element,Mh)}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),Yn(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=40)return;const e=t/this._deltaX;this._deltaX=0,e&&Yn(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Y.on(this._element,$9,t=>this._start(t)),Y.on(this._element,F9,t=>this._end(t)),this._element.classList.add("pointer-event")):(Y.on(this._element,L9,t=>this._start(t)),Y.on(this._element,B9,t=>this._move(t)),Y.on(this._element,V9,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const za=".bs.carousel",WB=".data-api",ig="next",Ih="prev",Oh="left",_b="right",J9=`slide${za}`,tM=`slid${za}`,Z9=`keydown${za}`,X9=`mouseenter${za}`,ez=`mouseleave${za}`,tz=`dragstart${za}`,iz=`load${za}${WB}`,nz=`click${za}${WB}`,zB="carousel",bb="active",pz={ArrowLeft:_b,ArrowRight:Oh},gz={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},mz={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ng extends Er{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=be.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===zB&&this.cycle()}static get Default(){return gz}static get DefaultType(){return mz}static get NAME(){return"carousel"}next(){this._slide(ig)}nextWhenVisible(){!document.hidden&&xh(this._element)&&this.next()}prev(){this._slide(Ih)}pause(){this._isSliding&&MB(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void Y.one(this._element,tM,()=>this.cycle());this.cycle()}}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding)return void Y.one(this._element,tM,()=>this.to(t));const i=this._getItemIndex(this._getActive());i!==t&&this._slide(t>i?ig:Ih,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&Y.on(this._element,Z9,t=>this._keydown(t)),"hover"===this._config.pause&&(Y.on(this._element,X9,()=>this.pause()),Y.on(this._element,ez,()=>this._maybeEnableCycle())),this._config.touch&&yb.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of be.find(".carousel-item img",this._element))Y.on(i,tz,s=>s.preventDefault());this._swipeHelper=new yb(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Oh)),rightCallback:()=>this._slide(this._directionToOrder(_b)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=pz[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=be.findOne(".active",this._indicatorsElement);e.classList.remove(bb),e.removeAttribute("aria-current");const i=be.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);i&&(i.classList.add(bb),i.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const i=this._getActive(),s=t===ig,r=e||Yx(this._getItems(),i,s,this._config.wrap);if(r===i)return;const o=this._getItemIndex(r),a=b=>Y.trigger(this._element,b,{relatedTarget:r,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:o});if(a(J9).defaultPrevented||!i||!r)return;const h=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=r;const f=s?"carousel-item-start":"carousel-item-end",m=s?"carousel-item-next":"carousel-item-prev";r.classList.add(m),i.classList.add(f),r.classList.add(f),this._queueCallback(()=>{r.classList.remove(f,m),r.classList.add(bb),i.classList.remove(bb,m,f),this._isSliding=!1,a(tM)},i,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return be.findOne(".active.carousel-item",this._element)}_getItems(){return be.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return Hs()?t===Oh?Ih:ig:t===Oh?ig:Ih}_orderToDirection(t){return Hs()?t===Ih?Oh:_b:t===Ih?_b:Oh}static jQueryInterface(t){return this.each(function(){const e=ng.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}else e.to(t)})}}Y.on(document,nz,"[data-bs-slide], [data-bs-slide-to]",function(n){const t=be.getElementFromSelector(this);if(!t||!t.classList.contains(zB))return;n.preventDefault();const e=ng.getOrCreateInstance(t),i=this.getAttribute("data-bs-slide-to");return i?(e.to(i),void e._maybeEnableCycle()):"next"===zo.getDataAttribute(this,"slide")?(e.next(),void e._maybeEnableCycle()):(e.prev(),void e._maybeEnableCycle())}),Y.on(window,iz,()=>{const n=be.find('[data-bs-ride="carousel"]');for(const t of n)ng.getOrCreateInstance(t)}),qs(ng);const sg=".bs.collapse",_z=`show${sg}`,bz=`shown${sg}`,Sz=`hide${sg}`,Ez=`hidden${sg}`,wz=`click${sg}.data-api`,iM="show",Nh="collapse",Sb="collapsing",kz=`:scope .${Nh} .${Nh}`,nM='[data-bs-toggle="collapse"]',xz={parent:null,toggle:!0},Mz={parent:"(null|element)",toggle:"boolean"};class rg extends Er{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const i=be.find(nM);for(const s of i){const r=be.getSelectorFromElement(s),o=be.find(r).filter(a=>a===this._element);null!==r&&o.length&&this._triggerArray.push(s)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return xz}static get DefaultType(){return Mz}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(a=>a!==this._element).map(a=>rg.getOrCreateInstance(a,{toggle:!1}))),t.length&&t[0]._isTransitioning||Y.trigger(this._element,_z).defaultPrevented)return;for(const a of t)a.hide();const i=this._getDimension();this._element.classList.remove(Nh),this._element.classList.add(Sb),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Sb),this._element.classList.add(Nh,iM),this._element.style[i]="",Y.trigger(this._element,bz)},this._element,!0),this._element.style[i]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||Y.trigger(this._element,Sz).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,this._element.classList.add(Sb),this._element.classList.remove(Nh,iM);for(const s of this._triggerArray){const r=be.getElementFromSelector(s);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([s],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Sb),this._element.classList.add(Nh),Y.trigger(this._element,Ez)},this._element,!0)}_isShown(t=this._element){return t.classList.contains(iM)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=ja(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(nM);for(const e of t){const i=be.getElementFromSelector(e);i&&this._addAriaAndCollapsedClass([e],this._isShown(i))}}_getFirstLevelChildren(t){const e=be.find(kz,this._config.parent);return be.find(t,this._config.parent).filter(i=>!e.includes(i))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const i of t)i.classList.toggle("collapsed",!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const i=rg.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t]()}})}}Y.on(document,wz,nM,function(n){("A"===n.target.tagName||n.delegateTarget&&"A"===n.delegateTarget.tagName)&&n.preventDefault();for(const t of be.getMultipleElementsFromSelector(this))rg.getOrCreateInstance(t,{toggle:!1}).toggle()}),qs(rg);const QB="dropdown",mc=".bs.dropdown",sM=".data-api",Oz="ArrowUp",ZB="ArrowDown",Rz=`hide${mc}`,Lz=`hidden${mc}`,Bz=`show${mc}`,Vz=`shown${mc}`,XB=`click${mc}${sM}`,eV=`keydown${mc}${sM}`,$z=`keyup${mc}${sM}`,Rh="show",vc='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',jz=`${vc}.show`,Eb=".dropdown-menu",Yz=Hs()?"top-end":"top-start",Qz=Hs()?"top-start":"top-end",Jz=Hs()?"bottom-end":"bottom-start",Zz=Hs()?"bottom-start":"bottom-end",Xz=Hs()?"left-start":"right-start",eK=Hs()?"right-start":"left-start",nK={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},sK={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Yr extends Er{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=be.next(this._element,Eb)[0]||be.prev(this._element,Eb)[0]||be.findOne(Eb,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return nK}static get DefaultType(){return sK}static get NAME(){return QB}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Wa(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!Y.trigger(this._element,Bz,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const i of[].concat(...document.body.children))Y.on(i,"mouseover",pb);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Rh),this._element.classList.add(Rh),Y.trigger(this._element,Vz,t)}}hide(){!Wa(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!Y.trigger(this._element,Rz,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))Y.off(i,"mouseover",pb);this._popper&&this._popper.destroy(),this._menu.classList.remove(Rh),this._element.classList.remove(Rh),this._element.setAttribute("aria-expanded","false"),zo.removeDataAttribute(this._menu,"popper"),Y.trigger(this._element,Lz,t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!Wo(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${QB.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(void 0===Jn)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:Wo(this._config.reference)?t=ja(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=jx(t,this._menu,e)}_isShown(){return this._menu.classList.contains(Rh)}_getPlacement(){const t=this._parent;if(t.classList.contains("dropend"))return Xz;if(t.classList.contains("dropstart"))return eK;if(t.classList.contains("dropup-center"))return"top";if(t.classList.contains("dropdown-center"))return"bottom";const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?Qz:Yz:e?Zz:Jz}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(zo.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),dn(dn({},t),Yn(this._config.popperConfig,[t]))}_selectMenuItem({key:t,target:e}){const i=be.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(s=>xh(s));!i.length||Yx(i,e,t===ZB,!i.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){const e=Yr.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(2===t.button||"keyup"===t.type&&"Tab"!==t.key)return;const e=be.find(jz);for(const i of e){const s=Yr.getInstance(i);if(!s||!1===s._config.autoClose)continue;const r=t.composedPath(),o=r.includes(s._menu);if(r.includes(s._element)||"inside"===s._config.autoClose&&!o||"outside"===s._config.autoClose&&o||s._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const a={relatedTarget:s._element};"click"===t.type&&(a.clickEvent=t),s._completeHide(a)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),i="Escape"===t.key,s=[Oz,ZB].includes(t.key);if(!s&&!i||e&&!i)return;t.preventDefault();const r=this.matches(vc)?this:be.prev(this,vc)[0]||be.next(this,vc)[0]||be.findOne(vc,t.delegateTarget.parentNode),o=Yr.getOrCreateInstance(r);if(s)return t.stopPropagation(),o.show(),void o._selectMenuItem(t);o._isShown()&&(t.stopPropagation(),o.hide(),r.focus())}}Y.on(document,eV,vc,Yr.dataApiKeydownHandler),Y.on(document,eV,Eb,Yr.dataApiKeydownHandler),Y.on(document,XB,Yr.clearMenus),Y.on(document,$z,Yr.clearMenus),Y.on(document,XB,vc,function(n){n.preventDefault(),Yr.getOrCreateInstance(this).toggle()}),qs(Yr);const tV="backdrop",nV=`mousedown.bs.${tV}`,oK={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},aK={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class sV extends tg{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return oK}static get DefaultType(){return aK}static get NAME(){return tV}show(t){if(!this._config.isVisible)return void Yn(t);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{Yn(t)})}hide(t){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),Yn(t)})):Yn(t)}dispose(){!this._isAppended||(Y.off(this._element,nV),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=ja(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),Y.on(t,nV,()=>{Yn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){NB(t,this._getElement(),this._config.isAnimated)}}const wb=".bs.focustrap",cK=`focusin${wb}`,uK=`keydown.tab${wb}`,rV="backward",fK={autofocus:!0,trapElement:null},pK={autofocus:"boolean",trapElement:"element"};class oV extends tg{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return fK}static get DefaultType(){return pK}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Y.off(document,wb),Y.on(document,cK,t=>this._handleFocusin(t)),Y.on(document,uK,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,Y.off(document,wb))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const i=be.focusableChildren(e);0===i.length?e.focus():this._lastTabNavDirection===rV?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?rV:"forward")}}const aV=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",lV=".sticky-top",Cb="padding-right",cV="margin-right";class rM{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Cb,e=>e+t),this._setElementAttributes(aV,Cb,e=>e+t),this._setElementAttributes(lV,cV,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Cb),this._resetElementAttributes(aV,Cb),this._resetElementAttributes(lV,cV)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){const s=this.getWidth();this._applyManipulationCallback(t,o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+s)return;this._saveInitialAttribute(o,e);const a=window.getComputedStyle(o).getPropertyValue(e);o.style.setProperty(e,`${i(Number.parseFloat(a))}px`)})}_saveInitialAttribute(t,e){const i=t.style.getPropertyValue(e);i&&zo.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,s=>{const r=zo.getDataAttribute(s,e);null!==r?(zo.removeDataAttribute(s,e),s.style.setProperty(e,r)):s.style.removeProperty(e)})}_applyManipulationCallback(t,e){if(Wo(t))e(t);else for(const i of be.find(t,this._element))e(i)}}const Gs=".bs.modal",yK=`hide${Gs}`,_K=`hidePrevented${Gs}`,uV=`hidden${Gs}`,hV=`show${Gs}`,bK=`shown${Gs}`,SK=`resize${Gs}`,EK=`click.dismiss${Gs}`,wK=`mousedown.dismiss${Gs}`,CK=`keydown.dismiss${Gs}`,kK=`click${Gs}.data-api`,dV="modal-open",oM="modal-static",MK={backdrop:!0,focus:!0,keyboard:!0},IK={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class yc extends Er{constructor(t,e){super(t,e),this._dialog=be.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new rM,this._addEventListeners()}static get Default(){return MK}static get DefaultType(){return IK}static get NAME(){return"modal"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||Y.trigger(this._element,hV,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(dV),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||Y.trigger(this._element,yK).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Y.off(window,Gs),Y.off(this._dialog,Gs),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new sV({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new oV({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=be.findOne(".modal-body",this._dialog);e&&(e.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Y.trigger(this._element,bK,{relatedTarget:t})},this._dialog,this._isAnimated())}_addEventListeners(){Y.on(this._element,CK,t=>{if("Escape"===t.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),Y.on(window,SK,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Y.on(this._element,wK,t=>{Y.one(this._element,EK,e=>{if(this._element===t.target&&this._element===e.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(dV),this._resetAdjustments(),this._scrollBar.reset(),Y.trigger(this._element,uV)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Y.trigger(this._element,_K).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;"hidden"===i||this._element.classList.contains(oM)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(oM),this._queueCallback(()=>{this._element.classList.remove(oM),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;if(i&&!t){const s=Hs()?"paddingLeft":"paddingRight";this._element.style[s]=`${e}px`}if(!i&&t){const s=Hs()?"paddingRight":"paddingLeft";this._element.style[s]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const i=yc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t](e)}})}}Y.on(document,kK,'[data-bs-toggle="modal"]',function(n){const t=be.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),Y.one(t,hV,s=>{s.defaultPrevented||Y.one(t,uV,()=>{xh(this)&&this.focus()})});const e=be.findOne(".modal.show");e&&yc.getInstance(e).hide(),yc.getOrCreateInstance(t).toggle(this)}),gb(yc),qs(yc);const Ko=".bs.offcanvas",pV=".data-api",NK=`load${Ko}${pV}`,mV="showing",yV=".offcanvas.show",BK=`show${Ko}`,VK=`shown${Ko}`,$K=`hide${Ko}`,_V=`hidePrevented${Ko}`,bV=`hidden${Ko}`,FK=`resize${Ko}`,HK=`click${Ko}${pV}`,qK=`keydown.dismiss${Ko}`,UK={backdrop:!0,keyboard:!0,scroll:!1},jK={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ka extends Er{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return UK}static get DefaultType(){return jK}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||Y.trigger(this._element,BK,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new rM).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(mV),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(mV),Y.trigger(this._element,VK,{relatedTarget:t})},this._element,!0))}hide(){this._isShown&&!Y.trigger(this._element,$K).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new rM).reset(),Y.trigger(this._element,bV)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new sV({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():Y.trigger(this._element,_V)}:null})}_initializeFocusTrap(){return new oV({trapElement:this._element})}_addEventListeners(){Y.on(this._element,qK,t=>{if("Escape"===t.key){if(this._config.keyboard)return void this.hide();Y.trigger(this._element,_V)}})}static jQueryInterface(t){return this.each(function(){const e=Ka.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}Y.on(document,HK,'[data-bs-toggle="offcanvas"]',function(n){const t=be.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Wa(this))return;Y.one(t,bV,()=>{xh(this)&&this.focus()});const e=be.findOne(yV);e&&e!==t&&Ka.getInstance(e).hide(),Ka.getOrCreateInstance(t).toggle(this)}),Y.on(window,NK,()=>{for(const n of be.find(yV))Ka.getOrCreateInstance(n).show()}),Y.on(window,FK,()=>{for(const n of be.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(n).position&&Ka.getOrCreateInstance(n).hide()}),gb(Ka),qs(Ka);const SV={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},WK=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),zK=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,KK=(n,t)=>{const e=n.nodeName.toLowerCase();return t.includes(e)?!WK.has(e)||Boolean(zK.test(n.nodeValue)):t.filter(i=>i instanceof RegExp).some(i=>i.test(e))},JK={allowList:SV,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},ZK={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},XK={entry:"(string|element|function|null)",selector:"(string|element)"};class eY extends tg{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return JK}static get DefaultType(){return ZK}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content=dn(dn({},this._config.content),t),this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[s,r]of Object.entries(this._config.content))this._setContent(t,r,s);const e=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&e.classList.add(...i.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,i]of Object.entries(t))super._typeCheckConfig({selector:e,entry:i},XK)}_setContent(t,e,i){const s=be.findOne(i,t);if(s){if(!(e=this._resolvePossibleFunction(e)))return void s.remove();if(Wo(e))return void this._putElementInTemplate(ja(e),s);if(this._config.html)return void(s.innerHTML=this._maybeSanitize(e));s.textContent=e}}_maybeSanitize(t){return this._config.sanitize?function(n,t,e){if(!n.length)return n;if(e&&"function"==typeof e)return e(n);const s=(new window.DOMParser).parseFromString(n,"text/html"),r=[].concat(...s.body.querySelectorAll("*"));for(const o of r){const a=o.nodeName.toLowerCase();if(!Object.keys(t).includes(a)){o.remove();continue}const l=[].concat(...o.attributes),h=[].concat(t["*"]||[],t[a]||[]);for(const f of l)KK(f,h)||o.removeAttribute(f.nodeName)}return s.body.innerHTML}(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return Yn(t,[this])}_putElementInTemplate(t,e){if(this._config.html)return e.innerHTML="",void e.append(t);e.textContent=t.textContent}}const iY=new Set(["sanitize","allowList","sanitizeFn"]),aM="fade",kb="show",wV="hide.bs.modal",og="hover",lM="focus",vY={AUTO:"auto",TOP:"top",RIGHT:Hs()?"left":"right",BOTTOM:"bottom",LEFT:Hs()?"right":"left"},yY={allowList:SV,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},_Y={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Lh extends Er{constructor(t,e){if(void 0===Jn)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return yY}static get DefaultType(){return _Y}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),Y.off(this._element.closest(".modal"),wV,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const t=Y.trigger(this._element,this.constructor.eventName("show")),i=(IB(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!i)return;this._disposePopper();const s=this._getTipElement();this._element.setAttribute("aria-describedby",s.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(s),Y.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(s),s.classList.add(kb),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))Y.on(a,"mouseover",pb);this._queueCallback(()=>{Y.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Y.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(kb),"ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))Y.off(s,"mouseover",pb);this._activeTrigger.click=!1,this._activeTrigger[lM]=!1,this._activeTrigger[og]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Y.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(aM,kb),e.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(n=>{do{n+=Math.floor(1e6*Math.random())}while(document.getElementById(n));return n})(this.constructor.NAME).toString();return e.setAttribute("id",i),this._isAnimated()&&e.classList.add(aM),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new eY(lS(dn({},this._config),{content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(aM)}_isShown(){return this.tip&&this.tip.classList.contains(kb)}_createPopper(t){const e=Yn(this._config.placement,[this,t,this._element]),i=vY[e.toUpperCase()];return jx(this._element,t,this._getPopperConfig(i))}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return Yn(t,[this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return dn(dn({},e),Yn(this._config.popperConfig,[e]))}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if("click"===e)Y.on(this._element,this.constructor.eventName("click"),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if("manual"!==e){const i=this.constructor.eventName(e===og?"mouseenter":"focusin"),s=this.constructor.eventName(e===og?"mouseleave":"focusout");Y.on(this._element,i,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger["focusin"===r.type?lM:og]=!0,o._enter()}),Y.on(this._element,s,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger["focusout"===r.type?lM:og]=o._element.contains(r.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Y.on(this._element.closest(".modal"),wV,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");!t||(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=zo.getDataAttributes(this._element);for(const i of Object.keys(e))iY.has(i)&&delete e[i];return t=dn(dn({},e),"object"==typeof t&&t?t:{}),t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:ja(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,i]of Object.entries(this._config))this.constructor.Default[e]!==i&&(t[e]=i);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const e=Lh.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}qs(Lh);const wY=lS(dn({},Lh.Default),{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),CY=lS(dn({},Lh.DefaultType),{content:"(null|string|element|function)"});class cM extends Lh{static get Default(){return wY}static get DefaultType(){return CY}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const e=cM.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}qs(cM);const uM=".bs.scrollspy",PY=`activate${uM}`,CV=`click${uM}`,AY=`load${uM}.data-api`,Bh="active",hM="[href]",kV=".nav-link",IY=`${kV}, .nav-item > ${kV}, .list-group-item`,RY={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},LY={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Db extends Er{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return RY}static get DefaultType(){return LY}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=ja(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map(e=>Number.parseFloat(e))),t}_maybeEnableSmoothScroll(){!this._config.smoothScroll||(Y.off(this._config.target,CV),Y.on(this._config.target,CV,hM,t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const i=this._rootElement||window,s=e.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:s,behavior:"smooth"});i.scrollTop=s}}))}_getNewObserver(){return new IntersectionObserver(e=>this._observerCallback(e),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(t){const e=o=>this._targetLinks.get(`#${o.target.id}`),i=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(e(o))},s=(this._rootElement||document.documentElement).scrollTop,r=s>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=s;for(const o of t){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(o));continue}const a=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&a){if(i(o),!s)return}else!r&&!a&&i(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=be.find(hM,this._config.target);for(const e of t){if(!e.hash||Wa(e))continue;const i=be.findOne(decodeURI(e.hash),this._element);xh(i)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,i))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Bh),this._activateParents(t),Y.trigger(this._element,PY,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item"))be.findOne(".dropdown-toggle",t.closest(".dropdown")).classList.add(Bh);else for(const e of be.parents(t,".nav, .list-group"))for(const i of be.prev(e,IY))i.classList.add(Bh)}_clearActiveClass(t){t.classList.remove(Bh);const e=be.find(`${hM}.${Bh}`,t);for(const i of e)i.classList.remove(Bh)}static jQueryInterface(t){return this.each(function(){const e=Db.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}Y.on(window,AY,()=>{for(const n of be.find('[data-bs-spy="scroll"]'))Db.getOrCreateInstance(n)}),qs(Db);const _c=".bs.tab",VY=`hide${_c}`,$Y=`hidden${_c}`,FY=`show${_c}`,HY=`shown${_c}`,qY=`click${_c}`,GY=`keydown${_c}`,UY=`load${_c}`,jY="ArrowLeft",DV="ArrowRight",WY="ArrowUp",PV="ArrowDown",dM="Home",AV="End",bc="active",fM="show",pM=":not(.dropdown-toggle)",xV='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',gM=`.nav-link${pM}, .list-group-item${pM}, [role="tab"]${pM}, ${xV}`,XY=`.${bc}[data-bs-toggle="tab"], .${bc}[data-bs-toggle="pill"], .${bc}[data-bs-toggle="list"]`;class Vh extends Er{constructor(t){super(t),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Y.on(this._element,GY,e=>this._keydown(e)))}static get NAME(){return"tab"}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),i=e?Y.trigger(e,VY,{relatedTarget:t}):null;Y.trigger(t,FY,{relatedTarget:e}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){t&&(t.classList.add(bc),this._activate(be.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),Y.trigger(t,HY,{relatedTarget:e})):t.classList.add(fM)},t,t.classList.contains("fade")))}_deactivate(t,e){t&&(t.classList.remove(bc),t.blur(),this._deactivate(be.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),Y.trigger(t,$Y,{relatedTarget:e})):t.classList.remove(fM)},t,t.classList.contains("fade")))}_keydown(t){if(![jY,DV,WY,PV,dM,AV].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=this._getChildren().filter(s=>!Wa(s));let i;if([dM,AV].includes(t.key))i=e[t.key===dM?0:e.length-1];else{const s=[DV,PV].includes(t.key);i=Yx(e,t.target,s,!0)}i&&(i.focus({preventScroll:!0}),Vh.getOrCreateInstance(i).show())}_getChildren(){return be.find(gM,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const i of e)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",e),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=be.getElementFromSelector(t);!e||(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){const i=this._getOuterElement(t);if(!i.classList.contains("dropdown"))return;const s=(r,o)=>{const a=be.findOne(r,i);a&&a.classList.toggle(o,e)};s(".dropdown-toggle",bc),s(".dropdown-menu",fM),i.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}_elemIsActive(t){return t.classList.contains(bc)}_getInnerElement(t){return t.matches(gM)?t:be.findOne(gM,t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(t){return this.each(function(){const e=Vh.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}Y.on(document,qY,xV,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Wa(this)&&Vh.getOrCreateInstance(this).show()}),Y.on(window,UY,()=>{for(const n of be.find(XY))Vh.getOrCreateInstance(n)}),qs(Vh);const Ya=".bs.toast",tQ=`mouseover${Ya}`,iQ=`mouseout${Ya}`,nQ=`focusin${Ya}`,sQ=`focusout${Ya}`,rQ=`hide${Ya}`,oQ=`hidden${Ya}`,aQ=`show${Ya}`,lQ=`shown${Ya}`,Pb="show",Ab="showing",uQ={animation:"boolean",autohide:"boolean",delay:"number"},hQ={animation:!0,autohide:!0,delay:5e3};class Tb extends Er{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return hQ}static get DefaultType(){return uQ}static get NAME(){return"toast"}show(){Y.trigger(this._element,aQ).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Pb,Ab),this._queueCallback(()=>{this._element.classList.remove(Ab),Y.trigger(this._element,lQ),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!Y.trigger(this._element,rQ).defaultPrevented&&(this._element.classList.add(Ab),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Ab,Pb),Y.trigger(this._element,oQ)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Pb),super.dispose()}isShown(){return this._element.classList.contains(Pb)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){Y.on(this._element,tQ,t=>this._onInteraction(t,!0)),Y.on(this._element,iQ,t=>this._onInteraction(t,!1)),Y.on(this._element,nQ,t=>this._onInteraction(t,!0)),Y.on(this._element,sQ,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const e=Tb.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}})}}function Us(n){return null!=n&&"false"!=`${n}`}function Sc(n,t=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Ri(n){return n instanceof Nt?n.nativeElement:n}function Ec(...n){let t=n[n.length-1];return rl(t)?(n.pop(),ea(n,t)):ta(n)}function mM(n,t,e,i){return M(e)&&(i=e,e=void 0),i?mM(n,t,e).pipe(vs(s=>il(s)?i(...s):i(s))):new Ye(s=>{IV(n,t,function(o){s.next(arguments.length>1?Array.prototype.slice.call(arguments):o)},s,e)})}function IV(n,t,e,i,s){let r;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const o=n;n.addEventListener(t,e,s),r=()=>o.removeEventListener(t,e,s)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const o=n;n.on(t,e),r=()=>o.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const o=n;n.addListener(t,e),r=()=>o.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let o=0,a=n.length;o<a;o++)IV(n[o],t,e,i,s)}i.add(r)}gb(Tb),qs(Tb);class vQ extends Xe{constructor(t,e){super()}schedule(t,e=0){return this}}class xb extends vQ{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s,i=!1;try{this.work(t)}catch(r){i=!0,s=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),s}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&i.splice(s,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let OV=(()=>{class n{constructor(e,i=n.now){this.SchedulerAction=e,this.now=i}schedule(e,i=0,s){return new this.SchedulerAction(this,e).schedule(s,i)}}return n.now=()=>Date.now(),n})();class wr extends OV{constructor(t,e=OV.now){super(t,()=>wr.delegate&&wr.delegate!==this?wr.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return wr.delegate&&wr.delegate!==this?wr.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const NV=new class extends wr{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,r=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this.active=!1,i){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends xb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});let bQ=1;const SQ=Promise.resolve(),Mb={};function RV(n){return n in Mb&&(delete Mb[n],!0)}const LV={setImmediate(n){const t=bQ++;return Mb[t]=!0,SQ.then(()=>RV(t)&&n()),t},clearImmediate(n){RV(n)}},ag=(new class extends wr{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,r=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this.active=!1,i){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends xb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=LV.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(LV.clearImmediate(e),t.scheduled=void 0)}}),new wr(xb));class AQ{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new TQ(t,this.durationSelector))}}class TQ extends Oc{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:s}=this;e=s(t)}catch(s){return this.destination.error(s)}const i=Qi(e,new Rn(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function vM(n){return!il(n)&&n-parseFloat(n)+1>=0}function MQ(n){const{index:t,period:e,subscriber:i}=n;if(i.next(t),!i.closed){if(-1===e)return i.complete();n.index=t+1,this.schedule(n,e)}}function yM(n,t=ag){return function(n){return function(e){return e.lift(new AQ(n))}}(()=>function(n=0,t,e){let i=-1;return vM(t)?i=Number(t)<1?1:Number(t):rl(t)&&(e=t),rl(e)||(e=ag),new Ye(s=>{const r=vM(n)?n:+n-e.now();return e.schedule(MQ,r,{index:0,period:i,subscriber:s})})}(n,t))}function $V(n,t){return function(i){return i.lift(new IQ(n,t))}}class IQ{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new OQ(t,this.predicate,this.thisArg))}}class OQ extends Mt{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function Qa(n){return t=>t.lift(new NQ(n))}class NQ{constructor(t){this.notifier=t}call(t,e){const i=new RQ(t),s=Qi(this.notifier,new Rn(i));return s&&!i.seenValue?(i.add(s),e.subscribe(i)):i}}class RQ extends Oc{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function FV(...n){return xg(1)(Ec(...n))}function lg(...n){const t=n[n.length-1];return rl(t)?(n.pop(),e=>FV(n,e,t)):e=>FV(n,e)}function _M(n,t){return"function"==typeof t?e=>e.pipe(_M((i,s)=>Ic(n(i,s)).pipe(vs((r,o)=>t(i,r,s,o))))):e=>e.lift(new FQ(n))}class FQ{constructor(t){this.project=t}call(t,e){return e.subscribe(new HQ(t,this.project))}}class HQ extends Oc{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new Rn(this),s=this.destination;s.add(i),this.innerSubscription=Qi(t,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}new class extends wr{}(class extends xb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(t,e,i):t.flush(this)}});const jQ=new Ye(n=>n.complete());function HV(n){return n?function(n){return new Ye(t=>n.schedule(()=>t.complete()))}(n):jQ}class js{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}}accept(t,e,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,i)}toObservable(){switch(this.kind){case"N":return Ec(this.value);case"E":return function(n,t){return new Ye(e=>e.error(n))}(this.error);case"C":return HV()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new js("N",t):js.undefinedValueNotification}static createError(t){return new js("E",void 0,t)}static createComplete(){return js.completeNotification}}let bM;js.completeNotification=new js("C"),js.undefinedValueNotification=new js("N",void 0);try{bM="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){bM=!1}let cg,SM,Ws=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return n===$2}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!bM)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(H(uh))},n.\u0275prov=ce({factory:function(){return new n(H(uh))},token:n,providedIn:"root"}),n})();function ug(n){return function(){if(null==cg&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>cg=!0}))}finally{cg=cg||!1}return cg}()?n:!!n.capture}function EM(n){if(function(){if(null==SM){const n="undefined"!=typeof document?document.head:null;SM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return SM}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Qr(n){return n.composedPath?n.composedPath()[0]:n.target}const UV=new me("cdk-dir-doc",{providedIn:"root",factory:function(){return sE(Ze)}});let dg=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new dt,e){const s=e.documentElement?e.documentElement.dir:null,r=(e.body?e.body.dir:null)||s;this.value="ltr"===r||"rtl"===r?r:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(H(UV,8))},n.\u0275prov=ce({factory:function(){return new n(H(UV,8))},token:n,providedIn:"root"}),n})(),wM=(()=>{class n{constructor(e,i,s){this._ngZone=e,this._platform=i,this._scrolled=new Je,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Ye(i=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(yM(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ec()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const s=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe($V(r=>!r||s.indexOf(r)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((s,r)=>{this._scrollableContainsElement(r,e)&&i.push(r)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let s=Ri(i),r=e.getElementRef().nativeElement;do{if(s==r)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>mM(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(H(ze),H(Ws),H(Ze,8))},n.\u0275prov=ce({factory:function(){return new n(H(ze),H(Ws),H(Ze,8))},token:n,providedIn:"root"}),n})(),CM=(()=>{class n{constructor(e,i,s){this._platform=e,this._change=new Je,this._changeListener=r=>{this._change.next(r)},this._document=s,i.runOutsideAngular(()=>{if(e.isBrowser){const r=this._getWindow();r.addEventListener("resize",this._changeListener),r.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),s=e.documentElement,r=s.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||i.scrollY||s.scrollTop||0,left:-r.left||e.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(yM(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(H(Ws),H(ze),H(Ze,8))},n.\u0275prov=ce({factory:function(){return new n(H(Ws),H(ze),H(Ze,8))},token:n,providedIn:"root"}),n})(),kM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ei({type:n}),n.\u0275inj=Ut({}),n})();const kJ=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function DM(n){return t=>0===n?HV():t.lift(new DJ(n))}class DJ{constructor(t){if(this.total=t,this.total<0)throw new kJ}call(t,e){return e.subscribe(new PJ(t,this.total))}}class PJ extends Mt{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function oZ(n){const{subscriber:t,counter:e,period:i}=n;t.next(e),this.schedule({subscriber:t,counter:e+1,period:i},i)}function Ja(){}"undefined"!=typeof Element&&Element;class lZ{constructor(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}call(t,e){return e.subscribe(new cZ(t,this.nextOrObserver,this.error,this.complete))}}class cZ extends Mt{constructor(t,e,i,s){super(t),this._tapNext=Ja,this._tapError=Ja,this._tapComplete=Ja,this._tapError=i||Ja,this._tapComplete=s||Ja,M(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Ja,this._tapError=e.error||Ja,this._tapComplete=e.complete||Ja)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function TM(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const s=t[i];s?n.setProperty(i,s,(null==e?void 0:e.has(i))?"important":""):n.removeProperty(i)}return n}function Hh(n,t){const e=t?"":"none";TM(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function d$(n,t,e){TM(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function Rb(n,t){return t&&"none"!=t?n+" "+t:n}function f$(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function xM(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function MM(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function IM(n,t,e){const{top:i,bottom:s,left:r,right:o}=n;return e>=i&&e<=s&&t>=r&&t<=o}function fg(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function p$(n,t,e,i){const{top:s,right:r,bottom:o,left:a,width:l,height:h}=n,f=l*t,m=h*t;return i>s-m&&i<o+m&&e>a-f&&e<r+f}class g${constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:MM(e)})})}handleScroll(t){const e=Qr(t),i=this.positions.get(e);if(!i)return null;const s=e===this._document?e.documentElement:e,r=i.scrollPosition;let o,a;if(e===this._document){const f=this._viewportRuler.getViewportScrollPosition();o=f.top,a=f.left}else o=e.scrollTop,a=e.scrollLeft;const l=r.top-o,h=r.left-a;return this.positions.forEach((f,m)=>{f.clientRect&&e!==m&&s.contains(m)&&fg(f.clientRect,l,h)}),r.top=o,r.left=a,{top:l,left:h}}}function m$(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let s=0;s<e.length;s++)e[s].removeAttribute("id");return"canvas"===i?_$(n,t):("input"===i||"select"===i||"textarea"===i)&&y$(n,t),v$("canvas",n,t,_$),v$("input, textarea, select",n,t,y$),t}function v$(n,t,e,i){const s=t.querySelectorAll(n);if(s.length){const r=e.querySelectorAll(n);for(let o=0;o<s.length;o++)i(s[o],r[o])}}let hZ=0;function y$(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${hZ++}`)}function _$(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch(i){}}const b$=ug({passive:!0}),S$=ug({passive:!1}),OM=new Set(["position"]);class fZ{constructor(t,e,i,s,r,o){this._config=e,this._document=i,this._ngZone=s,this._viewportRuler=r,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Je,this._pointerMoveSubscription=Xe.EMPTY,this._pointerUpSubscription=Xe.EMPTY,this._scrollSubscription=Xe.EMPTY,this._resizeSubscription=Xe.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Je,this.started=new Je,this.released=new Je,this.ended=new Je,this.entered=new Je,this.exited=new Je,this.dropped=new Je,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const l=this._handles.find(h=>{const f=Qr(a);return!!f&&(f===h||h.contains(f))});l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const b=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),C=this._dropContainer;if(!b)return void this._endDragSequence(a);(!C||!C.isDragging()&&!C.isReceiving())&&(a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),a.preventDefault();const h=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(h),this._dropContainer)this._updateActiveDropContainer(h,l);else{const f=this._activeTransform;f.x=h.x-this._pickupPositionOnPage.x+this._passiveTransform.x,f.y=h.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(f.x,f.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${f.x} ${f.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:h,event:a,distance:this._getDragDistance(h),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new g$(i,r),o.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Us(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>Hh(i,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>Ri(i)),this._handles.forEach(i=>Hh(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Ri(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,S$),e.addEventListener("touchstart",this._pointerDown,b$)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Ri(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&Bb(this._rootElement),Bb(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Hh(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Hh(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&Bb(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&Bb(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){pg(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,s=i.parentNode,r=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();s.insertBefore(o,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),d$(i,!1,OM),this._document.body.appendChild(s.replaceChild(r,i)),this._getPreviewInsertionPoint(s,a).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),s=pg(e),r=!s&&0!==e.button,o=this._rootElement,a=Qr(e),l=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),h=s?function(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(e):function(n){return 0===n.offsetX&&0===n.offsetY}(e);if(a&&a.draggable&&"mousedown"===e.type&&e.preventDefault(),i||r||l||h)return;this._handles.length&&(this._rootElementTapHighlight=o.style.webkitTapHighlightColor||"",o.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(y=>this._updateOnScroll(y)),this._boundaryElement&&(this._boundaryRect=MM(this._boundaryElement));const f=this._previewTemplate;this._pickupPositionInElement=f&&f.template&&!f.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const m=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:m.x,y:m.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){d$(this._rootElement,!0,OM),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),s=this._getPointerPositionOnPage(t),r=this._getDragDistance(s),o=e._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:r,dropPoint:s}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:r,dropPoint:s}),e.drop(this,i,this._initialIndex,this._initialContainer,o,r,s),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:s}){let r=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,t,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,s),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let s;if(i&&t){const r=t.matchSize?this._rootElement.getBoundingClientRect():null,o=t.viewContainer.createEmbeddedView(i,t.context);o.detectChanges(),s=w$(o,this._document),this._previewRef=o,t.matchSize?C$(s,r):s.style.transform=Lb(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const r=this._rootElement;s=m$(r),C$(s,r.getBoundingClientRect()),this._initialTransform&&(s.style.transform=this._initialTransform)}return TM(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},OM),Hh(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(r=>s.classList.add(r)):s.classList.add(e)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function(n){const t=getComputedStyle(n),e=xM(t,"transition-property"),i=e.find(a=>"transform"===a||"all"===a);if(!i)return 0;const s=e.indexOf(i),r=xM(t,"transition-duration"),o=xM(t,"transition-delay");return f$(r[s])+f$(o[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const s=o=>{var a;(!o||Qr(o)===this._preview&&"transform"===o.propertyName)&&(null===(a=this._preview)||void 0===a||a.removeEventListener("transitionend",s),i(),clearTimeout(r))},r=setTimeout(s,1.5*e);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=w$(this._placeholderRef,this._document)):i=m$(this._rootElement),i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e){const i=this._rootElement.getBoundingClientRect(),s=t===this._rootElement?null:t,r=s?s.getBoundingClientRect():i,o=pg(e)?e.targetTouches[0]:e,a=this._getViewportScrollPosition();return{x:r.left-i.left+(o.pageX-r.left-a.left),y:r.top-i.top+(o.pageY-r.top-a.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=pg(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,s=i.pageX-e.left,r=i.pageY-e.top;if(this._ownerSVGElement){const o=this._ownerSVGElement.getScreenCTM();if(o){const a=this._ownerSVGElement.createSVGPoint();return a.x=s,a.y=r,a.matrixTransform(o.inverse())}}return{x:s,y:r}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:s}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?s=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:r,y:o}=this._pickupPositionInElement,a=this._boundaryRect,l=this._previewRect,h=a.top+o,f=a.bottom-(l.height-o);i=E$(i,a.left+r,a.right-(l.width-r)),s=E$(s,h,f)}return{x:i,y:s}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,s=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-r.x),a=Math.abs(i-r.y);return o>this._config.pointerDirectionChangeThreshold&&(s.x=e>r.x?1:-1,r.x=e),a>this._config.pointerDirectionChangeThreshold&&(s.y=i>r.y?1:-1,r.y=i),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Hh(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,S$),t.removeEventListener("touchstart",this._pointerDown,b$)}_applyRootElementTransform(t,e){const i=Lb(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform&&"none"!=this._rootElement.style.transform?this._rootElement.style.transform:""),this._rootElement.style.transform=Rb(i,this._initialTransform)}_applyPreviewTransform(t,e){var i;const s=(null===(i=this._previewTemplate)||void 0===i?void 0:i.template)?void 0:this._initialTransform,r=Lb(t,e);this._preview.style.transform=Rb(r,s)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),s=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===s.width&&0===s.height)return;const r=i.left-s.left,o=s.right-i.right,a=i.top-s.top,l=s.bottom-i.bottom;i.width>s.width?(r>0&&(t+=r),o>0&&(t-=o)):t=0,i.height>s.height?(a>0&&(e+=a),l>0&&(e-=l)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:pg(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=Qr(t);this._boundaryRect&&(i===this._document||i!==this._boundaryElement&&i.contains(this._boundaryElement))&&fg(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=EM(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const s=this._document;return e||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return Ri(i)}}function Lb(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function E$(n,t,e){return Math.max(t,Math.min(e,n))}function Bb(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function pg(n){return"t"===n.type[0]}function w$(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(s=>i.appendChild(s)),i}function C$(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=Lb(t.left,t.top)}function k$(n,t,e){const i=gg(t,n.length-1),s=gg(e,n.length-1);if(i===s)return;const r=n[i],o=s<i?-1:1;for(let a=i;a!==s;a+=o)n[a]=n[a+o];n[s]=r}function gg(n,t){return Math.max(0,Math.min(t,n))}class pZ{constructor(t,e,i,s,r){this._dragDropRegistry=e,this._ngZone=s,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Je,this.entered=new Je,this.exited=new Je,this.dropped=new Je,this.sorted=new Je,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Xe.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Je,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(n=0,t=ag){return(!vM(n)||n<0)&&(n=0),(!t||"function"!=typeof t.schedule)&&(t=ag),new Ye(e=>(e.add(t.schedule(oZ,n,{subscriber:e,counter:0,period:n})),e))}(0,NV).pipe(Qa(this._stopScrollTimers)).subscribe(()=>{const o=this._scrollNode,a=this.autoScrollStep;1===this._verticalScrollDirection?A$(o,-a):2===this._verticalScrollDirection&&A$(o,a),1===this._horizontalScrollDirection?T$(o,-a):2===this._horizontalScrollDirection&&T$(o,a)})},this.element=Ri(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new g$(i,r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,s){let r;this._draggingStarted(),null==s?(r=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===r&&(r=this._getItemIndexFromPointerPosition(t,e,i))):r=s;const o=this._activeDraggables,a=o.indexOf(t),l=t.getPlaceholderElement();let h=o[r];if(h===t&&(h=o[r+1]),a>-1&&o.splice(a,1),h&&!this._dragDropRegistry.isDragging(h)){const f=h.getRootElement();f.parentElement.insertBefore(l,f),o.splice(r,0,t)}else if(this._shouldEnterAsFirstChild(e,i)){const f=o[0].getRootElement();f.parentNode.insertBefore(l,f),o.unshift(t)}else Ri(this.element).appendChild(l),o.push(t);l.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,s,r,o,a){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:s,isPointerOverContainer:r,distance:o,dropPoint:a})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(s=>s.isDragging()).every(s=>-1===t.indexOf(s))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=Ri(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?NM("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,i=>i.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,s){if(this.sortingDisabled||!this._clientRect||!p$(this._clientRect,.05,e,i))return;const r=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,i,s);if(-1===o&&r.length>0)return;const a="horizontal"===this._orientation,l=NM(r,P=>P.drag===t),h=r[o],m=h.clientRect,y=l>o?1:-1,b=this._getItemOffsetPx(r[l].clientRect,m,y),C=this._getSiblingOffsetPx(l,r,y),T=r.slice();k$(r,l,o),this.sorted.next({previousIndex:l,currentIndex:o,container:this,item:t}),r.forEach((P,O)=>{if(T[O]===P)return;const I=P.drag===t,B=I?b:C,G=I?t.getPlaceholderElement():P.drag.getRootElement();P.offset+=B,a?(G.style.transform=Rb(`translate3d(${Math.round(P.offset)}px, 0, 0)`,P.initialTransform),fg(P.clientRect,0,B)):(G.style.transform=Rb(`translate3d(0, ${Math.round(P.offset)}px, 0)`,P.initialTransform),fg(P.clientRect,B,0))}),this._previousSwap.overlaps=IM(m,e,i),this._previousSwap.drag=h.drag,this._previousSwap.delta=a?s.x:s.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,s=0,r=0;if(this._parentPositions.positions.forEach((o,a)=>{a===this._document||!o.clientRect||i||p$(o.clientRect,.05,t,e)&&([s,r]=function(n,t,e,i){const s=x$(t,i),r=M$(t,e);let o=0,a=0;if(s){const l=n.scrollTop;1===s?l>0&&(o=1):n.scrollHeight-l>n.clientHeight&&(o=2)}if(r){const l=n.scrollLeft;1===r?l>0&&(a=1):n.scrollWidth-l>n.clientWidth&&(a=2)}return[o,a]}(a,o.clientRect,t,e),(s||r)&&(i=a))}),!s&&!r){const{width:o,height:a}=this._viewportRuler.getViewportSize(),l={width:o,height:a,top:0,right:o,bottom:a,left:0};s=x$(l,e),r=M$(l,t),i=window}i&&(s!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=r,this._scrollNode=i,(s||r)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Ri(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Ri(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:MM(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const t=Ri(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var i;const s=e.getRootElement();if(s){const r=null===(i=this._itemPositions.find(o=>o.drag===e))||void 0===i?void 0:i.initialTransform;s.style.transform=r||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,i){const s="horizontal"===this._orientation,r=e[t].clientRect,o=e[t+-1*i];let a=r[s?"width":"height"]*i;if(o){const l=s?"left":"top",h=s?"right":"bottom";-1===i?a-=o.clientRect[l]-r[h]:a+=r[l]-o.clientRect[h]}return a}_getItemOffsetPx(t,e,i){const s="horizontal"===this._orientation;let r=s?e.left-t.left:e.top-t.top;return-1===i&&(r+=s?e.width-t.width:e.height-t.height),r}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,s="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const o=i[i.length-1].clientRect;return s?t>=o.right:e>=o.bottom}{const o=i[0].clientRect;return s?t<=o.left:e<=o.top}}_getItemIndexFromPointerPosition(t,e,i,s){const r="horizontal"===this._orientation,o=NM(this._itemPositions,({drag:a,clientRect:l},h,f)=>{if(a===t)return f.length<2;if(s){const m=r?s.x:s.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&m===this._previousSwap.delta)return!1}return r?e>=Math.floor(l.left)&&e<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom)});return-1!==o&&this.sortPredicate(o,t,this)?o:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&IM(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(s=>s._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!IM(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const s=this._getShadowRoot().elementFromPoint(e,i);if(!s)return!1;const r=Ri(this.element);return s===r||r.contains(s)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:i})=>{fg(i,e.top,e.left)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=EM(Ri(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function NM(n,t){for(let e=0;e<n.length;e++)if(t(n[e],e,n))return e;return-1}function A$(n,t){n===window?n.scrollBy(0,t):n.scrollTop+=t}function T$(n,t){n===window?n.scrollBy(t,0):n.scrollLeft+=t}function x$(n,t){const{top:e,bottom:i,height:s}=n,r=.05*s;return t>=e-r&&t<=e+r?1:t>=i-r&&t<=i+r?2:0}function M$(n,t){const{left:e,right:i,width:s}=n,r=.05*s;return t>=e-r&&t<=e+r?1:t>=i-r&&t<=i+r?2:0}const Vb=ug({passive:!1,capture:!0});let I$=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new Je,this.pointerUp=new Je,this.scroll=new Je,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Vb)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Vb)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const s=i.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:r=>this.pointerUp.next(r),options:!0}).set("scroll",{handler:r=>this.scroll.next(r),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Vb}),s||this._globalListeners.set("mousemove",{handler:r=>this.pointerMove.next(r),options:Vb}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((r,o)=>{this._document.addEventListener(o,r.handler,r.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new Ye(s=>this._ngZone.runOutsideAngular(()=>{const o=a=>{this._activeDragInstances.length&&s.next(a)};return e.addEventListener("scroll",o,!0),()=>{e.removeEventListener("scroll",o,!0)}}))),kr(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(H(ze),H(Ze))},n.\u0275prov=ce({factory:function(){return new n(H(ze),H(Ze))},token:n,providedIn:"root"}),n})();const mZ={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let RM=(()=>{class n{constructor(e,i,s,r){this._document=e,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=r}createDrag(e,i=mZ){return new fZ(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new pZ(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(H(Ze),H(ze),H(CM),H(I$))},n.\u0275prov=ce({factory:function(){return new n(H(Ze),H(ze),H(CM),H(I$))},token:n,providedIn:"root"}),n})();const LM=new me("CDK_DRAG_PARENT"),BM=new me("CdkDropListGroup"),O$=new me("CDK_DRAG_CONFIG");let vZ=0;const N$=new me("CdkDropList");let _Z=(()=>{class n{constructor(e,i,s,r,o,a,l){this.element=e,this._changeDetectorRef=s,this._scrollDispatcher=r,this._dir=o,this._group=a,this._destroyed=new Je,this.connectedTo=[],this.id="cdk-drop-list-"+vZ++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new dt,this.entered=new dt,this.exited=new dt,this.sorted=new dt,this._unsortedItems=new Set,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(h,f)=>this.enterPredicate(h.data,f.data),this._dropListRef.sortPredicate=(h,f,m)=>this.sortPredicate(h,f.data,m.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),a&&a._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=Us(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=n._dropLists.indexOf(this);e>-1&&n._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(lg(this._dir.value),Qa(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{const i=function(n){return Array.isArray(n)?n:[n]}(this.connectedTo).map(s=>"string"==typeof s?n._dropLists.find(o=>o.id===s):s);if(this._group&&this._group._items.forEach(s=>{-1===i.indexOf(s)&&i.push(s)}),!this._scrollableParentsResolved){const s=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(r=>r.getElementRef().nativeElement);this._dropListRef.withScrollableParents(s),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=Us(this.sortingDisabled),e.autoScrollDisabled=Us(this.autoScrollDisabled),e.autoScrollStep=Sc(this.autoScrollStep,2),e.connectedTo(i.filter(s=>s&&s!==this).map(s=>s._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:i,draggingDisabled:s,sortingDisabled:r,listAutoScrollDisabled:o,listOrientation:a}=e;this.disabled=null!=s&&s,this.sortingDisabled=null!=r&&r,this.autoScrollDisabled=null!=o&&o,this.orientation=a||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return n.\u0275fac=function(e){return new(e||n)(V(Nt),V(RM),V(gy),V(wM),V(dg,8),V(BM,12),V(O$,8))},n.\u0275dir=ue({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,i){2&e&&(hr("id",i.id),Jl("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[ot([{provide:BM,useValue:void 0},{provide:N$,useExisting:n}])]}),n._dropLists=[],n})();const VM=new me("CdkDragHandle");let bZ=(()=>{class n{constructor(e,i){this.element=e,this._stateChanges=new Je,this._disabled=!1,this._parentDrag=i}get disabled(){return this._disabled}set disabled(e){this._disabled=Us(e),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(V(Nt),V(LM,12))},n.\u0275dir=ue({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[ot([{provide:VM,useExisting:n}])]}),n})();const R$=new me("CdkDragPlaceholder"),L$=new me("CdkDragPreview");let EZ=(()=>{class n{constructor(e,i,s,r,o,a,l,h,f,m,y){this.element=e,this.dropContainer=i,this._ngZone=r,this._viewContainerRef=o,this._dir=l,this._changeDetectorRef=f,this._selfHandle=m,this._parentDrag=y,this._destroyed=new Je,this.started=new dt,this.released=new dt,this.ended=new dt,this.entered=new dt,this.exited=new dt,this.dropped=new dt,this.moved=new Ye(b=>{const C=this._dragRef.moved.pipe(vs(T=>({source:this,pointerPosition:T.pointerPosition,event:T.event,delta:T.delta,distance:T.distance}))).subscribe(b);return()=>{C.unsubscribe()}}),this._dragRef=h.createDrag(e,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:null==a?void 0:a.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),a&&this._assignDefaults(a),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=Us(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(DM(1),Qa(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const i=e.rootElementSelector,s=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),s&&!s.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement,i=this.rootElementSelector?B$(e,this.rootElementSelector):e;this._dragRef.withRootElement(i||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?B$(this.element.nativeElement,e):Ri(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,s=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,o=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof s&&s?s:Sc(s),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(o).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(DM(1)).subscribe(()=>{var i,s;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(null===(i=r.classList)||void 0===i?void 0:i.contains("cdk-drag")){e.withParent((null===(s=n._dragInstances.find(o=>o.element.nativeElement===r))||void 0===s?void 0:s._dragRef)||null);break}r=r.parentElement}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:s,constrainPosition:r,previewClass:o,boundaryElement:a,draggingDisabled:l,rootElementSelector:h,previewContainer:f}=e;this.disabled=null!=l&&l,this.dragStartDelay=s||0,i&&(this.lockAxis=i),r&&(this.constrainPosition=r),o&&(this.previewClass=o),a&&(this.boundaryElement=a),h&&(this.rootElementSelector=h),f&&(this.previewContainer=f)}_setupHandlesListener(){this._handles.changes.pipe(lg(this._handles),function(n,t,e){return function(s){return s.lift(new lZ(n,undefined,undefined))}}(e=>{const i=e.filter(s=>s._parentDrag===this).map(s=>s.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),_M(e=>kr(...e.map(i=>i._stateChanges.pipe(lg(i))))),Qa(this._destroyed)).subscribe(e=>{const i=this._dragRef,s=e.element.nativeElement;e.disabled?i.disableHandle(s):i.enableHandle(s)})}}return n.\u0275fac=function(e){return new(e||n)(V(Nt),V(N$,12),V(Ze),V(ze),V(Rs),V(O$,8),V(dg,8),V(RM),V(gy),V(VM,10),V(LM,12))},n.\u0275dir=ue({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(e,i,s){if(1&e&&(wy(s,L$,5),wy(s,R$,5),wy(s,VM,5)),2&e){let r;sc(r=rc())&&(i._previewTemplate=r.first),sc(r=rc())&&(i._placeholderTemplate=r.first),sc(r=rc())&&(i._handles=r)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,i){2&e&&Jl("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],previewContainer:["cdkDragPreviewContainer","previewContainer"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[ot([{provide:LM,useExisting:n}]),Dt]}),n._dragInstances=[],n})();function B$(n,t){let e=n.parentElement;for(;e;){if(e.matches?e.matches(t):e.msMatchesSelector(t))return e;e=e.parentElement}return null}let wZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ei({type:n}),n.\u0275inj=Ut({providers:[RM],imports:[kM]}),n})();class V${}const Yo="*";function kZ(n,t){return{type:7,name:n,definitions:t,options:{}}}function DZ(n,t=null){return{type:4,styles:t,timings:n}}function $$(n,t=null){return{type:2,steps:n,options:t}}function $b(n){return{type:6,styles:n,offset:null}}function F$(n,t,e){return{type:0,name:n,styles:t,options:e}}function PZ(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function H$(n){Promise.resolve(null).then(n)}class qh{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){H$(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class q${constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,s=0;const r=this.players.length;0==r?H$(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==r&&this._onFinish()}),o.onDestroy(()=>{++i==r&&this._onDestroy()}),o.onStart(()=>{++s==r&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(s)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class st{constructor(t,e,i,s){this.logService=t,this.toyService=e,this.used=!1,this.triggers=0,this.parent=i,this.level=s}}class AZ extends st{constructor(){super(...arguments),this.name="Balloon",this.tier=1}onBreak(t,e){let i=this.parent.furthestUpPet,s=this.level;i.increaseAttack(s),i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:e})}}class TZ extends st{constructor(){super(...arguments),this.name="Tennis Ball",this.tier=1}startOfBattle(t,e){let i=xt(t,this.parent),s=i.getRandomPet(null,null,!0);this.toyService.snipePet(s,this.level,this.parent,this.name,!0,e),s=i.getRandomPet(null,null,!0),this.toyService.snipePet(s,this.level,this.parent,this.name,!0,e)}}class xZ extends st{constructor(){super(...arguments),this.name="Radio",this.tier=2}onBreak(t,e){let i=this.parent.petArray;for(let s of i)!s.alive||(s.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${s.name} ${this.level} health.`,type:"ability",player:this.parent,puma:e}))}}class MZ extends st{constructor(){super(...arguments),this.name="Garlic Press",this.tier=2}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof bh)){s.givePetEquipment(new bh),this.logService.createLog({message:`${this.name} gave ${s.name} Garlic.`,type:"ability",player:this.parent,puma:e});break}}}class IZ extends st{constructor(){super(...arguments),this.name="Toilet Paper",this.tier=3}startOfBattle(t,e){let s=xt(t,this.parent).petArray.slice(0,this.level);for(let r of s)r.givePetEquipment(new Uo),this.logService.createLog({message:`${this.name} gave ${r.name} Weak.`,type:"ability",player:this.parent,puma:e})}}class OZ extends st{constructor(){super(...arguments),this.name="Oven Mitts",this.tier=3}onBreak(t){}}class NZ extends st{constructor(){super(...arguments),this.name="Melon Helmet",this.tier=4}onBreak(t,e){let i=this.parent.petArray.filter(s=>s.alive).slice(0,this.level);for(let s of i)s.givePetEquipment(new jr),this.logService.createLog({message:`${this.name} gave ${s.name} Melon.`,type:"ability",player:this.parent,puma:e})}}class RZ extends st{constructor(){super(...arguments),this.name="Foam Sword",this.tier=4}startOfBattle(t,e){let i=xt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getLowestHealthPet();this.toyService.snipePet(r.pet,6,this.parent,this.name,r.random,e)}}}class LZ extends st{constructor(){super(...arguments),this.name="Toy Gun",this.tier=4}startOfBattle(t,e){let i=xt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getLastPet();this.toyService.snipePet(r,6,this.parent,this.name,!1,e)}}}class BZ extends st{constructor(){super(...arguments),this.name="Flashlight",this.tier=5}onBreak(t,e){let i=6*this.level,s=this.parent.furthestUpPet;s.increaseAttack(i),s.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${s.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:e})}}class VZ extends st{constructor(){super(...arguments),this.name="Strinky Sock",this.tier=5}startOfBattle(t,e){let i=xt(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getHighestHealthPet(),o=r.pet,a=.4,l=Math.max(1,Math.floor(o.health*(1-a)));o.health=l,this.logService.createLog({message:`${this.name} reduced ${o.name} health by ${100*a}% (${l})`,type:"ability",player:this.parent,puma:e,randomEvent:r.random})}}}class $Z extends st{constructor(){super(...arguments),this.name="Television",this.tier=6}onBreak(t,e){let i=2*this.level;for(let s of this.parent.petArray)!s.alive||(s.increaseAttack(i),s.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${s.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:e}))}}class FZ extends st{constructor(){super(...arguments),this.name="Peanut Jar",this.tier=6}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof qa)){s.givePetEquipment(new qa),this.logService.createLog({message:`${this.name} gave ${s.name} Peanut.`,type:"ability",player:this.parent,puma:e});break}}}class HZ extends st{constructor(){super(...arguments),this.name="Air Palm Tree",this.tier=6}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof Wr)){s.givePetEquipment(new Wr),this.logService.createLog({message:`${this.name} gave ${s.name} Coconut.`,type:"ability",player:this.parent,puma:e});break}}}class qZ extends st{constructor(t,e,i,s,r){super(t,e,i,s),this.logService=t,this.toyService=e,this.equipmentService=r,this.name="Pandoras Box",this.tier=6}startOfBattle(t,e){let i=this.equipmentService.getInstanceOfAllEquipment(),s=[new dT,new dc,new p_,new Fp,new iT,new Uo],r=["Carrot","Cherry","Chocolate Cake","Coconut","Croissant","Cucumber","Eggplant","Fig","Gingerbread Man","Grapes","Golden Egg","Health Potion","Love Potion","Magic Beans","Peanut","Pie","Rambutan","Rice","Skewer"],o=[...t.player.petArray,...t.opponet.petArray],a=Array.from(i.values());a=a.filter(l=>!r.includes(l.name));for(let l of o){let h=s;Math.random()<.5&&(h=a);let f=h[Math.floor(Math.random()*h.length)];this.logService.createLog({message:`${this.name} gave ${l.name} ${f.name}`,type:"ability",player:this.parent,randomEvent:!0}),l.givePetEquipment(f)}}}class GZ extends st{constructor(){super(...arguments),this.name="Witch Broom",this.tier=1}startOfBattle(t,e){let i=xt(t,this.parent),s=i.petArray.filter(o=>null!=o.equipment),r=[];for(let o=0;o<this.level;o++){let a=i.getRandomPet(s,null,!0);if(null==a)break;s.push(a),r.push(a)}for(let o of r)this.logService.createLog({message:`${this.name} gave ${o.name} Weak.`,type:"ability",player:this.parent,puma:e,randomEvent:i.petArray.length-s.length>0}),o.givePetEquipment(new Uo)}}class UZ extends st{constructor(){super(...arguments),this.name="Magic Wand",this.tier=1}startOfBattle(t,e){let i=this.parent.petArray.filter(o=>o.level<3),s=null,r=!1;0==i.length?s=this.parent.getRandomPet([],!0):(i=(0,ve.shuffle)(i),s=i[0],r=i.length>1),null!=s&&(this.logService.createLog({message:`${this.name} gave ${s.name} ${this.level} exp.`,type:"ability",player:this.parent,puma:e,randomEvent:r}),s.increaseExp(this.level))}}class jZ extends st{constructor(){super(...arguments),this.name="Crystal Ball",this.tier=1}startOfBattle(t,e){let i=this.parent.petArray[0];null!=i&&(this.logService.createLog({message:`${this.name} gave ${i.name} ${this.level} mana.`,type:"ability",player:this.parent,puma:e,randomEvent:!1}),i.increaseMana(this.level))}}class WZ extends st{constructor(){super(...arguments),this.name="Treasure Map",this.tier=3}}class zZ extends st{constructor(){super(...arguments),this.name="Treasure Chest",this.tier=3}}class KZ extends st{constructor(t,e,i,s,r){super(t,e,s,r),this.logService=t,this.toyService=e,this.abilityService=i,this.name="Evil Book",this.tier=5}emptyFromSpace(t,e,i,s){let r={attack:6*i,health:6*i},o=1==i?0:2==i?2:5;this.abilityService.setSpawnEvent({callback:()=>{let a=new nb(this.logService,this.abilityService,this.parent,r.health,r.attack,0,o);this.logService.createLog({message:`${this.name} spawned Great One (${r.attack}/${r.health}).`,type:"ability",player:this.parent,puma:e}),this.parent.summonPet(a,0)&&this.abilityService.triggerSummonedEvents(a)},priority:s}),this.used=!0}}class YZ extends st{constructor(){super(...arguments),this.name="Magic Carpet",this.tier=2}friendSummoned(t,e,i,s){this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack.`,type:"ability",player:this.parent,puma:i}),e.increaseAttack(s)}}class QZ extends st{constructor(){super(...arguments),this.name="Magic Lamp",this.tier=2}friendlyLevelUp(t,e,i,s){this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),e.increaseAttack(+s),e.increaseHealth(+s)}}class JZ extends st{constructor(){super(...arguments),this.name="Candleabra",this.tier=4}}class ZZ extends st{constructor(){super(...arguments),this.name="Glass Shoes",this.tier=4}friendFaints(t,e,i,s){if(i||this.triggers++,this.triggers%3!=0)return;let r=e.parent.petArray.filter(o=>o.alive);for(let o of r)this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),o.increaseAttack(+s),o.increaseHealth(+s)}}class XZ extends st{constructor(){super(...arguments),this.name="Golden Harp",this.tier=4}}class eX extends st{constructor(){super(...arguments),this.name="Lock of Hair",this.tier=4}}class tX extends st{constructor(){super(...arguments),this.name="Magic Mirror",this.tier=4}}class iX extends st{constructor(){super(...arguments),this.name="Pickaxe",this.tier=4}}class nX extends st{constructor(){super(...arguments),this.name="Red Cape",this.tier=4}friendJumped(t,e,i,s){let r=e.parent.petArray.filter(o=>o.alive);for(let o of r)this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),o.increaseAttack(+s),o.increaseHealth(+s)}}class sX extends st{constructor(){super(...arguments),this.name="Rosebud",this.tier=4}friendlyLevelUp(t,e,i,s){if(i||this.triggers++,this.triggers%2!=0)return;let r=e.parent.petArray.filter(o=>o.alive);for(let o of r)this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),o.increaseAttack(+s),o.increaseHealth(+s)}}class rX extends st{constructor(){super(...arguments),this.name="Excalibur",this.tier=6}}class oX extends st{constructor(){super(...arguments),this.name="Holy Grail",this.tier=6}}class aX extends st{constructor(t,e,i,s,r){super(t,e,s,r),this.logService=t,this.toyService=e,this.abilityService=i,this.name="Nutcracker",this.tier=4}friendFaints(t,e,i,s){this.used||e.parent.petArray.filter(o=>o.alive).length>0||(this.abilityService.setSpawnEvent({callback:()=>{let o=6*this.level,a=new K_(this.logService,this.abilityService,this.parent,o,o,null,0);this.logService.createLog({message:`${this.name} spawned Salmon of Knowledge (${o}/${o})`,type:"ability",player:this.parent}),this.parent.summonPet(a,0)&&this.abilityService.triggerSummonedEvents(a)},priority:100}),this.used=!0)}}class lX extends E{constructor(t,e,i,s,r,o,a,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giant Eyes Dog",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=6,this.attack=6,this.initPet(a,s,r,o,l)}}class cX extends st{constructor(t,e,i,s,r){super(t,e,s,r),this.logService=t,this.toyService=e,this.abilityService=i,this.name="Tinder Box",this.tier=4}emptyFromSpace(t,e,i,s){let r={attack:6*i,health:6*i},o=1==i?0:2==i?2:5;this.abilityService.setSpawnEvent({callback:()=>{let a=new lX(this.logService,this.abilityService,this.parent,r.health,r.attack,0,o);this.logService.createLog({message:`${this.name} spawned Giant Eyes Dog (${r.attack}/${r.health}).`,type:"ability",player:this.parent,puma:e}),this.parent.summonPet(a,0)&&this.abilityService.triggerSummonedEvents(a)},priority:s}),this.used=!0}}let uX=(()=>{class n{constructor(e,i,s,r){this.logService=e,this.abilityService=i,this.gameService=s,this.equipmentService=r,this.toys=new Map,this.startOfBattleEvents=[],this.emptyFrontSpaceEvents=[],this.friendSummonedEvents=[],this.setToys()}setToys(){this.toys.set(1,["Ballon","Tennis Ball"]),this.toys.set(2,["Radio","Garlic Press"]),this.toys.set(3,["Toilet Paper","Oven Mitts"]),this.toys.set(4,["Melon Helmet","Foam Sword","Toy Gun"]),this.toys.set(5,["Flashlight","Stinky Sock"]),this.toys.set(6,["Television","Peanut Jar","Air Palm Tree"]),this.toys.set(7,["Witch Broom","Pandoras Box","Magic Wand","Crystal Ball","Treasure Map","Treasure Chest","Evil Book","Magic Carpet","Magic Lamp","Nutcracker","Tinder Box","Candleabra","Glass Shoes","Golden Harp","Lock of Hair","Magic Mirror","Pickaxe","Red Cape","Rose Bud","Excalibur","Holy Grail"])}createToy(e,i,s=1){switch(e){case"Ballon":return new AZ(this.logService,this,i,s);case"Tennis Ball":return new TZ(this.logService,this,i,s);case"Radio":return new xZ(this.logService,this,i,s);case"Garlic Press":return new MZ(this.logService,this,i,s);case"Toilet Paper":return new IZ(this.logService,this,i,s);case"Oven Mitts":return new OZ(this.logService,this,i,s);case"Melon Helmet":return new NZ(this.logService,this,i,s);case"Foam Sword":return new RZ(this.logService,this,i,s);case"Toy Gun":return new LZ(this.logService,this,i,s);case"Flashlight":return new BZ(this.logService,this,i,s);case"Stinky Sock":return new VZ(this.logService,this,i,s);case"Television":return new $Z(this.logService,this,i,s);case"Peanut Jar":return new FZ(this.logService,this,i,s);case"Air Palm Tree":return new HZ(this.logService,this,i,s);case"Pandoras Box":return new qZ(this.logService,this,i,s,this.equipmentService);case"Witch Broom":return new GZ(this.logService,this,i,s);case"Magic Wand":return new UZ(this.logService,this,i,s);case"Crystal Ball":return new jZ(this.logService,this,i,s);case"Treasure Map":return new WZ(this.logService,this,i,s);case"Treasure Chest":return new zZ(this.logService,this,i,s);case"Evil Book":return new KZ(this.logService,this,this.abilityService,i,s);case"Magic Carpet":return new YZ(this.logService,this,i,s);case"Magic Lamp":return new QZ(this.logService,this,i,s);case"Nutcracker":return new aX(this.logService,this,this.abilityService,i,s);case"Tinder Box":return new cX(this.logService,this,this.abilityService,i,s);case"Candleabra":return new JZ(this.logService,this,i,s);case"Glass Shoes":return new ZZ(this.logService,this,i,s);case"Golden Harp":return new XZ(this.logService,this,i,s);case"Lock of Hair":return new eX(this.logService,this,i,s);case"Magic Mirror":return new tX(this.logService,this,i,s);case"Pickaxe":return new iX(this.logService,this,i,s);case"Red Cape":return new nX(this.logService,this,i,s);case"Rose Bud":return new sX(this.logService,this,i,s);case"Excalibur":return new rX(this.logService,this,i,s);case"Holy Grail":return new oX(this.logService,this,i,s)}}snipePet(e,i,s,r,o=!1,a=!1){let l=this.calculateDamgae(e,i),h=l.defenseEquipment,f=l.damage;e.health-=f;let m=`${r} sniped ${e.name} for ${f}.`;null!=h&&(e.useDefenseEquipment(),m+=` (${h.name} -${h.power})`),a&&(m+=" (Puma)"),this.logService.createLog({message:m,type:"attack",randomEvent:o,player:s}),null!=e.hurt&&this.abilityService.setHurtEvent({callback:e.hurt.bind(e),priority:e.attack,player:e.parent})}calculateDamgae(e,i){var s,r,o;let a="defense"==(null===(s=e.equipment)||void 0===s?void 0:s.equipmentClass)||"shield"==(null===(r=e.equipment)||void 0===r?void 0:r.equipmentClass)?e.equipment:null,l=null!==(o=null==a?void 0:a.power)&&void 0!==o?o:0;return{defenseEquipment:a,damage:Math.max("shield"==(null==a?void 0:a.equipmentClass)?0:1,i-l)}}setStartOfBattleEvent(e){this.startOfBattleEvents.push(e)}resetStartOfBattleEvents(){this.startOfBattleEvents=[]}executeStartOfBattleEvents(){this.startOfBattleEvents=(0,ve.shuffle)(this.startOfBattleEvents),this.startOfBattleEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.startOfBattleEvents)e.callback(this.gameService.gameApi);this.resetStartOfBattleEvents()}}return n.\u0275fac=function(e){return new(e||n)(H(sb),H(rb),H(Eh),H(ab))},n.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hX=(()=>{class n{constructor(e){this.gameService=e,this.toyPetEvents=[],this.nonToyPetEvents=[]}redoPriorities(e){this.nonToyPetEvents=this.nonToyPetEvents.filter(i=>i.pet!=e);for(let i of this.nonToyPetEvents)i.priority=i.pet.attack;this.executeNonToyPetEvents()}initStartOfBattleEvents(){this.gameApi=this.gameService.gameApi;for(let e of this.gameApi.player.petArray)if(null!=e.startOfBattle){let i=this.toyPetEvents;e.toyPet||(i=this.nonToyPetEvents),i.push({callback:e.startOfBattle.bind(e),priority:e.attack,player:this.gameApi.player,pet:e})}for(let e of this.gameApi.opponet.petArray)if(null!=e.startOfBattle){let i=this.toyPetEvents;e.toyPet||(i=this.nonToyPetEvents),i.push({callback:e.startOfBattle.bind(e),priority:e.attack,player:this.gameApi.opponet,pet:e})}}resetToyPetEvents(){this.toyPetEvents=[]}resetNonToyPetEvents(){this.nonToyPetEvents=[]}executeToyPetEvents(){this.toyPetEvents=(0,ve.shuffle)(this.toyPetEvents),this.toyPetEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.toyPetEvents)e.callback(this.gameApi);this.resetToyPetEvents()}executeNonToyPetEvents(){this.nonToyPetEvents=(0,ve.shuffle)(this.nonToyPetEvents),this.nonToyPetEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.nonToyPetEvents)if(e.callback(this.gameApi))return this.redoPriorities(e.pet);this.resetNonToyPetEvents()}}return n.\u0275fac=function(e){return new(e||n)(H(Eh))},n.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FM=(()=>{class n{constructor(){this.key="sapData"}getStorage(){return window.localStorage.getItem(this.key),window.localStorage.getItem(this.key)}setFormStorage(e){let i=e.value;for(let s of i.playerPets)null!=s.equipment&&(s.equipment={name:s.equipment.name});for(let s of i.opponentPets)null!=s.equipment&&(s.equipment={name:s.equipment.name});this.setStorage(i)}setStorage(e){"object"==typeof e&&(e=JSON.stringify(e)),window.localStorage.setItem(this.key,e)}clearStorage(){window.localStorage.removeItem(this.key)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dX=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ln({type:n,selectors:[["app-patch-notes"]],decls:458,vars:0,template:function(e,i){1&e&&(p(0,"h2"),S(1,"v0.6.12"),g(),p(2,"ul"),p(3,"li"),S(4,"Fixed bug with Parrot chaining when front Parrot has lower attack. (Thanks jer.re)"),g(),p(5,"li"),S(6,"Fixed bug with level 1 Crab having 0 health when copying health of pet with 1 health. (Thanks Freetz)"),g(),g(),p(7,"h2"),S(8,"v0.6.11"),g(),p(9,"ul"),p(10,"li"),S(11,"Fixed bug with spawn perks having unpredictable spawn locations. (Thanks Tangl and Wombat)"),g(),p(12,"li"),S(13,"Fixed bug with Parrot chaining. (Thanks Tangl)"),g(),p(14,"li"),S(15,"Fixed bug with Fig (and probably other perks) not working with Parrot."),g(),g(),p(16,"h2"),S(17,"v0.6.10"),g(),p(18,"ul"),p(19,"li"),S(20,"Fixed bug on Import Calculator where importing an empty slot would cause pets from previous calculator to persist. (Thanks jer.re and Freetz)"),g(),p(21,"li"),S(22,"Fixed Pandoras Box"),g(),p(23,"ul"),p(24,"li"),S(25,"Removed perks available according to here: https://superautopets.wiki.gg/wiki/Pandoras_Box"),g(),p(26,"li"),S(27,"Pandoras Box has a 50% chance to give an ailment. If this is incorrect direct hate towards Cheese from SAP Dojo."),g(),g(),g(),p(28,"h2"),S(29,"v0.6.9"),g(),p(30,"ul"),p(31,"li"),S(32,"Fixed more tiger interactions breaking calculator. (Thanks tibby)"),g(),g(),p(33,"h2"),S(34,"v0.6.8"),g(),p(35,"ul"),p(36,"li"),S(37,"Added Export Calculator modal."),g(),p(38,"li"),S(39,"Fixed bug with Dodo not changing Start of Battle priorities in battle. (Thanks Plkess and CrocsAreNice)"),g(),p(40,"li"),S(41,"Fixed bug with Armadillo not giving itself health."),g(),p(42,"li"),S(43,"Fixed Salmon of Knowledge giving itself experience. (Thanks Wombat)"),g(),p(44,"li"),S(45,"Added Unicorn Pack to custom pack editor. (Thanks Rake News)"),g(),p(46,"li"),S(47,"Changed priorty order of knock out and pet ahead faints abilities - fixes Rhino/Ox interaction. (Thanks Mazl0w)"),g(),g(),p(48,"h2"),S(49,"v0.6.7"),g(),p(50,"ul"),p(51,"li"),S(52,"Fixed bug with Tiger sometimes using the wrong level. (Thanks hop)"),g(),g(),p(53,"h2"),S(54,"v0.6.6"),g(),p(55,"ul"),p(56,"li"),S(57,"Fixed bug with parrot. (Thanks hop)"),g(),p(58,"li"),S(59,"Fixed bug with Crisp always doing 6 damage. (Thanks Kutarba)"),g(),g(),p(60,"h2"),S(61,"v0.6.5"),g(),p(62,"ul"),p(63,"li"),S(64,"Fixed Anubis feint abilities happening before other start of battle abilities. (Thanks Grounded)"),g(),p(65,"li"),S(66,"Fixed Roc. (Thanks Grounded)"),g(),p(67,"li"),S(68,"Fixed mana snipe going off after Kitsune removes the mana. (Thanks Grounded)"),g(),p(69,"li"),S(70,"Fixed Manticore ability not going off if it feints. (Thanks goose)"),g(),p(71,"li"),S(72,"Fixed issue with Calygreyhound and there being only one pet left. (Thanks MAi.k)"),g(),p(73,"li"),S(74,"Fixed issue with Slepnir not targeting correctly. (Thanks goose)"),g(),p(75,"li"),S(76,"Max mana is now 50. (Thanks goose)"),g(),p(77,"li"),S(78,"Fixed potato."),g(),p(79,"li"),S(80,"Fixed issue with Pteradon not summoning behind itself in some cases."),g(),p(81,"li"),S(82,"Fixed Snake + Tiger bug. (Thanks mumf)"),g(),g(),p(83,"h2"),S(84,"v0.6.4"),g(),p(85,"ul"),p(86,"li"),S(87,"Fixed order of Friend Faints events so that it triggers after friendly units are summoned. (Thanks Grounded)"),g(),p(88,"li"),S(89,"Fixed calculator simulating only once. \u{1f926}\u200d\u2642\ufe0f"),g(),g(),p(90,"h2"),S(91,"v0.6.3"),g(),p(92,"ul"),p(93,"li"),S(94,"Added Yggdrasil Fruit (Thanks Vuenc)"),g(),p(95,"li"),S(96,"Fixed issue with some pets when spawned having mana. (Thanks Grounded)"),g(),g(),p(97,"h2"),S(98,"v0.6.2"),g(),p(99,"ul"),p(100,"li"),S(101,"Fixed Monty's base stats. (Thanks goose)"),g(),p(102,"li"),S(103,"Fixed Visitor's (and Bear's) ability not targeting ahead friendly units. (Thanks goose)"),g(),p(104,"li"),S(105,"Fixed bug where Tiger fainting before Start of Battle abilities did not triger the Tiger's ability. (Thanks goose)"),g(),p(106,"li"),S(107,"Fixed bug with certain pets having Donut breaking the calculator. (Thanks Freetz)"),g(),p(108,"li"),S(109,"Fixed Manticore not working with Crips. (Thanks Freetz)"),g(),p(110,"li"),S(111,"Added 'Ailment Equipment' mode."),g(),g(),p(112,"h2"),S(113,"v0.6.1"),g(),p(114,"ul"),p(115,"li"),S(116,"Fixed Roc not targeting Donut pets. (Thanks mewi3977)"),g(),p(117,"li"),S(118,"Updated to SAP Version 0.33.3-151 BETA"),g(),p(119,"ul"),p(120,"li"),S(121,"Changed Chimera, Nessie, Axehandle Hound, Unicorn, Vampire Bat, Warf, Barghest, Cyclops, Mana Hound, Loveland Frogman, Jersey Devil, Tigerbug, Bigfoot, Calygreyhound, Gargoyle, Ghost Kitten, Jackalope, Minotaur, Worm of Sand, Werewolf, Lucky Cat, Ogopogo. "),g(),p(122,"li"),S(123,"Added Spooked"),g(),p(124,"li"),S(125,"Minotaur stacks."),g(),g(),p(126,"li"),S(127,"Added Weak as an equipment option."),g(),p(128,"li"),S(129,"Import pack works with Unicorn pets."),g(),g(),p(130,"h2"),S(131,"v0.6.0"),g(),p(132,"ul"),p(133,"li"),S(134,"Unicorn Pack \u{1f389}"),g(),p(135,"li"),S(136,"Updated Info/Guide"),g(),g(),p(137,"h2"),S(138,"v0.5.27"),g(),p(139,"ul"),p(140,"li"),S(141,"Fixed bug with Camel's ability logs showing incorrect values."),g(),g(),p(142,"h2"),S(143,"v0.5.26"),g(),p(144,"ul"),p(145,"li"),S(146,"Fixed bugs with drag and drop. (Thanks Agentcore)"),g(),g(),p(147,"h2"),S(148,"v0.5.25"),g(),p(149,"ul"),p(150,"li"),S(151,"Fixed some import bugs."),g(),g(),p(152,"h2"),S(153,"v0.5.24"),g(),p(154,"ul"),p(155,"li"),S(156,"Fixed bug with Custom Pack dialog not opening."),g(),g(),p(157,"h2"),S(158,"v0.5.23"),g(),p(159,"ul"),p(160,"li"),S(161,"Fixed bug with importing empty pet slots."),g(),p(162,"li"),S(163,"Fixed bug with pets that Tapir summon being disjointed from its' parent player. (Thanks goose)"),g(),g(),p(164,"h2"),S(165,"v0.5.22"),g(),p(166,"ul"),p(167,"li"),S(168,"Fixed Pigeon base stats. (Thanks goose)"),g(),p(169,"li"),S(170,"Fixed Crab copying highest health pets stats even after fainting from other start of battle abilities. (Thanks Phoenix)"),g(),g(),p(171,"h2"),S(172,"v0.5.21"),g(),p(173,"ul"),p(174,"li"),S(175,"Fixed a few Panther/equipment interactions."),g(),p(176,"ul"),p(177,"li"),S(178,"Tomato (Thanks jer.re), Salt, Cheese, Durian, Egg."),g(),g(),g(),p(179,"h2"),S(180,"v0.5.20"),g(),p(181,"ul"),p(182,"li"),S(183,"Added Komodo Shuffle option."),g(),g(),p(184,"h2"),S(185,"v0.5.19"),g(),p(186,"ul"),p(187,"li"),S(188,"Removed Beluga Whale from Orca spawn pool."),g(),g(),p(189,"h2"),S(190,"v0.5.18"),g(),p(191,"ul"),p(192,"li"),S(193,"Fixed bug with Friend Ahead Attacks ability pets not triggering when fainting. (Thanks tibby)"),g(),g(),p(194,"h2"),S(195,"v0.5.17"),g(),p(196,"ul"),p(197,"li"),S(198,"Fixed bug that required running simulation on export."),g(),p(199,"li"),S(200,"Fixed bug with ailment overwritting faint food while pet faints breaking simulation."),g(),p(201,"li"),S(202,'Added "Token Pets" option.'),g(),p(203,"li"),S(204,"Added confirmation window to Reset and Randomize buttons."),g(),g(),p(205,"h2"),S(206,"v0.5.16"),g(),p(207,"ul"),p(208,"li"),S(209,"Fixed bug with Beluga Whale pet not spawning. (Thanks goose)"),g(),p(210,"li"),S(211,"Fixed bug with Chocolate Cake not triggering Knocked Out abilities."),g(),p(212,"li"),S(213,"Fixed bug with Cherry/Fig triggering multiple times after running multiple simulations."),g(),g(),p(214,"h2"),S(215,"v0.5.15"),g(),p(216,"ul"),p(217,"li"),S(218,"Updated to SAP Version 0.31.9-145 BETA"),g(),p(219,"ul"),p(220,"li"),S(221,"Added Pigeon, Hare."),g(),p(222,"li"),S(223,"Changed Cricket, Mouse Nest, Robin, Tabby Cat, Dog, Dolphin, Flying Squirrel, Hatching Chick, Owl, Ox, Raccoon, Cockatoo, Mosasaurus, Tyrannosaurus."),g(),p(224,"li"),S(225,"Added Fig."),g(),p(226,"li"),S(227,"Changed Cherry."),g(),g(),g(),p(228,"h2"),S(229,"v0.5.14"),g(),p(230,"ul"),p(231,"li"),S(232,"Bug Report System."),g(),g(),p(233,"h2"),S(234,"v0.5.13"),g(),p(235,"ul"),p(236,"li"),S(237,"Fixed bug with Opponent Empty Front Space events not triggering. (Thanks jer.re)"),g(),g(),p(238,"h2"),S(239,"v0.5.12"),g(),p(240,"ul"),p(241,"li"),S(242,"Pug is tier 3."),g(),p(243,"li"),S(244,"Siberian Husky spelling fix."),g(),p(245,"li"),S(246,"Fixed Kiwi not availble on Star pack. (Thanks Grounded)"),g(),g(),p(247,"h2"),S(248,"v0.5.11"),g(),p(249,"ul"),p(250,"li"),S(251,"Opossum is spelled correctly."),g(),g(),p(252,"h2"),S(253,"v0.5.10"),g(),p(254,"ul"),p(255,"li"),S(256,"Buff pets do not target 50/50 friends."),g(),g(),p(257,"h2"),S(258,"v0.5.9"),g(),p(259,"ul"),p(260,"li"),S(261,"Fixed Rhino base stats."),g(),p(262,"li"),S(263,"Fixed bug with Tiger behind Hurt pet. (Thanks Freetz)."),g(),p(264,"li"),S(265,"Reset button resets Equipment."),g(),p(266,"li"),S(267,"Fixed bugs with export/import."),g(),g(),p(268,"h2"),S(269,"v0.5.8"),g(),p(270,"ul"),p(271,"li"),S(272,"Fixed bug where Zombie Flies sometimes would spawn in the wrong position. (Thanks Grounded)"),g(),g(),p(273,"h2"),S(274,"v0.5.7"),g(),p(275,"ul"),p(276,"li"),S(277,"Added Pineapple."),g(),g(),p(278,"h2"),S(279,"v0.5.6"),g(),p(280,"ul"),p(281,"li"),S(282,"Fixed bug with Turtle always behaving as a level 1."),g(),g(),p(283,"h2"),S(284,"v0.5.5"),g(),p(285,"ul"),p(286,"li"),S(287,"Fixed bug with Pancakes pet getting all of the stats. (Thanks Grounded)"),g(),g(),p(288,"h2"),S(289,"v0.5.4"),g(),p(290,"ul"),p(291,"li"),S(292,"Calculator is (more) usable on mobile devices."),g(),g(),p(293,"h2"),S(294,"v0.5.3"),g(),p(295,"ul"),p(296,"li"),S(297,"Added Reset buttons for the Player and Opponent."),g(),p(298,"li"),S(299,"Export/Import Calculator."),g(),p(300,"li"),S(301,'Added "Old Stork" mode.'),g(),p(302,"li"),S(303,"Fixed spawn bug sometimes duplicating pets when up against Royal Flycatcher. (Thanks Freetz)"),g(),p(304,"li"),S(305,"Fixed bug with pets having Friend Summoned abilities hitting themselves when summoned with a mushroom."),g(),p(306,"li"),S(307,"Fixed bug with Pteradon's ability triggering if it also faints."),g(),g(),p(308,"h2"),S(309,"v0.5.2"),g(),p(310,"ul"),p(311,"li"),S(312,"Import Custom Packs"),g(),p(313,"li"),S(314,"Custom Pack editor improvments."),g(),g(),p(315,"h2"),S(316,"v0.5.1"),g(),p(317,"ul"),p(318,"li"),S(319,"Added remaining custom pack pets."),g(),p(320,"ul"),p(321,"li"),S(322,"Frilled Dragon, Wombat, Aardvark, Bear, Emperor Tamerain, Procupine, Wasp Dragonfly, Lynx, Seagull, Alpaca, Hyena, Moose, Lioness, Tapir, Walrus, White Tiger"),g(),g(),p(323,"li"),S(324,"Added remaining custom pack food."),g(),p(325,"ul"),p(326,"li"),S(327,"Blueberry, Donut"),g(),g(),p(328,"li"),S(329,"Fixed bug with blobfish showing as tier 3. (Thanks Freetz)"),g(),p(330,"li"),S(331,"Fixed bug with eggplant triggering multiple times when running the simulation multiple times. (Thanks Freetz)"),g(),p(332,"li"),S(333,"Fixed bug with mosquito able to target the same pet."),g(),g(),p(334,"h2"),S(335,"v0.5.0"),g(),p(336,"ul"),p(337,"li"),S(338,"Added custom packs!"),g(),p(339,"li"),S(340,"Added Jerboa"),g(),p(341,"li"),S(342,"Added Fortune Cookie"),g(),g(),p(343,"h2"),S(344,"v0.4.16"),g(),p(345,"ul"),p(346,"li"),S(347,"Updated to SAP Version 0.30.6-138 BETA"),g(),p(348,"ul"),p(349,"li"),S(350," Updated stats/abilities of these pets: Whale, Frog, Iguana, Marmoset, Mouse, Koala, Panda, Shrimp, Tabby Cat, Camel, Eel, Giraffe, Musk Ox, Owl, Ox, Starfish, Anteater, Chameleon, Egyptian Vulture, Manta Ray, Platypus, Cockatoo, Crane, Monkey, Shark, Piranha, Sabertooth Tiger. "),g(),p(351,"li"),S(352," Added Durian. "),g(),g(),g(),p(353,"h2"),S(354,"v0.4.15"),g(),p(355,"ul"),p(356,"li"),S(357,"Fixed bug with Eggplant triggering too many times. (Thanks Freetz)"),g(),g(),p(358,"h2"),S(359,"v0.4.14"),g(),p(360,"ul"),p(361,"li"),S(362,"Fixed rounding error with Skunk ability/Stinky Sock."),g(),p(363,"li"),S(364,"Fixed faint pets ability being the level of the whale when swallowed. (Thanks kutarba)"),g(),g(),p(365,"h2"),S(366,"v0.4.13"),g(),p(367,"ul"),p(368,"li"),S(369,"Fixed Pteradon"),g(),g(),p(370,"h2"),S(371,"v0.4.12"),g(),p(372,"ul"),p(373,"li"),S(374,"Updated to SAP Version 0.29.6-135 BETA"),g(),p(375,"ul"),p(376,"li"),S(377,"Updated stats/abilities of these pets: Ladybug, Atlantic Puffin, Guinea Pig, Hedgehog, Jellyfish, Pug, Salamander, Toucan, Blobfish, Clownfish, Flea, Flying Fish, Mole, Chameleon, Eel, Hippo, Poison Dart Frog, Whale, Fire Ant, Fox, Turkey, Lionfish, Pteradon, Tyrannosaurus. "),g(),g(),g(),p(378,"h2"),S(379,"v0.4.11"),g(),p(380,"ul"),p(381,"li"),S(382,"Fixed bug with Tiger not triggering Leopard when there are few enemies. (Thanks /u/MHolmesSC)"),g(),p(383,"li"),S(384,"Fixed bug with Ant over buffing units on faint. (Thanks /u/MHolmesSC)"),g(),p(385,"li"),S(386,"Fixed bug with Spider behaving odd. (Thanks /u/-RARO-)"),g(),S(387,"ng\n"),g(),p(388,"h2"),S(389,"v0.4.10"),g(),p(390,"ul"),p(391,"li"),S(392,"Fixed bug with Fly not spawning Zombie Fly from Start of Battle abilities fainting pets. (Thanks /u/Danielmac757)"),g(),g(),p(393,"h2"),S(394,"v0.4.9"),g(),p(395,"ul"),p(396,"li"),S(397,"Info/Guide modal."),g(),g(),p(398,"h2"),S(399,"v0.4.8"),g(),p(400,"ul"),p(401,"li"),S(402,"Fixed a bug with Fly attempting to spawn Zombie Fly when there is no room."),g(),g(),p(403,"h2"),S(404,"v0.4.7"),g(),p(405,"ul"),p(406,"li"),S(407,"Updated to SAP Version 0.28.20-130 BETA"),g(),p(408,"ul"),p(409,"li"),S(410,"Changed pets so they all move forward after start of battle abilities."),g(),g(),g(),p(411,"h2"),S(412,"v0.4.6"),g(),p(413,"ul"),p(414,"li"),S(415,"Fixed a bug with mushroom breaking the simulation by breaking the cache process. (Thanks BeastiaVenator)"),g(),p(416,"li"),S(417,"Fixed a bug with loading equipment from the browser cache."),g(),g(),p(418,"h2"),S(419,"v0.4.5"),g(),p(420,"ul"),p(421,"li"),S(422,"Drag and Drop!"),g(),g(),p(423,"h2"),S(424,"v0.4.4"),g(),p(425,"ul"),p(426,"li"),S(427,"Fixed a handful of Tiger bugs causing infinite loops."),g(),p(428,"li"),S(429,"Fixed a bug with typing select options."),g(),g(),p(430,"h2"),S(431,"v0.4.3"),g(),p(432,"ul"),p(433,"li"),S(434,"Duplicate pet option hotfix."),g(),g(),p(435,"h2"),S(436,"v0.4.2"),g(),p(437,"ul"),p(438,"li"),S(439,"Calculator state saves on 'Simulate'."),g(),p(440,"ul"),p(441,"li"),S(442,"This is stored in the browser cache. You can clear the cache by clicking on the link on the bottom of this modal."),g(),g(),p(443,"li"),S(444,"Fixed bugs with Angler mode toggling."),g(),p(445,"li"),S(446,"Zoom In/Out feature."),g(),p(447,"li"),S(448,"Fixed bug with Fly triggering twice instead of three times. (Thanks nob)"),g(),p(449,"li"),S(450,"Fixed bug with some snipe pets having no targets breaking simulation."),g(),g(),p(451,"h2"),S(452,"v0.4.1"),g(),p(453,"ul"),p(454,"li"),S(455,"Fixed a bug where Shark would gain attack/health on its own death. (Thanks mumf)"),g(),p(456,"li"),S(457,"Fixed a bug where attack bonus food would affect snipes. (Thanks Tangl)"),g(),g())},styles:[""]}),n})();const fX=JSON.parse('{"tier1":[{"name":"Alchemedes","tier":"1","id":"626"},{"name":"Ant","tier":"1","id":"0"},{"name":"Axehandle Hound","tier":"1","id":"377"},{"name":"Baku","tier":"1","id":"628"},{"name":"Barghest","tier":"1","id":"621"},{"name":"Basilisk","tier":"1","id":"332"},{"name":"Beaver","tier":"1","id":"3"},{"name":"Bee","tier":"1","id":"4"},{"name":"Beetle","tier":"1","id":"88"},{"name":"Bluebird","tier":"1","id":"89"},{"name":"Bulldog","tier":"1","id":"189"},{"name":"Bunyip","tier":"1","id":"601"},{"name":"Burbel","tier":"1","id":"659"},{"name":"Bus","tier":"1","id":"85"},{"name":"Butterfly","tier":"1","id":"9"},{"name":"Chick","tier":"1","id":"13"},{"name":"Chimera Goat","tier":"1","id":"648"},{"name":"Chimera Lion","tier":"1","id":"650"},{"name":"Chimera Snake","tier":"1","id":"649"},{"name":"Chinchilla","tier":"1","id":"161"},{"name":"Chipmunk","tier":"1","id":"184"},{"name":"Cockroach","tier":"1","id":"18"},{"name":"Cone Snail","tier":"1","id":"272"},{"name":"Cracked Egg","tier":"1","id":"647"},{"name":"Cricket","tier":"1","id":"17"},{"name":"Cuddle Toad","tier":"1","id":"611"},{"name":"Daycrawler","tier":"1","id":"641"},{"name":"Dirty Rat","tier":"1","id":"58"},{"name":"Duck","tier":"1","id":"26"},{"name":"Duckling","tier":"1","id":"113"},{"name":"Fake Nessie","tier":"1","id":"614"},{"name":"Ferret","tier":"1","id":"172"},{"name":"Fire Pup","tier":"1","id":"343"},{"name":"Fish","tier":"1","id":"32"},{"name":"Frilled Dragon","tier":"1","id":"198"},{"name":"Frog","tier":"1","id":"139"},{"name":"Gecko","tier":"1","id":"229"},{"name":"Giant Eyes Dog","tier":"1","id":"644"},{"name":"Golden Retriever","tier":"1","id":"188"},{"name":"Good Dog","tier":"1","id":"658"},{"name":"Goose","tier":"1","id":"232"},{"name":"Groundhog","tier":"1","id":"233"},{"name":"Guinea Piglet","tier":"1","id":"179"},{"name":"Horse","tier":"1","id":"39"},{"name":"Hummingbird","tier":"1","id":"138"},{"name":"Hydra Head","tier":"1","id":"643"},{"name":"Kiwi","tier":"1","id":"131"},{"name":"Ladybug","tier":"1","id":"92"},{"name":"Lizard Tail","tier":"1","id":"282"},{"name":"Loyal Chinchilla","tier":"1","id":"183"},{"name":"Magpie","tier":"1","id":"239"},{"name":"Marmoset","tier":"1","id":"204"},{"name":"Moby Dick","tier":"1","id":"-"},{"name":"Monty","tier":"1","id":"384"},{"name":"Mosquito","tier":"1","id":"47"},{"name":"Moth","tier":"1","id":"141"},{"name":"Mouse","tier":"1","id":"48"},{"name":"Murmel","tier":"1","id":"362"},{"name":"Nest","tier":"1","id":"508"},{"name":"Opossum","tier":"1","id":"187"},{"name":"Otter","tier":"1","id":"51"},{"name":"Pied Tamarin","tier":"1","id":"251"},{"name":"Pig","tier":"1","id":"59"},{"name":"Pigeon","tier":"1","id":"559"},{"name":"Pillbug","tier":"1","id":"149"},{"name":"Ram","tier":"1","id":"62"},{"name":"Rock","tier":"1","id":"638"},{"name":"Seahorse","tier":"1","id":"152"},{"name":"Silkmoth","tier":"1","id":"260"},{"name":"Sloth","tier":"1","id":"71"},{"name":"Smaller Slime","tier":"1","id":"642"},{"name":"Smaller Slug","tier":"1","id":"270"},{"name":"Smallest Slug","tier":"1","id":"477"},{"name":"Sneaky Egg","tier":"1","id":"617"},{"name":"Tsuchinoko","tier":"1","id":"379"},{"name":"Warf","tier":"1","id":"382"},{"name":"Young Phoenix","tier":"1","id":"646"},{"name":"Zombie Cricket","tier":"1","id":"86"},{"name":"Zombie Fly","tier":"1","id":"31"}],"tier2":[{"name":"African Penguin","tier":"2","id":"210"},{"name":"Atlantic Puffin","tier":"2","id":"132"},{"name":"Bat","tier":"2","id":"87"},{"name":"Beluga Sturgeon","tier":"2","id":"213"},{"name":"Bigfoot","tier":"2","id":"334"},{"name":"Black Necked Stilt","tier":"2","id":"215"},{"name":"Chupacabra","tier":"2","id":"339"},{"name":"Crab","tier":"2","id":"16"},{"name":"Door Head Ant","tier":"2","id":"220"},{"name":"Dove","tier":"2","id":"24"},{"name":"Dromedary","tier":"2","id":"104"},{"name":"Drop Bear","tier":"2","id":"341"},{"name":"Flamingo","tier":"2","id":"29"},{"name":"Frigatebird","tier":"2","id":"137"},{"name":"Frost Wolf","tier":"2","id":"344"},{"name":"Gargoyle","tier":"2","id":"345"},{"name":"Gazelle","tier":"2","id":"185"},{"name":"Ghost Kitten","tier":"2","id":"346"},{"name":"Golden Beetle","tier":"2","id":"634"},{"name":"Guinea Pig","tier":"2","id":"109"},{"name":"Hedgehog","tier":"2","id":"37"},{"name":"Hercules Beetle","tier":"2","id":"234"},{"name":"Iguana","tier":"2","id":"147"},{"name":"Jackalope","tier":"2","id":"353"},{"name":"Jellyfish","tier":"2","id":"122"},{"name":"Kangaroo","tier":"2","id":"40"},{"name":"Koala","tier":"2","id":"112"},{"name":"Lemur","tier":"2","id":"236"},{"name":"Lizard","tier":"2","id":"237"},{"name":"Lucky Cat","tier":"2","id":"623"},{"name":"Mandrill","tier":"2","id":"405"},{"name":"Mothman","tier":"2","id":"604"},{"name":"Nightcrawler","tier":"2","id":"605"},{"name":"Ogopogo","tier":"2","id":"639"},{"name":"Panda","tier":"2","id":"107"},{"name":"Peacock","tier":"2","id":"54"},{"name":"Rat","tier":"2","id":"57"},{"name":"Robin","tier":"2","id":"255"},{"name":"Salamander","tier":"2","id":"164"},{"name":"Sea Turtle","tier":"2","id":"191"},{"name":"Sea Urchin","tier":"2","id":"258"},{"name":"Shrimp","tier":"2","id":"67"},{"name":"Snail","tier":"2","id":"72"},{"name":"Sphinx","tier":"2","id":"376"},{"name":"Spider","tier":"2","id":"74"},{"name":"Squid","tier":"2","id":"177"},{"name":"Stoat","tier":"2","id":"263"},{"name":"Stork","tier":"2","id":"136"},{"name":"Swan","tier":"2","id":"76"},{"name":"Tabby Cat","tier":"2","id":"99"},{"name":"Thunderbird","tier":"2","id":"610"},{"name":"Toucan","tier":"2","id":"151"},{"name":"Wombat","tier":"2","id":"207"},{"name":"Worm","tier":"2","id":"82"},{"name":"Yak","tier":"2","id":"163"},{"name":"Dumbo Octupus","tier":"2","id":"661"}],"tier3":[{"name":"Aardvark","tier":"3","id":"193"},{"name":"Anteater","tier":"3","id":"105"},{"name":"Baboon","tier":"3","id":"171"},{"name":"Badger","tier":"3","id":"2"},{"name":"Bear","tier":"3","id":"140"},{"name":"Betta Fish","tier":"3","id":"214"},{"name":"Brain Cramp","tier":"3","id":"349"},{"name":"Calygreyhound","tier":"3","id":"336"},{"name":"Camel","tier":"3","id":"10"},{"name":"Capybara","tier":"3","id":"154"},{"name":"Cassowary","tier":"3","id":"133"},{"name":"Deer Lord","tier":"3","id":"651"},{"name":"Dodo","tier":"3","id":"21"},{"name":"Dog","tier":"3","id":"22"},{"name":"Dolphin","tier":"3","id":"23"},{"name":"Eel","tier":"3","id":"120"},{"name":"Elephant","tier":"3","id":"28"},{"name":"Emperor Tamarin","tier":"3","id":"197"},{"name":"Flea","tier":"3","id":"225"},{"name":"Flying Fish","tier":"3","id":"226"},{"name":"Flying Squirrel","tier":"3","id":"227"},{"name":"Foo Dog","tier":"3","id":"625"},{"name":"Fur-Bearing Trout","tier":"3","id":"653"},{"name":"Giraffe","tier":"3","id":"33"},{"name":"Gold Fish","tier":"3","id":"121"},{"name":"Griffin","tier":"3","id":"348"},{"name":"Guineafowl","tier":"3","id":"228"},{"name":"Hare","tier":"3","id":"551"},{"name":"Hatching Chick","tier":"3","id":"91"},{"name":"Hoopoe Bird","tier":"3","id":"235"},{"name":"Leech","tier":"3","id":"165"},{"name":"Mana Hound","tier":"3","id":"635"},{"name":"Mandrake","tier":"3","id":"357"},{"name":"Meerkat","tier":"3","id":"203"},{"name":"Minotaur","tier":"3","id":"360"},{"name":"Mole","tier":"3","id":"168"},{"name":"Musk Ox","tier":"3","id":"245"},{"name":"Okapi","tier":"3","id":"130"},{"name":"Osprey","tier":"3","id":"247"},{"name":"Ouroboros","tier":"3","id":"364"},{"name":"Owl","tier":"3","id":"95"},{"name":"Ox","tier":"3","id":"52"},{"name":"Pangolin","tier":"3","id":"249"},{"name":"Pegasus","tier":"3","id":"365"},{"name":"Porcupine","tier":"3","id":"169"},{"name":"Pug","tier":"3","id":"145"},{"name":"Puppy","tier":"3","id":"97"},{"name":"Rabbit","tier":"3","id":"60"},{"name":"Royal Flycatcher","tier":"3","id":"256"},{"name":"Sheep","tier":"3","id":"68"},{"name":"Skeleton Dog","tier":"3","id":"374"},{"name":"Slime","tier":"3","id":"375"},{"name":"Surgeon Fish","tier":"3","id":"264"},{"name":"Toad","tier":"3","id":"162"},{"name":"Tree","tier":"3","id":"378"},{"name":"Tropical Fish","tier":"3","id":"100"},{"name":"Wasp","tier":"3","id":"160"},{"name":"Weasel","tier":"3","id":"173"},{"name":"Woodpecker","tier":"3","id":"156"},{"name":"Wyvern","tier":"3","id":"385"}],"tier4":[{"name":"Abomination","tier":"4","id":"373"},{"name":"Anubis","tier":"4","id":"331"},{"name":"Bison","tier":"4","id":"5"},{"name":"Blobfish","tier":"4","id":"150"},{"name":"Blowfish","tier":"4","id":"7"},{"name":"Buffalo","tier":"4","id":"8"},{"name":"Caterpillar","tier":"4","id":"12"},{"name":"Chameleon","tier":"4","id":"216"},{"name":"Chimera","tier":"4","id":"338"},{"name":"Clownfish","tier":"4","id":"117"},{"name":"Cockatoo","tier":"4","id":"218"},{"name":"Crow","tier":"4","id":"195"},{"name":"Cuttlefish","tier":"4","id":"176"},{"name":"Cyclops","tier":"4","id":"630"},{"name":"Deer","tier":"4","id":"20"},{"name":"Doberman","tier":"4","id":"273"},{"name":"Donkey","tier":"4","id":"111"},{"name":"Dragonfly","tier":"4","id":"196"},{"name":"Fairy","tier":"4","id":"342"},{"name":"Falcon","tier":"4","id":"224"},{"name":"Gharial","tier":"4","id":"231"},{"name":"Hawk","tier":"4","id":"127"},{"name":"Hippo","tier":"4","id":"38"},{"name":"Hippocampus","tier":"4","id":"350"},{"name":"Jerboa","tier":"4","id":"199"},{"name":"Kraken","tier":"4","id":"355"},{"name":"Llama","tier":"4","id":"44"},{"name":"Lobster","tier":"4","id":"93"},{"name":"Lynx","tier":"4","id":"200"},{"name":"Manatee","tier":"4","id":"192"},{"name":"Manta Ray","tier":"4","id":"240"},{"name":"Microbe","tier":"4","id":"94"},{"name":"Old Mouse","tier":"4","id":"612"},{"name":"Orangutan","tier":"4","id":"157"},{"name":"Parrot","tier":"4","id":"53"},{"name":"Pelican","tier":"4","id":"129"},{"name":"Penguin","tier":"4","id":"56"},{"name":"Platypus","tier":"4","id":"159"},{"name":"Poison Dart Frog","tier":"4","id":"252"},{"name":"Praying Mantis","tier":"4","id":"126"},{"name":"Roc","tier":"4","id":"369"},{"name":"Rootling","tier":"4","id":"622"},{"name":"Saiga Antelope","tier":"4","id":"257"},{"name":"Seagull","tier":"4","id":"128"},{"name":"Sealion","tier":"4","id":"175"},{"name":"Secretary Bird","tier":"4","id":"259"},{"name":"Skunk","tier":"4","id":"70"},{"name":"Slug","tier":"4","id":"262"},{"name":"Squirrel","tier":"4","id":"75"},{"name":"Starfish","tier":"4","id":"153"},{"name":"Tahr","tier":"4","id":"393"},{"name":"Tatzelwurm","tier":"4","id":"654"},{"name":"Tiger Bug","tier":"4","id":"330"},{"name":"Turtle","tier":"4","id":"80"},{"name":"Unicorn","tier":"4","id":"380"},{"name":"Vaquita","tier":"4","id":"265"},{"name":"Visitor","tier":"4","id":"386"},{"name":"Whale","tier":"4","id":"81"},{"name":"Whale Shark","tier":"4","id":"267"},{"name":"Worm of Sand","tier":"4","id":"371"}],"tier5":[{"name":"Alpaca","tier":"5","id":"194"},{"name":"Armadillo","tier":"5","id":"166"},{"name":"Axolotl","tier":"5","id":"212"},{"name":"Bad Dog","tier":"5","id":"613"},{"name":"Beluga Whale","tier":"5","id":"182"},{"name":"Blue Ringed Octopus","tier":"5","id":"271"},{"name":"Boitata","tier":"5","id":"656"},{"name":"Chicken","tier":"5","id":"14"},{"name":"Cow","tier":"5","id":"15"},{"name":"Crane","tier":"5","id":"219"},{"name":"Crocodile","tier":"5","id":"19"},{"name":"Eagle","tier":"5","id":"27"},{"name":"Egyptian Vulture","tier":"5","id":"221"},{"name":"Emu","tier":"5","id":"223"},{"name":"Fire Ant","tier":"5","id":"274"},{"name":"Fox","tier":"5","id":"106"},{"name":"Goat","tier":"5","id":"34"},{"name":"Hamster","tier":"5","id":"110"},{"name":"Hyena","tier":"5","id":"167"},{"name":"Jersey Devil","tier":"5","id":"652"},{"name":"Kappa","tier":"5","id":"655"},{"name":"Kitsune","tier":"5","id":"354"},{"name":"Lion","tier":"5","id":"42"},{"name":"Loveland Frogman","tier":"5","id":"640"},{"name":"Macaque","tier":"5","id":"238"},{"name":"Mimic","tier":"5","id":"359"},{"name":"Monkey","tier":"5","id":"46"},{"name":"Moose","tier":"5","id":"202"},{"name":"Mosasaurus","tier":"5","id":"242"},{"name":"Nessie","tier":"5","id":"363"},{"name":"Nurikabe","tier":"5","id":"657"},{"name":"Nurse Shark","tier":"5","id":"276"},{"name":"Nyala","tier":"5","id":"246"},{"name":"Panther","tier":"5","id":"250"},{"name":"Pixiu","tier":"5","id":"619"},{"name":"Polar Bear","tier":"5","id":"108"},{"name":"Poodle","tier":"5","id":"96"},{"name":"Raccoon","tier":"5","id":"158"},{"name":"Red Dragon","tier":"5","id":"368"},{"name":"Rhino","tier":"5","id":"55"},{"name":"Rooster","tier":"5","id":"63"},{"name":"Salmon of Knowledge","tier":"5","id":"370"},{"name":"Scorpion","tier":"5","id":"65"},{"name":"Seal","tier":"5","id":"66"},{"name":"Shark","tier":"5","id":"69"},{"name":"Shoebill","tier":"5","id":"134"},{"name":"Siberian Husky","tier":"5","id":"146"},{"name":"Silver Fox","tier":"5","id":"261"},{"name":"Snapping Turtle","tier":"5","id":"277"},{"name":"Sting Ray","tier":"5","id":"178"},{"name":"Stonefish","tier":"5","id":"278"},{"name":"Sword Fish","tier":"5","id":"119"},{"name":"Tandgnost","tier":"5","id":"607"},{"name":"Tandgrisner","tier":"5","id":"608"},{"name":"Triceratops","tier":"5","id":"142"},{"name":"Turkey","tier":"5","id":"79"},{"name":"Vampire Bat","tier":"5","id":"381"},{"name":"Vulture","tier":"5","id":"135"},{"name":"Werewolf","tier":"5","id":"383"},{"name":"Wolf","tier":"5","id":"170"},{"name":"Zebra","tier":"5","id":"155"}],"tier6":[{"name":"Anglerfish","tier":"6","id":"180"},{"name":"Behemoth","tier":"6","id":"333"},{"name":"Bird of Paradise","tier":"6","id":"181"},{"name":"Boar","tier":"6","id":"103"},{"name":"Cat","tier":"6","id":"11"},{"name":"Catfish","tier":"6","id":"174"},{"name":"Cerberus","tier":"6","id":"337"},{"name":"Cobra","tier":"6","id":"217"},{"name":"Cockatrice","tier":"6","id":"340"},{"name":"Dragon","tier":"6","id":"25"},{"name":"Elephant Seal","tier":"6","id":"222"},{"name":"Fly","tier":"6","id":"30"},{"name":"German Shepherd","tier":"6","id":"230"},{"name":"Gorilla","tier":"6","id":"36"},{"name":"Great One","tier":"6","id":"335"},{"name":"Grizzly Bear","tier":"6","id":"275"},{"name":"Hammerhead Shark","tier":"6","id":"123"},{"name":"Highland Cow","tier":"6","id":"186"},{"name":"Hydra","tier":"6","id":"352"},{"name":"Komodo","tier":"6","id":"124"},{"name":"Leopard","tier":"6","id":"41"},{"name":"Leviathan","tier":"6","id":"356"},{"name":"Lioness","tier":"6","id":"114"},{"name":"Lionfish","tier":"6","id":"201"},{"name":"Mammoth","tier":"6","id":"45"},{"name":"Manticore","tier":"6","id":"358"},{"name":"Mantis Shrimp","tier":"6","id":"190"},{"name":"Mongoose","tier":"6","id":"241"},{"name":"Octopus","tier":"6","id":"50"},{"name":"Orca","tier":"6","id":"116"},{"name":"Ostrich","tier":"6","id":"125"},{"name":"Oyster","tier":"6","id":"248"},{"name":"Phoenix","tier":"6","id":"366"},{"name":"Piranha","tier":"6","id":"118"},{"name":"Pteranodon","tier":"6","id":"253"},{"name":"Puma","tier":"6","id":"254"},{"name":"Questing Beast","tier":"6","id":"616"},{"name":"Quetzalcoatl","tier":"6","id":"367"},{"name":"Reindeer","tier":"6","id":"205"},{"name":"Sabertooth Tiger","tier":"6","id":"148"},{"name":"Sauropod","tier":"6","id":"98"},{"name":"Sea Serpent","tier":"6","id":"372"},{"name":"Sleipnir","tier":"6","id":"606"},{"name":"Snake","tier":"6","id":"73"},{"name":"Spinosaurus","tier":"6","id":"143"},{"name":"Stegosaurus","tier":"6","id":"144"},{"name":"Tapir","tier":"6","id":"208"},{"name":"Team Spirit","tier":"6","id":"636"},{"name":"Tiger","tier":"6","id":"77"},{"name":"Tyrannosaurus","tier":"6","id":"78"},{"name":"Velociraptor","tier":"6","id":"115"},{"name":"Walrus","tier":"6","id":"209"},{"name":"Warthog","tier":"6","id":"266"},{"name":"White Tiger","tier":"6","id":"206"},{"name":"Wildebeest","tier":"6","id":"268"},{"name":"Wolverine","tier":"6","id":"269"},{"name":"Yeti","tier":"6","id":"387"},{"name":"Albatross","tier":6,"id":"660"}]}');var pX=Kt.t(fX,2);function gX(n,t){1&n&&(p(0,"div",12),S(1," That name is not allowed. "),g())}function mX(n,t){if(1&n&&(p(0,"div",13),re(1,"input",14),p(2,"label",15),S(3),g(),g()),2&n){const e=t.$implicit;F(1),W("id",e)("formControlName",e),F(1),W("for",e),F(1),Ei(" ",e," ")}}function vX(n,t){if(1&n&&(p(0,"div",13),re(1,"input",14),p(2,"label",15),S(3),g(),g()),2&n){const e=t.$implicit;F(1),W("id",e)("formControlName",e),F(1),W("for",e),F(1),Ei(" ",e," ")}}function yX(n,t){if(1&n&&(p(0,"div",13),re(1,"input",14),p(2,"label",15),S(3),g(),g()),2&n){const e=t.$implicit;F(1),W("id",e)("formControlName",e),F(1),W("for",e),F(1),Ei(" ",e," ")}}function _X(n,t){if(1&n&&(p(0,"div",13),re(1,"input",14),p(2,"label",15),S(3),g(),g()),2&n){const e=t.$implicit;F(1),W("id",e)("formControlName",e),F(1),W("for",e),F(1),Ei(" ",e," ")}}function bX(n,t){if(1&n&&(p(0,"div",13),re(1,"input",14),p(2,"label",15),S(3),g(),g()),2&n){const e=t.$implicit;F(1),W("id",e)("formControlName",e),F(1),W("for",e),F(1),Ei(" ",e," ")}}function SX(n,t){if(1&n&&(p(0,"div",13),re(1,"input",14),p(2,"label",15),S(3),g(),g()),2&n){const e=t.$implicit;F(1),W("id",e)("formControlName",e),F(1),W("for",e),F(1),Ei(" ",e," ")}}function EX(n,t){1&n&&(p(0,"div",12),S(1," Name is required. "),g())}let wX=(()=>{class n{constructor(e){this.equipmentService=e,this.submitEvent=new dt,this.cancelEvent=new dt,this.loaded=!1}ngOnInit(){this.initCheckboxFormGroup(),this.formGroup.updateValueAndValidity()}initCheckboxFormGroup(){let e=new Ni({}),i=new Ni({}),s=new Ni({}),r=new Ni({}),o=new Ni({}),a=new Ni({});for(let l of this.getPets(1)){let h=new se(this.formGroup.get("tier1Pets").value.includes(l));h.valueChanges.subscribe(f=>{this.processCheckboxChange(1,l,f)}),e.addControl(l,h)}for(let l of this.getPets(2)){let h=new se(this.formGroup.get("tier2Pets").value.includes(l));h.valueChanges.subscribe(f=>{this.processCheckboxChange(2,l,f)}),i.addControl(l,h)}for(let l of this.getPets(3)){let h=new se(this.formGroup.get("tier3Pets").value.includes(l));h.valueChanges.subscribe(f=>{this.processCheckboxChange(3,l,f)}),s.addControl(l,h)}for(let l of this.getPets(4)){let h=new se(this.formGroup.get("tier4Pets").value.includes(l));h.valueChanges.subscribe(f=>{this.processCheckboxChange(4,l,f)}),r.addControl(l,h)}for(let l of this.getPets(5)){let h=new se(this.formGroup.get("tier5Pets").value.includes(l));h.valueChanges.subscribe(f=>{this.processCheckboxChange(5,l,f)}),o.addControl(l,h)}for(let l of this.getPets(6)){let h=new se(this.formGroup.get("tier6Pets").value.includes(l));h.valueChanges.subscribe(f=>{this.processCheckboxChange(6,l,f)}),a.addControl(l,h)}this.checkboxFormGroup=new Ni({tier1Pets:e,tier2Pets:i,tier3Pets:s,tier4Pets:r,tier5Pets:o,tier6Pets:a})}getCheckboxFormGroup(e){return this.checkboxFormGroup.get(`tier${e}Pets`)}getPets(e){let i=[];for(let[s,r]of this.petPackMap.get(e))i.push(...r);return i=[...new Set(i)],i}getCount(e){return this.formGroup.get(`tier${e}Pets`).value.length}processCheckboxChange(e,i,s){let r=this.formGroup.get(`tier${e}Pets`).value;s?r.push(i):(0,ve.remove)(r,o=>o===i),this.formGroup.get(`tier${e}Pets`).updateValueAndValidity()}submit(){this.submitEvent.emit(this.formGroup)}cancel(){confirm("Are you sure you want to cancel?")&&this.cancelEvent.emit(this.formGroup)}submitDisabled(){return this.formGroup.get("name").invalid}}return n.\u0275fac=function(e){return new(e||n)(V(ab))},n.\u0275cmp=Ln({type:n,selectors:[["app-custom-pack-form"]],inputs:{formGroup:"formGroup",petPackMap:"petPackMap"},outputs:{submitEvent:"submitEvent",cancelEvent:"cancelEvent"},decls:68,vars:34,consts:[[3,"formGroup"],[1,"row","mb-4"],[1,"col-12"],["for","name",1,"form-label"],["id","name","formControlName","name",1,"form-control"],["class","invalid",4,"ngIf"],[1,"row","mb-4",3,"formGroup"],[1,"row"],[1,"col-12","editor-grid"],["class","form-check",4,"ngFor","ngForOf"],[1,"btn","btn-primary","me-2",3,"disabled","click"],[1,"btn","btn-danger",3,"click"],[1,"invalid"],[1,"form-check"],["type","checkbox","value","",1,"form-check-input",3,"id","formControlName"],[1,"form-check-label",3,"for"]],template:function(e,i){1&e&&(p(0,"form",0),p(1,"div",1),p(2,"div",2),p(3,"label",3),S(4,"Pack Name"),g(),re(5,"input",4),Oe(6,gX,2,0,"div",5),g(),g(),p(7,"div",6),p(8,"div",2),p(9,"h3"),S(10,"Tier 1 Pets "),p(11,"span"),S(12),g(),g(),p(13,"div",7),p(14,"div",8),Oe(15,mX,4,4,"div",9),g(),g(),g(),g(),p(16,"div",6),p(17,"div",2),p(18,"h3"),S(19,"Tier 2 Pets "),p(20,"span"),S(21),g(),g(),p(22,"div",7),p(23,"div",8),Oe(24,vX,4,4,"div",9),g(),g(),g(),g(),p(25,"div",6),p(26,"div",2),p(27,"h3"),S(28,"Tier 3 Pets "),p(29,"span"),S(30),g(),g(),p(31,"div",7),p(32,"div",8),Oe(33,yX,4,4,"div",9),g(),g(),g(),g(),p(34,"div",6),p(35,"div",2),p(36,"h3"),S(37,"Tier 4 Pets "),p(38,"span"),S(39),g(),g(),p(40,"div",7),p(41,"div",8),Oe(42,_X,4,4,"div",9),g(),g(),g(),g(),p(43,"div",6),p(44,"div",2),p(45,"h3"),S(46,"Tier 5 Pets "),p(47,"span"),S(48),g(),g(),p(49,"div",7),p(50,"div",8),Oe(51,bX,4,4,"div",9),g(),g(),g(),g(),p(52,"div",6),p(53,"div",2),p(54,"h3"),S(55,"Tier 6 Pets "),p(56,"span"),S(57),g(),g(),p(58,"div",7),p(59,"div",8),Oe(60,SX,4,4,"div",9),g(),g(),g(),g(),p(61,"div",7),p(62,"div",2),p(63,"button",10),je("click",function(){return i.submit()}),S(64,"Submit Pack"),g(),p(65,"button",11),je("click",function(){return i.cancel()}),S(66,"Cancel"),g(),Oe(67,EX,2,0,"div",5),g(),g(),g()),2&e&&(W("formGroup",i.formGroup),F(6),W("ngIf",null==i.formGroup.get("name").errors?null:i.formGroup.get("name").errors.forbiddenName),F(1),W("formGroup",i.getCheckboxFormGroup(1)),F(4),Os(10==i.getCount(1)?"valid":"invalid"),F(1),Ei("",i.getCount(1),"/10"),F(3),W("ngForOf",i.getPets(1)),F(1),W("formGroup",i.getCheckboxFormGroup(2)),F(4),Os(10==i.getCount(2)?"valid":"invalid"),F(1),Ei("",i.getCount(2),"/10"),F(3),W("ngForOf",i.getPets(2)),F(1),W("formGroup",i.getCheckboxFormGroup(3)),F(4),Os(10==i.getCount(3)?"valid":"invalid"),F(1),Ei("",i.getCount(3),"/10"),F(3),W("ngForOf",i.getPets(3)),F(1),W("formGroup",i.getCheckboxFormGroup(4)),F(4),Os(10==i.getCount(4)?"valid":"invalid"),F(1),Ei("",i.getCount(4),"/10"),F(3),W("ngForOf",i.getPets(4)),F(1),W("formGroup",i.getCheckboxFormGroup(5)),F(4),Os(10==i.getCount(5)?"valid":"invalid"),F(1),Ei("",i.getCount(5),"/10"),F(3),W("ngForOf",i.getPets(5)),F(1),W("formGroup",i.getCheckboxFormGroup(6)),F(4),Os(10==i.getCount(6)?"valid":"invalid"),F(1),Ei("",i.getCount(6),"/10"),F(3),W("ngForOf",i.getPets(6)),F(3),W("disabled",i.submitDisabled()),F(4),W("ngIf",i.submitDisabled()))},directives:[O3,hc,qo,Ho,uc,Ha,fh,Dp,t_],styles:[".editor-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);grid-gap:1rem}.invalid[_ngcontent-%COMP%]{color:red}.valid[_ngcontent-%COMP%]{color:#0ab40a}"]}),n})();function CX(n,t){if(1&n){const e=Hr();p(0,"div",2),p(1,"div",3),p(2,"app-custom-pack-form",4),je("submitEvent",function(s){return Vt(e),We().submitEvent(s)})("cancelEvent",function(s){return Vt(e),We().cancelEvent(s)}),g(),g(),g()}if(2&n){const e=We();F(2),W("formGroup",e.makeFormGroup(e.focusedGroup))("petPackMap",e.petPackMap)}}function kX(n,t){1&n&&(p(0,"span",15),S(1,"Valid"),g())}function DX(n,t){1&n&&(p(0,"span",16),S(1,"Invalid"),g())}function PX(n,t){if(1&n){const e=Hr();p(0,"tr"),p(1,"td",11),S(2),g(),p(3,"td",11),Oe(4,kX,2,0,"span",12),Oe(5,DX,2,0,"span",13),g(),p(6,"td"),p(7,"button",8),je("click",function(){const r=Vt(e).$implicit;return We(2).editPack(r)}),S(8,"Edit"),g(),g(),p(9,"td"),p(10,"button",14),je("click",function(){const r=Vt(e).$implicit;return We(2).deletePack(r)}),S(11,"Delete"),g(),g(),g()}if(2&n){const e=t.$implicit;F(2),Mi(e.get("name").value),F(2),W("ngIf",e.valid),F(1),W("ngIf",!e.valid)}}function AX(n,t){if(1&n){const e=Hr();p(0,"div"),p(1,"div",5),p(2,"div",3),p(3,"h3"),S(4,"Custom Packs"),g(),p(5,"table"),Oe(6,PX,12,3,"tr",6),g(),g(),g(),p(7,"div",7),p(8,"div",3),p(9,"button",8),je("click",function(){return Vt(e),We().createNewPack()}),S(10,"Create New Pack"),g(),g(),g(),p(11,"div",5),p(12,"div",3),p(13,"h3"),S(14,"Import Custom Pack"),g(),p(15,"div",9),re(16,"textarea",10),g(),g(),g(),p(17,"div",2),p(18,"div",3),p(19,"button",8),je("click",function(){return Vt(e),We().importCustomPack()}),S(20,"Import"),g(),g(),g(),g()}if(2&n){const e=We();F(6),W("ngForOf",e.customPacks.controls),F(9),W("formGroup",e.importFormGroup)}}let TX=(()=>{class n{constructor(e,i){this.petService=e,this.localStorageService=i,this.focusedGroup=null,this.importFormGroup=new Ni({code:new se(null)}),this.buildPetPackMap()}ngOnInit(){this.customPacks=this.formGroup.get("customPacks")}buildPetPackMap(){this.petPackMap=new Map;for(let e=1;e<=6;e++){let i=new Map;i.set("Turtle",[]),i.set("Puppy",[]),i.set("Star",[]),i.set("Golden",[]),i.set("Unicorn",[]),i.set("Custom",[]),this.petPackMap.set(e,i)}for(let[e,i]of this.petService.turtlePackPets)this.petPackMap.get(e).get("Turtle").push(...i);for(let[e,i]of this.petService.puppyPackPets)this.petPackMap.get(e).get("Puppy").push(...i);for(let[e,i]of this.petService.starPackPets)this.petPackMap.get(e).get("Star").push(...i);for(let[e,i]of this.petService.goldenPackPets)this.petPackMap.get(e).get("Golden").push(...i);for(let[e,i]of this.petService.unicornPackPets)this.petPackMap.get(e).get("Unicorn").push(...i);for(let[e,i]of this.petService.customPackPets)this.petPackMap.get(e).get("Custom").push(...i)}createNewPack(){let e=this.createPack();this.focusedGroup=e}createPack(){return new Ni({name:new se(null,[$0.required,this.forbiddenNameValidator()]),tier1Pets:new se([],this.controlArrayLengthOf10()),tier2Pets:new se([],this.controlArrayLengthOf10()),tier3Pets:new se([],this.controlArrayLengthOf10()),tier4Pets:new se([],this.controlArrayLengthOf10()),tier5Pets:new se([],this.controlArrayLengthOf10()),tier6Pets:new se([],this.controlArrayLengthOf10())})}makeFormGroup(e){return e}controlArrayLengthOf10(){return e=>10!==e.value.length?{length:!0}:null}submitEvent(e){this.customPacks.controls.includes(e)||this.customPacks.push(e),this.petService.buildCustomPackPets(this.customPacks),this.focusedGroup=null,this.localStorageService.setStorage(this.formGroup.value)}cancelEvent(e){this.focusedGroup=null}editPack(e){this.focusedGroup=e}deletePack(e){if(confirm("Are you sure you want to delete this pack?")){let i=this.customPacks.controls.indexOf(e);this.customPacks.removeAt(i),this.localStorageService.setStorage(this.formGroup.value)}}forbiddenNameValidator(){return e=>{var i,s;let r=["custom"];for(let o of this.customPacks.controls)e!=o.get("name")&&r.push(null===(i=o.get("name").value)||void 0===i?void 0:i.toLowerCase());return r.includes(null===(s=e.value)||void 0===s?void 0:s.toLowerCase())?{forbiddenName:!0}:null}}importCustomPack(){let e=this.importFormGroup.get("code").value;try{e=JSON.parse(e);let i={name:e.Title,tier1Pets:this.getMinions(e.Minions,1),tier2Pets:this.getMinions(e.Minions,2),tier3Pets:this.getMinions(e.Minions,3),tier4Pets:this.getMinions(e.Minions,4),tier5Pets:this.getMinions(e.Minions,5),tier6Pets:this.getMinions(e.Minions,6)};this.createNewPack(),this.focusedGroup.patchValue(i)}catch(i){alert("Invalid code"),console.error(i)}}getMinions(e,i){let s=pX[`tier${i}`],r=[];for(let o of e)for(let a of s)a.id==o&&r.push(a.name);return r}}return n.\u0275fac=function(e){return new(e||n)(V(ob),V(FM))},n.\u0275cmp=Ln({type:n,selectors:[["app-custom-pack-editor"]],inputs:{formGroup:"formGroup"},decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-12"],[3,"formGroup","petPackMap","submitEvent","cancelEvent"],[1,"row","mb-3"],[4,"ngFor","ngForOf"],[1,"row","mb-4"],[1,"btn","btn-primary",3,"click"],[1,"form-group",3,"formGroup"],["id","code","rows","3","formControlName","code",1,"form-control"],[1,"text"],["class","valid",4,"ngIf"],["class","invalid",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"valid"],[1,"invalid"]],template:function(e,i){1&e&&(Oe(0,CX,3,2,"div",0),Oe(1,AX,21,2,"div",1)),2&e&&(W("ngIf",null!=i.focusedGroup),F(1),W("ngIf",null==i.focusedGroup))},directives:[fh,wX,hc,qo,Dp,Ho,uc,Ha],styles:[".valid[_ngcontent-%COMP%]{color:#4caf50}.invalid[_ngcontent-%COMP%]{color:#f44336}.text[_ngcontent-%COMP%]{font-size:1.5em}td[_ngcontent-%COMP%]{padding:.25em .5em}"]}),n})(),xX=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ln({type:n,selectors:[["app-info"]],decls:97,vars:0,consts:[["src","./assets/info/pack.PNG","alt","pack"],["src","./assets/info/toy.PNG","alt","toy"],["src","./assets/info/angler.PNG","alt","angler"],["src","./assets/info/zoom.PNG","alt","zoom"],["src","./assets/info/advanced.PNG","alt","advanced"],["src","./assets/info/advanced-settings.PNG","alt","advanced settings"],["src","./assets/info/board.PNG","alt","board"],["src","./assets/info/pet.png","alt","pet"],["src","/assets/info/simulate.PNG","alt","simulate"],["src","/assets/info/report-bug.PNG","alt","report bug"],["src","/assets/info/outcome.PNG","alt","outcome"],["src","/assets/info/battles.PNG","alt","battles"],["src","/assets/info/logs.PNG","alt","logs"]],template:function(e,i){1&e&&(p(0,"p"),S(1," The SAP Calculator is an analysis tool that allows you to easily calculate the approximate odds of your team beating another team. The SAP Calculator simulates the defined battle 1000 times and determines the percentage of wins, draws and loses.\n"),g(),p(2,"p"),p(3,"b"),S(4,"Disclaimer: The SAP Calculator is not an official tool of the game and is not affiliated with the game's developers. The SAP Calculator is a fan-made tool, and is not intended to replace the official game."),g(),g(),p(5,"p"),S(6," The SAP Calculator engine is based on the official game engine, but it may not be 100% accurate. It is pretty darn close though, and should be completely accurate for nearly every possible battle.\n"),g(),p(7,"h1"),S(8,"Guide"),g(),re(9,"img",0),p(10,"p"),S(11," Select the pack that the player and opponent are using. This determines the pets that are available to each player.\n"),g(),re(12,"img",1),p(13,"p"),S(14," Toy configuration.\n"),g(),re(15,"img",2),p(16,"ul"),p(17,"li"),S(18,"Angler Mode: The opposite player's pets are available to be selected for each player. (This does not affect pets that summon from your pack pet pool)"),g(),p(19,"li"),S(20,"All Pets: All pets are availble to select. (This does not affect pets that summon from your pack pet pool)"),g(),p(21,"li"),S(22,"Old Stork: Stork summons pets with base stats."),g(),p(23,"li"),S(24,"Token Pets: Token pets are available to select. (This does not affect pets that summon from your pack pet pool)"),g(),p(25,"li"),S(26,"Komodo Shuffle: Shuffle pet order each battle in front of a Komondo."),g(),p(27,"li"),S(28,"Mana: Show/hide mana stat on the pet selector."),g(),g(),re(29,"img",3),p(30,"p"),S(31,"Adjust the zoom level of the application."),g(),re(32,"img",4),p(33,"p"),S(34,"Toggle advanced settings."),g(),re(35,"img",5),p(36,"p"),S(37,"Advanced settings. They allow you to configure the battle to a more specific scenario."),g(),p(38,"ul"),p(39,"li"),S(40,"Turn: The turn the battle takes place. This will affect pets such as the Stork, Eagle, and Stegosaurus."),g(),p(41,"li"),S(42,"Player Gold Spent: Player gold spent the previous round. This will affect the Meerkat."),g(),p(43,"li"),S(44,"Opponent Gold Spent: Same as above but for the Opponent player."),g(),p(45,"li"),S(46,"Player Roll Amount: The amount of times the Player rolled in the shop phase."),g(),p(47,"li"),S(48,"Opponent Roll Amount: Same as above but for the Opponent player."),g(),p(49,"li"),S(50,"Player Lvl 3 Sold: The amount of times the Player sold a Level 3 pet."),g(),p(51,"li"),S(52,"Opponent Lvl 3 Sold: Same as above but for the Opponent player."),g(),p(53,"li"),S(54,"Player Summoned Amt: The amount of times the Player summoned a pet in the shop phase."),g(),p(55,"li"),S(56,"Opponent Summoned Amt: Same as above but for the Opponent player."),g(),g(),re(57,"img",6),p(58,"p"),S(59," This is the board. The left side is the Player pets and the right side is the Opponent Pets. Each white box contains a pet and its' stats/equipment. The layout of the pets are identical to as they would be in battle. The right most Player pet is clashing with the left most Opponent pet.\n"),g(),re(60,"img",7),p(61,"p"),S(62," This is a pet.\n"),g(),p(63,"ul"),p(64,"li"),S(65,"A: This select box is where you may choose the pet that will occupy this space."),g(),p(66,"li"),S(67,"B: This select box is where you may choose the pet's equipment."),g(),p(68,"li"),S(69,"C: These fields are where you may input the pet's stats. The gray field is attack, the red field is health, and the indigo field is mana."),g(),p(70,"li"),S(71,"D: This component determines the amount of exp the pet has. A pet may have 0-5 exp denoted by the number of boxes highlighted. The numbers (1, 2, 3) on top of the exp bar signify the level of the pet. 0-1 exp is level 1, 2-4 exp is level 2, and 5 exp is level 3. The x on the left will clear the exp bar leaving the pet at level 1 with 0 exp. "),g(),p(72,"li"),S(73,"E: This is a drag and drop tool. Use this to reorder your pets."),g(),g(),re(74,"img",8),p(75,"ul"),p(76,"li"),S(77,"Simulate: Run the simulation."),g(),p(78,"li"),S(79,"Randomize: Randomize the Player's and Opponents's pets and equipment."),g(),g(),re(80,"img",9),p(81,"ul"),p(82,"li"),S(83,"Report A Bug: Report a bug to the SAP Calculator develepor."),g(),p(84,"li"),S(85,"Export Calculator: Saves a code to your devices clipboard that can be used to import the calculator state."),g(),p(86,"li"),S(87,"Import Calculator: Import a calculator state."),g(),g(),re(88,"img",10),p(89,"p"),S(90," This is the outcome summary. It shows the number of wins, draws, and loses for the last simulation ran.\n"),g(),re(91,"img",11),p(92,"p"),S(93," This is the Battles table. It is a table of all the battles that were simulated. You may filter the table by the outcome of the battle.\n"),g(),re(94,"img",12),p(95,"p"),S(96," These are the logs of the last selected simulated battle. Logs that are highlighted green are logs from a pet on the Player's team and logs that are highlighted red are logs from a pet on the Opponent's team. Logs that are highlighted purple are random events. Note: Not everything is logged.\n"),g())},styles:["img[_ngcontent-%COMP%]{margin-bottom:.5em;max-width:100%;border:1px solid #bfbfbf}"]}),n})(),MX=(()=>{class n{constructor(){this.formGroup=new Ni({calcCode:new se(null)})}ngOnInit(){}submit(){let e="";e=this.importFunc(this.formGroup.value.calcCode)?"Import successful":"Import failed",alert(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ln({type:n,selectors:[["app-import-calculator"]],inputs:{importFunc:"importFunc"},decls:6,vars:1,consts:[[1,"form-group",3,"formGroup"],["id","calcCode","rows","5","formControlName","calcCode",1,"form-control","mb-2"],[1,"warning","mb-2"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(p(0,"div",0),re(1,"textarea",1),p(2,"div",2),S(3," Warning: This will overwrite any existing custom packs. Any custom packs in the import will be added. "),g(),p(4,"button",3),je("click",function(){return i.submit()}),S(5,"Import"),g(),g()),2&e&&W("formGroup",i.formGroup)},directives:[hc,qo,Ho,uc,Ha],styles:[""]}),n})(),IX=(()=>{class n{constructor(e){this.localStorageService=e}ngOnInit(){}formGroupValueString(){return JSON.stringify(this.formGroup.value)}copyToClipboard(){this.localStorageService.setFormStorage(this.formGroup);let e=JSON.stringify(this.formGroup.value);navigator.clipboard.writeText(e).then(()=>{alert("Copied to clipboard")})}}return n.\u0275fac=function(e){return new(e||n)(V(FM))},n.\u0275cmp=Ln({type:n,selectors:[["app-export-calculator"]],inputs:{formGroup:"formGroup"},decls:4,vars:1,consts:[[1,"form-group"],["id","calcCode","rows","5","readonly","",1,"form-control","mb-2",3,"value"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(p(0,"div",0),re(1,"textarea",1),p(2,"button",2),je("click",function(){return i.copyToClipboard()}),S(3,"Copy to Clipboard"),g(),g()),2&e&&(F(1),W("value",i.formGroupValueString()))},styles:[""]}),n})();class G${}class U${}class Jr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const s=e.slice(0,i),r=s.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(s,r),this.headers.has(r)?this.headers.get(r).push(o):this.headers.set(r,[o])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const s=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(s,i),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Jr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Jr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Jr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...i),this.headers.set(e,s);break;case"d":const r=t.value;if(r){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===r.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class NX{encodeKey(t){return j$(t)}encodeValue(t){return j$(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const LX=/%(\d[a-f0-9])/gi,BX={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function j$(n){return encodeURIComponent(n).replace(LX,(t,e)=>{var i;return null!==(i=BX[e])&&void 0!==i?i:t})}function W$(n){return`${n}`}class Za{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new NX,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const r=s.indexOf("="),[o,a]=-1==r?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,r)),t.decodeValue(s.slice(r+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const s=t[i];Array.isArray(s)?s.forEach(r=>{e.push({param:i,value:r,op:"a"})}):e.push({param:i,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Za({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(W$(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const s=i.indexOf(W$(t.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class VX{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function z$(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function K$(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Y$(n){return"undefined"!=typeof FormData&&n instanceof FormData}class mg{constructor(t,e,i,s){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,r=s):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new Jr),this.context||(this.context=new VX),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new Za,this.urlWithParams=e}serializeBody(){return null===this.body?null:z$(this.body)||K$(this.body)||Y$(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Za?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Y$(this.body)?null:K$(this.body)?this.body.type||null:z$(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Za?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,s=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let h=t.headers||this.headers,f=t.params||this.params;const m=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(h=Object.keys(t.setHeaders).reduce((y,b)=>y.set(b,t.setHeaders[b]),h)),t.setParams&&(f=Object.keys(t.setParams).reduce((y,b)=>y.set(b,t.setParams[b]),f)),new mg(i,s,o,{params:f,headers:h,context:m,reportProgress:l,responseType:r,withCredentials:a})}}var vi=(()=>((vi=vi||{})[vi.Sent=0]="Sent",vi[vi.UploadProgress=1]="UploadProgress",vi[vi.ResponseHeader=2]="ResponseHeader",vi[vi.DownloadProgress=3]="DownloadProgress",vi[vi.Response=4]="Response",vi[vi.User=5]="User",vi))();class HM{constructor(t,e=200,i="OK"){this.headers=t.headers||new Jr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class qM extends HM{constructor(t={}){super(t),this.type=vi.ResponseHeader}clone(t={}){return new qM({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Fb extends HM{constructor(t={}){super(t),this.type=vi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Fb({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Q$ extends HM{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function GM(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let J$=(()=>{class n{constructor(e){this.handler=e}request(e,i,s={}){let r;if(e instanceof mg)r=e;else{let l,h;l=s.headers instanceof Jr?s.headers:new Jr(s.headers),s.params&&(h=s.params instanceof Za?s.params:new Za({fromObject:s.params})),r=new mg(e,i,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:h,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const o=Ec(r).pipe(function(n,t){return ro(n,void 0,1)}(l=>this.handler.handle(l)));if(e instanceof mg||"events"===s.observe)return o;const a=o.pipe($V(l=>l instanceof Fb));switch(s.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return a.pipe(vs(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(vs(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(vs(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(vs(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Za).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,s={}){return this.request("PATCH",e,GM(s,i))}post(e,i,s={}){return this.request("POST",e,GM(s,i))}put(e,i,s={}){return this.request("PUT",e,GM(s,i))}}return n.\u0275fac=function(e){return new(e||n)(H(G$))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();class Z${constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const X$=new me("HTTP_INTERCEPTORS");let HX=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();const qX=/^\)\]\}',?\n/;let eF=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ye(i=>{const s=this.xhrFactory.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((b,C)=>s.setRequestHeader(b,C.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const b=e.detectContentTypeHeader();null!==b&&s.setRequestHeader("Content-Type",b)}if(e.responseType){const b=e.responseType.toLowerCase();s.responseType="json"!==b?b:"text"}const r=e.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const b=1223===s.status?204:s.status,C=s.statusText||"OK",T=new Jr(s.getAllResponseHeaders()),P=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return o=new qM({headers:T,status:b,statusText:C,url:P}),o},l=()=>{let{headers:b,status:C,statusText:T,url:P}=a(),O=null;204!==C&&(O=void 0===s.response?s.responseText:s.response),0===C&&(C=O?200:0);let I=C>=200&&C<300;if("json"===e.responseType&&"string"==typeof O){const B=O;O=O.replace(qX,"");try{O=""!==O?JSON.parse(O):null}catch(G){O=B,I&&(I=!1,O={error:G,text:O})}}I?(i.next(new Fb({body:O,headers:b,status:C,statusText:T,url:P||void 0})),i.complete()):i.error(new Q$({error:O,headers:b,status:C,statusText:T,url:P||void 0}))},h=b=>{const{url:C}=a(),T=new Q$({error:b,status:s.status||0,statusText:s.statusText||"Unknown Error",url:C||void 0});i.error(T)};let f=!1;const m=b=>{f||(i.next(a()),f=!0);let C={type:vi.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(C.total=b.total),"text"===e.responseType&&!!s.responseText&&(C.partialText=s.responseText),i.next(C)},y=b=>{let C={type:vi.UploadProgress,loaded:b.loaded};b.lengthComputable&&(C.total=b.total),i.next(C)};return s.addEventListener("load",l),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),e.reportProgress&&(s.addEventListener("progress",m),null!==r&&s.upload&&s.upload.addEventListener("progress",y)),s.send(r),i.next({type:vi.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",l),s.removeEventListener("timeout",h),e.reportProgress&&(s.removeEventListener("progress",m),null!==r&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(H(H2))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();const UM=new me("XSRF_COOKIE_NAME"),jM=new me("XSRF_HEADER_NAME");class tF{}let UX=(()=>{class n{constructor(e,i,s){this.doc=e,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=O2(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(H(Ze),H(uh),H(UM))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})(),WM=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const s=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||s.startsWith("http://")||s.startsWith("https://"))return i.handle(e);const r=this.tokenService.getToken();return null!==r&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,r)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(H(tF),H(jM))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})(),jX=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(X$,[]);this.chain=i.reduceRight((s,r)=>new Z$(s,r),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(H(U$),H(At))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})(),WX=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:WM,useClass:HX}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:UM,useValue:e.cookieName}:[],e.headerName?{provide:jM,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ei({type:n}),n.\u0275inj=Ut({providers:[WM,{provide:X$,useExisting:WM,multi:!0},{provide:tF,useClass:UX},{provide:UM,useValue:"XSRF-TOKEN"},{provide:jM,useValue:"X-XSRF-TOKEN"}]}),n})(),zX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ei({type:n}),n.\u0275inj=Ut({providers:[J$,{provide:G$,useClass:jX},eF,{provide:U$,useExisting:eF}],imports:[[WX.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const KX=function(n){return["form-group","mb-3",n]};function YX(n,t){if(1&n){const e=Hr();p(0,"div"),p(1,"p"),S(2," An export code of the current calculator will automatically be sent to the developer. Please make sure the calculator is currently relevant to the bug you are reporting. Provide a description of the bug below. (Player should have won, pet's ability is wrong, etc.) Name is optional. Provide your Discord ID if you want me to follow up with you. "),g(),p(3,"div",1),p(4,"div",2),p(5,"label",3),S(6,"Name/Alias/Discord ID"),g(),re(7,"input",4),g(),p(8,"div"),p(9,"label",5),S(10,"Description"),g(),re(11,"textarea",6),g(),g(),p(12,"button",7),je("click",function(){return Vt(e),We().submit()}),S(13,"Submit"),g(),g()}if(2&n){const e=We();F(3),W("ngClass",function(n,t,e,i){return lL(z(),Hi(),n,t,e,i)}(2,KX,e.submitted?"was-validated":""))("formGroup",e.formGroup)}}function QX(n,t){if(1&n){const e=Hr();p(0,"div"),p(1,"h1"),S(2,"Thank you for the bug report!"),g(),p(3,"button",7),je("click",function(){return Vt(e),We().back()}),S(4,"Report another bug :("),g(),g()}}let JX=(()=>{class n{constructor(e){this.http=e,this.formGroup=new Ni({name:new se(""),description:new se(null,$0.required)}),this.reported=!1,this.submitted=!1}ngOnInit(){}submit(){if(this.submitted=!0,this.formGroup.invalid)return;let e=Object.assign(Object.assign({},this.formGroup.value),{code:JSON.stringify(this.calcFormGroup.value)});const i=new Jr({"Content-Type":"application/json"});this.http.post("https://formspree.io/f/xrgnzkdq",{name:"SAP CALC",replyto:"robert.ley94@gmail.com",message:e},{headers:i}).subscribe(s=>{console.log(s)}),this.reported=!0}back(){this.formGroup.reset(),this.submitted=!1,this.reported=!1}}return n.\u0275fac=function(e){return new(e||n)(V(J$))},n.\u0275cmp=Ln({type:n,selectors:[["app-report-a-bug"]],inputs:{calcFormGroup:"calcFormGroup"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngClass","formGroup"],[1,"mb-3"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],["for","description"],["rows","3","formControlName","description","required","",1,"form-control"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(Oe(0,YX,14,4,"div",0),Oe(1,QX,5,0,"div",0)),2&e&&(W("ngIf",!i.reported),F(1),W("ngIf",i.reported))},directives:[fh,E0,hc,qo,Ho,uc,Ha,f_],styles:[""]}),n})();const ZX=["customPackEditor"];function XX(n,t){if(1&n&&(ny(0),p(1,"div",1),S(2),g(),sy()),2&n){const e=We();F(2),Mi(e.apiResponse)}}function eee(n,t){if(1&n&&(p(0,"option",130),S(1),g()),2&n){const e=t.$implicit;W("value",e.get("name").value),F(1),Mi(e.get("name").value)}}function tee(n,t){if(1&n&&(p(0,"option",130),S(1),g()),2&n){const e=t.$implicit;W("value",e.get("name").value),F(1),Mi(e.get("name").value)}}function iee(n,t){if(1&n&&(p(0,"option",30),S(1),g()),2&n){const e=t.$implicit;W("ngValue",e),F(1),Mi(e)}}function nee(n,t){if(1&n&&(p(0,"optgroup",131),Oe(1,iee,2,2,"option",132),g()),2&n){const e=t.$implicit;W("label","Tier "+e.key),F(1),W("ngForOf",e.value)}}function see(n,t){if(1&n&&(p(0,"option",30),S(1),g()),2&n){const e=t.$implicit;W("ngValue",e),F(1),Mi(e)}}function ree(n,t){if(1&n&&(p(0,"optgroup",131),Oe(1,see,2,2,"option",132),g()),2&n){const e=t.$implicit;W("label","Tier "+e.key),F(1),W("ngForOf",e.value)}}function oee(n,t){1&n&&(p(0,"div",12),p(1,"div",13),p(2,"div",133),p(3,"div",134),p(4,"label",135),S(5,"Turn"),g(),re(6,"input",136),g(),p(7,"div",137),p(8,"label",138),S(9,"Player Gold Spent"),g(),re(10,"input",139),g(),p(11,"div",137),p(12,"label",140),S(13,"Opponent Gold Spent"),g(),re(14,"input",141),g(),p(15,"div",137),p(16,"label",142),S(17,"Player Roll Amt"),g(),re(18,"input",143),g(),p(19,"div",137),p(20,"label",144),S(21,"Opponent Roll Amt"),g(),re(22,"input",145),g(),p(23,"div",137),p(24,"label",146),S(25,"Player Lvl 3 Sold"),g(),re(26,"input",147),g(),p(27,"div",137),p(28,"label",148),S(29,"Opponent Lvl 3 Sold"),g(),re(30,"input",149),g(),p(31,"div",137),p(32,"label",150),S(33,"Player Summoned Amt"),g(),re(34,"input",151),g(),p(35,"div",137),p(36,"label",152),S(37,"Opponent Summoned Amt"),g(),re(38,"input",153),g(),g(),g(),g())}function aee(n,t){if(1&n&&(p(0,"div",154),p(1,"div",155),Cd(),p(2,"svg",156),re(3,"path",157),re(4,"path",158),g(),g(),kd(),re(5,"app-pet-selector",159),g()),2&n){const e=t.$implicit,i=t.index,s=We(2);F(5),W("pet",s.player["pet"+(4-i)])("player",s.player)("opponent",s.opponent)("index",4-i)("formGroup",s.makeFormGroup(e))("angler",s.formGroup.get("angler").value)("ailments",s.formGroup.get("ailmentEquipment").value)("allPets",s.formGroup.get("allPets").value)("mana",s.formGroup.get("mana").value)("showTokenPets",s.formGroup.get("tokenPets").value)("customPacks",s.formGroup.get("customPacks"))}}function lee(n,t){if(1&n&&(p(0,"div",160),p(1,"div",155),Cd(),p(2,"svg",156),re(3,"path",157),re(4,"path",158),g(),g(),kd(),re(5,"app-pet-selector",159),g()),2&n){const e=t.$implicit,i=t.index,s=We(2);F(5),W("pet",s.opponent["pet"+i])("player",s.opponent)("opponent",s.player)("index",i)("formGroup",s.makeFormGroup(e))("angler",s.formGroup.get("angler").value)("ailments",s.formGroup.get("ailmentEquipment").value)("allPets",s.formGroup.get("allPets").value)("mana",s.formGroup.get("mana").value)("showTokenPets",s.formGroup.get("tokenPets").value)("customPacks",s.formGroup.get("customPacks"))}}function cee(n,t){if(1&n&&(p(0,"div",89),p(1,"div",161),p(2,"label"),S(3,"Player Wins:"),g(),p(4,"span"),S(5),g(),p(6,"label"),S(7,"Opponent Wins:"),g(),p(8,"span"),S(9),g(),p(10,"label"),S(11,"Draws:"),g(),p(12,"span"),S(13),g(),g(),p(14,"div",162),p(15,"span",163),re(16,"span",164),re(17,"span",165),g(),g(),g()),2&n){const e=We(2);F(5),tp("",e.playerWinner," - ",e.winPercent,"%"),F(4),tp("",e.opponentWinner," - ",e.losePercent,"%"),F(4),tp("",e.draw," - ",e.drawPercent,"%"),F(3),Xf("width",e.getDrawWidth()),F(1),Xf("width",e.getLoseWidth())}}function uee(n,t){if(1&n){const e=Hr();p(0,"tr",166),je("click",function(){const r=Vt(e).$implicit;return We(2).setViewBattle(r)}),p(1,"td"),S(2),g(),p(3,"td"),S(4),g(),p(5,"td",167),S(6),g(),g()}if(2&n){const e=t.$implicit,i=t.index,s=We(2);F(2),Mi(i),F(2),Mi(e.winner),F(2),Mi(s.getRandomEvents(e))}}const hee=function(n,t){return[n,t]};function dee(n,t){if(1&n&&(p(0,"div",68),p(1,"span",168),S(2),g(),g()),2&n){const e=t.$implicit,i=We(2);F(1),W("ngClass",aL(2,hee,i.getPlayerClass(e),e.randomEvent?"random-event":"")),F(1),Mi(e.message)}}function fee(n,t){if(1&n){const e=Hr();ny(0),p(1,"div",2,3),p(3,"div",4),p(4,"div",5),p(5,"div",6),p(6,"h1",7),je("click",function(){return Vt(e),We().printFormGroup()}),S(7,"SAP Calculator"),g(),p(8,"span",8),S(9,"Info/Guide"),g(),g(),p(10,"div",6),p(11,"div",9),S(12),g(),p(13,"div",10),p(14,"span"),S(15),p(16,"span",11),S(17,"Patch Notes"),g(),g(),p(18,"span"),S(19),g(),g(),g(),g(),g(),p(20,"div",12),p(21,"div",13),p(22,"div",14),p(23,"div",15),p(24,"label",16),S(25,"Player Pack"),g(),p(26,"select",17),p(27,"option",18),S(28,"Turtle"),g(),p(29,"option",19),S(30,"Puppy"),g(),p(31,"option",20),S(32,"Star"),g(),p(33,"option",21),S(34,"Golden"),g(),p(35,"option",22),S(36,"Unicorn"),g(),p(37,"optgroup",23),Oe(38,eee,2,2,"option",24),p(39,"option",25),S(40,"Add Custom Pack"),g(),g(),g(),g(),p(41,"div",26),p(42,"label",16),S(43,"Opponent Pack"),g(),p(44,"select",27),p(45,"option",18),S(46,"Turtle"),g(),p(47,"option",19),S(48,"Puppy"),g(),p(49,"option",20),S(50,"Star"),g(),p(51,"option",21),S(52,"Golden"),g(),p(53,"option",22),S(54,"Unicorn"),g(),p(55,"optgroup",23),Oe(56,tee,2,2,"option",24),p(57,"option",25),S(58,"Add Custom Pack"),g(),g(),g(),g(),p(59,"div",28),p(60,"label",16),S(61,"Player Toy"),g(),p(62,"select",29),p(63,"option",30),S(64,"None"),g(),Oe(65,nee,2,2,"optgroup",31),Ia(66,"keyvalue"),g(),g(),p(67,"div",32),p(68,"label",33),S(69,"Toy Level"),g(),p(70,"select",34),p(71,"option"),S(72,"1"),g(),p(73,"option"),S(74,"2"),g(),p(75,"option"),S(76,"3"),g(),g(),g(),p(77,"div",15),p(78,"label",16),S(79,"Opponent Toy"),g(),p(80,"select",35),p(81,"option",30),S(82,"None"),g(),Oe(83,ree,2,2,"optgroup",31),Ia(84,"keyvalue"),g(),g(),p(85,"div",32),p(86,"label",36),S(87,"Toy Level"),g(),p(88,"select",37),p(89,"option"),S(90,"1"),g(),p(91,"option"),S(92,"2"),g(),p(93,"option"),S(94,"3"),g(),g(),g(),p(95,"div",38),p(96,"span",39),je("click",function(){return Vt(e),We().toggleAdvanced()}),S(97),g(),g(),p(98,"div",40),p(99,"div",41),re(100,"input",42),p(101,"label",43),S(102," Angler "),g(),g(),p(103,"div",44),re(104,"input",45),p(105,"label",46),S(106," All Pets "),g(),g(),g(),p(107,"div",40),p(108,"div",47),re(109,"input",48),p(110,"label",49),S(111," Old Stork "),g(),g(),p(112,"div",50),re(113,"input",51),p(114,"label",52),S(115," Token Pets "),g(),g(),g(),p(116,"div",40),p(117,"div",53),re(118,"input",54),p(119,"label",55),S(120," Komodo Shuffle "),g(),g(),p(121,"div",56),re(122,"input",57),p(123,"label",58),S(124," Mana "),g(),g(),g(),p(125,"div",40),p(126,"div",59),re(127,"input",60),p(128,"label",61),S(129," Ailment Equipment "),g(),g(),g(),g(),p(130,"div",62),p(131,"label",63),S(132,"Zoom"),g(),p(133,"div"),p(134,"button",64),je("click",function(){return Vt(e),We().zoomIn()}),S(135,"+"),g(),p(136,"button",65),je("click",function(){return Vt(e),We().zoomOut()}),S(137,"-"),g(),g(),g(),g(),g(),Oe(138,oee,39,0,"div",66),p(139,"div",67),re(140,"div",68),g(),p(141,"div",69),p(142,"div",70),p(143,"div",71),p(144,"h2",72),S(145,"Player"),g(),p(146,"button",73),je("click",function(){return Vt(e),We().resetPlayer("player")}),S(147,"Reset"),g(),g(),p(148,"div",74),p(149,"div",75),je("cdkDropListDropped",function(s){return Vt(e),We().drop(s,"player")}),Oe(150,aee,6,11,"div",76),g(),g(),g(),p(151,"div",77),p(152,"div",71),p(153,"h2",72),S(154,"Opponent"),g(),p(155,"button",73),je("click",function(){return Vt(e),We().resetPlayer("opponent")}),S(156,"Reset"),g(),g(),p(157,"div",78),p(158,"div",75),je("cdkDropListDropped",function(s){return Vt(e),We().drop(s,"opponent")}),Oe(159,lee,6,11,"div",79),g(),g(),g(),g(),p(160,"div",80),p(161,"div",81),p(162,"div"),p(163,"button",82),je("click",function(){return Vt(e),We().simulate()}),S(164,"Simulate"),g(),p(165,"button",82),je("click",function(){return Vt(e),We().randomize()}),S(166,"Randomize"),g(),g(),p(167,"div"),p(168,"button",83),S(169,"Report A Bug"),g(),p(170,"button",84),S(171,"Export Calculator"),g(),p(172,"button",85),S(173,"Import Calculator"),g(),g(),g(),g(),Oe(174,cee,18,10,"div",86),p(175,"div",87),p(176,"div",88),p(177,"h3"),S(178,"Battles"),g(),p(179,"div",89),p(180,"div",68),p(181,"label",90),S(182,"Filter Battles By Winner"),g(),g(),p(183,"div",68),p(184,"div",91),re(185,"input",92),p(186,"label",93),S(187,"None"),g(),g(),p(188,"div",91),re(189,"input",94),p(190,"label",95),S(191,"Player"),g(),g(),p(192,"div",91),re(193,"input",96),p(194,"label",97),S(195,"Opponent"),g(),g(),p(196,"div",91),re(197,"input",98),p(198,"label",99),S(199,"Draw"),g(),g(),g(),g(),p(200,"div",100),p(201,"table",101),p(202,"thead"),p(203,"tr"),p(204,"th",102),S(205,"Battle No."),g(),p(206,"th"),S(207,"Winner"),g(),p(208,"th"),S(209,"Random Events"),g(),g(),g(),p(210,"tbody"),Oe(211,uee,7,3,"tr",103),g(),g(),g(),g(),p(212,"div",104),p(213,"h3"),S(214,"Logs"),g(),p(215,"div",105),Oe(216,dee,3,5,"div",106),g(),g(),g(),g(),p(217,"div",107),p(218,"div",108),p(219,"div",109),p(220,"div",110),p(221,"h1",111),S(222,"Patch Notes"),g(),re(223,"button",112),g(),p(224,"div",113),re(225,"app-patch-notes"),g(),p(226,"div",114),p(227,"span",39),je("click",function(){return Vt(e),We().clearCache()}),S(228,"Clear Cache"),g(),g(),g(),g(),g(),p(229,"div",115,116),p(231,"div",117),p(232,"div",109),p(233,"div",110),p(234,"h1",118),S(235,"Custom Pack Editor"),g(),re(236,"button",112),g(),p(237,"div",113),re(238,"app-custom-pack-editor",119),g(),g(),g(),g(),p(239,"div",120),p(240,"div",117),p(241,"div",109),p(242,"div",110),p(243,"h1",121),S(244,"Info"),g(),re(245,"button",112),g(),p(246,"div",113),re(247,"app-info"),g(),g(),g(),g(),p(248,"div",122),p(249,"div",117),p(250,"div",109),p(251,"div",110),p(252,"h1",123),S(253,"Import Calculator"),g(),re(254,"button",112),g(),p(255,"div",113),re(256,"app-import-calculator",124),g(),g(),g(),g(),p(257,"div",125),p(258,"div",117),p(259,"div",109),p(260,"div",110),p(261,"h1",126),S(262,"Export Calculator"),g(),re(263,"button",112),g(),p(264,"div",113),re(265,"app-export-calculator",119),g(),g(),g(),g(),p(266,"div",127),p(267,"div",117),p(268,"div",109),p(269,"div",110),p(270,"h1",128),S(271,"Report A Bug"),g(),re(272,"button",112),g(),p(273,"div",113),re(274,"app-report-a-bug",129),g(),g(),g(),g(),sy()}if(2&n){const e=We();F(1),W("formGroup",e.formGroup),F(11),Ei("Last Updated: ",e.lastUpdated,""),F(3),Ei("Version: ",e.version," "),F(4),Ei("SAP Version: ",e.sapVersion,""),F(19),W("ngForOf",e.validCustomPacks),F(18),W("ngForOf",e.validCustomPacks),F(7),W("ngValue",null),F(2),W("ngForOf",Oa(66,23,e.toys)),F(16),W("ngValue",null),F(2),W("ngForOf",Oa(84,25,e.toys)),F(14),Ei("",e.formGroup.get("showAdvanced").value?"Hide":"Show"," Advanced Settings"),F(41),W("ngIf",e.formGroup.get("showAdvanced").value),F(2),W("@dayNight",e.dayNight?"day":"night"),F(10),W("ngForOf",e.getPlayerPetsFormArray()),F(9),W("ngForOf",e.getOpponentPetsFormArray()),F(15),W("ngIf",e.simulated),F(11),W("value",null),F(26),W("ngForOf",e.filteredBattles),F(5),W("ngForOf",e.getViewBattleLogs()),F(22),W("formGroup",e.formGroup),F(18),W("importFunc",e.import.bind(e)),F(9),W("formGroup",e.formGroup),F(9),W("calcFormGroup",e.formGroup)}}let mee=(()=>{class n{constructor(e,i,s,r,o,a,l,h){this.logService=e,this.abilityService=i,this.gameService=s,this.equipmentService=r,this.petService=o,this.toyService=a,this.startOfBattleService=l,this.localStorageService=h,this.version="0.6.12",this.sapVersion="0.33.3-156 BETA",this.lastUpdated="5/23/2024",this.title="sap-calculator",this.maxTurns=50,this.turns=0,this.battleStarted=!1,this.simulationBattleAmt=1e3,this.playerWinner=0,this.opponentWinner=0,this.draw=0,this.battles=[],this.simulated=!1,this.previousPackPlayer=null,this.previousPackOpponent=null,this.dayNight=!0,this.api=!1,this.apiResponse=null,this.player=new Y3(e,i,s),this.opponent=new Y3(e,i,s),this.gameService.init(this.player,this.opponent),this.petService.init(),this.initFormGroup(),this.loadLocalStorage(),this.initApp(),this.initGameApi(),this.setDayNight();let m=window.location.href.split("/"),b=decodeURIComponent((m[m.length-1]+"").replace(/\+/g,"%20"));b=b.replace("?code=",""),b&&(this.api=!0,this.loadCalculatorFromValue(JSON.parse(b)),this.simulate(),this.buildApiResponse())}buildApiResponse(){this.apiResponse=JSON.stringify({playerWins:this.playerWinner,opponentWins:this.opponentWinner,draws:this.draw},null)}printFormGroup(){console.log(this.formGroup)}ngOnInit(){this.toys=this.toyService.toys}ngAfterViewInit(){this.api||this.initModals()}loadLocalStorage(){if(this.localStorageService.getStorage())try{let i=JSON.parse(this.localStorageService.getStorage());this.loadCalculatorFromValue(i)}catch(i){console.log("error loading local storage",i),this.localStorageService.clearStorage()}}loadCalculatorFromValue(e){let i=e.customPacks;e.customPacks=[],this.loadCustomPacks(i),this.formGroup.patchValue(e,{emitEvent:!1}),setTimeout(()=>{this.fixCustomPackSelect()}),this.gameService.gameApi.oldStork=this.formGroup.get("oldStork").value,this.gameService.gameApi.komodoShuffle=this.formGroup.get("komodoShuffle").value,this.gameService.gameApi.mana=this.formGroup.get("mana").value,this.gameService.gameApi.playerRollAmount=this.formGroup.get("playerRollAmount").value,this.gameService.gameApi.opponentRollAmount=this.formGroup.get("opponentRollAmount").value,this.gameService.gameApi.playerLevel3Sold=this.formGroup.get("playerLevel3Sold").value,this.gameService.gameApi.opponentLevel3Sold=this.formGroup.get("opponentLevel3Sold").value,this.gameService.gameApi.playerSummonedAmount=this.formGroup.get("playerSummonedAmount").value,this.gameService.gameApi.opponentSummonedAmount=this.formGroup.get("opponentSummonedAmount").value,this.gameService.gameApi.day=this.dayNight,this.gameService.gameApi.turnNumber=this.formGroup.get("turn").value}setDayNight(){let i=this.formGroup.get("turn").value%2==1;this.dayNight=i,this.gameService.gameApi.day=i}fixCustomPackSelect(){this.formGroup.get("playerPack").setValue(this.formGroup.get("playerPack").value,{emitEvent:!1}),this.formGroup.get("opponentPack").setValue(this.formGroup.get("opponentPack").value,{emitEvent:!1})}initApp(){this.petService.buildCustomPackPets(this.formGroup.get("customPacks")),this.setFontSize(),this.initPlayerPets(),this.updatePlayerPack(this.player,this.formGroup.get("playerPack").value,!1),this.updatePlayerPack(this.opponent,this.formGroup.get("opponentPack").value,!1),this.updatePlayerToy(this.player,this.formGroup.get("playerToy").value),this.updatePlayerToy(this.opponent,this.formGroup.get("opponentToy").value),this.previousPackOpponent=this.opponent.pack,this.previousPackPlayer=this.player.pack}initGameApi(){this.gameService.gameApi.day=this.dayNight,this.gameService.gameApi.oldStork=this.formGroup.get("oldStork").value,this.gameService.gameApi.komodoShuffle=this.formGroup.get("komodoShuffle").value,this.gameService.gameApi.mana=this.formGroup.get("mana").value,this.gameService.gameApi.playerRollAmount=this.formGroup.get("playerRollAmount").value,this.gameService.gameApi.opponentRollAmount=this.formGroup.get("opponentRollAmount").value,this.gameService.gameApi.playerLevel3Sold=this.formGroup.get("playerLevel3Sold").value,this.gameService.gameApi.opponentLevel3Sold=this.formGroup.get("opponentLevel3Sold").value,this.gameService.gameApi.playerSummonedAmount=this.formGroup.get("playerSummonedAmount").value,this.gameService.gameApi.opponentSummonedAmount=this.formGroup.get("opponentSummonedAmount").value}loadCustomPacks(e){let i=this.formGroup.get("customPacks");i.clear();for(let s of e){let r=n7(s);i.push(r)}}initPlayerPets(){for(let e=0;e<5;e++){let i=this.formGroup.get("playerPets").controls[e];if(null==i.get("name").value)continue;let s=this.petService.createPet(i.value,this.player);this.player.setPet(e,s,!0)}for(let e=0;e<5;e++){let i=this.formGroup.get("opponentPets").controls[e];if(null==i.get("name").value)continue;let s=this.petService.createPet(i.value,this.opponent);this.opponent.setPet(e,s,!0)}}randomizePlayerPets(e){for(let i=0;i<5;i++)e.setPet(i,this.petService.getRandomPet(e),!0)}makeFormGroup(e){return e}initFormGroup(){var e,i,s,r,o,a;this.updatePreviousShopTier(11),this.updateGoldSpent(10,10),this.formGroup=new Ni({playerPack:new se(this.player.pack),opponentPack:new se(this.opponent.pack),playerToy:new se(null===(e=this.player.toy)||void 0===e?void 0:e.name),playerToyLevel:new se(null!==(s=null===(i=this.player.toy)||void 0===i?void 0:i.level)&&void 0!==s?s:1),opponentToy:new se(null===(r=this.opponent.toy)||void 0===r?void 0:r.name),opponentToyLevel:new se(null!==(a=null===(o=this.opponent.toy)||void 0===o?void 0:o.level)&&void 0!==a?a:1),turn:new se(11),playerGoldSpent:new se(10),opponentGoldSpent:new se(10),angler:new se(!1),allPets:new se(!1),logFilter:new se(null),playerPets:new u_([]),opponentPets:new u_([]),fontSize:new se(13),customPacks:new u_([]),oldStork:new se(!1),tokenPets:new se(!1),komodoShuffle:new se(!1),mana:new se(!1),playerRollAmount:new se(4),opponentRollAmount:new se(4),playerLevel3Sold:new se(0),opponentLevel3Sold:new se(0),playerSummonedAmount:new se(0),opponentSummonedAmount:new se(0),showAdvanced:new se(!1),ailmentEquipment:new se(!1)}),this.initPetForms(),this.formGroup.get("playerPack").valueChanges.subscribe(m=>{if(null!=m){if("Add Custom Pack"==m)return void this.openCustomPackEditor();this.previousPackPlayer=m,this.updatePlayerPack(this.player,m)}}),this.formGroup.get("opponentPack").valueChanges.subscribe(m=>{if(null!=m){if("Add Custom Pack"==m)return void this.openCustomPackEditor();this.previousPackOpponent=m,this.updatePlayerPack(this.opponent,m)}}),this.formGroup.get("playerToy").valueChanges.subscribe(m=>{this.updatePlayerToy(this.player,m)}),this.formGroup.get("opponentToy").valueChanges.subscribe(m=>{this.updatePlayerToy(this.opponent,m)}),this.formGroup.get("playerToyLevel").valueChanges.subscribe(m=>{this.updateToyLevel(this.player,m)}),this.formGroup.get("opponentToyLevel").valueChanges.subscribe(m=>{this.updateToyLevel(this.opponent,m)}),this.formGroup.get("turn").valueChanges.subscribe(m=>{this.updatePreviousShopTier(m),this.setDayNight()}),this.formGroup.get("playerGoldSpent").valueChanges.subscribe(m=>{this.updateGoldSpent(m,null)}),this.formGroup.get("opponentGoldSpent").valueChanges.subscribe(m=>{this.updateGoldSpent(null,m)}),this.formGroup.get("angler").valueChanges.subscribe(m=>{setTimeout(()=>{this.updateSelectorPets()})}),this.formGroup.get("oldStork").valueChanges.subscribe(m=>{this.gameService.gameApi.oldStork=m}),this.formGroup.get("komodoShuffle").valueChanges.subscribe(m=>{this.gameService.gameApi.komodoShuffle=m}),this.formGroup.get("mana").valueChanges.subscribe(m=>{this.gameService.gameApi.mana=m}),this.formGroup.get("playerRollAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.playerRollAmount=m,console.log("playerRollAmount",m)}),this.formGroup.get("opponentRollAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.opponentRollAmount=m,console.log("opponentRollAmount",m)}),this.formGroup.get("playerLevel3Sold").valueChanges.subscribe(m=>{this.gameService.gameApi.playerLevel3Sold=m}),this.formGroup.get("opponentLevel3Sold").valueChanges.subscribe(m=>{this.gameService.gameApi.opponentLevel3Sold=m}),this.formGroup.get("playerSummonedAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.playerSummonedAmount=m}),this.formGroup.get("opponentSummonedAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.opponentSummonedAmount=m})}toggleAdvanced(){let e=this.formGroup.get("showAdvanced").value;this.formGroup.get("showAdvanced").setValue(!e)}initPetForms(){let e=[0,1,2,3,4],i=e.map(a=>{var l,h,f,m,y,b,C,T,P,O,I,B,G,Q,X,ne;return new Ni({name:new se(null===(l=this.player[`pet${a}`])||void 0===l?void 0:l.name),attack:new se(null!==(f=null===(h=this.player[`pet${a}`])||void 0===h?void 0:h.attack)&&void 0!==f?f:0),health:new se(null!==(y=null===(m=this.player[`pet${a}`])||void 0===m?void 0:m.health)&&void 0!==y?y:0),exp:new se(null!==(C=null===(b=this.player[`pet${a}`])||void 0===b?void 0:b.exp)&&void 0!==C?C:0),equipment:new se(null===(T=this.player[`pet${a}`])||void 0===T?void 0:T.equipment),belugaSwallowedPet:new se(null===(P=this.player[`pet${a}`])||void 0===P?void 0:P.belugaSwallowedPet),mana:new se(null!==(I=null===(O=this.player[`pet${a}`])||void 0===O?void 0:O.mana)&&void 0!==I?I:0),abominationSwallowedPet1:new se(null===(B=this.player[`pet${a}`])||void 0===B?void 0:B.abominationSwallowedPet1),abominationSwallowedPet2:new se(null===(G=this.player[`pet${a}`])||void 0===G?void 0:G.abominationSwallowedPet2),abominationSwallowedPet3:new se(null===(Q=this.player[`pet${a}`])||void 0===Q?void 0:Q.abominationSwallowedPet3),battlesFought:new se(null!==(ne=null===(X=this.player[`pet${a}`])||void 0===X?void 0:X.battlesFought)&&void 0!==ne?ne:0)})}),s=this.formGroup.get("playerPets");s.clear();for(let a of i)s.push(a);let r=e.map(a=>{var l,h,f,m,y,b,C,T,P,O,I,B,G,Q,X,ne;return new Ni({name:new se(null===(l=this.opponent[`pet${a}`])||void 0===l?void 0:l.name),attack:new se(null!==(f=null===(h=this.opponent[`pet${a}`])||void 0===h?void 0:h.attack)&&void 0!==f?f:0),health:new se(null!==(y=null===(m=this.opponent[`pet${a}`])||void 0===m?void 0:m.health)&&void 0!==y?y:0),exp:new se(null!==(C=null===(b=this.opponent[`pet${a}`])||void 0===b?void 0:b.exp)&&void 0!==C?C:0),equipment:new se(null===(T=this.opponent[`pet${a}`])||void 0===T?void 0:T.equipment),belugaSwallowedPet:new se(null===(P=this.opponent[`pet${a}`])||void 0===P?void 0:P.belugaSwallowedPet),mana:new se(null!==(I=null===(O=this.opponent[`pet${a}`])||void 0===O?void 0:O.mana)&&void 0!==I?I:0),abominationSwallowedPet1:new se(null===(B=this.opponent[`pet${a}`])||void 0===B?void 0:B.abominationSwallowedPet1),abominationSwallowedPet2:new se(null===(G=this.opponent[`pet${a}`])||void 0===G?void 0:G.abominationSwallowedPet2),abominationSwallowedPet3:new se(null===(Q=this.opponent[`pet${a}`])||void 0===Q?void 0:Q.abominationSwallowedPet3),battlesFought:new se(null!==(ne=null===(X=this.opponent[`pet${a}`])||void 0===X?void 0:X.battlesFought)&&void 0!==ne?ne:0)})}),o=this.formGroup.get("opponentPets");o.clear();for(let a of r)o.push(a)}getPlayerPetsFormArray(){return Array.from(this.formGroup.get("playerPets").controls).reverse()}getOpponentPetsFormArray(){return Array.from(this.formGroup.get("opponentPets").controls)}updatePlayerPack(e,i,s=!0){let r;switch(e.pack=i,i){case"Turtle":r=this.petService.turtlePackPets;break;case"Puppy":r=this.petService.puppyPackPets;break;case"Star":r=this.petService.starPackPets;break;case"Golden":r=this.petService.goldenPackPets;break;case"Unicorn":r=this.petService.unicornPackPets;break;default:r=this.petService.playerCustomPackPets.get(i)}e==this.player?this.gameService.setTierGroupPets(r,null):this.gameService.setTierGroupPets(null,r),this.formGroup.get("allPets")}updateSelectorPets(){this.petSelectors.forEach(e=>{e.initPets()})}updatePlayerToy(e,i){let s;e==this.player&&(s="playerToyLevel"),e==this.opponent&&(s="opponentToyLevel");let r=this.formGroup.get(s).value;e.toy=this.toyService.createToy(i,e,r),e.originalToy=e.toy}updatePreviousShopTier(e){let i=1;e>2&&(i=2),e>4&&(i=3),e>6&&(i=4),e>8&&(i=5),e>10&&(i=6),this.gameService.setPreviousShopTier(i),this.gameService.setTurnNumber(e)}updateGoldSpent(e,i){this.gameService.setGoldSpent(e,i)}updateToyLevel(e,i){e.toy&&(e.toy.level=i)}abilityCycle(){this.abilityService.executeHurtEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeFriendHurtEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeEnemyHurtEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeFaintEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeFriendAheadFaintsEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeKnockOutEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),this.abilityService.executeManaEvents(),this.executeFrequentEvents(),this.checkPetsAlive();let e=this.removeDeadPets();this.abilityService.executeSpawnEvents(),this.abilityService.executeSummonedEvents(),this.abilityService.executeFriendSummonedToyEvents(),this.abilityService.executeEnemySummonedEvents(),this.abilityService.executeFriendFaintsEvents(),this.abilityService.executeFriendFaintsToyEvents(),this.executeFrequentEvents(),this.checkPetsAlive(),e&&this.emptyFrontSpaceCheck(),this.executeFrequentEvents(),this.checkPetsAlive()}executeFrequentEvents(){this.abilityService.executeGainedPerkEvents(),this.abilityService.executeFriendGainedPerkEvents(),this.abilityService.executeFriendGainedAilmentEvents(),this.abilityService.executeFriendlyToyBrokeEvents()}checkPetsAlive(){this.player.checkPetsAlive(),this.opponent.checkPetsAlive()}initToys(){var e,i;(null===(e=this.player.toy)||void 0===e?void 0:e.startOfBattle)&&this.toyService.setStartOfBattleEvent({callback:()=>{this.player.toy.startOfBattle(this.gameService.gameApi);let s=this.player.toy.level;for(let r of this.player.petArray)r instanceof Sr&&(this.player.toy.level=r.level,this.player.toy.startOfBattle(this.gameService.gameApi,!0),this.player.toy.level=s)},priority:this.player.toy.tier}),(null===(i=this.opponent.toy)||void 0===i?void 0:i.startOfBattle)&&this.toyService.setStartOfBattleEvent({callback:()=>{this.opponent.toy.startOfBattle(this.gameService.gameApi);let s=this.opponent.toy.level;for(let r of this.opponent.petArray)r instanceof Sr&&(this.opponent.toy.level=r.level,this.opponent.toy.startOfBattle(this.gameService.gameApi,!0),this.opponent.toy.level=s)},priority:this.opponent.toy.tier})}simulate(){try{this.runSimulation()}catch(e){console.error(e),window.alert("Something went wrong, please send a bug report.")}}runSimulation(){this.localStorageService.setFormStorage(this.formGroup),this.resetSimulation();for(let e=0;e<this.simulationBattleAmt;e++){for(this.initBattle(),this.startBattle(),this.initToys(),this.abilityService.initEndTurnEvents(this.player),this.abilityService.initEndTurnEvents(this.opponent),this.setAbilityEquipments(this.player),this.setAbilityEquipments(this.opponent),this.player.onionCheck(),this.opponent.onionCheck(),this.executeBeforeStartOfBattleEquipment(this.player),this.executeBeforeStartOfBattleEquipment(this.opponent),this.startOfBattleService.initStartOfBattleEvents(),this.startOfBattleService.executeToyPetEvents(),this.emptyFrontSpaceCheck(),this.executeFrequentEvents(),this.toyService.executeStartOfBattleEvents(),this.executeFrequentEvents(),this.startOfBattleService.executeNonToyPetEvents(),this.executeFrequentEvents(),this.abilityService.executeSummonedEvents(),this.abilityService.executeFriendSummonedToyEvents(),this.abilityService.executeEnemySummonedEvents(),this.abilityService.triggerTransformEvents(this.player),this.abilityService.triggerTransformEvents(this.opponent),this.abilityService.executeTransformEvents(),this.checkPetsAlive(),this.abilityService.hasAbilityCycleEvents||this.removeDeadPets();this.abilityService.hasAbilityCycleEvents;)this.abilityCycle();for(this.removeDeadPets(),this.pushPetsForwards(),this.logService.printState(this.player,this.opponent);this.battleStarted;)this.nextTurn();this.reset()}this.simulated=!0}removeDeadPets(){let e=!1;return e=this.player.removeDeadPets(),e=this.opponent.removeDeadPets()||e,e}emptyFrontSpaceCheck(){null==this.player.pet0&&this.abilityService.triggerEmptyFrontSpaceEvents(this.player),null==this.opponent.pet0&&this.abilityService.triggerEmptyFrontSpaceEvents(this.opponent),this.abilityService.executeEmptyFrontSpaceEvents(),null==this.player.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.player),null==this.opponent.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.opponent),this.abilityService.executeEmptyFrontSpaceToyEvents()}startBattle(){this.reset(),this.battleStarted=!0,this.turns=0}resetSimulation(){this.playerWinner=0,this.opponentWinner=0,this.viewBattle=null,this.draw=0,this.battles=[],this.currBattle=null}initBattle(){this.logService.reset(),this.currBattle={winner:"draw",logs:this.logs},this.battles.push(this.currBattle),this.gameService.gameApi.opponentSummonedAmount=this.formGroup.get("opponentSummonedAmount").value,this.gameService.gameApi.playerSummonedAmount=this.formGroup.get("playerSummonedAmount").value}reset(){this.player.resetPets(),this.opponent.resetPets()}nextTurn(){let e=!1,i=null;if(this.turns++,this.turns>=this.maxTurns&&(e=!0),!this.player.alive()&&this.opponent.alive()&&(i=this.opponent,this.currBattle.winner="opponent",this.opponentWinner++,e=!0),!this.opponent.alive()&&this.player.alive()&&(i=this.player,this.currBattle.winner="player",this.playerWinner++,e=!0),!this.opponent.alive()&&!this.player.alive()&&(this.draw++,e=!0),e)return this.endLog(i),void(this.battleStarted=!1);this.pushPetsForwards();let s=1;this.player.pet0 instanceof Wt&&(s=this.player.pet0.level+1);for(let o=0;o<s;o++)this.doBeforeAttackEquipment(this.player);s=1,this.opponent.pet0 instanceof Wt&&(s=this.opponent.pet0.level+1);for(let o=0;o<s;o++)this.doBeforeAttackEquipment(this.opponent);for(this.abilityService.executeEqiupmentBeforeAttackEvents(),this.player.checkPetsAlive(),this.opponent.checkPetsAlive();this.abilityService.hasAbilityCycleEvents;)this.abilityCycle();if(this.checkPetsAlive(),this.removeDeadPets(),!this.player.alive()||!this.opponent.alive())return;this.pushPetsForwards();let r=this.chocolateCakePresent();for(r.cake?this.doChocolateCakeEvents(r):this.fight(),this.abilityCycle();this.abilityService.hasAbilityCycleEvents;)this.abilityCycle();this.player.checkGoldenSpawn(),this.opponent.checkGoldenSpawn(),this.logService.printState(this.player,this.opponent)}chocolateCakePresent(){var e,i;let s={player:!1,opponent:!1,cake:!1};return s.player=(null===(e=this.player.pet0)||void 0===e?void 0:e.equipment)instanceof Kp,s.opponent=(null===(i=this.opponent.pet0)||void 0===i?void 0:i.equipment)instanceof Kp,s.cake=s.player||s.opponent,s}doChocolateCakeEvents(e){let i=[];e.player&&i.push(this.player.pet0),e.opponent&&i.push(this.opponent.pet0),i=(0,ve.shuffle)(i),i.sort((s,r)=>s.attack<r.attack?1:r.attack<s.attack?-1:0);for(let s of i)s.equipment.callback(s)}setAbilityEquipments(e){var i;for(let s of e.petArray)s.equipment instanceof B_&&(s.equipment.callback(s),s.eggplantTouched=!0),s.equipment instanceof V_&&s.equipment.callback(s),"startOfBattle"==(null===(i=s.equipment)||void 0===i?void 0:i.equipmentClass)&&s.equipment.callback(s),s.equipment instanceof F_&&s.equipment.callback(s)}executeBeforeStartOfBattleEquipment(e){for(let i of e.petArray){let s=1,r="";i instanceof Wt&&(s=i.level+1,r=" (Panther)");for(let o=0;o<s;o++){if(i.equipment instanceof N_&&(i.increaseAttack(4),i.increaseHealth(4),this.logService.createLog({message:`${i.name} gained 4 attack and 4 health (Pie)${r}`,type:"equipment",player:e})),i.equipment instanceof L_&&i.parent.gainTrumpets(2*s,i,!1,s,!0),i.equipment instanceof R_)for(let a of e.petArray)i!=a&&(a.increaseAttack(2),a.increaseHealth(2),this.logService.createLog({message:`${a.name} gained 2 attack and 2 health (Pancake)${r}`,type:"equipment",player:e}));i.equipment instanceof G_&&i.equipment.callback(i),i.equipment instanceof H_&&i.equipment.callback(i),i.equipment instanceof q_&&i.equipment.callback(i)}}}pushPetsForwards(){1==this.turns&&this.player.pet0&&this.opponent.pet0||(this.player.pushPetsForward(),this.opponent.pushPetsForward(),this.player.onionCheck(),this.opponent.onionCheck())}doBeforeAttackEquipment(e){let i=e.pet0,s=e==this.player?this.opponent.pet0:this.player.pet0,r=i.equipment;if("snipe"==(null==r?void 0:r.equipmentClass)){let o=1;i instanceof jp&&r instanceof Up&&(o=i.level);for(let a=0;a<o;a++)this.abilityService.setEqiupmentBeforeAttackEvent({callback:()=>{r.attackCallback(i,s)},priority:i.attack,player:this.player})}r instanceof Sh&&this.abilityService.setEqiupmentBeforeAttackEvent({callback:()=>{r.callback(i)},priority:i.attack,player:this.player})}fight(){let e=this.player.pet0,i=this.opponent.pet0;e.beforeAttack&&this.abilityService.setBeforeAttackEvent({callback:e.beforeAttack.bind(e),priority:e.attack,player:this.player}),i.beforeAttack&&this.abilityService.setBeforeAttackEvent({callback:i.beforeAttack.bind(i),priority:i.attack,player:this.opponent}),this.abilityService.executeBeforeAttackEvents(),e.attackPet(i),i.attackPet(e),e.useAttackDefenseEquipment(),i.useAttackDefenseEquipment(),this.player.checkPetsAlive(),this.opponent.checkPetsAlive(),this.abilityService.executeAfterAttackEvents(),this.abilityService.executeFriendAheadAttacksEvents(),this.abilityService.executeFriendAttacksEvents()}endLog(e){let i;i=null==e?"Draw":e==this.player?"Player is the winner":"Opponent is the winner",this.logService.createLog({message:i,type:"board"})}get logs(){return this.logService.getLogs()}setViewBattle(e){this.viewBattle=e}getViewBattleLogs(){var e,i;return null!==(i=null===(e=this.viewBattle)||void 0===e?void 0:e.logs)&&void 0!==i?i:[]}getDrawWidth(){return`${this.losePercent+this.drawPercent}%`}getLoseWidth(){return`${this.losePercent}%`}getPlayerClass(e){return null==e.player?"log":e.player==this.player?"log-player":"log-opponent"}getRandomEvents(e){let i="",s=e.logs.filter(r=>1==r.randomEvent);for(let r of s)i+=r.message,r!=s[s.length-1]&&(i+="\n");return i}randomize(e){null==e&&!confirm("Are you sure you want to randomize?")||(e?this.randomizePlayerPets(e):(this.randomizePlayerPets(this.player),this.randomizePlayerPets(this.opponent)),this.formGroup&&this.initPetForms(),setTimeout(()=>{this.petSelectors.forEach(i=>{i.initSelector()})}))}zoomIn(){this.formGroup.get("fontSize").setValue(Math.min(this.formGroup.get("fontSize").value+1,20)),this.setFontSize()}zoomOut(){this.formGroup.get("fontSize").setValue(Math.max(this.formGroup.get("fontSize").value-1,8)),this.setFontSize()}setFontSize(){document.documentElement.style.fontSize=`${this.formGroup.get("fontSize").value}px`}clearCache(){this.localStorageService.clearStorage(),alert("Cache cleared. Refresh page to see changes.")}initModals(){this.customPackEditorModal=new yc(this.customPackEditor.nativeElement),this.customPackEditor.nativeElement.addEventListener("hidden.bs.modal",e=>{})}openCustomPackEditor(){this.customPackEditorModal.show(),this.formGroup.get("playerPack").setValue(this.previousPackPlayer,{emitEvent:!1}),this.formGroup.get("opponentPack").setValue(this.previousPackOpponent,{emitEvent:!1})}drop(e,i){let s=e.previousIndex,r=e.currentIndex,o=this.opponent;"player"==i&&(s=4-s,r=4-r,o=this.player),k$(this.formGroup.get(`${i}Pets`).controls,s,r);for(let a of this.petSelectors.toArray())a.substitutePet()}resetPlayer(e){if(!confirm(`Are you sure you want to reset ${e}?`))return;let i=this.petSelectors.toArray().slice("player"==e?0:5,"player"==e?5:10);for(let s of i)s.removePet()}export(){this.localStorageService.setFormStorage(this.formGroup);let e=JSON.stringify(this.formGroup.value);navigator.clipboard.writeText(e).then(()=>{alert("Copied to clipboard")})}import(e){let i=!1,s=JSON.parse(e);try{this.loadCalculatorFromValue(s),this.initApp(),this.petSelectors.forEach(r=>{r.fixLoadEquipment()}),i=!0}catch(r){console.error(r)}return i}get filteredBattles(){return this.battles.filter(e=>{let i=this.formGroup.get("logFilter").value;return null==i||e.winner==i})}get winPercent(){return ak(this.playerWinner/this.simulationBattleAmt*100)}get drawPercent(){return ak(this.draw/this.simulationBattleAmt*100)}get losePercent(){return ak(this.opponentWinner/this.simulationBattleAmt*100)}get validCustomPacks(){let e=this.formGroup.get("customPacks"),i=[];for(let s of e.controls)s.valid&&i.push(s);return i}}return n.\u0275fac=function(e){return new(e||n)(V(sb),V(rb),V(Eh),V(ab),V(ob),V(uX),V(hX),V(FM))},n.\u0275cmp=Ln({type:n,selectors:[["app-root"]],viewQuery:function(e,i){if(1&e&&(Ey(ZX,5),Ey(J3,5)),2&e){let s;sc(s=rc())&&(i.customPackEditor=s.first),sc(s=rc())&&(i.petSelectors=s)}},decls:2,vars:2,consts:[[4,"ngIf"],["id","apiResponse"],[1,"container-fluid","app-wrapper","flex-col",3,"formGroup"],["container",""],[1,"row","mt-2"],[1,"col-12","header"],[1,"d-flex","align-items-end"],[3,"click"],["data-bs-toggle","modal","data-bs-target","#info",1,"btn-link","info-link"],[1,"me-3"],[1,"d-flex","flex-column","align-items-end"],["data-bs-toggle","modal","data-bs-target","#patchNotes",1,"btn-link"],[1,"row","battle-controller","border"],[1,"col-12","d-flex","justify-content-between","py-2"],[1,"d-flex","flex-wrap"],[1,"form-group","min-w-input","me-3"],["for","playerPack"],["id","playerPack","formControlName","playerPack",1,"form-control"],["value","Turtle"],["value","Puppy"],["value","Star"],["value","Golden"],["value","Unicorn"],["label","Custom Packs"],[3,"value",4,"ngFor","ngForOf"],["value","Add Custom Pack"],[1,"form-group","min-w-input","pe-3","border-end"],["id","opponentPack","formControlName","opponentPack",1,"form-control"],[1,"form-group","min-w-input","mx-3"],["id","playerToy","formControlName","playerToy",1,"form-control"],[3,"ngValue"],[3,"label",4,"ngFor","ngForOf"],[1,"form-group","me-3"],["for","playerToyLevel"],["id","playerToyLevel","formControlName","playerToyLevel",1,"form-control"],["id","opponentToy","formControlName","opponentToy",1,"form-control"],["for","opponentToyLevel"],["id","opponentToyLevel","formControlName","opponentToyLevel",1,"form-control"],[1,"form-group","pe-3","d-flex","align-items-end","border-end"],[1,"btn-link",3,"click"],[1,"flex-column"],["title","Opponent's pack pets are included in the pet pool.",1,"form-check","ms-3"],["type","checkbox","value","","id","angler","formControlName","angler",1,"form-check-input"],["for","angler",1,"form-check-label"],["title","All pets are included in the pet pool.",1,"form-check","ms-3"],["type","checkbox","value","","id","allPets","formControlName","allPets",1,"form-check-input"],["for","allPets",1,"form-check-label"],["title","Stork spawns with base stats.",1,"form-check","ms-3"],["type","checkbox","value","","id","oldStork","formControlName","oldStork",1,"form-check-input"],["for","oldStork",1,"form-check-label"],["title","Include Token Pets in pet pool.",1,"form-check","ms-3"],["type","checkbox","value","","id","oldStork","formControlName","tokenPets",1,"form-check-input"],["for","tokenPets",1,"form-check-label"],["title","Shuffle pets in front of Komodo if present.",1,"form-check","ms-3"],["type","checkbox","value","","id","komodoShuffle","formControlName","komodoShuffle",1,"form-check-input"],["for","komodoShuffle",1,"form-check-label"],["title","Include Mana.",1,"form-check","ms-3"],["type","checkbox","value","","id","mana","formControlName","mana",1,"form-check-input"],["for","mana",1,"form-check-label"],["title","Include Ailments for Equipment Options.",1,"form-check","ms-3"],["type","checkbox","value","","id","ailmentEquipment","formControlName","ailmentEquipment",1,"form-check-input"],["for","ailmentEquipment",1,"form-check-label"],[1,"flex-col","zoom-container"],["for","zoom"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"btn","btn-secondary",3,"click"],["class","row battle-controller border",4,"ngIf"],[1,"row","day-night-container"],[1,"col-12"],[1,"row","battle-row","pb-5","pt-3"],[1,"col-12","col-xl-6","px-4","mb-2","mb-xl-0"],[1,"d-flex","justify-content-between"],[1,"me-4"],[1,"btn","btn-secondary","mb-1",3,"click"],[1,"card","p-2","player-card"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"row","row-cols-1","row-cols-md-5",3,"cdkDropListDropped"],["class","col drag-container mb-2 mb-md-0","cdkDrag","",4,"ngFor","ngForOf"],[1,"col-12","col-xl-6","px-4"],[1,"card","p-2","player-card","ml-auto"],["class","col drag-container mb-2 mb-sm-0","cdkDrag","",4,"ngFor","ngForOf"],[1,"row","button-bar","pt-3","pb-1","border"],[1,"col-12","d-flex","justify-content-between"],[1,"btn","btn-primary","me-2","mb-2",3,"click"],["data-bs-toggle","modal","data-bs-target","#reportABug",1,"btn","btn-secondary","me-2","mb-2"],["data-bs-toggle","modal","data-bs-target","#export",1,"btn","btn-secondary","me-2","mb-2"],["data-bs-toggle","modal","data-bs-target","#import",1,"btn","btn-secondary","mb-2"],["class","row",4,"ngIf"],[1,"row","flex-1","bottom-container"],[1,"col-12","col-md-6","border","h-100","flex-col","pe-0"],[1,"row"],["for","logFilter",1,"form-label"],[1,"form-check","form-check-inline"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio1",1,"form-check-input",3,"value"],["for","inlineRadio1",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio2","value","player",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio3","value","opponent",1,"form-check-input"],["for","inlineRadio3",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio4","value","draw",1,"form-check-input"],["for","inlineRadio4",1,"form-check-label"],[1,"battle-container","flex-1","scroll"],[1,"table"],[1,"battle-no"],["class","table-battle-row",3,"click",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","border","h-100","flex-col"],[1,"row","log-container","flex-1","scroll"],["class","col-12",4,"ngFor","ngForOf"],["id","patchNotes","tabindex","-1","aria-labelledby","patchNotesLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","patchNotesLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["id","customPackEditor","tabindex","-1","aria-labelledby","customPackEditorLabel","aria-hidden","true",1,"modal","fade"],["customPackEditor",""],[1,"modal-dialog","modal-lg"],["id","customPackEditorLabel",1,"modal-title","fs-5"],[3,"formGroup"],["id","info","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5"],["id","import","tabindex","-1","aria-labelledby","importModalLabel","aria-hidden","true",1,"modal","fade"],["id","importModalLabel",1,"modal-title","fs-5"],[3,"importFunc"],["id","export","tabindex","-1","aria-labelledby","exportModalLabel","aria-hidden","true",1,"modal","fade"],["id","exportModalLabel",1,"modal-title","fs-5"],["id","reportABug","tabindex","-1","aria-labelledby","reportABug","aria-hidden","true",1,"modal","fade"],["id","reportABug",1,"modal-title","fs-5"],[3,"calcFormGroup"],[3,"value"],[3,"label"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"border-end","d-flex","flex-wrap","pe-3"],[1,"form-group","small-w-input","me-s-3"],["for","turn"],["id","turn","type","number","formControlName","turn","max","99",1,"form-control"],[1,"form-group","advanced-input","ms-3"],["for","playerGoldSpent","title","Player Gold Spent"],["id","turn","type","number","formControlName","playerGoldSpent","max","99",1,"form-control"],["for","opponentGoldSpent","title","Opponent Gold Spent"],["id","turn","type","number","formControlName","opponentGoldSpent","max","99",1,"form-control"],["for","playerRollAmount","title","Player Roll Amount"],["id","turn","type","number","formControlName","playerRollAmount","max","99",1,"form-control"],["for","opponentRollAmount","title","Opponent Roll Amount"],["id","turn","type","number","formControlName","opponentRollAmount","max","99",1,"form-control"],["for","playerLevel3Sold","title","Player Level 3 Sold"],["id","turn","type","number","formControlName","playerLevel3Sold","max","99",1,"form-control"],["for","opponentLevel3Sold","title","Opponent Level 3 Sold"],["id","turn","type","number","formControlName","opponentLevel3Sold","max","99",1,"form-control"],["for","playerSummonedAmount","title","Player Summoned Amount"],["id","turn","type","number","formControlName","playerSummonedAmount","max","99",1,"form-control"],["for","opponentSummonedAmount","title","Opponent Summoned Amount"],["id","turn","type","number","formControlName","opponentSummonedAmount","max","99",1,"form-control"],["cdkDrag","",1,"col","drag-container","mb-2","mb-md-0"],["cdkDragHandle","",1,"drag-handle"],["fill","currentColor","viewBox","0 0 24 24"],["d","M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"],["d","M0 0h24v24H0z","fill","none"],[3,"pet","player","opponent","index","formGroup","angler","ailments","allPets","mana","showTokenPets","customPacks"],["cdkDrag","",1,"col","drag-container","mb-2","mb-sm-0"],[1,"col-12","stats"],[1,"col-12","py-2"],[1,"results-bar"],[1,"draw-bar"],[1,"lose-bar"],[1,"table-battle-row",3,"click"],[1,"pre"],[3,"ngClass"]],template:function(e,i){1&e&&(Oe(0,XX,3,1,"ng-container",0),Oe(1,fee,275,27,"ng-container",0)),2&e&&(W("ngIf",i.api),F(1),W("ngIf",!i.api))},directives:[fh,hc,qo,Np,uc,Ha,nk,rk,Dp,t_,_Z,Ho,X0,dX,TX,xX,MX,IX,JX,h_,d_,EZ,bZ,J3,E0],pipes:[k0],styles:[".app-wrapper[_ngcontent-%COMP%]{height:100vh}.day-night-container[_ngcontent-%COMP%]{min-height:1em}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:end}.flex-col[_ngcontent-%COMP%]{display:flex;flex-direction:column}.player-card[_ngcontent-%COMP%]{background-color:#e9c137;display:grid;grid-auto-rows:minmax(min-content,max-content);grid-template-columns:auto 1fr auto}.back[_ngcontent-%COMP%], .front[_ngcontent-%COMP%]{transform:rotate(180deg);writing-mode:vertical-lr;text-align:center}.battle-row[_ngcontent-%COMP%]{background-color:#5ebe09}.button-bar[_ngcontent-%COMP%], .battle-controller[_ngcontent-%COMP%]{background-color:#f5f5f5}.battle-controller[_ngcontent-%COMP%]   .min-w-input[_ngcontent-%COMP%]{min-width:100px}.small-w-input[_ngcontent-%COMP%]{width:60px}.stats[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:.25em}.stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:1em}.battle-no[_ngcontent-%COMP%]{width:1%;white-space:nowrap}.table-battle-row[_ngcontent-%COMP%]{cursor:pointer}.results-bar[_ngcontent-%COMP%], .draw-bar[_ngcontent-%COMP%], .lose-bar[_ngcontent-%COMP%]{display:inline-block}.draw-bar[_ngcontent-%COMP%], .lose-bar[_ngcontent-%COMP%]{height:100%;position:absolute;right:0}.results-bar[_ngcontent-%COMP%]{max-width:100%;border:.2em solid black;height:2em;width:30em;background-color:#0f0;position:relative}.draw-bar[_ngcontent-%COMP%]{background-color:#d3d3d3}.lose-bar[_ngcontent-%COMP%]{background-color:red}.log-player[_ngcontent-%COMP%]{background-color:#e4ffe0}.log-opponent[_ngcontent-%COMP%]{background-color:#ffe0e0}.log-container[_ngcontent-%COMP%]{display:flex;align-content:flex-start}.random-event[_ngcontent-%COMP%]{color:purple;font-weight:bold}.flex-1[_ngcontent-%COMP%]{flex:1}.bottom-container[_ngcontent-%COMP%]{min-height:30em}.bottom-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{min-height:15em}.scroll[_ngcontent-%COMP%]{overflow:scroll}.h-100[_ngcontent-%COMP%]{height:100%}.pre[_ngcontent-%COMP%]{white-space:pre}.btn-link[_ngcontent-%COMP%]{color:#0d6efd;cursor:pointer}.zoom-container[_ngcontent-%COMP%]{min-width:max-content}.zoom-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:2.5em}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.drag-container[_ngcontent-%COMP%]{position:relative}.drag-handle[_ngcontent-%COMP%]{width:1.25em;position:absolute;right:1em;z-index:1;opacity:.5;cursor:pointer}.info-link[_ngcontent-%COMP%]{margin-left:1em;margin-bottom:.5em}@media (max-width: 767.98px){.card[_ngcontent-%COMP%]{max-width:18em}.back[_ngcontent-%COMP%], .front[_ngcontent-%COMP%]{transform:initial;writing-mode:initial}.player-card[_ngcontent-%COMP%]{grid-template-columns:none}}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.bug-button[_ngcontent-%COMP%]{margin-right:.5em;margin-bottom:.25em}.advanced-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:60px}"],data:{animation:[kZ("dayNight",[F$("day",$b({backgroundColor:"#85ddf2"})),F$("night",$b({backgroundColor:"#33377a"})),PZ("day <=> night",[DZ("0.5s")])])]}}),n})();function iF(){return"undefined"!=typeof window&&void 0!==window.document}function zM(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Xa(n){switch(n.length){case 0:return new qh;case 1:return n[0];default:return new q$(n)}}function nF(n,t,e,i,s={},r={}){const o=[],a=[];let l=-1,h=null;if(i.forEach(f=>{const m=f.offset,y=m==l,b=y&&h||{};Object.keys(f).forEach(C=>{let T=C,P=f[C];if("offset"!==C)switch(T=t.normalizePropertyName(T,o),P){case"!":P=s[C];break;case Yo:P=r[C];break;default:P=t.normalizeStyleValue(C,T,P,o)}b[T]=P}),y||a.push(b),h=b,l=m}),o.length){const f="\n - ";throw new Error(`Unable to animate due to the following errors:${f}${o.join(f)}`)}return a}function KM(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&YM(e,"start",n)));break;case"done":n.onDone(()=>i(e&&YM(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&YM(e,"destroy",n)))}}function YM(n,t,e){const i=e.totalTime,r=QM(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),o=n._data;return null!=o&&(r._data=o),r}function QM(n,t,e,i,s="",r=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:s,totalTime:r,disabled:!!o}}function fs(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function sF(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let JM=(n,t)=>!1,ZM=(n,t)=>!1,rF=(n,t,e)=>[];const oF=zM();(oF||"undefined"!=typeof Element)&&(JM=iF()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),ZM=(()=>{if(oF||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):ZM}})(),rF=(n,t,e)=>{let i=[];if(e){const s=n.querySelectorAll(t);for(let r=0;r<s.length;r++)i.push(s[r])}else{const s=n.querySelector(t);s&&i.push(s)}return i});let Cc=null,aF=!1;function XM(n){Cc||(Cc=("undefined"!=typeof document?document.body:null)||{},aF=!!Cc.style&&"WebkitAppearance"in Cc.style);let t=!0;return Cc.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Cc.style,!t&&aF&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Cc.style)),t}const eI=ZM,tI=JM,iI=rF;function lF(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let cF=(()=>{class n{validateStyleProperty(e){return XM(e)}matchesElement(e,i){return eI(e,i)}containsElement(e,i){return tI(e,i)}query(e,i,s){return iI(e,i,s)}computeStyle(e,i,s){return s||""}animate(e,i,s,r,o,a=[],l){return new qh(s,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})(),nI=(()=>{class n{}return n.NOOP=new cF,n})();const sI="ng-enter",Hb="ng-leave",qb="ng-trigger",Gb=".ng-trigger",hF="ng-animating",rI=".ng-animating";function kc(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:oI(parseFloat(t[1]),t[2])}function oI(n,t){return"s"===t?1e3*n:n}function Ub(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let s,r=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};s=oI(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(r=oI(parseFloat(l),a[4]));const h=a[5];h&&(o=h)}else s=n;if(!e){let a=!1,l=t.length;s<0&&(t.push("Duration values below 0 are not allowed for this animation step."),a=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&t.splice(l,0,`The provided timing value "${n}" is invalid.`)}return{duration:s,delay:r,easing:o}}(n,t,e)}function Gh(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function el(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Gh(n,e);return e}function fF(n,t,e){return e?t+":"+e+";":""}function pF(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=fF(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=fF(0,Cee(e),n.style[e]));n.setAttribute("style",t)}function Zr(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const s=lI(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[s]),n.style[s]=t[i]}),zM()&&pF(n))}function Dc(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=lI(e);n.style[i]=""}),zM()&&pF(n))}function vg(n){return Array.isArray(n)?1==n.length?n[0]:$$(n):n}const aI=new RegExp("{{\\s*(.+?)\\s*}}","g");function gF(n){let t=[];if("string"==typeof n){let e;for(;e=aI.exec(n);)t.push(e[1]);aI.lastIndex=0}return t}function jb(n,t,e){const i=n.toString(),s=i.replace(aI,(r,o)=>{let a=t[o];return t.hasOwnProperty(o)||(e.push(`Please provide a value for the animation param ${o}`),a=""),a.toString()});return s==i?n:s}function Wb(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const wee=/-+([a-z0-9])/g;function lI(n){return n.replace(wee,(...t)=>t[1].toUpperCase())}function Cee(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function mF(n,t){return 0===n||0===t}function vF(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let r=t[0],o=[];if(i.forEach(a=>{r.hasOwnProperty(a)||o.push(a),r[a]=e[a]}),o.length)for(var s=1;s<t.length;s++){let a=t[s];o.forEach(function(l){a[l]=cI(n,l)})}}return t}function ps(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function cI(n,t){return window.getComputedStyle(n)[t]}function kee(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,t,e){if(":"==n[0]){const l=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const s=i[1],r=i[2],o=i[3];t.push(yF(s,o));"<"==r[0]&&!("*"==s&&"*"==o)&&t.push(yF(o,s))}(i,e,t)):e.push(n),e}const Kb=new Set(["true","1"]),Yb=new Set(["false","0"]);function yF(n,t){const e=Kb.has(n)||Yb.has(n),i=Kb.has(t)||Yb.has(t);return(s,r)=>{let o="*"==n||n==s,a="*"==t||t==r;return!o&&e&&"boolean"==typeof s&&(o=s?Kb.has(n):Yb.has(n)),!a&&i&&"boolean"==typeof r&&(a=r?Kb.has(t):Yb.has(t)),o&&a}}const Aee=new RegExp("s*:selfs*,?","g");function uI(n,t,e){return new Tee(n).build(t,e)}class Tee{constructor(t){this._driver=t}build(t,e){const i=new Iee(e);return this._resetContextStyleTimingState(i),ps(this,vg(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,s=e.depCount=0;const r=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,h=l.name;h.toString().split(/\s*,\s*/).forEach(f=>{l.name=f,r.push(this.visitState(l,e))}),l.name=h}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,s+=l.depCount,o.push(l)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:o,queryCount:i,depCount:s,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(i.containsDynamicStyles){const r=new Set,o=s||{};if(i.styles.forEach(a=>{if(Qb(a)){const l=a;Object.keys(l).forEach(h=>{gF(l[h]).forEach(f=>{o.hasOwnProperty(f)||r.add(f)})})}}),r.size){const a=Wb(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:t.name,style:i,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ps(this,vg(t.animation),e);return{type:1,matchers:kee(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Pc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ps(this,i,e)),options:Pc(t.options)}}visitGroup(t,e){const i=e.currentTime;let s=0;const r=t.steps.map(o=>{e.currentTime=i;const a=ps(this,o,e);return s=Math.max(s,e.currentTime),a});return e.currentTime=s,{type:3,steps:r,options:Pc(t.options)}}visitAnimate(t,e){const i=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return hI(Ub(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(r=>"{"==r.charAt(0)&&"{"==r.charAt(1))){const r=hI(0,0,"");return r.dynamic=!0,r.strValue=i,r}return e=e||Ub(i,t),hI(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let s,r=t.styles?t.styles:$b({});if(5==r.type)s=this.visitKeyframes(r,e);else{let o=t.styles,a=!1;if(!o){a=!0;const h={};i.easing&&(h.easing=i.easing),o=$b(h)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,e);l.isEmptyStep=a,s=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(o=>{"string"==typeof o?o==Yo?i.push(o):e.errors.push(`The provided style string value ${o} is not allowed.`):i.push(o)}):i.push(t.styles);let s=!1,r=null;return i.forEach(o=>{if(Qb(o)){const a=o,l=a.easing;if(l&&(r=l,delete a.easing),!s)for(let h in a)if(a[h].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:i,easing:r,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let s=e.currentTime,r=e.currentTime;i&&r>0&&(r-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void e.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const l=e.collectedStyles[e.currentQuerySelector],h=l[a];let f=!0;h&&(r!=s&&r>=h.startTime&&s<=h.endTime&&(e.errors.push(`The CSS property "${a}" that exists between the times of "${h.startTime}ms" and "${h.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${s}ms"`),f=!1),r=h.startTime),f&&(l[a]={startTime:r,endTime:s}),e.options&&function(n,t,e){const i=t.params||{},s=gF(n);s.length&&s.forEach(r=>{i.hasOwnProperty(r)||e.push(`Unable to resolve the local animation param ${r} in the given list of values`)})}(o[a],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let r=0;const o=[];let a=!1,l=!1,h=0;const f=t.steps.map(O=>{const I=this._makeStyleAst(O,e);let B=null!=I.offset?I.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Qb(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(Qb(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(I.styles),G=0;return null!=B&&(r++,G=I.offset=B),l=l||G<0||G>1,a=a||G<h,h=G,o.push(G),I});l&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");const m=t.steps.length;let y=0;r>0&&r<m?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(y=1/(m-1));const b=m-1,C=e.currentTime,T=e.currentAnimateTimings,P=T.duration;return f.forEach((O,I)=>{const B=y>0?I==b?1:y*I:o[I],G=B*P;e.currentTime=C+T.delay+G,T.duration=G,this._validateStyleAst(O,e),O.offset=B,i.styles.push(O)}),i}visitReference(t,e){return{type:8,animation:ps(this,vg(t.animation),e),options:Pc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Pc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Pc(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[r,o]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Aee,"")),n=n.replace(/@\*/g,Gb).replace(/@\w+/g,e=>Gb+"-"+e.substr(1)).replace(/:animating/g,rI),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+r:r,fs(e.collectedStyles,e.currentQuerySelector,{});const a=ps(this,vg(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:r,limit:s.limit||0,optional:!!s.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:Pc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Ub(t.timings,e.errors,!0);return{type:12,animation:ps(this,vg(t.animation),e),timings:i,options:null}}}class Iee{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Qb(n){return!Array.isArray(n)&&"object"==typeof n}function Pc(n){return n?(n=Gh(n)).params&&(n.params=function(n){return n?Gh(n):null}(n.params)):n={},n}function hI(n,t,e){return{duration:n,delay:t,easing:e}}function dI(n,t,e,i,s,r,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:s,delay:r,totalTime:s+r,easing:o,subTimeline:a}}class Jb{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Bee=new RegExp(":enter","g"),$ee=new RegExp(":leave","g");function fI(n,t,e,i,s,r={},o={},a,l,h=[]){return(new Fee).buildKeyframes(n,t,e,i,s,r,o,a,l,h)}class Fee{buildKeyframes(t,e,i,s,r,o,a,l,h,f=[]){h=h||new Jb;const m=new pI(t,e,h,s,r,f,[]);m.options=l,m.currentTimeline.setStyles([o],null,m.errors,l),ps(this,i,m);const y=m.timelines.filter(b=>b.containsAnimation());if(y.length&&Object.keys(a).length){const b=y[y.length-1];b.allowOnlyTimelineStyles()||b.setStyles([a],null,m.errors,l)}return y.length?y.map(b=>b.buildKeyframes()):[dI(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.consume(e.element);if(i){const s=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,s,s.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let r=e.currentTimeline.currentTime;const o=null!=i.duration?kc(i.duration):null,a=null!=i.delay?kc(i.delay):null;return 0!==o&&t.forEach(l=>{const h=e.appendInstructionToTimeline(l,o,a);r=Math.max(r,h.duration+h.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),ps(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let s=e;const r=t.options;if(r&&(r.params||r.delay)&&(s=e.createSubContext(r),s.transformIntoNewTimeline(),null!=r.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=Zb);const o=kc(r.delay);s.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>ps(this,o,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let s=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?kc(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);r&&a.delayNextStep(r),ps(this,o,a),s=Math.max(s,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Ub(e.params?jb(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),s.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(i.duration),this.visitStyle(r,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,s=e.currentAnimateTimings;!s&&i.getCurrentStyleProperties().length&&i.forwardFrame();const r=s&&s.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(r):i.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,s=e.currentTimeline.duration,r=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*r),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(s+r),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,s=t.options||{},r=s.delay?kc(s.delay):0;r&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Zb);let o=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((h,f)=>{e.currentQueryIndex=f;const m=e.createSubContext(t.options,h);r&&m.delayNextStep(r),h===e.element&&(l=m.currentTimeline),ps(this,t.animation,m),m.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,m.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,s=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),a=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const f=e.currentTimeline;l&&f.delayNextStep(l);const m=f.currentTime;ps(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=s.currentTime-m+(s.startTime-i.currentTimeline.startTime)}}const Zb={};class pI{constructor(t,e,i,s,r,o,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=r,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Zb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Xb(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let s=this.options;null!=i.duration&&(s.duration=kc(i.duration)),null!=i.delay&&(s.delay=kc(i.delay));const r=i.params;if(r){let o=s.params;o||(o=this.options.params={}),Object.keys(r).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=jb(r[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(s=>{i[s]=e[s]})}}return t}createSubContext(t=null,e,i){const s=e||this.element,r=new pI(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=Zb,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const s={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},r=new Hee(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(r),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,s,r,o){let a=[];if(s&&a.push(this.element),t.length>0){t=(t=t.replace(Bee,"."+this._enterClassName)).replace($ee,"."+this._leaveClassName);let h=this._driver.query(this.element,t,1!=i);0!==i&&(h=i<0?h.slice(h.length+i,h.length):h.slice(0,i)),a.push(...h)}return!r&&0==a.length&&o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),a}}class Xb{constructor(t,e,i,s){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Xb(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Yo,this._currentKeyframe[e]=Yo}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,s){e&&(this._previousKeyframe.easing=e);const r=s&&s.params||{},o=function(n,t){const e={};let i;return n.forEach(s=>{"*"===s?(i=i||Object.keys(t),i.forEach(r=>{e[r]=Yo})):el(s,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=jb(o[a],r,i);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Yo),this._updateStyle(a,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],s=t._styleSummary[e];(!i||s.time>i.time)&&this._updateStyle(e,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((a,l)=>{const h=el(a,!0);Object.keys(h).forEach(f=>{const m=h[f];"!"==m?t.add(f):m==Yo&&e.add(f)}),i||(h.offset=l/this.duration),s.push(h)});const r=t.size?Wb(t.values()):[],o=e.size?Wb(e.values()):[];if(i){const a=s[0],l=Gh(a);a.offset=0,l.offset=1,s=[a,l]}return dI(this.element,s,r,o,this.duration,this.startTime,this.easing,!1)}}class Hee extends Xb{constructor(t,e,i,s,r,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=r,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],o=i+e,a=e/o,l=el(t[0],!1);l.offset=0,r.push(l);const h=el(t[0],!1);h.offset=SF(a),r.push(h);const f=t.length-1;for(let m=1;m<=f;m++){let y=el(t[m],!1);y.offset=SF((e+y.offset*i)/o),r.push(y)}i=o,e=0,s="",t=r}return dI(this.element,t,this.preStyleProps,this.postStyleProps,i,e,s,!0)}}function SF(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class gI{}class Gee extends gI{normalizePropertyName(t,e){return lI(t)}normalizeStyleValue(t,e,i,s){let r="";const o=i.toString().trim();if(Uee[e]&&0!==i&&"0"!==i)if("number"==typeof i)r="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&s.push(`Please provide a CSS unit value for ${t}:${i}`)}return o+r}}const Uee=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function EF(n,t,e,i,s,r,o,a,l,h,f,m,y){return{type:0,element:n,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:r,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:h,postStyleProps:f,totalTime:m,errors:y}}const mI={};class wF{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,s){return function(n,t,e,i,s){return n.some(r=>r(t,e,i,s))}(this.ast.matchers,t,e,i,s)}buildStyles(t,e,i){const s=this._stateStyles["*"],r=this._stateStyles[t],o=s?s.buildStyles(e,i):{};return r?r.buildStyles(e,i):o}build(t,e,i,s,r,o,a,l,h,f){const m=[],y=this.ast.options&&this.ast.options.params||mI,C=this.buildStyles(i,a&&a.params||mI,m),T=l&&l.params||mI,P=this.buildStyles(s,T,m),O=new Set,I=new Map,B=new Map,G="void"===s,Q={params:Object.assign(Object.assign({},y),T)},X=f?[]:fI(t,e,this.ast.animation,r,o,C,P,Q,h,m);let ne=0;if(X.forEach(Ae=>{ne=Math.max(Ae.duration+Ae.delay,ne)}),m.length)return EF(e,this._triggerName,i,s,G,C,P,[],[],I,B,ne,m);X.forEach(Ae=>{const te=Ae.element,ft=fs(I,te,{});Ae.preStyleProps.forEach(mt=>ft[mt]=!0);const Gt=fs(B,te,{});Ae.postStyleProps.forEach(mt=>Gt[mt]=!0),te!==e&&O.add(te)});const Pe=Wb(O.values());return EF(e,this._triggerName,i,s,G,C,P,X,Pe,I,B,ne)}}class zee{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},s=Gh(this.defaultParams);return Object.keys(t).forEach(r=>{const o=t[r];null!=o&&(s[r]=o)}),this.styles.styles.forEach(r=>{if("string"!=typeof r){const o=r;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=jb(l,s,e));const h=this.normalizer.normalizePropertyName(a,e);l=this.normalizer.normalizeStyleValue(a,h,l,e),i[h]=l})}}),i}}class Yee{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(s=>{this.states[s.name]=new zee(s.style,s.options&&s.options.params||{},i)}),CF(this.states,"true","1"),CF(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new wF(t,s,this.states))}),this.fallbackTransition=function(n,t,e){return new wF(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,s){return this.transitionFactories.find(o=>o.match(t,e,i,s))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function CF(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const Jee=new Jb;class Zee{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=uI(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=s}_buildPlayer(t,e,i){const s=t.element,r=nF(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(s,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const s=[],r=this._animations[t];let o;const a=new Map;if(r?(o=fI(this._driver,e,r,sI,Hb,{},{},i,Jee,s),o.forEach(f=>{const m=fs(a,f.element,{});f.postStyleProps.forEach(y=>m[y]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),o=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);a.forEach((f,m)=>{Object.keys(f).forEach(y=>{f[y]=this._driver.computeStyle(m,y,Yo)})});const h=Xa(o.map(f=>{const m=a.get(f.element);return this._buildPlayer(f,{},m)}));return this._playersById[t]=h,h.onDestroy(()=>this.destroy(t)),this.players.push(h),h}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,s){const r=QM(e,"","","");return KM(this._getPlayer(t),i,r,s),()=>{}}command(t,e,i,s){if("register"==i)return void this.register(t,s[0]);if("create"==i)return void this.create(t,e,s[0]||{});const r=this._getPlayer(t);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const kF="ng-animate-queued",DF="ng-animate-disabled",PF=".ng-animate-disabled",ite=[],AF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nte={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},zs="__ng_removed";class vI{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(i?t.value:t),i){const r=Gh(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(s=>{null==i[s]&&(i[s]=e[s])})}}}const yg="void",yI=new vI(yg);class ste{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ks(e,this._hostClassName)}listen(t,e,i,s){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const r=fs(this._elementListeners,t,[]),o={name:e,phase:i,callback:s};r.push(o);const a=fs(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Ks(t,qb),Ks(t,qb+"-"+e),a[e]=yI),()=>{this._engine.afterFlush(()=>{const l=r.indexOf(o);l>=0&&r.splice(l,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,s=!0){const r=this._getTrigger(e),o=new _I(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Ks(t,qb),Ks(t,qb+"-"+e),this._engine.statesByElement.set(t,a={}));let l=a[e];const h=new vI(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&h.absorbOptions(l.options),a[e]=h,l||(l=yI),h.value!==yg&&l.value===h.value){if(!function(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let s=0;s<e.length;s++){const r=e[s];if(!t.hasOwnProperty(r)||n[r]!==t[r])return!1}return!0}(l.params,h.params)){const T=[],P=r.matchStyles(l.value,l.params,T),O=r.matchStyles(h.value,h.params,T);T.length?this._engine.reportError(T):this._engine.afterFlush(()=>{Dc(t,P),Zr(t,O)})}return}const y=fs(this._engine.playersByElement,t,[]);y.forEach(T=>{T.namespaceId==this.id&&T.triggerName==e&&T.queued&&T.destroy()});let b=r.matchTransition(l.value,h.value,t,h.params),C=!1;if(!b){if(!s)return;b=r.fallbackTransition,C=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:b,fromState:l,toState:h,player:o,isFallbackTransition:C}),C||(Ks(t,kF),o.onStart(()=>{Uh(t,kF)})),o.onDone(()=>{let T=this.players.indexOf(o);T>=0&&this.players.splice(T,1);const P=this._engine.playersByElement.get(t);if(P){let O=P.indexOf(o);O>=0&&P.splice(O,1)}}),this.players.push(o),y.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Gb,!0);i.forEach(s=>{if(s[zs])return;const r=this._engine.fetchNamespacesByElement(s);r.size?r.forEach(o=>o.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,i,s){const r=this._engine.statesByElement.get(t);if(r){const o=[];if(Object.keys(r).forEach(a=>{if(this._triggers[a]){const l=this.trigger(t,a,yg,s);l&&o.push(l)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&Xa(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const s=new Set;e.forEach(r=>{const o=r.name;if(s.has(o))return;s.add(o);const l=this._triggers[o].fallbackTransition,h=i[o]||yI,f=new vI(yg),m=new _I(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:h,toState:f,player:m,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(i.totalAnimations){const r=i.players.length?i.playersByQueriedElement.get(t):[];if(r&&r.length)s=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)i.markElementAsRemoved(this.id,t,!1,e);else{const r=t[zs];(!r||r===AF)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ks(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const r=i.element,o=this._elementListeners.get(r);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=QM(r,i.triggerName,i.fromState.value,i.toState.value);l._data=t,KM(i.player,a.phase,l,a.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(i)}),this._queue=[],e.sort((i,s)=>{const r=i.transition.ast.depCount,o=s.transition.ast.depCount;return 0==r||0==o?r-o:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class rte{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,r)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new ste(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let s=!1;for(let r=i;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),s=!0;break}s||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let s=this._namespaceLookup[t];s&&s.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const s=Object.keys(i);for(let r=0;r<s.length;r++){const o=i[s[r]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&e.add(a)}}}return e}trigger(t,e,i,s){if(eS(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,i,s),!0}return!1}insertNode(t,e,i,s){if(!eS(e))return;const r=e[zs];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ks(t,DF)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Uh(t,DF))}removeNode(t,e,i,s){if(eS(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),i){const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,i,s){this.collectedLeaveElements.push(e),e[zs]={namespaceId:t,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,s,r){return eS(e)?this._fetchNamespace(t).listen(e,i,s,r):()=>{}}_buildInstruction(t,e,i,s,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,s,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,Gb,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,rI,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Xa(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[zs];if(e&&e.setForRemoval){if(t[zs]=AF,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,PF)&&this.markElementAsDisabled(t,!1),this.driver.query(t,PF,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ks(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Xa(e).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new Jb,s=[],r=new Map,o=[],a=new Map,l=new Map,h=new Map,f=new Set;this.disabledNodes.forEach(J=>{f.add(J);const le=this.driver.query(J,".ng-animate-queued",!0);for(let Se=0;Se<le.length;Se++)f.add(le[Se])});const m=this.bodyNode,y=Array.from(this.statesByElement.keys()),b=MF(y,this.collectedEnterElements),C=new Map;let T=0;b.forEach((J,le)=>{const Se=sI+T++;C.set(le,Se),J.forEach($e=>Ks($e,Se))});const P=[],O=new Set,I=new Set;for(let J=0;J<this.collectedLeaveElements.length;J++){const le=this.collectedLeaveElements[J],Se=le[zs];Se&&Se.setForRemoval&&(P.push(le),O.add(le),Se.hasAnimation?this.driver.query(le,".ng-star-inserted",!0).forEach($e=>O.add($e)):I.add(le))}const B=new Map,G=MF(y,Array.from(O));G.forEach((J,le)=>{const Se=Hb+T++;B.set(le,Se),J.forEach($e=>Ks($e,Se))}),t.push(()=>{b.forEach((J,le)=>{const Se=C.get(le);J.forEach($e=>Uh($e,Se))}),G.forEach((J,le)=>{const Se=B.get(le);J.forEach($e=>Uh($e,Se))}),P.forEach(J=>{this.processLeaveNode(J)})});const Q=[],X=[];for(let J=this._namespaceList.length-1;J>=0;J--)this._namespaceList[J].drainQueuedTransitions(e).forEach(Se=>{const $e=Se.player,Lt=Se.element;if(Q.push($e),this.collectedEnterElements.length){const Ci=Lt[zs];if(Ci&&Ci.setForMove)return void $e.destroy()}const Ki=!m||!this.driver.containsElement(m,Lt),ri=B.get(Lt),hn=C.get(Lt),pt=this._buildInstruction(Se,i,hn,ri,Ki);if(pt.errors&&pt.errors.length)X.push(pt);else{if(Ki)return $e.onStart(()=>Dc(Lt,pt.fromStyles)),$e.onDestroy(()=>Zr(Lt,pt.toStyles)),void s.push($e);if(Se.isFallbackTransition)return $e.onStart(()=>Dc(Lt,pt.fromStyles)),$e.onDestroy(()=>Zr(Lt,pt.toStyles)),void s.push($e);pt.timelines.forEach(Ci=>Ci.stretchStartingKeyframe=!0),i.append(Lt,pt.timelines),o.push({instruction:pt,player:$e,element:Lt}),pt.queriedElements.forEach(Ci=>fs(a,Ci,[]).push($e)),pt.preStyleProps.forEach((Ci,ms)=>{const Nn=Object.keys(Ci);if(Nn.length){let Qn=l.get(ms);Qn||l.set(ms,Qn=new Set),Nn.forEach(tl=>Qn.add(tl))}}),pt.postStyleProps.forEach((Ci,ms)=>{const Nn=Object.keys(Ci);let Qn=h.get(ms);Qn||h.set(ms,Qn=new Set),Nn.forEach(tl=>Qn.add(tl))})}});if(X.length){const J=[];X.forEach(le=>{J.push(`@${le.triggerName} has failed due to:\n`),le.errors.forEach(Se=>J.push(`- ${Se}\n`))}),Q.forEach(le=>le.destroy()),this.reportError(J)}const ne=new Map,Pe=new Map;o.forEach(J=>{const le=J.element;i.has(le)&&(Pe.set(le,le),this._beforeAnimationBuild(J.player.namespaceId,J.instruction,ne))}),s.forEach(J=>{const le=J.element;this._getPreviousPlayers(le,!1,J.namespaceId,J.triggerName,null).forEach($e=>{fs(ne,le,[]).push($e),$e.destroy()})});const Ae=P.filter(J=>OF(J,l,h)),te=new Map;xF(te,this.driver,I,h,Yo).forEach(J=>{OF(J,l,h)&&Ae.push(J)});const Gt=new Map;b.forEach((J,le)=>{xF(Gt,this.driver,new Set(J),l,"!")}),Ae.forEach(J=>{const le=te.get(J),Se=Gt.get(J);te.set(J,Object.assign(Object.assign({},le),Se))});const mt=[],Li=[],zi={};o.forEach(J=>{const{element:le,player:Se,instruction:$e}=J;if(i.has(le)){if(f.has(le))return Se.onDestroy(()=>Zr(le,$e.toStyles)),Se.disabled=!0,Se.overrideTotalTime($e.totalTime),void s.push(Se);let Lt=zi;if(Pe.size>1){let ri=le;const hn=[];for(;ri=ri.parentNode;){const pt=Pe.get(ri);if(pt){Lt=pt;break}hn.push(ri)}hn.forEach(pt=>Pe.set(pt,Lt))}const Ki=this._buildAnimation(Se.namespaceId,$e,ne,r,Gt,te);if(Se.setRealPlayer(Ki),Lt===zi)mt.push(Se);else{const ri=this.playersByElement.get(Lt);ri&&ri.length&&(Se.parentPlayer=Xa(ri)),s.push(Se)}}else Dc(le,$e.fromStyles),Se.onDestroy(()=>Zr(le,$e.toStyles)),Li.push(Se),f.has(le)&&s.push(Se)}),Li.forEach(J=>{const le=r.get(J.element);if(le&&le.length){const Se=Xa(le);J.setRealPlayer(Se)}}),s.forEach(J=>{J.parentPlayer?J.syncPlayerEvents(J.parentPlayer):J.destroy()});for(let J=0;J<P.length;J++){const le=P[J],Se=le[zs];if(Uh(le,Hb),Se&&Se.hasAnimation)continue;let $e=[];if(a.size){let Ki=a.get(le);Ki&&Ki.length&&$e.push(...Ki);let ri=this.driver.query(le,rI,!0);for(let hn=0;hn<ri.length;hn++){let pt=a.get(ri[hn]);pt&&pt.length&&$e.push(...pt)}}const Lt=$e.filter(Ki=>!Ki.destroyed);Lt.length?cte(this,le,Lt):this.processLeaveNode(le)}return P.length=0,mt.forEach(J=>{this.players.push(J),J.onDone(()=>{J.destroy();const le=this.players.indexOf(J);this.players.splice(le,1)}),J.play()}),mt}elementContainsData(t,e){let i=!1;const s=e[zs];return s&&s.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,s,r){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!r||r==yg;a.forEach(h=>{h.queued||!l&&h.triggerName!=s||o.push(h)})}}return(i||s)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||s&&s!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){const r=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const h=l.element,f=h!==r,m=fs(i,h,[]);this._getPreviousPlayers(h,f,o,a,e.toState).forEach(b=>{const C=b.getRealPlayer();C.beforeDestroy&&C.beforeDestroy(),b.destroy(),m.push(b)})}Dc(r,e.fromStyles)}_buildAnimation(t,e,i,s,r,o){const a=e.triggerName,l=e.element,h=[],f=new Set,m=new Set,y=e.timelines.map(C=>{const T=C.element;f.add(T);const P=T[zs];if(P&&P.removedBeforeQueried)return new qh(C.duration,C.delay);const O=T!==l,I=function(n){const t=[];return IF(n,t),t}((i.get(T)||ite).map(ne=>ne.getRealPlayer())).filter(ne=>!!ne.element&&ne.element===T),B=r.get(T),G=o.get(T),Q=nF(0,this._normalizer,0,C.keyframes,B,G),X=this._buildPlayer(C,Q,I);if(C.subTimeline&&s&&m.add(T),O){const ne=new _I(t,a,T);ne.setRealPlayer(X),h.push(ne)}return X});h.forEach(C=>{fs(this.playersByQueriedElement,C.element,[]).push(C),C.onDone(()=>function(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,C.element,C))}),f.forEach(C=>Ks(C,hF));const b=Xa(y);return b.onDestroy(()=>{f.forEach(C=>Uh(C,hF)),Zr(l,e.toStyles)}),m.forEach(C=>{fs(s,C,[]).push(b)}),b}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new qh(t.duration,t.delay)}}class _I{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new qh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>KM(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){fs(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function eS(n){return n&&1===n.nodeType}function TF(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function xF(n,t,e,i,s){const r=[];e.forEach(l=>r.push(TF(l)));const o=[];i.forEach((l,h)=>{const f={};l.forEach(m=>{const y=f[m]=t.computeStyle(h,m,s);(!y||0==y.length)&&(h[zs]=nte,o.push(h))}),n.set(h,f)});let a=0;return e.forEach(l=>TF(l,r[a++])),o}function MF(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const s=new Set(t),r=new Map;function o(a){if(!a)return 1;let l=r.get(a);if(l)return l;const h=a.parentNode;return l=e.has(h)?h:s.has(h)?1:o(h),r.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&e.get(l).push(a)}),e}const tS="$$classes";function Ks(n,t){if(n.classList)n.classList.add(t);else{let e=n[tS];e||(e=n[tS]={}),e[t]=!0}}function Uh(n,t){if(n.classList)n.classList.remove(t);else{let e=n[tS];e&&delete e[t]}}function cte(n,t,e){Xa(e).onDone(()=>n.processLeaveNode(t))}function IF(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof q$?IF(i.players,t):t.push(i)}}function OF(n,t,e){const i=e.get(n);if(!i)return!1;let s=t.get(n);return s?i.forEach(r=>s.add(r)):t.set(n,i),e.delete(n),!0}class iS{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,r)=>{},this._transitionEngine=new rte(t,e,i),this._timelineEngine=new Zee(t,e,i),this._transitionEngine.onRemovalComplete=(s,r)=>this.onRemovalComplete(s,r)}registerTrigger(t,e,i,s,r){const o=t+"-"+s;let a=this._triggerCache[o];if(!a){const l=[],h=uI(this._driver,r,l);if(l.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);a=function(n,t,e){return new Yee(n,t,e)}(s,h,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,s,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,s){this._transitionEngine.insertNode(t,e,i,s)}onRemove(t,e,i,s){this._transitionEngine.removeNode(t,e,s||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,s){if("@"==i.charAt(0)){const[r,o]=sF(i);this._timelineEngine.command(r,e,o,s)}else this._transitionEngine.trigger(t,e,i,s)}listen(t,e,i,s,r){if("@"==i.charAt(0)){const[o,a]=sF(i);return this._timelineEngine.listen(o,e,a,r)}return this._transitionEngine.listen(t,e,i,s,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function NF(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=bI(t[0]),t.length>1&&(i=bI(t[t.length-1]))):t&&(e=bI(t)),e||i?new dte(n,e,i):null}let dte=(()=>{class n{constructor(e,i,s){this._element=e,this._startStyles=i,this._endStyles=s,this._state=0;let r=n.initialStylesByElement.get(e);r||n.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Zr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zr(this._element,this._initialStyles),this._endStyles&&(Zr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Dc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Dc(this._element,this._endStyles),this._endStyles=null),Zr(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function bI(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const s=e[i];fte(s)&&(t=t||{},t[s]=n[s])}return t}function fte(n){return"display"===n||"position"===n}const RF="animation",LF="animationend";class mte{constructor(t,e,i,s,r,o,a){this._element=t,this._name=e,this._duration=i,this._delay=s,this._easing=r,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function(n,t){const e=EI(n,"").trim();let i=0;e.length&&(function(n,t){let e=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),nS(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),$F(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){BF(this._element,this._name,"paused")}resume(){BF(this._element,this._name,"running")}setPosition(t){const e=VF(this._element,this._name);this._position=t*this._duration,nS(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),$F(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const i=EI(n,"").split(","),s=SI(i,t);s>=0&&(i.splice(s,1),nS(n,"",i.join(",")))}(this._element,this._name))}}function BF(n,t,e){nS(n,"PlayState",e,VF(n,t))}function VF(n,t){const e=EI(n,"");return e.indexOf(",")>0?SI(e.split(","),t):SI([e],t)}function SI(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function $F(n,t,e){e?n.removeEventListener(LF,t):n.addEventListener(LF,t)}function nS(n,t,e,i){const s=RF+t;if(null!=i){const r=n.style[s];if(r.length){const o=r.split(",");o[i]=e,e=o.join(",")}}n.style[s]=e}function EI(n,t){return n.style[RF+t]||""}class FF{constructor(t,e,i,s,r,o,a,l){this.element=t,this.keyframes=e,this.animationName=i,this._duration=s,this._delay=r,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=s+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new mte(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:cI(this.element,i))})}this.currentSnapshot=t}}class Ete extends qh{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=lF(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class qF{constructor(){this._count=0}validateStyleProperty(t){return XM(t)}matchesElement(t,e){return eI(t,e)}containsElement(t,e){return tI(t,e)}query(t,e,i){return iI(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(a=>lF(a));let s=`@keyframes ${e} {\n`,r="";i.forEach(a=>{r=" ";const l=parseFloat(a.offset);s+=`${r}${100*l}% {\n`,r+=" ",Object.keys(a).forEach(h=>{const f=a[h];switch(h){case"offset":return;case"easing":return void(f&&(s+=`${r}animation-timing-function: ${f};\n`));default:return void(s+=`${r}${h}: ${f};\n`)}}),s+=`${r}}\n`}),s+="}\n";const o=document.createElement("style");return o.textContent=s,o}animate(t,e,i,s,r,o=[],a){const l=o.filter(P=>P instanceof FF),h={};mF(i,s)&&l.forEach(P=>{let O=P.currentSnapshot;Object.keys(O).forEach(I=>h[I]=O[I])});const f=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(s=>{"offset"==s||"easing"==s||(t[s]=i[s])})}),t}(e=vF(t,e,h));if(0==i)return new Ete(t,f);const m="gen_css_kf_"+this._count++,y=this.buildKeyframeElement(t,m,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(y);const C=NF(t,e),T=new FF(t,e,m,i,s,r,f,C);return T.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(y)),T}}class UF{constructor(t,e,i,s){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:cI(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Pte{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(jF().toString()),this._cssKeyframesDriver=new qF}validateStyleProperty(t){return XM(t)}matchesElement(t,e){return eI(t,e)}containsElement(t,e){return tI(t,e)}query(t,e,i){return iI(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,s,r,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,s,r,o);const f={duration:i,delay:s,fill:0==s?"both":"forwards"};r&&(f.easing=r);const m={},y=o.filter(C=>C instanceof UF);mF(i,s)&&y.forEach(C=>{let T=C.currentSnapshot;Object.keys(T).forEach(P=>m[P]=T[P])});const b=NF(t,e=vF(t,e=e.map(C=>el(C,!1)),m));return new UF(t,e,f,b)}}function jF(){return iF()&&Element.prototype.animate||{}}let Tte=(()=>{class n extends V${constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Yt.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?$$(e):e;return WF(this._renderer,null,i,"register",[s]),new xte(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(H(Xl),H(Ze))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();class xte extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Mte(this._id,t,e||{},this._renderer)}}class Mte{constructor(t,e,i,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return WF(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function WF(n,t,e,i,s){return n.setProperty(t,`@@${e}:${i}`,s)}const zF="@.disabled";let Ite=(()=>{class n{constructor(e,i,s){this.delegate=e,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(r,o)=>{o&&o.parentNode(r)&&o.removeChild(r.parentNode,r)}}createRenderer(e,i){const r=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let f=this._rendererCache.get(r);return f||(f=new KF("",r,this.engine),this._rendererCache.set(r,f)),f}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=f=>{Array.isArray(f)?f.forEach(l):this.engine.registerTrigger(o,a,e,f.name,f)};return i.data.animation.forEach(l),new Ote(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,s){e>=0&&e<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(r=>{const[o,a]=r;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(H(Xl),H(iS),H(ze))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();class KF{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,s=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,s){this.delegate.setAttribute(t,e,i,s)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,s){this.delegate.setStyle(t,e,i,s)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==zF?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Ote extends KF{constructor(t,e,i,s){super(e,i,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==zF?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const s=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let r=e.substr(1),o="";return"@"!=r.charAt(0)&&([r,o]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(r)),this.engine.listen(this.namespaceId,s,r,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let Lte=(()=>{class n extends iS{constructor(e,i,s){super(e.body,i,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(H(Ze),H(nI),H(gI))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();const YF=new me("AnimationModuleType"),QF=[{provide:V$,useClass:Tte},{provide:gI,useFactory:function(){return new Gee}},{provide:iS,useClass:Lte},{provide:Xl,useFactory:function(n,t,e){return new Ite(n,t,e)},deps:[Xy,iS,ze]}],JF=[{provide:nI,useFactory:function(){return"function"==typeof jF()?new Pte:new qF}},{provide:YF,useValue:"BrowserAnimations"},...QF],ZF=[{provide:nI,useClass:cF},{provide:YF,useValue:"NoopAnimations"},...QF];let Fte=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?ZF:JF}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ei({type:n}),n.\u0275inj=Ut({providers:JF,imports:[B0]}),n})(),Hte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ei({type:n,bootstrap:[mee]}),n.\u0275inj=Ut({providers:[],imports:[[B0,t7,V2,i7,Fte,wZ,zX]]}),n})();(function(){if(qL)throw new Error("Cannot enable prod mode after platform setup.");HL=!1})(),sW().bootstrapModule(Hte).catch(n=>console.error(n))}},zt=>{zt(zt.s=114)}]);