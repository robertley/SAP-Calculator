"use strict";(self.webpackChunksap_calculator=self.webpackChunksap_calculator||[]).push([[817],{6817(m,c,a){a.d(c,{ExportCalculatorComponent:()=>u});var i=a(9769),p=a(3446),e=a(5547),s=a(3077);let u=(()=>{class l{localStorageService;formGroup;constructor(r){this.localStorageService=r}ngOnInit(){}formGroupValueString(){if(!this.formGroup)return"";try{const t=(0,p.A)(this.formGroup.value),n=[...t.playerPets||[],...t.opponentPets||[]];for(const o of n)o&&(delete o.parent,delete o.logService,delete o.abilityService,delete o.gameService,delete o.petService,o.equipment&&(o.equipment={name:o.equipment.name}));return JSON.stringify(t,null,2)}catch(r){return console.error("Error creating export string:",r),"Error: Could not generate the export data."}}copyToClipboard(){this.localStorageService.setFormStorage(this.formGroup);const r=this.formGroupValueString();r.startsWith("Error:")?alert("Failed to export"):navigator.clipboard.writeText(r).then(()=>{alert("Copied to clipboard")}).catch(t=>{console.error("Clipboard error:",t),alert("Failed to copy to clipboard.")})}static \u0275fac=function(t){return new(t||l)(e.rXU(s.s))};static \u0275cmp=e.VBU({type:l,selectors:[["app-export-calculator"]],inputs:{formGroup:"formGroup"},decls:4,vars:1,consts:[[1,"form-group"],["id","calcCode","rows","8","readonly","",1,"form-control","mb-2","calc-textarea",3,"value"],[1,"btn","btn-primary",3,"click"]],template:function(t,n){1&t&&(e.rj2(0,"div",0),e.Hgh(1,"textarea",1),e.rj2(2,"button",2),e.VwU("click",function(){return n.copyToClipboard()}),e.EFF(3," Copy to Clipboard "),e.eux()()),2&t&&(e.R7$(),e.Avn("value",n.formGroupValueString()))},dependencies:[i.MD],styles:[".calc-textarea[_ngcontent-%COMP%]{min-height:180px;font-family:Courier New,Courier,monospace;white-space:pre;overflow-wrap:normal;overflow:auto;resize:vertical}"]})}return l})()}}]);