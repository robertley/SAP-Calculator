<div class="form-group" [formGroup]="formGroup">
  <div class="text-muted mb-2">
    Paste calculator export code (compressed), calculator JSON, or replay JSON.
    Replay inputs can include Actions, a single battle JSON, or a Pid lookup.
  </div>
  <div class="text-muted mb-2">
    Example Pid: <code>{{ pidExample }}</code>
  </div>
  <textarea
    class="form-control mb-2 calc-textarea"
    id="calcCode"
    rows="8"
    formControlName="calcCode"
  ></textarea>
  <div class="d-flex align-items-end gap-3 flex-wrap mb-2">
    <div>
      <label for="turnNumber" class="form-label">Turn (1-based)</label>
      <input
        id="turnNumber"
        type="number"
        class="form-control"
        min="1"
        formControlName="turn"
      />
    </div>
    <button class="btn btn-primary" (click)="submit()" [disabled]="loading">
      {{ loading ? "Fetching..." : "Import" }}
    </button>
  </div>
  <div class="warning mb-2">
    Warning: This will overwrite any existing custom packs. Any custom packs in
    the import will be added.
  </div>
  <div
    *ngIf="statusMessage"
    class="mb-2"
    [ngClass]="statusTone === 'success' ? 'text-success' : 'text-danger'"
  >
    {{ statusMessage }}
  </div>
  <div *ngIf="errorMessage" class="text-danger mb-2">{{ errorMessage }}</div>
</div>
