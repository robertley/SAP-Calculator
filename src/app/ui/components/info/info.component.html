<h1>Guide</h1>

<p>
  SAP Calculator lets you compare two teams by running many simulated battles and
  reporting estimated win, draw, and loss rates.
</p>

<p>
  <b>Disclaimer:</b> This is a fan-made tool. It is not official and not
  affiliated with the game developers.
</p>

<p>
  The simulator is designed to be very close to game behavior, but edge cases can
  still differ.
</p>

<h2>Quick Start</h2>
<ol>
  <li>Set each side's pack and toys.</li>
  <li>Build both teams on the board (pets, stats, equipment, levels).</li>
  <li>Optionally adjust Advanced Settings for a specific scenario.</li>
  <li>Click <b>Simulate</b>.</li>
  <li>Review summary results, then inspect battles/logs for details.</li>
</ol>

<h2>Top Controls</h2>

<img src="./assets/info/pack.PNG" alt="pack selection" />
<p>
  <b>Pack selectors:</b> Choose <span class="player-side-text">Player</span> and <span class="opponent-side-text">Opponent</span> packs. This determines which
  pets are available in selectors and pack-based summon pools.
</p>

<img src="./assets/info/toy.PNG" alt="toy controls" />
<p>
  <b>Toy controls:</b> Choose each side's toy and toy level. Hard toys can be set
  separately in the main controls.
</p>

<img src="./assets/info/angler.PNG" alt="global toggles" />
<p><b>Global toggles:</b></p>
<ul>
  <li>
    <b>All Pets:</b> Allows selecting from all pets, regardless of pack.
  </li>
  <li><b>Token Pets:</b> Allows selecting token pets directly.</li>
  <li>
    <b>Old Stork:</b> Uses legacy/base-stat stork summon behavior.
  </li>
  <li>
    <b>Komodo Shuffle:</b> Shuffles pets in front of Komodo each battle.
  </li>
  <li><b>Mana:</b> Shows mana fields on pet cards.</li>
</ul>

<img src="./assets/info/zoom.PNG" alt="zoom controls" />
<p><b>Zoom:</b> Changes UI scale for easier viewing.</p>

<img src="./assets/info/advanced.PNG" alt="advanced toggle" />
<p><b>Show/Hide Advanced Settings:</b> Expands scenario-specific controls.</p>

<h2>Advanced Settings</h2>

<img src="./assets/info/advanced-settings.PNG" alt="advanced settings" />
<p>
  Use these fields when you want to reproduce a specific game state instead of a
  generic battle setup.
</p>
<ul>
  <li>
    <b>Turn:</b> Affects turn-dependent effects (for example pets tied to turn
    timing).
  </li>
  <li>
    <b><span class="player-side-text">Player</span>/<span class="opponent-side-text">Opponent</span> Gold Spent:</b> Gold spent in previous shop phase.
  </li>
  <li>
    <b><span class="player-side-text">Player</span>/<span class="opponent-side-text">Opponent</span> Roll Amount:</b> Number of shop rolls.
  </li>
  <li>
    <b><span class="player-side-text">Player</span>/<span class="opponent-side-text">Opponent</span> Lvl 3 Sold:</b> Number of level-3 sells.
  </li>
  <li>
    <b><span class="player-side-text">Player</span>/<span class="opponent-side-text">Opponent</span> Summoned Amt:</b> Number of shop summons.
  </li>
  <li>
    <b><span class="player-side-text">Player</span>/<span class="opponent-side-text">Opponent</span> Transformation Amt:</b> Number of shop transformations.
  </li>
  <li>
    <b>Triggers Consumed / Debug Info / Swallowed Levels:</b> Extra battle and
    debugging controls.
  </li>
</ul>

<h2>Board And Pet Editing</h2>

<img src="./assets/info/board.PNG" alt="battle board" />
<p>
  The left side is <span class="player-side-text">Player</span>; right side is <span class="opponent-side-text">Opponent</span>. Positions match battle order.
  The <span class="player-side-text">Player</span> front unit (right-most on <span class="player-side-text">Player</span> row) clashes with the <span class="opponent-side-text">Opponent</span>
  front unit (left-most on <span class="opponent-side-text">Opponent</span> row).
</p>

<img src="./assets/info/pet.png" alt="pet editor" />
<p>Each pet card lets you edit:</p>
<ul>
  <li><b>Pet selection</b> (which pet occupies the slot).</li>
  <li><b>Equipment selection</b>.</li>
  <li><b>Stats</b> (attack, health, and mana when enabled).</li>
  <li><b>Experience</b> (0 to 5 XP, with level indicators).</li>
  <li><b>Order</b> via drag-and-drop handle.</li>
</ul>

<h2>Simulation And Tools</h2>

<img src="assets/info/simulate.PNG" alt="simulate controls" />
<ul>
  <li><b>Simulate:</b> Runs the selected number of battles.</li>
  <li><b>Randomize:</b> Randomizes teams and equipment.</li>
  <li><b>Undo Randomize:</b> Restores state before the last randomize.</li>
</ul>

<img src="assets/info/report-bug.PNG" alt="utility controls" />
<ul>
  <li><b>Report A Bug:</b> Opens bug-report form with calculator context.</li>
  <li>
    <b>Export:</b> Copies a compressed calculator export code to clipboard.
  </li>
  <li>
    <b>Import:</b> Loads exported calculator JSON or replay-derived input.
  </li>
  <li>
    <b>Generate Link:</b> Copies a shareable link containing current setup.
  </li>
</ul>

<h2>Reading Results</h2>

<img src="assets/info/outcome.PNG" alt="outcome summary" />
<p>
  Summary shows total <span class="player-side-text">Player</span> wins, draws, and <span class="opponent-side-text">Opponent</span> wins from the last
  simulation run.
</p>

<img src="assets/info/battles.PNG" alt="battles table" />
<p>
  Battles table lists simulated fights and supports filtering by result type.
</p>

<img src="assets/info/logs.PNG" alt="battle logs" />
<p>
  Logs show detailed events for the selected battle. <span class="player-side-text">Player</span> events are green,
  <span class="opponent-side-text">Opponent</span> events are red, and random/system events are highlighted separately.
  Not every internal engine step is always shown.
</p>

<h2>Troubleshooting</h2>
<ul>
  <li>
    If results look wrong, verify <b>turn</b>, <b>advanced fields</b>, and
    <b>pet order</b> first.
  </li>
  <li>
    If imports fail, ensure valid JSON and that replay payloads are complete.
  </li>
  <li>
    If a shared link does not load, regenerate it from the current state and try
    again.
  </li>
</ul>
